{"items":[{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1699762616,"post_id":77467693,"comment_id":136571301,"body_markdown":"Create a `ChildFactory` class which has a singleton instance which you pass to the `Parent` constructor. Create a mock `ChildFactory` which created mocked `Child` objects.","body":"Create a <code>ChildFactory</code> class which has a singleton instance which you pass to the <code>Parent</code> constructor. Create a mock <code>ChildFactory</code> which created mocked <code>Child</code> objects."},{"owner":{"account_id":1278736,"reputation":7363,"user_id":1233359,"accept_rate":73,"display_name":"Dreamer"},"score":0,"creation_date":1699763056,"post_id":77467693,"comment_id":136571322,"body_markdown":"@tgdavies thanks! Does it mean the Parent-Child implementation need to change just to fit the unit test framework?","body":"@tgdavies thanks! Does it mean the Parent-Child implementation need to change just to fit the unit test framework?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699763207,"post_id":77467693,"comment_id":136571329,"body_markdown":"Yes, to make code easily testable with mocks you want to avoid calling `new` directly.","body":"Yes, to make code easily testable with mocks you want to avoid calling <code>new</code> directly."},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":1,"creation_date":1699767410,"post_id":77467693,"comment_id":136571532,"body_markdown":"You might want to read up on the topic of dependency injection.","body":"You might want to read up on the topic of dependency injection."},{"owner":{"account_id":1278736,"reputation":7363,"user_id":1233359,"accept_rate":73,"display_name":"Dreamer"},"score":0,"creation_date":1699767880,"post_id":77467693,"comment_id":136571554,"body_markdown":"@Gene DI through Spring Framework like bean ?","body":"@Gene DI through Spring Framework like bean ?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1699783578,"post_id":77467693,"comment_id":136572571,"body_markdown":"What is `withdraw` mentioned in the comment? Do you need to swap `Child` with a test double or could you only replace the DB with a test double and still use the real `Child`? How does `Child` access the DB?","body":"What is <code>withdraw</code> mentioned in the comment? Do you need to swap <code>Child</code> with a test double or could you only replace the DB with a test double and still use the real <code>Child</code>? How does <code>Child</code> access the DB?"}],"owner":{"account_id":1278736,"reputation":7363,"user_id":1233359,"accept_rate":73,"display_name":"Dreamer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699767228,"creation_date":1699761495,"question_id":77467693,"body_markdown":"Considering following design, `Parent` has a field of `Child` instance, which is initiated in Parent&#39;s constructor, by its own constructor. Then to unit test the `thanksGivingVisit()` method from Parent class, I need to mock the child object, However I am facing challenge to implement it by Mockito. \r\n\r\nI go over a few online resources regarding using `MockedConstruction`, I think I can mock the `child` object with it but still not sure how to inject it to `Parent` class\r\n\r\nBTW, I am using Mockito 4.5 and can&#39;t replace it with PowerMock or other framework.\r\n\r\n\r\n    public class Parent{\r\n\r\n        private Child child;\r\n\r\n        public Parent(Legacy legacy, Config config){\r\n            child = new Child(legacy, config.getBirthCertificate());\r\n        }\r\n\r\n        public Result thanksGivingVisit(){\r\n            \r\n            // let&#39;s mock the result to avoid DB transaction in the `withdraw` method\r\n            // however, how to mock child object?\r\n            Int amount = child.withDrawFromBackAccount();\r\n            \r\n            // use amount to calculate Result object...\r\n        }\r\n    }\r\n\r\n","title":"How to mock a field which is created by constructor within a constructor","body":"<p>Considering following design, <code>Parent</code> has a field of <code>Child</code> instance, which is initiated in Parent's constructor, by its own constructor. Then to unit test the <code>thanksGivingVisit()</code> method from Parent class, I need to mock the child object, However I am facing challenge to implement it by Mockito.</p>\n<p>I go over a few online resources regarding using <code>MockedConstruction</code>, I think I can mock the <code>child</code> object with it but still not sure how to inject it to <code>Parent</code> class</p>\n<p>BTW, I am using Mockito 4.5 and can't replace it with PowerMock or other framework.</p>\n<pre><code>public class Parent{\n\n    private Child child;\n\n    public Parent(Legacy legacy, Config config){\n        child = new Child(legacy, config.getBirthCertificate());\n    }\n\n    public Result thanksGivingVisit(){\n        \n        // let's mock the result to avoid DB transaction in the `withdraw` method\n        // however, how to mock child object?\n        Int amount = child.withDrawFromBackAccount();\n        \n        // use amount to calculate Result object...\n    }\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","amazon-sqs","sqslistener"],"owner":{"account_id":5853596,"reputation":1232,"user_id":4611561,"accept_rate":33,"display_name":"Pradeep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699766130,"creation_date":1699589895,"question_id":77457679,"body_markdown":"Am trying to achieve exactly what the below link is trying to do.\r\n\r\nhttps://stackoverflow.com/questions/53751378/amazon-sqs-async-listener-for-the-extended-client-library-using-spring-jmslisten\r\n\r\nI couldn&#39;t find AmazonS3Client and AmazonSQSAsync class using below example. Did any get to this point ?\r\n\r\n    @Bean\r\n    public ConnectionFactory connectionFactory(final AmazonS3Client amazonS3Client, final AmazonSQSAsync amazonSqs) {\r\n        final ExtendedClientConfiguration extendedClientConfig = new ExtendedClientConfiguration()\r\n                .withLargePayloadSupportEnabled(amazonS3Client, &quot;my-bucket-name&quot;);\r\n    \r\n        final ProviderConfiguration providerConfiguration = new ProviderConfiguration();\r\n        providerConfiguration.setNumberOfMessagesToPrefetch(10);\r\n    \r\n        final SQSConnectionFactory sqsConnectionFactory = new SQSConnectionFactory(providerConfiguration,\r\n                new AmazonSQSExtendedClient(amazonSqs, extendedClientConfig));\r\n    \r\n        return sqsConnectionFactory\r\n    }\r\n\r\nCould someone help answering this question. Is there similar thing anyone faced ?\r\nHelp Appreciated!","title":"How to use AWS SQSExtendedClient library to make it work asynchrously using JMSListener java","body":"<p>Am trying to achieve exactly what the below link is trying to do.</p>\n<p><a href=\"https://stackoverflow.com/questions/53751378/amazon-sqs-async-listener-for-the-extended-client-library-using-spring-jmslisten\">Amazon SQS Async Listener for the Extended Client Library using Spring JmsListener</a></p>\n<p>I couldn't find AmazonS3Client and AmazonSQSAsync class using below example. Did any get to this point ?</p>\n<pre><code>@Bean\npublic ConnectionFactory connectionFactory(final AmazonS3Client amazonS3Client, final AmazonSQSAsync amazonSqs) {\n    final ExtendedClientConfiguration extendedClientConfig = new ExtendedClientConfiguration()\n            .withLargePayloadSupportEnabled(amazonS3Client, &quot;my-bucket-name&quot;);\n\n    final ProviderConfiguration providerConfiguration = new ProviderConfiguration();\n    providerConfiguration.setNumberOfMessagesToPrefetch(10);\n\n    final SQSConnectionFactory sqsConnectionFactory = new SQSConnectionFactory(providerConfiguration,\n            new AmazonSQSExtendedClient(amazonSqs, extendedClientConfig));\n\n    return sqsConnectionFactory\n}\n</code></pre>\n<p>Could someone help answering this question. Is there similar thing anyone faced ?\nHelp Appreciated!</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","spring-boot-actuator"],"comments":[{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":0,"creation_date":1677254871,"post_id":75558259,"comment_id":133307685,"body_markdown":"I think the property should have value: `spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver`","body":"I think the property should have value: <code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver</code>"},{"owner":{"account_id":27813148,"reputation":13,"user_id":21235144,"display_name":"Dark Night"},"score":0,"creation_date":1677259368,"post_id":75558259,"comment_id":133308922,"body_markdown":"I tried this, but it didn&#39;t work, i think theres is no need of writing cj. as it says the new driver class is automatically registered via SPI","body":"I tried this, but it didn&#39;t work, i think theres is no need of writing cj. as it says the new driver class is automatically registered via SPI"},{"owner":{"account_id":27813148,"reputation":13,"user_id":21235144,"display_name":"Dark Night"},"score":0,"creation_date":1677259433,"post_id":75558259,"comment_id":133308935,"body_markdown":"error occurs after i add actuator dependency.","body":"error occurs after i add actuator dependency."}],"answers":[{"tags":[],"owner":{"account_id":3829738,"reputation":543,"user_id":3254762,"display_name":"Alessandro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681054926,"creation_date":1681054926,"answer_id":75971445,"question_id":75558259,"body_markdown":"I deleted the following code:\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nin dependencies in maven file (pom.xml) Worked for me.\r\n\r\n","title":"org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name &#39;webMvcMetricsFilter&#39; defined in class","body":"<p>I deleted the following code:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>in dependencies in maven file (pom.xml) Worked for me.</p>\n"}],"owner":{"account_id":27813148,"reputation":13,"user_id":21235144,"display_name":"Dark Night"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8943,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699765405,"creation_date":1677251834,"question_id":75558259,"body_markdown":"Error in console:\r\n\r\n    2023-02-24 09:37:19.082 ERROR 41612 --- [  restartedMain] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name &#39;webMvcMetricsFilter&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/web/servlet/WebMvcMetricsAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;webMvcMetricsFilter&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;simpleMeterRegistry&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/export/simple/SimpleMetricsExportAutoConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourcePoolMetadataMeterBinder&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/jdbc/DataSourcePoolMetricsAutoConfiguration$DataSourcePoolMetadataMetricsConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourcePoolMetadataMeterBinder&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n    2023-02-24 09:37:19.349  INFO 41612 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2023-02-24 09:37:19.705  WARN 41612 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n    2023-02-24 09:37:19.837  INFO 41612 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2023-02-24 09:37:19.970 ERROR 41612 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n\r\nDescription:\r\n\r\n    Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n\r\nReason: *Failed to determine a suitable driver class*\r\n\r\n\r\nAction:\r\n\r\nConsider the following:\r\n\t\r\n\r\n    If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n    If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\r\n\r\nPOM.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.car&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;car&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;car-demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-actuator --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\napplication.properties\r\n\r\n```\r\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\nspring.datasource.url=jdbc:mysql://127.0.0.1:3306/cardb\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\nspring.datasource.tomcat.max-wait=20000\r\nspring.datasource.tomcat.max-active=50\r\nspring.datasource.tomcat.max-idle=20\r\nspring.datasource.tomcat.min-idle=15\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\r\nspring.jpa.properties.hibernate.id.new_generator_mappings = false\r\nspring.jpa.properties.hibernate.format_sql = true\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\n```\r\n\r\n\r\n\r\n\r\nmain function\r\napplication.java\r\n```\r\npackage com.car;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class CarDemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(CarDemoApplication.class, args);\r\n\t\tSystem.out.println(&quot;hello from car&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nI tried removing some of  the dependencies, but it didnt worked for me [this solution](https://stackoverflow.com/questions/60023762/zipkin-error-error-creating-bean-with-name-webmvcmetricsfilter-defined-in-clas).","title":"org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name &#39;webMvcMetricsFilter&#39; defined in class","body":"<p>Error in console:</p>\n<pre><code>2023-02-24 09:37:19.082 ERROR 41612 --- [  restartedMain] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'webMvcMetricsFilter' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/web/servlet/WebMvcMetricsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'webMvcMetricsFilter' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'simpleMeterRegistry' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/export/simple/SimpleMetricsExportAutoConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourcePoolMetadataMeterBinder' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/jdbc/DataSourcePoolMetricsAutoConfiguration$DataSourcePoolMetadataMetricsConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourcePoolMetadataMeterBinder' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n2023-02-24 09:37:19.349  INFO 41612 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-02-24 09:37:19.705  WARN 41612 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n2023-02-24 09:37:19.837  INFO 41612 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-02-24 09:37:19.970 ERROR 41612 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n</code></pre>\n<p>Description:</p>\n<pre><code>Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n</code></pre>\n<p>Reason: <em>Failed to determine a suitable driver class</em></p>\n<p>Action:</p>\n<p>Consider the following:</p>\n<pre><code>If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\nIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\n</code></pre>\n<p>POM.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.car&lt;/groupId&gt;\n    &lt;artifactId&gt;car&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;car-demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-actuator --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;version&gt;2.7.8&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.datasource.url=jdbc:mysql://127.0.0.1:3306/cardb\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.tomcat.max-wait=20000\nspring.datasource.tomcat.max-active=50\nspring.datasource.tomcat.max-idle=20\nspring.datasource.tomcat.min-idle=15\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\nspring.jpa.properties.hibernate.id.new_generator_mappings = false\nspring.jpa.properties.hibernate.format_sql = true\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\n</code></pre>\n<p>main function\napplication.java</p>\n<pre><code>package com.car;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class CarDemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CarDemoApplication.class, args);\n        System.out.println(&quot;hello from car&quot;);\n    }\n}\n</code></pre>\n<p>I tried removing some of  the dependencies, but it didnt worked for me <a href=\"https://stackoverflow.com/questions/60023762/zipkin-error-error-creating-bean-with-name-webmvcmetricsfilter-defined-in-clas\">this solution</a>.</p>\n"},{"tags":["java","sqlite","haversine"],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699763727,"creation_date":1699763727,"answer_id":77467752,"question_id":77459374,"body_markdown":"The _[Android SDK](https://source.android.com/)_ includes a _[Location](https://developer.android.com/reference/android/location/Location)_ class, which computes the _[Haversine formula](https://en.wikipedia.org/wiki/Haversine_formula)_.\r\n\r\nHere is the source code.\r\n\r\n- _[Google &amp;ndash; java/android/location/Location.java](https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/location/java/android/location/Location.java)_\r\n- _[Android Code Search &amp;ndash; Location.java](https://cs.android.com/android/platform/superproject/main/+/main:frameworks/base/location/java/android/location/Location.java;l=1?q=Location.java)_\r\n\r\nThe method is titled, _&quot;distanceBetween&quot;_, and utilizes a _private_ _&quot;computeDistanceAndBearing&quot;_ method.\\\r\nAnd, the computed values are, distance in meters, initial bearing, and final bearing.\r\n\r\nHere is a ported version.\\\r\nI&#39;ve removed the _BearingDistanceCache_ argument, and adjusted it to return a _double array_.\r\n\r\n```java\r\ndouble[] computeDistanceAndBearing(double lat1, double lon1, double lat2, double lon2) {\r\n    // Based on http://www.ngs.noaa.gov/PUBS_LIB/inverse.pdf\r\n    // using the &quot;Inverse Formula&quot; (section 4)\r\n\r\n    // Convert lat/long to radians\r\n    lat1 *= Math.PI / 180.0;\r\n    lat2 *= Math.PI / 180.0;\r\n    lon1 *= Math.PI / 180.0;\r\n    lon2 *= Math.PI / 180.0;\r\n\r\n    double a = 6378137.0; // WGS84 major axis\r\n    double b = 6356752.3142; // WGS84 semi-major axis\r\n    double f = (a - b) / a;\r\n    double aSqMinusBSqOverBSq = (a * a - b * b) / (b * b);\r\n\r\n    double l = lon2 - lon1;\r\n    double aA = 0.0;\r\n    double u1 = Math.atan((1.0 - f) * Math.tan(lat1));\r\n    double u2 = Math.atan((1.0 - f) * Math.tan(lat2));\r\n\r\n    double cosU1 = Math.cos(u1);\r\n    double cosU2 = Math.cos(u2);\r\n    double sinU1 = Math.sin(u1);\r\n    double sinU2 = Math.sin(u2);\r\n    double cosU1cosU2 = cosU1 * cosU2;\r\n    double sinU1sinU2 = sinU1 * sinU2;\r\n\r\n    double sigma = 0.0;\r\n    double deltaSigma = 0.0;\r\n    double cosSqAlpha;\r\n    double cos2SM;\r\n    double cosSigma;\r\n    double sinSigma;\r\n    double cosLambda = 0.0;\r\n    double sinLambda = 0.0;\r\n\r\n    double lambda = l; // initial guess\r\n    for (int iter = 0; iter &lt; 20; iter++) {\r\n        double lambdaOrig = lambda;\r\n        cosLambda = Math.cos(lambda);\r\n        sinLambda = Math.sin(lambda);\r\n        double t1 = cosU2 * sinLambda;\r\n        double t2 = cosU1 * sinU2 - sinU1 * cosU2 * cosLambda;\r\n        double sinSqSigma = t1 * t1 + t2 * t2;\r\n        sinSigma = Math.sqrt(sinSqSigma);\r\n        cosSigma = sinU1sinU2 + cosU1cosU2 * cosLambda;\r\n        sigma = Math.atan2(sinSigma, cosSigma);\r\n        double sinAlpha = (sinSigma == 0) ? 0.0 :\r\n            cosU1cosU2 * sinLambda / sinSigma;\r\n        cosSqAlpha = 1.0 - sinAlpha * sinAlpha;\r\n        cos2SM = (cosSqAlpha == 0) ? 0.0 : cosSigma - 2.0 * sinU1sinU2 / cosSqAlpha;\r\n\r\n        double uSquared = cosSqAlpha * aSqMinusBSqOverBSq;\r\n        aA = 1 + (uSquared / 16384.0) * (4096.0 + uSquared * (-768 + uSquared * (320.0\r\n            - 175.0 * uSquared)));\r\n        double bB = (uSquared / 1024.0) * (256.0 + uSquared * (-128.0 + uSquared * (74.0\r\n            - 47.0 * uSquared)));\r\n        double cC = (f / 16.0) * cosSqAlpha * (4.0 + f * (4.0 - 3.0 * cosSqAlpha));\r\n        double cos2SMSq = cos2SM * cos2SM;\r\n        deltaSigma = bB * sinSigma * (cos2SM + (bB / 4.0) * (cosSigma * (-1.0 + 2.0 * cos2SMSq)\r\n            - (bB / 6.0) * cos2SM * (-3.0 + 4.0 * sinSigma * sinSigma) * (-3.0\r\n            + 4.0 * cos2SMSq)));\r\n\r\n        lambda = l + (1.0 - cC) * f * sinAlpha * (sigma + cC * sinSigma * (cos2SM\r\n            + cC * cosSigma * (-1.0 + 2.0 * cos2SM * cos2SM)));\r\n\r\n        double delta = (lambda - lambdaOrig) / lambda;\r\n        if (Math.abs(delta) &lt; 1.0e-12) {\r\n            break;\r\n        }\r\n    }\r\n\r\n    float mDistance, mInitialBearing, mFinalBearing;\r\n    mDistance = (float) (b * aA * (sigma - deltaSigma));\r\n    float initialBearing = (float) Math.atan2(cosU2 * sinLambda,\r\n        cosU1 * sinU2 - sinU1 * cosU2 * cosLambda);\r\n    initialBearing = (float) (initialBearing * (180.0 / Math.PI));\r\n    mInitialBearing = initialBearing;\r\n    float finalBearing = (float) Math.atan2(cosU1 * sinLambda,\r\n        -sinU1 * cosU2 + cosU1 * sinU2 * cosLambda);\r\n    finalBearing = (float) (finalBearing * (180.0 / Math.PI));\r\n    mFinalBearing = finalBearing;\r\n\r\n    return new double[] { mDistance, mInitialBearing, mFinalBearing };\r\n}\r\n```\r\n\r\nHere is an example usage.\\\r\nAccording to a few sources, the distance from _New York City_ to _Los Angeles_ is approximately, 3,934 km.\r\n\r\n```java\r\ndouble[] nyc = { 40.712778, -74.006111 };\r\ndouble[] la = { 34.05, -118.25 };\r\ndouble[] x = computeDistanceAndBearing(nyc[0], nyc[1], la[0], la[1]);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[3945043.75, -86.26732635498047, -114.04286193847656]\r\n```","title":"Invalid distance calculation using Haversine formula","body":"<p>The <em><a href=\"https://source.android.com/\" rel=\"nofollow noreferrer\">Android SDK</a></em> includes a <em><a href=\"https://developer.android.com/reference/android/location/Location\" rel=\"nofollow noreferrer\">Location</a></em> class, which computes the <em><a href=\"https://en.wikipedia.org/wiki/Haversine_formula\" rel=\"nofollow noreferrer\">Haversine formula</a></em>.</p>\n<p>Here is the source code.</p>\n<ul>\n<li><em><a href=\"https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/location/java/android/location/Location.java\" rel=\"nofollow noreferrer\">Google – java/android/location/Location.java</a></em></li>\n<li><em><a href=\"https://cs.android.com/android/platform/superproject/main/+/main:frameworks/base/location/java/android/location/Location.java;l=1?q=Location.java\" rel=\"nofollow noreferrer\">Android Code Search – Location.java</a></em></li>\n</ul>\n<p>The method is titled, <em>&quot;distanceBetween&quot;</em>, and utilizes a <em>private</em> <em>&quot;computeDistanceAndBearing&quot;</em> method.<br />\nAnd, the computed values are, distance in meters, initial bearing, and final bearing.</p>\n<p>Here is a ported version.<br />\nI've removed the <em>BearingDistanceCache</em> argument, and adjusted it to return a <em>double array</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>double[] computeDistanceAndBearing(double lat1, double lon1, double lat2, double lon2) {\n    // Based on http://www.ngs.noaa.gov/PUBS_LIB/inverse.pdf\n    // using the &quot;Inverse Formula&quot; (section 4)\n\n    // Convert lat/long to radians\n    lat1 *= Math.PI / 180.0;\n    lat2 *= Math.PI / 180.0;\n    lon1 *= Math.PI / 180.0;\n    lon2 *= Math.PI / 180.0;\n\n    double a = 6378137.0; // WGS84 major axis\n    double b = 6356752.3142; // WGS84 semi-major axis\n    double f = (a - b) / a;\n    double aSqMinusBSqOverBSq = (a * a - b * b) / (b * b);\n\n    double l = lon2 - lon1;\n    double aA = 0.0;\n    double u1 = Math.atan((1.0 - f) * Math.tan(lat1));\n    double u2 = Math.atan((1.0 - f) * Math.tan(lat2));\n\n    double cosU1 = Math.cos(u1);\n    double cosU2 = Math.cos(u2);\n    double sinU1 = Math.sin(u1);\n    double sinU2 = Math.sin(u2);\n    double cosU1cosU2 = cosU1 * cosU2;\n    double sinU1sinU2 = sinU1 * sinU2;\n\n    double sigma = 0.0;\n    double deltaSigma = 0.0;\n    double cosSqAlpha;\n    double cos2SM;\n    double cosSigma;\n    double sinSigma;\n    double cosLambda = 0.0;\n    double sinLambda = 0.0;\n\n    double lambda = l; // initial guess\n    for (int iter = 0; iter &lt; 20; iter++) {\n        double lambdaOrig = lambda;\n        cosLambda = Math.cos(lambda);\n        sinLambda = Math.sin(lambda);\n        double t1 = cosU2 * sinLambda;\n        double t2 = cosU1 * sinU2 - sinU1 * cosU2 * cosLambda;\n        double sinSqSigma = t1 * t1 + t2 * t2;\n        sinSigma = Math.sqrt(sinSqSigma);\n        cosSigma = sinU1sinU2 + cosU1cosU2 * cosLambda;\n        sigma = Math.atan2(sinSigma, cosSigma);\n        double sinAlpha = (sinSigma == 0) ? 0.0 :\n            cosU1cosU2 * sinLambda / sinSigma;\n        cosSqAlpha = 1.0 - sinAlpha * sinAlpha;\n        cos2SM = (cosSqAlpha == 0) ? 0.0 : cosSigma - 2.0 * sinU1sinU2 / cosSqAlpha;\n\n        double uSquared = cosSqAlpha * aSqMinusBSqOverBSq;\n        aA = 1 + (uSquared / 16384.0) * (4096.0 + uSquared * (-768 + uSquared * (320.0\n            - 175.0 * uSquared)));\n        double bB = (uSquared / 1024.0) * (256.0 + uSquared * (-128.0 + uSquared * (74.0\n            - 47.0 * uSquared)));\n        double cC = (f / 16.0) * cosSqAlpha * (4.0 + f * (4.0 - 3.0 * cosSqAlpha));\n        double cos2SMSq = cos2SM * cos2SM;\n        deltaSigma = bB * sinSigma * (cos2SM + (bB / 4.0) * (cosSigma * (-1.0 + 2.0 * cos2SMSq)\n            - (bB / 6.0) * cos2SM * (-3.0 + 4.0 * sinSigma * sinSigma) * (-3.0\n            + 4.0 * cos2SMSq)));\n\n        lambda = l + (1.0 - cC) * f * sinAlpha * (sigma + cC * sinSigma * (cos2SM\n            + cC * cosSigma * (-1.0 + 2.0 * cos2SM * cos2SM)));\n\n        double delta = (lambda - lambdaOrig) / lambda;\n        if (Math.abs(delta) &lt; 1.0e-12) {\n            break;\n        }\n    }\n\n    float mDistance, mInitialBearing, mFinalBearing;\n    mDistance = (float) (b * aA * (sigma - deltaSigma));\n    float initialBearing = (float) Math.atan2(cosU2 * sinLambda,\n        cosU1 * sinU2 - sinU1 * cosU2 * cosLambda);\n    initialBearing = (float) (initialBearing * (180.0 / Math.PI));\n    mInitialBearing = initialBearing;\n    float finalBearing = (float) Math.atan2(cosU1 * sinLambda,\n        -sinU1 * cosU2 + cosU1 * sinU2 * cosLambda);\n    finalBearing = (float) (finalBearing * (180.0 / Math.PI));\n    mFinalBearing = finalBearing;\n\n    return new double[] { mDistance, mInitialBearing, mFinalBearing };\n}\n</code></pre>\n<p>Here is an example usage.<br />\nAccording to a few sources, the distance from <em>New York City</em> to <em>Los Angeles</em> is approximately, 3,934 km.</p>\n<pre class=\"lang-java prettyprint-override\"><code>double[] nyc = { 40.712778, -74.006111 };\ndouble[] la = { 34.05, -118.25 };\ndouble[] x = computeDistanceAndBearing(nyc[0], nyc[1], la[0], la[1]);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[3945043.75, -86.26732635498047, -114.04286193847656]\n</code></pre>\n"}],"owner":{"account_id":17037384,"reputation":3,"user_id":12326134,"display_name":"elfxea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77467752,"answer_count":1,"score":0,"last_activity_date":1699763727,"creation_date":1699612932,"question_id":77459374,"body_markdown":"**DISCLAIMER**\r\nThis is a hometask. Please, don&#39;t take it serious or think about this problem for more than 2 seconds. It&#39;s just not worth it. I&#39;m sorry.\r\n\r\nI am trying to calculate the approximate distance of the route. In the getPoints method I am requesting all the route points from the database and writing them into the array. This part works well and as expected. Here you can see the code snippet:\r\n\r\n```\r\npublic ArrayList&lt;Double&gt; getPoints() {\r\n    ArrayList&lt;Double&gt; location = new ArrayList&lt;&gt;();\r\n    SQLiteDatabase db = this.getReadableDatabase();\r\n    Cursor cursor = db.rawQuery(&quot;select latitude,longitude from &quot; + Table_Name_Location, null);\r\n    if (cursor.getCount() &gt; 0) {\r\n        while (cursor.moveToNext()) {\r\n            Double latitude = cursor.getDouble(cursor.getColumnIndex(&quot;Lat&quot;));\r\n            Double longitude = cursor.getDouble(cursor.getColumnIndex(&quot;Longi&quot;));\r\n            location.add(latitude);\r\n            location.add(longitude);\r\n        }\r\n    }\r\n    cursor.close();\r\n    return location;\r\n}\r\n\r\nprivate double distance(double lat1, double lon1, double lat2, double lon2) {\r\n    double theta = lon1 - lon2;\r\n    double dist = Math.sin(deg2rad(lat1))\r\n            * Math.sin(deg2rad(lat2))\r\n            + Math.cos(deg2rad(lat1))\r\n            * Math.cos(deg2rad(lat2))\r\n            * Math.cos(deg2rad(theta));\r\n    dist = Math.acos(dist);\r\n    dist = rad2deg(dist);\r\n    dist = dist * 60 * 1.1515;\r\n    return (dist);\r\n}\r\n\r\nprivate double deg2rad(double deg) {\r\n    return (deg * Math.PI / 180.0);\r\n}\r\n\r\nprivate double rad2deg(double rad) {\r\n    return (rad * 180.0 / Math.PI);\r\n}\r\n\r\n```\r\n\r\n\r\nHowever, when the time comes to the calculating the distance itself the problem occurs. For some reason the Haversine formula calculates the distances incorrectly. I recon, that the problem somewhere in the distance method, but cannot identify it myself. I&#39;ve compared my implementation of Haversine formula, but haven’t found any differences with the original one.","title":"Invalid distance calculation using Haversine formula","body":"<p><strong>DISCLAIMER</strong>\nThis is a hometask. Please, don't take it serious or think about this problem for more than 2 seconds. It's just not worth it. I'm sorry.</p>\n<p>I am trying to calculate the approximate distance of the route. In the getPoints method I am requesting all the route points from the database and writing them into the array. This part works well and as expected. Here you can see the code snippet:</p>\n<pre><code>public ArrayList&lt;Double&gt; getPoints() {\n    ArrayList&lt;Double&gt; location = new ArrayList&lt;&gt;();\n    SQLiteDatabase db = this.getReadableDatabase();\n    Cursor cursor = db.rawQuery(&quot;select latitude,longitude from &quot; + Table_Name_Location, null);\n    if (cursor.getCount() &gt; 0) {\n        while (cursor.moveToNext()) {\n            Double latitude = cursor.getDouble(cursor.getColumnIndex(&quot;Lat&quot;));\n            Double longitude = cursor.getDouble(cursor.getColumnIndex(&quot;Longi&quot;));\n            location.add(latitude);\n            location.add(longitude);\n        }\n    }\n    cursor.close();\n    return location;\n}\n\nprivate double distance(double lat1, double lon1, double lat2, double lon2) {\n    double theta = lon1 - lon2;\n    double dist = Math.sin(deg2rad(lat1))\n            * Math.sin(deg2rad(lat2))\n            + Math.cos(deg2rad(lat1))\n            * Math.cos(deg2rad(lat2))\n            * Math.cos(deg2rad(theta));\n    dist = Math.acos(dist);\n    dist = rad2deg(dist);\n    dist = dist * 60 * 1.1515;\n    return (dist);\n}\n\nprivate double deg2rad(double deg) {\n    return (deg * Math.PI / 180.0);\n}\n\nprivate double rad2deg(double rad) {\n    return (rad * 180.0 / Math.PI);\n}\n\n</code></pre>\n<p>However, when the time comes to the calculating the distance itself the problem occurs. For some reason the Haversine formula calculates the distances incorrectly. I recon, that the problem somewhere in the distance method, but cannot identify it myself. I've compared my implementation of Haversine formula, but haven’t found any differences with the original one.</p>\n"},{"tags":["java","hibernate","mapstruct"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1692199231,"post_id":76914789,"comment_id":135591940,"body_markdown":"Could you add a Mapstruct `Mapper` sample to the question?","body":"Could you add a Mapstruct <code>Mapper</code> sample to the question?"},{"owner":{"account_id":3274297,"reputation":1267,"user_id":2756820,"accept_rate":96,"display_name":"Ram"},"score":0,"creation_date":1692199515,"post_id":76914789,"comment_id":135592026,"body_markdown":"@zforgo Added the sample","body":"@zforgo Added the sample"}],"answers":[{"tags":[],"owner":{"account_id":6607377,"reputation":97,"user_id":5103788,"display_name":"Pancham Goyal"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692206677,"creation_date":1692206677,"answer_id":76915792,"question_id":76914789,"body_markdown":"The error message you&#39;re encountering, &quot;Couldn&#39;t find any of the CDI or Jakarta CDI Dependency types,&quot; suggests that there is a conflict or missing configuration related to CDI (Contexts and Dependency Injection) in your project.\r\n\r\nAs of Hibernate 6, CDI is a required part of the core Hibernate framework. If you&#39;re encountering this error, it likely indicates that there is a compatibility issue with your setup, such as:\r\n\r\n1. Dependency Conflicts: There might be conflicting versions of CDI or related libraries in your classpath.\r\n\r\n2. Missing Dependency: Your project might be missing the appropriate CDI or Jakarta CDI dependencies.\r\n\r\nTo address this issue, you can below the below steps:\r\n\r\n1. Gradle provides a useful plugin called &quot;Dependency Insights&quot; that helps you analyze and visualize dependency conflicts. To use this plugin, add the following to your `build.gradle`\r\n```\r\nplugins {\r\n    id &quot;com.gradle.plugin-publish&quot; version &quot;0.16.1&quot; // Required for some plugins to work\r\n    id &quot;com.github.ben-manes.versions&quot; version &quot;0.36.0&quot;\r\n}\r\n\r\n```\r\n\r\nAfter applying the plugin, you can run below command:\r\n```\r\n./gradlew dependencyInsight --dependency conflicting-module\r\n\r\n```\r\n\r\n2. If you need to force a specific version of a dependency to resolve conflicts, you can use the resolutionStrategy in your `build.gradle` file like below:\r\n```\r\nconfigurations.all {\r\n    resolutionStrategy.force &#39;com.example:conflicting-module:desired-version&#39;\r\n}\r\n```\r\n\r\n3. You may also consider excluding a specific transitive dependency in your build.gradle like below:\r\n\r\n```\r\nimplementation (group: &#39;org.hibernate.orm&#39;, name: &#39;hibernate-core&#39;, version: &#39;6.2.7.Final&#39;) {\r\n    exclude group: &#39;javax.enterprise&#39;, module: &#39;cdi-api&#39;\r\n}\r\n\r\n```\r\n\r\nThat should most hopefully resolve your issue. Please do let me know if the issue still persists.","title":"How to fix error: Couldn&#39;t find any of the CDI or Jakarta CDI Dependency types. Are you missing a dependency on your classpath?","body":"<p>The error message you're encountering, &quot;Couldn't find any of the CDI or Jakarta CDI Dependency types,&quot; suggests that there is a conflict or missing configuration related to CDI (Contexts and Dependency Injection) in your project.</p>\n<p>As of Hibernate 6, CDI is a required part of the core Hibernate framework. If you're encountering this error, it likely indicates that there is a compatibility issue with your setup, such as:</p>\n<ol>\n<li><p>Dependency Conflicts: There might be conflicting versions of CDI or related libraries in your classpath.</p>\n</li>\n<li><p>Missing Dependency: Your project might be missing the appropriate CDI or Jakarta CDI dependencies.</p>\n</li>\n</ol>\n<p>To address this issue, you can below the below steps:</p>\n<ol>\n<li>Gradle provides a useful plugin called &quot;Dependency Insights&quot; that helps you analyze and visualize dependency conflicts. To use this plugin, add the following to your <code>build.gradle</code></li>\n</ol>\n<pre><code>plugins {\n    id &quot;com.gradle.plugin-publish&quot; version &quot;0.16.1&quot; // Required for some plugins to work\n    id &quot;com.github.ben-manes.versions&quot; version &quot;0.36.0&quot;\n}\n\n</code></pre>\n<p>After applying the plugin, you can run below command:</p>\n<pre><code>./gradlew dependencyInsight --dependency conflicting-module\n\n</code></pre>\n<ol start=\"2\">\n<li>If you need to force a specific version of a dependency to resolve conflicts, you can use the resolutionStrategy in your <code>build.gradle</code> file like below:</li>\n</ol>\n<pre><code>configurations.all {\n    resolutionStrategy.force 'com.example:conflicting-module:desired-version'\n}\n</code></pre>\n<ol start=\"3\">\n<li>You may also consider excluding a specific transitive dependency in your build.gradle like below:</li>\n</ol>\n<pre><code>implementation (group: 'org.hibernate.orm', name: 'hibernate-core', version: '6.2.7.Final') {\n    exclude group: 'javax.enterprise', module: 'cdi-api'\n}\n\n</code></pre>\n<p>That should most hopefully resolve your issue. Please do let me know if the issue still persists.</p>\n"},{"tags":[],"owner":{"account_id":2171232,"reputation":308,"user_id":1923170,"display_name":"softweng"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699763316,"creation_date":1699763316,"answer_id":77467744,"question_id":76914789,"body_markdown":"Use componentModel = &quot;spring&quot; instead of componentModel = &quot;cdi&quot; in the @Mapper annotation of MapStruct. By specifying componentModel = &quot;spring&quot;, MapStruct produces the mapper as a Spring bean, simplifying injection into other Spring components. Alternatively, you can include the necessary dependencies for CDI (&quot;cdi&quot;) to achieve the desired functionality.","title":"How to fix error: Couldn&#39;t find any of the CDI or Jakarta CDI Dependency types. Are you missing a dependency on your classpath?","body":"<p>Use componentModel = &quot;spring&quot; instead of componentModel = &quot;cdi&quot; in the @Mapper annotation of MapStruct. By specifying componentModel = &quot;spring&quot;, MapStruct produces the mapper as a Spring bean, simplifying injection into other Spring components. Alternatively, you can include the necessary dependencies for CDI (&quot;cdi&quot;) to achieve the desired functionality.</p>\n"}],"owner":{"account_id":3274297,"reputation":1267,"user_id":2756820,"accept_rate":96,"display_name":"Ram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77467744,"answer_count":2,"score":0,"last_activity_date":1699763316,"creation_date":1692197844,"question_id":76914789,"body_markdown":"I upgraded my entity library to Hibernate 6.2.7 from version 5.6.15. Added some new DTOs and Mapstruct mappers. Suddenly I am getting following error:\r\n\r\n    error: Couldn&#39;t find any of the CDI or Jakarta CDI Dependency types. Are you missing a dependency on your classpath?\r\n\r\nMy build.gradle file is as follows:\r\n\r\n        plugins {\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group &#39;com.iiot-wizards&#39;\r\n    version &#39;3.0.0.0&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.2&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.7.2&#39;\r\n    //\r\n    //    // https://mvnrepository.com/artifact/org.hibernate/hibernate-core\r\n    //    implementation group: &#39;org.hibernate&#39;, name: &#39;hibernate-core&#39;, version: &#39;5.6.15.Final&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core\r\n        implementation group: &#39;org.hibernate.orm&#39;, name: &#39;hibernate-core&#39;, version: &#39;6.2.7.Final&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.projectlombok/lombok\r\n        compileOnly group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: &#39;1.18.28&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok:1.18.28&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.mapstruct/mapstruct\r\n        implementation group: &#39;org.mapstruct&#39;, name: &#39;mapstruct&#39;, version: &#39;1.5.5.Final&#39;\r\n        annotationProcessor &#39;org.mapstruct:mapstruct-processor:1.5.5.Final&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.projectlombok/lombok-mapstruct-binding\r\n        implementation &#39;org.projectlombok:lombok-mapstruct-binding:0.2.0&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.mapstruct/mapstruct\r\n        implementation &#39;org.mapstruct:mapstruct:1.5.5.Final&#39;\r\n    \r\n        // https://mvnrepository.com/artifact/org.springframework/spring-context\r\n        implementation &#39;org.springframework:spring-context:6.0.11&#39;\r\n    \r\n        testCompileOnly &quot;org.projectlombok:lombok:1.18.26&quot;\r\n        testAnnotationProcessor &quot;org.projectlombok:lombok:1.18.26&quot;\r\n    }\r\n    \r\n    jar {\r\n        manifest {\r\n            attributes(\r\n                    &#39;Class-Path&#39;: &#39;antlr-2.7.7.jar byte-buddy-1.10.7.jar classmate-1.5.1.jar dom4j-2.1.1.jar FastInfoset-1.2.15.jar hibernate-commons-annotations-5.1.0.Final.jar hibernate-core-5.4.11.Final.jar istack-commons-runtime-3.0.7.jar jandex-2.1.1.Final.jar javassist-3.24.0-GA.jar javax.activation-api-1.2.0.jar javax.persistence-api-2.2.jar jaxb-api-2.3.1.jar jaxb-runtime-2.3.1.jar jboss-logging-3.3.2.Final.jar jboss-transaction-api_1.2_spec-1.1.1.Final.jar stax-ex-1.8.jar txw2-2.3.1.jar&#39;\r\n            )\r\n        }\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nOne of the Mapstruct mapper looks like this. It was autogenerated by JPA buddy plugin of IntelliJ Idea.\r\n\r\n    package com.iiotwizards.model.mappers;\r\n    \r\n    import com.iiotwizards.model.UserManagement.UserAdminUsersEntity;\r\n    import com.iiotwizards.model.dtos.UserAdminUsersEntityDto;\r\n    import com.iiotwizards.model.UserManagement.UserTokenEntity;\r\n    import org.mapstruct.*;\r\n    \r\n    @Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE, componentModel = MappingConstants.ComponentModel.CDI)\r\n    public interface UserAdminUsersEntityMapper\r\n    {\r\n        UserAdminUsersEntity toEntity(UserAdminUsersEntityDto userAdminUsersEntityDto);\r\n    \r\n        @AfterMapping\r\n        default void linkEmailSettings(@MappingTarget UserAdminUsersEntity userAdminUsersEntity)\r\n        {\r\n            userAdminUsersEntity.getEmailSettings().forEach(emailSetting -&gt; emailSetting.setDefaultSender(userAdminUsersEntity));\r\n        }\r\n    \r\n        @AfterMapping\r\n        default void linkOpcAeConditions(@MappingTarget UserAdminUsersEntity userAdminUsersEntity)\r\n        {\r\n            userAdminUsersEntity.getOpcAeConditions().forEach(opcAeCondition -&gt; opcAeCondition.setUser(userAdminUsersEntity));\r\n        }\r\n    \r\n        @AfterMapping\r\n        default void linkOpcAeEmailRecipients(@MappingTarget UserAdminUsersEntity userAdminUsersEntity)\r\n        {\r\n            userAdminUsersEntity.getOpcAeEmailRecipients().forEach(opcAeEmailRecipient -&gt; opcAeEmailRecipient.setUser(userAdminUsersEntity));\r\n        }\r\n    \r\n        @AfterMapping\r\n        default void linkUserAdminPasswordResetTokens(@MappingTarget UserAdminUsersEntity userAdminUsersEntity)\r\n        {\r\n            userAdminUsersEntity.getUserAdminPasswordResetTokens().forEach(userAdminPasswordResetToken -&gt; userAdminPasswordResetToken.setUserId(userAdminUsersEntity.getId()));\r\n        }\r\n    \r\n        @AfterMapping\r\n        default void linkUserAdminVerificationTokens(@MappingTarget UserAdminUsersEntity userAdminUsersEntity)\r\n        {\r\n            userAdminUsersEntity.getUserAdminVerificationTokens().forEach(userAdminVerificationToken -&gt; userAdminVerificationToken.setUserId(userAdminUsersEntity.getId()));\r\n        }\r\n    \r\n        @AfterMapping\r\n        default void linkUserEmails(@MappingTarget UserAdminUsersEntity userAdminUsersEntity)\r\n        {\r\n            userAdminUsersEntity.getUserEmails().forEach(userEmail -&gt; userEmail.setUser(userAdminUsersEntity));\r\n        }\r\n    \r\n        @AfterMapping\r\n        default void linkUserImages(@MappingTarget UserAdminUsersEntity userAdminUsersEntity)\r\n        {\r\n            userAdminUsersEntity.getUserImages().forEach(userImage -&gt; userImage.setUser(userAdminUsersEntity));\r\n        }\r\n    \r\n        @AfterMapping\r\n        default void linkWebUiUserToken(@MappingTarget UserAdminUsersEntity userAdminUsersEntity)\r\n        {\r\n            UserTokenEntity webUiUserToken = userAdminUsersEntity.getWebUiUserToken();\r\n            if (webUiUserToken != null)\r\n            {\r\n                webUiUserToken.setUserAdminUsersEntity(userAdminUsersEntity);\r\n            }\r\n        }\r\n    \r\n        UserAdminUsersEntityDto toDto(UserAdminUsersEntity userAdminUsersEntity);\r\n    \r\n        @BeanMapping(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\r\n        UserAdminUsersEntity partialUpdate(UserAdminUsersEntityDto userAdminUsersEntityDto, @MappingTarget UserAdminUsersEntity userAdminUsersEntity);\r\n    }","title":"How to fix error: Couldn&#39;t find any of the CDI or Jakarta CDI Dependency types. Are you missing a dependency on your classpath?","body":"<p>I upgraded my entity library to Hibernate 6.2.7 from version 5.6.15. Added some new DTOs and Mapstruct mappers. Suddenly I am getting following error:</p>\n<pre><code>error: Couldn't find any of the CDI or Jakarta CDI Dependency types. Are you missing a dependency on your classpath?\n</code></pre>\n<p>My build.gradle file is as follows:</p>\n<pre><code>    plugins {\n    id 'java'\n}\n\ngroup 'com.iiot-wizards'\nversion '3.0.0.0'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.2'\n//\n//    // https://mvnrepository.com/artifact/org.hibernate/hibernate-core\n//    implementation group: 'org.hibernate', name: 'hibernate-core', version: '5.6.15.Final'\n\n    // https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core\n    implementation group: 'org.hibernate.orm', name: 'hibernate-core', version: '6.2.7.Final'\n\n    // https://mvnrepository.com/artifact/org.projectlombok/lombok\n    compileOnly group: 'org.projectlombok', name: 'lombok', version: '1.18.28'\n    annotationProcessor 'org.projectlombok:lombok:1.18.28'\n\n    // https://mvnrepository.com/artifact/org.mapstruct/mapstruct\n    implementation group: 'org.mapstruct', name: 'mapstruct', version: '1.5.5.Final'\n    annotationProcessor 'org.mapstruct:mapstruct-processor:1.5.5.Final'\n\n    // https://mvnrepository.com/artifact/org.projectlombok/lombok-mapstruct-binding\n    implementation 'org.projectlombok:lombok-mapstruct-binding:0.2.0'\n\n    // https://mvnrepository.com/artifact/org.mapstruct/mapstruct\n    implementation 'org.mapstruct:mapstruct:1.5.5.Final'\n\n    // https://mvnrepository.com/artifact/org.springframework/spring-context\n    implementation 'org.springframework:spring-context:6.0.11'\n\n    testCompileOnly &quot;org.projectlombok:lombok:1.18.26&quot;\n    testAnnotationProcessor &quot;org.projectlombok:lombok:1.18.26&quot;\n}\n\njar {\n    manifest {\n        attributes(\n                'Class-Path': 'antlr-2.7.7.jar byte-buddy-1.10.7.jar classmate-1.5.1.jar dom4j-2.1.1.jar FastInfoset-1.2.15.jar hibernate-commons-annotations-5.1.0.Final.jar hibernate-core-5.4.11.Final.jar istack-commons-runtime-3.0.7.jar jandex-2.1.1.Final.jar javassist-3.24.0-GA.jar javax.activation-api-1.2.0.jar javax.persistence-api-2.2.jar jaxb-api-2.3.1.jar jaxb-runtime-2.3.1.jar jboss-logging-3.3.2.Final.jar jboss-transaction-api_1.2_spec-1.1.1.Final.jar stax-ex-1.8.jar txw2-2.3.1.jar'\n        )\n    }\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>One of the Mapstruct mapper looks like this. It was autogenerated by JPA buddy plugin of IntelliJ Idea.</p>\n<pre><code>package com.iiotwizards.model.mappers;\n\nimport com.iiotwizards.model.UserManagement.UserAdminUsersEntity;\nimport com.iiotwizards.model.dtos.UserAdminUsersEntityDto;\nimport com.iiotwizards.model.UserManagement.UserTokenEntity;\nimport org.mapstruct.*;\n\n@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE, componentModel = MappingConstants.ComponentModel.CDI)\npublic interface UserAdminUsersEntityMapper\n{\n    UserAdminUsersEntity toEntity(UserAdminUsersEntityDto userAdminUsersEntityDto);\n\n    @AfterMapping\n    default void linkEmailSettings(@MappingTarget UserAdminUsersEntity userAdminUsersEntity)\n    {\n        userAdminUsersEntity.getEmailSettings().forEach(emailSetting -&gt; emailSetting.setDefaultSender(userAdminUsersEntity));\n    }\n\n    @AfterMapping\n    default void linkOpcAeConditions(@MappingTarget UserAdminUsersEntity userAdminUsersEntity)\n    {\n        userAdminUsersEntity.getOpcAeConditions().forEach(opcAeCondition -&gt; opcAeCondition.setUser(userAdminUsersEntity));\n    }\n\n    @AfterMapping\n    default void linkOpcAeEmailRecipients(@MappingTarget UserAdminUsersEntity userAdminUsersEntity)\n    {\n        userAdminUsersEntity.getOpcAeEmailRecipients().forEach(opcAeEmailRecipient -&gt; opcAeEmailRecipient.setUser(userAdminUsersEntity));\n    }\n\n    @AfterMapping\n    default void linkUserAdminPasswordResetTokens(@MappingTarget UserAdminUsersEntity userAdminUsersEntity)\n    {\n        userAdminUsersEntity.getUserAdminPasswordResetTokens().forEach(userAdminPasswordResetToken -&gt; userAdminPasswordResetToken.setUserId(userAdminUsersEntity.getId()));\n    }\n\n    @AfterMapping\n    default void linkUserAdminVerificationTokens(@MappingTarget UserAdminUsersEntity userAdminUsersEntity)\n    {\n        userAdminUsersEntity.getUserAdminVerificationTokens().forEach(userAdminVerificationToken -&gt; userAdminVerificationToken.setUserId(userAdminUsersEntity.getId()));\n    }\n\n    @AfterMapping\n    default void linkUserEmails(@MappingTarget UserAdminUsersEntity userAdminUsersEntity)\n    {\n        userAdminUsersEntity.getUserEmails().forEach(userEmail -&gt; userEmail.setUser(userAdminUsersEntity));\n    }\n\n    @AfterMapping\n    default void linkUserImages(@MappingTarget UserAdminUsersEntity userAdminUsersEntity)\n    {\n        userAdminUsersEntity.getUserImages().forEach(userImage -&gt; userImage.setUser(userAdminUsersEntity));\n    }\n\n    @AfterMapping\n    default void linkWebUiUserToken(@MappingTarget UserAdminUsersEntity userAdminUsersEntity)\n    {\n        UserTokenEntity webUiUserToken = userAdminUsersEntity.getWebUiUserToken();\n        if (webUiUserToken != null)\n        {\n            webUiUserToken.setUserAdminUsersEntity(userAdminUsersEntity);\n        }\n    }\n\n    UserAdminUsersEntityDto toDto(UserAdminUsersEntity userAdminUsersEntity);\n\n    @BeanMapping(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\n    UserAdminUsersEntity partialUpdate(UserAdminUsersEntityDto userAdminUsersEntityDto, @MappingTarget UserAdminUsersEntity userAdminUsersEntity);\n}\n</code></pre>\n"},{"tags":["java","email","jakarta-mail"],"answers":[{"comments":[{"owner":{"account_id":9800200,"reputation":86,"user_id":7261809,"display_name":"Dreamer"},"score":1,"creation_date":1481234869,"post_id":41047924,"comment_id":69306979,"body_markdown":"But did you change credentials to the actual credentials on the email server were you are trying to send?","body":"But did you change credentials to the actual credentials on the email server were you are trying to send?"},{"owner":{"account_id":7494390,"reputation":690,"user_id":5695126,"accept_rate":73,"display_name":"Kero Fawzy"},"score":0,"creation_date":1481235047,"post_id":41047924,"comment_id":69307043,"body_markdown":"i tried anthor code but this time my error is javax.mail.AuthenticationFailedException: failed to connect","body":"i tried anthor code but this time my error is javax.mail.AuthenticationFailedException: failed to connect"},{"owner":{"account_id":9800200,"reputation":86,"user_id":7261809,"display_name":"Dreamer"},"score":1,"creation_date":1481235299,"post_id":41047924,"comment_id":69307166,"body_markdown":"Are there any other details in the error? AuthenticationFailedException to me seems pretty obvious, most chances you set invalid user name and password. Do these credentials work in email client, say, Thunderbird?","body":"Are there any other details in the error? AuthenticationFailedException to me seems pretty obvious, most chances you set invalid user name and password. Do these credentials work in email client, say, Thunderbird?"},{"owner":{"account_id":9800200,"reputation":86,"user_id":7261809,"display_name":"Dreamer"},"score":1,"creation_date":1481236000,"post_id":41047924,"comment_id":69307464,"body_markdown":"May it be you ask a wrong question? The errors you get are because you are not able to _authenticate_ on the server. Do you actually ask how to authenticate on SMTP server, or do you ask how to disable authentication on your hmailserver so you don&#39;t need to supply credentials? If the question is the second one, the code is completely irrelevant and you need just to disable authentication on the hmailserver.","body":"May it be you ask a wrong question? The errors you get are because you are not able to <i>authenticate</i> on the server. Do you actually ask how to authenticate on SMTP server, or do you ask how to disable authentication on your hmailserver so you don&#39;t need to supply credentials? If the question is the second one, the code is completely irrelevant and you need just to disable authentication on the hmailserver."}],"tags":[],"owner":{"account_id":9800200,"reputation":86,"user_id":7261809,"display_name":"Dreamer"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481236075,"creation_date":1481227551,"answer_id":41047924,"question_id":41047416,"body_markdown":"Obviously, there is a need for authentication credentials for this SMTP server, as it is clear from the nested exception: ` 530 SMTP authentication is required`\r\n\r\nYou need to set Authenticator instance for the session:\r\n\r\n    ...\r\n    Authenticatior authenticator =\r\n             new javax.mail.Authenticator() {\r\n                protected PasswordAuthentication getPasswordAuthentication() {\r\n                   return new PasswordAuthentication(\r\n                      &quot;youruser@yourhost.com&quot;, &quot;yourpassword&quot;);\r\n                }\r\n             };\r\n    Session session = Session.getDefaultInstance(properties, authenticator);\r\n    ...\r\n\r\nChange *youruser@yourhost.com* and *yourpassword* to actual credentials on the email server where you are trying to send the message. You need a valid account on this server because it requires authentication.\r\n\r\nAs a side note that is not related to the question, are you sure you want to use [Session.getDefaultInstance][1] and not [Session.getInstance][2]? Read documentation about implications.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/api/javax/mail/Session.html#getDefaultInstance(java.util.Properties,%20javax.mail.Authenticator)\r\n  [2]: http://docs.oracle.com/javaee/6/api/javax/mail/Session.html#getInstance(java.util.Properties,%20javax.mail.Authenticator)","title":"SMTPAddressFailedException: 530 SMTP authentication is required while sending mail","body":"<p>Obviously, there is a need for authentication credentials for this SMTP server, as it is clear from the nested exception: <code>530 SMTP authentication is required</code></p>\n\n<p>You need to set Authenticator instance for the session:</p>\n\n<pre><code>...\nAuthenticatior authenticator =\n         new javax.mail.Authenticator() {\n            protected PasswordAuthentication getPasswordAuthentication() {\n               return new PasswordAuthentication(\n                  \"youruser@yourhost.com\", \"yourpassword\");\n            }\n         };\nSession session = Session.getDefaultInstance(properties, authenticator);\n...\n</code></pre>\n\n<p>Change <em>youruser@yourhost.com</em> and <em>yourpassword</em> to actual credentials on the email server where you are trying to send the message. You need a valid account on this server because it requires authentication.</p>\n\n<p>As a side note that is not related to the question, are you sure you want to use <a href=\"http://docs.oracle.com/javaee/6/api/javax/mail/Session.html#getDefaultInstance(java.util.Properties,%20javax.mail.Authenticator)\" rel=\"nofollow noreferrer\">Session.getDefaultInstance</a> and not <a href=\"http://docs.oracle.com/javaee/6/api/javax/mail/Session.html#getInstance(java.util.Properties,%20javax.mail.Authenticator)\" rel=\"nofollow noreferrer\">Session.getInstance</a>? Read documentation about implications.</p>\n"},{"tags":[],"owner":{"account_id":7494390,"reputation":690,"user_id":5695126,"accept_rate":73,"display_name":"Kero Fawzy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481308858,"creation_date":1481308858,"answer_id":41066880,"question_id":41047416,"body_markdown":"i solved this problem by this code \r\n\r\n    public void untitledMethod(ArrayList to, String password, String message) {\r\n        String host = &quot;smtp.gmail.com&quot;;\r\n        Properties props = System.getProperties();\r\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.host&quot;, host);\r\n        props.put(&quot;mail.smtp.user&quot;, utils.Constants.From);\r\n        props.put(&quot;mail.smtp.password&quot;, password);\r\n        props.put(&quot;mail.smtp.port&quot;, 587);\r\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;465&quot;);\r\n        props.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n        props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\r\n\r\n        Session session = Session.getDefaultInstance(props, new javax.mail.Authenticator() {\r\n            @Override\r\n            protected PasswordAuthentication getPasswordAuthentication() {\r\n                return new PasswordAuthentication(utils.Constants.From, password);\r\n            }\r\n        });\r\n        MimeMessage mimeMessage = new MimeMessage(session);\r\n        try {\r\n            mimeMessage.setFrom(new InternetAddress(utils.Constants.From));\r\n            InternetAddress[] toAddress = new InternetAddress[to.size()];\r\n            for (int i = 0; i &lt; to.size(); i++) {\r\n                toAddress[i] = new InternetAddress((String) to.get(i));\r\n            }\r\n\r\n            for (InternetAddress toAddres : toAddress) {\r\n                mimeMessage.addRecipient(Message.RecipientType.TO, toAddres);\r\n                mimeMessage.setSubject(&quot;Clinic Support&quot;);\r\n                mimeMessage.setText(message);\r\n                Transport transport = session.getTransport(&quot;smtp&quot;);\r\n                transport.connect(host, 587, utils.Constants.From, password);\r\n                transport.sendMessage(mimeMessage, mimeMessage.getAllRecipients());\r\n                transport.close();\r\n            }\r\n\r\n        } catch (MessagingException me) {\r\n            me.printStackTrace();\r\n        }\r\n    }\r\n\r\nbut you must make sure with your email and password that you use it to send mails ","title":"SMTPAddressFailedException: 530 SMTP authentication is required while sending mail","body":"<p>i solved this problem by this code </p>\n\n<pre><code>public void untitledMethod(ArrayList to, String password, String message) {\n    String host = \"smtp.gmail.com\";\n    Properties props = System.getProperties();\n    props.put(\"mail.smtp.starttls.enable\", \"true\");\n    props.put(\"mail.smtp.host\", host);\n    props.put(\"mail.smtp.user\", utils.Constants.From);\n    props.put(\"mail.smtp.password\", password);\n    props.put(\"mail.smtp.port\", 587);\n    props.put(\"mail.smtp.auth\", \"true\");\n    props.put(\"mail.smtp.socketFactory.port\", \"465\");\n    props.put(\"mail.smtp.socketFactory.class\", \"javax.net.ssl.SSLSocketFactory\");\n    props.put(\"mail.smtp.socketFactory.fallback\", \"false\");\n\n    Session session = Session.getDefaultInstance(props, new javax.mail.Authenticator() {\n        @Override\n        protected PasswordAuthentication getPasswordAuthentication() {\n            return new PasswordAuthentication(utils.Constants.From, password);\n        }\n    });\n    MimeMessage mimeMessage = new MimeMessage(session);\n    try {\n        mimeMessage.setFrom(new InternetAddress(utils.Constants.From));\n        InternetAddress[] toAddress = new InternetAddress[to.size()];\n        for (int i = 0; i &lt; to.size(); i++) {\n            toAddress[i] = new InternetAddress((String) to.get(i));\n        }\n\n        for (InternetAddress toAddres : toAddress) {\n            mimeMessage.addRecipient(Message.RecipientType.TO, toAddres);\n            mimeMessage.setSubject(\"Clinic Support\");\n            mimeMessage.setText(message);\n            Transport transport = session.getTransport(\"smtp\");\n            transport.connect(host, 587, utils.Constants.From, password);\n            transport.sendMessage(mimeMessage, mimeMessage.getAllRecipients());\n            transport.close();\n        }\n\n    } catch (MessagingException me) {\n        me.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>but you must make sure with your email and password that you use it to send mails </p>\n"}],"owner":{"account_id":7494390,"reputation":690,"user_id":5695126,"accept_rate":73,"display_name":"Kero Fawzy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14595,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699763082,"creation_date":1481225639,"question_id":41047416,"body_markdown":"i had problem while sending mails useing java this is my code \r\n\r\n    package callcentersystem;\r\n\r\n    public class Email {\r\n\r\n        private String topic = &quot;my test&quot;;\r\n        private String myMassage = &quot;nothinge&quot;;\r\n\r\n        public void untitledMethod(String to) {\r\n            String host = &quot;my ip adresse&quot;;\r\n            Properties properties = System.getProperties();\r\n            properties.setProperty(&quot;mail.smtp.host&quot;, host);\r\n            Session session = Session.getDefaultInstance(properties);\r\n            try {\r\n                MimeMessage message = new MimeMessage(session);\r\n                message.setFrom(new InternetAddress(utils.Constants.From));\r\n                message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\r\n                message.setSubject(topic);\r\n                message.setText(myMassage);\r\n                Transport transport = session.getTransport(&quot;smtp&quot;);\r\n                transport.send(message);\r\n                System.out.println(&quot;Sent message successfully....&quot;);\r\n            } catch (MessagingException mex) {\r\n                System.out.println(&quot;the massage didnt send&quot;);\r\n                throw new RuntimeException(mex);\r\n            }\r\n        }\r\n    }\r\n\r\nand this is my crash massage \r\n\r\n    the massage didnt send\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException:        javax.mail.SendFailedException: Invalid Addresses;\r\n    nested exception is:\r\n\tcom.sun.mail.smtp.SMTPAddressFailedException: 530 SMTP authentication is required.\r\n\r\n\tat callcentersystem.Email.untitledMethod(Email.java:33)\r\n\tat callcentersystem.CallCenterSystem.main(CallCenterSystem.java:10)\r\n    Caused by: javax.mail.SendFailedException: Invalid Addresses;\r\n    nested exception is:\r\n\tcom.sun.mail.smtp.SMTPAddressFailedException: 530 SMTP authentication is    required.\r\n\r\n\tat com.sun.mail.smtp.SMTPTransport.rcptTo(SMTPTransport.java:1446)\r\n\tat com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:736)\r\n\tat javax.mail.Transport.send0(Transport.java:191)\r\n\tat javax.mail.Transport.send(Transport.java:120)\r\n\tat callcentersystem.Email.untitledMethod(Email.java:29)\r\n\t... 1 more\r\n    Caused by: com.sun.mail.smtp.SMTPAddressFailedException: 530 SMTP authentication is required.\r\n\r\n\tat com.sun.mail.smtp.SMTPTransport.rcptTo(SMTPTransport.java:1344)\r\n\t... 5 more\r\n\r\ni tried all ways to solve this problem but it dosent work and i setup a hmailserver administrator and i use it that solved my localhost problem ","title":"SMTPAddressFailedException: 530 SMTP authentication is required while sending mail","body":"<p>i had problem while sending mails useing java this is my code </p>\n\n<pre><code>package callcentersystem;\n\npublic class Email {\n\n    private String topic = \"my test\";\n    private String myMassage = \"nothinge\";\n\n    public void untitledMethod(String to) {\n        String host = \"my ip adresse\";\n        Properties properties = System.getProperties();\n        properties.setProperty(\"mail.smtp.host\", host);\n        Session session = Session.getDefaultInstance(properties);\n        try {\n            MimeMessage message = new MimeMessage(session);\n            message.setFrom(new InternetAddress(utils.Constants.From));\n            message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\n            message.setSubject(topic);\n            message.setText(myMassage);\n            Transport transport = session.getTransport(\"smtp\");\n            transport.send(message);\n            System.out.println(\"Sent message successfully....\");\n        } catch (MessagingException mex) {\n            System.out.println(\"the massage didnt send\");\n            throw new RuntimeException(mex);\n        }\n    }\n}\n</code></pre>\n\n<p>and this is my crash massage </p>\n\n<pre><code>the massage didnt send\nException in thread \"main\" java.lang.RuntimeException:        javax.mail.SendFailedException: Invalid Addresses;\nnested exception is:\ncom.sun.mail.smtp.SMTPAddressFailedException: 530 SMTP authentication is required.\n\nat callcentersystem.Email.untitledMethod(Email.java:33)\nat callcentersystem.CallCenterSystem.main(CallCenterSystem.java:10)\nCaused by: javax.mail.SendFailedException: Invalid Addresses;\nnested exception is:\ncom.sun.mail.smtp.SMTPAddressFailedException: 530 SMTP authentication is    required.\n\nat com.sun.mail.smtp.SMTPTransport.rcptTo(SMTPTransport.java:1446)\nat com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:736)\nat javax.mail.Transport.send0(Transport.java:191)\nat javax.mail.Transport.send(Transport.java:120)\nat callcentersystem.Email.untitledMethod(Email.java:29)\n... 1 more\nCaused by: com.sun.mail.smtp.SMTPAddressFailedException: 530 SMTP authentication is required.\n\nat com.sun.mail.smtp.SMTPTransport.rcptTo(SMTPTransport.java:1344)\n... 5 more\n</code></pre>\n\n<p>i tried all ways to solve this problem but it dosent work and i setup a hmailserver administrator and i use it that solved my localhost problem </p>\n"},{"tags":["java","multithreading","synchronization","jbutton","desktop-application"],"answers":[{"comments":[{"owner":{"account_id":4836526,"reputation":113,"user_id":3903019,"accept_rate":71,"display_name":"Mohamed Kamel"},"score":0,"creation_date":1474728003,"post_id":39673278,"comment_id":66655282,"body_markdown":"Thank you, I will take care of it.but my question is, How can I set the background color to the button before checking the next one? I want to check the connection of the first IP then set the background color then go to the next IP. I do it but after checking all IPs the background for all IPs changes at the same time.","body":"Thank you, I will take care of it.but my question is, How can I set the background color to the button before checking the next one? I want to check the connection of the first IP then set the background color then go to the next IP. I do it but after checking all IPs the background for all IPs changes at the same time."},{"owner":{"account_id":6293136,"reputation":65,"user_id":4890086,"display_name":"amaille"},"score":0,"creation_date":1474942086,"post_id":39673278,"comment_id":66727801,"body_markdown":"Well, As I said it is very complicated to answer your question since we don&#39;t know how you built your app. Assuming that you have a list of rows each containing a button, a text input and a label, I&#39;d loop through the rows. For each row, get the ip and port from the text input, check the connection and if successful, change the color of the button. I can&#39;t help you further without more information.","body":"Well, As I said it is very complicated to answer your question since we don&#39;t know how you built your app. Assuming that you have a list of rows each containing a button, a text input and a label, I&#39;d loop through the rows. For each row, get the ip and port from the text input, check the connection and if successful, change the color of the button. I can&#39;t help you further without more information."}],"tags":[],"owner":{"account_id":6293136,"reputation":65,"user_id":4890086,"display_name":"amaille"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699761945,"creation_date":1474698548,"answer_id":39673278,"question_id":39670951,"body_markdown":"The error is likely to come from the method `isSocketAliveUitlitybyCrunchify` which either doesn&#39;t behave as you expect it to do or doen&#39;t get the expected arguments (each of which is impossible to verify with the provided information)\r\n\r\nSide notes:\r\n\r\n1. Your java syntax is doubtful. The line:  \r\n\r\n        if (isSocketAliveUitlitybyCrunchify(IP String, port number)) {\r\n\r\n is clearly not java syntax (see arguments)\r\n\r\n2. Also, if all your methods `*btnActionPerformed` performs exactly the same action, I&#39;d advise you to make one method `btnActionPerformed(ActionEvent, Button)` and call it with each button. Plus, you can pack your buttons in an array or a `Collection` to better the code.","title":"How to change the background color for these buttons one by one when I click check all connections","body":"<p>The error is likely to come from the method <code>isSocketAliveUitlitybyCrunchify</code> which either doesn't behave as you expect it to do or doen't get the expected arguments (each of which is impossible to verify with the provided information)</p>\n<p>Side notes:</p>\n<ol>\n<li><p>Your java syntax is doubtful. The line:</p>\n<pre><code> if (isSocketAliveUitlitybyCrunchify(IP String, port number)) {\n</code></pre>\n</li>\n</ol>\n<p>is clearly not java syntax (see arguments)</p>\n<ol start=\"2\">\n<li>Also, if all your methods <code>*btnActionPerformed</code> performs exactly the same action, I'd advise you to make one method <code>btnActionPerformed(ActionEvent, Button)</code> and call it with each button. Plus, you can pack your buttons in an array or a <code>Collection</code> to better the code.</li>\n</ol>\n"}],"owner":{"account_id":4836526,"reputation":113,"user_id":3903019,"accept_rate":71,"display_name":"Mohamed Kamel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699761945,"creation_date":1474673541,"question_id":39670951,"body_markdown":"[Click Here to Show the application snip pic][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/896Tf.png\r\n\r\nI want to set the background color in order to the connection status but one by one.\r\nI do it but the background of all of them changes after the checking.\r\nhow can I do it?!!\r\n\r\n\r\n## The Check all action performed ##\r\n    private void checkAllActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        \r\n        this.cairobtnActionPerformed(evt);\r\n        this.gizabtnActionPerformed(evt);\r\n        this.alexbtnActionPerformed(evt);\r\n        this.zagbtnActionPerformed(evt);\r\n        this.asutbtnActionPerformed(evt);\r\n        this.tantabtnActionPerformed(evt);\r\n        this.kenabtnActionPerformed(evt);\r\n        this.mansbtnActionPerformed(evt);\r\n        this.meniabtnActionPerformed(evt);\r\n\r\n    }     \r\n\r\n## The action performed of cairobtn ##\r\n\r\n    private void cairobtnActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        if (isSocketAliveUitlitybyCrunchify(IP String, port number)) {\r\n            cairobtn.setBackground(Color.GREEN);\r\n        } else {\r\n            cairobtn.setBackground(Color.RED);\r\n        }\r\n    }\r\n\r\n","title":"How to change the background color for these buttons one by one when I click check all connections","body":"<p><a href=\"https://i.stack.imgur.com/896Tf.png\" rel=\"nofollow\">Click Here to Show the application snip pic</a></p>\n\n<p>I want to set the background color in order to the connection status but one by one.\nI do it but the background of all of them changes after the checking.\nhow can I do it?!!</p>\n\n<h2>The Check all action performed</h2>\n\n<pre><code>private void checkAllActionPerformed(java.awt.event.ActionEvent evt) {                                         \n\n    this.cairobtnActionPerformed(evt);\n    this.gizabtnActionPerformed(evt);\n    this.alexbtnActionPerformed(evt);\n    this.zagbtnActionPerformed(evt);\n    this.asutbtnActionPerformed(evt);\n    this.tantabtnActionPerformed(evt);\n    this.kenabtnActionPerformed(evt);\n    this.mansbtnActionPerformed(evt);\n    this.meniabtnActionPerformed(evt);\n\n}     \n</code></pre>\n\n<h2>The action performed of cairobtn</h2>\n\n<pre><code>private void cairobtnActionPerformed(java.awt.event.ActionEvent evt) {                                         \n    if (isSocketAliveUitlitybyCrunchify(IP String, port number)) {\n        cairobtn.setBackground(Color.GREEN);\n    } else {\n        cairobtn.setBackground(Color.RED);\n    }\n}\n</code></pre>\n"},{"tags":["java","image","file","io"],"comments":[{"owner":{"account_id":112931,"reputation":77772,"user_id":297696,"accept_rate":100,"display_name":"wkl"},"score":1,"creation_date":1331344274,"post_id":9643228,"comment_id":12242928,"body_markdown":"http://stackoverflow.com/questions/670546/determine-if-file-is-an-image (C#, but it&#39;s about checking headers, which is not language specific), or http://stackoverflow.com/questions/2192717/check-if-a-file-is-an-image, or http://stackoverflow.com/questions/9244710/know-if-a-file-is-a-image-in-java-android or","body":"<a href=\"http://stackoverflow.com/questions/670546/determine-if-file-is-an-image\" title=\"determine if file is an image\">stackoverflow.com/questions/670546/&hellip;</a> (C#, but it&#39;s about checking headers, which is not language specific), or <a href=\"http://stackoverflow.com/questions/2192717/check-if-a-file-is-an-image\" title=\"check if a file is an image\">stackoverflow.com/questions/2192717/check-if-a-file-is-an-im&zwnj;&#8203;age</a>, or <a href=\"http://stackoverflow.com/questions/9244710/know-if-a-file-is-a-image-in-java-android\" title=\"know if a file is a image in java android\">stackoverflow.com/questions/9244710/&hellip;</a> or"}],"answers":[{"comments":[{"owner":{"account_id":317689,"reputation":16503,"user_id":634513,"accept_rate":100,"display_name":"Ismael Abreu"},"score":0,"creation_date":1383905310,"post_id":9643285,"comment_id":29531784,"body_markdown":"hi @dermoritz This seems to be a problem on your system. Check out this SO post http://stackoverflow.com/questions/4855627/java-mimetypesfiletypemap-always-returning-application-octet-stream-on-android-e","body":"hi @dermoritz This seems to be a problem on your system. Check out this SO post <a href=\"http://stackoverflow.com/questions/4855627/java-mimetypesfiletypemap-always-returning-application-octet-stream-on-android-e\" title=\"java mimetypesfiletypemap always returning application octet stream on android e\">stackoverflow.com/questions/4855627/&hellip;</a>"},{"owner":{"account_id":1002576,"reputation":7185,"user_id":1017111,"accept_rate":94,"display_name":"WowBow"},"score":0,"creation_date":1424724629,"post_id":9643285,"comment_id":45659119,"body_markdown":"How about if it is from URL? Before saving the URL to a file? I got &quot;application/octet-stream&quot; instead of image. Any idea ?","body":"How about if it is from URL? Before saving the URL to a file? I got &quot;application/octet-stream&quot; instead of image. Any idea ?"},{"owner":{"account_id":1316767,"reputation":1552,"user_id":1263423,"accept_rate":71,"display_name":"wangqi060934"},"score":0,"creation_date":1435194515,"post_id":9643285,"comment_id":50102891,"body_markdown":"@dermoritz,me too.&quot;new MimetypesFileTypeMap().getContentType(path)&quot; returns &quot;application/octet-stream&quot;,but &quot;URLConnection.guessContentTypeFromName(path)&quot; returns the right mime type.","body":"@dermoritz,me too.&quot;new MimetypesFileTypeMap().getContentType(path)&quot; returns &quot;application/octet-stream&quot;,but &quot;URLConnection.guessContentTypeFromName(path)&quot; returns the right mime type."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1435575008,"post_id":9643285,"comment_id":50240894,"body_markdown":"Does it checks file content or just extension?","body":"Does it checks file content or just extension?"},{"owner":{"account_id":134196,"reputation":1462,"user_id":336152,"accept_rate":50,"display_name":"Alex Fedulov"},"score":10,"creation_date":1444136420,"post_id":9643285,"comment_id":53766127,"body_markdown":"This only checks based on the extension of the file. Non-valid images (other binaries without image content and proper file headers) cannot be detected using this method.","body":"This only checks based on the extension of the file. Non-valid images (other binaries without image content and proper file headers) cannot be detected using this method."},{"owner":{"account_id":317689,"reputation":16503,"user_id":634513,"accept_rate":100,"display_name":"Ismael Abreu"},"score":0,"creation_date":1444137601,"post_id":9643285,"comment_id":53766960,"body_markdown":"You are right @Alex Fedulov. Try prunge s answer if this is not enough to you","body":"You are right @Alex Fedulov. Try prunge s answer if this is not enough to you"},{"owner":{"account_id":2927422,"reputation":506,"user_id":2508454,"display_name":"Biagio Cannistraro"},"score":7,"creation_date":1455793832,"post_id":9643285,"comment_id":58653290,"body_markdown":"This is a bad way to test if the file is an image. a better solution is:  Files.probeContentType(path);","body":"This is a bad way to test if the file is an image. a better solution is:  Files.probeContentType(path);"},{"owner":{"account_id":317689,"reputation":16503,"user_id":634513,"accept_rate":100,"display_name":"Ismael Abreu"},"score":0,"creation_date":1455801710,"post_id":9643285,"comment_id":58658779,"body_markdown":"@BiagioCannistraro You might want to add that as another answer","body":"@BiagioCannistraro You might want to add that as another answer"}],"tags":[],"owner":{"account_id":317689,"reputation":16503,"user_id":634513,"accept_rate":100,"display_name":"Ismael Abreu"},"comment_count":8,"down_vote_count":3,"up_vote_count":65,"is_accepted":true,"score":62,"last_activity_date":1331816677,"creation_date":1331344851,"answer_id":9643285,"question_id":9643228,"body_markdown":"This works pretty well for me. Hope I could help\r\n\r\n    import javax.activation.MimetypesFileTypeMap;\r\n    import java.io.File;\r\n    class Untitled {\r\n    \tpublic static void main(String[] args) {\r\n            String filepath = &quot;/the/file/path/image.jpg&quot;;\r\n    \t\tFile f = new File(filepath);\r\n    \t\tString mimetype= new MimetypesFileTypeMap().getContentType(f);\r\n    \t\tString type = mimetype.split(&quot;/&quot;)[0];\r\n    \t\tif(type.equals(&quot;image&quot;))\r\n    \t\t\tSystem.out.println(&quot;It&#39;s an image&quot;);\r\n    \t\telse \r\n    \t\t\tSystem.out.println(&quot;It&#39;s NOT an image&quot;);\r\n    \t}\r\n    }","title":"Test if a file is an image file","body":"<p>This works pretty well for me. Hope I could help</p>\n\n<pre><code>import javax.activation.MimetypesFileTypeMap;\nimport java.io.File;\nclass Untitled {\n    public static void main(String[] args) {\n        String filepath = \"/the/file/path/image.jpg\";\n        File f = new File(filepath);\n        String mimetype= new MimetypesFileTypeMap().getContentType(f);\n        String type = mimetype.split(\"/\")[0];\n        if(type.equals(\"image\"))\n            System.out.println(\"It's an image\");\n        else \n            System.out.println(\"It's NOT an image\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":482071,"reputation":5624,"user_id":896249,"accept_rate":79,"display_name":"GameDroids"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1331346075,"creation_date":1331346075,"answer_id":9643394,"question_id":9643228,"body_markdown":"You may try something like this:\r\n\r\n       import javax.activation.MimetypesFileTypeMap;\r\n\r\n       File myFile;\r\n    \r\n       String mimeType = new MimetypesFileTypeMap().getContentType( myFile ));\r\n       // mimeType should now be something like &quot;image/png&quot;\r\n\r\n       if(mimeType.substring(0,5).equalsIgnoreCase(&quot;image&quot;)){\r\n             // its an image\r\n       }\r\n\r\nthis should work, although it doesn&#39;t seem to be the most elegant version.\r\n\r\n   \r\n        ","title":"Test if a file is an image file","body":"<p>You may try something like this:</p>\n\n<pre><code>   import javax.activation.MimetypesFileTypeMap;\n\n   File myFile;\n\n   String mimeType = new MimetypesFileTypeMap().getContentType( myFile ));\n   // mimeType should now be something like \"image/png\"\n\n   if(mimeType.substring(0,5).equalsIgnoreCase(\"image\")){\n         // its an image\n   }\n</code></pre>\n\n<p>this should work, although it doesn't seem to be the most elegant version.</p>\n"},{"comments":[{"owner":{"account_id":5692931,"reputation":1084,"user_id":4500387,"display_name":"yngwietiger"},"score":3,"creation_date":1463694556,"post_id":9643465,"comment_id":62187036,"body_markdown":"On Linux, it seems to only look at the extension on my machine. Changed a .jpeg file to .txt and it returned &quot;text/plain&quot;. I like Krystian&#39;s answer below.","body":"On Linux, it seems to only look at the extension on my machine. Changed a .jpeg file to .txt and it returned &quot;text/plain&quot;. I like Krystian&#39;s answer below."}],"tags":[],"owner":{"account_id":248187,"reputation":22658,"user_id":523391,"display_name":"prunge"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1331347036,"creation_date":1331347036,"answer_id":9643465,"question_id":9643228,"body_markdown":"In Java 7, there is the [java.nio.file.Files.probeContentType()][1] method.  On Windows, this uses the file extension and the registry (it does not probe the file content).  You can then check the second part of the MIME type and check whether it is in the form `&lt;X&gt;/image`.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#probeContentType%28java.nio.file.Path%29","title":"Test if a file is an image file","body":"<p>In Java 7, there is the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#probeContentType%28java.nio.file.Path%29\" rel=\"noreferrer\">java.nio.file.Files.probeContentType()</a> method.  On Windows, this uses the file extension and the registry (it does not probe the file content).  You can then check the second part of the MIME type and check whether it is in the form <code>&lt;X&gt;/image</code>.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1699759129,"creation_date":1331354088,"answer_id":9643960,"question_id":9643228,"body_markdown":"There are a variety of ways to do this; see other answers and the links to related questions.  (The Java 7 approach seems the most attractive to me, because it uses platform specific conventions by default, and you can supply your own scheme for file type determination.)\r\n\r\n**However**, I&#39;d just like to point out that **no mechanism is infallible**:\r\n\r\n  - Methods that rely on the file suffix will be tricked if the suffix is non-standard or wrong.\r\n\r\n  - Methods that rely on file attributes (e.g. in the file system) will be tricked if the file has an incorrect content type attribute or none at all.\r\n\r\n  - Methods that rely on looking at the file signature can be tricked by binary files which just happen to have the same signature bytes.\r\n\r\n  - Even simply attempting to read the file as an image can be tricked if you are unlucky ... depending on the image format(s) that you try.","title":"Test if a file is an image file","body":"<p>There are a variety of ways to do this; see other answers and the links to related questions.  (The Java 7 approach seems the most attractive to me, because it uses platform specific conventions by default, and you can supply your own scheme for file type determination.)</p>\n<p><strong>However</strong>, I'd just like to point out that <strong>no mechanism is infallible</strong>:</p>\n<ul>\n<li><p>Methods that rely on the file suffix will be tricked if the suffix is non-standard or wrong.</p>\n</li>\n<li><p>Methods that rely on file attributes (e.g. in the file system) will be tricked if the file has an incorrect content type attribute or none at all.</p>\n</li>\n<li><p>Methods that rely on looking at the file signature can be tricked by binary files which just happen to have the same signature bytes.</p>\n</li>\n<li><p>Even simply attempting to read the file as an image can be tricked if you are unlucky ... depending on the image format(s) that you try.</p>\n</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":3612864,"reputation":2091,"user_id":3013473,"accept_rate":56,"display_name":"zafar142003"},"score":1,"creation_date":1485089758,"post_id":21331965,"comment_id":70770860,"body_markdown":"This is the only way I could find if a file is an image file (on an Ubuntu system with Java 8).","body":"This is the only way I could find if a file is an image file (on an Ubuntu system with Java 8)."}],"tags":[],"owner":{"account_id":1489715,"reputation":2281,"user_id":1397115,"accept_rate":67,"display_name":"Krystian"},"comment_count":1,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1390808813,"creation_date":1390564311,"answer_id":21331965,"question_id":9643228,"body_markdown":"    if( ImageIO.read(*here your input stream*) == null)\r\n        *IS NOT IMAGE*    \r\n\r\nAnd also there is an answer: https://stackoverflow.com/questions/4169713/how-to-check-a-uploaded-file-whether-it-is-a-image-or-other-file","title":"Test if a file is an image file","body":"<pre><code>if( ImageIO.read(*here your input stream*) == null)\n    *IS NOT IMAGE*    \n</code></pre>\n\n<p>And also there is an answer: <a href=\"https://stackoverflow.com/questions/4169713/how-to-check-a-uploaded-file-whether-it-is-a-image-or-other-file\">How to check a uploaded file whether it is a image or other file?</a></p>\n"},{"tags":[],"owner":{"account_id":2927422,"reputation":506,"user_id":2508454,"display_name":"Biagio Cannistraro"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1465449337,"creation_date":1455806954,"answer_id":35484655,"question_id":9643228,"body_markdown":"You may try something like this:\r\n\r\n    String pathname=&quot;abc\\xyz.png&quot;\r\n    File file=new File(pathname);\r\n\r\n\r\n    String mimetype = Files.probeContentType(file.toPath());\r\n    //mimetype should be something like &quot;image/png&quot;\r\n\r\n\tif (mimetype != null &amp;&amp; mimetype.split(&quot;/&quot;)[0].equals(&quot;image&quot;)) {\r\n        System.out.println(&quot;it is an image&quot;);\r\n    }\r\n\r\n","title":"Test if a file is an image file","body":"<p>You may try something like this:</p>\n\n<pre><code>String pathname=\"abc\\xyz.png\"\nFile file=new File(pathname);\n\n\nString mimetype = Files.probeContentType(file.toPath());\n//mimetype should be something like \"image/png\"\n\nif (mimetype != null &amp;&amp; mimetype.split(\"/\")[0].equals(\"image\")) {\n    System.out.println(\"it is an image\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":395827,"reputation":5063,"user_id":758991,"accept_rate":55,"display_name":"Ruslan Stelmachenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1600738754,"creation_date":1600738754,"answer_id":64001942,"question_id":9643228,"body_markdown":"Other answers suggest to load full image into memory (`ImageIO.read`) or to use standard JDK methods (`MimetypesFileTypeMap` and `Files.probeContentType`).\r\n\r\nFirst way is not efficient if read image is not required and all you really want is to test if it is an image or not (and maybe to save it&#39;s content type to set it in `Content-Type` response header when this image will be read in the future).\r\n\r\nInbound JDK ways usually just test file extension and not really give you result that you can trust.\r\n\r\nThe way that works for me is to use [Apache Tika](https://tika.apache.org/) library.\r\n\r\n\tprivate final Tika tika = new Tika();\r\n\r\n\tprivate MimeType detectImageContentType(InputStream inputStream, String fileExtension) {\r\n\t\tAssert.notNull(inputStream, &quot;InputStream must not be null&quot;);\r\n\r\n\t\tString fileName = fileExtension != null ? &quot;image.&quot; + fileExtension : &quot;image&quot;;\r\n\t\tMimeType detectedContentType = MimeType.valueOf(tika.detect(inputStream, fileName));\r\n\t\tlog.trace(&quot;Detected image content type: {}&quot;, detectedContentType);\r\n\r\n\t\tif (!validMimeTypes.contains(detectedContentType)) {\r\n\t\t\tthrow new InvalidImageContentTypeException(detectedContentType);\r\n\t\t}\r\n\r\n\t\treturn detectedContentType;\r\n\t}\r\n\r\nThe type detection is based on the content of the given document stream and the name of the document. Only a limited number of bytes are read from the stream.\r\n\r\nI pass `fileExtension` just as a *hint* for the `Tika`. It works without it. But according to documentation it helps to detect better in some cases.\r\n\r\n* The main advantage of this method compared to `ImageIO.read` is that `Tika` doesn&#39;t read full file into memory - only first bytes.\r\n\r\n* The main advantage compared to JDK&#39;s `MimetypesFileTypeMap` and `Files.probeContentType` is that `Tika` really reads first bytes of the file while JDK only checks file extension in current implementation.\r\n\r\n# TLDR\r\n\r\n* If you plan to do something with read image (like resize/crop/rotate it), then use `ImageIO.read` from [Krystian&#39;s answer](https://stackoverflow.com/a/21331965/758991).\r\n\r\n* If you just want to check (and maybe store) real `Content-Type`, then use `Tika` (this answer).\r\n\r\n* If you work in the trusted environment and you are 100% sure that file extension is correct, then use `Files.probeContentType` from [prunge&#39;s Answer](https://stackoverflow.com/a/9643465/758991).\r\n\r\n","title":"Test if a file is an image file","body":"<p>Other answers suggest to load full image into memory (<code>ImageIO.read</code>) or to use standard JDK methods (<code>MimetypesFileTypeMap</code> and <code>Files.probeContentType</code>).</p>\n<p>First way is not efficient if read image is not required and all you really want is to test if it is an image or not (and maybe to save it's content type to set it in <code>Content-Type</code> response header when this image will be read in the future).</p>\n<p>Inbound JDK ways usually just test file extension and not really give you result that you can trust.</p>\n<p>The way that works for me is to use <a href=\"https://tika.apache.org/\" rel=\"noreferrer\">Apache Tika</a> library.</p>\n<pre><code>private final Tika tika = new Tika();\n\nprivate MimeType detectImageContentType(InputStream inputStream, String fileExtension) {\n    Assert.notNull(inputStream, &quot;InputStream must not be null&quot;);\n\n    String fileName = fileExtension != null ? &quot;image.&quot; + fileExtension : &quot;image&quot;;\n    MimeType detectedContentType = MimeType.valueOf(tika.detect(inputStream, fileName));\n    log.trace(&quot;Detected image content type: {}&quot;, detectedContentType);\n\n    if (!validMimeTypes.contains(detectedContentType)) {\n        throw new InvalidImageContentTypeException(detectedContentType);\n    }\n\n    return detectedContentType;\n}\n</code></pre>\n<p>The type detection is based on the content of the given document stream and the name of the document. Only a limited number of bytes are read from the stream.</p>\n<p>I pass <code>fileExtension</code> just as a <em>hint</em> for the <code>Tika</code>. It works without it. But according to documentation it helps to detect better in some cases.</p>\n<ul>\n<li><p>The main advantage of this method compared to <code>ImageIO.read</code> is that <code>Tika</code> doesn't read full file into memory - only first bytes.</p>\n</li>\n<li><p>The main advantage compared to JDK's <code>MimetypesFileTypeMap</code> and <code>Files.probeContentType</code> is that <code>Tika</code> really reads first bytes of the file while JDK only checks file extension in current implementation.</p>\n</li>\n</ul>\n<h1>TLDR</h1>\n<ul>\n<li><p>If you plan to do something with read image (like resize/crop/rotate it), then use <code>ImageIO.read</code> from <a href=\"https://stackoverflow.com/a/21331965/758991\">Krystian's answer</a>.</p>\n</li>\n<li><p>If you just want to check (and maybe store) real <code>Content-Type</code>, then use <code>Tika</code> (this answer).</p>\n</li>\n<li><p>If you work in the trusted environment and you are 100% sure that file extension is correct, then use <code>Files.probeContentType</code> from <a href=\"https://stackoverflow.com/a/9643465/758991\">prunge's Answer</a>.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":234362,"reputation":17417,"user_id":500451,"accept_rate":86,"display_name":"Bertie"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601007244,"creation_date":1601007244,"answer_id":64057714,"question_id":9643228,"body_markdown":"Here&#39;s my code based on the answer using tika.\r\n\r\n\tprivate static final Tika TIKA = new Tika();\r\n\tpublic boolean isImageMimeType(File src) {\r\n\t\ttry (FileInputStream fis = new FileInputStream(src)) {\r\n\t\t\tString mime = TIKA.detect(fis, src.getName());\r\n\t\t\treturn mime.contains(&quot;/&quot;) \r\n\t\t\t\t\t&amp;&amp; mime.split(&quot;/&quot;)[0].equalsIgnoreCase(&quot;image&quot;);\r\n\t\t} catch (IOException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}","title":"Test if a file is an image file","body":"<p>Here's my code based on the answer using tika.</p>\n<pre><code>private static final Tika TIKA = new Tika();\npublic boolean isImageMimeType(File src) {\n    try (FileInputStream fis = new FileInputStream(src)) {\n        String mime = TIKA.detect(fis, src.getName());\n        return mime.contains(&quot;/&quot;) \n                &amp;&amp; mime.split(&quot;/&quot;)[0].equalsIgnoreCase(&quot;image&quot;);\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":995385,"reputation":752,"user_id":1011477,"accept_rate":80,"display_name":"lancegerday"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80729,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":9643285,"answer_count":8,"score":41,"last_activity_date":1699759129,"creation_date":1331344106,"question_id":9643228,"body_markdown":"I am using some file `IO` and want to know if there is a method to check if a file is an image?","title":"Test if a file is an image file","body":"<p>I am using some file <code>IO</code> and want to know if there is a method to check if a file is an image?</p>\n"},{"tags":["java","printing"],"comments":[{"owner":{"account_id":955087,"reputation":57276,"user_id":980550,"accept_rate":70,"display_name":"lurker"},"score":0,"creation_date":1571881026,"post_id":58532944,"comment_id":103389332,"body_markdown":"This just looks like a copy of a homework question or exercise. What have you tried so far? Do you have a specific question?","body":"This just looks like a copy of a homework question or exercise. What have you tried so far? Do you have a specific question?"},{"owner":{"account_id":16917582,"reputation":27,"user_id":12235220,"display_name":"Alejandro Pulgarin"},"score":0,"creation_date":1571881085,"post_id":58532944,"comment_id":103389341,"body_markdown":"my bad should had inputted the code","body":"my bad should had inputted the code"},{"owner":{"account_id":16917582,"reputation":27,"user_id":12235220,"display_name":"Alejandro Pulgarin"},"score":0,"creation_date":1571881197,"post_id":58532944,"comment_id":103389371,"body_markdown":"But im trying to switch first name and last name to last name, first name ex/ john doe, doe john","body":"But im trying to switch first name and last name to last name, first name ex/ john doe, doe john"},{"owner":{"account_id":955087,"reputation":57276,"user_id":980550,"accept_rate":70,"display_name":"lurker"},"score":0,"creation_date":1571881494,"post_id":58532944,"comment_id":103389427,"body_markdown":"Looks like your code is all commented out. You are trying to access the names a character at a time. You don&#39;t need to do that. Just work with them at the string level. You don&#39;t need to pass `name` as an argument. What would you pass? You&#39;re using it as a local variable to hold your final result that you ultimate just return.","body":"Looks like your code is all commented out. You are trying to access the names a character at a time. You don&#39;t need to do that. Just work with them at the string level. You don&#39;t need to pass <code>name</code> as an argument. What would you pass? You&#39;re using it as a local variable to hold your final result that you ultimate just return."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1571881660,"post_id":58532944,"comment_id":103389460,"body_markdown":"First, *should create and return a String* so the method should not be `void`. Second, you should be operating on the `name` argument, not prompting for more input. Third, you should be looking for a space in that argument. Fourth, once you know where the space is you should be able to format the parts of the `String` on the left and right of that space as a new `String`.","body":"First, <i>should create and return a String</i> so the method should not be <code>void</code>. Second, you should be operating on the <code>name</code> argument, not prompting for more input. Third, you should be looking for a space in that argument. Fourth, once you know where the space is you should be able to format the parts of the <code>String</code> on the left and right of that space as a new <code>String</code>."},{"owner":{"account_id":8397558,"reputation":4568,"user_id":6304094,"display_name":"Kevin Anderson"},"score":0,"creation_date":1571883327,"post_id":58532944,"comment_id":103389755,"body_markdown":"You may find the [`split`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-), [`indexOf`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#indexOf-int-) and [`substring`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#substring-int-int-) methods of `String` helpful.  But if you have to, you can accomplish this with nothing more than [`charAt`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#charAt-int-) and the `+` operator.","body":"You may find the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-\" rel=\"nofollow noreferrer\"><code>split</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#indexOf-int-\" rel=\"nofollow noreferrer\"><code>indexOf</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#substring-int-int-\" rel=\"nofollow noreferrer\"><code>substring</code></a> methods of <code>String</code> helpful.  But if you have to, you can accomplish this with nothing more than <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#charAt-int-\" rel=\"nofollow noreferrer\"><code>charAt</code></a> and the <code>+</code> operator."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1571884327,"post_id":58532944,"comment_id":103389955,"body_markdown":"Also `Strings` are immutable.","body":"Also <code>Strings</code> are immutable."},{"owner":{"account_id":38977,"reputation":2225,"user_id":112233,"display_name":"jmp"},"score":0,"creation_date":1571888786,"post_id":58532944,"comment_id":103390763,"body_markdown":"Hi, please add more about what you tried already and why that didn&#39;t work for the use case. Like sample input and output and why the output is not as expected.","body":"Hi, please add more about what you tried already and why that didn&#39;t work for the use case. Like sample input and output and why the output is not as expected."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1571967341,"post_id":58532944,"comment_id":103422870,"body_markdown":"Or, use a *regular expression*, one line method: `return name.replaceAll(&quot;\\\\s*(\\\\S+)\\\\s+(\\\\S+)\\\\s*&quot;, &quot;$2, $1&quot;);`","body":"Or, use a <i>regular expression</i>, one line method: <code>return name.replaceAll(&quot;\\\\s*(\\\\S+)\\\\s+(\\\\S+)\\\\s*&quot;, &quot;$2, $1&quot;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":5313916,"reputation":1329,"user_id":4239364,"display_name":"Ioannis Barakos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571906620,"creation_date":1571906188,"answer_id":58537384,"question_id":58532944,"body_markdown":"Your formatName method is more complex than it should. The requirement is to take one single String with firstname (space) lastname and return lastname (comma space) firstname.\r\n\r\nThe User input should take place outside of the formatName method.\r\n\r\nCheck the example below\r\n\r\n\r\n    public static void main(String[] args) throws Exception {\r\n            Scanner scan = new Scanner ( System.in);\r\n            System.out.println(&quot; Enter Name : &quot;);\r\n            String name = scan.nextLine();\r\n            System.out.println(&quot;Input: &quot; + name);\r\n            System.out.println(&quot;Formated: &quot; + formatName(name));\r\n        }\r\n    \r\n        public static String formatName ( String name ) throws Exception {\r\n            String[] nameTokenized = name.split(&quot; &quot;);\r\n            if (nameTokenized.length!=2){\r\n                throw new Exception(&quot;Incorrect Name&quot;);\r\n            }\r\n            String firstName = nameTokenized[0];\r\n            String lastName = nameTokenized[1];\r\n    \r\n            return lastName + &quot;, &quot; + firstName;\r\n        }//end formatName\r\n\r\nIn the main method, the User can input a single String (name). The code calls the `formatName(name)` method for that input String and expects the method to return a String which is printed on console.\r\n\r\nThe formatName method splits the name String into parts that are stored inside an array (nameTokenized). If the length of the array is not 2, meaning that there are not exactly to names with a space between them, an exception is thrown.\r\n\r\nIf the input (name) is correct, the firstName and lastName variables are set and the method returns the String in the format lastname(comma space)firstname.\r\n\r\nSample output:\r\n\r\n     Enter Name : \r\n    Joe Doe\r\n    Input: Joe Doe\r\n    Formated: Doe Joe\r\n\r\nWith incorrect input\r\n\r\n     Enter Name : \r\n    Joe Doe Doe\r\n    Input: Joe Doe Doe\r\n    Exception in thread &quot;main&quot; java.lang.Exception: Incorrect Name\r\n    \tat Main2.formatName(Main2.java:17)\r\n    \tat Main2.main(Main2.java:11)","title":"Printing first and last name from first name, last name to last name, first name","body":"<p>Your formatName method is more complex than it should. The requirement is to take one single String with firstname (space) lastname and return lastname (comma space) firstname.</p>\n\n<p>The User input should take place outside of the formatName method.</p>\n\n<p>Check the example below</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n        Scanner scan = new Scanner ( System.in);\n        System.out.println(\" Enter Name : \");\n        String name = scan.nextLine();\n        System.out.println(\"Input: \" + name);\n        System.out.println(\"Formated: \" + formatName(name));\n    }\n\n    public static String formatName ( String name ) throws Exception {\n        String[] nameTokenized = name.split(\" \");\n        if (nameTokenized.length!=2){\n            throw new Exception(\"Incorrect Name\");\n        }\n        String firstName = nameTokenized[0];\n        String lastName = nameTokenized[1];\n\n        return lastName + \", \" + firstName;\n    }//end formatName\n</code></pre>\n\n<p>In the main method, the User can input a single String (name). The code calls the <code>formatName(name)</code> method for that input String and expects the method to return a String which is printed on console.</p>\n\n<p>The formatName method splits the name String into parts that are stored inside an array (nameTokenized). If the length of the array is not 2, meaning that there are not exactly to names with a space between them, an exception is thrown.</p>\n\n<p>If the input (name) is correct, the firstName and lastName variables are set and the method returns the String in the format lastname(comma space)firstname.</p>\n\n<p>Sample output:</p>\n\n<pre><code> Enter Name : \nJoe Doe\nInput: Joe Doe\nFormated: Doe Joe\n</code></pre>\n\n<p>With incorrect input</p>\n\n<pre><code> Enter Name : \nJoe Doe Doe\nInput: Joe Doe Doe\nException in thread \"main\" java.lang.Exception: Incorrect Name\n    at Main2.formatName(Main2.java:17)\n    at Main2.main(Main2.java:11)\n</code></pre>\n"}],"owner":{"account_id":16917582,"reputation":27,"user_id":12235220,"display_name":"Alejandro Pulgarin"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16717,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699758541,"creation_date":1571880865,"question_id":58532944,"body_markdown":"The formatName method should\r\naccept a String called name that contains a name in the format &quot;First Last&quot;. You may assume that\r\nthere is only one space in the String. The method should create and return a String that contains the name\r\nin the format &quot;Last, First&quot;.\r\n\r\n    public static void formatName ( String name ) {\r\n     Scanner scan = new Scanner ( System.in);\r\n     \r\n     String firstName;\r\n     String lastName;\r\n     int index;\r\n     \r\n     \r\n     System.out.println(&quot; Enter First Name : &quot;);\r\n     firstName = scan.nextLine();\r\n     \r\n     System.out.println(&quot; Enter Last Name : &quot;);\r\n     lastName = scan.nextLine();\r\n     \r\n     for ( int i = 0; i &lt; lastName (); i++){\r\n        for ( int x = 0; x &lt; firstName(); x++){\r\n        \r\n     name += firstName.charAt(i);\r\n     name += lastName.charAt(x);\r\n     \r\n     return name;\r\n        }\r\n     }\r\n    \r\n    }//end formatName","title":"Printing first and last name from first name, last name to last name, first name","body":"<p>The formatName method should\naccept a String called name that contains a name in the format \"First Last\". You may assume that\nthere is only one space in the String. The method should create and return a String that contains the name\nin the format \"Last, First\".</p>\n\n<pre><code>public static void formatName ( String name ) {\n Scanner scan = new Scanner ( System.in);\n\n String firstName;\n String lastName;\n int index;\n\n\n System.out.println(\" Enter First Name : \");\n firstName = scan.nextLine();\n\n System.out.println(\" Enter Last Name : \");\n lastName = scan.nextLine();\n\n for ( int i = 0; i &lt; lastName (); i++){\n    for ( int x = 0; x &lt; firstName(); x++){\n\n name += firstName.charAt(i);\n name += lastName.charAt(x);\n\n return name;\n    }\n }\n\n}//end formatName\n</code></pre>\n"},{"tags":["java","subclass","package","protected","access-modifiers"],"comments":[{"owner":{"account_id":414094,"reputation":3948,"user_id":788109,"accept_rate":86,"display_name":"Scorpion"},"score":1,"creation_date":1358530203,"post_id":14404260,"comment_id":20042766,"body_markdown":"Can you also show the packages the classes are in?","body":"Can you also show the packages the classes are in?"},{"owner":{"account_id":416369,"reputation":16459,"user_id":791713,"accept_rate":74,"display_name":"Niklas R"},"score":0,"creation_date":1358530253,"post_id":14404260,"comment_id":20042796,"body_markdown":"Ahh, the packages.. didn&#39;t think about that. I wanted to provide a stripped down version of the code. I&#39;ve edited the question.","body":"Ahh, the packages.. didn&#39;t think about that. I wanted to provide a stripped down version of the code. I&#39;ve edited the question."},{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1358532803,"post_id":14404260,"comment_id":20044088,"body_markdown":"Can you please add package qualification to the question title, since that seems to be relevant?","body":"Can you please add package qualification to the question title, since that seems to be relevant?"},{"owner":{"account_id":416369,"reputation":16459,"user_id":791713,"accept_rate":74,"display_name":"Niklas R"},"score":0,"creation_date":1358533093,"post_id":14404260,"comment_id":20044232,"body_markdown":"@MiserableVariable: This okay? I also replaced  the `instance-methods` with the `packages` tag.","body":"@MiserableVariable: This okay? I also replaced  the <code>instance-methods</code> with the <code>packages</code> tag."},{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1358534797,"post_id":14404260,"comment_id":20045022,"body_markdown":"Yes, this is good. BTW the accepted answer needs some corrections.","body":"Yes, this is good. BTW the accepted answer needs some corrections."}],"answers":[{"comments":[{"owner":{"account_id":416369,"reputation":16459,"user_id":791713,"accept_rate":74,"display_name":"Niklas R"},"score":0,"creation_date":1358530905,"post_id":14404394,"comment_id":20043164,"body_markdown":"But I cannot subclass and call the method on another instance of the superclass, as I&#39;m doing above? (Assuming they are in different packages, because it works when they are in the same package)","body":"But I cannot subclass and call the method on another instance of the superclass, as I&#39;m doing above? (Assuming they are in different packages, because it works when they are in the same package)"},{"owner":{"account_id":414094,"reputation":3948,"user_id":788109,"accept_rate":86,"display_name":"Scorpion"},"score":0,"creation_date":1358531094,"post_id":14404394,"comment_id":20043252,"body_markdown":"An instance of someothernode object has access to the protected computeSize method but not of some other instance of someothernode - so not in the for loop.","body":"An instance of someothernode object has access to the protected computeSize method but not of some other instance of someothernode - so not in the for loop."},{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1358534646,"post_id":14404394,"comment_id":20044952,"body_markdown":"@Scorpion that seems incorrect. This compiles without error if they are all in same package.","body":"@Scorpion that seems incorrect. This compiles without error if they are all in same package."},{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1358534745,"post_id":14404394,"comment_id":20045005,"body_markdown":"`clone` cannot be called because it is `protected` in `Object`, which is in package `java.lang` and this class is not in that package.","body":"<code>clone</code> cannot be called because it is <code>protected</code> in <code>Object</code>, which is in package <code>java.lang</code> and this class is not in that package."},{"owner":{"account_id":414094,"reputation":3948,"user_id":788109,"accept_rate":86,"display_name":"Scorpion"},"score":0,"creation_date":1358535080,"post_id":14404394,"comment_id":20045141,"body_markdown":"Yes, it would compile correctly if all the classes are in the same package. The clone example illustrates that - a protected method in a different package cannot be invoked; so you create an employee class outside java.lang, so the clone method on this employee class object cannot be invoked unless it exposes it via public modifier","body":"Yes, it would compile correctly if all the classes are in the same package. The clone example illustrates that - a protected method in a different package cannot be invoked; so you create an employee class outside java.lang, so the clone method on this employee class object cannot be invoked unless it exposes it via public modifier"}],"tags":[],"owner":{"account_id":414094,"reputation":3948,"user_id":788109,"accept_rate":86,"display_name":"Scorpion"},"comment_count":5,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1358530902,"creation_date":1358530350,"answer_id":14404394,"question_id":14404260,"body_markdown":"You could access the protected methods either by subclassing and overriding; also when they are available in the same package. I will add some details.\r\nYou can read [details][1] here.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\r\n\r\nThe example that you have is on lines of the `protected clone()` method available in the Object class in java; you cannot directly call it on any object (although all object implicitly extend from the Object class).","title":"Call protected method from a subclass of another instance of different packages","body":"<p>You could access the protected methods either by subclassing and overriding; also when they are available in the same package. I will add some details.\nYou can read <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"noreferrer\">details</a> here.</p>\n\n<p>The example that you have is on lines of the <code>protected clone()</code> method available in the Object class in java; you cannot directly call it on any object (although all object implicitly extend from the Object class).</p>\n"},{"comments":[{"owner":{"account_id":416369,"reputation":16459,"user_id":791713,"accept_rate":74,"display_name":"Niklas R"},"score":0,"creation_date":1358533059,"post_id":14405008,"comment_id":20044210,"body_markdown":"Thanks for this summary, I definately agree with you. This behavior does not seem legit to me.","body":"Thanks for this summary, I definately agree with you. This behavior does not seem legit to me."},{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1358535044,"post_id":14405008,"comment_id":20045124,"body_markdown":"Perhaps you can ask another question about the rationale&gt; It may not be suitable for this forum, but [programmers](http://programmers.stackexchange.com/questions) likes these types of questions","body":"Perhaps you can ask another question about the rationale&gt; It may not be suitable for this forum, but <a href=\"http://programmers.stackexchange.com/questions\">programmers</a> likes these types of questions"},{"owner":{"account_id":10961577,"reputation":964,"user_id":8054721,"display_name":"amarnath harish"},"score":1,"creation_date":1528452132,"post_id":14405008,"comment_id":88523720,"body_markdown":"why other has to be `P2A`  isnt it enough for it to be `P2.P2` to access `foo();` since foo is declared in **P2.P2**. please clarify","body":"why other has to be <code>P2A</code>  isnt it enough for it to be <code>P2.P2</code> to access <code>foo();</code> since foo is declared in <b>P2.P2</b>. please clarify"},{"owner":{"display_name":"user6091735"},"score":1,"creation_date":1528523303,"post_id":14405008,"comment_id":88550108,"body_markdown":"*&quot;to  accessing protected members or protected methods from outside the same package you cant use the parent class object, only implementing class object can be used to access the protected members of parent class outside same package&quot;*","body":"<i>&quot;to  accessing protected members or protected methods from outside the same package you cant use the parent class object, only implementing class object can be used to access the protected members of parent class outside same package&quot;</i>"},{"owner":{"account_id":6740894,"reputation":95,"user_id":5194183,"accept_rate":38,"display_name":"Chandan Gupta"},"score":0,"creation_date":1629355642,"post_id":14405008,"comment_id":121665878,"body_markdown":"What if I write like \nP2 p = new P2A(); \np.foo(); \nEven this is not allowed, I am wondering why?","body":"What if I write like  P2 p = new P2A();  p.foo();  Even this is not allowed, I am wondering why?"}],"tags":[],"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"comment_count":5,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1699758274,"creation_date":1358532674,"answer_id":14405008,"question_id":14404260,"body_markdown":"Don&#39;t know the rationale, but JLS confirms this in [6.6.2. Details on protected Access][1] (emphasis mine):\r\n\r\n&gt; A protected member or constructor of an object may be accessed from *outside the package in which it is declared* only by code that is responsible for the implementation of that object.\r\n\r\nSo:\r\n\r\n    package P2;\r\n    public class P2 {\r\n    \tprotected void foo() {}\r\n    }\r\n\r\n    .........\r\n\r\n    package P2A;    \r\n    class P2A extends P2.P2 {\r\n    \tvoid bar(P2.P2 other) {\r\n    \t\tthis.foo(); // OK\r\n    \t\tother.foo();  // ERROR\r\n    \t}\r\n\r\n        void bar2(P2A other) { \r\n            other.foo(); //OK\r\n        }\r\n    }   \r\n\r\nIn `P2A.bar` a call to `this.foo()` is accessible because `this` is responsible for implementation of `P2` but `other.foo()` is not accessible because `other` may not be a `P2A`. `bar2` on the other hand has a `P2A` so it is all good.\r\n\r\nNow, why all is OK if they are all the same package but not if they are different packages? What is the rationale? I don&#39;t know and would like to know. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.6.2\r\n","title":"Call protected method from a subclass of another instance of different packages","body":"<p>Don't know the rationale, but JLS confirms this in <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.6.2\" rel=\"nofollow noreferrer\">6.6.2. Details on protected Access</a> (emphasis mine):</p>\n<blockquote>\n<p>A protected member or constructor of an object may be accessed from <em>outside the package in which it is declared</em> only by code that is responsible for the implementation of that object.</p>\n</blockquote>\n<p>So:</p>\n<pre><code>package P2;\npublic class P2 {\n    protected void foo() {}\n}\n\n.........\n\npackage P2A;    \nclass P2A extends P2.P2 {\n    void bar(P2.P2 other) {\n        this.foo(); // OK\n        other.foo();  // ERROR\n    }\n\n    void bar2(P2A other) { \n        other.foo(); //OK\n    }\n}   \n</code></pre>\n<p>In <code>P2A.bar</code> a call to <code>this.foo()</code> is accessible because <code>this</code> is responsible for implementation of <code>P2</code> but <code>other.foo()</code> is not accessible because <code>other</code> may not be a <code>P2A</code>. <code>bar2</code> on the other hand has a <code>P2A</code> so it is all good.</p>\n<p>Now, why all is OK if they are all the same package but not if they are different packages? What is the rationale? I don't know and would like to know.</p>\n"}],"owner":{"account_id":416369,"reputation":16459,"user_id":791713,"accept_rate":74,"display_name":"Niklas R"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37728,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":14404394,"answer_count":2,"score":6,"last_activity_date":1699758274,"creation_date":1358529798,"question_id":14404260,"body_markdown":"I want to invoke a protected method of another instance from within a subclass of the class providing this protected method. See the following example:\r\n\r\n\r\n    public class Nano {\r\n\r\n        protected void computeSize() {\r\n        }\r\n\r\n    }\r\n\r\n    public class NanoContainer extends Nano {\r\n\r\n        protected ArrayList&lt;Nano&gt; children;\r\n\r\n    }\r\n\r\n    public class SomeOtherNode extends NanoContainer {\r\n\r\n        // {Nano} Overrides\r\n\r\n        protected void computeSize() {\r\n            for (Nano child: children) {\r\n                child.computeSize();            // &lt;&lt; computeSize() has protected access in nanolay.Nano\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n`javac` tells me that `computeSize() has protected access in Nano`. I can&#39;t see the reason for this (I thought I was already doing this in some other code). I&#39;d like to keep this method being protected, what can I do? \r\n\r\n    javac version &quot;1.7.0_09&quot;\r\n\r\n## Edit\r\n\r\nI wanted to provide a stripped down version, but I didn&#39;t think about the fact, that the classes lie in different packages.\r\n\r\n    nanolay.Node\r\n    nanolay.NanoContainer\r\n    nanogui.SomeOtherNode","title":"Call protected method from a subclass of another instance of different packages","body":"<p>I want to invoke a protected method of another instance from within a subclass of the class providing this protected method. See the following example:</p>\n\n<pre><code>public class Nano {\n\n    protected void computeSize() {\n    }\n\n}\n\npublic class NanoContainer extends Nano {\n\n    protected ArrayList&lt;Nano&gt; children;\n\n}\n\npublic class SomeOtherNode extends NanoContainer {\n\n    // {Nano} Overrides\n\n    protected void computeSize() {\n        for (Nano child: children) {\n            child.computeSize();            // &lt;&lt; computeSize() has protected access in nanolay.Nano\n        }\n    }\n\n}\n</code></pre>\n\n<p><code>javac</code> tells me that <code>computeSize() has protected access in Nano</code>. I can't see the reason for this (I thought I was already doing this in some other code). I'd like to keep this method being protected, what can I do? </p>\n\n<pre><code>javac version \"1.7.0_09\"\n</code></pre>\n\n<h2>Edit</h2>\n\n<p>I wanted to provide a stripped down version, but I didn't think about the fact, that the classes lie in different packages.</p>\n\n<pre><code>nanolay.Node\nnanolay.NanoContainer\nnanogui.SomeOtherNode\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1578497809,"post_id":59649046,"comment_id":105459406,"body_markdown":"try removing this dependency `spring-boot-starter-tomcat`","body":"try removing this dependency <code>spring-boot-starter-tomcat</code>"},{"owner":{"account_id":12495309,"reputation":11912,"user_id":9095551,"display_name":"Beppe C"},"score":0,"creation_date":1578497880,"post_id":59649046,"comment_id":105459462,"body_markdown":"How do you run the app?","body":"How do you run the app?"},{"owner":{"account_id":2545216,"reputation":55,"user_id":2210154,"accept_rate":67,"display_name":"AnkushSeth"},"score":0,"creation_date":1578550807,"post_id":59649046,"comment_id":105476565,"body_markdown":"I simply run the app as SpringBoootApp  in STS or i click the green icon in main class","body":"I simply run the app as SpringBoootApp  in STS or i click the green icon in main class"}],"answers":[{"tags":[],"owner":{"account_id":2481649,"reputation":70,"user_id":2161014,"display_name":"Jitendra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578498605,"creation_date":1578498605,"answer_id":59649404,"question_id":59649046,"body_markdown":"Set Maven to you path and try from command prompt/ terminal with command: \r\nmvn clean install\r\nthis will create jar file in target folder.\r\ngo to target folder and run java -jar jarName.jar.\r\n\r\nOR \r\n\r\nTry cleaning the project from project tab,\r\nAdd all the maven dependencies to eclipse build path.\r\nThen try running it as java application.","title":"Spring Boot Hello World Example Not working","body":"<p>Set Maven to you path and try from command prompt/ terminal with command: \nmvn clean install\nthis will create jar file in target folder.\ngo to target folder and run java -jar jarName.jar.</p>\n\n<p>OR </p>\n\n<p>Try cleaning the project from project tab,\nAdd all the maven dependencies to eclipse build path.\nThen try running it as java application.</p>\n"},{"tags":[],"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578557457,"creation_date":1578553180,"answer_id":59658696,"question_id":59649046,"body_markdown":"It is caused by a corrupt Maven repository.\r\n\r\nDelete everything under `C:\\Users\\&lt;me&gt;\\.m2\\repository`.\r\n\r\nThen do Eclipse Maven Update, and it will work.\r\n\r\nit is like `spring-boot.jar` got corrupted.\r\n","title":"Spring Boot Hello World Example Not working","body":"<p>It is caused by a corrupt Maven repository.</p>\n\n<p>Delete everything under <code>C:\\Users\\&lt;me&gt;\\.m2\\repository</code>.</p>\n\n<p>Then do Eclipse Maven Update, and it will work.</p>\n\n<p>it is like <code>spring-boot.jar</code> got corrupted.</p>\n"},{"tags":[],"owner":{"account_id":16503923,"reputation":1,"user_id":11924490,"display_name":"Vinoj Manoj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699757842,"creation_date":1699757842,"answer_id":77467584,"question_id":59649046,"body_markdown":"try to add the packages in the annotations, it worked for me . \r\n\r\n@SpringBootApplication(scanBasePackages={&quot;package1&quot;,&quot;package2&quot;})\r\npublic class ExerciseApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ExerciseApplication.class, args);","title":"Spring Boot Hello World Example Not working","body":"<p>try to add the packages in the annotations, it worked for me .</p>\n<p>@SpringBootApplication(scanBasePackages={&quot;package1&quot;,&quot;package2&quot;})\npublic class ExerciseApplication {</p>\n<pre><code>public static void main(String[] args) {\n    SpringApplication.run(ExerciseApplication.class, args);\n</code></pre>\n"}],"owner":{"account_id":2545216,"reputation":55,"user_id":2210154,"accept_rate":67,"display_name":"AnkushSeth"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1680,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1699757842,"creation_date":1578497413,"question_id":59649046,"body_markdown":"I have downloaded spring boot example from https://start.spring.io/.\r\n\r\nI tried many times but i get same error again and again:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/boot/SpringApplication\r\n\tat com.example.demo.Application.main(Application.java:10)\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication\r\n```\r\n\r\nHere is my pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;SpringBoot&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;SpringBoot&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nand SpringBootClass\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n\r\n}\r\n```\r\nalso my ControllerClass\r\n\r\n```\r\npackage com.example.demo.controller;\r\n\r\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@EnableAutoConfiguration\r\npublic class HelloWorldController {\r\n\r\n@RequestMapping(&quot;/hello&quot;)\r\n@ResponseBody\r\npublic String sayHello() {\r\nreturn &quot;Hello World Developer!!!&quot;;\r\n}\r\n}\r\n```\r\n\r\n\r\nI am struggling from past three days and not getting any help from anywhere.\r\nI am using Spring Tool Suite\r\nI am new to Spring Boot and need help here ","title":"Spring Boot Hello World Example Not working","body":"<p>I have downloaded spring boot example from <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a>.</p>\n\n<p>I tried many times but i get same error again and again:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/springframework/boot/SpringApplication\n    at com.example.demo.Application.main(Application.java:10)\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication\n</code></pre>\n\n<p>Here is my pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.2.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;SpringBoot&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;SpringBoot&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>and SpringBootClass</p>\n\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n\n<p>also my ControllerClass</p>\n\n<pre><code>package com.example.demo.controller;\n\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@EnableAutoConfiguration\npublic class HelloWorldController {\n\n@RequestMapping(\"/hello\")\n@ResponseBody\npublic String sayHello() {\nreturn \"Hello World Developer!!!\";\n}\n}\n</code></pre>\n\n<p>I am struggling from past three days and not getting any help from anywhere.\nI am using Spring Tool Suite\nI am new to Spring Boot and need help here </p>\n"},{"tags":["java","android","jvm","build.gradle"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1699777054,"post_id":77467573,"comment_id":136572075,"body_markdown":"Try updating the Java version used to run Gradle. If that doesn&#39;t help, please show the full error.","body":"Try updating the Java version used to run Gradle. If that doesn&#39;t help, please show the full error."},{"owner":{"account_id":29875440,"reputation":1,"user_id":22895771,"display_name":"tmschaaf"},"score":0,"creation_date":1699912909,"post_id":77467573,"comment_id":136588238,"body_markdown":"Do you mean to update this:         compileOptions {sourceCompatibility = JavaVersion.VERSION_11\n        targetCompatibility = JavaVersion.VERSION_11 }  ?","body":"Do you mean to update this:         compileOptions {sourceCompatibility = JavaVersion.VERSION_11         targetCompatibility = JavaVersion.VERSION_11 }  ?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1699958401,"post_id":77467573,"comment_id":136593099,"body_markdown":"I am mainly talking about the Java installation (and `JAVA_HOME`) you are using for executing Gradle.","body":"I am mainly talking about the Java installation (and <code>JAVA_HOME</code>) you are using for executing Gradle."}],"owner":{"account_id":29875440,"reputation":1,"user_id":22895771,"display_name":"tmschaaf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699757452,"creation_date":1699757452,"question_id":77467573,"body_markdown":"Cause: androidx/room/RoomProcessor has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\n\r\nThe project I am compiling ran OK on a sdk version 26 mobile.  Now I am rebuilding it for sdk version 33.\r\n\r\nMy build.gradle:\r\n\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\nbuildscript {\r\n    ext {\r\n        // Android Gradle Project Version\r\n        agp_version = &#39;7.1.3&#39;\r\n        ///agp_version = &#39;7.2&#39;\r\n    }\r\n    repositories {\r\n        mavenCentral()\r\n        google()\r\n    }\r\n    dependencies {\r\n        ///classpath &#39;com.android.tools.build:gradle:7.1.3&#39;\r\n        classpath &quot;com.android.tools.build:gradle:$agp_version&quot;\r\n        \r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        mavenCentral()\r\n        google()\r\n        ///jcenter()\r\n        maven{url &#39;https://maven.google.com&#39;}\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n\r\n```\r\n\r\nMy build.gradle(:app):\r\n\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    ///compileSdkVersion 32\r\n    compileSdkVersion 34\r\n    defaultConfig {\r\n        applicationId &quot;com.tmschaaf.earthquakev&quot;        // was: com.cis2237.schaafp7\r\n        minSdkVersion 26\r\n        targetSdkVersion 34\r\n        versionCode 2\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    dataBinding.enabled = true\r\n    compileOptions {\r\n        ///sourceCompatibility = &#39;1.8&#39;\r\n        ///targetCompatibility = &#39;1.8&#39;\r\n        sourceCompatibility = JavaVersion.VERSION_11\r\n        targetCompatibility = JavaVersion.VERSION_11\r\n\r\n    }\r\n///    kotlinOptions {\r\n///        jvmTarget = &#39;11&#39;\r\n///    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    ///implementation &#39;androidx.appcompat:appcompat:1.0.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test:runner:1.5.2&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.3.2&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.10.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.11.0-beta01&#39;\r\n    implementation &#39;androidx.coordinatorlayout:coordinatorlayout:1.3.0-alpha02&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;androidx.preference:preference:1.2.1&#39;\r\n    implementation &#39;androidx.room:room-runtime:2.6.0&#39;\r\n    annotationProcessor &#39;androidx.room:room-compiler:2.6.0&#39;\r\n    testImplementation &#39;androidx.room:room-testing:2.6.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-maps:18.2.0&#39;\r\n    ///implementation &#39;android:exported:false&#39;\r\n    implementation &#39;androidx.activity:activity-ktx:1.8.0&#39;\r\n}\r\n\r\n// added 9/10/2023\r\nallprojects {\r\n    repositories {\r\n        maven {\r\n            url &quot;https://maven.google.com&quot;\r\n        }\r\n        google()\r\n    ///    jcenter()\r\n    ///    mavenCentral()\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nAs can be seen in some of the commented-out lines, I have tried several different options, including upgrading to gradle 7.2.  ","title":"Android Studio error: Cause: androidx/room/RoomProcessor has been compiled by a more recent version of the Java Runtime (class file version 61.0)","body":"<p>Cause: androidx/room/RoomProcessor has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0</p>\n<p>The project I am compiling ran OK on a sdk version 26 mobile.  Now I am rebuilding it for sdk version 33.</p>\n<p>My build.gradle:</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext {\n        // Android Gradle Project Version\n        agp_version = '7.1.3'\n        ///agp_version = '7.2'\n    }\n    repositories {\n        mavenCentral()\n        google()\n    }\n    dependencies {\n        ///classpath 'com.android.tools.build:gradle:7.1.3'\n        classpath &quot;com.android.tools.build:gradle:$agp_version&quot;\n        \n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        mavenCentral()\n        google()\n        ///jcenter()\n        maven{url 'https://maven.google.com'}\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\n</code></pre>\n<p>My build.gradle(:app):</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    ///compileSdkVersion 32\n    compileSdkVersion 34\n    defaultConfig {\n        applicationId &quot;com.tmschaaf.earthquakev&quot;        // was: com.cis2237.schaafp7\n        minSdkVersion 26\n        targetSdkVersion 34\n        versionCode 2\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    dataBinding.enabled = true\n    compileOptions {\n        ///sourceCompatibility = '1.8'\n        ///targetCompatibility = '1.8'\n        sourceCompatibility = JavaVersion.VERSION_11\n        targetCompatibility = JavaVersion.VERSION_11\n\n    }\n///    kotlinOptions {\n///        jvmTarget = '11'\n///    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    ///implementation 'androidx.appcompat:appcompat:1.0.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test:runner:1.5.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    implementation 'androidx.recyclerview:recyclerview:1.3.2'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\n    implementation 'com.google.android.material:material:1.10.0'\n    implementation 'com.google.android.material:material:1.11.0-beta01'\n    implementation 'androidx.coordinatorlayout:coordinatorlayout:1.3.0-alpha02'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'androidx.preference:preference:1.2.1'\n    implementation 'androidx.room:room-runtime:2.6.0'\n    annotationProcessor 'androidx.room:room-compiler:2.6.0'\n    testImplementation 'androidx.room:room-testing:2.6.0'\n    implementation 'com.google.android.gms:play-services-maps:18.2.0'\n    ///implementation 'android:exported:false'\n    implementation 'androidx.activity:activity-ktx:1.8.0'\n}\n\n// added 9/10/2023\nallprojects {\n    repositories {\n        maven {\n            url &quot;https://maven.google.com&quot;\n        }\n        google()\n    ///    jcenter()\n    ///    mavenCentral()\n    }\n}\n</code></pre>\n<p>As can be seen in some of the commented-out lines, I have tried several different options, including upgrading to gradle 7.2.</p>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1699529378,"post_id":77452748,"comment_id":136544907,"body_markdown":"Seems, you are looking for [`@JsonIgnore`](https://fasterxml.github.io/jackson-annotations/javadoc/2.5/com/fasterxml/jackson/annotation/JsonIgnore.html).","body":"Seems, you are looking for <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.5/com/fasterxml/jackson/annotation/JsonIgnore.html\" rel=\"nofollow noreferrer\"><code>@JsonIgnore</code></a>."}],"answers":[{"comments":[{"owner":{"account_id":24057005,"reputation":13,"user_id":18034705,"display_name":"Atish Bargaje"},"score":0,"creation_date":1699540099,"post_id":77452807,"comment_id":136547019,"body_markdown":"That would work for ID. Apart from ID I also get other two fields as well \n [&quot;meta&quot;:null,&quot;links&quot;:null] which are not part of DTO.","body":"That would work for ID. Apart from ID I also get other two fields as well   [&quot;meta&quot;:null,&quot;links&quot;:null] which are not part of DTO."},{"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"score":0,"creation_date":1699540658,"post_id":77452807,"comment_id":136547165,"body_markdown":"It is not clear to me where the `meta` and `links` is coming from.","body":"It is not clear to me where the <code>meta</code> and <code>links</code> is coming from."}],"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699529463,"creation_date":1699529463,"answer_id":77452807,"question_id":77452748,"body_markdown":"Use the annotation `@JsonIgnore` on the fields which you do not want to be serialized.\r\n\r\n     public class myDto {\r\n \r\n         @Id\r\n         @JsonIgnore\r\n         private String id;\r\n\r\nMore info on the annotation [@JsonIgnore][1].\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.5/com/fasterxml/jackson/annotation/JsonIgnore.html","title":"Convert Spring boot DTO to json to include only JsonProperty","body":"<p>Use the annotation <code>@JsonIgnore</code> on the fields which you do not want to be serialized.</p>\n<pre><code> public class myDto {\n\n     @Id\n     @JsonIgnore\n     private String id;\n</code></pre>\n<p>More info on the annotation <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.5/com/fasterxml/jackson/annotation/JsonIgnore.html\" rel=\"nofollow noreferrer\">@JsonIgnore</a>.</p>\n"},{"tags":[],"owner":{"account_id":29882307,"reputation":26,"user_id":22900839,"display_name":"Seungjun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699755911,"creation_date":1699755911,"answer_id":77467536,"question_id":77452748,"body_markdown":"You can set the ObjectMapper to not include fields that return a null value in the JSON.\r\n\r\n```\r\nobjectMapper.setSerializationInclusion(Include.NON_NULL)\r\n```","title":"Convert Spring boot DTO to json to include only JsonProperty","body":"<p>You can set the ObjectMapper to not include fields that return a null value in the JSON.</p>\n<pre><code>objectMapper.setSerializationInclusion(Include.NON_NULL)\n</code></pre>\n"}],"owner":{"account_id":24057005,"reputation":13,"user_id":18034705,"display_name":"Atish Bargaje"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699755911,"creation_date":1699528891,"question_id":77452748,"body_markdown":"```\r\n @JsonPropertyOrder({\r\n     &quot;aaaa&quot;,\r\n     &quot;bbb&quot;,\r\n     &quot;cccc&quot;\r\n     })\r\n\r\n public class myDto {\r\n \r\n     @Id\r\n     private String id;\r\n \r\n     @Valid\r\n     @NotNull\r\n     @JsonProperty(&quot;aaaa&quot;)\r\n     private String aaaa;\r\n \r\n     @Valid\r\n     @NotNull\r\n     @JsonProperty(&quot;bbbb&quot;)\r\n     private List&lt;String&gt; bbbb;\r\n \r\n     @Valid\r\n     @NotNull\r\n     @JsonProperty(&quot;cccc&quot;)\r\n     private List&lt;String&gt; cccc;\r\n \r\n\t// getter and setter for above 4\r\n }\r\n```\r\n\r\nI want to convert it to JSON to include field aaaa, bbbb, ccc only.\r\nExpected output: ` {&quot;aaaa&quot;:&quot;1&quot;,&quot;bbbb&quot;:[&quot;1&quot;],&quot;cccc&quot;:[&quot;1&quot;]}`\r\n\r\n\r\nI tried to create JSON using following but it included ID field, meta, link fields as well.\r\n\r\n```\r\n String test = objectMapper.writeValueAsString(myDto); \r\n configuration = new JSONObject(test);\r\n```\r\n\r\nOutput: `{&quot;aaaa&quot;:&quot;1&quot;,&quot;bbbb&quot;:[&quot;1&quot;],&quot;cccc&quot;:[&quot;1&quot;],&quot;meta&quot;:null,&quot;links&quot;:null,&quot;id&quot;:null}`\r\n\r\nExpected output: ` {&quot;aaaa&quot;:&quot;1&quot;,&quot;bbbb&quot;:[&quot;1&quot;],&quot;cccc&quot;:[&quot;1&quot;]}`\r\n","title":"Convert Spring boot DTO to json to include only JsonProperty","body":"<pre><code> @JsonPropertyOrder({\n     &quot;aaaa&quot;,\n     &quot;bbb&quot;,\n     &quot;cccc&quot;\n     })\n\n public class myDto {\n \n     @Id\n     private String id;\n \n     @Valid\n     @NotNull\n     @JsonProperty(&quot;aaaa&quot;)\n     private String aaaa;\n \n     @Valid\n     @NotNull\n     @JsonProperty(&quot;bbbb&quot;)\n     private List&lt;String&gt; bbbb;\n \n     @Valid\n     @NotNull\n     @JsonProperty(&quot;cccc&quot;)\n     private List&lt;String&gt; cccc;\n \n    // getter and setter for above 4\n }\n</code></pre>\n<p>I want to convert it to JSON to include field aaaa, bbbb, ccc only.\nExpected output: <code> {&quot;aaaa&quot;:&quot;1&quot;,&quot;bbbb&quot;:[&quot;1&quot;],&quot;cccc&quot;:[&quot;1&quot;]}</code></p>\n<p>I tried to create JSON using following but it included ID field, meta, link fields as well.</p>\n<pre><code> String test = objectMapper.writeValueAsString(myDto); \n configuration = new JSONObject(test);\n</code></pre>\n<p>Output: <code>{&quot;aaaa&quot;:&quot;1&quot;,&quot;bbbb&quot;:[&quot;1&quot;],&quot;cccc&quot;:[&quot;1&quot;],&quot;meta&quot;:null,&quot;links&quot;:null,&quot;id&quot;:null}</code></p>\n<p>Expected output: <code> {&quot;aaaa&quot;:&quot;1&quot;,&quot;bbbb&quot;:[&quot;1&quot;],&quot;cccc&quot;:[&quot;1&quot;]}</code></p>\n"},{"tags":["java","maven","file-io","exe"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699756319,"post_id":77467376,"comment_id":136571068,"body_markdown":"A resource folder is not a directory and cannot be listed. Resources are not files, either. When you executed in the IDE the resources were coming from the file system, not the JAR file.","body":"A resource folder is not a directory and cannot be listed. Resources are not files, either. When you executed in the IDE the resources were coming from the file system, not the JAR file."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699753448,"creation_date":1699753448,"answer_id":77467467,"question_id":77467376,"body_markdown":"&gt; `new File(Utillity.class.getResource(&quot;files&quot;).getPath()).list();`\r\n\r\nThere&#39;s your problem. __You cannot LIST resources, period.__\r\n\r\nOne serious problem is that the above code works &#39;fine&#39; if your resources aren&#39;t jarred up. More robust takes on this idea even work on certain platforms (where you attempt to get a dir as a resource and open it, on some platforms you get a listing), but __it is not supported__ - the spec does not mention that a classloader has to support this, and indeed, many do not.\r\n\r\nThe conclusion is simply: It is __impossible to list resources__. If you run into a library that says it can, it is lying: At best it is a hack that only works under certain conditions.\r\n\r\nThe standard workaround is what you should use for this - Service Loaders.\r\n\r\nThe  concept works as follows:\r\n\r\n* Either the programmers write it out by hand, or use a build system plugin, to end up with a text file containing the listing you are interested in. This text file is then included in a hardcoded path.\r\n* The application then loads _that text file_ - which is fine. The resource system cannot list you contents of directories. But it has no problem giving you the full contents of a text file in a known location.\r\n* This listing is then used to load whatever you need to load.\r\n\r\nThere&#39;s even a class baked into java that can do this: `ServiceLoader`. You should search the web for tutorials with that term and you&#39;ll find tons.\r\n\r\nThere are lots of libraries and blog posts out there that try to work around this. Some for example get resources as URLs and then try to parse these and e.g. open up jar files. The thing is, the ClassLoader system is entirely abstract. A ClassLoader can load resources from the network, decrypt them on the fly, or make them up whole cloth. __And they do not have to support listing as a primitive__. Hence, any such attempt is incomplete. Use the service loader paradigm, as that is &#39;complete&#39; - it works regardless of classloader implementation.\r\n\r\n","title":"Java executable can not read resources folder","body":"<blockquote>\n<p><code>new File(Utillity.class.getResource(&quot;files&quot;).getPath()).list();</code></p>\n</blockquote>\n<p>There's your problem. <strong>You cannot LIST resources, period.</strong></p>\n<p>One serious problem is that the above code works 'fine' if your resources aren't jarred up. More robust takes on this idea even work on certain platforms (where you attempt to get a dir as a resource and open it, on some platforms you get a listing), but <strong>it is not supported</strong> - the spec does not mention that a classloader has to support this, and indeed, many do not.</p>\n<p>The conclusion is simply: It is <strong>impossible to list resources</strong>. If you run into a library that says it can, it is lying: At best it is a hack that only works under certain conditions.</p>\n<p>The standard workaround is what you should use for this - Service Loaders.</p>\n<p>The  concept works as follows:</p>\n<ul>\n<li>Either the programmers write it out by hand, or use a build system plugin, to end up with a text file containing the listing you are interested in. This text file is then included in a hardcoded path.</li>\n<li>The application then loads <em>that text file</em> - which is fine. The resource system cannot list you contents of directories. But it has no problem giving you the full contents of a text file in a known location.</li>\n<li>This listing is then used to load whatever you need to load.</li>\n</ul>\n<p>There's even a class baked into java that can do this: <code>ServiceLoader</code>. You should search the web for tutorials with that term and you'll find tons.</p>\n<p>There are lots of libraries and blog posts out there that try to work around this. Some for example get resources as URLs and then try to parse these and e.g. open up jar files. The thing is, the ClassLoader system is entirely abstract. A ClassLoader can load resources from the network, decrypt them on the fly, or make them up whole cloth. <strong>And they do not have to support listing as a primitive</strong>. Hence, any such attempt is incomplete. Use the service loader paradigm, as that is 'complete' - it works regardless of classloader implementation.</p>\n"}],"owner":{"account_id":29882032,"reputation":1,"user_id":22900642,"display_name":"heapyams"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1699756330,"accepted_answer_id":77467467,"answer_count":1,"score":-2,"last_activity_date":1699755905,"creation_date":1699750414,"question_id":77467376,"body_markdown":"I&#39;m struggling with this issue now for a while and want to ask if anyone of you has experience with Java resource files in executables. \r\n\r\nI have a java application build with maven directly converting the jar to an exe.\r\n\r\npom.xml\r\n```\r\n&lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;${basedir}/src/main/resources&lt;/directory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;**/*&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;20&lt;/source&gt;\r\n                    &lt;target&gt;20&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;com.example.package/com.example.package.Main&lt;/mainClass&gt;\r\n                            &lt;launcher&gt;${project.artifactId}&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;${project.artifactId}&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;${project.artifactId}&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                            &lt;compress&gt;2&lt;/compress&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jlink&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;exec&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;executable&gt;${project.basedir}\\tools\\warp-packer.exe&lt;/executable&gt;\r\n                    &lt;arguments&gt;\r\n                        &lt;argument&gt;--arch&lt;/argument&gt;\r\n                        &lt;argument&gt;windows-x64&lt;/argument&gt;\r\n\r\n                        &lt;argument&gt;--input_dir&lt;/argument&gt;\r\n                        &lt;argument&gt;${project.build.directory}\\${project.artifactId}&lt;/argument&gt;\r\n\r\n                        &lt;argument&gt;--exec&lt;/argument&gt;\r\n                        &lt;argument&gt;bin\\${project.artifactId}.bat&lt;/argument&gt;\r\n\r\n                        &lt;argument&gt;--output&lt;/argument&gt;\r\n                        &lt;argument&gt;${project.build.directory}\\${project.artifactId}.exe&lt;/argument&gt;\r\n                    &lt;/arguments&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nThe code contains a function trying to read all files in a resource folder: \r\n\r\n```\r\npublic static String [] getFiles(){\r\n    String[] outStrings = new File(Utillity.class.getResource(&quot;files&quot;).getPath()).list();\r\n    System.out.println(Arrays.toString(out_strings));\r\n    return outStrings;\r\n}\r\n```\r\nThis function causes an Exception getting executed as exe, because `getResource(&quot;files&quot;)` returns null. In the IDE is working everything fine. \r\n \r\n\r\n\r\n\r\n\r\nAfter investigation I found that because I&#39;m working in a jar environment I have to be careful with files. \r\n\r\nAfter a look in several [tutorials](https://mkyong.com/java/java-read-a-file-from-resources-folder/) i tried figuring out a global path. This failed. For example this code: \r\n\r\n```\r\nString jarPath = CallingPythonScripts.class\r\n    .getProtectionDomain()\r\n    .getCodeSource()\r\n    .getLocation()\r\n    .toURI()\r\n    .getPath();\r\nSystem.out.println(&quot;JAR Path : &quot; + jarPath);\r\n\r\n// Get name of the JAR file\r\nString jarName = jarPath.substring(jarPath.lastIndexOf(&quot;/&quot;) + 1);\r\nSystem.out.println(&quot;JAR Name: &quot; + jarName);\r\n```\r\nprovided the following output:\r\n\r\n```\r\nJAR Path: /com.example.package\r\nJAR Name: com.example.package\r\n```\r\n\r\nI also know that there has to be some kind of working solution, because the following code provides the content of a test file in the same folder hierachy level as the &quot;files&quot; folder:\r\n\r\n```\r\nInputStream is = CallingPythonScripts.class.getResourceAsStream(&quot;demo.txt&quot;);\r\n\r\ntry (\r\n   InputStreamReader isr = new InputStreamReader(is, StandardCharsets.UTF_8);\r\n   BufferedReader br = new BufferedReader(isr)) {\r\n\r\n       br.lines().forEach(line -&gt; System.out.println(line));\r\n}catch (IOException e){\r\n    e.printStackTrace();\r\n}\r\n```\r\nAlso instead of &quot;demo.txt&quot;, &quot;files/demo2.txt&quot; is readable. For the folder itself it returns null. \r\n\r\nI&#39;m quite sure it has something to do with the internal file representation. Also in the IDE everything is working fine, just the execution of the exe causes this. \r\n","title":"Java executable can not read resources folder","body":"<p>I'm struggling with this issue now for a while and want to ask if anyone of you has experience with Java resource files in executables.</p>\n<p>I have a java application build with maven directly converting the jar to an exe.</p>\n<p>pom.xml</p>\n<pre><code>&lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;${basedir}/src/main/resources&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;20&lt;/source&gt;\n                    &lt;target&gt;20&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;com.example.package/com.example.package.Main&lt;/mainClass&gt;\n                            &lt;launcher&gt;${project.artifactId}&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;${project.artifactId}&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;${project.artifactId}&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                            &lt;compress&gt;2&lt;/compress&gt;\n                        &lt;/configuration&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jlink&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;exec&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;${project.basedir}\\tools\\warp-packer.exe&lt;/executable&gt;\n                    &lt;arguments&gt;\n                        &lt;argument&gt;--arch&lt;/argument&gt;\n                        &lt;argument&gt;windows-x64&lt;/argument&gt;\n\n                        &lt;argument&gt;--input_dir&lt;/argument&gt;\n                        &lt;argument&gt;${project.build.directory}\\${project.artifactId}&lt;/argument&gt;\n\n                        &lt;argument&gt;--exec&lt;/argument&gt;\n                        &lt;argument&gt;bin\\${project.artifactId}.bat&lt;/argument&gt;\n\n                        &lt;argument&gt;--output&lt;/argument&gt;\n                        &lt;argument&gt;${project.build.directory}\\${project.artifactId}.exe&lt;/argument&gt;\n                    &lt;/arguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>The code contains a function trying to read all files in a resource folder:</p>\n<pre><code>public static String [] getFiles(){\n    String[] outStrings = new File(Utillity.class.getResource(&quot;files&quot;).getPath()).list();\n    System.out.println(Arrays.toString(out_strings));\n    return outStrings;\n}\n</code></pre>\n<p>This function causes an Exception getting executed as exe, because <code>getResource(&quot;files&quot;)</code> returns null. In the IDE is working everything fine.</p>\n<p>After investigation I found that because I'm working in a jar environment I have to be careful with files.</p>\n<p>After a look in several <a href=\"https://mkyong.com/java/java-read-a-file-from-resources-folder/\" rel=\"nofollow noreferrer\">tutorials</a> i tried figuring out a global path. This failed. For example this code:</p>\n<pre><code>String jarPath = CallingPythonScripts.class\n    .getProtectionDomain()\n    .getCodeSource()\n    .getLocation()\n    .toURI()\n    .getPath();\nSystem.out.println(&quot;JAR Path : &quot; + jarPath);\n\n// Get name of the JAR file\nString jarName = jarPath.substring(jarPath.lastIndexOf(&quot;/&quot;) + 1);\nSystem.out.println(&quot;JAR Name: &quot; + jarName);\n</code></pre>\n<p>provided the following output:</p>\n<pre><code>JAR Path: /com.example.package\nJAR Name: com.example.package\n</code></pre>\n<p>I also know that there has to be some kind of working solution, because the following code provides the content of a test file in the same folder hierachy level as the &quot;files&quot; folder:</p>\n<pre><code>InputStream is = CallingPythonScripts.class.getResourceAsStream(&quot;demo.txt&quot;);\n\ntry (\n   InputStreamReader isr = new InputStreamReader(is, StandardCharsets.UTF_8);\n   BufferedReader br = new BufferedReader(isr)) {\n\n       br.lines().forEach(line -&gt; System.out.println(line));\n}catch (IOException e){\n    e.printStackTrace();\n}\n</code></pre>\n<p>Also instead of &quot;demo.txt&quot;, &quot;files/demo2.txt&quot; is readable. For the folder itself it returns null.</p>\n<p>I'm quite sure it has something to do with the internal file representation. Also in the IDE everything is working fine, just the execution of the exe causes this.</p>\n"},{"tags":["java","spring-boot","clean-architecture"],"answers":[{"tags":[],"owner":{"account_id":18239208,"reputation":164,"user_id":13276541,"display_name":"Ahmed Mera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699754974,"creation_date":1699701418,"answer_id":77464854,"question_id":77464741,"body_markdown":"You can use this solution:\r\n\r\nThe method in you Controller Class:\r\n```\r\n@PostMapping(path = &quot;/update/info&quot;)\r\nResponseEntity&lt;Object&gt; updateInfo(@RequestBody Info request) {\r\n     Info info = new Info(request.getXXX());\r\n     try {\r\n\t\t Object res = updateInfoUseCase.updateInfo(info);\r\n\t\t return ResponseEntity.ok().body(res);\r\n\t }catch (RestClientException e){\r\n       \treturn ResponseEntity.status(HttpStatus.NOT_MODIFIED).body(e);\r\n\t } \r\n}\r\n```\r\nThe Method that call External API\r\n```\r\n@Override\r\npublic Objcet updateInfo(String info) {\r\n  RestTemplate restTemplate = new RestTemplate();\r\n  return restTemplate.postForObject(URL, request, Object.class);\r\n}\r\n```  \r\nIf you want you can **use** **```@RestControllerAdvice```** to centralize handeler error and manage the response in case KO like this case.","title":"Send Response Entity Gateway API ( Adapter port out) to Controller Input API with Clean Architecture","body":"<p>You can use this solution:</p>\n<p>The method in you Controller Class:</p>\n<pre><code>@PostMapping(path = &quot;/update/info&quot;)\nResponseEntity&lt;Object&gt; updateInfo(@RequestBody Info request) {\n     Info info = new Info(request.getXXX());\n     try {\n         Object res = updateInfoUseCase.updateInfo(info);\n         return ResponseEntity.ok().body(res);\n     }catch (RestClientException e){\n        return ResponseEntity.status(HttpStatus.NOT_MODIFIED).body(e);\n     } \n}\n</code></pre>\n<p>The Method that call External API</p>\n<pre><code>@Override\npublic Objcet updateInfo(String info) {\n  RestTemplate restTemplate = new RestTemplate();\n  return restTemplate.postForObject(URL, request, Object.class);\n}\n</code></pre>\n<p>If you want you can <strong>use</strong> <strong><code>@RestControllerAdvice</code></strong> to centralize handeler error and manage the response in case KO like this case.</p>\n"}],"owner":{"account_id":29878371,"reputation":1,"user_id":22897956,"display_name":"Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699754974,"creation_date":1699698959,"question_id":77464741,"body_markdown":"I&#39;m trying to develop a project JAVA based on Clean Architecture,\r\n\r\nI have an API Input with Request Update who call application service.\r\n\r\nThis Application service call the Adapter Out (External Gateway) because I need to call an External API for get some information before complete operations.\r\n\r\nLet me show you a little bit of the code to better understand: \r\n\r\n\r\n**Controller API :**\r\n\r\n    @PostMapping(path = &quot;/update/info&quot;)\r\n    void updateInfo(@RequestBody Info request) {\r\n    Info info = new Info(request.getXXX());\r\n    updateInfoUseCase.updateInfo(info);\r\n    }\r\n\r\n\r\n\r\nIn the application package, I have an interface for implemnts this use case, and I have in \r\nAdapter out (where located the External API GATEWAY) and I have something like this: \r\n\r\n\r\n**External Gateway API (Adapter OUT)**\r\n\r\n    @Override\r\n    public void updateInfo(String info) {\r\n    //Here i need to call several times external API with RestTemplate\r\n    }\r\n    }\r\n\r\n\r\n\r\n\r\nMy question is if the external API response failed or cannot update info, how can I send the response to the API Input for the user client?\r\n\r\nI really hope to find some help, I hope my example is clear enough\r\n\r\n","title":"Send Response Entity Gateway API ( Adapter port out) to Controller Input API with Clean Architecture","body":"<p>I'm trying to develop a project JAVA based on Clean Architecture,</p>\n<p>I have an API Input with Request Update who call application service.</p>\n<p>This Application service call the Adapter Out (External Gateway) because I need to call an External API for get some information before complete operations.</p>\n<p>Let me show you a little bit of the code to better understand:</p>\n<p><strong>Controller API :</strong></p>\n<pre><code>@PostMapping(path = &quot;/update/info&quot;)\nvoid updateInfo(@RequestBody Info request) {\nInfo info = new Info(request.getXXX());\nupdateInfoUseCase.updateInfo(info);\n}\n</code></pre>\n<p>In the application package, I have an interface for implemnts this use case, and I have in\nAdapter out (where located the External API GATEWAY) and I have something like this:</p>\n<p><strong>External Gateway API (Adapter OUT)</strong></p>\n<pre><code>@Override\npublic void updateInfo(String info) {\n//Here i need to call several times external API with RestTemplate\n}\n}\n</code></pre>\n<p>My question is if the external API response failed or cannot update info, how can I send the response to the API Input for the user client?</p>\n<p>I really hope to find some help, I hope my example is clear enough</p>\n"},{"tags":["java","macos"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1699746950,"post_id":77467170,"comment_id":136570536,"body_markdown":"Why the `java-8` tag if you are using JDK 21? Why did you thought that the ulimit -c would be helpful? Have you tried with other JDK versions?","body":"Why the <code>java-8</code> tag if you are using JDK 21? Why did you thought that the ulimit -c would be helpful? Have you tried with other JDK versions?"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699752875,"creation_date":1699752875,"answer_id":77467452,"question_id":77467170,"body_markdown":"Seems to be a bug in a an Apple component for macOS 14 Sonoma that impacts the Homebrew distribution of the JDK: https://github.com/Homebrew/homebrew-core/issues/150824.\r\n\r\nTry some other distributions or a previous version of the JDK.","title":"How to fix error using java to run logisisim","body":"<p>Seems to be a bug in a an Apple component for macOS 14 Sonoma that impacts the Homebrew distribution of the JDK: <a href=\"https://github.com/Homebrew/homebrew-core/issues/150824\" rel=\"nofollow noreferrer\">https://github.com/Homebrew/homebrew-core/issues/150824</a>.</p>\n<p>Try some other distributions or a previous version of the JDK.</p>\n"}],"owner":{"account_id":29881569,"reputation":1,"user_id":22900322,"display_name":"Muaji"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699752979,"creation_date":1699743935,"question_id":77467170,"body_markdown":"I am trying to open logisim with the following command\r\n```\r\n(base) MacBook-Pro-2:proj3 muaji$ java -jar tools/logisim-evolution.jar\r\n```\r\nI get this error, and am not sure what to do:\r\n```\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n\r\n# \r\n\r\n# SIGILL (0x4) at pc=0x00007ff816429bc5, pid=3151, tid=259\r\n\r\n# \r\n\r\n# JRE version: OpenJDK Runtime Environment Homebrew (21.0.1) (build 21.0.1)\r\n\r\n# Java VM: OpenJDK 64-Bit Server VM Homebrew (21.0.1, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, bsd-amd64)\r\n\r\n# Problematic frame:\r\n\r\n# C  \\[AppKit+0xc92bc5\\]  \\_NSCarbonMenuCrashIfNeeded+0x258\r\n\r\n# \r\n\r\n# No core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n\r\n# \r\n\r\n# An error report file with more information is saved as:\r\n\r\n# /Users/muaji/Desktop/CS/proj3/hs_err_pid3151.log\r\n\r\n# \r\n\r\n# If you would like to submit a bug report, please visit:\r\n\r\n# https://github.com/Homebrew/homebrew-core/issues\r\n\r\n# The crash happened outside the Java Virtual Machine in native code.\r\n\r\n# See problematic frame for where to report the bug.\r\n\r\nAbort trap: 6\r\n```\r\nDoes anyone know what to do? I have already tried running &quot;ulimit -c unlimited&quot;, and it doesn&#39;t seem to help. Any help would be appreciated thanks","title":"How to fix error using java to run logisisim","body":"<p>I am trying to open logisim with the following command</p>\n<pre><code>(base) MacBook-Pro-2:proj3 muaji$ java -jar tools/logisim-evolution.jar\n</code></pre>\n<p>I get this error, and am not sure what to do:</p>\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n\n# \n\n# SIGILL (0x4) at pc=0x00007ff816429bc5, pid=3151, tid=259\n\n# \n\n# JRE version: OpenJDK Runtime Environment Homebrew (21.0.1) (build 21.0.1)\n\n# Java VM: OpenJDK 64-Bit Server VM Homebrew (21.0.1, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, bsd-amd64)\n\n# Problematic frame:\n\n# C  \\[AppKit+0xc92bc5\\]  \\_NSCarbonMenuCrashIfNeeded+0x258\n\n# \n\n# No core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n\n# \n\n# An error report file with more information is saved as:\n\n# /Users/muaji/Desktop/CS/proj3/hs_err_pid3151.log\n\n# \n\n# If you would like to submit a bug report, please visit:\n\n# https://github.com/Homebrew/homebrew-core/issues\n\n# The crash happened outside the Java Virtual Machine in native code.\n\n# See problematic frame for where to report the bug.\n\nAbort trap: 6\n</code></pre>\n<p>Does anyone know what to do? I have already tried running &quot;ulimit -c unlimited&quot;, and it doesn't seem to help. Any help would be appreciated thanks</p>\n"},{"tags":["java","swing","jformattedtextfield"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1699738102,"post_id":77466655,"comment_id":136569902,"body_markdown":"Why not just leave the `MaskFormatter` on all the time?  There is a `JPasswordField` for passwords.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"Why not just leave the <code>MaskFormatter</code> on all the time?  There is a <code>JPasswordField</code> for passwords.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."}],"answers":[{"comments":[{"owner":{"account_id":29694129,"reputation":9,"user_id":22757847,"display_name":"tumorito"},"score":0,"creation_date":1699745644,"post_id":77467102,"comment_id":136570465,"body_markdown":"The problem with that class is that it uses the setText method, i can&#180;t use that since i have the maskFormatter. For example: if i want to write &quot;enter your username&quot; but the maskFormatter only allows a 00000000A format, the &quot;placeholder&quot; wont be written","body":"The problem with that class is that it uses the setText method, i can&#180;t use that since i have the maskFormatter. For example: if i want to write &quot;enter your username&quot; but the maskFormatter only allows a 00000000A format, the &quot;placeholder&quot; wont be written"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1699752276,"post_id":77467102,"comment_id":136570854,"body_markdown":"*The problem with that class is that it uses the setText method* - which is why you should be using the TextPrompt class. That was the first suggestion. Other suggestion deleted.","body":"<i>The problem with that class is that it uses the setText method</i> - which is why you should be using the TextPrompt class. That was the first suggestion. Other suggestion deleted."}],"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699752418,"creation_date":1699742183,"answer_id":77467102,"question_id":77466655,"body_markdown":"&gt;  i have a &quot;placeholder&quot;\r\n\r\nMaybe you can use the [Text Prompt](https://tips4java.wordpress.com/2009/11/29/text-prompt/) which was designed to display &quot;prompt text&quot; in a text field when no text has been entered.\r\n\r\nThe code doesn&#39;t work as is with a JFormattedTextField because the formatted text field appears to add spaces to the Document based on the size of the mask.\r\n\r\nIn the `checkForPrompt()` method of the above class you can try changing the code to:\r\n\r\n    //if (document.getLength() &gt; 0)\r\n\tif (component.getText().trim().length() &gt; 0)\r\n\r\nto see if it works the way you want.\r\n\r\nNote the Text Prompt class allows you so specify the prompt color so you don&#39;t need to change the foreground of the formatted text field.","title":"Change MaskFormatter in JFormattedTextField","body":"<blockquote>\n<p>i have a &quot;placeholder&quot;</p>\n</blockquote>\n<p>Maybe you can use the <a href=\"https://tips4java.wordpress.com/2009/11/29/text-prompt/\" rel=\"nofollow noreferrer\">Text Prompt</a> which was designed to display &quot;prompt text&quot; in a text field when no text has been entered.</p>\n<p>The code doesn't work as is with a JFormattedTextField because the formatted text field appears to add spaces to the Document based on the size of the mask.</p>\n<p>In the <code>checkForPrompt()</code> method of the above class you can try changing the code to:</p>\n<pre><code>//if (document.getLength() &gt; 0)\nif (component.getText().trim().length() &gt; 0)\n</code></pre>\n<p>to see if it works the way you want.</p>\n<p>Note the Text Prompt class allows you so specify the prompt color so you don't need to change the foreground of the formatted text field.</p>\n"}],"owner":{"account_id":29694129,"reputation":9,"user_id":22757847,"display_name":"tumorito"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699752418,"creation_date":1699732752,"question_id":77466655,"body_markdown":"I&#180;m doing a simple log in application on java where the user input is a **JFormattedTextField** that has a MaskFormatter. What I want to do is where the **JFormattedTextField** loses focus want to delete the MaskFormatter (because i have a &quot;placeholder&quot;) and add the MaskFormatter whenever it has the focus again (so the MaskFormatter only applies when the user is actually in the **JFormattedTextField**. The only way i&#180;ve found to add the MaskFormatter is via the constructor. Here is some code:\r\n```\r\nusuario = new JFormattedTextField(new MaskFormatter(&quot;########U&quot;));\r\nusuario.addFocusListener(this);\r\nusuario.setBounds(64, 182, 267, 24);\r\nusuario.setBorder(null);\r\nusuario.setText(&quot;Introduce tu nombre de usuario&quot;);\r\nusuario.setForeground(new Color(204, 204, 204));\r\nusuario.setFont(new Font(&quot;Cascadia Code&quot;, Font.PLAIN, 11));\r\ncontentPane.add(usuario);\r\n```\r\n\r\n```\r\n@Override\r\n\tpublic void focusGained(FocusEvent e) {\r\n\t\tif (usuario == e.getSource()) {\r\n                        // set MaskFormatter here\r\n\t\t\tif (usuario.getText().equals(&quot;Introduce tu nombre de usuario&quot;)) {\r\n\t\t\t\tusuario.setText(&quot;&quot;);\r\n\t\t\t\tusuario.setForeground(Color.BLACK);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n\r\n```\r\n@Override\r\n\tpublic void focusLost(FocusEvent e) {\r\n\t\tif (usuario == e.getSource()) {\r\n                        // remove MaskFormatter here\r\n\t\t\tif (usuario.getText().equals(&quot;&quot;)) {\r\n\t\t\t\tusuario.setText(&quot;Introduce tu nombre de usuario&quot;);\r\n\t\t\t\tusuario.setForeground(new Color(204, 204, 204));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n\r\n\r\n\r\n\r\ni&#180;ve tried to work around with setFormatterFactory method but i dont know how it works, also couldn&#180;t find anything on the internet","title":"Change MaskFormatter in JFormattedTextField","body":"<p>I´m doing a simple log in application on java where the user input is a <strong>JFormattedTextField</strong> that has a MaskFormatter. What I want to do is where the <strong>JFormattedTextField</strong> loses focus want to delete the MaskFormatter (because i have a &quot;placeholder&quot;) and add the MaskFormatter whenever it has the focus again (so the MaskFormatter only applies when the user is actually in the <strong>JFormattedTextField</strong>. The only way i´ve found to add the MaskFormatter is via the constructor. Here is some code:</p>\n<pre><code>usuario = new JFormattedTextField(new MaskFormatter(&quot;########U&quot;));\nusuario.addFocusListener(this);\nusuario.setBounds(64, 182, 267, 24);\nusuario.setBorder(null);\nusuario.setText(&quot;Introduce tu nombre de usuario&quot;);\nusuario.setForeground(new Color(204, 204, 204));\nusuario.setFont(new Font(&quot;Cascadia Code&quot;, Font.PLAIN, 11));\ncontentPane.add(usuario);\n</code></pre>\n<pre><code>@Override\n    public void focusGained(FocusEvent e) {\n        if (usuario == e.getSource()) {\n                        // set MaskFormatter here\n            if (usuario.getText().equals(&quot;Introduce tu nombre de usuario&quot;)) {\n                usuario.setText(&quot;&quot;);\n                usuario.setForeground(Color.BLACK);\n            }\n        }\n    }\n</code></pre>\n<pre><code>@Override\n    public void focusLost(FocusEvent e) {\n        if (usuario == e.getSource()) {\n                        // remove MaskFormatter here\n            if (usuario.getText().equals(&quot;&quot;)) {\n                usuario.setText(&quot;Introduce tu nombre de usuario&quot;);\n                usuario.setForeground(new Color(204, 204, 204));\n            }\n        }\n    }\n</code></pre>\n<p>i´ve tried to work around with setFormatterFactory method but i dont know how it works, also couldn´t find anything on the internet</p>\n"},{"tags":["java","devops","etl","apache-nifi"],"owner":{"account_id":11133822,"reputation":1,"user_id":11401017,"display_name":"itskushal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699750582,"creation_date":1699721820,"question_id":77465998,"body_markdown":"I&#39;m using an invokeHttp processor in nifi to make an api call to fetch some data, but from past few days this processor gets stuck with a thread showing on top in processing state. So I have to manually stop and terminate the processor and start again so that the data in queue above starts processing.  After this manual terminate an restart it works fine for some time just to get stuck after sometime. I have added timeout in the processor but this does not help as no failure is generated event after the timeout.\r\n\r\n[I have stopped the invoke https manually](https://i.stack.imgur.com/DyxC4.png)\r\n\r\nThis issue has recently occurred and earlier the same flow was working correctly, and i have tried changing the timeout the invokeHttp processor but not getting any failure when the processor is stuck for long period of time.","title":"InvokeHttp processor is gets stuck in processing state, and does not fail even after specified timeout causing flow files to pile up in queue above","body":"<p>I'm using an invokeHttp processor in nifi to make an api call to fetch some data, but from past few days this processor gets stuck with a thread showing on top in processing state. So I have to manually stop and terminate the processor and start again so that the data in queue above starts processing.  After this manual terminate an restart it works fine for some time just to get stuck after sometime. I have added timeout in the processor but this does not help as no failure is generated event after the timeout.</p>\n<p><a href=\"https://i.stack.imgur.com/DyxC4.png\" rel=\"nofollow noreferrer\">I have stopped the invoke https manually</a></p>\n<p>This issue has recently occurred and earlier the same flow was working correctly, and i have tried changing the timeout the invokeHttp processor but not getting any failure when the processor is stuck for long period of time.</p>\n"},{"tags":["java","arrays","methods"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":2,"creation_date":1699735636,"post_id":77466765,"comment_id":136569656,"body_markdown":"You iterate over the entire array. Which means that if you swapped an element in the first half, you will swap it back again when you reach it again in the second half.","body":"You iterate over the entire array. Which means that if you swapped an element in the first half, you will swap it back again when you reach it again in the second half."},{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":1,"creation_date":1699735688,"post_id":77466765,"comment_id":136569663,"body_markdown":"Also this is the exact use-case for a debugger, which is one of the most important tools in a programmer&#39;s skillset","body":"Also this is the exact use-case for a debugger, which is one of the most important tools in a programmer&#39;s skillset"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699735897,"creation_date":1699735897,"answer_id":77466796,"question_id":77466765,"body_markdown":"If you iterate over the entire length of the array, all the even elements will be swapped twice (which returns them all to their original positions).\r\n\r\nYou should instead loop over half of the array. You could use two indexes to track the position from the front and the back, stopping when they pass each other.\r\n\r\n```java\r\nfor (int i = 0, j = array.length - 1; i &lt; j; i++, j--) {\r\n    if (array[i] % 2 == 0 &amp;&amp; array[j] % 2 == 0) {\r\n        int t = array[i];\r\n        array[i] = array[j];\r\n        array[j] = t;\r\n    }\r\n}\r\n```","title":"Trying to swap values of the first and the last array elements","body":"<p>If you iterate over the entire length of the array, all the even elements will be swapped twice (which returns them all to their original positions).</p>\n<p>You should instead loop over half of the array. You could use two indexes to track the position from the front and the back, stopping when they pass each other.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0, j = array.length - 1; i &lt; j; i++, j--) {\n    if (array[i] % 2 == 0 &amp;&amp; array[j] % 2 == 0) {\n        int t = array[i];\n        array[i] = array[j];\n        array[j] = t;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699739410,"creation_date":1699737802,"answer_id":77466881,"question_id":77466765,"body_markdown":"You almost have it!!  Once you swap the even values you are reswapping them.  So just iterate across half the array.  You can see this if you place\r\n```\r\nSystem.out.printf(&quot;Swapping %d with %d%n&quot;,\r\n       array[firstNumIndex], array[secondNumIndex]);\r\n```\r\nright before you start swapping.  To fix it change your `for loop` to the following:\r\n\r\n```\r\nfor (int i = 0; i &lt; array.length/2; i++) {\r\n```\r\nHere is an an alternative form.\r\n\r\nYou only need a single regular for loop as you are doing.\r\n- iterate `left` just halfway thru the array.\r\n- assign `right` to the current right most position base on the value of `left`.\r\n- check to ensure both are even values.\r\n- if so swap them.\r\n\r\nNote that this works for both even and odd length arrays.\r\n```\r\nint[] arr = {1,2,3,4,5,6,7,8,9,10,11};\r\nswapEven(arr);\r\nSystem.out.println(Arrays.toString(arr));\r\n```\r\nprints\r\n```\r\n[1, 10, 3, 8, 5, 6, 7, 4, 9, 2, 11]\r\n```\r\nThe method\r\n```\r\n\r\npublic static void swapEven(int[] array) {\r\n    if (array == null) {\r\n        System.out.println(&quot;Array is null&quot;);\r\n        return;\r\n    }\r\n    for (int left = 0; left &lt; array.length / 2; left++) {\r\n        int right = array.length - left - 1;\r\n        if (array[left] % 2 == 0 &amp;&amp; array[right] % 2 == 0) {\r\n            int temp = array[left];\r\n            array[left] = array[right];\r\n            array[right] = temp;\r\n        }\r\n    }\r\n}\r\n```\r\n**Note.**  If you ever need to just reverse an array, you can do this by just omitting the check for even values.","title":"Trying to swap values of the first and the last array elements","body":"<p>You almost have it!!  Once you swap the even values you are reswapping them.  So just iterate across half the array.  You can see this if you place</p>\n<pre><code>System.out.printf(&quot;Swapping %d with %d%n&quot;,\n       array[firstNumIndex], array[secondNumIndex]);\n</code></pre>\n<p>right before you start swapping.  To fix it change your <code>for loop</code> to the following:</p>\n<pre><code>for (int i = 0; i &lt; array.length/2; i++) {\n</code></pre>\n<p>Here is an an alternative form.</p>\n<p>You only need a single regular for loop as you are doing.</p>\n<ul>\n<li>iterate <code>left</code> just halfway thru the array.</li>\n<li>assign <code>right</code> to the current right most position base on the value of <code>left</code>.</li>\n<li>check to ensure both are even values.</li>\n<li>if so swap them.</li>\n</ul>\n<p>Note that this works for both even and odd length arrays.</p>\n<pre><code>int[] arr = {1,2,3,4,5,6,7,8,9,10,11};\nswapEven(arr);\nSystem.out.println(Arrays.toString(arr));\n</code></pre>\n<p>prints</p>\n<pre><code>[1, 10, 3, 8, 5, 6, 7, 4, 9, 2, 11]\n</code></pre>\n<p>The method</p>\n<pre><code>\npublic static void swapEven(int[] array) {\n    if (array == null) {\n        System.out.println(&quot;Array is null&quot;);\n        return;\n    }\n    for (int left = 0; left &lt; array.length / 2; left++) {\n        int right = array.length - left - 1;\n        if (array[left] % 2 == 0 &amp;&amp; array[right] % 2 == 0) {\n            int temp = array[left];\n            array[left] = array[right];\n            array[right] = temp;\n        }\n    }\n}\n</code></pre>\n<p><strong>Note.</strong>  If you ever need to just reverse an array, you can do this by just omitting the check for even values.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699742492,"creation_date":1699739464,"answer_id":77466981,"question_id":77466765,"body_markdown":"&gt; _&quot;... In a given array of integers nums swap values of the first and the last array elements, the second and the penultimate, and so on, if both of these exchanged values are even. ...&quot;_\r\n\r\nHere is an example.\r\n\r\nYou&#39;ll only need to traverse half of the _array_.\\\r\nAccess the opposing indices, with _(n &amp;minus; 1) &amp;minus; i_.\r\n\r\n```java\r\nvoid swap(int[] a) {\r\n    for (int i = 0, t, n = a.length, m = n / 2; i &lt; m; i++) {\r\n        if (a[i] % 2 == 0 &amp;&amp; a[n - 1 - i] % 2 == 0) {\r\n            t = a[i];\r\n            a[i] = a[n - 1 - i];\r\n            a[n - 1 - i] = t;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAlternately, use a _stream_.\r\n\r\n```java\r\nvoid swap(int[] a) {\r\n    int n = a.length;\r\n    IntStream.range(0, n / 2)\r\n             .forEach(\r\n                 x -&gt; {\r\n                     if (a[x] % 2 == 0 &amp;&amp; a[n - 1 - x] % 2 == 0) {\r\n                         int t = a[x];\r\n                         a[x] = a[n - 1 - x];\r\n                         a[n - 1 - x] = t;\r\n                     }\r\n                 });\r\n}\r\n```\r\n\r\nAnd, if you&#39;re using a _[List](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html)_, you can utilize the _[Collections#swap](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collections.html#swap(java.util.List,int,int))_ method.\r\n\r\n```java\r\nvoid swap(List&lt;Integer&gt; l) {\r\n    for (int i = 0, n = l.size(), m = n / 2; i &lt; m; i++)\r\n        if (l.get(i) % 2 == 0 &amp;&amp; l.get(n - 1 - i) % 2 == 0)\r\n            Collections.swap(l, i, n - 1 - i);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[4, 5, 3, 10]\r\n```\r\n\r\n```none\r\n[54, 4, 3, 45, 33, 8, 2, 100]\r\n```","title":"Trying to swap values of the first and the last array elements","body":"<blockquote>\n<p><em>&quot;... In a given array of integers nums swap values of the first and the last array elements, the second and the penultimate, and so on, if both of these exchanged values are even. ...&quot;</em></p>\n</blockquote>\n<p>Here is an example.</p>\n<p>You'll only need to traverse half of the <em>array</em>.<br />\nAccess the opposing indices, with <em>(n − 1) − i</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void swap(int[] a) {\n    for (int i = 0, t, n = a.length, m = n / 2; i &lt; m; i++) {\n        if (a[i] % 2 == 0 &amp;&amp; a[n - 1 - i] % 2 == 0) {\n            t = a[i];\n            a[i] = a[n - 1 - i];\n            a[n - 1 - i] = t;\n        }\n    }\n}\n</code></pre>\n<p>Alternately, use a <em>stream</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void swap(int[] a) {\n    int n = a.length;\n    IntStream.range(0, n / 2)\n             .forEach(\n                 x -&gt; {\n                     if (a[x] % 2 == 0 &amp;&amp; a[n - 1 - x] % 2 == 0) {\n                         int t = a[x];\n                         a[x] = a[n - 1 - x];\n                         a[n - 1 - x] = t;\n                     }\n                 });\n}\n</code></pre>\n<p>And, if you're using a <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a></em>, you can utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collections.html#swap(java.util.List,int,int)\" rel=\"nofollow noreferrer\">Collections#swap</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void swap(List&lt;Integer&gt; l) {\n    for (int i = 0, n = l.size(), m = n / 2; i &lt; m; i++)\n        if (l.get(i) % 2 == 0 &amp;&amp; l.get(n - 1 - i) % 2 == 0)\n            Collections.swap(l, i, n - 1 - i);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[4, 5, 3, 10]\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>[54, 4, 3, 45, 33, 8, 2, 100]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29643730,"reputation":1,"user_id":22719239,"display_name":"Shahin Sha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699739781,"creation_date":1699739781,"answer_id":77466993,"question_id":77466765,"body_markdown":"The problem seems to be with the way the array is initialized when it is empty. Instead of assigning a new array to the argument, you should handle the case where the input array is empty. You can also simplify the swap logic.You can do something like:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import java.util.Arrays;\r\n\r\n    public class FirstProgram {\r\n        public static void main(String[] args) {\r\n            int[] myArray = new int[]{100, 2, 3, 45, 33, 8, 4, 54};\r\n            swapEven(myArray);\r\n            System.out.println(Arrays.toString(myArray));\r\n        }\r\n\r\n        public static void swapEven(int[] array) {\r\n            if (array != null &amp;&amp; array.length &gt; 0) {\r\n                for (int i = 0; i &lt; array.length / 2; i++) {\r\n                    if (array[i] % 2 == 0 &amp;&amp; array[array.length - 1 - i] % 2 == 0) {\r\n                        int temp = array[i];\r\n                        array[i] = array[array.length - 1 - i];\r\n                        array[array.length - 1 - i] = temp;\r\n                    }\r\n                }\r\n            } else {\r\n                System.out.println(&quot;Input array is empty or null.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Trying to swap values of the first and the last array elements","body":"<p>The problem seems to be with the way the array is initialized when it is empty. Instead of assigning a new array to the argument, you should handle the case where the input array is empty. You can also simplify the swap logic.You can do something like:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import java.util.Arrays;\n\npublic class FirstProgram {\n    public static void main(String[] args) {\n        int[] myArray = new int[]{100, 2, 3, 45, 33, 8, 4, 54};\n        swapEven(myArray);\n        System.out.println(Arrays.toString(myArray));\n    }\n\n    public static void swapEven(int[] array) {\n        if (array != null &amp;&amp; array.length &gt; 0) {\n            for (int i = 0; i &lt; array.length / 2; i++) {\n                if (array[i] % 2 == 0 &amp;&amp; array[array.length - 1 - i] % 2 == 0) {\n                    int temp = array[i];\n                    array[i] = array[array.length - 1 - i];\n                    array[array.length - 1 - i] = temp;\n                }\n            }\n        } else {\n            System.out.println(\"Input array is empty or null.\");\n        }\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":29881307,"reputation":21,"user_id":22900130,"display_name":"Talatus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1699748147,"creation_date":1699735314,"question_id":77466765,"body_markdown":"void swapEven(int[] array)\r\n\r\nIn a given array of integers nums swap values of the first and the last array elements, the second and the penultimate, and so on, if both of these exchanged values are even.\r\n\r\nNote that input array may be empty.\r\n\r\nExamples\r\nCode Sample:\r\n\r\n...\r\nint[] array = new int[]{ 10, 5, 3, 4 };\r\n....\r\nOutput:\r\n\r\n[4, 5, 3, 10]\r\n\r\nmy code:\r\n\r\n```\r\npublic class FirstProgram {\r\n    public static void main(String[] args) {\r\n        int[] myArray = new int[]{100, 2, 3, 45, 33, 8, 4, 54};\r\n        swapEven(myArray);\r\n\r\n    }\r\n\r\n    public static void swapEven(int[] array) {\r\n        // TODO: Implement this method.\r\n        int temp, firstNumIndex, secondNumIndex, counter = 1;\r\n        if (array != null) {\r\n            for (int i = 0; i &lt; array.length; i++) {\r\n                if (array[i] % 2 == 0) {\r\n                    firstNumIndex = i;\r\n                    if (array[array.length - counter] % 2 == 0) {\r\n                        secondNumIndex = array.length - counter;\r\n                        temp = array[firstNumIndex];\r\n                        array[firstNumIndex] = array[secondNumIndex];\r\n                        array[secondNumIndex] = temp;\r\n                    }\r\n                }\r\n                counter++;\r\n            }\r\n        } else {\r\n            array = new int[]{};\r\n            System.out.println(Arrays.toString(array));\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nTrying to figure out why it is giving me the same array as input. It doesn&#39;t swap array.\r\nAm I returning a wrong array, should I create a second array to add values and then retun?","title":"Trying to swap values of the first and the last array elements","body":"<p>void swapEven(int[] array)</p>\n<p>In a given array of integers nums swap values of the first and the last array elements, the second and the penultimate, and so on, if both of these exchanged values are even.</p>\n<p>Note that input array may be empty.</p>\n<p>Examples\nCode Sample:</p>\n<p>...\nint[] array = new int[]{ 10, 5, 3, 4 };\n....\nOutput:</p>\n<p>[4, 5, 3, 10]</p>\n<p>my code:</p>\n<pre><code>public class FirstProgram {\n    public static void main(String[] args) {\n        int[] myArray = new int[]{100, 2, 3, 45, 33, 8, 4, 54};\n        swapEven(myArray);\n\n    }\n\n    public static void swapEven(int[] array) {\n        // TODO: Implement this method.\n        int temp, firstNumIndex, secondNumIndex, counter = 1;\n        if (array != null) {\n            for (int i = 0; i &lt; array.length; i++) {\n                if (array[i] % 2 == 0) {\n                    firstNumIndex = i;\n                    if (array[array.length - counter] % 2 == 0) {\n                        secondNumIndex = array.length - counter;\n                        temp = array[firstNumIndex];\n                        array[firstNumIndex] = array[secondNumIndex];\n                        array[secondNumIndex] = temp;\n                    }\n                }\n                counter++;\n            }\n        } else {\n            array = new int[]{};\n            System.out.println(Arrays.toString(array));\n        }\n\n    }\n}\n</code></pre>\n<p>Trying to figure out why it is giving me the same array as input. It doesn't swap array.\nAm I returning a wrong array, should I create a second array to add values and then retun?</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":16661685,"reputation":743,"user_id":12041490,"display_name":"Vault23"},"score":0,"creation_date":1571128124,"post_id":58390102,"comment_id":103127320,"body_markdown":"what error do you get? I checked - there are a lot of variants with `setCapability()` method.","body":"what error do you get? I checked - there are a lot of variants with <code>setCapability()</code> method."},{"owner":{"account_id":13432323,"reputation":1,"user_id":9691802,"display_name":"Mamdouh Mansour Lotfy"},"score":0,"creation_date":1571198525,"post_id":58390102,"comment_id":103155590,"body_markdown":"Check the attached snapshot please, there is none of them.","body":"Check the attached snapshot please, there is none of them."},{"owner":{"account_id":9150137,"reputation":87,"user_id":6805001,"display_name":"Bishnu Prasad"},"score":0,"creation_date":1587385417,"post_id":58390102,"comment_id":108482099,"body_markdown":"Did anyone resolved this issue. I am also seeing in my code setup. I have imported both chrome.ChromeOptions and remote.CapabilityType. Still i am not seeing setCapbility() listed for the chromeOptions object. I need to set some proxy setup in my browser and i am using Selenium 3.5.3. Please answer anyone.","body":"Did anyone resolved this issue. I am also seeing in my code setup. I have imported both chrome.ChromeOptions and remote.CapabilityType. Still i am not seeing setCapbility() listed for the chromeOptions object. I need to set some proxy setup in my browser and i am using Selenium 3.5.3. Please answer anyone."}],"answers":[{"comments":[{"owner":{"account_id":13432323,"reputation":1,"user_id":9691802,"display_name":"Mamdouh Mansour Lotfy"},"score":0,"creation_date":1571199828,"post_id":58392233,"comment_id":103155872,"body_markdown":"Already tried that before asking, but it didn&#39;t work for me..thank you","body":"Already tried that before asking, but it didn&#39;t work for me..thank you"}],"tags":[],"owner":{"account_id":14913177,"reputation":116,"user_id":10767933,"display_name":"Salman Arshad"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571135070,"creation_date":1571134308,"answer_id":58392233,"question_id":58390102,"body_markdown":"Please use Add Arguments rather than set capability if you are working in c# like below\r\n\r\n    ChromeOptions option = new ChromeOptions();\r\n    option.AddArguments(CapabilityType.AcceptInsecureCertificates, &quot;true&quot;);\r\n\r\nOr for Java  (Note: use below in side the method) and import -&gt; import org.openqa.selenium.chrome.ChromeOptions;\r\nimport org.openqa.selenium.remote.CapabilityType;\r\n   \r\n   \r\n    ChromeOptions option = new ChromeOptions();\r\n    option.setCapability(CapabilityType.ACCEPT_INSECURE_CERTS, &quot;true&quot;);","title":"when trying to set Capabilities on Chrome Options it is not listing .setCapability method","body":"<p>Please use Add Arguments rather than set capability if you are working in c# like below</p>\n\n<pre><code>ChromeOptions option = new ChromeOptions();\noption.AddArguments(CapabilityType.AcceptInsecureCertificates, \"true\");\n</code></pre>\n\n<p>Or for Java  (Note: use below in side the method) and import -> import org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.remote.CapabilityType;</p>\n\n<pre><code>ChromeOptions option = new ChromeOptions();\noption.setCapability(CapabilityType.ACCEPT_INSECURE_CERTS, \"true\");\n</code></pre>\n"}],"owner":{"account_id":13432323,"reputation":1,"user_id":9691802,"display_name":"Mamdouh Mansour Lotfy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1560,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699747316,"creation_date":1571127199,"question_id":58390102,"body_markdown":"[.setCapability not listed][1]When trying to set Capability on chromeoption object set capability is not available and even if wrote it it give me and error.\r\n\r\n    ChromeOptions option = new ChromeOptions();\r\n    option.setCapability(CapabilityType.ACCEPT_INSECURE_CERTS, true);\r\n    WebDriverManager.chromedriver().setup();\r\n    WebDriver driver = new ChromeDriver(option);\r\n    driver.manage().window().maximize();\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6fRgC.jpg","title":"when trying to set Capabilities on Chrome Options it is not listing .setCapability method","body":"<p><a href=\"https://i.stack.imgur.com/6fRgC.jpg\" rel=\"nofollow noreferrer\">.setCapability not listed</a>When trying to set Capability on chromeoption object set capability is not available and even if wrote it it give me and error.</p>\n\n<pre><code>ChromeOptions option = new ChromeOptions();\noption.setCapability(CapabilityType.ACCEPT_INSECURE_CERTS, true);\nWebDriverManager.chromedriver().setup();\nWebDriver driver = new ChromeDriver(option);\ndriver.manage().window().maximize();\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","session","authentication"],"answers":[{"comments":[{"owner":{"account_id":11954482,"reputation":811,"user_id":8747255,"display_name":"Mukhamedali  Zhadigerov"},"score":0,"creation_date":1528978863,"post_id":50857128,"comment_id":88717227,"body_markdown":"emm... I&#39;m not sure if  this &quot;0:0:0:0:0:0:0:1&quot; is correct ip address :\\","body":"emm... I&#39;m not sure if  this &quot;0:0:0:0:0:0:0:1&quot; is correct ip address :\\"},{"owner":{"account_id":11954482,"reputation":811,"user_id":8747255,"display_name":"Mukhamedali  Zhadigerov"},"score":5,"creation_date":1528998961,"post_id":50857128,"comment_id":88729091,"body_markdown":"Man, i found out solution:   \n    `if(ip.equalsIgnoreCase(&quot;0:0:0:0:0:0:0:1&quot;)){\n                try {\n                    return InetAddress.getLocalHost().getHostAddress();\n                } catch (UnknownHostException e) {\n                    return null;\n                }\n            }`","body":"Man, i found out solution:        <code>if(ip.equalsIgnoreCase(&quot;0:0:0:0:0:0:0:1&quot;)){                 try {                     return InetAddress.getLocalHost().getHostAddress();                 } catch (UnknownHostException e) {                     return null;                 }             }</code>"}],"tags":[],"owner":{"account_id":6844658,"reputation":1061,"user_id":5263842,"display_name":"A W"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529035135,"creation_date":1528977823,"answer_id":50857128,"question_id":50856460,"body_markdown":"Just add **HttpServletRequest** object in your method and get the ip using **getRemoteAddr()** method.No Spring required.Something like this :\r\n\r\n \r\n\r\n    public void doSomething(HttpServletRequest request){\r\n    System.out.print(request.getRemoteAddr()); // Prints ip address \r\n    }","title":"Get client&#39;s browser name and ip address using Spring","body":"<p>Just add <strong>HttpServletRequest</strong> object in your method and get the ip using <strong>getRemoteAddr()</strong> method.No Spring required.Something like this :</p>\n\n<pre><code>public void doSomething(HttpServletRequest request){\nSystem.out.print(request.getRemoteAddr()); // Prints ip address \n}\n</code></pre>\n"}],"owner":{"account_id":11954482,"reputation":811,"user_id":8747255,"display_name":"Mukhamedali  Zhadigerov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9495,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1699743990,"creation_date":1528975609,"question_id":50856460,"body_markdown":"I&#39;m trying to get a list of all online users. I&#39;m planning to do so, using SpringRegistry. But i also have to get user&#39;s browser info and ip address. I know that i could do it in javascript, but i need to retrieve all user&#39;s details, not only current one&#39;s. \r\n\r\n\r\n**EDIT**\r\n\r\nHere&#39;s my code:\r\n\r\n\r\n     @GetMapping(&quot;/&quot;)\r\n     public String index(HttpServletRequest request){\r\n     String ip=request.getRemoteAddr(); // &quot;0:0:0:0:0:0:0:1&quot;\r\n     return &quot;index&quot;;\r\n    }","title":"Get client&#39;s browser name and ip address using Spring","body":"<p>I'm trying to get a list of all online users. I'm planning to do so, using SpringRegistry. But i also have to get user's browser info and ip address. I know that i could do it in javascript, but i need to retrieve all user's details, not only current one's. </p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Here's my code:</p>\n\n<pre><code> @GetMapping(\"/\")\n public String index(HttpServletRequest request){\n String ip=request.getRemoteAddr(); // \"0:0:0:0:0:0:0:1\"\n return \"index\";\n}\n</code></pre>\n"},{"tags":["java","multithreading","java-threads"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1699587307,"post_id":77457534,"comment_id":136553832,"body_markdown":"Have you read the section on Liveness (https://docs.oracle.com/javase/tutorial/essential/concurrency/liveness.html)?","body":"Have you read the section on Liveness (<a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/liveness.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency/&hellip;</a>)?"},{"owner":{"account_id":29808133,"reputation":65,"user_id":22844207,"display_name":"user22844207"},"score":0,"creation_date":1699587560,"post_id":77457534,"comment_id":136553856,"body_markdown":"I don&#39;t read it yet. that quote contain two sentences, I&#39;m quite confused with the first sentence","body":"I don&#39;t read it yet. that quote contain two sentences, I&#39;m quite confused with the first sentence"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1699587656,"post_id":77457534,"comment_id":136553864,"body_markdown":"I&#39;ve answered your first question now, but you should read that section to understand why we want to keep the scope of synchronised blocks small.","body":"I&#39;ve answered your first question now, but you should read that section to understand why we want to keep the scope of synchronised blocks small."},{"owner":{"account_id":29808133,"reputation":65,"user_id":22844207,"display_name":"user22844207"},"score":0,"creation_date":1699587690,"post_id":77457534,"comment_id":136553874,"body_markdown":"Tks, Be patient, I&#39;m reading","body":"Tks, Be patient, I&#39;m reading"},{"owner":{"account_id":43736,"reputation":9289,"user_id":127971,"display_name":"michael"},"score":2,"creation_date":1699589469,"post_id":77457534,"comment_id":136553976,"body_markdown":"...imagine that `c1` and `c2` were public restrooms; if the methods were synchronized (i.e., there was *one* lock on `this`), it would mean that while restroom `c1` was occupied, nobody could use restroom `c2`. However, if they have separate locks, then both restrooms could be accessed concurrently. (Now imagine there were 10 restrooms, `c1` through `c10`, and how silly it&#39;d be to have a single lock for all 10, when clearly the intent of the building architect was that all should be used concurrently.)","body":"...imagine that <code>c1</code> and <code>c2</code> were public restrooms; if the methods were synchronized (i.e., there was <i>one</i> lock on <code>this</code>), it would mean that while restroom <code>c1</code> was occupied, nobody could use restroom <code>c2</code>. However, if they have separate locks, then both restrooms could be accessed concurrently. (Now imagine there were 10 restrooms, <code>c1</code> through <code>c10</code>, and how silly it&#39;d be to have a single lock for all 10, when clearly the intent of the building architect was that all should be used concurrently.)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701707624,"post_id":77457534,"comment_id":136806327,"body_markdown":"Important note: for these examples to be correct, the `getC1()` and `getC2()` method must use `synchronized` too and each getter must use the same object for synchronization as the method modifying the variable the getter reads.","body":"Important note: for these examples to be correct, the <code>getC1()</code> and <code>getC2()</code> method must use <code>synchronized</code> too and each getter must use the same object for synchronization as the method modifying the variable the getter reads."}],"answers":[{"comments":[{"owner":{"account_id":29808133,"reputation":65,"user_id":22844207,"display_name":"user22844207"},"score":0,"creation_date":1699588152,"post_id":77457562,"comment_id":136553911,"body_markdown":"Thanks, can you explain this &quot;but also needs to avoid synchronizing invocations of other objects&#39; methods&quot; on the my first quote for me to understand your answer easier?","body":"Thanks, can you explain this &quot;but also needs to avoid synchronizing invocations of other objects&#39; methods&quot; on the my first quote for me to understand your answer easier?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1699588323,"post_id":77457562,"comment_id":136553919,"body_markdown":"What part of that phrase needs to be explained?","body":"What part of that phrase needs to be explained?"},{"owner":{"account_id":29808133,"reputation":65,"user_id":22844207,"display_name":"user22844207"},"score":0,"creation_date":1699588673,"post_id":77457562,"comment_id":136553937,"body_markdown":"this whole group:  &quot;avoid synchronizing invocations of other objects&#39; methods&quot;","body":"this whole group:  &quot;avoid synchronizing invocations of other objects&#39; methods&quot;"},{"owner":{"account_id":29808133,"reputation":65,"user_id":22844207,"display_name":"user22844207"},"score":0,"creation_date":1699590559,"post_id":77457562,"comment_id":136554039,"body_markdown":"wow, thanks for your amazing addition explanation. I might need a lot of time to understand your answer. So I will upvote as soon as possible.","body":"wow, thanks for your amazing addition explanation. I might need a lot of time to understand your answer. So I will upvote as soon as possible."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701708515,"post_id":77457562,"comment_id":136806512,"body_markdown":"What a horrible tutorial. Without providing additional context, most notably, whether `nameList` refers to a thread safe collection, developers **must not** move the invocation of the `add` method out of the `synchronized` block but keep it inside and ensure that every access to `nameList` is guarded too. A tutorial for beginners should focus on consistency instead of Liveness optimizations.","body":"What a horrible tutorial. Without providing additional context, most notably, whether <code>nameList</code> refers to a thread safe collection, developers <b>must not</b> move the invocation of the <code>add</code> method out of the <code>synchronized</code> block but keep it inside and ensure that every access to <code>nameList</code> is guarded too. A tutorial for beginners should focus on consistency instead of Liveness optimizations."}],"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1699589338,"creation_date":1699587171,"answer_id":77457562,"question_id":77457534,"body_markdown":"\r\nThe sample code from your first question is:\r\n```\r\npublic void addName(String name) {\r\n    synchronized(this) {\r\n        lastName = name;\r\n        nameCount++;\r\n    }\r\n    nameList.add(name);\r\n}\r\n```\r\nIt&#39;s important that we don&#39;t call the `add` method of the `nameList` object while holding the lock on `this` because we don&#39;t know the behaviour of `add` -- maybe it takes a long time, for instance.\r\n\r\nWithout synchronised statements (i.e. if we only had synchronised methods), we would need to write:\r\n```\r\npublic void addName(String name) {\r\n    doSetLastName(name);\r\n    nameList.add(name);\r\n}\r\n\r\nprivate synchronized doSetLastName(String name) {\r\n        lastName = name;\r\n        nameCount++;\r\n}\r\n```\r\nExplanation of the phrase:\r\n\r\n&gt; avoid synchronizing invocations of other objects&#39; methods\r\n\r\nTo &#39;avoid&#39; doing something means not to do it, so we should &quot;not synchronize invocations of other objects&#39; methods&quot;\r\n\r\nAn &quot;invocation&quot; is a call, so in the example above, we *invoke* the  `add` method on the `nameList` object.\r\n\r\nCode in instance methods is run in the context of a particular object, that is, the object that `this` refers to, so &quot;other objects&#39; methods&quot; are methods on objects which are not the `this` object. In the example above `add` is a method on the object `nameList`.\r\n\r\nSo we can rephrase it as &quot;Don&#39;t call methods on other objects while holding locks&quot; (unless of course you decide that you need to for thread safety.)\r\n\r\n\r\nFor your second question, imagine that `MsLunch` was implemented like this:\r\n```\r\npublic class MsLunch {\r\n    private long c1 = 0;\r\n    private long c2 = 0;\r\n\r\n    public synchronized void inc1() {\r\n            c1++;\r\n    }\r\n\r\n    public synchronized void inc2() {\r\n            c2++;\r\n    }\r\n}\r\n```\r\n\r\nThis is still perfectly thread safe, but because both synchronised sections lock in the `MsLunch` instance a thread calling `inc1` will be blocked by a thread calling `inc2`. That&#39;s unnecessary to preserve thread safety.","title":"Synchronized Statements in Java Thread","body":"<p>The sample code from your first question is:</p>\n<pre><code>public void addName(String name) {\n    synchronized(this) {\n        lastName = name;\n        nameCount++;\n    }\n    nameList.add(name);\n}\n</code></pre>\n<p>It's important that we don't call the <code>add</code> method of the <code>nameList</code> object while holding the lock on <code>this</code> because we don't know the behaviour of <code>add</code> -- maybe it takes a long time, for instance.</p>\n<p>Without synchronised statements (i.e. if we only had synchronised methods), we would need to write:</p>\n<pre><code>public void addName(String name) {\n    doSetLastName(name);\n    nameList.add(name);\n}\n\nprivate synchronized doSetLastName(String name) {\n        lastName = name;\n        nameCount++;\n}\n</code></pre>\n<p>Explanation of the phrase:</p>\n<blockquote>\n<p>avoid synchronizing invocations of other objects' methods</p>\n</blockquote>\n<p>To 'avoid' doing something means not to do it, so we should &quot;not synchronize invocations of other objects' methods&quot;</p>\n<p>An &quot;invocation&quot; is a call, so in the example above, we <em>invoke</em> the  <code>add</code> method on the <code>nameList</code> object.</p>\n<p>Code in instance methods is run in the context of a particular object, that is, the object that <code>this</code> refers to, so &quot;other objects' methods&quot; are methods on objects which are not the <code>this</code> object. In the example above <code>add</code> is a method on the object <code>nameList</code>.</p>\n<p>So we can rephrase it as &quot;Don't call methods on other objects while holding locks&quot; (unless of course you decide that you need to for thread safety.)</p>\n<p>For your second question, imagine that <code>MsLunch</code> was implemented like this:</p>\n<pre><code>public class MsLunch {\n    private long c1 = 0;\n    private long c2 = 0;\n\n    public synchronized void inc1() {\n            c1++;\n    }\n\n    public synchronized void inc2() {\n            c2++;\n    }\n}\n</code></pre>\n<p>This is still perfectly thread safe, but because both synchronised sections lock in the <code>MsLunch</code> instance a thread calling <code>inc1</code> will be blocked by a thread calling <code>inc2</code>. That's unnecessary to preserve thread safety.</p>\n"},{"comments":[{"owner":{"account_id":43736,"reputation":9289,"user_id":127971,"display_name":"michael"},"score":2,"creation_date":1699600513,"post_id":77457954,"comment_id":136554937,"body_markdown":"_&quot;rather than locking a MsLunch instance, just lock an associated Object&quot;_ —no, this isn&#39;t quite right. Using an &quot;MsLunch instance&quot; is also &quot;an object&quot; (specifically, `this`), and it doesn&#39;t matter if you use an &quot;associated Object&quot; or `this` —the point is, if you need and/or want to have _more than one_ lock, then you have to use a separate `Object` instance, because there&#39;s only *one* `this`. (I&#39;m not sure if that clears anything up or not, but starting the answer w/ comparison to &quot;Singleton&quot;—a complicated/unrelated topic itself—isn&#39;t really going to help anyone understand concurrency.)","body":"<i>&quot;rather than locking a MsLunch instance, just lock an associated Object&quot;</i> —no, this isn&#39;t quite right. Using an &quot;MsLunch instance&quot; is also &quot;an object&quot; (specifically, <code>this</code>), and it doesn&#39;t matter if you use an &quot;associated Object&quot; or <code>this</code> —the point is, if you need and/or want to have <i>more than one</i> lock, then you have to use a separate <code>Object</code> instance, because there&#39;s only <i>one</i> <code>this</code>. (I&#39;m not sure if that clears anything up or not, but starting the answer w/ comparison to &quot;Singleton&quot;—a complicated/unrelated topic itself—isn&#39;t really going to help anyone understand concurrency.)"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699744715,"post_id":77457954,"comment_id":136570406,"body_markdown":"It is not in the least like the concept of a singleton, and ‘intrinsic’ does not mean ‘qualitative’. There can be many instances of locks. The JVM doesn’t have to ‘delegate whether it must wait or continue.’ Answer is largely nonsense.","body":"It is not in the least like the concept of a singleton, and ‘intrinsic’ does not mean ‘qualitative’. There can be many instances of locks. The JVM doesn’t have to ‘delegate whether it must wait or continue.’ Answer is largely nonsense."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1699595539,"creation_date":1699595539,"answer_id":77457954,"question_id":77457534,"body_markdown":"&gt; _&quot;... I&#39;m reading the Thread Topic on [the official tutorial](https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html) and I&#39;m trying to understand the Intrinsic Look. ...&quot;_\r\n\r\nThe concept of a _lock_ is similar to the concept of a _[singleton class](https://en.wikipedia.org/wiki/Singleton_pattern)_.\\\r\nIt&#39;s, more or less, what the word _&quot;intrinsic&quot;_ is describing&amp;mdash;i.e., inherent, qualitative.\r\n\r\nThere is essentially a single instance, and only _1_ thread can access it at a time.\\\r\nWhen another thread encounters a _lock_, the _JVM_ will delegate whether it must wait or continue&amp;mdash;this is referred to as _&quot;[blocking](https://en.wikipedia.org/wiki/Blocking_(computing))&quot;_, in _Java_.\r\n\r\n&gt; _&quot;... I understand the different basic between **synchronized method**, **synchronized statement** and **synchronized static method** now. ...&quot;_\r\n\r\nThey&#39;re very basic concepts.&amp;nbsp; You&#39;re simply _locking_ a _class_, or _instance_, to prevent _concurrent_ modification.\\\r\nIn other words, you can _&quot;fine-tune&quot;_ the _lock_, in an effort to reduce _&quot;blocking&quot;_.\r\n\r\nDespite this, though, the actual practice of _threading_, and _multi-threading_, can be quite complex.\\\r\nI recommend reading _[Java Threads, 3rd Edition](https://www.oreilly.com/library/view/java-threads-3rd/0596007825/)_ by _O&#39;Reilly Media_.\r\n\r\n&gt; _&quot;... In the synchronized statement section in that article, given a example and they said ...\\\r\n&gt;\\\r\n&gt; ... I really don&#39;t understand what they said. Please, explain it to me with a simple example. ...&quot;_\r\n\r\nEssentially what they&#39;re saying is that it&#39;s good practice not to include _method invocations_ inside of a _lock_.\r\n\r\n&gt; _&quot;... Then, they said: ...\\\r\n&gt;\\\r\n&gt; ... How should I understand it? I think, it simply mention there are two object were created to manage the respective variable c1, c2, anything else? ...&quot;_\r\n\r\nMeaning, rather than _locking_ a _MsLunch_ instance, just _lock_ an associated _Object_.\r\n\r\nThis is common practice throughout the _Java_ framework.\\\r\nHave a look at the _BufferedReader_ class source-code, from the _[OpenJDK](https://openjdk.org/)_.\\\r\n_[GitHub &amp;ndash; java/io/BufferedReader.java](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/io/BufferedReader.java)_","title":"Synchronized Statements in Java Thread","body":"<blockquote>\n<p><em>&quot;... I'm reading the Thread Topic on <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html\" rel=\"nofollow noreferrer\">the official tutorial</a> and I'm trying to understand the Intrinsic Look. ...&quot;</em></p>\n</blockquote>\n<p>The concept of a <em>lock</em> is similar to the concept of a <em><a href=\"https://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"nofollow noreferrer\">singleton class</a></em>.<br />\nIt's, more or less, what the word <em>&quot;intrinsic&quot;</em> is describing—i.e., inherent, qualitative.</p>\n<p>There is essentially a single instance, and only <em>1</em> thread can access it at a time.<br />\nWhen another thread encounters a <em>lock</em>, the <em>JVM</em> will delegate whether it must wait or continue—this is referred to as <em>&quot;<a href=\"https://en.wikipedia.org/wiki/Blocking_(computing)\" rel=\"nofollow noreferrer\">blocking</a>&quot;</em>, in <em>Java</em>.</p>\n<blockquote>\n<p><em>&quot;... I understand the different basic between <strong>synchronized method</strong>, <strong>synchronized statement</strong> and <strong>synchronized static method</strong> now. ...&quot;</em></p>\n</blockquote>\n<p>They're very basic concepts.  You're simply <em>locking</em> a <em>class</em>, or <em>instance</em>, to prevent <em>concurrent</em> modification.<br />\nIn other words, you can <em>&quot;fine-tune&quot;</em> the <em>lock</em>, in an effort to reduce <em>&quot;blocking&quot;</em>.</p>\n<p>Despite this, though, the actual practice of <em>threading</em>, and <em>multi-threading</em>, can be quite complex.<br />\nI recommend reading <em><a href=\"https://www.oreilly.com/library/view/java-threads-3rd/0596007825/\" rel=\"nofollow noreferrer\">Java Threads, 3rd Edition</a></em> by <em>O'Reilly Media</em>.</p>\n<blockquote>\n<p><em>&quot;... In the synchronized statement section in that article, given a example and they said ...<br />\n<br />\n... I really don't understand what they said. Please, explain it to me with a simple example. ...&quot;</em></p>\n</blockquote>\n<p>Essentially what they're saying is that it's good practice not to include <em>method invocations</em> inside of a <em>lock</em>.</p>\n<blockquote>\n<p><em>&quot;... Then, they said: ...<br />\n<br />\n... How should I understand it? I think, it simply mention there are two object were created to manage the respective variable c1, c2, anything else? ...&quot;</em></p>\n</blockquote>\n<p>Meaning, rather than <em>locking</em> a <em>MsLunch</em> instance, just <em>lock</em> an associated <em>Object</em>.</p>\n<p>This is common practice throughout the <em>Java</em> framework.<br />\nHave a look at the <em>BufferedReader</em> class source-code, from the <em><a href=\"https://openjdk.org/\" rel=\"nofollow noreferrer\">OpenJDK</a></em>.<br />\n<em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/io/BufferedReader.java\" rel=\"nofollow noreferrer\">GitHub – java/io/BufferedReader.java</a></em></p>\n"}],"owner":{"account_id":29808133,"reputation":65,"user_id":22844207,"display_name":"user22844207"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77457562,"answer_count":2,"score":0,"last_activity_date":1699743640,"creation_date":1699586517,"question_id":77457534,"body_markdown":"I&#39;m reading the Thread Topic on [the official tutorial](https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html) and I&#39;m trying to understand the Intrinsic Look.\r\n\r\nI understand the different basic between **synchronized method**, **synchronized statement** and **synchronized static method** now.\r\n\r\nIn the synchronized statement section in that article, given a example and they said\r\n&gt; In this example, the addName method needs to synchronize changes to lastName and nameCount, but also needs to avoid synchronizing invocations of other objects&#39; methods. (Invoking other objects&#39; methods from synchronized code can create problems that are described in the section on Liveness.) Without synchronized statements, there would have to be a separate, unsynchronized method for the sole purpose of invoking nameList.add.\r\n\r\nI really don&#39;t understand what they said. Please, explain it to me with a simple example.\r\n\r\nThen, they said:\r\n\r\n&gt; Synchronized statements are also useful for improving concurrency with fine-grained synchronization. Suppose, for example, class MsLunch has two instance fields, c1 and c2, that are never used together. All updates of these fields must be synchronized, but there&#39;s no reason to prevent an update of c1 from being interleaved with an update of c2 — and doing so reduces concurrency by creating unnecessary blocking. Instead of using synchronized methods or otherwise using the lock associated with this, we create two objects solely to provide locks.\r\n\r\nwith example code\r\n```java\r\npublic class MsLunch {\r\n    private long c1 = 0;\r\n    private long c2 = 0;\r\n    private Object lock1 = new Object();\r\n    private Object lock2 = new Object();\r\n\r\n    public void inc1() {\r\n        synchronized(lock1) {\r\n            c1++;\r\n        }\r\n    }\r\n\r\n    public void inc2() {\r\n        synchronized(lock2) {\r\n            c2++;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHow should I understand it? I think, it simply mention there are two object were created to manage the respective variable c1, c2, anything else?\r\n\r\n**Update**\r\n\r\nAfter reading all comments and the answers of @tgdavies and @michael, I&#39;m extremely grateful for your support to help me to understand these concepts clearly.\r\n\r\nFor second quotes, I try to make a comparison to understand it.  `synchronized statement` actually is faster than `synchronized method`\r\n\r\n1. MsLunch.java with synchronized statements\r\n```java\r\n\r\npublic class MsLunch {\r\n    private long c1 = 0;\r\n    private long c2 = 0;\r\n    private Object lock1 = new Object();\r\n    private Object lock2 = new Object();\r\n\r\n    public void inc1() {\r\n        synchronized(lock1) {\r\n            c1++;\r\n        }\r\n    }\r\n\r\n    public void inc2() {\r\n        synchronized(lock2) {\r\n            c2++;\r\n        }\r\n    }\r\n\r\n    public long getC1() {\r\n        return c1;\r\n    }\r\n\r\n    public long getC2() {\r\n        return c2;\r\n    }\r\n}\r\n\r\n```\r\n\r\n2. MsLunch2.java with synchronized method\r\n```java\r\npublic class MsLunch2 {\r\n    private long c1 = 0;\r\n    private long c2 = 0;\r\n\r\n    public synchronized void inc1() {\r\n        c1++;\r\n    }\r\n\r\n    public synchronized void inc2() {\r\n        c2++;\r\n    }\r\n\r\n    public long getC1() {\r\n        return c1;\r\n    }\r\n\r\n    public long getC2() {\r\n        return c2;\r\n    }\r\n}\r\n```\r\n\r\n3. Test.java\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) throws InterruptedException {\r\n        // synchronized statements\r\n//        MsLunch ms = new MsLunch();\r\n        // synchronized method\r\n        MsLunch2 ms = new MsLunch2();\r\n\r\n        long start = System.currentTimeMillis();\r\n        System.out.println(start);\r\n        Thread t1 = new Thread(() -&gt; {\r\n            for (int i = 0; i &lt; 100000000; i++) {\r\n                ms.inc1();\r\n            }\r\n            System.out.println(ms.getC1());\r\n        });\r\n\r\n        Thread t2 = new Thread(() -&gt; {\r\n            for (int i = 0; i &lt; 100000000; i++) {\r\n                ms.inc2();\r\n            }\r\n            System.out.println(ms.getC2());\r\n        });\r\n\r\n        t1.start();\r\n        t2.start();\r\n\r\n        t1.join();\r\n        t2.join();\r\n\r\n        long end = System.currentTimeMillis();\r\n        System.out.println(end);\r\n        System.out.println(&quot;Time = &quot; + (end - start)/1000.0);\r\n    }\r\n}\r\n\r\n```","title":"Synchronized Statements in Java Thread","body":"<p>I'm reading the Thread Topic on <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html\" rel=\"nofollow noreferrer\">the official tutorial</a> and I'm trying to understand the Intrinsic Look.</p>\n<p>I understand the different basic between <strong>synchronized method</strong>, <strong>synchronized statement</strong> and <strong>synchronized static method</strong> now.</p>\n<p>In the synchronized statement section in that article, given a example and they said</p>\n<blockquote>\n<p>In this example, the addName method needs to synchronize changes to lastName and nameCount, but also needs to avoid synchronizing invocations of other objects' methods. (Invoking other objects' methods from synchronized code can create problems that are described in the section on Liveness.) Without synchronized statements, there would have to be a separate, unsynchronized method for the sole purpose of invoking nameList.add.</p>\n</blockquote>\n<p>I really don't understand what they said. Please, explain it to me with a simple example.</p>\n<p>Then, they said:</p>\n<blockquote>\n<p>Synchronized statements are also useful for improving concurrency with fine-grained synchronization. Suppose, for example, class MsLunch has two instance fields, c1 and c2, that are never used together. All updates of these fields must be synchronized, but there's no reason to prevent an update of c1 from being interleaved with an update of c2 — and doing so reduces concurrency by creating unnecessary blocking. Instead of using synchronized methods or otherwise using the lock associated with this, we create two objects solely to provide locks.</p>\n</blockquote>\n<p>with example code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MsLunch {\n    private long c1 = 0;\n    private long c2 = 0;\n    private Object lock1 = new Object();\n    private Object lock2 = new Object();\n\n    public void inc1() {\n        synchronized(lock1) {\n            c1++;\n        }\n    }\n\n    public void inc2() {\n        synchronized(lock2) {\n            c2++;\n        }\n    }\n}\n</code></pre>\n<p>How should I understand it? I think, it simply mention there are two object were created to manage the respective variable c1, c2, anything else?</p>\n<p><strong>Update</strong></p>\n<p>After reading all comments and the answers of @tgdavies and @michael, I'm extremely grateful for your support to help me to understand these concepts clearly.</p>\n<p>For second quotes, I try to make a comparison to understand it.  <code>synchronized statement</code> actually is faster than <code>synchronized method</code></p>\n<ol>\n<li>MsLunch.java with synchronized statements</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class MsLunch {\n    private long c1 = 0;\n    private long c2 = 0;\n    private Object lock1 = new Object();\n    private Object lock2 = new Object();\n\n    public void inc1() {\n        synchronized(lock1) {\n            c1++;\n        }\n    }\n\n    public void inc2() {\n        synchronized(lock2) {\n            c2++;\n        }\n    }\n\n    public long getC1() {\n        return c1;\n    }\n\n    public long getC2() {\n        return c2;\n    }\n}\n\n</code></pre>\n<ol start=\"2\">\n<li>MsLunch2.java with synchronized method</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class MsLunch2 {\n    private long c1 = 0;\n    private long c2 = 0;\n\n    public synchronized void inc1() {\n        c1++;\n    }\n\n    public synchronized void inc2() {\n        c2++;\n    }\n\n    public long getC1() {\n        return c1;\n    }\n\n    public long getC2() {\n        return c2;\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Test.java</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) throws InterruptedException {\n        // synchronized statements\n//        MsLunch ms = new MsLunch();\n        // synchronized method\n        MsLunch2 ms = new MsLunch2();\n\n        long start = System.currentTimeMillis();\n        System.out.println(start);\n        Thread t1 = new Thread(() -&gt; {\n            for (int i = 0; i &lt; 100000000; i++) {\n                ms.inc1();\n            }\n            System.out.println(ms.getC1());\n        });\n\n        Thread t2 = new Thread(() -&gt; {\n            for (int i = 0; i &lt; 100000000; i++) {\n                ms.inc2();\n            }\n            System.out.println(ms.getC2());\n        });\n\n        t1.start();\n        t2.start();\n\n        t1.join();\n        t2.join();\n\n        long end = System.currentTimeMillis();\n        System.out.println(end);\n        System.out.println(&quot;Time = &quot; + (end - start)/1000.0);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","multithreading","java-threads"],"answers":[{"comments":[{"owner":{"account_id":29808133,"reputation":65,"user_id":22844207,"display_name":"user22844207"},"score":0,"creation_date":1699560704,"post_id":77455972,"comment_id":136551022,"body_markdown":"Thanks a lot. You explain very clearly","body":"Thanks a lot. You explain very clearly"}],"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1699559318,"creation_date":1699559318,"answer_id":77455972,"question_id":77455913,"body_markdown":"Calling interrupt on a thread signals the thread to terminate, but it doesn&#39;t force it. So the thread might still be running. Calling join will force the calling thread to wait until the interrupted thread finishes, or itself is interrupted.\r\n\r\nIn your thread, the bulk of the waiting is caused by Thread.sleep(). When you call interrupt, the current or next sleep call will end with an interrupted exception. That means your working threads that get interrupted will end very quickly. Calling join probably isn&#39;t necessary in this case because the threads terminate so quick.","title":"call join() after interrupt() in Thread Java","body":"<p>Calling interrupt on a thread signals the thread to terminate, but it doesn't force it. So the thread might still be running. Calling join will force the calling thread to wait until the interrupted thread finishes, or itself is interrupted.</p>\n<p>In your thread, the bulk of the waiting is caused by Thread.sleep(). When you call interrupt, the current or next sleep call will end with an interrupted exception. That means your working threads that get interrupted will end very quickly. Calling join probably isn't necessary in this case because the threads terminate so quick.</p>\n"}],"owner":{"account_id":29808133,"reputation":65,"user_id":22844207,"display_name":"user22844207"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77455972,"answer_count":1,"score":2,"last_activity_date":1699743599,"creation_date":1699558605,"question_id":77455913,"body_markdown":"I&#39;m learning in Thread Java and I follow the tutorial on [official docs java](https://docs.oracle.com/javase/tutorial/essential/concurrency/simple.html)\r\n\r\nThis example combines various methods: `join()`, `sleep()`, `interrupt()` and , `start()`\r\n\r\n```java\r\npublic class SimpleThread {\r\n    // Display a message, preceded by\r\n    // the name of the current thread\r\n    static void threadMessage(String message) {\r\n        String threadName = Thread.currentThread().getName();\r\n        System.out.format(&quot;%s: %s%n&quot;, threadName, message);\r\n    }\r\n\r\n    private static class MessageLoop implements Runnable {\r\n        public void run() {\r\n            String importantInfo[] = {\r\n                    &quot;Mares eat oats&quot;,\r\n                    &quot;Does eat oats&quot;,\r\n                    &quot;Little lambs eat ivy&quot;,\r\n                    &quot;A kid will eat ivy too&quot;\r\n            };\r\n\r\n            try {\r\n                for (int i = 0;\r\n                     i &lt; importantInfo.length;\r\n                     i++) {\r\n                    // Pause for 4 seconds\r\n                    Thread.sleep(4000);\r\n                    // Print a message\r\n                    threadMessage(importantInfo[i]);\r\n                }\r\n            } catch (InterruptedException e) {\r\n                threadMessage(&quot;I wasn&#39;t done!&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        // Delay, in milliseconds before\r\n        // we interrupt MessageLoop\r\n        // thread (default 10s).\r\n        long patience = 1000 * 10;\r\n\r\n        threadMessage(&quot;Starting MessageLoop thread&quot;);\r\n        long startTime = System.currentTimeMillis();\r\n\r\n        Thread t = new Thread(new MessageLoop(), &quot;MessageLoop&quot;);\r\n        t.start();\r\n        threadMessage(&quot;Waiting for MessageLoop thread to finish&quot;);\r\n\r\n        while (t.isAlive()) {\r\n            threadMessage(&quot;Still waiting...&quot;);\r\n            t.join(16000);\r\n\r\n            if (((System.currentTimeMillis() - startTime) &gt; patience) &amp;&amp; t.isAlive()) {\r\n                threadMessage(&quot;Tired of waiting!&quot;);\r\n                t.interrupt();\r\n\r\n                t.join();\r\n            }\r\n        }\r\n        threadMessage(&quot;Finally!&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhy the author use `join()` after `interrupt()`? \r\n\r\nwhat is the purpose of this? Because I try to comment it, nothing changes.  ","title":"call join() after interrupt() in Thread Java","body":"<p>I'm learning in Thread Java and I follow the tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/simple.html\" rel=\"nofollow noreferrer\">official docs java</a></p>\n<p>This example combines various methods: <code>join()</code>, <code>sleep()</code>, <code>interrupt()</code> and , <code>start()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SimpleThread {\n    // Display a message, preceded by\n    // the name of the current thread\n    static void threadMessage(String message) {\n        String threadName = Thread.currentThread().getName();\n        System.out.format(&quot;%s: %s%n&quot;, threadName, message);\n    }\n\n    private static class MessageLoop implements Runnable {\n        public void run() {\n            String importantInfo[] = {\n                    &quot;Mares eat oats&quot;,\n                    &quot;Does eat oats&quot;,\n                    &quot;Little lambs eat ivy&quot;,\n                    &quot;A kid will eat ivy too&quot;\n            };\n\n            try {\n                for (int i = 0;\n                     i &lt; importantInfo.length;\n                     i++) {\n                    // Pause for 4 seconds\n                    Thread.sleep(4000);\n                    // Print a message\n                    threadMessage(importantInfo[i]);\n                }\n            } catch (InterruptedException e) {\n                threadMessage(&quot;I wasn't done!&quot;);\n            }\n        }\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        // Delay, in milliseconds before\n        // we interrupt MessageLoop\n        // thread (default 10s).\n        long patience = 1000 * 10;\n\n        threadMessage(&quot;Starting MessageLoop thread&quot;);\n        long startTime = System.currentTimeMillis();\n\n        Thread t = new Thread(new MessageLoop(), &quot;MessageLoop&quot;);\n        t.start();\n        threadMessage(&quot;Waiting for MessageLoop thread to finish&quot;);\n\n        while (t.isAlive()) {\n            threadMessage(&quot;Still waiting...&quot;);\n            t.join(16000);\n\n            if (((System.currentTimeMillis() - startTime) &gt; patience) &amp;&amp; t.isAlive()) {\n                threadMessage(&quot;Tired of waiting!&quot;);\n                t.interrupt();\n\n                t.join();\n            }\n        }\n        threadMessage(&quot;Finally!&quot;);\n    }\n}\n\n</code></pre>\n<p>Why the author use <code>join()</code> after <code>interrupt()</code>?</p>\n<p>what is the purpose of this? Because I try to comment it, nothing changes.</p>\n"},{"tags":["java","scala","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":1974753,"reputation":307,"user_id":1772794,"display_name":"dkichler"},"score":18,"creation_date":1503691776,"post_id":36390403,"comment_id":78736950,"body_markdown":"Steps are not clear enough to follow with any confidence","body":"Steps are not clear enough to follow with any confidence"}],"tags":[],"owner":{"display_name":"user5497885"},"comment_count":1,"down_vote_count":6,"up_vote_count":11,"is_accepted":true,"score":5,"last_activity_date":1590721464,"creation_date":1459713281,"answer_id":36390403,"question_id":36341257,"body_markdown":"SOLVED as Follow:\r\n\r\nIn project settings, you need to manually add:\r\n\r\n1. JDK Folder\r\n2. Module and dependencies to JDK AND Scala JAR\r\n\r\n3. In library, Add MANUALLY the JAR of Scala (IntelliJ does not add those JAR. it creates compile issues).\r\n\r\n4. in Global library, check the JAR of scala are same.\r\n\r\nThere is an option to see the DEBUG in verbose mode:\r\n\r\nhttps://intellij-support.jetbrains.com/hc/articles/207241085\r\n\r\nThis is very useful.\r\n\r\n","title":"IntelliJ Bug: Scala 145, Error:scalac: Scala compiler JARs not found","body":"<p>SOLVED as Follow:</p>\n\n<p>In project settings, you need to manually add:</p>\n\n<ol>\n<li>JDK Folder</li>\n<li><p>Module and dependencies to JDK AND Scala JAR</p></li>\n<li><p>In library, Add MANUALLY the JAR of Scala (IntelliJ does not add those JAR. it creates compile issues).</p></li>\n<li><p>in Global library, check the JAR of scala are same.</p></li>\n</ol>\n\n<p>There is an option to see the DEBUG in verbose mode:</p>\n\n<p><a href=\"https://intellij-support.jetbrains.com/hc/articles/207241085\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/articles/207241085</a></p>\n\n<p>This is very useful.</p>\n"},{"comments":[{"owner":{"account_id":7342540,"reputation":940,"user_id":5718679,"accept_rate":75,"display_name":"Orar"},"score":1,"creation_date":1464939942,"post_id":37608741,"comment_id":62701152,"body_markdown":"Im sure its not advisable to install Scala plugin when configuring IntelliJ after installation.","body":"Im sure its not advisable to install Scala plugin when configuring IntelliJ after installation."},{"owner":{"account_id":5136764,"reputation":1360,"user_id":4115275,"accept_rate":83,"display_name":"Zee"},"score":2,"creation_date":1493400755,"post_id":37608741,"comment_id":74417835,"body_markdown":"upvoting this, this was the only thing that fixed it for me.","body":"upvoting this, this was the only thing that fixed it for me."},{"owner":{"account_id":62429,"reputation":2948,"user_id":185514,"accept_rate":58,"display_name":"thlim"},"score":1,"creation_date":1504945021,"post_id":37608741,"comment_id":79219516,"body_markdown":"I have to agree. Nothing works until I reinstall the Scala plugin after IntelliJ version \nupgrade :(","body":"I have to agree. Nothing works until I reinstall the Scala plugin after IntelliJ version  upgrade :("},{"owner":{"account_id":354008,"reputation":1614,"user_id":692083,"accept_rate":57,"display_name":"M&#225;rio Meyrelles"},"score":0,"creation_date":1508157979,"post_id":37608741,"comment_id":80486667,"body_markdown":"Yes, this works. In my case, I had scala 2.12.1 and I wasn&#39;t able to use it on my home notebook. Ok. So I reinstalled the plugin and also, I had to download the Scala SDK 2.12.3. IntelliJ alerted that I needed to setup a new Scala SDK. After the download, I had the option to choose between Scala 2.12.3 and 2.11.4, the previous default. After all this updates, I had to refresh the project (opening build.sbt).","body":"Yes, this works. In my case, I had scala 2.12.1 and I wasn&#39;t able to use it on my home notebook. Ok. So I reinstalled the plugin and also, I had to download the Scala SDK 2.12.3. IntelliJ alerted that I needed to setup a new Scala SDK. After the download, I had the option to choose between Scala 2.12.3 and 2.11.4, the previous default. After all this updates, I had to refresh the project (opening build.sbt)."}],"tags":[],"owner":{"account_id":7342540,"reputation":940,"user_id":5718679,"accept_rate":75,"display_name":"Orar"},"comment_count":4,"down_vote_count":3,"up_vote_count":59,"is_accepted":false,"score":56,"last_activity_date":1539755295,"creation_date":1464939860,"answer_id":37608741,"question_id":36341257,"body_markdown":"Please goto File &gt; Settings (**Ctrl+Alt+S**, Windows)/Preferences (Mac) &gt; Plugin\r\nSearch for &quot;scala&quot;. Uninstall Scala plugin.. Restart IDE.\r\nReinstall it. Restart IDE and install the plugin. Everything works OK\r\n","title":"IntelliJ Bug: Scala 145, Error:scalac: Scala compiler JARs not found","body":"<p>Please goto File > Settings (<strong>Ctrl+Alt+S</strong>, Windows)/Preferences (Mac) > Plugin\nSearch for \"scala\". Uninstall Scala plugin.. Restart IDE.\nReinstall it. Restart IDE and install the plugin. Everything works OK</p>\n"},{"comments":[{"owner":{"account_id":1539955,"reputation":1612,"user_id":1434854,"accept_rate":60,"display_name":"Vova Rozhkov"},"score":0,"creation_date":1597184191,"post_id":50415849,"comment_id":112049955,"body_markdown":"removing the library + re-importing gradle project helped me to solve the issue","body":"removing the library + re-importing gradle project helped me to solve the issue"}],"tags":[],"owner":{"account_id":2833025,"reputation":1032,"user_id":3026310,"display_name":"Eron Wright"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1526661672,"creation_date":1526661672,"answer_id":50415849,"question_id":36341257,"body_markdown":"If your project is Gradle-based, one possibility is that the project is looking for Scala libraries in the .m2 cache that don&#39;t exist.  To confirm, open &quot;Project Structure...&quot;, go to &quot;Libraries&quot;, and examine the list for &quot;Gradle: org.scala-lang:...&quot; that contain errors related to missing files.\r\n\r\nIf this is the issue, simply re-import the project from scratch.","title":"IntelliJ Bug: Scala 145, Error:scalac: Scala compiler JARs not found","body":"<p>If your project is Gradle-based, one possibility is that the project is looking for Scala libraries in the .m2 cache that don't exist.  To confirm, open \"Project Structure...\", go to \"Libraries\", and examine the list for \"Gradle: org.scala-lang:...\" that contain errors related to missing files.</p>\n\n<p>If this is the issue, simply re-import the project from scratch.</p>\n"},{"comments":[{"owner":{"account_id":7408190,"reputation":4260,"user_id":5720818,"display_name":"Yasen"},"score":0,"creation_date":1586825168,"post_id":61197826,"comment_id":108265074,"body_markdown":"Hi, welcome to the club. Please explain your answer","body":"Hi, welcome to the club. Please explain your answer"}],"tags":[],"owner":{"account_id":18276580,"reputation":1,"user_id":13306254,"display_name":"Varsha"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1586816938,"creation_date":1586816938,"answer_id":61197826,"question_id":36341257,"body_markdown":"In IntelliJ, ensure that the external libraries are present.\r\nIf already present, open library settings and check the path to the jars is not in red.\r\nIf in red, correct the path to the jars\r\n\r\n\r\n","title":"IntelliJ Bug: Scala 145, Error:scalac: Scala compiler JARs not found","body":"<p>In IntelliJ, ensure that the external libraries are present.\nIf already present, open library settings and check the path to the jars is not in red.\nIf in red, correct the path to the jars</p>\n"},{"comments":[{"owner":{"account_id":5504967,"reputation":1897,"user_id":4373061,"accept_rate":87,"display_name":"Zafar"},"score":0,"creation_date":1666739404,"post_id":62175404,"comment_id":131006733,"body_markdown":"This worked for me, but I had to clear the Scala SDK and Invalidate the cache and restart and then first-thing run IntelliJ&#39;s build before doing any maven operations. Now it works.","body":"This worked for me, but I had to clear the Scala SDK and Invalidate the cache and restart and then first-thing run IntelliJ&#39;s build before doing any maven operations. Now it works."},{"owner":{"account_id":6418040,"reputation":459,"user_id":4975592,"display_name":"Sang Yun Park"},"score":0,"creation_date":1681417108,"post_id":62175404,"comment_id":134057309,"body_markdown":"This worked for me as well. In Intellij 2023.1, you can find `Invalidate Cache` under `File &gt; Invalidate Cache`","body":"This worked for me as well. In Intellij 2023.1, you can find <code>Invalidate Cache</code> under <code>File &gt; Invalidate Cache</code>"}],"tags":[],"owner":{"account_id":5471129,"reputation":789,"user_id":4350480,"display_name":"Hasan Aslam"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1591194582,"creation_date":1591194582,"answer_id":62175404,"question_id":36341257,"body_markdown":"In the more recent versions of IntelliJ (2020.1.1) at the time of writing this, I was able to solve this problem by removing the Scala SDK configured in the `Global Libraries` section in IntelliJ and hitting `File &gt; Invalid Caches / Restart`. \r\n\r\nI&#39;m not sure why this solved the issue, perhaps recent versions of the IDE now have automatic detection of Scala compiler JAR files from Maven (which I&#39;m using to build my project).","title":"IntelliJ Bug: Scala 145, Error:scalac: Scala compiler JARs not found","body":"<p>In the more recent versions of IntelliJ (2020.1.1) at the time of writing this, I was able to solve this problem by removing the Scala SDK configured in the <code>Global Libraries</code> section in IntelliJ and hitting <code>File &gt; Invalid Caches / Restart</code>. </p>\n\n<p>I'm not sure why this solved the issue, perhaps recent versions of the IDE now have automatic detection of Scala compiler JAR files from Maven (which I'm using to build my project).</p>\n"},{"tags":[],"owner":{"account_id":12464355,"reputation":31,"user_id":9074918,"display_name":"Philip K"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1599724603,"creation_date":1599724603,"answer_id":63825247,"question_id":36341257,"body_markdown":"Open File -&gt; Project Structure\r\n\r\nGo to Libraries under Project Settings\r\n\r\n  [1]: https://i.stack.imgur.com/erhGh.png\r\n\r\nClick on the minus button on the erroring Scala library\r\n\r\nOpen an existing Scala class in IntelliJ and you will see the prompt to set up Scala SDK and click on that\r\n\r\n\r\n","title":"IntelliJ Bug: Scala 145, Error:scalac: Scala compiler JARs not found","body":"<p>Open File -&gt; Project Structure</p>\n<p>Go to Libraries under Project Settings</p>\n<p>Click on the minus button on the erroring Scala library</p>\n<p>Open an existing Scala class in IntelliJ and you will see the prompt to set up Scala SDK and click on that</p>\n"},{"tags":[],"owner":{"account_id":20459691,"reputation":171,"user_id":15012605,"display_name":"iammallikarjuna"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1615372346,"creation_date":1615372346,"answer_id":66562924,"question_id":36341257,"body_markdown":"https://www.jetbrains.com/help/idea/invalidate-caches.html\r\n\r\nIntelliJ IDEA caches a great number of files, therefore the system cache may become overloaded. Sometimes the caches will never be needed again, for example, if you work with frequent short-term projects.\r\n\r\nWhen you invalidate the cache, IntelliJ IDEA rebuilds all projects ever run in the current version of the IDE.\r\n\r\nClear the system cache﻿\r\n1.From the main menu, select File | Invalidate Caches / Restart.\r\n\r\n2.In the Invalidate Caches dialog, select an action. You can invalidate the caches and restart the IDE or just restart the IDE.\r\n\r\nThis worked for me.","title":"IntelliJ Bug: Scala 145, Error:scalac: Scala compiler JARs not found","body":"<p><a href=\"https://www.jetbrains.com/help/idea/invalidate-caches.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/invalidate-caches.html</a></p>\n<p>IntelliJ IDEA caches a great number of files, therefore the system cache may become overloaded. Sometimes the caches will never be needed again, for example, if you work with frequent short-term projects.</p>\n<p>When you invalidate the cache, IntelliJ IDEA rebuilds all projects ever run in the current version of the IDE.</p>\n<p>Clear the system cache﻿\n1.From the main menu, select File | Invalidate Caches / Restart.</p>\n<p>2.In the Invalidate Caches dialog, select an action. You can invalidate the caches and restart the IDE or just restart the IDE.</p>\n<p>This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":3557255,"reputation":5224,"user_id":2970705,"display_name":"JavAlex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618929715,"creation_date":1618929715,"answer_id":67181148,"question_id":36341257,"body_markdown":"For me, the following solution worked:\r\n\r\nGo to *Project Settings &gt; Modules &gt; Dependencies*, select the Scala SDK, *Edit*, and correct the path of the Scala JARs:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/uDuJR.png","title":"IntelliJ Bug: Scala 145, Error:scalac: Scala compiler JARs not found","body":"<p>For me, the following solution worked:</p>\n<p>Go to <em>Project Settings &gt; Modules &gt; Dependencies</em>, select the Scala SDK, <em>Edit</em>, and correct the path of the Scala JARs:</p>\n<p><a href=\"https://i.stack.imgur.com/uDuJR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uDuJR.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3588226,"reputation":3348,"user_id":2994854,"accept_rate":0,"display_name":"mithunpaul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634620899,"creation_date":1634620899,"answer_id":69625482,"question_id":36341257,"body_markdown":"Update @Oct 2021: This error means plugin needed an update and was solved by : goto File &gt; Settings (Ctrl+Alt+S, Windows)/Preferences (Mac) &gt; Plugin Search for &quot;scala&quot;. Update.","title":"IntelliJ Bug: Scala 145, Error:scalac: Scala compiler JARs not found","body":"<p>Update @Oct 2021: This error means plugin needed an update and was solved by : goto File &gt; Settings (Ctrl+Alt+S, Windows)/Preferences (Mac) &gt; Plugin Search for &quot;scala&quot;. Update.</p>\n"},{"comments":[{"owner":{"account_id":2266207,"reputation":622,"user_id":1994816,"display_name":"Rohit Rokde"},"score":0,"creation_date":1694121114,"post_id":73967062,"comment_id":135853466,"body_markdown":"This was my issue!","body":"This was my issue!"}],"tags":[],"owner":{"account_id":2428542,"reputation":584,"user_id":2119986,"accept_rate":0,"display_name":"Venkatesh Boya"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665010281,"creation_date":1665010281,"answer_id":73967062,"question_id":36341257,"body_markdown":"This could be the issue :\r\n  You may have multiple maven projects linked/imported in single IntelliJ IDE window\r\n  and those maven projects are using  different Scala compiler versions.\r\n\r\nFirst you will get multiple compiler versions detected issue, then to fix this issue \r\nif may have deleted some compiler version folder/jars from .m2 repo.\r\n\r\nSolution : Go to maven view/tab --&gt; Unlink maven projects from IntelliJ IDE which are using different versions of Scala , keep only projects which are using same version of Scala","title":"IntelliJ Bug: Scala 145, Error:scalac: Scala compiler JARs not found","body":"<p>This could be the issue :\nYou may have multiple maven projects linked/imported in single IntelliJ IDE window\nand those maven projects are using  different Scala compiler versions.</p>\n<p>First you will get multiple compiler versions detected issue, then to fix this issue\nif may have deleted some compiler version folder/jars from .m2 repo.</p>\n<p>Solution : Go to maven view/tab --&gt; Unlink maven projects from IntelliJ IDE which are using different versions of Scala , keep only projects which are using same version of Scala</p>\n"},{"comments":[{"owner":{"account_id":23004535,"reputation":1381,"user_id":17128041,"display_name":"sidharth vijayakumar"},"score":1,"creation_date":1699889208,"post_id":77467114,"comment_id":136584210,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77467114/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":2115623,"reputation":11,"user_id":1880022,"display_name":"user1880022"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699742480,"creation_date":1699742480,"answer_id":77467114,"question_id":36341257,"body_markdown":"I was having the same problem, and the solution posted from IntelliJ Developer solved the problem.\r\n\r\nSolution: \r\n\r\nIntelliJ IDEA 2023.2.5 (Community Edition)\r\nGo to File | Settings | Build, Execution, Deployment\r\nUnder Compiler, click on Scala Compiler\r\nLook for &#39; Incrementality type:&#39; and select IDEA.\r\nApply and close .\r\n","title":"IntelliJ Bug: Scala 145, Error:scalac: Scala compiler JARs not found","body":"<p>I was having the same problem, and the solution posted from IntelliJ Developer solved the problem.</p>\n<p>Solution:</p>\n<p>IntelliJ IDEA 2023.2.5 (Community Edition)\nGo to File | Settings | Build, Execution, Deployment\nUnder Compiler, click on Scala Compiler\nLook for ' Incrementality type:' and select IDEA.\nApply and close .</p>\n"}],"owner":{"display_name":"user5497885"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43605,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":36390403,"answer_count":11,"score":37,"last_activity_date":1699742480,"creation_date":1459449913,"question_id":36341257,"body_markdown":"I try to compile a simple object in IntelliJ:\r\n\r\n    object Test02 {\r\n        def main(args: Array[String]) {\r\n             println(&quot;Hello World&quot;); \r\n        }\r\n    }\r\n\r\nI got this message:\r\n\r\n    Error:scalac: Scala compiler JARs not found (module &#39;scala02&#39;): \r\n    E:\\.ivy2\\cache\\org.scala-lang\\scala-library\\jars\\scala-library-2.11.8.jar, \r\n    E:\\.ivy2\\cache\\org.scala-lang\\scala-compiler\\jars\\scala-compiler-2.11.8.jar,\r\n    E:\\.ivy2\\cache\\org.scala-lang\\scala-reflect\\jars\\scala-reflect-2.11.8.jar\r\n\r\nI checked the Project Structure and checked the modules.\r\nModules are located here:\r\n\r\n    C:/Users/asus1/.ivy2/cache/org.scala-lang/scala-compiler/jars/scala-compiler-2.11.8.jar\r\n\r\n\r\nHow Can I change E:  to   C:/Users/asus1/ ?&lt;br&gt;\r\nDo I need to move all to E: ?\r\n\r\nHow people manage when the project and the jar are in different location ?\r\n\r\nIt seems a big bug of IntellJ ...?\r\n\r\n","title":"IntelliJ Bug: Scala 145, Error:scalac: Scala compiler JARs not found","body":"<p>I try to compile a simple object in IntelliJ:</p>\n\n<pre><code>object Test02 {\n    def main(args: Array[String]) {\n         println(\"Hello World\"); \n    }\n}\n</code></pre>\n\n<p>I got this message:</p>\n\n<pre><code>Error:scalac: Scala compiler JARs not found (module 'scala02'): \nE:\\.ivy2\\cache\\org.scala-lang\\scala-library\\jars\\scala-library-2.11.8.jar, \nE:\\.ivy2\\cache\\org.scala-lang\\scala-compiler\\jars\\scala-compiler-2.11.8.jar,\nE:\\.ivy2\\cache\\org.scala-lang\\scala-reflect\\jars\\scala-reflect-2.11.8.jar\n</code></pre>\n\n<p>I checked the Project Structure and checked the modules.\nModules are located here:</p>\n\n<pre><code>C:/Users/asus1/.ivy2/cache/org.scala-lang/scala-compiler/jars/scala-compiler-2.11.8.jar\n</code></pre>\n\n<p>How Can I change E:  to   C:/Users/asus1/ ?<br>\nDo I need to move all to E: ?</p>\n\n<p>How people manage when the project and the jar are in different location ?</p>\n\n<p>It seems a big bug of IntellJ ...?</p>\n"},{"tags":["java","jaxb","jaxb2-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699694789,"creation_date":1699694789,"answer_id":77464537,"question_id":77157863,"body_markdown":"Maybe you could use [the JAXB Annotate plugin][1] which allow you to add any annotation on any class / field.\r\n\r\n\r\n  [1]: https://github.com/highsource/jaxb-tools/wiki/JAXB-Annotate-Home","title":"JAXB-XJC: Add required args constructor for all generated classes by jaxb2-maven-plugin","body":"<p>Maybe you could use <a href=\"https://github.com/highsource/jaxb-tools/wiki/JAXB-Annotate-Home\" rel=\"nofollow noreferrer\">the JAXB Annotate plugin</a> which allow you to add any annotation on any class / field.</p>\n"},{"tags":[],"owner":{"account_id":3909931,"reputation":406,"user_id":3235583,"display_name":"Rick O&#39;Sullivan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699742430,"creation_date":1699742430,"answer_id":77467112,"question_id":77157863,"body_markdown":"In the next release of [HiSrc BasicJAXB](https://github.com/patrodyne/hisrc-basicjaxb#hisrc-basicjaxb), the [ValueConstructorPlugin](https://github.com/patrodyne/hisrc-basicjaxb/blob/master/plugins/src/main/java/org/jvnet/basicjaxb/plugin/valueconstructor/ValueConstructorPlugin.java) will provide these XJC options:\r\n\r\n+ `XvalueConstructor-complete` - generate constructors for the complete set of fields.\r\n+ `XvalueConstructor-required` - generate constructors for all required fields.\r\n+ `XvalueConstructor-selected` - generate constructors for [selector](https://www.w3schools.com/xml/el_selector.asp) constraints: [key](https://www.w3schools.com/xml/el_key.asp), [keyref](https://www.w3schools.com/xml/el_keyref.asp) and [unique](https://www.w3schools.com/xml/el_unique.asp).\r\n\r\n_Disclaimer:_ I am the maintainer for the forked [HiSrc BasicJAXB](https://github.com/patrodyne/hisrc-basicjaxb#hisrc-basicjaxb) project.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"JAXB-XJC: Add required args constructor for all generated classes by jaxb2-maven-plugin","body":"<p>In the next release of <a href=\"https://github.com/patrodyne/hisrc-basicjaxb#hisrc-basicjaxb\" rel=\"nofollow noreferrer\">HiSrc BasicJAXB</a>, the <a href=\"https://github.com/patrodyne/hisrc-basicjaxb/blob/master/plugins/src/main/java/org/jvnet/basicjaxb/plugin/valueconstructor/ValueConstructorPlugin.java\" rel=\"nofollow noreferrer\">ValueConstructorPlugin</a> will provide these XJC options:</p>\n<ul>\n<li><code>XvalueConstructor-complete</code> - generate constructors for the complete set of fields.</li>\n<li><code>XvalueConstructor-required</code> - generate constructors for all required fields.</li>\n<li><code>XvalueConstructor-selected</code> - generate constructors for <a href=\"https://www.w3schools.com/xml/el_selector.asp\" rel=\"nofollow noreferrer\">selector</a> constraints: <a href=\"https://www.w3schools.com/xml/el_key.asp\" rel=\"nofollow noreferrer\">key</a>, <a href=\"https://www.w3schools.com/xml/el_keyref.asp\" rel=\"nofollow noreferrer\">keyref</a> and <a href=\"https://www.w3schools.com/xml/el_unique.asp\" rel=\"nofollow noreferrer\">unique</a>.</li>\n</ul>\n<p><em>Disclaimer:</em> I am the maintainer for the forked <a href=\"https://github.com/patrodyne/hisrc-basicjaxb#hisrc-basicjaxb\" rel=\"nofollow noreferrer\">HiSrc BasicJAXB</a> project.</p>\n"}],"owner":{"account_id":29371238,"reputation":1,"user_id":22503820,"display_name":"olimtrail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1699742430,"creation_date":1695387824,"question_id":77157863,"body_markdown":"Is there a way to add a required args constructor for org.codehaus.mojo:jaxb2-maven-plugin?\r\n\r\nI found org.jvnet.jaxb2_commons:jaxb2-value-constructor but it can only generate all args constructor for all generated classes.\r\n\r\nOr can I annotate each generated class somehow with Lomboks @RequiredArgsConstructor afterwards?\r\n\r\nLooked for plugin extensions.","title":"JAXB-XJC: Add required args constructor for all generated classes by jaxb2-maven-plugin","body":"<p>Is there a way to add a required args constructor for org.codehaus.mojo:jaxb2-maven-plugin?</p>\n<p>I found org.jvnet.jaxb2_commons:jaxb2-value-constructor but it can only generate all args constructor for all generated classes.</p>\n<p>Or can I annotate each generated class somehow with Lomboks @RequiredArgsConstructor afterwards?</p>\n<p>Looked for plugin extensions.</p>\n"},{"tags":["java","jenkins","java-8","jenkins-agent"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1567594869,"post_id":57787000,"comment_id":102007368,"body_markdown":"Is the path really correct `C:\\Program Files\\Java\\jdk1.8.0_221\\\\bin` ?","body":"Is the path really correct <code>C:\\Program Files\\Java\\jdk1.8.0_221\\\\bin</code> ?"},{"owner":{"account_id":10079574,"reputation":1734,"user_id":7450414,"display_name":"AndiCover"},"score":0,"creation_date":1567597019,"post_id":57787000,"comment_id":102008398,"body_markdown":"Did you restart the process after setting the environment variable?","body":"Did you restart the process after setting the environment variable?"},{"owner":{"account_id":8433434,"reputation":1147,"user_id":6687534,"accept_rate":33,"display_name":"Tien Dung Tran"},"score":0,"creation_date":1567616435,"post_id":57787000,"comment_id":102019005,"body_markdown":"@Naman: yes, the path is correct, I can run java and javac command in command prompt inside this node","body":"@Naman: yes, the path is correct, I can run java and javac command in command prompt inside this node"},{"owner":{"account_id":8433434,"reputation":1147,"user_id":6687534,"accept_rate":33,"display_name":"Tien Dung Tran"},"score":0,"creation_date":1567616491,"post_id":57787000,"comment_id":102019028,"body_markdown":"@AndiCover: yes try to reboot server and jenkins slave service many time.\nSo I wonder that, do I need to configure a settings.xml in maven","body":"@AndiCover: yes try to reboot server and jenkins slave service many time. So I wonder that, do I need to configure a settings.xml in maven"},{"owner":{"account_id":148947,"reputation":7935,"user_id":361089,"accept_rate":63,"display_name":"Technext"},"score":1,"creation_date":1567617115,"post_id":57787000,"comment_id":102019280,"body_markdown":"@TienDungTran: What does typing `where java` gives you on the command prompt?","body":"@TienDungTran: What does typing <code>where java</code> gives you on the command prompt?"},{"owner":{"account_id":8433434,"reputation":1147,"user_id":6687534,"accept_rate":33,"display_name":"Tien Dung Tran"},"score":0,"creation_date":1567652934,"post_id":57787000,"comment_id":102028512,"body_markdown":"@Technext: it&#39;s show correct the java_home:\n      C:\\Users\\Administrator&gt;where java\n      C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\\java.exe\n      C:\\Program Files\\Java\\jdk1.8.0_221\\bin\\java.exe","body":"@Technext: it&#39;s show correct the java_home:       C:\\Users\\Administrator&gt;where java       C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\\java.exe       C:\\Program Files\\Java\\jdk1.8.0_221\\bin\\java.exe"}],"answers":[{"comments":[{"owner":{"account_id":8433434,"reputation":1147,"user_id":6687534,"accept_rate":33,"display_name":"Tien Dung Tran"},"score":0,"creation_date":1567657223,"post_id":57798017,"comment_id":102029344,"body_markdown":"Actually, I don&#39;t want to fix the JAVA_HOME in global tool configuration, due to I have some linux slave.\nSecond, if I go with your configuration. I have to choose JDK in every job build confiugration which running in this slave, see my picture http://prntscr.com/p201i8. I want to use a (System) JDK which will get from environment variable in this node, so I can switch to another slave node without changing the JDK option.","body":"Actually, I don&#39;t want to fix the JAVA_HOME in global tool configuration, due to I have some linux slave. Second, if I go with your configuration. I have to choose JDK in every job build confiugration which running in this slave, see my picture <a href=\"http://prntscr.com/p201i8\" rel=\"nofollow noreferrer\">prntscr.com/p201i8</a>. I want to use a (System) JDK which will get from environment variable in this node, so I can switch to another slave node without changing the JDK option."},{"owner":{"account_id":8433434,"reputation":1147,"user_id":6687534,"accept_rate":33,"display_name":"Tien Dung Tran"},"score":0,"creation_date":1567669893,"post_id":57798017,"comment_id":102033685,"body_markdown":"this issue still occur with method 2, here is my screenshoot http://prntscr.com/p223yl\nI also tried to restart this server.","body":"this issue still occur with method 2, here is my screenshoot <a href=\"http://prntscr.com/p223yl\" rel=\"nofollow noreferrer\">prntscr.com/p223yl</a> I also tried to restart this server."},{"owner":{"account_id":148947,"reputation":7935,"user_id":361089,"accept_rate":63,"display_name":"Technext"},"score":0,"creation_date":1567672944,"post_id":57798017,"comment_id":102035177,"body_markdown":"Please disconnect and then connect the node.","body":"Please disconnect and then connect the node."},{"owner":{"account_id":8433434,"reputation":1147,"user_id":6687534,"accept_rate":33,"display_name":"Tien Dung Tran"},"score":0,"creation_date":1567680478,"post_id":57798017,"comment_id":102039234,"body_markdown":"unfortunately, this issue still occur.","body":"unfortunately, this issue still occur."},{"owner":{"account_id":148947,"reputation":7935,"user_id":361089,"accept_rate":63,"display_name":"Technext"},"score":0,"creation_date":1567683339,"post_id":57798017,"comment_id":102040821,"body_markdown":"Please update your post with the output of `mvn -v`. Also, _during the build_, can you please print the output of `echo %Path%`","body":"Please update your post with the output of <code>mvn -v</code>. Also, <i>during the build</i>, can you please print the output of <code>echo %Path%</code>"},{"owner":{"account_id":8433434,"reputation":1147,"user_id":6687534,"accept_rate":33,"display_name":"Tien Dung Tran"},"score":0,"creation_date":1568017073,"post_id":57798017,"comment_id":102127018,"body_markdown":"here is the output https://pastebin.com/3wvGCTDa\nI just found out that, If I try to run maven bulid inside this node, it run success.","body":"here is the output <a href=\"https://pastebin.com/3wvGCTDa\" rel=\"nofollow noreferrer\">pastebin.com/3wvGCTDa</a> I just found out that, If I try to run maven bulid inside this node, it run success."},{"owner":{"account_id":148947,"reputation":7935,"user_id":361089,"accept_rate":63,"display_name":"Technext"},"score":0,"creation_date":1568038274,"post_id":57798017,"comment_id":102137715,"body_markdown":"Your statement comes as a surprise where you mention that _...If I try to run maven bulid inside this node, it run success..._ Where were you running the build before then?","body":"Your statement comes as a surprise where you mention that <i>...If I try to run maven bulid inside this node, it run success...</i> Where were you running the build before then?"},{"owner":{"account_id":8433434,"reputation":1147,"user_id":6687534,"accept_rate":33,"display_name":"Tien Dung Tran"},"score":0,"creation_date":1568084378,"post_id":57798017,"comment_id":102152667,"body_markdown":"yes, it&#39;s true. When I remote to this server, and open command prompt, cd to workspace folder of this project, let say: C:\\jenkins_slave\\workspace\\project01\\, then type the command: mvn clean install, it run without complain about jdk or jre as run from Jenkins.","body":"yes, it&#39;s true. When I remote to this server, and open command prompt, cd to workspace folder of this project, let say: C:\\jenkins_slave\\workspace\\project01\\, then type the command: mvn clean install, it run without complain about jdk or jre as run from Jenkins."},{"owner":{"account_id":148947,"reputation":7935,"user_id":361089,"accept_rate":63,"display_name":"Technext"},"score":0,"creation_date":1568102795,"post_id":57798017,"comment_id":102158187,"body_markdown":"Ok. So if i get it right, your issue is still not resolved. You are able to run commands manually on the node but it&#39;s not working through Jenkins, correct?","body":"Ok. So if i get it right, your issue is still not resolved. You are able to run commands manually on the node but it&#39;s not working through Jenkins, correct?"},{"owner":{"account_id":148947,"reputation":7935,"user_id":361089,"accept_rate":63,"display_name":"Technext"},"score":0,"creation_date":1568120042,"post_id":57798017,"comment_id":102167391,"body_markdown":"Based on the [Pastebin](https://pastebin.com/3wvGCTDa) link that you shared, it seems you have followed the suggestion i made in Method 2 of my answer.","body":"Based on the <a href=\"https://pastebin.com/3wvGCTDa\" rel=\"nofollow noreferrer\">Pastebin</a> link that you shared, it seems you have followed the suggestion i made in Method 2 of my answer."},{"owner":{"account_id":8433434,"reputation":1147,"user_id":6687534,"accept_rate":33,"display_name":"Tien Dung Tran"},"score":0,"creation_date":1568169973,"post_id":57798017,"comment_id":102185929,"body_markdown":"yes, it still not work, I just update my question for the current status.","body":"yes, it still not work, I just update my question for the current status."},{"owner":{"account_id":148947,"reputation":7935,"user_id":361089,"accept_rate":63,"display_name":"Technext"},"score":0,"creation_date":1568446692,"post_id":57798017,"comment_id":102283486,"body_markdown":"What time are you online? I am available for next 2 hrs. I have SYSTEM enabled in JDK drop-down in my job. Also, in Node&#39;s configuration, i only have `Environment variables` set. `Tool Locations` is not set. It&#39;s empty and it&#39;s working for me. See updated pic in `Method 2` of my answer.","body":"What time are you online? I am available for next 2 hrs. I have SYSTEM enabled in JDK drop-down in my job. Also, in Node&#39;s configuration, i only have <code>Environment variables</code> set. <code>Tool Locations</code> is not set. It&#39;s empty and it&#39;s working for me. See updated pic in <code>Method 2</code> of my answer."},{"owner":{"account_id":8433434,"reputation":1147,"user_id":6687534,"accept_rate":33,"display_name":"Tien Dung Tran"},"score":0,"creation_date":1568603884,"post_id":57798017,"comment_id":102312550,"body_markdown":"I online from 9AM-&gt;18PM GMT+7. Please let me know when you avaiable. \nI also have some Windows slaves like this and the setup is very straighforward, the build job work well without set Environment varaible in Node&#39;s confiugration.I tried to clone the worked node, but the issue still occur. So I think this issue may come from Jenkins configuration.","body":"I online from 9AM-&gt;18PM GMT+7. Please let me know when you avaiable.  I also have some Windows slaves like this and the setup is very straighforward, the build job work well without set Environment varaible in Node&#39;s confiugration.I tried to clone the worked node, but the issue still occur. So I think this issue may come from Jenkins configuration."},{"owner":{"account_id":148947,"reputation":7935,"user_id":361089,"accept_rate":63,"display_name":"Technext"},"score":0,"creation_date":1568639204,"post_id":57798017,"comment_id":102326860,"body_markdown":"I am available usually from 1330 hrs to 1630 hrs GMT. Available right now.","body":"I am available usually from 1330 hrs to 1630 hrs GMT. Available right now."},{"owner":{"account_id":8433434,"reputation":1147,"user_id":6687534,"accept_rate":33,"display_name":"Tien Dung Tran"},"score":0,"creation_date":1568690919,"post_id":57798017,"comment_id":102344453,"body_markdown":"How could I chat with you?","body":"How could I chat with you?"},{"owner":{"account_id":148947,"reputation":7935,"user_id":361089,"accept_rate":63,"display_name":"Technext"},"score":0,"creation_date":1569590857,"post_id":57798017,"comment_id":102657731,"body_markdown":"I&#39;m glad that something finally worked. It was a tricky one! :)","body":"I&#39;m glad that something finally worked. It was a tricky one! :)"}],"tags":[],"owner":{"account_id":148947,"reputation":7935,"user_id":361089,"accept_rate":63,"display_name":"Technext"},"comment_count":16,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1569575726,"creation_date":1567653727,"answer_id":57798017,"question_id":57787000,"body_markdown":"You may use any of these methods depending on what suits you:\r\n\r\n---\r\n**Method 1**)\r\n\r\nPlease configure your Windows&#39; Node to point it to the JDK you want to use by following these steps:\r\n\r\n1. Go to `Manage Jenkins` &gt; `Global Tool Configuration` &gt; JDK &gt; `Add JDK`\r\n\r\n Since you already have Java installed, uncheck the box `Install automatically`\r\n\r\n In `Name` section, just provide some meaningful identifier, not necessarily `JAVA_HOME`. Now in the `JAVA_HOME` text box, you can provide any value that you wish because you are anyways going to use a different value for your Windows node.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n2. Now go to `Manage Jenkins` &gt; `Manage Nodes` &gt; (Go to `Configure` section of your Windows node) &gt; `Node Properties`\r\n\r\n Now enable the check-box that says `Tool Locations`. Click `Add` &gt; From the drop-down, select the name you provided to your JDK in `Global Tool Configuration` section\r\n\r\n Now here you have to provide the JAVA_HOME path for your Windows node. So wherever it is, just mention that path in the `Home` text box as shown below:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n---\r\n\r\n**Method 2**)\r\n\r\nGo to `Manage Jenkins` &gt; `Manage Nodes` &gt; (Go to `Configure` section of your Windows node) &gt; `Node Properties`\r\n\r\nNow enable the check-box that says `Environment variables` &gt; `Add`\r\n\r\n- In `Name` text box, write `Path` (not `PATH`)\r\n- In `Value` text box, write the path of your JDK installation till `bin` as shown below.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nIn your case, add the following: `C:\\Program Files\\Java\\jdk1.8.0_221\\bin;C:\\Windows\\System32;C:\\maven-3.6.1\\bin;%PATH%`\r\n\r\n*I was not having Maven set in PATH so i added it to Node&#39;s configuration as shown above.*\r\n\r\nNote: In the `Value` text box, use semi-colon (;) as separator not comma (,)\r\n\r\n**Job&#39;s JDK config**:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n**Job&#39;s command**:\r\n\r\n[![enter image description here][5]][5]\r\n\r\n**Job&#39;s output**:\r\n\r\n[![enter image description here][6]][6]\r\n\r\n---\r\n\r\n**Method 3**)\r\n\r\nIn your Windows Node&#39;s configuration, enable `Environment variables` and add below variable with the _relevant_ value \r\n\r\nName:  `java.home`\r\n\r\nValue: `C:\\Program Files\\Java\\jdk1.8.0_221\\jre`\r\n\r\n\r\n**Note**: It&#39;s `java.home` (all in small letters as shown below)\r\n\r\n[![enter image description here][7]][7]\r\n\r\n`JAVA_HOME` needs to point to a JDK installation (maven needs the `tools.jar`) but Maven _actually_ uses the JRE within the JDK to run itself.\r\n\r\nWhen using `mvn -version`, Maven uses Java&#39;s internal `java.home` property. This property is not the same thing as `JAVA_HOME` environment setting so it might fool you. It is actually a dynamic property showing you which JRE is running your code.\r\n\r\nRef: https://stackoverflow.com/questions/15279586/java-home-in-maven/15279640\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2TAeP.jpg\r\n  [2]: https://i.stack.imgur.com/o8qfl.jpg\r\n  [3]: https://i.stack.imgur.com/qC4hz.jpg\r\n  [4]: https://i.stack.imgur.com/cB2XL.jpg\r\n  [5]: https://i.stack.imgur.com/pdoGq.jpg\r\n  [6]: https://i.stack.imgur.com/z8GDQ.jpg\r\n  [7]: https://i.stack.imgur.com/XXiXh.jpg","title":"Jenkins Windows agent: No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK","body":"<p>You may use any of these methods depending on what suits you:</p>\n\n<hr>\n\n<p><strong>Method 1</strong>)</p>\n\n<p>Please configure your Windows' Node to point it to the JDK you want to use by following these steps:</p>\n\n<ol>\n<li><p>Go to <code>Manage Jenkins</code> > <code>Global Tool Configuration</code> > JDK > <code>Add JDK</code></p>\n\n<p>Since you already have Java installed, uncheck the box <code>Install automatically</code></p>\n\n<p>In <code>Name</code> section, just provide some meaningful identifier, not necessarily <code>JAVA_HOME</code>. Now in the <code>JAVA_HOME</code> text box, you can provide any value that you wish because you are anyways going to use a different value for your Windows node.</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/2TAeP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2TAeP.jpg\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"2\">\n<li><p>Now go to <code>Manage Jenkins</code> > <code>Manage Nodes</code> > (Go to <code>Configure</code> section of your Windows node) > <code>Node Properties</code></p>\n\n<p>Now enable the check-box that says <code>Tool Locations</code>. Click <code>Add</code> > From the drop-down, select the name you provided to your JDK in <code>Global Tool Configuration</code> section</p>\n\n<p>Now here you have to provide the JAVA_HOME path for your Windows node. So wherever it is, just mention that path in the <code>Home</code> text box as shown below:</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/o8qfl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o8qfl.jpg\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p><strong>Method 2</strong>)</p>\n\n<p>Go to <code>Manage Jenkins</code> > <code>Manage Nodes</code> > (Go to <code>Configure</code> section of your Windows node) > <code>Node Properties</code></p>\n\n<p>Now enable the check-box that says <code>Environment variables</code> > <code>Add</code></p>\n\n<ul>\n<li>In <code>Name</code> text box, write <code>Path</code> (not <code>PATH</code>)</li>\n<li>In <code>Value</code> text box, write the path of your JDK installation till <code>bin</code> as shown below.</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/qC4hz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qC4hz.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>In your case, add the following: <code>C:\\Program Files\\Java\\jdk1.8.0_221\\bin;C:\\Windows\\System32;C:\\maven-3.6.1\\bin;%PATH%</code></p>\n\n<p><em>I was not having Maven set in PATH so i added it to Node's configuration as shown above.</em></p>\n\n<p>Note: In the <code>Value</code> text box, use semi-colon (;) as separator not comma (,)</p>\n\n<p><strong>Job's JDK config</strong>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cB2XL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cB2XL.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Job's command</strong>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/pdoGq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pdoGq.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Job's output</strong>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/z8GDQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z8GDQ.jpg\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p><strong>Method 3</strong>)</p>\n\n<p>In your Windows Node's configuration, enable <code>Environment variables</code> and add below variable with the <em>relevant</em> value </p>\n\n<p>Name:  <code>java.home</code></p>\n\n<p>Value: <code>C:\\Program Files\\Java\\jdk1.8.0_221\\jre</code></p>\n\n<p><strong>Note</strong>: It's <code>java.home</code> (all in small letters as shown below)</p>\n\n<p><a href=\"https://i.stack.imgur.com/XXiXh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XXiXh.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><code>JAVA_HOME</code> needs to point to a JDK installation (maven needs the <code>tools.jar</code>) but Maven <em>actually</em> uses the JRE within the JDK to run itself.</p>\n\n<p>When using <code>mvn -version</code>, Maven uses Java's internal <code>java.home</code> property. This property is not the same thing as <code>JAVA_HOME</code> environment setting so it might fool you. It is actually a dynamic property showing you which JRE is running your code.</p>\n\n<p>Ref: <a href=\"https://stackoverflow.com/questions/15279586/java-home-in-maven/15279640\">Java_home in Maven</a></p>\n"}],"owner":{"account_id":8433434,"reputation":1147,"user_id":6687534,"accept_rate":33,"display_name":"Tien Dung Tran"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2477,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57798017,"answer_count":1,"score":1,"last_activity_date":1699742401,"creation_date":1567594807,"question_id":57787000,"body_markdown":"I just setup a new Jenkins agent which is running Windows server 2012. I already installed jdk-8u221-windows-x64 and set Java_home, Path like below\r\n\r\n    C:\\Users\\Administrator&gt;echo %JAVA_HOME%\r\n    C:\\Program Files\\Java\\jdk1.8.0_221\\\r\n    \r\n    C:\\Users\\Administrator&gt;echo %PATH%\r\n    C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Windows\\system32;C:\\\r\n    Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\\r\n    Program Files\\Amazon\\cfn-bootstrap\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\Ja\r\n    va\\jdk1.8.0_221\\\\bin;C:\\maven\\bin;C:\\maven\\bin\r\n\r\n\r\nHowever,build job running in this agent always complain that:\r\n\r\n&gt; No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK\r\n\r\nAny idea of what might be causing this?\r\n\r\n*Update Sep 11th, 2019*\r\n\r\nI configure the agent node as method 2 of Technext&#39;s suggestion\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn a Job build configuration, I selected (System) in JDK option. If I choose JDK 8 update 221, this build job run successfully, but I want to use a (System) JDK which will get from environment variable in this node, so I can switch to another agent node without changing the JDK option.\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZwPJT.png\r\n  [2]: https://i.stack.imgur.com/BobxH.png\r\n\r\nHowever, when I remote to this server, and open command prompt, move on to workspace folder of this project, let say: C:\\jenkins_slave\\workspace\\project01\\, then type the command: mvn clean install, it run without complain about jdk or jre as run from Jenkins. ","title":"Jenkins Windows agent: No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK","body":"<p>I just setup a new Jenkins agent which is running Windows server 2012. I already installed jdk-8u221-windows-x64 and set Java_home, Path like below</p>\n<pre><code>C:\\Users\\Administrator&gt;echo %JAVA_HOME%\nC:\\Program Files\\Java\\jdk1.8.0_221\\\n\nC:\\Users\\Administrator&gt;echo %PATH%\nC:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Windows\\system32;C:\\\nWindows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\\nProgram Files\\Amazon\\cfn-bootstrap\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\Ja\nva\\jdk1.8.0_221\\\\bin;C:\\maven\\bin;C:\\maven\\bin\n</code></pre>\n<p>However,build job running in this agent always complain that:</p>\n<blockquote>\n<p>No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK</p>\n</blockquote>\n<p>Any idea of what might be causing this?</p>\n<p><em>Update Sep 11th, 2019</em></p>\n<p>I configure the agent node as method 2 of Technext's suggestion\n<a href=\"https://i.stack.imgur.com/ZwPJT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZwPJT.png\" alt=\"enter image description here\" /></a></p>\n<p>In a Job build configuration, I selected (System) in JDK option. If I choose JDK 8 update 221, this build job run successfully, but I want to use a (System) JDK which will get from environment variable in this node, so I can switch to another agent node without changing the JDK option.\n<a href=\"https://i.stack.imgur.com/BobxH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BobxH.png\" alt=\"enter image description here\" /></a></p>\n<p>However, when I remote to this server, and open command prompt, move on to workspace folder of this project, let say: C:\\jenkins_slave\\workspace\\project01, then type the command: mvn clean install, it run without complain about jdk or jre as run from Jenkins.</p>\n"},{"tags":["java","jenkins","jnlp","jenkins-agent"],"answers":[{"comments":[{"owner":{"account_id":10616496,"reputation":22895,"user_id":7818749,"display_name":"Gerhard"},"score":1,"creation_date":1666848887,"post_id":22925709,"comment_id":131033583,"body_markdown":"Nope, it does work, always has as `file:/path/to/slave.jnlp` but you need to exclude the `-secret` paramater.","body":"Nope, it does work, always has as <code>file:&#47;path&#47;to&#47;slave.jnlp</code> but you need to exclude the <code>-secret</code> paramater."}],"tags":[],"owner":{"account_id":6387,"reputation":20830,"user_id":10715,"accept_rate":77,"display_name":"gareth_bowles"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":true,"score":2,"last_activity_date":1396918334,"creation_date":1396918334,"answer_id":22925709,"question_id":22925495,"body_markdown":"The jnlpUrl parameter needs to be an http or https link to your Jenkins master, e.g. http://jenkins.yourco.com/computer/slavename/slave-agent.jnlp -it won&#39;t work as a file URL.\r\n","title":"Local JNLP file not read for Jenkins agent","body":"<p>The jnlpUrl parameter needs to be an http or https link to your Jenkins master, e.g. <a href=\"http://jenkins.yourco.com/computer/slavename/slave-agent.jnlp\" rel=\"nofollow\">http://jenkins.yourco.com/computer/slavename/slave-agent.jnlp</a> -it won't work as a file URL.</p>\n"},{"comments":[{"owner":{"account_id":10616496,"reputation":22895,"user_id":7818749,"display_name":"Gerhard"},"score":0,"creation_date":1666848963,"post_id":35896619,"comment_id":131033591,"body_markdown":"Yes, it always worked, it was not something new added in 2016.","body":"Yes, it always worked, it was not something new added in 2016."}],"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1457539439,"creation_date":1457539439,"answer_id":35896619,"question_id":22925495,"body_markdown":"Answer by @gareth_bowles is wrong at least today, the url will work as a file url as well. Don&#39;t know if this was changed at some point.\r\n\r\nFor our windows slave it is `&quot;file:/D:/jenkins-slave/slave-agent.jnlp&quot;`, which works.","title":"Local JNLP file not read for Jenkins agent","body":"<p>Answer by @gareth_bowles is wrong at least today, the url will work as a file url as well. Don't know if this was changed at some point.</p>\n\n<p>For our windows slave it is <code>\"file:/D:/jenkins-slave/slave-agent.jnlp\"</code>, which works.</p>\n"}],"owner":{"account_id":69279,"reputation":645,"user_id":201679,"accept_rate":75,"display_name":"Gaurav Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8758,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":22925709,"answer_count":2,"score":3,"last_activity_date":1699742327,"creation_date":1396917015,"question_id":22925495,"body_markdown":"I am trying to connect Jenkins agent to the controller. \r\n\r\nWe are allowed to have only one port (say 8888) open from the corporate firewall to talk to the controller hosted on AWS. The port is being used for connecting to the jnlp process running on the controller Jenkins machine. Due to this reason we cannot download the slave-agent.jnlp file using http. I have manually downloaded the slave-agent.jnlp file and I am trying to give the following command to start the agent up. \r\n\r\n\r\n    java -jar slave.jar -jnlpUrl file:///oracle/app/jenkins/slave-agent.jnlp -secret 7f079707d5632d2db2501be73f1a6f5f6422b9c9fde806afd8fdd2000d5db123\r\n\r\nI get the the following error\r\n\r\n    Failing to obtain file:/oracle/app/jenkins/slave-agent.jnlp?encrypt=true\r\n    java.io.IOException: file:/oracle/app/jenkins/slave-agent.jnlp?encrypt=true doesn&#39;t look like a JNLP file; content type was null\r\n        at hudson.remoting.Launcher.parseJnlpArguments(Launcher.java:301)\r\n        at hudson.remoting.Launcher.run(Launcher.java:218)\r\n        at hudson.remoting.Launcher.main(Launcher.java:192)\r\n    Waiting 10 seconds before retry\r\n\r\nI have tried this as well without any luck. \r\n\r\n    java -jar slave.jar -jnlpUrl file://localhost/oracle/app/jenkins/slave-agent.jnlp -secret 7f079707d5632d2db2501be73f1a6f5f6422b9c9fde806afd8fdd2000d5db123\r\n\r\nThe file is present at the location has read write permissions. \r\n\r\nAny clue on why the java process is not able to read that file?","title":"Local JNLP file not read for Jenkins agent","body":"<p>I am trying to connect Jenkins agent to the controller.</p>\n<p>We are allowed to have only one port (say 8888) open from the corporate firewall to talk to the controller hosted on AWS. The port is being used for connecting to the jnlp process running on the controller Jenkins machine. Due to this reason we cannot download the slave-agent.jnlp file using http. I have manually downloaded the slave-agent.jnlp file and I am trying to give the following command to start the agent up.</p>\n<pre><code>java -jar slave.jar -jnlpUrl file:///oracle/app/jenkins/slave-agent.jnlp -secret 7f079707d5632d2db2501be73f1a6f5f6422b9c9fde806afd8fdd2000d5db123\n</code></pre>\n<p>I get the the following error</p>\n<pre><code>Failing to obtain file:/oracle/app/jenkins/slave-agent.jnlp?encrypt=true\njava.io.IOException: file:/oracle/app/jenkins/slave-agent.jnlp?encrypt=true doesn't look like a JNLP file; content type was null\n    at hudson.remoting.Launcher.parseJnlpArguments(Launcher.java:301)\n    at hudson.remoting.Launcher.run(Launcher.java:218)\n    at hudson.remoting.Launcher.main(Launcher.java:192)\nWaiting 10 seconds before retry\n</code></pre>\n<p>I have tried this as well without any luck.</p>\n<pre><code>java -jar slave.jar -jnlpUrl file://localhost/oracle/app/jenkins/slave-agent.jnlp -secret 7f079707d5632d2db2501be73f1a6f5f6422b9c9fde806afd8fdd2000d5db123\n</code></pre>\n<p>The file is present at the location has read write permissions.</p>\n<p>Any clue on why the java process is not able to read that file?</p>\n"},{"tags":["java","sqlite"],"comments":[{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1473941836,"post_id":39510409,"comment_id":66337528,"body_markdown":"SQlite is useful for small local application, in that case, a Singleton is enough to prevent a lock. If you have multiple thread in you application, that will resolve your issues. I would say that you forgot to close you connection somewhere. I used it on an old app without having this kind off issues.","body":"SQlite is useful for small local application, in that case, a Singleton is enough to prevent a lock. If you have multiple thread in you application, that will resolve your issues. I would say that you forgot to close you connection somewhere. I used it on an old app without having this kind off issues."},{"owner":{"account_id":1230089,"reputation":5622,"user_id":1194864,"accept_rate":89,"display_name":"Jose Ramon"},"score":0,"creation_date":1473941925,"post_id":39510409,"comment_id":66337586,"body_markdown":"It seems that this error arise when I am trying to have access to a specific table. So my problem is that I have a query statement I never closed it somewhere?","body":"It seems that this error arise when I am trying to have access to a specific table. So my problem is that I have a query statement I never closed it somewhere?"},{"owner":{"account_id":1230089,"reputation":5622,"user_id":1194864,"accept_rate":89,"display_name":"Jose Ramon"},"score":0,"creation_date":1473943817,"post_id":39510409,"comment_id":66338792,"body_markdown":"My problem arises in a specific query every time, I am not sure why!","body":"My problem arises in a specific query every time, I am not sure why!"},{"owner":{"account_id":1230089,"reputation":5622,"user_id":1194864,"accept_rate":89,"display_name":"Jose Ramon"},"score":0,"creation_date":1473945971,"post_id":39510409,"comment_id":66340372,"body_markdown":"I tried it in sqlite browser and it works. Maybe since I am using a lot of times the table during my software session somewhere the table remains open.","body":"I tried it in sqlite browser and it works. Maybe since I am using a lot of times the table during my software session somewhere the table remains open."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1473947354,"post_id":39510409,"comment_id":66341399,"body_markdown":"You could use it 1 billion time, if you close the I/O correctly, there is no issue with it. Could you add more code, if you use a transaction, how do you manage exception in the query, if you close everything...","body":"You could use it 1 billion time, if you close the I/O correctly, there is no issue with it. Could you add more code, if you use a transaction, how do you manage exception in the query, if you close everything..."},{"owner":{"account_id":1230089,"reputation":5622,"user_id":1194864,"accept_rate":89,"display_name":"Jose Ramon"},"score":0,"creation_date":1473947608,"post_id":39510409,"comment_id":66341600,"body_markdown":"I edit my question with code.","body":"I edit my question with code."},{"owner":{"account_id":439165,"reputation":2353,"user_id":827921,"accept_rate":17,"display_name":"Rahul Saini"},"score":0,"creation_date":1500633568,"post_id":39510409,"comment_id":77436687,"body_markdown":"I also observed that if you are running a Java Program with SELECT queries and you have any other SQL Editor open, in which you are trying to insert records, even then the SQLite file gets locked and shows this BUSY message. Solution is to CLOSE the SQL Editor so that file lock count goes back to 0 and use proper ResultSet and PreparedStatement close code in the Java program.","body":"I also observed that if you are running a Java Program with SELECT queries and you have any other SQL Editor open, in which you are trying to insert records, even then the SQLite file gets locked and shows this BUSY message. Solution is to CLOSE the SQL Editor so that file lock count goes back to 0 and use proper ResultSet and PreparedStatement close code in the Java program."}],"answers":[{"comments":[{"owner":{"account_id":1230089,"reputation":5622,"user_id":1194864,"accept_rate":89,"display_name":"Jose Ramon"},"score":0,"creation_date":1473941690,"post_id":39510732,"comment_id":66337429,"body_markdown":"Yes I am aware about that. However sometimes the problem happerning just by running just one instance of my software. I have several select insert and update queries though. The problem arise in a specific table. Can I control somehow the access to that table of my database?","body":"Yes I am aware about that. However sometimes the problem happerning just by running just one instance of my software. I have several select insert and update queries though. The problem arise in a specific table. Can I control somehow the access to that table of my database?"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1473941882,"post_id":39510732,"comment_id":66337556,"body_markdown":"Using MySql for an application necessite to install it, not the best choice if you just want to be able to store in local file some data using the SQL syntax.","body":"Using MySql for an application necessite to install it, not the best choice if you just want to be able to store in local file some data using the SQL syntax."}],"tags":[],"owner":{"account_id":106901,"reputation":36958,"user_id":284538,"accept_rate":64,"display_name":"Mike Thomsen"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473941511,"creation_date":1473941511,"answer_id":39510732,"question_id":39510409,"body_markdown":"Sorta duplicate of existing question, but [this is a good starting point](https://stackoverflow.com/a/13891889/284538). Because SQLite is just a library that reads and writes to a file on the file system, not a full SQL database, you should really only have one connection open to it at a time. Otherwise it is pretty easy to get into a race condition.\r\n\r\nFor local testing, it should be fine, but for a system of any complexity expecting multiple users, you should be using something like Postgre or MySQL.","title":"SQLITE_BUSY the database is locked java","body":"<p>Sorta duplicate of existing question, but <a href=\"https://stackoverflow.com/a/13891889/284538\">this is a good starting point</a>. Because SQLite is just a library that reads and writes to a file on the file system, not a full SQL database, you should really only have one connection open to it at a time. Otherwise it is pretty easy to get into a race condition.</p>\n\n<p>For local testing, it should be fine, but for a system of any complexity expecting multiple users, you should be using something like Postgre or MySQL.</p>\n"},{"comments":[{"owner":{"account_id":1230089,"reputation":5622,"user_id":1194864,"accept_rate":89,"display_name":"Jose Ramon"},"score":0,"creation_date":1473948160,"post_id":39513082,"comment_id":66342029,"body_markdown":"So should I do the same for every query I ve got in my code?","body":"So should I do the same for every query I ve got in my code?"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1473948236,"post_id":39513082,"comment_id":66342084,"body_markdown":"If this is not the reason, then the `connectionUser` could be the cause. (the name is not reassuring, since you should have only 1 connection for the entire application)","body":"If this is not the reason, then the <code>connectionUser</code> could be the cause. (the name is not reassuring, since you should have only 1 connection for the entire application)"},{"owner":{"account_id":1230089,"reputation":5622,"user_id":1194864,"accept_rate":89,"display_name":"Jose Ramon"},"score":0,"creation_date":1473948295,"post_id":39513082,"comment_id":66342131,"body_markdown":"Is there a way to retrieve what exactly cause my issue?","body":"Is there a way to retrieve what exactly cause my issue?"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1473948299,"post_id":39513082,"comment_id":66342135,"body_markdown":"@JoseRamon, Oh yes, if an exception occurs, you never close the resultset or statement. This is a common error that you should correct.","body":"@JoseRamon, Oh yes, if an exception occurs, you never close the resultset or statement. This is a common error that you should correct."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1473948617,"post_id":39513082,"comment_id":66342374,"body_markdown":"For the exact cause, you should be more specific on the test you have done to make it crash, where in this block of 4 query. I can only assume on the cause without every information ;)","body":"For the exact cause, you should be more specific on the test you have done to make it crash, where in this block of 4 query. I can only assume on the cause without every information ;)"},{"owner":{"account_id":1230089,"reputation":5622,"user_id":1194864,"accept_rate":89,"display_name":"Jose Ramon"},"score":0,"creation_date":1473949557,"post_id":39513082,"comment_id":66343078,"body_markdown":"My problem rising in the catch that I ve got also the system.exit :)","body":"My problem rising in the catch that I ve got also the system.exit :)"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1473950714,"post_id":39513082,"comment_id":66343907,"body_markdown":"Well, is it really a correct usage to exit here ? It&#39;s a bit brutal I think ;)","body":"Well, is it really a correct usage to exit here ? It&#39;s a bit brutal I think ;)"},{"owner":{"account_id":1230089,"reputation":5622,"user_id":1194864,"accept_rate":89,"display_name":"Jose Ramon"},"score":0,"creation_date":1473951503,"post_id":39513082,"comment_id":66344489,"body_markdown":"Yea in my case is better to close the application than having empty fields in my database.","body":"Yea in my case is better to close the application than having empty fields in my database."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1474007793,"post_id":39513082,"comment_id":66365489,"body_markdown":"Well, close everything then exit the app (not sure a leak in Java could remain after the end the main thread but better safe than sorry), don&#39;t forget the connectionUser!","body":"Well, close everything then exit the app (not sure a leak in Java could remain after the end the main thread but better safe than sorry), don&#39;t forget the connectionUser!"}],"tags":[],"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1473948064,"creation_date":1473948064,"answer_id":39513082,"question_id":39510409,"body_markdown":"Your try catch are wrong, you try to close the `ResultSet` and `Statemnt` in the try block instead of a finally block. This could lead to leaks.\r\n\r\nYou should do it like this, in the finally. \r\n\r\n    PreparedStatement pst  = null;\r\n    ResultSet rs = null;\r\n    try {\r\n            pst = connectionUsers.prepareStatement(query);\r\n            ...  \r\n            rs = pst.executeQuery();\r\n            ...                    \r\n        } catch (Exception a) {\r\n            a.printStackTrace();\r\n        } finally {\r\n            if(rs != null){\r\n                 try{\r\n                      rs.close();\r\n                 } catch(Exception e){\r\n                     e.printStackTrace();\r\n                 }\r\n            }\r\n            if(pst != null){\r\n                try{\r\n                    pst.close();\r\n                } catch(Exception e){\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\nOr you could look to the Try-with-resource.\r\n\r\nThis could be a reason.","title":"SQLITE_BUSY the database is locked java","body":"<p>Your try catch are wrong, you try to close the <code>ResultSet</code> and <code>Statemnt</code> in the try block instead of a finally block. This could lead to leaks.</p>\n\n<p>You should do it like this, in the finally. </p>\n\n<pre><code>PreparedStatement pst  = null;\nResultSet rs = null;\ntry {\n        pst = connectionUsers.prepareStatement(query);\n        ...  \n        rs = pst.executeQuery();\n        ...                    \n    } catch (Exception a) {\n        a.printStackTrace();\n    } finally {\n        if(rs != null){\n             try{\n                  rs.close();\n             } catch(Exception e){\n                 e.printStackTrace();\n             }\n        }\n        if(pst != null){\n            try{\n                pst.close();\n            } catch(Exception e){\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n\n<p>Or you could look to the Try-with-resource.</p>\n\n<p>This could be a reason.</p>\n"},{"tags":[],"owner":{"account_id":9088275,"reputation":691,"user_id":6765336,"display_name":"dilanSachi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1557220573,"creation_date":1557220573,"answer_id":56019314,"question_id":39510409,"body_markdown":"Every time you open a connection with the SQLite database, make sure to close the database connection after you process the results or etc. if you already have an open  connection to the database and if you try to get the connection again and try some `Update` or `Insert` queries, the system will not give the permission and will raise an error. ","title":"SQLITE_BUSY the database is locked java","body":"<p>Every time you open a connection with the SQLite database, make sure to close the database connection after you process the results or etc. if you already have an open  connection to the database and if you try to get the connection again and try some <code>Update</code> or <code>Insert</code> queries, the system will not give the permission and will raise an error. </p>\n"}],"owner":{"account_id":1230089,"reputation":5622,"user_id":1194864,"accept_rate":89,"display_name":"Jose Ramon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14598,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":39513082,"answer_count":3,"score":3,"last_activity_date":1699741984,"creation_date":1473940515,"question_id":39510409,"body_markdown":"I have create a java software which make use of sqlite database. The whole database works smoothly however after some time of running the application I am receiving the following message (from a try catch block):\r\n\r\n&gt; java.sql.SQLException: [SQLITE_BUSY]  The database file is locked (database is locked)\r\n\r\nI ve solved my problems by closing the software every time the exception rising. However is there a way to close my database instead so as not to close the software every time? \r\n\r\nI ve got plenty of queries however my prob arises always in a specific point:\r\n\r\n    \t\ttry {\r\n\t\t\t\tString query = &quot;select * from StudentsSession where userId=? and course=? and level=?&quot;;\r\n\t\t\t\tPreparedStatement pst = connectionUsers.prepareStatement(query);\r\n\t\t\t\tpst.setString(1, saveUser.getText());\r\n\t\t\t\tpst.setString(2, textSubjectQTest);\r\n\t\t\t\tst.setString(3, showCurrentLevelLabel.getText());\r\n\t\t\t\tResultSet rs = pst.executeQuery();\r\n\t\t\t\twhile (rs.next()) {\r\n\t\t\t\t\tcount = count + 1;\r\n\t\t\t\t}\r\n\t\t\t\tpst.close();\r\n\t\t\t\trs.close();\r\n\t\t\t\t\r\n\t\t\t} catch (Exception a) {\r\n\t\t\t\tSystem.out.println(a);\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tString countS, tmpS;\r\n\t\t\t\tcountS = String.valueOf(count);\r\n\t\t\t\tsessionId.setText(countS);\r\n\t\t\t\tlong unixTime = System.currentTimeMillis() / 1000L;\r\n\t\t\t\ttmpS = String.valueOf(unixTime);\r\n\t\t\t\tdate.setText(tmpS);\r\n\t\t\t\tcourse.setText(textSubjectQTest);\r\n\r\n\t\t\t\tString query = &quot;insert into StudentsSession (userId,date,course,level,trial,score) values (?,?,?,?,?,-1)&quot;;\r\n\t\t\t\tPreparedStatement pst = connectionUsers.prepareStatement(query);\r\n\t\t\t\tpst.setString(1, saveUser.getText());\r\n\t\t\t\tpst.setString(2, tmpS);\r\n\t\t\t\tpst.setString(3, textSubjectQTest);\r\n\t\t\t\tpst.setString(4, showCurrentLevelLabel.getText());\r\n\t\t\t\tpst.setString(5, countS);\r\n\t\t\t\tpst.executeUpdate();\r\n\t\t\t\tpst.close();\r\n\t\t\t\t\r\n\t\t\t} catch (Exception a) {\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(a);\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t}\r\n\r\n\t\t\tString file1 = &quot;&quot;;\r\n\t\t\tResultSet ts4;\r\n\t\t\ttry {\r\n\r\n\t\t\t\tsessionId3 = &quot;&quot;;\r\n\t\t\t\tString query3 = &quot;select * from studentssession where userid = ?  and course = ? and level = ?&quot;;\r\n\t\t\t\tPreparedStatement pst__1 = connectionUsers.prepareStatement(query3);\r\n\t\t\t\tpst__1.setString(1, saveUser.getText());\r\n\t\t\t\tpst__1.setString(2, textSubjectQTest);\r\n\t\t\t\tpst__1.setString(3, showCurrentLevelLabel.getText());\r\n\t\t\t\tts4 = pst__1.executeQuery();\r\n\r\n\t\t\t\twhile (ts4.next()) {\r\n\t\t\t\t\tsessionId3 = ts4.getString(&quot;sessionId&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tpst__1.close();\r\n\t\t\t\tts4.close();\r\n\t\t\t\tobj = new CaptureVideoFromWebCamera();\r\n\r\n\t\t\t\tfile1 = &quot;videos/&quot; + userTextFieldS.getText();\r\n\r\n\t\t\t\tfile1 = file1 + &quot;_&quot; + sessionId3;\r\n\t\t\t\tfile1 = file1 + &quot;.wmv&quot;;\r\n\t\t\t\t\r\n\t\t\t\tobj.start(file1);\r\n\r\n\t\t\t} catch (Exception e4) {\r\n\t\t\t\te4.getCause();\r\n\t\t\t}\r\n\r\nSometimes this code rise the exception.","title":"SQLITE_BUSY the database is locked java","body":"<p>I have create a java software which make use of sqlite database. The whole database works smoothly however after some time of running the application I am receiving the following message (from a try catch block):</p>\n<blockquote>\n<p>java.sql.SQLException: [SQLITE_BUSY]  The database file is locked (database is locked)</p>\n</blockquote>\n<p>I ve solved my problems by closing the software every time the exception rising. However is there a way to close my database instead so as not to close the software every time?</p>\n<p>I ve got plenty of queries however my prob arises always in a specific point:</p>\n<pre><code>        try {\n            String query = &quot;select * from StudentsSession where userId=? and course=? and level=?&quot;;\n            PreparedStatement pst = connectionUsers.prepareStatement(query);\n            pst.setString(1, saveUser.getText());\n            pst.setString(2, textSubjectQTest);\n            st.setString(3, showCurrentLevelLabel.getText());\n            ResultSet rs = pst.executeQuery();\n            while (rs.next()) {\n                count = count + 1;\n            }\n            pst.close();\n            rs.close();\n            \n        } catch (Exception a) {\n            System.out.println(a);\n        }\n        try {\n            String countS, tmpS;\n            countS = String.valueOf(count);\n            sessionId.setText(countS);\n            long unixTime = System.currentTimeMillis() / 1000L;\n            tmpS = String.valueOf(unixTime);\n            date.setText(tmpS);\n            course.setText(textSubjectQTest);\n\n            String query = &quot;insert into StudentsSession (userId,date,course,level,trial,score) values (?,?,?,?,?,-1)&quot;;\n            PreparedStatement pst = connectionUsers.prepareStatement(query);\n            pst.setString(1, saveUser.getText());\n            pst.setString(2, tmpS);\n            pst.setString(3, textSubjectQTest);\n            pst.setString(4, showCurrentLevelLabel.getText());\n            pst.setString(5, countS);\n            pst.executeUpdate();\n            pst.close();\n            \n        } catch (Exception a) {\n            \n            System.out.println(a);\n            System.exit(0);\n        }\n\n        String file1 = &quot;&quot;;\n        ResultSet ts4;\n        try {\n\n            sessionId3 = &quot;&quot;;\n            String query3 = &quot;select * from studentssession where userid = ?  and course = ? and level = ?&quot;;\n            PreparedStatement pst__1 = connectionUsers.prepareStatement(query3);\n            pst__1.setString(1, saveUser.getText());\n            pst__1.setString(2, textSubjectQTest);\n            pst__1.setString(3, showCurrentLevelLabel.getText());\n            ts4 = pst__1.executeQuery();\n\n            while (ts4.next()) {\n                sessionId3 = ts4.getString(&quot;sessionId&quot;);\n            }\n            pst__1.close();\n            ts4.close();\n            obj = new CaptureVideoFromWebCamera();\n\n            file1 = &quot;videos/&quot; + userTextFieldS.getText();\n\n            file1 = file1 + &quot;_&quot; + sessionId3;\n            file1 = file1 + &quot;.wmv&quot;;\n            \n            obj.start(file1);\n\n        } catch (Exception e4) {\n            e4.getCause();\n        }\n</code></pre>\n<p>Sometimes this code rise the exception.</p>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":6790343,"reputation":1483,"user_id":5227721,"display_name":"Berk Kurkcuoglu"},"score":0,"creation_date":1699746265,"post_id":77467072,"comment_id":136570497,"body_markdown":"your count query isn&#39;t a count query?","body":"your count query isn&#39;t a count query?"}],"owner":{"account_id":6531732,"reputation":329,"user_id":5052685,"accept_rate":76,"display_name":"Mayank Vaid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699741466,"creation_date":1699741466,"question_id":77467072,"body_markdown":"I am facing issues with a Join fetch query when used along with Pageable. Below is the source code.\r\n\r\n    @Query(value = &quot;select pa from parent pa join fetch pa.children ch where ch.status=&#39;ABC&#39;&quot;, \r\n    countQuery=&quot;select pa from parent pa join pa.children ch where ch.status=&#39;ABC&#39;&quot;)\r\n    Page&lt;Parent&gt; getParents(Pageable pageable);\r\n\r\n\r\n    public class Parent{\r\n    private int id;\r\n    @OneToMany(mappedBy=&quot;parent&quot;)\r\n    private List&lt;Child&gt; child\r\n    .....getters/setters\r\n    }\r\n    \r\n    public class Child{\r\n    private int id;\r\n    @ManyToOne)\r\n    @JoinColumn(&quot;parent_id&quot;)\r\n    private Parent parent;\r\n    .....getters/setters\r\n    }\r\n    \r\n    @Bean(&quot;abcReader&quot;)\r\n    @StepScope\r\n    RepositoryItemReader&lt;Parent&gt; abcReader(\r\n            AbcRepository abcRepository) {\r\n        return new RepositoryItemReaderBuilder&lt;Parent&gt;()\r\n                .name(&quot;abcReader&quot;)\r\n                .repository(abcRepository)\r\n                .methodName(&quot;getParents&quot;)\r\n                .pageSize(20)\r\n                .sorts(Map.of(&quot;id&quot;, ASC))\r\n                .build();\r\n    }\r\n\r\nWhen getParents method is called then below exception is thrown \r\n\r\n&gt; org.springframework.dao.InvalidDataAccessApiUsageException: fromIndex(40) &gt; toIndex(30)\r\n\tat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\r\nAfter debugging, it appears that count query is not getting executed due to which JPA isn&#39;t able to understand how many records are present for the criteria and it keeps hitting the actual query and hence above exception is thrown. I am struggling to get this working. My use case is to fetch parent records by filtering child records in Spring batch Paginated reader and send it for processing.\r\n\r\nSame query works fine if I remove pagination.","title":"Spring Data JPA Join Query doesn&#39;t work with Pagination","body":"<p>I am facing issues with a Join fetch query when used along with Pageable. Below is the source code.</p>\n<pre><code>@Query(value = &quot;select pa from parent pa join fetch pa.children ch where ch.status='ABC'&quot;, \ncountQuery=&quot;select pa from parent pa join pa.children ch where ch.status='ABC'&quot;)\nPage&lt;Parent&gt; getParents(Pageable pageable);\n\n\npublic class Parent{\nprivate int id;\n@OneToMany(mappedBy=&quot;parent&quot;)\nprivate List&lt;Child&gt; child\n.....getters/setters\n}\n\npublic class Child{\nprivate int id;\n@ManyToOne)\n@JoinColumn(&quot;parent_id&quot;)\nprivate Parent parent;\n.....getters/setters\n}\n\n@Bean(&quot;abcReader&quot;)\n@StepScope\nRepositoryItemReader&lt;Parent&gt; abcReader(\n        AbcRepository abcRepository) {\n    return new RepositoryItemReaderBuilder&lt;Parent&gt;()\n            .name(&quot;abcReader&quot;)\n            .repository(abcRepository)\n            .methodName(&quot;getParents&quot;)\n            .pageSize(20)\n            .sorts(Map.of(&quot;id&quot;, ASC))\n            .build();\n}\n</code></pre>\n<p>When getParents method is called then below exception is thrown</p>\n<blockquote>\n<p>org.springframework.dao.InvalidDataAccessApiUsageException: fromIndex(40) &gt; toIndex(30)\nat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371) ~[spring-orm-6.0.4.jar:6.0.4]\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-6.0.4.jar:6.0.4]</p>\n</blockquote>\n<p>After debugging, it appears that count query is not getting executed due to which JPA isn't able to understand how many records are present for the criteria and it keeps hitting the actual query and hence above exception is thrown. I am struggling to get this working. My use case is to fetch parent records by filtering child records in Spring batch Paginated reader and send it for processing.</p>\n<p>Same query works fine if I remove pagination.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1699740755,"post_id":77467031,"comment_id":136570145,"body_markdown":"[Online Demo](https://ato.pxeger.com/run?1=dZA7jsIwEIZFm1OMqBwBrlcgKpptNgVBolhRmMRERo4d2ZNIYZWTbEMBl9rT7OTBq2AseaTxP9-M_9_LUVTifL6WeJh9_I2iotxrlUCihffwJZSBnwAohrpHgZQqq1LI6ZXF6JTJvncgXObDQdxGJVxLOZ1gCZ9Sa7u1Tqe8Ay_uqrj2KHNuS-QFgVAb1jVx5dcysS5lYfhQH6wD1oFtXsC85_NMYq9dUdUaadBT19Mq7waRvG2ORC5ZCBMY05nArbypC_kyvQn6uwlcN-7pW4MNYAg1BcKDaRdoelsHd28u_wM)","body":"<a href=\"https://ato.pxeger.com/run?1=dZA7jsIwEIZFm1OMqBwBrlcgKpptNgVBolhRmMRERo4d2ZNIYZWTbEMBl9rT7OTBq2AseaTxP9-M_9_LUVTifL6WeJh9_I2iotxrlUCihffwJZSBnwAohrpHgZQqq1LI6ZXF6JTJvncgXObDQdxGJVxLOZ1gCZ9Sa7u1Tqe8Ay_uqrj2KHNuS-QFgVAb1jVx5dcysS5lYfhQH6wD1oFtXsC85_NMYq9dUdUaadBT19Mq7waRvG2ORC5ZCBMY05nArbypC_kyvQn6uwlcN-7pW4MNYAg1BcKDaRdoelsHd28u_wM\" rel=\"nofollow noreferrer\">Online Demo</a>"}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1699740522,"creation_date":1699740522,"answer_id":77467031,"question_id":77467003,"body_markdown":"Those methods are meant to be used on the `Class` object, i.e. `HelloWorld.class` in this case.\r\n\r\n```java\r\nrecord HelloWorld(String name, int n) {\r\n}\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        var clazz = HelloWorld.class;\r\n        System.out.println(clazz.isRecord()); // true\r\n        for (var comp : clazz.getRecordComponents()) {\r\n            System.out.println(comp.getName() + &quot; &quot; + comp.getType());\r\n        }\r\n        /*\r\n        name class java.lang.String\r\n        n int\r\n        */\r\n    }\r\n}\r\n```","title":"How can I use isRecord() and RecordComponent[] in Record Java?","body":"<p>Those methods are meant to be used on the <code>Class</code> object, i.e. <code>HelloWorld.class</code> in this case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record HelloWorld(String name, int n) {\n}\npublic class Main {\n    public static void main(String[] args) {\n        var clazz = HelloWorld.class;\n        System.out.println(clazz.isRecord()); // true\n        for (var comp : clazz.getRecordComponents()) {\n            System.out.println(comp.getName() + &quot; &quot; + comp.getType());\n        }\n        /*\n        name class java.lang.String\n        n int\n        */\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699741446,"creation_date":1699741446,"answer_id":77467071,"question_id":77467003,"body_markdown":"&gt; _&quot;... So, I tried to find some tutorial or any guides help me understand more clearly about these concept but according to my understanding, I didn&#39;t find any useful ...&quot;_\r\n\r\nThe documentation is referring to the _[Class](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html)_ _class_.\r\n\r\nYou can obtain a static reference, via the _.class_ syntax.\r\n\r\n```java\r\nClass&lt;HelloWorld&gt; c = HelloWorld.class;\r\n```\r\n\r\nOr, an instance reference, via the _[Object#getClass](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass())_ method.\r\n\r\n```java\r\nHelloWorld h = new HelloWorld(&quot;Manh&quot;);\r\nClass&lt;?&gt; c = h.getClass();\r\n```\r\n\r\nFrom here, you can access the _getRecordComponents_ and _isRecord_ methods.\r\n\r\n```java\r\nc.getRecordComponents()\r\n```\r\n\r\n```java\r\nc.isRecord()\r\n```","title":"How can I use isRecord() and RecordComponent[] in Record Java?","body":"<blockquote>\n<p><em>&quot;... So, I tried to find some tutorial or any guides help me understand more clearly about these concept but according to my understanding, I didn't find any useful ...&quot;</em></p>\n</blockquote>\n<p>The documentation is referring to the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html\" rel=\"nofollow noreferrer\">Class</a></em> <em>class</em>.</p>\n<p>You can obtain a static reference, via the <em>.class</em> syntax.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class&lt;HelloWorld&gt; c = HelloWorld.class;\n</code></pre>\n<p>Or, an instance reference, via the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()\" rel=\"nofollow noreferrer\">Object#getClass</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>HelloWorld h = new HelloWorld(&quot;Manh&quot;);\nClass&lt;?&gt; c = h.getClass();\n</code></pre>\n<p>From here, you can access the <em>getRecordComponents</em> and <em>isRecord</em> methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>c.getRecordComponents()\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>c.isRecord()\n</code></pre>\n"}],"owner":{"account_id":29808133,"reputation":65,"user_id":22844207,"display_name":"user22844207"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77467031,"answer_count":2,"score":1,"last_activity_date":1699741446,"creation_date":1699739982,"question_id":77467003,"body_markdown":"I&#39;m reading about record java on the [official documents](https://docs.oracle.com/en/java/javase/17/language/records.html#GUID-6699E26F-4A9B-4393-A08B-1E47D4B2D263)\r\n\r\nAt the last of the article, the author said:\r\n\r\n&lt;blockquote&gt;\r\nThe class java.lang.Class has two methods related to record classes:\r\n\r\n- RecordComponent[] getRecordComponents(): Returns an array of java.lang.reflect.RecordComponent objects, which correspond to the record class&#39;s components.\r\n\r\n- boolean isRecord(): Similar to isEnum() except that it returns true if the class was declared as a record class.\r\n&lt;/blockquote&gt;\r\n\r\nSo, I tried to find some tutorial or any guides help me understand more clearly about these concept but according to my understanding, I didn&#39;t find any useful\r\n\r\nI have tried to do a example like this, but it not works\r\n```\r\npublic record HelloWorld(String name) {\r\n\r\n}\r\n...\r\n...\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        HelloWorld h = new HelloWorld(&quot;Manh&quot;);\r\n        System.out.println(h);\r\n\r\n        System.out.println(h.isRecord());\r\n//        RecordComponent\r\n    }\r\n}\r\n```\r\n\r\nCould you provide some examples to help me understand about these two APIs?","title":"How can I use isRecord() and RecordComponent[] in Record Java?","body":"<p>I'm reading about record java on the <a href=\"https://docs.oracle.com/en/java/javase/17/language/records.html#GUID-6699E26F-4A9B-4393-A08B-1E47D4B2D263\" rel=\"nofollow noreferrer\">official documents</a></p>\n<p>At the last of the article, the author said:</p>\n<blockquote>\nThe class java.lang.Class has two methods related to record classes:\n<ul>\n<li><p>RecordComponent[] getRecordComponents(): Returns an array of java.lang.reflect.RecordComponent objects, which correspond to the record class's components.</p>\n</li>\n<li><p>boolean isRecord(): Similar to isEnum() except that it returns true if the class was declared as a record class.</p>\n</li>\n</ul>\n</blockquote>\n<p>So, I tried to find some tutorial or any guides help me understand more clearly about these concept but according to my understanding, I didn't find any useful</p>\n<p>I have tried to do a example like this, but it not works</p>\n<pre><code>public record HelloWorld(String name) {\n\n}\n...\n...\npublic class Main {\n    public static void main(String[] args) {\n        HelloWorld h = new HelloWorld(&quot;Manh&quot;);\n        System.out.println(h);\n\n        System.out.println(h.isRecord());\n//        RecordComponent\n    }\n}\n</code></pre>\n<p>Could you provide some examples to help me understand about these two APIs?</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1698735044,"post_id":77378451,"comment_id":136439500,"body_markdown":"Is this set? `&quot;java.jdt.ls.java.home&quot;: &quot;E:\\\\Program Files\\\\Java\\\\jdk-17.0.5&quot;` (jdk17 or above)","body":"Is this set? <code>&quot;java.jdt.ls.java.home&quot;: &quot;E:\\\\Program Files\\\\Java\\\\jdk-17.0.5&quot;</code> (jdk17 or above)"},{"owner":{"account_id":16192240,"reputation":393,"user_id":11690682,"display_name":"sweintritt"},"score":0,"creation_date":1698818028,"post_id":77378451,"comment_id":136452061,"body_markdown":"It was not. But setting it did not solve the problem. I also was using Java 11 and switched to 17 but that did also not help.","body":"It was not. But setting it did not solve the problem. I also was using Java 11 and switched to 17 but that did also not help."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1698831756,"post_id":77378451,"comment_id":136453826,"body_markdown":"Can you provide a specific example showing how code completion isn&#39;t working?","body":"Can you provide a specific example showing how code completion isn&#39;t working?"},{"owner":{"account_id":16192240,"reputation":393,"user_id":11690682,"display_name":"sweintritt"},"score":0,"creation_date":1698903819,"post_id":77378451,"comment_id":136464059,"body_markdown":"I added a picture. I only get some word completion but nothing Java specific.","body":"I added a picture. I only get some word completion but nothing Java specific."},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1698978192,"post_id":77378451,"comment_id":136476163,"body_markdown":"[the maintainers are asking for more info](https://github.com/redhat-developer/vscode-java/issues/3349#issuecomment-1790841036): &quot;are there any other errors in your logs before the NullPointerException regarding JavaLanguageServerPlugin.getPreferencesManager() ? Would you be able to attach the client/server logs of this occuring ?&quot; If you could reply to that comment there, that would be great.","body":"<a href=\"https://github.com/redhat-developer/vscode-java/issues/3349#issuecomment-1790841036\" rel=\"nofollow noreferrer\">the maintainers are asking for more info</a>: &quot;are there any other errors in your logs before the NullPointerException regarding JavaLanguageServerPlugin.getPreferencesManager() ? Would you be able to attach the client/server logs of this occuring ?&quot; If you could reply to that comment there, that would be great."}],"answers":[{"comments":[{"owner":{"account_id":16192240,"reputation":393,"user_id":11690682,"display_name":"sweintritt"},"score":0,"creation_date":1698819042,"post_id":77391728,"comment_id":136452143,"body_markdown":"After updatiing to Java 17 at least the errors are gone, but I still get no code completion. Rolling back to v1.23 of the extension did also not help.","body":"After updatiing to Java 17 at least the errors are gone, but I still get no code completion. Rolling back to v1.23 of the extension did also not help."}],"tags":[],"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1699740460,"creation_date":1698698673,"answer_id":77391728,"question_id":77378451,"body_markdown":"From the description of the symptoms in the question post- namely that a stacktrace containing `Caused by: java.lang.NullPointerException: Cannot invoke &quot;org.eclipse.jdt.ls.core.internal.preferences.PreferenceManager.getPreferences()&quot; because the return value of &quot;org.eclipse.jdt.ls.core.internal.JavaLanguageServerPlugin.getPreferencesManager()&quot; is null` is getting spammed in the logs, I think this is a case of this issue: [is it is expected to have 19 GB of 1.1 mb log files in worksapceStorage\r\n#3349](https://github.com/redhat-developer/vscode-java/issues/3349#issue-1955416683). see the info request [here](https://github.com/redhat-developer/vscode-java/issues/3349#issuecomment-1786194295). The issue is purportedly fixed by pull request [Avoid refreshing bundles whose dependency closure includes JDT-LS. #2951](https://github.com/eclipse-jdtls/eclipse.jdt.ls/pull/2951), which is in the End November 2023 release milestone.\r\n\r\n### Extra info\r\n\r\n[Provided logs show that](https://github.com/redhat-developer/vscode-java/issues/3349#issuecomment-1792627772) the failure happens when the extension tries to get a reference to the bundle context for `jdt.ls.core`- after which it seems to get stuck in an initialize loop due to the startup error. The changes made in v1.25.2023110903 of the extension seem to improve but not completely fix the bug.\r\n\r\nThe timing of this question lines up nicely with the release of [version 1.24.0 of the extension](https://github.com/redhat-developer/vscode-java/releases/tag/v1.24.0), so I suspect it being a bug introduced in 1.24.0.","title":"Visual Studio Code code completion for Java not working","body":"<p>From the description of the symptoms in the question post- namely that a stacktrace containing <code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;org.eclipse.jdt.ls.core.internal.preferences.PreferenceManager.getPreferences()&quot; because the return value of &quot;org.eclipse.jdt.ls.core.internal.JavaLanguageServerPlugin.getPreferencesManager()&quot; is null</code> is getting spammed in the logs, I think this is a case of this issue: <a href=\"https://github.com/redhat-developer/vscode-java/issues/3349#issue-1955416683\" rel=\"nofollow noreferrer\">is it is expected to have 19 GB of 1.1 mb log files in worksapceStorage\n#3349</a>. see the info request <a href=\"https://github.com/redhat-developer/vscode-java/issues/3349#issuecomment-1786194295\" rel=\"nofollow noreferrer\">here</a>. The issue is purportedly fixed by pull request <a href=\"https://github.com/eclipse-jdtls/eclipse.jdt.ls/pull/2951\" rel=\"nofollow noreferrer\">Avoid refreshing bundles whose dependency closure includes JDT-LS. #2951</a>, which is in the End November 2023 release milestone.</p>\n<h3>Extra info</h3>\n<p><a href=\"https://github.com/redhat-developer/vscode-java/issues/3349#issuecomment-1792627772\" rel=\"nofollow noreferrer\">Provided logs show that</a> the failure happens when the extension tries to get a reference to the bundle context for <code>jdt.ls.core</code>- after which it seems to get stuck in an initialize loop due to the startup error. The changes made in v1.25.2023110903 of the extension seem to improve but not completely fix the bug.</p>\n<p>The timing of this question lines up nicely with the release of <a href=\"https://github.com/redhat-developer/vscode-java/releases/tag/v1.24.0\" rel=\"nofollow noreferrer\">version 1.24.0 of the extension</a>, so I suspect it being a bug introduced in 1.24.0.</p>\n"},{"tags":[],"owner":{"account_id":16192240,"reputation":393,"user_id":11690682,"display_name":"sweintritt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699041277,"creation_date":1699041277,"answer_id":77419380,"question_id":77378451,"body_markdown":"Oh, this is so stupid. I forgot to set some properties in my maven configuration.\r\n\r\nI set the Java version in the compiler plugin using two properties:\r\n\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    &lt;configuration&gt;\r\n        &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n        &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nBut I forgot to set both of these properties. Strange this is, I did not get any error message, that they are not set.\r\nBut I did also not build the project on the console.\r\n\r\nAfter defining the properties, everything worked as it should.\r\n\r\nSo, thanks for all your help! And sorry for wasting your time!","title":"Visual Studio Code code completion for Java not working","body":"<p>Oh, this is so stupid. I forgot to set some properties in my maven configuration.</p>\n<p>I set the Java version in the compiler plugin using two properties:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n        &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>But I forgot to set both of these properties. Strange this is, I did not get any error message, that they are not set.\nBut I did also not build the project on the console.</p>\n<p>After defining the properties, everything worked as it should.</p>\n<p>So, thanks for all your help! And sorry for wasting your time!</p>\n"}],"owner":{"account_id":16192240,"reputation":393,"user_id":11690682,"display_name":"sweintritt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77419380,"answer_count":2,"score":2,"last_activity_date":1699740460,"creation_date":1698477926,"question_id":77378451,"body_markdown":"Visual Studio Code is not giving me any code completion for Java (just the word completion):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nI have the JDKs configured:\r\n\r\n```json\r\n&quot;java.configuration.runtimes&quot;: [\r\n    {\r\n        &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n        &quot;path&quot;: &quot;/usr/lib/jvm/jre-11-openjdk&quot;,\r\n        &quot;default&quot;: true\r\n    },\r\n    {\r\n        &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n        &quot;path&quot;: &quot;/usr/lib/jvm/jre-17-openjdk&quot;,\r\n    }   \r\n]\r\n```\r\nI have the *Extension Pack* for Java installed and I don&#39;t get any error or something.\r\n\r\nAny other suggestions what might be the problem?\r\n\r\n\r\n`Help: About`\r\n\r\n```\r\nVersion: 1.83.1\r\nCommit: f1b07bd25dfad64b0167beb15359ae573aecd2cc\r\nDate: 2023-10-10T23:45:31.402Z\r\nElectron: 25.8.4\r\nElectronBuildId: 24154031\r\nChromium: 114.0.5735.289\r\nNode.js: 18.15.0\r\nV8: 11.4.183.29-electron.0\r\nOS: Linux x64 6.5.8-200.fc38.x86_64\r\n```\r\n\r\nRed Hat Java Extension is v1.24.0 (I also tried rolling back to v1.23.0)\r\n\r\n**EDIT**\r\n\r\nNow I do get some errors:\r\n\r\n```\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.eclipse.jdt.ls.core.internal.preferences.PreferenceManager.getPreferences()&quot; because the return value of &quot;org.eclipse.jdt.ls.core.internal.JavaLanguageServerPlugin.getPreferencesManager()&quot; is null\r\n\tat org.eclipse.jdt.ls.core.internal.preferences.Preferences.setJavaCompletionFavoriteMembers(Preferences.java:1378)\r\n\tat org.eclipse.jdt.ls.core.internal.preferences.Preferences.createFrom(Preferences.java:1126)\r\n\tat org.eclipse.jdt.ls.core.internal.handlers.BaseInitHandler.handleInitializationOptions(BaseInitHandler.java:113)\r\n\tat org.eclipse.jdt.ls.core.internal.handlers.InitHandler.handleInitializationOptions(InitHandler.java:105)\r\n\tat org.eclipse.jdt.ls.core.internal.handlers.BaseInitHandler.initialize(BaseInitHandler.java:64)\r\n\tat org.eclipse.jdt.ls.core.internal.handlers.JDTLanguageServer.initialize(JDTLanguageServer.java:284)\r\n\t... 16 more\r\n```\r\n\r\nThis error keeps coming and coming. The anlysis of the Java project never ends. Strangely while the analysis runs, the code completion now works.\r\n\r\n**EDIT**\r\n\r\nI did update to Java 17 on my machine, now at least the error messages are gone, but I still get no code completion for Java.\r\n\r\n```\r\nFedora 38\r\nOpenJDK 17.0.8\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8rjyP.png","title":"Visual Studio Code code completion for Java not working","body":"<p>Visual Studio Code is not giving me any code completion for Java (just the word completion):</p>\n<p><a href=\"https://i.stack.imgur.com/8rjyP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rjyP.png\" alt=\"enter image description here\" /></a></p>\n<p>I have the JDKs configured:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;java.configuration.runtimes&quot;: [\n    {\n        &quot;name&quot;: &quot;JavaSE-11&quot;,\n        &quot;path&quot;: &quot;/usr/lib/jvm/jre-11-openjdk&quot;,\n        &quot;default&quot;: true\n    },\n    {\n        &quot;name&quot;: &quot;JavaSE-17&quot;,\n        &quot;path&quot;: &quot;/usr/lib/jvm/jre-17-openjdk&quot;,\n    }   \n]\n</code></pre>\n<p>I have the <em>Extension Pack</em> for Java installed and I don't get any error or something.</p>\n<p>Any other suggestions what might be the problem?</p>\n<p><code>Help: About</code></p>\n<pre><code>Version: 1.83.1\nCommit: f1b07bd25dfad64b0167beb15359ae573aecd2cc\nDate: 2023-10-10T23:45:31.402Z\nElectron: 25.8.4\nElectronBuildId: 24154031\nChromium: 114.0.5735.289\nNode.js: 18.15.0\nV8: 11.4.183.29-electron.0\nOS: Linux x64 6.5.8-200.fc38.x86_64\n</code></pre>\n<p>Red Hat Java Extension is v1.24.0 (I also tried rolling back to v1.23.0)</p>\n<p><strong>EDIT</strong></p>\n<p>Now I do get some errors:</p>\n<pre><code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;org.eclipse.jdt.ls.core.internal.preferences.PreferenceManager.getPreferences()&quot; because the return value of &quot;org.eclipse.jdt.ls.core.internal.JavaLanguageServerPlugin.getPreferencesManager()&quot; is null\n    at org.eclipse.jdt.ls.core.internal.preferences.Preferences.setJavaCompletionFavoriteMembers(Preferences.java:1378)\n    at org.eclipse.jdt.ls.core.internal.preferences.Preferences.createFrom(Preferences.java:1126)\n    at org.eclipse.jdt.ls.core.internal.handlers.BaseInitHandler.handleInitializationOptions(BaseInitHandler.java:113)\n    at org.eclipse.jdt.ls.core.internal.handlers.InitHandler.handleInitializationOptions(InitHandler.java:105)\n    at org.eclipse.jdt.ls.core.internal.handlers.BaseInitHandler.initialize(BaseInitHandler.java:64)\n    at org.eclipse.jdt.ls.core.internal.handlers.JDTLanguageServer.initialize(JDTLanguageServer.java:284)\n    ... 16 more\n</code></pre>\n<p>This error keeps coming and coming. The anlysis of the Java project never ends. Strangely while the analysis runs, the code completion now works.</p>\n<p><strong>EDIT</strong></p>\n<p>I did update to Java 17 on my machine, now at least the error messages are gone, but I still get no code completion for Java.</p>\n<pre><code>Fedora 38\nOpenJDK 17.0.8\n</code></pre>\n"},{"tags":["java","authentication","jwt","httpcookie","spring-boot-security"],"owner":{"account_id":25523036,"reputation":21,"user_id":19312557,"display_name":"Mykyta Ryasny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699740165,"creation_date":1684708036,"question_id":76302175,"body_markdown":"I am trying to make 2 apps login with 1 auth. My App number one gonna provide JWT token in cookie and I want that my app number 2 use that cookie to serve @PreAUthrize. I have full functionality in my first App, but honestly I have no clue how to mix them together. Here is my first app auth:\r\n\r\n\r\n```\r\n@Component\r\npublic class AuthEntryPointJwt implements AuthenticationEntryPoint {\r\n\r\n  private static final Logger logger = LoggerFactory.getLogger(AuthEntryPointJwt.class);\r\n\r\n  @Override\r\n  public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException)\r\n      throws IOException, ServletException {\r\n    logger.error(&quot;Unauthorized error: {}&quot;, authException.getMessage());\r\n\r\n    response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n    response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n\r\n    final Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\r\n    body.put(&quot;status&quot;, HttpServletResponse.SC_UNAUTHORIZED);\r\n    body.put(&quot;error&quot;, &quot;Unauthorized&quot;);\r\n    body.put(&quot;message&quot;, authException.getMessage());\r\n    body.put(&quot;path&quot;, request.getServletPath());\r\n\r\n    final ObjectMapper mapper = new ObjectMapper();\r\n    mapper.writeValue(response.getOutputStream(), body);\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npublic class AuthTokenFilter extends OncePerRequestFilter {\r\n\r\n  @Autowired\r\n  private JwtUtils jwtUtils;\r\n\r\n  @Autowired\r\n  private UserDetailsService userDetailsService;\r\n\r\n  private static final Logger logger = LoggerFactory.getLogger(AuthTokenFilter.class);\r\n\r\n  @Override\r\n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n      throws ServletException, IOException {\r\n    try {\r\n      String jwt = parseJwt(request);\r\n      if (jwt != null &amp;&amp; jwtUtils.validateJwtToken(jwt)) {\r\n        String username = jwtUtils.getUserNameFromJwtToken(jwt);\r\n\r\n        UserDetails userDetails = userDetailsService.loadUserByUsername(username);\r\n\r\n        UsernamePasswordAuthenticationToken authentication =\r\n            new UsernamePasswordAuthenticationToken(userDetails,\r\n                null,\r\n                userDetails.getAuthorities());\r\n\r\n        authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n      }\r\n    } catch (Exception e) {\r\n      logger.error(&quot;Cannot set user authentication: {}&quot;, e);\r\n    }\r\n\r\n    filterChain.doFilter(request, response);\r\n  }\r\n\r\n  private String parseJwt(HttpServletRequest request) {\r\n    String jwt = jwtUtils.getJwtFromCookies(request);\r\n    return jwt;\r\n  }\r\n}\r\n\r\n```\r\n\r\n```\r\n@Component\r\npublic class JwtUtils {\r\n    private static final Logger logger = LoggerFactory.getLogger(JwtUtils.class);\r\n\r\n    @Value(&quot;${tfg.app.jwtSecret}&quot;)\r\n    private String jwtSecret;\r\n\r\n    @Value(&quot;${tfg.app.jwtExpirationMs}&quot;)\r\n    private int jwtExpirationMs;\r\n\r\n    @Value(&quot;${tfg.app.jwtCookieName}&quot;)\r\n    private String jwtCookie;\r\n\r\n\r\n    public String getJwtFromCookies(HttpServletRequest request) {\r\n        Cookie cookie = WebUtils.getCookie(request, jwtCookie);\r\n        if (cookie != null) {\r\n            return cookie.getValue();\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public ResponseCookie generateJwtCookie(EmployeeEntity userPrincipal) {\r\n        String jwt = generateTokenFromUsername(userPrincipal.getUsername());\r\n        ResponseCookie cookie = ResponseCookie.from(jwtCookie, jwt).path(&quot;/&quot;).maxAge(30000).httpOnly(true).build();\r\n        return cookie;\r\n    }\r\n\r\n    public ResponseCookie getCleanJwtCookie() {\r\n        ResponseCookie cookie = ResponseCookie.from(jwtCookie, null).path(&quot;/api&quot;).build();\r\n        return cookie;\r\n    }\r\n\r\n    public String getUserNameFromJwtToken(String token) {\r\n        return Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(token).getBody().getSubject();\r\n    }\r\n\r\n    public boolean validateJwtToken(String authToken) {\r\n        try {\r\n            Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(authToken);\r\n            return true;\r\n        } catch (SignatureException e) {\r\n            logger.error(&quot;Invalid JWT signature: {}&quot;, e.getMessage());\r\n        } catch (MalformedJwtException e) {\r\n            logger.error(&quot;Invalid JWT token: {}&quot;, e.getMessage());\r\n        } catch (ExpiredJwtException e) {\r\n            logger.error(&quot;JWT token is expired: {}&quot;, e.getMessage());\r\n        } catch (UnsupportedJwtException e) {\r\n            logger.error(&quot;JWT token is unsupported: {}&quot;, e.getMessage());\r\n        } catch (IllegalArgumentException e) {\r\n            logger.error(&quot;JWT claims string is empty: {}&quot;, e.getMessage());\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public String generateTokenFromUsername(String username) {\r\n        return Jwts.builder()\r\n                .setSubject(username)\r\n                .setIssuedAt(new Date())\r\n                .setExpiration(new Date((new Date()).getTime() + jwtExpirationMs))\r\n                .signWith(SignatureAlgorithm.HS512, jwtSecret)\r\n                .compact();\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npublic class SecurityConfiguration {\r\n\r\n    @Autowired\r\n    PasswordEnconderConfig passwordEnconderConfig;\r\n\r\n    @Autowired\r\n    private AuthEntryPointJwt unauthorizedHandler;\r\n\r\n    @Autowired\r\n    UserDetailsService userDetailsService;\r\n\r\n    @Bean\r\n    public AuthTokenFilter authenticationJwtTokenFilter() {\r\n        return new AuthTokenFilter();\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n\r\n        authProvider.setUserDetailsService(userDetailsService);\r\n        authProvider.setPasswordEncoder(passwordEnconderConfig.passwordEncoder());\r\n\r\n        return authProvider;\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\r\n        return authConfig.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                .authorizeHttpRequests().requestMatchers(&quot;/auth/**&quot;).permitAll()\r\n                .anyRequest().authenticated();\r\n\r\n        http.authenticationProvider(authenticationProvider());\r\n\r\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI tried to pass this bean to my second app with al JWT stuff and obviusly provided same key, but cannot extract UserDetails and don&#39;t know how to do it.\r\n\r\n\r\n```\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                .authorizeHttpRequests().requestMatchers(&quot;/auth/**&quot;).permitAll()\r\n                .anyRequest().authenticated();\r\n\r\n        http.authenticationProvider(authenticationProvider());\r\n\r\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n```\r\n\r\n\r\nEDIT1: I thought maybe just extract userDetails from JWT is viable and implements that in my second app. I don&#180;t know how to extract that, does it gives me all info I need like permission and also don&#180;t know how to implmenets that automaticly.","title":"Two different Rest Api Spring Boot and 1 Login","body":"<p>I am trying to make 2 apps login with 1 auth. My App number one gonna provide JWT token in cookie and I want that my app number 2 use that cookie to serve @PreAUthrize. I have full functionality in my first App, but honestly I have no clue how to mix them together. Here is my first app auth:</p>\n<pre><code>@Component\npublic class AuthEntryPointJwt implements AuthenticationEntryPoint {\n\n  private static final Logger logger = LoggerFactory.getLogger(AuthEntryPointJwt.class);\n\n  @Override\n  public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException)\n      throws IOException, ServletException {\n    logger.error(&quot;Unauthorized error: {}&quot;, authException.getMessage());\n\n    response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n    response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n\n    final Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\n    body.put(&quot;status&quot;, HttpServletResponse.SC_UNAUTHORIZED);\n    body.put(&quot;error&quot;, &quot;Unauthorized&quot;);\n    body.put(&quot;message&quot;, authException.getMessage());\n    body.put(&quot;path&quot;, request.getServletPath());\n\n    final ObjectMapper mapper = new ObjectMapper();\n    mapper.writeValue(response.getOutputStream(), body);\n  }\n}\n\n</code></pre>\n<pre><code>public class AuthTokenFilter extends OncePerRequestFilter {\n\n  @Autowired\n  private JwtUtils jwtUtils;\n\n  @Autowired\n  private UserDetailsService userDetailsService;\n\n  private static final Logger logger = LoggerFactory.getLogger(AuthTokenFilter.class);\n\n  @Override\n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n      throws ServletException, IOException {\n    try {\n      String jwt = parseJwt(request);\n      if (jwt != null &amp;&amp; jwtUtils.validateJwtToken(jwt)) {\n        String username = jwtUtils.getUserNameFromJwtToken(jwt);\n\n        UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n\n        UsernamePasswordAuthenticationToken authentication =\n            new UsernamePasswordAuthenticationToken(userDetails,\n                null,\n                userDetails.getAuthorities());\n\n        authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n      }\n    } catch (Exception e) {\n      logger.error(&quot;Cannot set user authentication: {}&quot;, e);\n    }\n\n    filterChain.doFilter(request, response);\n  }\n\n  private String parseJwt(HttpServletRequest request) {\n    String jwt = jwtUtils.getJwtFromCookies(request);\n    return jwt;\n  }\n}\n\n</code></pre>\n<pre><code>@Component\npublic class JwtUtils {\n    private static final Logger logger = LoggerFactory.getLogger(JwtUtils.class);\n\n    @Value(&quot;${tfg.app.jwtSecret}&quot;)\n    private String jwtSecret;\n\n    @Value(&quot;${tfg.app.jwtExpirationMs}&quot;)\n    private int jwtExpirationMs;\n\n    @Value(&quot;${tfg.app.jwtCookieName}&quot;)\n    private String jwtCookie;\n\n\n    public String getJwtFromCookies(HttpServletRequest request) {\n        Cookie cookie = WebUtils.getCookie(request, jwtCookie);\n        if (cookie != null) {\n            return cookie.getValue();\n        } else {\n            return null;\n        }\n    }\n\n    public ResponseCookie generateJwtCookie(EmployeeEntity userPrincipal) {\n        String jwt = generateTokenFromUsername(userPrincipal.getUsername());\n        ResponseCookie cookie = ResponseCookie.from(jwtCookie, jwt).path(&quot;/&quot;).maxAge(30000).httpOnly(true).build();\n        return cookie;\n    }\n\n    public ResponseCookie getCleanJwtCookie() {\n        ResponseCookie cookie = ResponseCookie.from(jwtCookie, null).path(&quot;/api&quot;).build();\n        return cookie;\n    }\n\n    public String getUserNameFromJwtToken(String token) {\n        return Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(token).getBody().getSubject();\n    }\n\n    public boolean validateJwtToken(String authToken) {\n        try {\n            Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(authToken);\n            return true;\n        } catch (SignatureException e) {\n            logger.error(&quot;Invalid JWT signature: {}&quot;, e.getMessage());\n        } catch (MalformedJwtException e) {\n            logger.error(&quot;Invalid JWT token: {}&quot;, e.getMessage());\n        } catch (ExpiredJwtException e) {\n            logger.error(&quot;JWT token is expired: {}&quot;, e.getMessage());\n        } catch (UnsupportedJwtException e) {\n            logger.error(&quot;JWT token is unsupported: {}&quot;, e.getMessage());\n        } catch (IllegalArgumentException e) {\n            logger.error(&quot;JWT claims string is empty: {}&quot;, e.getMessage());\n        }\n\n        return false;\n    }\n\n    public String generateTokenFromUsername(String username) {\n        return Jwts.builder()\n                .setSubject(username)\n                .setIssuedAt(new Date())\n                .setExpiration(new Date((new Date()).getTime() + jwtExpirationMs))\n                .signWith(SignatureAlgorithm.HS512, jwtSecret)\n                .compact();\n    }\n}\n\n</code></pre>\n<pre><code>public class SecurityConfiguration {\n\n    @Autowired\n    PasswordEnconderConfig passwordEnconderConfig;\n\n    @Autowired\n    private AuthEntryPointJwt unauthorizedHandler;\n\n    @Autowired\n    UserDetailsService userDetailsService;\n\n    @Bean\n    public AuthTokenFilter authenticationJwtTokenFilter() {\n        return new AuthTokenFilter();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n\n        authProvider.setUserDetailsService(userDetailsService);\n        authProvider.setPasswordEncoder(passwordEnconderConfig.passwordEncoder());\n\n        return authProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\n        return authConfig.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeHttpRequests().requestMatchers(&quot;/auth/**&quot;).permitAll()\n                .anyRequest().authenticated();\n\n        http.authenticationProvider(authenticationProvider());\n\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n}\n\n</code></pre>\n<p>I tried to pass this bean to my second app with al JWT stuff and obviusly provided same key, but cannot extract UserDetails and don't know how to do it.</p>\n<pre><code>    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeHttpRequests().requestMatchers(&quot;/auth/**&quot;).permitAll()\n                .anyRequest().authenticated();\n\n        http.authenticationProvider(authenticationProvider());\n\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n</code></pre>\n<p>EDIT1: I thought maybe just extract userDetails from JWT is viable and implements that in my second app. I don´t know how to extract that, does it gives me all info I need like permission and also don´t know how to implmenets that automaticly.</p>\n"},{"tags":["java","maven","jenkins"],"answers":[{"comments":[{"owner":{"account_id":5535929,"reputation":2595,"user_id":4394270,"display_name":"kkamil"},"score":0,"creation_date":1420465335,"post_id":27776325,"comment_id":43971399,"body_markdown":"&quot;Install automatically&quot; should be checked only when want from Jenkins to install maven automatically. @hasan has installed maven manually, so that option should not be checked.","body":"&quot;Install automatically&quot; should be checked only when want from Jenkins to install maven automatically. @hasan has installed maven manually, so that option should not be checked."}],"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420449111,"creation_date":1420449111,"answer_id":27776325,"question_id":27772221,"body_markdown":"From your snapshot it seems you haven&#39;t checked the *Install automatically* option which should be checked when you add Maven to Jenkins.\r\n\r\nSo check that option, install maven and try issuing the build again.\r\n\r\nOtherwise, you may try to download [the binaries][1] yourself, drop them under some path and change the maven home path to point to latter one. The aim is to avoid the `apt-get` isntallation.\r\n\r\n[1]: http://maven.apache.org/download.cgi","title":"Jenkins: ERROR: Couldn&#39;t find Maven executable","body":"<p>From your snapshot it seems you haven't checked the <em>Install automatically</em> option which should be checked when you add Maven to Jenkins.</p>\n\n<p>So check that option, install maven and try issuing the build again.</p>\n\n<p>Otherwise, you may try to download <a href=\"http://maven.apache.org/download.cgi\" rel=\"nofollow\">the binaries</a> yourself, drop them under some path and change the maven home path to point to latter one. The aim is to avoid the <code>apt-get</code> isntallation.</p>\n"},{"tags":[],"owner":{"account_id":5535929,"reputation":2595,"user_id":4394270,"display_name":"kkamil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420465901,"creation_date":1420465901,"answer_id":27780960,"question_id":27772221,"body_markdown":"Your global maven configuration seems to be correct. I use the same, and it is working without any problems. I think, your Jenkins item configuration is wrong. \r\n\r\nIn build item in &quot;Build&quot; section please select &quot;Invoke top-level Maven targets&quot;, select proper maven version. In your configuration it should be &quot;My Maven&quot;. In &quot;advance&quot; set proper path to pom.xml file and set proper maven goals.\r\n\r\nPlease also check: https://stackoverflow.com/questions/15415717/maven-plugin-failed-after-upgrading-jenkins-to-1-505","title":"Jenkins: ERROR: Couldn&#39;t find Maven executable","body":"<p>Your global maven configuration seems to be correct. I use the same, and it is working without any problems. I think, your Jenkins item configuration is wrong. </p>\n\n<p>In build item in \"Build\" section please select \"Invoke top-level Maven targets\", select proper maven version. In your configuration it should be \"My Maven\". In \"advance\" set proper path to pom.xml file and set proper maven goals.</p>\n\n<p>Please also check: <a href=\"https://stackoverflow.com/questions/15415717/maven-plugin-failed-after-upgrading-jenkins-to-1-505\">Maven plugin failed after upgrading Jenkins to 1.505</a></p>\n"}],"owner":{"account_id":1742324,"reputation":966,"user_id":1593370,"accept_rate":40,"display_name":"hasan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9896,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699740070,"creation_date":1420420550,"question_id":27772221,"body_markdown":"I want to run a maven task with jenkins so i installed maven with `sudo apt-get install maven` command in linux and then in jenkins configurations i filled maven part like this:\r\n\r\n![enter image description here][1]\r\n\r\n\r\nbut when i want to run the task i get this output:\r\n\r\n    Started by user anonymous\r\n    Building in workspace /home/services/xebium\r\n    ERROR: Couldn&#39;t find Maven executable.\r\n    /home/services/xebium\r\n    Can&#39;t find target file: out/*.xml with working directory: /home/services/xebium\r\n    Reading results as UTF-8 from /home/services/xebium/out/result.xml\r\n    Parsing results... \r\n\r\n\r\nas you can see it couldn&#39;t find maven and though couldn&#39;t run the maven goal!\r\nanybody can help?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/1zF4P.png","title":"Jenkins: ERROR: Couldn&#39;t find Maven executable","body":"<p>I want to run a maven task with jenkins so i installed maven with <code>sudo apt-get install maven</code> command in linux and then in jenkins configurations i filled maven part like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/1zF4P.png\" alt=\"enter image description here\"></p>\n\n<p>but when i want to run the task i get this output:</p>\n\n<pre><code>Started by user anonymous\nBuilding in workspace /home/services/xebium\nERROR: Couldn't find Maven executable.\n/home/services/xebium\nCan't find target file: out/*.xml with working directory: /home/services/xebium\nReading results as UTF-8 from /home/services/xebium/out/result.xml\nParsing results... \n</code></pre>\n\n<p>as you can see it couldn't find maven and though couldn't run the maven goal!\nanybody can help?</p>\n"},{"tags":["java","swing","netbeans"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1699737850,"post_id":77466873,"comment_id":136569882,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Use a `CardLayout` and create all of the `JPanels` before you pack and set the `JFrame` visible.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Use a <code>CardLayout</code> and create all of the <code>JPanels</code> before you pack and set the <code>JFrame</code> visible."},{"owner":{"account_id":29881470,"reputation":1,"user_id":22900256,"display_name":"Amadeus Grimm"},"score":0,"creation_date":1699738009,"post_id":77466873,"comment_id":136569891,"body_markdown":"I am a little bit confused by what you are saying, I used the CardLayout in the code I already have, in this case it is in the CreatePanels() method. Did you mean to drop the GridBagLayout, and add the code for the buttons to each individual panel in their class constructors instead?","body":"I am a little bit confused by what you are saying, I used the CardLayout in the code I already have, in this case it is in the CreatePanels() method. Did you mean to drop the GridBagLayout, and add the code for the buttons to each individual panel in their class constructors instead?"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1699738509,"post_id":77466873,"comment_id":136569948,"body_markdown":"Sorry, I didn&#39;t see the `CardLayout`.  I&#39;d probably create two separate `JPanels` for the `JFrame`, one containing the `CardLayout` and the other for the `JButtons` using a `GridLayout`.  Another option would be to drop the `JButtons` and use a `JTabbedPane` to hold the other `JPanels`.","body":"Sorry, I didn&#39;t see the <code>CardLayout</code>.  I&#39;d probably create two separate <code>JPanels</code> for the <code>JFrame</code>, one containing the <code>CardLayout</code> and the other for the <code>JButtons</code> using a <code>GridLayout</code>.  Another option would be to drop the <code>JButtons</code> and use a <code>JTabbedPane</code> to hold the other <code>JPanels</code>."},{"owner":{"account_id":29881470,"reputation":1,"user_id":22900256,"display_name":"Amadeus Grimm"},"score":0,"creation_date":1699747654,"post_id":77466873,"comment_id":136570582,"body_markdown":"No worries, I will consider trying what you suggest with the GridLayout and let you know how it goes","body":"No worries, I will consider trying what you suggest with the GridLayout and let you know how it goes"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1699747871,"post_id":77466873,"comment_id":136570593,"body_markdown":"At what point do you actually add `cards` to the parent container?","body":"At what point do you actually add <code>cards</code> to the parent container?"},{"owner":{"account_id":29881470,"reputation":1,"user_id":22900256,"display_name":"Amadeus Grimm"},"score":0,"creation_date":1699759411,"post_id":77466873,"comment_id":136571174,"body_markdown":"At the very end of the bottom code segment, prior to this.add(grid)","body":"At the very end of the bottom code segment, prior to this.add(grid)"},{"owner":{"account_id":29881470,"reputation":1,"user_id":22900256,"display_name":"Amadeus Grimm"},"score":0,"creation_date":1700637103,"post_id":77466873,"comment_id":136677622,"body_markdown":"I edited the code to be a CardLayout and GridLayout and added those separately, but it did not work in the end. Even though they are not nested anymore, the biggest problem is that the panels themselves do not actually show up in the JFrame even though all of the code runs including repaint() revalidate() and this.pack()","body":"I edited the code to be a CardLayout and GridLayout and added those separately, but it did not work in the end. Even though they are not nested anymore, the biggest problem is that the panels themselves do not actually show up in the JFrame even though all of the code runs including repaint() revalidate() and this.pack()"}],"owner":{"account_id":29881470,"reputation":1,"user_id":22900256,"display_name":"Amadeus Grimm"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699737641,"creation_date":1699737641,"question_id":77466873,"body_markdown":"(This is my first question, so apologies if I mess up the format a bit)\r\n\r\nWhen I created the code for the project, the goal was to make a JFrame containing multiple JPanels and JButtons on the sidebar working as a way to switch between them. The JFrame&#39;s top level layout manager is a gridbaglayout, with the first column being composed of buttons, and the columns to the right of that making room for the cardlayout containing the JPanels. However, upon running the code, the components are not created. \r\n\r\nThe constructor is written like this:\r\n\r\n    public HomePage(LobbyList LL, UserList UL, User USER) {\r\n    this.cardLayout = new CardLayout();\r\n    this.gridBagLayout = new GridBagLayout();\r\n    initComponents();\r\n    SetLobbyList(LL);\r\n    SetUserList(UL);\r\n    SetUser(USER);\r\n    CreatePanels();\r\n    }\r\n\r\n\r\n\r\nThe code declaring the various panels needed is written like this:\r\n\r\n    private JoinLobbyPanel JoinPanel; //add functionality by splitting up lobbypage\r\n    private NewLobbyPanel CreateLobby; // reference to the lobby creation page\r\n    private SearchUserPanel SearchUsers; // reference to the search user page\r\n    private JPanel cards; //contains the other functional JPanels\r\n    private final CardLayout cardLayout; //layout manager for cards\r\n    private final GridBagLayout gridBagLayout; //layout manager for grid\r\n    private JPanel grid; //contains the button components and the cards panel\r\n    private HomePanel HomePanel;\r\n\r\n\r\n\r\nAnd the code for the actual layout setup is here: \r\n\r\n    private void CreatePanels(){\r\n    JoinPanel = new JoinLobbyPanel(ll, ul, user);\r\n    CreateLobby = new NewLobbyPanel(ll, ul, user);\r\n    SearchUsers = new SearchUserPanel(ul);\r\n    // lobbyPage = new LobbyPage(ll, ul, user);\r\n    HomePanel = new HomePanel();\r\n    cards = new JPanel();\r\n    cards.setLayout(cardLayout);\r\n    cards.add(JoinPanel, &quot;Join Lobby&quot;);\r\n    cards.add(CreateLobby, &quot;Create Lobby&quot;);\r\n    cards.add(SearchUsers, &quot;Search Users&quot;);\r\n    cards.add(HomePanel, &quot;Home Page&quot;);\r\n    cardLayout.show(cards, &quot;Home Page&quot;);\r\n    grid = new JPanel();\r\n    grid.setLayout(gridBagLayout);\r\n    GridBagConstraints gbc = new GridBagConstraints();\r\n    JButton homeButton = new JButton();\r\n    gbc.gridx=0;\r\n    gbc.gridy=0;\r\n    gbc.weighty=.5;\r\n    gbc.gridwidth=1;\r\n    gbc.gridheight=1;\r\n    homeButton.addActionListener((java.awt.event.ActionEvent e) -&gt; {\r\n    cardLayout.show(cards, &quot;Home Page&quot;);\r\n    });\r\n    grid.add(homeButton, gbc);\r\n    JButton joinButton = new JButton();\r\n    gbc.gridx=0;\r\n    gbc.gridy=1;\r\n    gbc.weighty=.5;\r\n    gbc.gridwidth=1;\r\n    gbc.gridheight=1;\r\n    joinButton.addActionListener((java.awt.event.ActionEvent e) -&gt; {\r\n    cardLayout.show(cards, &quot;Join Lobby&quot;);\r\n    });\r\n    grid.add(joinButton, gbc);\r\n    JButton createButton = new JButton();\r\n    gbc.gridx=0;\r\n    gbc.gridy=2;\r\n    gbc.weighty=.5;\r\n    gbc.gridwidth=1;\r\n    gbc.gridheight=1;\r\n    createButton.addActionListener((java.awt.event.ActionEvent e) -&gt; {\r\n    cardLayout.show(cards, &quot;Create Lobby&quot;);\r\n    });\r\n    grid.add(createButton, gbc);\r\n    JButton searchButton = new JButton();\r\n    gbc.gridx=0;\r\n    gbc.gridy=3;\r\n    gbc.weighty=.5;\r\n    gbc.gridwidth=1;\r\n    gbc.gridheight=1;\r\n    searchButton.addActionListener((java.awt.event.ActionEvent e) -&gt; {\r\n    cardLayout.show(cards, &quot;Search Users&quot;);\r\n    });\r\n    grid.add(searchButton, gbc);\r\n    JButton logOutButton = new JButton();\r\n    gbc.gridx=0;\r\n    gbc.gridy=4;\r\n    gbc.weighty=.5;\r\n    gbc.gridwidth=1;\r\n    gbc.gridheight=1;\r\n    logOutButton.addActionListener((java.awt.event.ActionEvent e) -&gt; {\r\n    ul.test();\r\n    SignInPage SI = new SignInPage(ul);\r\n    SI.setVisible(true);\r\n    this.dispose();\r\n    });\r\n    grid.add(logOutButton, gbc);\r\n    gbc.fill=GridBagConstraints.BOTH;\r\n    gbc.gridx=1;\r\n    gbc.gridy=0;\r\n    gbc.weighty=1;\r\n    gbc.gridwidth=5;\r\n    gbc.gridheight=5;\r\n    grid.add(cards, gbc);\r\n    this.add(grid);\r\n    repaint();\r\n    revalidate();\r\n    this.pack();\r\n    }\r\n\r\nI tried a few things, including checking to make sure that I used repaint, revalidate, and pack just in case one of those was an issue. I also tried creating a component (a JTextLabel for an experiment) in the constructor, but I noticed that the constructor actually didnt create the JTextLabel either, which suggests to me that somehow the constructor isnt working. I had this problem when I put the test label before and also when I put it after the InitComponents() method. I am not really sure where to begin with debugging this as I am a pretty new programmer and was mostly just trying to reorganize one of my teammates&#39; GUI designs which was dependent on a really inefficient system of creating a new JFrame every time you swapped between pages. I am not getting any runtime or compile time errors, it seems like it would have to be either a logical error on my part or an error with the compiler. Have any of you had a problem like this, and how did you resolve it?\r\n\r\n(I am not sure what stackoverflow means by code needs to be indented four spaces so I just made all of my code four spaces away from the side of the textbox. If it meant normal indentation, but just make all the indents four spaces, I apologize and I will fix that)","title":"Working in Java NetBeans Maven, JFrame not loading in the buttons or panels I add in the constructor","body":"<p>(This is my first question, so apologies if I mess up the format a bit)</p>\n<p>When I created the code for the project, the goal was to make a JFrame containing multiple JPanels and JButtons on the sidebar working as a way to switch between them. The JFrame's top level layout manager is a gridbaglayout, with the first column being composed of buttons, and the columns to the right of that making room for the cardlayout containing the JPanels. However, upon running the code, the components are not created.</p>\n<p>The constructor is written like this:</p>\n<pre><code>public HomePage(LobbyList LL, UserList UL, User USER) {\nthis.cardLayout = new CardLayout();\nthis.gridBagLayout = new GridBagLayout();\ninitComponents();\nSetLobbyList(LL);\nSetUserList(UL);\nSetUser(USER);\nCreatePanels();\n}\n</code></pre>\n<p>The code declaring the various panels needed is written like this:</p>\n<pre><code>private JoinLobbyPanel JoinPanel; //add functionality by splitting up lobbypage\nprivate NewLobbyPanel CreateLobby; // reference to the lobby creation page\nprivate SearchUserPanel SearchUsers; // reference to the search user page\nprivate JPanel cards; //contains the other functional JPanels\nprivate final CardLayout cardLayout; //layout manager for cards\nprivate final GridBagLayout gridBagLayout; //layout manager for grid\nprivate JPanel grid; //contains the button components and the cards panel\nprivate HomePanel HomePanel;\n</code></pre>\n<p>And the code for the actual layout setup is here:</p>\n<pre><code>private void CreatePanels(){\nJoinPanel = new JoinLobbyPanel(ll, ul, user);\nCreateLobby = new NewLobbyPanel(ll, ul, user);\nSearchUsers = new SearchUserPanel(ul);\n// lobbyPage = new LobbyPage(ll, ul, user);\nHomePanel = new HomePanel();\ncards = new JPanel();\ncards.setLayout(cardLayout);\ncards.add(JoinPanel, &quot;Join Lobby&quot;);\ncards.add(CreateLobby, &quot;Create Lobby&quot;);\ncards.add(SearchUsers, &quot;Search Users&quot;);\ncards.add(HomePanel, &quot;Home Page&quot;);\ncardLayout.show(cards, &quot;Home Page&quot;);\ngrid = new JPanel();\ngrid.setLayout(gridBagLayout);\nGridBagConstraints gbc = new GridBagConstraints();\nJButton homeButton = new JButton();\ngbc.gridx=0;\ngbc.gridy=0;\ngbc.weighty=.5;\ngbc.gridwidth=1;\ngbc.gridheight=1;\nhomeButton.addActionListener((java.awt.event.ActionEvent e) -&gt; {\ncardLayout.show(cards, &quot;Home Page&quot;);\n});\ngrid.add(homeButton, gbc);\nJButton joinButton = new JButton();\ngbc.gridx=0;\ngbc.gridy=1;\ngbc.weighty=.5;\ngbc.gridwidth=1;\ngbc.gridheight=1;\njoinButton.addActionListener((java.awt.event.ActionEvent e) -&gt; {\ncardLayout.show(cards, &quot;Join Lobby&quot;);\n});\ngrid.add(joinButton, gbc);\nJButton createButton = new JButton();\ngbc.gridx=0;\ngbc.gridy=2;\ngbc.weighty=.5;\ngbc.gridwidth=1;\ngbc.gridheight=1;\ncreateButton.addActionListener((java.awt.event.ActionEvent e) -&gt; {\ncardLayout.show(cards, &quot;Create Lobby&quot;);\n});\ngrid.add(createButton, gbc);\nJButton searchButton = new JButton();\ngbc.gridx=0;\ngbc.gridy=3;\ngbc.weighty=.5;\ngbc.gridwidth=1;\ngbc.gridheight=1;\nsearchButton.addActionListener((java.awt.event.ActionEvent e) -&gt; {\ncardLayout.show(cards, &quot;Search Users&quot;);\n});\ngrid.add(searchButton, gbc);\nJButton logOutButton = new JButton();\ngbc.gridx=0;\ngbc.gridy=4;\ngbc.weighty=.5;\ngbc.gridwidth=1;\ngbc.gridheight=1;\nlogOutButton.addActionListener((java.awt.event.ActionEvent e) -&gt; {\nul.test();\nSignInPage SI = new SignInPage(ul);\nSI.setVisible(true);\nthis.dispose();\n});\ngrid.add(logOutButton, gbc);\ngbc.fill=GridBagConstraints.BOTH;\ngbc.gridx=1;\ngbc.gridy=0;\ngbc.weighty=1;\ngbc.gridwidth=5;\ngbc.gridheight=5;\ngrid.add(cards, gbc);\nthis.add(grid);\nrepaint();\nrevalidate();\nthis.pack();\n}\n</code></pre>\n<p>I tried a few things, including checking to make sure that I used repaint, revalidate, and pack just in case one of those was an issue. I also tried creating a component (a JTextLabel for an experiment) in the constructor, but I noticed that the constructor actually didnt create the JTextLabel either, which suggests to me that somehow the constructor isnt working. I had this problem when I put the test label before and also when I put it after the InitComponents() method. I am not really sure where to begin with debugging this as I am a pretty new programmer and was mostly just trying to reorganize one of my teammates' GUI designs which was dependent on a really inefficient system of creating a new JFrame every time you swapped between pages. I am not getting any runtime or compile time errors, it seems like it would have to be either a logical error on my part or an error with the compiler. Have any of you had a problem like this, and how did you resolve it?</p>\n<p>(I am not sure what stackoverflow means by code needs to be indented four spaces so I just made all of my code four spaces away from the side of the textbox. If it meant normal indentation, but just make all the indents four spaces, I apologize and I will fix that)</p>\n"},{"tags":["java","spring-boot","kotlin","amazon-dynamodb","spring-webflux"],"owner":{"account_id":403449,"reputation":4350,"user_id":771217,"accept_rate":79,"display_name":"Wrench"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699737430,"creation_date":1687797582,"question_id":76558657,"body_markdown":"Using Spring Boot, DynamoDbEnhancedAsyncClient from the v2 AWS Java SDK, and DynamoDB running using testcontainers and localstack, I fail to get a table from the client with a secondary index as specified in my Dynamo DB bean data class. Everything written in Kotlin.\r\n\r\nBean:\r\n\r\n    @DynamoDbBean\r\n    data class MyEntity (\r\n        @get:DynamoDbPartitionKey\r\n        @get:DynamoDbAttribute(&quot;entityId&quot;)\r\n        var entityId: String = &quot;&quot;,\r\n\r\n        @get:DynamoDbAttribute(&quot;customerId&quot;)\r\n        @get:DynamoDbSecondaryPartitionKey(indexNames = [&quot;CustomerIdIndex&quot;])\r\n        val customerId: String = &quot;&quot;,\r\n\r\n        @get:DynamoDbSecondarySortKey(indexNames = [&quot;CustomerIdIndex&quot;])\r\n        @get:DynamoDbAttribute(&quot;createdAt&quot;)\r\n        val createdAt: LocalDateTime = LocalDateTime.now()\r\n    ) {\r\n        companion object {\r\n            val tableName: String = &quot;my-entity&quot;\r\n    }\r\n\r\nQuery implementation:\r\n\r\n    @Repository\r\n    class MyEntityRepository(client: DynamoDbEnhancedAsyncClient) {\r\n        companion object {\r\n            private val tableSchema = TableSchema.fromBean(MyEntity::class.java)\r\n            private val tableName = MyEntity::class.java.simpleName\r\n        }\r\n\r\n        private val table = client.table(tableName, tableSchema)\r\n\r\n        override suspend fun findByCustomerId(customerId: String): Flow&lt;MyEntity&gt; {\r\n            val conditional: QueryConditional = QueryConditional.keyEqualTo(\r\n                Key.builder()\r\n                    .partitionValue(customerId)\r\n                    .build()\r\n            )\r\n\r\n            val request = QueryEnhancedRequest.builder()\r\n                .queryConditional(conditional)\r\n                .scanIndexForward(false)\r\n                .build()\r\n\r\n            val queryPublisher: SdkPublisher&lt;Page&lt;PaymentMethod&gt;&gt; = table\r\n                .index(&quot;CustomerIdIndex&quot;)\r\n                .query(request)\r\n        }\r\n    }\r\n\r\nQuerying on the primary partition key works. However, when above code tries to query on the GSI, I get the error message:\r\n\r\n&gt; Attempt to execute an operation that requires a secondary index without defining the index attributes in the table metadata. Index name: CustomerIdIndex\r\n&gt;\r\n&gt; java.lang.IllegalArgumentException: Attempt to execute an operation that requires a secondary index without defining the index attributes in the table metadata. Index name: CustomerIdIndex\r\n&gt;\r\n&gt; at software.amazon.awssdk.enhanced.dynamodb.mapper.StaticTableMetadata.getIndex(StaticTableMetadata.java:150)\r\n\r\nIf I debug the code, looking at the table variable, I can indeed see that the DynamoDB client has not picked up the secondary index, as shown here:\r\n\r\n[![Debugger output for the DynamoDB Table][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2pBNG.png\r\n\r\nSo it seems to me that the annotations in the bean data class for the secondary index is not picked up. I&#39;m struggling with finding the reason for that.\r\n\r\nAppreciate all input, thank you.\r\n\r\n","title":"DynamoDbSecondaryPartitionKey annotation in AWS SDK v2 ignored in Kotlin","body":"<p>Using Spring Boot, DynamoDbEnhancedAsyncClient from the v2 AWS Java SDK, and DynamoDB running using testcontainers and localstack, I fail to get a table from the client with a secondary index as specified in my Dynamo DB bean data class. Everything written in Kotlin.</p>\n<p>Bean:</p>\n<pre><code>@DynamoDbBean\ndata class MyEntity (\n    @get:DynamoDbPartitionKey\n    @get:DynamoDbAttribute(&quot;entityId&quot;)\n    var entityId: String = &quot;&quot;,\n\n    @get:DynamoDbAttribute(&quot;customerId&quot;)\n    @get:DynamoDbSecondaryPartitionKey(indexNames = [&quot;CustomerIdIndex&quot;])\n    val customerId: String = &quot;&quot;,\n\n    @get:DynamoDbSecondarySortKey(indexNames = [&quot;CustomerIdIndex&quot;])\n    @get:DynamoDbAttribute(&quot;createdAt&quot;)\n    val createdAt: LocalDateTime = LocalDateTime.now()\n) {\n    companion object {\n        val tableName: String = &quot;my-entity&quot;\n}\n</code></pre>\n<p>Query implementation:</p>\n<pre><code>@Repository\nclass MyEntityRepository(client: DynamoDbEnhancedAsyncClient) {\n    companion object {\n        private val tableSchema = TableSchema.fromBean(MyEntity::class.java)\n        private val tableName = MyEntity::class.java.simpleName\n    }\n\n    private val table = client.table(tableName, tableSchema)\n\n    override suspend fun findByCustomerId(customerId: String): Flow&lt;MyEntity&gt; {\n        val conditional: QueryConditional = QueryConditional.keyEqualTo(\n            Key.builder()\n                .partitionValue(customerId)\n                .build()\n        )\n\n        val request = QueryEnhancedRequest.builder()\n            .queryConditional(conditional)\n            .scanIndexForward(false)\n            .build()\n\n        val queryPublisher: SdkPublisher&lt;Page&lt;PaymentMethod&gt;&gt; = table\n            .index(&quot;CustomerIdIndex&quot;)\n            .query(request)\n    }\n}\n</code></pre>\n<p>Querying on the primary partition key works. However, when above code tries to query on the GSI, I get the error message:</p>\n<blockquote>\n<p>Attempt to execute an operation that requires a secondary index without defining the index attributes in the table metadata. Index name: CustomerIdIndex</p>\n<p>java.lang.IllegalArgumentException: Attempt to execute an operation that requires a secondary index without defining the index attributes in the table metadata. Index name: CustomerIdIndex</p>\n<p>at software.amazon.awssdk.enhanced.dynamodb.mapper.StaticTableMetadata.getIndex(StaticTableMetadata.java:150)</p>\n</blockquote>\n<p>If I debug the code, looking at the table variable, I can indeed see that the DynamoDB client has not picked up the secondary index, as shown here:</p>\n<p><a href=\"https://i.stack.imgur.com/2pBNG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2pBNG.png\" alt=\"Debugger output for the DynamoDB Table\" /></a></p>\n<p>So it seems to me that the annotations in the bean data class for the secondary index is not picked up. I'm struggling with finding the reason for that.</p>\n<p>Appreciate all input, thank you.</p>\n"},{"tags":["java","hibernate","jpa","spring-data"],"comments":[{"owner":{"account_id":10890055,"reputation":1246,"user_id":8006169,"display_name":"Deepak Kumar"},"score":1,"creation_date":1598333990,"post_id":63572568,"comment_id":112416441,"body_markdown":"Your question is not clear on what are you try to get. Please try providing some more clarification regarding the problem and the expected output","body":"Your question is not clear on what are you try to get. Please try providing some more clarification regarding the problem and the expected output"},{"owner":{"account_id":2900857,"reputation":31,"user_id":2487608,"display_name":"Amakak"},"score":0,"creation_date":1598339522,"post_id":63572568,"comment_id":112418413,"body_markdown":"For one table with columns a and b, I want an object with &#39;a&#39; and a list of all &#39;b&#39;s that share the same &#39;a&#39;. This is similiar to what you would do if you had 2 tables using @OneToMany but I only have 1 table.","body":"For one table with columns a and b, I want an object with &#39;a&#39; and a list of all &#39;b&#39;s that share the same &#39;a&#39;. This is similiar to what you would do if you had 2 tables using @OneToMany but I only have 1 table."}],"answers":[{"tags":[],"owner":{"account_id":8060240,"reputation":1326,"user_id":6075989,"display_name":"JMSilla"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598344766,"creation_date":1598344766,"answer_id":63575086,"question_id":63572568,"body_markdown":"There is no a specific way to do what you need using JPQL. Instead, you can use a Hibernate [ResultTransformer][1], that allows yo to transform the query results to whatever you need. This is a code solution, and is similar to implementing the grouping using the Stream API in the list result and return a map containing the aggregated data.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/core/3.3/api/org/hibernate/transform/ResultTransformer.html","title":"How do I map 1 column of a SINGLE table query to a COLLECTION using Spring JPA/Hibernate","body":"<p>There is no a specific way to do what you need using JPQL. Instead, you can use a Hibernate <a href=\"https://docs.jboss.org/hibernate/core/3.3/api/org/hibernate/transform/ResultTransformer.html\" rel=\"nofollow noreferrer\">ResultTransformer</a>, that allows yo to transform the query results to whatever you need. This is a code solution, and is similar to implementing the grouping using the Stream API in the list result and return a map containing the aggregated data.</p>\n"},{"tags":[],"owner":{"account_id":28924828,"reputation":1,"user_id":22154947,"display_name":"Biscoito"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699737401,"creation_date":1688124815,"answer_id":76588554,"question_id":63572568,"body_markdown":"It&#39;s possible to refer the same table using annotations (some kind of hack):  \r\n\r\n    @ElementCollection  \r\n    @CollectionTable(name = &quot;table_name&quot;)\r\n\r\nExample:\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;parent&quot;)\r\npublic class Parent {\r\n    @Id\r\n    private long id;\r\n\r\n    private String name;\r\n\r\n    @ElementCollection\r\n    @CollectionTable(\r\n        name = &quot;parent&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;id&quot;))\r\n    private List&lt;Child&gt; children;\r\n\r\n\r\n    @Data\r\n    @Embeddable\r\n    public static class Child {\r\n        @Column(name = &quot;child_id&quot;)\r\n        private long id;\r\n\r\n        @Column(name = &quot;child_name&quot;)\r\n        private String name;\r\n    }\r\n}\r\n```\r\n\r\nColumns in the table:  \r\n```\r\nid, name, child_id, child_name\r\n```  \r\n\r\nBut... you&#39;ll get several copies from repository (one object for row), so use Set to get rid of them ```Set.copyOf(repository.findAll())```  \r\n\r\nHibernate will be querying database to get children for each parent.\r\n\r\nP.S. Should work with `@OneToMany` annotation too, possibly, if create two entities for one table, didn&#39;t check that","title":"How do I map 1 column of a SINGLE table query to a COLLECTION using Spring JPA/Hibernate","body":"<p>It's possible to refer the same table using annotations (some kind of hack):</p>\n<pre><code>@ElementCollection  \n@CollectionTable(name = &quot;table_name&quot;)\n</code></pre>\n<p>Example:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;parent&quot;)\npublic class Parent {\n    @Id\n    private long id;\n\n    private String name;\n\n    @ElementCollection\n    @CollectionTable(\n        name = &quot;parent&quot;,\n        joinColumns = @JoinColumn(name = &quot;id&quot;))\n    private List&lt;Child&gt; children;\n\n\n    @Data\n    @Embeddable\n    public static class Child {\n        @Column(name = &quot;child_id&quot;)\n        private long id;\n\n        @Column(name = &quot;child_name&quot;)\n        private String name;\n    }\n}\n</code></pre>\n<p>Columns in the table:</p>\n<pre><code>id, name, child_id, child_name\n</code></pre>\n<p>But... you'll get several copies from repository (one object for row), so use Set to get rid of them <code>Set.copyOf(repository.findAll())</code></p>\n<p>Hibernate will be querying database to get children for each parent.</p>\n<p>P.S. Should work with <code>@OneToMany</code> annotation too, possibly, if create two entities for one table, didn't check that</p>\n"}],"owner":{"account_id":2900857,"reputation":31,"user_id":2487608,"display_name":"Amakak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699737401,"creation_date":1598333441,"question_id":63572568,"body_markdown":"\r\nId like to know if there&#39;s a way of doing something **like the Stream API groupingBy Collector**. I know how to select one column (the question was marked as duplicated and I don&#39;t belive it is) I want to do a grouping (**like the groupingBy collector of the java Stream API**) not a group By.\r\nSuppose you have a table (ONE table) like:\r\n\r\n    +---------------------+\r\n    +       myTable       +\r\n    +----------+----------+\r\n    + column_A | column_B +\r\n    +----------+----------+\r\n    +        1 |        1 +\r\n    +        1 |        2 +\r\n    +        1 |        3 +\r\n    +        2 |        1 +\r\n    +----------+----------+\r\n\r\nAnd I would like to have something like\r\n\r\n    @Entity\r\n    @Table(&quot;MyTable&quot;)\r\n    public class MyEntity {\r\n      @Column(&quot;column_A&quot;)\r\n      private int a;\r\n      \r\n      @Column(&quot;column_B&quot;) ?\r\n      private List&lt;Integer&gt; b; //normanly this wuould just be int b, butI want a list of all b&#39;s that have the same a\r\n    }\r\nwith a repo like\r\n\r\n    public interface MyCrudRepo extends CrudRepository&lt;MyEntity,Integer&gt;{\r\n      List&lt;MyEntity&gt; findByA();\r\n    } \r\n\r\nor\r\n\r\n    public interface MyCrudRepo extends CrudRepository&lt;MyEntity,Integer&gt;{\r\n      @Query(&quot;SELECT m.a,m.b FROM MyEntity m&quot;)\r\n      List&lt;MyEntity&gt; customFind();\r\n    } \r\n\r\nThis is not necessarily how it should look at the end, anything that works similar to this is fine. I have looked into projections but all examples use 2 different tables.\r\n\r\n\r\n","title":"How do I map 1 column of a SINGLE table query to a COLLECTION using Spring JPA/Hibernate","body":"<p>Id like to know if there's a way of doing something <strong>like the Stream API groupingBy Collector</strong>. I know how to select one column (the question was marked as duplicated and I don't belive it is) I want to do a grouping (<strong>like the groupingBy collector of the java Stream API</strong>) not a group By.\nSuppose you have a table (ONE table) like:</p>\n<pre><code>+---------------------+\n+       myTable       +\n+----------+----------+\n+ column_A | column_B +\n+----------+----------+\n+        1 |        1 +\n+        1 |        2 +\n+        1 |        3 +\n+        2 |        1 +\n+----------+----------+\n</code></pre>\n<p>And I would like to have something like</p>\n<pre><code>@Entity\n@Table(&quot;MyTable&quot;)\npublic class MyEntity {\n  @Column(&quot;column_A&quot;)\n  private int a;\n  \n  @Column(&quot;column_B&quot;) ?\n  private List&lt;Integer&gt; b; //normanly this wuould just be int b, butI want a list of all b's that have the same a\n}\n</code></pre>\n<p>with a repo like</p>\n<pre><code>public interface MyCrudRepo extends CrudRepository&lt;MyEntity,Integer&gt;{\n  List&lt;MyEntity&gt; findByA();\n} \n</code></pre>\n<p>or</p>\n<pre><code>public interface MyCrudRepo extends CrudRepository&lt;MyEntity,Integer&gt;{\n  @Query(&quot;SELECT m.a,m.b FROM MyEntity m&quot;)\n  List&lt;MyEntity&gt; customFind();\n} \n</code></pre>\n<p>This is not necessarily how it should look at the end, anything that works similar to this is fine. I have looked into projections but all examples use 2 different tables.</p>\n"},{"tags":["java","scala","caching","caffeine-cache"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1698798759,"post_id":77399362,"comment_id":136450574,"body_markdown":"You could use the removal listener if the cache is a final field, so the method could reference it lazily. However, you would need to use a `scheduler` so that it expires proactively and is reloaded. Most often instead you would use `refreshAfterWrite` to proactively reload active content at a shorter interval, else let data expire. If you wanted an unbounded cache that is fully reloaded, then a scheduled executor with a concurrent map is good enough.","body":"You could use the removal listener if the cache is a final field, so the method could reference it lazily. However, you would need to use a <code>scheduler</code> so that it expires proactively and is reloaded. Most often instead you would use <code>refreshAfterWrite</code> to proactively reload active content at a shorter interval, else let data expire. If you wanted an unbounded cache that is fully reloaded, then a scheduled executor with a concurrent map is good enough."},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1698824107,"post_id":77399362,"comment_id":136452734,"body_markdown":"As Ben said, If I understand your need correctly I&#39;d use [`refreshAfterWrite`](https://github.com/ben-manes/caffeine/wiki/Refresh) or `expireAfterWrite`.","body":"As Ben said, If I understand your need correctly I&#39;d use <a href=\"https://github.com/ben-manes/caffeine/wiki/Refresh\" rel=\"nofollow noreferrer\"><code>refreshAfterWrite</code></a> or <code>expireAfterWrite</code>."}],"owner":{"account_id":16201923,"reputation":123,"user_id":13124176,"display_name":"Дима Шестаев"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699737383,"creation_date":1698790922,"question_id":77399362,"body_markdown":"Looks like a simple task, all i want is to update expired value in cache, by querying it from db again. And i want to specify this step inside of a cache builder.\r\n\r\n```scala\r\n    new CaffeineCache(Caffeine\r\n      .newBuilder()\r\n      .removalListener[UUID, Option[F]]((k, v, rc) =&gt; fetchNewDataByKey(k))\r\n      .recordStats()\r\n      .build[UUID, Entry[Option[F]]]())\r\n```\r\n\r\nIn the beginning, I thought of evictionListener or removalListener as a solution, but I can&#39;t put fetched value back in cache, and it looks like an option which should be inside of a builder, but so far can&#39;t find any sign of what I am looking for.\r\n\r\nIn short. I want a cache, fetch new data when value is expired, and put it back in cache with new ttl.\r\n\r\nIf there is no built in solution, I guess I will run a side process, which will refresh these values.\r\n\r\n(if you know how to do it by using any other cache rather then caffeine, please let me know too)","title":"Caffeine cache update value from db when expired","body":"<p>Looks like a simple task, all i want is to update expired value in cache, by querying it from db again. And i want to specify this step inside of a cache builder.</p>\n<pre class=\"lang-scala prettyprint-override\"><code>    new CaffeineCache(Caffeine\n      .newBuilder()\n      .removalListener[UUID, Option[F]]((k, v, rc) =&gt; fetchNewDataByKey(k))\n      .recordStats()\n      .build[UUID, Entry[Option[F]]]())\n</code></pre>\n<p>In the beginning, I thought of evictionListener or removalListener as a solution, but I can't put fetched value back in cache, and it looks like an option which should be inside of a builder, but so far can't find any sign of what I am looking for.</p>\n<p>In short. I want a cache, fetch new data when value is expired, and put it back in cache with new ttl.</p>\n<p>If there is no built in solution, I guess I will run a side process, which will refresh these values.</p>\n<p>(if you know how to do it by using any other cache rather then caffeine, please let me know too)</p>\n"},{"tags":["java","spring","postgresql","spring-boot","docker"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1699720915,"post_id":77465834,"comment_id":136568203,"body_markdown":"Nothing in the logs/stdout/stderr ? Is it working when running from the host ?","body":"Nothing in the logs/stdout/stderr ? Is it working when running from the host ?"},{"owner":{"account_id":3638220,"reputation":79,"user_id":3033090,"display_name":"user3033090"},"score":0,"creation_date":1699724155,"post_id":77465834,"comment_id":136568527,"body_markdown":"Where to find logs/stdout/stderr I&#39;m been running within Windows 10. If I log into my image within docker exec &lt;NAME&gt; bash and try to do a tail -f /logs/stdout/stderr the file doesn&#39;t exist.","body":"Where to find logs/stdout/stderr I&#39;m been running within Windows 10. If I log into my image within docker exec &lt;NAME&gt; bash and try to do a tail -f /logs/stdout/stderr the file doesn&#39;t exist."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1699726632,"post_id":77465834,"comment_id":136568820,"body_markdown":"No, this is not a path, I mean the different output sinks. Anyway, first clarify if the app runs ok from the host or any other deployment. Then check the logs of the container with `docker logs &lt;CONTAINER&gt;` if there is any interesting message when hitting /person-form2.","body":"No, this is not a path, I mean the different output sinks. Anyway, first clarify if the app runs ok from the host or any other deployment. Then check the logs of the container with <code>docker logs &lt;CONTAINER&gt;</code> if there is any interesting message when hitting /person-form2."},{"owner":{"account_id":3638220,"reputation":79,"user_id":3033090,"display_name":"user3033090"},"score":0,"creation_date":1699729092,"post_id":77465834,"comment_id":136569085,"body_markdown":"I have edited my question and added two screenshots of the docker logs &lt;CONTAINER_NAME&gt;","body":"I have edited my question and added two screenshots of the docker logs &lt;CONTAINER_NAME&gt;"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1699729899,"post_id":77465834,"comment_id":136569193,"body_markdown":"Obviously, `list : 0`, the app can connect, but do not find any Person. You should post the code for `SamplePersonService`. For what do you need `setSamplePersonService()`, the service will be injected by spring. I ask again, is this working in local, without docker  ?","body":"Obviously, <code>list : 0</code>, the app can connect, but do not find any Person. You should post the code for <code>SamplePersonService</code>. For what do you need <code>setSamplePersonService()</code>, the service will be injected by spring. I ask again, is this working in local, without docker  ?"},{"owner":{"account_id":3638220,"reputation":79,"user_id":3033090,"display_name":"user3033090"},"score":0,"creation_date":1699737379,"post_id":77465834,"comment_id":136569835,"body_markdown":"Thanks I solved by adding Column name annotation like described in my SOLVED tagged post.","body":"Thanks I solved by adding Column name annotation like described in my SOLVED tagged post."}],"owner":{"account_id":3638220,"reputation":79,"user_id":3033090,"display_name":"user3033090"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699737303,"creation_date":1699718804,"question_id":77465834,"body_markdown":"In my test project I want to do simple employees list displayed as a Grid inside a Vaadin 23 View.\r\n\r\nI got the following code for the view :\r\n\r\n```\r\npackage com.example.application.views.personform2;\r\n\r\nimport com.example.application.data.SamplePerson;\r\nimport com.example.application.services.SamplePersonService;\r\nimport com.example.application.views.MainLayout;\r\nimport com.vaadin.flow.component.Composite;\r\nimport com.vaadin.flow.component.button.Button;\r\nimport com.vaadin.flow.component.button.ButtonVariant;\r\nimport com.vaadin.flow.component.datepicker.DatePicker;\r\nimport com.vaadin.flow.component.dependency.Uses;\r\nimport com.vaadin.flow.component.formlayout.FormLayout;\r\nimport com.vaadin.flow.component.grid.Grid;\r\nimport com.vaadin.flow.component.html.H3;\r\nimport com.vaadin.flow.component.icon.Icon;\r\nimport com.vaadin.flow.component.orderedlayout.FlexComponent.Alignment;\r\nimport com.vaadin.flow.component.orderedlayout.FlexComponent.JustifyContentMode;\r\nimport com.vaadin.flow.component.orderedlayout.HorizontalLayout;\r\nimport com.vaadin.flow.component.orderedlayout.VerticalLayout;\r\nimport com.vaadin.flow.component.textfield.EmailField;\r\nimport com.vaadin.flow.component.textfield.TextField;\r\nimport com.vaadin.flow.router.PageTitle;\r\nimport com.vaadin.flow.router.Route;\r\nimport com.vaadin.flow.spring.data.VaadinSpringDataHelpers;\r\nimport com.vaadin.flow.theme.lumo.LumoUtility.Gap;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.domain.PageRequest;\r\n\r\nimport java.util.List;\r\n\r\n@PageTitle(&quot;Person Form2&quot;)\r\n@Route(value = &quot;person-form2&quot;, layout = MainLayout.class)\r\n@Uses(Icon.class)\r\npublic class PersonForm2View extends Composite&lt;VerticalLayout&gt; {\r\n\r\n    public PersonForm2View(@Autowired SamplePersonService samplePersonService) {\r\n        VerticalLayout layoutColumn2 = new VerticalLayout();\r\n        this.samplePersonService = samplePersonService;\r\n        H3 h3 = new H3();\r\n        FormLayout formLayout2Col = new FormLayout();\r\n        TextField textField = new TextField();\r\n        Grid basicGrid = new Grid(SamplePerson.class);\r\n        getContent().setWidth(&quot;100%&quot;);\r\n        getContent().getStyle().set(&quot;flex-grow&quot;, &quot;1&quot;);\r\n        getContent().setJustifyContentMode(JustifyContentMode.START);\r\n        getContent().setAlignItems(Alignment.CENTER);\r\n        layoutColumn2.setWidth(&quot;100%&quot;);\r\n        layoutColumn2.setMaxWidth(&quot;800px&quot;);\r\n        layoutColumn2.setHeight(&quot;min-content&quot;);\r\n        h3.setText(&quot;Personal Information&quot;);\r\n        h3.setWidth(&quot;100%&quot;);\r\n        formLayout2Col.setWidth(&quot;100%&quot;);\r\n        textField.setLabel(&quot;First Name&quot;);\r\n        basicGrid.setWidth(&quot;100%&quot;);\r\n        basicGrid.getStyle().set(&quot;flex-grow&quot;, &quot;0&quot;);\r\n        setGridSampleData(basicGrid);\r\n        getContent().add(layoutColumn2);\r\n        layoutColumn2.add(h3);\r\n        layoutColumn2.add(formLayout2Col);\r\n        formLayout2Col.add(textField);\r\n        getContent().add(basicGrid);\r\n    }\r\n\r\n    private void setGridSampleData(Grid grid) {\r\n        System.out.println(&quot;test 1&quot;);\r\n        System.out.println(&quot;list :  &quot; + samplePersonService.list().size());\r\n        grid.setItems(query -&gt; samplePersonService.list(\r\n                PageRequest.of(query.getPage(), query.getPageSize(), VaadinSpringDataHelpers.toSpringDataSort(query)))\r\n                .stream());\r\n    }\r\n\r\n    public SamplePersonService getSamplePersonService() {\r\n        return samplePersonService;\r\n    }\r\n\r\n    public void setSamplePersonService(SamplePersonService samplePersonService) {\r\n        System.out.println(&quot;test service ok&quot;);\r\n        this.samplePersonService = samplePersonService;\r\n    }\r\n\r\n    @Autowired()\r\n    private SamplePersonService samplePersonService;\r\n}\r\n\r\n```\r\n\r\nBut my Grid is all the time empty.\r\n\r\nHere is my application. Properties file\r\n\r\n```\r\nserver.port=${PORT:8080}\r\nlogging.level.org.atmosphere = warn\r\nspring.mustache.check-template-location = false\r\n\r\n# Launch the default browser when starting the application in development mode\r\nvaadin.launch-browser=true\r\n# PostgreSQL configuration.\r\nspring.datasource.url = jdbc:postgresql://postgres:5432/vaadinstart\r\njavax.persistence.jdbc.url = jdbc:postgresql://postgres:5432/vaadinstart\r\nhibernate.connection.url = jdbc:postgresql://postgres:5432/vaadinstart\r\nspring.datasource.username = postgres\r\njavax.persistence.jdbc.username = postgres\r\n# Hibernate properties\r\nspring.jpa.database-platform = org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.show-sql = false\r\nspring.jpa.hibernate.naming.implicit-strategy = org.hibernate.boot.model.naming.ImplicitNamingStrategyJpaCompliantImpl\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.datasource.password = postgres\r\njavax.persistence.jdbc.password =  postgres\r\nspring.jpa.hibernate.ddl-auto = update\r\n# To improve the performance during development.\r\n# For more information https://vaadin.com/docs/flow/spring/tutorial-spring-configuration.html#special-configuration-parameters\r\nvaadin.whitelisted-packages = com.vaadin,org.vaadin,dev.hilla,com.example.application\r\nspring.jpa.defer-datasource-initialization = true\r\nspring.sql.init.mode = always\r\n\r\n\r\n```\r\n\r\nAnd my Dockerfile looks like this\r\n\r\n```\r\nFROM eclipse-temurin:18-jre\r\nCOPY target/*.jar my-app-0.0.1-SNAPSHOT.jar\r\nRUN mkdir -p /docker-entrypoint-initdb.d/\r\nEXPOSE 8080\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/my-app-0.0.1-SNAPSHOT.jar&quot;]\r\n```\r\n\r\n\r\nmy compose file is the following\r\n\r\n```\r\nversion: &#39;4.8&#39;\r\nservices:\r\n  postgres:\r\n    image: &#39;postgres:13.1-alpine&#39;\r\n    restart: always\r\n    container_name: postgres\r\n    env_file:\r\n      - .env\r\n    environment:\r\n      - POSTGRES_DB=vaadinstart\r\n      - POSTGRES_HOST_AUTH_METHOD=trust\r\n    volumes:\r\n      - ./postgres-data:/var/lib/postgresql/data\r\n    ports:\r\n      - &quot;5432:5432&quot;\r\n  app:\r\n    image: &#39;docker-spring-boot-postgres:latest&#39;\r\n    build:\r\n      context: .\r\n    container_name: my-app2\r\n    depends_on:\r\n      - postgres\r\n    ports:\r\n      - 8080:8080\r\n    expose:\r\n      - 9090\r\n    environment:\r\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://postgres:5432/vaadinstart\r\n      - SPRING_DATASOURCE_USERNAME=postgres\r\n      - SPRING_DATASOURCE_PASSWORD=postgres\r\n      - SPRING_JPA_HIBERNATE_DDL_AUTO=update\r\n\r\n```\r\n\r\nI run the following to build and deploy to Docker\r\n\r\n```\r\n mvn clean package -Pproduction\r\n docker-compose build\r\n docker build . -t my-app2:latest\r\n docker-compose up\r\n```\r\n\r\nIf I do the following commands\r\n\r\n[![psql commands][1]][1]\r\n\r\n[![enter image description here][1]][1]\r\nYou can see the person table is not empty not sure what I&#39;ve missed.\r\n\r\nThanks for any hints.\r\n\r\nEDIT\r\n\r\n```\r\nHere is a screenshot of the command docker logs &lt;APP_NAME&gt;\r\n```\r\n[![enter image description here][1]][1]\r\nAnd then the screenshot of docker logs &lt;DB_SERVICE&gt;\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NH0I4.png\r\n  [2]: https://i.stack.imgur.com/uBnKs.png\r\n\r\nEDIT 2\r\n\r\nHere is the code of the Service injected into the View\r\n\r\n```\r\npackage com.example.application.services;\r\n\r\nimport com.example.application.data.SamplePerson;\r\nimport com.example.application.data.SamplePersonRepository;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.jpa.domain.Specification;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class SamplePersonService {\r\n\r\n    private final SamplePersonRepository repository;\r\n\r\n    public SamplePersonService(SamplePersonRepository repository) {\r\n        this.repository = repository;\r\n    }\r\n\r\n    public Optional&lt;SamplePerson&gt; get(Long id) {\r\n        return repository.findById(id);\r\n    }\r\n\r\n    public SamplePerson update(SamplePerson entity) {\r\n        return repository.save(entity);\r\n    }\r\n\r\n    public void delete(Long id) {\r\n        repository.deleteById(id);\r\n    }\r\n\r\n    public Page&lt;SamplePerson&gt; list(Pageable pageable) {\r\n        return repository.findAll(pageable);\r\n    }\r\n\r\n    public List&lt;SamplePerson&gt; list() {\r\n        return this.repository.findAll();\r\n    }\r\n\r\n    public Page&lt;SamplePerson&gt; list(Pageable pageable, Specification&lt;SamplePerson&gt; filter) {\r\n        SamplePerson p = (SamplePerson) filter;\r\n        System.out.println(p.getName());\r\n        return repository.findAll(filter, pageable);\r\n    }\r\n\r\n    public int count() {\r\n        return (int) repository.count();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nAnd then the Repository\r\n\r\n```\r\npackage com.example.application.data;\r\n\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.JpaSpecificationExecutor;\r\n\r\npublic interface SamplePersonRepository\r\n        extends\r\n            JpaRepository&lt;SamplePerson, Long&gt;,\r\n            JpaSpecificationExecutor&lt;SamplePerson&gt; {\r\n\r\n}\r\n\r\n```\r\n\r\nSOLVED\r\n\r\nBy adding Column(name) annotation to SamplePerson it works like a charm.","title":"Vaadin 23 + Spring Boot + Docker returns empty list","body":"<p>In my test project I want to do simple employees list displayed as a Grid inside a Vaadin 23 View.</p>\n<p>I got the following code for the view :</p>\n<pre><code>package com.example.application.views.personform2;\n\nimport com.example.application.data.SamplePerson;\nimport com.example.application.services.SamplePersonService;\nimport com.example.application.views.MainLayout;\nimport com.vaadin.flow.component.Composite;\nimport com.vaadin.flow.component.button.Button;\nimport com.vaadin.flow.component.button.ButtonVariant;\nimport com.vaadin.flow.component.datepicker.DatePicker;\nimport com.vaadin.flow.component.dependency.Uses;\nimport com.vaadin.flow.component.formlayout.FormLayout;\nimport com.vaadin.flow.component.grid.Grid;\nimport com.vaadin.flow.component.html.H3;\nimport com.vaadin.flow.component.icon.Icon;\nimport com.vaadin.flow.component.orderedlayout.FlexComponent.Alignment;\nimport com.vaadin.flow.component.orderedlayout.FlexComponent.JustifyContentMode;\nimport com.vaadin.flow.component.orderedlayout.HorizontalLayout;\nimport com.vaadin.flow.component.orderedlayout.VerticalLayout;\nimport com.vaadin.flow.component.textfield.EmailField;\nimport com.vaadin.flow.component.textfield.TextField;\nimport com.vaadin.flow.router.PageTitle;\nimport com.vaadin.flow.router.Route;\nimport com.vaadin.flow.spring.data.VaadinSpringDataHelpers;\nimport com.vaadin.flow.theme.lumo.LumoUtility.Gap;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.PageRequest;\n\nimport java.util.List;\n\n@PageTitle(&quot;Person Form2&quot;)\n@Route(value = &quot;person-form2&quot;, layout = MainLayout.class)\n@Uses(Icon.class)\npublic class PersonForm2View extends Composite&lt;VerticalLayout&gt; {\n\n    public PersonForm2View(@Autowired SamplePersonService samplePersonService) {\n        VerticalLayout layoutColumn2 = new VerticalLayout();\n        this.samplePersonService = samplePersonService;\n        H3 h3 = new H3();\n        FormLayout formLayout2Col = new FormLayout();\n        TextField textField = new TextField();\n        Grid basicGrid = new Grid(SamplePerson.class);\n        getContent().setWidth(&quot;100%&quot;);\n        getContent().getStyle().set(&quot;flex-grow&quot;, &quot;1&quot;);\n        getContent().setJustifyContentMode(JustifyContentMode.START);\n        getContent().setAlignItems(Alignment.CENTER);\n        layoutColumn2.setWidth(&quot;100%&quot;);\n        layoutColumn2.setMaxWidth(&quot;800px&quot;);\n        layoutColumn2.setHeight(&quot;min-content&quot;);\n        h3.setText(&quot;Personal Information&quot;);\n        h3.setWidth(&quot;100%&quot;);\n        formLayout2Col.setWidth(&quot;100%&quot;);\n        textField.setLabel(&quot;First Name&quot;);\n        basicGrid.setWidth(&quot;100%&quot;);\n        basicGrid.getStyle().set(&quot;flex-grow&quot;, &quot;0&quot;);\n        setGridSampleData(basicGrid);\n        getContent().add(layoutColumn2);\n        layoutColumn2.add(h3);\n        layoutColumn2.add(formLayout2Col);\n        formLayout2Col.add(textField);\n        getContent().add(basicGrid);\n    }\n\n    private void setGridSampleData(Grid grid) {\n        System.out.println(&quot;test 1&quot;);\n        System.out.println(&quot;list :  &quot; + samplePersonService.list().size());\n        grid.setItems(query -&gt; samplePersonService.list(\n                PageRequest.of(query.getPage(), query.getPageSize(), VaadinSpringDataHelpers.toSpringDataSort(query)))\n                .stream());\n    }\n\n    public SamplePersonService getSamplePersonService() {\n        return samplePersonService;\n    }\n\n    public void setSamplePersonService(SamplePersonService samplePersonService) {\n        System.out.println(&quot;test service ok&quot;);\n        this.samplePersonService = samplePersonService;\n    }\n\n    @Autowired()\n    private SamplePersonService samplePersonService;\n}\n\n</code></pre>\n<p>But my Grid is all the time empty.</p>\n<p>Here is my application. Properties file</p>\n<pre><code>server.port=${PORT:8080}\nlogging.level.org.atmosphere = warn\nspring.mustache.check-template-location = false\n\n# Launch the default browser when starting the application in development mode\nvaadin.launch-browser=true\n# PostgreSQL configuration.\nspring.datasource.url = jdbc:postgresql://postgres:5432/vaadinstart\njavax.persistence.jdbc.url = jdbc:postgresql://postgres:5432/vaadinstart\nhibernate.connection.url = jdbc:postgresql://postgres:5432/vaadinstart\nspring.datasource.username = postgres\njavax.persistence.jdbc.username = postgres\n# Hibernate properties\nspring.jpa.database-platform = org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.show-sql = false\nspring.jpa.hibernate.naming.implicit-strategy = org.hibernate.boot.model.naming.ImplicitNamingStrategyJpaCompliantImpl\nspring.jpa.properties.hibernate.format_sql=true\nspring.datasource.password = postgres\njavax.persistence.jdbc.password =  postgres\nspring.jpa.hibernate.ddl-auto = update\n# To improve the performance during development.\n# For more information https://vaadin.com/docs/flow/spring/tutorial-spring-configuration.html#special-configuration-parameters\nvaadin.whitelisted-packages = com.vaadin,org.vaadin,dev.hilla,com.example.application\nspring.jpa.defer-datasource-initialization = true\nspring.sql.init.mode = always\n\n\n</code></pre>\n<p>And my Dockerfile looks like this</p>\n<pre><code>FROM eclipse-temurin:18-jre\nCOPY target/*.jar my-app-0.0.1-SNAPSHOT.jar\nRUN mkdir -p /docker-entrypoint-initdb.d/\nEXPOSE 8080\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/my-app-0.0.1-SNAPSHOT.jar&quot;]\n</code></pre>\n<p>my compose file is the following</p>\n<pre><code>version: '4.8'\nservices:\n  postgres:\n    image: 'postgres:13.1-alpine'\n    restart: always\n    container_name: postgres\n    env_file:\n      - .env\n    environment:\n      - POSTGRES_DB=vaadinstart\n      - POSTGRES_HOST_AUTH_METHOD=trust\n    volumes:\n      - ./postgres-data:/var/lib/postgresql/data\n    ports:\n      - &quot;5432:5432&quot;\n  app:\n    image: 'docker-spring-boot-postgres:latest'\n    build:\n      context: .\n    container_name: my-app2\n    depends_on:\n      - postgres\n    ports:\n      - 8080:8080\n    expose:\n      - 9090\n    environment:\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://postgres:5432/vaadinstart\n      - SPRING_DATASOURCE_USERNAME=postgres\n      - SPRING_DATASOURCE_PASSWORD=postgres\n      - SPRING_JPA_HIBERNATE_DDL_AUTO=update\n\n</code></pre>\n<p>I run the following to build and deploy to Docker</p>\n<pre><code> mvn clean package -Pproduction\n docker-compose build\n docker build . -t my-app2:latest\n docker-compose up\n</code></pre>\n<p>If I do the following commands</p>\n<p><a href=\"https://i.stack.imgur.com/NH0I4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NH0I4.png\" alt=\"psql commands\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/NH0I4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NH0I4.png\" alt=\"enter image description here\" /></a>\nYou can see the person table is not empty not sure what I've missed.</p>\n<p>Thanks for any hints.</p>\n<p>EDIT</p>\n<pre><code>Here is a screenshot of the command docker logs &lt;APP_NAME&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/NH0I4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NH0I4.png\" alt=\"enter image description here\" /></a>\nAnd then the screenshot of docker logs &lt;DB_SERVICE&gt;</p>\n<p><a href=\"https://i.stack.imgur.com/uBnKs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uBnKs.png\" alt=\"enter image description here\" /></a></p>\n<p>EDIT 2</p>\n<p>Here is the code of the Service injected into the View</p>\n<pre><code>package com.example.application.services;\n\nimport com.example.application.data.SamplePerson;\nimport com.example.application.data.SamplePersonRepository;\n\nimport java.util.List;\nimport java.util.Optional;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.jpa.domain.Specification;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class SamplePersonService {\n\n    private final SamplePersonRepository repository;\n\n    public SamplePersonService(SamplePersonRepository repository) {\n        this.repository = repository;\n    }\n\n    public Optional&lt;SamplePerson&gt; get(Long id) {\n        return repository.findById(id);\n    }\n\n    public SamplePerson update(SamplePerson entity) {\n        return repository.save(entity);\n    }\n\n    public void delete(Long id) {\n        repository.deleteById(id);\n    }\n\n    public Page&lt;SamplePerson&gt; list(Pageable pageable) {\n        return repository.findAll(pageable);\n    }\n\n    public List&lt;SamplePerson&gt; list() {\n        return this.repository.findAll();\n    }\n\n    public Page&lt;SamplePerson&gt; list(Pageable pageable, Specification&lt;SamplePerson&gt; filter) {\n        SamplePerson p = (SamplePerson) filter;\n        System.out.println(p.getName());\n        return repository.findAll(filter, pageable);\n    }\n\n    public int count() {\n        return (int) repository.count();\n    }\n\n}\n\n</code></pre>\n<p>And then the Repository</p>\n<pre><code>package com.example.application.data;\n\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.JpaSpecificationExecutor;\n\npublic interface SamplePersonRepository\n        extends\n            JpaRepository&lt;SamplePerson, Long&gt;,\n            JpaSpecificationExecutor&lt;SamplePerson&gt; {\n\n}\n\n</code></pre>\n<p>SOLVED</p>\n<p>By adding Column(name) annotation to SamplePerson it works like a charm.</p>\n"},{"tags":["java","arrays","methods"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":0,"creation_date":1699730744,"post_id":77466525,"comment_id":136569270,"body_markdown":"Yes, you only call one method, so only the one most suitable is called. In this case it is the `public static double average(double[] userInput)` since you are passing a `double[]` as parameter","body":"Yes, you only call one method, so only the one most suitable is called. In this case it is the <code>public static double average(double[] userInput)</code> since you are passing a <code>double[]</code> as parameter"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1699730861,"post_id":77466525,"comment_id":136569282,"body_markdown":"&quot;*but I&#39;m a bit confused on some areas of the homework assignment itself*&quot; - I recommend talking to your professor/supervisor/teacher.","body":"&quot;<i>but I&#39;m a bit confused on some areas of the homework assignment itself</i>&quot; - I recommend talking to your professor/supervisor/teacher."},{"owner":{"account_id":29671920,"reputation":11,"user_id":22740946,"display_name":"jecca"},"score":0,"creation_date":1699731878,"post_id":77466525,"comment_id":136569366,"body_markdown":"@UnholySheep, thank you! I thought that might be how it works, but I wasn’t sure.","body":"@UnholySheep, thank you! I thought that might be how it works, but I wasn’t sure."},{"owner":{"account_id":29671920,"reputation":11,"user_id":22740946,"display_name":"jecca"},"score":0,"creation_date":1699731983,"post_id":77466525,"comment_id":136569369,"body_markdown":"@Turing85 Unfortunately, my professor won’t answer any questions. He hasn’t graded any assignments in a month and he takes about a week to reply (if he ever does). I’ve already reported him to the school, but for now I just have to do my best on my own.","body":"@Turing85 Unfortunately, my professor won’t answer any questions. He hasn’t graded any assignments in a month and he takes about a week to reply (if he ever does). I’ve already reported him to the school, but for now I just have to do my best on my own."}],"answers":[{"comments":[{"owner":{"account_id":29671920,"reputation":11,"user_id":22740946,"display_name":"jecca"},"score":0,"creation_date":1699735215,"post_id":77466673,"comment_id":136569619,"body_markdown":"Thank you, this makes sense! I watched some videos on method overloading, so I thought I was doing things properly, but I wasn&#39;t sure.\n/\nI did see something about adding in an array length variable, but I was already having issues with the code so I tried to keep it as simple as possible. \n/\nI appreicate all the notes on my code; this is very helpful!\n/\nDo you know why I had to initialize sum before the for loop? I tried to initialize it within the for loop, but that didn&#39;t work.","body":"Thank you, this makes sense! I watched some videos on method overloading, so I thought I was doing things properly, but I wasn&#39;t sure. / I did see something about adding in an array length variable, but I was already having issues with the code so I tried to keep it as simple as possible.  / I appreicate all the notes on my code; this is very helpful! / Do you know why I had to initialize sum before the for loop? I tried to initialize it within the for loop, but that didn&#39;t work."},{"owner":{"account_id":29671920,"reputation":11,"user_id":22740946,"display_name":"jecca"},"score":0,"creation_date":1699735642,"post_id":77466673,"comment_id":136569658,"body_markdown":"Sorry, two more! \n/\nWhy did I need a return statement if I didn&#39;t use that return value?\n/\nWas I supposed to change &quot;array&quot; in the method header (as stated in the directions) to &quot;userInput&quot;, my array name? That fixed some issues I was having, but other things I saw made it seem like I didn&#39;t need to change that.","body":"Sorry, two more!  / Why did I need a return statement if I didn&#39;t use that return value? / Was I supposed to change &quot;array&quot; in the method header (as stated in the directions) to &quot;userInput&quot;, my array name? That fixed some issues I was having, but other things I saw made it seem like I didn&#39;t need to change that."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1699737310,"post_id":77466673,"comment_id":136569830,"body_markdown":"@jecca I have edited the answer to address your comments.","body":"@jecca I have edited the answer to address your comments."},{"owner":{"account_id":29671920,"reputation":11,"user_id":22740946,"display_name":"jecca"},"score":0,"creation_date":1699737680,"post_id":77466673,"comment_id":136569868,"body_markdown":"This all makes perfect sense. Thank you so much! I really appreciate it!","body":"This all makes perfect sense. Thank you so much! I really appreciate it!"}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699737294,"creation_date":1699733236,"answer_id":77466673,"question_id":77466525,"body_markdown":"&gt; Although I wrote two methods, I believe only the double method is being used. Is this correct, or did I misinterpret the assignment?\r\n\r\nThe main challenge and aim of your assignment is to demonstrate the concept of [**method overloading in Java**](https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html). \r\n\r\nMethod overloading is a feature that allows multiple methods to have the same name with different parameters. \r\n\r\n&gt; The Java programming language supports overloading methods, and Java can distinguish between methods with different method signatures. This means that methods within a class can have the same name if they have different parameter lists (there are some qualifications to this that will be discussed in the lesson titled &quot;Interfaces and Inheritance&quot;).\r\n\r\nIn your case, you have implemented two methods named `average()`, one that accepts an array of `int` and another that accepts an array of `double`. This exemplifies how Java differentiates between methods not just by their names, but also by their parameter lists.\r\n\r\nAs you correctly observed, only the `double` version is called in your main method. This is because you are passing a `double[]` array to the `average` method. Java selects the appropriate `average` method based on the type of the argument passed. If an `int[]` array were passed, Java would call the `int` version of the method.\r\n\r\n----\r\n\r\nA few notes on your code, for your consideration:\r\n\r\n\r\nInstead of hard-coding the array length as 10, you could use a variable. That makes your code more adaptable and reusable.   \r\nAnd I would also avoid hard-coding values like 10 in the loop and average calculation. Use the array&#39;s length attribute instead.\r\n\r\nFor calculating the `sum`, you can use an [enhanced for loop](https://www.programiz.com/java-programming/enhanced-for-loop). \r\n\r\nYou are correctly returning the average from both methods, but you are not using these return values in your `main` method. You can store the returned average in a variable and then print it.\r\n\r\nConsider adding error handling for user input, like checking for invalid inputs (non-numeric, etc.).\r\n\r\n-----\r\n\r\n&gt; Do you know why I had to initialize sum before the for loop? I tried to initialize it within the for loop, but that didn&#39;t work.\r\n\r\nIn Java, a variable must be declared and initialized before it is used. When you declare a variable like `sum` within a loop, [its scope](https://www.geeksforgeeks.org/variable-scope-in-java/) (i.e., the part of the code where it is recognized and usable) is limited to that loop.  \r\nEach time the loop iterates, if `sum` were declared inside it, it would be reinitialized to its starting value, which is not the behavior you want when calculating a sum.\r\n\r\nWhen you initialize the variable before the loop:\r\n\r\n- `int sum = 0;` or `double sum = 0.0;`\r\n- That line sets up `sum` with an initial value of 0.\r\n- The scope of `sum` is the entire method, meaning it retains its value across all iterations of the loop.\r\n- Each iteration of the loop adds to `sum`, accumulating the total.\r\n\r\nWhen you initialize the variable inside the loop:\r\n\r\n- If `sum` were declared inside the loop, it would be set to 0 (or any other starting value) at the beginning of each iteration.\r\n- That means you would lose the total you accumulated in previous iterations.\r\n\r\n```java\r\n// Correct way\r\nint sum = 0;\r\nfor (int i = 0; i &lt; 10; i++) {\r\n    sum += i; // Adds i to sum, accumulating over each iteration\r\n}\r\n\r\n// Incorrect way\r\nfor (int i = 0; i &lt; 10; i++) {\r\n    int sum = 0; // Sum is reset to 0 on each iteration\r\n    sum += i; // Only the current value of i is added, previous totals are lost\r\n}\r\n```\r\n\r\nIn the correct way, `sum` is initialized once before the loop starts and retains its value across iterations. In the incorrect way, `sum` is reset in each iteration, so it never accumulates the total sum of all iterations.\r\n\r\n----\r\n\r\n&gt; Why did I need a `return` statement if I didn&#39;t use that return value? \r\n\r\nEven if you do not use the return value of a method in your current program, including a return statement serves multiple purposes:\r\n\r\n- Your method is declared with a return type (`int` or `double`), so it must return a value of that type. That is part of fulfilling the contract you have defined in your method&#39;s signature.\r\n- While your current implementation does not use the return value, returning the calculated average makes your method more versatile for future use. For instance, if you later modify your program or use this method in a different program, you might need the average value for further calculations or decision-making processes.\r\n- And it is a good habit to make sure your methods do exactly what their signature suggests. If a method is supposed to return a value, then it should do so. \r\n\r\n----\r\n\r\n&gt; Was I supposed to change &quot;`array`&quot; in the method header (as stated in the directions) to &quot;`userInput`&quot;, my array name?  \r\n\r\nIn method headers, the names given to parameters are placeholders. You can name them whatever you like, as long as the names are meaningful and follow Java&#39;s naming conventions.  \r\nThe name of the parameter in the method definition does not need to match the name of the array you pass to the method when you call it. \r\n\r\n```java\r\npublic static double average(double[] array) {\r\n    // The name &#39;array&#39; here is just a label for whatever double array is passed to this method.\r\n    // It could be named &#39;data&#39;, &#39;values&#39;, &#39;input&#39;, etc.\r\n}\r\n```\r\n\r\n- The names of parameters in method definitions are used within the method to refer to the values passed to it. These names are local to the method and do not affect or depend on the names of variables in other parts of your code.\r\n\r\n- It is often helpful to choose parameter names that are descriptive and indicate their role or the kind of data they represent. Whether you use `array`, `userInput`, or any other name, it should ideally convey the purpose or content of the parameter.\r\n\r\n- Changing the parameter name does not affect the functionality of the method. The type of the parameter (`int[]` or `double[]`) is what is important. The name is just a label used within the method.\r\n\r\nIn your case, using `userInput` as the parameter name in the method is perfectly fine and might even make the code more readable by clearly indicating that this array is supposed to contain user input. The key is consistency and clarity in how you use these names within the method.","title":"Can someone explain what my code means? I&#39;m writing a program that passes user inputs into an array, then calculates the average of the array","body":"<blockquote>\n<p>Although I wrote two methods, I believe only the double method is being used. Is this correct, or did I misinterpret the assignment?</p>\n</blockquote>\n<p>The main challenge and aim of your assignment is to demonstrate the concept of <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html\" rel=\"nofollow noreferrer\"><strong>method overloading in Java</strong></a>.</p>\n<p>Method overloading is a feature that allows multiple methods to have the same name with different parameters.</p>\n<blockquote>\n<p>The Java programming language supports overloading methods, and Java can distinguish between methods with different method signatures. This means that methods within a class can have the same name if they have different parameter lists (there are some qualifications to this that will be discussed in the lesson titled &quot;Interfaces and Inheritance&quot;).</p>\n</blockquote>\n<p>In your case, you have implemented two methods named <code>average()</code>, one that accepts an array of <code>int</code> and another that accepts an array of <code>double</code>. This exemplifies how Java differentiates between methods not just by their names, but also by their parameter lists.</p>\n<p>As you correctly observed, only the <code>double</code> version is called in your main method. This is because you are passing a <code>double[]</code> array to the <code>average</code> method. Java selects the appropriate <code>average</code> method based on the type of the argument passed. If an <code>int[]</code> array were passed, Java would call the <code>int</code> version of the method.</p>\n<hr />\n<p>A few notes on your code, for your consideration:</p>\n<p>Instead of hard-coding the array length as 10, you could use a variable. That makes your code more adaptable and reusable.<br />\nAnd I would also avoid hard-coding values like 10 in the loop and average calculation. Use the array's length attribute instead.</p>\n<p>For calculating the <code>sum</code>, you can use an <a href=\"https://www.programiz.com/java-programming/enhanced-for-loop\" rel=\"nofollow noreferrer\">enhanced for loop</a>.</p>\n<p>You are correctly returning the average from both methods, but you are not using these return values in your <code>main</code> method. You can store the returned average in a variable and then print it.</p>\n<p>Consider adding error handling for user input, like checking for invalid inputs (non-numeric, etc.).</p>\n<hr />\n<blockquote>\n<p>Do you know why I had to initialize sum before the for loop? I tried to initialize it within the for loop, but that didn't work.</p>\n</blockquote>\n<p>In Java, a variable must be declared and initialized before it is used. When you declare a variable like <code>sum</code> within a loop, <a href=\"https://www.geeksforgeeks.org/variable-scope-in-java/\" rel=\"nofollow noreferrer\">its scope</a> (i.e., the part of the code where it is recognized and usable) is limited to that loop.<br />\nEach time the loop iterates, if <code>sum</code> were declared inside it, it would be reinitialized to its starting value, which is not the behavior you want when calculating a sum.</p>\n<p>When you initialize the variable before the loop:</p>\n<ul>\n<li><code>int sum = 0;</code> or <code>double sum = 0.0;</code></li>\n<li>That line sets up <code>sum</code> with an initial value of 0.</li>\n<li>The scope of <code>sum</code> is the entire method, meaning it retains its value across all iterations of the loop.</li>\n<li>Each iteration of the loop adds to <code>sum</code>, accumulating the total.</li>\n</ul>\n<p>When you initialize the variable inside the loop:</p>\n<ul>\n<li>If <code>sum</code> were declared inside the loop, it would be set to 0 (or any other starting value) at the beginning of each iteration.</li>\n<li>That means you would lose the total you accumulated in previous iterations.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>// Correct way\nint sum = 0;\nfor (int i = 0; i &lt; 10; i++) {\n    sum += i; // Adds i to sum, accumulating over each iteration\n}\n\n// Incorrect way\nfor (int i = 0; i &lt; 10; i++) {\n    int sum = 0; // Sum is reset to 0 on each iteration\n    sum += i; // Only the current value of i is added, previous totals are lost\n}\n</code></pre>\n<p>In the correct way, <code>sum</code> is initialized once before the loop starts and retains its value across iterations. In the incorrect way, <code>sum</code> is reset in each iteration, so it never accumulates the total sum of all iterations.</p>\n<hr />\n<blockquote>\n<p>Why did I need a <code>return</code> statement if I didn't use that return value?</p>\n</blockquote>\n<p>Even if you do not use the return value of a method in your current program, including a return statement serves multiple purposes:</p>\n<ul>\n<li>Your method is declared with a return type (<code>int</code> or <code>double</code>), so it must return a value of that type. That is part of fulfilling the contract you have defined in your method's signature.</li>\n<li>While your current implementation does not use the return value, returning the calculated average makes your method more versatile for future use. For instance, if you later modify your program or use this method in a different program, you might need the average value for further calculations or decision-making processes.</li>\n<li>And it is a good habit to make sure your methods do exactly what their signature suggests. If a method is supposed to return a value, then it should do so.</li>\n</ul>\n<hr />\n<blockquote>\n<p>Was I supposed to change &quot;<code>array</code>&quot; in the method header (as stated in the directions) to &quot;<code>userInput</code>&quot;, my array name?</p>\n</blockquote>\n<p>In method headers, the names given to parameters are placeholders. You can name them whatever you like, as long as the names are meaningful and follow Java's naming conventions.<br />\nThe name of the parameter in the method definition does not need to match the name of the array you pass to the method when you call it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static double average(double[] array) {\n    // The name 'array' here is just a label for whatever double array is passed to this method.\n    // It could be named 'data', 'values', 'input', etc.\n}\n</code></pre>\n<ul>\n<li><p>The names of parameters in method definitions are used within the method to refer to the values passed to it. These names are local to the method and do not affect or depend on the names of variables in other parts of your code.</p>\n</li>\n<li><p>It is often helpful to choose parameter names that are descriptive and indicate their role or the kind of data they represent. Whether you use <code>array</code>, <code>userInput</code>, or any other name, it should ideally convey the purpose or content of the parameter.</p>\n</li>\n<li><p>Changing the parameter name does not affect the functionality of the method. The type of the parameter (<code>int[]</code> or <code>double[]</code>) is what is important. The name is just a label used within the method.</p>\n</li>\n</ul>\n<p>In your case, using <code>userInput</code> as the parameter name in the method is perfectly fine and might even make the code more readable by clearly indicating that this array is supposed to contain user input. The key is consistency and clarity in how you use these names within the method.</p>\n"}],"owner":{"account_id":29671920,"reputation":11,"user_id":22740946,"display_name":"jecca"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77466673,"answer_count":1,"score":0,"last_activity_date":1699737294,"creation_date":1699730572,"question_id":77466525,"body_markdown":"The homework assignment is as follows:\r\n\r\n     Write two overloaded methods that return the average of an array with the following headers:\r\n    \r\n      **public static int average(int\\[\\] array)**\r\n    \r\n      **public static double average(double\\[\\] array)**\r\n    \r\n     Write a test program that prompts the user to enter ten double values, invokes this method, and displays the average value.\r\n\r\nI have written my code and I think it works, but I&#39;m a bit confused on some areas of the homework assignment itself and some areas of my code. Although I wrote two methods, I believe only the double method is being used. Is this correct, or did I misinterpret the assignment?\r\n\r\nI also don&#39;t really understand some parts of my code. I fiddled around with things until I was able to make it work, but I don&#39;t know why some parts worked the way they did.\r\n\r\nHere is my code:\r\n\r\n```\r\nimport java.util.Scanner; //Scanner is used to allow user input\r\n\r\nclass AvgArray {\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        double[] userInput = new double[10];// creates an array called userInput with 10 doubles in that array\r\n\r\n        System.out.printf(&quot;Please input 10 numbers: &quot;);\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            userInput[i] = input.nextDouble();// the next input will be added to the userInput array in location i\r\n        }\r\n\r\n        average(userInput); // calls the method average and passes the userInput array to that method\r\n\r\n        input.close(); // close input to prevent resource leak\r\n    }\r\n\r\n    public static int average(int[] userInput)\r\n    // userInput is necessary at end to make it accessible for the following\r\n    // statements (Is this correct? The assignment said the header should include\r\n    // &quot;array)&quot;, but I&#39;m not sure whether this is something I&#39;m supposed to fill in\r\n    // with my array name or something I should have left alone.)\r\n    {\r\n        int sum = 0;\r\n        // necessary so sum can be used in following for statement, not sure why I\r\n        // couldn&#39;t initialize below with int sum = userInput[]i + sum;\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            sum = userInput[i] + sum;\r\n        }\r\n        int average = sum / 10;\r\n\r\n        System.out.printf(&quot;%nThe average of your values is %d.%n%n&quot;, average);\r\n        return average; // necessary but not sure why\r\n    }\r\n\r\n    public static double average(double[] userInput)\r\n    // userInput is necessary at end to make it accessible for the following\r\n    // statements (Is this correct? The assignment said the header should include\r\n    // &quot;array)&quot;, but I&#39;m not sure whether this is something I&#39;m supposed to fill in\r\n    // with my array name or something I should have left alone.)\r\n    {\r\n        double sum = 0;\r\n        // necessary so sum can be used in following for statement, not sure why I\r\n        // couldn&#39;t initialize below with double sum = userInput[]i + sum;\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            sum = userInput[i] + sum;\r\n        }\r\n        double average = sum / 10;\r\n\r\n        System.out.printf(&quot;%nThe average of your values is %.2f.%n%n&quot;, average);\r\n        return average; // necessary but not sure why\r\n    }\r\n\r\n}\r\n```\r\n\r\nI believe everything is working since I get the correct values when the program is run, but I don&#39;t feel like I understand what I did and why. I&#39;ve asked my professor, but he takes about a week to reply (if he ever does). Thank you for your help!","title":"Can someone explain what my code means? I&#39;m writing a program that passes user inputs into an array, then calculates the average of the array","body":"<p>The homework assignment is as follows:</p>\n<pre><code> Write two overloaded methods that return the average of an array with the following headers:\n\n  **public static int average(int\\[\\] array)**\n\n  **public static double average(double\\[\\] array)**\n\n Write a test program that prompts the user to enter ten double values, invokes this method, and displays the average value.\n</code></pre>\n<p>I have written my code and I think it works, but I'm a bit confused on some areas of the homework assignment itself and some areas of my code. Although I wrote two methods, I believe only the double method is being used. Is this correct, or did I misinterpret the assignment?</p>\n<p>I also don't really understand some parts of my code. I fiddled around with things until I was able to make it work, but I don't know why some parts worked the way they did.</p>\n<p>Here is my code:</p>\n<pre><code>import java.util.Scanner; //Scanner is used to allow user input\n\nclass AvgArray {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n\n        double[] userInput = new double[10];// creates an array called userInput with 10 doubles in that array\n\n        System.out.printf(&quot;Please input 10 numbers: &quot;);\n        for (int i = 0; i &lt; 10; i++) {\n            userInput[i] = input.nextDouble();// the next input will be added to the userInput array in location i\n        }\n\n        average(userInput); // calls the method average and passes the userInput array to that method\n\n        input.close(); // close input to prevent resource leak\n    }\n\n    public static int average(int[] userInput)\n    // userInput is necessary at end to make it accessible for the following\n    // statements (Is this correct? The assignment said the header should include\n    // &quot;array)&quot;, but I'm not sure whether this is something I'm supposed to fill in\n    // with my array name or something I should have left alone.)\n    {\n        int sum = 0;\n        // necessary so sum can be used in following for statement, not sure why I\n        // couldn't initialize below with int sum = userInput[]i + sum;\n\n        for (int i = 0; i &lt; 10; i++) {\n            sum = userInput[i] + sum;\n        }\n        int average = sum / 10;\n\n        System.out.printf(&quot;%nThe average of your values is %d.%n%n&quot;, average);\n        return average; // necessary but not sure why\n    }\n\n    public static double average(double[] userInput)\n    // userInput is necessary at end to make it accessible for the following\n    // statements (Is this correct? The assignment said the header should include\n    // &quot;array)&quot;, but I'm not sure whether this is something I'm supposed to fill in\n    // with my array name or something I should have left alone.)\n    {\n        double sum = 0;\n        // necessary so sum can be used in following for statement, not sure why I\n        // couldn't initialize below with double sum = userInput[]i + sum;\n\n        for (int i = 0; i &lt; 10; i++) {\n            sum = userInput[i] + sum;\n        }\n        double average = sum / 10;\n\n        System.out.printf(&quot;%nThe average of your values is %.2f.%n%n&quot;, average);\n        return average; // necessary but not sure why\n    }\n\n}\n</code></pre>\n<p>I believe everything is working since I get the correct values when the program is run, but I don't feel like I understand what I did and why. I've asked my professor, but he takes about a week to reply (if he ever does). Thank you for your help!</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":19655452,"reputation":301,"user_id":14388200,"display_name":"David A."},"score":0,"creation_date":1698887496,"post_id":77405095,"comment_id":136462889,"body_markdown":"Could you specify, how are you importing the dependencies in the projects?\nLike `private final Map&lt;Long, String&gt; translatedActivationStatus`","body":"Could you specify, how are you importing the dependencies in the projects? Like <code>private final Map&lt;Long, String&gt; translatedActivationStatus</code>"},{"owner":{"account_id":1827210,"reputation":31,"user_id":1659580,"accept_rate":50,"display_name":"user1659580"},"score":0,"creation_date":1698905277,"post_id":77405095,"comment_id":136464186,"body_markdown":"They are maven dependency. Above are the piece of code of the method bean (the inherited exsiting and the created). Both are public and no final.","body":"They are maven dependency. Above are the piece of code of the method bean (the inherited exsiting and the created). Both are public and no final."}],"answers":[{"tags":[],"owner":{"account_id":1827210,"reputation":31,"user_id":1659580,"accept_rate":50,"display_name":"user1659580"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698956251,"creation_date":1698956251,"answer_id":77412634,"question_id":77405095,"body_markdown":"I think I have an idea. Execute @bean method is within runtime. It executes the first bean. If another with @Primary is found spring override the object. But the method with the @Bean is always executed even there is another with @Primary returning the same type of object.\r\n\r\nDefinitly @Primary won&#39;t fix my problem and likely I must to keep on with the profile strategy.","title":"@Primary and @Profile does not work to override a Bean","body":"<p>I think I have an idea. Execute @bean method is within runtime. It executes the first bean. If another with @Primary is found spring override the object. But the method with the @Bean is always executed even there is another with @Primary returning the same type of object.</p>\n<p>Definitly @Primary won't fix my problem and likely I must to keep on with the profile strategy.</p>\n"},{"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698956653,"creation_date":1698956653,"answer_id":77412672,"question_id":77405095,"body_markdown":"CoreConfigSecond is ignored\r\n--\r\nYour PB is ignored. Please code CoreConfigSecond  as the first configuration and im `CoreConfigSecond` @ImportConfig the config from PC.","title":"@Primary and @Profile does not work to override a Bean","body":"<h2>CoreConfigSecond is ignored</h2>\n<p>Your PB is ignored. Please code CoreConfigSecond  as the first configuration and im <code>CoreConfigSecond</code> @ImportConfig the config from PC.</p>\n"}],"owner":{"account_id":1827210,"reputation":31,"user_id":1659580,"accept_rate":50,"display_name":"user1659580"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699737143,"creation_date":1698866499,"question_id":77405095,"body_markdown":"I have a Spring project to run (aka PA) which has a dependency with other project (PB) and this one has dependency with other project (PC)\r\nPB is a customization of PC actually.\r\n\r\nThe problem is that my PA uses a different database model than PC was originally designed. Within PC there is a @Configuration class with a @Bean is recovered querying database\r\n\r\n    @Configuration\r\n    public class CoreConfig {\r\n    \r\n      @Bean\r\n      public Map&lt;Long, String&gt; translatedActivationStatusMap(ActivationStatusRepository activationStatusRepository,\r\n          TranslationUtil translationUtil) {\r\n        return activationStatusRepository.findActivationStatusBusinessCodes()\r\n            .stream()\r\n            .collect(Collectors.toMap(ActivationStatusRow::getId, activationStatusRow -&gt; {\r\n              final String translatedPrimaryStatus = translationUtil\r\n                  .getTranslation(activationStatusRow.getStatusPrimaryBusinessCode(), activationStatusRow.getStatusPrimaryDescription());\r\n              final String translatedSecondaryStatus = translationUtil\r\n                  .getTranslation(activationStatusRow.getStatusSecondaryBusinessCode(), activationStatusRow.getStatusSecondaryDescription());\r\n              return String.format(&quot;%s - %s&quot;, translatedPrimaryStatus, translatedSecondaryStatus);\r\n            }));\r\n      }\r\n    }\r\n\r\nAs the table quered by the upper repository method does not exists in the DB configured in PA, it throws an exception:\r\n\r\n&gt; table or view does not exists\r\n\r\nMy idea to resolve it is avoid Spring try to load such bean in the context. To do it I have tried several options but any of them worked.\r\n\r\n**Option 1**: create a new class in PB and annotate it as @Configuration and a method to return same type annotated as a @Bean and @Primary. But didn&#39;t work. Same exception raised\r\n\r\n    @Configuration\r\n    public class CoreConfigSecond {\r\n    \r\n      @Bean\r\n      @Primary\r\n      public Map&lt;Long, String&gt; translatedActivationStatusMapSecond(ActivationStatusRepository activationStatusRepository,\r\n                                                             TranslationUtil translationUtil) {\r\n        return new HashMap&lt;&gt;();\r\n      }\r\n    }\r\n\r\n\r\n**Option 2**: same class annotated with @Profile(&quot;test&quot;) and set the property &quot;spring.profiles.active=test&quot; in the application properties. Didn&#39;t work :(\r\n\r\nDoes anybody figure out why @Primary does not override the method?\r\nWhat do you think it could solve my problem?\r\n\r\nThanks a lot!","title":"@Primary and @Profile does not work to override a Bean","body":"<p>I have a Spring project to run (aka PA) which has a dependency with other project (PB) and this one has dependency with other project (PC)\nPB is a customization of PC actually.</p>\n<p>The problem is that my PA uses a different database model than PC was originally designed. Within PC there is a @Configuration class with a @Bean is recovered querying database</p>\n<pre><code>@Configuration\npublic class CoreConfig {\n\n  @Bean\n  public Map&lt;Long, String&gt; translatedActivationStatusMap(ActivationStatusRepository activationStatusRepository,\n      TranslationUtil translationUtil) {\n    return activationStatusRepository.findActivationStatusBusinessCodes()\n        .stream()\n        .collect(Collectors.toMap(ActivationStatusRow::getId, activationStatusRow -&gt; {\n          final String translatedPrimaryStatus = translationUtil\n              .getTranslation(activationStatusRow.getStatusPrimaryBusinessCode(), activationStatusRow.getStatusPrimaryDescription());\n          final String translatedSecondaryStatus = translationUtil\n              .getTranslation(activationStatusRow.getStatusSecondaryBusinessCode(), activationStatusRow.getStatusSecondaryDescription());\n          return String.format(&quot;%s - %s&quot;, translatedPrimaryStatus, translatedSecondaryStatus);\n        }));\n  }\n}\n</code></pre>\n<p>As the table quered by the upper repository method does not exists in the DB configured in PA, it throws an exception:</p>\n<blockquote>\n<p>table or view does not exists</p>\n</blockquote>\n<p>My idea to resolve it is avoid Spring try to load such bean in the context. To do it I have tried several options but any of them worked.</p>\n<p><strong>Option 1</strong>: create a new class in PB and annotate it as @Configuration and a method to return same type annotated as a @Bean and @Primary. But didn't work. Same exception raised</p>\n<pre><code>@Configuration\npublic class CoreConfigSecond {\n\n  @Bean\n  @Primary\n  public Map&lt;Long, String&gt; translatedActivationStatusMapSecond(ActivationStatusRepository activationStatusRepository,\n                                                         TranslationUtil translationUtil) {\n    return new HashMap&lt;&gt;();\n  }\n}\n</code></pre>\n<p><strong>Option 2</strong>: same class annotated with @Profile(&quot;test&quot;) and set the property &quot;spring.profiles.active=test&quot; in the application properties. Didn't work :(</p>\n<p>Does anybody figure out why @Primary does not override the method?\nWhat do you think it could solve my problem?</p>\n<p>Thanks a lot!</p>\n"},{"tags":["java","eclipse","hibernate"],"comments":[{"owner":{"account_id":4686595,"reputation":5802,"user_id":3793867,"accept_rate":29,"display_name":"Darshan Lila"},"score":0,"creation_date":1418132781,"post_id":27380399,"comment_id":43209888,"body_markdown":"Put `hibernate.cfg.xml` in `src-&gt;util` folder, and try again.","body":"Put <code>hibernate.cfg.xml</code> in <code>src-&gt;util</code> folder, and try again."},{"owner":{"account_id":4305422,"reputation":2495,"user_id":3517923,"accept_rate":85,"display_name":"foxt7ot"},"score":0,"creation_date":1418133358,"post_id":27380399,"comment_id":43210222,"body_markdown":"Which building tool you are using like Gradle, Ant, Maven","body":"Which building tool you are using like Gradle, Ant, Maven"},{"owner":{"account_id":4446456,"reputation":273,"user_id":3619598,"accept_rate":29,"display_name":"Simo03"},"score":0,"creation_date":1418134635,"post_id":27380399,"comment_id":43210965,"body_markdown":"I did it but still the same problem.","body":"I did it but still the same problem."},{"owner":{"account_id":4446456,"reputation":273,"user_id":3619598,"accept_rate":29,"display_name":"Simo03"},"score":0,"creation_date":1418134653,"post_id":27380399,"comment_id":43210972,"body_markdown":"I&#39;m not using any tool.","body":"I&#39;m not using any tool."}],"answers":[{"comments":[{"owner":{"account_id":4446456,"reputation":273,"user_id":3619598,"accept_rate":29,"display_name":"Simo03"},"score":0,"creation_date":1418134698,"post_id":27380435,"comment_id":43210997,"body_markdown":"That&#39;s what I did, It&#39;s in the src folder","body":"That&#39;s what I did, It&#39;s in the src folder"},{"owner":{"account_id":4446456,"reputation":273,"user_id":3619598,"accept_rate":29,"display_name":"Simo03"},"score":0,"creation_date":1418134948,"post_id":27380435,"comment_id":43211157,"body_markdown":"No I&#39;m not using maven","body":"No I&#39;m not using maven"},{"owner":{"account_id":5387395,"reputation":5281,"user_id":4290860,"accept_rate":60,"display_name":"outdev"},"score":0,"creation_date":1418135061,"post_id":27380435,"comment_id":43211226,"body_markdown":"see the picture above","body":"see the picture above"},{"owner":{"account_id":4446456,"reputation":273,"user_id":3619598,"accept_rate":29,"display_name":"Simo03"},"score":0,"creation_date":1418135523,"post_id":27380435,"comment_id":43211500,"body_markdown":"Still the same problem ... !","body":"Still the same problem ... !"},{"owner":{"account_id":4446456,"reputation":273,"user_id":3619598,"accept_rate":29,"display_name":"Simo03"},"score":0,"creation_date":1418135752,"post_id":27380435,"comment_id":43211652,"body_markdown":"Should I add it to the build path or something like that ?","body":"Should I add it to the build path or something like that ?"},{"owner":{"account_id":4446456,"reputation":273,"user_id":3619598,"accept_rate":29,"display_name":"Simo03"},"score":0,"creation_date":1418136226,"post_id":27380435,"comment_id":43211975,"body_markdown":"I&#39;m using also spring in my project. Should I add any modifications to my spring xml configuration files ??","body":"I&#39;m using also spring in my project. Should I add any modifications to my spring xml configuration files ??"},{"owner":{"account_id":5387395,"reputation":5281,"user_id":4290860,"accept_rate":60,"display_name":"outdev"},"score":0,"creation_date":1418136323,"post_id":27380435,"comment_id":43212048,"body_markdown":"I just noticed you misspelled the name of the file: you wrote hibernate.cgf.xml, it must be hibernate.cfg.xml","body":"I just noticed you misspelled the name of the file: you wrote hibernate.cgf.xml, it must be hibernate.cfg.xml"},{"owner":{"account_id":4446456,"reputation":273,"user_id":3619598,"accept_rate":29,"display_name":"Simo03"},"score":0,"creation_date":1418136813,"post_id":27380435,"comment_id":43212402,"body_markdown":"Ok thank you, but now I have another problem : could not instantiate cacheprovider ...","body":"Ok thank you, but now I have another problem : could not instantiate cacheprovider ..."},{"owner":{"account_id":4446456,"reputation":273,"user_id":3619598,"accept_rate":29,"display_name":"Simo03"},"score":0,"creation_date":1418138589,"post_id":27380435,"comment_id":43213663,"body_markdown":"If I comment the line     &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.internal.NoCacheProvider&lt;/property&gt;      the application works fine. But I don&#39;t know if it is important to keep it","body":"If I comment the line     &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.internal.NoC&zwnj;&#8203;acheProvider&lt;/proper&zwnj;&#8203;ty&gt;      the application works fine. But I don&#39;t know if it is important to keep it"},{"owner":{"account_id":5387395,"reputation":5281,"user_id":4290860,"accept_rate":60,"display_name":"outdev"},"score":0,"creation_date":1418138714,"post_id":27380435,"comment_id":43213777,"body_markdown":"this line presense, will disable the second level cache","body":"this line presense, will disable the second level cache"}],"tags":[],"owner":{"account_id":5387395,"reputation":5281,"user_id":4290860,"accept_rate":60,"display_name":"outdev"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418136601,"creation_date":1418132764,"answer_id":27380435,"question_id":27380399,"body_markdown":"If using maven try putting it in \r\n\r\n    /src/main/resources\r\n\r\nIf using simple eclipse project (without maven), put it in project root directory (not in the src)\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/kGZeS.png\r\n\r\n\r\nAlso you misspelled the name of the file in the source\r\n\r\n    return new Configuration().configure(&quot;hibernate.cgf.xml&quot;).buildSessionFactory();\r\nit must be \r\n\r\n    hibernate.cfg.xml","title":"hibernate.cfg.xml not found (eclipse)","body":"<p>If using maven try putting it in </p>\n\n<pre><code>/src/main/resources\n</code></pre>\n\n<p>If using simple eclipse project (without maven), put it in project root directory (not in the src)\n<img src=\"https://i.stack.imgur.com/kGZeS.png\" alt=\"enter image description here\"></p>\n\n<p>Also you misspelled the name of the file in the source</p>\n\n<pre><code>return new Configuration().configure(\"hibernate.cgf.xml\").buildSessionFactory();\n</code></pre>\n\n<p>it must be </p>\n\n<pre><code>hibernate.cfg.xml\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5989338,"reputation":687,"user_id":4705854,"display_name":"Ravi Macha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473971279,"creation_date":1473971279,"answer_id":39519804,"question_id":27380399,"body_markdown":"If its a Maven project just add cfg.xml file in /src/main/resources in eclips","title":"hibernate.cfg.xml not found (eclipse)","body":"<p>If its a Maven project just add cfg.xml file in /src/main/resources in eclips</p>\n"}],"owner":{"account_id":4446456,"reputation":273,"user_id":3619598,"accept_rate":29,"display_name":"Simo03"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8665,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699736545,"creation_date":1418132674,"question_id":27380399,"body_markdown":"I started using Hibernate today and tested a simple example but I&#39;m getting the error: hibernate.cfg.xml not found.\r\nI putted the hibernate.cfg.xml file in the src folder and here is its content:\r\n\r\n        &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    \r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n          &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n          &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot; &gt;\r\n    \r\n    &lt;hibernate-configuration&gt;\r\n            \r\n      &lt;session-factory&gt;\r\n        &lt;!-- Database connection settings --&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\r\n        &lt;property name=&quot;connection.username&quot;&gt;test&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;test&lt;/property&gt;\r\n    \r\n        &lt;!-- JDBC connection pool (use the built-in) --&gt;\r\n        &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n    \r\n        &lt;!-- SQL dialect --&gt;\r\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n    \r\n        &lt;!-- Enable Hibernate&#39;s automatic session context management --&gt;\r\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n    \r\n        &lt;!-- Disable the second-level cache  --&gt;\r\n        &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.internal.NoCacheProvider&lt;/property&gt;\r\n    \r\n        &lt;!-- Echo all executed SQL to stdout --&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n    \r\n        &lt;!-- Drop and re-create the database schema on startup --&gt;\r\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n        \r\n        &lt;mapping resource=&quot;com/mycompany/model/Product.hbm.xml&quot;/&gt;\r\n        \r\n      &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n And I putted the HibernateUtil.java file under util folder (src/util) and here is its content\r\n\r\n        package util;\r\n    \r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.cfg.Configuration;\r\n    \r\n    public class HibernateUtil\r\n    {\r\n        private static final SessionFactory sessionFactory = buildSessionFactory();\r\n          \r\n        private static SessionFactory buildSessionFactory()\r\n        {\r\n            try\r\n            {\r\n                // Create the SessionFactory from hibernate.cfg.xml\r\n                return new Configuration().configure(&quot;hibernate.cgf.xml&quot;).buildSessionFactory();\r\n            }\r\n            catch (Throwable ex) {\r\n                // Make sure you log the exception, as it might be swallowed\r\n                System.err.println(&quot;Initial SessionFactory creation failed.&quot; + ex);\r\n                throw new ExceptionInInitializerError(ex);\r\n            }\r\n        }\r\n      \r\n        public static SessionFactory getSessionFactory() {\r\n            return sessionFactory;\r\n        }\r\n      \r\n        public static void shutdown() {\r\n            // Close caches and connection pools\r\n            getSessionFactory().close();\r\n        }\r\n    }\r\n\r\nI also have the Jars added to the build path.\r\n\r\nMy class Test.java :\r\n\r\n        import ...\r\n    \r\n    \r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\tProductDao pd = new ProductDao();\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tProduct p = new Product(&quot;PC&quot;, 1000L);\r\n    \t\t\t\r\n    \t\t\tpd.add(p);\r\n    \t\t\t\r\n    \t\t} catch (ParseException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nThe add method :\r\n\r\npublic void add(Product p) {\r\n\r\n\tSession session = HibernateUtil.getSessionFactory().openSession();\r\n\tTransaction tx = session.beginTransaction();\r\n    session.beginTransaction();\r\n\tsession.save(p);\r\n\ttx.commit();\r\n\r\n}\r\n\r\n\r\nThanks in advance\r\n","title":"hibernate.cfg.xml not found (eclipse)","body":"<p>I started using Hibernate today and tested a simple example but I'm getting the error: hibernate.cfg.xml not found.\nI putted the hibernate.cfg.xml file in the src folder and here is its content:</p>\n\n<pre><code>    &lt;?xml version='1.0' encoding='utf-8'?&gt;\n\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n      \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n      \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\" &gt;\n\n&lt;hibernate-configuration&gt;\n\n  &lt;session-factory&gt;\n    &lt;!-- Database connection settings --&gt;\n    &lt;property name=\"connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n    &lt;property name=\"connection.url\"&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\n    &lt;property name=\"connection.username\"&gt;test&lt;/property&gt;\n    &lt;property name=\"connection.password\"&gt;test&lt;/property&gt;\n\n    &lt;!-- JDBC connection pool (use the built-in) --&gt;\n    &lt;property name=\"connection.pool_size\"&gt;1&lt;/property&gt;\n\n    &lt;!-- SQL dialect --&gt;\n    &lt;property name=\"dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n\n    &lt;!-- Enable Hibernate's automatic session context management --&gt;\n    &lt;property name=\"current_session_context_class\"&gt;thread&lt;/property&gt;\n\n    &lt;!-- Disable the second-level cache  --&gt;\n    &lt;property name=\"cache.provider_class\"&gt;org.hibernate.cache.internal.NoCacheProvider&lt;/property&gt;\n\n    &lt;!-- Echo all executed SQL to stdout --&gt;\n    &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n\n    &lt;!-- Drop and re-create the database schema on startup --&gt;\n    &lt;property name=\"hbm2ddl.auto\"&gt;update&lt;/property&gt;\n\n    &lt;mapping resource=\"com/mycompany/model/Product.hbm.xml\"/&gt;\n\n  &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>And I putted the HibernateUtil.java file under util folder (src/util) and here is its content</p>\n\n<pre><code>    package util;\n\nimport org.hibernate.SessionFactory;\nimport org.hibernate.cfg.Configuration;\n\npublic class HibernateUtil\n{\n    private static final SessionFactory sessionFactory = buildSessionFactory();\n\n    private static SessionFactory buildSessionFactory()\n    {\n        try\n        {\n            // Create the SessionFactory from hibernate.cfg.xml\n            return new Configuration().configure(\"hibernate.cgf.xml\").buildSessionFactory();\n        }\n        catch (Throwable ex) {\n            // Make sure you log the exception, as it might be swallowed\n            System.err.println(\"Initial SessionFactory creation failed.\" + ex);\n            throw new ExceptionInInitializerError(ex);\n        }\n    }\n\n    public static SessionFactory getSessionFactory() {\n        return sessionFactory;\n    }\n\n    public static void shutdown() {\n        // Close caches and connection pools\n        getSessionFactory().close();\n    }\n}\n</code></pre>\n\n<p>I also have the Jars added to the build path.</p>\n\n<p>My class Test.java :</p>\n\n<pre><code>    import ...\n\n\npublic class Test {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        ProductDao pd = new ProductDao();\n\n        try {\n\n            Product p = new Product(\"PC\", 1000L);\n\n            pd.add(p);\n\n        } catch (ParseException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n\n    }\n\n}\n</code></pre>\n\n<p>The add method :</p>\n\n<p>public void add(Product p) {</p>\n\n<pre><code>Session session = HibernateUtil.getSessionFactory().openSession();\nTransaction tx = session.beginTransaction();\nsession.beginTransaction();\nsession.save(p);\ntx.commit();\n</code></pre>\n\n<p>}</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1699635105,"post_id":77461582,"comment_id":136560955,"body_markdown":"I&#39;m afraid you&#39;ll need some kind of `UnaryEither` (inspired by [`UnaryOperator`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/UnaryOperator.html) which is a `Function&lt;T, T&gt;`).","body":"I&#39;m afraid you&#39;ll need some kind of <code>UnaryEither</code> (inspired by <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/UnaryOperator.html\" rel=\"nofollow noreferrer\"><code>UnaryOperator</code></a> which is a <code>Function&lt;T, T&gt;</code>)."},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1699635436,"post_id":77461582,"comment_id":136560998,"body_markdown":"@sp00m I don&#39;t follow. Could you be more specific? Or provide at least part of an example of how to apply it to improve the `convergeHacked()` method?","body":"@sp00m I don&#39;t follow. Could you be more specific? Or provide at least part of an example of how to apply it to improve the <code>convergeHacked()</code> method?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1699636155,"post_id":77461582,"comment_id":136561118,"body_markdown":"My eyes hurt from the abuse of these types. This is such a bad idea. Virtually none of the existing libraries work like this (does `java.util.Map.get` return `Optional` or `Either`? It does not. It never will.)","body":"My eyes hurt from the abuse of these types. This is such a bad idea. Virtually none of the existing libraries work like this (does <code>java.util.Map.get</code> return <code>Optional</code> or <code>Either</code>? It does not. It never will.)"},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":1,"creation_date":1699637677,"post_id":77461582,"comment_id":136561324,"body_markdown":"@rzwitserloot The current Java architects are now explicitly biased in moving towards FP style, which includes reducing and/or eliminating the use of `null` with proper types like `Optional` and `Either`. IOW, 2004 OOP called, and said to give back their `Map.get()`-returns-null-pattern.","body":"@rzwitserloot The current Java architects are now explicitly biased in moving towards FP style, which includes reducing and/or eliminating the use of <code>null</code> with proper types like <code>Optional</code> and <code>Either</code>. IOW, 2004 OOP called, and said to give back their <code>Map.get()</code>-returns-null-pattern."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1699639230,"post_id":77461582,"comment_id":136561548,"body_markdown":"@chaotic3quilibrium and if you explain how team OpenJDK is going to fix `java.util.Map.get` or point at discussion that they are even thinking about it, I will take that comment seriously. Until then, whether they are &#39;now explicitly biased in moving towards FP style&#39; or not - the answer is clearly &#39;they are not&#39; in regards to e.g. map.get.","body":"@chaotic3quilibrium and if you explain how team OpenJDK is going to fix <code>java.util.Map.get</code> or point at discussion that they are even thinking about it, I will take that comment seriously. Until then, whether they are &#39;now explicitly biased in moving towards FP style&#39; or not - the answer is clearly &#39;they are not&#39; in regards to e.g. map.get."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1699642624,"post_id":77461582,"comment_id":136562114,"body_markdown":"@chaotic3quilibrium I believe sp00m is saying you&#39;ll need a `UnaryEither&lt;T&gt; extends Either&lt;T, T&gt;` class if you want a type-safe no-parameter `converge()` method that returns a single type (and this `converge()` method would only exist in the `UnaryEither` class, not the `Either` class).","body":"@chaotic3quilibrium I believe sp00m is saying you&#39;ll need a <code>UnaryEither&lt;T&gt; extends Either&lt;T, T&gt;</code> class if you want a type-safe no-parameter <code>converge()</code> method that returns a single type (and this <code>converge()</code> method would only exist in the <code>UnaryEither</code> class, not the <code>Either</code> class)."},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1699643817,"post_id":77461582,"comment_id":136562264,"body_markdown":"As I mentioned in a comment on @rzwitserloot&#39;s Answer, if I could move to Vavr (https://www.vavr.io), I would do so and use their Scala-inspired `Option` instead of Java&#39;s insufficient `Optional`. Vavr hasn&#39;t reached a final 1.0 state, and remains in beta. Once it is out, I will likely flip most of my Java projects over to using it.","body":"As I mentioned in a comment on @rzwitserloot&#39;s Answer, if I could move to Vavr (<a href=\"https://www.vavr.io\" rel=\"nofollow noreferrer\">vavr.io</a>), I would do so and use their Scala-inspired <code>Option</code> instead of Java&#39;s insufficient <code>Optional</code>. Vavr hasn&#39;t reached a final 1.0 state, and remains in beta. Once it is out, I will likely flip most of my Java projects over to using it."}],"answers":[{"comments":[{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1699642936,"post_id":77461945,"comment_id":136562158,"body_markdown":"Disregarding the arrogant ranting nature of your reply, you have been very helpful. I appreciate your taking the time to write out the various solutions. I finally stumbled upon your &quot;this mess&quot; solution right after I posted, which got me past my runtime issue. And I like your compile-time solution using the static method. Awesome stuff! Again, tysvm!","body":"Disregarding the arrogant ranting nature of your reply, you have been very helpful. I appreciate your taking the time to write out the various solutions. I finally stumbled upon your &quot;this mess&quot; solution right after I posted, which got me past my runtime issue. And I like your compile-time solution using the static method. Awesome stuff! Again, tysvm!"},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1699643053,"post_id":77461945,"comment_id":136562170,"body_markdown":"BTW, I totally agree with you about not liking the reflection-based solution (which, as you pointed out, is fundamentally broken). That is what literally motivated me to post a question. I didn&#39;t like the hacked nature of it. I even named it so that it was clear it was hacky.","body":"BTW, I totally agree with you about not liking the reflection-based solution (which, as you pointed out, is fundamentally broken). That is what literally motivated me to post a question. I didn&#39;t like the hacked nature of it. I even named it so that it was clear it was hacky."},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":2,"creation_date":1699643268,"post_id":77461945,"comment_id":136562200,"body_markdown":"And we&#39;re going to fundamentally disagree about `Optional`. I come from a decade of Scala. I am going to leverage what I learned there in Java. It&#39;s too bad that the JDK architects didn&#39;t go all the way to the level of the Scala `Option` (or Haskell `Maybe`). I would very much prefer to entirely switch to Vavr (https://www.vavr.io) as my FP foundation in Java. I will if/when it finally matures to a full 1.0 release (still in a beta, very stable mind you, but still beta state).","body":"And we&#39;re going to fundamentally disagree about <code>Optional</code>. I come from a decade of Scala. I am going to leverage what I learned there in Java. It&#39;s too bad that the JDK architects didn&#39;t go all the way to the level of the Scala <code>Option</code> (or Haskell <code>Maybe</code>). I would very much prefer to entirely switch to Vavr (<a href=\"https://www.vavr.io\" rel=\"nofollow noreferrer\">vavr.io</a>) as my FP foundation in Java. I will if/when it finally matures to a full 1.0 release (still in a beta, very stable mind you, but still beta state)."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1699649034,"post_id":77461945,"comment_id":136562927,"body_markdown":"As the saying goes, when in Rome, act like Romans. You can write &#39;java-style&#39; python code. You can write erlang style PHP. You can just write your java variables `underscore_separated_style` instead of `camelCaseStyle` if you come from python and that is just more readable to you. But, don&#39;t. Almost all programmers I know would agree that this is bad. Objectively, there are reasons too: Needless increase in learning curve, hard to interop with others in the community. Which this approach is going to suffer from, _heavily_. But, you do you. I&#39;m glad this answer has been of some use :)","body":"As the saying goes, when in Rome, act like Romans. You can write &#39;java-style&#39; python code. You can write erlang style PHP. You can just write your java variables <code>underscore_separated_style</code> instead of <code>camelCaseStyle</code> if you come from python and that is just more readable to you. But, don&#39;t. Almost all programmers I know would agree that this is bad. Objectively, there are reasons too: Needless increase in learning curve, hard to interop with others in the community. Which this approach is going to suffer from, <i>heavily</i>. But, you do you. I&#39;m glad this answer has been of some use :)"},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1699993529,"post_id":77461945,"comment_id":136599731,"body_markdown":"Ah, you are part of that bureaucratic core of old Java heads that desire as little change as possible. Nulls are going out of style. Fluent FP is coming, and stylistically taking over. And keeping Java adaptive and fresh in the face of that will inevitably happen. And I am one of those on the left side of the FP and fluent style adoption curve. There is no stopping us. Just the slow bleed off of those holding on to the status quo: https://www.flickr.com/photos/jurgenappelo/5201275209","body":"Ah, you are part of that bureaucratic core of old Java heads that desire as little change as possible. Nulls are going out of style. Fluent FP is coming, and stylistically taking over. And keeping Java adaptive and fresh in the face of that will inevitably happen. And I am one of those on the left side of the FP and fluent style adoption curve. There is no stopping us. Just the slow bleed off of those holding on to the status quo: <a href=\"https://www.flickr.com/photos/jurgenappelo/5201275209\" rel=\"nofollow noreferrer\">flickr.com/photos/jurgenappelo/5201275209</a>"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1699993919,"post_id":77461945,"comment_id":136599777,"body_markdown":"And you call _me_ arrogant, then use &quot;There is no stopping us&quot;. sjeesh. Buy a mirror.","body":"And you call <i>me</i> arrogant, then use &quot;There is no stopping us&quot;. sjeesh. Buy a mirror."},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1699994586,"post_id":77461945,"comment_id":136599889,"body_markdown":"LOL! Yeah. It feels really good, doesn&#39;t it?! ;P","body":"LOL! Yeah. It feels really good, doesn&#39;t it?! ;P"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699638527,"creation_date":1699638527,"answer_id":77461945,"question_id":77461582,"body_markdown":"## Fragile? No, broken.\r\n\r\n```\r\npublic &lt;T&gt; Optional&lt;T&gt; convergeHacked() {\r\n  return this.left.getClass().getTypeParameters()[0].getClass() ==\r\n      this.right.getClass().getTypeParameters()[0].getClass()\r\n      ? (Optional&lt;T&gt;) (this.left.isPresent()\r\n          ? left.get()\r\n          : right.get())\r\n      : Optional.empty();\r\n}\r\n```\r\n\r\nGenerics erasure is not some sort of middle finger to java programmers. It has a purpose and you can&#39;t get around it if only you toss enough reflection in there. It results in the above code which seems fine __but it does nothing at all__:\r\n\r\n`this.left.getClass()` will return, obviously, `java.util.Optional`. Never any subtype of it - `Optional` is `final`!\r\n\r\nTherefore `this.left.getClass().getTypeParameters[0]` will return an object representing `T`. __Literally__. Not what it actually is (you can&#39;t get around erasure, stop trying!) - the literal T. So, that whole if block is trivially useless - __it is always true__. It is simply impossible to write code for that to fail. You can and should try that - make an `Either` where the two types aren&#39;t homogenous and watch how that safety measure you added doesn&#39;t work at all.\r\n\r\n## A sidetrack rant\r\n\r\nAll of this is a really bad idea. And your own code perhaps best explains why you should toss all this in the bin and stop being so scared of null pointers:\r\n\r\n```\r\nreturn this.left.getClass().getTypeParameters()[0].getClass() ==\r\n      this.right.getClass().getTypeParameters()[0].getClass()\r\n      ? (Optional&lt;T&gt;) (this.left.isPresent()\r\n          ? left.get()\r\n          : right.get())\r\n      : Optional.empty(); // THIS LINE\r\n}\r\n```\r\n\r\nThat line never triggers (see previous section), but the intent is clear: You want a call to `.converge()` to just silently return an empty optional if the either isn&#39;t homogenous.\r\n\r\nAnd that highlights everything that is wrong with this mindset. &quot;When things aren&#39;t like you expect, silently do nothing&quot; is a common effect of overuse of optionals (it&#39;s what happens when you call `.map` on an optional after all: If the optional is empty, nothing happens. Silently.)\r\n\r\nan NPE points exactly at where a programmer messed up an assumption. It&#39;s one of those 1000 ducks and a horse questions, except this one does have an answer: What&#39;s better? 1 bug that takes 2 hours to fix, or 10 bugs that take 5 minutes each?\r\n\r\nObjectively, there&#39;s only one correct answer to that question. You want the 10 bugs; you fix em in less than half the time, after all.\r\n\r\n## The missing java feature you need to make this work\r\n\r\nWhat you&#39;re effectively looking for is the concept of a homogenous either. That, or the most common shared subtype - given an `Either&lt;Integer, Double&gt; either;`, for example, you want `either.converge()` to be an expression of type `Number` (given that you don&#39;t know if it&#39;s a left-handed either or a right-handed one). Thus, you want to capture that notion.\r\n\r\nWhich you are trying with `&lt;T extends L&amp;R&gt;` but javac won&#39;t let you declare that. Because java&#39;s generics were never meant to hack fundamentally culturally incompatible concepts&lt;sup&gt;1&lt;/sup&gt; into java. Also, it&#39;s wrong. You want T to be the opposite! You&#39;re looking for `L extends T &amp; R extends T` (isntead of `T extends L &amp; T extends R` - though neither is valid java). Given e.g. `Either&lt;Integer, Double&gt;` you don&#39;t want a `T` that is both Integer and Double (no such type exist or can exist). You want a T such that both Integer and Double are that T (i.e. Number, or Object). i.e. `T super L &amp; R`. Which still isn&#39;t valid java.\r\n\r\nWe have now arrived at something that is perhaps JEP-able (java enhancement proposal): There is no real reason `&lt;T super L &amp; R&gt;` couldn&#39;t work. It&#39;s syntactically available (currently, that is a syntax error, i.e. it&#39;s free without breaking existing code to now define that it does mean something), and semantically there&#39;s no real problem here either. Object still trivially always &#39;works&#39;, and possibly something more specific would.\r\n\r\n## `static` methods can do this though!\r\n\r\nWeirdly, perhaps, this works fine:\r\n\r\n```\r\npublic static &lt;T&gt; T converge(Either&lt;? extends T, ? extends T&gt; either) {\r\n  if (either.left.isPresent()) return either.left.get();\r\n  return either.right.get();\r\n}\r\n```\r\n\r\nYou can&#39;t use `.orElseGet`, but that code compiles with zero warnings and does _exactly_ what you want:\r\n\r\n```\r\nvar ei = new Either&lt;Integer, Double&gt;(Optional.empty(), Optional.of(5.5));\r\nNumber n = Either.converge(ei); // works, compiles, no warnings!\r\nSystem.out.println(&quot;We got: &quot; + n); // prints &quot;We got: 5.5&quot;\r\n```\r\n\r\n## Hackery?\r\n\r\nYou can always resort to this mess:\r\n\r\n```\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\npublic &lt;T&gt; T converge() {\r\n  if (left.isPresent()) return (T) left.get();\r\n  return (T) right.get();\r\n}\r\n```\r\n\r\nit &#39;works&#39;:\r\n\r\n```\r\nvar ei = new Either&lt;Integer, Double&gt;(Optional.empty(), Optional.of(5.5));\r\nNumber n = ei.converge(); // works, compiles, no warnings!\r\nSystem.out.println(&quot;We got: &quot; + n); // prints &quot;We got: 5.5&quot;\r\n```\r\n\r\nunfortunately it &#39;works&#39; a little too well:\r\n\r\n```\r\nvar ei = new Either&lt;Integer, Double&gt;(Optional.empty(), Optional.of(5.5));\r\nString n = ei.converge(); // works, compiles, no warnings... ???\r\nSystem.out.println(&quot;We got: &quot; + n); // throws a class cast exception\r\n```\r\n\r\nWe _wanted_ a compiler error here. Instead we get a runtime error only. Also, if you try to use `ei.converge()` as parameter to another method it won&#39;t type properly either.\r\n\r\nThere&#39;s no way I can think of to make this work without either breaking the type system or resorting to using a `static` method.\r\n\r\n## A dedicated subtype\r\n\r\nThis is one way out:\r\n\r\n```\r\nclass UnaryEither&lt;T&gt; extends Either&lt;T, T&gt; {\r\n  public UnaryEither(Optional&lt;T&gt; left, Optional&lt;T&gt; right) {\r\n    super(left, right);\r\n  }\r\n\r\n  public UnaryEither(Either&lt;T, T&gt; source) {\r\n    super(source.left, source.right);\r\n  }\r\n\r\n  public T converge() {\r\n    return this.converge(Function.identity(), Function.identity());\r\n  }\r\n}\r\n```\r\n\r\n... but I doubt it&#39;s what you&#39;re looking for; it requires callers to make their homogenous eithers explicitly with `new UnaryEither(...)`.\r\n\r\n## A second java feature that could have made this work\r\n\r\nAnother JEP-able approach would be this syntax:\r\n\r\n```\r\npublic &lt;T&gt; converge(Either&lt;? extends T, ? extends T&gt; this) { ... }\r\n```\r\n\r\nBut that&#39;s not going to compile either. Having a fake first param named `this` is actually legal java, but it __must__ be an exact match (`void foo(Either&lt;L, R&gt; this) {}` is valid - try it!). The parameter does absolutely nothing, doesn&#39;t count as a real parameter, and this language feature exists _only_ so you can stick annotations onto the receiver. But, a JEP could expand on it just to let you bind typevars like this. A second potential java feature that is backwards compatible in all relevant ways which would help here, but doesn&#39;t (yet?) exist.\r\n\r\n## But, really. Garbage bin.\r\n\r\nIf you write methods that take optionals as parameters, you&#39;re doing it wrong.\r\n\r\n-----\r\n\r\n[1] Optional, Either, vavr, and all that jazz is fundamentally not java, because a ton of existing API out there should use it _if_ that is to be how java is written (trivial example: `java.util.Map` has a `get()` method. Surely that method should return `Optional&lt;V&gt;` if this is how java is to be written). Except, you can&#39;t just change the signatures of existing APIs without declaring bankruptcy and starting fresh with java2. Which isn&#39;t going to happen, which means java will __never__ be like this. Hence, all you&#39;re accomplishing is that your code base works one way, and the core libraries along with most of the deps your projects use work in another way. You&#39;ve just increased the friction and learning curve. __Even if__ (big if!) we presume that this style is somehow objectively superior, you haven&#39;t actually accomplished a superior codebase because it isn&#39;t a complete transformation and cannot ever be. At least, unless java2 really does happen or some future java release just outright breaks everything and rewrites e.g. `map.get` to return `Optional&lt;T&gt;`.","title":"How to solve a Java generics issue at runtime for an Either.converge() method","body":"<h2>Fragile? No, broken.</h2>\n<pre><code>public &lt;T&gt; Optional&lt;T&gt; convergeHacked() {\n  return this.left.getClass().getTypeParameters()[0].getClass() ==\n      this.right.getClass().getTypeParameters()[0].getClass()\n      ? (Optional&lt;T&gt;) (this.left.isPresent()\n          ? left.get()\n          : right.get())\n      : Optional.empty();\n}\n</code></pre>\n<p>Generics erasure is not some sort of middle finger to java programmers. It has a purpose and you can't get around it if only you toss enough reflection in there. It results in the above code which seems fine <strong>but it does nothing at all</strong>:</p>\n<p><code>this.left.getClass()</code> will return, obviously, <code>java.util.Optional</code>. Never any subtype of it - <code>Optional</code> is <code>final</code>!</p>\n<p>Therefore <code>this.left.getClass().getTypeParameters[0]</code> will return an object representing <code>T</code>. <strong>Literally</strong>. Not what it actually is (you can't get around erasure, stop trying!) - the literal T. So, that whole if block is trivially useless - <strong>it is always true</strong>. It is simply impossible to write code for that to fail. You can and should try that - make an <code>Either</code> where the two types aren't homogenous and watch how that safety measure you added doesn't work at all.</p>\n<h2>A sidetrack rant</h2>\n<p>All of this is a really bad idea. And your own code perhaps best explains why you should toss all this in the bin and stop being so scared of null pointers:</p>\n<pre><code>return this.left.getClass().getTypeParameters()[0].getClass() ==\n      this.right.getClass().getTypeParameters()[0].getClass()\n      ? (Optional&lt;T&gt;) (this.left.isPresent()\n          ? left.get()\n          : right.get())\n      : Optional.empty(); // THIS LINE\n}\n</code></pre>\n<p>That line never triggers (see previous section), but the intent is clear: You want a call to <code>.converge()</code> to just silently return an empty optional if the either isn't homogenous.</p>\n<p>And that highlights everything that is wrong with this mindset. &quot;When things aren't like you expect, silently do nothing&quot; is a common effect of overuse of optionals (it's what happens when you call <code>.map</code> on an optional after all: If the optional is empty, nothing happens. Silently.)</p>\n<p>an NPE points exactly at where a programmer messed up an assumption. It's one of those 1000 ducks and a horse questions, except this one does have an answer: What's better? 1 bug that takes 2 hours to fix, or 10 bugs that take 5 minutes each?</p>\n<p>Objectively, there's only one correct answer to that question. You want the 10 bugs; you fix em in less than half the time, after all.</p>\n<h2>The missing java feature you need to make this work</h2>\n<p>What you're effectively looking for is the concept of a homogenous either. That, or the most common shared subtype - given an <code>Either&lt;Integer, Double&gt; either;</code>, for example, you want <code>either.converge()</code> to be an expression of type <code>Number</code> (given that you don't know if it's a left-handed either or a right-handed one). Thus, you want to capture that notion.</p>\n<p>Which you are trying with <code>&lt;T extends L&amp;R&gt;</code> but javac won't let you declare that. Because java's generics were never meant to hack fundamentally culturally incompatible concepts<sup>1</sup> into java. Also, it's wrong. You want T to be the opposite! You're looking for <code>L extends T &amp; R extends T</code> (isntead of <code>T extends L &amp; T extends R</code> - though neither is valid java). Given e.g. <code>Either&lt;Integer, Double&gt;</code> you don't want a <code>T</code> that is both Integer and Double (no such type exist or can exist). You want a T such that both Integer and Double are that T (i.e. Number, or Object). i.e. <code>T super L &amp; R</code>. Which still isn't valid java.</p>\n<p>We have now arrived at something that is perhaps JEP-able (java enhancement proposal): There is no real reason <code>&lt;T super L &amp; R&gt;</code> couldn't work. It's syntactically available (currently, that is a syntax error, i.e. it's free without breaking existing code to now define that it does mean something), and semantically there's no real problem here either. Object still trivially always 'works', and possibly something more specific would.</p>\n<h2><code>static</code> methods can do this though!</h2>\n<p>Weirdly, perhaps, this works fine:</p>\n<pre><code>public static &lt;T&gt; T converge(Either&lt;? extends T, ? extends T&gt; either) {\n  if (either.left.isPresent()) return either.left.get();\n  return either.right.get();\n}\n</code></pre>\n<p>You can't use <code>.orElseGet</code>, but that code compiles with zero warnings and does <em>exactly</em> what you want:</p>\n<pre><code>var ei = new Either&lt;Integer, Double&gt;(Optional.empty(), Optional.of(5.5));\nNumber n = Either.converge(ei); // works, compiles, no warnings!\nSystem.out.println(&quot;We got: &quot; + n); // prints &quot;We got: 5.5&quot;\n</code></pre>\n<h2>Hackery?</h2>\n<p>You can always resort to this mess:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\npublic &lt;T&gt; T converge() {\n  if (left.isPresent()) return (T) left.get();\n  return (T) right.get();\n}\n</code></pre>\n<p>it 'works':</p>\n<pre><code>var ei = new Either&lt;Integer, Double&gt;(Optional.empty(), Optional.of(5.5));\nNumber n = ei.converge(); // works, compiles, no warnings!\nSystem.out.println(&quot;We got: &quot; + n); // prints &quot;We got: 5.5&quot;\n</code></pre>\n<p>unfortunately it 'works' a little too well:</p>\n<pre><code>var ei = new Either&lt;Integer, Double&gt;(Optional.empty(), Optional.of(5.5));\nString n = ei.converge(); // works, compiles, no warnings... ???\nSystem.out.println(&quot;We got: &quot; + n); // throws a class cast exception\n</code></pre>\n<p>We <em>wanted</em> a compiler error here. Instead we get a runtime error only. Also, if you try to use <code>ei.converge()</code> as parameter to another method it won't type properly either.</p>\n<p>There's no way I can think of to make this work without either breaking the type system or resorting to using a <code>static</code> method.</p>\n<h2>A dedicated subtype</h2>\n<p>This is one way out:</p>\n<pre><code>class UnaryEither&lt;T&gt; extends Either&lt;T, T&gt; {\n  public UnaryEither(Optional&lt;T&gt; left, Optional&lt;T&gt; right) {\n    super(left, right);\n  }\n\n  public UnaryEither(Either&lt;T, T&gt; source) {\n    super(source.left, source.right);\n  }\n\n  public T converge() {\n    return this.converge(Function.identity(), Function.identity());\n  }\n}\n</code></pre>\n<p>... but I doubt it's what you're looking for; it requires callers to make their homogenous eithers explicitly with <code>new UnaryEither(...)</code>.</p>\n<h2>A second java feature that could have made this work</h2>\n<p>Another JEP-able approach would be this syntax:</p>\n<pre><code>public &lt;T&gt; converge(Either&lt;? extends T, ? extends T&gt; this) { ... }\n</code></pre>\n<p>But that's not going to compile either. Having a fake first param named <code>this</code> is actually legal java, but it <strong>must</strong> be an exact match (<code>void foo(Either&lt;L, R&gt; this) {}</code> is valid - try it!). The parameter does absolutely nothing, doesn't count as a real parameter, and this language feature exists <em>only</em> so you can stick annotations onto the receiver. But, a JEP could expand on it just to let you bind typevars like this. A second potential java feature that is backwards compatible in all relevant ways which would help here, but doesn't (yet?) exist.</p>\n<h2>But, really. Garbage bin.</h2>\n<p>If you write methods that take optionals as parameters, you're doing it wrong.</p>\n<hr />\n<p>[1] Optional, Either, vavr, and all that jazz is fundamentally not java, because a ton of existing API out there should use it <em>if</em> that is to be how java is written (trivial example: <code>java.util.Map</code> has a <code>get()</code> method. Surely that method should return <code>Optional&lt;V&gt;</code> if this is how java is to be written). Except, you can't just change the signatures of existing APIs without declaring bankruptcy and starting fresh with java2. Which isn't going to happen, which means java will <strong>never</strong> be like this. Hence, all you're accomplishing is that your code base works one way, and the core libraries along with most of the deps your projects use work in another way. You've just increased the friction and learning curve. <strong>Even if</strong> (big if!) we presume that this style is somehow objectively superior, you haven't actually accomplished a superior codebase because it isn't a complete transformation and cannot ever be. At least, unless java2 really does happen or some future java release just outright breaks everything and rewrites e.g. <code>map.get</code> to return <code>Optional&lt;T&gt;</code>.</p>\n"}],"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77461945,"answer_count":1,"score":0,"last_activity_date":1699735050,"creation_date":1699634424,"question_id":77461582,"body_markdown":"**UPDATE:** Thanks to [rzwitserloot&#39;s][1] answer, I am in total agreement that my original attempted solution via reflection is terrible and should be avoided.\r\n\r\nAfter exploring the static method solution included in rzwitserloot&#39;s [Answer][2], I&#39;ve now moved to this solution:\r\n```java\r\npublic &lt;T&gt; T converge() {\r\n  return (T) converge(this);\r\n}\r\n\r\npublic static &lt;T&gt; T converge(Either&lt;? extends T, ? extends T&gt; either) {\r\n  return either.left.isPresent()\r\n      ? either.left.get()\r\n      : either.right.get();\r\n}\r\n```\r\n\r\n----------\r\n\r\nGiven this severely shortened `Either` class (the [full version][3] on GitHub with full javadocs)...\r\n```java\r\npublic final class Either&lt;L, R&gt; {\r\n  private final Optional&lt;L&gt; left;\r\n  private final Optional&lt;R&gt; right;\r\n\r\n  public Either(Optional&lt;L&gt; left, Optional&lt;R&gt; right) {\r\n    if (left.isEmpty() == right.isEmpty()) {\r\n      throw new IllegalArgumentException(&quot;left.isEmpty() must not be equal to right.isEmpty()&quot;);\r\n    }\r\n    this.left = left.map(Objects::requireNonNull);\r\n    this.right = right.map(Objects::requireNonNull);;\r\n  }\r\n\r\n  public &lt;T&gt; T converge(\r\n      Function&lt;? super L, ? extends T&gt; leftFunction,\r\n      Function&lt;? super R, ? extends T&gt; rightFunction\r\n  ) {\r\n    Objects.requireNonNull(leftFunction);\r\n    Objects.requireNonNull(rightFunction);\r\n\r\n    return this.right\r\n        .&lt;T&gt;map(r -&gt; Objects.requireNonNull(rightFunction.apply(r)))\r\n        .orElseGet(() -&gt;\r\n            this.left\r\n                .map(l -&gt; Objects.requireNonNull(leftFunction.apply(l)))\r\n                .orElseThrow(() -&gt; new IllegalStateException(&quot;should never get here&quot;)));\r\n  }\r\n}\r\n```\r\n\r\nI noticed that I was making the same call to `converge(Function.identity(), Function.identity())`, repeatedly:\r\n```java\r\nEither&lt;Integer, Integer&gt; either = ...;\r\n//...\r\nvar t = either.converge(Function.identity(), Function.identity());\r\n```\r\n\r\nSo, in the interest of DRYing (Don&#39;t Repeat Yourself) out the client code, I wanted to add a parameterless `converge()` function like this... \r\n```java\r\npublic &lt;T extends L &amp; R&gt; T convergeDesired() {\r\n  return left.isPresent()\r\n      ? left.get()\r\n      : right.get();\r\n}\r\n```\r\nThis solution causes a compiler error, and seems to be thwarted by the Java generics issue [detailed here][4].\r\n\r\nBecause `R` can be a class, it breaks the generics rule of limiting extending `T` to a single class, which, if provided, must also be first. There is no way to know ahead of time if the `Either` is composed of two classes, or that `L` is an interface and `R` is a class.\r\n\r\nThe hacked solution (below) seems extremely fragile. I&#39;m trying to understand what options there are, if any, to improve it to behave more like the `convergeDesired()` method defined above.\r\n```java\r\npublic &lt;T&gt; Optional&lt;T&gt; convergeHacked() {\r\n  return this.left.getClass().getTypeParameters()[0].getClass() ==\r\n      this.right.getClass().getTypeParameters()[0].getClass()\r\n      ? (Optional&lt;T&gt;) (this.left.isPresent()\r\n          ? left.get()\r\n          : right.get())\r\n      : Optional.empty();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/768644/rzwitserloot\r\n  [2]: https://stackoverflow.com/a/77461945/501113\r\n  [3]: https://gist.github.com/chaotic3quilibrium/8b5116dbc2957cfea22032924935f10e\r\n  [4]: https://stackoverflow.com/a/30829160/501113","title":"How to solve a Java generics issue at runtime for an Either.converge() method","body":"<p><strong>UPDATE:</strong> Thanks to <a href=\"https://stackoverflow.com/users/768644/rzwitserloot\">rzwitserloot's</a> answer, I am in total agreement that my original attempted solution via reflection is terrible and should be avoided.</p>\n<p>After exploring the static method solution included in rzwitserloot's <a href=\"https://stackoverflow.com/a/77461945/501113\">Answer</a>, I've now moved to this solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; T converge() {\n  return (T) converge(this);\n}\n\npublic static &lt;T&gt; T converge(Either&lt;? extends T, ? extends T&gt; either) {\n  return either.left.isPresent()\n      ? either.left.get()\n      : either.right.get();\n}\n</code></pre>\n<hr />\n<p>Given this severely shortened <code>Either</code> class (the <a href=\"https://gist.github.com/chaotic3quilibrium/8b5116dbc2957cfea22032924935f10e\" rel=\"nofollow noreferrer\">full version</a> on GitHub with full javadocs)...</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Either&lt;L, R&gt; {\n  private final Optional&lt;L&gt; left;\n  private final Optional&lt;R&gt; right;\n\n  public Either(Optional&lt;L&gt; left, Optional&lt;R&gt; right) {\n    if (left.isEmpty() == right.isEmpty()) {\n      throw new IllegalArgumentException(&quot;left.isEmpty() must not be equal to right.isEmpty()&quot;);\n    }\n    this.left = left.map(Objects::requireNonNull);\n    this.right = right.map(Objects::requireNonNull);;\n  }\n\n  public &lt;T&gt; T converge(\n      Function&lt;? super L, ? extends T&gt; leftFunction,\n      Function&lt;? super R, ? extends T&gt; rightFunction\n  ) {\n    Objects.requireNonNull(leftFunction);\n    Objects.requireNonNull(rightFunction);\n\n    return this.right\n        .&lt;T&gt;map(r -&gt; Objects.requireNonNull(rightFunction.apply(r)))\n        .orElseGet(() -&gt;\n            this.left\n                .map(l -&gt; Objects.requireNonNull(leftFunction.apply(l)))\n                .orElseThrow(() -&gt; new IllegalStateException(&quot;should never get here&quot;)));\n  }\n}\n</code></pre>\n<p>I noticed that I was making the same call to <code>converge(Function.identity(), Function.identity())</code>, repeatedly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Either&lt;Integer, Integer&gt; either = ...;\n//...\nvar t = either.converge(Function.identity(), Function.identity());\n</code></pre>\n<p>So, in the interest of DRYing (Don't Repeat Yourself) out the client code, I wanted to add a parameterless <code>converge()</code> function like this...</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T extends L &amp; R&gt; T convergeDesired() {\n  return left.isPresent()\n      ? left.get()\n      : right.get();\n}\n</code></pre>\n<p>This solution causes a compiler error, and seems to be thwarted by the Java generics issue <a href=\"https://stackoverflow.com/a/30829160/501113\">detailed here</a>.</p>\n<p>Because <code>R</code> can be a class, it breaks the generics rule of limiting extending <code>T</code> to a single class, which, if provided, must also be first. There is no way to know ahead of time if the <code>Either</code> is composed of two classes, or that <code>L</code> is an interface and <code>R</code> is a class.</p>\n<p>The hacked solution (below) seems extremely fragile. I'm trying to understand what options there are, if any, to improve it to behave more like the <code>convergeDesired()</code> method defined above.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; Optional&lt;T&gt; convergeHacked() {\n  return this.left.getClass().getTypeParameters()[0].getClass() ==\n      this.right.getClass().getTypeParameters()[0].getClass()\n      ? (Optional&lt;T&gt;) (this.left.isPresent()\n          ? left.get()\n          : right.get())\n      : Optional.empty();\n}\n</code></pre>\n"},{"tags":["java","firebase-realtime-database","android-recyclerview"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1699734203,"post_id":77466566,"comment_id":136569555,"body_markdown":"When an app crashes, it writes an error message and stack trace to its logcat. Please find those, and add them to your question by clicking the `edit` link under it. Also see https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this and https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors","body":"When an app crashes, it writes an error message and stack trace to its logcat. Please find those, and add them to your question by clicking the <code>edit</code> link under it. Also see <a href=\"https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this\" title=\"unfortunately myapp has stopped how can i solve this\">stackoverflow.com/questions/23353173/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\" title=\"what is a stack trace and how can i use it to debug my application errors\">stackoverflow.com/questions/3988788/&hellip;</a>"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1699794044,"post_id":77466566,"comment_id":136573463,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."}],"owner":{"account_id":29880904,"reputation":1,"user_id":22899857,"display_name":"Luchmun Rhadesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699734158,"creation_date":1699731277,"question_id":77466566,"body_markdown":"MainActivity\r\n\r\n```java\r\nMain activity:package com.example.recyclerview2;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.google.firebase.FirebaseApp;\r\nimport com.google.firebase.database.*;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n//    DatabaseReference reference;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        RecyclerView recyclerView = findViewById(R.id.recyclerview);\r\n        ArrayList&lt;AppointmentRequest&gt; list = new ArrayList&lt;&gt;();\r\n\r\n        // Firebase Realtime Database URL\r\n        String databaseUrl = &quot;https://recyclerview2-58202-default-rtdb.firebaseio.com/&quot;;\r\n\r\n        // Reference to the &quot;Appointments&quot; node\r\n        DatabaseReference appointmentsRef = FirebaseDatabase.getInstance(databaseUrl).getReference(&quot;Appointments&quot;);\r\n\r\n        // Initialize ArrayList to store AppointmentRequest objects\r\n        ArrayList&lt;AppointmentRequest&gt; appointmentsList = new ArrayList&lt;&gt;();\r\n\r\n        // Add a ValueEventListener to retrieve data\r\n        appointmentsRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                for (DataSnapshot appointmentSnapshot : dataSnapshot.getChildren()) {\r\n                    // Convert each child of &quot;Appointments&quot; to an AppointmentRequest object\r\n                    AppointmentRequest appointment = appointmentSnapshot.getValue(AppointmentRequest.class);\r\n                    if (appointment != null) {\r\n                        appointmentsList.add(appointment);\r\n                    }\r\n                }\r\n\r\n                // Do something with the retrieved data\r\n                for (AppointmentRequest appointment : appointmentsList) {\r\n                    list.add(appointment);\r\n                }\r\n\r\n                // Update UI on the main thread\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        recyclerView.getAdapter().notifyDataSetChanged();\r\n                    }\r\n                });\r\n\r\n            }\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                System.err.println(&quot;Error reading data: &quot; + databaseError.getMessage());\r\n            }\r\n        });\r\n\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(MainActivity.this));\r\n        recyclerView.setAdapter(new MyAdapter(getApplicationContext(),list));\r\n\r\n    }\r\n} \r\n```\r\n\r\nMyadapter:\r\n\r\n```java\r\npackage com.example.recyclerview2;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyViewHolder&gt; {\r\n\r\n    Context context;\r\n    ArrayList&lt;AppointmentRequest&gt; list;\r\n\r\n    public MyAdapter(Context context, ArrayList&lt;AppointmentRequest&gt; list) {\r\n        this.context = context;\r\n        this.list = list;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        return new MyViewHolder(LayoutInflater.from(context).inflate(R.layout.item_view,parent,false));\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        if (list != null &amp;&amp; list.size() &gt; position) {\r\n            AppointmentRequest appointment = list.get(position);\r\n            holder.name.setText(appointment.getPatientName());\r\n\r\n            // Assuming your AppointmentRequest class has getDate() and getStartTime() methods\r\n            holder.date.setText(appointment.getDate());\r\n            holder.time.setText(appointment.getStartTime());\r\n\r\n        } else {\r\n            // Handle the case where the list or its elements are null\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n}\r\n```\r\n\r\nMyViewHolder:\r\n\r\n```java\r\npackage com.example.recyclerview2;\r\n\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\npublic class MyViewHolder extends RecyclerView.ViewHolder {\r\n    TextView date, name, time;\r\n    public MyViewHolder(@NonNull View itemView) {\r\n        super(itemView);\r\n        date = itemView.findViewById(R.id.date);\r\n        name = itemView.findViewById(R.id.patientName);\r\n        time = itemView.findViewById(R.id.time);\r\n    }\r\n}\r\n```\r\nDatabase:\r\nThe problem is that as soon as I log in, instead of showing data it draws me back to the login activity. Seems like the query and all doesn&#39;t work.\r\n\r\n\r\n\r\nthe code works with local appointrequest object. it is only crashing when I am getting the data from the realtime database. Please let me know what I can change.\r\n\r\n![enter image description here](https://i.stack.imgur.com/GRBA4.png)","title":"Recycler view not working when getting arraylist from realtime database","body":"<p>MainActivity</p>\n<pre class=\"lang-java prettyprint-override\"><code>Main activity:package com.example.recyclerview2;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.google.firebase.FirebaseApp;\nimport com.google.firebase.database.*;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Toast;\n\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity {\n//    DatabaseReference reference;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        RecyclerView recyclerView = findViewById(R.id.recyclerview);\n        ArrayList&lt;AppointmentRequest&gt; list = new ArrayList&lt;&gt;();\n\n        // Firebase Realtime Database URL\n        String databaseUrl = &quot;https://recyclerview2-58202-default-rtdb.firebaseio.com/&quot;;\n\n        // Reference to the &quot;Appointments&quot; node\n        DatabaseReference appointmentsRef = FirebaseDatabase.getInstance(databaseUrl).getReference(&quot;Appointments&quot;);\n\n        // Initialize ArrayList to store AppointmentRequest objects\n        ArrayList&lt;AppointmentRequest&gt; appointmentsList = new ArrayList&lt;&gt;();\n\n        // Add a ValueEventListener to retrieve data\n        appointmentsRef.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                for (DataSnapshot appointmentSnapshot : dataSnapshot.getChildren()) {\n                    // Convert each child of &quot;Appointments&quot; to an AppointmentRequest object\n                    AppointmentRequest appointment = appointmentSnapshot.getValue(AppointmentRequest.class);\n                    if (appointment != null) {\n                        appointmentsList.add(appointment);\n                    }\n                }\n\n                // Do something with the retrieved data\n                for (AppointmentRequest appointment : appointmentsList) {\n                    list.add(appointment);\n                }\n\n                // Update UI on the main thread\n                runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        recyclerView.getAdapter().notifyDataSetChanged();\n                    }\n                });\n\n            }\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n                System.err.println(&quot;Error reading data: &quot; + databaseError.getMessage());\n            }\n        });\n\n        recyclerView.setLayoutManager(new LinearLayoutManager(MainActivity.this));\n        recyclerView.setAdapter(new MyAdapter(getApplicationContext(),list));\n\n    }\n} \n</code></pre>\n<p>Myadapter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.recyclerview2;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyViewHolder&gt; {\n\n    Context context;\n    ArrayList&lt;AppointmentRequest&gt; list;\n\n    public MyAdapter(Context context, ArrayList&lt;AppointmentRequest&gt; list) {\n        this.context = context;\n        this.list = list;\n    }\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        return new MyViewHolder(LayoutInflater.from(context).inflate(R.layout.item_view,parent,false));\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        if (list != null &amp;&amp; list.size() &gt; position) {\n            AppointmentRequest appointment = list.get(position);\n            holder.name.setText(appointment.getPatientName());\n\n            // Assuming your AppointmentRequest class has getDate() and getStartTime() methods\n            holder.date.setText(appointment.getDate());\n            holder.time.setText(appointment.getStartTime());\n\n        } else {\n            // Handle the case where the list or its elements are null\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n}\n</code></pre>\n<p>MyViewHolder:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.recyclerview2;\n\nimport android.view.View;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\npublic class MyViewHolder extends RecyclerView.ViewHolder {\n    TextView date, name, time;\n    public MyViewHolder(@NonNull View itemView) {\n        super(itemView);\n        date = itemView.findViewById(R.id.date);\n        name = itemView.findViewById(R.id.patientName);\n        time = itemView.findViewById(R.id.time);\n    }\n}\n</code></pre>\n<p>Database:\nThe problem is that as soon as I log in, instead of showing data it draws me back to the login activity. Seems like the query and all doesn't work.</p>\n<p>the code works with local appointrequest object. it is only crashing when I am getting the data from the realtime database. Please let me know what I can change.</p>\n<p><img src=\"https://i.stack.imgur.com/GRBA4.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","fxml","fxmlloader"],"answers":[{"tags":[],"owner":{"account_id":14126013,"reputation":411,"user_id":10205276,"display_name":"Ondřej Fischer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534350277,"creation_date":1534350277,"answer_id":51862626,"question_id":51861967,"body_markdown":"The reason is in the root cause exception. It cannot find the `IceCreamScene.fxml`.\r\nCheck, that the file exists in proper location.\r\n\r\nYour app is looking for it in this path:\r\n`/Volumes/OSTIUM/Labs/CAPSTONE/IceCreamScene.fxml`","title":"Exception in Application start method java.lang.reflect.InvocationTargetException at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)","body":"<p>The reason is in the root cause exception. It cannot find the <code>IceCreamScene.fxml</code>.\nCheck, that the file exists in proper location.</p>\n\n<p>Your app is looking for it in this path:\n<code>/Volumes/OSTIUM/Labs/CAPSTONE/IceCreamScene.fxml</code></p>\n"}],"owner":{"account_id":14160537,"reputation":21,"user_id":10229970,"display_name":"Adrian Pati&#241;o"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15816,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699732825,"creation_date":1534347672,"question_id":51861967,"body_markdown":"\r\nI am having trouble finding what to fix in my fxml/java code, this is the whole error:\r\n\r\n\r\n    \r\n\r\n&gt; java.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\r\n\tat com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:767)\r\n     Caused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\r\n\tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$154(LauncherImpl.java:182)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n       Caused by: javafx.fxml.LoadException: No controller specified.\r\n      /Volumes/OSTIUM/Labs/CAPSTONE/IceCreamScene.fxml:23\r\n\tat javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2597)\r\n\tat javafx.fxml.FXMLLoader.access$100(FXMLLoader.java:103)\r\n\tat javafx.fxml.FXMLLoader$Element.getControllerMethodHandle(FXMLLoader.java:557)\r\n\tat javafx.fxml.FXMLLoader$Element.processEventHandlerAttributes(FXMLLoader.java:599)\r\n\tat javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:770)\r\n\tat javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2823)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2532)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2441)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3214)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3175)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3148)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3124)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3104)\r\n\tat javafx.fxml.FXMLLoader.load(FXMLLoader.java:3097)\r\n\tat IceCreamRUN.start(IceCreamRUN.java:11)\r\n\tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$161(LauncherImpl.java:863)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runAndWait$174(PlatformImpl.java:326)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$null$172(PlatformImpl.java:295)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runLater$173(PlatformImpl.java:294)\r\n\tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n\r\n\r\nI have been looking throught the &#39;RUN&#39; and &#39;Control&#39; code to try anf find the mistake and im not finding anything.These are the code for the &#39;RUN&#39; program and the &#39;Control&#39;\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n\r\n    public class IceCreamRUN extends Application\r\n     {\r\n      public void start (Stage stage ) throws Exception\r\n       {\r\n      Parent parent = \r\n      FXMLLoader.load(getClass().getResource(&quot;IceCreamScene.fxml&quot;));\r\n      Scene scene = new Scene(parent);\r\n      stage.setTitle(&quot;Patino&#39;s Ice Cream Shop&quot;);\r\n      stage.setScene(scene);\r\n      stage.show();\r\n      \r\n       }\r\n      public static void main(String [] args)\r\n       {\r\n      launch(args);\r\n       }\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.CheckBox;\r\n    import javafx.scene.control.RadioButton;\r\n    import javafx.scene.control.ToggleGroup;\r\n    import javafx.scene.control.Alert;\r\n    import javafx.scene.control.Alert.AlertType;\r\n    import java.io.*;\r\n    import java.util.Scanner;\r\n\r\n     public class IceCreamControl {\r\n\r\n    //declarations\r\n\r\n    @FXML\r\n    private RadioButton Vanilla;\r\n\r\n    @FXML\r\n    private ToggleGroup FlavorGroup;\r\n\r\n    @FXML\r\n    private RadioButton Choc;\r\n\r\n    @FXML\r\n    private RadioButton StrwBerry;\r\n\r\n    @FXML\r\n    private Button Save;\r\n\r\n    @FXML\r\n    private Button ReDo;\r\n\r\n    @FXML\r\n    private Button Calculate;\r\n\r\n    @FXML\r\n    private CheckBox Nuts;\r\n\r\n    @FXML\r\n    private CheckBox Cherries;\r\n    \r\n    double creamcost = 0.0;\r\n    double extra = 0.0;\r\n    \r\n    //processing\r\n\r\n    @FXML\r\n    void CalculateListener() \r\n    {\r\n          double sub, tax, total;\r\n          double taxRate = 0.06;\r\n       \r\n          sub = VanillaListener() + ChocolateListener() + \r\n                    StrawberryListener() \r\n                       + ExtraListener();\r\n          tax = sub * taxRate;\r\n          total = sub + tax;\r\n          \r\n          Alert alert = new Alert (AlertType.INFORMATION);\r\n          alert.setHeaderText(String.format(&quot;Total: $ %.2f&quot;, total));\r\n          alert.setContentText(String.format(&quot;Order: $ %.2f\\nTax: %.2f\\n \r\n          Total: $ %.2f&quot;, sub, tax, total));\r\n          alert.setTitle(&quot;Your Order&quot;);\r\n          alert.showAndWait();\r\n      }\r\n\r\n    @FXML\r\n    double ExtraListener() \r\n    {\r\n          extra = 0.0;\r\n          if(Cherries.isSelected())\r\n             extra += 0.50;\r\n          if(Nuts.isSelected())\r\n             extra += 0.50;\r\n          \r\n          return extra;\r\n    }\r\n\r\n    @FXML\r\n    void ReDoListener() throws IOException \r\n    {\r\n       String order;\r\n       creamcost = 0.0;\r\n       extra = 0.0;\r\n       Nuts.setSelected(false);\r\n       Cherries.setSelected(false);\r\n       Vanilla.setSelected(false);\r\n       Choc.setSelected(false);\r\n       StrwBerry.setSelected(false);\r\n       \r\n       File file = new File (&quot;IcecreamSave.txt&quot;);\r\n       Scanner inputFile = new Scanner (file);\r\n       \r\n       while(inputFile.hasNext())\r\n          {\r\n             order = inputFile.nextLine();\r\n             if (order.charAt(0) == &#39;v&#39;)\r\n                {\r\n                   Vanilla.setSelected(true);\r\n                   creamcost = 2.25;\r\n                }\r\n             if (order.charAt(0) == &#39;c&#39;)\r\n                {\r\n                   Choc.setSelected(true);\r\n                   creamcost = 2.25;\r\n                }\r\n             if (order.charAt(0) == &#39;s&#39;)\r\n                {\r\n                   StrwBerry.setSelected(true);\r\n                   creamcost = 2.25;\r\n                }\r\n          }\r\n       inputFile.close();\r\n    }\r\n\r\n    @FXML\r\n    void SaveListener() throws IOException \r\n    {\r\n    PrintWriter outputfile = new PrintWriter (&quot;IcecreamSave.txt&quot;);\r\n\r\n    if(Vanilla.isSelected())\r\n      outputfile.println(&quot;vanilla&quot;); \r\n    if(Choc.isSelected())\r\n      outputfile.println(&quot;chocolate&quot;);\r\n    if(StrwBerry.isSelected())\r\n      outputfile.println(&quot;strawberry&quot;);\r\n    if (Nuts.isSelected())\r\n      outputfile.println(&quot;nuts&quot;);\r\n    if(Cherries.isSelected())\r\n      outputfile.println(&quot;cherry&quot;);\r\n          \r\n    outputfile.close();\r\n    }\r\n\r\n    @FXML\r\n    double StrawberryListener() \r\n    {\r\n    if (StrwBerry.isSelected())\r\n        creamcost = 2.25;\r\n       else creamcost = 0.0;\r\n      return creamcost;\r\n    }\r\n\r\n    @FXML\r\n    double VanillaListener() \r\n    {\r\n    if (Vanilla.isSelected())\r\n        creamcost = 2.25;\r\n       else creamcost = 0.0;\r\n      return creamcost;\r\n    }\r\n    \r\n    @FXML\r\n    double ChocolateListener() \r\n    {\r\n    if (Choc.isSelected())\r\n        creamcost = 2.25;\r\n       else creamcost = 0.0;\r\n      return creamcost;\r\n       }\r\n\r\n    }\r\n\r\n\r\nI would appreciate help finding the mistake immensely.\r\n\r\n\r\n----------\r\n\r\n\r\n----------\r\n\r\n\r\n----------\r\n\r\nUpdate: I fixed the location but got a new error;\r\n\r\n     &gt; Aug 15, 2018 1:28:21 PM javafx.fxml.FXMLLoader$ValueElement \r\n     processValue\r\n     WARNING: Loading FXML document with JavaFX API of version 10.0.1 by \r\n     JavaFX runtime of version 8.0.171\r\n     Exception in Application start method\r\n     java.lang.reflect.InvocationTargetException\r\n\t at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t at \r\n sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:     62)\r\n\t at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImp     l.java:43)\r\n\t at java.lang.reflect.Method.invoke(Method.java:498)\r\n\t at \r\ncom.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherI     mpl.java:389)\r\n\tat com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:767)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\r\n\tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$154(LauncherImpl.java:182)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: javafx.fxml.LoadException: No controller specified.\r\n/Volumes/OSTIUM/Labs/CAPSTONE/IceCreamScene.fxml:22\r\n\r\n\tat javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2597)\r\n\tat javafx.fxml.FXMLLoader.access$100(FXMLLoader.java:103)\r\n\tat javafx.fxml.FXMLLoader$Element.getControllerMethodHandle(FXMLLoader.java:557)\r\n\tat javafx.fxml.FXMLLoader$Element.processEventHandlerAttributes(FXMLLoader.java:599)\r\n\tat javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:770)\r\n\tat javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2823)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2532)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2441)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3214)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3175)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3148)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3124)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3104)\r\n\tat javafx.fxml.FXMLLoader.load(FXMLLoader.java:3097)\r\n\tat IceCreamRUN.start(IceCreamRUN.java:11)\r\n\tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$161(LauncherImpl.java:863)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runAndWait$174(PlatformImpl.java:326)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$null$172(PlatformImpl.java:295)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runLater$173(PlatformImpl.java:294)\r\n\tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\nException running application IceCreamRUN\r\n\r\n\r\n","title":"Exception in Application start method java.lang.reflect.InvocationTargetException at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)","body":"<p>I am having trouble finding what to fix in my fxml/java code, this is the whole error:</p>\n\n<blockquote>\n  <p>java.lang.reflect.InvocationTargetException\n      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n      at java.lang.reflect.Method.invoke(Method.java:498)\n      at com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\n      at com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\n      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n      at java.lang.reflect.Method.invoke(Method.java:498)\n      at sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:767)\n       Caused by: java.lang.RuntimeException: Exception in Application start method\n      at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\n      at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$154(LauncherImpl.java:182)\n      at java.lang.Thread.run(Thread.java:748)\n         Caused by: javafx.fxml.LoadException: No controller specified.\n        /Volumes/OSTIUM/Labs/CAPSTONE/IceCreamScene.fxml:23\n      at javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2597)\n      at javafx.fxml.FXMLLoader.access$100(FXMLLoader.java:103)\n      at javafx.fxml.FXMLLoader$Element.getControllerMethodHandle(FXMLLoader.java:557)\n      at javafx.fxml.FXMLLoader$Element.processEventHandlerAttributes(FXMLLoader.java:599)\n      at javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:770)\n      at javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2823)\n      at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2532)\n      at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2441)\n      at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3214)\n      at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3175)\n      at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3148)\n      at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3124)\n      at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3104)\n      at javafx.fxml.FXMLLoader.load(FXMLLoader.java:3097)\n      at IceCreamRUN.start(IceCreamRUN.java:11)\n      at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$161(LauncherImpl.java:863)\n      at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$174(PlatformImpl.java:326)\n      at com.sun.javafx.application.PlatformImpl.lambda$null$172(PlatformImpl.java:295)\n      at java.security.AccessController.doPrivileged(Native Method)\n      at com.sun.javafx.application.PlatformImpl.lambda$runLater$173(PlatformImpl.java:294)\n      at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)</p>\n</blockquote>\n\n<p>I have been looking throught the 'RUN' and 'Control' code to try anf find the mistake and im not finding anything.These are the code for the 'RUN' program and the 'Control'</p>\n\n<pre><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class IceCreamRUN extends Application\n {\n  public void start (Stage stage ) throws Exception\n   {\n  Parent parent = \n  FXMLLoader.load(getClass().getResource(\"IceCreamScene.fxml\"));\n  Scene scene = new Scene(parent);\n  stage.setTitle(\"Patino's Ice Cream Shop\");\n  stage.setScene(scene);\n  stage.show();\n\n   }\n  public static void main(String [] args)\n   {\n  launch(args);\n   }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>import javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.CheckBox;\nimport javafx.scene.control.RadioButton;\nimport javafx.scene.control.ToggleGroup;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Alert.AlertType;\nimport java.io.*;\nimport java.util.Scanner;\n\n public class IceCreamControl {\n\n//declarations\n\n@FXML\nprivate RadioButton Vanilla;\n\n@FXML\nprivate ToggleGroup FlavorGroup;\n\n@FXML\nprivate RadioButton Choc;\n\n@FXML\nprivate RadioButton StrwBerry;\n\n@FXML\nprivate Button Save;\n\n@FXML\nprivate Button ReDo;\n\n@FXML\nprivate Button Calculate;\n\n@FXML\nprivate CheckBox Nuts;\n\n@FXML\nprivate CheckBox Cherries;\n\ndouble creamcost = 0.0;\ndouble extra = 0.0;\n\n//processing\n\n@FXML\nvoid CalculateListener() \n{\n      double sub, tax, total;\n      double taxRate = 0.06;\n\n      sub = VanillaListener() + ChocolateListener() + \n                StrawberryListener() \n                   + ExtraListener();\n      tax = sub * taxRate;\n      total = sub + tax;\n\n      Alert alert = new Alert (AlertType.INFORMATION);\n      alert.setHeaderText(String.format(\"Total: $ %.2f\", total));\n      alert.setContentText(String.format(\"Order: $ %.2f\\nTax: %.2f\\n \n      Total: $ %.2f\", sub, tax, total));\n      alert.setTitle(\"Your Order\");\n      alert.showAndWait();\n  }\n\n@FXML\ndouble ExtraListener() \n{\n      extra = 0.0;\n      if(Cherries.isSelected())\n         extra += 0.50;\n      if(Nuts.isSelected())\n         extra += 0.50;\n\n      return extra;\n}\n\n@FXML\nvoid ReDoListener() throws IOException \n{\n   String order;\n   creamcost = 0.0;\n   extra = 0.0;\n   Nuts.setSelected(false);\n   Cherries.setSelected(false);\n   Vanilla.setSelected(false);\n   Choc.setSelected(false);\n   StrwBerry.setSelected(false);\n\n   File file = new File (\"IcecreamSave.txt\");\n   Scanner inputFile = new Scanner (file);\n\n   while(inputFile.hasNext())\n      {\n         order = inputFile.nextLine();\n         if (order.charAt(0) == 'v')\n            {\n               Vanilla.setSelected(true);\n               creamcost = 2.25;\n            }\n         if (order.charAt(0) == 'c')\n            {\n               Choc.setSelected(true);\n               creamcost = 2.25;\n            }\n         if (order.charAt(0) == 's')\n            {\n               StrwBerry.setSelected(true);\n               creamcost = 2.25;\n            }\n      }\n   inputFile.close();\n}\n\n@FXML\nvoid SaveListener() throws IOException \n{\nPrintWriter outputfile = new PrintWriter (\"IcecreamSave.txt\");\n\nif(Vanilla.isSelected())\n  outputfile.println(\"vanilla\"); \nif(Choc.isSelected())\n  outputfile.println(\"chocolate\");\nif(StrwBerry.isSelected())\n  outputfile.println(\"strawberry\");\nif (Nuts.isSelected())\n  outputfile.println(\"nuts\");\nif(Cherries.isSelected())\n  outputfile.println(\"cherry\");\n\noutputfile.close();\n}\n\n@FXML\ndouble StrawberryListener() \n{\nif (StrwBerry.isSelected())\n    creamcost = 2.25;\n   else creamcost = 0.0;\n  return creamcost;\n}\n\n@FXML\ndouble VanillaListener() \n{\nif (Vanilla.isSelected())\n    creamcost = 2.25;\n   else creamcost = 0.0;\n  return creamcost;\n}\n\n@FXML\ndouble ChocolateListener() \n{\nif (Choc.isSelected())\n    creamcost = 2.25;\n   else creamcost = 0.0;\n  return creamcost;\n   }\n\n}\n</code></pre>\n\n<p>I would appreciate help finding the mistake immensely.</p>\n\n<hr>\n\n<hr>\n\n<hr>\n\n<p>Update: I fixed the location but got a new error;</p>\n\n<pre><code> &gt; Aug 15, 2018 1:28:21 PM javafx.fxml.FXMLLoader$ValueElement \n processValue\n WARNING: Loading FXML document with JavaFX API of version 10.0.1 by \n JavaFX runtime of version 8.0.171\n Exception in Application start method\n java.lang.reflect.InvocationTargetException\n at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n at \n</code></pre>\n\n<p>sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:     62)\n     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImp     l.java:43)\n     at java.lang.reflect.Method.invoke(Method.java:498)\n     at \ncom.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherI     mpl.java:389)\n    at com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:767)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$154(LauncherImpl.java:182)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: javafx.fxml.LoadException: No controller specified.\n/Volumes/OSTIUM/Labs/CAPSTONE/IceCreamScene.fxml:22</p>\n\n<pre><code>at javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2597)\nat javafx.fxml.FXMLLoader.access$100(FXMLLoader.java:103)\nat javafx.fxml.FXMLLoader$Element.getControllerMethodHandle(FXMLLoader.java:557)\nat javafx.fxml.FXMLLoader$Element.processEventHandlerAttributes(FXMLLoader.java:599)\nat javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:770)\nat javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2823)\nat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2532)\nat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2441)\nat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3214)\nat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3175)\nat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3148)\nat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3124)\nat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3104)\nat javafx.fxml.FXMLLoader.load(FXMLLoader.java:3097)\nat IceCreamRUN.start(IceCreamRUN.java:11)\nat com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$161(LauncherImpl.java:863)\nat com.sun.javafx.application.PlatformImpl.lambda$runAndWait$174(PlatformImpl.java:326)\nat com.sun.javafx.application.PlatformImpl.lambda$null$172(PlatformImpl.java:295)\nat java.security.AccessController.doPrivileged(Native Method)\nat com.sun.javafx.application.PlatformImpl.lambda$runLater$173(PlatformImpl.java:294)\nat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n</code></pre>\n\n<p>Exception running application IceCreamRUN</p>\n"},{"tags":["java","jenkins","sonarqube","jenkins-agent"],"comments":[{"owner":{"account_id":1864817,"reputation":1943,"user_id":1688639,"accept_rate":64,"display_name":"jokarl"},"score":1,"creation_date":1495011585,"post_id":44019945,"comment_id":75067369,"body_markdown":"You are probably targeting a newer version of Java than your project supports.","body":"You are probably targeting a newer version of Java than your project supports."},{"owner":{"account_id":6378595,"reputation":1966,"user_id":4948798,"accept_rate":75,"display_name":"user4948798"},"score":0,"creation_date":1495011800,"post_id":44019945,"comment_id":75067497,"body_markdown":"I have tried with java version &quot;1.7.0_121&quot; and openjdk version &quot;1.8.0_111&quot;.","body":"I have tried with java version &quot;1.7.0_121&quot; and openjdk version &quot;1.8.0_111&quot;."}],"answers":[{"comments":[{"owner":{"account_id":7545668,"reputation":321,"user_id":7990477,"display_name":"Denis Ismailovski"},"score":0,"creation_date":1495016666,"post_id":44020219,"comment_id":75070867,"body_markdown":"Need to be sure  the Java version 8 is in your path when you launch Jenkins.\n\nThe server have both Java 7 and 8 installed.","body":"Need to be sure  the Java version 8 is in your path when you launch Jenkins.  The server have both Java 7 and 8 installed."},{"owner":{"account_id":6378595,"reputation":1966,"user_id":4948798,"accept_rate":75,"display_name":"user4948798"},"score":0,"creation_date":1495077500,"post_id":44020219,"comment_id":75102368,"body_markdown":"Hi Denis, My Jenkins slave machine has below variables,\n\nJAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\nJRE_HOME=/usr/lib/jvm/java-8-openjdk-amd64/jre\nPATH=$JAVA_HOME/bin:$JRE_HOME/bin:$PATH\n\nStill it fails.","body":"Hi Denis, My Jenkins slave machine has below variables,  JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64 JRE_HOME=/usr/lib/jvm/java-8-openjdk-amd64/jre PATH=$JAVA_HOME/bin:$JRE_HOME/bin:$PATH  Still it fails."},{"owner":{"account_id":7545668,"reputation":321,"user_id":7990477,"display_name":"Denis Ismailovski"},"score":0,"creation_date":1495086280,"post_id":44020219,"comment_id":75104905,"body_markdown":"If you keep have this issue you can write a JenkinsFile to force set JAVA_HOME 1.7 for the test part and 1.8 for Sonarqube","body":"If you keep have this issue you can write a JenkinsFile to force set JAVA_HOME 1.7 for the test part and 1.8 for Sonarqube"},{"owner":{"account_id":6378595,"reputation":1966,"user_id":4948798,"accept_rate":75,"display_name":"user4948798"},"score":1,"creation_date":1498112617,"post_id":44020219,"comment_id":76366573,"body_markdown":"Problem solved by adding the JENKINS_JAVA_CMD environment variable and pointing to Java-1.8 path on Node/Slave Machine.","body":"Problem solved by adding the JENKINS_JAVA_CMD environment variable and pointing to Java-1.8 path on Node/Slave Machine."}],"tags":[],"owner":{"account_id":7545668,"reputation":321,"user_id":7990477,"display_name":"Denis Ismailovski"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1495011790,"creation_date":1495011790,"answer_id":44020219,"question_id":44019945,"body_markdown":"The issue is because of Java version mismatch. From the Wikipedia Java Class Reference  you can fin all the codes:    J2SE 8 = 52,J2SE 7 = 51,J2SE 6.0 = 50,J2SE 5.0 = 49\r\n   \r\nThis error is caused becaused you are using a lower JDK at runtime (probably 7) than 8 that is the one used to compile that version of Jenkins","title":"Jenkins-SonarRunnerInstallation - Unsupported major.minor version 52.0","body":"<p>The issue is because of Java version mismatch. From the Wikipedia Java Class Reference  you can fin all the codes:    J2SE 8 = 52,J2SE 7 = 51,J2SE 6.0 = 50,J2SE 5.0 = 49</p>\n\n<p>This error is caused becaused you are using a lower JDK at runtime (probably 7) than 8 that is the one used to compile that version of Jenkins</p>\n"}],"owner":{"account_id":6378595,"reputation":1966,"user_id":4948798,"accept_rate":75,"display_name":"user4948798"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3871,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1699732814,"creation_date":1495011049,"question_id":44019945,"body_markdown":"I have problem with Jenkins – Execute SonarQube Scanner Build Option.\r\n\r\n**Our Environment details as follows:**\r\n\r\n     - Jenkins controller Server OS: Ubuntu-12.04 LTS-64 Bit. \r\n     - controller Server Jenkins Version: 2.46.2 \r\n     - SonarQube Scanner Plugin for Jenkins -Version - 2.6.1 \r\n     - Build Type: controller and agent based.  \r\n     - Agent Machine: Ubuntu-14.04-LTS (64-Bit)  \r\n     - SonarQube Server Version - 5.1 (64-Bit)  \r\n     - Sonar-runner version 2.4  \r\n     - Agent Machine Java Version – 1.8\r\n\r\n**Problem Description:-** I have defined the `sonar.project.properties` information under the “Analysis properties” category in Jenkins controller server itself, When I tried to execute the same through it fails with below errors.java.lang.UnsupportedClassVersionError: \r\n\r\n    hudson/plugins/sonar/SonarRunnerInstallation$1 : Unsupported major.minor version 52.0 at java.lang.ClassLoader.defineClass1(Native Method)\r\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:803)\r\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:643)\r\n    Caused: java.lang.ClassFormatError: Failed to load hudson.plugins.sonar.SonarRunnerInstallation$1","title":"Jenkins-SonarRunnerInstallation - Unsupported major.minor version 52.0","body":"<p>I have problem with Jenkins – Execute SonarQube Scanner Build Option.</p>\n<p><strong>Our Environment details as follows:</strong></p>\n<pre><code> - Jenkins controller Server OS: Ubuntu-12.04 LTS-64 Bit. \n - controller Server Jenkins Version: 2.46.2 \n - SonarQube Scanner Plugin for Jenkins -Version - 2.6.1 \n - Build Type: controller and agent based.  \n - Agent Machine: Ubuntu-14.04-LTS (64-Bit)  \n - SonarQube Server Version - 5.1 (64-Bit)  \n - Sonar-runner version 2.4  \n - Agent Machine Java Version – 1.8\n</code></pre>\n<p><strong>Problem Description:-</strong> I have defined the <code>sonar.project.properties</code> information under the “Analysis properties” category in Jenkins controller server itself, When I tried to execute the same through it fails with below errors.java.lang.UnsupportedClassVersionError:</p>\n<pre><code>hudson/plugins/sonar/SonarRunnerInstallation$1 : Unsupported major.minor version 52.0 at java.lang.ClassLoader.defineClass1(Native Method)\nat java.lang.ClassLoader.defineClass(ClassLoader.java:803)\nat java.lang.ClassLoader.defineClass(ClassLoader.java:643)\nCaused: java.lang.ClassFormatError: Failed to load hudson.plugins.sonar.SonarRunnerInstallation$1\n</code></pre>\n"},{"tags":["java","timezone"],"comments":[{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":3,"creation_date":1415878784,"post_id":26908043,"comment_id":42366106,"body_markdown":"Please show some code.","body":"Please show some code."},{"owner":{"account_id":1943032,"reputation":173,"user_id":1756500,"accept_rate":29,"display_name":"Syamala"},"score":0,"creation_date":1415893912,"post_id":26908043,"comment_id":42375160,"body_markdown":"public static void main(final String[] args) {\n        final TimeZone tzone = TimeZone.getDefault();\n\n        System.out.println(&quot;Default Time Zone ID - &quot; + tzone.getID());\n        System.out.println(&quot;Default Time Zone Offset - (&quot; +\n            (tzone.getRawOffset() / 60 / 60 / 1000) + &quot;) hour.&quot;);\n          } I have set my machine timezone Mosco St.Petrs Burg timezone UTC+3 . But the time timezone offset printing with the above code :Default Time Zone ID - Europe/Moscow\nDefault Time Zone Offset - (4) hour.","body":"public static void main(final String[] args) {         final TimeZone tzone = TimeZone.getDefault();          System.out.println(&quot;Default Time Zone ID - &quot; + tzone.getID());         System.out.println(&quot;Default Time Zone Offset - (&quot; +             (tzone.getRawOffset() / 60 / 60 / 1000) + &quot;) hour.&quot;);           } I have set my machine timezone Mosco St.Petrs Burg timezone UTC+3 . But the time timezone offset printing with the above code :Default Time Zone ID - Europe/Moscow Default Time Zone Offset - (4) hour."}],"answers":[{"comments":[{"owner":{"account_id":1943032,"reputation":173,"user_id":1756500,"accept_rate":29,"display_name":"Syamala"},"score":0,"creation_date":1415977511,"post_id":26909269,"comment_id":42410543,"body_markdown":"Thank you, Scott Dudley.","body":"Thank you, Scott Dudley."}],"tags":[],"owner":{"account_id":2559174,"reputation":3256,"user_id":2220556,"display_name":"Scott Dudley"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1415882923,"creation_date":1415882923,"answer_id":26909269,"question_id":26908043,"body_markdown":"I notice that there was a [legislative change][1] to Russian time zone definitions in October 2014; chances are that your JRE simply doesn&#39;t know about it yet.\n\nThe Java [Timezone Updater Utility][2] should be able to fix this for you. As time passes, the updated time zone definitions should also eventually get included by default in newer JREs (although that admittedly doesn&#39;t help you right now).\n\n  [1]: http://www.bbc.com/news/world-europe-29773559\n  [2]: http://www.oracle.com/technetwork/java/javase/tzupdater-readme-136440.html","title":"Getting incorrect time leading by 1 hour with Europe/Moscow timezone","body":"<p>I notice that there was a <a href=\"http://www.bbc.com/news/world-europe-29773559\" rel=\"noreferrer\">legislative change</a> to Russian time zone definitions in October 2014; chances are that your JRE simply doesn't know about it yet.</p>\n\n<p>The Java <a href=\"http://www.oracle.com/technetwork/java/javase/tzupdater-readme-136440.html\" rel=\"noreferrer\">Timezone Updater Utility</a> should be able to fix this for you. As time passes, the updated time zone definitions should also eventually get included by default in newer JREs (although that admittedly doesn't help you right now).</p>\n"},{"comments":[{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1625665582,"post_id":29792369,"comment_id":120687729,"body_markdown":"In Java 8 it is `TimeZone.getTimeZone(&quot;Europe/Moscow&quot;);`, thanks.","body":"In Java 8 it is <code>TimeZone.getTimeZone(&quot;Europe&#47;Moscow&quot;);</code>, thanks."}],"tags":[],"owner":{"account_id":6183829,"reputation":51,"user_id":4818505,"display_name":"HugeShi"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1429692777,"creation_date":1429692777,"answer_id":29792369,"question_id":26908043,"body_markdown":"you can use the joda-time api, version need greater than 2.5.because joda-time api update the timezone db after Russian time zone change from version 2.5.\r\n\r\n    Date timestamp = sdf.parse(&quot;11/17/2014 06:13:19&quot;);\r\n\r\n\tTimeZone timezone = TimeZone.getTimeZone(&quot;Europe/Moscow&quot;);\r\n\r\n\tDateTimeZone tz = DateTimeZone.forTimeZone(timezone);\r\n\r\n\tDateTime jodaDateTime = new DateTime(timestamp, tz);\r\n\r\n\tSystem.out.println(jodaDateTime.hourOfDay().get());\r\n","title":"Getting incorrect time leading by 1 hour with Europe/Moscow timezone","body":"<p>you can use the joda-time api, version need greater than 2.5.because joda-time api update the timezone db after Russian time zone change from version 2.5.</p>\n\n<pre><code>Date timestamp = sdf.parse(\"11/17/2014 06:13:19\");\n\nTimeZone timezone = TimeZone.getTimeZone(\"Europe/Moscow\");\n\nDateTimeZone tz = DateTimeZone.forTimeZone(timezone);\n\nDateTime jodaDateTime = new DateTime(timestamp, tz);\n\nSystem.out.println(jodaDateTime.hourOfDay().get());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":292165,"reputation":5455,"user_id":594765,"accept_rate":70,"display_name":"JBoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483699233,"creation_date":1483699233,"answer_id":41503886,"question_id":26908043,"body_markdown":"try threeteen\r\n\r\n    import org.threeten.bp.format.*\r\n    import org.threeten.bp.*\r\n\r\n   \r\n\r\n     DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    String timestamp = dtf.format(ZonedDateTime.ofInstant(Instant.ofEpochMilli(MILLISECONDS_VALUE_HERE), ZoneId.of(&quot;Europe/Moscow&quot;));\r\n\r\n","title":"Getting incorrect time leading by 1 hour with Europe/Moscow timezone","body":"<p>try threeteen</p>\n\n<pre><code>import org.threeten.bp.format.*\nimport org.threeten.bp.*\n\n\n\n DateTimeFormatter dtf = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\");\nString timestamp = dtf.format(ZonedDateTime.ofInstant(Instant.ofEpochMilli(MILLISECONDS_VALUE_HERE), ZoneId.of(\"Europe/Moscow\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7072358,"reputation":111,"user_id":5413551,"display_name":"Valery Oster"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1487232018,"creation_date":1487232018,"answer_id":42268069,"question_id":26908043,"body_markdown":"Java 8:\r\n\r\n     System.out.println(LocalDateTime.now(ZoneId.of(&quot;Europe/Moscow&quot;))\r\n                .format(DateTimeFormatter.ofPattern(&quot;d.MM.yyyy &#39;um&#39; HH:mm &#39;Uhr&#39;&quot;)));\r\n\r\n","title":"Getting incorrect time leading by 1 hour with Europe/Moscow timezone","body":"<p>Java 8:</p>\n\n<pre><code> System.out.println(LocalDateTime.now(ZoneId.of(\"Europe/Moscow\"))\n            .format(DateTimeFormatter.ofPattern(\"d.MM.yyyy 'um' HH:mm 'Uhr'\")));\n</code></pre>\n"}],"owner":{"account_id":1943032,"reputation":173,"user_id":1756500,"accept_rate":29,"display_name":"Syamala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25883,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":26909269,"answer_count":4,"score":15,"last_activity_date":1699732744,"creation_date":1415878684,"question_id":26908043,"body_markdown":"For our Russia tenant we are using &quot;Europe/Moscow&quot; timezone. But we are getting time with 1 hour ahead of the correct time.  \r\n\r\nEurope/Moscow is UTC+3 hours. But when I am print date formated with Europe/Moscow timezone getting 1 hour ahead of the correct time.","title":"Getting incorrect time leading by 1 hour with Europe/Moscow timezone","body":"<p>For our Russia tenant we are using &quot;Europe/Moscow&quot; timezone. But we are getting time with 1 hour ahead of the correct time.</p>\n<p>Europe/Moscow is UTC+3 hours. But when I am print date formated with Europe/Moscow timezone getting 1 hour ahead of the correct time.</p>\n"},{"tags":["java","websocket"],"owner":{"account_id":29881169,"reputation":7,"user_id":22900031,"display_name":"athul raju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1699731885,"answer_count":0,"score":-1,"last_activity_date":1699732734,"creation_date":1699731792,"question_id":77466598,"body_markdown":"\r\n**Question:**\r\n\r\nI&#39;m currently working on a Java Socket Programming project and encountering a &quot;Connection Refused&quot; error. I&#39;ve reviewed my code and can&#39;t identify the issue. Here are the relevant details:\r\n\r\n**Problem Description:**\r\nI have a server program listening on port 8080, and a client program trying to connect to it. However, I&#39;m consistently getting a &quot;Connection Refused&quot; error on the client side.\r\n\r\n**Code Snippets:**\r\n\r\n*Server Code:*\r\n```java\r\n// ServerSocket initialization\r\nServerSocket serverSocket = new ServerSocket(8080);\r\n\r\n// Accepting client connection\r\nSocket clientSocket = serverSocket.accept();\r\n```\r\n\r\n*Client Code:*\r\n```java\r\n// ClientSocket initialization\r\nSocket clientSocket = new Socket(&quot;localhost&quot;, 8080);\r\n```\r\n\r\n**Error Message:**\r\n```\r\njava.net.ConnectException: Connection refused: connect\r\n```\r\n\r\n\r\n\r\n\r\n**Troubleshooting Steps Taken:**\r\n\r\n1. Checked if the server is running and correctly listening on port 8080.\r\n2. Verified that there are no firewall issues on my machine.\r\n3. Ensured that there are no typos in the server and client code.\r\n\r\n**Additional Information:**\r\n- Operating System: Windows 10\r\n- Java Version: OpenJDK 11\r\n\r\n**Question:**\r\nWhat could be causing the &quot;Connection Refused&quot; error in this scenario, and how can I troubleshoot it further?","title":"Issue with Java Socket Programming","body":"<p><strong>Question:</strong></p>\n<p>I'm currently working on a Java Socket Programming project and encountering a &quot;Connection Refused&quot; error. I've reviewed my code and can't identify the issue. Here are the relevant details:</p>\n<p><strong>Problem Description:</strong>\nI have a server program listening on port 8080, and a client program trying to connect to it. However, I'm consistently getting a &quot;Connection Refused&quot; error on the client side.</p>\n<p><strong>Code Snippets:</strong></p>\n<p><em>Server Code:</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>// ServerSocket initialization\nServerSocket serverSocket = new ServerSocket(8080);\n\n// Accepting client connection\nSocket clientSocket = serverSocket.accept();\n</code></pre>\n<p><em>Client Code:</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>// ClientSocket initialization\nSocket clientSocket = new Socket(&quot;localhost&quot;, 8080);\n</code></pre>\n<p><strong>Error Message:</strong></p>\n<pre><code>java.net.ConnectException: Connection refused: connect\n</code></pre>\n<p><strong>Troubleshooting Steps Taken:</strong></p>\n<ol>\n<li>Checked if the server is running and correctly listening on port 8080.</li>\n<li>Verified that there are no firewall issues on my machine.</li>\n<li>Ensured that there are no typos in the server and client code.</li>\n</ol>\n<p><strong>Additional Information:</strong></p>\n<ul>\n<li>Operating System: Windows 10</li>\n<li>Java Version: OpenJDK 11</li>\n</ul>\n<p><strong>Question:</strong>\nWhat could be causing the &quot;Connection Refused&quot; error in this scenario, and how can I troubleshoot it further?</p>\n"},{"tags":["java","spring","spring-boot","mockito","junit5"],"comments":[{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1699731685,"post_id":77466481,"comment_id":136569345,"body_markdown":"Is the `businessServiceMock` a mock as the name suggests or a real instance of your service you want to test? If a mock then what is your class under test? If a real instance then you should mock the `fileStorageService`, `categoryService` and `businessRepository` set expectations against interactions with these mocks and assert the result","body":"Is the <code>businessServiceMock</code> a mock as the name suggests or a real instance of your service you want to test? If a mock then what is your class under test? If a real instance then you should mock the <code>fileStorageService</code>, <code>categoryService</code> and <code>businessRepository</code> set expectations against interactions with these mocks and assert the result"},{"owner":{"account_id":5980419,"reputation":3,"user_id":4699679,"display_name":"Aniket Mhatre"},"score":0,"creation_date":1699733516,"post_id":77466481,"comment_id":136569512,"body_markdown":"@Julian It was a mock of the original class. The expectations were also set. There was one problem with `new MockMultipartFile(&quot;TestName&quot;, new byte[]{anyByte()})` which I replaced with `byte[] arr = new byte[2];` and `new MockMultipartFile(&quot;TestName&quot;, arr)`","body":"@Julian It was a mock of the original class. The expectations were also set. There was one problem with <code>new MockMultipartFile(&quot;TestName&quot;, new byte[]{anyByte()})</code> which I replaced with <code>byte[] arr = new byte[2];</code> and <code>new MockMultipartFile(&quot;TestName&quot;, arr)</code>"},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1699734772,"post_id":77466481,"comment_id":136569588,"body_markdown":"`any` methods like `anyByte` [can&#39;t work as return values](https://stackoverflow.com/q/22822512/1426891). They only work within method calls that you use in Mockito&#39;s `when` and `verify` calls, not in a Builder or constructor (or anything else) you actually call.","body":"<code>any</code> methods like <code>anyByte</code> <a href=\"https://stackoverflow.com/q/22822512/1426891\">can&#39;t work as return values</a>. They only work within method calls that you use in Mockito&#39;s <code>when</code> and <code>verify</code> calls, not in a Builder or constructor (or anything else) you actually call."}],"answers":[{"comments":[{"owner":{"account_id":5980419,"reputation":3,"user_id":4699679,"display_name":"Aniket Mhatre"},"score":0,"creation_date":1699733187,"post_id":77466551,"comment_id":136569495,"body_markdown":"Thanks! \n`Business actualBusiness = businessServiceMock.updateBusiness(mockedBusinessRequest, 1L);` Works","body":"Thanks!  <code>Business actualBusiness = businessServiceMock.updateBusiness(mockedBusinessRequest, 1L);</code> Works"},{"owner":{"account_id":29358488,"reputation":51,"user_id":22493806,"display_name":"Matthew Sexton"},"score":0,"creation_date":1699799849,"post_id":77466551,"comment_id":136574009,"body_markdown":"Glad I could help. I highly recommend debugging in Eclipse or whatever IDE you like to use. There are some great tutorials on how to use debugging on YouTube (I recommend Coding with John). Debugging lets you step directly into Mockito.eq(1L) to see what it&#39;s doing. Happy coding!","body":"Glad I could help. I highly recommend debugging in Eclipse or whatever IDE you like to use. There are some great tutorials on how to use debugging on YouTube (I recommend Coding with John). Debugging lets you step directly into Mockito.eq(1L) to see what it&#39;s doing. Happy coding!"}],"tags":[],"owner":{"account_id":29358488,"reputation":51,"user_id":22493806,"display_name":"Matthew Sexton"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699731086,"creation_date":1699731086,"answer_id":77466551,"question_id":77466481,"body_markdown":"If you step through debug you can see that Mockito.eq(1L) is trying to compare the Object wanted in the Equals class (probably null) to your 1L. The return value will be 0 for false. You should be able to pass 1L directly into your function.","title":"Mockito.eq(1) sending value as 0 to the function","body":"<p>If you step through debug you can see that Mockito.eq(1L) is trying to compare the Object wanted in the Equals class (probably null) to your 1L. The return value will be 0 for false. You should be able to pass 1L directly into your function.</p>\n"}],"owner":{"account_id":5980419,"reputation":3,"user_id":4699679,"display_name":"Aniket Mhatre"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77466551,"answer_count":1,"score":0,"last_activity_date":1699731086,"creation_date":1699729867,"question_id":77466481,"body_markdown":"I am testing the below method using the JUnit and Mockito framework.\r\n\r\n```\r\npublic Business updateBusiness(BusinessRequest businessRequest, Long businessId) {\r\n        String fileURL = fileStorageService.uploadFileToStorage(businessRequest.getFile(), businessRequest.getEmail());\r\n        Business business = Business.builder()\r\n                .businessId(businessId)\r\n                .businessName(businessRequest.getBusinessName())\r\n                .email(businessRequest.getEmail())\r\n                .fileURL(fileURL)\r\n                .status(BusinessStatus.PENDING)\r\n                .category(categoryService.getCategoryByID(businessRequest.getCategoryId()))\r\n                .description(businessRequest.getDescription())\r\n                .build();\r\n        businessRepository.save(business);\r\n        return business;\r\n}\r\n```\r\n\r\nTest method:\r\n\r\n```\r\n@Test\r\npublic void testUpdateBusiness() {\r\n        BusinessRequest mockedBusinessRequest = BusinessRequest.builder()\r\n                .email(&quot;testEmail@dal.ca&quot;)\r\n                .businessName(&quot;TestBusinessName&quot;)\r\n                .role(Role.PARTNER)\r\n                .file(new MockMultipartFile(&quot;TestName&quot;, new byte[]{anyByte()}))\r\n                .description(&quot;TestBusinessDescription&quot;)\r\n                .categoryId(1L)\r\n                .build();\r\n        Business actualBusiness = businessServiceMock.updateBusiness(mockedBusinessRequest, Mockito.eq(1L));\r\n        Assertions.assertEquals(mockedBusiness, actualBusiness);\r\n}\r\n```\r\n\r\nHere the parameter passed as `businessId=1` but the value which coming in the method parameter variable is 0.\r\n\r\n[Expected vs Actual Business Object](https://i.stack.imgur.com/8u5zt.png)\r\n\r\nHow can I pass the value 1L to the method and also please tell the reason why even though I am passing 1L to the method it is changing to 0L.","title":"Mockito.eq(1) sending value as 0 to the function","body":"<p>I am testing the below method using the JUnit and Mockito framework.</p>\n<pre><code>public Business updateBusiness(BusinessRequest businessRequest, Long businessId) {\n        String fileURL = fileStorageService.uploadFileToStorage(businessRequest.getFile(), businessRequest.getEmail());\n        Business business = Business.builder()\n                .businessId(businessId)\n                .businessName(businessRequest.getBusinessName())\n                .email(businessRequest.getEmail())\n                .fileURL(fileURL)\n                .status(BusinessStatus.PENDING)\n                .category(categoryService.getCategoryByID(businessRequest.getCategoryId()))\n                .description(businessRequest.getDescription())\n                .build();\n        businessRepository.save(business);\n        return business;\n}\n</code></pre>\n<p>Test method:</p>\n<pre><code>@Test\npublic void testUpdateBusiness() {\n        BusinessRequest mockedBusinessRequest = BusinessRequest.builder()\n                .email(&quot;testEmail@dal.ca&quot;)\n                .businessName(&quot;TestBusinessName&quot;)\n                .role(Role.PARTNER)\n                .file(new MockMultipartFile(&quot;TestName&quot;, new byte[]{anyByte()}))\n                .description(&quot;TestBusinessDescription&quot;)\n                .categoryId(1L)\n                .build();\n        Business actualBusiness = businessServiceMock.updateBusiness(mockedBusinessRequest, Mockito.eq(1L));\n        Assertions.assertEquals(mockedBusiness, actualBusiness);\n}\n</code></pre>\n<p>Here the parameter passed as <code>businessId=1</code> but the value which coming in the method parameter variable is 0.</p>\n<p><a href=\"https://i.stack.imgur.com/8u5zt.png\" rel=\"nofollow noreferrer\">Expected vs Actual Business Object</a></p>\n<p>How can I pass the value 1L to the method and also please tell the reason why even though I am passing 1L to the method it is changing to 0L.</p>\n"},{"tags":["java","android","xml","google-maps"],"answers":[{"tags":[],"owner":{"account_id":2171879,"reputation":826,"user_id":1923640,"accept_rate":64,"display_name":"dthomasen"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1412768945,"creation_date":1412768945,"answer_id":26256214,"question_id":26255771,"body_markdown":"Try to use LinearLayout and weights:\r\n\r\n    &lt;LinearLayout\r\n     android:layout_width=&quot;match_parent&quot;\r\n     android:layout_height=&quot;match_parent&quot;\r\n     android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/map&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:name=&quot;com.google.android.gms.maps.MapFragment&quot;\r\n        android:layout_weight=&quot;4&quot;/&gt;\r\n    \r\n    &lt;EditText android:id=&quot;@+id/EditTest&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:hint=&quot;@string/EditTest&quot;\r\n        android:layout_weight=&quot;1&quot;/&gt;\r\n    \r\n    &lt;EditText android:id=&quot;@+id/inTegerTest&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:hint=&quot;@string/integerTest&quot;\r\n        android:layout_weight=&quot;1&quot;/&gt;\r\n    \r\n    &lt;Button\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:text=&quot;@string/ButtonTest&quot;\r\n        android:layout_weight=&quot;1&quot;/&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\nChange the weights according to your needs. \r\n\r\nMore info on weights: http://developer.android.com/guide/topics/ui/layout/linear.html#Weight","title":"Make google map not full screen android app","body":"<p>Try to use LinearLayout and weights:</p>\n\n<pre><code>&lt;LinearLayout\n android:layout_width=\"match_parent\"\n android:layout_height=\"match_parent\"\n android:orientation=\"vertical\"&gt;\n\n&lt;fragment\n    android:id=\"@+id/map\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"0dp\"\n    android:name=\"com.google.android.gms.maps.MapFragment\"\n    android:layout_weight=\"4\"/&gt;\n\n&lt;EditText android:id=\"@+id/EditTest\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"0dp\"\n    android:hint=\"@string/EditTest\"\n    android:layout_weight=\"1\"/&gt;\n\n&lt;EditText android:id=\"@+id/inTegerTest\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"0dp\"\n    android:hint=\"@string/integerTest\"\n    android:layout_weight=\"1\"/&gt;\n\n&lt;Button\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"0dp\"\n    android:text=\"@string/ButtonTest\"\n    android:layout_weight=\"1\"/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Change the weights according to your needs. </p>\n\n<p>More info on weights: <a href=\"http://developer.android.com/guide/topics/ui/layout/linear.html#Weight\" rel=\"noreferrer\">http://developer.android.com/guide/topics/ui/layout/linear.html#Weight</a></p>\n"},{"tags":[],"owner":{"account_id":11423928,"reputation":11,"user_id":8374573,"display_name":"Burak Sel&#231;uk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699729739,"creation_date":1699729739,"answer_id":77466473,"question_id":26255771,"body_markdown":"Build &gt; Clean project and run again. it worked for me.","title":"Make google map not full screen android app","body":"<p>Build &gt; Clean project and run again. it worked for me.</p>\n"}],"owner":{"account_id":4261138,"reputation":121,"user_id":3485470,"accept_rate":79,"display_name":"user3485470"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5114,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":26256214,"answer_count":2,"score":3,"last_activity_date":1699729739,"creation_date":1412767585,"question_id":26255771,"body_markdown":"I am trying to implement an app that shows a map with a few textfields under it and a few buttons.\r\n\r\nBut when I open the app the entire screen space is taken in by the map. Is there a way so all the objects fill the screen nicely without not hiding one?\r\n\r\nThis is the code from the activity_main xml file :\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot; &gt;\r\n    \r\n    &lt;fragment\r\n          android:id=&quot;@+id/map&quot;\r\n          android:layout_width=&quot;wrap_content&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          android:name=&quot;com.google.android.gms.maps.MapFragment&quot;/&gt;\r\n    \r\n    &lt;EditText android:id=&quot;@+id/EditTest&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;@string/EditTest&quot; /&gt;\r\n    \r\n    &lt;EditText android:id=&quot;@+id/inTegerTest&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;@string/integerTest&quot; /&gt;\r\n    \r\n    &lt;Button\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/ButtonTest&quot; /&gt;\r\n    \r\n    \r\n&lt;/RelativeLayout&gt;\r\n\r\nI have already tried changing the map width and height from match_parent to wrap_content and it still isn&#39;t working.\r\n\r\nThis is the code from the activity_main : \r\n\r\n    private GoogleMap mMap;\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        \r\n        getMapSafely();\r\n        \r\n        if(mMap != null){\r\n        \tmMap.setMapType(GoogleMap.MAP_TYPE_HYBRID);\r\n        \t\r\n        \tmMap.setOnMapClickListener(new OnMapClickListener() {\r\n        \t\t \r\n                @Override\r\n                public void onMapClick(LatLng latLng) {\r\n     \r\n                    // Creating a marker\r\n                    MarkerOptions markerOptions = new MarkerOptions();\r\n     \r\n                    // Setting the position for the marker\r\n                    markerOptions.position(latLng);\r\n     \r\n                    // Setting the title for the marker.\r\n                    // This will be displayed on taping the marker\r\n                    markerOptions.title(latLng.latitude + &quot; : &quot; + latLng.longitude);\r\n     \r\n                    // Clears the previously touched position\r\n                    mMap.clear();\r\n     \r\n                    // Animating to the touched position\r\n                    mMap.animateCamera(CameraUpdateFactory.newLatLng(latLng));\r\n     \r\n                    // Placing a marker on the touched position\r\n                    mMap.addMarker(markerOptions);\r\n                }\r\n            });\r\n        } \r\n    }\r\n\r\nAny help would be greatly appreciated.","title":"Make google map not full screen android app","body":"<p>I am trying to implement an app that shows a map with a few textfields under it and a few buttons.</p>\n\n<p>But when I open the app the entire screen space is taken in by the map. Is there a way so all the objects fill the screen nicely without not hiding one?</p>\n\n<p>This is the code from the activity_main xml file :</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".MainActivity\" &gt;\n\n&lt;fragment\n      android:id=\"@+id/map\"\n      android:layout_width=\"wrap_content\"\n      android:layout_height=\"wrap_content\"\n      android:name=\"com.google.android.gms.maps.MapFragment\"/&gt;\n\n&lt;EditText android:id=\"@+id/EditTest\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:hint=\"@string/EditTest\" /&gt;\n\n&lt;EditText android:id=\"@+id/inTegerTest\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:hint=\"@string/integerTest\" /&gt;\n\n&lt;Button\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"@string/ButtonTest\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>I have already tried changing the map width and height from match_parent to wrap_content and it still isn't working.</p>\n\n<p>This is the code from the activity_main : </p>\n\n<pre><code>private GoogleMap mMap;\n\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    getMapSafely();\n\n    if(mMap != null){\n        mMap.setMapType(GoogleMap.MAP_TYPE_HYBRID);\n\n        mMap.setOnMapClickListener(new OnMapClickListener() {\n\n            @Override\n            public void onMapClick(LatLng latLng) {\n\n                // Creating a marker\n                MarkerOptions markerOptions = new MarkerOptions();\n\n                // Setting the position for the marker\n                markerOptions.position(latLng);\n\n                // Setting the title for the marker.\n                // This will be displayed on taping the marker\n                markerOptions.title(latLng.latitude + \" : \" + latLng.longitude);\n\n                // Clears the previously touched position\n                mMap.clear();\n\n                // Animating to the touched position\n                mMap.animateCamera(CameraUpdateFactory.newLatLng(latLng));\n\n                // Placing a marker on the touched position\n                mMap.addMarker(markerOptions);\n            }\n        });\n    } \n}\n</code></pre>\n\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","eclipse","javafx","module"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699657386,"post_id":77462632,"comment_id":136563780,"body_markdown":"Post text rather than images, wherever practical.","body":"Post text rather than images, wherever practical."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1699664168,"post_id":77462632,"comment_id":136564257,"body_markdown":"https://openjfx.io/openjfx-docs/","body":"<a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a>"}],"answers":[{"comments":[{"owner":{"account_id":27212766,"reputation":3,"user_id":20743304,"display_name":"MessiSkillz"},"score":0,"creation_date":1699725679,"post_id":77464594,"comment_id":136568691,"body_markdown":"I was following the directions in this video to setup eclipse for my project: https://www.youtube.com/watch?v=9XJicRt_FaI&amp;t=457s. I got an error message saying: Error occurred during initialization of boot layer\njava.lang.module.FindException: Module HelloFX not found.\nDo you know how to fix this?","body":"I was following the directions in this video to setup eclipse for my project: <a href=\"https://www.youtube.com/watch?v=9XJicRt_FaI&amp;t=457s\" rel=\"nofollow noreferrer\">youtube.com/watch?v=9XJicRt_FaI&amp;t=457s</a>. I got an error message saying: Error occurred during initialization of boot layer java.lang.module.FindException: Module HelloFX not found. Do you know how to fix this?"}],"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699696092,"creation_date":1699696092,"answer_id":77464594,"question_id":77462632,"body_markdown":"**Preface:** \r\n\r\nI recommend you to learn the basics about JavaFX. Please take a look at https://openjfx.io/openjfx-docs/.\r\n\r\n**Solution:**\r\n\r\nCreate an appropriate working base application with the needed configurations. Either to this with the Link above or use a preconfigured project from GitHub for example and alter it to your needs.\r\n\r\nThe following projects are executable out of the box. Just download the code, import the project to your IDE and run the application. \r\n\r\nTo that, the preconfigured projects contain a Task/Goal for creating a fat JAR (a JAR you can double click on and then the application starts).\r\n\r\n**Example working JavaFX application with gradle**\r\nhttps://github.com/davidweber411/JavaFxAppGradleNonModular\r\n\r\n**Example working JavaFX application with maven**\r\nhttps://github.com/davidweber411/JavaFxAppMavenNonModular\r\n","title":"Java FX Modular Application, Application Not found Error (Eclipse, Java version 19.0.2)","body":"<p><strong>Preface:</strong></p>\n<p>I recommend you to learn the basics about JavaFX. Please take a look at <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">https://openjfx.io/openjfx-docs/</a>.</p>\n<p><strong>Solution:</strong></p>\n<p>Create an appropriate working base application with the needed configurations. Either to this with the Link above or use a preconfigured project from GitHub for example and alter it to your needs.</p>\n<p>The following projects are executable out of the box. Just download the code, import the project to your IDE and run the application.</p>\n<p>To that, the preconfigured projects contain a Task/Goal for creating a fat JAR (a JAR you can double click on and then the application starts).</p>\n<p><strong>Example working JavaFX application with gradle</strong>\n<a href=\"https://github.com/davidweber411/JavaFxAppGradleNonModular\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/JavaFxAppGradleNonModular</a></p>\n<p><strong>Example working JavaFX application with maven</strong>\n<a href=\"https://github.com/davidweber411/JavaFxAppMavenNonModular\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/JavaFxAppMavenNonModular</a></p>\n"},{"comments":[{"owner":{"account_id":23004535,"reputation":1381,"user_id":17128041,"display_name":"sidharth vijayakumar"},"score":0,"creation_date":1699886757,"post_id":77466420,"comment_id":136583726,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77466420/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27212766,"reputation":3,"user_id":20743304,"display_name":"MessiSkillz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699728764,"creation_date":1699728764,"answer_id":77466420,"question_id":77462632,"body_markdown":"Ok I fixed the problem. Just delete the module-info.java file and everything magically gets fixed.","title":"Java FX Modular Application, Application Not found Error (Eclipse, Java version 19.0.2)","body":"<p>Ok I fixed the problem. Just delete the module-info.java file and everything magically gets fixed.</p>\n"}],"owner":{"account_id":27212766,"reputation":3,"user_id":20743304,"display_name":"MessiSkillz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77466420,"answer_count":2,"score":0,"last_activity_date":1699728764,"creation_date":1699646979,"question_id":77462632,"body_markdown":"Hi I have a problem with Java App which I am creating with JavaFX.\r\n\r\nI created my javaFX project with Eclipse. This is my current file structure: (https://i.stack.imgur.com/l05So.png)\r\n\r\nI added the JavaFX libs here:\r\n(https://i.stack.imgur.com/ffuj7.png)\r\nThey are both in the correct classpath, I already tried deleting the JavaFX SDK lib, but that didn&#39;t help. \r\n\r\nMy module-info.java file wasn&#39;t recognized either:\r\n(https://i.stack.imgur.com/FWl9w.png)\r\n\r\nI have also added the VM arguments correctly. \r\n\r\n\r\n\r\nI am constantly getting this error message: (https://i.stack.imgur.com/h4oWE.png)\r\n\r\n\r\n  Thank you!","title":"Java FX Modular Application, Application Not found Error (Eclipse, Java version 19.0.2)","body":"<p>Hi I have a problem with Java App which I am creating with JavaFX.</p>\n<p>I created my javaFX project with Eclipse. This is my current file structure: (<a href=\"https://i.stack.imgur.com/l05So.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/l05So.png</a>)</p>\n<p>I added the JavaFX libs here:\n(<a href=\"https://i.stack.imgur.com/ffuj7.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ffuj7.png</a>)\nThey are both in the correct classpath, I already tried deleting the JavaFX SDK lib, but that didn't help.</p>\n<p>My module-info.java file wasn't recognized either:\n(<a href=\"https://i.stack.imgur.com/FWl9w.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/FWl9w.png</a>)</p>\n<p>I have also added the VM arguments correctly.</p>\n<p>I am constantly getting this error message: (<a href=\"https://i.stack.imgur.com/h4oWE.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/h4oWE.png</a>)</p>\n<p>Thank you!</p>\n"},{"tags":["java","artificial-intelligence","pddl"],"owner":{"account_id":16036157,"reputation":1,"user_id":11573826,"display_name":"Aurelio Marotta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1699728692,"creation_date":1699728692,"question_id":77466414,"body_markdown":"i&#39;m a computer engeneering student and i&#39;ve to do a project for an AI exam using Pddl4j to write a Planner that resolves a specific domain. I&#39;ve already defined in pdd files my domain and the instance of my problem. Then I followed the tutorial in pddl web site to write te base A* algorithm and it works. So , at this point i would change something, for example i would write a Domain Specific Heuristic that A* can use.\r\n\r\nNow, the question is, how can I access information about the state of the node of with i&#39;ve to evaluate my euristic. For example, how can i know if a predicate is true in a state? \r\n\r\nI&#39;m using the Node class to model a node of the search three. I would know, considering a node of the three, all informations that could be usefull to define a problem specific euristic.\r\n","title":"How to obtain information about current state in pddl4j 4.0.0?","body":"<p>i'm a computer engeneering student and i've to do a project for an AI exam using Pddl4j to write a Planner that resolves a specific domain. I've already defined in pdd files my domain and the instance of my problem. Then I followed the tutorial in pddl web site to write te base A* algorithm and it works. So , at this point i would change something, for example i would write a Domain Specific Heuristic that A* can use.</p>\n<p>Now, the question is, how can I access information about the state of the node of with i've to evaluate my euristic. For example, how can i know if a predicate is true in a state?</p>\n<p>I'm using the Node class to model a node of the search three. I would know, considering a node of the three, all informations that could be usefull to define a problem specific euristic.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6410870,"reputation":1742,"user_id":4970679,"display_name":"ahuemmer"},"score":1,"creation_date":1699728601,"post_id":77466401,"comment_id":136569037,"body_markdown":"Please take a look at String comparison in Java. You will need to use `equals` instead of `==`.","body":"Please take a look at String comparison in Java. You will need to use <code>equals</code> instead of <code>==</code>."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1699730432,"post_id":77466401,"comment_id":136569236,"body_markdown":"`if (operacion.equalsIgnoreCase(&quot;suma&quot;)) {`","body":"<code>if (operacion.equalsIgnoreCase(&quot;suma&quot;)) {</code>"}],"owner":{"account_id":29880901,"reputation":1,"user_id":22899854,"display_name":"Flets"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1699728675,"answer_count":0,"score":-1,"last_activity_date":1699728485,"creation_date":1699728485,"question_id":77466401,"body_markdown":"my question is I put a scanner to read my operation, but this not success, I put an if for evaluate my scanner entry and should read &quot;suma&quot; or &quot;Suma&quot;, however this didn&#39;t happen\r\n\r\n\r\n    package com.project;\r\n\r\n    import java.sql.SQLOutput;\r\n    import java.util.Scanner;\r\n\r\n    // Press Shift twice to open the Search Everywhere dialog and type `show whitespaces`,\r\n    // then press Enter. You can now see whitespace characters in your code.\r\n\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;welcome to calculator&quot;);\r\n            Scanner sc = new Scanner(System.in);\r\n            String name = sc.nextLine();\r\n            System.out.println(&quot;Welcome &quot; + name);\r\n            System.out.println(&quot;tell me what operation you want to do&quot;);\r\n            String operation = sc.nextLine();\r\n            if (operacion == &quot;Suma&quot; || operacion == &quot;suma&quot;){\r\n                 System.out.println(&quot;this is a suma&quot;);\r\n            }\r\n\r\n\r\n        }\r\n    }","title":"Scanner fail - Java","body":"<p>my question is I put a scanner to read my operation, but this not success, I put an if for evaluate my scanner entry and should read &quot;suma&quot; or &quot;Suma&quot;, however this didn't happen</p>\n<pre><code>package com.project;\n\nimport java.sql.SQLOutput;\nimport java.util.Scanner;\n\n// Press Shift twice to open the Search Everywhere dialog and type `show whitespaces`,\n// then press Enter. You can now see whitespace characters in your code.\n\n\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;welcome to calculator&quot;);\n        Scanner sc = new Scanner(System.in);\n        String name = sc.nextLine();\n        System.out.println(&quot;Welcome &quot; + name);\n        System.out.println(&quot;tell me what operation you want to do&quot;);\n        String operation = sc.nextLine();\n        if (operacion == &quot;Suma&quot; || operacion == &quot;suma&quot;){\n             System.out.println(&quot;this is a suma&quot;);\n        }\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","xmlbeans"],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699728350,"creation_date":1699728350,"question_id":77466389,"body_markdown":"I&#39;m trying to run this project: `https://github.com/sebkur/gradle-xmlbeans-plugin/tree/master/test-local/test2`\r\n\r\nBut with latest Gradle dependency `implementation &#39;org.apache.xmlbeans:xmlbeans:5.0.3&#39;`\r\n\r\nI get generated this deprecated and missing code:\r\n\r\n    /** @deprecated {@link org.apache.xmlbeans.xml.stream.XMLInputStream} */\r\n    public static com.optimalpayments.creditcard.xmlschema.v1.CcAuthenticateRequestV1Document parse(org.apache.xmlbeans.xml.stream.XMLInputStream xis, org.apache.xmlbeans.XmlOptions options) throws org.apache.xmlbeans.XmlException, org.apache.xmlbeans.xml.stream.XMLStreamException {\r\n      return (com.optimalpayments.creditcard.xmlschema.v1.CcAuthenticateRequestV1Document) org.apache.xmlbeans.XmlBeans.getContextTypeLoader().parse( xis, type, options ); }\r\n\r\nI get `Cannot resolve symbol &#39;XMLInputStream&#39;` Do you know how I can fix this?\r\n\r\n","title":"Deprecated org.apache.xmlbeans.xml.stream.XMLInputStream","body":"<p>I'm trying to run this project: <code>https://github.com/sebkur/gradle-xmlbeans-plugin/tree/master/test-local/test2</code></p>\n<p>But with latest Gradle dependency <code>implementation 'org.apache.xmlbeans:xmlbeans:5.0.3'</code></p>\n<p>I get generated this deprecated and missing code:</p>\n<pre><code>/** @deprecated {@link org.apache.xmlbeans.xml.stream.XMLInputStream} */\npublic static com.optimalpayments.creditcard.xmlschema.v1.CcAuthenticateRequestV1Document parse(org.apache.xmlbeans.xml.stream.XMLInputStream xis, org.apache.xmlbeans.XmlOptions options) throws org.apache.xmlbeans.XmlException, org.apache.xmlbeans.xml.stream.XMLStreamException {\n  return (com.optimalpayments.creditcard.xmlschema.v1.CcAuthenticateRequestV1Document) org.apache.xmlbeans.XmlBeans.getContextTypeLoader().parse( xis, type, options ); }\n</code></pre>\n<p>I get <code>Cannot resolve symbol 'XMLInputStream'</code> Do you know how I can fix this?</p>\n"},{"tags":["java","cassandra","akka","akka-persistence"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":1,"creation_date":1699662902,"post_id":77463080,"comment_id":136564164,"body_markdown":"Have you checked [Alpakka Cassandra - Custom Session creation](https://doc.akka.io/docs/alpakka/current/cassandra.html#custom-session-creation). If I understand well, you should create your own custom [CqlSessionProvider](https://doc.akka.io/api/alpakka/7.0.0/akka/stream/alpakka/cassandra/CqlSessionProvider.html). It says &quot;By default the DefaultSessionProvider is building the Cluster from configuration properties but it is possible to replace the implementation of the SessionProvider to reuse another session or override the Cluster builder with other settings&quot;","body":"Have you checked <a href=\"https://doc.akka.io/docs/alpakka/current/cassandra.html#custom-session-creation\" rel=\"nofollow noreferrer\">Alpakka Cassandra - Custom Session creation</a>. If I understand well, you should create your own custom <a href=\"https://doc.akka.io/api/alpakka/7.0.0/akka/stream/alpakka/cassandra/CqlSessionProvider.html\" rel=\"nofollow noreferrer\">CqlSessionProvider</a>. It says &quot;By default the DefaultSessionProvider is building the Cluster from configuration properties but it is possible to replace the implementation of the SessionProvider to reuse another session or override the Cluster builder with other settings&quot;"},{"owner":{"account_id":8796832,"reputation":306,"user_id":6574475,"display_name":"Milad Amery"},"score":0,"creation_date":1699727654,"post_id":77463080,"comment_id":136568934,"body_markdown":"Hi. A custom session provider is not what is needed, but thanks. That page gave me what  was needed.","body":"Hi. A custom session provider is not what is needed, but thanks. That page gave me what  was needed."}],"answers":[{"tags":[],"owner":{"account_id":8796832,"reputation":306,"user_id":6574475,"display_name":"Milad Amery"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699727831,"creation_date":1699727831,"answer_id":77466358,"question_id":77463080,"body_markdown":"In custom serializer we have ActorSystem. Akka cassandra persistence plugin under the hood is using alpakka cassandra. We can get `CqlSession` created by `Alpakka Cassandra` via `CassandraSessionRegistry` extension.\r\n```java\r\nvar cqlSession = CassandraSessionRegistry\r\n                        .get(system)\r\n                        .sessionFor(CassandraSessionSettings.create())\r\n                        .underlying()\r\n                        .toCompletableFuture()\r\n                        .get()\r\n```\r\nThis is the same `CqlSession` used by akka persistence, hence reusing same session for whole application.","title":"How to reuse CqlSession of Akka persistence plugin in Custom serializer","body":"<p>In custom serializer we have ActorSystem. Akka cassandra persistence plugin under the hood is using alpakka cassandra. We can get <code>CqlSession</code> created by <code>Alpakka Cassandra</code> via <code>CassandraSessionRegistry</code> extension.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var cqlSession = CassandraSessionRegistry\n                        .get(system)\n                        .sessionFor(CassandraSessionSettings.create())\n                        .underlying()\n                        .toCompletableFuture()\n                        .get()\n</code></pre>\n<p>This is the same <code>CqlSession</code> used by akka persistence, hence reusing same session for whole application.</p>\n"}],"owner":{"account_id":8796832,"reputation":306,"user_id":6574475,"display_name":"Milad Amery"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77466358,"answer_count":1,"score":-1,"last_activity_date":1699727831,"creation_date":1699654059,"question_id":77463080,"body_markdown":"In Akka i&#39;m creating a custom serializer for my app that sometimes go to cassandra database to fetch something.\r\n\r\nTo do this a repository is created and then is registered via [`Akka Extension`][1] to actor system. Then in custom Serializer constructor this repository is fetched from actor system.\r\n\r\nThe thing is this repository needs to connect to cassandra, which requires a CqlSession. for now I created a new CqlSession with alpakka cassandra to do the job but it is said that `for each application Only one CqlSession should be used`. Now i have 2 CqlSession. One used by akka persistence cassandra and one by this repository used in custom serializer. How can I reuse Akka persistence cassandra CqlSession in this repo so only 1 CqlSession be active in whole application.\r\n\r\n\r\nCustom Serializer:\r\n```java\r\npublic class CustomSerializer extends AsyncSerializerWithStringManifestCS {\r\n\r\n   private final CustomSerializerRepo customSerializerRepo;\r\n   public CustomSerializer(ExtendedActorSystem system) {\r\n        super(system);\r\n        this.system = system;\r\n        customSerializerRepo= customSerializerRepoExtension.get(Adapter.toTyped(system)).customSerializerRepo();       \r\n    }\r\n\r\n   @Override\r\n    public CompletionStage&lt;byte[]&gt; toBinaryAsyncCS(Object unencryptedPayload) {\r\n        // Uses this repo\r\n    }\r\n\r\n    @Override\r\n    public CompletionStage&lt;Object&gt; fromBinaryAsyncCS(byte[] bytes, String manifest) {\r\n       // ........\r\n    }\r\n}\r\n```\r\n\r\nRepository:\r\n```java\r\npublic class CustomSerializerRepo {\r\n   \r\n   private final CassandraSession cassandraSession;\r\n   \r\n   public CustomSerializerRepo (ActorSystem&lt;?&gt; actorSystem) {\r\n       var cassandraSession = CassandraSessionRegistry.get(actorSystem).sessionFor(CassandraSessionSettings.create())\r\n   }\r\n\r\n   // go to cassandra and perform operations.\r\n}\r\n```\r\n\r\n\r\n  [1]: https://doc.akka.io/docs/akka/current/typed/extending.html","title":"How to reuse CqlSession of Akka persistence plugin in Custom serializer","body":"<p>In Akka i'm creating a custom serializer for my app that sometimes go to cassandra database to fetch something.</p>\n<p>To do this a repository is created and then is registered via <a href=\"https://doc.akka.io/docs/akka/current/typed/extending.html\" rel=\"nofollow noreferrer\"><code>Akka Extension</code></a> to actor system. Then in custom Serializer constructor this repository is fetched from actor system.</p>\n<p>The thing is this repository needs to connect to cassandra, which requires a CqlSession. for now I created a new CqlSession with alpakka cassandra to do the job but it is said that <code>for each application Only one CqlSession should be used</code>. Now i have 2 CqlSession. One used by akka persistence cassandra and one by this repository used in custom serializer. How can I reuse Akka persistence cassandra CqlSession in this repo so only 1 CqlSession be active in whole application.</p>\n<p>Custom Serializer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomSerializer extends AsyncSerializerWithStringManifestCS {\n\n   private final CustomSerializerRepo customSerializerRepo;\n   public CustomSerializer(ExtendedActorSystem system) {\n        super(system);\n        this.system = system;\n        customSerializerRepo= customSerializerRepoExtension.get(Adapter.toTyped(system)).customSerializerRepo();       \n    }\n\n   @Override\n    public CompletionStage&lt;byte[]&gt; toBinaryAsyncCS(Object unencryptedPayload) {\n        // Uses this repo\n    }\n\n    @Override\n    public CompletionStage&lt;Object&gt; fromBinaryAsyncCS(byte[] bytes, String manifest) {\n       // ........\n    }\n}\n</code></pre>\n<p>Repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomSerializerRepo {\n   \n   private final CassandraSession cassandraSession;\n   \n   public CustomSerializerRepo (ActorSystem&lt;?&gt; actorSystem) {\n       var cassandraSession = CassandraSessionRegistry.get(actorSystem).sessionFor(CassandraSessionSettings.create())\n   }\n\n   // go to cassandra and perform operations.\n}\n</code></pre>\n"},{"tags":["java","windows","jenkins","java-web-start","jenkins-agent"],"answers":[{"tags":[],"owner":{"account_id":10336690,"reputation":3527,"user_id":7624566,"display_name":"K. B."},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1522340556,"creation_date":1522340556,"answer_id":49560855,"question_id":49544663,"body_markdown":"In your question you use port 8888 (https://my-server.com:8888). The jnlp scripts that I have seen the port is not present or is 443.\r\n\r\nWhen I once saw an error like yours, I imported the certificate into the Java keystore. For more details [here.][1] \r\n\r\n    keytool -import -alias $ALIAS -keystore $JAVA_HOME/jre/lib/security/cacerts -file $PATH_TO_PEM_FILE\r\n\r\nThis import should be needed only for not public certificates, like self-signed, but you can try. There could be certificate chain as explained [here][2].\r\n\r\n\r\n  [1]: https://support.cloudbees.com/hc/en-us/articles/217078498-PKIX-path-building-failed-error-message\r\n  [2]: https://stackoverflow.com/questions/44728080/ssl-issue-jenkins-slave-connection-issue-with-tfs","title":"Jenkins Windows agent thinks my cert is invalid","body":"<p>In your question you use port 8888 (<a href=\"https://my-server.com:8888\" rel=\"noreferrer\">https://my-server.com:8888</a>). The jnlp scripts that I have seen the port is not present or is 443.</p>\n\n<p>When I once saw an error like yours, I imported the certificate into the Java keystore. For more details <a href=\"https://support.cloudbees.com/hc/en-us/articles/217078498-PKIX-path-building-failed-error-message\" rel=\"noreferrer\">here.</a> </p>\n\n<pre><code>keytool -import -alias $ALIAS -keystore $JAVA_HOME/jre/lib/security/cacerts -file $PATH_TO_PEM_FILE\n</code></pre>\n\n<p>This import should be needed only for not public certificates, like self-signed, but you can try. There could be certificate chain as explained <a href=\"https://stackoverflow.com/questions/44728080/ssl-issue-jenkins-slave-connection-issue-with-tfs\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1016892,"reputation":28609,"user_id":1028270,"accept_rate":90,"display_name":"red888"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1584633254,"creation_date":1584633254,"answer_id":60760732,"question_id":49544663,"body_markdown":"my issue was i needed to import the entire cert chain into the java keystore\r\n\r\nbrowsers like chrome will follow aia extensions and download the chain for you but the java keystore wants to make your life hard.","title":"Jenkins Windows agent thinks my cert is invalid","body":"<p>my issue was i needed to import the entire cert chain into the java keystore</p>\n\n<p>browsers like chrome will follow aia extensions and download the chain for you but the java keystore wants to make your life hard.</p>\n"},{"tags":[],"owner":{"account_id":17147180,"reputation":709,"user_id":12409915,"display_name":"AditYa"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1624063549,"creation_date":1624044686,"answer_id":68040562,"question_id":49544663,"body_markdown":"I tried to\r\n\r\n1. update Java on salve machine to get the Java latest trust store.\r\n2. update Java trust store manually with public SSL [(steps)][1].\r\n\r\n\r\nBut nothing worked above.\r\n\r\nFinally, I was able to connect to the master server from the slave by bypassing the -noCertificateCheck at end of the below command:\r\n\r\n    java -jar agent.jar -jnlpUrl https://example.com/computer/windows_slave/jenkins-agent.jnlp -secret [secret] -noCertificateCheck\r\n\r\n\r\n  [1]: https://confluence.atlassian.com/kb/how-to-import-a-public-ssl-certificate-into-a-jvm-867025849.html","title":"Jenkins Windows agent thinks my cert is invalid","body":"<p>I tried to</p>\n<ol>\n<li>update Java on salve machine to get the Java latest trust store.</li>\n<li>update Java trust store manually with public SSL <a href=\"https://confluence.atlassian.com/kb/how-to-import-a-public-ssl-certificate-into-a-jvm-867025849.html\" rel=\"nofollow noreferrer\">(steps)</a>.</li>\n</ol>\n<p>But nothing worked above.</p>\n<p>Finally, I was able to connect to the master server from the slave by bypassing the -noCertificateCheck at end of the below command:</p>\n<pre><code>java -jar agent.jar -jnlpUrl https://example.com/computer/windows_slave/jenkins-agent.jnlp -secret [secret] -noCertificateCheck\n</code></pre>\n"}],"owner":{"account_id":1016892,"reputation":28609,"user_id":1028270,"accept_rate":90,"display_name":"red888"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12953,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":60760732,"answer_count":3,"score":8,"last_activity_date":1699727346,"creation_date":1522273409,"question_id":49544663,"body_markdown":"Following the docs to use Java Web Start and I&#39;m up to the point where I&#39;m running this command on the agent to connect to the controller:\r\n\r\n    java -jar agent.jar -jnlpUrl https://my-server.com:8888/computer/myslave/slave-agent.jnlp -secret sdfsdfsdfsdf -workDir &quot;c:\\Jenkins&quot;\r\n\r\nI have a valid public cert. From the slave I can access https://my-server.com:8888 and chrome says the cert is valid so why is Jenkins complaining? Seems dumb to use `-noCertificateCheck` when I paid good money for the damn thing\r\n\r\n&gt; Mar 28, 2018 9:34:49 PM org.jenkinsci.remoting.engine.WorkDirManager\r\n&gt; initializeWorkDir INFO: Using c:\\Jenkins\\remoting as a remoting work\r\n&gt; directory Both error and output logs will be printed to\r\n&gt; c:\\Jenkins\\remoting Exception in thread &quot;main&quot; java.io.IOException:\r\n&gt; Failed to validate a server certificate. If you are using a\r\n&gt; self-signed certificate, you can use the -noCertificateCheck option to\r\n&gt; bypass this check.\r\n&gt;         at hudson.remoting.Launcher.parseJnlpArguments(Launcher.java:548)\r\n&gt;         at hudson.remoting.Launcher.run(Launcher.java:322)\r\n&gt;         at hudson.remoting.Launcher.main(Launcher.java:283) Caused by: javax.net.ssl.SSLHandshakeException:\r\n&gt; sun.security.validator.ValidatorException: PKIX path building failed:\r\n&gt; sun.security.provider.certpath.SunCertPathBuilderException: unable to\r\n&gt; find valid c ertification path to requested target\r\n&gt;         at sun.security.ssl.Alerts.getSSLException(Unknown Source)\r\n&gt;         at sun.security.ssl.SSLSocketImpl.fatal(Unknown Source)\r\n&gt;         at sun.security.ssl.Handshaker.fatalSE(Unknown Source)\r\n&gt;         at sun.security.ssl.Handshaker.fatalSE(Unknown Source)\r\n&gt;         at sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\r\n&gt;         at sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\r\n&gt;         at sun.security.ssl.Handshaker.processLoop(Unknown Source)\r\n&gt;         at sun.security.ssl.Handshaker.process_record(Unknown Source)\r\n&gt;         at sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\r\n&gt;         at sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\r\n&gt;         at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n&gt;         at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n&gt;         at sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\r\n&gt;         at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown\r\n&gt; Source)\r\n&gt;         at sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(Unknown\r\n&gt; Source)\r\n&gt;         at hudson.remoting.Launcher.parseJnlpArguments(Launcher.java:490)\r\n&gt;         ... 2 more Caused by: sun.security.validator.ValidatorException: PKIX path building failed:\r\n&gt; sun.security.provider.certpath.SunCertPathBuilderException: unable to\r\n&gt; find valid certification path to requested target\r\n&gt;         at sun.security.validator.PKIXValidator.doBuild(Unknown Source)\r\n&gt;         at sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\r\n&gt;         at sun.security.validator.Validator.validate(Unknown Source)\r\n&gt;         at sun.security.ssl.X509TrustManagerImpl.validate(Unknown Source)\r\n&gt;         at sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\r\n&gt;         at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown\r\n&gt; Source)\r\n&gt;         ... 14 more Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to\r\n&gt; find valid certification path to requested target\r\n&gt;         at sun.security.provider.certpath.SunCertPathBuilder.build(Unknown\r\n&gt; Source)\r\n&gt;         at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown\r\n&gt; Source)\r\n&gt;         at java.security.cert.CertPathBuilder.build(Unknown Source)\r\n&gt;         ... 20 more\r\n\r\nEDIT:\r\nSo I can&#39;t connect at all. If I use `-noCertificateCheck` I get `Incorrect acknowledgement sequence` Im assuming because Im using HTTPS without validating the cert\r\n","title":"Jenkins Windows agent thinks my cert is invalid","body":"<p>Following the docs to use Java Web Start and I'm up to the point where I'm running this command on the agent to connect to the controller:</p>\n<pre><code>java -jar agent.jar -jnlpUrl https://my-server.com:8888/computer/myslave/slave-agent.jnlp -secret sdfsdfsdfsdf -workDir &quot;c:\\Jenkins&quot;\n</code></pre>\n<p>I have a valid public cert. From the slave I can access <a href=\"https://my-server.com:8888\" rel=\"nofollow noreferrer\">https://my-server.com:8888</a> and chrome says the cert is valid so why is Jenkins complaining? Seems dumb to use <code>-noCertificateCheck</code> when I paid good money for the damn thing</p>\n<blockquote>\n<p>Mar 28, 2018 9:34:49 PM org.jenkinsci.remoting.engine.WorkDirManager\ninitializeWorkDir INFO: Using c:\\Jenkins\\remoting as a remoting work\ndirectory Both error and output logs will be printed to\nc:\\Jenkins\\remoting Exception in thread &quot;main&quot; java.io.IOException:\nFailed to validate a server certificate. If you are using a\nself-signed certificate, you can use the -noCertificateCheck option to\nbypass this check.\nat hudson.remoting.Launcher.parseJnlpArguments(Launcher.java:548)\nat hudson.remoting.Launcher.run(Launcher.java:322)\nat hudson.remoting.Launcher.main(Launcher.java:283) Caused by: javax.net.ssl.SSLHandshakeException:\nsun.security.validator.ValidatorException: PKIX path building failed:\nsun.security.provider.certpath.SunCertPathBuilderException: unable to\nfind valid c ertification path to requested target\nat sun.security.ssl.Alerts.getSSLException(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.fatal(Unknown Source)\nat sun.security.ssl.Handshaker.fatalSE(Unknown Source)\nat sun.security.ssl.Handshaker.fatalSE(Unknown Source)\nat sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\nat sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\nat sun.security.ssl.Handshaker.processLoop(Unknown Source)\nat sun.security.ssl.Handshaker.process_record(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\nat sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown\nSource)\nat sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(Unknown\nSource)\nat hudson.remoting.Launcher.parseJnlpArguments(Launcher.java:490)\n... 2 more Caused by: sun.security.validator.ValidatorException: PKIX path building failed:\nsun.security.provider.certpath.SunCertPathBuilderException: unable to\nfind valid certification path to requested target\nat sun.security.validator.PKIXValidator.doBuild(Unknown Source)\nat sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\nat sun.security.validator.Validator.validate(Unknown Source)\nat sun.security.ssl.X509TrustManagerImpl.validate(Unknown Source)\nat sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\nat sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown\nSource)\n... 14 more Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to\nfind valid certification path to requested target\nat sun.security.provider.certpath.SunCertPathBuilder.build(Unknown\nSource)\nat sun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown\nSource)\nat java.security.cert.CertPathBuilder.build(Unknown Source)\n... 20 more</p>\n</blockquote>\n<p>EDIT:\nSo I can't connect at all. If I use <code>-noCertificateCheck</code> I get <code>Incorrect acknowledgement sequence</code> Im assuming because Im using HTTPS without validating the cert</p>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1699663898,"post_id":77463508,"comment_id":136564234,"body_markdown":"See if the ideas [here](https://stackoverflow.com/questions/46453780/javafx-how-i-can-bind-a-stage-with-screen-resolution/46455368#46455368) can help.","body":"See if the ideas <a href=\"https://stackoverflow.com/questions/46453780/javafx-how-i-can-bind-a-stage-with-screen-resolution/46455368#46455368\">here</a> can help."},{"owner":{"account_id":23233917,"reputation":91,"user_id":17324149,"display_name":"andrew"},"score":0,"creation_date":1699666202,"post_id":77463508,"comment_id":136564397,"body_markdown":"@SedJ601 In the question you linked the length and height ratio of the UI elements change based on the size of the window. What I want is for all the UI elements to stay where they are and shrink and grow with the size of the window, but maintain the same length and height ratio if that makes sense.","body":"@SedJ601 In the question you linked the length and height ratio of the UI elements change based on the size of the window. What I want is for all the UI elements to stay where they are and shrink and grow with the size of the window, but maintain the same length and height ratio if that makes sense."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1699709497,"post_id":77463508,"comment_id":136567012,"body_markdown":"This [example](https://stackoverflow.com/a/70312046/230513) preserves the circles&#39; aspect ratio as the window is resized.","body":"This <a href=\"https://stackoverflow.com/a/70312046/230513\">example</a> preserves the circles&#39; aspect ratio as the window is resized."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1699715359,"post_id":77463508,"comment_id":136567601,"body_markdown":"If you use the layout panes the way there are intended to be used, then this should just work out of the box. Don’t hard-code any sizes or positions. Use the appropriate layout pane, depending on how you want the components laid out (`AnchorPane` is almost never what you want). Read the [layout tutorial](https://docs.oracle.com/javafx/2/layout/builtin_layouts.htm). Eden Coding also has a [good tutorial](https://edencoding.com/javafx-layouts/)","body":"If you use the layout panes the way there are intended to be used, then this should just work out of the box. Don’t hard-code any sizes or positions. Use the appropriate layout pane, depending on how you want the components laid out (<code>AnchorPane</code> is almost never what you want). Read the <a href=\"https://docs.oracle.com/javafx/2/layout/builtin_layouts.htm\" rel=\"nofollow noreferrer\">layout tutorial</a>. Eden Coding also has a <a href=\"https://edencoding.com/javafx-layouts/\" rel=\"nofollow noreferrer\">good tutorial</a>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1699715703,"post_id":77463508,"comment_id":136567645,"body_markdown":"*”What I want is for all the UI elements to stay where they are and shrink and grow with the size of the window”*. This doesn’t really make sense. If the elements stayed where they were and grew, they would overlap each other, which would make them unusable. You need to precisely define how you want the elements to resize and reposition relative to each other when the window resizes. But again, this behaviour is exactly the behaviour implemented by the various layout panes.","body":"<i>”What I want is for all the UI elements to stay where they are and shrink and grow with the size of the window”</i>. This doesn’t really make sense. If the elements stayed where they were and grew, they would overlap each other, which would make them unusable. You need to precisely define how you want the elements to resize and reposition relative to each other when the window resizes. But again, this behaviour is exactly the behaviour implemented by the various layout panes."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1699901835,"post_id":77463508,"comment_id":136586541,"body_markdown":"You may also be looking for (_dynamic text sizing_](https://stackoverflow.com/q/23705654/230513).","body":"You may also be looking for (<i>dynamic text sizing</i>](<a href=\"https://stackoverflow.com/q/23705654/230513\">stackoverflow.com/q/23705654/230513</a>)."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699695702,"creation_date":1699695358,"answer_id":77464559,"question_id":77463508,"body_markdown":"**Preface:** \r\n\r\nIt is impossible to create a screen size adaptive layout with fixed sizes. \r\n\r\nYou can see the problem in combining the words &quot;fixed&quot; and &quot;adaptive&quot;.\r\n\r\n**Solution:**\r\n\r\nOn every elements, including *Panes:\r\n\r\n1. Use computed sizes as minimum sizes everywhere.\r\n2. Use computed sizes as preferred sizes everywhere.\r\n3. Use maxValue as maximum sizes everywhere.\r\n4. Use hGrow always everywhere where it does not work only with the above.\r\n5. Set multiline true for Labels.","title":"Easiest way to make my JavaFX application scale with different screen sizes","body":"<p><strong>Preface:</strong></p>\n<p>It is impossible to create a screen size adaptive layout with fixed sizes.</p>\n<p>You can see the problem in combining the words &quot;fixed&quot; and &quot;adaptive&quot;.</p>\n<p><strong>Solution:</strong></p>\n<p>On every elements, including *Panes:</p>\n<ol>\n<li>Use computed sizes as minimum sizes everywhere.</li>\n<li>Use computed sizes as preferred sizes everywhere.</li>\n<li>Use maxValue as maximum sizes everywhere.</li>\n<li>Use hGrow always everywhere where it does not work only with the above.</li>\n<li>Set multiline true for Labels.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699727223,"creation_date":1699727223,"answer_id":77466325,"question_id":77463508,"body_markdown":"I am not sure what you are exactly trying to achieve, but using ideas from [here](https://stackoverflow.com/questions/46453780/javafx-how-i-can-bind-a-stage-with-screen-resolution/46455368#46455368), I came up with a starting point that I hope will help. You may need to do a few tutorials on JavaFX Layouts/Parent Nodes. ImageView can be kinda tricky, though. I hope this can help guide you in the right direction. For a login view, in my opinion, that&#39;s one of the few cases where it is okay to set the min, pref, and max sizes to the same values or use a screen that can&#39;t be resized. \r\n\r\n**FXML**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.image.ImageView?&gt;\r\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\r\n&lt;?import javafx.scene.layout.GridPane?&gt;\r\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n\r\n&lt;VBox alignment=&quot;TOP_CENTER&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;940.0&quot; minWidth=&quot;540.0&quot; prefHeight=&quot;960.0&quot; prefWidth=&quot;540.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;Label alignment=&quot;CENTER&quot; maxWidth=&quot;1.7976931348623157E308&quot; text=&quot;EffortLoggerV2&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;42.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n         &lt;VBox.margin&gt;\r\n            &lt;Insets top=&quot;140.0&quot; /&gt;\r\n         &lt;/VBox.margin&gt;\r\n      &lt;/Label&gt;\r\n      &lt;ImageView fitHeight=&quot;261.0&quot; fitWidth=&quot;210.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n         &lt;VBox.margin&gt;\r\n            &lt;Insets top=&quot;100.0&quot; /&gt;\r\n         &lt;/VBox.margin&gt;\r\n      &lt;/ImageView&gt;\r\n      &lt;GridPane hgap=&quot;5.0&quot; vgap=&quot;10.0&quot;&gt;\r\n        &lt;columnConstraints&gt;\r\n          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n        &lt;/columnConstraints&gt;\r\n        &lt;rowConstraints&gt;\r\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n        &lt;/rowConstraints&gt;\r\n         &lt;children&gt;\r\n            &lt;Label alignment=&quot;CENTER_RIGHT&quot; maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; text=&quot;Username&quot; GridPane.columnSpan=&quot;2&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;24.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n            &lt;Label alignment=&quot;CENTER_RIGHT&quot; maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; text=&quot;Password&quot; GridPane.columnSpan=&quot;2&quot; GridPane.rowIndex=&quot;1&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;24.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n            &lt;TextField maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;224.0&quot; GridPane.columnIndex=&quot;2&quot; GridPane.columnSpan=&quot;4&quot; /&gt;\r\n            &lt;TextField maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;224.0&quot; GridPane.columnIndex=&quot;2&quot; GridPane.columnSpan=&quot;4&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\r\n            &lt;Button fx:id=&quot;loginButton&quot; maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; mnemonicParsing=&quot;false&quot; text=&quot;Sign In&quot; GridPane.columnIndex=&quot;6&quot; GridPane.columnSpan=&quot;2&quot; GridPane.rowSpan=&quot;2&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;18.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Button&gt;\r\n         &lt;/children&gt;\r\n         &lt;padding&gt;\r\n            &lt;Insets left=&quot;20.0&quot; right=&quot;20.0&quot; /&gt;\r\n         &lt;/padding&gt;\r\n         &lt;VBox.margin&gt;\r\n            &lt;Insets top=&quot;140.0&quot; /&gt;\r\n         &lt;/VBox.margin&gt;\r\n      &lt;/GridPane&gt;\r\n      &lt;Button fx:id=&quot;createAccountButton&quot; mnemonicParsing=&quot;false&quot; text=&quot;Create an Account&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;18.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n         &lt;VBox.margin&gt;\r\n            &lt;Insets top=&quot;100.0&quot; /&gt;\r\n         &lt;/VBox.margin&gt;\r\n      &lt;/Button&gt;\r\n   &lt;/children&gt;\r\n&lt;/VBox&gt;\r\n```\r\n\r\n**Normal**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Maximized**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bwUPR.png\r\n  [2]: https://i.stack.imgur.com/CBna4.png","title":"Easiest way to make my JavaFX application scale with different screen sizes","body":"<p>I am not sure what you are exactly trying to achieve, but using ideas from <a href=\"https://stackoverflow.com/questions/46453780/javafx-how-i-can-bind-a-stage-with-screen-resolution/46455368#46455368\">here</a>, I came up with a starting point that I hope will help. You may need to do a few tutorials on JavaFX Layouts/Parent Nodes. ImageView can be kinda tricky, though. I hope this can help guide you in the right direction. For a login view, in my opinion, that's one of the few cases where it is okay to set the min, pref, and max sizes to the same values or use a screen that can't be resized.</p>\n<p><strong>FXML</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\n&lt;?import javafx.scene.layout.GridPane?&gt;\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n\n&lt;VBox alignment=&quot;TOP_CENTER&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;940.0&quot; minWidth=&quot;540.0&quot; prefHeight=&quot;960.0&quot; prefWidth=&quot;540.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n   &lt;children&gt;\n      &lt;Label alignment=&quot;CENTER&quot; maxWidth=&quot;1.7976931348623157E308&quot; text=&quot;EffortLoggerV2&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;42.0&quot; /&gt;\n         &lt;/font&gt;\n         &lt;VBox.margin&gt;\n            &lt;Insets top=&quot;140.0&quot; /&gt;\n         &lt;/VBox.margin&gt;\n      &lt;/Label&gt;\n      &lt;ImageView fitHeight=&quot;261.0&quot; fitWidth=&quot;210.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n         &lt;VBox.margin&gt;\n            &lt;Insets top=&quot;100.0&quot; /&gt;\n         &lt;/VBox.margin&gt;\n      &lt;/ImageView&gt;\n      &lt;GridPane hgap=&quot;5.0&quot; vgap=&quot;10.0&quot;&gt;\n        &lt;columnConstraints&gt;\n          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n          &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n        &lt;/columnConstraints&gt;\n        &lt;rowConstraints&gt;\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n          &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n        &lt;/rowConstraints&gt;\n         &lt;children&gt;\n            &lt;Label alignment=&quot;CENTER_RIGHT&quot; maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; text=&quot;Username&quot; GridPane.columnSpan=&quot;2&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;24.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n            &lt;Label alignment=&quot;CENTER_RIGHT&quot; maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; text=&quot;Password&quot; GridPane.columnSpan=&quot;2&quot; GridPane.rowIndex=&quot;1&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;24.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n            &lt;TextField maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;224.0&quot; GridPane.columnIndex=&quot;2&quot; GridPane.columnSpan=&quot;4&quot; /&gt;\n            &lt;TextField maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;224.0&quot; GridPane.columnIndex=&quot;2&quot; GridPane.columnSpan=&quot;4&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\n            &lt;Button fx:id=&quot;loginButton&quot; maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; mnemonicParsing=&quot;false&quot; text=&quot;Sign In&quot; GridPane.columnIndex=&quot;6&quot; GridPane.columnSpan=&quot;2&quot; GridPane.rowSpan=&quot;2&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;18.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Button&gt;\n         &lt;/children&gt;\n         &lt;padding&gt;\n            &lt;Insets left=&quot;20.0&quot; right=&quot;20.0&quot; /&gt;\n         &lt;/padding&gt;\n         &lt;VBox.margin&gt;\n            &lt;Insets top=&quot;140.0&quot; /&gt;\n         &lt;/VBox.margin&gt;\n      &lt;/GridPane&gt;\n      &lt;Button fx:id=&quot;createAccountButton&quot; mnemonicParsing=&quot;false&quot; text=&quot;Create an Account&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;18.0&quot; /&gt;\n         &lt;/font&gt;\n         &lt;VBox.margin&gt;\n            &lt;Insets top=&quot;100.0&quot; /&gt;\n         &lt;/VBox.margin&gt;\n      &lt;/Button&gt;\n   &lt;/children&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p><strong>Normal</strong></p>\n<p><a href=\"https://i.stack.imgur.com/bwUPR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bwUPR.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Maximized</strong></p>\n<p><a href=\"https://i.stack.imgur.com/CBna4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CBna4.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23233917,"reputation":91,"user_id":17324149,"display_name":"andrew"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699727223,"creation_date":1699663499,"question_id":77463508,"body_markdown":"As my code is now, the content of the app will be cut off by the window if the screen isn&#39;t large enough to support the fixed size I set. I want to know the easiest way to fix this. Rather than changing every UI element, I was hoping there is some way to simply make the UI adjust to whatever size the window is. So the window should be able to be pulled from a corner to resize and the UI moves with it. \r\n\r\nHere&#39;s the stage class:\r\n```\r\npublic class Login {\r\n\t\r\n\tpublic void show(Stage primaryStage) {\r\n\t\t\r\n\t\ttry {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Login.fxml&quot;));\r\n            Parent root = loader.load();\r\n            Scene scene = new Scene(root);\r\n            scene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\r\n            primaryStage.setScene(scene);\r\n            primaryStage.setResizable(false);\r\n            primaryStage.show();\r\n        } \r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\t}\r\n\t\r\n}\r\n```\r\nHere&#39;s the .fxml file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.image.ImageView?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n&lt;?import javafx.scene.image.Image?&gt;\r\n\r\n\r\n&lt;AnchorPane prefHeight=&quot;960.0&quot; prefWidth=&quot;540.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.login.LoginController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;ImageView fitHeight=&quot;261.0&quot; fitWidth=&quot;210.0&quot; layoutX=&quot;171.0&quot; layoutY=&quot;302.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n      \t&lt;Image url=&quot;@ledger.png&quot; /&gt;\r\n      &lt;/ImageView&gt;\r\n      &lt;Label layoutX=&quot;134.0&quot; layoutY=&quot;132.0&quot; text=&quot;EffortLoggerV2&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;42.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;Label layoutX=&quot;43.0&quot; layoutY=&quot;768.0&quot; text=&quot;Username&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;24.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;Label layoutX=&quot;43.0&quot; layoutY=&quot;818.0&quot; text=&quot;Password&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;24.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;TextField layoutX=&quot;164.0&quot; layoutY=&quot;770.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;224.0&quot; /&gt;\r\n      &lt;TextField layoutX=&quot;164.0&quot; layoutY=&quot;820.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;224.0&quot; /&gt;\r\n      &lt;Button fx:id=&quot;loginButton&quot; layoutX=&quot;416.0&quot; layoutY=&quot;770.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;73.0&quot; prefWidth=&quot;86.0&quot; text=&quot;Sign In&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;18.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Button&gt;\r\n      &lt;Button fx:id=&quot;createAccountButton&quot; layoutX=&quot;193.0&quot; layoutY=&quot;889.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;Create an Account&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;18.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Button&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\nIs there an easy way to do this, or would this require changing every UI element?","title":"Easiest way to make my JavaFX application scale with different screen sizes","body":"<p>As my code is now, the content of the app will be cut off by the window if the screen isn't large enough to support the fixed size I set. I want to know the easiest way to fix this. Rather than changing every UI element, I was hoping there is some way to simply make the UI adjust to whatever size the window is. So the window should be able to be pulled from a corner to resize and the UI moves with it.</p>\n<p>Here's the stage class:</p>\n<pre><code>public class Login {\n    \n    public void show(Stage primaryStage) {\n        \n        try {\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Login.fxml&quot;));\n            Parent root = loader.load();\n            Scene scene = new Scene(root);\n            scene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\n            primaryStage.setScene(scene);\n            primaryStage.setResizable(false);\n            primaryStage.show();\n        } \n        catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n}\n</code></pre>\n<p>Here's the .fxml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;?import javafx.scene.image.Image?&gt;\n\n\n&lt;AnchorPane prefHeight=&quot;960.0&quot; prefWidth=&quot;540.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.login.LoginController&quot;&gt;\n   &lt;children&gt;\n      &lt;ImageView fitHeight=&quot;261.0&quot; fitWidth=&quot;210.0&quot; layoutX=&quot;171.0&quot; layoutY=&quot;302.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n        &lt;Image url=&quot;@ledger.png&quot; /&gt;\n      &lt;/ImageView&gt;\n      &lt;Label layoutX=&quot;134.0&quot; layoutY=&quot;132.0&quot; text=&quot;EffortLoggerV2&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;42.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Label layoutX=&quot;43.0&quot; layoutY=&quot;768.0&quot; text=&quot;Username&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;24.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Label layoutX=&quot;43.0&quot; layoutY=&quot;818.0&quot; text=&quot;Password&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;24.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;TextField layoutX=&quot;164.0&quot; layoutY=&quot;770.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;224.0&quot; /&gt;\n      &lt;TextField layoutX=&quot;164.0&quot; layoutY=&quot;820.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;224.0&quot; /&gt;\n      &lt;Button fx:id=&quot;loginButton&quot; layoutX=&quot;416.0&quot; layoutY=&quot;770.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;73.0&quot; prefWidth=&quot;86.0&quot; text=&quot;Sign In&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;18.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Button&gt;\n      &lt;Button fx:id=&quot;createAccountButton&quot; layoutX=&quot;193.0&quot; layoutY=&quot;889.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;Create an Account&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;18.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Button&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Is there an easy way to do this, or would this require changing every UI element?</p>\n"},{"tags":["java","jenkins","jenkins-agent"],"comments":[{"owner":{"account_id":12641201,"reputation":412,"user_id":9188644,"display_name":"ItsAnApe"},"score":0,"creation_date":1597314995,"post_id":51446609,"comment_id":112095282,"body_markdown":"Did you ever find a solution to this problem?  I&#39;m also dealing with it.","body":"Did you ever find a solution to this problem?  I&#39;m also dealing with it."}],"answers":[{"comments":[{"owner":{"account_id":2253020,"reputation":351,"user_id":1984854,"display_name":"Filipe Luchini"},"score":0,"creation_date":1560273562,"post_id":54758299,"comment_id":99679379,"body_markdown":"I put the same versions of java (both x64 and version 1.8.0_212) on master and slave and everything works well. Thanks for this tip =D","body":"I put the same versions of java (both x64 and version 1.8.0_212) on master and slave and everything works well. Thanks for this tip =D"}],"tags":[],"owner":{"account_id":15361371,"reputation":11,"user_id":11082114,"display_name":"seino2005"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550545543,"creation_date":1550545543,"answer_id":54758299,"question_id":51446609,"body_markdown":"I think Java differs between Jenkins Master and Slave.\r\nFor example, PC of Jenkins Master is x64 but slave is x86.","title":"Jenkins: \\Java\\jdk1.8.0_172\\jre\\bin&quot;&quot; was unexpected at this time","body":"<p>I think Java differs between Jenkins Master and Slave.\nFor example, PC of Jenkins Master is x64 but slave is x86.</p>\n"},{"tags":[],"owner":{"account_id":335094,"reputation":1,"user_id":4893176,"display_name":"Dudi L"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631436801,"creation_date":1631436801,"answer_id":69149896,"question_id":51446609,"body_markdown":"The issue started at my CI system after I upgrade the Java version on my Jenkins node to latest x86. (the node was working well before)\r\nTo resolve it I uninstalled the x86 version and installed x64 Java version.\r\n\r\nThanks.\r\n","title":"Jenkins: \\Java\\jdk1.8.0_172\\jre\\bin&quot;&quot; was unexpected at this time","body":"<p>The issue started at my CI system after I upgrade the Java version on my Jenkins node to latest x86. (the node was working well before)\nTo resolve it I uninstalled the x86 version and installed x64 Java version.</p>\n<p>Thanks.</p>\n"}],"owner":{"account_id":6242556,"reputation":1368,"user_id":4872413,"accept_rate":33,"display_name":"devopsfun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1960,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1699727053,"creation_date":1532103270,"question_id":51446609,"body_markdown":"I have a Jenkins controller and several agent nodes. Some jobs running on Windows give me this error message:\r\n\r\n    \\Java\\jdk1.8.0_172\\jre\\bin&quot;&quot; was unexpected at this time.\r\n\r\nThese jobs run without problems on a Windows system itself, but not when running them within Jenkins. So I looked a little bit deeper and found out, that in the node information, I can see this value for `java.library.path` under `jenkinsserver/computer/node/systemInfo` (as an example):\r\n\r\n    C:\\Program Files\\Java\\jre1.8.0_172\\bin;C:\\Windows\\Sun\\Java\\bin;\r\n    C:\\Windows\\system32;C:\\Windows;C:\\ProgramData\\Oracle\\Java\\javapath;\r\n    C:\\Users\\bsadmin\\AppData\\Local\\Microsoft\\WindowsApps;&quot;C:\\Program Files\\Java\\jre1.8.0_172\\bin&quot;;.\r\n\r\nI think, this error comes from the last part: `&quot;C:\\Program Files\\Java\\jre1.8.0_172\\bin&quot;`. I see this on every windows agent machine.\r\n\r\nWhere does this value come from? Is it possible, to disable it somehow?\r\n\r\n**EDIT**\r\n\r\nHere is a picture of what I mean:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p0i7h.png","title":"Jenkins: \\Java\\jdk1.8.0_172\\jre\\bin&quot;&quot; was unexpected at this time","body":"<p>I have a Jenkins controller and several agent nodes. Some jobs running on Windows give me this error message:</p>\n<pre><code>\\Java\\jdk1.8.0_172\\jre\\bin&quot;&quot; was unexpected at this time.\n</code></pre>\n<p>These jobs run without problems on a Windows system itself, but not when running them within Jenkins. So I looked a little bit deeper and found out, that in the node information, I can see this value for <code>java.library.path</code> under <code>jenkinsserver/computer/node/systemInfo</code> (as an example):</p>\n<pre><code>C:\\Program Files\\Java\\jre1.8.0_172\\bin;C:\\Windows\\Sun\\Java\\bin;\nC:\\Windows\\system32;C:\\Windows;C:\\ProgramData\\Oracle\\Java\\javapath;\nC:\\Users\\bsadmin\\AppData\\Local\\Microsoft\\WindowsApps;&quot;C:\\Program Files\\Java\\jre1.8.0_172\\bin&quot;;.\n</code></pre>\n<p>I think, this error comes from the last part: <code>&quot;C:\\Program Files\\Java\\jre1.8.0_172\\bin&quot;</code>. I see this on every windows agent machine.</p>\n<p>Where does this value come from? Is it possible, to disable it somehow?</p>\n<p><strong>EDIT</strong></p>\n<p>Here is a picture of what I mean:</p>\n<p><a href=\"https://i.stack.imgur.com/p0i7h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p0i7h.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","type-variables"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1699695712,"post_id":77464572,"comment_id":136565937,"body_markdown":"Why do you think you need to do this?  This would partially defeat the point of using generics.","body":"Why do you think you need to do this?  This would partially defeat the point of using generics."},{"owner":{"account_id":18103108,"reputation":405,"user_id":13160706,"display_name":"Machi"},"score":0,"creation_date":1699696891,"post_id":77464572,"comment_id":136566005,"body_markdown":"@TimBiegeleisen I added the intention I ask this issue. I am trying to preserve generic information.","body":"@TimBiegeleisen I added the intention I ask this issue. I am trying to preserve generic information."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1699697434,"post_id":77464572,"comment_id":136566040,"body_markdown":"You can&#39;t really get the Types of generics. A generic getter e.g. must return an Integer, or a String, or something else depending on T. You can implement their types T, but you have to cast them after that. Because T can not do the things a String can e.g..","body":"You can&#39;t really get the Types of generics. A generic getter e.g. must return an Integer, or a String, or something else depending on T. You can implement their types T, but you have to cast them after that. Because T can not do the things a String can e.g.."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1699697815,"post_id":77464572,"comment_id":136566072,"body_markdown":"In fact, you could work around this by autocreating classes while compiling, like Lombok does it for the builder pattern e.g.. Annotation processors can do that.","body":"In fact, you could work around this by autocreating classes while compiling, like Lombok does it for the builder pattern e.g.. Annotation processors can do that."},{"owner":{"account_id":18103108,"reputation":405,"user_id":13160706,"display_name":"Machi"},"score":0,"creation_date":1699700064,"post_id":77464572,"comment_id":136566226,"body_markdown":"@DavidWeber  Create a customized annotation processor is too difficult for me...Is there any way, can perserve the generic infomation for each field?","body":"@DavidWeber  Create a customized annotation processor is too difficult for me...Is there any way, can perserve the generic infomation for each field?"}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699702321,"creation_date":1699702321,"answer_id":77464889,"question_id":77464572,"body_markdown":"**Preface:**\r\n\r\nYou can&#39;t really get the types of generic variables. \r\n\r\n**Explanation with example:**\r\n\r\nA generic getter must return an Integer, a String or something else depending on what T is. \r\n\r\nYou can implement a method that returns T, but you have to cast the return value after that, because T can not do the things a String can. \r\n\r\n**Ways to preserve information about T:**\r\n\r\nYou can preserve the class name of T in a String - something like this:\r\n\r\nString classOfT = T.class\r\n\r\n\r\n**Workaround solution 1:**\r\n\r\nYou could create a custom annotation processor which automatically creates the classes while compiling. Like Lombok does it for the builder pattern for example. \r\n\r\n**Workaround solution 2:**\r\n\r\nYou can get information about the classOfT if you pass it as a parameter like this:\r\n\r\n    public class TestMain {\r\n    \r\n        public static void main(String[] args) {\r\n            new TestMain();\r\n        }\r\n    \r\n        public TestMain() {\r\n            MyList&lt;String&gt; myList = new MyList&lt;&gt;(String.class);\r\n            System.out.println(&quot;classOfTAsString=&quot; + myList.getClassOfTAsString());\r\n        }\r\n    \r\n        public static class MyList&lt;T&gt; extends ArrayList&lt;T&gt; {\r\n    \r\n            private Class&lt;T&gt; classOfT;\r\n            private String classOfTAsString;\r\n    \r\n            public MyList(Class&lt;T&gt; classOfT) {\r\n                super();\r\n                this.classOfT = classOfT;\r\n                this.classOfTAsString = classOfT.getName(); // or getSimpleName();\r\n            }\r\n    \r\n            public String getClassOfTAsString() {\r\n                return classOfTAsString;\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n    }","title":"How can I get the type variable vs field mapping from a generic class?","body":"<p><strong>Preface:</strong></p>\n<p>You can't really get the types of generic variables.</p>\n<p><strong>Explanation with example:</strong></p>\n<p>A generic getter must return an Integer, a String or something else depending on what T is.</p>\n<p>You can implement a method that returns T, but you have to cast the return value after that, because T can not do the things a String can.</p>\n<p><strong>Ways to preserve information about T:</strong></p>\n<p>You can preserve the class name of T in a String - something like this:</p>\n<p>String classOfT = T.class</p>\n<p><strong>Workaround solution 1:</strong></p>\n<p>You could create a custom annotation processor which automatically creates the classes while compiling. Like Lombok does it for the builder pattern for example.</p>\n<p><strong>Workaround solution 2:</strong></p>\n<p>You can get information about the classOfT if you pass it as a parameter like this:</p>\n<pre><code>public class TestMain {\n\n    public static void main(String[] args) {\n        new TestMain();\n    }\n\n    public TestMain() {\n        MyList&lt;String&gt; myList = new MyList&lt;&gt;(String.class);\n        System.out.println(&quot;classOfTAsString=&quot; + myList.getClassOfTAsString());\n    }\n\n    public static class MyList&lt;T&gt; extends ArrayList&lt;T&gt; {\n\n        private Class&lt;T&gt; classOfT;\n        private String classOfTAsString;\n\n        public MyList(Class&lt;T&gt; classOfT) {\n            super();\n            this.classOfT = classOfT;\n            this.classOfTAsString = classOfT.getName(); // or getSimpleName();\n        }\n\n        public String getClassOfTAsString() {\n            return classOfTAsString;\n        }\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699726768,"creation_date":1699726768,"answer_id":77466293,"question_id":77464572,"body_markdown":"&gt; _&quot;... Now I want to extract a mapping as this:\\\r\n&gt;\\\r\n&gt; t1 -&gt; T1; t2 -&gt; T2; t3 -&gt; T3 ...&quot;_\r\n\r\nYou wrote that incorrectly, by the way.&amp;nbsp; It should be _T1_ for _t3_.\r\n\r\nHere is an example.\r\n\r\n```java\r\nRowClass&lt;?, ?&gt; r = new RowClass&lt;&gt;();\r\nMap&lt;String, Type&gt; m\r\n    = Stream.of(r.getClass().getDeclaredFields())\r\n            .collect(Collectors.toMap(Field::getName, Field::getGenericType));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n{t1=T1, t2=T2, t3=T1}\r\n```","title":"How can I get the type variable vs field mapping from a generic class?","body":"<blockquote>\n<p><em>&quot;... Now I want to extract a mapping as this:<br />\n<br />\nt1 -&gt; T1; t2 -&gt; T2; t3 -&gt; T3 ...&quot;</em></p>\n</blockquote>\n<p>You wrote that incorrectly, by the way.  It should be <em>T1</em> for <em>t3</em>.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>RowClass&lt;?, ?&gt; r = new RowClass&lt;&gt;();\nMap&lt;String, Type&gt; m\n    = Stream.of(r.getClass().getDeclaredFields())\n            .collect(Collectors.toMap(Field::getName, Field::getGenericType));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>{t1=T1, t2=T2, t3=T1}\n</code></pre>\n"}],"owner":{"account_id":18103108,"reputation":405,"user_id":13160706,"display_name":"Machi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77466293,"answer_count":2,"score":0,"last_activity_date":1699726768,"creation_date":1699695580,"question_id":77464572,"body_markdown":"I have a generic class as below, two type variables with three fields declared.\r\n```\r\nclass RowClass&lt;T1, T2&gt; {\r\n    public T1 t1;\r\n    public T2 t2;\r\n    public T1 t3;\r\n}\r\n```\r\nNow I want to extract a mapping as this: \r\n\r\nt1 -&gt; T1; t2 -&gt; T2; t3 -&gt; T3\r\n\r\nSo I can know exactly which type variable each field is associated to.\r\nBelow code will not work as generic erasure.\r\n```\r\nfor (Field declaredField : RowClass.class.getDeclaredFields()) {\r\n    System.out.println(declaredField.getName()+&quot; -&gt; &quot; +declaredField.getType());\r\n}\r\n// t1 -&gt; class java.lang.Object\r\n// t2 -&gt; class java.lang.Object\r\n// t3 -&gt; class java.lang.Object\r\n// no type variable symbol printed\r\n```\r\n\r\nWhy I ask this issue? Just for study, I am try to understand how Jackson deserialize json string to Class with declared generic type, sucn as `List&lt;String&gt;`.\r\n\r\nfirst, I can get the type variable list:\r\n```\r\n// the list of type variable\r\nfinal TypeVariable&lt;Class&lt;RowClass&gt;&gt;[] typeParameters = RowClass.class.getTypeParameters();\r\nArrays.stream(typeParameters).forEach(System.out::println);\r\n```\r\nSecond, I can also get the list of actual arguments:\r\n```\r\nclass RowClassImpl extends RowClass&lt;String, Integer&gt; {\r\n}\r\n\r\nfinal ParameterizedType parameterizedType = (ParameterizedType) (RowClassImpl.class.getGenericSuperclass());\r\nArrays.stream(parameterizedType.getActualTypeArguments()).forEach(type -&gt; System.out.println(type.getTypeName()));\r\n```\r\n\r\nIf I can get the type variable vs field mapping, I can preserve all the generic information for each field.\r\n\r\n\r\n","title":"How can I get the type variable vs field mapping from a generic class?","body":"<p>I have a generic class as below, two type variables with three fields declared.</p>\n<pre><code>class RowClass&lt;T1, T2&gt; {\n    public T1 t1;\n    public T2 t2;\n    public T1 t3;\n}\n</code></pre>\n<p>Now I want to extract a mapping as this:</p>\n<p>t1 -&gt; T1; t2 -&gt; T2; t3 -&gt; T3</p>\n<p>So I can know exactly which type variable each field is associated to.\nBelow code will not work as generic erasure.</p>\n<pre><code>for (Field declaredField : RowClass.class.getDeclaredFields()) {\n    System.out.println(declaredField.getName()+&quot; -&gt; &quot; +declaredField.getType());\n}\n// t1 -&gt; class java.lang.Object\n// t2 -&gt; class java.lang.Object\n// t3 -&gt; class java.lang.Object\n// no type variable symbol printed\n</code></pre>\n<p>Why I ask this issue? Just for study, I am try to understand how Jackson deserialize json string to Class with declared generic type, sucn as <code>List&lt;String&gt;</code>.</p>\n<p>first, I can get the type variable list:</p>\n<pre><code>// the list of type variable\nfinal TypeVariable&lt;Class&lt;RowClass&gt;&gt;[] typeParameters = RowClass.class.getTypeParameters();\nArrays.stream(typeParameters).forEach(System.out::println);\n</code></pre>\n<p>Second, I can also get the list of actual arguments:</p>\n<pre><code>class RowClassImpl extends RowClass&lt;String, Integer&gt; {\n}\n\nfinal ParameterizedType parameterizedType = (ParameterizedType) (RowClassImpl.class.getGenericSuperclass());\nArrays.stream(parameterizedType.getActualTypeArguments()).forEach(type -&gt; System.out.println(type.getTypeName()));\n</code></pre>\n<p>If I can get the type variable vs field mapping, I can preserve all the generic information for each field.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1699742429,"post_id":77466138,"comment_id":136570262,"body_markdown":"You might need to import the projects again via _File &gt; Import...: General &gt; Import Eclipse Projects into Workspace_ (selected the recovered workspace as root directory).","body":"You might need to import the projects again via <i>File &gt; Import...: General &gt; Import Eclipse Projects into Workspace</i> (selected the recovered workspace as root directory)."}],"answers":[{"tags":[],"owner":{"account_id":18117615,"reputation":136,"user_id":13174087,"display_name":"Greenylie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699726758,"creation_date":1699726758,"answer_id":77466291,"question_id":77466138,"body_markdown":"It may have created a new workspace. Navigate to File &gt; Switch Workspace &gt; Other, and finally input the path of your old workspace folder you just recovered.","title":"Eclipse deleted all my project after doing some cleaning up of my files","body":"<p>It may have created a new workspace. Navigate to File &gt; Switch Workspace &gt; Other, and finally input the path of your old workspace folder you just recovered.</p>\n"}],"owner":{"account_id":29841507,"reputation":1,"user_id":22869601,"display_name":"Electrosaur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699726758,"creation_date":1699724273,"question_id":77466138,"body_markdown":"I was deleting some files off my desktop when I realized I had put my eclipseworkspace into the recycling bin. I then pulled it out and started up eclipse and I saw that all my projects had been deleted and all my appearence and checkstyle settings were gone.\r\n\r\n\r\n","title":"Eclipse deleted all my project after doing some cleaning up of my files","body":"<p>I was deleting some files off my desktop when I realized I had put my eclipseworkspace into the recycling bin. I then pulled it out and started up eclipse and I saw that all my projects had been deleted and all my appearence and checkstyle settings were gone.</p>\n"},{"tags":["java","spring-boot","jpa","lombok"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1699652331,"post_id":77462109,"comment_id":136563325,"body_markdown":"This is unrelated to Lombok. Your `FundTransfer` entity only contains an `@Id` annotation and no `@GeneratedValue` annotation. This means you manually have to enter the ID when saving the `FundTransfer` entity. You don&#39;t exactly show this code, but it&#39;s likely that you aren&#39;t providing any ID. If you do provide an ID to your objects, then edit your question to show this.","body":"This is unrelated to Lombok. Your <code>FundTransfer</code> entity only contains an <code>@Id</code> annotation and no <code>@GeneratedValue</code> annotation. This means you manually have to enter the ID when saving the <code>FundTransfer</code> entity. You don&#39;t exactly show this code, but it&#39;s likely that you aren&#39;t providing any ID. If you do provide an ID to your objects, then edit your question to show this."}],"owner":{"account_id":2306779,"reputation":155,"user_id":2025899,"accept_rate":25,"display_name":"Sreenivas M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1699652206,"answer_count":0,"score":-1,"last_activity_date":1699726698,"creation_date":1699640426,"question_id":77462109,"body_markdown":"Is it possible to use Lombok feature for a class which uses @Entity and @Table Annotation Here is the sample class.**\r\n\r\n    package test.model;\r\n    \r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.Table;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    import lombok.ToString;\r\n    \r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString\r\n    @Entity\r\n    @Table(name=&quot;FUND_TRANSFER&quot;)\r\n    public class FundTransfer{\r\n    \t@Id \r\n    \tprivate @Getter @Setter String txId;\r\n    \tprivate @Getter @Setter String accountFrom;\r\n    \tprivate @Getter @Setter String accountTo;\r\n    \tprivate @Getter @Setter double amount;\r\n    \tprivate @Getter @Setter String beneficiaryName;\r\n    \tprivate @Getter @Setter String ifscCode;\r\n    }\r\n    \r\n    Repository class\r\n    package com.msnv.fundtransfer.repository;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import com.msnv.fundtransfer.model.FundTransfer;\r\n    \r\n    @Repository\r\n    public interface FundTransferRepository extends JpaRepository&lt;FundTransfer, String&gt; {\r\n    \t\r\n    }\r\n    \r\n    this is service class\r\n    \r\n    package test.service;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import com.msnv.fundtransfer.model.FundTransfer;\r\n    import com.msnv.fundtransfer.repository.FundTransferRepository;\r\n    \r\n    @Service\r\n    public class FundTransferServiceImpl implements FundTransferService {\r\n    \t\r\n    \t@Autowired\r\n    \tFundTransferRepository fundTransferRepository ;\r\n    \t\r\n    \t@Override\r\n    \tpublic FundTransfer processTx(FundTransfer ft) {\r\n    \t\treturn fundTransferRepository .save(ft);\r\n    \t}\r\n    \t@Override\r\n    \tpublic List&lt;FundTransfer&gt; getTx() {\r\n    \t\treturn fundTransferRepository.findAll();\r\n    \t}\r\n    }\r\n\r\nWhen calling  ftRepo.save(ft), getting following exception :\r\n\r\n\r\n    org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): com.msnv.fundtransfer.model.FundTransfer\r\n    \tat org.hibernate.id.Assigned.generate(Assigned.java:33) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n    \tat org.hibernate.id.IdentifierGenerator.generate(IdentifierGenerator.java:147) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:120) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n    \tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:755) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n    \tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:739) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360) ~[spring-orm-6.0.13.jar:6.0.13]\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy99.persist(Unknown Source) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-6.0.13.jar:6.0.13]\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy99.persist(Unknown Source) ~[na:na]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:618) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.13.jar:6.0.13]\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy103.save(Unknown Source) ~[na:na]\r\n    \tat com.msnv.fundtransfer.service.FundTransferServiceImpl.processTx(FundTransferServiceImpl.java:19) ~[classes/:na]\r\n    \tat com.msnv.fundtransfer.controller.FundTransferController.processFundTransfer(FundTransferController.java:23) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n**\r\nWhen above service is called with value data is not getting stored in DB. Does JPA allows to use Lombok.FundTransfer class is using both JPA and Lombok. Can we solve this exception.**\r\n\r\n","title":"While Using lombok and JPA annotation Getting org.hibernate.id.IdentifierGenerationException","body":"<p>Is it possible to use Lombok feature for a class which uses @Entity and @Table Annotation Here is the sample class.**</p>\n<pre><code>package test.model;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\n@Entity\n@Table(name=&quot;FUND_TRANSFER&quot;)\npublic class FundTransfer{\n    @Id \n    private @Getter @Setter String txId;\n    private @Getter @Setter String accountFrom;\n    private @Getter @Setter String accountTo;\n    private @Getter @Setter double amount;\n    private @Getter @Setter String beneficiaryName;\n    private @Getter @Setter String ifscCode;\n}\n\nRepository class\npackage com.msnv.fundtransfer.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.msnv.fundtransfer.model.FundTransfer;\n\n@Repository\npublic interface FundTransferRepository extends JpaRepository&lt;FundTransfer, String&gt; {\n    \n}\n\nthis is service class\n\npackage test.service;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.msnv.fundtransfer.model.FundTransfer;\nimport com.msnv.fundtransfer.repository.FundTransferRepository;\n\n@Service\npublic class FundTransferServiceImpl implements FundTransferService {\n    \n    @Autowired\n    FundTransferRepository fundTransferRepository ;\n    \n    @Override\n    public FundTransfer processTx(FundTransfer ft) {\n        return fundTransferRepository .save(ft);\n    }\n    @Override\n    public List&lt;FundTransfer&gt; getTx() {\n        return fundTransferRepository.findAll();\n    }\n}\n</code></pre>\n<p>When calling  ftRepo.save(ft), getting following exception :</p>\n<pre><code>org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): com.msnv.fundtransfer.model.FundTransfer\n    at org.hibernate.id.Assigned.generate(Assigned.java:33) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.id.IdentifierGenerator.generate(IdentifierGenerator.java:147) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:120) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:755) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:739) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360) ~[spring-orm-6.0.13.jar:6.0.13]\n    at jdk.proxy2/jdk.proxy2.$Proxy99.persist(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-6.0.13.jar:6.0.13]\n    at jdk.proxy2/jdk.proxy2.$Proxy99.persist(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:618) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.13.jar:6.0.13]\n    at jdk.proxy2/jdk.proxy2.$Proxy103.save(Unknown Source) ~[na:na]\n    at com.msnv.fundtransfer.service.FundTransferServiceImpl.processTx(FundTransferServiceImpl.java:19) ~[classes/:na]\n    at com.msnv.fundtransfer.controller.FundTransferController.processFundTransfer(FundTransferController.java:23) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>**\nWhen above service is called with value data is not getting stored in DB. Does JPA allows to use Lombok.FundTransfer class is using both JPA and Lombok. Can we solve this exception.**</p>\n"},{"tags":["java","spring-boot","rest","spring-data-jpa","jira-rest-java-api"],"owner":{"account_id":27908831,"reputation":1,"user_id":21311455,"display_name":"Siddharth "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699726481,"creation_date":1699725704,"question_id":77466224,"body_markdown":"My ms rest api existing code implemented with jpa repository and on top of this code I am implementing 2 more endpoint where I will need to use jdbc template for oracle  and impala jdbc template as well , I have created one repository configuration class as well to refer respective datasource in the form of bean, when I am running pod by placing impala datasource in repository configuration then getting below exception. How to rectify this error? I have added hibernate core n entity manager library it is not working for me.\r\n\r\n&gt; Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaSharedEM_entityManagerFactory&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument\r\n\r\nI tried by adding hibernate core and entity manager library but it did not work for me.","title":"Error creating bean with name &#39;jpaSharedEM_entityManagerFactory&#39;: Cannt resolve ref to bean &#39;entityManagerFactory&#39; while setting constructor argument","body":"<p>My ms rest api existing code implemented with jpa repository and on top of this code I am implementing 2 more endpoint where I will need to use jdbc template for oracle  and impala jdbc template as well , I have created one repository configuration class as well to refer respective datasource in the form of bean, when I am running pod by placing impala datasource in repository configuration then getting below exception. How to rectify this error? I have added hibernate core n entity manager library it is not working for me.</p>\n<blockquote>\n<p>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument</p>\n</blockquote>\n<p>I tried by adding hibernate core and entity manager library but it did not work for me.</p>\n"},{"tags":["java","while-loop","try-catch"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1699714054,"post_id":77465492,"comment_id":136567455,"body_markdown":"Have you tried moving the `try-catch-block` inside the `while-block` ?  Also see `Random.nextInt(1000)+1` for a more concise form of your random generation.","body":"Have you tried moving the <code>try-catch-block</code> inside the <code>while-block</code> ?  Also see <code>Random.nextInt(1000)+1</code> for a more concise form of your random generation."}],"answers":[{"comments":[{"owner":{"account_id":13848741,"reputation":10825,"user_id":9997212,"display_name":"enzo"},"score":0,"creation_date":1699832165,"post_id":77465583,"comment_id":136577293,"body_markdown":"While this code snippet may be the solution, [including an explanation](//meta.stackexchange.com/questions/114762/explaining-entirely-‌​code-based-answers) really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion.","body":"While this code snippet may be the solution, <a href=\"//meta.stackexchange.com/questions/114762/explaining-entirely-%E2%80%8C%E2%80%8Bcode-based-answers\">including an explanation</a> really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion."},{"owner":{"account_id":17836236,"reputation":1,"user_id":12955180,"display_name":"nostradamus"},"score":0,"creation_date":1700036996,"post_id":77465583,"comment_id":136604370,"body_markdown":"thx, i noticed that i also had to put the initiliazation of the scanner in the try catch block and while loop","body":"thx, i noticed that i also had to put the initiliazation of the scanner in the try catch block and while loop"}],"tags":[],"owner":{"account_id":12504662,"reputation":11,"user_id":9101884,"display_name":"淡淡薄荷丶微微凉"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699714564,"creation_date":1699714564,"answer_id":77465583,"question_id":77465492,"body_markdown":"This may be what you want?\r\n\r\n    public static void main(String[] args) {\r\n\r\n        System.out.println(&quot;Welcome!&quot;);\r\n\r\n        int min = 1;\r\n        int max = 1000;\r\n\r\n        int randomNumber = (int) (Math.random() * (max - min) + 1) + min;\r\n\r\n        int firstDraw = 1;\r\n        int maxDraw = 1000;\r\n\r\n\r\n            while (firstDraw &lt; maxDraw) {\r\n\r\n                System.out.println(&quot;Please enter your guess: &quot;);\r\n\r\n                try {\r\n                    Scanner scanner = new Scanner(System.in);\r\n                    int guessingNumber = scanner.nextInt();\r\n\r\n                    if (guessingNumber &lt; randomNumber) {\r\n                        System.out.println(&quot;Too small!&quot;);\r\n                    } else if (guessingNumber &gt; randomNumber) {\r\n                        System.out.println(&quot;Too big!&quot;);\r\n                    } else {\r\n                        System.out.println(&quot;You win&quot;);\r\n                        break;\r\n                    }\r\n                    firstDraw++;\r\n\r\n                } catch (InputMismatchException e){\r\n                    System.out.println(&quot;Not a number - try again!&quot;);\r\n                }\r\n\r\n            }\r\n\r\n    }","title":"Continuing while loop after catching an InputMissMatchException, Java","body":"<p>This may be what you want?</p>\n<pre><code>public static void main(String[] args) {\n\n    System.out.println(&quot;Welcome!&quot;);\n\n    int min = 1;\n    int max = 1000;\n\n    int randomNumber = (int) (Math.random() * (max - min) + 1) + min;\n\n    int firstDraw = 1;\n    int maxDraw = 1000;\n\n\n        while (firstDraw &lt; maxDraw) {\n\n            System.out.println(&quot;Please enter your guess: &quot;);\n\n            try {\n                Scanner scanner = new Scanner(System.in);\n                int guessingNumber = scanner.nextInt();\n\n                if (guessingNumber &lt; randomNumber) {\n                    System.out.println(&quot;Too small!&quot;);\n                } else if (guessingNumber &gt; randomNumber) {\n                    System.out.println(&quot;Too big!&quot;);\n                } else {\n                    System.out.println(&quot;You win&quot;);\n                    break;\n                }\n                firstDraw++;\n\n            } catch (InputMismatchException e){\n                System.out.println(&quot;Not a number - try again!&quot;);\n            }\n\n        }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17836236,"reputation":1,"user_id":12955180,"display_name":"nostradamus"},"score":0,"creation_date":1700037019,"post_id":77465856,"comment_id":136604371,"body_markdown":"thx, helped me a lot","body":"thx, helped me a lot"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1699725373,"creation_date":1699719174,"answer_id":77465856,"question_id":77465492,"body_markdown":"&gt; _&quot;... After catching an exception the program ends, but i want to continue the loop. ...&quot;_\r\n\r\nUse the _[Scanner#next](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html#next())_, and _[Integer#parseInt](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String))_, methods.\\\r\nAnd, place the _try-catch_ within the _loop_.\r\n\r\nAdditionally, when the correct value is guessed, _break_ the _loop_.\r\n\r\nNote that the _parseInt_ method throws a _NumberFormatException_, and not a _InputMismatchException_.\r\n\r\n```java\r\nwhile (firstDraw &lt; maxDraw) {\r\n\r\n    System.out.println(&quot;Please enter your guess: &quot;);\r\n\r\n    try {\r\n        int guessingNumber = Integer.parseInt(scanner.next());\r\n\r\n        if (guessingNumber &lt; randomNumber) {\r\n            System.out.println(&quot;Too small!&quot;);\r\n        } else if (guessingNumber &gt; randomNumber) {\r\n            System.out.println(&quot;Too big!&quot;);\r\n        } else {\r\n            System.out.println(&quot;You win&quot;);\r\n            break;\r\n        }\r\n        firstDraw++;\r\n    } catch (NumberFormatException e){\r\n        System.out.println(&quot;Not a number - try again!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nWelcome!\r\nPlease enter your guess: \r\nabc\r\nNot a number - try again!\r\nPlease enter your guess: \r\n123\r\nToo small!\r\nPlease enter your guess: \r\n456\r\nToo big!\r\nPlease enter your guess: \r\n241\r\nYou win\r\n```\r\n\r\nOn a final note, you can utilize the _[RandomGenerator#nextInt](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/random/RandomGenerator.html#nextInt(int,int))_ method, to specify a bounds.\r\n\r\n```java\r\nint randomNumber = new Random().nextInt(min, max + 1);\r\n```","title":"Continuing while loop after catching an InputMissMatchException, Java","body":"<blockquote>\n<p><em>&quot;... After catching an exception the program ends, but i want to continue the loop. ...&quot;</em></p>\n</blockquote>\n<p>Use the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html#next()\" rel=\"nofollow noreferrer\">Scanner#next</a></em>, and <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String)\" rel=\"nofollow noreferrer\">Integer#parseInt</a></em>, methods.<br />\nAnd, place the <em>try-catch</em> within the <em>loop</em>.</p>\n<p>Additionally, when the correct value is guessed, <em>break</em> the <em>loop</em>.</p>\n<p>Note that the <em>parseInt</em> method throws a <em>NumberFormatException</em>, and not a <em>InputMismatchException</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (firstDraw &lt; maxDraw) {\n\n    System.out.println(&quot;Please enter your guess: &quot;);\n\n    try {\n        int guessingNumber = Integer.parseInt(scanner.next());\n\n        if (guessingNumber &lt; randomNumber) {\n            System.out.println(&quot;Too small!&quot;);\n        } else if (guessingNumber &gt; randomNumber) {\n            System.out.println(&quot;Too big!&quot;);\n        } else {\n            System.out.println(&quot;You win&quot;);\n            break;\n        }\n        firstDraw++;\n    } catch (NumberFormatException e){\n        System.out.println(&quot;Not a number - try again!&quot;);\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Welcome!\nPlease enter your guess: \nabc\nNot a number - try again!\nPlease enter your guess: \n123\nToo small!\nPlease enter your guess: \n456\nToo big!\nPlease enter your guess: \n241\nYou win\n</code></pre>\n<p>On a final note, you can utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/random/RandomGenerator.html#nextInt(int,int)\" rel=\"nofollow noreferrer\">RandomGenerator#nextInt</a></em> method, to specify a bounds.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int randomNumber = new Random().nextInt(min, max + 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9834179,"reputation":13,"user_id":7285079,"display_name":"Oskar Ray-Frayssinet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699721108,"creation_date":1699721108,"answer_id":77465970,"question_id":77465492,"body_markdown":"I understand your problem:\r\n\r\n 1. the try-catch needs to be inside the while-loop and not the reverse. \r\n\r\n 2. the scanner.nextInt() needs a scanner.nextLine() just below it like so: [click to see code example][1].\r\n\r\n 3. you need a scanner.nextLine() inside the catch-statement: [click to see code example][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YvRhh.png\r\n  [2]: https://i.stack.imgur.com/AbNgR.png","title":"Continuing while loop after catching an InputMissMatchException, Java","body":"<p>I understand your problem:</p>\n<ol>\n<li><p>the try-catch needs to be inside the while-loop and not the reverse.</p>\n</li>\n<li><p>the scanner.nextInt() needs a scanner.nextLine() just below it like so: <a href=\"https://i.stack.imgur.com/YvRhh.png\" rel=\"nofollow noreferrer\">click to see code example</a>.</p>\n</li>\n<li><p>you need a scanner.nextLine() inside the catch-statement: <a href=\"https://i.stack.imgur.com/AbNgR.png\" rel=\"nofollow noreferrer\">click to see code example</a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":17836236,"reputation":1,"user_id":12955180,"display_name":"nostradamus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77465856,"answer_count":3,"score":-1,"last_activity_date":1699725373,"creation_date":1699713346,"question_id":77465492,"body_markdown":"I&#39;m new in Java and have a problem after catching an exception. After catching an exception the program ends, but i want to continue the loop. The use of the program is that a user type in numbers between 1 and 10 through a scanner until the typed number is equal to the random number defined before.\r\n\r\n```\r\npublic class GuessingGame {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        System.out.println(&quot;Welcome!&quot;);\r\n\r\n        int min = 1;\r\n        int max = 1000;\r\n\r\n        int randomNumber = (int) (Math.random() * (max - min) + 1) + min;\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        int firstDraw = 1;\r\n        int maxDraw = 1000;\r\n\r\n        try {\r\n\r\n            while (firstDraw &lt; maxDraw) {\r\n\r\n                System.out.println(&quot;Please enter your guess: &quot;);\r\n\r\n                int guessingNumber = scanner.nextInt();\r\n\r\n                if (guessingNumber &lt; randomNumber) {\r\n                    System.out.println(&quot;Too small!&quot;);\r\n                } else if (guessingNumber &gt; randomNumber) {\r\n                    System.out.println(&quot;Too big!&quot;);\r\n                } else {\r\n                    System.out.println(&quot;You win&quot;);\r\n                }\r\n                firstDraw++;\r\n            }\r\n        } catch (InputMismatchException e){\r\n            System.out.println(&quot;Not a number - try again!&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI guess the problem is, where im going to place the try-catch block. I tried several possibilities but i dont get the right solution. If I just type in numbers, the program works and it ends until i guessed the right number. But if i use letters instead of numbers, it ends the program. I also saw some similiar problems asked before but i really don&#39;t get it\r\n\r\nThy for your help fellows :)","title":"Continuing while loop after catching an InputMissMatchException, Java","body":"<p>I'm new in Java and have a problem after catching an exception. After catching an exception the program ends, but i want to continue the loop. The use of the program is that a user type in numbers between 1 and 10 through a scanner until the typed number is equal to the random number defined before.</p>\n<pre><code>public class GuessingGame {\n\n    public static void main(String[] args) {\n\n        System.out.println(&quot;Welcome!&quot;);\n\n        int min = 1;\n        int max = 1000;\n\n        int randomNumber = (int) (Math.random() * (max - min) + 1) + min;\n\n        Scanner scanner = new Scanner(System.in);\n\n        int firstDraw = 1;\n        int maxDraw = 1000;\n\n        try {\n\n            while (firstDraw &lt; maxDraw) {\n\n                System.out.println(&quot;Please enter your guess: &quot;);\n\n                int guessingNumber = scanner.nextInt();\n\n                if (guessingNumber &lt; randomNumber) {\n                    System.out.println(&quot;Too small!&quot;);\n                } else if (guessingNumber &gt; randomNumber) {\n                    System.out.println(&quot;Too big!&quot;);\n                } else {\n                    System.out.println(&quot;You win&quot;);\n                }\n                firstDraw++;\n            }\n        } catch (InputMismatchException e){\n            System.out.println(&quot;Not a number - try again!&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I guess the problem is, where im going to place the try-catch block. I tried several possibilities but i dont get the right solution. If I just type in numbers, the program works and it ends until i guessed the right number. But if i use letters instead of numbers, it ends the program. I also saw some similiar problems asked before but i really don't get it</p>\n<p>Thy for your help fellows :)</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1699701617,"post_id":77464425,"comment_id":136566365,"body_markdown":"Why are you using object instead of book? XMLObject obj = fac.newXMLObject(Collections.singletonList(content), &quot;object&quot;, (String) null, (String) null);","body":"Why are you using object instead of book? XMLObject obj = fac.newXMLObject(Collections.singletonList(content), &quot;object&quot;, (String) null, (String) null);"},{"owner":{"account_id":29877843,"reputation":1,"user_id":22897558,"display_name":"user22897558"},"score":0,"creation_date":1699853479,"post_id":77464425,"comment_id":136578601,"body_markdown":"@jdweng\nThis should include or not replace. It seem like the syntax of enveloping xml signature.","body":"@jdweng This should include or not replace. It seem like the syntax of enveloping xml signature."},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1699868866,"post_id":77464425,"comment_id":136580496,"body_markdown":"See following : https://www.oracle.com/technical-resources/articles/java/dig-signature-api.html or this https://stackoverflow.com/questions/12528667/xml-digital-signature-java","body":"See following : <a href=\"https://www.oracle.com/technical-resources/articles/java/dig-signature-api.html\" rel=\"nofollow noreferrer\">oracle.com/technical-resources/articles/java/&hellip;</a> or this <a href=\"https://stackoverflow.com/questions/12528667/xml-digital-signature-java\" title=\"xml digital signature java\">stackoverflow.com/questions/12528667/xml-digital-signature-j&zwnj;&#8203;ava</a>"}],"owner":{"account_id":29877843,"reputation":1,"user_id":22897558,"display_name":"user22897558"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699725272,"creation_date":1699692530,"question_id":77464425,"body_markdown":"```\r\n            DigestMethod sm3DigMethod = fac.newDigestMethod(DOMDigestMethod.SM3, null);\r\n\r\n\r\n            \r\n            DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();\r\n            docBuilderFactory.setNamespaceAware(true);\r\n            Document signatureDoc = docBuilderFactory.newDocumentBuilder().parse(new ByteArrayInputStream(data));\r\n            XMLStructure content = new DOMStructure(signatureDoc.getDocumentElement());\r\n            XMLObject obj = fac.newXMLObject(Collections.singletonList(content), &quot;object&quot;, (String) null, (String) null);\r\n\r\n            \r\n            CanonicalizationMethod c14nWithCommentMethod =\r\n                    fac.newCanonicalizationMethod(&quot;http://127.0.0.1/TR/2001/REC-xml-c14n-20010315#WithComments&quot;, (C14NMethodParameterSpec) null);\r\n            \r\n            SignatureMethod sm2_sm3SigMethod = fac.newSignatureMethod(DOMSignatureMethod.SM2_SM3, null);\r\n            \r\n            SignedInfo signedInfo = fac.newSignedInfo(c14nWithCommentMethod, sm2_sm3SigMethod, Collections.singletonList(refToRootDoc));\r\n\r\n            KeyInfoFactory keyInfoFac = fac.getKeyInfoFactory();\r\n            KeyValue keyValue = keyInfoFac.newKeyValue(publicKey);\r\n            KeyInfo keyInfo = keyInfoFac.newKeyInfo(Collections.singletonList(keyValue));\r\n            \r\n            XMLSignature signature = fac.newXMLSignature(signedInfo, keyInfo, Collections.singletonList(obj), null, null);\r\n\r\n\r\n            DOMSignContext dsc = new DOMSignContext(privateKey, signatureDoc);\r\n\r\n            \r\n            signature.sign(dsc);\r\n```\r\n\r\nWhen signing: original data is \r\n[enter image description here][1]\r\n\r\nwhen verifing: original data is \r\n[enter image description here][2]\r\n\r\nI feel like there is a problem with the code in the signature section,hope it can be signed using the actual original text. What do I need to do\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f0qef.png\r\n  [2]: https://i.stack.imgur.com/zuPZb.png","title":"How to solve the diffenece of originaldata when enveloping xml signature between sign and verify?","body":"<pre><code>            DigestMethod sm3DigMethod = fac.newDigestMethod(DOMDigestMethod.SM3, null);\n\n\n            \n            DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();\n            docBuilderFactory.setNamespaceAware(true);\n            Document signatureDoc = docBuilderFactory.newDocumentBuilder().parse(new ByteArrayInputStream(data));\n            XMLStructure content = new DOMStructure(signatureDoc.getDocumentElement());\n            XMLObject obj = fac.newXMLObject(Collections.singletonList(content), &quot;object&quot;, (String) null, (String) null);\n\n            \n            CanonicalizationMethod c14nWithCommentMethod =\n                    fac.newCanonicalizationMethod(&quot;http://127.0.0.1/TR/2001/REC-xml-c14n-20010315#WithComments&quot;, (C14NMethodParameterSpec) null);\n            \n            SignatureMethod sm2_sm3SigMethod = fac.newSignatureMethod(DOMSignatureMethod.SM2_SM3, null);\n            \n            SignedInfo signedInfo = fac.newSignedInfo(c14nWithCommentMethod, sm2_sm3SigMethod, Collections.singletonList(refToRootDoc));\n\n            KeyInfoFactory keyInfoFac = fac.getKeyInfoFactory();\n            KeyValue keyValue = keyInfoFac.newKeyValue(publicKey);\n            KeyInfo keyInfo = keyInfoFac.newKeyInfo(Collections.singletonList(keyValue));\n            \n            XMLSignature signature = fac.newXMLSignature(signedInfo, keyInfo, Collections.singletonList(obj), null, null);\n\n\n            DOMSignContext dsc = new DOMSignContext(privateKey, signatureDoc);\n\n            \n            signature.sign(dsc);\n</code></pre>\n<p>When signing: original data is\n<a href=\"https://i.stack.imgur.com/f0qef.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>when verifing: original data is\n<a href=\"https://i.stack.imgur.com/zuPZb.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I feel like there is a problem with the code in the signature section,hope it can be signed using the actual original text. What do I need to do</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-framework-beans"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1699726003,"post_id":77466179,"comment_id":136568740,"body_markdown":"The exception is not related to your project. Don&#39;t post images with error messages if they can be posted as text.","body":"The exception is not related to your project. Don&#39;t post images with error messages if they can be posted as text."},{"owner":{"account_id":29880659,"reputation":1,"user_id":22899671,"display_name":"krishn murari"},"score":0,"creation_date":1699727895,"post_id":77466179,"comment_id":136568962,"body_markdown":"ok, but how can I resolve this issue?","body":"ok, but how can I resolve this issue?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":1,"creation_date":1699728361,"post_id":77466179,"comment_id":136569006,"body_markdown":"If you have an idea how to resolve this issue you should add it to the question. Without details and the defined problem is not possible to find a solution.","body":"If you have an idea how to resolve this issue you should add it to the question. Without details and the defined problem is not possible to find a solution."}],"owner":{"account_id":29880659,"reputation":1,"user_id":22899671,"display_name":"krishn murari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699725043,"creation_date":1699724958,"question_id":77466179,"body_markdown":"[enter image description here][1]this is error image.I am getting error and warning from spring tool suit when, I am creating mvc project. can someone please help me how to figure out from this issue?\r\n\r\nsuggestion and solution.  (WAR Validation Failed: org.eclipse.jst.j2ee.commonarchivecore.internal.exception.DeploymentDescriptorLoadException: WEB-INF/web.xml)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8eAE1.png","title":"WAR Validation Failed: org.eclipse.jst.j2ee.commonarchivecore.internal.exception.DeploymentDescriptorLoadException: WEB-INF/web.xml","body":"<p><a href=\"https://i.stack.imgur.com/8eAE1.png\" rel=\"nofollow noreferrer\">enter image description here</a>this is error image.I am getting error and warning from spring tool suit when, I am creating mvc project. can someone please help me how to figure out from this issue?</p>\n<p>suggestion and solution.  (WAR Validation Failed: org.eclipse.jst.j2ee.commonarchivecore.internal.exception.DeploymentDescriptorLoadException: WEB-INF/web.xml)</p>\n"},{"tags":["java","spring","spring-mvc","swagger"],"comments":[{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1699771952,"post_id":77458782,"comment_id":136571763,"body_markdown":"Can you share your project via github for a quicker resolution?","body":"Can you share your project via github for a quicker resolution?"}],"answers":[{"comments":[{"owner":{"account_id":13919183,"reputation":83,"user_id":10050092,"display_name":"Nitish K"},"score":0,"creation_date":1699724747,"post_id":77458864,"comment_id":136568597,"body_markdown":"It is not working, it throws error [http-nio-8080-exec-5] (DispatcherServlet.java:1283) - No mapping for GET /kes/v1.0/swagger-ui/index.html, also tried multiple scenarios, none worked, Swagger actually does not work when changing  to addResourceHandler(&quot;/kes/v1.0/swagger-ui/**&quot;)","body":"It is not working, it throws error [http-nio-8080-exec-5] (DispatcherServlet.java:1283) - No mapping for GET /kes/v1.0/swagger-ui/index.html, also tried multiple scenarios, none worked, Swagger actually does not work when changing  to addResourceHandler(&quot;/kes/v1.0/swagger-ui/**&quot;)"}],"tags":[],"owner":{"account_id":12656865,"reputation":29,"user_id":9199121,"display_name":"Shuchi Sinha"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699608007,"creation_date":1699607638,"answer_id":77458864,"question_id":77458782,"body_markdown":"Can you please change the URL pattern in your Swagger configuration to match the actual URL of your API endpoints and restart the tomcat.\r\n```@Override\r\npublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n    registry.addResourceHandler(&quot;/kes/v1.0/swagger-ui/**&quot;)\r\n            .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/springfox-swagger-ui/&quot;);\r\n}\r\n","title":"How do we modify Controller API request URL in Swagger?","body":"<p>Can you please change the URL pattern in your Swagger configuration to match the actual URL of your API endpoints and restart the tomcat.</p>\n<pre><code>public void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry.addResourceHandler(&quot;/kes/v1.0/swagger-ui/**&quot;)\n            .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/springfox-swagger-ui/&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":13919183,"reputation":83,"user_id":10050092,"display_name":"Nitish K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699724872,"creation_date":1699606787,"question_id":77458782,"body_markdown":"I&#39;m working on Swagger implementation for Java Spring MVC project.(NON-Spring Boot project, manually deploy on tomcat 9.0v)\r\n```\r\nURL for Swagger : http://localhost:8080/kes/v1.0/swagger-ui/index.html\r\n```\r\nso when hitting any Controller API, the request URL the Swagger forms is this\r\n \r\n```\r\nActual   : http://localhost:8080/v1.0/kes/swagger-ui/index.html\r\nExpected : http://localhost:8080/kes/v1.0/swagger-ui/index.html\r\n\r\nactual /v1.0/kes/\r\nexpected /kes/v1.0/\r\n```\r\nDue to this issue I m getting 404 error.\r\nI tried multiple options inclueding change url pattern in web.xml, but didn&#39;t resolve. \r\n\r\n\r\n```\r\n  &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t&lt;!--scope&gt;compile&lt;/scope--&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nConfiguration is this \r\n\r\n```\r\npackage com.pen.lis.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\nimport springfox.documentation.builders.RequestHandlerSelectors;\r\nimport springfox.documentation.spi.DocumentationType;\r\nimport springfox.documentation.spring.web.plugins.Docket;\r\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n\r\n@Configuration\r\n@EnableSwagger2\r\n@EnableWebMvc\r\npublic class SwaggerConfig implements WebMvcConfigurer {\r\n\r\n\t@Override\r\n\tpublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n\t\tregistry.addResourceHandler(&quot;/swagger-ui/**&quot;)\r\n\t\t.addResourceLocations(&quot;classpath:/META-INF/resources/webjars/springfox-swagger-ui/&quot;);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Docket productApi() {\r\n\t\treturn new Docket(DocumentationType.SWAGGER_2)\r\n\t\t\t\t.select()\r\n\t\t\t\t.apis(RequestHandlerSelectors.basePackage(&quot;com.eds.kes.controller&quot;)).build();\r\n\t}\r\n}\r\n```","title":"How do we modify Controller API request URL in Swagger?","body":"<p>I'm working on Swagger implementation for Java Spring MVC project.(NON-Spring Boot project, manually deploy on tomcat 9.0v)</p>\n<pre><code>URL for Swagger : http://localhost:8080/kes/v1.0/swagger-ui/index.html\n</code></pre>\n<p>so when hitting any Controller API, the request URL the Swagger forms is this</p>\n<pre><code>Actual   : http://localhost:8080/v1.0/kes/swagger-ui/index.html\nExpected : http://localhost:8080/kes/v1.0/swagger-ui/index.html\n\nactual /v1.0/kes/\nexpected /kes/v1.0/\n</code></pre>\n<p>Due to this issue I m getting 404 error.\nI tried multiple options inclueding change url pattern in web.xml, but didn't resolve.</p>\n<pre><code>  &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;!--scope&gt;compile&lt;/scope--&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Configuration is this</p>\n<pre><code>package com.pen.lis.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@Configuration\n@EnableSwagger2\n@EnableWebMvc\npublic class SwaggerConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/swagger-ui/**&quot;)\n        .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/springfox-swagger-ui/&quot;);\n    }\n\n    @Bean\n    public Docket productApi() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.eds.kes.controller&quot;)).build();\n    }\n}\n</code></pre>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":471003,"reputation":20684,"user_id":878514,"accept_rate":73,"display_name":"fracz"},"score":1,"creation_date":1451981453,"post_id":24681223,"comment_id":56959017,"body_markdown":"Possible duplicate of [Error setting a default null value for an annotation&#39;s field](http://stackoverflow.com/questions/1178104/error-setting-a-default-null-value-for-an-annotations-field)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1178104/error-setting-a-default-null-value-for-an-annotations-field\">Error setting a default null value for an annotation&#39;s field</a>"}],"answers":[{"comments":[{"owner":{"account_id":977031,"reputation":15734,"user_id":997851,"accept_rate":60,"display_name":"sockeqwe"},"score":0,"creation_date":1405008429,"post_id":24681305,"comment_id":38268311,"body_markdown":"Yes, but than I always have to write `@Foo(value = {})`  and in 90 % of usage I do not want to provide another Configuration, so I would like to have only `@Foo`","body":"Yes, but than I always have to write <code>@Foo(value = {})</code>  and in 90 % of usage I do not want to provide another Configuration, so I would like to have only <code>@Foo</code>"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":4,"creation_date":1405008477,"post_id":24681305,"comment_id":38268338,"body_markdown":"@sockeqwe It&#39;s as easy as setting a `default {}`.","body":"@sockeqwe It&#39;s as easy as setting a <code>default {}</code>."}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":2,"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1405008304,"creation_date":1405008304,"answer_id":24681305,"question_id":24681223,"body_markdown":"No, you can&#39;t use `null` for an annotation attribute value. However you can use an array type and provide an empty array.\r\n\r\n\r\n    public @interface Foo {\r\n        Config[] value();  \r\n    }\r\n    ...\r\n    @Foo(value = {})\r\n\r\nor \r\n\r\n    public @interface Foo {\r\n        Config[] value() default {};  \r\n    }\r\n    ...\r\n    @Foo\r\n","title":"Annotation default &quot;null&quot; value","body":"<p>No, you can't use <code>null</code> for an annotation attribute value. However you can use an array type and provide an empty array.</p>\n\n<pre><code>public @interface Foo {\n    Config[] value();  \n}\n...\n@Foo(value = {})\n</code></pre>\n\n<p>or </p>\n\n<pre><code>public @interface Foo {\n    Config[] value() default {};  \n}\n...\n@Foo\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16407507,"reputation":69,"user_id":11851707,"display_name":"jepac daemon"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1564398003,"creation_date":1564395719,"answer_id":57251785,"question_id":24681223,"body_markdown":"try that:\r\n```\r\nConfig value() default @Config();\r\n```","title":"Annotation default &quot;null&quot; value","body":"<p>try that:</p>\n\n<pre><code>Config value() default @Config();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699724717,"creation_date":1699724717,"answer_id":77466165,"question_id":24681223,"body_markdown":"The @Sotirios Delimanolis answer is correct, but I would like to explain on why this restriction even exists.\r\n\r\nIn Java, annotation attribute values cannot be `null` because the [JLS defines][1] that annotation attributes must have a constant value ***known at compile-time***. Therefore, an annotation attribute can possibly be:\r\n\r\n1. A constant expression that is known at compile-time (like `1`, `&quot;Hello&quot;`, `Month.JULY`, etc.)\r\n2. An element value pair (afaik it is like other annotations `@Config`)\r\n3. An array initializer (like `{1, 2, 3}`)\r\n\r\nAs you see, `null` [is not considered as a value known at compile-time][2]. Therefore you have this restriction. So it&#39;s not that `null` is somehow specifically excluded as an annotation value by language developers, it&#39;s just not considered to be known at compile time :)   \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.7.1\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se16/html/jls-15.html#jls-15.8.1","title":"Annotation default &quot;null&quot; value","body":"<p>The @Sotirios Delimanolis answer is correct, but I would like to explain on why this restriction even exists.</p>\n<p>In Java, annotation attribute values cannot be <code>null</code> because the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.7.1\" rel=\"nofollow noreferrer\">JLS defines</a> that annotation attributes must have a constant value <em><strong>known at compile-time</strong></em>. Therefore, an annotation attribute can possibly be:</p>\n<ol>\n<li>A constant expression that is known at compile-time (like <code>1</code>, <code>&quot;Hello&quot;</code>, <code>Month.JULY</code>, etc.)</li>\n<li>An element value pair (afaik it is like other annotations <code>@Config</code>)</li>\n<li>An array initializer (like <code>{1, 2, 3}</code>)</li>\n</ol>\n<p>As you see, <code>null</code> <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-15.html#jls-15.8.1\" rel=\"nofollow noreferrer\">is not considered as a value known at compile-time</a>. Therefore you have this restriction. So it's not that <code>null</code> is somehow specifically excluded as an annotation value by language developers, it's just not considered to be known at compile time :)</p>\n"}],"owner":{"account_id":977031,"reputation":15734,"user_id":997851,"accept_rate":60,"display_name":"sockeqwe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30142,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":24681305,"answer_count":3,"score":26,"last_activity_date":1699724717,"creation_date":1405008111,"question_id":24681223,"body_markdown":"Is it possible to specify a annotation with a null as default?\r\n\r\n\r\nWhat I want to achieve is something like optional annotation attributes.\r\n\r\nFor example\r\n\r\n    public @interface Foo {\r\n    \r\n        Config value();\r\n    \r\n    }\r\n\r\n\r\n    public @interface Config {\r\n    \r\n        boolean ignoreUnknown() default false;\r\n        int steps() default 2;\r\n    }\r\n\r\n\r\nI would like to use @Foo (without specifying the value, so it should be some kind of optional) and I would also like to be able to write something like this: \r\n\r\n    @Foo (\r\n        @Config(\r\n            ignoreUnknown = true,\r\n            steps = 10\r\n        )\r\n    )\r\n\r\n\r\nIs it possible to do something like this with annotations?\r\n\r\nI don&#39;t want to do something like this\r\n\r\n    public @interface Foo {\r\n    \r\n       boolean ignoreUnknown() default false;\r\n       int steps() default 2;\r\n    }\r\n\r\nbecause I want to be able to distinguish if a property has been set or not (and not if it has the default value or not).\r\n\r\nIt&#39;s a little bit complicated to describe, but I&#39;m working on a little Annotation Processor which generates Java code. However at runtime I would like to setup a default config that should be used for all @Foo, excepted those who have set own configuration with @Config.\r\n\r\n\r\n so what I want is something like this:\r\n\r\n    public @interface Foo {\r\n        \r\n           Config value() default null;\r\n        \r\n     }\r\n\r\n\r\n\r\nBut as far as I know its not possible, right? Does anybody knows a workaround for such an optional attribute?\r\n","title":"Annotation default &quot;null&quot; value","body":"<p>Is it possible to specify a annotation with a null as default?</p>\n\n<p>What I want to achieve is something like optional annotation attributes.</p>\n\n<p>For example</p>\n\n<pre><code>public @interface Foo {\n\n    Config value();\n\n}\n\n\npublic @interface Config {\n\n    boolean ignoreUnknown() default false;\n    int steps() default 2;\n}\n</code></pre>\n\n<p>I would like to use @Foo (without specifying the value, so it should be some kind of optional) and I would also like to be able to write something like this: </p>\n\n<pre><code>@Foo (\n    @Config(\n        ignoreUnknown = true,\n        steps = 10\n    )\n)\n</code></pre>\n\n<p>Is it possible to do something like this with annotations?</p>\n\n<p>I don't want to do something like this</p>\n\n<pre><code>public @interface Foo {\n\n   boolean ignoreUnknown() default false;\n   int steps() default 2;\n}\n</code></pre>\n\n<p>because I want to be able to distinguish if a property has been set or not (and not if it has the default value or not).</p>\n\n<p>It's a little bit complicated to describe, but I'm working on a little Annotation Processor which generates Java code. However at runtime I would like to setup a default config that should be used for all @Foo, excepted those who have set own configuration with @Config.</p>\n\n<p>so what I want is something like this:</p>\n\n<pre><code>public @interface Foo {\n\n       Config value() default null;\n\n }\n</code></pre>\n\n<p>But as far as I know its not possible, right? Does anybody knows a workaround for such an optional attribute?</p>\n"},{"tags":["java","android","dictionary","osmdroid"],"answers":[{"tags":[],"owner":{"account_id":7288661,"reputation":357,"user_id":5555912,"accept_rate":29,"display_name":"ivanovd422"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1549546084,"creation_date":1549546084,"answer_id":54574456,"question_id":54574152,"body_markdown":"For removing specific marker you should use:\r\n\r\n        mapView.getOverlays().remove(overlay);\r\n        mapView.invalidate();\r\n\r\n","title":"How to remove Markers from Osmdroid Map","body":"<p>For removing specific marker you should use:</p>\n\n<pre><code>    mapView.getOverlays().remove(overlay);\n    mapView.invalidate();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8630547,"reputation":416,"user_id":6462285,"display_name":"Mehran Mahmoudkhani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559478634,"creation_date":1559478634,"answer_id":56415036,"question_id":54574152,"body_markdown":"There is Another way of adding and removing items.\r\n\r\nfirst, you need this snippet : \r\n\r\n    ArrayList&lt;OverlayItem&gt; items = items = new ArrayList&lt;OverlayItem&gt;();\r\n    ItemizedOverlayWithFocus&lt;OverlayItem&gt; mOverlay = mOverlay = new ItemizedOverlayWithFocus&lt;OverlayItem&gt;(items,\r\n                new ItemizedIconOverlay.OnItemGestureListener&lt;OverlayItem&gt;() {\r\n                    @Override\r\n                    public boolean onItemSingleTapUp(final int position, final OverlayItem item) {\r\n                        //do something\r\n                        return true;\r\n                    }\r\n                    @Override\r\n                    public boolean onItemLongPress(final int position, final OverlayItem item) {\r\n                        return false;\r\n                    }\r\n                }, getApplicationContext());\r\n     mOverlay.setFocusItemsOnTap(true);\r\n\r\n\r\nto add items before app starting, use this code :\r\n\r\n    mOverlay.addItem(new OverlayItem(&quot;Title&quot;, &quot;Description&quot;, new \r\n    GeoPoint(31.7359474,55.4384632))); \r\n\r\n    map.getOverlays().add(mOverlay);\r\n\r\nwhile running the app you can **add more items** with below code : \r\n\r\n    mOverlay.addItem(new OverlayItem(&quot;new Title&quot;, &quot;new Description&quot;, new GeoPoint(Latitude,Longitude)));\r\n\r\nremoving items while the app is running with below code : \r\n\r\n    mOverlay.removeItem(int position);\r\n\r\n\r\nthe `position` is the n-th item you added to list.you can put remove code into  `onItemSingleTapUp`that we use up in this answer, that means when you tap on item it will remove from screen.\r\n\r\n","title":"How to remove Markers from Osmdroid Map","body":"<p>There is Another way of adding and removing items.</p>\n\n<p>first, you need this snippet : </p>\n\n<pre><code>ArrayList&lt;OverlayItem&gt; items = items = new ArrayList&lt;OverlayItem&gt;();\nItemizedOverlayWithFocus&lt;OverlayItem&gt; mOverlay = mOverlay = new ItemizedOverlayWithFocus&lt;OverlayItem&gt;(items,\n            new ItemizedIconOverlay.OnItemGestureListener&lt;OverlayItem&gt;() {\n                @Override\n                public boolean onItemSingleTapUp(final int position, final OverlayItem item) {\n                    //do something\n                    return true;\n                }\n                @Override\n                public boolean onItemLongPress(final int position, final OverlayItem item) {\n                    return false;\n                }\n            }, getApplicationContext());\n mOverlay.setFocusItemsOnTap(true);\n</code></pre>\n\n<p>to add items before app starting, use this code :</p>\n\n<pre><code>mOverlay.addItem(new OverlayItem(\"Title\", \"Description\", new \nGeoPoint(31.7359474,55.4384632))); \n\nmap.getOverlays().add(mOverlay);\n</code></pre>\n\n<p>while running the app you can <strong>add more items</strong> with below code : </p>\n\n<pre><code>mOverlay.addItem(new OverlayItem(\"new Title\", \"new Description\", new GeoPoint(Latitude,Longitude)));\n</code></pre>\n\n<p>removing items while the app is running with below code : </p>\n\n<pre><code>mOverlay.removeItem(int position);\n</code></pre>\n\n<p>the <code>position</code> is the n-th item you added to list.you can put remove code into  <code>onItemSingleTapUp</code>that we use up in this answer, that means when you tap on item it will remove from screen.</p>\n"},{"comments":[{"owner":{"account_id":1194778,"reputation":9454,"user_id":1166727,"accept_rate":65,"display_name":"tony gil"},"score":0,"creation_date":1630515874,"post_id":64381532,"comment_id":121979555,"body_markdown":"Depending on the version of your `bonus pack`, you might need to use the `setTitle` and `getTitle` methods.","body":"Depending on the version of your <code>bonus pack</code>, you might need to use the <code>setTitle</code> and <code>getTitle</code> methods."}],"tags":[],"owner":{"account_id":18550487,"reputation":31,"user_id":13516835,"display_name":"Dren Pirraku"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1602809694,"creation_date":1602809694,"answer_id":64381532,"question_id":54574152,"body_markdown":"1. When you add a marker set the Id to anything you like.\r\n\r\n        MapView mapview = (MapView) findViewById(R.id.mapview);\r\n        Marker marker = new Marker(mapview);\r\n        marker.setId(&quot;String&quot;);\r\n        mapview.getOverlays().add(marker);\r\n\r\n2. Since a Marker will get added to the mapviews overlay list as an Overlay object you can loop throgh it until you find your specific marker based on the Id.\r\n\r\n        for(int i=0;i&lt;mapview.getOverlays().size();i++){\r\n           Overlay overlay=mapview.getOverlays().get(i);\r\n           if(overlay instanceof Marker&amp;&amp;((Marker) overlay).getId().equals(&quot;String&quot;)){\r\n              mapview.getOverlays().remove(overlay);\r\n         }\r\n       }","title":"How to remove Markers from Osmdroid Map","body":"<ol>\n<li><p>When you add a marker set the Id to anything you like.</p>\n<pre><code> MapView mapview = (MapView) findViewById(R.id.mapview);\n Marker marker = new Marker(mapview);\n marker.setId(&quot;String&quot;);\n mapview.getOverlays().add(marker);\n</code></pre>\n</li>\n<li><p>Since a Marker will get added to the mapviews overlay list as an Overlay object you can loop throgh it until you find your specific marker based on the Id.</p>\n<pre><code> for(int i=0;i&lt;mapview.getOverlays().size();i++){\n    Overlay overlay=mapview.getOverlays().get(i);\n    if(overlay instanceof Marker&amp;&amp;((Marker) overlay).getId().equals(&quot;String&quot;)){\n       mapview.getOverlays().remove(overlay);\n  }\n}\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4207783,"reputation":340,"user_id":3446283,"accept_rate":67,"display_name":"iamfredrik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616924595,"creation_date":1616924595,"answer_id":66840089,"question_id":54574152,"body_markdown":"Kotlin version:\r\n\r\n\r\n\r\n    val gPt = GeoPoint(location.latitude, location.longitude)\r\n    val marker = Marker(map)\r\n    marker.position = gPt\r\n    marker.icon = getDrawable(R.drawable.ic_baseline_location_on_24)\r\n    marker.id = &quot;String&quot;\r\n    map.overlays.add(marker)\r\n    map.invalidate()\r\n\r\nTo remove (adapted from Dren Pirraku&#39;s answer):\r\n    \r\n    map.overlays.forEach {\r\n      if (it is Marker &amp;&amp; it.id == &quot;String&quot;) {\r\n        map.overlays.remove(it)\r\n      }\r\n    }","title":"How to remove Markers from Osmdroid Map","body":"<p>Kotlin version:</p>\n<pre><code>val gPt = GeoPoint(location.latitude, location.longitude)\nval marker = Marker(map)\nmarker.position = gPt\nmarker.icon = getDrawable(R.drawable.ic_baseline_location_on_24)\nmarker.id = &quot;String&quot;\nmap.overlays.add(marker)\nmap.invalidate()\n</code></pre>\n<p>To remove (adapted from Dren Pirraku's answer):</p>\n<pre><code>map.overlays.forEach {\n  if (it is Marker &amp;&amp; it.id == &quot;String&quot;) {\n    map.overlays.remove(it)\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22625030,"reputation":1,"user_id":22891585,"display_name":"ChrisZaro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699724321,"creation_date":1699724321,"answer_id":77466142,"question_id":54574152,"body_markdown":"You can remove all markers from the map with this\r\n\r\n    LinkedList&lt;Overlay&gt; t = new LinkedList&lt;&gt;(map.getOverlays());\r\n    for (Overlay o : t) {\r\n        if (o instanceof Marker) {\r\n            map.getOverlays().remove(o);\r\n        }\r\n    }","title":"How to remove Markers from Osmdroid Map","body":"<p>You can remove all markers from the map with this</p>\n<pre><code>LinkedList&lt;Overlay&gt; t = new LinkedList&lt;&gt;(map.getOverlays());\nfor (Overlay o : t) {\n    if (o instanceof Marker) {\n        map.getOverlays().remove(o);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11174199,"reputation":41,"user_id":8200312,"display_name":"Kristi Leka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4820,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1699724321,"creation_date":1549545067,"question_id":54574152,"body_markdown":"I&#39;m creating an Android Application where i need to set markers on the map. And since my App requires Offline function i need to use Osmdroid to solve this problem. Now my issue is the markers on the map, which i can easily add them by using Markers or the ItemizedOverlay, but the issue i&#39;m having is that i cannot remove markers from the map.\r\n\r\n\r\nThe code i have used for adding markers is this one:\r\n\r\n        Marker marker = new Marker(mapView);\r\n        marker.setPosition(new GeoPoint(41.3746312,19.7710733));\r\n        marker.setIcon(getResources().getDrawable(R.drawable.marker));\r\n        marker.setImage(getResources().getDrawable(R.drawable.marker));\r\n        marker.setTitle(&quot;Marker&quot;);\r\n        marker.setInfoWindow(null);\r\n        marker.showInfoWindow();\r\n        mapView.getOverlays().add(marker);\r\n        mapView.invalidate();\r\n\r\n\r\nbut i&#39;m encountering issues on removing them since the only way to remove it is:\r\n\r\n        mapView.getOverlays().clear();\r\n\r\nAnd i need to remove a specific marker instead of all of them at the same time.\r\n\r\n","title":"How to remove Markers from Osmdroid Map","body":"<p>I'm creating an Android Application where i need to set markers on the map. And since my App requires Offline function i need to use Osmdroid to solve this problem. Now my issue is the markers on the map, which i can easily add them by using Markers or the ItemizedOverlay, but the issue i'm having is that i cannot remove markers from the map.</p>\n\n<p>The code i have used for adding markers is this one:</p>\n\n<pre><code>    Marker marker = new Marker(mapView);\n    marker.setPosition(new GeoPoint(41.3746312,19.7710733));\n    marker.setIcon(getResources().getDrawable(R.drawable.marker));\n    marker.setImage(getResources().getDrawable(R.drawable.marker));\n    marker.setTitle(\"Marker\");\n    marker.setInfoWindow(null);\n    marker.showInfoWindow();\n    mapView.getOverlays().add(marker);\n    mapView.invalidate();\n</code></pre>\n\n<p>but i'm encountering issues on removing them since the only way to remove it is:</p>\n\n<pre><code>    mapView.getOverlays().clear();\n</code></pre>\n\n<p>And i need to remove a specific marker instead of all of them at the same time.</p>\n"},{"tags":["java","rest","authentication","oauth","dynamics-crm"],"comments":[{"owner":{"account_id":722409,"reputation":6104,"user_id":663627,"accept_rate":78,"display_name":"jasonscript"},"score":0,"creation_date":1699406180,"post_id":77402970,"comment_id":136526809,"body_markdown":"Have you added that client id to CRM as an app user? and given it security roles?","body":"Have you added that client id to CRM as an app user? and given it security roles?"},{"owner":{"account_id":2927858,"reputation":1283,"user_id":2508829,"accept_rate":71,"display_name":"Cam1989"},"score":0,"creation_date":1699559034,"post_id":77402970,"comment_id":136550795,"body_markdown":"@jasonscript no I haven&#39;t. Would you be able to point me to an article? Or give any hints? Do I just create a User in CRM with the username the same as the client  I&#39;d?","body":"@jasonscript no I haven&#39;t. Would you be able to point me to an article? Or give any hints? Do I just create a User in CRM with the username the same as the client  I&#39;d?"}],"answers":[{"tags":[],"owner":{"account_id":722409,"reputation":6104,"user_id":663627,"accept_rate":78,"display_name":"jasonscript"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699723922,"creation_date":1699723922,"answer_id":77466122,"question_id":77402970,"body_markdown":"If you&#39;ve got an Application User in Azure, with a Tenant Id and a Client ID, you have to add that user to your CRM instance, and then give it security roles\r\n\r\n - Navigate to https://admin.powerplatform.microsoft.com/environments\r\n - Select your environment\r\n - Navigate to Users\r\n - Navigate to App Users\r\n - Add an App User\r\n\r\nThis will take you through the process of adding your Application User to a Business Unit, and giving it some security roles.\r\n\r\nOnce you&#39;ve done that, try your code again\r\n\r\nRefer to https://learn.microsoft.com/en-gb/power-platform/admin/manage-application-users?WT.mc_id=ppac_inproduct_settings\r\n\r\n","title":"Dynamics CRM REST OAuth Authentication Response 403 - The user is not a member of the organization","body":"<p>If you've got an Application User in Azure, with a Tenant Id and a Client ID, you have to add that user to your CRM instance, and then give it security roles</p>\n<ul>\n<li>Navigate to <a href=\"https://admin.powerplatform.microsoft.com/environments\" rel=\"nofollow noreferrer\">https://admin.powerplatform.microsoft.com/environments</a></li>\n<li>Select your environment</li>\n<li>Navigate to Users</li>\n<li>Navigate to App Users</li>\n<li>Add an App User</li>\n</ul>\n<p>This will take you through the process of adding your Application User to a Business Unit, and giving it some security roles.</p>\n<p>Once you've done that, try your code again</p>\n<p>Refer to <a href=\"https://learn.microsoft.com/en-gb/power-platform/admin/manage-application-users?WT.mc_id=ppac_inproduct_settings\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-gb/power-platform/admin/manage-application-users?WT.mc_id=ppac_inproduct_settings</a></p>\n"}],"owner":{"account_id":2927858,"reputation":1283,"user_id":2508829,"accept_rate":71,"display_name":"Cam1989"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77466122,"answer_count":1,"score":0,"last_activity_date":1699723922,"creation_date":1698845039,"question_id":77402970,"body_markdown":"I am attempting to make a request to the Microsoft Dynamics CRM REST API.\r\nI am receiving a 403 response with message &quot;The user is not a member of the organization.&quot;\r\nCould anyone advise where I am going wrong?\r\n\r\nThe Java Code I am using (I have removed ids/hostnames etc.):\r\n\r\n```\r\npublic class CRMTesting {\r\n\r\n\tprivate static String TENANT_ID = &quot;&lt;tenant-id&gt;&quot;;\r\n\tprivate static String POST_URL = &quot;https://login.microsoftonline.com/&quot; + TENANT_ID + &quot;/oauth2/token&quot;;\r\n\tprivate static String CLIENT_ID = &quot;&lt;client-id&gt;&quot;;\r\n\tprivate static String CLIENT_SECRET = &quot;&lt;client-secret&gt;&quot;;\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tString token = getToken();\r\n\t\tgetAccounts(token);\r\n\t}\r\n\r\n\tpublic static String getAccounts(String token) throws MalformedURLException, IOException {\r\n\r\n\t\tCloseableHttpClient httpClient = HttpClients.createDefault();\r\n\r\n\t\tHttpGet httpGet = new HttpGet(&quot;https://&lt;company&gt;.crm4.dynamics.com/api/data/v8.2/accounts?$select=name&amp;$top=3&quot;);\r\n\t\thttpGet.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\t\thttpGet.setHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n\t\thttpGet.setHeader(&quot;OData-MaxVersion&quot;, &quot;4.0&quot;);\r\n\t\thttpGet.setHeader(&quot;OData-Version&quot;, &quot;4.0&quot;);\r\n\r\n\t\tCloseableHttpResponse httpResponse = httpClient.execute(httpGet);\r\n\r\n\t\tSystem.out.println(&quot;Response Status Code... &quot; + httpResponse.getStatusLine().getStatusCode());\r\n\r\n\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(httpResponse.getEntity().getContent()));\r\n\r\n\t\tString inputLine;\r\n\t\tStringBuffer response = new StringBuffer();\r\n\r\n\t\twhile ((inputLine = reader.readLine()) != null) {\r\n\t\t\tresponse.append(inputLine);\r\n\t\t}\r\n\t\treader.close();\r\n\t\thttpClient.close();\r\n\r\n\t\tSystem.out.println(response.toString());\r\n\r\n\t\t// Extract the token from the json response\r\n\t\tfinal ObjectMapper mapper = new ObjectMapper();\r\n\t\tfinal JsonNode actualObj = mapper.readTree(response.toString());\r\n\r\n\t\treturn actualObj.get(&quot;access_token&quot;).asText();\r\n\r\n\t}\r\n\r\n\tpublic static String getToken() throws MalformedURLException, IOException {\r\n\t\t// create headers\r\n\r\n\t\tCloseableHttpClient httpClient = HttpClients.createDefault();\r\n\r\n\t\tHttpPost httpPost = new HttpPost(POST_URL);\r\n\t\thttpPost.setHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n\r\n\t\tList&lt;NameValuePair&gt; nvps = new ArrayList&lt;NameValuePair&gt;();\r\n\t\tnvps.add(new BasicNameValuePair(&quot;grant_type&quot;, &quot;client_credentials&quot;));\r\n\t\tnvps.add(new BasicNameValuePair(&quot;resource&quot;, &quot;https://&lt;company&gt;.crm4.dynamics.com&quot;));\r\n\t\tnvps.add(new BasicNameValuePair(&quot;client_id&quot;, CLIENT_ID));\r\n\t\tnvps.add(new BasicNameValuePair(&quot;client_secret&quot;, CLIENT_SECRET));\r\n\t\thttpPost.setEntity(new UrlEncodedFormEntity(nvps, HTTP.UTF_8));\r\n\r\n\t\tCloseableHttpResponse httpResponse = httpClient.execute(httpPost);\r\n\r\n\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(httpResponse.getEntity().getContent()));\r\n\r\n\t\tString inputLine;\r\n\t\tStringBuffer response = new StringBuffer();\r\n\r\n\t\twhile ((inputLine = reader.readLine()) != null) {\r\n\t\t\tresponse.append(inputLine);\r\n\t\t}\r\n\t\treader.close();\r\n\t\thttpClient.close();\r\n\r\n\t\tSystem.out.println(response.toString());\r\n\r\n\t\t// Extract the token from the json response\r\n\t\tfinal ObjectMapper mapper = new ObjectMapper();\r\n\t\tfinal JsonNode actualObj = mapper.readTree(response.toString());\r\n\r\n\t\treturn actualObj.get(&quot;access_token&quot;).asText();\r\n\r\n\t}\r\n\r\n}\r\n```\r\nThe 403 response:\r\n\r\n```\r\n{&quot;token_type&quot;:&quot;Bearer&quot;,&quot;expires_in&quot;:&quot;3599&quot;,&quot;ext_expires_in&quot;:&quot;3599&quot;,&quot;expires_on&quot;:&quot;1698847590&quot;,&quot;not_before&quot;:&quot;1698843690&quot;,&quot;resource&quot;:&quot;https://&lt;company&gt;.crm4.dynamics.com&quot;,&quot;access_token&quot;:&quot;&lt;access-token&gt;&quot;}\r\nResponse Status Code... 403\r\n{&quot;error&quot;:{&quot;code&quot;:&quot;0x80072560&quot;,&quot;message&quot;:&quot;The user is not a member of the organization.&quot;}}\r\n```\r\n\r\nI have tried many things such as adding a &quot;scope&quot; parameter in the token request.. using a different POST url &quot;/oauth2/v2.0/token&quot;.. using java.net.HttpURLConnection rather than apache CloseableHttpClient.. etc. however I am yet to find a solution.\r\n\r\nAny help would be great!\r\n\r\nThanks","title":"Dynamics CRM REST OAuth Authentication Response 403 - The user is not a member of the organization","body":"<p>I am attempting to make a request to the Microsoft Dynamics CRM REST API.\nI am receiving a 403 response with message &quot;The user is not a member of the organization.&quot;\nCould anyone advise where I am going wrong?</p>\n<p>The Java Code I am using (I have removed ids/hostnames etc.):</p>\n<pre><code>public class CRMTesting {\n\n    private static String TENANT_ID = &quot;&lt;tenant-id&gt;&quot;;\n    private static String POST_URL = &quot;https://login.microsoftonline.com/&quot; + TENANT_ID + &quot;/oauth2/token&quot;;\n    private static String CLIENT_ID = &quot;&lt;client-id&gt;&quot;;\n    private static String CLIENT_SECRET = &quot;&lt;client-secret&gt;&quot;;\n\n    public static void main(String[] args) throws Exception {\n        String token = getToken();\n        getAccounts(token);\n    }\n\n    public static String getAccounts(String token) throws MalformedURLException, IOException {\n\n        CloseableHttpClient httpClient = HttpClients.createDefault();\n\n        HttpGet httpGet = new HttpGet(&quot;https://&lt;company&gt;.crm4.dynamics.com/api/data/v8.2/accounts?$select=name&amp;$top=3&quot;);\n        httpGet.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\n        httpGet.setHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\n        httpGet.setHeader(&quot;OData-MaxVersion&quot;, &quot;4.0&quot;);\n        httpGet.setHeader(&quot;OData-Version&quot;, &quot;4.0&quot;);\n\n        CloseableHttpResponse httpResponse = httpClient.execute(httpGet);\n\n        System.out.println(&quot;Response Status Code... &quot; + httpResponse.getStatusLine().getStatusCode());\n\n        BufferedReader reader = new BufferedReader(new InputStreamReader(httpResponse.getEntity().getContent()));\n\n        String inputLine;\n        StringBuffer response = new StringBuffer();\n\n        while ((inputLine = reader.readLine()) != null) {\n            response.append(inputLine);\n        }\n        reader.close();\n        httpClient.close();\n\n        System.out.println(response.toString());\n\n        // Extract the token from the json response\n        final ObjectMapper mapper = new ObjectMapper();\n        final JsonNode actualObj = mapper.readTree(response.toString());\n\n        return actualObj.get(&quot;access_token&quot;).asText();\n\n    }\n\n    public static String getToken() throws MalformedURLException, IOException {\n        // create headers\n\n        CloseableHttpClient httpClient = HttpClients.createDefault();\n\n        HttpPost httpPost = new HttpPost(POST_URL);\n        httpPost.setHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n\n        List&lt;NameValuePair&gt; nvps = new ArrayList&lt;NameValuePair&gt;();\n        nvps.add(new BasicNameValuePair(&quot;grant_type&quot;, &quot;client_credentials&quot;));\n        nvps.add(new BasicNameValuePair(&quot;resource&quot;, &quot;https://&lt;company&gt;.crm4.dynamics.com&quot;));\n        nvps.add(new BasicNameValuePair(&quot;client_id&quot;, CLIENT_ID));\n        nvps.add(new BasicNameValuePair(&quot;client_secret&quot;, CLIENT_SECRET));\n        httpPost.setEntity(new UrlEncodedFormEntity(nvps, HTTP.UTF_8));\n\n        CloseableHttpResponse httpResponse = httpClient.execute(httpPost);\n\n        BufferedReader reader = new BufferedReader(new InputStreamReader(httpResponse.getEntity().getContent()));\n\n        String inputLine;\n        StringBuffer response = new StringBuffer();\n\n        while ((inputLine = reader.readLine()) != null) {\n            response.append(inputLine);\n        }\n        reader.close();\n        httpClient.close();\n\n        System.out.println(response.toString());\n\n        // Extract the token from the json response\n        final ObjectMapper mapper = new ObjectMapper();\n        final JsonNode actualObj = mapper.readTree(response.toString());\n\n        return actualObj.get(&quot;access_token&quot;).asText();\n\n    }\n\n}\n</code></pre>\n<p>The 403 response:</p>\n<pre><code>{&quot;token_type&quot;:&quot;Bearer&quot;,&quot;expires_in&quot;:&quot;3599&quot;,&quot;ext_expires_in&quot;:&quot;3599&quot;,&quot;expires_on&quot;:&quot;1698847590&quot;,&quot;not_before&quot;:&quot;1698843690&quot;,&quot;resource&quot;:&quot;https://&lt;company&gt;.crm4.dynamics.com&quot;,&quot;access_token&quot;:&quot;&lt;access-token&gt;&quot;}\nResponse Status Code... 403\n{&quot;error&quot;:{&quot;code&quot;:&quot;0x80072560&quot;,&quot;message&quot;:&quot;The user is not a member of the organization.&quot;}}\n</code></pre>\n<p>I have tried many things such as adding a &quot;scope&quot; parameter in the token request.. using a different POST url &quot;/oauth2/v2.0/token&quot;.. using java.net.HttpURLConnection rather than apache CloseableHttpClient.. etc. however I am yet to find a solution.</p>\n<p>Any help would be great!</p>\n<p>Thanks</p>\n"},{"tags":["java","data-structures","tree","binary-search-tree","red-black-tree"],"owner":{"account_id":29880528,"reputation":1,"user_id":22899564,"display_name":"Dan Stephens"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1699723323,"creation_date":1699723171,"question_id":77466080,"body_markdown":"i would really appreciate if anyone could help me starting on how to fix RBT properties. I have a insertNode method which inserts a node based on BST properties and then fixes any RBT problems. I would like to know just how to start the fixes by implementing case 1 and case 2. Where case 1 is node X is the root, root must be black,so we color x black. Case 2 is X.uncle is red, Color parent and uncle black, and grandparent red. However the issue im having is that in my node class i dont have any parent node or getParent() method and i cant change it, so i need a different way on handling the parent/grandparent.\r\n\r\n\r\n     private Node nodeInsertData(Node r, int x) {\r\n            // BST Insertion\r\n            if (r == null) return new Node(x, Node.Color.RED); \r\n                // Insert the new node accordingly to the basic rules of BST.\r\n            else if (x &lt; r.getData()) {\r\n                r.setLeft(nodeInsertData(r.getLeft(), x)); \r\n            } else if (x &gt; r.getData()) {\r\n                r.setRight(nodeInsertData(r.getRight(), x));\r\n            }\r\n            // RBT Fixes\r\n\r\n            return r; \r\n        }\r\n\r\n\r\nAny help on how to start implementing the fixes would be greatly appreciated.","title":"How to fix RBT properties in a RBT tree","body":"<p>i would really appreciate if anyone could help me starting on how to fix RBT properties. I have a insertNode method which inserts a node based on BST properties and then fixes any RBT problems. I would like to know just how to start the fixes by implementing case 1 and case 2. Where case 1 is node X is the root, root must be black,so we color x black. Case 2 is X.uncle is red, Color parent and uncle black, and grandparent red. However the issue im having is that in my node class i dont have any parent node or getParent() method and i cant change it, so i need a different way on handling the parent/grandparent.</p>\n<pre><code> private Node nodeInsertData(Node r, int x) {\n        // BST Insertion\n        if (r == null) return new Node(x, Node.Color.RED); \n            // Insert the new node accordingly to the basic rules of BST.\n        else if (x &lt; r.getData()) {\n            r.setLeft(nodeInsertData(r.getLeft(), x)); \n        } else if (x &gt; r.getData()) {\n            r.setRight(nodeInsertData(r.getRight(), x));\n        }\n        // RBT Fixes\n\n        return r; \n    }\n</code></pre>\n<p>Any help on how to start implementing the fixes would be greatly appreciated.</p>\n"},{"tags":["java","maven","google-cloud-platform","google-bigquery","apache-beam"],"owner":{"account_id":9644892,"reputation":51,"user_id":7158004,"accept_rate":100,"display_name":"Bruno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1699721907,"answer_count":0,"score":-1,"last_activity_date":1699722726,"creation_date":1699712660,"question_id":77465444,"body_markdown":"I was doing a project where I had to read a text from a **Google Cloud Bucket** and do some transformations and store the results in a BigQuery table **word_count_p1**, which is working (using **BigQueryIO** and **Apache Beam**). Now, I want to read from the **word_count_p1**, and I run it with the same Maven command and It says that **org.apache.beam.sdk.Pipeline$PipelineExecutionException: java.lang.NullPointerException: Required parameter projectId must be specified**. I have permissions to write on BigQuery cause I did `INSERT INTO acn-gcp-cloudtraining.word_count_nj_bruno_veloso.word_count_p1 VALUES (&quot;teste&quot;, 37);` and it worked.\r\n\r\n\r\n\r\nHere is some code:\r\n\r\n      public interface WordCountOptions extends PipelineOptions {\r\n      \r\n        /**Setup BigQuery Table */\r\n        @Description(&quot;Project ID&quot;)\r\n        @Required\r\n        @Default.String(&quot;acn-gcp-cloudtraining&quot;) \r\n        String getProjectId();\r\n        void setProjectId(String value);\r\n    \r\n        @Description(&quot;Dataset ID&quot;)\r\n        @Required\r\n        String getDatasetID();\r\n        void setDatasetID(String value);\r\n    \r\n        @Description(&quot;Table Name&quot;)\r\n        @Required\r\n        String getTableName();\r\n        void setTableName(String value);\r\n      }\r\n      static void runWordCountGCP(WordCountOptions options) {\r\n    \r\n        System.out.println(&quot;Options: &quot; + options.toString());\r\n        Pipeline p = Pipeline.create(options);\r\n        System.out.println(&quot;PROJECT:&quot; + options.getProjectId());\r\n        System.out.println(&quot;DATASET:&quot; + options.getDatasetID());\r\n        System.out.println(&quot;TABLE:&quot; + options.getTableName());\r\n    \r\n        p.apply(&quot;Read from BigQuery&quot;, BigQueryIO.readTableRows().from(String.format(&quot;%s:%s.%s&quot;, options.getProjectId(), options.getDatasetID(), options.getTableName())));\r\n      \r\n    \r\n        p.run().waitUntilFinish();\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n     \r\n        WordCountOptions options = PipelineOptionsFactory.fromArgs(args)\r\n        .withValidation()\r\n        .as(WordCountOptions.class);\r\n    \r\n        runWordCountGCP(options);\r\n      }\r\n\r\nI run this code with:\r\n\r\n    mvn compile exec:java -Dexec.mainClass=org.apache.beam.examples.wordcountgcp.WordCountGCP -Dexec.args=&quot;--tempLocation=gs://word_count_examples_nj_bruno_veloso/temp --projectId=acn-gcp-cloudtraining --datasetID=word_count_nj_bruno_veloso --tableName=word_count_p1&quot; -Pdirect-runner\r\n\r\n\r\nAnd it prints correctly this information, which I used this information to store on BigQuery on the first part of the project and it worked:\r\n\r\n\r\n    Options: Current Settings:\r\n      appName: WordCountGCP\r\n      datasetID: word_count_nj_bruno_veloso\r\n      optionsId: 0\r\n      projectId: acn-gcp-cloudtraining\r\n      runner: class org.apache.beam.runners.direct.DirectRunner\r\n      stableUniqueNames: WARNING\r\n      tableName: word_count_p1\r\n      tempLocation: gs://word_count_examples_nj_bruno_veloso/temp\r\n    \r\n    PROJECT:acn-gcp-cloudtraining\r\n    DATASET:word_count_nj_bruno_veloso\r\n    TABLE:word_count_p1\r\n\r\nERRORS are:\r\n\r\n    INFO: Starting BigQuery extract job: beam_bq_job_EXPORT_wordcountgcpbruno0cruz0veloso1111141049a9a734bf_06521796bc354cc986f844176ddf94e3\r\n    [WARNING]\r\n    org.apache.beam.sdk.Pipeline$PipelineExecutionException: java.lang.NullPointerException: Required parameter projectId must be specified.\r\n        at org.apache.beam.runners.direct.DirectRunner$DirectPipelineResult.waitUntilFinish (DirectRunner.java:353)\r\n        at org.apache.beam.runners.direct.DirectRunner$DirectPipelineResult.waitUntilFinish (DirectRunner.java:321)\r\n        at org.apache.beam.runners.direct.DirectRunner.run (DirectRunner.java:216)\r\n        at org.apache.beam.runners.direct.DirectRunner.run (DirectRunner.java:67)\r\n        at org.apache.beam.sdk.Pipeline.run (Pipeline.java:317)\r\n        at org.apache.beam.sdk.Pipeline.run (Pipeline.java:303)\r\n        at org.apache.beam.examples.wordcountgcp.WordCountGCP.runWordCountGCP (WordCountGCP.java:81)\r\n        at org.apache.beam.examples.wordcountgcp.WordCountGCP.main (WordCountGCP.java:90)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\r\n        at java.lang.Thread.run (Thread.java:834)\r\n    Caused by: java.lang.NullPointerException: Required parameter projectId must be specified.\r\n        at com.google.common.base.Preconditions.checkNotNull (Preconditions.java:895)\r\n        at com.google.api.client.util.Preconditions.checkNotNull (Preconditions.java:138)\r\n        at com.google.api.services.bigquery.Bigquery$Jobs$Insert.&lt;init&gt; (Bigquery.java:1547)\r\n        at com.google.api.services.bigquery.Bigquery$Jobs.insert (Bigquery.java:1497)\r\n        at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl$JobServiceImpl.startJob (BigQueryServicesImpl.java:274)\r\n        at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl$JobServiceImpl.startJob (BigQueryServicesImpl.java:259)\r\n        at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl$JobServiceImpl.startExtractJob (BigQueryServicesImpl.java:212)\r\n        at org.apache.beam.sdk.io.gcp.bigquery.BigQuerySourceBase.executeExtract (BigQuerySourceBase.java:212)\r\n        at org.apache.beam.sdk.io.gcp.bigquery.BigQuerySourceBase.extractFiles (BigQuerySourceBase.java:133)\r\n        at org.apache.beam.sdk.io.gcp.bigquery.BigQuerySourceBase.split (BigQuerySourceBase.java:152)\r\n        at org.apache.beam.sdk.io.Read$BoundedSourceAsSDFWrapperFn.splitRestriction (Read.java:302)\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  12.554 s\r\n    [INFO] Finished at: 2023-11-11T14:10:50Z\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.6.0:java (default-cli) on project word-count-beam: An exception occured while executing the Java class. java.lang.NullPointerException: Required parameter projectId must be specified. -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n\r\n\r\n\r\n\r\n\r\nIs it possible that I can see the data on BigQuery (GCP) but I can&#39;t access via BigQueryIO (java application, with apache beam)?","title":"Why is it saying NullPointerException if it prints correctly when I pass the value correctly to BigQuery?","body":"<p>I was doing a project where I had to read a text from a <strong>Google Cloud Bucket</strong> and do some transformations and store the results in a BigQuery table <strong>word_count_p1</strong>, which is working (using <strong>BigQueryIO</strong> and <strong>Apache Beam</strong>). Now, I want to read from the <strong>word_count_p1</strong>, and I run it with the same Maven command and It says that <strong>org.apache.beam.sdk.Pipeline$PipelineExecutionException: java.lang.NullPointerException: Required parameter projectId must be specified</strong>. I have permissions to write on BigQuery cause I did <code>INSERT INTO acn-gcp-cloudtraining.word_count_nj_bruno_veloso.word_count_p1 VALUES (&quot;teste&quot;, 37);</code> and it worked.</p>\n<p>Here is some code:</p>\n<pre><code>  public interface WordCountOptions extends PipelineOptions {\n  \n    /**Setup BigQuery Table */\n    @Description(&quot;Project ID&quot;)\n    @Required\n    @Default.String(&quot;acn-gcp-cloudtraining&quot;) \n    String getProjectId();\n    void setProjectId(String value);\n\n    @Description(&quot;Dataset ID&quot;)\n    @Required\n    String getDatasetID();\n    void setDatasetID(String value);\n\n    @Description(&quot;Table Name&quot;)\n    @Required\n    String getTableName();\n    void setTableName(String value);\n  }\n  static void runWordCountGCP(WordCountOptions options) {\n\n    System.out.println(&quot;Options: &quot; + options.toString());\n    Pipeline p = Pipeline.create(options);\n    System.out.println(&quot;PROJECT:&quot; + options.getProjectId());\n    System.out.println(&quot;DATASET:&quot; + options.getDatasetID());\n    System.out.println(&quot;TABLE:&quot; + options.getTableName());\n\n    p.apply(&quot;Read from BigQuery&quot;, BigQueryIO.readTableRows().from(String.format(&quot;%s:%s.%s&quot;, options.getProjectId(), options.getDatasetID(), options.getTableName())));\n  \n\n    p.run().waitUntilFinish();\n  }\n\n  public static void main(String[] args) {\n \n    WordCountOptions options = PipelineOptionsFactory.fromArgs(args)\n    .withValidation()\n    .as(WordCountOptions.class);\n\n    runWordCountGCP(options);\n  }\n</code></pre>\n<p>I run this code with:</p>\n<pre><code>mvn compile exec:java -Dexec.mainClass=org.apache.beam.examples.wordcountgcp.WordCountGCP -Dexec.args=&quot;--tempLocation=gs://word_count_examples_nj_bruno_veloso/temp --projectId=acn-gcp-cloudtraining --datasetID=word_count_nj_bruno_veloso --tableName=word_count_p1&quot; -Pdirect-runner\n</code></pre>\n<p>And it prints correctly this information, which I used this information to store on BigQuery on the first part of the project and it worked:</p>\n<pre><code>Options: Current Settings:\n  appName: WordCountGCP\n  datasetID: word_count_nj_bruno_veloso\n  optionsId: 0\n  projectId: acn-gcp-cloudtraining\n  runner: class org.apache.beam.runners.direct.DirectRunner\n  stableUniqueNames: WARNING\n  tableName: word_count_p1\n  tempLocation: gs://word_count_examples_nj_bruno_veloso/temp\n\nPROJECT:acn-gcp-cloudtraining\nDATASET:word_count_nj_bruno_veloso\nTABLE:word_count_p1\n</code></pre>\n<p>ERRORS are:</p>\n<pre><code>INFO: Starting BigQuery extract job: beam_bq_job_EXPORT_wordcountgcpbruno0cruz0veloso1111141049a9a734bf_06521796bc354cc986f844176ddf94e3\n[WARNING]\norg.apache.beam.sdk.Pipeline$PipelineExecutionException: java.lang.NullPointerException: Required parameter projectId must be specified.\n    at org.apache.beam.runners.direct.DirectRunner$DirectPipelineResult.waitUntilFinish (DirectRunner.java:353)\n    at org.apache.beam.runners.direct.DirectRunner$DirectPipelineResult.waitUntilFinish (DirectRunner.java:321)\n    at org.apache.beam.runners.direct.DirectRunner.run (DirectRunner.java:216)\n    at org.apache.beam.runners.direct.DirectRunner.run (DirectRunner.java:67)\n    at org.apache.beam.sdk.Pipeline.run (Pipeline.java:317)\n    at org.apache.beam.sdk.Pipeline.run (Pipeline.java:303)\n    at org.apache.beam.examples.wordcountgcp.WordCountGCP.runWordCountGCP (WordCountGCP.java:81)\n    at org.apache.beam.examples.wordcountgcp.WordCountGCP.main (WordCountGCP.java:90)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\n    at java.lang.Thread.run (Thread.java:834)\nCaused by: java.lang.NullPointerException: Required parameter projectId must be specified.\n    at com.google.common.base.Preconditions.checkNotNull (Preconditions.java:895)\n    at com.google.api.client.util.Preconditions.checkNotNull (Preconditions.java:138)\n    at com.google.api.services.bigquery.Bigquery$Jobs$Insert.&lt;init&gt; (Bigquery.java:1547)\n    at com.google.api.services.bigquery.Bigquery$Jobs.insert (Bigquery.java:1497)\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl$JobServiceImpl.startJob (BigQueryServicesImpl.java:274)\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl$JobServiceImpl.startJob (BigQueryServicesImpl.java:259)\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl$JobServiceImpl.startExtractJob (BigQueryServicesImpl.java:212)\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQuerySourceBase.executeExtract (BigQuerySourceBase.java:212)\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQuerySourceBase.extractFiles (BigQuerySourceBase.java:133)\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQuerySourceBase.split (BigQuerySourceBase.java:152)\n    at org.apache.beam.sdk.io.Read$BoundedSourceAsSDFWrapperFn.splitRestriction (Read.java:302)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  12.554 s\n[INFO] Finished at: 2023-11-11T14:10:50Z\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.6.0:java (default-cli) on project word-count-beam: An exception occured while executing the Java class. java.lang.NullPointerException: Required parameter projectId must be specified. -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>Is it possible that I can see the data on BigQuery (GCP) but I can't access via BigQueryIO (java application, with apache beam)?</p>\n"},{"tags":["java","printing","new-operator","println"],"comments":[{"owner":{"account_id":37175,"reputation":706148,"user_id":106224,"accept_rate":96,"display_name":"BoltClock"},"score":11,"creation_date":1287924059,"post_id":4008223,"comment_id":4294882,"body_markdown":"Call `System.out.println();` repeatedly :P","body":"Call <code>System.out.println();</code> repeatedly :P"},{"owner":{"account_id":4427703,"reputation":3041,"user_id":3605712,"accept_rate":97,"display_name":"Malakai"},"score":3,"creation_date":1476618989,"post_id":4008223,"comment_id":67413288,"body_markdown":"I wonder why you have problems to simply write `System.out.println(&quot;\\n)&quot;;`\nThe &quot;\\n&quot; considers as escape sequence for C/C++/C# and Java aswell.","body":"I wonder why you have problems to simply write <code>System.out.println(&quot;\\n)&quot;;</code> The &quot;\\n&quot; considers as escape sequence for C/C++/C# and Java aswell."}],"answers":[{"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":1,"creation_date":1287924368,"post_id":4008236,"comment_id":4294900,"body_markdown":"In the past, the Apple Mac requirse lines to be separated by &#39;\\r&#39;, So its better to write system independent code , check my solution","body":"In the past, the Apple Mac requirse lines to be separated by &#39;\\r&#39;, So its better to write system independent code , check my solution"},{"owner":{"account_id":151926,"reputation":2870,"user_id":366091,"accept_rate":88,"display_name":"biasedbit"},"score":0,"creation_date":1287924897,"post_id":4008236,"comment_id":4294926,"body_markdown":"He&#39;s talking about &quot;new line&quot;. Had he requested &quot;new line + carriage return&quot; I&#39;d pointed him to \\r\\n :) If we&#39;re going to be picky, then I&#39;d suggest using a StringBuilder rather than concatenating strings.","body":"He&#39;s talking about &quot;new line&quot;. Had he requested &quot;new line + carriage return&quot; I&#39;d pointed him to \\r\\n :) If we&#39;re going to be picky, then I&#39;d suggest using a StringBuilder rather than concatenating strings."},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":2,"creation_date":1287925088,"post_id":4008236,"comment_id":4294941,"body_markdown":"For `&quot;line 1&quot; + newLine + &quot;line2&quot;` using a StringBuilder explicitly would be counter-productive. The compiler can optimize this by itself.","body":"For <code>&quot;line 1&quot; + newLine + &quot;line2&quot;</code> using a StringBuilder explicitly would be counter-productive. The compiler can optimize this by itself."}],"tags":[],"owner":{"account_id":151926,"reputation":2870,"user_id":366091,"accept_rate":88,"display_name":"biasedbit"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1287924113,"creation_date":1287924113,"answer_id":4008236,"question_id":4008223,"body_markdown":"It does create a new line. Try:\r\n\r\n    System.out.println(&quot;---\\n###&quot;);","title":"Print in new line, java","body":"<p>It does create a new line. Try:</p>\n\n<pre><code>System.out.println(\"---\\n###\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":84116,"reputation":1164,"user_id":235333,"display_name":"James Branigan"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1287924144,"creation_date":1287924144,"answer_id":4008239,"question_id":4008223,"body_markdown":"You might try adding \\r\\n instead of just \\n.  Depending on your operating system and how you are viewing the output, it might matter.","title":"Print in new line, java","body":"<p>You might try adding \\r\\n instead of just \\n.  Depending on your operating system and how you are viewing the output, it might matter.</p>\n"},{"comments":[{"owner":{"account_id":2056499,"reputation":713,"user_id":1834116,"accept_rate":100,"display_name":"tortal"},"score":0,"creation_date":1613777884,"post_id":4008247,"comment_id":117190557,"body_markdown":"This is far by the best answer since it address the problems discussed:\n1. Platform and 2. Java Versions.","body":"This is far by the best answer since it address the problems discussed: 1. Platform and 2. Java Versions."}],"tags":[],"owner":{"account_id":196571,"reputation":881,"user_id":440076,"display_name":"vstoyanov"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1516771121,"creation_date":1287924266,"answer_id":4008247,"question_id":4008223,"body_markdown":"Your best shot would be with\r\n\r\n    String.format(&quot;%n&quot;)\r\n\r\nor\r\n\r\n    System.out.printf(&quot;%n&quot;);\r\n\r\nIt is supposed to print a newline character, depending on the current platform, so it&#39;s perfect for the console.\r\n\r\nIf you are printing to a file, then it depends.","title":"Print in new line, java","body":"<p>Your best shot would be with</p>\n\n<pre><code>String.format(\"%n\")\n</code></pre>\n\n<p>or</p>\n\n<pre><code>System.out.printf(\"%n\");\n</code></pre>\n\n<p>It is supposed to print a newline character, depending on the current platform, so it's perfect for the console.</p>\n\n<p>If you are printing to a file, then it depends.</p>\n"},{"comments":[{"owner":{"account_id":2423151,"reputation":912,"user_id":2115680,"accept_rate":100,"display_name":"Marc-Andre"},"score":29,"creation_date":1385150901,"post_id":4008248,"comment_id":30039725,"body_markdown":"Since Java 7 you have `System.lineSeparator()` http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#lineSeparator%28%29","body":"Since Java 7 you have <code>System.lineSeparator()</code> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#lineSeparator%28%29\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":1798340,"reputation":97,"user_id":1637237,"accept_rate":60,"display_name":"Dan"},"score":1,"creation_date":1407974639,"post_id":4008248,"comment_id":39428382,"body_markdown":"is `System.out.println();` looked down upon? Doesn&#39;t this do the same thing?\n\nThis is my second day in Java, came to find best practices.","body":"is <code>System.out.println();</code> looked down upon? Doesn&#39;t this do the same thing?  This is my second day in Java, came to find best practices."},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1407974860,"post_id":4008248,"comment_id":39428425,"body_markdown":"it does except that it adds line separator at the end","body":"it does except that it adds line separator at the end"},{"owner":{"account_id":6232863,"reputation":129,"user_id":4849010,"display_name":"Nyein Mon Soe"},"score":0,"creation_date":1437551223,"post_id":4008248,"comment_id":51070563,"body_markdown":"Great! This is really useful for me.","body":"Great! This is really useful for me."}],"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"comment_count":4,"down_vote_count":0,"up_vote_count":90,"is_accepted":true,"score":90,"last_activity_date":1287924988,"creation_date":1287924318,"answer_id":4008248,"question_id":4008223,"body_markdown":"        String newLine = System.getProperty(&quot;line.separator&quot;);//This will retrieve line separator dependent on OS.\r\n    \r\n        System.out.println(&quot;line 1&quot; + newLine + &quot;line2&quot;);","title":"Print in new line, java","body":"<pre><code>    String newLine = System.getProperty(\"line.separator\");//This will retrieve line separator dependent on OS.\n\n    System.out.println(\"line 1\" + newLine + \"line2\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1833026,"reputation":1627,"user_id":1663987,"accept_rate":78,"display_name":"simpleuser"},"score":1,"creation_date":1478907089,"post_id":7525660,"comment_id":68353541,"body_markdown":"where does it say that using \\n in java will use the correct newline, such as \\r\\n on Windows?","body":"where does it say that using \\n in java will use the correct newline, such as \\r\\n on Windows?"}],"tags":[],"owner":{"account_id":930674,"reputation":51,"user_id":960612,"display_name":"Salahuddin"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1320940296,"creation_date":1316762953,"answer_id":7525660,"question_id":4008223,"body_markdown":"`\\n` creates a new line in Java. Don&#39;t use spaces before or after `\\n`.\r\n\r\nExample: printing `It creates\\na new line` outputs \r\n\r\n&gt; It creates  \r\n&gt; a new line. \r\n","title":"Print in new line, java","body":"<p><code>\\n</code> creates a new line in Java. Don't use spaces before or after <code>\\n</code>.</p>\n\n<p>Example: printing <code>It creates\\na new line</code> outputs </p>\n\n<blockquote>\n  <p>It creates<br>\n  a new line. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2458864,"reputation":3,"user_id":2143427,"display_name":"tushar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377680636,"creation_date":1377680636,"answer_id":18483584,"question_id":4008223,"body_markdown":"Since you are on Windows, instead of \\n use \\r\\n (carriage return + line feed).","title":"Print in new line, java","body":"<p>Since you are on Windows, instead of \\n use \\r\\n (carriage return + line feed).</p>\n"},{"tags":[],"owner":{"account_id":11013,"reputation":12295,"user_id":21063,"accept_rate":47,"display_name":"Shawn Vader"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1391157812,"creation_date":1391102024,"answer_id":21463051,"question_id":4008223,"body_markdown":"You should use the built in line separator. The advantage is that you don&#39;t have to concern  what system you code is running on, it will just work. \r\n\r\nSince Java 1.7\r\n\r\n    System.lineSeparator()\r\n\r\nPre Java 1.7\r\n\r\n    System.getProperty(&quot;line.separator&quot;)\r\n\r\n    \r\n              ","title":"Print in new line, java","body":"<p>You should use the built in line separator. The advantage is that you don't have to concern  what system you code is running on, it will just work. </p>\n\n<p>Since Java 1.7</p>\n\n<pre><code>System.lineSeparator()\n</code></pre>\n\n<p>Pre Java 1.7</p>\n\n<pre><code>System.getProperty(\"line.separator\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5474599,"reputation":39,"user_id":4352899,"accept_rate":50,"display_name":"Santhosh Raja"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1418367742,"creation_date":1418366426,"answer_id":27438217,"question_id":4008223,"body_markdown":"&quot;\\n&quot; \r\nthis is the simple method to separate the continuous String","title":"Print in new line, java","body":"<p>\"\\n\" \nthis is the simple method to separate the continuous String</p>\n"},{"tags":[],"owner":{"display_name":"user4402690"},"comment_count":0,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1516771086,"creation_date":1419868045,"answer_id":27691916,"question_id":4008223,"body_markdown":"    System.out.println(&quot;hello&quot;+&quot;\\n&quot;+&quot;world&quot;);\r\n","title":"Print in new line, java","body":"<pre><code>System.out.println(\"hello\"+\"\\n\"+\"world\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8816967,"reputation":601,"user_id":6588053,"display_name":"Bhavya Jain"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1468520126,"creation_date":1468520126,"answer_id":38381384,"question_id":4008223,"body_markdown":"    //Case1:\r\n    System.out.println(&quot; 1  2  3  4  5  6  7  8  9&quot; + &quot;\\n&quot; + &quot;----------------------------&quot;);\r\n    \r\n    //Case2:\r\n    System.out.printf(&quot; 1  2  3  4  5  6  7  8  9&quot; + &quot;\\n&quot; + &quot;----------------------------&quot;);\r\n\r\n    //Case3:\r\n    System.out.print(&quot; 1  2  3  4  5  6  7  8  9&quot; + &quot;\\n&quot; + &quot;----------------------------&quot;);","title":"Print in new line, java","body":"<pre><code>//Case1:\nSystem.out.println(\" 1  2  3  4  5  6  7  8  9\" + \"\\n\" + \"----------------------------\");\n\n//Case2:\nSystem.out.printf(\" 1  2  3  4  5  6  7  8  9\" + \"\\n\" + \"----------------------------\");\n\n//Case3:\nSystem.out.print(\" 1  2  3  4  5  6  7  8  9\" + \"\\n\" + \"----------------------------\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9692884,"reputation":35,"user_id":7190390,"display_name":"Gajendra kumar"},"score":0,"creation_date":1488805874,"post_id":42626516,"comment_id":72380695,"body_markdown":"number will be printed in one line like 1 2 3 4 5    for new line we can use \\n","body":"number will be printed in one line like 1 2 3 4 5    for new line we can use \\n"},{"owner":{"account_id":2056499,"reputation":713,"user_id":1834116,"accept_rate":100,"display_name":"tortal"},"score":0,"creation_date":1613778285,"post_id":42626516,"comment_id":117190650,"body_markdown":"Does not answer the question. Even worse - attempts to solve a problem unrelated making it only confusing. Moreover - there is no explanation at all!","body":"Does not answer the question. Even worse - attempts to solve a problem unrelated making it only confusing. Moreover - there is no explanation at all!"}],"tags":[],"owner":{"account_id":9692884,"reputation":35,"user_id":7190390,"display_name":"Gajendra kumar"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1488814633,"creation_date":1488805837,"answer_id":42626516,"question_id":4008223,"body_markdown":"    System.out.print(values[i] + &quot; &quot;);\r\n    //in one number be printed","title":"Print in new line, java","body":"<pre><code>System.out.print(values[i] + \" \");\n//in one number be printed\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2467816,"reputation":1810,"user_id":2150483,"accept_rate":80,"display_name":"Alan Kis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699722580,"creation_date":1699722580,"answer_id":77466051,"question_id":4008223,"body_markdown":"Calling `System.out.println();` without any parameter terminates the current line by writing the line separator string.\r\n\r\n&gt; Terminates the current line by writing the line separator string. The line separator string is defined by the system property line.separator, and is not necessarily a single newline character (&#39;\\n&#39;) (1).\r\n\r\n1. https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html#println--","title":"Print in new line, java","body":"<p>Calling <code>System.out.println();</code> without any parameter terminates the current line by writing the line separator string.</p>\n<blockquote>\n<p>Terminates the current line by writing the line separator string. The line separator string is defined by the system property line.separator, and is not necessarily a single newline character ('\\n') (1).</p>\n</blockquote>\n<ol>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html#println--\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html#println--</a></li>\n</ol>\n"}],"owner":{"account_id":172772,"reputation":69642,"user_id":401025,"accept_rate":98,"display_name":"DarkLeafyGreen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595472,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":4008248,"answer_count":12,"score":55,"last_activity_date":1699722580,"creation_date":1287923919,"question_id":4008223,"body_markdown":"I have following code :\r\n\r\n            \r\n\r\n        System.out.println(&quot; | 1  2  3  4  5  6  7  8  9&quot;);\r\n\t\tSystem.out.println(&quot;----------------------------&quot;);\r\n\t    System.out.println(&quot;&quot;);\r\n\r\nI use println to create a new line. Is it possible to do the same using \\n or \\r?\r\nI tried to add \\n to the second println statment and continue printing with the print method but \\n does not create a new line.\r\n\r\nany ideas?","title":"Print in new line, java","body":"<p>I have following code :</p>\n\n<pre><code>    System.out.println(\" | 1  2  3  4  5  6  7  8  9\");\n    System.out.println(\"----------------------------\");\n    System.out.println(\"\");\n</code></pre>\n\n<p>I use println to create a new line. Is it possible to do the same using \\n or \\r?\nI tried to add \\n to the second println statment and continue printing with the print method but \\n does not create a new line.</p>\n\n<p>any ideas?</p>\n"},{"tags":["java","apache-kafka","publish","vert.x"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1522150958,"post_id":49496934,"comment_id":86028149,"body_markdown":"If brokers go down, you get exceptions from the Future,which you need to handle. Maybe put a Redis cache to put back pressure between your api and the brokers?  If you&#39;re asking for a *monitoring solution*, there&#39;s better tools that perform process checking rather than ones you&#39;d write out on your own. Follows no different ways of monitoring a database or website","body":"If brokers go down, you get exceptions from the Future,which you need to handle. Maybe put a Redis cache to put back pressure between your api and the brokers?  If you&#39;re asking for a <i>monitoring solution</i>, there&#39;s better tools that perform process checking rather than ones you&#39;d write out on your own. Follows no different ways of monitoring a database or website"}],"answers":[{"comments":[{"owner":{"account_id":5801217,"reputation":910,"user_id":4575328,"accept_rate":20,"display_name":"Juvenik"},"score":0,"creation_date":1522142403,"post_id":49508145,"comment_id":86021971,"body_markdown":"But the issue that I am not being able to identify if the kafka is down or not. If I can find out then I can figure out some solution.","body":"But the issue that I am not being able to identify if the kafka is down or not. If I can find out then I can figure out some solution."},{"owner":{"account_id":694347,"reputation":1752,"user_id":571879,"accept_rate":82,"display_name":"Francesco"},"score":1,"creation_date":1522143283,"post_id":49508145,"comment_id":86022586,"body_markdown":"My thought was it is important if Kafka is up, but it&#39;s more important if I can send records to him or not. That&#39;s why I suggest circuit breaker pattern. I think monitor Kafka and behave accordingly (you want to do this, am I right?) could be more complicated.","body":"My thought was it is important if Kafka is up, but it&#39;s more important if I can send records to him or not. That&#39;s why I suggest circuit breaker pattern. I think monitor Kafka and behave accordingly (you want to do this, am I right?) could be more complicated."},{"owner":{"account_id":5801217,"reputation":910,"user_id":4575328,"accept_rate":20,"display_name":"Juvenik"},"score":0,"creation_date":1522153096,"post_id":49508145,"comment_id":86029829,"body_markdown":"Yes ur correct, I do not want to monitor kafka at all. But how would I know the failure when a record is sent to kafka is my question?","body":"Yes ur correct, I do not want to monitor kafka at all. But how would I know the failure when a record is sent to kafka is my question?"},{"owner":{"account_id":694347,"reputation":1752,"user_id":571879,"accept_rate":82,"display_name":"Francesco"},"score":0,"creation_date":1522155197,"post_id":49508145,"comment_id":86031393,"body_markdown":"The `Future` in your `send` method should aware you by returning an exception when a failure occurs.","body":"The <code>Future</code> in your <code>send</code> method should aware you by returning an exception when a failure occurs."},{"owner":{"account_id":5801217,"reputation":910,"user_id":4575328,"accept_rate":20,"display_name":"Juvenik"},"score":0,"creation_date":1522163805,"post_id":49508145,"comment_id":86038573,"body_markdown":"Yea, but its not happening. I am not getting any exception. So that&#39;s the problem.","body":"Yea, but its not happening. I am not getting any exception. So that&#39;s the problem."},{"owner":{"account_id":694347,"reputation":1752,"user_id":571879,"accept_rate":82,"display_name":"Francesco"},"score":0,"creation_date":1522174390,"post_id":49508145,"comment_id":86045053,"body_markdown":"Not familiar with `Kafka`, but even `response.get()` throws no exception?","body":"Not familiar with <code>Kafka</code>, but even <code>response.get()</code> throws no exception?"}],"tags":[],"owner":{"account_id":694347,"reputation":1752,"user_id":571879,"accept_rate":82,"display_name":"Francesco"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522140054,"creation_date":1522140054,"answer_id":49508145,"question_id":49496934,"body_markdown":"If I were you I&#39;ll try to implement a [circuit breaker][1]. When you hit a reasonable amount of failures while sending your records, circuit breaks and provides some fallback behavior. Once some condition is met (e.g.: some time passed) the circuit close and you&#39;ll send records again. Also `vertx.io` comes with it&#39;s [own solution][2].\r\n\r\n\r\n  [1]: https://martinfowler.com/bliki/CircuitBreaker.html\r\n  [2]: https://vertx.io/docs/vertx-circuit-breaker/java/","title":"Alert if Kafka nodes are down","body":"<p>If I were you I'll try to implement a <a href=\"https://martinfowler.com/bliki/CircuitBreaker.html\" rel=\"nofollow noreferrer\">circuit breaker</a>. When you hit a reasonable amount of failures while sending your records, circuit breaks and provides some fallback behavior. Once some condition is met (e.g.: some time passed) the circuit close and you'll send records again. Also <code>vertx.io</code> comes with it's <a href=\"https://vertx.io/docs/vertx-circuit-breaker/java/\" rel=\"nofollow noreferrer\">own solution</a>.</p>\n"}],"owner":{"account_id":5801217,"reputation":910,"user_id":4575328,"accept_rate":20,"display_name":"Juvenik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1010,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699721012,"creation_date":1522084088,"question_id":49496934,"body_markdown":"I have been exposed a Kafka nodes and a topic-name. My web server receives a lot of http request data which I need to process them and then push them to kafka. Sometimes, if the kafka nodes are down, then my server still keeps pumping the data, which results in blowing up my memory and my server gets down.\r\n\r\nI want is to stop publishing the data if the Kafka is down. My Java sample code is as follows:\r\n\r\n\r\n      static Producer producer;\r\n    \r\n      Produce() {\r\n        Properties properties = new Properties();\r\n        properties.put(&quot;request.required.acks&quot;,&quot;1&quot;);\r\n        properties.put(&quot;bootstrap.servers&quot;,&quot;localhost:9092,localhost:9093,localhost:9094&quot;);\r\n        properties.put(&quot;enabled&quot;,&quot;true&quot;);\r\n        properties.put(&quot;value.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n        properties.put(&quot;kafka-topic&quot;,&quot;pixel-server&quot;);\r\n        properties.put(&quot;batch.size&quot;,&quot;1000&quot;);\r\n        properties.put(&quot;producer.type&quot;,&quot;async&quot;);\r\n        properties.put(&quot;key.serializer&quot;,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n        producer = new KafkaProducer&lt;String, String&gt;(properties);\r\n      }\r\n    \r\n    \r\n      public static void main(String[] args) {\r\n        Produce produce = new Produce();\r\n    \r\n        produce.send(producer, &quot;pixel-server&quot;, &quot;Some time&quot;);\r\n    \r\n      }\r\n      \r\n      //This method is called lot of times\r\n      public void send(Producer&lt;String, String&gt; producer, String topic, String data) {\r\n        ProducerRecord&lt;String, String&gt; producerRecord = new ProducerRecord&lt;&gt;(topic, data);\r\n        Future&lt;RecordMetadata&gt; response = producer.send(producerRecord, (metadata, exception) -&gt; {\r\n          if (null != exception) {\r\n            exception.printStackTrace();\r\n          } else {\r\n            System.out.println(&quot;Done&quot;);\r\n          }\r\n        });\r\n\r\nI have just abstracted out some sample code. The **send** method is called numerous times. I just want to prevent send any message if the kafka is down. What is the efficient way to tackle this situation.","title":"Alert if Kafka nodes are down","body":"<p>I have been exposed a Kafka nodes and a topic-name. My web server receives a lot of http request data which I need to process them and then push them to kafka. Sometimes, if the kafka nodes are down, then my server still keeps pumping the data, which results in blowing up my memory and my server gets down.</p>\n\n<p>I want is to stop publishing the data if the Kafka is down. My Java sample code is as follows:</p>\n\n<pre><code>  static Producer producer;\n\n  Produce() {\n    Properties properties = new Properties();\n    properties.put(\"request.required.acks\",\"1\");\n    properties.put(\"bootstrap.servers\",\"localhost:9092,localhost:9093,localhost:9094\");\n    properties.put(\"enabled\",\"true\");\n    properties.put(\"value.serializer\",\"org.apache.kafka.common.serialization.StringSerializer\");\n    properties.put(\"kafka-topic\",\"pixel-server\");\n    properties.put(\"batch.size\",\"1000\");\n    properties.put(\"producer.type\",\"async\");\n    properties.put(\"key.serializer\",\"org.apache.kafka.common.serialization.StringSerializer\");\n    producer = new KafkaProducer&lt;String, String&gt;(properties);\n  }\n\n\n  public static void main(String[] args) {\n    Produce produce = new Produce();\n\n    produce.send(producer, \"pixel-server\", \"Some time\");\n\n  }\n\n  //This method is called lot of times\n  public void send(Producer&lt;String, String&gt; producer, String topic, String data) {\n    ProducerRecord&lt;String, String&gt; producerRecord = new ProducerRecord&lt;&gt;(topic, data);\n    Future&lt;RecordMetadata&gt; response = producer.send(producerRecord, (metadata, exception) -&gt; {\n      if (null != exception) {\n        exception.printStackTrace();\n      } else {\n        System.out.println(\"Done\");\n      }\n    });\n</code></pre>\n\n<p>I have just abstracted out some sample code. The <strong>send</strong> method is called numerous times. I just want to prevent send any message if the kafka is down. What is the efficient way to tackle this situation.</p>\n"},{"tags":["java","docker","jenkins","ssh","jenkins-agent"],"comments":[{"owner":{"account_id":19526109,"reputation":11,"user_id":14286926,"display_name":"Prasoon Mishra"},"score":1,"creation_date":1627904388,"post_id":68620615,"comment_id":121272065,"body_markdown":"It is  giving error on running cmd --&gt; java  -jar remoting.jar -workDir  -jar-cache /remoting/jarCache","body":"It is  giving error on running cmd --&gt; java  -jar remoting.jar -workDir  -jar-cache /remoting/jarCache"}],"answers":[{"tags":[],"owner":{"account_id":19526109,"reputation":11,"user_id":14286926,"display_name":"Prasoon Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1627983372,"creation_date":1627982355,"answer_id":68633409,"question_id":68620615,"body_markdown":"I have solved above problem by changing the username in dockerfile for build-agent, previously it was set to root user,now I have set this to **jenkins** and now Jenkins server will use  &quot;/home/jenkins/&quot;  as a working directory.\r\n\r\nYou need to build image from this dockerfile and then specify this particular image to the cloud-configuration of docker\r\n\r\nYou need to change the credentials in jenkins as well \r\n```\r\nFROM ubuntu:18.04\r\nRUN mkdir -p /var/run/sshd\r\nRUN apt -y update\r\nRUN apt install -y openjdk-8-jdk\r\nRUN apt install -y openssh-server\r\nRUN apt install -y git\r\n#RUN apt install -y maven\r\n\r\n#generate the host keys with the default key file path, an empty passphrase\r\n\r\nRUN ssh-keygen -A  \r\nADD ./sshd_config /etc/ssh/sshd_config\r\nRUN echo ***jenkins:password123***| chpasswd\r\nRUN chown -R **jenkins:jenkins** /home/jenkins/\r\nEXPOSE 22\r\nCMD [&quot;/usr/sbin/sshd&quot;, &quot;-D&quot;]\r\n```","title":"Jenkins agentfailing due to jarCache error","body":"<p>I have solved above problem by changing the username in dockerfile for build-agent, previously it was set to root user,now I have set this to <strong>jenkins</strong> and now Jenkins server will use  &quot;/home/jenkins/&quot;  as a working directory.</p>\n<p>You need to build image from this dockerfile and then specify this particular image to the cloud-configuration of docker</p>\n<p>You need to change the credentials in jenkins as well</p>\n<pre><code>FROM ubuntu:18.04\nRUN mkdir -p /var/run/sshd\nRUN apt -y update\nRUN apt install -y openjdk-8-jdk\nRUN apt install -y openssh-server\nRUN apt install -y git\n#RUN apt install -y maven\n\n#generate the host keys with the default key file path, an empty passphrase\n\nRUN ssh-keygen -A  \nADD ./sshd_config /etc/ssh/sshd_config\nRUN echo ***jenkins:password123***| chpasswd\nRUN chown -R **jenkins:jenkins** /home/jenkins/\nEXPOSE 22\nCMD [&quot;/usr/sbin/sshd&quot;, &quot;-D&quot;]\n</code></pre>\n"}],"owner":{"account_id":19526109,"reputation":11,"user_id":14286926,"display_name":"Prasoon Mishra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1942,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68633409,"answer_count":1,"score":1,"last_activity_date":1699720396,"creation_date":1627902863,"question_id":68620615,"body_markdown":"I have a Jenkins controller running in VM and docker running on another VM, I have setup all the required things for making docker as a build-agent for Jenkins.\r\nNow When I am running a simple job on docker-build agent, I am getting following error:\r\n\r\n```\r\nSSHLauncher{host=&#39;192.168.33.15&#39;, port=49162, credentialsId=&#39;dock-cont-pass&#39;, jvmOptions=&#39;&#39;, javaPath=&#39;&#39;, prefixStartSlaveCmd=&#39;&#39;, suffixStartSlaveCmd=&#39;&#39;, launchTimeoutSeconds=60, maxNumRetries=10, retryWaitTime=15, sshHostKeyVerificationStrategy=hudson.plugins.sshslaves.verifiers.NonVerifyingKeyVerificationStrategy, tcpNoDelay=true, trackCredentials=true}\r\n[08/02/21 11:00:36] [SSH] Opening SSH connection to 192.168.33.15:49162.\r\n[08/02/21 11:00:36] [SSH] WARNING: SSH Host Keys are not being verified. Man-in-the-middle attacks may be possible against this connection.\r\n[08/02/21 11:00:37] [SSH] Authentication successful.\r\n[08/02/21 11:00:37] [SSH] The remote user&#39;s environment is:\r\nBASH=/usr/bin/bash\r\nBASHOPTS=checkwinsize:cmdhist:complete_fullquote:extquote:force_fignore:globasciiranges:hostcomplete:interactive_comments:progcomp:promptvars:sourcepath\r\nBASH_ALIASES=()\r\nBASH_ARGC=([0]=&quot;0&quot;)\r\nBASH_ARGV=()\r\nBASH_CMDS=()\r\nBASH_EXECUTION_STRING=set\r\nBASH_LINENO=()\r\nBASH_SOURCE=()\r\nBASH_VERSINFO=([0]=&quot;5&quot; [1]=&quot;0&quot; [2]=&quot;17&quot; [3]=&quot;1&quot; [4]=&quot;release&quot; [5]=&quot;x86_64-pc-linux-gnu&quot;)\r\nBASH_VERSION=&#39;5.0.17(1)-release&#39;\r\nDIRSTACK=()\r\nEUID=1000\r\nGROUPS=()\r\nHOME=/home/jenkins\r\nHOSTNAME=7bf4435f24c4\r\nHOSTTYPE=x86_64\r\nIFS=$&#39; \\t\\n&#39;\r\nLOGNAME=jenkins\r\nMACHTYPE=x86_64-pc-linux-gnu\r\nMOTD_SHOWN=pam\r\nOPTERR=1\r\nOPTIND=1\r\nOSTYPE=linux-gnu\r\nPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin\r\nPIPESTATUS=([0]=&quot;0&quot;)\r\nPPID=72\r\nPS4=&#39;+ &#39;\r\nPWD=/home/jenkins\r\nSHELL=/bin/bash\r\nSHELLOPTS=braceexpand:hashall:interactive-comments\r\nSHLVL=1\r\nSSH_CLIENT=&#39;192.168.33.10 37292 22&#39;\r\nSSH_CONNECTION=&#39;192.168.33.10 37292 172.17.0.3 22&#39;\r\nTERM=dumb\r\nUID=1000\r\nUSER=jenkins\r\n_=&#39;]&#39;\r\nChecking Java version in the PATH\r\nopenjdk version &quot;1.8.0_292&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_292-8u292-b10-0ubuntu1~20.04-b10)\r\nOpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)\r\n[08/02/21 11:00:37] [SSH] Checking java version of /jdk/bin/java\r\nCouldn&#39;t figure out the Java version of /jdk/bin/java\r\nbash: /jdk/bin/java: No such file or directory\r\n\r\n[08/02/21 11:00:37] [SSH] Checking java version of java\r\n[08/02/21 11:00:37] [SSH] java -version returned 1.8.0_292.\r\n[08/02/21 11:00:37] [SSH] Starting sftp client.\r\nERROR: [08/02/21 11:00:37] [SSH] SFTP failed. Copying via SCP.\r\njava.io.IOException: The subsystem request failed.\r\n\tat com.trilead.ssh2.channel.ChannelManager.requestSubSystem(ChannelManager.java:741)\r\n\tat com.trilead.ssh2.Session.startSubSystem(Session.java:362)\r\n\tat com.trilead.ssh2.SFTPv3Client.&lt;init&gt;(SFTPv3Client.java:100)\r\n\tat com.trilead.ssh2.SFTPv3Client.&lt;init&gt;(SFTPv3Client.java:119)\r\n\tat com.trilead.ssh2.jenkins.SFTPClient.&lt;init&gt;(SFTPClient.java:43)\r\n\tat hudson.plugins.sshslaves.SSHLauncher.copyAgentJar(SSHLauncher.java:688)\r\n\tat hudson.plugins.sshslaves.SSHLauncher.access$400(SSHLauncher.java:111)\r\n\tat hudson.plugins.sshslaves.SSHLauncher$1.call(SSHLauncher.java:456)\r\n\tat hudson.plugins.sshslaves.SSHLauncher$1.call(SSHLauncher.java:421)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.io.IOException: The server denied the request.\r\n\tat com.trilead.ssh2.channel.ChannelManager.requestSubSystem(ChannelManager.java:737)\r\n\t... 12 more\r\n[08/02/21 11:00:37] [SSH] Copying latest remoting.jar...\r\nExpanded the channel window size to 4MB\r\n[08/02/21 11:00:37] [SSH] **Starting agent process: cd &quot;&quot; &amp;&amp; java  -jar remoting.jar -workDir  -jar-cache /remoting/jarCache\r\nNo argument is allowed: /remoting/jarCache**\r\njava -jar agent.jar [options...]\r\n -agentLog FILE                  : Local agent error log destination (overrides\r\n                                   workDir)\r\n -auth user:pass                 : If your Jenkins is security-enabled, specify\r\n                                   a valid user name and password.\r\n -cert VAL                       : Specify additional X.509 encoded PEM\r\n                                   certificates to trust when connecting to\r\n                                   Jenkins root URLs. If starting with @ then\r\n                                   the remainder is assumed to be the name of\r\n                                   the certificate file to read.\r\n -connectTo HOST:PORT            : make a TCP connection to the given host and\r\n                                   port, then start communication.\r\n -cp (-classpath) PATH           : add the given classpath elements to the\r\n                                   system classloader.\r\n -failIfWorkDirIsMissing         : Fails the initialization if the requested\r\n                                   workDir or internalDir are missing (&#39;false&#39;\r\n                                   by default) (default: false)\r\n -help                           : Show this help message (default: false)\r\n -internalDir VAL                : Specifies a name of the internal files\r\n                                   within a working directory (&#39;remoting&#39; by\r\n                                   default) (default: remoting)\r\n -jar-cache DIR                  : Cache directory that stores jar files sent\r\n                                   from the master\r\n -jnlpCredentials USER:PASSWORD  : HTTP BASIC AUTH header to pass in for making\r\n                                   HTTP requests.\r\n -jnlpUrl URL                    : instead of talking to the master via\r\n                                   stdin/stdout, emulate a JNLP client by\r\n                                   making a TCP connection to the master.\r\n                                   Connection parameters are obtained by\r\n                                   parsing the JNLP file.\r\n -loggingConfig FILE             : Path to the property file with\r\n                                   java.util.logging settings\r\n -noKeepAlive                    : Disable TCP socket keep alive on connection\r\n                                   to the master. (default: false)\r\n -noReconnect                    : Doesn&#39;t try to reconnect when a\r\n                                   communication fail, and exit instead\r\n                                   (default: false)\r\n -proxyCredentials USER:PASSWORD : HTTP BASIC AUTH header to pass in for making\r\n                                   HTTP authenticated proxy requests.\r\n -secret HEX_SECRET              : Agent connection secret to use instead of\r\n                                   -jnlpCredentials.\r\n -tcp FILE                       : instead of talking to the master via\r\n                                   stdin/stdout, listens to a random local\r\n                                   port, write that port number to the given\r\n                                   file, then wait for the master to connect to\r\n                                   that port.\r\n -text                           : encode communication with the master with\r\n                                   base64. Useful for running agent over 8-bit\r\n                                   unsafe protocol like telnet\r\n -version                        : Shows the version of the remoting jar and\r\n                                   then exits (default: false)\r\n -workDir FILE                   : Declares the working directory of the\r\n                                   remoting instance (stores cache and logs by\r\n                                   default) (default: -jar-cache)\r\n\r\nAgent JVM has terminated. Exit code=0\r\n[08/02/21 11:00:39] Launch failed - cleaning up connection\r\n[08/02/21 11:00:39] [SSH] Connection closed.\r\n```\r\n\r\nHow Can I resolved this problem I am using SSH-connection for connecting the docker container.","title":"Jenkins agentfailing due to jarCache error","body":"<p>I have a Jenkins controller running in VM and docker running on another VM, I have setup all the required things for making docker as a build-agent for Jenkins.\nNow When I am running a simple job on docker-build agent, I am getting following error:</p>\n<pre><code>SSHLauncher{host='192.168.33.15', port=49162, credentialsId='dock-cont-pass', jvmOptions='', javaPath='', prefixStartSlaveCmd='', suffixStartSlaveCmd='', launchTimeoutSeconds=60, maxNumRetries=10, retryWaitTime=15, sshHostKeyVerificationStrategy=hudson.plugins.sshslaves.verifiers.NonVerifyingKeyVerificationStrategy, tcpNoDelay=true, trackCredentials=true}\n[08/02/21 11:00:36] [SSH] Opening SSH connection to 192.168.33.15:49162.\n[08/02/21 11:00:36] [SSH] WARNING: SSH Host Keys are not being verified. Man-in-the-middle attacks may be possible against this connection.\n[08/02/21 11:00:37] [SSH] Authentication successful.\n[08/02/21 11:00:37] [SSH] The remote user's environment is:\nBASH=/usr/bin/bash\nBASHOPTS=checkwinsize:cmdhist:complete_fullquote:extquote:force_fignore:globasciiranges:hostcomplete:interactive_comments:progcomp:promptvars:sourcepath\nBASH_ALIASES=()\nBASH_ARGC=([0]=&quot;0&quot;)\nBASH_ARGV=()\nBASH_CMDS=()\nBASH_EXECUTION_STRING=set\nBASH_LINENO=()\nBASH_SOURCE=()\nBASH_VERSINFO=([0]=&quot;5&quot; [1]=&quot;0&quot; [2]=&quot;17&quot; [3]=&quot;1&quot; [4]=&quot;release&quot; [5]=&quot;x86_64-pc-linux-gnu&quot;)\nBASH_VERSION='5.0.17(1)-release'\nDIRSTACK=()\nEUID=1000\nGROUPS=()\nHOME=/home/jenkins\nHOSTNAME=7bf4435f24c4\nHOSTTYPE=x86_64\nIFS=$' \\t\\n'\nLOGNAME=jenkins\nMACHTYPE=x86_64-pc-linux-gnu\nMOTD_SHOWN=pam\nOPTERR=1\nOPTIND=1\nOSTYPE=linux-gnu\nPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin\nPIPESTATUS=([0]=&quot;0&quot;)\nPPID=72\nPS4='+ '\nPWD=/home/jenkins\nSHELL=/bin/bash\nSHELLOPTS=braceexpand:hashall:interactive-comments\nSHLVL=1\nSSH_CLIENT='192.168.33.10 37292 22'\nSSH_CONNECTION='192.168.33.10 37292 172.17.0.3 22'\nTERM=dumb\nUID=1000\nUSER=jenkins\n_=']'\nChecking Java version in the PATH\nopenjdk version &quot;1.8.0_292&quot;\nOpenJDK Runtime Environment (build 1.8.0_292-8u292-b10-0ubuntu1~20.04-b10)\nOpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)\n[08/02/21 11:00:37] [SSH] Checking java version of /jdk/bin/java\nCouldn't figure out the Java version of /jdk/bin/java\nbash: /jdk/bin/java: No such file or directory\n\n[08/02/21 11:00:37] [SSH] Checking java version of java\n[08/02/21 11:00:37] [SSH] java -version returned 1.8.0_292.\n[08/02/21 11:00:37] [SSH] Starting sftp client.\nERROR: [08/02/21 11:00:37] [SSH] SFTP failed. Copying via SCP.\njava.io.IOException: The subsystem request failed.\n    at com.trilead.ssh2.channel.ChannelManager.requestSubSystem(ChannelManager.java:741)\n    at com.trilead.ssh2.Session.startSubSystem(Session.java:362)\n    at com.trilead.ssh2.SFTPv3Client.&lt;init&gt;(SFTPv3Client.java:100)\n    at com.trilead.ssh2.SFTPv3Client.&lt;init&gt;(SFTPv3Client.java:119)\n    at com.trilead.ssh2.jenkins.SFTPClient.&lt;init&gt;(SFTPClient.java:43)\n    at hudson.plugins.sshslaves.SSHLauncher.copyAgentJar(SSHLauncher.java:688)\n    at hudson.plugins.sshslaves.SSHLauncher.access$400(SSHLauncher.java:111)\n    at hudson.plugins.sshslaves.SSHLauncher$1.call(SSHLauncher.java:456)\n    at hudson.plugins.sshslaves.SSHLauncher$1.call(SSHLauncher.java:421)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.io.IOException: The server denied the request.\n    at com.trilead.ssh2.channel.ChannelManager.requestSubSystem(ChannelManager.java:737)\n    ... 12 more\n[08/02/21 11:00:37] [SSH] Copying latest remoting.jar...\nExpanded the channel window size to 4MB\n[08/02/21 11:00:37] [SSH] **Starting agent process: cd &quot;&quot; &amp;&amp; java  -jar remoting.jar -workDir  -jar-cache /remoting/jarCache\nNo argument is allowed: /remoting/jarCache**\njava -jar agent.jar [options...]\n -agentLog FILE                  : Local agent error log destination (overrides\n                                   workDir)\n -auth user:pass                 : If your Jenkins is security-enabled, specify\n                                   a valid user name and password.\n -cert VAL                       : Specify additional X.509 encoded PEM\n                                   certificates to trust when connecting to\n                                   Jenkins root URLs. If starting with @ then\n                                   the remainder is assumed to be the name of\n                                   the certificate file to read.\n -connectTo HOST:PORT            : make a TCP connection to the given host and\n                                   port, then start communication.\n -cp (-classpath) PATH           : add the given classpath elements to the\n                                   system classloader.\n -failIfWorkDirIsMissing         : Fails the initialization if the requested\n                                   workDir or internalDir are missing ('false'\n                                   by default) (default: false)\n -help                           : Show this help message (default: false)\n -internalDir VAL                : Specifies a name of the internal files\n                                   within a working directory ('remoting' by\n                                   default) (default: remoting)\n -jar-cache DIR                  : Cache directory that stores jar files sent\n                                   from the master\n -jnlpCredentials USER:PASSWORD  : HTTP BASIC AUTH header to pass in for making\n                                   HTTP requests.\n -jnlpUrl URL                    : instead of talking to the master via\n                                   stdin/stdout, emulate a JNLP client by\n                                   making a TCP connection to the master.\n                                   Connection parameters are obtained by\n                                   parsing the JNLP file.\n -loggingConfig FILE             : Path to the property file with\n                                   java.util.logging settings\n -noKeepAlive                    : Disable TCP socket keep alive on connection\n                                   to the master. (default: false)\n -noReconnect                    : Doesn't try to reconnect when a\n                                   communication fail, and exit instead\n                                   (default: false)\n -proxyCredentials USER:PASSWORD : HTTP BASIC AUTH header to pass in for making\n                                   HTTP authenticated proxy requests.\n -secret HEX_SECRET              : Agent connection secret to use instead of\n                                   -jnlpCredentials.\n -tcp FILE                       : instead of talking to the master via\n                                   stdin/stdout, listens to a random local\n                                   port, write that port number to the given\n                                   file, then wait for the master to connect to\n                                   that port.\n -text                           : encode communication with the master with\n                                   base64. Useful for running agent over 8-bit\n                                   unsafe protocol like telnet\n -version                        : Shows the version of the remoting jar and\n                                   then exits (default: false)\n -workDir FILE                   : Declares the working directory of the\n                                   remoting instance (stores cache and logs by\n                                   default) (default: -jar-cache)\n\nAgent JVM has terminated. Exit code=0\n[08/02/21 11:00:39] Launch failed - cleaning up connection\n[08/02/21 11:00:39] [SSH] Connection closed.\n</code></pre>\n<p>How Can I resolved this problem I am using SSH-connection for connecting the docker container.</p>\n"},{"tags":["java","amazon-web-services","kubernetes","kubernetes-helm","amazon-eks"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1699788880,"post_id":77465762,"comment_id":136573030,"body_markdown":"You&#39;ve compromised your AWS credentials by publishing them in clear text in a Docker image.  Is it possible your security team revoked them?  In EKS you should be able to use AWS STS to get credentials for a specific IAM role, and then that role will need AWS permissions to access the other cluster.","body":"You&#39;ve compromised your AWS credentials by publishing them in clear text in a Docker image.  Is it possible your security team revoked them?  In EKS you should be able to use AWS STS to get credentials for a specific IAM role, and then that role will need AWS permissions to access the other cluster."},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1699788993,"post_id":77465762,"comment_id":136573041,"body_markdown":"You also will generally need to set up a kubeconfig file specific to EKS, and it needs a specific helper to supply credentials.  Is that file in the right place?  Do you have the necessary credential helper in the image?","body":"You also will generally need to set up a kubeconfig file specific to EKS, and it needs a specific helper to supply credentials.  Is that file in the right place?  Do you have the necessary credential helper in the image?"},{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1699810514,"post_id":77465762,"comment_id":136575140,"body_markdown":"@DavidMaze: Thanks \nThe POD where we are running shell script have the kube config file specific to EKS . What is this helper you are talking about ? Can you please elaborate ?","body":"@DavidMaze: Thanks  The POD where we are running shell script have the kube config file specific to EKS . What is this helper you are talking about ? Can you please elaborate ?"},{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1699815749,"post_id":77465762,"comment_id":136575712,"body_markdown":"@DavidMaze: Im already setting up the context using aws eks command line \n\naws eks --region $2 update-kubeconfig --name $1","body":"@DavidMaze: Im already setting up the context using aws eks command line   aws eks --region $2 update-kubeconfig --name $1"}],"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699717477,"creation_date":1699717477,"question_id":77465762,"body_markdown":"**What is the issue** \r\n\r\nWe have custom JAVA based application which basically updates the ingress entries in another EKS cluster using API layer . Let me explain \r\n\r\n1: JAVA application is deployed in POD in one EKS cluster, named , A. This app has logic of setting the context of another EKS cluster, named , B and run few commands to append the ingress entries in deployment using helm package manager. \r\n\r\n2: If we run the java app without container / POD , it works fine \r\n\r\n3: If we run the java app within POD (using deployment/service) , deployed in cluster A, throws following error. This JAVA app basically executes the `helm.sh` explained below  \r\n\r\n    Error: Kubernetes cluster unreachable: the server has asked for the client to provide credentials \r\n\r\nThe Dockerfile as below : \r\n\r\n    FROM openjdk:17-slim\r\n    \r\n    WORKDIR /app\r\n    EXPOSE 8080\r\n    \r\n    RUN apt-get -y update; apt-get -y install curl; apt-get -y install unzip; apt-get -y install jq\r\n    RUN curl -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3\r\n    RUN chmod 700 get_helm.sh\r\n    RUN ./get_helm.sh\r\n    \r\n    RUN curl &quot;https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip&quot; -o &quot;awscliv2.zip&quot;\r\n    RUN unzip awscliv2.zip &amp;&amp; ./aws/install\r\n    \r\n    ENV AWS_ACCESS_KEY_ID=&lt;key&gt;\r\n    ENV AWS_SECRET_ACCESS_KEY=&lt;acc-key&gt;\r\n    ENV AWS_DEFAULT_REGION=us-east-1\r\n    \r\n    ADD helm.sh /app \r\n    RUN chmod 755 /app/helm.sh\r\n    ADD target/app1.jar /app/app1.jar\r\n    CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/app1.jar&quot; ]\r\n\r\nThe content of shell script (`helm.sh`) is as follows : \r\n\r\n    helm upgrade --install &lt;chartname&gt; &lt;chart-dir&gt; --namespace plat --kubeconfig ~/.kube/config -f &lt;chart-dir&gt;/values.yaml\r\n\r\n**what we have tried** \r\n\r\n1: open all the traffic on the nodes of EKS cluster (incoming/outgoing)\r\n\r\n2: configured the service as &quot;NodePort&quot; instead of ClusterIP. It is the same service where we need to append the ingress entries.  \r\n\r\n3: pass the kubeconfig at command line of that cluster where we need to append the ingress entries \r\n\r\nStill no luck \r\n\r\nAs the error suggests , it is the issue of POD communication across clusters but not getting where we are missing . \r\n\r\nPlease help / suggest ","title":"Helm upgrade fails to update the deployment in another EKS cluster","body":"<p><strong>What is the issue</strong></p>\n<p>We have custom JAVA based application which basically updates the ingress entries in another EKS cluster using API layer . Let me explain</p>\n<p>1: JAVA application is deployed in POD in one EKS cluster, named , A. This app has logic of setting the context of another EKS cluster, named , B and run few commands to append the ingress entries in deployment using helm package manager.</p>\n<p>2: If we run the java app without container / POD , it works fine</p>\n<p>3: If we run the java app within POD (using deployment/service) , deployed in cluster A, throws following error. This JAVA app basically executes the <code>helm.sh</code> explained below</p>\n<pre><code>Error: Kubernetes cluster unreachable: the server has asked for the client to provide credentials \n</code></pre>\n<p>The Dockerfile as below :</p>\n<pre><code>FROM openjdk:17-slim\n\nWORKDIR /app\nEXPOSE 8080\n\nRUN apt-get -y update; apt-get -y install curl; apt-get -y install unzip; apt-get -y install jq\nRUN curl -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3\nRUN chmod 700 get_helm.sh\nRUN ./get_helm.sh\n\nRUN curl &quot;https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip&quot; -o &quot;awscliv2.zip&quot;\nRUN unzip awscliv2.zip &amp;&amp; ./aws/install\n\nENV AWS_ACCESS_KEY_ID=&lt;key&gt;\nENV AWS_SECRET_ACCESS_KEY=&lt;acc-key&gt;\nENV AWS_DEFAULT_REGION=us-east-1\n\nADD helm.sh /app \nRUN chmod 755 /app/helm.sh\nADD target/app1.jar /app/app1.jar\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/app1.jar&quot; ]\n</code></pre>\n<p>The content of shell script (<code>helm.sh</code>) is as follows :</p>\n<pre><code>helm upgrade --install &lt;chartname&gt; &lt;chart-dir&gt; --namespace plat --kubeconfig ~/.kube/config -f &lt;chart-dir&gt;/values.yaml\n</code></pre>\n<p><strong>what we have tried</strong></p>\n<p>1: open all the traffic on the nodes of EKS cluster (incoming/outgoing)</p>\n<p>2: configured the service as &quot;NodePort&quot; instead of ClusterIP. It is the same service where we need to append the ingress entries.</p>\n<p>3: pass the kubeconfig at command line of that cluster where we need to append the ingress entries</p>\n<p>Still no luck</p>\n<p>As the error suggests , it is the issue of POD communication across clusters but not getting where we are missing .</p>\n<p>Please help / suggest</p>\n"},{"tags":["java","maven","keycloak","quarkus"],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699678235,"creation_date":1699678235,"answer_id":77463933,"question_id":77462623,"body_markdown":"Please add `io.smallrye:jandex` latest dependency to **pom.xml**:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jandex&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis has the method `org.jboss.jandex.DotName.createSimple(Class&lt;?&gt; clazz)` in it.\r\n\r\n","title":"Keycloak version and quarkus version mismatch during mvn package","body":"<p>Please add <code>io.smallrye:jandex</code> latest dependency to <strong>pom.xml</strong>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\n    &lt;artifactId&gt;jandex&lt;/artifactId&gt;\n    &lt;version&gt;3.1.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This has the method <code>org.jboss.jandex.DotName.createSimple(Class&lt;?&gt; clazz)</code> in it.</p>\n"},{"tags":[],"owner":{"account_id":16414307,"reputation":99,"user_id":11856842,"display_name":"furion2000"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699717460,"creation_date":1699717460,"answer_id":77465761,"question_id":77462623,"body_markdown":"I had added the missing jandex lib as mentioned above\r\n\r\nnext I also got an exception:\r\njava.lang.IllegalArgumentException: Unsupported api 524288\r\n\r\nStarted to investigate into the quarkus maven plugin which builds the jar and just removed it and stick to the apache maven plugin and this build the jar without a problem....\r\n\r\nSo not an anwer to the problem, but a solid workaround I believe.","title":"Keycloak version and quarkus version mismatch during mvn package","body":"<p>I had added the missing jandex lib as mentioned above</p>\n<p>next I also got an exception:\njava.lang.IllegalArgumentException: Unsupported api 524288</p>\n<p>Started to investigate into the quarkus maven plugin which builds the jar and just removed it and stick to the apache maven plugin and this build the jar without a problem....</p>\n<p>So not an anwer to the problem, but a solid workaround I believe.</p>\n"}],"owner":{"account_id":16414307,"reputation":99,"user_id":11856842,"display_name":"furion2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699717460,"creation_date":1699646897,"question_id":77462623,"body_markdown":"I succesfully build Keycloak 20.0.1 with quarkus.version 2.13.3.Final, but now I want to try with keycloak 22.0.5 and the `mvn clean package` command fails with:\r\n \r\n`[ERROR] Failed to execute goal io.quarkus:quarkus-maven-plugin:2.13.3.Final:build (default) on project keycloak: Execution default of goal io.quarkus:quarkus-maven-plugin:2.13.3.Final:build failed: An API incompatibility was encountered while executing io.quarkus:quarkus-maven-plugin:2.13.3.Final:build: java.lang.NoSuchMethodError: &#39;org.jboss.jandex.DotName org.jboss.jandex.DotName.createSimple(java.lang.Class)&#39;`\r\n\r\nWhat I did to try and solve this in play with versioning in my pom. I tried quarkus version `3.2.8.Final` and the latest of final 3.1.x and 3.0.x. All failed with the same error. Below is first the child pom which fails with the error and the parent 2nd.\r\n\r\nI have placed both poms in, but I am most curious in how to tackle this problem in the future, because what I tried was to look on the keycloak github and see what quarkus version is used there in the pom, but this did worked neither\r\n\r\n        &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;!-- Keycloak Distribution --&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-quarkus-dist&lt;/artifactId&gt;\r\n            &lt;type&gt;zip&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;!-- Keycloak Quarkus Server Libraries--&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-quarkus-server&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;keycloak-${project.version}&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;keycloak-config-test&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;keycloak&lt;/module&gt;\r\n        &lt;module&gt;java-config&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;!-- Java --&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n\r\n        &lt;!-- Maven --&gt;\r\n        &lt;maven-surefire-plugin.version&gt;3.2.2&lt;/maven-surefire-plugin.version&gt;\r\n        &lt;maven.shade.plugin.version&gt;3.5.1&lt;/maven.shade.plugin.version&gt;\r\n        &lt;maven.jar.plugin.version&gt;3.2.2&lt;/maven.jar.plugin.version&gt;\r\n\r\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n        &lt;maven.build.timestamp.format&gt;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&lt;/maven.build.timestamp.format&gt;\r\n\r\n        &lt;!-- Project specific --&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\r\n        &lt;!-- Keycloak --&gt;\r\n        &lt;keycloak.version&gt;22.0.5&lt;/keycloak.version&gt;\r\n        &lt;quarkus.version&gt;2.13.3.Final&lt;/quarkus.version&gt;\r\n        &lt;quarkus.native.builder-image&gt;mutable-jar&lt;/quarkus.native.builder-image&gt;\r\n\r\n        &lt;!-- Plugins --&gt;\r\n        &lt;build-helper-maven-plugin.version&gt;3.4.0&lt;/build-helper-maven-plugin.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;!--Quarkus--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus.arc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;arc&lt;/artifactId&gt;\r\n                &lt;version&gt;${quarkus.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!--keycloak--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n                &lt;artifactId&gt;keycloak-quarkus-server&lt;/artifactId&gt;\r\n                &lt;version&gt;${keycloak.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n                &lt;artifactId&gt;keycloak-quarkus-dist&lt;/artifactId&gt;\r\n                &lt;version&gt;${keycloak.version}&lt;/version&gt;\r\n                &lt;type&gt;zip&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n                &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\r\n                &lt;version&gt;${keycloak.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n                &lt;artifactId&gt;keycloak-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${keycloak.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n                &lt;artifactId&gt;keycloak-services&lt;/artifactId&gt;\r\n                &lt;version&gt;${keycloak.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!--REST--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-resteasy-jackson&lt;/artifactId&gt;\r\n                &lt;version&gt;${quarkus.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-rest-client&lt;/artifactId&gt;\r\n                &lt;version&gt;${quarkus.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-rest-client-jackson&lt;/artifactId&gt;\r\n                &lt;version&gt;${quarkus.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;**/*IntegrationTest.java&lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;unpack-keycloak-server-distribution&lt;/id&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;unpack&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;artifactItems&gt;\r\n                                    &lt;artifactItem&gt;\r\n                                        &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n                                        &lt;artifactId&gt;keycloak-quarkus-dist&lt;/artifactId&gt;\r\n                                        &lt;type&gt;zip&lt;/type&gt;\r\n                                        &lt;outputDirectory&gt;target&lt;/outputDirectory&gt;\r\n                                    &lt;/artifactItem&gt;\r\n                                &lt;/artifactItems&gt;\r\n                                &lt;excludes&gt;**/lib/**&lt;/excludes&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${quarkus.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;finalName&gt;keycloak&lt;/finalName&gt;\r\n                        &lt;buildDir&gt;${project.build.directory}/keycloak-${keycloak.version}&lt;/buildDir&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;build&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;","title":"Keycloak version and quarkus version mismatch during mvn package","body":"<p>I succesfully build Keycloak 20.0.1 with quarkus.version 2.13.3.Final, but now I want to try with keycloak 22.0.5 and the <code>mvn clean package</code> command fails with:</p>\n<p><code>[ERROR] Failed to execute goal io.quarkus:quarkus-maven-plugin:2.13.3.Final:build (default) on project keycloak: Execution default of goal io.quarkus:quarkus-maven-plugin:2.13.3.Final:build failed: An API incompatibility was encountered while executing io.quarkus:quarkus-maven-plugin:2.13.3.Final:build: java.lang.NoSuchMethodError: 'org.jboss.jandex.DotName org.jboss.jandex.DotName.createSimple(java.lang.Class)'</code></p>\n<p>What I did to try and solve this in play with versioning in my pom. I tried quarkus version <code>3.2.8.Final</code> and the latest of final 3.1.x and 3.0.x. All failed with the same error. Below is first the child pom which fails with the error and the parent 2nd.</p>\n<p>I have placed both poms in, but I am most curious in how to tackle this problem in the future, because what I tried was to look on the keycloak github and see what quarkus version is used there in the pom, but this did worked neither</p>\n<pre><code>    &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;!-- Keycloak Distribution --&gt;\n        &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n        &lt;artifactId&gt;keycloak-quarkus-dist&lt;/artifactId&gt;\n        &lt;type&gt;zip&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;!-- Keycloak Quarkus Server Libraries--&gt;\n        &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n        &lt;artifactId&gt;keycloak-quarkus-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;finalName&gt;keycloak-${project.version}&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \nhttp://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;org.example&lt;/groupId&gt;\n&lt;artifactId&gt;keycloak-config-test&lt;/artifactId&gt;\n&lt;version&gt;0.0.1&lt;/version&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n\n&lt;modules&gt;\n    &lt;module&gt;keycloak&lt;/module&gt;\n    &lt;module&gt;java-config&lt;/module&gt;\n&lt;/modules&gt;\n\n&lt;properties&gt;\n    &lt;!-- Java --&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n\n    &lt;!-- Maven --&gt;\n    &lt;maven-surefire-plugin.version&gt;3.2.2&lt;/maven-surefire-plugin.version&gt;\n    &lt;maven.shade.plugin.version&gt;3.5.1&lt;/maven.shade.plugin.version&gt;\n    &lt;maven.jar.plugin.version&gt;3.2.2&lt;/maven.jar.plugin.version&gt;\n\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n    &lt;maven.build.timestamp.format&gt;yyyy-MM-dd'T'HH:mm:ss'Z'&lt;/maven.build.timestamp.format&gt;\n\n    &lt;!-- Project specific --&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n\n    &lt;!-- Keycloak --&gt;\n    &lt;keycloak.version&gt;22.0.5&lt;/keycloak.version&gt;\n    &lt;quarkus.version&gt;2.13.3.Final&lt;/quarkus.version&gt;\n    &lt;quarkus.native.builder-image&gt;mutable-jar&lt;/quarkus.native.builder-image&gt;\n\n    &lt;!-- Plugins --&gt;\n    &lt;build-helper-maven-plugin.version&gt;3.4.0&lt;/build-helper-maven-plugin.version&gt;\n&lt;/properties&gt;\n\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;!--Quarkus--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus.arc&lt;/groupId&gt;\n            &lt;artifactId&gt;arc&lt;/artifactId&gt;\n            &lt;version&gt;${quarkus.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--keycloak--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-quarkus-server&lt;/artifactId&gt;\n            &lt;version&gt;${keycloak.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-quarkus-dist&lt;/artifactId&gt;\n            &lt;version&gt;${keycloak.version}&lt;/version&gt;\n            &lt;type&gt;zip&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\n            &lt;version&gt;${keycloak.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-core&lt;/artifactId&gt;\n            &lt;version&gt;${keycloak.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-services&lt;/artifactId&gt;\n            &lt;version&gt;${keycloak.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--REST--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-resteasy-jackson&lt;/artifactId&gt;\n            &lt;version&gt;${quarkus.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-rest-client&lt;/artifactId&gt;\n            &lt;version&gt;${quarkus.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-rest-client-jackson&lt;/artifactId&gt;\n            &lt;version&gt;${quarkus.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;**/*IntegrationTest.java&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;unpack-keycloak-server-distribution&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;unpack&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n                                    &lt;artifactId&gt;keycloak-quarkus-dist&lt;/artifactId&gt;\n                                    &lt;type&gt;zip&lt;/type&gt;\n                                    &lt;outputDirectory&gt;target&lt;/outputDirectory&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                            &lt;excludes&gt;**/lib/**&lt;/excludes&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;finalName&gt;keycloak&lt;/finalName&gt;\n                    &lt;buildDir&gt;${project.build.directory}/keycloak-${keycloak.version}&lt;/buildDir&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java","spring","jdbc","spring-data","spring-data-jdbc"],"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1554443410,"post_id":55513863,"comment_id":97761452,"body_markdown":"Related: https://stackoverflow.com/questions/53345366/how-to-handle-compound-keys-with-spring-data-jdbc/53346069#comment97738382_53346069","body":"Related: <a href=\"https://stackoverflow.com/questions/53345366/how-to-handle-compound-keys-with-spring-data-jdbc/53346069#comment97738382_53346069\" title=\"how to handle compound keys with spring data jdbc\">stackoverflow.com/questions/53345366/&hellip;</a>"},{"owner":{"account_id":1773198,"reputation":1483,"user_id":1617559,"accept_rate":75,"display_name":"ccampo"},"score":2,"creation_date":1597152955,"post_id":55513863,"comment_id":112036338,"body_markdown":"Bummer that https://jira.spring.io/browse/DATAJDBC-352 was created over a year ago and such a fundamental feature has still not made it into a release.","body":"Bummer that <a href=\"https://jira.spring.io/browse/DATAJDBC-352\" rel=\"nofollow noreferrer\">jira.spring.io/browse/DATAJDBC-352</a> was created over a year ago and such a fundamental feature has still not made it into a release."},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1597153893,"post_id":55513863,"comment_id":112036925,"body_markdown":"@ccampo upvote, hopefuly the right person will notice one day :)","body":"@ccampo upvote, hopefuly the right person will notice one day :)"}],"answers":[{"comments":[{"owner":{"account_id":3623129,"reputation":3773,"user_id":3021395,"accept_rate":40,"display_name":"PowerStat"},"score":7,"creation_date":1567930984,"post_id":55529040,"comment_id":102108539,"body_markdown":"Thats really bad and makes Spring Data JDBC useless for most database schemas :(","body":"Thats really bad and makes Spring Data JDBC useless for most database schemas :("},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":4,"creation_date":1567965196,"post_id":55529040,"comment_id":102116042,"body_markdown":"@PowerStar i think you are exgagerating a bit :) But it is Indeed invonvinient if you have legacy database or natural key.","body":"@PowerStar i think you are exgagerating a bit :) But it is Indeed invonvinient if you have legacy database or natural key."},{"owner":{"account_id":4723763,"reputation":3950,"user_id":3821009,"accept_rate":50,"display_name":"levant pied"},"score":2,"creation_date":1568759280,"post_id":55529040,"comment_id":102374657,"body_markdown":"So the only way to use spring-jdbc with such tables is to add a synthetic simple-type ID column to the tables used?","body":"So the only way to use spring-jdbc with such tables is to add a synthetic simple-type ID column to the tables used?"}],"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1592461708,"creation_date":1554443844,"answer_id":55529040,"question_id":55513863,"body_markdown":"No `@Embedded` doesn&#39;t work for Ids, [yet][1].\r\nRight now all SQL statements assume a simple value for the id column.\r\nAnd I don&#39;t think there is a workaround for that.\r\n\r\nOne workaround that might work is to create a view that presents the composite key as a single field and has triggers writing the correct data into the underlying table.\r\n\r\n  [1]: https://jira.spring.io/browse/DATAJDBC-352","title":"Composite Key and spring-data-jdbc","body":"<p>No <code>@Embedded</code> doesn't work for Ids, <a href=\"https://jira.spring.io/browse/DATAJDBC-352\" rel=\"noreferrer\">yet</a>.\nRight now all SQL statements assume a simple value for the id column.\nAnd I don't think there is a workaround for that.</p>\n\n<p>One workaround that might work is to create a view that presents the composite key as a single field and has triggers writing the correct data into the underlying table.</p>\n"},{"tags":[],"owner":{"account_id":2122132,"reputation":19,"user_id":1885172,"display_name":"amunds"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699717403,"creation_date":1699700435,"answer_id":77464808,"question_id":55513863,"body_markdown":"For (hopefully) the few Aggregate Roots needing composite Id&#39;s, you can always use a fragment repository to provide own implementation either by overriding relevant methods from (List)CrudRepository - or just use Repository. (You can still create queries like `findAllByLastname` etc.\r\n\r\nA actual workaround where you dont need to write a fragment repository (or similar) is to model this in a Set/Map. This way, in the database schema for the table related to the aggregate root (or further down the hierarchy) could have composite primary keys. Queries can be created querying this table directly based on the composite primary key, and you can probably create a insert as well.\r\nIn the application where I have actually done this, I created an embeddable wrapper-object containing only the Set (Map actually) just to provide an interface to work with this.\r\n\r\n    \r\n\r\n    import java.util.*\r\n\r\n    data class Userdata(\r\n        @Id val id: UUID,\r\n        val keyValueStore: Set&lt;UserdataKeyValue&gt; \r\n    )\r\n\r\n    data class UserdataKeyValue(\r\n        val key: String,\r\n        val value: String\r\n    )\r\n\r\n    CREATE TABLE USERDATA_KEY_VALUE\r\n    (         \r\n        userdata uuid not null,\r\n        key varchar(30) not null,\r\n        value varchar(255)\r\n    );\r\n\r\n    ALTER TABLE USERDATA_KEY_VALUE\r\n      ADD CONSTRAINT pk_KEY_VALUE_TO_USERDATA\r\n        PRIMARY KEY (userdata, key);","title":"Composite Key and spring-data-jdbc","body":"<p>For (hopefully) the few Aggregate Roots needing composite Id's, you can always use a fragment repository to provide own implementation either by overriding relevant methods from (List)CrudRepository - or just use Repository. (You can still create queries like <code>findAllByLastname</code> etc.</p>\n<p>A actual workaround where you dont need to write a fragment repository (or similar) is to model this in a Set/Map. This way, in the database schema for the table related to the aggregate root (or further down the hierarchy) could have composite primary keys. Queries can be created querying this table directly based on the composite primary key, and you can probably create a insert as well.\nIn the application where I have actually done this, I created an embeddable wrapper-object containing only the Set (Map actually) just to provide an interface to work with this.</p>\n<pre><code>import java.util.*\n\ndata class Userdata(\n    @Id val id: UUID,\n    val keyValueStore: Set&lt;UserdataKeyValue&gt; \n)\n\ndata class UserdataKeyValue(\n    val key: String,\n    val value: String\n)\n\nCREATE TABLE USERDATA_KEY_VALUE\n(         \n    userdata uuid not null,\n    key varchar(30) not null,\n    value varchar(255)\n);\n\nALTER TABLE USERDATA_KEY_VALUE\n  ADD CONSTRAINT pk_KEY_VALUE_TO_USERDATA\n    PRIMARY KEY (userdata, key);\n</code></pre>\n"}],"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8142,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":55529040,"answer_count":2,"score":13,"last_activity_date":1699717403,"creation_date":1554374394,"question_id":55513863,"body_markdown":"I have a database which is using composite keys. Is it possible to utilize spring-data-jdbc? I tried the milestone version 1.1M2 where I mapped my entity in the following way:\r\n\r\n    class History {\r\n       \r\n       @ID\r\n       @Embedded\r\n       private CompositeHistoryID  id;\r\n    }\r\n\r\nThen in my repository class, I added \r\n\r\n    HistoryRepository extends Repository&lt;History,CompositeHistoryID  &gt;{\r\n       History  findByhId(CompositeHistoryID  id)\r\n    }\r\n\r\nI traced the SQL, and it did not work. The embedded part worked, but the where clause was not correct. It was using a single parameter holder instead of having the regular composite key structure where element1=subkey1 and element2=subkey2 and so on...\r\n\r\nI have two questions. Is there any way to make the Composite ID work?\r\n\r\nThe second question is, let&#39;s suppose that I use a custom `@Query` on top of the `findByID` will the SAVE method work after that if? What is there is no ID at all, what if I just pick a random column and say you will be my ID?\r\n\r\n\r\n\r\n\r\n\r\n","title":"Composite Key and spring-data-jdbc","body":"<p>I have a database which is using composite keys. Is it possible to utilize spring-data-jdbc? I tried the milestone version 1.1M2 where I mapped my entity in the following way:</p>\n\n<pre><code>class History {\n\n   @ID\n   @Embedded\n   private CompositeHistoryID  id;\n}\n</code></pre>\n\n<p>Then in my repository class, I added </p>\n\n<pre><code>HistoryRepository extends Repository&lt;History,CompositeHistoryID  &gt;{\n   History  findByhId(CompositeHistoryID  id)\n}\n</code></pre>\n\n<p>I traced the SQL, and it did not work. The embedded part worked, but the where clause was not correct. It was using a single parameter holder instead of having the regular composite key structure where element1=subkey1 and element2=subkey2 and so on...</p>\n\n<p>I have two questions. Is there any way to make the Composite ID work?</p>\n\n<p>The second question is, let's suppose that I use a custom <code>@Query</code> on top of the <code>findByID</code> will the SAVE method work after that if? What is there is no ID at all, what if I just pick a random column and say you will be my ID?</p>\n"},{"tags":["java","json","serialization","gson"],"comments":[{"owner":{"account_id":245478,"reputation":5735,"user_id":518992,"accept_rate":89,"display_name":"sargue"},"score":1,"creation_date":1478096783,"post_id":12161366,"comment_id":68016604,"body_markdown":"Optional shouldn&#39;t be used on properties or parameters, just in return types.","body":"Optional shouldn&#39;t be used on properties or parameters, just in return types."},{"owner":{"account_id":485731,"reputation":5563,"user_id":902217,"accept_rate":86,"display_name":"CAMOBAP"},"score":0,"creation_date":1686895649,"post_id":12161366,"comment_id":134863762,"body_markdown":"@sargue I think there are valid scenarios when this may be an option. For example you are writing a library for an api service with optional params. So you have to distinguish default value from value set by user","body":"@sargue I think there are valid scenarios when this may be an option. For example you are writing a library for an api service with optional params. So you have to distinguish default value from value set by user"},{"owner":{"account_id":245478,"reputation":5735,"user_id":518992,"accept_rate":89,"display_name":"sargue"},"score":0,"creation_date":1686904150,"post_id":12161366,"comment_id":134865226,"body_markdown":"I&#39;m not saying it, the javadocs says it:\nOptional is primarily intended for use as a method return type where there is a clear need to represent &quot;no result,&quot; and where using null is likely to cause errors.","body":"I&#39;m not saying it, the javadocs says it: Optional is primarily intended for use as a method return type where there is a clear need to represent &quot;no result,&quot; and where using null is likely to cause errors."}],"answers":[{"comments":[{"owner":{"account_id":38846,"reputation":29755,"user_id":111777,"accept_rate":82,"display_name":"Edward Dale"},"score":0,"creation_date":1401250625,"post_id":12164531,"comment_id":36804702,"body_markdown":"Do you need to register a new instance of `GsonOptionalDeserializer` for every type of `Optional` that you want to serialize?","body":"Do you need to register a new instance of <code>GsonOptionalDeserializer</code> for every type of <code>Optional</code> that you want to serialize?"},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":1,"creation_date":1401259370,"post_id":12164531,"comment_id":36807860,"body_markdown":"@scompt.com No, it&#39;s just like [here](http://stackoverflow.com/a/7773201/581205).","body":"@scompt.com No, it&#39;s just like <a href=\"http://stackoverflow.com/a/7773201/581205\">here</a>."},{"owner":{"account_id":38846,"reputation":29755,"user_id":111777,"accept_rate":82,"display_name":"Edward Dale"},"score":0,"creation_date":1401260918,"post_id":12164531,"comment_id":36808673,"body_markdown":"Ah, I see. I ended up implementing `TypeAdapterFactory` and doing something similar to the [Multiset example](http://google-gson.googlecode.com/svn/trunk/gson/docs/javadocs/com/google/gson/TypeAdapterFactory.html) in the Javadocs.","body":"Ah, I see. I ended up implementing <code>TypeAdapterFactory</code> and doing something similar to the <a href=\"http://google-gson.googlecode.com/svn/trunk/gson/docs/javadocs/com/google/gson/TypeAdapterFactory.html\" rel=\"nofollow noreferrer\">Multiset example</a> in the Javadocs."},{"owner":{"account_id":24285,"reputation":32181,"user_id":61663,"accept_rate":92,"display_name":"Jack Edmonds"},"score":0,"creation_date":1536333460,"post_id":12164531,"comment_id":91400138,"body_markdown":"Looks like during deserialization, this still doesn&#39;t distinguish between `Optional.absent()` and `null` since it returns a non-null `Optional` in all cases.","body":"Looks like during deserialization, this still doesn&#39;t distinguish between <code>Optional.absent()</code> and <code>null</code> since it returns a non-null <code>Optional</code> in all cases."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1536442882,"post_id":12164531,"comment_id":91427876,"body_markdown":"@JackEdmonds Indeed and it can&#39;t as it&#39;d need different representations for `Optional.absent()` and `null`. You could solve it by using a single-element array instead (as `Optional` is an up-to-one-element collection), but OTOH, `Optional` is nothing but exploded `@Nullable` and having `@Nullable Optional` is just plain wrong.","body":"@JackEdmonds Indeed and it can&#39;t as it&#39;d need different representations for <code>Optional.absent()</code> and <code>null</code>. You could solve it by using a single-element array instead (as <code>Optional</code> is an up-to-one-element collection), but OTOH, <code>Optional</code> is nothing but exploded <code>@Nullable</code> and having <code>@Nullable Optional</code> is just plain wrong."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1589967274,"post_id":12164531,"comment_id":109500047,"body_markdown":"Note that the encapsulation with an array is only needed when implementing `JsonDeserializer` (see also [this Gson issue](https://github.com/google/gson/issues/1697)). The higher voted answer below uses `TypeAdapter` and therefore does not require this encapsulation and allows to write `&quot;myfield&quot;: null` for an absent Optional.","body":"Note that the encapsulation with an array is only needed when implementing <code>JsonDeserializer</code> (see also <a href=\"https://github.com/google/gson/issues/1697\" rel=\"nofollow noreferrer\">this Gson issue</a>). The higher voted answer below uses <code>TypeAdapter</code> and therefore does not require this encapsulation and allows to write <code>&quot;myfield&quot;: null</code> for an absent Optional."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1590032212,"post_id":12164531,"comment_id":109529174,"body_markdown":"@Marcono1234 But someone may expect `&quot;myfield&quot;: null` to be transformed into `null` (sure, a nullable Optional is stupid..., stupid like.... like Optional itself :D). As I wrote... *&quot;otherwise you could strip away the encapsulation as a list.&quot;* I&#39;d bet, my solution could do this... what I don&#39;t understand is why the other answer is much longer. I didn&#39;t touch Gson for ages...","body":"@Marcono1234 But someone may expect <code>&quot;myfield&quot;: null</code> to be transformed into <code>null</code> (sure, a nullable Optional is stupid..., stupid like.... like Optional itself :D). As I wrote... <i>&quot;otherwise you could strip away the encapsulation as a list.&quot;</i> I&#39;d bet, my solution could do this... what I don&#39;t understand is why the other answer is much longer. I didn&#39;t touch Gson for ages..."}],"tags":[],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"comment_count":7,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1346175219,"creation_date":1346175219,"answer_id":12164531,"question_id":12161366,"body_markdown":"The solution by Ilya ignores type parameters, so it can&#39;t really work in the general case. My solution is rather complicated, because of the need to distinguish between `null` and `Optional.absent()` -- otherwise you could strip away the encapsulation as a list.\r\n\r\n    public class GsonOptionalDeserializer&lt;T&gt;\r\n    implements JsonSerializer&lt;Optional&lt;T&gt;&gt;, JsonDeserializer&lt;Optional&lt;T&gt;&gt; {\r\n    \r\n        @Override\r\n        public Optional&lt;T&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\r\n                throws JsonParseException {\r\n            final JsonArray asJsonArray = json.getAsJsonArray();\r\n            final JsonElement jsonElement = asJsonArray.get(0);\r\n            final T value = context.deserialize(jsonElement, ((ParameterizedType) typeOfT).getActualTypeArguments()[0]);\r\n            return Optional.fromNullable(value);\r\n        }\r\n    \r\n        @Override\r\n        public JsonElement serialize(Optional&lt;T&gt; src, Type typeOfSrc, JsonSerializationContext context) {\r\n            final JsonElement element = context.serialize(src.orNull());\r\n            final JsonArray result = new JsonArray();\r\n            result.add(element);\r\n            return result;\r\n        }\r\n    }\r\n","title":"How to serialize Optional&lt;T&gt; classes with Gson?","body":"<p>The solution by Ilya ignores type parameters, so it can't really work in the general case. My solution is rather complicated, because of the need to distinguish between <code>null</code> and <code>Optional.absent()</code> -- otherwise you could strip away the encapsulation as a list.</p>\n\n<pre><code>public class GsonOptionalDeserializer&lt;T&gt;\nimplements JsonSerializer&lt;Optional&lt;T&gt;&gt;, JsonDeserializer&lt;Optional&lt;T&gt;&gt; {\n\n    @Override\n    public Optional&lt;T&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\n            throws JsonParseException {\n        final JsonArray asJsonArray = json.getAsJsonArray();\n        final JsonElement jsonElement = asJsonArray.get(0);\n        final T value = context.deserialize(jsonElement, ((ParameterizedType) typeOfT).getActualTypeArguments()[0]);\n        return Optional.fromNullable(value);\n    }\n\n    @Override\n    public JsonElement serialize(Optional&lt;T&gt; src, Type typeOfSrc, JsonSerializationContext context) {\n        final JsonElement element = context.serialize(src.orNull());\n        final JsonArray result = new JsonArray();\n        result.add(element);\n        return result;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":2,"creation_date":1589966293,"post_id":25078422,"comment_id":109499522,"body_markdown":"`read(...)` is not consuming the `null`. It should call `skipValue()` or `nextNull()`.","body":"<code>read(...)</code> is not consuming the <code>null</code>. It should call <code>skipValue()</code> or <code>nextNull()</code>."},{"owner":{"account_id":1761212,"reputation":3699,"user_id":1608276,"accept_rate":28,"display_name":"luochen1990"},"score":1,"creation_date":1592370331,"post_id":25078422,"comment_id":110397862,"body_markdown":"@Marcono1234  I fixed this and providing TypeAdapter for List, here is my full code: https://gist.github.com/luochen1990/319de4c73f7269d197a2a3fe4523a1f7","body":"@Marcono1234  I fixed this and providing TypeAdapter for List, here is my full code: <a href=\"https://gist.github.com/luochen1990/319de4c73f7269d197a2a3fe4523a1f7\" rel=\"nofollow noreferrer\">gist.github.com/luochen1990/319de4c73f7269d197a2a3fe4523a1f7</a>"}],"tags":[],"owner":{"account_id":2471624,"reputation":271,"user_id":2153327,"display_name":"Anton Onikiychuk"},"comment_count":2,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1599170536,"creation_date":1406889619,"answer_id":25078422,"question_id":12161366,"body_markdown":"After several hours of gooling and coding - there is my version:\r\n\r\n    public class OptionalTypeAdapter&lt;E&gt; extends TypeAdapter&lt;Optional&lt;E&gt;&gt; {\r\n    \r\n        public static final TypeAdapterFactory FACTORY = new TypeAdapterFactory() {\r\n            @Override\r\n            public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\r\n                Class&lt;T&gt; rawType = (Class&lt;T&gt;) type.getRawType();\r\n                if (rawType != Optional.class) {\r\n                    return null;\r\n                }\r\n                final ParameterizedType parameterizedType = (ParameterizedType) type.getType();\r\n                final Type actualType = parameterizedType.getActualTypeArguments()[0];\r\n                final TypeAdapter&lt;?&gt; adapter = gson.getAdapter(TypeToken.get(actualType));\r\n                return new OptionalTypeAdapter(adapter);\r\n            }\r\n        };\r\n        private final TypeAdapter&lt;E&gt; adapter;\r\n    \r\n        public OptionalTypeAdapter(TypeAdapter&lt;E&gt; adapter) {\r\n    \r\n            this.adapter = adapter;\r\n        }\r\n    \r\n        @Override\r\n        public void write(JsonWriter out, Optional&lt;E&gt; value) throws IOException {\r\n            if(value.isPresent()){\r\n                adapter.write(out, value.get());\r\n            } else {\r\n                out.nullValue();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public Optional&lt;E&gt; read(JsonReader in) throws IOException {\r\n            final JsonToken peek = in.peek();\r\n            if(peek != JsonToken.NULL){\r\n                return Optional.ofNullable(adapter.read(in));\r\n            }\r\n    \r\n            in.nextNull();\r\n            return Optional.empty();\r\n        }\r\n    \r\n    }\r\n\r\nYou can simple registered it with `GsonBuilder` like this:\r\n\r\n    instance.registerTypeAdapterFactory(OptionalTypeAdapter.FACTORY)\r\n\r\nPlease keep attention that Gson does not set values to your class field if field does not present in json. So you need to set default value `Optional.empty()` in your entity. ","title":"How to serialize Optional&lt;T&gt; classes with Gson?","body":"<p>After several hours of gooling and coding - there is my version:</p>\n<pre><code>public class OptionalTypeAdapter&lt;E&gt; extends TypeAdapter&lt;Optional&lt;E&gt;&gt; {\n\n    public static final TypeAdapterFactory FACTORY = new TypeAdapterFactory() {\n        @Override\n        public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\n            Class&lt;T&gt; rawType = (Class&lt;T&gt;) type.getRawType();\n            if (rawType != Optional.class) {\n                return null;\n            }\n            final ParameterizedType parameterizedType = (ParameterizedType) type.getType();\n            final Type actualType = parameterizedType.getActualTypeArguments()[0];\n            final TypeAdapter&lt;?&gt; adapter = gson.getAdapter(TypeToken.get(actualType));\n            return new OptionalTypeAdapter(adapter);\n        }\n    };\n    private final TypeAdapter&lt;E&gt; adapter;\n\n    public OptionalTypeAdapter(TypeAdapter&lt;E&gt; adapter) {\n\n        this.adapter = adapter;\n    }\n\n    @Override\n    public void write(JsonWriter out, Optional&lt;E&gt; value) throws IOException {\n        if(value.isPresent()){\n            adapter.write(out, value.get());\n        } else {\n            out.nullValue();\n        }\n    }\n\n    @Override\n    public Optional&lt;E&gt; read(JsonReader in) throws IOException {\n        final JsonToken peek = in.peek();\n        if(peek != JsonToken.NULL){\n            return Optional.ofNullable(adapter.read(in));\n        }\n\n        in.nextNull();\n        return Optional.empty();\n    }\n\n}\n</code></pre>\n<p>You can simple registered it with <code>GsonBuilder</code> like this:</p>\n<pre><code>instance.registerTypeAdapterFactory(OptionalTypeAdapter.FACTORY)\n</code></pre>\n<p>Please keep attention that Gson does not set values to your class field if field does not present in json. So you need to set default value <code>Optional.empty()</code> in your entity.</p>\n"},{"comments":[{"owner":{"account_id":1299420,"reputation":96,"user_id":1249649,"accept_rate":0,"display_name":"timh"},"score":1,"creation_date":1499160634,"post_id":43727852,"comment_id":76781433,"body_markdown":"This is better than the answer. The JsonArray is not required. Note that this answer is about Guava optionals. For Java8 optionals, use `Optional.ofNullable(value)` and `src.orElse(null)`.","body":"This is better than the answer. The JsonArray is not required. Note that this answer is about Guava optionals. For Java8 optionals, use <code>Optional.ofNullable(value)</code> and <code>src.orElse(null)</code>."}],"tags":[],"owner":{"account_id":392004,"reputation":4854,"user_id":753000,"accept_rate":38,"display_name":"Till - Appviewer.io"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1545117151,"creation_date":1493680878,"answer_id":43727852,"question_id":12161366,"body_markdown":"Just as an addition to maaartinus solution, the version without the encapsulating list, where `Optional.absent` is simply serialized as `null`:\r\n\r\n    public class GsonOptionalDeserializer&lt;T&gt; implements JsonSerializer&lt;Optional&lt;T&gt;&gt;, JsonDeserializer&lt;Optional&lt;T&gt;&gt; {\r\n        @Override\r\n        public Optional&lt;T&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\r\n            throws JsonParseException {\r\n            final T value = context.deserialize(json, ((ParameterizedType) typeOfT).getActualTypeArguments()[0]);\r\n            return Optional.fromNullable(value);\r\n        }\r\n\r\n        @Override\r\n        public JsonElement serialize(Optional&lt;T&gt; src, Type typeOfSrc, JsonSerializationContext context) {\r\n            return context.serialize(src.orNull());\r\n        }\r\n    }\r\n","title":"How to serialize Optional&lt;T&gt; classes with Gson?","body":"<p>Just as an addition to maaartinus solution, the version without the encapsulating list, where <code>Optional.absent</code> is simply serialized as <code>null</code>:</p>\n\n<pre><code>public class GsonOptionalDeserializer&lt;T&gt; implements JsonSerializer&lt;Optional&lt;T&gt;&gt;, JsonDeserializer&lt;Optional&lt;T&gt;&gt; {\n    @Override\n    public Optional&lt;T&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\n        throws JsonParseException {\n        final T value = context.deserialize(json, ((ParameterizedType) typeOfT).getActualTypeArguments()[0]);\n        return Optional.fromNullable(value);\n    }\n\n    @Override\n    public JsonElement serialize(Optional&lt;T&gt; src, Type typeOfSrc, JsonSerializationContext context) {\n        return context.serialize(src.orNull());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":1,"creation_date":1589967412,"post_id":53827639,"comment_id":109500130,"body_markdown":"That&#39;s a good and important point! Though it would probably have been better to add that as comment or propose it as edit. I have proposed an edit solving this now.","body":"That&#39;s a good and important point! Though it would probably have been better to add that as comment or propose it as edit. I have proposed an edit solving this now."}],"tags":[],"owner":{"account_id":8341524,"reputation":697,"user_id":6266706,"display_name":"Edgar Asatryan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545115360,"creation_date":1545115360,"answer_id":53827639,"question_id":12161366,"body_markdown":"I&#39;ll add to [Anton Onikiychuk][1]&#39;s answer\r\n    \r\n    @Override\r\n    public Optional&lt;E&gt; read(JsonReader in) throws IOException {\r\n        JsonToken peek = in.peek();\r\n        if (peek == JsonToken.NULL) {\r\n            in.nextNull(); // consuming JSON null\r\n            return Optional.empty();\r\n        }\r\n\r\n        return Optional.ofNullable(adapter.read(in));\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/users/2153327/anton-onikiychuk","title":"How to serialize Optional&lt;T&gt; classes with Gson?","body":"<p>I'll add to <a href=\"https://stackoverflow.com/users/2153327/anton-onikiychuk\">Anton Onikiychuk</a>'s answer</p>\n\n<pre><code>@Override\npublic Optional&lt;E&gt; read(JsonReader in) throws IOException {\n    JsonToken peek = in.peek();\n    if (peek == JsonToken.NULL) {\n        in.nextNull(); // consuming JSON null\n        return Optional.empty();\n    }\n\n    return Optional.ofNullable(adapter.read(in));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26026971,"reputation":11,"user_id":19733762,"display_name":"ncla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693311896,"creation_date":1693311896,"answer_id":77000193,"question_id":12161366,"body_markdown":"I&#39;ve encountered a similar challenge when trying to create a custom Gson TypeAdapter for optional types like java.util.Optional. Despite searching extensively and reviewing existing answers, I couldn&#39;t find a solution that precisely addressed this issue.\r\n\r\nHowever, after thorough experimentation, I&#39;ve managed to create a custom TypeAdapter that should work for your scenario:\r\n\r\n    /**\r\n     * TypeAdapter to manage nullable fields with Optional approach\r\n     */\r\n    public static class OptionalTypeAdapter&lt;E&gt; implements JsonSerializer&lt;Optional&lt;E&gt;&gt;, JsonDeserializer&lt;Optional&lt;E&gt;&gt; {\r\n\r\n        @Override\r\n        public JsonElement serialize(Optional&lt;E&gt; src, Type typeOfSrc, JsonSerializationContext context) {\r\n            if (src.isPresent()) {\r\n                return context.serialize(src.get());\r\n            } else {\r\n                return JsonNull.INSTANCE;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public Optional&lt;E&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\r\n                throws JsonParseException {\r\n            if (json.isJsonNull()) {\r\n                return Optional.empty();\r\n            } else {\r\n                E value = context.deserialize(json, ((ParameterizedType) typeOfT).getActualTypeArguments()[0]);\r\n                return Optional.ofNullable(value);\r\n            }\r\n        }\r\n    }\r\n\r\nThis custom OptionalTypeAdapter should allow Gson to handle optional types appropriately in serialization and deserialization.\r\n\r\nInstance a Gson object to handle JSON is now possible through this code:\r\n\r\n    new GsonBuilder()\r\n    .registerTypeAdapter(Optional.class, new OptionalTypeAdapter&lt;&gt;())\r\n    .create();","title":"How to serialize Optional&lt;T&gt; classes with Gson?","body":"<p>I've encountered a similar challenge when trying to create a custom Gson TypeAdapter for optional types like java.util.Optional. Despite searching extensively and reviewing existing answers, I couldn't find a solution that precisely addressed this issue.</p>\n<p>However, after thorough experimentation, I've managed to create a custom TypeAdapter that should work for your scenario:</p>\n<pre><code>/**\n * TypeAdapter to manage nullable fields with Optional approach\n */\npublic static class OptionalTypeAdapter&lt;E&gt; implements JsonSerializer&lt;Optional&lt;E&gt;&gt;, JsonDeserializer&lt;Optional&lt;E&gt;&gt; {\n\n    @Override\n    public JsonElement serialize(Optional&lt;E&gt; src, Type typeOfSrc, JsonSerializationContext context) {\n        if (src.isPresent()) {\n            return context.serialize(src.get());\n        } else {\n            return JsonNull.INSTANCE;\n        }\n    }\n\n    @Override\n    public Optional&lt;E&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\n            throws JsonParseException {\n        if (json.isJsonNull()) {\n            return Optional.empty();\n        } else {\n            E value = context.deserialize(json, ((ParameterizedType) typeOfT).getActualTypeArguments()[0]);\n            return Optional.ofNullable(value);\n        }\n    }\n}\n</code></pre>\n<p>This custom OptionalTypeAdapter should allow Gson to handle optional types appropriately in serialization and deserialization.</p>\n<p>Instance a Gson object to handle JSON is now possible through this code:</p>\n<pre><code>new GsonBuilder()\n.registerTypeAdapter(Optional.class, new OptionalTypeAdapter&lt;&gt;())\n.create();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1350007,"reputation":1032,"user_id":1289953,"accept_rate":25,"display_name":"kumetix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699715579,"creation_date":1699715579,"answer_id":77465638,"question_id":12161366,"body_markdown":"I dearly feel that its important for the reader which ends up in this thread to know at the time this answer is written, none of the solutions offered in the current answers actually solve the original requirement placed in the question. \r\n\r\nTLDR Switch to `Jackson`\r\n\r\n- Requirement cannot be satisfied with `Gson` (at least not with the latest version in the time this answer is written that is 2.10.1).\r\n- All the offered solutions so far lead to the same result - upon parsing a json string, when an attribute is missing, even if the corresponding java entity class member type is `Optional&lt;?&gt;`, at the end of the de-serialization the member will end up referring a `null` and not an `Optional.empty()` as desired, leading to `NullPointerException` when retrieving the Optional member.\r\n- If you insist on using Gson, you&#39;ll have to manually address the scenarios where the optional attribute is absent within the entity class member getter i.e.\r\n   ```\r\n   public Optional&lt;String&gt; myOptionalString() {\r\n       return this.myOptionalString == null ? Optional.empty() : myOptionalString\r\n  }\r\n   ``` \r\n- Me personally, I ended up ditching `Gson` in favor of `Jackson`, which together with its `Jdk8Module`, solves the problem.\r\n\r\n- In Jackson, you&#39;ll create the `ObjectMapper` this way\r\n  ```\r\n  ObjectMapper mapper = new ObjectMapper().registerModule(new Jdk8Module());\r\n  ```\r\n  And then you&#39;ll parse your json string into an entity this way\r\n  ```\r\n  mapper.readValue(jsonWithOptionals, EntityWithOptionals.class)\r\n  ```","title":"How to serialize Optional&lt;T&gt; classes with Gson?","body":"<p>I dearly feel that its important for the reader which ends up in this thread to know at the time this answer is written, none of the solutions offered in the current answers actually solve the original requirement placed in the question.</p>\n<p>TLDR Switch to <code>Jackson</code></p>\n<ul>\n<li><p>Requirement cannot be satisfied with <code>Gson</code> (at least not with the latest version in the time this answer is written that is 2.10.1).</p>\n</li>\n<li><p>All the offered solutions so far lead to the same result - upon parsing a json string, when an attribute is missing, even if the corresponding java entity class member type is <code>Optional&lt;?&gt;</code>, at the end of the de-serialization the member will end up referring a <code>null</code> and not an <code>Optional.empty()</code> as desired, leading to <code>NullPointerException</code> when retrieving the Optional member.</p>\n</li>\n<li><p>If you insist on using Gson, you'll have to manually address the scenarios where the optional attribute is absent within the entity class member getter i.e.</p>\n<pre><code>public Optional&lt;String&gt; myOptionalString() {\n     return this.myOptionalString == null ? Optional.empty() : myOptionalString\n}\n</code></pre>\n</li>\n<li><p>Me personally, I ended up ditching <code>Gson</code> in favor of <code>Jackson</code>, which together with its <code>Jdk8Module</code>, solves the problem.</p>\n</li>\n<li><p>In Jackson, you'll create the <code>ObjectMapper</code> this way</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper().registerModule(new Jdk8Module());\n</code></pre>\n<p>And then you'll parse your json string into an entity this way</p>\n<pre><code>mapper.readValue(jsonWithOptionals, EntityWithOptionals.class)\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15739,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":12164531,"answer_count":6,"score":27,"last_activity_date":1699715579,"creation_date":1346163632,"question_id":12161366,"body_markdown":"I have an object with the following attributes.\r\n\r\n    private final String messageBundle;\r\n    private final List&lt;String&gt; messageParams;\r\n    private final String actionBundle;\r\n    private final Map&lt;String, String&gt; data;\r\n    private final Optional&lt;Pair&lt;Integer,TimeUnit&gt;&gt; ttl;\r\n    private final Optional&lt;Integer&gt; badgeNumber;\r\n    private final Optional&lt;String&gt; collapseKey;\r\n\r\nThe object is in a library, i would rather not modify it just for serialization purpose, and would like to avoid the cost of creating another DTO.\r\n\r\nHow can i serialize / unserialize Optional attributes? Optional doesn&#39;t have a default constructor (neither apache commons Pair), but i can&#39;t use the InstanceCreator, and don&#39;t really understand how to create a TypeAdapter that would simply delegate the serialization to the underlying Optional content.","title":"How to serialize Optional&lt;T&gt; classes with Gson?","body":"<p>I have an object with the following attributes.</p>\n\n<pre><code>private final String messageBundle;\nprivate final List&lt;String&gt; messageParams;\nprivate final String actionBundle;\nprivate final Map&lt;String, String&gt; data;\nprivate final Optional&lt;Pair&lt;Integer,TimeUnit&gt;&gt; ttl;\nprivate final Optional&lt;Integer&gt; badgeNumber;\nprivate final Optional&lt;String&gt; collapseKey;\n</code></pre>\n\n<p>The object is in a library, i would rather not modify it just for serialization purpose, and would like to avoid the cost of creating another DTO.</p>\n\n<p>How can i serialize / unserialize Optional attributes? Optional doesn't have a default constructor (neither apache commons Pair), but i can't use the InstanceCreator, and don't really understand how to create a TypeAdapter that would simply delegate the serialization to the underlying Optional content.</p>\n"},{"tags":["java","random"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699563095,"post_id":77456187,"comment_id":136551441,"body_markdown":"@QBrute it isn&#39;t calculating that.","body":"@QBrute it isn&#39;t calculating that."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":7,"creation_date":1699563141,"post_id":77456187,"comment_id":136551447,"body_markdown":"Your code indicates you misunderstand the problem. You randomly pick a day of the year (DOY). Then, you make 23 attempts to randomly find a DOY that matches that one. That&#39;s *not* the birthday paradox. You want to generate 23 random DOYs. For each DOY generated, you want to find if **any** of the other DOYs match.","body":"Your code indicates you misunderstand the problem. You randomly pick a day of the year (DOY). Then, you make 23 attempts to randomly find a DOY that matches that one. That&#39;s <i>not</i> the birthday paradox. You want to generate 23 random DOYs. For each DOY generated, you want to find if <b>any</b> of the other DOYs match."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1699563161,"post_id":77456187,"comment_id":136551453,"body_markdown":"You are taking a single person `g` and checking whether someone else shares their birthday. You need to read through the birthday paradox and understand what it is.","body":"You are taking a single person <code>g</code> and checking whether someone else shares their birthday. You need to read through the birthday paradox and understand what it is."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1699574736,"post_id":77456187,"comment_id":136552850,"body_markdown":"Isn&#39;t the probability always _1 in (365 * 23)_, or _1 in 8395_,  or _0.00012_?","body":"Isn&#39;t the probability always <i>1 in (365 * 23)</i>, or <i>1 in 8395</i>,  or <i>0.00012</i>?"},{"owner":{"account_id":2488885,"reputation":18917,"user_id":2166798,"accept_rate":50,"display_name":"pjs"},"score":1,"creation_date":1699998852,"post_id":77456187,"comment_id":136600500,"body_markdown":"@Reilas No. Assuming birthdays are independent and uniformly distributed, and ignoring leap years, the probability of a duplicate amongst *k* people is P{duplicate|*k*} = 1 - P{no duplicates|*k*} = 1 - Product(from_i=: 1, to: *k*, (366-i)/365}. In Ruby it&#39;s a one-liner: `1.0 - (1..k).inject { |memo, i| memo * (366.0 - i) / 365.0 }`. This yields P{duplicate|1} = 0 (makes sense!); P{duplicate|2} = 0.002739726027397249 = 1/365 (also makes sense); ...; P{duplicate|22} = 0.4756953076625502; P{duplicate|23} = 0.5072972343239855. By the time you get up to 60, P{duplicate} &gt; 0.99 — a great bar bet.","body":"@Reilas No. Assuming birthdays are independent and uniformly distributed, and ignoring leap years, the probability of a duplicate amongst <i>k</i> people is P{duplicate|*k*} = 1 - P{no duplicates|*k*} = 1 - Product(from_i=: 1, to: <i>k</i>, (366-i)/365}. In Ruby it&#39;s a one-liner: <code>1.0 - (1..k).inject { |memo, i| memo * (366.0 - i) &#47; 365.0 }</code>. This yields P{duplicate|1} = 0 (makes sense!); P{duplicate|2} = 0.002739726027397249 = 1/365 (also makes sense); ...; P{duplicate|22} = 0.4756953076625502; P{duplicate|23} = 0.5072972343239855. By the time you get up to 60, P{duplicate} &gt; 0.99 — a great bar bet."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1699999912,"post_id":77456187,"comment_id":136600662,"body_markdown":"@pjs, wow!  Now I remember why I failed algebra.  That&#39;s very interesting, thanks for the inclusion.","body":"@pjs, wow!  Now I remember why I failed algebra.  That&#39;s very interesting, thanks for the inclusion."}],"answers":[{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1699653164,"post_id":77462841,"comment_id":136563397,"body_markdown":"BTW `HashSet.add()` returns a boolean indicating if the set did not contain the element, no need to check `contains()`","body":"BTW <code>HashSet.add()</code> returns a boolean indicating if the set did not contain the element, no need to check <code>contains()</code>"},{"owner":{"account_id":2488885,"reputation":18917,"user_id":2166798,"accept_rate":50,"display_name":"pjs"},"score":0,"creation_date":1699668762,"post_id":77462841,"comment_id":136564527,"body_markdown":"Your program doesn&#39;t estimate the probability of collisions. It seems to be estimating the proportion of students who were involved in a collision in a single replication of the scenario.","body":"Your program doesn&#39;t estimate the probability of collisions. It seems to be estimating the proportion of students who were involved in a collision in a single replication of the scenario."},{"owner":{"account_id":15638210,"reputation":4538,"user_id":11282404,"display_name":"jpmarinier"},"score":0,"creation_date":1699703453,"post_id":77462841,"comment_id":136566517,"body_markdown":"@pjs You&#39;re right, it doesn&#39;t. In order to minimize changes to the OP code, I relied on an external Bash shell script loop to run my test 10000 times. Something like: `k=10000; time (while [ $k -gt 0 ]; do   java SO_q77456187;   k=$(expr $k - 1); done) &gt; log.txt` . And finally: `grep -c collision  log.txt` . Found 5139 runs out of 10000 with at least one collision.","body":"@pjs You&#39;re right, it doesn&#39;t. In order to minimize changes to the OP code, I relied on an external Bash shell script loop to run my test 10000 times. Something like: <code>k=10000; time (while [ $k -gt 0 ]; do   java SO_q77456187;   k=$(expr $k - 1); done) &gt; log.txt</code> . And finally: <code>grep -c collision  log.txt</code> . Found 5139 runs out of 10000 with at least one collision."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700000589,"post_id":77462841,"comment_id":136600753,"body_markdown":"Nice work, @jpmarinier.  In _Java_, the _Double_ and _double_ are, for the most part, interchangeable.  Meaning, _h = rand_bd(rand)_, would work, as well as, _count / classSize_.  Here is the _Java_ tutorial regarding this process, _[Autoboxing and Unboxing (The Java™ Tutorials &gt; Learning the Java Language &gt; Numbers and Strings)](https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html)_.","body":"Nice work, @jpmarinier.  In <i>Java</i>, the <i>Double</i> and <i>double</i> are, for the most part, interchangeable.  Meaning, <i>h = rand_bd(rand)</i>, would work, as well as, <i>count / classSize</i>.  Here is the <i>Java</i> tutorial regarding this process, <i><a href=\"https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"nofollow noreferrer\">Autoboxing and Unboxing (The Java™ Tutorials &gt; Learning the Java Language &gt; Numbers and Strings)</a></i>."},{"owner":{"account_id":15638210,"reputation":4538,"user_id":11282404,"display_name":"jpmarinier"},"score":0,"creation_date":1700091352,"post_id":77462841,"comment_id":136613635,"body_markdown":"@Reilas - Thanks for the info ! I have to admit that, while having some grasp of random number generation, I am only an occasional user of Java.","body":"@Reilas - Thanks for the info ! I have to admit that, while having some grasp of random number generation, I am only an occasional user of Java."}],"tags":[],"owner":{"account_id":15638210,"reputation":4538,"user_id":11282404,"display_name":"jpmarinier"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1699702968,"creation_date":1699650402,"answer_id":77462841,"question_id":77456187,"body_markdown":"**Preliminary remark:**\r\n\r\nYou seem to be using one `Random` generator object per random value (in your `rand_bd` method). But this is not how pseudo-random number generation is supposed to work, and so you are in untested circumstances.\r\n\r\nThe only thing that gets (very extensively) tested by library designers is that the serie produced by a *single* `Random` object has the proper statistical properties. So you should modify your code to ensure that a single `Random` object is used throughout a whole simulation, typically by passing (the address of) your single generator object to `rand_bd`.\r\n\r\n**The main issue:**\r\n\r\nYou seem to be testing each new random value for equality with the very first random value only. But, as mentioned in the comments, this is not how the [Birthday Paradox](https://en.wikipedia.org/wiki/Birthday_problem) is supposed to work.\r\n\r\nEach new pseudo-random value has to be tested for equality with **all** previous values.\r\n\r\nIn order to test for all previous values, rather than writing low level Java code we can just maintain and use an `HashSet&lt;Integer&gt;` object that is to contain all previously found pseudo-random values.\r\n\r\nThis can be done for example with the following code:\r\n\r\n```\r\nimport java.util.*; \r\nimport java.util.Random;\r\n\r\npublic class SO_q77456187  {\r\n\r\n    public static int rand_bd(Random rand) {\r\n        int x = rand.nextInt(365);\r\n        return x;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello world!&quot;);\r\n\r\n        Random rand      = new Random();\r\n        Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\r\n\r\n        int h = 0;\r\n        int classSize = 23;\r\n        double count = 0.0;\r\n\r\n        for (int i = 0; i  &lt; classSize; i++) {\r\n            h = new Integer(rand_bd(rand));\r\n            if (set.contains(h))\r\n                count++;  // collision found !\r\n            else\r\n                set.add(h);\r\n        }\r\n        if (count &gt; 0)\r\n            System.out.println(&quot;collision&quot;);\r\n        System.out.println(count);\r\n        System.out.println(count / Double.valueOf(classSize));\r\n        System.out.println(rand_bd(rand));\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd as expected, the class file generated by the above code finds one or more collisions about 50% of the time.\r\n\r\n","title":"Birthday Paradox&#39;s probability coming out to be zero,also not understanding how to use simulations","body":"<p><strong>Preliminary remark:</strong></p>\n<p>You seem to be using one <code>Random</code> generator object per random value (in your <code>rand_bd</code> method). But this is not how pseudo-random number generation is supposed to work, and so you are in untested circumstances.</p>\n<p>The only thing that gets (very extensively) tested by library designers is that the serie produced by a <em>single</em> <code>Random</code> object has the proper statistical properties. So you should modify your code to ensure that a single <code>Random</code> object is used throughout a whole simulation, typically by passing (the address of) your single generator object to <code>rand_bd</code>.</p>\n<p><strong>The main issue:</strong></p>\n<p>You seem to be testing each new random value for equality with the very first random value only. But, as mentioned in the comments, this is not how the <a href=\"https://en.wikipedia.org/wiki/Birthday_problem\" rel=\"nofollow noreferrer\">Birthday Paradox</a> is supposed to work.</p>\n<p>Each new pseudo-random value has to be tested for equality with <strong>all</strong> previous values.</p>\n<p>In order to test for all previous values, rather than writing low level Java code we can just maintain and use an <code>HashSet&lt;Integer&gt;</code> object that is to contain all previously found pseudo-random values.</p>\n<p>This can be done for example with the following code:</p>\n<pre><code>import java.util.*; \nimport java.util.Random;\n\npublic class SO_q77456187  {\n\n    public static int rand_bd(Random rand) {\n        int x = rand.nextInt(365);\n        return x;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world!&quot;);\n\n        Random rand      = new Random();\n        Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\n\n        int h = 0;\n        int classSize = 23;\n        double count = 0.0;\n\n        for (int i = 0; i  &lt; classSize; i++) {\n            h = new Integer(rand_bd(rand));\n            if (set.contains(h))\n                count++;  // collision found !\n            else\n                set.add(h);\n        }\n        if (count &gt; 0)\n            System.out.println(&quot;collision&quot;);\n        System.out.println(count);\n        System.out.println(count / Double.valueOf(classSize));\n        System.out.println(rand_bd(rand));\n    }\n}\n\n</code></pre>\n<p>And as expected, the class file generated by the above code finds one or more collisions about 50% of the time.</p>\n"},{"tags":[],"owner":{"account_id":2488885,"reputation":18917,"user_id":2166798,"accept_rate":50,"display_name":"pjs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699714784,"creation_date":1699667021,"answer_id":77463623,"question_id":77456187,"body_markdown":"First, let me reiterate jpmarinier&#39;s comment that you should only create one `Random` object. Instantiating a new one for each value to be generated is expensive, and it negates all of the hard work that the PRNG creators did to insure that sequences of values properly mimic independent uniformly distributed values.\r\n\r\nNext, I think you&#39;ve missed the essence of the birthday problem. It asks what is the probability of having one *or more* duplicate birthdays among a set containing some specified number of people. It&#39;s a boolean choice, there either are duplicates or there are not. As soon as you find one duplicate, you can short-circuit the checking process since the goal is not to count how many occurred. This is easy to do using `Set` objects, which don&#39;t permit duplicates.\r\n\r\nFinally, you&#39;re missing the essence of [Monte Carlo simulation][1], which is that you need replication of a randomized experiment. Since the outcome of a single experiment is a random event (duplicates/no-duplicates), you get better estimates of the probability of that event by running lots of experiments. Lots and lots. Additionally, since re-running random experiments gives different outcomes, it&#39;s nice to know the &quot;margin of error&quot; for whatever you&#39;re estimating. This comes in the form of what&#39;s called a confidence interval half-width.\r\n\r\nThe following code pulls those pieces together:\r\n\r\n``` lang-java\r\nimport java.util.HashSet; \r\nimport java.util.Random;\r\n\r\npublic class BdayMonteCarlo {\r\n    // only create one instance of Random per program!\r\n    private static Random rng = new Random();\r\n\r\n    /*\r\n     * Each experiment places classSize students in the room, checking\r\n     * to see if there are any collisions on the birth dates.\r\n     */\r\n    public static int experiment(int classSize) {\r\n        // each experiment starts with an empty set of birthdays\r\n        HashSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\r\n\r\n        // for each student, generate a birthday and try adding it to set\r\n        // if add fails, short circuit and signal a collision\r\n        for (int i = 0; i  &lt; classSize; i++) {\r\n            if(!set.add(rng.nextInt(365)))\r\n                return 1;\r\n        }\r\n        return 0;   // if all people in class missed collisions, signal no collision\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int classSize = 23;\r\n        int numberOfExptsWithCollisions = 0;\r\n        int numberOfExperiments = 100_000;\r\n\r\n        // Monte Carlo replication of the experiment, tallying results\r\n        for (int i = 0; i &lt; numberOfExperiments; ++i) {\r\n            numberOfExptsWithCollisions += experiment(classSize);\r\n        }\r\n\r\n        // probabilities are estimated using proportions of outcomes\r\n        // that yielded a &quot;success&quot;\r\n        System.out.print(&quot;Probability of one or more duplicate birthdays &quot;);\r\n        System.out.println(&quot;with classSize = &quot; + classSize + &quot; is:&quot;);\r\n        Double prob = Double.valueOf(numberOfExptsWithCollisions) / numberOfExperiments;\r\n        // confidence interval half-width for the estimate of a proportion/probability\r\n        Double halfWidth = 1.96 * Math.sqrt(prob * (1.0 - prob) / numberOfExperiments);\r\n        System.out.println(prob + &quot; &#177; &quot; + halfWidth);\r\n    }\r\n}\r\n```\r\nand produces results such as:\r\n``` lang-text\r\nme@mymachine % java BdayMonteCarlo      \r\nProbability of one or more duplicate birthdays with classSize = 23 is:\r\n0.5085 &#177; 0.0030985842644665968\r\nme@mymachine % java BdayMonteCarlo\r\nProbability of one or more duplicate birthdays with classSize = 23 is:\r\n0.50936 &#177; 0.003098489049457235\r\n```\r\nYou can clearly see that the proportion of experiments which had at least one duplicate birthday is above 0.5 for 23 people.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Monte_Carlo_method","title":"Birthday Paradox&#39;s probability coming out to be zero,also not understanding how to use simulations","body":"<p>First, let me reiterate jpmarinier's comment that you should only create one <code>Random</code> object. Instantiating a new one for each value to be generated is expensive, and it negates all of the hard work that the PRNG creators did to insure that sequences of values properly mimic independent uniformly distributed values.</p>\n<p>Next, I think you've missed the essence of the birthday problem. It asks what is the probability of having one <em>or more</em> duplicate birthdays among a set containing some specified number of people. It's a boolean choice, there either are duplicates or there are not. As soon as you find one duplicate, you can short-circuit the checking process since the goal is not to count how many occurred. This is easy to do using <code>Set</code> objects, which don't permit duplicates.</p>\n<p>Finally, you're missing the essence of <a href=\"https://en.wikipedia.org/wiki/Monte_Carlo_method\" rel=\"nofollow noreferrer\">Monte Carlo simulation</a>, which is that you need replication of a randomized experiment. Since the outcome of a single experiment is a random event (duplicates/no-duplicates), you get better estimates of the probability of that event by running lots of experiments. Lots and lots. Additionally, since re-running random experiments gives different outcomes, it's nice to know the &quot;margin of error&quot; for whatever you're estimating. This comes in the form of what's called a confidence interval half-width.</p>\n<p>The following code pulls those pieces together:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashSet; \nimport java.util.Random;\n\npublic class BdayMonteCarlo {\n    // only create one instance of Random per program!\n    private static Random rng = new Random();\n\n    /*\n     * Each experiment places classSize students in the room, checking\n     * to see if there are any collisions on the birth dates.\n     */\n    public static int experiment(int classSize) {\n        // each experiment starts with an empty set of birthdays\n        HashSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\n\n        // for each student, generate a birthday and try adding it to set\n        // if add fails, short circuit and signal a collision\n        for (int i = 0; i  &lt; classSize; i++) {\n            if(!set.add(rng.nextInt(365)))\n                return 1;\n        }\n        return 0;   // if all people in class missed collisions, signal no collision\n    }\n\n    public static void main(String[] args) {\n        int classSize = 23;\n        int numberOfExptsWithCollisions = 0;\n        int numberOfExperiments = 100_000;\n\n        // Monte Carlo replication of the experiment, tallying results\n        for (int i = 0; i &lt; numberOfExperiments; ++i) {\n            numberOfExptsWithCollisions += experiment(classSize);\n        }\n\n        // probabilities are estimated using proportions of outcomes\n        // that yielded a &quot;success&quot;\n        System.out.print(&quot;Probability of one or more duplicate birthdays &quot;);\n        System.out.println(&quot;with classSize = &quot; + classSize + &quot; is:&quot;);\n        Double prob = Double.valueOf(numberOfExptsWithCollisions) / numberOfExperiments;\n        // confidence interval half-width for the estimate of a proportion/probability\n        Double halfWidth = 1.96 * Math.sqrt(prob * (1.0 - prob) / numberOfExperiments);\n        System.out.println(prob + &quot; ± &quot; + halfWidth);\n    }\n}\n</code></pre>\n<p>and produces results such as:</p>\n<pre class=\"lang-text prettyprint-override\"><code>me@mymachine % java BdayMonteCarlo      \nProbability of one or more duplicate birthdays with classSize = 23 is:\n0.5085 ± 0.0030985842644665968\nme@mymachine % java BdayMonteCarlo\nProbability of one or more duplicate birthdays with classSize = 23 is:\n0.50936 ± 0.003098489049457235\n</code></pre>\n<p>You can clearly see that the proportion of experiments which had at least one duplicate birthday is above 0.5 for 23 people.</p>\n"}],"owner":{"account_id":29549729,"reputation":11,"user_id":22646679,"display_name":"Prometheus "},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699714784,"creation_date":1699562239,"question_id":77456187,"body_markdown":"I have been trying to create a program which calculates the probability of 2 people&#39;s birthday being the same, considering there are 23 people in the room\r\n\r\nI have made logic but the probability always comes out to be zero, it should be above 0.5,this is my first computer science class so i am not too familiar with java and coding.\r\n\r\nI saw some programs online with multiple simulations, but i was not able to understand it.\r\n\r\n\r\n```java\r\nimport java.util.Random;\r\n\r\npublic class Main {\r\n\r\n\tpublic static int rand_bd() {\r\n\t\tRandom rand = new Random();\r\n\t\tint x = rand.nextInt(365);\r\n\t\treturn x;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Hello world!&quot;);\r\n\t\t\r\n\t\tint h = 0;\r\n\t\tdouble count = 0.0;\r\n\t\tint g = rand_bd();\r\n\r\n\t\tfor(int i = 0;i  &lt;= 23;i++) {\r\n\t\t\th = rand_bd();\r\n\t\t \tif(g == h)\r\n\t\t\t\tcount++;\r\n\t\t}\r\n\t\tSystem.out.println(count);\r\n\t\tSystem.out.println(count/23.0);\r\n\t\tSystem.out.println(rand_bd());\r\n\t}\r\n}\r\n```","title":"Birthday Paradox&#39;s probability coming out to be zero,also not understanding how to use simulations","body":"<p>I have been trying to create a program which calculates the probability of 2 people's birthday being the same, considering there are 23 people in the room</p>\n<p>I have made logic but the probability always comes out to be zero, it should be above 0.5,this is my first computer science class so i am not too familiar with java and coding.</p>\n<p>I saw some programs online with multiple simulations, but i was not able to understand it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Random;\n\npublic class Main {\n\n    public static int rand_bd() {\n        Random rand = new Random();\n        int x = rand.nextInt(365);\n        return x;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world!&quot;);\n        \n        int h = 0;\n        double count = 0.0;\n        int g = rand_bd();\n\n        for(int i = 0;i  &lt;= 23;i++) {\n            h = rand_bd();\n            if(g == h)\n                count++;\n        }\n        System.out.println(count);\n        System.out.println(count/23.0);\n        System.out.println(rand_bd());\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","java-17","eclipse-2021-09","openjdk-17"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1631861839,"post_id":69218106,"comment_id":122341699,"body_markdown":"You tagged your question with both, `[java-17]` and `[eclipse-2021-09]`. Since Eclipse 2021-09 does not support Java 17, I guess you have installed [_Java 17 Support for Eclipse 2021-09 (4.21)_](https://marketplace.eclipse.org/content/java-17-support-eclipse-2021-09-421) which is the preview/BETA of the upcoming Java 17 support that will be released with Eclipse 2021-12 (4.22) on December 15, 2021. Please make sure [this issue has been reported to Eclipse](https://bugs.eclipse.org/bugs/enter_bug.cgi?product=JDT) with a minimal reproducible example and the error log.","body":"You tagged your question with both, <code>[java-17]</code> and <code>[eclipse-2021-09]</code>. Since Eclipse 2021-09 does not support Java 17, I guess you have installed <a href=\"https://marketplace.eclipse.org/content/java-17-support-eclipse-2021-09-421\" rel=\"nofollow noreferrer\"><i>Java 17 Support for Eclipse 2021-09 (4.21)</i></a> which is the preview/BETA of the upcoming Java 17 support that will be released with Eclipse 2021-12 (4.22) on December 15, 2021. Please make sure <a href=\"https://bugs.eclipse.org/bugs/enter_bug.cgi?product=JDT\" rel=\"nofollow noreferrer\">this issue has been reported to Eclipse</a> with a minimal reproducible example and the error log."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1631875871,"post_id":69218106,"comment_id":122347470,"body_markdown":"JDK&#160;17 doesn’t support `--illegal-access=permit` anymore. It’s not is if the previous versions weren’t warning about this kind of access…","body":"JDK 17 doesn’t support <code>--illegal-access=permit</code> anymore. It’s not is if the previous versions weren’t warning about this kind of access…"},{"owner":{"account_id":11424364,"reputation":539,"user_id":8374909,"display_name":"Clover"},"score":0,"creation_date":1684499360,"post_id":69218106,"comment_id":134546733,"body_markdown":"In my case, I had to change eclipse.ini VM path: -vm C:\\bin\\jdk-11.0.18\\bin as suggested by https://stackoverflow.com/a/68134496/8374909","body":"In my case, I had to change eclipse.ini VM path: -vm C:\\bin\\jdk-11.0.18\\bin as suggested by <a href=\"https://stackoverflow.com/a/68134496/8374909\">stackoverflow.com/a/68134496/8374909</a>"}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1631901198,"post_id":69226134,"comment_id":122357932,"body_markdown":"Since your question is specifically mentioning Java&#160;17, there is no point in specifying `--illegal-access=warn`, it is not supported and will be ignored.","body":"Since your question is specifically mentioning Java 17, there is no point in specifying <code>--illegal-access=warn</code>, it is not supported and will be ignored."},{"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"score":0,"creation_date":1631926169,"post_id":69226134,"comment_id":122363194,"body_markdown":"But it’s working on Java 17, I did adding Lombok lib, after that I got the problem. Same problem I faced with 2021-06 in Java 15","body":"But it’s working on Java 17, I did adding Lombok lib, after that I got the problem. Same problem I faced with 2021-06 in Java 15"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1631958423,"post_id":69226134,"comment_id":122367616,"body_markdown":"@Thirumal Your question seems to be about running your code and your answer seems to be about running Java. It&#39;s unclear whether you installed the preview Java 17 support and whether you use a Java 17 VM to run Eclipse. Please improve or delete your question.","body":"@Thirumal Your question seems to be about running your code and your answer seems to be about running Java. It&#39;s unclear whether you installed the preview Java 17 support and whether you use a Java 17 VM to run Eclipse. Please improve or delete your question."},{"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"score":1,"creation_date":1631962156,"post_id":69226134,"comment_id":122368344,"body_markdown":"**Thank you!** This solved my issue when trying to run Eclipse 2021-09 (with lombok) on macOS with JDK 17 installed. Without this fix Eclipse will indeed start and run, but every imported Maven Project is broken and gives the error from the question. I spent literally a whole day with reinstalling different Eclipse versions, reimporting the projects, choosing different JDKs within Eclipse, with and without lombok, etc... Nothing worked. But adding those 2 lines to `eclipse.ini` solved it.","body":"<b>Thank you!</b> This solved my issue when trying to run Eclipse 2021-09 (with lombok) on macOS with JDK 17 installed. Without this fix Eclipse will indeed start and run, but every imported Maven Project is broken and gives the error from the question. I spent literally a whole day with reinstalling different Eclipse versions, reimporting the projects, choosing different JDKs within Eclipse, with and without lombok, etc... Nothing worked. But adding those 2 lines to <code>eclipse.ini</code> solved it."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1632048731,"post_id":69226134,"comment_id":122383712,"body_markdown":"@BenjaminM So it&#39;s a Lombok thing? I cannot find a [Lombok issue](https://github.com/projectlombok/lombok/issues). How to reproduce this issue (with which Java version running Eclipse and with which Lombok version)? With or without _Java 17 Support for Eclipse 2021-09 (4.21)_ installed?","body":"@BenjaminM So it&#39;s a Lombok thing? I cannot find a <a href=\"https://github.com/projectlombok/lombok/issues\" rel=\"nofollow noreferrer\">Lombok issue</a>. How to reproduce this issue (with which Java version running Eclipse and with which Lombok version)? With or without <i>Java 17 Support for Eclipse 2021-09 (4.21)</i> installed?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1632124785,"post_id":69226134,"comment_id":122399000,"body_markdown":"@Thirumal did you crosscheck? When your computer works after you connected the power plug and painted it green, does it prove that painting it green solved the problem? How about adding the `--add-opens java.base/java.lang=ALL-UNNAMED` option *without* the `--illegal-access=warn` that has no effect?","body":"@Thirumal did you crosscheck? When your computer works after you connected the power plug and painted it green, does it prove that painting it green solved the problem? How about adding the <code>--add-opens java.base&#47;java.lang=ALL-UNNAMED</code> option <i>without</i> the <code>--illegal-access=warn</code> that has no effect?"},{"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"score":0,"creation_date":1632127365,"post_id":69226134,"comment_id":122399863,"body_markdown":"@Holger, I don&#39;t know why or how it worked, I just copied these lines from the Github eclipse repository issue. To recreate the issue-&gt; Install eclipse -&gt; import gradle/maven project -&gt; Install Lombok -&gt; restart eclipse. You will get an error.","body":"@Holger, I don&#39;t know why or how it worked, I just copied these lines from the Github eclipse repository issue. To recreate the issue-&gt; Install eclipse -&gt; import gradle/maven project -&gt; Install Lombok -&gt; restart eclipse. You will get an error."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1632131648,"post_id":69226134,"comment_id":122401448,"body_markdown":"“I just copied these lines”—a very good summarization of why we are flooded with horrible software. Even now, after I told you explicitly that these are **two** independent options and only one of them has an effect in JDK&#160;17, you refuse to even try to understand. Yes, without green color and the cable removed, the computer doesn’t work, but with cable plugged in and a green painting, the computer works. Now, you only have to understand that this does not imply that green painting was necessary. Or just execute `jdk-17\\bin\\java --illegal-access=warn x` in cmd and note the warning message.","body":"“I just copied these lines”—a very good summarization of why we are flooded with horrible software. Even now, after I told you explicitly that these are <b>two</b> independent options and only one of them has an effect in JDK 17, you refuse to even try to understand. Yes, without green color and the cable removed, the computer doesn’t work, but with cable plugged in and a green painting, the computer works. Now, you only have to understand that this does not imply that green painting was necessary. Or just execute <code>jdk-17\\bin\\java --illegal-access=warn x</code> in cmd and note the warning message."},{"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"score":0,"creation_date":1632165880,"post_id":69226134,"comment_id":122415208,"body_markdown":"@howlger I&#39;m not sure if it&#39;s a Lombok issue. I did not get an error when importing a fresh Spring Boot application, but when importing my projects from work (all using Spring Boot 2.5.4 with lot&#39;s of different dependencies: Hibernate, Jackson, Elasticsearch, MongoDB, MySQL, Freemarker, etc.). My machine is running Eclipse 2021-09 (4.21.0), Lombok 1.18.20, macOS 11.6, OpenJDK 17 (2021-09-14 LTS).","body":"@howlger I&#39;m not sure if it&#39;s a Lombok issue. I did not get an error when importing a fresh Spring Boot application, but when importing my projects from work (all using Spring Boot 2.5.4 with lot&#39;s of different dependencies: Hibernate, Jackson, Elasticsearch, MongoDB, MySQL, Freemarker, etc.). My machine is running Eclipse 2021-09 (4.21.0), Lombok 1.18.20, macOS 11.6, OpenJDK 17 (2021-09-14 LTS)."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1632170948,"post_id":69226134,"comment_id":122416773,"body_markdown":"@BenjaminM With which Java version do you run Eclipse? Java 17 that is installed on your system or Java 16 that is included in Eclipse? Please tell, in `eclipse.ini` what is the line after `-vm`. Please check also if there is something in the error log. This would at least be hints on how to produce the issue.","body":"@BenjaminM With which Java version do you run Eclipse? Java 17 that is installed on your system or Java 16 that is included in Eclipse? Please tell, in <code>eclipse.ini</code> what is the line after <code>-vm</code>. Please check also if there is something in the error log. This would at least be hints on how to produce the issue."},{"owner":{"account_id":11902885,"reputation":373,"user_id":8710332,"display_name":"Panossa"},"score":0,"creation_date":1678698610,"post_id":69226134,"comment_id":133577169,"body_markdown":"Adding those two lines to my ini caused Eclipse to now even being able to start any more. It instantly says `Error: Could not create the Java Virtual Machine. Error: A fatal exception has occurred. Program will exit.`","body":"Adding those two lines to my ini caused Eclipse to now even being able to start any more. It instantly says <code>Error: Could not create the Java Virtual Machine. Error: A fatal exception has occurred. Program will exit.</code>"},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1699714965,"post_id":69226134,"comment_id":136567560,"body_markdown":"Don&#39;t works with Eclipse IDE for Enterprise Java and Web Developers Version: 2023-09 (4.29.0) Build id: 20230907-1323. Only works setting that value on each uni test method","body":"Don&#39;t works with Eclipse IDE for Enterprise Java and Web Developers Version: 2023-09 (4.29.0) Build id: 20230907-1323. Only works setting that value on each uni test method"}],"tags":[],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":12,"down_vote_count":1,"up_vote_count":21,"is_accepted":true,"score":20,"last_activity_date":1699714634,"creation_date":1631893380,"answer_id":69226134,"question_id":69218106,"body_markdown":"Add the below lines to the end of the `eclipse.ini` file\r\n\r\n    --illegal-access=warn\r\n    --add-opens=java.base/java.lang=ALL-UNNAMED\r\n\r\n","title":"Eclipse not able to open java files -&gt; Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass","body":"<p>Add the below lines to the end of the <code>eclipse.ini</code> file</p>\n<pre><code>--illegal-access=warn\n--add-opens=java.base/java.lang=ALL-UNNAMED\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1640028008,"post_id":70425256,"comment_id":124493344,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/70425256/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23702948,"reputation":71,"user_id":17725878,"display_name":"Gledson"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1640019034,"creation_date":1640019034,"answer_id":70425256,"question_id":69218106,"body_markdown":"The only thing that worked for me was downloading the lombok directly from lombok website instead of using the one available on maven folder.","title":"Eclipse not able to open java files -&gt; Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass","body":"<p>The only thing that worked for me was downloading the lombok directly from lombok website instead of using the one available on maven folder.</p>\n"},{"comments":[{"owner":{"account_id":3156367,"reputation":520,"user_id":2668689,"accept_rate":67,"display_name":"Digao"},"score":0,"creation_date":1654891212,"post_id":70458589,"comment_id":128209103,"body_markdown":"even using lombok 1.18.24 my project will not run... :/","body":"even using lombok 1.18.24 my project will not run... :/"},{"owner":{"account_id":9686576,"reputation":526,"user_id":7186177,"display_name":"Tod Harter"},"score":0,"creation_date":1657297694,"post_id":70458589,"comment_id":128784937,"body_markdown":"Hmmmmm. I am a bit stumped. What version of Eclipse is that?","body":"Hmmmmm. I am a bit stumped. What version of Eclipse is that?"},{"owner":{"account_id":9239948,"reputation":279,"user_id":6863495,"display_name":"Urvashi Soni"},"score":1,"creation_date":1662532116,"post_id":70458589,"comment_id":130023820,"body_markdown":"My issue occurred after installing the lombok jar. It was older version - 1.18.4\nUpdating to latest (1.18.24) helped resolve the issue.","body":"My issue occurred after installing the lombok jar. It was older version - 1.18.4 Updating to latest (1.18.24) helped resolve the issue."},{"owner":{"account_id":6930732,"reputation":199,"user_id":5320282,"display_name":"Charan"},"score":0,"creation_date":1667544764,"post_id":70458589,"comment_id":131195754,"body_markdown":"my issue also go resolved by upgrading and following this link &quot;https://www.youtube.com/watch?v=VR7VaiXHJEY&quot;","body":"my issue also go resolved by upgrading and following this link &quot;<a href=\"https://www.youtube.com/watch?v=VR7VaiXHJEY\" rel=\"nofollow noreferrer\">youtube.com/watch?v=VR7VaiXHJEY</a>&quot;"},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1699714907,"post_id":70458589,"comment_id":136567554,"body_markdown":"So, Is the downgrade plugin the solution?","body":"So, Is the downgrade plugin the solution?"}],"tags":[],"owner":{"account_id":9686576,"reputation":526,"user_id":7186177,"display_name":"Tod Harter"},"comment_count":5,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1640242020,"creation_date":1640242020,"answer_id":70458589,"question_id":69218106,"body_markdown":"Updating to Lombok 1.18.22 plugin resulted in this issue going away for me. I did try adding the --add-opens flag, but the eclipse launcher balked at that. IMHO this is simply a result of incompatibility between Java 17 and the Lombok Eclipse IDE plugin.","title":"Eclipse not able to open java files -&gt; Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass","body":"<p>Updating to Lombok 1.18.22 plugin resulted in this issue going away for me. I did try adding the --add-opens flag, but the eclipse launcher balked at that. IMHO this is simply a result of incompatibility between Java 17 and the Lombok Eclipse IDE plugin.</p>\n"},{"tags":[],"owner":{"account_id":3202267,"reputation":2714,"user_id":2704113,"accept_rate":50,"display_name":"Sreedhar GS"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1648488661,"creation_date":1648488661,"answer_id":71651358,"question_id":69218106,"body_markdown":"Itseems problem with the lombok plugin.\r\nI have removed it from the eclipse.ini file and it resolved the issue.\r\n\r\nRemoved below line:\r\n\r\n    -javaagent:C:\\&lt;location&gt;\\eclipse-jee-2022-03-R-win32-x86_64\\lombok.jar\r\n\r\n","title":"Eclipse not able to open java files -&gt; Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass","body":"<p>Itseems problem with the lombok plugin.\nI have removed it from the eclipse.ini file and it resolved the issue.</p>\n<p>Removed below line:</p>\n<pre><code>-javaagent:C:\\&lt;location&gt;\\eclipse-jee-2022-03-R-win32-x86_64\\lombok.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13620659,"reputation":1129,"user_id":9825290,"display_name":"Basharat Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651007342,"creation_date":1651007342,"answer_id":72020552,"question_id":69218106,"body_markdown":"For my case nothing above work for a specific project.\r\n\r\n 1. Import existing maven project or create a maven project\r\n 2. Goto project explorer and Right click on your pom.xm then select Run\r\n    As maven install.\r\n 3. and then what you want.\r\n\r\nHope it will serve your purpose. You can download a sample spring boot project from sample spring boot project\r\n\r\nOr you can run a maven project from terminal or cmd. Just goto project root folder and then run a maven task like maven clean install . Happy Coding :)","title":"Eclipse not able to open java files -&gt; Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass","body":"<p>For my case nothing above work for a specific project.</p>\n<ol>\n<li>Import existing maven project or create a maven project</li>\n<li>Goto project explorer and Right click on your pom.xm then select Run\nAs maven install.</li>\n<li>and then what you want.</li>\n</ol>\n<p>Hope it will serve your purpose. You can download a sample spring boot project from sample spring boot project</p>\n<p>Or you can run a maven project from terminal or cmd. Just goto project root folder and then run a maven task like maven clean install . Happy Coding :)</p>\n"},{"comments":[{"owner":{"account_id":9267581,"reputation":543,"user_id":6882606,"display_name":"Vishnu Dasu"},"score":0,"creation_date":1662647717,"post_id":73598624,"comment_id":130058728,"body_markdown":"Answer could be explained to help future readers. Why does adding this line help resolve the issue?","body":"Answer could be explained to help future readers. Why does adding this line help resolve the issue?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1662647752,"post_id":73598624,"comment_id":130058744,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73598624/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":3439934,"reputation":21,"user_id":5380439,"display_name":"jackarian"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662287282,"creation_date":1662287282,"answer_id":73598624,"question_id":69218106,"body_markdown":"In my case, I solved  changing java version from 16 top 11.&lt;br&gt;\r\nAdding this line:&lt;br&gt;\r\n&lt;b&gt;\r\n--illegal-access=warn&lt;br&gt;\r\n--add-opens java.base/java.lang=ALL-UNNAMED&lt;/b&gt;&lt;br&gt;\r\nin my case, eclipse is not enable to start.\r\nVersion: 2021-03 (4.19.0)\r\nBuild id: 20210312-0638\r\n","title":"Eclipse not able to open java files -&gt; Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass","body":"<p>In my case, I solved  changing java version from 16 top 11.<br>\nAdding this line:<br>\n<b>\n--illegal-access=warn<br>\n--add-opens java.base/java.lang=ALL-UNNAMED</b><br>\nin my case, eclipse is not enable to start.\nVersion: 2021-03 (4.19.0)\nBuild id: 20210312-0638</p>\n"},{"tags":[],"owner":{"account_id":12529597,"reputation":11,"user_id":9118297,"display_name":"Maitrey Mehta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676446252,"creation_date":1676446252,"answer_id":75456652,"question_id":69218106,"body_markdown":"I was also facing same issue after configured lombok in `STS 4.17.2.RELEASE`.\r\n\r\nI have removed below properties from ini file.\r\n\r\n    --add-opens=java.base/java.io=ALL-UNNAMED\r\n    --add-opens=java.base/sun.nio.ch=ALL-UNNAMED\r\n    --add-opens=java.base/java.net=ALL-UNNAMED\r\n    --add-opens=java.base/sun.security.ssl=ALL-UNNAMED\r\n    -Dsun.java.command=SpringToolSuite4\r\n\r\nI have tried many solutions but not worked.\r\nSo, I have compared with my older sts version.\r\n\r\nHonestly, I don&#39;t know actual reason.","title":"Eclipse not able to open java files -&gt; Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass","body":"<p>I was also facing same issue after configured lombok in <code>STS 4.17.2.RELEASE</code>.</p>\n<p>I have removed below properties from ini file.</p>\n<pre><code>--add-opens=java.base/java.io=ALL-UNNAMED\n--add-opens=java.base/sun.nio.ch=ALL-UNNAMED\n--add-opens=java.base/java.net=ALL-UNNAMED\n--add-opens=java.base/sun.security.ssl=ALL-UNNAMED\n-Dsun.java.command=SpringToolSuite4\n</code></pre>\n<p>I have tried many solutions but not worked.\nSo, I have compared with my older sts version.</p>\n<p>Honestly, I don't know actual reason.</p>\n"},{"tags":[],"owner":{"account_id":4864058,"reputation":3,"user_id":3922882,"display_name":"mobileappDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677457628,"creation_date":1677457628,"answer_id":75575886,"question_id":69218106,"body_markdown":"you would need to check which java exe your IDE is pointing to in the .ini file. In other words, Just point your eclipse.ini to the right java.exe folder then the error goes away. This works for me in Spring STS and &quot;may be&quot; this same remedy will work in Eclipse too.","title":"Eclipse not able to open java files -&gt; Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass","body":"<p>you would need to check which java exe your IDE is pointing to in the .ini file. In other words, Just point your eclipse.ini to the right java.exe folder then the error goes away. This works for me in Spring STS and &quot;may be&quot; this same remedy will work in Eclipse too.</p>\n"},{"tags":[],"owner":{"account_id":29501879,"reputation":1,"user_id":22608697,"display_name":"Shabbir Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695308261,"creation_date":1695308261,"answer_id":77151427,"question_id":69218106,"body_markdown":"I had the same issue that mentioned above. When I downloaded new version of lombok.jar, it resolved my issue.","title":"Eclipse not able to open java files -&gt; Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass","body":"<p>I had the same issue that mentioned above. When I downloaded new version of lombok.jar, it resolved my issue.</p>\n"}],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61908,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":69226134,"answer_count":9,"score":19,"last_activity_date":1699714634,"creation_date":1631856053,"question_id":69218106,"body_markdown":"Getting the following error, after adding `Lombok` lib\r\n\r\n    An error has occurred. See error log for more details.\r\n    Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1d1c37d5\r\n\r\n","title":"Eclipse not able to open java files -&gt; Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass","body":"<p>Getting the following error, after adding <code>Lombok</code> lib</p>\n<pre><code>An error has occurred. See error log for more details.\nUnable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1d1c37d5\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"comments":[{"owner":{"account_id":20938962,"reputation":36,"user_id":15383501,"display_name":"Harsh Master"},"score":0,"creation_date":1699729336,"post_id":77465585,"comment_id":136569113,"body_markdown":"what is the significance of \n.endAt(&quot;code~&quot;);","body":"what is the significance of  .endAt(&quot;code~&quot;);"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1699735850,"post_id":77465585,"comment_id":136569674,"body_markdown":"It&#39;s just a character late in the [ASCII character range](https://www.asciitable.com/), so that the query catches all nodes that are usually in the range.","body":"It&#39;s just a character late in the <a href=\"https://www.asciitable.com/\" rel=\"nofollow noreferrer\">ASCII character range</a>, so that the query catches all nodes that are usually in the range."}],"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699714574,"creation_date":1699714574,"answer_id":77465585,"question_id":77465054,"body_markdown":"In the structure you have, if you want to only retrieve child nodes of `users` who have a `username` property with the value `&quot;code&quot;`, you can use a query to [order and filter](https://firebase.google.com/docs/database/android/lists-of-data#sorting_and_filtering_data) nodes. Something like this:\r\n\r\n```\r\nQuery query = dbRoot.child(&quot;users&quot;).orderByChild(&quot;username&quot;).equalTo(&quot;code&quot;);\r\n```\r\n\r\nTo execute the query, you&#39;d do:\r\n```\r\nquery.addListenerForSingleValueEvent(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(DataSnapshot dataSnapshot) {\r\n        for (DataSnapshot userSnapshot: dataSnapshot.getChildren()) {\r\n            Log.i(&quot;DB&quot;, userSnapshot.getKey());\r\n            Log.i(&quot;DB&quot;, userSnapshot.child(&quot;name&quot;).getValue(String.class));\r\n            ...\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(DatabaseError databaseError) {\r\n        throw databaseError.toException();\r\n    }\r\n}\r\n```\r\n\r\n---\r\n\r\nIf you want to get all child nodes where the `username` **starts with** `&quot;code&quot;`, that&#39;d be:\r\n\r\n```\r\nQuery query = dbRoot.child(&quot;users&quot;)\r\n  .orderByChild(&quot;username&quot;)\r\n  .startAt(&quot;code&quot;)\r\n  .endAt(&quot;code~&quot;);\r\n```\r\n","title":"Searching for username in firebase realtime database","body":"<p>In the structure you have, if you want to only retrieve child nodes of <code>users</code> who have a <code>username</code> property with the value <code>&quot;code&quot;</code>, you can use a query to <a href=\"https://firebase.google.com/docs/database/android/lists-of-data#sorting_and_filtering_data\" rel=\"nofollow noreferrer\">order and filter</a> nodes. Something like this:</p>\n<pre><code>Query query = dbRoot.child(&quot;users&quot;).orderByChild(&quot;username&quot;).equalTo(&quot;code&quot;);\n</code></pre>\n<p>To execute the query, you'd do:</p>\n<pre><code>query.addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        for (DataSnapshot userSnapshot: dataSnapshot.getChildren()) {\n            Log.i(&quot;DB&quot;, userSnapshot.getKey());\n            Log.i(&quot;DB&quot;, userSnapshot.child(&quot;name&quot;).getValue(String.class));\n            ...\n        }\n    }\n\n    @Override\n    public void onCancelled(DatabaseError databaseError) {\n        throw databaseError.toException();\n    }\n}\n</code></pre>\n<hr />\n<p>If you want to get all child nodes where the <code>username</code> <strong>starts with</strong> <code>&quot;code&quot;</code>, that'd be:</p>\n<pre><code>Query query = dbRoot.child(&quot;users&quot;)\n  .orderByChild(&quot;username&quot;)\n  .startAt(&quot;code&quot;)\n  .endAt(&quot;code~&quot;);\n</code></pre>\n"}],"owner":{"account_id":20938962,"reputation":36,"user_id":15383501,"display_name":"Harsh Master"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":77465585,"answer_count":1,"score":-3,"last_activity_date":1699714574,"creation_date":1699705082,"question_id":77465054,"body_markdown":"I am building an android app integrating firebase, i want to have a functionality where user can search for other users using their name/username. I am currently using SearchView widget (want to employ onQueryTextChange())\r\nFor example if a user types code, then all the queries matching &quot;code&quot; (or starting with &quot;code&quot;, either of them) shows up\r\n\r\nFirebase structure:\r\n \r\n\r\n    users\r\n        &lt;uid of user1&gt;\r\n                name: ....\r\n                username: .......\r\n        &lt;uid of user2&gt;\r\n                name: ....\r\n                username: .......\r\n        ...\r\n        ...\r\n\r\nHelp me with time efficient solution (in java) for it so searching is fast\r\n","title":"Searching for username in firebase realtime database","body":"<p>I am building an android app integrating firebase, i want to have a functionality where user can search for other users using their name/username. I am currently using SearchView widget (want to employ onQueryTextChange())\nFor example if a user types code, then all the queries matching &quot;code&quot; (or starting with &quot;code&quot;, either of them) shows up</p>\n<p>Firebase structure:</p>\n<pre><code>users\n    &lt;uid of user1&gt;\n            name: ....\n            username: .......\n    &lt;uid of user2&gt;\n            name: ....\n            username: .......\n    ...\n    ...\n</code></pre>\n<p>Help me with time efficient solution (in java) for it so searching is fast</p>\n"},{"tags":["java","openstreetmap","gtfs","opentripplanner"],"owner":{"account_id":24940405,"reputation":1,"user_id":18806381,"display_name":"a-qa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699714439,"creation_date":1699714003,"question_id":77465535,"body_markdown":"I&#39;m using Open Trip Planner with GTFS data that is already provided. I got them from https://transitfeeds.com/feeds, and I&#39;m encountering an issue where it doesn&#39;t return any itinerary. The data seems to be loaded correctly, but the planner isn&#39;t generating itinerary.\r\n\r\nWhat I did was creating otp file that contains the shaded and the gtfs zip file then I run it from the command prompt using this command:\r\n\r\n```lang-none\r\njava -Xmx4G -jar otp-2.1.0-shaded.jar --build --serve C:\\Users\\Asus\\otp\r\n```\r\n\r\nthen it works, but when I choose start and end destinations I can&#39;t find any route even by walking.\r\n\r\nHas anyone experienced a similar issue, and if so, what steps did you take to troubleshoot and resolve it? Any insights or suggestions would be greatly appreciated!\r\n","title":"Open Trip Planner returns 0 itinerary","body":"<p>I'm using Open Trip Planner with GTFS data that is already provided. I got them from <a href=\"https://transitfeeds.com/feeds\" rel=\"nofollow noreferrer\">https://transitfeeds.com/feeds</a>, and I'm encountering an issue where it doesn't return any itinerary. The data seems to be loaded correctly, but the planner isn't generating itinerary.</p>\n<p>What I did was creating otp file that contains the shaded and the gtfs zip file then I run it from the command prompt using this command:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -Xmx4G -jar otp-2.1.0-shaded.jar --build --serve C:\\Users\\Asus\\otp\n</code></pre>\n<p>then it works, but when I choose start and end destinations I can't find any route even by walking.</p>\n<p>Has anyone experienced a similar issue, and if so, what steps did you take to troubleshoot and resolve it? Any insights or suggestions would be greatly appreciated!</p>\n"},{"tags":["java","gradle","web-applications","build","progressive-web-apps"],"answers":[{"tags":[],"owner":{"account_id":4504549,"reputation":143,"user_id":3662264,"display_name":"NathanEyre"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1639101648,"creation_date":1639101648,"answer_id":70298892,"question_id":70274877,"body_markdown":"not sure why but commenting out the following in the **gradle.properties** file (NOT gradle-wrapper.properties) with a # got past this for me:\r\n\r\n    org.gradle.jvmargs=-Xmx1536m\r\n\r\nso it looks like:\r\n\r\n    #org.gradle.jvmargs=-Xmx1536m","title":"While building an apk using bubblewrap build its shows error Unable to start the daemon process","body":"<p>not sure why but commenting out the following in the <strong>gradle.properties</strong> file (NOT gradle-wrapper.properties) with a # got past this for me:</p>\n<pre><code>org.gradle.jvmargs=-Xmx1536m\n</code></pre>\n<p>so it looks like:</p>\n<pre><code>#org.gradle.jvmargs=-Xmx1536m\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18703706,"reputation":1,"user_id":13635364,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649951888,"creation_date":1649951888,"answer_id":71874474,"question_id":70274877,"body_markdown":"Commenting this \r\n    \r\n    org.gradle.jvmargs=-Xmx1536m\r\n\r\nsolved the issue for me too, i guess that this is memory size argument which passed to the daemon process of gradle.\r\n\r\nSo, by commenting this will ignore the restricting of build.\r\n\r\n","title":"While building an apk using bubblewrap build its shows error Unable to start the daemon process","body":"<p>Commenting this</p>\n<pre><code>org.gradle.jvmargs=-Xmx1536m\n</code></pre>\n<p>solved the issue for me too, i guess that this is memory size argument which passed to the daemon process of gradle.</p>\n<p>So, by commenting this will ignore the restricting of build.</p>\n"}],"owner":{"account_id":13707500,"reputation":41,"user_id":9890677,"display_name":"Nil Mistry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":860,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1699714356,"creation_date":1638965833,"question_id":70274877,"body_markdown":"I ran `gradlew.bat assembleRelease --stacktrace`, and I get this error :\r\n```logs\r\nERROR Command failed: gradlew.bat assembleRelease --stacktrace\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nUnable to start the daemon process.\r\nThis problem might be caused by incorrect configuration of the daemon.\r\nFor example, an unrecognized jvm option is used.\r\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/6.5/userguide/gradle_daemon.html\r\nProcess command line: C:\\Users\\Asus\\.bubblewrap\\jdk\\jdk8u265-b01\\bin\\java.exe -Xmx1536m -Dfile.encoding=windows-1252 -Duser.country=US -Duser.language=en -Duser.variant -cp C:\\Users\\Asus\\.gradle\\wrapper\\dists\\gradle-6.5-bin\\6nifqtx7604sqp1q6g8wikw7p\\gradle-6.5\\lib\\gradle-launcher-6.5.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 6.5\r\nPlease read the following process output to find out more:\r\n-----------------------\r\nError occurred during initialization of VM\r\nCould not reserve enough space for 1572864KB object heap\r\n\r\n\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.GradleException: Unable to start the daemon process.\r\nThis problem might be caused by incorrect configuration of the daemon.\r\nFor example, an unrecognized jvm option is used.\r\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/6.5/userguide/gradle_daemon.html\r\nProcess command line: C:\\Users\\Asus\\.bubblewrap\\jdk\\jdk8u265-b01\\bin\\java.exe -Xmx1536m -Dfile.encoding=windows-1252 -Duser.country=US -Duser.language=en -Duser.variant -cp C:\\Users\\Asus\\.gradle\\wrapper\\dists\\gradle-6.5-bin\\6nifqtx7604sqp1q6g8wikw7p\\gradle-6.5\\lib\\gradle-launcher-6.5.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 6.5\r\nPlease read the following process output to find out more:\r\n-----------------------\r\nError occurred during initialization of VM\r\nCould not reserve enough space for 1572864KB object heap\r\n\r\n        at org.gradle.launcher.daemon.client.DaemonGreeter.parseDaemonOutput(DaemonGreeter.java:38)\r\n        at org.gradle.launcher.daemon.client.DefaultDaemonStarter.startProcess(DefaultDaemonStarter.java:176)\r\n        at org.gradle.launcher.daemon.client.DefaultDaemonStarter.startDaemon(DefaultDaemonStarter.java:137)\r\n        at org.gradle.launcher.daemon.client.DefaultDaemonConnector.doStartDaemon(DefaultDaemonConnector.java:217)\r\n        at org.gradle.launcher.daemon.client.DefaultDaemonConnector.startDaemon(DefaultDaemonConnector.java:211)\r\n        at org.gradle.launcher.daemon.client.DefaultDaemonConnector.connect(DefaultDaemonConnector.java:133)\r\n        at org.gradle.launcher.daemon.client.DaemonClient.execute(DaemonClient.java:145)\r\n        at org.gradle.launcher.daemon.client.DaemonClient.execute(DaemonClient.java:99)\r\n        at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:56)\r\n        at org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:212)\r\n        at org.gradle.launcher.cli.DefaultCommandLineActionFactory$ParseAndBuildAction.execute(DefaultCommandLineActionFactory.java:294)\r\n        at org.gradle.launcher.cli.DefaultCommandLineActionFactory$ParseAndBuildAction.execute(DefaultCommandLineActionFactory.java:266)\r\n        at org.gradle.launcher.cli.DebugLoggerWarningAction.execute(DebugLoggerWarningAction.java:82)\r\n        at org.gradle.launcher.cli.DebugLoggerWarningAction.execute(DebugLoggerWarningAction.java:30)\r\n        at org.gradle.launcher.cli.WelcomeMessageAction.execute(WelcomeMessageAction.java:92)\r\n        at org.gradle.launcher.cli.WelcomeMessageAction.execute(WelcomeMessageAction.java:38)\r\n        at org.gradle.launcher.cli.NativeServicesInitializingAction.execute(NativeServicesInitializingAction.java:44)\r\n        at org.gradle.launcher.cli.NativeServicesInitializingAction.execute(NativeServicesInitializingAction.java:26)\r\n        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:41)\r\n        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:26)\r\n        at org.gradle.launcher.cli.DefaultCommandLineActionFactory$WithLogging.execute(DefaultCommandLineActionFactory.java:259)\r\n        at org.gradle.launcher.Main.doAction(Main.java:35)\r\n        at org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:50)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:60)\r\n        at org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:37)\r\n        at org.gradle.launcher.GradleMain.main(GradleMain.java:31)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.gradle.wrapper.BootstrapMainStarter.start(BootstrapMainStarter.java:31)\r\n        at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:108)\r\n        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:63)\r\n```\r\nHow can I fix it ?","title":"While building an apk using bubblewrap build its shows error Unable to start the daemon process","body":"<p>I ran <code>gradlew.bat assembleRelease --stacktrace</code>, and I get this error :</p>\n<pre><code>ERROR Command failed: gradlew.bat assembleRelease --stacktrace\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nUnable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/6.5/userguide/gradle_daemon.html\nProcess command line: C:\\Users\\Asus\\.bubblewrap\\jdk\\jdk8u265-b01\\bin\\java.exe -Xmx1536m -Dfile.encoding=windows-1252 -Duser.country=US -Duser.language=en -Duser.variant -cp C:\\Users\\Asus\\.gradle\\wrapper\\dists\\gradle-6.5-bin\\6nifqtx7604sqp1q6g8wikw7p\\gradle-6.5\\lib\\gradle-launcher-6.5.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 6.5\nPlease read the following process output to find out more:\n-----------------------\nError occurred during initialization of VM\nCould not reserve enough space for 1572864KB object heap\n\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.GradleException: Unable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/6.5/userguide/gradle_daemon.html\nProcess command line: C:\\Users\\Asus\\.bubblewrap\\jdk\\jdk8u265-b01\\bin\\java.exe -Xmx1536m -Dfile.encoding=windows-1252 -Duser.country=US -Duser.language=en -Duser.variant -cp C:\\Users\\Asus\\.gradle\\wrapper\\dists\\gradle-6.5-bin\\6nifqtx7604sqp1q6g8wikw7p\\gradle-6.5\\lib\\gradle-launcher-6.5.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 6.5\nPlease read the following process output to find out more:\n-----------------------\nError occurred during initialization of VM\nCould not reserve enough space for 1572864KB object heap\n\n        at org.gradle.launcher.daemon.client.DaemonGreeter.parseDaemonOutput(DaemonGreeter.java:38)\n        at org.gradle.launcher.daemon.client.DefaultDaemonStarter.startProcess(DefaultDaemonStarter.java:176)\n        at org.gradle.launcher.daemon.client.DefaultDaemonStarter.startDaemon(DefaultDaemonStarter.java:137)\n        at org.gradle.launcher.daemon.client.DefaultDaemonConnector.doStartDaemon(DefaultDaemonConnector.java:217)\n        at org.gradle.launcher.daemon.client.DefaultDaemonConnector.startDaemon(DefaultDaemonConnector.java:211)\n        at org.gradle.launcher.daemon.client.DefaultDaemonConnector.connect(DefaultDaemonConnector.java:133)\n        at org.gradle.launcher.daemon.client.DaemonClient.execute(DaemonClient.java:145)\n        at org.gradle.launcher.daemon.client.DaemonClient.execute(DaemonClient.java:99)\n        at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:56)\n        at org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:212)\n        at org.gradle.launcher.cli.DefaultCommandLineActionFactory$ParseAndBuildAction.execute(DefaultCommandLineActionFactory.java:294)\n        at org.gradle.launcher.cli.DefaultCommandLineActionFactory$ParseAndBuildAction.execute(DefaultCommandLineActionFactory.java:266)\n        at org.gradle.launcher.cli.DebugLoggerWarningAction.execute(DebugLoggerWarningAction.java:82)\n        at org.gradle.launcher.cli.DebugLoggerWarningAction.execute(DebugLoggerWarningAction.java:30)\n        at org.gradle.launcher.cli.WelcomeMessageAction.execute(WelcomeMessageAction.java:92)\n        at org.gradle.launcher.cli.WelcomeMessageAction.execute(WelcomeMessageAction.java:38)\n        at org.gradle.launcher.cli.NativeServicesInitializingAction.execute(NativeServicesInitializingAction.java:44)\n        at org.gradle.launcher.cli.NativeServicesInitializingAction.execute(NativeServicesInitializingAction.java:26)\n        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:41)\n        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:26)\n        at org.gradle.launcher.cli.DefaultCommandLineActionFactory$WithLogging.execute(DefaultCommandLineActionFactory.java:259)\n        at org.gradle.launcher.Main.doAction(Main.java:35)\n        at org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:50)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:60)\n        at org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:37)\n        at org.gradle.launcher.GradleMain.main(GradleMain.java:31)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.gradle.wrapper.BootstrapMainStarter.start(BootstrapMainStarter.java:31)\n        at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:108)\n        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:63)\n</code></pre>\n<p>How can I fix it ?</p>\n"},{"tags":["java","hadoop","hadoop-yarn","nodemanager"],"owner":{"account_id":29698430,"reputation":45,"user_id":22761150,"display_name":"Brahim Khalil Abid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699713887,"creation_date":1699713887,"question_id":77465528,"body_markdown":"I am trying to setup Hadoop on my laptop (just to learn it and do some basics, and if I have the time a couple advanced things).\r\n\r\nI am on Windows 10, using Intellij, I also installed Hadoop 3.2.1 following the steps [here][1].\r\n\r\nHadoop seems to work fine, I mean I was able to do basic interaction with HDFS, copying simple text files, creating folders and so on.\r\n\r\nThen I tried running start-dfs.cmd, which seems to work fine as well. When trying start-yarn.cmd however, the RessourceManager seems to start without any notable error, but the following problem occurs with the Yarn NodeManager:\r\n\r\n```\r\n2023-11-11 11:39:34,167 ERROR util.SysInfoWindows: ExitCodeException exitCode=1: PdhAddCounter \\Network Interface(*)\\Bytes Received/Sec failed with 0xc0000bb8.\r\nError in GetDiskAndNetwork. Err:1\r\n\r\n        at org.apache.hadoop.util.Shell.runCommand(Shell.java:1008)\r\n        at org.apache.hadoop.util.Shell.run(Shell.java:901)\r\n        at org.apache.hadoop.util.Shell$ShellCommandExecutor.execute(Shell.java:1213)\r\n        at org.apache.hadoop.util.SysInfoWindows.getSystemInfoInfoFromShell(SysInfoWindows.java:86)\r\n        at org.apache.hadoop.util.SysInfoWindows.refreshIfNeeded(SysInfoWindows.java:101)\r\n        at org.apache.hadoop.util.SysInfoWindows.getPhysicalMemorySize(SysInfoWindows.java:153)\r\n        at org.apache.hadoop.yarn.util.ResourceCalculatorPlugin.getPhysicalMemorySize(ResourceCalculatorPlugin.java:64)\r\n        at org.apache.hadoop.yarn.server.nodemanager.containermanager.monitor.ContainersMonitorImpl.serviceInit(ContainersMonitorImpl.java:228)\r\n        at org.apache.hadoop.service.AbstractService.init(AbstractService.java:164)\r\n        at org.apache.hadoop.service.CompositeService.serviceInit(CompositeService.java:108)\r\n        at org.apache.hadoop.yarn.server.nodemanager.containermanager.ContainerManagerImpl.serviceInit(ContainerManagerImpl.java:323)\r\n        at org.apache.hadoop.service.AbstractService.init(AbstractService.java:164)\r\n        at org.apache.hadoop.service.CompositeService.serviceInit(CompositeService.java:108)\r\n        at org.apache.hadoop.yarn.server.nodemanager.NodeManager.serviceInit(NodeManager.java:516)\r\n        at org.apache.hadoop.service.AbstractService.init(AbstractService.java:164)\r\n        at org.apache.hadoop.yarn.server.nodemanager.NodeManager.initAndStartNodeManager(NodeManager.java:974)\r\n        at org.apache.hadoop.yarn.server.nodemanager.NodeManager.main(NodeManager.java:1054)\r\n\r\n2023-11-11 11:39:34,167 WARN monitor.ContainersMonitorImpl: NodeManager&#39;s totalPmem could not be calculated. Setting it to -1\r\n2023-11-11 11:39:34,178 INFO containermanager.ContainerManagerImpl: Not a recoverable state store. Nothing to recover.\r\n2023-11-11 11:39:34,201 INFO conf.Configuration: resource-types.xml not found\r\n2023-11-11 11:39:34,202 INFO resource.ResourceUtils: Unable to find &#39;resource-types.xml&#39;.\r\n2023-11-11 11:39:34,209 INFO conf.Configuration: node-resources.xml not found\r\n2023-11-11 11:39:34,209 INFO resource.ResourceUtils: Unable to find &#39;node-resources.xml&#39;.\r\n```\r\n\r\nThe same error happens over and over again until I force the process to stop (close window or Ctrl+C). I tried a lot of things to debug (mainly using ChatGPT, I didn&#39;t find many links on Google) but I was unsuccessful. These things were mainly around checking setup of env variables and several hadoop configuration files, for example once ChatGPT suggested I add some property block code into the file yarn-site.xml.\r\n\r\nMy goal is to run a simple MapReduce WordCount in Hadoop.\r\n\r\n  [1]: https://gist.github.com/vorpal56/5e2b67b6be3a827b85ac82a63a5b3b2e","title":"Error when starting Yarn Nodemanager: [ERROR util.SysInfoWindows: ExitCodeException exitCode=1]","body":"<p>I am trying to setup Hadoop on my laptop (just to learn it and do some basics, and if I have the time a couple advanced things).</p>\n<p>I am on Windows 10, using Intellij, I also installed Hadoop 3.2.1 following the steps <a href=\"https://gist.github.com/vorpal56/5e2b67b6be3a827b85ac82a63a5b3b2e\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Hadoop seems to work fine, I mean I was able to do basic interaction with HDFS, copying simple text files, creating folders and so on.</p>\n<p>Then I tried running start-dfs.cmd, which seems to work fine as well. When trying start-yarn.cmd however, the RessourceManager seems to start without any notable error, but the following problem occurs with the Yarn NodeManager:</p>\n<pre><code>2023-11-11 11:39:34,167 ERROR util.SysInfoWindows: ExitCodeException exitCode=1: PdhAddCounter \\Network Interface(*)\\Bytes Received/Sec failed with 0xc0000bb8.\nError in GetDiskAndNetwork. Err:1\n\n        at org.apache.hadoop.util.Shell.runCommand(Shell.java:1008)\n        at org.apache.hadoop.util.Shell.run(Shell.java:901)\n        at org.apache.hadoop.util.Shell$ShellCommandExecutor.execute(Shell.java:1213)\n        at org.apache.hadoop.util.SysInfoWindows.getSystemInfoInfoFromShell(SysInfoWindows.java:86)\n        at org.apache.hadoop.util.SysInfoWindows.refreshIfNeeded(SysInfoWindows.java:101)\n        at org.apache.hadoop.util.SysInfoWindows.getPhysicalMemorySize(SysInfoWindows.java:153)\n        at org.apache.hadoop.yarn.util.ResourceCalculatorPlugin.getPhysicalMemorySize(ResourceCalculatorPlugin.java:64)\n        at org.apache.hadoop.yarn.server.nodemanager.containermanager.monitor.ContainersMonitorImpl.serviceInit(ContainersMonitorImpl.java:228)\n        at org.apache.hadoop.service.AbstractService.init(AbstractService.java:164)\n        at org.apache.hadoop.service.CompositeService.serviceInit(CompositeService.java:108)\n        at org.apache.hadoop.yarn.server.nodemanager.containermanager.ContainerManagerImpl.serviceInit(ContainerManagerImpl.java:323)\n        at org.apache.hadoop.service.AbstractService.init(AbstractService.java:164)\n        at org.apache.hadoop.service.CompositeService.serviceInit(CompositeService.java:108)\n        at org.apache.hadoop.yarn.server.nodemanager.NodeManager.serviceInit(NodeManager.java:516)\n        at org.apache.hadoop.service.AbstractService.init(AbstractService.java:164)\n        at org.apache.hadoop.yarn.server.nodemanager.NodeManager.initAndStartNodeManager(NodeManager.java:974)\n        at org.apache.hadoop.yarn.server.nodemanager.NodeManager.main(NodeManager.java:1054)\n\n2023-11-11 11:39:34,167 WARN monitor.ContainersMonitorImpl: NodeManager's totalPmem could not be calculated. Setting it to -1\n2023-11-11 11:39:34,178 INFO containermanager.ContainerManagerImpl: Not a recoverable state store. Nothing to recover.\n2023-11-11 11:39:34,201 INFO conf.Configuration: resource-types.xml not found\n2023-11-11 11:39:34,202 INFO resource.ResourceUtils: Unable to find 'resource-types.xml'.\n2023-11-11 11:39:34,209 INFO conf.Configuration: node-resources.xml not found\n2023-11-11 11:39:34,209 INFO resource.ResourceUtils: Unable to find 'node-resources.xml'.\n</code></pre>\n<p>The same error happens over and over again until I force the process to stop (close window or Ctrl+C). I tried a lot of things to debug (mainly using ChatGPT, I didn't find many links on Google) but I was unsuccessful. These things were mainly around checking setup of env variables and several hadoop configuration files, for example once ChatGPT suggested I add some property block code into the file yarn-site.xml.</p>\n<p>My goal is to run a simple MapReduce WordCount in Hadoop.</p>\n"},{"tags":["java","project-reactor","spring-cloud-gateway","reactor-netty"],"comments":[{"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"score":0,"creation_date":1702252366,"post_id":77465394,"comment_id":136870335,"body_markdown":"did you solve the delay issue ?","body":"did you solve the delay issue ?"}],"owner":{"account_id":14898237,"reputation":1,"user_id":10757824,"display_name":"Mukesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699712736,"creation_date":1699711674,"question_id":77465394,"body_markdown":"I am using Spring Cloud Gateway, observing intermittent delay while sending request or receiving response from the downstream applications. The notable delay occurs in about 15% of the requests (more than 1 second) with the downstream API responding in 6ms each time. Most of the requests are served without any delay but this delay is happening for each api exposed via the gateway. A lot of the delayed requests see a consistent time gap of a close proximity to 5s (eg., 5.009s, 5.013s, 5.050s) but some are less than 5s in delay as well. At the request level it happens before acquiring the channel and sometimes at the response handling level too(downstream server logs response in 6ms). Sometimes it happens with both the request and response. And at the response level, time delays are often close to 5s or 10s. The load on the server is not much either (the gateway is handling around 150 requests per minute). There is a network load balancer between the downstream service and the api gateway\r\n\r\nHere are the logs which I am seeing at the request level.\r\n\r\n```\r\n18:00:15.093  [reactor-http-epoll-4]\tClient observation  {name=http.client.requests(null), error=null, context=name=&#39;http.client.requests&#39;, contextualName=&#39;null&#39;, error=&#39;null&#39;, lowCardinalityKeyValues=[http.method=&#39;GET&#39;, http.status_code=&#39;UNKNOWN&#39;, spring.cloud.gateway.route.id=&#39;app-name&#39;, spring.cloud.gateway.route.uri=&#39;**uri**&#39;], highCardinalityKeyValues=[http.uri=&#39;**uri**&#39;], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample=&#39;SampleImpl{duration(seconds)=3.8563E-5, duration(nanos)=38563.0, startTimeNanos=1754421052833403}&#39;, class io.micrometer.tracing.handler.TracingObservationHandler$TracingContext=&#39;TracingContext{span=6548dc52fc6e10b02a9532a95c23527d/4c632cc89e1e9109}&#39;, class io.micrometer.core.instrument.Timer$Sample=&#39;io.micrometer.core.instrument.Timer$Sample@7e7c9a4b&#39;], parentObservation={name=spring.security.http.secured.requests(secured request), error=null, context=name=&#39;spring.security.http.secured.requests&#39;, contextualName=&#39;secured request&#39;, error=&#39;null&#39;, lowCardinalityKeyValues=[], highCardinalityKeyValues=[], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample=&#39;SampleImpl{duration(seconds)=5.021295641, duration(nanos)=5.021295641E9, startTimeNanos=1754416031637319}&#39;, class io.micrometer.tracing.handler.TracingObservationHandler$TracingContext=&#39;TracingContext{span=6548dc52fc6e10b02a9532a95c23527d/81e269c3a499bfaa}&#39;, class io.micrometer.core.instrument.Timer$Sample=&#39;io.micrometer.core.instrument.Timer$Sample@7c376fc9&#39;], parentObservation={name=spring.security.filterchains(security filterchain before), error=null, context=name=&#39;spring.security.filterchains&#39;, contextualName=&#39;security filterchain before&#39;, error=&#39;null&#39;, lowCardinalityKeyValues=[spring.security.filterchain.position=&#39;9&#39;, highCardinalityKeyValues=[], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample=&#39;SampleImpl{duration(seconds)=-1.0E-9, duration(nanos)=-1.0, startTimeNanos=1754416030032697}&#39;, class io.micrometer.tracing.handler.TracingObservationHandler$TracingContext=&#39;TracingContext{span=6548dc52fc6e10b02a9532a95c23527d/6dd704053c32d13b}&#39;, class io.micrometer.core.instrument.Timer$Sample=&#39;io.micrometer.core.instrument.Timer$Sample@151cea6d&#39;], parentObservation={name=http.server.requests(null), error=null, context=name=&#39;http.server.requests&#39;, contextualName=&#39;null&#39;, error=&#39;null&#39;, lowCardinalityKeyValues=[exception=&#39;none&#39;, method=&#39;GET&#39;, outcome=&#39;SUCCESS&#39;, status=&#39;200&#39;, uri=&#39;UNKNOWN&#39;], highCardinalityKeyValues=[http.url=&#39;**path**&#39;], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample=&#39;SampleImpl{duration(seconds)=5.023806823, duration(nanos)=5.023806823E9, startTimeNanos=1754416029212405}&#39;, class io.micrometer.tracing.handler.TracingObservationHandler$TracingContext=&#39;TracingContext{span=6548dc52fc6e10b02a9532a95c23527d/2a9532a95c23527d}&#39;, class io.micrometer.core.instrument.Timer$Sample=&#39;io.micrometer.core.instrument.Timer$Sample@db0eebe&#39;], parentObservation=null}}}} created for the request. New headers are [User-Agent:&quot;Apache-HttpClient/4.5.13 (Java/1.8.0_352)&quot;, Transfer-Encoding:&quot;chunked&quot;, Forwarded:&quot;proto=https;host=host;]\treactor-http-epoll-4\torg.springframework.cloud.gateway.filter.headers.observation.ObservedRequestHttpHeadersFilter\r\n18:00:20.100  [reactor-http-epoll-3]\t[3efcbab2, L:/gateway:port - R:app-name/**ip**] Channel acquired, now: 2 active connections, 0 inactive connections and 0 pending acquire requests.\r\n18:00:20.101  [reactor-http-epoll-3]\t[3efcbab2-2, L:/gateway:port - R:app-server/**ip**] onStateChange(GET{uri=**uri**, connection=PooledConnection{channel=[id: 0x3efcbab2, L:/gateway:port - R:app-server/**ip**]}}, [request_sent])\r\n```\r\nThe channel acquire log came 5s after the NettyRoutingFilter has run all the header filters. After the channle acquire, there are some logs for request_prepared and handler mapped as well, which I have trimmed from the posted logs\r\n\r\nConfiguration - \r\nLinux 2 core processor (With usual cpu or memory utilization)\r\n\r\nSpring cloud gateway starter - 4.0.5, Spring webflux - 3.0.6\r\n\r\nSpring cloud gateway httpclient:\r\n\r\nFIXED pool with max connections - 1000,\r\nmax idle time - 5s. \r\n\r\nAs I am finding it difficult to troubleshoot the issue since it is not replicated anywhere else other than where the application is deployed, what could be the issue here or how can I find the root cause?","title":"Spring cloud gateway intermittent delay at proxy request and response handling with reactor netty","body":"<p>I am using Spring Cloud Gateway, observing intermittent delay while sending request or receiving response from the downstream applications. The notable delay occurs in about 15% of the requests (more than 1 second) with the downstream API responding in 6ms each time. Most of the requests are served without any delay but this delay is happening for each api exposed via the gateway. A lot of the delayed requests see a consistent time gap of a close proximity to 5s (eg., 5.009s, 5.013s, 5.050s) but some are less than 5s in delay as well. At the request level it happens before acquiring the channel and sometimes at the response handling level too(downstream server logs response in 6ms). Sometimes it happens with both the request and response. And at the response level, time delays are often close to 5s or 10s. The load on the server is not much either (the gateway is handling around 150 requests per minute). There is a network load balancer between the downstream service and the api gateway</p>\n<p>Here are the logs which I am seeing at the request level.</p>\n<pre><code>18:00:15.093  [reactor-http-epoll-4]    Client observation  {name=http.client.requests(null), error=null, context=name='http.client.requests', contextualName='null', error='null', lowCardinalityKeyValues=[http.method='GET', http.status_code='UNKNOWN', spring.cloud.gateway.route.id='app-name', spring.cloud.gateway.route.uri='**uri**'], highCardinalityKeyValues=[http.uri='**uri**'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=3.8563E-5, duration(nanos)=38563.0, startTimeNanos=1754421052833403}', class io.micrometer.tracing.handler.TracingObservationHandler$TracingContext='TracingContext{span=6548dc52fc6e10b02a9532a95c23527d/4c632cc89e1e9109}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@7e7c9a4b'], parentObservation={name=spring.security.http.secured.requests(secured request), error=null, context=name='spring.security.http.secured.requests', contextualName='secured request', error='null', lowCardinalityKeyValues=[], highCardinalityKeyValues=[], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=5.021295641, duration(nanos)=5.021295641E9, startTimeNanos=1754416031637319}', class io.micrometer.tracing.handler.TracingObservationHandler$TracingContext='TracingContext{span=6548dc52fc6e10b02a9532a95c23527d/81e269c3a499bfaa}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@7c376fc9'], parentObservation={name=spring.security.filterchains(security filterchain before), error=null, context=name='spring.security.filterchains', contextualName='security filterchain before', error='null', lowCardinalityKeyValues=[spring.security.filterchain.position='9', highCardinalityKeyValues=[], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=-1.0E-9, duration(nanos)=-1.0, startTimeNanos=1754416030032697}', class io.micrometer.tracing.handler.TracingObservationHandler$TracingContext='TracingContext{span=6548dc52fc6e10b02a9532a95c23527d/6dd704053c32d13b}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@151cea6d'], parentObservation={name=http.server.requests(null), error=null, context=name='http.server.requests', contextualName='null', error='null', lowCardinalityKeyValues=[exception='none', method='GET', outcome='SUCCESS', status='200', uri='UNKNOWN'], highCardinalityKeyValues=[http.url='**path**'], map=[class io.micrometer.core.instrument.LongTaskTimer$Sample='SampleImpl{duration(seconds)=5.023806823, duration(nanos)=5.023806823E9, startTimeNanos=1754416029212405}', class io.micrometer.tracing.handler.TracingObservationHandler$TracingContext='TracingContext{span=6548dc52fc6e10b02a9532a95c23527d/2a9532a95c23527d}', class io.micrometer.core.instrument.Timer$Sample='io.micrometer.core.instrument.Timer$Sample@db0eebe'], parentObservation=null}}}} created for the request. New headers are [User-Agent:&quot;Apache-HttpClient/4.5.13 (Java/1.8.0_352)&quot;, Transfer-Encoding:&quot;chunked&quot;, Forwarded:&quot;proto=https;host=host;]   reactor-http-epoll-4    org.springframework.cloud.gateway.filter.headers.observation.ObservedRequestHttpHeadersFilter\n18:00:20.100  [reactor-http-epoll-3]    [3efcbab2, L:/gateway:port - R:app-name/**ip**] Channel acquired, now: 2 active connections, 0 inactive connections and 0 pending acquire requests.\n18:00:20.101  [reactor-http-epoll-3]    [3efcbab2-2, L:/gateway:port - R:app-server/**ip**] onStateChange(GET{uri=**uri**, connection=PooledConnection{channel=[id: 0x3efcbab2, L:/gateway:port - R:app-server/**ip**]}}, [request_sent])\n</code></pre>\n<p>The channel acquire log came 5s after the NettyRoutingFilter has run all the header filters. After the channle acquire, there are some logs for request_prepared and handler mapped as well, which I have trimmed from the posted logs</p>\n<p>Configuration -\nLinux 2 core processor (With usual cpu or memory utilization)</p>\n<p>Spring cloud gateway starter - 4.0.5, Spring webflux - 3.0.6</p>\n<p>Spring cloud gateway httpclient:</p>\n<p>FIXED pool with max connections - 1000,\nmax idle time - 5s.</p>\n<p>As I am finding it difficult to troubleshoot the issue since it is not replicated anywhere else other than where the application is deployed, what could be the issue here or how can I find the root cause?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":20406837,"reputation":1,"user_id":22141326,"display_name":"Karol"},"score":0,"creation_date":1699793703,"post_id":77465442,"comment_id":136573424,"body_markdown":"Yes. It worked. I admit, it was my fault that I didn&#39;t read instructions. Thanks for the help!","body":"Yes. It worked. I admit, it was my fault that I didn&#39;t read instructions. Thanks for the help!"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1699799332,"post_id":77465442,"comment_id":136573961,"body_markdown":"Please accept the answer if it helped you so that it can help others in the future.","body":"Please accept the answer if it helped you so that it can help others in the future."}],"tags":[],"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699712645,"creation_date":1699712645,"answer_id":77465442,"question_id":77455255,"body_markdown":"Your problem is that you have not actually read the documentation when using mapstruct.\r\n\r\nMap struct is very much like lombok, it generates code during compile time, as in creating a bunch of code for you to map things exactly like lombok generates a bunch of getter and setters, during compile time.\r\n\r\nthe example in their [github readme][1] clearly explains how you should use it\r\n\r\n```\r\n...\r\n&lt;properties&gt;\r\n    &lt;org.mapstruct.version&gt;1.5.5.Final&lt;/org.mapstruct.version&gt;\r\n&lt;/properties&gt;\r\n...\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n...\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;1.8&lt;/source&gt;\r\n                &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;annotationProcessorPaths&gt;\r\n                    &lt;path&gt;\r\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n                    &lt;/path&gt;\r\n                &lt;/annotationProcessorPaths&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n...\r\n```\r\n\r\nYou have not added the annotation processor to the compiler, so there is nothing reading your mapstruct annotations, and generating the code needed so when the server starts it complains that there are things missing.\r\n\r\n[Please read the instructions on how to use mapstruct][1]\r\n\r\n  [1]: https://github.com/mapstruct/mapstruct#using-mapstruct","title":"Error creating a bean in java spring security, spring boot application","body":"<p>Your problem is that you have not actually read the documentation when using mapstruct.</p>\n<p>Map struct is very much like lombok, it generates code during compile time, as in creating a bunch of code for you to map things exactly like lombok generates a bunch of getter and setters, during compile time.</p>\n<p>the example in their <a href=\"https://github.com/mapstruct/mapstruct#using-mapstruct\" rel=\"nofollow noreferrer\">github readme</a> clearly explains how you should use it</p>\n<pre><code>...\n&lt;properties&gt;\n    &lt;org.mapstruct.version&gt;1.5.5.Final&lt;/org.mapstruct.version&gt;\n&lt;/properties&gt;\n...\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n...\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n...\n</code></pre>\n<p>You have not added the annotation processor to the compiler, so there is nothing reading your mapstruct annotations, and generating the code needed so when the server starts it complains that there are things missing.</p>\n<p><a href=\"https://github.com/mapstruct/mapstruct#using-mapstruct\" rel=\"nofollow noreferrer\">Please read the instructions on how to use mapstruct</a></p>\n"}],"owner":{"account_id":20406837,"reputation":1,"user_id":22141326,"display_name":"Karol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77465442,"answer_count":1,"score":-1,"last_activity_date":1699712645,"creation_date":1699551091,"question_id":77455255,"body_markdown":"```\r\n2023-11-09T18:25:27.163+01:00  WARN 14524 --- [           main] \r\nConfigServletWebServerApplicationContext : Exception encountered during context initialization - \r\ncancelling refresh attempt: \r\norg.springframework.beans.factory.UnsatisfiedDependencyException: \r\nError creating bean with name &#39;authController&#39; defined in file \r\n[C:\\Users\\karol\\IdeaProjects\\demo\\target\\classes\\com\\inn\\project\\controllers\\AuthController.class]: \r\nUnsatisfied dependency expressed through constructor parameter 0: \r\nError creating bean with name &#39;userService&#39; defined in file [C:\\Users\\karol\\IdeaProjects\\demo\r\n\\target\\classes\\com\\inn\\project\\services\\UserService.class]: \r\nUnsatisfied dependency expressed through constructor parameter 2: \r\nNo qualifying bean of type &#39;com.inn.project.mappers.UserMapper&#39; available: \r\nexpected at least 1 bean which qualifies as autowire candidate. \r\nDependency annotations: {}\r\n```\r\n\r\nI have this error in my code.\r\n\r\nThis is my UserController\r\n\r\n\r\n```\r\npackage com.inn.project.controllers;\r\n\r\nimport com.inn.project.models.User;\r\nimport com.inn.project.services.UserService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@CrossOrigin\r\npublic class UserController {\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @GetMapping(&quot;/users&quot;)\r\n    public List&lt;User&gt; getUsers(){\r\n        return userService.getUsers();\r\n    }\r\n    @PostMapping(&quot;/users/addnew&quot;)\r\n    public void addUser(@RequestBody User user){\r\n        userService.addUser(user);\r\n    }\r\n    @PutMapping(&quot;/users/{id}/edit&quot;)\r\n    public void updateUser(@PathVariable(&quot;id&quot;) Long id, @RequestBody User user){\r\n        userService.updateUser(user);\r\n    }\r\n    @DeleteMapping(&quot;/users/{id}/delete&quot;)\r\n    public void deleteUser(@PathVariable(&quot;id&quot;) Long id){\r\n        userService.deleteUser(id);\r\n    }\r\n}\r\n```\r\n\r\nThis is AuthController\r\n\r\n\r\n```\r\npackage com.inn.project.controllers;\r\n\r\nimport com.inn.project.dtos.UserDto;\r\nimport com.inn.project.services.UserService;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequiredArgsConstructor\r\npublic class AuthController {\r\n    private final UserService userService;\r\n\r\n\r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;UserDto&gt; login(@RequestBody Credentials credentials){\r\n        UserDto user = userService.login(credentials);\r\n        return ResponseEntity.ok(user);\r\n    }\r\n}\r\n\r\n```\r\nThis is User model\r\n\r\n\r\n```\r\npackage com.inn.project.models;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@NoArgsConstructor\r\n@Entity\r\n@Data\r\n@Table(name = &quot;User&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n    private String location;\r\n    private String login;\r\n\r\n    @Column(name = &quot;notifications&quot;)\r\n    private boolean notifications;\r\n\r\n\r\n}\r\n\r\n```\r\nThis is Mapper:\r\n\r\n\r\n```\r\npackage com.inn.project.mappers;\r\n\r\nimport com.inn.project.dtos.UserDto;\r\nimport com.inn.project.models.User;\r\nimport org.mapstruct.Mapper;\r\n\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface UserMapper {\r\n    UserDto toUser(User user);\r\n}\r\n\r\n```\r\n\r\nAnd this is UserDto:\r\n\r\n\r\n```\r\npackage com.inn.project.dtos;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class UserDto {\r\n    private Long id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String login;\r\n    private String password;\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nHere is UserService\r\n\r\n```\r\npackage com.inn.project.services;\r\n\r\nimport com.inn.project.controllers.Credentials;\r\nimport com.inn.project.dtos.UserDto;\r\nimport com.inn.project.exceptions.AppException;\r\nimport com.inn.project.mappers.UserMapper;\r\nimport com.inn.project.models.User;\r\nimport com.inn.project.repositories.UserRepository;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.nio.CharBuffer;\r\nimport java.util.List;\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class UserService {\r\n    private final UserRepository userRepository;\r\n    private final PasswordEncoder passwordEncoder;\r\n    private final UserMapper userMapper;\r\n    public List&lt;User&gt; getUsers(){\r\n        return userRepository.findAll();\r\n    }\r\n    public UserDto login(Credentials credentials){\r\n        User user = userRepository.findByLogin(credentials.login())\r\n                .orElseThrow(()-&gt; new AppException(&quot;Uknown user&quot;, HttpStatus.NOT_FOUND));\r\n        if (passwordEncoder.matches(CharBuffer.wrap(credentials.password()),\r\n        user.getPassword()))\r\n        {\r\n            return userMapper.toUser(user);\r\n        }\r\n        throw new AppException(&quot;Invalid password&quot;, HttpStatus.BAD_REQUEST);\r\n\r\n    }\r\n    public void addUser(User user){\r\n        userRepository.save(user);\r\n    }\r\n    public void updateUser(User user){\r\n        userRepository.save(user);\r\n    }\r\n    public void deleteUser(Long id){\r\n        userRepository.deleteById(id);\r\n    }\r\n}\r\n\r\n```\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.inn&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;sonar.login&gt;sqp_154364705dbb808ea7aa8df4c3ec133df4a041ba&lt;/sonar.login&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.5.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n\r\n\r\nI tried to find problems like mine, but in the end I gave up, because there was no. I write this code based on this tutorial: https://www.youtube.com/watch?v=YUqi1IjLX8I ","title":"Error creating a bean in java spring security, spring boot application","body":"<pre><code>2023-11-09T18:25:27.163+01:00  WARN 14524 --- [           main] \nConfigServletWebServerApplicationContext : Exception encountered during context initialization - \ncancelling refresh attempt: \norg.springframework.beans.factory.UnsatisfiedDependencyException: \nError creating bean with name 'authController' defined in file \n[C:\\Users\\karol\\IdeaProjects\\demo\\target\\classes\\com\\inn\\project\\controllers\\AuthController.class]: \nUnsatisfied dependency expressed through constructor parameter 0: \nError creating bean with name 'userService' defined in file [C:\\Users\\karol\\IdeaProjects\\demo\n\\target\\classes\\com\\inn\\project\\services\\UserService.class]: \nUnsatisfied dependency expressed through constructor parameter 2: \nNo qualifying bean of type 'com.inn.project.mappers.UserMapper' available: \nexpected at least 1 bean which qualifies as autowire candidate. \nDependency annotations: {}\n</code></pre>\n<p>I have this error in my code.</p>\n<p>This is my UserController</p>\n<pre><code>package com.inn.project.controllers;\n\nimport com.inn.project.models.User;\nimport com.inn.project.services.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@CrossOrigin\npublic class UserController {\n    @Autowired\n    private UserService userService;\n\n    @GetMapping(&quot;/users&quot;)\n    public List&lt;User&gt; getUsers(){\n        return userService.getUsers();\n    }\n    @PostMapping(&quot;/users/addnew&quot;)\n    public void addUser(@RequestBody User user){\n        userService.addUser(user);\n    }\n    @PutMapping(&quot;/users/{id}/edit&quot;)\n    public void updateUser(@PathVariable(&quot;id&quot;) Long id, @RequestBody User user){\n        userService.updateUser(user);\n    }\n    @DeleteMapping(&quot;/users/{id}/delete&quot;)\n    public void deleteUser(@PathVariable(&quot;id&quot;) Long id){\n        userService.deleteUser(id);\n    }\n}\n</code></pre>\n<p>This is AuthController</p>\n<pre><code>package com.inn.project.controllers;\n\nimport com.inn.project.dtos.UserDto;\nimport com.inn.project.services.UserService;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequiredArgsConstructor\npublic class AuthController {\n    private final UserService userService;\n\n\n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;UserDto&gt; login(@RequestBody Credentials credentials){\n        UserDto user = userService.login(credentials);\n        return ResponseEntity.ok(user);\n    }\n}\n\n</code></pre>\n<p>This is User model</p>\n<pre><code>package com.inn.project.models;\n\nimport jakarta.persistence.*;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@NoArgsConstructor\n@Entity\n@Data\n@Table(name = &quot;User&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    private String location;\n    private String login;\n\n    @Column(name = &quot;notifications&quot;)\n    private boolean notifications;\n\n\n}\n\n</code></pre>\n<p>This is Mapper:</p>\n<pre><code>package com.inn.project.mappers;\n\nimport com.inn.project.dtos.UserDto;\nimport com.inn.project.models.User;\nimport org.mapstruct.Mapper;\n\n@Mapper(componentModel = &quot;spring&quot;)\npublic interface UserMapper {\n    UserDto toUser(User user);\n}\n\n</code></pre>\n<p>And this is UserDto:</p>\n<pre><code>package com.inn.project.dtos;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class UserDto {\n    private Long id;\n    private String firstName;\n    private String lastName;\n    private String login;\n    private String password;\n}\n\n\n</code></pre>\n<p>Here is UserService</p>\n<pre><code>package com.inn.project.services;\n\nimport com.inn.project.controllers.Credentials;\nimport com.inn.project.dtos.UserDto;\nimport com.inn.project.exceptions.AppException;\nimport com.inn.project.mappers.UserMapper;\nimport com.inn.project.models.User;\nimport com.inn.project.repositories.UserRepository;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Service;\n\nimport java.nio.CharBuffer;\nimport java.util.List;\n\n@Service\n@RequiredArgsConstructor\npublic class UserService {\n    private final UserRepository userRepository;\n    private final PasswordEncoder passwordEncoder;\n    private final UserMapper userMapper;\n    public List&lt;User&gt; getUsers(){\n        return userRepository.findAll();\n    }\n    public UserDto login(Credentials credentials){\n        User user = userRepository.findByLogin(credentials.login())\n                .orElseThrow(()-&gt; new AppException(&quot;Uknown user&quot;, HttpStatus.NOT_FOUND));\n        if (passwordEncoder.matches(CharBuffer.wrap(credentials.password()),\n        user.getPassword()))\n        {\n            return userMapper.toUser(user);\n        }\n        throw new AppException(&quot;Invalid password&quot;, HttpStatus.BAD_REQUEST);\n\n    }\n    public void addUser(User user){\n        userRepository.save(user);\n    }\n    public void updateUser(User user){\n        userRepository.save(user);\n    }\n    public void deleteUser(Long id){\n        userRepository.deleteById(id);\n    }\n}\n\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n</code></pre>\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n3.1.5\n \n\ncom.inn\ndemo</p>\n<pre><code>&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;demo&lt;/name&gt;\n&lt;description&gt;Demo&lt;/description&gt;\n&lt;properties&gt;\n    &lt;sonar.login&gt;sqp_154364705dbb808ea7aa8df4c3ec133df4a041ba&lt;/sonar.login&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n        &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n        &lt;version&gt;3.10.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n        &lt;version&gt;1.5.5.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>I tried to find problems like mine, but in the end I gave up, because there was no. I write this code based on this tutorial: <a href=\"https://www.youtube.com/watch?v=YUqi1IjLX8I\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=YUqi1IjLX8I</a></p>\n"},{"tags":["java","spring","spring-cloud","spring-cloud-config","spring-cloud-gateway"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1699703806,"post_id":77464732,"comment_id":136566550,"body_markdown":"So, the yaml version is &quot;anded&quot; together while the java version has the option of &quot;or&quot;. Split up each path into a separate route.","body":"So, the yaml version is &quot;anded&quot; together while the java version has the option of &quot;or&quot;. Split up each path into a separate route."}],"owner":{"account_id":26795323,"reputation":11,"user_id":20388153,"display_name":"Janek1010"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699711719,"creation_date":1699698747,"question_id":77464732,"body_markdown":"I am sharing the routing code for Spring Cloud Gateway that functions correctly in my application:\r\n\r\n```java\r\n@Configuration\r\npublic class Config {\r\n\r\n    @Bean\r\n    public RouteLocator routeLocator(RouteLocatorBuilder builder) {\r\n        return builder.routes()\r\n                .route(&quot;customer-service&quot;, r -&gt; r\r\n                        .path(&quot;/api/customers/{customerId}&quot;)\r\n                        .or()\r\n                        .path(&quot;/api/customers&quot;)\r\n                        .uri(&quot;http://localhost:8082&quot;)\r\n                )\r\n                .route(&quot;order-service&quot;, r -&gt; r\r\n                        .path(&quot;/api/orders&quot;)\r\n                        .or()\r\n                        .path(&quot;/api/orders/**&quot;)\r\n                        .or()\r\n                        .path(&quot;/api/customers/{customerId}/orders&quot;)\r\n                        .or()\r\n                        .path(&quot;/api/customers/{customerId}/orders/**&quot;)\r\n                        .uri(&quot;http://localhost:8081&quot;)\r\n                )\r\n                .build();\r\n    }\r\n}\r\n\r\n```\r\nI wanted to convert this code into application.yml configuration, and here&#39;s the modified version:\r\n\r\n```yml\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      routes:\r\n        - id: customer-service\r\n          uri: http://localhost:8082\r\n          predicates:\r\n            - Path=/api/customers/{customerId}\r\n            - Path=/api/customers\r\n        - id: order-service\r\n          uri: http://localhost:8081\r\n          predicates:\r\n            - Path=/api/orders\r\n            - Path=/api/orders/**\r\n            - Path=/api/customers/{customerId}/orders\r\n            - Path=/api/customers/{customerId}/orders/**\r\n\r\n```\r\n\r\nRegrettably, the second configuration in the .yml file is not functioning as expected. I anticipated both configurations to be equivalent. Can you please help me identify what I might be overlooking?","title":"Routes via application.yaml for Spring Cloud Gateway is not working","body":"<p>I am sharing the routing code for Spring Cloud Gateway that functions correctly in my application:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class Config {\n\n    @Bean\n    public RouteLocator routeLocator(RouteLocatorBuilder builder) {\n        return builder.routes()\n                .route(&quot;customer-service&quot;, r -&gt; r\n                        .path(&quot;/api/customers/{customerId}&quot;)\n                        .or()\n                        .path(&quot;/api/customers&quot;)\n                        .uri(&quot;http://localhost:8082&quot;)\n                )\n                .route(&quot;order-service&quot;, r -&gt; r\n                        .path(&quot;/api/orders&quot;)\n                        .or()\n                        .path(&quot;/api/orders/**&quot;)\n                        .or()\n                        .path(&quot;/api/customers/{customerId}/orders&quot;)\n                        .or()\n                        .path(&quot;/api/customers/{customerId}/orders/**&quot;)\n                        .uri(&quot;http://localhost:8081&quot;)\n                )\n                .build();\n    }\n}\n\n</code></pre>\n<p>I wanted to convert this code into application.yml configuration, and here's the modified version:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cloud:\n    gateway:\n      routes:\n        - id: customer-service\n          uri: http://localhost:8082\n          predicates:\n            - Path=/api/customers/{customerId}\n            - Path=/api/customers\n        - id: order-service\n          uri: http://localhost:8081\n          predicates:\n            - Path=/api/orders\n            - Path=/api/orders/**\n            - Path=/api/customers/{customerId}/orders\n            - Path=/api/customers/{customerId}/orders/**\n\n</code></pre>\n<p>Regrettably, the second configuration in the .yml file is not functioning as expected. I anticipated both configurations to be equivalent. Can you please help me identify what I might be overlooking?</p>\n"},{"tags":["java","elasticsearch","kubernetes","kubernetes-helm"],"comments":[{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1684947045,"post_id":76325252,"comment_id":134593122,"body_markdown":"Check if you have enough node memory","body":"Check if you have enough node memory"},{"owner":{"account_id":4607785,"reputation":71,"user_id":3736766,"display_name":"linuxkaran"},"score":0,"creation_date":1684950254,"post_id":76325252,"comment_id":134593827,"body_markdown":"If there is no enough memory then k8s will not schedule the POD in that node right?","body":"If there is no enough memory then k8s will not schedule the POD in that node right?"},{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1684989690,"post_id":76325252,"comment_id":134598737,"body_markdown":"I have few issues these days all kind of random errors come class loading was once of them. This try `kubectl get events`","body":"I have few issues these days all kind of random errors come class loading was once of them. This try <code>kubectl get events</code>"},{"owner":{"account_id":4607785,"reputation":71,"user_id":3736766,"display_name":"linuxkaran"},"score":0,"creation_date":1685378055,"post_id":76325252,"comment_id":134648613,"body_markdown":"Its not giving any usefull information. I tried to use elasticsearch docker version 8.5.1 and whenever the third replica comes up it started to throw class not found exception for some of the Azure relevant plugins. Bit strange. Whatever the version use the third pod initialization always fails with some class not found error","body":"Its not giving any usefull information. I tried to use elasticsearch docker version 8.5.1 and whenever the third replica comes up it started to throw class not found exception for some of the Azure relevant plugins. Bit strange. Whatever the version use the third pod initialization always fails with some class not found error"}],"owner":{"account_id":4607785,"reputation":71,"user_id":3736766,"display_name":"linuxkaran"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699711474,"creation_date":1684942728,"question_id":76325252,"body_markdown":"I deployed Elasticsearch 7.17.9 using a helm chart in the AWS EKS cluster. While installing/upgrading the deployment randomly one POD goes to an ERROR state. Below is the exception found in the POD logs. Why this is happening even though all three replicas use the same image? This occurs even though X-PACK security is disabled.\r\n\r\n    ElasticsearchException[Could not find plugin class [org.elasticsearch.xpack.security.Security]]; nested: ClassNotFoundException[org.elasticsearch.xpack.security.Security];\r\n    Likely root cause: java.lang.ClassNotFoundException: org.elasticsearch.xpack.security.Security\r\n    \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\r\n    \tat java.base/java.net.FactoryURLClassLoader.loadClass(URLClassLoader.java:872)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \tat java.base/java.lang.Class.forName0(Native Method)\r\n    \tat java.base/java.lang.Class.forName(Class.java:495)\r\n    \tat java.base/java.lang.Class.forName(Class.java:474)\r\n    \tat org.elasticsearch.plugins.PluginsService.loadPluginClass(PluginsService.java:777)\r\n    \tat org.elasticsearch.plugins.PluginsService.loadBundle(PluginsService.java:738)\r\n    \tat org.elasticsearch.plugins.PluginsService.loadBundles(PluginsService.java:533)\r\n    \tat org.elasticsearch.plugins.PluginsService.&lt;init&gt;(PluginsService.java:170)\r\n    \tat org.elasticsearch.node.Node.&lt;init&gt;(Node.java:411)\r\n    \tat org.elasticsearch.node.Node.&lt;init&gt;(Node.java:309)\r\n    \tat org.elasticsearch.bootstrap.Bootstrap$5.&lt;init&gt;(Bootstrap.java:234)\r\n    \tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:234)\r\n    \tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:434)\r\n    \tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:169)\r\n    \tat org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:160)\r\n    \tat org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:77)\r\n    \tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:112)\r\n    \tat org.elasticsearch.cli.Command.main(Command.java:77)\r\n    \tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:125)\r\n    \tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:80)\r\n    For complete error details, refer to the log at /usr/share/elasticsearch/logs/elasticsearch.log\r\n    2023-05-23 19:03:59,695328 UTC [432] INFO  Main.cc@111 Parent process died - ML controller exiting","title":"Elasticsearch POD in kubernetes randomly fails with error &quot;java.lang.ClassNotFoundException: org.elasticsearch.xpack.security.Security&quot;","body":"<p>I deployed Elasticsearch 7.17.9 using a helm chart in the AWS EKS cluster. While installing/upgrading the deployment randomly one POD goes to an ERROR state. Below is the exception found in the POD logs. Why this is happening even though all three replicas use the same image? This occurs even though X-PACK security is disabled.</p>\n<pre><code>ElasticsearchException[Could not find plugin class [org.elasticsearch.xpack.security.Security]]; nested: ClassNotFoundException[org.elasticsearch.xpack.security.Security];\nLikely root cause: java.lang.ClassNotFoundException: org.elasticsearch.xpack.security.Security\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\n    at java.base/java.net.FactoryURLClassLoader.loadClass(URLClassLoader.java:872)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:495)\n    at java.base/java.lang.Class.forName(Class.java:474)\n    at org.elasticsearch.plugins.PluginsService.loadPluginClass(PluginsService.java:777)\n    at org.elasticsearch.plugins.PluginsService.loadBundle(PluginsService.java:738)\n    at org.elasticsearch.plugins.PluginsService.loadBundles(PluginsService.java:533)\n    at org.elasticsearch.plugins.PluginsService.&lt;init&gt;(PluginsService.java:170)\n    at org.elasticsearch.node.Node.&lt;init&gt;(Node.java:411)\n    at org.elasticsearch.node.Node.&lt;init&gt;(Node.java:309)\n    at org.elasticsearch.bootstrap.Bootstrap$5.&lt;init&gt;(Bootstrap.java:234)\n    at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:234)\n    at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:434)\n    at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:169)\n    at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:160)\n    at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:77)\n    at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:112)\n    at org.elasticsearch.cli.Command.main(Command.java:77)\n    at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:125)\n    at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:80)\nFor complete error details, refer to the log at /usr/share/elasticsearch/logs/elasticsearch.log\n2023-05-23 19:03:59,695328 UTC [432] INFO  Main.cc@111 Parent process died - ML controller exiting\n</code></pre>\n"},{"tags":["java","oop","filereader","hashset","system.out"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":3,"creation_date":1699502050,"post_id":77450284,"comment_id":136540953,"body_markdown":"Please don&#39;t show links to code; show the code - questions should stand alone. In your case, show the code that adds phones to your list. Ideally, create an [mcve] and post a link to that.","body":"Please don&#39;t show links to code; show the code - questions should stand alone. In your case, show the code that adds phones to your list. Ideally, create an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and post a link to that."},{"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"score":1,"creation_date":1699502622,"post_id":77450284,"comment_id":136540995,"body_markdown":"You can check the length of a list with its `.size()` method, in case that helps you narrow down where you&#39;re looking for the error.","body":"You can check the length of a list with its <code>.size()</code> method, in case that helps you narrow down where you&#39;re looking for the error."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699514068,"post_id":77450284,"comment_id":136542039,"body_markdown":"based on `addPhone`, the `bestPhones` list will probably&#185; only hold more than one phone, if these are kind of equals regarding `dominates` (and *dominating* all others) || **&#185;** I would have to debug this code to be sure but it is too much code to do so. But I believe you can debug it yourself and learn a lot about your code. || Also recommended to add a `toString` method to the `Phone` class!","body":"based on <code>addPhone</code>, the <code>bestPhones</code> list will probably&#185; only hold more than one phone, if these are kind of equals regarding <code>dominates</code> (and <i>dominating</i> all others) || <b>&#185;</b> I would have to debug this code to be sure but it is too much code to do so. But I believe you can debug it yourself and learn a lot about your code. || Also recommended to add a <code>toString</code> method to the <code>Phone</code> class!"},{"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"score":0,"creation_date":1699544635,"post_id":77450284,"comment_id":136548048,"body_markdown":"I suggest you read again the description of what `dominates()` is supposed to do, and check how your code for that handles all the different situations it might encounter. It could help to test it individually: create two objects manually with `new Phone(..., ...)`, call `dominate()`, and see if it does what it&#39;s supposed to.","body":"I suggest you read again the description of what <code>dominates()</code> is supposed to do, and check how your code for that handles all the different situations it might encounter. It could help to test it individually: create two objects manually with <code>new Phone(..., ...)</code>, call <code>dominate()</code>, and see if it does what it&#39;s supposed to."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699512746,"creation_date":1699512746,"answer_id":77451035,"question_id":77450284,"body_markdown":"To me, this is rather confusing. Why couldn&#39;t the best phones have both the largest screen size and the most battery capacity as well? Which is to take precedence over one phone from another phone towards Screen Size and Battery Capacity? Shouldn&#39;t it be configurable (to some extent) to accommodate specific needs? \r\n\r\nTry the small runnable code below (read comments in code). Be sure to play with the values for the `numberOfBestPhonesToFind` and `precedence` member variables:\r\n\r\n```\r\npublic class GetBestPhoneDemo {\r\n\r\n    /* Will Hold the max Screen size of a phone found \r\n       that matches desired precedence:           */\r\n    double maxScreenSize;\r\n    \r\n    /* Will Hold the max Battery Capacity of a phone \r\n       found that matches desired precedence:     */\r\n    int maxBatteryCapacity;\r\n    \r\n    // The number of &quot;Best Phones&quot; this app is to acquire:\r\n    int numberOfBestPhonesToFind = 2;\r\n\r\n    /* 0  = Both Screen Size &amp; Battery Capacity take equal precedence. \r\n       1  = Screen Size takes more precedence than Battery Capacity.\r\n       2  = Battery Capacity takes more precedence than Screen Size.  \r\n       3  = Screen Size takes full precedence.\r\n       4  = Battery Capacity takes full precedence.         \r\n       5+ = Nothing is displayed.                             */\r\n    int precedence = 0;\r\n    \r\n    /* Internally used counter to keep track of \r\n       the number of best phones acquired:   */\r\n    int phoneCount = 0;\r\n\r\n    /* List Interface of String to hold whatever file\r\n       lines that are deemed to be &quot;Best Phones&quot;:  */\r\n    java.util.List&lt;String&gt; bestPhonesList = new java.util.ArrayList&lt;&gt;();\r\n    \r\n    // Will hold the currently processed &quot;Best Phone&quot; data Line:\r\n    String currentBestPhone = &quot;&quot;;\r\n    \r\n    \r\n    \r\n    // The `main()` method - Application entry point....\r\n    public static void main(String[] args) {\r\n        /* App started this way to avoid the need for statics\r\n           unless we really want them:        */\r\n        new GetBestPhoneDemo().startApp(args);\r\n    }\r\n\r\n    private void startApp(String[] args) {\r\n        java.io.File dataFile = new java.io.File(&quot;Phone-Data-List.txt&quot;); // OR &quot;Phone-Data-Short.txt&quot;\r\n        while (phoneCount &lt; numberOfBestPhonesToFind) {\r\n            maxScreenSize = Double.MIN_VALUE;\r\n            maxBatteryCapacity = Integer.MIN_VALUE;\r\n            String bestPhone = &quot;&quot;;\r\n            \r\n            // &#39;Try With Resources&#39; used here to auto-close reader:\r\n            try (java.util.Scanner reader = new java.util.Scanner(dataFile)) {\r\n                String line = &quot;&quot;;\r\n                while (reader.hasNextLine()) {\r\n                    line = reader.nextLine();\r\n                    line = line.trim();\r\n                    /* Skip blank lines (should there be any) and skip past \r\n                       any phone that is already in the `bestPhoneList`  */\r\n                    if (line.isEmpty() || bestPhonesList.contains(line)) {\r\n                        continue;\r\n                    }\r\n                    \r\n                    // Split the currently read in data line...\r\n                    String[] lineParts = line.split(&quot;\\\\s+&quot;);\r\n                    \r\n                    // Get the Battery Capacity from data line:\r\n                    int batCap = Integer.parseInt(lineParts[lineParts.length - 1]);\r\n                    \r\n                    // Get the Screen Size from data line:\r\n                    double scrnSize = Double.parseDouble(lineParts[lineParts.length - 2]);\r\n                    \r\n                    // Set a possible best phone based on the desired precedence:\r\n                    if (precedence == 0 &amp;&amp; (scrnSize &gt;= maxScreenSize &amp;&amp; batCap &gt;= maxBatteryCapacity)) {\r\n                        setBestPhone(scrnSize, batCap, line);\r\n                    } \r\n                    else if (precedence == 1 &amp;&amp; (scrnSize &gt; maxScreenSize &amp;&amp; batCap &gt;= maxBatteryCapacity)) {\r\n                        setBestPhone(scrnSize, batCap, line);\r\n                    } \r\n                    else if (precedence == 2 &amp;&amp; (scrnSize &gt;= maxScreenSize &amp;&amp; batCap &gt; maxBatteryCapacity)) {\r\n                        setBestPhone(scrnSize, batCap, line);\r\n                    } \r\n                    else if (precedence == 3 &amp;&amp; scrnSize &gt; maxScreenSize) {\r\n                        setBestPhone(scrnSize, batCap, line);\r\n                    }\r\n                    else if (precedence == 4 &amp;&amp; (batCap &gt; maxBatteryCapacity)) {\r\n                        setBestPhone(scrnSize, batCap, line);\r\n                    } \r\n                }\r\n            }\r\n            catch (java.io.FileNotFoundException ex) {\r\n                System.err.println(ex.getMessage());\r\n                return;\r\n            }\r\n            \r\n            /* Add the determined &quot;Best Phone&quot; to the `bestPhonesList` \r\n               List providing it isn&#39;t already in there:        */\r\n            if (!bestPhonesList.contains(currentBestPhone)) {\r\n                bestPhonesList.add(currentBestPhone);\r\n                phoneCount++; // Increment the phone count aquired, by 1:\r\n            }\r\n            \r\n            // Read the file again to get another best phone (if needed).\r\n        }\r\n                \r\n        // Display the Best Phones in Console Window:\r\n        for (String str : bestPhonesList) {\r\n            System.out.println(str);\r\n        }\r\n    }\r\n\r\n    private void setBestPhone(double screenSize, int batteryCapacity, String bestPhone) {\r\n        maxScreenSize = screenSize;\r\n        maxBatteryCapacity = batteryCapacity;\r\n        currentBestPhone = bestPhone;\r\n    }\r\n}\r\n```\r\n\r\nYou may need to tweak it a bit but, perhaps you can get something from it.\r\n","title":"I made a program that should send me two &quot;best phones&quot; from a list of phones in a text file, but only shows one?","body":"<p>To me, this is rather confusing. Why couldn't the best phones have both the largest screen size and the most battery capacity as well? Which is to take precedence over one phone from another phone towards Screen Size and Battery Capacity? Shouldn't it be configurable (to some extent) to accommodate specific needs?</p>\n<p>Try the small runnable code below (read comments in code). Be sure to play with the values for the <code>numberOfBestPhonesToFind</code> and <code>precedence</code> member variables:</p>\n<pre><code>public class GetBestPhoneDemo {\n\n    /* Will Hold the max Screen size of a phone found \n       that matches desired precedence:           */\n    double maxScreenSize;\n    \n    /* Will Hold the max Battery Capacity of a phone \n       found that matches desired precedence:     */\n    int maxBatteryCapacity;\n    \n    // The number of &quot;Best Phones&quot; this app is to acquire:\n    int numberOfBestPhonesToFind = 2;\n\n    /* 0  = Both Screen Size &amp; Battery Capacity take equal precedence. \n       1  = Screen Size takes more precedence than Battery Capacity.\n       2  = Battery Capacity takes more precedence than Screen Size.  \n       3  = Screen Size takes full precedence.\n       4  = Battery Capacity takes full precedence.         \n       5+ = Nothing is displayed.                             */\n    int precedence = 0;\n    \n    /* Internally used counter to keep track of \n       the number of best phones acquired:   */\n    int phoneCount = 0;\n\n    /* List Interface of String to hold whatever file\n       lines that are deemed to be &quot;Best Phones&quot;:  */\n    java.util.List&lt;String&gt; bestPhonesList = new java.util.ArrayList&lt;&gt;();\n    \n    // Will hold the currently processed &quot;Best Phone&quot; data Line:\n    String currentBestPhone = &quot;&quot;;\n    \n    \n    \n    // The `main()` method - Application entry point....\n    public static void main(String[] args) {\n        /* App started this way to avoid the need for statics\n           unless we really want them:        */\n        new GetBestPhoneDemo().startApp(args);\n    }\n\n    private void startApp(String[] args) {\n        java.io.File dataFile = new java.io.File(&quot;Phone-Data-List.txt&quot;); // OR &quot;Phone-Data-Short.txt&quot;\n        while (phoneCount &lt; numberOfBestPhonesToFind) {\n            maxScreenSize = Double.MIN_VALUE;\n            maxBatteryCapacity = Integer.MIN_VALUE;\n            String bestPhone = &quot;&quot;;\n            \n            // 'Try With Resources' used here to auto-close reader:\n            try (java.util.Scanner reader = new java.util.Scanner(dataFile)) {\n                String line = &quot;&quot;;\n                while (reader.hasNextLine()) {\n                    line = reader.nextLine();\n                    line = line.trim();\n                    /* Skip blank lines (should there be any) and skip past \n                       any phone that is already in the `bestPhoneList`  */\n                    if (line.isEmpty() || bestPhonesList.contains(line)) {\n                        continue;\n                    }\n                    \n                    // Split the currently read in data line...\n                    String[] lineParts = line.split(&quot;\\\\s+&quot;);\n                    \n                    // Get the Battery Capacity from data line:\n                    int batCap = Integer.parseInt(lineParts[lineParts.length - 1]);\n                    \n                    // Get the Screen Size from data line:\n                    double scrnSize = Double.parseDouble(lineParts[lineParts.length - 2]);\n                    \n                    // Set a possible best phone based on the desired precedence:\n                    if (precedence == 0 &amp;&amp; (scrnSize &gt;= maxScreenSize &amp;&amp; batCap &gt;= maxBatteryCapacity)) {\n                        setBestPhone(scrnSize, batCap, line);\n                    } \n                    else if (precedence == 1 &amp;&amp; (scrnSize &gt; maxScreenSize &amp;&amp; batCap &gt;= maxBatteryCapacity)) {\n                        setBestPhone(scrnSize, batCap, line);\n                    } \n                    else if (precedence == 2 &amp;&amp; (scrnSize &gt;= maxScreenSize &amp;&amp; batCap &gt; maxBatteryCapacity)) {\n                        setBestPhone(scrnSize, batCap, line);\n                    } \n                    else if (precedence == 3 &amp;&amp; scrnSize &gt; maxScreenSize) {\n                        setBestPhone(scrnSize, batCap, line);\n                    }\n                    else if (precedence == 4 &amp;&amp; (batCap &gt; maxBatteryCapacity)) {\n                        setBestPhone(scrnSize, batCap, line);\n                    } \n                }\n            }\n            catch (java.io.FileNotFoundException ex) {\n                System.err.println(ex.getMessage());\n                return;\n            }\n            \n            /* Add the determined &quot;Best Phone&quot; to the `bestPhonesList` \n               List providing it isn't already in there:        */\n            if (!bestPhonesList.contains(currentBestPhone)) {\n                bestPhonesList.add(currentBestPhone);\n                phoneCount++; // Increment the phone count aquired, by 1:\n            }\n            \n            // Read the file again to get another best phone (if needed).\n        }\n                \n        // Display the Best Phones in Console Window:\n        for (String str : bestPhonesList) {\n            System.out.println(str);\n        }\n    }\n\n    private void setBestPhone(double screenSize, int batteryCapacity, String bestPhone) {\n        maxScreenSize = screenSize;\n        maxBatteryCapacity = batteryCapacity;\n        currentBestPhone = bestPhone;\n    }\n}\n</code></pre>\n<p>You may need to tweak it a bit but, perhaps you can get something from it.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699709612,"creation_date":1699709612,"answer_id":77465267,"question_id":77450284,"body_markdown":"This line of your code (in method `parse` of class `PhoneParser`) will **always** return &quot;false&quot;.\r\n```java\r\nif (scanner.hasNextDouble() &amp;&amp; scanner.hasNextInt()) {\r\n```\r\nYou need to make it a nested `if`, i.e.\r\n```java\r\nif (scanner.hasNextDouble()) {\r\n    double screenSize = scanner.nextDouble();\r\n    if (scanner.hasNextInt()) {\r\n        int batteryCapacity = scanner.nextInt();\r\n        return new Phone(model, screenSize, batteryCapacity);\r\n    }\r\n}\r\n```\r\nInitially, `bestPhones` (in class `PhoneList`) is empty. So the first line of file &quot;phone-data.txt&quot; must be added to `bestPhones` since there are no other phones to compare it to and therefore it must be a &quot;best phone&quot;. Your code does not handle that situation.\r\n\r\nMethod `dominates` (in class `Phone`) does not implement the criteria as stated in the method comments. It should be:\r\n```java\r\nreturn (this.getScreenSize() &gt; other.getScreenSize()  &amp;&amp;  getBatteryCapacity() &gt;= other.getBatteryCapacity()) ||\r\n       (this.getBatteryCapacity() &gt; other.getBatteryCapacity()  &amp;&amp;  getScreenSize() &gt;= other.getScreenSize());\r\n```\r\nFor the sake of completeness, here is the code of all four classes, including the changes described above.\r\n\r\nClass `Phone`\r\n```java\r\npublic class Phone {\r\n    private final String model;\r\n    private final double screenSize;\r\n    private final int batteryCapacity;\r\n\r\n    public Phone(String model, double screenSize, int batteryCapacity) {\r\n        // : Ensure the screenSize and batteryCapacity are positive\r\n        // by throwing an IllegalArgumentException otherwise\r\n\r\n        //TASK 1:\r\n        if (screenSize &lt;0 || batteryCapacity &lt;=0) {\r\n            throw new IllegalArgumentException(&quot;Screen size and/or battery capacity must not be positive&quot;);\r\n        }\r\n        this.model = model;\r\n        this.screenSize = screenSize;\r\n        this.batteryCapacity = batteryCapacity;\r\n    }\r\n\r\n    // Gets the phone&#39;s model name.\r\n    public String getModel() {\r\n        return model;\r\n    }\r\n\r\n    // Gets the phone&#39;s diagonal screen size (in inches).\r\n    public double getScreenSize() {\r\n        return screenSize;\r\n    }\r\n\r\n    // Gets the phone&#39;s battery capacity (in mAh).\r\n    public int getBatteryCapacity() {\r\n        return batteryCapacity;\r\n    }\r\n\r\n    /* Determines whether this phone &quot;dominates&quot; another phone, meaning\r\n     * this phone is better in one criterion, and at least as good in the\r\n     * other criterion. */\r\n    public boolean dominates(Phone other) {\r\n        // : implement this method\r\n        // Task 2:\r\n        return (this.getScreenSize() &gt; other.getScreenSize()  &amp;&amp;  getBatteryCapacity() &gt;= other.getBatteryCapacity()) ||\r\n               (this.getBatteryCapacity() &gt; other.getBatteryCapacity()  &amp;&amp;  getScreenSize() &gt;= other.getScreenSize());\r\n    }\r\n}\r\n```\r\nClass `PhoneLIst`\r\n```java\r\nimport java.util.*;\r\n\r\npublic class PhoneList {\r\n    private final List&lt;Phone&gt; allPhones = new ArrayList&lt;&gt;();\r\n    private final Set&lt;Phone&gt; bestPhones = new HashSet&lt;&gt;();\r\n\r\n    /*\r\n     * Adds a phone to the list.\r\n     */\r\n    public void addPhone(Phone phone) {\r\n        allPhones.add(phone);\r\n        if (bestPhones.isEmpty()) {\r\n            bestPhones.add(phone);\r\n        }\r\n        else {\r\n\r\n            // remove from bestPhones if dominated by the new phone\r\n            Iterator&lt;Phone&gt; iter = bestPhones.iterator();\r\n            while (iter.hasNext()) {\r\n                Phone other = iter.next();\r\n                if (phone.dominates(other)) {\r\n                    iter.remove();\r\n                }\r\n            }\r\n\r\n            // only add the new phone to bestPhones if it&#39;s not dominated\r\n            if (!phoneIsDominated(phone)) {\r\n                bestPhones.add(phone);\r\n            }\r\n        }\r\n    }\r\n\r\n    /*\r\n     * Determines whether a phone is dominated by any other phone.\r\n     */\r\n    public boolean phoneIsDominated(Phone phone) {\r\n        // only need to compare with the undominated phones\r\n        for (Phone other : bestPhones) {\r\n            if (other.dominates(phone)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /*\r\n     * Gets all phones. The list returned is unmodifiable.\r\n     */\r\n    public List&lt;Phone&gt; getAllPhones() {\r\n        // : return an unmodifiable view of the list\r\n        // Task 3.1:\r\n        // return allPhones;\r\n        return Collections.unmodifiableList(allPhones);\r\n        // return allPhones;\r\n    }\r\n\r\n    /*\r\n     * Gets all phones which are not dominated by another phone. The collection\r\n     * returned is unmodifiable.\r\n     */\r\n    public Collection&lt;Phone&gt; getBestPhones() {\r\n        // : return an unmodifiable view of the set\r\n        // Task 3.2:\r\n        return Collections.unmodifiableSet(bestPhones);\r\n        // return bestPhones;\r\n    }\r\n}\r\n```\r\nClass `PhoneParser`\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.util.Scanner;\r\n\r\npublic class PhoneParser {\r\n    /*\r\n     * Parses a phone data string, in the following format:\r\n     * \r\n     * model screenSize batteryCapacity\r\n     * \r\n     * The model name is encoded with underscores instead of spaces.\r\n     */\r\n    public static Phone parse(String data) {\r\n        // : parse the phone data string, and return a Phone object.\r\n        // you may use string manipulation, a regex, or a Scanner\r\n        // Task 4:\r\n        try (Scanner scanner = new Scanner(data)) {\r\n            // set delimiter to split on spaces\r\n            scanner.useDelimiter(&quot; &quot;);\r\n\r\n            if (scanner.hasNext()) {\r\n                String model = scanner.next().replace(&quot;_&quot;, &quot; &quot;);\r\n                if (scanner.hasNextDouble()) {\r\n                    double screenSize = scanner.nextDouble();\r\n                    if (scanner.hasNextInt()) {\r\n                        int batteryCapacity = scanner.nextInt();\r\n                        return new Phone(model, screenSize, batteryCapacity);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        // Returns null if parsing fails\r\n        return null;\r\n    }\r\n\r\n    /*\r\n     * Returns a PhoneList by parsing a text file containing the phone data.\r\n     */\r\n    public static PhoneList parseFile(String filename) throws IOException {\r\n        // : create a PhoneList TASK 5:\r\n        PhoneList phoneList = new PhoneList();\r\n\r\n        // : create a BufferedReader to read from the file TASK 5:\r\n        try (BufferedReader reader = new BufferedReader(new FileReader(filename))) {\r\n\r\n            // : for each line, parse it as a Phone and add it to the list TASK 5:\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                Phone phone = parse(line);\r\n                if (phone != null) {\r\n                    phoneList.addPhone(phone);\r\n                }\r\n            }\r\n        }\r\n        return phoneList;\r\n    }\r\n}\r\n```\r\nClass `FindBestPhones`\r\n```java\r\nimport java.io.IOException;\r\nimport java.util.Collection;\r\n\r\npublic class FindBestPhones {\r\n    public static String PHONES_FILE = &quot;phone-data.txt&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            PhoneList phoneList = PhoneParser.parseFile(PHONES_FILE);\r\n\r\n            // Get the best phones from the phone list\r\n            Collection&lt;Phone&gt; bestPhones = phoneList.getBestPhones();\r\n\r\n            // Print the model names of the best phones\r\n            System.out.println(&quot;Best Phones:&quot;);\r\n            for (Phone phone : bestPhones) {\r\n                System.out.println(phone.getModel());\r\n            }\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nThis is the output I get:\r\n```none\r\nBest Phones:\r\nOukitel K10\r\nXiaomi Mi Max 2 64GB\r\nDoogee BL12000\r\nAsus ZenFone 3 Ultra ZU680KL (4GB RAM), 64GB\r\n```\r\n","title":"I made a program that should send me two &quot;best phones&quot; from a list of phones in a text file, but only shows one?","body":"<p>This line of your code (in method <code>parse</code> of class <code>PhoneParser</code>) will <strong>always</strong> return &quot;false&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (scanner.hasNextDouble() &amp;&amp; scanner.hasNextInt()) {\n</code></pre>\n<p>You need to make it a nested <code>if</code>, i.e.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (scanner.hasNextDouble()) {\n    double screenSize = scanner.nextDouble();\n    if (scanner.hasNextInt()) {\n        int batteryCapacity = scanner.nextInt();\n        return new Phone(model, screenSize, batteryCapacity);\n    }\n}\n</code></pre>\n<p>Initially, <code>bestPhones</code> (in class <code>PhoneList</code>) is empty. So the first line of file &quot;phone-data.txt&quot; must be added to <code>bestPhones</code> since there are no other phones to compare it to and therefore it must be a &quot;best phone&quot;. Your code does not handle that situation.</p>\n<p>Method <code>dominates</code> (in class <code>Phone</code>) does not implement the criteria as stated in the method comments. It should be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return (this.getScreenSize() &gt; other.getScreenSize()  &amp;&amp;  getBatteryCapacity() &gt;= other.getBatteryCapacity()) ||\n       (this.getBatteryCapacity() &gt; other.getBatteryCapacity()  &amp;&amp;  getScreenSize() &gt;= other.getScreenSize());\n</code></pre>\n<p>For the sake of completeness, here is the code of all four classes, including the changes described above.</p>\n<p>Class <code>Phone</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Phone {\n    private final String model;\n    private final double screenSize;\n    private final int batteryCapacity;\n\n    public Phone(String model, double screenSize, int batteryCapacity) {\n        // : Ensure the screenSize and batteryCapacity are positive\n        // by throwing an IllegalArgumentException otherwise\n\n        //TASK 1:\n        if (screenSize &lt;0 || batteryCapacity &lt;=0) {\n            throw new IllegalArgumentException(&quot;Screen size and/or battery capacity must not be positive&quot;);\n        }\n        this.model = model;\n        this.screenSize = screenSize;\n        this.batteryCapacity = batteryCapacity;\n    }\n\n    // Gets the phone's model name.\n    public String getModel() {\n        return model;\n    }\n\n    // Gets the phone's diagonal screen size (in inches).\n    public double getScreenSize() {\n        return screenSize;\n    }\n\n    // Gets the phone's battery capacity (in mAh).\n    public int getBatteryCapacity() {\n        return batteryCapacity;\n    }\n\n    /* Determines whether this phone &quot;dominates&quot; another phone, meaning\n     * this phone is better in one criterion, and at least as good in the\n     * other criterion. */\n    public boolean dominates(Phone other) {\n        // : implement this method\n        // Task 2:\n        return (this.getScreenSize() &gt; other.getScreenSize()  &amp;&amp;  getBatteryCapacity() &gt;= other.getBatteryCapacity()) ||\n               (this.getBatteryCapacity() &gt; other.getBatteryCapacity()  &amp;&amp;  getScreenSize() &gt;= other.getScreenSize());\n    }\n}\n</code></pre>\n<p>Class <code>PhoneLIst</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class PhoneList {\n    private final List&lt;Phone&gt; allPhones = new ArrayList&lt;&gt;();\n    private final Set&lt;Phone&gt; bestPhones = new HashSet&lt;&gt;();\n\n    /*\n     * Adds a phone to the list.\n     */\n    public void addPhone(Phone phone) {\n        allPhones.add(phone);\n        if (bestPhones.isEmpty()) {\n            bestPhones.add(phone);\n        }\n        else {\n\n            // remove from bestPhones if dominated by the new phone\n            Iterator&lt;Phone&gt; iter = bestPhones.iterator();\n            while (iter.hasNext()) {\n                Phone other = iter.next();\n                if (phone.dominates(other)) {\n                    iter.remove();\n                }\n            }\n\n            // only add the new phone to bestPhones if it's not dominated\n            if (!phoneIsDominated(phone)) {\n                bestPhones.add(phone);\n            }\n        }\n    }\n\n    /*\n     * Determines whether a phone is dominated by any other phone.\n     */\n    public boolean phoneIsDominated(Phone phone) {\n        // only need to compare with the undominated phones\n        for (Phone other : bestPhones) {\n            if (other.dominates(phone)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    /*\n     * Gets all phones. The list returned is unmodifiable.\n     */\n    public List&lt;Phone&gt; getAllPhones() {\n        // : return an unmodifiable view of the list\n        // Task 3.1:\n        // return allPhones;\n        return Collections.unmodifiableList(allPhones);\n        // return allPhones;\n    }\n\n    /*\n     * Gets all phones which are not dominated by another phone. The collection\n     * returned is unmodifiable.\n     */\n    public Collection&lt;Phone&gt; getBestPhones() {\n        // : return an unmodifiable view of the set\n        // Task 3.2:\n        return Collections.unmodifiableSet(bestPhones);\n        // return bestPhones;\n    }\n}\n</code></pre>\n<p>Class <code>PhoneParser</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.Scanner;\n\npublic class PhoneParser {\n    /*\n     * Parses a phone data string, in the following format:\n     * \n     * model screenSize batteryCapacity\n     * \n     * The model name is encoded with underscores instead of spaces.\n     */\n    public static Phone parse(String data) {\n        // : parse the phone data string, and return a Phone object.\n        // you may use string manipulation, a regex, or a Scanner\n        // Task 4:\n        try (Scanner scanner = new Scanner(data)) {\n            // set delimiter to split on spaces\n            scanner.useDelimiter(&quot; &quot;);\n\n            if (scanner.hasNext()) {\n                String model = scanner.next().replace(&quot;_&quot;, &quot; &quot;);\n                if (scanner.hasNextDouble()) {\n                    double screenSize = scanner.nextDouble();\n                    if (scanner.hasNextInt()) {\n                        int batteryCapacity = scanner.nextInt();\n                        return new Phone(model, screenSize, batteryCapacity);\n                    }\n                }\n            }\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n        // Returns null if parsing fails\n        return null;\n    }\n\n    /*\n     * Returns a PhoneList by parsing a text file containing the phone data.\n     */\n    public static PhoneList parseFile(String filename) throws IOException {\n        // : create a PhoneList TASK 5:\n        PhoneList phoneList = new PhoneList();\n\n        // : create a BufferedReader to read from the file TASK 5:\n        try (BufferedReader reader = new BufferedReader(new FileReader(filename))) {\n\n            // : for each line, parse it as a Phone and add it to the list TASK 5:\n            String line;\n            while ((line = reader.readLine()) != null) {\n                Phone phone = parse(line);\n                if (phone != null) {\n                    phoneList.addPhone(phone);\n                }\n            }\n        }\n        return phoneList;\n    }\n}\n</code></pre>\n<p>Class <code>FindBestPhones</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.util.Collection;\n\npublic class FindBestPhones {\n    public static String PHONES_FILE = &quot;phone-data.txt&quot;;\n\n    public static void main(String[] args) {\n        try {\n            PhoneList phoneList = PhoneParser.parseFile(PHONES_FILE);\n\n            // Get the best phones from the phone list\n            Collection&lt;Phone&gt; bestPhones = phoneList.getBestPhones();\n\n            // Print the model names of the best phones\n            System.out.println(&quot;Best Phones:&quot;);\n            for (Phone phone : bestPhones) {\n                System.out.println(phone.getModel());\n            }\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>This is the output I get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Best Phones:\nOukitel K10\nXiaomi Mi Max 2 64GB\nDoogee BL12000\nAsus ZenFone 3 Ultra ZU680KL (4GB RAM), 64GB\n</code></pre>\n"}],"owner":{"account_id":27352662,"reputation":36,"user_id":20861575,"display_name":"Tariq"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1699709612,"creation_date":1699500209,"question_id":77450284,"body_markdown":"This is a link to my java project: https://github.com/Mundanest/Java-files/tree/main/Lab%207 \r\n\r\n(This is my first time using github, as I&#39;m not sure how else to link a java project folder so I might have messed up)(code also at bottom)\r\n\r\nIt holds 4 classes: \r\n\r\n- one for printing, **FindBestPhone.java**\r\n\r\n- one for creating a Phone object, **Phone.java**\r\n\r\n- one for adding phones to various lists, **PhoneList.java**\r\n\r\n- and one for parsing the text, **PhoneParser.java**\r\n\r\nThe main aim is to find the two best phones from a long list of phones in &quot;phone-data.txt&quot;.\r\n\r\n(one phone has the highest battery capacity and another with largest screen size)\r\n\r\n----------\r\n\r\nI was given an example text file &quot;phone-data-short.txt&quot; with the best phones being the **Samsung Galaxy S8 Plus** and **Huawei Mate 10 Pro**.\r\n\r\nMy problem with it is that when I try to print the two phones (from phone-data.txt) it only prints one phone.\r\n\r\nI&#39;m not sure if I&#39;m trying to print them incorrectly or if it&#39;s in the way I am storing the list after calculating the best phones.\r\n\r\nMy best guess is that the &quot;getBestPhones&quot; method in PhoneList.java is returning wrong or my main &quot;FindBestPhones&quot; is asking for the best phones incorrectly.\r\n\r\nI&#39;ve tried replacing how I return:\r\n\r\n```\r\nreturn Collections.unmodifiableList(allPhones);\r\n```\r\n\r\nwith:\r\n\r\n```\r\nreturn allPhones;\r\n```\r\n\r\nin the getBestPhones method\r\n\r\nand how I&#39;m printing it:\r\n\r\n```\r\nSystem.out.println(bestPhones);\r\n```\r\n\r\nwith:\r\n\r\n```\r\nfor (Phone phone : bestPhones) {\r\n    System.out.println(phone.getModel());\r\n}\r\n```\r\n\r\nBut nothing seems to work\r\n\r\n----------\r\n\r\nNote: I&#39;m not sure if it is in how the best phones are calculated since that was the skeleton code provided to me. \r\n\r\n(the addPhone() and phoneIsDominated() methods were already there)\r\n\r\nI am also unable to print the Phone&#39;s name in my main, but not getting two best phones is more of an issue.\r\n\r\nI&#39;m still new to Java so I&#39;m probably missing something obvious.\r\n\r\n\r\nEdit (code):\r\n\r\nMy main class:\r\n```\r\nimport java.io.IOException;\r\nimport java.util.Collection;\r\n\r\npublic class FindBestPhones {\r\n\tpublic static String PHONES_FILE = &quot;phone-data.txt&quot;;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO: use the parseFile() method FROM PhoneParser.JAVA to get the phone data from the file\r\n\r\n\t\t// TODO: print the model names of all the best phones: getBestPhones() from PhoneList.java\r\n\r\n\t\t// TODO: handle I/O failures by printing an error message, that might occur in parseFile()\r\n\r\n\r\n\t\t\r\n\t\ttry {\r\n\t\t\tPhoneList phoneList = PhoneParser.parseFile(PHONES_FILE);\r\n\t\t\t// Get the best phones from the phone list\r\n\t\t\tCollection&lt;Phone&gt; bestPhones = phoneList.getBestPhones();\r\n\r\n\t\t\tSystem.out.println(bestPhones);\t\r\n\t\t\t\r\n\t\t\t//\r\n\t\t\tPhoneList testlist = PhoneParser.parseFile(&quot;phone-test.txt&quot;);\r\n\t\t\tCollection&lt;Phone&gt; testcoll = testlist.getAllPhones(); \r\n\t\t\tSystem.out.println(testcoll);\r\n\t\t\t\r\n\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\t}\r\n} \r\n```\r\n\r\nMy custom Phone object class:\r\n```\r\n/*\r\n * Phone — a model class representing a smart phone. A phone has a model name, a\r\n * screen size, and a battery capacity. */\r\npublic class Phone {\r\n\tprivate final String model;\r\n\tprivate final double screenSize;\r\n\tprivate final int batteryCapacity;\r\n\t\r\n\tpublic Phone(String model, double screenSize, int batteryCapacity) {\r\n\t\t// : Ensure the screenSize and batteryCapacity are positive\r\n\t\t// by throwing an IllegalArgumentException otherwise\r\n\t\t\r\n\t\t//TASK 1: \r\n\t\tif (screenSize &lt;0 || batteryCapacity &lt;=0) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Screen size and/or battery capacity must not be positive&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tthis.model = model;\r\n\t\tthis.screenSize = screenSize;\r\n\t\tthis.batteryCapacity = batteryCapacity;\r\n\t}\r\n\r\n\t // Gets the phone&#39;s model name.\r\n\tpublic String getModel() {\r\n\t\treturn model; \r\n\t}\r\n\t\r\n\t // Gets the phone&#39;s diagonal screen size (in inches).\r\n\tpublic double getScreenSize() {\r\n\t\treturn screenSize;\r\n\t}\r\n\t\r\n\t // Gets the phone&#39;s battery capacity (in mAh).\r\n\tpublic int getBatteryCapacity() {\r\n\t\treturn batteryCapacity;\r\n\t}\r\n\t\r\n\t /* Determines whether this phone &quot;dominates&quot; another phone, meaning\r\n\t * this phone is better in one criterion, and at least as good in the\r\n\t * other criterion. */\r\n\t\r\n\tpublic boolean dominates(Phone other) {\r\n\t\t// : implement this method\r\n\t\t// Task 2:\r\n\t\treturn (this.getScreenSize() &gt; other.getScreenSize() || \r\n\t\t\t\tthis.getBatteryCapacity() &gt; other.getBatteryCapacity());\r\n\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nMy PhoneList class:\r\n\r\n```\r\n/*\r\n  PhoneList — a model class representing a list of phones. There is \r\n  an addPhone method to add a phone to the list, a getAllPhones to get a list of all\r\n  phones, and a getBestPhones method to get a list of just the ‘best’ phones.\r\n */\r\n\r\n\r\nimport java.util.*;\r\n\r\npublic class PhoneList {\r\n\tprivate final List&lt;Phone&gt; allPhones = new ArrayList&lt;&gt;();\r\n\tprivate final Set&lt;Phone&gt; bestPhones = new HashSet&lt;&gt;();\r\n\t\r\n\t/*\r\n\t * Adds a phone to the list.\r\n\t */\r\n\tpublic void addPhone(Phone phone) {\r\n\t\tallPhones.add(phone);\r\n\t\t\r\n\t\t// remove from bestPhones if dominated by the new phone\r\n\t\tIterator&lt;Phone&gt; iter = bestPhones.iterator();\r\n\t\twhile(iter.hasNext()) {\r\n\t\t\tPhone other = iter.next();\r\n\t\t\tif(phone.dominates(other)) {\r\n\t\t\t\titer.remove();\r\n\t\t\t}\r\n\t\t} \r\n\t\t\r\n\t\t// only add the new phone to bestPhones if it&#39;s not dominated\r\n\t\tif(!phoneIsDominated(phone)) {\r\n\t\t\tbestPhones.add(phone);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/*\r\n\t * Determines whether a phone is dominated by any other phone.\r\n\t */\r\n\tpublic boolean phoneIsDominated(Phone phone) {\r\n\t\t// only need to compare with the undominated phones\r\n\t\tfor(Phone other : bestPhones) {\r\n\t\t\tif(other.dominates(phone)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\t/*\r\n\t * Gets all phones. The list returned is unmodifiable.  \r\n\t */\r\n\tpublic List&lt;Phone&gt; getAllPhones() {\r\n\t\t// : return an unmodifiable view of the list\r\n\t\t// Task 3.1:\r\n\t\t//return allPhones;\r\n\t\treturn Collections.unmodifiableList(allPhones);\r\n\t\t//return allPhones;\r\n\t}\r\n\t\r\n\t/*\r\n\t * Gets all phones which are not dominated by another phone. The\r\n\t * collection returned is unmodifiable.  \r\n\t */\r\n\tpublic Collection&lt;Phone&gt; getBestPhones() {\r\n\t\t// : return an unmodifiable view of the set\r\n\t\t//Task 3.2:\r\n\t\treturn Collections.unmodifiableSet(bestPhones);\r\n\t\t//return bestPhones;\r\n\t\t\r\n\r\n\t}\r\n}\r\n```\r\n\r\nMy PhoneParser class:\r\n\r\n```\r\n/*\r\n * PhoneParser — a helper class which can parse phone data from a string, and load\r\n * all the phone data from a text file.\r\n */\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.util.Scanner;\r\n\r\npublic class PhoneParser {\r\n\t/*\r\n\t * Parses a phone data string, in the following format:\r\n\t * \r\n\t *     model screenSize batteryCapacity\r\n\t *     \r\n\t * The model name is encoded with underscores instead of spaces.\r\n\t */\r\n\tpublic static Phone parse(String data) {\r\n\t\t// : parse the phone data string, and return a Phone object.\r\n\t\t// you may use string manipulation, a regex, or a Scanner\r\n\t\t//Task 4:\r\n\t\ttry (Scanner scanner = new Scanner(data)){\r\n\t\t\t// set delimiter to split on spaces\r\n\t\t\tscanner.useDelimiter(&quot; &quot;);\r\n\r\n\t\t\tif (scanner.hasNext()) {\r\n\t\t\t\tString model = scanner.next().replace(&quot;_&quot;,&quot; &quot;);\r\n\t\t\t\tif (scanner.hasNextDouble() &amp;&amp; scanner.hasNextInt()) {\r\n\t\t\t\t\tdouble screenSize = scanner.nextDouble();\r\n\t\t\t\t\tint batteryCapacity = scanner.nextInt();\r\n\t\t\t\t\treturn new Phone(model, screenSize, batteryCapacity);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t// Returns null if parsing fails\r\n\t\treturn null;\r\n\t}\r\n\r\n\t/*\r\n\t * Returns a PhoneList by parsing a text file containing the phone data.\r\n\t */\r\n\tpublic static PhoneList parseFile(String filename) throws IOException {\r\n\t\t// : create a PhoneList TASK 5:\r\n\t\tPhoneList phoneList1 = new PhoneList();\r\n\r\n\t\t// : create a BufferedReader to read from the file TASK 5:\r\n\t\ttry (BufferedReader reader = new BufferedReader(new FileReader(filename))) {\r\n\r\n\t\t\t// : for each line, parse it as a Phone and add it to the list TASK 5:\r\n\t\t\tString line;\r\n\t\t\twhile ((line = reader.readLine()) != null) {\r\n\t\t\t\tPhone phone = parse(line);\r\n\t\t\t\tif (phone != null) {\r\n\t\t\t\t\tphoneList1.addPhone(phone);\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn phoneList1;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n[![My text file][1]][1]\r\n\r\nThe consoles prints: \r\n\r\n&gt; [Phone@2ed94a8b]\r\n\r\nWhen I run the code.\r\n\r\nI also made a discovery, I made a test text file and filled it with 4 test phones:\r\n\r\n[![test file][2]][2]\r\n\r\nand was given this in console:\r\n\r\n&gt; [Phone@38082d64, Phone@dfd3711, Phone@42d3bd8b]\r\n\r\nwhich is only picking up 3 phones instead of 4 for some reason, this is probably where my issues lie.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nffXM.png\r\n  [2]: https://i.stack.imgur.com/YvUN3.png","title":"I made a program that should send me two &quot;best phones&quot; from a list of phones in a text file, but only shows one?","body":"<p>This is a link to my java project: <a href=\"https://github.com/Mundanest/Java-files/tree/main/Lab%207\" rel=\"nofollow noreferrer\">https://github.com/Mundanest/Java-files/tree/main/Lab%207</a></p>\n<p>(This is my first time using github, as I'm not sure how else to link a java project folder so I might have messed up)(code also at bottom)</p>\n<p>It holds 4 classes:</p>\n<ul>\n<li><p>one for printing, <strong>FindBestPhone.java</strong></p>\n</li>\n<li><p>one for creating a Phone object, <strong>Phone.java</strong></p>\n</li>\n<li><p>one for adding phones to various lists, <strong>PhoneList.java</strong></p>\n</li>\n<li><p>and one for parsing the text, <strong>PhoneParser.java</strong></p>\n</li>\n</ul>\n<p>The main aim is to find the two best phones from a long list of phones in &quot;phone-data.txt&quot;.</p>\n<p>(one phone has the highest battery capacity and another with largest screen size)</p>\n<hr />\n<p>I was given an example text file &quot;phone-data-short.txt&quot; with the best phones being the <strong>Samsung Galaxy S8 Plus</strong> and <strong>Huawei Mate 10 Pro</strong>.</p>\n<p>My problem with it is that when I try to print the two phones (from phone-data.txt) it only prints one phone.</p>\n<p>I'm not sure if I'm trying to print them incorrectly or if it's in the way I am storing the list after calculating the best phones.</p>\n<p>My best guess is that the &quot;getBestPhones&quot; method in PhoneList.java is returning wrong or my main &quot;FindBestPhones&quot; is asking for the best phones incorrectly.</p>\n<p>I've tried replacing how I return:</p>\n<pre><code>return Collections.unmodifiableList(allPhones);\n</code></pre>\n<p>with:</p>\n<pre><code>return allPhones;\n</code></pre>\n<p>in the getBestPhones method</p>\n<p>and how I'm printing it:</p>\n<pre><code>System.out.println(bestPhones);\n</code></pre>\n<p>with:</p>\n<pre><code>for (Phone phone : bestPhones) {\n    System.out.println(phone.getModel());\n}\n</code></pre>\n<p>But nothing seems to work</p>\n<hr />\n<p>Note: I'm not sure if it is in how the best phones are calculated since that was the skeleton code provided to me.</p>\n<p>(the addPhone() and phoneIsDominated() methods were already there)</p>\n<p>I am also unable to print the Phone's name in my main, but not getting two best phones is more of an issue.</p>\n<p>I'm still new to Java so I'm probably missing something obvious.</p>\n<p>Edit (code):</p>\n<p>My main class:</p>\n<pre><code>import java.io.IOException;\nimport java.util.Collection;\n\npublic class FindBestPhones {\n    public static String PHONES_FILE = &quot;phone-data.txt&quot;;\n\n    public static void main(String[] args) {\n        // TODO: use the parseFile() method FROM PhoneParser.JAVA to get the phone data from the file\n\n        // TODO: print the model names of all the best phones: getBestPhones() from PhoneList.java\n\n        // TODO: handle I/O failures by printing an error message, that might occur in parseFile()\n\n\n        \n        try {\n            PhoneList phoneList = PhoneParser.parseFile(PHONES_FILE);\n            // Get the best phones from the phone list\n            Collection&lt;Phone&gt; bestPhones = phoneList.getBestPhones();\n\n            System.out.println(bestPhones); \n            \n            //\n            PhoneList testlist = PhoneParser.parseFile(&quot;phone-test.txt&quot;);\n            Collection&lt;Phone&gt; testcoll = testlist.getAllPhones(); \n            System.out.println(testcoll);\n            \n            \n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n\n\n\n    }\n} \n</code></pre>\n<p>My custom Phone object class:</p>\n<pre><code>/*\n * Phone — a model class representing a smart phone. A phone has a model name, a\n * screen size, and a battery capacity. */\npublic class Phone {\n    private final String model;\n    private final double screenSize;\n    private final int batteryCapacity;\n    \n    public Phone(String model, double screenSize, int batteryCapacity) {\n        // : Ensure the screenSize and batteryCapacity are positive\n        // by throwing an IllegalArgumentException otherwise\n        \n        //TASK 1: \n        if (screenSize &lt;0 || batteryCapacity &lt;=0) {\n            throw new IllegalArgumentException(&quot;Screen size and/or battery capacity must not be positive&quot;);\n        }\n        \n        this.model = model;\n        this.screenSize = screenSize;\n        this.batteryCapacity = batteryCapacity;\n    }\n\n     // Gets the phone's model name.\n    public String getModel() {\n        return model; \n    }\n    \n     // Gets the phone's diagonal screen size (in inches).\n    public double getScreenSize() {\n        return screenSize;\n    }\n    \n     // Gets the phone's battery capacity (in mAh).\n    public int getBatteryCapacity() {\n        return batteryCapacity;\n    }\n    \n     /* Determines whether this phone &quot;dominates&quot; another phone, meaning\n     * this phone is better in one criterion, and at least as good in the\n     * other criterion. */\n    \n    public boolean dominates(Phone other) {\n        // : implement this method\n        // Task 2:\n        return (this.getScreenSize() &gt; other.getScreenSize() || \n                this.getBatteryCapacity() &gt; other.getBatteryCapacity());\n\n        \n    }\n}\n</code></pre>\n<p>My PhoneList class:</p>\n<pre><code>/*\n  PhoneList — a model class representing a list of phones. There is \n  an addPhone method to add a phone to the list, a getAllPhones to get a list of all\n  phones, and a getBestPhones method to get a list of just the ‘best’ phones.\n */\n\n\nimport java.util.*;\n\npublic class PhoneList {\n    private final List&lt;Phone&gt; allPhones = new ArrayList&lt;&gt;();\n    private final Set&lt;Phone&gt; bestPhones = new HashSet&lt;&gt;();\n    \n    /*\n     * Adds a phone to the list.\n     */\n    public void addPhone(Phone phone) {\n        allPhones.add(phone);\n        \n        // remove from bestPhones if dominated by the new phone\n        Iterator&lt;Phone&gt; iter = bestPhones.iterator();\n        while(iter.hasNext()) {\n            Phone other = iter.next();\n            if(phone.dominates(other)) {\n                iter.remove();\n            }\n        } \n        \n        // only add the new phone to bestPhones if it's not dominated\n        if(!phoneIsDominated(phone)) {\n            bestPhones.add(phone);\n        }\n    }\n    \n    /*\n     * Determines whether a phone is dominated by any other phone.\n     */\n    public boolean phoneIsDominated(Phone phone) {\n        // only need to compare with the undominated phones\n        for(Phone other : bestPhones) {\n            if(other.dominates(phone)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    \n    /*\n     * Gets all phones. The list returned is unmodifiable.  \n     */\n    public List&lt;Phone&gt; getAllPhones() {\n        // : return an unmodifiable view of the list\n        // Task 3.1:\n        //return allPhones;\n        return Collections.unmodifiableList(allPhones);\n        //return allPhones;\n    }\n    \n    /*\n     * Gets all phones which are not dominated by another phone. The\n     * collection returned is unmodifiable.  \n     */\n    public Collection&lt;Phone&gt; getBestPhones() {\n        // : return an unmodifiable view of the set\n        //Task 3.2:\n        return Collections.unmodifiableSet(bestPhones);\n        //return bestPhones;\n        \n\n    }\n}\n</code></pre>\n<p>My PhoneParser class:</p>\n<pre><code>/*\n * PhoneParser — a helper class which can parse phone data from a string, and load\n * all the phone data from a text file.\n */\n\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.Scanner;\n\npublic class PhoneParser {\n    /*\n     * Parses a phone data string, in the following format:\n     * \n     *     model screenSize batteryCapacity\n     *     \n     * The model name is encoded with underscores instead of spaces.\n     */\n    public static Phone parse(String data) {\n        // : parse the phone data string, and return a Phone object.\n        // you may use string manipulation, a regex, or a Scanner\n        //Task 4:\n        try (Scanner scanner = new Scanner(data)){\n            // set delimiter to split on spaces\n            scanner.useDelimiter(&quot; &quot;);\n\n            if (scanner.hasNext()) {\n                String model = scanner.next().replace(&quot;_&quot;,&quot; &quot;);\n                if (scanner.hasNextDouble() &amp;&amp; scanner.hasNextInt()) {\n                    double screenSize = scanner.nextDouble();\n                    int batteryCapacity = scanner.nextInt();\n                    return new Phone(model, screenSize, batteryCapacity);\n                }\n\n            }\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        // Returns null if parsing fails\n        return null;\n    }\n\n    /*\n     * Returns a PhoneList by parsing a text file containing the phone data.\n     */\n    public static PhoneList parseFile(String filename) throws IOException {\n        // : create a PhoneList TASK 5:\n        PhoneList phoneList1 = new PhoneList();\n\n        // : create a BufferedReader to read from the file TASK 5:\n        try (BufferedReader reader = new BufferedReader(new FileReader(filename))) {\n\n            // : for each line, parse it as a Phone and add it to the list TASK 5:\n            String line;\n            while ((line = reader.readLine()) != null) {\n                Phone phone = parse(line);\n                if (phone != null) {\n                    phoneList1.addPhone(phone);\n                }   \n            }\n        }\n        return phoneList1;\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nffXM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nffXM.png\" alt=\"My text file\" /></a></p>\n<p>The consoles prints:</p>\n<blockquote>\n<p>[Phone@2ed94a8b]</p>\n</blockquote>\n<p>When I run the code.</p>\n<p>I also made a discovery, I made a test text file and filled it with 4 test phones:</p>\n<p><a href=\"https://i.stack.imgur.com/YvUN3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YvUN3.png\" alt=\"test file\" /></a></p>\n<p>and was given this in console:</p>\n<blockquote>\n<p>[Phone@38082d64, Phone@dfd3711, Phone@42d3bd8b]</p>\n</blockquote>\n<p>which is only picking up 3 phones instead of 4 for some reason, this is probably where my issues lie.</p>\n"},{"tags":["java","android","excel"],"comments":[{"owner":{"account_id":7222959,"reputation":6697,"user_id":5512705,"accept_rate":46,"display_name":"Samuel Hulla"},"score":2,"creation_date":1528368582,"post_id":50738119,"comment_id":88486072,"body_markdown":"With all due to respect, I don&#39;t think  *&quot;Apache POI requires too much jars&quot;* is a valid argument. The API is extensive for a reason to cover all the excel needs. In programming world, it&#39;s usually looked down upon for having too few features, at least much more frequently than having too many. Imho, it still is relatively lightweight. It&#39;s the price you have to pay if you want to create an excel related app for android.","body":"With all due to respect, I don&#39;t think  <i>&quot;Apache POI requires too much jars&quot;</i> is a valid argument. The API is extensive for a reason to cover all the excel needs. In programming world, it&#39;s usually looked down upon for having too few features, at least much more frequently than having too many. Imho, it still is relatively lightweight. It&#39;s the price you have to pay if you want to create an excel related app for android."},{"owner":{"account_id":5524872,"reputation":4722,"user_id":4386668,"accept_rate":47,"display_name":"Nominalista"},"score":1,"creation_date":1528369258,"post_id":50738119,"comment_id":88486502,"body_markdown":"Don&#39;t you think that [16k methods](http://www.methodscount.com/?lib=org.apache.poi%3Apoi%3A3.17) only in poi.jar is a little bit too much for an Android?","body":"Don&#39;t you think that <a href=\"http://www.methodscount.com/?lib=org.apache.poi%3Apoi%3A3.17\" rel=\"nofollow noreferrer\">16k methods</a> only in poi.jar is a little bit too much for an Android?"},{"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"score":0,"creation_date":1528566173,"post_id":50738119,"comment_id":88560821,"body_markdown":"Shouldn&#39;t the title be something like &quot;lightweight library for ...&quot; ?","body":"Shouldn&#39;t the title be something like &quot;lightweight library for ...&quot; ?"},{"owner":{"account_id":6517675,"reputation":2645,"user_id":5042987,"accept_rate":80,"display_name":"Diego Victor de Jesus"},"score":0,"creation_date":1528569295,"post_id":50738119,"comment_id":88561711,"body_markdown":"Do you need Excel formulas and styling tools? If the answer is no, go for CSV and Excel will know how to deal with your CSV files.\n\nIf you only need to display information in tabular format, CSV would be your best option.","body":"Do you need Excel formulas and styling tools? If the answer is no, go for CSV and Excel will know how to deal with your CSV files.  If you only need to display information in tabular format, CSV would be your best option."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1528613673,"post_id":50738119,"comment_id":88569235,"body_markdown":"A `*.xlsx` file is nothing else than a `ZIP` archive containing `XML` files and other files in a directory structure. So all you need is a possibility for reading and rewriting `ZIP` archives and reading and rewriting `XML` files using your `android` pseudo `Java` language. So if all existent libraries do not fit your requirements, then do it using your own low level code. No?","body":"A <code>*.xlsx</code> file is nothing else than a <code>ZIP</code> archive containing <code>XML</code> files and other files in a directory structure. So all you need is a possibility for reading and rewriting <code>ZIP</code> archives and reading and rewriting <code>XML</code> files using your <code>android</code> pseudo <code>Java</code> language. So if all existent libraries do not fit your requirements, then do it using your own low level code. No?"},{"owner":{"account_id":1599858,"reputation":3905,"user_id":1481116,"accept_rate":88,"display_name":"Luuklag"},"score":0,"creation_date":1528724667,"post_id":50738119,"comment_id":88604277,"body_markdown":"How is this question not off-topic for asking recomendations book, tool, software library etc... Too bad it has a bounty, and answers.","body":"How is this question not off-topic for asking recomendations book, tool, software library etc... Too bad it has a bounty, and answers."},{"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"score":0,"creation_date":1528842124,"post_id":50738119,"comment_id":88657952,"body_markdown":"Have not tried this - but in .NET you can write to excel - per this https://stackoverflow.com/questions/23041021/how-to-write-some-data-to-excel-file-xlsx - Maybe with Xamarin it that might work too. I was just taken by your onus on Java libraries, thinking Microsoft has solutions too.","body":"Have not tried this - but in .NET you can write to excel - per this <a href=\"https://stackoverflow.com/questions/23041021/how-to-write-some-data-to-excel-file-xlsx\" title=\"how to write some data to excel file xlsx\">stackoverflow.com/questions/23041021/&hellip;</a> - Maybe with Xamarin it that might work too. I was just taken by your onus on Java libraries, thinking Microsoft has solutions too."},{"owner":{"account_id":2986719,"reputation":4999,"user_id":2535335,"display_name":"Johannes Jander"},"score":0,"creation_date":1538055038,"post_id":50738119,"comment_id":92015747,"body_markdown":"You should look into http://xcelite.io/ - it builds on top of POI, but the API is much smaller and easier to work with. Simply create a handful of beans and have Xcelite write them to Excel files.","body":"You should look into <a href=\"http://xcelite.io/\" rel=\"nofollow noreferrer\">xcelite.io</a> - it builds on top of POI, but the API is much smaller and easier to work with. Simply create a handful of beans and have Xcelite write them to Excel files."}],"answers":[{"comments":[{"owner":{"account_id":5524872,"reputation":4722,"user_id":4386668,"accept_rate":47,"display_name":"Nominalista"},"score":0,"creation_date":1529157569,"post_id":50777284,"comment_id":88778391,"body_markdown":"Thank you for the idea. Actually I can&#39;t do it in offline app, that&#39;s why I decided to use JExcelAPI. Unfortunately because of the mentioned issues with CSV, I won&#39;t use it.","body":"Thank you for the idea. Actually I can&#39;t do it in offline app, that&#39;s why I decided to use JExcelAPI. Unfortunately because of the mentioned issues with CSV, I won&#39;t use it."},{"owner":{"account_id":417094,"reputation":1386,"user_id":792891,"accept_rate":43,"display_name":"erkan demir"},"score":0,"creation_date":1654869702,"post_id":50777284,"comment_id":128202279,"body_markdown":"JExcelAPI does not support xlsx writing. Is there a way to do that with JExcelAPI ?","body":"JExcelAPI does not support xlsx writing. Is there a way to do that with JExcelAPI ?"}],"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1528568514,"creation_date":1528568514,"answer_id":50777284,"question_id":50738119,"body_markdown":"First answer: do it server-side.\r\n\r\nIf that&#39;s not possible, just use JExecelAPI - pretty much everything that reads xlsx files reads xls files too.\r\n\r\nEvery other Excel library is going to be way too big.\r\n\r\nAnother thought - write csv files, either manually, or with one of the many csv libraries available. Again, most applications that read Excel files read csv files too.","title":"How to create and write to Excel file (.xlsx)?","body":"<p>First answer: do it server-side.</p>\n\n<p>If that's not possible, just use JExecelAPI - pretty much everything that reads xlsx files reads xls files too.</p>\n\n<p>Every other Excel library is going to be way too big.</p>\n\n<p>Another thought - write csv files, either manually, or with one of the many csv libraries available. Again, most applications that read Excel files read csv files too.</p>\n"},{"comments":[{"owner":{"account_id":306110,"reputation":5678,"user_id":616666,"accept_rate":63,"display_name":"insomiac"},"score":0,"creation_date":1529280155,"post_id":50792264,"comment_id":88802599,"body_markdown":"Do you have any example project ?  That will be helpful.","body":"Do you have any example project ?  That will be helpful."}],"tags":[],"owner":{"account_id":1780181,"reputation":2389,"user_id":1623130,"display_name":"Niza Siwale"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528701465,"creation_date":1528701465,"answer_id":50792264,"question_id":50738119,"body_markdown":"Use Apache POI and enable multi dex by simply adding `compile &quot;com.android.support:multidex:1.0.1&quot;` to your dependencies in `build.gradle`. You also need to set multiDexEnabled true. That should get rid of the 65k method limitation. \r\n\r\n","title":"How to create and write to Excel file (.xlsx)?","body":"<p>Use Apache POI and enable multi dex by simply adding <code>compile \"com.android.support:multidex:1.0.1\"</code> to your dependencies in <code>build.gradle</code>. You also need to set multiDexEnabled true. That should get rid of the 65k method limitation. </p>\n"},{"comments":[{"owner":{"account_id":5524872,"reputation":4722,"user_id":4386668,"accept_rate":47,"display_name":"Nominalista"},"score":0,"creation_date":1528905490,"post_id":50841324,"comment_id":88686642,"body_markdown":"You confused export with import.","body":"You confused export with import."}],"tags":[],"owner":{"account_id":8841770,"reputation":64,"user_id":6604007,"display_name":"bitsNbytes"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1528904776,"creation_date":1528904776,"answer_id":50841324,"question_id":50738119,"body_markdown":"xlsx is a zip file. So we can extract zip and get xml files inside and then we can parse it ourself to get sheet data.\r\n\r\nThis should work for both For both xls and xlsx.","title":"How to create and write to Excel file (.xlsx)?","body":"<p>xlsx is a zip file. So we can extract zip and get xml files inside and then we can parse it ourself to get sheet data.</p>\n\n<p>This should work for both For both xls and xlsx.</p>\n"},{"comments":[{"owner":{"account_id":5524872,"reputation":4722,"user_id":4386668,"accept_rate":47,"display_name":"Nominalista"},"score":0,"creation_date":1529137334,"post_id":50884270,"comment_id":88774031,"body_markdown":"I think you deserve some recognition for the idea. I found also [Microsoft Graph SDK for Android](https://github.com/microsoftgraph/msgraph-sdk-android), but it has [24k methods](http://www.methodscount.com/?lib=com.microsoft.graph%3Amsgraph-sdk-android%3A1.2.0) ...","body":"I think you deserve some recognition for the idea. I found also <a href=\"https://github.com/microsoftgraph/msgraph-sdk-android\" rel=\"nofollow noreferrer\">Microsoft Graph SDK for Android</a>, but it has <a href=\"http://www.methodscount.com/?lib=com.microsoft.graph%3Amsgraph-sdk-android%3A1.2.0\" rel=\"nofollow noreferrer\">24k methods</a> ..."}],"tags":[],"owner":{"account_id":2728818,"reputation":2153,"user_id":2353080,"accept_rate":29,"display_name":"Michal"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1529112464,"creation_date":1529112123,"answer_id":50884270,"question_id":50738119,"body_markdown":"It&#39;s 2018. Use Microsoft Graph API and create the Excel file in O365.\r\n\r\nMicrosoft has published a few examples in Angular and C#. It&#39;s not Java but it is a good starting point: https://developer.microsoft.com/en-us/graph/docs/concepts/excel-write-to-workbook.\r\n\r\nThe [MS Graph Java SDK][1] is Android compatible.\r\n\r\nLimitation - there is no easy way to create an Excel file from scratch using the API. You may want to keep a blank workbook and clone it each time.\r\n\r\n\r\n  [1]: https://github.com/microsoftgraph/msgraph-sdk-java","title":"How to create and write to Excel file (.xlsx)?","body":"<p>It's 2018. Use Microsoft Graph API and create the Excel file in O365.</p>\n\n<p>Microsoft has published a few examples in Angular and C#. It's not Java but it is a good starting point: <a href=\"https://developer.microsoft.com/en-us/graph/docs/concepts/excel-write-to-workbook\" rel=\"nofollow noreferrer\">https://developer.microsoft.com/en-us/graph/docs/concepts/excel-write-to-workbook</a>.</p>\n\n<p>The <a href=\"https://github.com/microsoftgraph/msgraph-sdk-java\" rel=\"nofollow noreferrer\">MS Graph Java SDK</a> is Android compatible.</p>\n\n<p>Limitation - there is no easy way to create an Excel file from scratch using the API. You may want to keep a blank workbook and clone it each time.</p>\n"},{"tags":[],"owner":{"account_id":13343141,"reputation":515,"user_id":9630748,"display_name":"Arnault Le Pr&#233;vost-Corvellec"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529137876,"creation_date":1529137876,"answer_id":50886284,"question_id":50738119,"body_markdown":"If you don&#39;t need to read xlsx file from any sources i recommande you to use CSV excel is perfectly able to convert that type to any of its std output. \r\n\r\nEven if you need formula, cell formatting, there are to way to did it use on of the lib you cite or using your own xml parser as said by many people before me, excel format is just a zip with xml inside. Those xml are describe here :\r\n\r\n https://msdn.microsoft.com/en-us/library/dd979921(v=office.12).aspx\r\n\r\nAs you will discover excel is very complexe format and simple retrocompatibility is not their priority . So making your own restricted parser with XPath or JAXB will be an heavy work but not impossible.\r\n\r\nBut I don&#39;t understand why you want restrict number of methods ? if its about making some embedded sofware, in my opinion, you shouldn&#39;t use .xlsx, this is a to complicated and heavy file to just save grids ... ","title":"How to create and write to Excel file (.xlsx)?","body":"<p>If you don't need to read xlsx file from any sources i recommande you to use CSV excel is perfectly able to convert that type to any of its std output. </p>\n\n<p>Even if you need formula, cell formatting, there are to way to did it use on of the lib you cite or using your own xml parser as said by many people before me, excel format is just a zip with xml inside. Those xml are describe here :</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/dd979921(v=office.12).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/dd979921(v=office.12).aspx</a></p>\n\n<p>As you will discover excel is very complexe format and simple retrocompatibility is not their priority . So making your own restricted parser with XPath or JAXB will be an heavy work but not impossible.</p>\n\n<p>But I don't understand why you want restrict number of methods ? if its about making some embedded sofware, in my opinion, you shouldn't use .xlsx, this is a to complicated and heavy file to just save grids ... </p>\n"},{"comments":[{"owner":{"account_id":5524872,"reputation":4722,"user_id":4386668,"accept_rate":47,"display_name":"Nominalista"},"score":0,"creation_date":1529157437,"post_id":50886486,"comment_id":88778356,"body_markdown":"I think your answer required the most effort to create it, that&#39;s why I will reward you. Furthermore it&#39;s really lightweight solution as you said. For now I will use JExcelAPI as mentioned in @GreyBeardedGeek answer.","body":"I think your answer required the most effort to create it, that&#39;s why I will reward you. Furthermore it&#39;s really lightweight solution as you said. For now I will use JExcelAPI as mentioned in @GreyBeardedGeek answer."},{"owner":{"account_id":1262736,"reputation":775,"user_id":1220633,"accept_rate":57,"display_name":"RikiRiocma"},"score":0,"creation_date":1538908316,"post_id":50886486,"comment_id":92302403,"body_markdown":"It&#39;s working but I&#39;ve to add write permissions in manifest and write to external storage: `File file = new File(Environment.getExternalStorageDirectory().toString() + &quot;/test.xlsx&quot;);` ant then ``try (FileOutputStream fileout = new FileOutputStream(file)) {``","body":"It&#39;s working but I&#39;ve to add write permissions in manifest and write to external storage: <code>File file = new File(Environment.getExternalStorageDirectory().toString() + &quot;&#47;test.xlsx&quot;);</code> ant then <code>try (FileOutputStream fileout = new FileOutputStream(file)) {</code>"},{"owner":{"account_id":13245,"reputation":5748,"user_id":26483,"display_name":"Peter"},"score":0,"creation_date":1545038091,"post_id":50886486,"comment_id":94472336,"body_markdown":"just a sidenote: \nThis piece of code is limited to excel&#39;s with 26 columns, as soon as you try to use 27 it gets corrupted becuase it should go from Z to AA.","body":"just a sidenote:  This piece of code is limited to excel&#39;s with 26 columns, as soon as you try to use 27 it gets corrupted becuase it should go from Z to AA."}],"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":3,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1529139991,"creation_date":1529139991,"answer_id":50886486,"question_id":50738119,"body_markdown":"Since this question seems to be rather: &quot;What is the most lightweight way creating Office Open XML files for Excel (`*.xlsx`)?&quot;, I will providing an example which does not need any libraries except the default `java.lang`, `java.io` and `java.util.zip`.\r\n\r\nA `*.xlsx` file is nothing else than a ZIP archive containing XML files and other files in a directory structure. So all we need is a possibility for creating, reading and writing ZIP archives and creating, reading and writing XML files. For the ZIP part I am using `java.util.zip` and for the XML part I am using string manipulation. This, creating and manipulating XML via string manipulation, is not the most recommended way for manipulating XML but it is the most lightweight way since it does not needs any additional XML libraries.\r\n\r\nComplete example:\r\n\r\n    import java.io.OutputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    \r\n    import java.util.zip.*;\r\n    \r\n    public class CreateXLSXFromScratch {\r\n    \r\n     //some static parts of the XLSX file:\r\n    \r\n     static String content_types_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Types xmlns=\\&quot;http://schemas.openxmlformats.org/package/2006/content-types\\&quot;&gt;&lt;Default ContentType=\\&quot;application/vnd.openxmlformats-package.relationships+xml\\&quot; Extension=\\&quot;rels\\&quot;/&gt;&lt;Default ContentType=\\&quot;application/xml\\&quot; Extension=\\&quot;xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.extended-properties+xml\\&quot; PartName=\\&quot;/docProps/app.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-package.core-properties+xml\\&quot; PartName=\\&quot;/docProps/core.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\\&quot; PartName=\\&quot;/xl/sharedStrings.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\\&quot; PartName=\\&quot;/xl/styles.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\\&quot; PartName=\\&quot;/xl/workbook.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\\&quot; PartName=\\&quot;/xl/worksheets/sheet1.xml\\&quot;/&gt;&lt;/Types&gt;&quot;;\r\n    \r\n     static String docProps_app_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;Properties xmlns=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\\&quot;&gt;&lt;Application&gt;&quot; + &quot;Created Low level From Scratch&quot; + &quot;&lt;/Application&gt;&lt;/Properties&gt;&quot;;\r\n    \r\n     static String docProps_core_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;cp:coreProperties xmlns:cp=\\&quot;http://schemas.openxmlformats.org/package/2006/metadata/core-properties\\&quot; xmlns:dc=\\&quot;http://purl.org/dc/elements/1.1/\\&quot; xmlns:dcterms=\\&quot;http://purl.org/dc/terms/\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;&lt;dcterms:created xsi:type=\\&quot;dcterms:W3CDTF\\&quot;&gt;&quot; + java.time.Instant.now().truncatedTo(java.time.temporal.ChronoUnit.SECONDS).toString() + &quot;&lt;/dcterms:created&gt;&lt;dc:creator&gt;&quot; + &quot;Axel Richter from scratch&quot; + &quot;&lt;/dc:creator&gt;&lt;/cp:coreProperties&gt;&quot;;\r\n    \r\n     static String _rels_rels_xml  = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Relationships xmlns=\\&quot;http://schemas.openxmlformats.org/package/2006/relationships\\&quot;&gt;&lt;Relationship Id=\\&quot;rId1\\&quot; Target=\\&quot;xl/workbook.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId2\\&quot; Target=\\&quot;docProps/app.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId3\\&quot; Target=\\&quot;docProps/core.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\\&quot;/&gt;&lt;/Relationships&gt;&quot;;\r\n    \r\n     static String xl_rels_workbook_xml_rels_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Relationships xmlns=\\&quot;http://schemas.openxmlformats.org/package/2006/relationships\\&quot;&gt;&lt;Relationship Id=\\&quot;rId1\\&quot; Target=\\&quot;sharedStrings.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId2\\&quot; Target=\\&quot;styles.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId3\\&quot; Target=\\&quot;worksheets/sheet1.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\\&quot;/&gt;&lt;/Relationships&gt;&quot;;\r\n    \r\n     static String xl_sharedstrings_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;sst count=\\&quot;0\\&quot; uniqueCount=\\&quot;0\\&quot; xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot;/&gt;&quot;; \r\n    \r\n     static String xl_styles_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;styleSheet xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot;&gt;&lt;numFmts count=\\&quot;0\\&quot;/&gt;&lt;fonts count=\\&quot;1\\&quot;&gt;&lt;font&gt;&lt;sz val=\\&quot;11.0\\&quot;/&gt;&lt;color indexed=\\&quot;8\\&quot;/&gt;&lt;name val=\\&quot;Calibri\\&quot;/&gt;&lt;family val=\\&quot;2\\&quot;/&gt;&lt;scheme val=\\&quot;minor\\&quot;/&gt;&lt;/font&gt;&lt;/fonts&gt;&lt;fills count=\\&quot;2\\&quot;&gt;&lt;fill&gt;&lt;patternFill patternType=\\&quot;none\\&quot;/&gt;&lt;/fill&gt;&lt;fill&gt;&lt;patternFill patternType=\\&quot;darkGray\\&quot;/&gt;&lt;/fill&gt;&lt;/fills&gt;&lt;borders count=\\&quot;1\\&quot;&gt;&lt;border&gt;&lt;left/&gt;&lt;right/&gt;&lt;top/&gt;&lt;bottom/&gt;&lt;diagonal/&gt;&lt;/border&gt;&lt;/borders&gt;&lt;cellStyleXfs count=\\&quot;1\\&quot;&gt;&lt;xf numFmtId=\\&quot;0\\&quot; fontId=\\&quot;0\\&quot; fillId=\\&quot;0\\&quot; borderId=\\&quot;0\\&quot;/&gt;&lt;/cellStyleXfs&gt;&lt;cellXfs count=\\&quot;1\\&quot;&gt;&lt;xf numFmtId=\\&quot;0\\&quot; fontId=\\&quot;0\\&quot; fillId=\\&quot;0\\&quot; borderId=\\&quot;0\\&quot; xfId=\\&quot;0\\&quot;/&gt;&lt;/cellXfs&gt;&lt;/styleSheet&gt;&quot;;\r\n    \r\n     static String xl_workbook_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;workbook xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot; xmlns:r=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships\\&quot;&gt;&lt;workbookPr date1904=\\&quot;false\\&quot;/&gt;&lt;bookViews&gt;&lt;workbookView activeTab=\\&quot;0\\&quot;/&gt;&lt;/bookViews&gt;&lt;sheets&gt;&lt;sheet name=\\&quot;&quot; + &quot;Sheet1&quot; + &quot;\\&quot; r:id=\\&quot;rId3\\&quot; sheetId=\\&quot;1\\&quot;/&gt;&lt;/sheets&gt;&lt;/workbook&gt;&quot;;\r\n    \r\n     static String xl_worksheets_sheet1_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;worksheet xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot;&gt;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&lt;sheetViews&gt;&lt;sheetView workbookViewId=\\&quot;0\\&quot; tabSelected=\\&quot;true\\&quot;/&gt;&lt;/sheetViews&gt;&lt;sheetFormatPr defaultRowHeight=\\&quot;15.0\\&quot;/&gt;&lt;sheetData/&gt;&lt;pageMargins bottom=\\&quot;0.75\\&quot; footer=\\&quot;0.3\\&quot; header=\\&quot;0.3\\&quot; left=\\&quot;0.7\\&quot; right=\\&quot;0.7\\&quot; top=\\&quot;0.75\\&quot;/&gt;&lt;/worksheet&gt;&quot;;\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      // result goes into a ByteArrayOutputStream\r\n      ByteArrayOutputStream resultout = new ByteArrayOutputStream();\r\n    \r\n      // needed objects\r\n      ZipEntry zipentry = null;\r\n      byte[] data = null;\r\n    \r\n      // create ZipOutputStream\r\n      ZipOutputStream zipout = new ZipOutputStream(resultout);\r\n    \r\n      // create the static parts of the XLSX ZIP file:\r\n    \r\n      zipentry = new ZipEntry(&quot;[Content_Types].xml&quot;);\r\n      zipout.putNextEntry(zipentry);\r\n      data = content_types_xml.getBytes();\r\n      zipout.write(data, 0, data.length);\r\n      zipout.closeEntry();\r\n    \r\n      zipentry = new ZipEntry(&quot;docProps/app.xml&quot;);\r\n      zipout.putNextEntry(zipentry);\r\n      data = docProps_app_xml.getBytes();\r\n      zipout.write(data, 0, data.length);\r\n      zipout.closeEntry();\r\n    \r\n      zipentry = new ZipEntry(&quot;docProps/core.xml&quot;);\r\n      zipout.putNextEntry(zipentry);\r\n      data = docProps_core_xml.getBytes();\r\n      zipout.write(data, 0, data.length);\r\n      zipout.closeEntry();\r\n    \r\n      zipentry = new ZipEntry(&quot;_rels/.rels&quot;);\r\n      zipout.putNextEntry(zipentry);\r\n      data = _rels_rels_xml.getBytes();\r\n      zipout.write(data, 0, data.length);\r\n      zipout.closeEntry();\r\n    \r\n      zipentry = new ZipEntry(&quot;xl/_rels/workbook.xml.rels&quot;);\r\n      zipout.putNextEntry(zipentry);\r\n      data = xl_rels_workbook_xml_rels_xml.getBytes();\r\n      zipout.write(data, 0, data.length);\r\n      zipout.closeEntry();\r\n    \r\n      zipentry = new ZipEntry(&quot;xl/sharedStrings.xml&quot;);\r\n      zipout.putNextEntry(zipentry);\r\n      data = xl_sharedstrings_xml.getBytes();\r\n      zipout.write(data, 0, data.length);\r\n      zipout.closeEntry();\r\n    \r\n      zipentry = new ZipEntry(&quot;xl/styles.xml&quot;);\r\n      zipout.putNextEntry(zipentry);\r\n      data = xl_styles_xml.getBytes();\r\n      zipout.write(data, 0, data.length);\r\n      zipout.closeEntry();\r\n    \r\n      zipentry = new ZipEntry(&quot;xl/workbook.xml&quot;);\r\n      zipout.putNextEntry(zipentry);\r\n      data = xl_workbook_xml.getBytes();\r\n      zipout.write(data, 0, data.length);\r\n      zipout.closeEntry();\r\n    \r\n      // preparing the sheet data:\r\n    \r\n      Object[][] sheetData = new Object[][] {\r\n       {&quot;Text&quot;, &quot;Value&quot;, &quot;Formula&quot;},\r\n       {&quot;Text1&quot;, 1.23456, &quot;=SIN(B2)&quot;},\r\n       {&quot;Text2&quot;, 2.34567, &quot;=SQRT(B3)&quot;},\r\n       {&quot;Text3&quot;, 123.456, &quot;=B4/10&quot;}\r\n      };\r\n      String sheetdata = &quot;&lt;sheetData&gt;&quot;;\r\n      int r = 0;\r\n      char c = &#39;A&#39;; --c;\r\n      for (Object[] rowData : sheetData) {\r\n       sheetdata += &quot;&lt;row r=\\&quot;&quot; + ++r + &quot;\\&quot;&gt;&quot;;\r\n       c = &#39;A&#39;; --c;\r\n       for (Object cellData : rowData) {\r\n        sheetdata += &quot;&lt;c r=\\&quot;&quot; + Character.toString(++c) + r + &quot;\\&quot;&quot;;\r\n        if (cellData instanceof String &amp;&amp; ((String)cellData).startsWith(&quot;=&quot;)) {\r\n         sheetdata += &quot;&gt;&lt;f&gt;&quot; + ((String)cellData).replace(&quot;=&quot;, &quot;&quot;) + &quot;&lt;/f&gt;&lt;/c&gt;&quot;;\r\n        } else if (cellData instanceof String) {\r\n         sheetdata += &quot; t=\\&quot;inlineStr\\&quot;&gt;&lt;is&gt;&lt;t&gt;&quot; + ((String)cellData) + &quot;&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;&quot;;\r\n        } else if (cellData instanceof Double) {\r\n         sheetdata += &quot;&gt;&lt;v&gt;&quot; + ((Double)cellData) + &quot;&lt;/v&gt;&lt;/c&gt;&quot;;\r\n        }\r\n       }\r\n       sheetdata += &quot;&lt;/row&gt;&quot;;\r\n      }\r\n      sheetdata += &quot;&lt;/sheetData&gt;&quot;;\r\n    \r\n      // get the static sheet xml into a buffer for further processing\r\n      StringBuffer xl_worksheets_sheet1_xml_buffer = new StringBuffer(xl_worksheets_sheet1_xml);\r\n    \r\n      // get position of the &lt;dimension ref=\\&quot;A1\\&quot;/&gt; in the static xl_worksheets_sheet1_xml\r\n      int dimensionstart = xl_worksheets_sheet1_xml_buffer.indexOf(&quot;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&quot;);\r\n      // replace the &lt;dimension ref=\\&quot;A1\\&quot;/&gt; with the new dimension\r\n      xl_worksheets_sheet1_xml_buffer = xl_worksheets_sheet1_xml_buffer.replace(\r\n       dimensionstart, \r\n       dimensionstart + &quot;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&quot;.length(), \r\n       &quot;&lt;dimension ref=\\&quot;A1:&quot; + Character.toString(c) + r + &quot;\\&quot;/&gt;&quot;);\r\n    \r\n      // get position of the &lt;sheetData/&gt; in the static xl_worksheets_sheet1_xml\r\n      int sheetdatastart = xl_worksheets_sheet1_xml_buffer.indexOf(&quot;&lt;sheetData/&gt;&quot;);\r\n      // replace the &lt;sheetData/&gt; with the prepared sheet date string\r\n      xl_worksheets_sheet1_xml_buffer = xl_worksheets_sheet1_xml_buffer.replace(\r\n       sheetdatastart, \r\n       sheetdatastart + &quot;&lt;sheetData/&gt;&quot;.length(), \r\n       sheetdata);\r\n    \r\n      // create the xl/worksheets/sheet1.xml\r\n      zipentry = new ZipEntry(&quot;xl/worksheets/sheet1.xml&quot;);\r\n      zipout.putNextEntry(zipentry);\r\n      data = xl_worksheets_sheet1_xml_buffer.toString().getBytes();\r\n      zipout.write(data, 0, data.length);\r\n      zipout.closeEntry();\r\n    \r\n      zipout.finish();\r\n    \r\n      // now ByteArrayOutputStream resultout contains the XLSX file data\r\n    \r\n      // writing this data into a file\r\n      try (java.io.FileOutputStream fileout = new java.io.FileOutputStream(&quot;test.xlsx&quot;)) {\r\n       resultout.writeTo(fileout);\r\n       resultout.close();\r\n      }\r\n    \r\n     }\r\n    }","title":"How to create and write to Excel file (.xlsx)?","body":"<p>Since this question seems to be rather: \"What is the most lightweight way creating Office Open XML files for Excel (<code>*.xlsx</code>)?\", I will providing an example which does not need any libraries except the default <code>java.lang</code>, <code>java.io</code> and <code>java.util.zip</code>.</p>\n\n<p>A <code>*.xlsx</code> file is nothing else than a ZIP archive containing XML files and other files in a directory structure. So all we need is a possibility for creating, reading and writing ZIP archives and creating, reading and writing XML files. For the ZIP part I am using <code>java.util.zip</code> and for the XML part I am using string manipulation. This, creating and manipulating XML via string manipulation, is not the most recommended way for manipulating XML but it is the most lightweight way since it does not needs any additional XML libraries.</p>\n\n<p>Complete example:</p>\n\n<pre><code>import java.io.OutputStream;\nimport java.io.ByteArrayOutputStream;\n\nimport java.util.zip.*;\n\npublic class CreateXLSXFromScratch {\n\n //some static parts of the XLSX file:\n\n static String content_types_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?&gt;&lt;Types xmlns=\\\"http://schemas.openxmlformats.org/package/2006/content-types\\\"&gt;&lt;Default ContentType=\\\"application/vnd.openxmlformats-package.relationships+xml\\\" Extension=\\\"rels\\\"/&gt;&lt;Default ContentType=\\\"application/xml\\\" Extension=\\\"xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.extended-properties+xml\\\" PartName=\\\"/docProps/app.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-package.core-properties+xml\\\" PartName=\\\"/docProps/core.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\\\" PartName=\\\"/xl/sharedStrings.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\\\" PartName=\\\"/xl/styles.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\\\" PartName=\\\"/xl/workbook.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\\\" PartName=\\\"/xl/worksheets/sheet1.xml\\\"/&gt;&lt;/Types&gt;\";\n\n static String docProps_app_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;Properties xmlns=\\\"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\\\"&gt;&lt;Application&gt;\" + \"Created Low level From Scratch\" + \"&lt;/Application&gt;&lt;/Properties&gt;\";\n\n static String docProps_core_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?&gt;&lt;cp:coreProperties xmlns:cp=\\\"http://schemas.openxmlformats.org/package/2006/metadata/core-properties\\\" xmlns:dc=\\\"http://purl.org/dc/elements/1.1/\\\" xmlns:dcterms=\\\"http://purl.org/dc/terms/\\\" xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance\\\"&gt;&lt;dcterms:created xsi:type=\\\"dcterms:W3CDTF\\\"&gt;\" + java.time.Instant.now().truncatedTo(java.time.temporal.ChronoUnit.SECONDS).toString() + \"&lt;/dcterms:created&gt;&lt;dc:creator&gt;\" + \"Axel Richter from scratch\" + \"&lt;/dc:creator&gt;&lt;/cp:coreProperties&gt;\";\n\n static String _rels_rels_xml  = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?&gt;&lt;Relationships xmlns=\\\"http://schemas.openxmlformats.org/package/2006/relationships\\\"&gt;&lt;Relationship Id=\\\"rId1\\\" Target=\\\"xl/workbook.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\\\"/&gt;&lt;Relationship Id=\\\"rId2\\\" Target=\\\"docProps/app.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties\\\"/&gt;&lt;Relationship Id=\\\"rId3\\\" Target=\\\"docProps/core.xml\\\" Type=\\\"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\\\"/&gt;&lt;/Relationships&gt;\";\n\n static String xl_rels_workbook_xml_rels_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?&gt;&lt;Relationships xmlns=\\\"http://schemas.openxmlformats.org/package/2006/relationships\\\"&gt;&lt;Relationship Id=\\\"rId1\\\" Target=\\\"sharedStrings.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\\\"/&gt;&lt;Relationship Id=\\\"rId2\\\" Target=\\\"styles.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\\\"/&gt;&lt;Relationship Id=\\\"rId3\\\" Target=\\\"worksheets/sheet1.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\\\"/&gt;&lt;/Relationships&gt;\";\n\n static String xl_sharedstrings_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;sst count=\\\"0\\\" uniqueCount=\\\"0\\\" xmlns=\\\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\\\"/&gt;\"; \n\n static String xl_styles_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;styleSheet xmlns=\\\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\\\"&gt;&lt;numFmts count=\\\"0\\\"/&gt;&lt;fonts count=\\\"1\\\"&gt;&lt;font&gt;&lt;sz val=\\\"11.0\\\"/&gt;&lt;color indexed=\\\"8\\\"/&gt;&lt;name val=\\\"Calibri\\\"/&gt;&lt;family val=\\\"2\\\"/&gt;&lt;scheme val=\\\"minor\\\"/&gt;&lt;/font&gt;&lt;/fonts&gt;&lt;fills count=\\\"2\\\"&gt;&lt;fill&gt;&lt;patternFill patternType=\\\"none\\\"/&gt;&lt;/fill&gt;&lt;fill&gt;&lt;patternFill patternType=\\\"darkGray\\\"/&gt;&lt;/fill&gt;&lt;/fills&gt;&lt;borders count=\\\"1\\\"&gt;&lt;border&gt;&lt;left/&gt;&lt;right/&gt;&lt;top/&gt;&lt;bottom/&gt;&lt;diagonal/&gt;&lt;/border&gt;&lt;/borders&gt;&lt;cellStyleXfs count=\\\"1\\\"&gt;&lt;xf numFmtId=\\\"0\\\" fontId=\\\"0\\\" fillId=\\\"0\\\" borderId=\\\"0\\\"/&gt;&lt;/cellStyleXfs&gt;&lt;cellXfs count=\\\"1\\\"&gt;&lt;xf numFmtId=\\\"0\\\" fontId=\\\"0\\\" fillId=\\\"0\\\" borderId=\\\"0\\\" xfId=\\\"0\\\"/&gt;&lt;/cellXfs&gt;&lt;/styleSheet&gt;\";\n\n static String xl_workbook_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;workbook xmlns=\\\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\\\" xmlns:r=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\\\"&gt;&lt;workbookPr date1904=\\\"false\\\"/&gt;&lt;bookViews&gt;&lt;workbookView activeTab=\\\"0\\\"/&gt;&lt;/bookViews&gt;&lt;sheets&gt;&lt;sheet name=\\\"\" + \"Sheet1\" + \"\\\" r:id=\\\"rId3\\\" sheetId=\\\"1\\\"/&gt;&lt;/sheets&gt;&lt;/workbook&gt;\";\n\n static String xl_worksheets_sheet1_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;worksheet xmlns=\\\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\\\"&gt;&lt;dimension ref=\\\"A1\\\"/&gt;&lt;sheetViews&gt;&lt;sheetView workbookViewId=\\\"0\\\" tabSelected=\\\"true\\\"/&gt;&lt;/sheetViews&gt;&lt;sheetFormatPr defaultRowHeight=\\\"15.0\\\"/&gt;&lt;sheetData/&gt;&lt;pageMargins bottom=\\\"0.75\\\" footer=\\\"0.3\\\" header=\\\"0.3\\\" left=\\\"0.7\\\" right=\\\"0.7\\\" top=\\\"0.75\\\"/&gt;&lt;/worksheet&gt;\";\n\n public static void main(String[] args) throws Exception {\n\n  // result goes into a ByteArrayOutputStream\n  ByteArrayOutputStream resultout = new ByteArrayOutputStream();\n\n  // needed objects\n  ZipEntry zipentry = null;\n  byte[] data = null;\n\n  // create ZipOutputStream\n  ZipOutputStream zipout = new ZipOutputStream(resultout);\n\n  // create the static parts of the XLSX ZIP file:\n\n  zipentry = new ZipEntry(\"[Content_Types].xml\");\n  zipout.putNextEntry(zipentry);\n  data = content_types_xml.getBytes();\n  zipout.write(data, 0, data.length);\n  zipout.closeEntry();\n\n  zipentry = new ZipEntry(\"docProps/app.xml\");\n  zipout.putNextEntry(zipentry);\n  data = docProps_app_xml.getBytes();\n  zipout.write(data, 0, data.length);\n  zipout.closeEntry();\n\n  zipentry = new ZipEntry(\"docProps/core.xml\");\n  zipout.putNextEntry(zipentry);\n  data = docProps_core_xml.getBytes();\n  zipout.write(data, 0, data.length);\n  zipout.closeEntry();\n\n  zipentry = new ZipEntry(\"_rels/.rels\");\n  zipout.putNextEntry(zipentry);\n  data = _rels_rels_xml.getBytes();\n  zipout.write(data, 0, data.length);\n  zipout.closeEntry();\n\n  zipentry = new ZipEntry(\"xl/_rels/workbook.xml.rels\");\n  zipout.putNextEntry(zipentry);\n  data = xl_rels_workbook_xml_rels_xml.getBytes();\n  zipout.write(data, 0, data.length);\n  zipout.closeEntry();\n\n  zipentry = new ZipEntry(\"xl/sharedStrings.xml\");\n  zipout.putNextEntry(zipentry);\n  data = xl_sharedstrings_xml.getBytes();\n  zipout.write(data, 0, data.length);\n  zipout.closeEntry();\n\n  zipentry = new ZipEntry(\"xl/styles.xml\");\n  zipout.putNextEntry(zipentry);\n  data = xl_styles_xml.getBytes();\n  zipout.write(data, 0, data.length);\n  zipout.closeEntry();\n\n  zipentry = new ZipEntry(\"xl/workbook.xml\");\n  zipout.putNextEntry(zipentry);\n  data = xl_workbook_xml.getBytes();\n  zipout.write(data, 0, data.length);\n  zipout.closeEntry();\n\n  // preparing the sheet data:\n\n  Object[][] sheetData = new Object[][] {\n   {\"Text\", \"Value\", \"Formula\"},\n   {\"Text1\", 1.23456, \"=SIN(B2)\"},\n   {\"Text2\", 2.34567, \"=SQRT(B3)\"},\n   {\"Text3\", 123.456, \"=B4/10\"}\n  };\n  String sheetdata = \"&lt;sheetData&gt;\";\n  int r = 0;\n  char c = 'A'; --c;\n  for (Object[] rowData : sheetData) {\n   sheetdata += \"&lt;row r=\\\"\" + ++r + \"\\\"&gt;\";\n   c = 'A'; --c;\n   for (Object cellData : rowData) {\n    sheetdata += \"&lt;c r=\\\"\" + Character.toString(++c) + r + \"\\\"\";\n    if (cellData instanceof String &amp;&amp; ((String)cellData).startsWith(\"=\")) {\n     sheetdata += \"&gt;&lt;f&gt;\" + ((String)cellData).replace(\"=\", \"\") + \"&lt;/f&gt;&lt;/c&gt;\";\n    } else if (cellData instanceof String) {\n     sheetdata += \" t=\\\"inlineStr\\\"&gt;&lt;is&gt;&lt;t&gt;\" + ((String)cellData) + \"&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;\";\n    } else if (cellData instanceof Double) {\n     sheetdata += \"&gt;&lt;v&gt;\" + ((Double)cellData) + \"&lt;/v&gt;&lt;/c&gt;\";\n    }\n   }\n   sheetdata += \"&lt;/row&gt;\";\n  }\n  sheetdata += \"&lt;/sheetData&gt;\";\n\n  // get the static sheet xml into a buffer for further processing\n  StringBuffer xl_worksheets_sheet1_xml_buffer = new StringBuffer(xl_worksheets_sheet1_xml);\n\n  // get position of the &lt;dimension ref=\\\"A1\\\"/&gt; in the static xl_worksheets_sheet1_xml\n  int dimensionstart = xl_worksheets_sheet1_xml_buffer.indexOf(\"&lt;dimension ref=\\\"A1\\\"/&gt;\");\n  // replace the &lt;dimension ref=\\\"A1\\\"/&gt; with the new dimension\n  xl_worksheets_sheet1_xml_buffer = xl_worksheets_sheet1_xml_buffer.replace(\n   dimensionstart, \n   dimensionstart + \"&lt;dimension ref=\\\"A1\\\"/&gt;\".length(), \n   \"&lt;dimension ref=\\\"A1:\" + Character.toString(c) + r + \"\\\"/&gt;\");\n\n  // get position of the &lt;sheetData/&gt; in the static xl_worksheets_sheet1_xml\n  int sheetdatastart = xl_worksheets_sheet1_xml_buffer.indexOf(\"&lt;sheetData/&gt;\");\n  // replace the &lt;sheetData/&gt; with the prepared sheet date string\n  xl_worksheets_sheet1_xml_buffer = xl_worksheets_sheet1_xml_buffer.replace(\n   sheetdatastart, \n   sheetdatastart + \"&lt;sheetData/&gt;\".length(), \n   sheetdata);\n\n  // create the xl/worksheets/sheet1.xml\n  zipentry = new ZipEntry(\"xl/worksheets/sheet1.xml\");\n  zipout.putNextEntry(zipentry);\n  data = xl_worksheets_sheet1_xml_buffer.toString().getBytes();\n  zipout.write(data, 0, data.length);\n  zipout.closeEntry();\n\n  zipout.finish();\n\n  // now ByteArrayOutputStream resultout contains the XLSX file data\n\n  // writing this data into a file\n  try (java.io.FileOutputStream fileout = new java.io.FileOutputStream(\"test.xlsx\")) {\n   resultout.writeTo(fileout);\n   resultout.close();\n  }\n\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3749614,"reputation":1213,"user_id":3117416,"display_name":"Thunderstick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571272772,"creation_date":1571272772,"answer_id":58423364,"question_id":50738119,"body_markdown":"I&#39;m expanding on Axel Richter&#39;s answer\r\nMy code below will add features for you to add columns and values dynamically.\r\n\r\n\r\n    \r\nimport android.os.Build;\r\n\r\nimport androidx.annotation.RequiresApi;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Comparator;\r\n    import java.util.zip.*;\r\n\r\n    @SuppressWarnings(&quot;WeakerAccess&quot;)\r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n    public class ExcelSpreadSheet {\r\n\r\n    //some static parts of the XLSX file:\r\n\r\n    String content_types_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Types xmlns=\\&quot;http://schemas.openxmlformats.org/package/2006/content-types\\&quot;&gt;&lt;Default ContentType=\\&quot;application/vnd.openxmlformats-package.relationships+xml\\&quot; Extension=\\&quot;rels\\&quot;/&gt;&lt;Default ContentType=\\&quot;application/xml\\&quot; Extension=\\&quot;xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.extended-properties+xml\\&quot; PartName=\\&quot;/docProps/app.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-package.core-properties+xml\\&quot; PartName=\\&quot;/docProps/core.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\\&quot; PartName=\\&quot;/xl/sharedStrings.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\\&quot; PartName=\\&quot;/xl/styles.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\\&quot; PartName=\\&quot;/xl/workbook.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\\&quot; PartName=\\&quot;/xl/worksheets/sheet1.xml\\&quot;/&gt;&lt;/Types&gt;&quot;;\r\n\r\n    String docProps_app_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;Properties xmlns=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\\&quot;&gt;&lt;Application&gt;&quot; + &quot;Created Low level From Scratch&quot; + &quot;&lt;/Application&gt;&lt;/Properties&gt;&quot;;\r\n\r\n    String docProps_core_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;cp:coreProperties xmlns:cp=\\&quot;http://schemas.openxmlformats.org/package/2006/metadata/core-properties\\&quot; xmlns:dc=\\&quot;http://purl.org/dc/elements/1.1/\\&quot; xmlns:dcterms=\\&quot;http://purl.org/dc/terms/\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;&lt;dcterms:created xsi:type=\\&quot;dcterms:W3CDTF\\&quot;&gt;&quot; + java.time.Instant.now().truncatedTo(java.time.temporal.ChronoUnit.SECONDS).toString() + &quot;&lt;/dcterms:created&gt;&lt;dc:creator&gt;&quot; + &quot;Axel Richter from scratch&quot; + &quot;&lt;/dc:creator&gt;&lt;/cp:coreProperties&gt;&quot;;\r\n\r\n    String _rels_rels_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Relationships xmlns=\\&quot;http://schemas.openxmlformats.org/package/2006/relationships\\&quot;&gt;&lt;Relationship Id=\\&quot;rId1\\&quot; Target=\\&quot;xl/workbook.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId2\\&quot; Target=\\&quot;docProps/app.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId3\\&quot; Target=\\&quot;docProps/core.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\\&quot;/&gt;&lt;/Relationships&gt;&quot;;\r\n\r\n    String xl_rels_workbook_xml_rels_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Relationships xmlns=\\&quot;http://schemas.openxmlformats.org/package/2006/relationships\\&quot;&gt;&lt;Relationship Id=\\&quot;rId1\\&quot; Target=\\&quot;sharedStrings.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId2\\&quot; Target=\\&quot;styles.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId3\\&quot; Target=\\&quot;worksheets/sheet1.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\\&quot;/&gt;&lt;/Relationships&gt;&quot;;\r\n\r\n    String xl_sharedstrings_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;sst count=\\&quot;0\\&quot; uniqueCount=\\&quot;0\\&quot; xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot;/&gt;&quot;;\r\n\r\n    String xl_styles_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;styleSheet xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot;&gt;&lt;numFmts count=\\&quot;0\\&quot;/&gt;&lt;fonts count=\\&quot;1\\&quot;&gt;&lt;font&gt;&lt;sz val=\\&quot;11.0\\&quot;/&gt;&lt;color indexed=\\&quot;8\\&quot;/&gt;&lt;name val=\\&quot;Calibri\\&quot;/&gt;&lt;family val=\\&quot;2\\&quot;/&gt;&lt;scheme val=\\&quot;minor\\&quot;/&gt;&lt;/font&gt;&lt;/fonts&gt;&lt;fills count=\\&quot;2\\&quot;&gt;&lt;fill&gt;&lt;patternFill patternType=\\&quot;none\\&quot;/&gt;&lt;/fill&gt;&lt;fill&gt;&lt;patternFill patternType=\\&quot;darkGray\\&quot;/&gt;&lt;/fill&gt;&lt;/fills&gt;&lt;borders count=\\&quot;1\\&quot;&gt;&lt;border&gt;&lt;left/&gt;&lt;right/&gt;&lt;top/&gt;&lt;bottom/&gt;&lt;diagonal/&gt;&lt;/border&gt;&lt;/borders&gt;&lt;cellStyleXfs count=\\&quot;1\\&quot;&gt;&lt;xf numFmtId=\\&quot;0\\&quot; fontId=\\&quot;0\\&quot; fillId=\\&quot;0\\&quot; borderId=\\&quot;0\\&quot;/&gt;&lt;/cellStyleXfs&gt;&lt;cellXfs count=\\&quot;1\\&quot;&gt;&lt;xf numFmtId=\\&quot;0\\&quot; fontId=\\&quot;0\\&quot; fillId=\\&quot;0\\&quot; borderId=\\&quot;0\\&quot; xfId=\\&quot;0\\&quot;/&gt;&lt;/cellXfs&gt;&lt;/styleSheet&gt;&quot;;\r\n\r\n    String xl_workbook_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;workbook xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot; xmlns:r=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships\\&quot;&gt;&lt;workbookPr date1904=\\&quot;false\\&quot;/&gt;&lt;bookViews&gt;&lt;workbookView activeTab=\\&quot;0\\&quot;/&gt;&lt;/bookViews&gt;&lt;sheets&gt;&lt;sheet name=\\&quot;&quot; + &quot;Sheet1&quot; + &quot;\\&quot; r:id=\\&quot;rId3\\&quot; sheetId=\\&quot;1\\&quot;/&gt;&lt;/sheets&gt;&lt;/workbook&gt;&quot;;\r\n\r\n    String xl_worksheets_sheet1_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;worksheet xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot;&gt;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&lt;sheetViews&gt;&lt;sheetView workbookViewId=\\&quot;0\\&quot; tabSelected=\\&quot;true\\&quot;/&gt;&lt;/sheetViews&gt;&lt;sheetFormatPr defaultRowHeight=\\&quot;15.0\\&quot;/&gt;&lt;sheetData/&gt;&lt;pageMargins bottom=\\&quot;0.75\\&quot; footer=\\&quot;0.3\\&quot; header=\\&quot;0.3\\&quot; left=\\&quot;0.7\\&quot; right=\\&quot;0.7\\&quot; top=\\&quot;0.75\\&quot;/&gt;&lt;/worksheet&gt;&quot;;\r\n\r\n    ArrayList&lt;ArrayList&lt;Object&gt;&gt; sheetDat = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;Object&gt; sheetKeys = new ArrayList&lt;&gt;();\r\n\r\n    ExcelSpreadSheet() {\r\n        sheetDat.add(0, new ArrayList&lt;&gt;());\r\n    }\r\n\r\n    int addFirstColumnKey(String key) {\r\n        if (!sheetKeys.contains(key)) {\r\n            if (sheetKeys.size() &gt; 26) return -1;\r\n            sheetKeys.add(key);\r\n        }\r\n        return sheetKeys.indexOf(key);\r\n    }\r\n\r\n    void addValueToRow(int rowID, String keyName, Object value) {\r\n        addFirstColumnKey(&quot;ID&quot;);\r\n        int columnEdit = addFirstColumnKey(keyName);\r\n        if (columnEdit == -1) return;//ERROR\r\n        int editingRow = -1;\r\n        for (int i = 0; i &lt; sheetDat.size(); i++) {\r\n            if (sheetDat.get(i).get(0).equals(rowID)) {\r\n                editingRow = i;\r\n            }\r\n        }\r\n        if (editingRow == -1) {\r\n            sheetDat.add(new ArrayList&lt;&gt;());\r\n            editingRow = sheetDat.size() - 1;\r\n        }\r\n        if (sheetDat.get(editingRow).size() &lt; sheetKeys.size()) {\r\n            for (int a = 0; a &lt; sheetKeys.size(); a++) {\r\n                sheetDat.get(editingRow).add(0);\r\n            }\r\n        }\r\n        sheetDat.get(editingRow).set(columnEdit, value);\r\n        sheetDat.get(editingRow).set(0, rowID);\r\n    }\r\n\r\n    private class Sort implements Comparator&lt;ArrayList&lt;Object&gt;&gt; {\r\n        int sortColumn;\r\n\r\n        Sort(int columnToSortBy) {\r\n            sortColumn = columnToSortBy;\r\n        }\r\n\r\n        public int compare(ArrayList&lt;Object&gt; a, ArrayList&lt;Object&gt; b) {\r\n            if (a.size() &lt; sortColumn || a.get(sortColumn) == null) {\r\n                return 0;\r\n            } else if (a.get(sortColumn) instanceof String) {\r\n                return ((String) a.get(sortColumn)).compareTo(((String) b.get(sortColumn)));\r\n            } else if (a.get(sortColumn) instanceof Integer) {\r\n                return ((Integer) a.get(sortColumn)).compareTo(((Integer) b.get(sortColumn)));\r\n            } else if (a.get(sortColumn) instanceof Long) {\r\n                return ((Long) a.get(sortColumn)).compareTo(((Long) b.get(sortColumn)));\r\n            } else if (a.get(sortColumn) instanceof Double) {\r\n                return ((Double) a.get(sortColumn)).compareTo(((Double) b.get(sortColumn)));\r\n            }\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    void exportToFile() throws Exception {\r\n\r\n        // result goes into a ByteArrayOutputStream\r\n        ByteArrayOutputStream resultout = new ByteArrayOutputStream();\r\n\r\n        // needed objects\r\n        ZipEntry zipentry;\r\n        byte[] data;\r\n\r\n        // create ZipOutputStream\r\n        ZipOutputStream zipout = new ZipOutputStream(resultout);\r\n\r\n        // create the static parts of the XLSX ZIP file:\r\n\r\n        zipentry = new ZipEntry(&quot;[Content_Types].xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = content_types_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;docProps/app.xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = docProps_app_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;docProps/core.xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = docProps_core_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;_rels/.rels&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = _rels_rels_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;xl/_rels/workbook.xml.rels&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = xl_rels_workbook_xml_rels_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;xl/sharedStrings.xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = xl_sharedstrings_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;xl/styles.xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = xl_styles_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;xl/workbook.xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = xl_workbook_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        // preparing the sheet data:\r\n\r\n        String sheetdata = &quot;&lt;sheetData&gt;&quot;;\r\n        int r = 0;\r\n        char c = &#39;A&#39;;\r\n        --c;\r\n        ArrayList&lt;ArrayList&lt;Object&gt;&gt; sheet = sheetDat;\r\n        sheet.add(0, sheetKeys);\r\n        for (ArrayList&lt;Object&gt; rowData : sheet) {\r\n            sheetdata += &quot;&lt;row r=\\&quot;&quot; + ++r + &quot;\\&quot;&gt;&quot;;\r\n            c = &#39;A&#39;;\r\n            --c;\r\n            for (Object cellData : rowData) {\r\n                sheetdata += &quot;&lt;c r=\\&quot;&quot; + Character.toString(++c) + r + &quot;\\&quot;&quot;;\r\n                if (cellData instanceof String &amp;&amp; ((String) cellData).startsWith(&quot;=&quot;)) {\r\n                    sheetdata += &quot;&gt;&lt;f&gt;&quot; + ((String) cellData).replace(&quot;=&quot;, &quot;&quot;) + &quot;&lt;/f&gt;&lt;/c&gt;&quot;;\r\n                } else if (cellData instanceof String) {\r\n                    sheetdata += &quot; t=\\&quot;inlineStr\\&quot;&gt;&lt;is&gt;&lt;t&gt;&quot; + cellData + &quot;&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;&quot;;\r\n                } else if (cellData instanceof Double) {\r\n                    sheetdata += &quot;&gt;&lt;v&gt;&quot; + cellData + &quot;&lt;/v&gt;&lt;/c&gt;&quot;;\r\n                }\r\n            }\r\n            sheetdata += &quot;&lt;/row&gt;&quot;;\r\n        }\r\n        sheetdata += &quot;&lt;/sheetData&gt;&quot;;\r\n\r\n        // get the static sheet xml into a buffer for further processing\r\n        StringBuffer xl_worksheets_sheet1_xml_buffer = new StringBuffer(xl_worksheets_sheet1_xml);\r\n\r\n        // get position of the &lt;dimension ref=\\&quot;A1\\&quot;/&gt; in the static xl_worksheets_sheet1_xml\r\n        int dimensionstart = xl_worksheets_sheet1_xml_buffer.indexOf(&quot;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&quot;);\r\n        // replace the &lt;dimension ref=\\&quot;A1\\&quot;/&gt; with the new dimension\r\n        xl_worksheets_sheet1_xml_buffer = xl_worksheets_sheet1_xml_buffer.replace(\r\n                dimensionstart,\r\n                dimensionstart + &quot;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&quot;.length(),\r\n                &quot;&lt;dimension ref=\\&quot;A1:&quot; + c + r + &quot;\\&quot;/&gt;&quot;);\r\n\r\n        // get position of the &lt;sheetData/&gt; in the static xl_worksheets_sheet1_xml\r\n        int sheetdatastart = xl_worksheets_sheet1_xml_buffer.indexOf(&quot;&lt;sheetData/&gt;&quot;);\r\n        // replace the &lt;sheetData/&gt; with the prepared sheet date string\r\n        xl_worksheets_sheet1_xml_buffer = xl_worksheets_sheet1_xml_buffer.replace(\r\n                sheetdatastart,\r\n                sheetdatastart + &quot;&lt;sheetData/&gt;&quot;.length(),\r\n                sheetdata);\r\n\r\n        // create the xl/worksheets/sheet1.xml\r\n        zipentry = new ZipEntry(&quot;xl/worksheets/sheet1.xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = xl_worksheets_sheet1_xml_buffer.toString().getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipout.finish();\r\n\r\n        // now ByteArrayOutputStream resultout contains the XLSX file data\r\n\r\n        // writing this data into a file\r\n        try (java.io.FileOutputStream fileout = new java.io.FileOutputStream(&quot;working.xlsx&quot;)) {\r\n            resultout.writeTo(fileout);\r\n            resultout.close();\r\n        }\r\n\r\n    }\r\n    }","title":"How to create and write to Excel file (.xlsx)?","body":"<p>I'm expanding on Axel Richter's answer\nMy code below will add features for you to add columns and values dynamically.</p>\n\n<p>import android.os.Build;</p>\n\n<p>import androidx.annotation.RequiresApi;</p>\n\n<p>import java.io.ByteArrayOutputStream;</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.zip.*;\n\n@SuppressWarnings(\"WeakerAccess\")\n@RequiresApi(api = Build.VERSION_CODES.O)\npublic class ExcelSpreadSheet {\n\n//some static parts of the XLSX file:\n\nString content_types_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?&gt;&lt;Types xmlns=\\\"http://schemas.openxmlformats.org/package/2006/content-types\\\"&gt;&lt;Default ContentType=\\\"application/vnd.openxmlformats-package.relationships+xml\\\" Extension=\\\"rels\\\"/&gt;&lt;Default ContentType=\\\"application/xml\\\" Extension=\\\"xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.extended-properties+xml\\\" PartName=\\\"/docProps/app.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-package.core-properties+xml\\\" PartName=\\\"/docProps/core.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\\\" PartName=\\\"/xl/sharedStrings.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\\\" PartName=\\\"/xl/styles.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\\\" PartName=\\\"/xl/workbook.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\\\" PartName=\\\"/xl/worksheets/sheet1.xml\\\"/&gt;&lt;/Types&gt;\";\n\nString docProps_app_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;Properties xmlns=\\\"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\\\"&gt;&lt;Application&gt;\" + \"Created Low level From Scratch\" + \"&lt;/Application&gt;&lt;/Properties&gt;\";\n\nString docProps_core_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?&gt;&lt;cp:coreProperties xmlns:cp=\\\"http://schemas.openxmlformats.org/package/2006/metadata/core-properties\\\" xmlns:dc=\\\"http://purl.org/dc/elements/1.1/\\\" xmlns:dcterms=\\\"http://purl.org/dc/terms/\\\" xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance\\\"&gt;&lt;dcterms:created xsi:type=\\\"dcterms:W3CDTF\\\"&gt;\" + java.time.Instant.now().truncatedTo(java.time.temporal.ChronoUnit.SECONDS).toString() + \"&lt;/dcterms:created&gt;&lt;dc:creator&gt;\" + \"Axel Richter from scratch\" + \"&lt;/dc:creator&gt;&lt;/cp:coreProperties&gt;\";\n\nString _rels_rels_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?&gt;&lt;Relationships xmlns=\\\"http://schemas.openxmlformats.org/package/2006/relationships\\\"&gt;&lt;Relationship Id=\\\"rId1\\\" Target=\\\"xl/workbook.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\\\"/&gt;&lt;Relationship Id=\\\"rId2\\\" Target=\\\"docProps/app.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties\\\"/&gt;&lt;Relationship Id=\\\"rId3\\\" Target=\\\"docProps/core.xml\\\" Type=\\\"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\\\"/&gt;&lt;/Relationships&gt;\";\n\nString xl_rels_workbook_xml_rels_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?&gt;&lt;Relationships xmlns=\\\"http://schemas.openxmlformats.org/package/2006/relationships\\\"&gt;&lt;Relationship Id=\\\"rId1\\\" Target=\\\"sharedStrings.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\\\"/&gt;&lt;Relationship Id=\\\"rId2\\\" Target=\\\"styles.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\\\"/&gt;&lt;Relationship Id=\\\"rId3\\\" Target=\\\"worksheets/sheet1.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\\\"/&gt;&lt;/Relationships&gt;\";\n\nString xl_sharedstrings_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;sst count=\\\"0\\\" uniqueCount=\\\"0\\\" xmlns=\\\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\\\"/&gt;\";\n\nString xl_styles_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;styleSheet xmlns=\\\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\\\"&gt;&lt;numFmts count=\\\"0\\\"/&gt;&lt;fonts count=\\\"1\\\"&gt;&lt;font&gt;&lt;sz val=\\\"11.0\\\"/&gt;&lt;color indexed=\\\"8\\\"/&gt;&lt;name val=\\\"Calibri\\\"/&gt;&lt;family val=\\\"2\\\"/&gt;&lt;scheme val=\\\"minor\\\"/&gt;&lt;/font&gt;&lt;/fonts&gt;&lt;fills count=\\\"2\\\"&gt;&lt;fill&gt;&lt;patternFill patternType=\\\"none\\\"/&gt;&lt;/fill&gt;&lt;fill&gt;&lt;patternFill patternType=\\\"darkGray\\\"/&gt;&lt;/fill&gt;&lt;/fills&gt;&lt;borders count=\\\"1\\\"&gt;&lt;border&gt;&lt;left/&gt;&lt;right/&gt;&lt;top/&gt;&lt;bottom/&gt;&lt;diagonal/&gt;&lt;/border&gt;&lt;/borders&gt;&lt;cellStyleXfs count=\\\"1\\\"&gt;&lt;xf numFmtId=\\\"0\\\" fontId=\\\"0\\\" fillId=\\\"0\\\" borderId=\\\"0\\\"/&gt;&lt;/cellStyleXfs&gt;&lt;cellXfs count=\\\"1\\\"&gt;&lt;xf numFmtId=\\\"0\\\" fontId=\\\"0\\\" fillId=\\\"0\\\" borderId=\\\"0\\\" xfId=\\\"0\\\"/&gt;&lt;/cellXfs&gt;&lt;/styleSheet&gt;\";\n\nString xl_workbook_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;workbook xmlns=\\\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\\\" xmlns:r=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\\\"&gt;&lt;workbookPr date1904=\\\"false\\\"/&gt;&lt;bookViews&gt;&lt;workbookView activeTab=\\\"0\\\"/&gt;&lt;/bookViews&gt;&lt;sheets&gt;&lt;sheet name=\\\"\" + \"Sheet1\" + \"\\\" r:id=\\\"rId3\\\" sheetId=\\\"1\\\"/&gt;&lt;/sheets&gt;&lt;/workbook&gt;\";\n\nString xl_worksheets_sheet1_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;worksheet xmlns=\\\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\\\"&gt;&lt;dimension ref=\\\"A1\\\"/&gt;&lt;sheetViews&gt;&lt;sheetView workbookViewId=\\\"0\\\" tabSelected=\\\"true\\\"/&gt;&lt;/sheetViews&gt;&lt;sheetFormatPr defaultRowHeight=\\\"15.0\\\"/&gt;&lt;sheetData/&gt;&lt;pageMargins bottom=\\\"0.75\\\" footer=\\\"0.3\\\" header=\\\"0.3\\\" left=\\\"0.7\\\" right=\\\"0.7\\\" top=\\\"0.75\\\"/&gt;&lt;/worksheet&gt;\";\n\nArrayList&lt;ArrayList&lt;Object&gt;&gt; sheetDat = new ArrayList&lt;&gt;();\nArrayList&lt;Object&gt; sheetKeys = new ArrayList&lt;&gt;();\n\nExcelSpreadSheet() {\n    sheetDat.add(0, new ArrayList&lt;&gt;());\n}\n\nint addFirstColumnKey(String key) {\n    if (!sheetKeys.contains(key)) {\n        if (sheetKeys.size() &gt; 26) return -1;\n        sheetKeys.add(key);\n    }\n    return sheetKeys.indexOf(key);\n}\n\nvoid addValueToRow(int rowID, String keyName, Object value) {\n    addFirstColumnKey(\"ID\");\n    int columnEdit = addFirstColumnKey(keyName);\n    if (columnEdit == -1) return;//ERROR\n    int editingRow = -1;\n    for (int i = 0; i &lt; sheetDat.size(); i++) {\n        if (sheetDat.get(i).get(0).equals(rowID)) {\n            editingRow = i;\n        }\n    }\n    if (editingRow == -1) {\n        sheetDat.add(new ArrayList&lt;&gt;());\n        editingRow = sheetDat.size() - 1;\n    }\n    if (sheetDat.get(editingRow).size() &lt; sheetKeys.size()) {\n        for (int a = 0; a &lt; sheetKeys.size(); a++) {\n            sheetDat.get(editingRow).add(0);\n        }\n    }\n    sheetDat.get(editingRow).set(columnEdit, value);\n    sheetDat.get(editingRow).set(0, rowID);\n}\n\nprivate class Sort implements Comparator&lt;ArrayList&lt;Object&gt;&gt; {\n    int sortColumn;\n\n    Sort(int columnToSortBy) {\n        sortColumn = columnToSortBy;\n    }\n\n    public int compare(ArrayList&lt;Object&gt; a, ArrayList&lt;Object&gt; b) {\n        if (a.size() &lt; sortColumn || a.get(sortColumn) == null) {\n            return 0;\n        } else if (a.get(sortColumn) instanceof String) {\n            return ((String) a.get(sortColumn)).compareTo(((String) b.get(sortColumn)));\n        } else if (a.get(sortColumn) instanceof Integer) {\n            return ((Integer) a.get(sortColumn)).compareTo(((Integer) b.get(sortColumn)));\n        } else if (a.get(sortColumn) instanceof Long) {\n            return ((Long) a.get(sortColumn)).compareTo(((Long) b.get(sortColumn)));\n        } else if (a.get(sortColumn) instanceof Double) {\n            return ((Double) a.get(sortColumn)).compareTo(((Double) b.get(sortColumn)));\n        }\n        return 0;\n    }\n}\n\nvoid exportToFile() throws Exception {\n\n    // result goes into a ByteArrayOutputStream\n    ByteArrayOutputStream resultout = new ByteArrayOutputStream();\n\n    // needed objects\n    ZipEntry zipentry;\n    byte[] data;\n\n    // create ZipOutputStream\n    ZipOutputStream zipout = new ZipOutputStream(resultout);\n\n    // create the static parts of the XLSX ZIP file:\n\n    zipentry = new ZipEntry(\"[Content_Types].xml\");\n    zipout.putNextEntry(zipentry);\n    data = content_types_xml.getBytes();\n    zipout.write(data, 0, data.length);\n    zipout.closeEntry();\n\n    zipentry = new ZipEntry(\"docProps/app.xml\");\n    zipout.putNextEntry(zipentry);\n    data = docProps_app_xml.getBytes();\n    zipout.write(data, 0, data.length);\n    zipout.closeEntry();\n\n    zipentry = new ZipEntry(\"docProps/core.xml\");\n    zipout.putNextEntry(zipentry);\n    data = docProps_core_xml.getBytes();\n    zipout.write(data, 0, data.length);\n    zipout.closeEntry();\n\n    zipentry = new ZipEntry(\"_rels/.rels\");\n    zipout.putNextEntry(zipentry);\n    data = _rels_rels_xml.getBytes();\n    zipout.write(data, 0, data.length);\n    zipout.closeEntry();\n\n    zipentry = new ZipEntry(\"xl/_rels/workbook.xml.rels\");\n    zipout.putNextEntry(zipentry);\n    data = xl_rels_workbook_xml_rels_xml.getBytes();\n    zipout.write(data, 0, data.length);\n    zipout.closeEntry();\n\n    zipentry = new ZipEntry(\"xl/sharedStrings.xml\");\n    zipout.putNextEntry(zipentry);\n    data = xl_sharedstrings_xml.getBytes();\n    zipout.write(data, 0, data.length);\n    zipout.closeEntry();\n\n    zipentry = new ZipEntry(\"xl/styles.xml\");\n    zipout.putNextEntry(zipentry);\n    data = xl_styles_xml.getBytes();\n    zipout.write(data, 0, data.length);\n    zipout.closeEntry();\n\n    zipentry = new ZipEntry(\"xl/workbook.xml\");\n    zipout.putNextEntry(zipentry);\n    data = xl_workbook_xml.getBytes();\n    zipout.write(data, 0, data.length);\n    zipout.closeEntry();\n\n    // preparing the sheet data:\n\n    String sheetdata = \"&lt;sheetData&gt;\";\n    int r = 0;\n    char c = 'A';\n    --c;\n    ArrayList&lt;ArrayList&lt;Object&gt;&gt; sheet = sheetDat;\n    sheet.add(0, sheetKeys);\n    for (ArrayList&lt;Object&gt; rowData : sheet) {\n        sheetdata += \"&lt;row r=\\\"\" + ++r + \"\\\"&gt;\";\n        c = 'A';\n        --c;\n        for (Object cellData : rowData) {\n            sheetdata += \"&lt;c r=\\\"\" + Character.toString(++c) + r + \"\\\"\";\n            if (cellData instanceof String &amp;&amp; ((String) cellData).startsWith(\"=\")) {\n                sheetdata += \"&gt;&lt;f&gt;\" + ((String) cellData).replace(\"=\", \"\") + \"&lt;/f&gt;&lt;/c&gt;\";\n            } else if (cellData instanceof String) {\n                sheetdata += \" t=\\\"inlineStr\\\"&gt;&lt;is&gt;&lt;t&gt;\" + cellData + \"&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;\";\n            } else if (cellData instanceof Double) {\n                sheetdata += \"&gt;&lt;v&gt;\" + cellData + \"&lt;/v&gt;&lt;/c&gt;\";\n            }\n        }\n        sheetdata += \"&lt;/row&gt;\";\n    }\n    sheetdata += \"&lt;/sheetData&gt;\";\n\n    // get the static sheet xml into a buffer for further processing\n    StringBuffer xl_worksheets_sheet1_xml_buffer = new StringBuffer(xl_worksheets_sheet1_xml);\n\n    // get position of the &lt;dimension ref=\\\"A1\\\"/&gt; in the static xl_worksheets_sheet1_xml\n    int dimensionstart = xl_worksheets_sheet1_xml_buffer.indexOf(\"&lt;dimension ref=\\\"A1\\\"/&gt;\");\n    // replace the &lt;dimension ref=\\\"A1\\\"/&gt; with the new dimension\n    xl_worksheets_sheet1_xml_buffer = xl_worksheets_sheet1_xml_buffer.replace(\n            dimensionstart,\n            dimensionstart + \"&lt;dimension ref=\\\"A1\\\"/&gt;\".length(),\n            \"&lt;dimension ref=\\\"A1:\" + c + r + \"\\\"/&gt;\");\n\n    // get position of the &lt;sheetData/&gt; in the static xl_worksheets_sheet1_xml\n    int sheetdatastart = xl_worksheets_sheet1_xml_buffer.indexOf(\"&lt;sheetData/&gt;\");\n    // replace the &lt;sheetData/&gt; with the prepared sheet date string\n    xl_worksheets_sheet1_xml_buffer = xl_worksheets_sheet1_xml_buffer.replace(\n            sheetdatastart,\n            sheetdatastart + \"&lt;sheetData/&gt;\".length(),\n            sheetdata);\n\n    // create the xl/worksheets/sheet1.xml\n    zipentry = new ZipEntry(\"xl/worksheets/sheet1.xml\");\n    zipout.putNextEntry(zipentry);\n    data = xl_worksheets_sheet1_xml_buffer.toString().getBytes();\n    zipout.write(data, 0, data.length);\n    zipout.closeEntry();\n\n    zipout.finish();\n\n    // now ByteArrayOutputStream resultout contains the XLSX file data\n\n    // writing this data into a file\n    try (java.io.FileOutputStream fileout = new java.io.FileOutputStream(\"working.xlsx\")) {\n        resultout.writeTo(fileout);\n        resultout.close();\n    }\n\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1186832,"reputation":625,"user_id":1160623,"accept_rate":75,"display_name":"steve"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1574756150,"creation_date":1574756150,"answer_id":59046443,"question_id":50738119,"body_markdown":"update of Axel Richter&#39;s answer:\r\n\r\n - add cell dynamically\r\n - unlimited columns (not only 26)\r\n\r\n\r\n```\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Calendar;\r\nimport java.util.zip.ZipEntry;\r\nimport java.util.zip.ZipOutputStream;\r\n\r\npublic class CreatePlainXLSX {\r\n\r\n    //some static parts of the XLSX file:\r\n\r\n    static String content_types_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Types xmlns=\\&quot;http://schemas.openxmlformats.org/package/2006/content-types\\&quot;&gt;&lt;Default ContentType=\\&quot;application/vnd.openxmlformats-package.relationships+xml\\&quot; Extension=\\&quot;rels\\&quot;/&gt;&lt;Default ContentType=\\&quot;application/xml\\&quot; Extension=\\&quot;xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.extended-properties+xml\\&quot; PartName=\\&quot;/docProps/app.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-package.core-properties+xml\\&quot; PartName=\\&quot;/docProps/core.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\\&quot; PartName=\\&quot;/xl/sharedStrings.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\\&quot; PartName=\\&quot;/xl/styles.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\\&quot; PartName=\\&quot;/xl/workbook.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\\&quot; PartName=\\&quot;/xl/worksheets/sheet1.xml\\&quot;/&gt;&lt;/Types&gt;&quot;;\r\n\r\n    static String docProps_app_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;Properties xmlns=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\\&quot;&gt;&lt;Application&gt;&quot; + &quot;Created Low level From Scratch&quot; + &quot;&lt;/Application&gt;&lt;/Properties&gt;&quot;;\r\n\r\n    static SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;);\r\n\r\n    static String docProps_core_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;cp:coreProperties xmlns:cp=\\&quot;http://schemas.openxmlformats.org/package/2006/metadata/core-properties\\&quot; xmlns:dc=\\&quot;http://purl.org/dc/elements/1.1/\\&quot; xmlns:dcterms=\\&quot;http://purl.org/dc/terms/\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;&lt;dcterms:created xsi:type=\\&quot;dcterms:W3CDTF\\&quot;&gt;&quot; + formatter.format(Calendar.getInstance().getTime()) /*java.time.Instant.now().truncatedTo(java.time.temporal.ChronoUnit.SECONDS).toString()*/ + &quot;&lt;/dcterms:created&gt;&lt;dc:creator&gt;&quot; + &quot;Axel Richter from scratch&quot; + &quot;&lt;/dc:creator&gt;&lt;/cp:coreProperties&gt;&quot;;\r\n\r\n    static String _rels_rels_xml  = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Relationships xmlns=\\&quot;http://schemas.openxmlformats.org/package/2006/relationships\\&quot;&gt;&lt;Relationship Id=\\&quot;rId1\\&quot; Target=\\&quot;xl/workbook.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId2\\&quot; Target=\\&quot;docProps/app.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId3\\&quot; Target=\\&quot;docProps/core.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\\&quot;/&gt;&lt;/Relationships&gt;&quot;;\r\n\r\n    static String xl_rels_workbook_xml_rels_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Relationships xmlns=\\&quot;http://schemas.openxmlformats.org/package/2006/relationships\\&quot;&gt;&lt;Relationship Id=\\&quot;rId1\\&quot; Target=\\&quot;sharedStrings.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId2\\&quot; Target=\\&quot;styles.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId3\\&quot; Target=\\&quot;worksheets/sheet1.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\\&quot;/&gt;&lt;/Relationships&gt;&quot;;\r\n\r\n    static String xl_sharedstrings_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;sst count=\\&quot;0\\&quot; uniqueCount=\\&quot;0\\&quot; xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot;/&gt;&quot;;\r\n\r\n    static String xl_styles_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;styleSheet xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot;&gt;&lt;numFmts count=\\&quot;0\\&quot;/&gt;&lt;fonts count=\\&quot;1\\&quot;&gt;&lt;font&gt;&lt;sz val=\\&quot;11.0\\&quot;/&gt;&lt;color indexed=\\&quot;8\\&quot;/&gt;&lt;name val=\\&quot;Calibri\\&quot;/&gt;&lt;family val=\\&quot;2\\&quot;/&gt;&lt;scheme val=\\&quot;minor\\&quot;/&gt;&lt;/font&gt;&lt;/fonts&gt;&lt;fills count=\\&quot;2\\&quot;&gt;&lt;fill&gt;&lt;patternFill patternType=\\&quot;none\\&quot;/&gt;&lt;/fill&gt;&lt;fill&gt;&lt;patternFill patternType=\\&quot;darkGray\\&quot;/&gt;&lt;/fill&gt;&lt;/fills&gt;&lt;borders count=\\&quot;1\\&quot;&gt;&lt;border&gt;&lt;left/&gt;&lt;right/&gt;&lt;top/&gt;&lt;bottom/&gt;&lt;diagonal/&gt;&lt;/border&gt;&lt;/borders&gt;&lt;cellStyleXfs count=\\&quot;1\\&quot;&gt;&lt;xf numFmtId=\\&quot;0\\&quot; fontId=\\&quot;0\\&quot; fillId=\\&quot;0\\&quot; borderId=\\&quot;0\\&quot;/&gt;&lt;/cellStyleXfs&gt;&lt;cellXfs count=\\&quot;1\\&quot;&gt;&lt;xf numFmtId=\\&quot;0\\&quot; fontId=\\&quot;0\\&quot; fillId=\\&quot;0\\&quot; borderId=\\&quot;0\\&quot; xfId=\\&quot;0\\&quot;/&gt;&lt;/cellXfs&gt;&lt;/styleSheet&gt;&quot;;\r\n\r\n    static String xl_workbook_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;workbook xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot; xmlns:r=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships\\&quot;&gt;&lt;workbookPr date1904=\\&quot;false\\&quot;/&gt;&lt;bookViews&gt;&lt;workbookView activeTab=\\&quot;0\\&quot;/&gt;&lt;/bookViews&gt;&lt;sheets&gt;&lt;sheet name=\\&quot;&quot; + &quot;Sheet1&quot; + &quot;\\&quot; r:id=\\&quot;rId3\\&quot; sheetId=\\&quot;1\\&quot;/&gt;&lt;/sheets&gt;&lt;/workbook&gt;&quot;;\r\n\r\n    static String xl_worksheets_sheet1_xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;worksheet xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot;&gt;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&lt;sheetViews&gt;&lt;sheetView workbookViewId=\\&quot;0\\&quot; tabSelected=\\&quot;true\\&quot;/&gt;&lt;/sheetViews&gt;&lt;sheetFormatPr defaultRowHeight=\\&quot;15.0\\&quot;/&gt;&lt;sheetData/&gt;&lt;pageMargins bottom=\\&quot;0.75\\&quot; footer=\\&quot;0.3\\&quot; header=\\&quot;0.3\\&quot; left=\\&quot;0.7\\&quot; right=\\&quot;0.7\\&quot; top=\\&quot;0.75\\&quot;/&gt;&lt;/worksheet&gt;&quot;;\r\n\r\n\r\n    ArrayList&lt;ArrayList&lt;Object&gt;&gt; sheetDat = new ArrayList&lt;&gt;();\r\n\r\n    public CreatePlainXLSX() {\r\n        sheetDat.add(0, new ArrayList&lt;&gt;());\r\n    }\r\n\r\n    public void addCell(int rowNum, int cellNum, Object value) {\r\n\r\n        if (sheetDat.size() &lt;= rowNum){\r\n            for (int a = sheetDat.size(); a &lt;= rowNum; a++) {\r\n                sheetDat.add(new ArrayList&lt;&gt;());\r\n            }\r\n        }\r\n\r\n        if (sheetDat.get(rowNum).size() &lt;= cellNum) {\r\n            for (int a = sheetDat.get(rowNum).size(); a &lt;= cellNum; a++) {\r\n                sheetDat.get(rowNum).add(&quot;&quot;);\r\n            }\r\n        }\r\n        sheetDat.get(rowNum).set(cellNum, value);\r\n    }\r\n\r\n    private static int toNumber(String name) {\r\n        int number = 0;\r\n        for (int i = 0; i &lt; name.length(); i++) {\r\n            number = number * 26 + (name.charAt(i) - (&#39;A&#39; - 1));\r\n        }\r\n        return number;\r\n    }\r\n\r\n    private static String toName(int number) {\r\n        StringBuilder sb = new StringBuilder();\r\n        while (number-- &gt; 0) {\r\n            sb.append((char)(&#39;A&#39; + (number % 26)));\r\n            number /= 26;\r\n        }\r\n        return sb.reverse().toString();\r\n    }\r\n\r\n    private String incrementColumnR(String a){\r\n        return toName(toNumber(a) + 1);\r\n    }\r\n\r\n    public void exportToFile(FileOutputStream fileout) throws Exception {\r\n\r\n        // result goes into a ByteArrayOutputStream\r\n        ByteArrayOutputStream resultout = new ByteArrayOutputStream();\r\n\r\n        // needed objects\r\n        ZipEntry zipentry;\r\n        byte[] data;\r\n\r\n        // create ZipOutputStream\r\n        ZipOutputStream zipout = new ZipOutputStream(resultout);\r\n\r\n        // create the static parts of the XLSX ZIP file:\r\n\r\n        zipentry = new ZipEntry(&quot;[Content_Types].xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = content_types_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;docProps/app.xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = docProps_app_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;docProps/core.xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = docProps_core_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;_rels/.rels&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = _rels_rels_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;xl/_rels/workbook.xml.rels&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = xl_rels_workbook_xml_rels_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;xl/sharedStrings.xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = xl_sharedstrings_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;xl/styles.xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = xl_styles_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipentry = new ZipEntry(&quot;xl/workbook.xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = xl_workbook_xml.getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        // preparing the sheet data:\r\n\r\n        String sheetdata = &quot;&lt;sheetData&gt;&quot;;\r\n        int r = 0;\r\n        String c = toName(0);\r\n        ArrayList&lt;ArrayList&lt;Object&gt;&gt; sheet = sheetDat;\r\n        for (ArrayList&lt;Object&gt; rowData : sheet) {\r\n            sheetdata += &quot;&lt;row r=\\&quot;&quot; + ++r + &quot;\\&quot;&gt;&quot;;\r\n            c = toName(0);\r\n            for (Object cellData : rowData) {\r\n                c = incrementColumnR(c);\r\n                sheetdata += &quot;&lt;c r=\\&quot;&quot; + c + r + &quot;\\&quot;&quot;;\r\n                if (cellData instanceof String &amp;&amp; ((String) cellData).startsWith(&quot;=&quot;)) {\r\n                    sheetdata += &quot;&gt;&lt;f&gt;&quot; + ((String) cellData).replace(&quot;=&quot;, &quot;&quot;) + &quot;&lt;/f&gt;&lt;/c&gt;&quot;;\r\n                } else if (cellData instanceof String) {\r\n                    sheetdata += &quot; t=\\&quot;inlineStr\\&quot;&gt;&lt;is&gt;&lt;t&gt;&quot; + cellData + &quot;&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;&quot;;\r\n                } else if (cellData instanceof Double || cellData instanceof Integer) {\r\n                    sheetdata += &quot;&gt;&lt;v&gt;&quot; + cellData + &quot;&lt;/v&gt;&lt;/c&gt;&quot;;\r\n                }\r\n            }\r\n            sheetdata += &quot;&lt;/row&gt;&quot;;\r\n        }\r\n        sheetdata += &quot;&lt;/sheetData&gt;&quot;;\r\n\r\n        // get the static sheet xml into a buffer for further processing\r\n        StringBuffer xl_worksheets_sheet1_xml_buffer = new StringBuffer(xl_worksheets_sheet1_xml);\r\n\r\n        // get position of the &lt;dimension ref=\\&quot;A1\\&quot;/&gt; in the static xl_worksheets_sheet1_xml\r\n        int dimensionstart = xl_worksheets_sheet1_xml_buffer.indexOf(&quot;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&quot;);\r\n        // replace the &lt;dimension ref=\\&quot;A1\\&quot;/&gt; with the new dimension\r\n        xl_worksheets_sheet1_xml_buffer = xl_worksheets_sheet1_xml_buffer.replace(\r\n                dimensionstart,\r\n                dimensionstart + &quot;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&quot;.length(),\r\n                &quot;&lt;dimension ref=\\&quot;A1:&quot; + c + r + &quot;\\&quot;/&gt;&quot;);\r\n\r\n        // get position of the &lt;sheetData/&gt; in the static xl_worksheets_sheet1_xml\r\n        int sheetdatastart = xl_worksheets_sheet1_xml_buffer.indexOf(&quot;&lt;sheetData/&gt;&quot;);\r\n        // replace the &lt;sheetData/&gt; with the prepared sheet date string\r\n        xl_worksheets_sheet1_xml_buffer = xl_worksheets_sheet1_xml_buffer.replace(\r\n                sheetdatastart,\r\n                sheetdatastart + &quot;&lt;sheetData/&gt;&quot;.length(),\r\n                sheetdata);\r\n\r\n        // create the xl/worksheets/sheet1.xml\r\n        zipentry = new ZipEntry(&quot;xl/worksheets/sheet1.xml&quot;);\r\n        zipout.putNextEntry(zipentry);\r\n        data = xl_worksheets_sheet1_xml_buffer.toString().getBytes();\r\n        zipout.write(data, 0, data.length);\r\n        zipout.closeEntry();\r\n\r\n        zipout.finish();\r\n\r\n        // now ByteArrayOutputStream resultout contains the XLSX file data\r\n\r\n        // writing this data into a file\r\n        if(fileout != null) {\r\n            resultout.writeTo(fileout);\r\n            resultout.close();\r\n        }\r\n    }\r\n}\r\n```","title":"How to create and write to Excel file (.xlsx)?","body":"<p>update of Axel Richter's answer:</p>\n\n<ul>\n<li>add cell dynamically</li>\n<li>unlimited columns (not only 26)</li>\n</ul>\n\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.FileOutputStream;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Calendar;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipOutputStream;\n\npublic class CreatePlainXLSX {\n\n    //some static parts of the XLSX file:\n\n    static String content_types_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?&gt;&lt;Types xmlns=\\\"http://schemas.openxmlformats.org/package/2006/content-types\\\"&gt;&lt;Default ContentType=\\\"application/vnd.openxmlformats-package.relationships+xml\\\" Extension=\\\"rels\\\"/&gt;&lt;Default ContentType=\\\"application/xml\\\" Extension=\\\"xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.extended-properties+xml\\\" PartName=\\\"/docProps/app.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-package.core-properties+xml\\\" PartName=\\\"/docProps/core.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\\\" PartName=\\\"/xl/sharedStrings.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\\\" PartName=\\\"/xl/styles.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\\\" PartName=\\\"/xl/workbook.xml\\\"/&gt;&lt;Override ContentType=\\\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\\\" PartName=\\\"/xl/worksheets/sheet1.xml\\\"/&gt;&lt;/Types&gt;\";\n\n    static String docProps_app_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;Properties xmlns=\\\"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\\\"&gt;&lt;Application&gt;\" + \"Created Low level From Scratch\" + \"&lt;/Application&gt;&lt;/Properties&gt;\";\n\n    static SimpleDateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss'Z'\");\n\n    static String docProps_core_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?&gt;&lt;cp:coreProperties xmlns:cp=\\\"http://schemas.openxmlformats.org/package/2006/metadata/core-properties\\\" xmlns:dc=\\\"http://purl.org/dc/elements/1.1/\\\" xmlns:dcterms=\\\"http://purl.org/dc/terms/\\\" xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance\\\"&gt;&lt;dcterms:created xsi:type=\\\"dcterms:W3CDTF\\\"&gt;\" + formatter.format(Calendar.getInstance().getTime()) /*java.time.Instant.now().truncatedTo(java.time.temporal.ChronoUnit.SECONDS).toString()*/ + \"&lt;/dcterms:created&gt;&lt;dc:creator&gt;\" + \"Axel Richter from scratch\" + \"&lt;/dc:creator&gt;&lt;/cp:coreProperties&gt;\";\n\n    static String _rels_rels_xml  = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?&gt;&lt;Relationships xmlns=\\\"http://schemas.openxmlformats.org/package/2006/relationships\\\"&gt;&lt;Relationship Id=\\\"rId1\\\" Target=\\\"xl/workbook.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\\\"/&gt;&lt;Relationship Id=\\\"rId2\\\" Target=\\\"docProps/app.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties\\\"/&gt;&lt;Relationship Id=\\\"rId3\\\" Target=\\\"docProps/core.xml\\\" Type=\\\"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\\\"/&gt;&lt;/Relationships&gt;\";\n\n    static String xl_rels_workbook_xml_rels_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?&gt;&lt;Relationships xmlns=\\\"http://schemas.openxmlformats.org/package/2006/relationships\\\"&gt;&lt;Relationship Id=\\\"rId1\\\" Target=\\\"sharedStrings.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\\\"/&gt;&lt;Relationship Id=\\\"rId2\\\" Target=\\\"styles.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\\\"/&gt;&lt;Relationship Id=\\\"rId3\\\" Target=\\\"worksheets/sheet1.xml\\\" Type=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\\\"/&gt;&lt;/Relationships&gt;\";\n\n    static String xl_sharedstrings_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;sst count=\\\"0\\\" uniqueCount=\\\"0\\\" xmlns=\\\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\\\"/&gt;\";\n\n    static String xl_styles_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;styleSheet xmlns=\\\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\\\"&gt;&lt;numFmts count=\\\"0\\\"/&gt;&lt;fonts count=\\\"1\\\"&gt;&lt;font&gt;&lt;sz val=\\\"11.0\\\"/&gt;&lt;color indexed=\\\"8\\\"/&gt;&lt;name val=\\\"Calibri\\\"/&gt;&lt;family val=\\\"2\\\"/&gt;&lt;scheme val=\\\"minor\\\"/&gt;&lt;/font&gt;&lt;/fonts&gt;&lt;fills count=\\\"2\\\"&gt;&lt;fill&gt;&lt;patternFill patternType=\\\"none\\\"/&gt;&lt;/fill&gt;&lt;fill&gt;&lt;patternFill patternType=\\\"darkGray\\\"/&gt;&lt;/fill&gt;&lt;/fills&gt;&lt;borders count=\\\"1\\\"&gt;&lt;border&gt;&lt;left/&gt;&lt;right/&gt;&lt;top/&gt;&lt;bottom/&gt;&lt;diagonal/&gt;&lt;/border&gt;&lt;/borders&gt;&lt;cellStyleXfs count=\\\"1\\\"&gt;&lt;xf numFmtId=\\\"0\\\" fontId=\\\"0\\\" fillId=\\\"0\\\" borderId=\\\"0\\\"/&gt;&lt;/cellStyleXfs&gt;&lt;cellXfs count=\\\"1\\\"&gt;&lt;xf numFmtId=\\\"0\\\" fontId=\\\"0\\\" fillId=\\\"0\\\" borderId=\\\"0\\\" xfId=\\\"0\\\"/&gt;&lt;/cellXfs&gt;&lt;/styleSheet&gt;\";\n\n    static String xl_workbook_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;workbook xmlns=\\\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\\\" xmlns:r=\\\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\\\"&gt;&lt;workbookPr date1904=\\\"false\\\"/&gt;&lt;bookViews&gt;&lt;workbookView activeTab=\\\"0\\\"/&gt;&lt;/bookViews&gt;&lt;sheets&gt;&lt;sheet name=\\\"\" + \"Sheet1\" + \"\\\" r:id=\\\"rId3\\\" sheetId=\\\"1\\\"/&gt;&lt;/sheets&gt;&lt;/workbook&gt;\";\n\n    static String xl_worksheets_sheet1_xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;worksheet xmlns=\\\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\\\"&gt;&lt;dimension ref=\\\"A1\\\"/&gt;&lt;sheetViews&gt;&lt;sheetView workbookViewId=\\\"0\\\" tabSelected=\\\"true\\\"/&gt;&lt;/sheetViews&gt;&lt;sheetFormatPr defaultRowHeight=\\\"15.0\\\"/&gt;&lt;sheetData/&gt;&lt;pageMargins bottom=\\\"0.75\\\" footer=\\\"0.3\\\" header=\\\"0.3\\\" left=\\\"0.7\\\" right=\\\"0.7\\\" top=\\\"0.75\\\"/&gt;&lt;/worksheet&gt;\";\n\n\n    ArrayList&lt;ArrayList&lt;Object&gt;&gt; sheetDat = new ArrayList&lt;&gt;();\n\n    public CreatePlainXLSX() {\n        sheetDat.add(0, new ArrayList&lt;&gt;());\n    }\n\n    public void addCell(int rowNum, int cellNum, Object value) {\n\n        if (sheetDat.size() &lt;= rowNum){\n            for (int a = sheetDat.size(); a &lt;= rowNum; a++) {\n                sheetDat.add(new ArrayList&lt;&gt;());\n            }\n        }\n\n        if (sheetDat.get(rowNum).size() &lt;= cellNum) {\n            for (int a = sheetDat.get(rowNum).size(); a &lt;= cellNum; a++) {\n                sheetDat.get(rowNum).add(\"\");\n            }\n        }\n        sheetDat.get(rowNum).set(cellNum, value);\n    }\n\n    private static int toNumber(String name) {\n        int number = 0;\n        for (int i = 0; i &lt; name.length(); i++) {\n            number = number * 26 + (name.charAt(i) - ('A' - 1));\n        }\n        return number;\n    }\n\n    private static String toName(int number) {\n        StringBuilder sb = new StringBuilder();\n        while (number-- &gt; 0) {\n            sb.append((char)('A' + (number % 26)));\n            number /= 26;\n        }\n        return sb.reverse().toString();\n    }\n\n    private String incrementColumnR(String a){\n        return toName(toNumber(a) + 1);\n    }\n\n    public void exportToFile(FileOutputStream fileout) throws Exception {\n\n        // result goes into a ByteArrayOutputStream\n        ByteArrayOutputStream resultout = new ByteArrayOutputStream();\n\n        // needed objects\n        ZipEntry zipentry;\n        byte[] data;\n\n        // create ZipOutputStream\n        ZipOutputStream zipout = new ZipOutputStream(resultout);\n\n        // create the static parts of the XLSX ZIP file:\n\n        zipentry = new ZipEntry(\"[Content_Types].xml\");\n        zipout.putNextEntry(zipentry);\n        data = content_types_xml.getBytes();\n        zipout.write(data, 0, data.length);\n        zipout.closeEntry();\n\n        zipentry = new ZipEntry(\"docProps/app.xml\");\n        zipout.putNextEntry(zipentry);\n        data = docProps_app_xml.getBytes();\n        zipout.write(data, 0, data.length);\n        zipout.closeEntry();\n\n        zipentry = new ZipEntry(\"docProps/core.xml\");\n        zipout.putNextEntry(zipentry);\n        data = docProps_core_xml.getBytes();\n        zipout.write(data, 0, data.length);\n        zipout.closeEntry();\n\n        zipentry = new ZipEntry(\"_rels/.rels\");\n        zipout.putNextEntry(zipentry);\n        data = _rels_rels_xml.getBytes();\n        zipout.write(data, 0, data.length);\n        zipout.closeEntry();\n\n        zipentry = new ZipEntry(\"xl/_rels/workbook.xml.rels\");\n        zipout.putNextEntry(zipentry);\n        data = xl_rels_workbook_xml_rels_xml.getBytes();\n        zipout.write(data, 0, data.length);\n        zipout.closeEntry();\n\n        zipentry = new ZipEntry(\"xl/sharedStrings.xml\");\n        zipout.putNextEntry(zipentry);\n        data = xl_sharedstrings_xml.getBytes();\n        zipout.write(data, 0, data.length);\n        zipout.closeEntry();\n\n        zipentry = new ZipEntry(\"xl/styles.xml\");\n        zipout.putNextEntry(zipentry);\n        data = xl_styles_xml.getBytes();\n        zipout.write(data, 0, data.length);\n        zipout.closeEntry();\n\n        zipentry = new ZipEntry(\"xl/workbook.xml\");\n        zipout.putNextEntry(zipentry);\n        data = xl_workbook_xml.getBytes();\n        zipout.write(data, 0, data.length);\n        zipout.closeEntry();\n\n        // preparing the sheet data:\n\n        String sheetdata = \"&lt;sheetData&gt;\";\n        int r = 0;\n        String c = toName(0);\n        ArrayList&lt;ArrayList&lt;Object&gt;&gt; sheet = sheetDat;\n        for (ArrayList&lt;Object&gt; rowData : sheet) {\n            sheetdata += \"&lt;row r=\\\"\" + ++r + \"\\\"&gt;\";\n            c = toName(0);\n            for (Object cellData : rowData) {\n                c = incrementColumnR(c);\n                sheetdata += \"&lt;c r=\\\"\" + c + r + \"\\\"\";\n                if (cellData instanceof String &amp;&amp; ((String) cellData).startsWith(\"=\")) {\n                    sheetdata += \"&gt;&lt;f&gt;\" + ((String) cellData).replace(\"=\", \"\") + \"&lt;/f&gt;&lt;/c&gt;\";\n                } else if (cellData instanceof String) {\n                    sheetdata += \" t=\\\"inlineStr\\\"&gt;&lt;is&gt;&lt;t&gt;\" + cellData + \"&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;\";\n                } else if (cellData instanceof Double || cellData instanceof Integer) {\n                    sheetdata += \"&gt;&lt;v&gt;\" + cellData + \"&lt;/v&gt;&lt;/c&gt;\";\n                }\n            }\n            sheetdata += \"&lt;/row&gt;\";\n        }\n        sheetdata += \"&lt;/sheetData&gt;\";\n\n        // get the static sheet xml into a buffer for further processing\n        StringBuffer xl_worksheets_sheet1_xml_buffer = new StringBuffer(xl_worksheets_sheet1_xml);\n\n        // get position of the &lt;dimension ref=\\\"A1\\\"/&gt; in the static xl_worksheets_sheet1_xml\n        int dimensionstart = xl_worksheets_sheet1_xml_buffer.indexOf(\"&lt;dimension ref=\\\"A1\\\"/&gt;\");\n        // replace the &lt;dimension ref=\\\"A1\\\"/&gt; with the new dimension\n        xl_worksheets_sheet1_xml_buffer = xl_worksheets_sheet1_xml_buffer.replace(\n                dimensionstart,\n                dimensionstart + \"&lt;dimension ref=\\\"A1\\\"/&gt;\".length(),\n                \"&lt;dimension ref=\\\"A1:\" + c + r + \"\\\"/&gt;\");\n\n        // get position of the &lt;sheetData/&gt; in the static xl_worksheets_sheet1_xml\n        int sheetdatastart = xl_worksheets_sheet1_xml_buffer.indexOf(\"&lt;sheetData/&gt;\");\n        // replace the &lt;sheetData/&gt; with the prepared sheet date string\n        xl_worksheets_sheet1_xml_buffer = xl_worksheets_sheet1_xml_buffer.replace(\n                sheetdatastart,\n                sheetdatastart + \"&lt;sheetData/&gt;\".length(),\n                sheetdata);\n\n        // create the xl/worksheets/sheet1.xml\n        zipentry = new ZipEntry(\"xl/worksheets/sheet1.xml\");\n        zipout.putNextEntry(zipentry);\n        data = xl_worksheets_sheet1_xml_buffer.toString().getBytes();\n        zipout.write(data, 0, data.length);\n        zipout.closeEntry();\n\n        zipout.finish();\n\n        // now ByteArrayOutputStream resultout contains the XLSX file data\n\n        // writing this data into a file\n        if(fileout != null) {\n            resultout.writeTo(fileout);\n            resultout.close();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25546975,"reputation":1,"user_id":19332133,"display_name":"Katarina Karadzic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655143459,"creation_date":1655143459,"answer_id":72607267,"question_id":50738119,"body_markdown":"Or if you need to add values manually, up to row AZ, change this part of Axel Richter&#39;s answer:\r\n\r\nFROM\r\n\r\n    String sheetdata = &quot;&lt;sheetData&gt;&quot;;\r\n            int r = 0;\r\n            String c = toName(0);\r\n            ArrayList&lt;ArrayList&lt;Object&gt;&gt; sheet = sheetDat;\r\n            for (ArrayList&lt;Object&gt; rowData : sheet) {\r\n                sheetdata += &quot;&lt;row r=\\&quot;&quot; + ++r + &quot;\\&quot;&gt;&quot;;\r\n                c = toName(0);\r\n                for (Object cellData : rowData) {\r\n                    c = incrementColumnR(c);\r\n                    sheetdata += &quot;&lt;c r=\\&quot;&quot; + c + r + &quot;\\&quot;&quot;;\r\n                    if (cellData instanceof String &amp;&amp; ((String) cellData).startsWith(&quot;=&quot;)) {\r\n                        sheetdata += &quot;&gt;&lt;f&gt;&quot; + ((String) cellData).replace(&quot;=&quot;, &quot;&quot;) + &quot;&lt;/f&gt;&lt;/c&gt;&quot;;\r\n                    } else if (cellData instanceof String) {\r\n                        sheetdata += &quot; t=\\&quot;inlineStr\\&quot;&gt;&lt;is&gt;&lt;t&gt;&quot; + cellData + &quot;&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;&quot;;\r\n                    } else if (cellData instanceof Double || cellData instanceof Integer) {\r\n                        sheetdata += &quot;&gt;&lt;v&gt;&quot; + cellData + &quot;&lt;/v&gt;&lt;/c&gt;&quot;;\r\n                    }\r\n                }\r\n                sheetdata += &quot;&lt;/row&gt;&quot;;\r\n            }\r\n            sheetdata += &quot;&lt;/sheetData&gt;&quot;;\r\n\t\t\r\n\r\nTO \r\n\r\n    String sheetdata = &quot;&lt;sheetData&gt;&quot;;\r\n\t\tint column = 0;\r\n\t\tint r = 0;\r\n\t\tchar c = &#39;A&#39;;\r\n\t\t--c;\r\n\t\tfor (Object[] rowData : sheetData) {\r\n\t\t\tsheetdata += &quot;&lt;row r=\\&quot;&quot; + ++r + &quot;\\&quot;&gt;&quot;;\r\n\t\t\tcolumn = 0;\r\n\t\t\tc = &#39;A&#39;;\r\n\t\t\t--c;\r\n\t\t\tfor (Object cellData : rowData) {\r\n\t\t\t\tif (column &gt; 25 || ((Character.isLetter(c) &amp;&amp; Character.isUpperCase(c)) || c == &#39;@&#39;)) {\r\n\t\t\t\t\tif (column &gt; 25) {\r\n\t\t\t\t\t\tif (column == 26) {\r\n\t\t\t\t\t\t\tc = &#39;A&#39;;\r\n\t\t\t\t\t\t\t--c;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsheetdata += &quot;&lt;c r=\\&quot;&quot; + &quot;A&quot; + Character.toString(++c) + r + &quot;\\&quot;&quot;;\r\n\t\t\t\t\t} else if ((Character.isLetter(c) &amp;&amp; Character.isUpperCase(c)) || c == &#39;@&#39;) {\r\n\t\t\t\t\t\tsheetdata += &quot;&lt;c r=\\&quot;&quot; + Character.toString(++c) + r + &quot;\\&quot;&quot;;\r\n\t\t\t\t\t}\t\r\n\t\t\t\t\tcolumn++;\r\n\t\t\t\t\tif (cellData instanceof String &amp;&amp; ((String) cellData).startsWith(&quot;=&quot;)) {\r\n\t\t\t\t\t\tsheetdata += &quot;&gt;&lt;f&gt;&quot; + ((String) cellData).replace(&quot;=&quot;, &quot;&quot;) + &quot;&lt;/f&gt;&lt;/c&gt;&quot;;\r\n\t\t\t\t\t} else if (cellData instanceof String) {\r\n\t\t\t\t\t\tsheetdata += &quot; t=\\&quot;inlineStr\\&quot;&gt;&lt;is&gt;&lt;t&gt;&quot; + ((String) cellData) + &quot;&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;&quot;;\r\n\t\t\t\t\t} else if (cellData instanceof Double) {\r\n\t\t\t\t\t\tsheetdata += &quot;&gt;&lt;v&gt;&quot; + ((Double) cellData) + &quot;&lt;/v&gt;&lt;/c&gt;&quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tsheetdata += &quot;&lt;/row&gt;&quot;;\r\n\t\t}","title":"How to create and write to Excel file (.xlsx)?","body":"<p>Or if you need to add values manually, up to row AZ, change this part of Axel Richter's answer:</p>\n<p>FROM</p>\n<pre><code>String sheetdata = &quot;&lt;sheetData&gt;&quot;;\n        int r = 0;\n        String c = toName(0);\n        ArrayList&lt;ArrayList&lt;Object&gt;&gt; sheet = sheetDat;\n        for (ArrayList&lt;Object&gt; rowData : sheet) {\n            sheetdata += &quot;&lt;row r=\\&quot;&quot; + ++r + &quot;\\&quot;&gt;&quot;;\n            c = toName(0);\n            for (Object cellData : rowData) {\n                c = incrementColumnR(c);\n                sheetdata += &quot;&lt;c r=\\&quot;&quot; + c + r + &quot;\\&quot;&quot;;\n                if (cellData instanceof String &amp;&amp; ((String) cellData).startsWith(&quot;=&quot;)) {\n                    sheetdata += &quot;&gt;&lt;f&gt;&quot; + ((String) cellData).replace(&quot;=&quot;, &quot;&quot;) + &quot;&lt;/f&gt;&lt;/c&gt;&quot;;\n                } else if (cellData instanceof String) {\n                    sheetdata += &quot; t=\\&quot;inlineStr\\&quot;&gt;&lt;is&gt;&lt;t&gt;&quot; + cellData + &quot;&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;&quot;;\n                } else if (cellData instanceof Double || cellData instanceof Integer) {\n                    sheetdata += &quot;&gt;&lt;v&gt;&quot; + cellData + &quot;&lt;/v&gt;&lt;/c&gt;&quot;;\n                }\n            }\n            sheetdata += &quot;&lt;/row&gt;&quot;;\n        }\n        sheetdata += &quot;&lt;/sheetData&gt;&quot;;\n    \n</code></pre>\n<p>TO</p>\n<pre><code>String sheetdata = &quot;&lt;sheetData&gt;&quot;;\n    int column = 0;\n    int r = 0;\n    char c = 'A';\n    --c;\n    for (Object[] rowData : sheetData) {\n        sheetdata += &quot;&lt;row r=\\&quot;&quot; + ++r + &quot;\\&quot;&gt;&quot;;\n        column = 0;\n        c = 'A';\n        --c;\n        for (Object cellData : rowData) {\n            if (column &gt; 25 || ((Character.isLetter(c) &amp;&amp; Character.isUpperCase(c)) || c == '@')) {\n                if (column &gt; 25) {\n                    if (column == 26) {\n                        c = 'A';\n                        --c;\n                    }\n                    sheetdata += &quot;&lt;c r=\\&quot;&quot; + &quot;A&quot; + Character.toString(++c) + r + &quot;\\&quot;&quot;;\n                } else if ((Character.isLetter(c) &amp;&amp; Character.isUpperCase(c)) || c == '@') {\n                    sheetdata += &quot;&lt;c r=\\&quot;&quot; + Character.toString(++c) + r + &quot;\\&quot;&quot;;\n                }   \n                column++;\n                if (cellData instanceof String &amp;&amp; ((String) cellData).startsWith(&quot;=&quot;)) {\n                    sheetdata += &quot;&gt;&lt;f&gt;&quot; + ((String) cellData).replace(&quot;=&quot;, &quot;&quot;) + &quot;&lt;/f&gt;&lt;/c&gt;&quot;;\n                } else if (cellData instanceof String) {\n                    sheetdata += &quot; t=\\&quot;inlineStr\\&quot;&gt;&lt;is&gt;&lt;t&gt;&quot; + ((String) cellData) + &quot;&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;&quot;;\n                } else if (cellData instanceof Double) {\n                    sheetdata += &quot;&gt;&lt;v&gt;&quot; + ((Double) cellData) + &quot;&lt;/v&gt;&lt;/c&gt;&quot;;\n                }\n            }\n        }\n        sheetdata += &quot;&lt;/row&gt;&quot;;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17318068,"reputation":141,"user_id":12544067,"display_name":"mxkmn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699709498,"creation_date":1695637394,"answer_id":77171826,"question_id":50738119,"body_markdown":"Based on all answers here, i made Kotlin implementation, which gets 2D array of strings and adds to .xlsx table, which outputs as ByteArray. You can save it via [SAF][1]. Also, in this solution, I came up with and added a hack with sheetDataBigStrings that allows you to save a lot more data on devices with small amounts of RAM (it works on Android Go 10 device with 2 GB of RAM, original code doesn&#39;t).\r\n\r\n    import android.annotation.SuppressLint\r\n    import java.io.ByteArrayOutputStream\r\n    import java.text.SimpleDateFormat\r\n    import java.util.Calendar\r\n    import java.util.zip.ZipEntry\r\n    import java.util.zip.ZipOutputStream\r\n    \r\n    private const val ALPHABET_LENGTH = 26\r\n    private const val MAX_UNCOMBINED_STRING_LENGTH = 20000000\r\n    \r\n    class ConvertTableToExcelFileUseCase {\r\n        operator fun invoke(sheet: List&lt;List&lt;String&gt;&gt;): ByteArray {\r\n            val result = ByteArrayOutputStream()\r\n            val zip = ZipOutputStream(result)\r\n            val xlsxParts = listOf(\r\n                &quot;[Content_Types].xml&quot; to CONTENT_TYPES_XML,\r\n                &quot;docProps/app.xml&quot; to DOC_PROPS_APP_XML,\r\n                &quot;docProps/core.xml&quot; to DOC_PROPS_CORE_XML,\r\n                &quot;_rels/.rels&quot; to RELS_RELS_XML,\r\n                &quot;xl/_rels/workbook.xml.rels&quot; to XL_RELS_WORKBOOK_XML_RELS_XML,\r\n                &quot;xl/sharedStrings.xml&quot; to XL_SHARED_STRINGS_XML,\r\n                &quot;xl/styles.xml&quot; to XL_STYLES_XML,\r\n                &quot;xl/workbook.xml&quot; to XL_WORKBOOK_XML,\r\n                &quot;xl/worksheets/sheet1.xml&quot; to excelSheetCreator(sheet),\r\n            )\r\n    \r\n            xlsxParts.forEach { (name, data) -&gt;\r\n                zip.putNextEntry(ZipEntry(name))\r\n                val dataByteArray = data.toByteArray()\r\n                zip.write(dataByteArray, 0, dataByteArray.size)\r\n                zip.closeEntry()\r\n            }\r\n            zip.finish()\r\n            return result.toByteArray()\r\n        }\r\n    \r\n        private fun excelSheetCreator(sheet: List&lt;List&lt;String&gt;&gt;): String {\r\n            // preparing the sheet data\r\n            var row = 0\r\n            var column = &quot;&quot;\r\n            val sheetDataStr = let {\r\n                var sheetData = StringBuilder(&quot;&lt;sheetData&gt;&quot;)\r\n                val sheetDataBigStrings = StringBuilder()\r\n                for (rowData in sheet) {\r\n                    sheetData.append(&quot;&lt;row r=\\&quot;&quot; + ++row + &quot;\\&quot;&gt;&quot;)\r\n                    column = toName(0)\r\n                    for (cellData in rowData) {\r\n                        column = incrementColumn(column)\r\n                        sheetData.append(\r\n                            &quot;&lt;c r=\\&quot;$column$row\\&quot;&quot; +\r\n                                if (cellData.startsWith(&quot;=&quot;)) {\r\n                                    &quot;&gt;&lt;f&gt;${cellData.replace(&quot;=&quot;, &quot;&quot;)}&lt;/f&gt;&lt;/c&gt;&quot;\r\n                                } else if (cellData.toDoubleOrNull() != null) {\r\n                                    &quot;&gt;&lt;v&gt;$cellData&lt;/v&gt;&lt;/c&gt;&quot;\r\n                                } else {\r\n                                    &quot; t=\\&quot;inlineStr\\&quot;&gt;&lt;is&gt;&lt;t&gt;$cellData&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;&quot;\r\n                                },\r\n                        )\r\n                    }\r\n                    sheetData.append(&quot;&lt;/row&gt;&quot;)\r\n    \r\n                    // hack to please OutOfMemoryError on Android Go devices,\r\n                    // which combines many small strings into a single string\r\n                    if (sheetData.length &gt; MAX_UNCOMBINED_STRING_LENGTH) {\r\n                        sheetDataBigStrings.append(sheetData)\r\n                        sheetData = StringBuilder()\r\n                    }\r\n                }\r\n                sheetData.append(&quot;&lt;/sheetData&gt;&quot;)\r\n                sheetDataBigStrings.append(sheetData)\r\n    \r\n                sheetDataBigStrings.toString()\r\n            }\r\n    \r\n            // get the static sheet xml into a buffer for further processing\r\n            var excelSheetXmlBuffer = StringBuffer(XL_WORKSHEETS_SHEET1_XML)\r\n    \r\n            // get position of the &lt;dimension ref=\\&quot;A1\\&quot;/&gt; in the static xl_worksheets_sheet1_xml\r\n            val dimensionStart = excelSheetXmlBuffer.indexOf(&quot;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&quot;)\r\n            // replace the &lt;dimension ref=\\&quot;A1\\&quot;/&gt; with the new dimension\r\n            excelSheetXmlBuffer = excelSheetXmlBuffer.replace(\r\n                dimensionStart,\r\n                dimensionStart + &quot;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&quot;.length,\r\n                &quot;&lt;dimension ref=\\&quot;A1:$column$row\\&quot;/&gt;&quot;,\r\n            )\r\n    \r\n            // get position of the &lt;sheetData/&gt; in the static xl_worksheets_sheet1_xml\r\n            val sheetDataStart = excelSheetXmlBuffer.indexOf(&quot;&lt;sheetData/&gt;&quot;)\r\n            // replace the &lt;sheetData/&gt; with the prepared sheet date string\r\n            excelSheetXmlBuffer = excelSheetXmlBuffer.replace(\r\n                sheetDataStart,\r\n                sheetDataStart + &quot;&lt;sheetData/&gt;&quot;.length,\r\n                sheetDataStr,\r\n            )\r\n    \r\n            return excelSheetXmlBuffer.toString()\r\n        }\r\n    \r\n        companion object {\r\n            @SuppressLint(&quot;SimpleDateFormat&quot;)\r\n            private val formatter = SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;)\r\n    \r\n            private const val CONTENT_TYPES_XML =\r\n                &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Types xmlns=&quot; +\r\n                    &quot;\\&quot;http://schemas.openxmlformats.org/package/2006/content-types\\&quot;&gt;&lt;Default &quot; +\r\n                    &quot;ContentType=\\&quot;application/vnd.openxmlformats-package.relationships+xml\\&quot; &quot; +\r\n                    &quot;Extension=\\&quot;rels\\&quot;/&gt;&lt;Default ContentType=\\&quot;application/xml\\&quot; Extension=\\&quot;xml\\&quot;&quot; +\r\n                    &quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.&quot; +\r\n                    &quot;extended-properties+xml\\&quot; PartName=\\&quot;/docProps/app.xml\\&quot;/&gt;&lt;Override ContentType&quot; +\r\n                    &quot;=\\&quot;application/vnd.openxmlformats-package.core-properties+xml\\&quot; PartName=&quot; +\r\n                    &quot;\\&quot;/docProps/core.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-&quot; +\r\n                    &quot;officedocument.spreadsheetml.sharedStrings+xml\\&quot; PartName=\\&quot;/xl/sharedStrings.&quot; +\r\n                    &quot;xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.&quot; +\r\n                    &quot;spreadsheetml.styles+xml\\&quot; PartName=\\&quot;/xl/styles.xml\\&quot;/&gt;&lt;Override ContentType=&quot; +\r\n                    &quot;\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\\&quot; &quot; +\r\n                    &quot;PartName=\\&quot;/xl/workbook.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxml&quot; +\r\n                    &quot;formats-officedocument.spreadsheetml.worksheet+xml\\&quot; PartName=\\&quot;/xl/worksheets/&quot; +\r\n                    &quot;sheet1.xml\\&quot;/&gt;&lt;/Types&gt;&quot;\r\n            private const val DOC_PROPS_APP_XML =\r\n                &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;Properties xmlns=&quot; +\r\n                    &quot;\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\\&quot;&quot; +\r\n                    &quot;&gt;&lt;Application&gt;Created Low level From Scratch&lt;/Application&gt;&lt;/Properties&gt;&quot;\r\n            private val DOC_PROPS_CORE_XML =\r\n                &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;cp:coreProperties xmlns&quot; +\r\n                    &quot;:cp=\\&quot;http://schemas.openxmlformats.org/package/2006/metadata/core-properties\\&quot; &quot; +\r\n                    &quot;xmlns:dc=\\&quot;http://purl.org/dc/elements/1.1/\\&quot; xmlns:dcterms=\\&quot;http://purl.org/&quot; +\r\n                    &quot;dc/terms/\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;&quot; +\r\n                    &quot;&lt;dcterms:created xsi:type=\\&quot;dcterms:W3CDTF\\&quot;&gt;&quot; +\r\n                    formatter.format(Calendar.getInstance().time) +\r\n                    &quot;&lt;/dcterms:created&gt;&lt;dc:creator&gt;Autogenerated&lt;/dc:creator&gt;&lt;/cp:coreProperties&gt;&quot;\r\n            private const val RELS_RELS_XML =\r\n                &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Relationships xmlns=&quot; +\r\n                    &quot;\\&quot;http://schemas.openxmlformats.org/package/2006/relationships\\&quot;&gt;&lt;Relationship &quot; +\r\n                    &quot;Id=\\&quot;rId1\\&quot; Target=\\&quot;xl/workbook.xml\\&quot; Type=\\&quot;http://schemas.openxml&quot; +\r\n                    &quot;formats.org/officeDocument/2006/relationships/officeDocument\\&quot;/&gt;&lt;Relationship &quot; +\r\n                    &quot;Id=\\&quot;rId2\\&quot; Target=\\&quot;docProps/app.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats&quot; +\r\n                    &quot;.org/officeDocument/2006/relationships/extended-properties\\&quot;/&gt;&lt;Relationship Id=&quot; +\r\n                    &quot;\\&quot;rId3\\&quot; Target=\\&quot;docProps/core.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats&quot; +\r\n                    &quot;.org/package/2006/relationships/metadata/core-properties\\&quot;/&gt;&lt;/Relationships&gt;&quot;\r\n            private const val XL_RELS_WORKBOOK_XML_RELS_XML =\r\n                &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Relationships xmlns=&quot; +\r\n                    &quot;\\&quot;http://schemas.openxmlformats.org/package/2006/relationships\\&quot;&gt;&lt;Relationship &quot; +\r\n                    &quot;Id=\\&quot;rId1\\&quot; Target=\\&quot;sharedStrings.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats&quot; +\r\n                    &quot;.org/officeDocument/2006/relationships/sharedStrings\\&quot;/&gt;&lt;Relationship Id=&quot; +\r\n                    &quot;\\&quot;rId2\\&quot; Target=\\&quot;styles.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/&quot; +\r\n                    &quot;officeDocument/2006/relationships/styles\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId3\\&quot; &quot; +\r\n                    &quot;Target=\\&quot;worksheets/sheet1.xml\\&quot; Type=\\&quot;http://schemas.openxml&quot; +\r\n                    &quot;formats.org/officeDocument/2006/relationships/worksheet\\&quot;/&gt;&lt;/Relationships&gt;&quot;\r\n            private const val XL_SHARED_STRINGS_XML =\r\n                &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;sst count=\\&quot;0\\&quot; uniqueCount=\\&quot;0\\&quot; &quot; +\r\n                    &quot;xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot;/&gt;&quot;\r\n            private const val XL_STYLES_XML =\r\n                &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;styleSheet xmlns=\\&quot;http://schemas.&quot; +\r\n                    &quot;openxmlformats.org/spreadsheetml/2006/main\\&quot;&gt;&lt;numFmts count=\\&quot;0\\&quot;/&gt;&lt;fonts count=&quot; +\r\n                    &quot;\\&quot;1\\&quot;&gt;&lt;font&gt;&lt;sz val=\\&quot;11.0\\&quot;/&gt;&lt;color indexed=\\&quot;8\\&quot;/&gt;&lt;name val=\\&quot;Calibri\\&quot;/&gt;&lt;&quot; +\r\n                    &quot;family val=\\&quot;2\\&quot;/&gt;&lt;scheme val=\\&quot;minor\\&quot;/&gt;&lt;/font&gt;&lt;/fonts&gt;&lt;fills count=\\&quot;2\\&quot;&gt;&quot; +\r\n                    &quot;&lt;fill&gt;&lt;patternFill patternType=\\&quot;none\\&quot;/&gt;&lt;/fill&gt;&lt;fill&gt;&lt;patternFill patternType=&quot; +\r\n                    &quot;\\&quot;darkGray\\&quot;/&gt;&lt;/fill&gt;&lt;/fills&gt;&lt;borders count=\\&quot;1\\&quot;&gt;&lt;border&gt;&lt;left/&gt;&lt;right/&gt;&lt;top/&gt;&quot; +\r\n                    &quot;&lt;bottom/&gt;&lt;diagonal/&gt;&lt;/border&gt;&lt;/borders&gt;&lt;cellStyleXfs count=\\&quot;1\\&quot;&gt;&lt;xf numFmtId=&quot; +\r\n                    &quot;\\&quot;0\\&quot; fontId=\\&quot;0\\&quot; fillId=\\&quot;0\\&quot; borderId=\\&quot;0\\&quot;/&gt;&lt;/cellStyleXfs&gt;&lt;cellXfs count=&quot; +\r\n                    &quot;\\&quot;1\\&quot;&gt;&lt;xf numFmtId=\\&quot;0\\&quot; fontId=\\&quot;0\\&quot; fillId=\\&quot;0\\&quot; borderId=\\&quot;0\\&quot; xfId=\\&quot;0\\&quot;/&gt;&quot; +\r\n                    &quot;&lt;/cellXfs&gt;&lt;/styleSheet&gt;&quot;\r\n            private const val XL_WORKBOOK_XML =\r\n                &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;workbook xmlns=\\&quot;http://schemas.openxml&quot; +\r\n                    &quot;formats.org/spreadsheetml/2006/main\\&quot; xmlns:r=\\&quot;http://schemas.openxml&quot; +\r\n                    &quot;formats.org/officeDocument/2006/relationships\\&quot;&gt;&lt;workbookPr date1904=\\&quot;false\\&quot;/&gt;&quot; +\r\n                    &quot;&lt;bookViews&gt;&lt;workbookView activeTab=\\&quot;0\\&quot;/&gt;&lt;/bookViews&gt;&lt;sheets&gt;&lt;sheet name=\\&quot;&quot; +\r\n                    &quot;Sheet1\\&quot; r:id=\\&quot;rId3\\&quot; sheetId=\\&quot;1\\&quot;/&gt;&lt;/sheets&gt;&lt;/workbook&gt;&quot;\r\n            private const val XL_WORKSHEETS_SHEET1_XML =\r\n                &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;worksheet xmlns=\\&quot;http://schemas.openxml&quot; +\r\n                    &quot;formats.org/spreadsheetml/2006/main\\&quot;&gt;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&lt;sheetViews&gt;&lt;&quot; +\r\n                    &quot;sheetView workbookViewId=\\&quot;0\\&quot; tabSelected=\\&quot;true\\&quot;/&gt;&lt;/sheetViews&gt;&lt;sheetFormatPr&quot; +\r\n                    &quot; defaultRowHeight=\\&quot;15.0\\&quot;/&gt;&lt;sheetData/&gt;&lt;pageMargins bottom=\\&quot;0.75\\&quot; footer=&quot; +\r\n                    &quot;\\&quot;0.3\\&quot; header=\\&quot;0.3\\&quot; left=\\&quot;0.7\\&quot; right=\\&quot;0.7\\&quot; top=\\&quot;0.75\\&quot;/&gt;&lt;/worksheet&gt;&quot;\r\n    \r\n            private fun toNumber(name: String): Int {\r\n                var number = 0\r\n                for (element in name) {\r\n                    number = number * ALPHABET_LENGTH + (element.code - (&#39;A&#39;.code - 1))\r\n                }\r\n                return number\r\n            }\r\n    \r\n            private fun toName(number: Int): String {\r\n                val sb = StringBuilder()\r\n                var num = number\r\n                while (num-- &gt; 0) {\r\n                    sb.append((&#39;A&#39;.code + num % ALPHABET_LENGTH).toChar())\r\n                    num /= ALPHABET_LENGTH\r\n                }\r\n                return sb.reverse().toString()\r\n            }\r\n    \r\n            private fun incrementColumn(index: String): String {\r\n                return toName(toNumber(index) + 1)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/77087157/12544067\r\n","title":"How to create and write to Excel file (.xlsx)?","body":"<p>Based on all answers here, i made Kotlin implementation, which gets 2D array of strings and adds to .xlsx table, which outputs as ByteArray. You can save it via <a href=\"https://stackoverflow.com/a/77087157/12544067\">SAF</a>. Also, in this solution, I came up with and added a hack with sheetDataBigStrings that allows you to save a lot more data on devices with small amounts of RAM (it works on Android Go 10 device with 2 GB of RAM, original code doesn't).</p>\n<pre><code>import android.annotation.SuppressLint\nimport java.io.ByteArrayOutputStream\nimport java.text.SimpleDateFormat\nimport java.util.Calendar\nimport java.util.zip.ZipEntry\nimport java.util.zip.ZipOutputStream\n\nprivate const val ALPHABET_LENGTH = 26\nprivate const val MAX_UNCOMBINED_STRING_LENGTH = 20000000\n\nclass ConvertTableToExcelFileUseCase {\n    operator fun invoke(sheet: List&lt;List&lt;String&gt;&gt;): ByteArray {\n        val result = ByteArrayOutputStream()\n        val zip = ZipOutputStream(result)\n        val xlsxParts = listOf(\n            &quot;[Content_Types].xml&quot; to CONTENT_TYPES_XML,\n            &quot;docProps/app.xml&quot; to DOC_PROPS_APP_XML,\n            &quot;docProps/core.xml&quot; to DOC_PROPS_CORE_XML,\n            &quot;_rels/.rels&quot; to RELS_RELS_XML,\n            &quot;xl/_rels/workbook.xml.rels&quot; to XL_RELS_WORKBOOK_XML_RELS_XML,\n            &quot;xl/sharedStrings.xml&quot; to XL_SHARED_STRINGS_XML,\n            &quot;xl/styles.xml&quot; to XL_STYLES_XML,\n            &quot;xl/workbook.xml&quot; to XL_WORKBOOK_XML,\n            &quot;xl/worksheets/sheet1.xml&quot; to excelSheetCreator(sheet),\n        )\n\n        xlsxParts.forEach { (name, data) -&gt;\n            zip.putNextEntry(ZipEntry(name))\n            val dataByteArray = data.toByteArray()\n            zip.write(dataByteArray, 0, dataByteArray.size)\n            zip.closeEntry()\n        }\n        zip.finish()\n        return result.toByteArray()\n    }\n\n    private fun excelSheetCreator(sheet: List&lt;List&lt;String&gt;&gt;): String {\n        // preparing the sheet data\n        var row = 0\n        var column = &quot;&quot;\n        val sheetDataStr = let {\n            var sheetData = StringBuilder(&quot;&lt;sheetData&gt;&quot;)\n            val sheetDataBigStrings = StringBuilder()\n            for (rowData in sheet) {\n                sheetData.append(&quot;&lt;row r=\\&quot;&quot; + ++row + &quot;\\&quot;&gt;&quot;)\n                column = toName(0)\n                for (cellData in rowData) {\n                    column = incrementColumn(column)\n                    sheetData.append(\n                        &quot;&lt;c r=\\&quot;$column$row\\&quot;&quot; +\n                            if (cellData.startsWith(&quot;=&quot;)) {\n                                &quot;&gt;&lt;f&gt;${cellData.replace(&quot;=&quot;, &quot;&quot;)}&lt;/f&gt;&lt;/c&gt;&quot;\n                            } else if (cellData.toDoubleOrNull() != null) {\n                                &quot;&gt;&lt;v&gt;$cellData&lt;/v&gt;&lt;/c&gt;&quot;\n                            } else {\n                                &quot; t=\\&quot;inlineStr\\&quot;&gt;&lt;is&gt;&lt;t&gt;$cellData&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;&quot;\n                            },\n                    )\n                }\n                sheetData.append(&quot;&lt;/row&gt;&quot;)\n\n                // hack to please OutOfMemoryError on Android Go devices,\n                // which combines many small strings into a single string\n                if (sheetData.length &gt; MAX_UNCOMBINED_STRING_LENGTH) {\n                    sheetDataBigStrings.append(sheetData)\n                    sheetData = StringBuilder()\n                }\n            }\n            sheetData.append(&quot;&lt;/sheetData&gt;&quot;)\n            sheetDataBigStrings.append(sheetData)\n\n            sheetDataBigStrings.toString()\n        }\n\n        // get the static sheet xml into a buffer for further processing\n        var excelSheetXmlBuffer = StringBuffer(XL_WORKSHEETS_SHEET1_XML)\n\n        // get position of the &lt;dimension ref=\\&quot;A1\\&quot;/&gt; in the static xl_worksheets_sheet1_xml\n        val dimensionStart = excelSheetXmlBuffer.indexOf(&quot;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&quot;)\n        // replace the &lt;dimension ref=\\&quot;A1\\&quot;/&gt; with the new dimension\n        excelSheetXmlBuffer = excelSheetXmlBuffer.replace(\n            dimensionStart,\n            dimensionStart + &quot;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&quot;.length,\n            &quot;&lt;dimension ref=\\&quot;A1:$column$row\\&quot;/&gt;&quot;,\n        )\n\n        // get position of the &lt;sheetData/&gt; in the static xl_worksheets_sheet1_xml\n        val sheetDataStart = excelSheetXmlBuffer.indexOf(&quot;&lt;sheetData/&gt;&quot;)\n        // replace the &lt;sheetData/&gt; with the prepared sheet date string\n        excelSheetXmlBuffer = excelSheetXmlBuffer.replace(\n            sheetDataStart,\n            sheetDataStart + &quot;&lt;sheetData/&gt;&quot;.length,\n            sheetDataStr,\n        )\n\n        return excelSheetXmlBuffer.toString()\n    }\n\n    companion object {\n        @SuppressLint(&quot;SimpleDateFormat&quot;)\n        private val formatter = SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;)\n\n        private const val CONTENT_TYPES_XML =\n            &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Types xmlns=&quot; +\n                &quot;\\&quot;http://schemas.openxmlformats.org/package/2006/content-types\\&quot;&gt;&lt;Default &quot; +\n                &quot;ContentType=\\&quot;application/vnd.openxmlformats-package.relationships+xml\\&quot; &quot; +\n                &quot;Extension=\\&quot;rels\\&quot;/&gt;&lt;Default ContentType=\\&quot;application/xml\\&quot; Extension=\\&quot;xml\\&quot;&quot; +\n                &quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.&quot; +\n                &quot;extended-properties+xml\\&quot; PartName=\\&quot;/docProps/app.xml\\&quot;/&gt;&lt;Override ContentType&quot; +\n                &quot;=\\&quot;application/vnd.openxmlformats-package.core-properties+xml\\&quot; PartName=&quot; +\n                &quot;\\&quot;/docProps/core.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-&quot; +\n                &quot;officedocument.spreadsheetml.sharedStrings+xml\\&quot; PartName=\\&quot;/xl/sharedStrings.&quot; +\n                &quot;xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxmlformats-officedocument.&quot; +\n                &quot;spreadsheetml.styles+xml\\&quot; PartName=\\&quot;/xl/styles.xml\\&quot;/&gt;&lt;Override ContentType=&quot; +\n                &quot;\\&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\\&quot; &quot; +\n                &quot;PartName=\\&quot;/xl/workbook.xml\\&quot;/&gt;&lt;Override ContentType=\\&quot;application/vnd.openxml&quot; +\n                &quot;formats-officedocument.spreadsheetml.worksheet+xml\\&quot; PartName=\\&quot;/xl/worksheets/&quot; +\n                &quot;sheet1.xml\\&quot;/&gt;&lt;/Types&gt;&quot;\n        private const val DOC_PROPS_APP_XML =\n            &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;Properties xmlns=&quot; +\n                &quot;\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\\&quot;&quot; +\n                &quot;&gt;&lt;Application&gt;Created Low level From Scratch&lt;/Application&gt;&lt;/Properties&gt;&quot;\n        private val DOC_PROPS_CORE_XML =\n            &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;cp:coreProperties xmlns&quot; +\n                &quot;:cp=\\&quot;http://schemas.openxmlformats.org/package/2006/metadata/core-properties\\&quot; &quot; +\n                &quot;xmlns:dc=\\&quot;http://purl.org/dc/elements/1.1/\\&quot; xmlns:dcterms=\\&quot;http://purl.org/&quot; +\n                &quot;dc/terms/\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;&quot; +\n                &quot;&lt;dcterms:created xsi:type=\\&quot;dcterms:W3CDTF\\&quot;&gt;&quot; +\n                formatter.format(Calendar.getInstance().time) +\n                &quot;&lt;/dcterms:created&gt;&lt;dc:creator&gt;Autogenerated&lt;/dc:creator&gt;&lt;/cp:coreProperties&gt;&quot;\n        private const val RELS_RELS_XML =\n            &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Relationships xmlns=&quot; +\n                &quot;\\&quot;http://schemas.openxmlformats.org/package/2006/relationships\\&quot;&gt;&lt;Relationship &quot; +\n                &quot;Id=\\&quot;rId1\\&quot; Target=\\&quot;xl/workbook.xml\\&quot; Type=\\&quot;http://schemas.openxml&quot; +\n                &quot;formats.org/officeDocument/2006/relationships/officeDocument\\&quot;/&gt;&lt;Relationship &quot; +\n                &quot;Id=\\&quot;rId2\\&quot; Target=\\&quot;docProps/app.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats&quot; +\n                &quot;.org/officeDocument/2006/relationships/extended-properties\\&quot;/&gt;&lt;Relationship Id=&quot; +\n                &quot;\\&quot;rId3\\&quot; Target=\\&quot;docProps/core.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats&quot; +\n                &quot;.org/package/2006/relationships/metadata/core-properties\\&quot;/&gt;&lt;/Relationships&gt;&quot;\n        private const val XL_RELS_WORKBOOK_XML_RELS_XML =\n            &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;Relationships xmlns=&quot; +\n                &quot;\\&quot;http://schemas.openxmlformats.org/package/2006/relationships\\&quot;&gt;&lt;Relationship &quot; +\n                &quot;Id=\\&quot;rId1\\&quot; Target=\\&quot;sharedStrings.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats&quot; +\n                &quot;.org/officeDocument/2006/relationships/sharedStrings\\&quot;/&gt;&lt;Relationship Id=&quot; +\n                &quot;\\&quot;rId2\\&quot; Target=\\&quot;styles.xml\\&quot; Type=\\&quot;http://schemas.openxmlformats.org/&quot; +\n                &quot;officeDocument/2006/relationships/styles\\&quot;/&gt;&lt;Relationship Id=\\&quot;rId3\\&quot; &quot; +\n                &quot;Target=\\&quot;worksheets/sheet1.xml\\&quot; Type=\\&quot;http://schemas.openxml&quot; +\n                &quot;formats.org/officeDocument/2006/relationships/worksheet\\&quot;/&gt;&lt;/Relationships&gt;&quot;\n        private const val XL_SHARED_STRINGS_XML =\n            &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;sst count=\\&quot;0\\&quot; uniqueCount=\\&quot;0\\&quot; &quot; +\n                &quot;xmlns=\\&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main\\&quot;/&gt;&quot;\n        private const val XL_STYLES_XML =\n            &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;styleSheet xmlns=\\&quot;http://schemas.&quot; +\n                &quot;openxmlformats.org/spreadsheetml/2006/main\\&quot;&gt;&lt;numFmts count=\\&quot;0\\&quot;/&gt;&lt;fonts count=&quot; +\n                &quot;\\&quot;1\\&quot;&gt;&lt;font&gt;&lt;sz val=\\&quot;11.0\\&quot;/&gt;&lt;color indexed=\\&quot;8\\&quot;/&gt;&lt;name val=\\&quot;Calibri\\&quot;/&gt;&lt;&quot; +\n                &quot;family val=\\&quot;2\\&quot;/&gt;&lt;scheme val=\\&quot;minor\\&quot;/&gt;&lt;/font&gt;&lt;/fonts&gt;&lt;fills count=\\&quot;2\\&quot;&gt;&quot; +\n                &quot;&lt;fill&gt;&lt;patternFill patternType=\\&quot;none\\&quot;/&gt;&lt;/fill&gt;&lt;fill&gt;&lt;patternFill patternType=&quot; +\n                &quot;\\&quot;darkGray\\&quot;/&gt;&lt;/fill&gt;&lt;/fills&gt;&lt;borders count=\\&quot;1\\&quot;&gt;&lt;border&gt;&lt;left/&gt;&lt;right/&gt;&lt;top/&gt;&quot; +\n                &quot;&lt;bottom/&gt;&lt;diagonal/&gt;&lt;/border&gt;&lt;/borders&gt;&lt;cellStyleXfs count=\\&quot;1\\&quot;&gt;&lt;xf numFmtId=&quot; +\n                &quot;\\&quot;0\\&quot; fontId=\\&quot;0\\&quot; fillId=\\&quot;0\\&quot; borderId=\\&quot;0\\&quot;/&gt;&lt;/cellStyleXfs&gt;&lt;cellXfs count=&quot; +\n                &quot;\\&quot;1\\&quot;&gt;&lt;xf numFmtId=\\&quot;0\\&quot; fontId=\\&quot;0\\&quot; fillId=\\&quot;0\\&quot; borderId=\\&quot;0\\&quot; xfId=\\&quot;0\\&quot;/&gt;&quot; +\n                &quot;&lt;/cellXfs&gt;&lt;/styleSheet&gt;&quot;\n        private const val XL_WORKBOOK_XML =\n            &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;workbook xmlns=\\&quot;http://schemas.openxml&quot; +\n                &quot;formats.org/spreadsheetml/2006/main\\&quot; xmlns:r=\\&quot;http://schemas.openxml&quot; +\n                &quot;formats.org/officeDocument/2006/relationships\\&quot;&gt;&lt;workbookPr date1904=\\&quot;false\\&quot;/&gt;&quot; +\n                &quot;&lt;bookViews&gt;&lt;workbookView activeTab=\\&quot;0\\&quot;/&gt;&lt;/bookViews&gt;&lt;sheets&gt;&lt;sheet name=\\&quot;&quot; +\n                &quot;Sheet1\\&quot; r:id=\\&quot;rId3\\&quot; sheetId=\\&quot;1\\&quot;/&gt;&lt;/sheets&gt;&lt;/workbook&gt;&quot;\n        private const val XL_WORKSHEETS_SHEET1_XML =\n            &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;worksheet xmlns=\\&quot;http://schemas.openxml&quot; +\n                &quot;formats.org/spreadsheetml/2006/main\\&quot;&gt;&lt;dimension ref=\\&quot;A1\\&quot;/&gt;&lt;sheetViews&gt;&lt;&quot; +\n                &quot;sheetView workbookViewId=\\&quot;0\\&quot; tabSelected=\\&quot;true\\&quot;/&gt;&lt;/sheetViews&gt;&lt;sheetFormatPr&quot; +\n                &quot; defaultRowHeight=\\&quot;15.0\\&quot;/&gt;&lt;sheetData/&gt;&lt;pageMargins bottom=\\&quot;0.75\\&quot; footer=&quot; +\n                &quot;\\&quot;0.3\\&quot; header=\\&quot;0.3\\&quot; left=\\&quot;0.7\\&quot; right=\\&quot;0.7\\&quot; top=\\&quot;0.75\\&quot;/&gt;&lt;/worksheet&gt;&quot;\n\n        private fun toNumber(name: String): Int {\n            var number = 0\n            for (element in name) {\n                number = number * ALPHABET_LENGTH + (element.code - ('A'.code - 1))\n            }\n            return number\n        }\n\n        private fun toName(number: Int): String {\n            val sb = StringBuilder()\n            var num = number\n            while (num-- &gt; 0) {\n                sb.append(('A'.code + num % ALPHABET_LENGTH).toChar())\n                num /= ALPHABET_LENGTH\n            }\n            return sb.reverse().toString()\n        }\n\n        private fun incrementColumn(index: String): String {\n            return toName(toNumber(index) + 1)\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5524872,"reputation":4722,"user_id":4386668,"accept_rate":47,"display_name":"Nominalista"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16123,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"answer_count":10,"score":23,"last_activity_date":1699709498,"creation_date":1528364811,"question_id":50738119,"body_markdown":"There are libraries for Java developers that have tons of methods which do not work on Android. \r\n\r\nI started by working with libraries like OpenCSV, but unfortunately Excel has [known issues][1] with opening CSV files.\r\n\r\nThen I tried to use:\r\n\r\n - Apache POI - It definitely has too many methods. \r\n - JExcelAPI - It works, but only on old binary .xls files.\r\n - docx4j - again too many jars, because it&#39;s based on JAXB which is not included in Android.\r\n\r\nMy question is, how can I create a simple Excel file in .xlsx format on Android, without exceeding 65k methods?\r\n\r\n  [1]: https://stackoverflow.com/questions/17953679/how-to-correctly-display-csv-files-within-excel-2013","title":"How to create and write to Excel file (.xlsx)?","body":"<p>There are libraries for Java developers that have tons of methods which do not work on Android. </p>\n\n<p>I started by working with libraries like OpenCSV, but unfortunately Excel has <a href=\"https://stackoverflow.com/questions/17953679/how-to-correctly-display-csv-files-within-excel-2013\">known issues</a> with opening CSV files.</p>\n\n<p>Then I tried to use:</p>\n\n<ul>\n<li>Apache POI - It definitely has too many methods. </li>\n<li>JExcelAPI - It works, but only on old binary .xls files.</li>\n<li>docx4j - again too many jars, because it's based on JAXB which is not included in Android.</li>\n</ul>\n\n<p>My question is, how can I create a simple Excel file in .xlsx format on Android, without exceeding 65k methods?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699630700,"creation_date":1699630700,"answer_id":77461187,"question_id":77459136,"body_markdown":"You have configured Spring Boot to use `com.mysql.cj.jdbc.Driver` as the driver class for your SQL database but you have not added the corresponding dependency to your application&#39;s `pom.xml` file.\r\n\r\nAdd the following to the `&lt;dependencies&gt;` section of your pom:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n  &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n  &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path please check","body":"<p>You have configured Spring Boot to use <code>com.mysql.cj.jdbc.Driver</code> as the driver class for your SQL database but you have not added the corresponding dependency to your application's <code>pom.xml</code> file.</p>\n<p>Add the following to the <code>&lt;dependencies&gt;</code> section of your pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n  &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n  &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":29871277,"reputation":1,"user_id":22892593,"display_name":"Rohit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699726781,"answer_count":1,"score":0,"last_activity_date":1699709187,"creation_date":1699610503,"question_id":77459136,"body_markdown":"Why am I getting this error?\r\n\r\n&gt; Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: com.mysql.cj.jdbc.Driver\r\n&gt;\r\n&gt; [2m2023-11-10 15:09:37.760[0;39m [32m INFO[0;39m [35m7024[0;39m [2m---[0;39m [2m[ main][0;39m [36mo.apache.catalina.core.StandardService [0;39m [2m:[0;39m Stopping service [Tomcat]\r\n&gt;\r\n&gt; [2m2023-11-10 15:09:37.795[0;39m [32m INFO[0;39m [35m7024[0;39m [2m---[0;39m [2m[ main][0;39m [36mConditionEvaluationReportLoggingListener[0;39m [2m:[0;39m\r\n&gt;\r\n&gt; Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n&gt;\r\n&gt; [2m2023-11-10 15:09:38.193[0;39m [31mERROR[0;39m [35m7024[0;39m [2m---[0;39m [2m[ main][0;39m [36mo.s.boot.SpringApplication [0;39m [2m:[0;39m Application run failed\r\n&gt;\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: com.mysql.cj.jdbc.Driver\r\n&gt;\r\n&gt; at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801) ~[spring-beans-5.3.30.jar:5.3.30]\r\n\r\n\r\nScreenshot of my project:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\npom.xml:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.17&lt;/version&gt;\r\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n  &lt;/parent&gt;\r\n\r\n  &lt;groupId&gt;com.codeWithDurgesh.blog&lt;/groupId&gt;\r\n  &lt;artifactId&gt;blog-app-api&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;blog-app-api&lt;/name&gt;\r\n  &lt;description&gt;This is a backend apis for blogging&lt;/description&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;java.version&gt;11&lt;/java.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\napplicationContext:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow do I get rid of this error?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AgPq0.png\r\n  [2]: https://i.stack.imgur.com/8alCx.png","title":"Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path please check","body":"<p>Why am I getting this error?</p>\n<blockquote>\n<p>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: com.mysql.cj.jdbc.Driver</p>\n<p>[2m2023-11-10 15:09:37.760[0;39m [32m INFO[0;39m [35m7024[0;39m [2m---[0;39m [2m[ main][0;39m [36mo.apache.catalina.core.StandardService [0;39m [2m:[0;39m Stopping service [Tomcat]</p>\n<p>[2m2023-11-10 15:09:37.795[0;39m [32m INFO[0;39m [35m7024[0;39m [2m---[0;39m [2m[ main][0;39m [36mConditionEvaluationReportLoggingListener[0;39m [2m:[0;39m</p>\n<p>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.</p>\n<p>[2m2023-11-10 15:09:38.193[0;39m [31mERROR[0;39m [35m7024[0;39m [2m---[0;39m [2m[ main][0;39m [36mo.s.boot.SpringApplication [0;39m [2m:[0;39m Application run failed</p>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: com.mysql.cj.jdbc.Driver</p>\n<p>at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801) ~[spring-beans-5.3.30.jar:5.3.30]</p>\n</blockquote>\n<p>Screenshot of my project:</p>\n<p><a href=\"https://i.stack.imgur.com/AgPq0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AgPq0.png\" alt=\"enter image description here\" /></a></p>\n<p>pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.17&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt;\n\n  &lt;groupId&gt;com.codeWithDurgesh.blog&lt;/groupId&gt;\n  &lt;artifactId&gt;blog-app-api&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;blog-app-api&lt;/name&gt;\n  &lt;description&gt;This is a backend apis for blogging&lt;/description&gt;\n\n  &lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>applicationContext:</p>\n<p><a href=\"https://i.stack.imgur.com/8alCx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8alCx.png\" alt=\"enter image description here\" /></a></p>\n<p>How do I get rid of this error?</p>\n"},{"tags":["java","byte","unsigned","bit","complement"],"comments":[{"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"score":7,"creation_date":1279968299,"post_id":3324707,"comment_id":3447337,"body_markdown":"You picked a really bad example, because it allows two readings.","body":"You picked a really bad example, because it allows two readings."},{"owner":{"account_id":194589,"reputation":301,"user_id":437030,"display_name":"DavidKelly999"},"score":0,"creation_date":1280012321,"post_id":3324707,"comment_id":3450439,"body_markdown":"The bitmask was exactly what I needed - I had no idea you could do that. Very useful. Thank you all for the replies.","body":"The bitmask was exactly what I needed - I had no idea you could do that. Very useful. Thank you all for the replies."}],"answers":[{"comments":[{"owner":{"account_id":24377,"reputation":818073,"user_id":61974,"display_name":"Mark Byers"},"score":0,"creation_date":1280001641,"post_id":3324751,"comment_id":3449683,"body_markdown":"In the question it says &quot;Numbers from 0-255&quot;. scanner.nextByte will fail for numbers greater than 127.","body":"In the question it says &quot;Numbers from 0-255&quot;. scanner.nextByte will fail for numbers greater than 127."}],"tags":[],"owner":{"account_id":3684,"reputation":43315,"user_id":5346,"accept_rate":84,"display_name":"Nick Fortescue"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1279968210,"creation_date":1279967902,"answer_id":3324751,"question_id":3324707,"body_markdown":"The easiest way to do this is three stages:\r\n\r\n 1. Read the value as an int (32 bits in java). It may read as negative but we only care about the bottom 8 bits anyway. `int i = scanner.nextByte();`\r\n 2. Do the inversion as an int using bitwise operators (as you say will give you 1s as high order bits: `i = ~i;`\r\n 3. Lose the high order bits with a logical AND: `i = i &amp; 0xFF;`\r\n\r\nThen just use the result as a character (which is actually 16 bits in java, but we will only use 8 of them): \r\n\r\n    char c=(char)a;\r\n    System.out.println(c); \r\n\r\nAll together:\r\n\r\n    int i = scanner.nextByte(); // change this to nextInt() depending on file format\r\n    i = ~i;\r\n    i = i &amp; 0xFF;\r\n    char c=(char)a;\r\n    System.out.println(c); \r\n\r\n\r\n \r\n\r\n","title":"How can I invert bits of an unsigned byte in Java?","body":"<p>The easiest way to do this is three stages:</p>\n\n<ol>\n<li>Read the value as an int (32 bits in java). It may read as negative but we only care about the bottom 8 bits anyway. <code>int i = scanner.nextByte();</code></li>\n<li>Do the inversion as an int using bitwise operators (as you say will give you 1s as high order bits: <code>i = ~i;</code></li>\n<li>Lose the high order bits with a logical AND: <code>i = i &amp; 0xFF;</code></li>\n</ol>\n\n<p>Then just use the result as a character (which is actually 16 bits in java, but we will only use 8 of them): </p>\n\n<pre><code>char c=(char)a;\nSystem.out.println(c); \n</code></pre>\n\n<p>All together:</p>\n\n<pre><code>int i = scanner.nextByte(); // change this to nextInt() depending on file format\ni = ~i;\ni = i &amp; 0xFF;\nchar c=(char)a;\nSystem.out.println(c); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":82818,"reputation":58393,"user_id":232593,"accept_rate":79,"display_name":"Merlyn Morgan-Graham"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1279967934,"creation_date":1279967934,"answer_id":3324752,"question_id":3324707,"body_markdown":"If Java supports this, you could read it into a larger type, bitwise-compliment, then bit-mask out the unwanted bits.\r\n\r\n    int x = [your byte];\r\n    x = ~x &amp; 0xFF;\r\n","title":"How can I invert bits of an unsigned byte in Java?","body":"<p>If Java supports this, you could read it into a larger type, bitwise-compliment, then bit-mask out the unwanted bits.</p>\n\n<pre><code>int x = [your byte];\nx = ~x &amp; 0xFF;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"score":0,"creation_date":1279968783,"post_id":3324754,"comment_id":3447364,"body_markdown":"This will not work if the value originally is stored in a byte, because then it will be sign-extended to a negative integer.","body":"This will not work if the value originally is stored in a byte, because then it will be sign-extended to a negative integer."},{"owner":{"account_id":24377,"reputation":818073,"user_id":61974,"display_name":"Mark Byers"},"score":0,"creation_date":1279969325,"post_id":3324754,"comment_id":3447415,"body_markdown":"@starblue: It appears that he is using a Scanner. I&#39;ve updated my answer to mention this.","body":"@starblue: It appears that he is using a Scanner. I&#39;ve updated my answer to mention this."}],"tags":[],"owner":{"account_id":24377,"reputation":818073,"user_id":61974,"display_name":"Mark Byers"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1279970058,"creation_date":1279967951,"answer_id":3324754,"question_id":3324707,"body_markdown":"Bitwise operations in Java are defined for `int` so it makes sense to work with `int` rather than `byte`. You can use [`Scanner.nextInt`][1], rather than [`Scanner.nextByte`][2]. You should validate the user&#39;s input to ensure that all integers entered are in the range 0 to 255 and display an appropriate error message if an out-of-range number is encountered.\r\n\r\nOnce you have the number stored in an integer then to flip the least significant 8 bits you can XOR with 0xff. This should work as you expect for all inputs between 0 and 255:\r\n\r\n    x ^= 0xff;\r\n\r\nExample:\r\n\r\n    String input = &quot;178 0 255&quot;;\r\n    Scanner s = new Scanner(input);\r\n    while (s.hasNextInt()) {\r\n        int x = s.nextInt();\r\n        if (x &lt; 0 || x &gt; 255) {\r\n            System.err.println(&quot;Not in range 0-255: &quot; + x);\r\n        } else {\r\n            x ^= 0xff;\r\n            System.out.println(x);\r\n        }\r\n    }\r\n\r\nResult:\r\n\r\n    77\r\n    255\r\n    0\r\n\r\n[1]: http://download.oracle.com/docs/cd/E17476_01/javase/1.5.0/docs/api/java/util/Scanner.html#nextInt%28%29\r\n[2]: http://download.oracle.com/docs/cd/E17476_01/javase/1.5.0/docs/api/java/util/Scanner.html#nextByte%28%29\r\n\r\n","title":"How can I invert bits of an unsigned byte in Java?","body":"<p>Bitwise operations in Java are defined for <code>int</code> so it makes sense to work with <code>int</code> rather than <code>byte</code>. You can use <a href=\"http://download.oracle.com/docs/cd/E17476_01/javase/1.5.0/docs/api/java/util/Scanner.html#nextInt%28%29\" rel=\"nofollow noreferrer\"><code>Scanner.nextInt</code></a>, rather than <a href=\"http://download.oracle.com/docs/cd/E17476_01/javase/1.5.0/docs/api/java/util/Scanner.html#nextByte%28%29\" rel=\"nofollow noreferrer\"><code>Scanner.nextByte</code></a>. You should validate the user's input to ensure that all integers entered are in the range 0 to 255 and display an appropriate error message if an out-of-range number is encountered.</p>\n\n<p>Once you have the number stored in an integer then to flip the least significant 8 bits you can XOR with 0xff. This should work as you expect for all inputs between 0 and 255:</p>\n\n<pre><code>x ^= 0xff;\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>String input = \"178 0 255\";\nScanner s = new Scanner(input);\nwhile (s.hasNextInt()) {\n    int x = s.nextInt();\n    if (x &lt; 0 || x &gt; 255) {\n        System.err.println(\"Not in range 0-255: \" + x);\n    } else {\n        x ^= 0xff;\n        System.out.println(x);\n    }\n}\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>77\n255\n0\n</code></pre>\n"},{"comments":[{"owner":{"account_id":317318,"reputation":1234,"user_id":633940,"accept_rate":70,"display_name":"Squeazer"},"score":1,"creation_date":1415481224,"post_id":3324762,"comment_id":42213602,"body_markdown":"If anybody is using this, the `Integer.reverse` method works perfectly (tested)! Thanks btw!","body":"If anybody is using this, the <code>Integer.reverse</code> method works perfectly (tested)! Thanks btw!"},{"owner":{"account_id":2153702,"reputation":81,"user_id":1909382,"display_name":"Akshay Mahajan"},"score":0,"creation_date":1588173609,"post_id":3324762,"comment_id":108799615,"body_markdown":"Link is broken, correct link is here for [Integer.reverse()](https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#reverse(int))","body":"Link is broken, correct link is here for <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#reverse(int)\" rel=\"nofollow noreferrer\">Integer.reverse()</a>"}],"tags":[],"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"comment_count":2,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1279968600,"creation_date":1279968143,"answer_id":3324762,"question_id":3324707,"body_markdown":"    ~n &amp; 0xff\r\n\r\n`~` does the complement and implicitly converts to an integer like all numeric operations do, then `&amp; 0xff` masks out everything except the lower 8  bits to get the unsigned value, again as an integer.\r\n\r\n\r\nI first read your question differently, to invert the order instead of the values of the bits, and this was the answer.\r\n\r\nYou can use &lt;a href=&quot;http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/java/lang/Integer.html#reverse(int)&quot;&gt;`Integer.reverse()`&lt;/a&gt; (untested):\r\n\r\n    Integer.reverse(n &lt;&lt; 24) &amp; 0xff\r\n","title":"How can I invert bits of an unsigned byte in Java?","body":"<pre><code>~n &amp; 0xff\n</code></pre>\n\n<p><code>~</code> does the complement and implicitly converts to an integer like all numeric operations do, then <code>&amp; 0xff</code> masks out everything except the lower 8  bits to get the unsigned value, again as an integer.</p>\n\n<p>I first read your question differently, to invert the order instead of the values of the bits, and this was the answer.</p>\n\n<p>You can use <a href=\"http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/java/lang/Integer.html#reverse(int)\" rel=\"noreferrer\"><code>Integer.reverse()</code></a> (untested):</p>\n\n<pre><code>Integer.reverse(n &lt;&lt; 24) &amp; 0xff\n</code></pre>\n"},{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1279968174,"creation_date":1279968174,"answer_id":3324763,"question_id":3324707,"body_markdown":"I would simply use the ones complement and get rid of the other bits by using binary and.\r\n\r\n    public class Conv {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint val = 178;\r\n    \t\tval = ~val &amp; 0xff;\r\n    \t\tSystem.out.println((char) val);\r\n    \t}\r\n    }\r\n\r\n","title":"How can I invert bits of an unsigned byte in Java?","body":"<p>I would simply use the ones complement and get rid of the other bits by using binary and.</p>\n\n<pre><code>public class Conv {\n    public static void main(String[] args) {\n        int val = 178;\n        val = ~val &amp; 0xff;\n        System.out.println((char) val);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":198681,"reputation":1641,"user_id":443482,"accept_rate":50,"display_name":"Vlad"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1327590882,"creation_date":1327590882,"answer_id":9020299,"question_id":3324707,"body_markdown":"Here are Java bytes, sorted by binary representation (from 00000000 to 11111111):\r\n\r\n0, 1, 2, .., 126, 127, -128, -127, .., -2, -1\r\n\r\n00000000 is 0, 11111111 is -1\r\n\r\nInverted 0 is -1, inverted 1 is -2, ..., inverted 127 is -128.\r\nThus if you want to invert bits of Java byte you should get your byte with opposite sign and subtract one:\r\n\r\n    byte myByte = 123;\r\n    byte myInvertedByte = -myByte-1;","title":"How can I invert bits of an unsigned byte in Java?","body":"<p>Here are Java bytes, sorted by binary representation (from 00000000 to 11111111):</p>\n\n<p>0, 1, 2, .., 126, 127, -128, -127, .., -2, -1</p>\n\n<p>00000000 is 0, 11111111 is -1</p>\n\n<p>Inverted 0 is -1, inverted 1 is -2, ..., inverted 127 is -128.\nThus if you want to invert bits of Java byte you should get your byte with opposite sign and subtract one:</p>\n\n<pre><code>byte myByte = 123;\nbyte myInvertedByte = -myByte-1;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1404844012,"post_id":24638520,"comment_id":38189435,"body_markdown":"Some explanation would be really nice.","body":"Some explanation would be really nice."},{"owner":{"account_id":8270275,"reputation":173,"user_id":6218156,"display_name":"Hello234"},"score":0,"creation_date":1593661522,"post_id":24638520,"comment_id":110860004,"body_markdown":"You should explain what is happening here","body":"You should explain what is happening here"}],"tags":[],"owner":{"account_id":2654660,"reputation":935,"user_id":2295607,"accept_rate":71,"display_name":"Xkynar"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1404842012,"creation_date":1404842012,"answer_id":24638520,"question_id":3324707,"body_markdown":"    private byte reverseBitsByte(byte x)\r\n    {\r\n\t    int intSize = 8;\r\n\t\r\n\t    byte y = 0;\r\n\t    for (int position = intSize - 1; position &gt;= 0; position--)\r\n\t    {\r\n\t        y += ((x &amp; 1) &lt;&lt; position);\r\n\t        x &gt;&gt;= 1;\r\n\t    }\r\n\t    return y;\r\n    }","title":"How can I invert bits of an unsigned byte in Java?","body":"<pre><code>private byte reverseBitsByte(byte x)\n{\n    int intSize = 8;\n\n    byte y = 0;\n    for (int position = intSize - 1; position &gt;= 0; position--)\n    {\n        y += ((x &amp; 1) &lt;&lt; position);\n        x &gt;&gt;= 1;\n    }\n    return y;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4562221,"reputation":385,"user_id":4672035,"accept_rate":31,"display_name":"Paul Uszak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699709031,"creation_date":1699709031,"answer_id":77465240,"question_id":3324707,"body_markdown":"Or, you can do it without any dodgy signed arithmetic, using string handling instead:-\r\n\r\n\r\n    public class ReverseBits {\r\n    public static void main(String[] args) {\r\n\r\n        byte[] reversedBits = {\r\n                (byte) 0b00000000,\r\n                (byte) 0b10000000,\r\n                (byte) 0b01000000,\r\n                (byte) 0b11000000,\r\n                (byte) 0b00100000,\r\n                (byte) 0b10100000,\r\n                (byte) 0b01100000,\r\n                (byte) 0b11100000,\r\n                (byte) 0b00010000,\r\n                (byte) 0b10010000,\r\n                (byte) 0b01010000,\r\n                (byte) 0b11010000,\r\n                (byte) 0b00110000,\r\n                (byte) 0b10110000,\r\n                (byte) 0b01110000,\r\n                (byte) 0b11110000,\r\n                (byte) 0b00001000,\r\n                (byte) 0b10001000,\r\n                (byte) 0b01001000,\r\n                (byte) 0b11001000,\r\n                (byte) 0b00101000,\r\n                (byte) 0b10101000,\r\n                (byte) 0b01101000,\r\n                (byte) 0b11101000,\r\n                (byte) 0b00011000,\r\n                (byte) 0b10011000,\r\n                (byte) 0b01011000,\r\n                (byte) 0b11011000,\r\n                (byte) 0b00111000,\r\n                (byte) 0b10111000,\r\n                (byte) 0b01111000,\r\n                (byte) 0b11111000,\r\n                (byte) 0b00000100,\r\n                (byte) 0b10000100,\r\n                (byte) 0b01000100,\r\n                (byte) 0b11000100,\r\n                (byte) 0b00100100,\r\n                (byte) 0b10100100,\r\n                (byte) 0b01100100,\r\n                (byte) 0b11100100,\r\n                (byte) 0b00010100,\r\n                (byte) 0b10010100,\r\n                (byte) 0b01010100,\r\n                (byte) 0b11010100,\r\n                (byte) 0b00110100,\r\n                (byte) 0b10110100,\r\n                (byte) 0b01110100,\r\n                (byte) 0b11110100,\r\n                (byte) 0b00001100,\r\n                (byte) 0b10001100,\r\n                (byte) 0b01001100,\r\n                (byte) 0b11001100,\r\n                (byte) 0b00101100,\r\n                (byte) 0b10101100,\r\n                (byte) 0b01101100,\r\n                (byte) 0b11101100,\r\n                (byte) 0b00011100,\r\n                (byte) 0b10011100,\r\n                (byte) 0b01011100,\r\n                (byte) 0b11011100,\r\n                (byte) 0b00111100,\r\n                (byte) 0b10111100,\r\n                (byte) 0b01111100,\r\n                (byte) 0b11111100,\r\n                (byte) 0b00000010,\r\n                (byte) 0b10000010,\r\n                (byte) 0b01000010,\r\n                (byte) 0b11000010,\r\n                (byte) 0b00100010,\r\n                (byte) 0b10100010,\r\n                (byte) 0b01100010,\r\n                (byte) 0b11100010,\r\n                (byte) 0b00010010,\r\n                (byte) 0b10010010,\r\n                (byte) 0b01010010,\r\n                (byte) 0b11010010,\r\n                (byte) 0b00110010,\r\n                (byte) 0b10110010,\r\n                (byte) 0b01110010,\r\n                (byte) 0b11110010,\r\n                (byte) 0b00001010,\r\n                (byte) 0b10001010,\r\n                (byte) 0b01001010,\r\n                (byte) 0b11001010,\r\n                (byte) 0b00101010,\r\n                (byte) 0b10101010,\r\n                (byte) 0b01101010,\r\n                (byte) 0b11101010,\r\n                (byte) 0b00011010,\r\n                (byte) 0b10011010,\r\n                (byte) 0b01011010,\r\n                (byte) 0b11011010,\r\n                (byte) 0b00111010,\r\n                (byte) 0b10111010,\r\n                (byte) 0b01111010,\r\n                (byte) 0b11111010,\r\n                (byte) 0b00000110,\r\n                (byte) 0b10000110,\r\n                (byte) 0b01000110,\r\n                (byte) 0b11000110,\r\n                (byte) 0b00100110,\r\n                (byte) 0b10100110,\r\n                (byte) 0b01100110,\r\n                (byte) 0b11100110,\r\n                (byte) 0b00010110,\r\n                (byte) 0b10010110,\r\n                (byte) 0b01010110,\r\n                (byte) 0b11010110,\r\n                (byte) 0b00110110,\r\n                (byte) 0b10110110,\r\n                (byte) 0b01110110,\r\n                (byte) 0b11110110,\r\n                (byte) 0b00001110,\r\n                (byte) 0b10001110,\r\n                (byte) 0b01001110,\r\n                (byte) 0b11001110,\r\n                (byte) 0b00101110,\r\n                (byte) 0b10101110,\r\n                (byte) 0b01101110,\r\n                (byte) 0b11101110,\r\n                (byte) 0b00011110,\r\n                (byte) 0b10011110,\r\n                (byte) 0b01011110,\r\n                (byte) 0b11011110,\r\n                (byte) 0b00111110,\r\n                (byte) 0b10111110,\r\n                (byte) 0b01111110,\r\n                (byte) 0b11111110,\r\n                (byte) 0b00000001,\r\n                (byte) 0b10000001,\r\n                (byte) 0b01000001,\r\n                (byte) 0b11000001,\r\n                (byte) 0b00100001,\r\n                (byte) 0b10100001,\r\n                (byte) 0b01100001,\r\n                (byte) 0b11100001,\r\n                (byte) 0b00010001,\r\n                (byte) 0b10010001,\r\n                (byte) 0b01010001,\r\n                (byte) 0b11010001,\r\n                (byte) 0b00110001,\r\n                (byte) 0b10110001,\r\n                (byte) 0b01110001,\r\n                (byte) 0b11110001,\r\n                (byte) 0b00001001,\r\n                (byte) 0b10001001,\r\n                (byte) 0b01001001,\r\n                (byte) 0b11001001,\r\n                (byte) 0b00101001,\r\n                (byte) 0b10101001,\r\n                (byte) 0b01101001,\r\n                (byte) 0b11101001,\r\n                (byte) 0b00011001,\r\n                (byte) 0b10011001,\r\n                (byte) 0b01011001,\r\n                (byte) 0b11011001,\r\n                (byte) 0b00111001,\r\n                (byte) 0b10111001,\r\n                (byte) 0b01111001,\r\n                (byte) 0b11111001,\r\n                (byte) 0b00000101,\r\n                (byte) 0b10000101,\r\n                (byte) 0b01000101,\r\n                (byte) 0b11000101,\r\n                (byte) 0b00100101,\r\n                (byte) 0b10100101,\r\n                (byte) 0b01100101,\r\n                (byte) 0b11100101,\r\n                (byte) 0b00010101,\r\n                (byte) 0b10010101,\r\n                (byte) 0b01010101,\r\n                (byte) 0b11010101,\r\n                (byte) 0b00110101,\r\n                (byte) 0b10110101,\r\n                (byte) 0b01110101,\r\n                (byte) 0b11110101,\r\n                (byte) 0b00001101,\r\n                (byte) 0b10001101,\r\n                (byte) 0b01001101,\r\n                (byte) 0b11001101,\r\n                (byte) 0b00101101,\r\n                (byte) 0b10101101,\r\n                (byte) 0b01101101,\r\n                (byte) 0b11101101,\r\n                (byte) 0b00011101,\r\n                (byte) 0b10011101,\r\n                (byte) 0b01011101,\r\n                (byte) 0b11011101,\r\n                (byte) 0b00111101,\r\n                (byte) 0b10111101,\r\n                (byte) 0b01111101,\r\n                (byte) 0b11111101,\r\n                (byte) 0b00000011,\r\n                (byte) 0b10000011,\r\n                (byte) 0b01000011,\r\n                (byte) 0b11000011,\r\n                (byte) 0b00100011,\r\n                (byte) 0b10100011,\r\n                (byte) 0b01100011,\r\n                (byte) 0b11100011,\r\n                (byte) 0b00010011,\r\n                (byte) 0b10010011,\r\n                (byte) 0b01010011,\r\n                (byte) 0b11010011,\r\n                (byte) 0b00110011,\r\n                (byte) 0b10110011,\r\n                (byte) 0b01110011,\r\n                (byte) 0b11110011,\r\n                (byte) 0b00001011,\r\n                (byte) 0b10001011,\r\n                (byte) 0b01001011,\r\n                (byte) 0b11001011,\r\n                (byte) 0b00101011,\r\n                (byte) 0b10101011,\r\n                (byte) 0b01101011,\r\n                (byte) 0b11101011,\r\n                (byte) 0b00011011,\r\n                (byte) 0b10011011,\r\n                (byte) 0b01011011,\r\n                (byte) 0b11011011,\r\n                (byte) 0b00111011,\r\n                (byte) 0b10111011,\r\n                (byte) 0b01111011,\r\n                (byte) 0b11111011,\r\n                (byte) 0b00000111,\r\n                (byte) 0b10000111,\r\n                (byte) 0b01000111,\r\n                (byte) 0b11000111,\r\n                (byte) 0b00100111,\r\n                (byte) 0b10100111,\r\n                (byte) 0b01100111,\r\n                (byte) 0b11100111,\r\n                (byte) 0b00010111,\r\n                (byte) 0b10010111,\r\n                (byte) 0b01010111,\r\n                (byte) 0b11010111,\r\n                (byte) 0b00110111,\r\n                (byte) 0b10110111,\r\n                (byte) 0b01110111,\r\n                (byte) 0b11110111,\r\n                (byte) 0b00001111,\r\n                (byte) 0b10001111,\r\n                (byte) 0b01001111,\r\n                (byte) 0b11001111,\r\n                (byte) 0b00101111,\r\n                (byte) 0b10101111,\r\n                (byte) 0b01101111,\r\n                (byte) 0b11101111,\r\n                (byte) 0b00011111,\r\n                (byte) 0b10011111,\r\n                (byte) 0b01011111,\r\n                (byte) 0b11011111,\r\n                (byte) 0b00111111,\r\n                (byte) 0b10111111,\r\n                (byte) 0b01111111,\r\n                (byte) 0b11111111\r\n                 };\r\n\r\n\r\n\r\n\r\n    for (var i = 0; i &lt; 256; i++) {\r\n            var b = (byte) i;\r\n            var s = String.format(&quot;%8s&quot;, Integer.toBinaryString(b &amp; 0xFF)).replace(&#39; &#39;, &#39;0&#39;);\r\n            var reversedString = new StringBuilder();\r\n            reversedString.append(s);\r\n            reversedString = reversedString.reverse();\r\n            var sR = reversedString.toString();\r\n            System.out.println(i + &quot;, &quot; + s + &quot;, &quot; + sR + &quot;, &quot; + (byte) i + &quot;, &quot; + reversedBits[i]);\r\n        }\r\n\r\nwhich produces:-\r\n\r\n\r\n\r\n\r\n    0, 00000000, 00000000, 0, 0\r\n    1, 00000001, 10000000, 1, -128\r\n    2, 00000010, 01000000, 2, 64\r\n    3, 00000011, 11000000, 3, -64\r\n    4, 00000100, 00100000, 4, 32\r\n    5, 00000101, 10100000, 5, -96\r\n    6, 00000110, 01100000, 6, 96\r\n    7, 00000111, 11100000, 7, -32\r\n    8, 00001000, 00010000, 8, 16\r\n    9, 00001001, 10010000, 9, -112\r\n    10, 00001010, 01010000, 10, 80\r\n    11, 00001011, 11010000, 11, -48\r\n    12, 00001100, 00110000, 12, 48\r\n    13, 00001101, 10110000, 13, -80\r\n    14, 00001110, 01110000, 14, 112\r\n    15, 00001111, 11110000, 15, -16\r\n    16, 00010000, 00001000, 16, 8\r\n    17, 00010001, 10001000, 17, -120\r\n    18, 00010010, 01001000, 18, 72\r\n    19, 00010011, 11001000, 19, -56\r\n    20, 00010100, 00101000, 20, 40\r\n    21, 00010101, 10101000, 21, -88\r\n    22, 00010110, 01101000, 22, 104\r\n    23, 00010111, 11101000, 23, -24\r\n    24, 00011000, 00011000, 24, 24\r\n    25, 00011001, 10011000, 25, -104\r\n    26, 00011010, 01011000, 26, 88\r\n    27, 00011011, 11011000, 27, -40\r\n    28, 00011100, 00111000, 28, 56\r\n    29, 00011101, 10111000, 29, -72\r\n    30, 00011110, 01111000, 30, 120\r\n    31, 00011111, 11111000, 31, -8\r\n    32, 00100000, 00000100, 32, 4\r\n    33, 00100001, 10000100, 33, -124\r\n    34, 00100010, 01000100, 34, 68\r\n    35, 00100011, 11000100, 35, -60\r\n    36, 00100100, 00100100, 36, 36\r\n    37, 00100101, 10100100, 37, -92\r\n    38, 00100110, 01100100, 38, 100\r\n    39, 00100111, 11100100, 39, -28\r\n    40, 00101000, 00010100, 40, 20\r\n    41, 00101001, 10010100, 41, -108\r\n    42, 00101010, 01010100, 42, 84\r\n    43, 00101011, 11010100, 43, -44\r\n    44, 00101100, 00110100, 44, 52\r\n    45, 00101101, 10110100, 45, -76\r\n    46, 00101110, 01110100, 46, 116\r\n    47, 00101111, 11110100, 47, -12\r\n    48, 00110000, 00001100, 48, 12\r\n    49, 00110001, 10001100, 49, -116\r\n    50, 00110010, 01001100, 50, 76\r\n    51, 00110011, 11001100, 51, -52\r\n    52, 00110100, 00101100, 52, 44\r\n    53, 00110101, 10101100, 53, -84\r\n    54, 00110110, 01101100, 54, 108\r\n    55, 00110111, 11101100, 55, -20\r\n    56, 00111000, 00011100, 56, 28\r\n    57, 00111001, 10011100, 57, -100\r\n    58, 00111010, 01011100, 58, 92\r\n    59, 00111011, 11011100, 59, -36\r\n    60, 00111100, 00111100, 60, 60\r\n    61, 00111101, 10111100, 61, -68\r\n    62, 00111110, 01111100, 62, 124\r\n    63, 00111111, 11111100, 63, -4\r\n    64, 01000000, 00000010, 64, 2\r\n    65, 01000001, 10000010, 65, -126\r\n    66, 01000010, 01000010, 66, 66\r\n    67, 01000011, 11000010, 67, -62\r\n    68, 01000100, 00100010, 68, 34\r\n    69, 01000101, 10100010, 69, -94\r\n    70, 01000110, 01100010, 70, 98\r\n    71, 01000111, 11100010, 71, -30\r\n    72, 01001000, 00010010, 72, 18\r\n    73, 01001001, 10010010, 73, -110\r\n    74, 01001010, 01010010, 74, 82\r\n    75, 01001011, 11010010, 75, -46\r\n    76, 01001100, 00110010, 76, 50\r\n    77, 01001101, 10110010, 77, -78\r\n    78, 01001110, 01110010, 78, 114\r\n    79, 01001111, 11110010, 79, -14\r\n    80, 01010000, 00001010, 80, 10\r\n    81, 01010001, 10001010, 81, -118\r\n    82, 01010010, 01001010, 82, 74\r\n    83, 01010011, 11001010, 83, -54\r\n    84, 01010100, 00101010, 84, 42\r\n    85, 01010101, 10101010, 85, -86\r\n    86, 01010110, 01101010, 86, 106\r\n    87, 01010111, 11101010, 87, -22\r\n    88, 01011000, 00011010, 88, 26\r\n    89, 01011001, 10011010, 89, -102\r\n    90, 01011010, 01011010, 90, 90\r\n    91, 01011011, 11011010, 91, -38\r\n    92, 01011100, 00111010, 92, 58\r\n    93, 01011101, 10111010, 93, -70\r\n    94, 01011110, 01111010, 94, 122\r\n    95, 01011111, 11111010, 95, -6\r\n    96, 01100000, 00000110, 96, 6\r\n    97, 01100001, 10000110, 97, -122\r\n    98, 01100010, 01000110, 98, 70\r\n    99, 01100011, 11000110, 99, -58\r\n    100, 01100100, 00100110, 100, 38\r\n    101, 01100101, 10100110, 101, -90\r\n    102, 01100110, 01100110, 102, 102\r\n    103, 01100111, 11100110, 103, -26\r\n    104, 01101000, 00010110, 104, 22\r\n    105, 01101001, 10010110, 105, -106\r\n    106, 01101010, 01010110, 106, 86\r\n    107, 01101011, 11010110, 107, -42\r\n    108, 01101100, 00110110, 108, 54\r\n    109, 01101101, 10110110, 109, -74\r\n    110, 01101110, 01110110, 110, 118\r\n    111, 01101111, 11110110, 111, -10\r\n    112, 01110000, 00001110, 112, 14\r\n    113, 01110001, 10001110, 113, -114\r\n    114, 01110010, 01001110, 114, 78\r\n    115, 01110011, 11001110, 115, -50\r\n    116, 01110100, 00101110, 116, 46\r\n    117, 01110101, 10101110, 117, -82\r\n    118, 01110110, 01101110, 118, 110\r\n    119, 01110111, 11101110, 119, -18\r\n    120, 01111000, 00011110, 120, 30\r\n    121, 01111001, 10011110, 121, -98\r\n    122, 01111010, 01011110, 122, 94\r\n    123, 01111011, 11011110, 123, -34\r\n    124, 01111100, 00111110, 124, 62\r\n    125, 01111101, 10111110, 125, -66\r\n    126, 01111110, 01111110, 126, 126\r\n    127, 01111111, 11111110, 127, -2\r\n    128, 10000000, 00000001, -128, 1\r\n    129, 10000001, 10000001, -127, -127\r\n    130, 10000010, 01000001, -126, 65\r\n    131, 10000011, 11000001, -125, -63\r\n    132, 10000100, 00100001, -124, 33\r\n    133, 10000101, 10100001, -123, -95\r\n    134, 10000110, 01100001, -122, 97\r\n    135, 10000111, 11100001, -121, -31\r\n    136, 10001000, 00010001, -120, 17\r\n    137, 10001001, 10010001, -119, -111\r\n    138, 10001010, 01010001, -118, 81\r\n    139, 10001011, 11010001, -117, -47\r\n    140, 10001100, 00110001, -116, 49\r\n    141, 10001101, 10110001, -115, -79\r\n    142, 10001110, 01110001, -114, 113\r\n    143, 10001111, 11110001, -113, -15\r\n    144, 10010000, 00001001, -112, 9\r\n    145, 10010001, 10001001, -111, -119\r\n    146, 10010010, 01001001, -110, 73\r\n    147, 10010011, 11001001, -109, -55\r\n    148, 10010100, 00101001, -108, 41\r\n    149, 10010101, 10101001, -107, -87\r\n    150, 10010110, 01101001, -106, 105\r\n    151, 10010111, 11101001, -105, -23\r\n    152, 10011000, 00011001, -104, 25\r\n    153, 10011001, 10011001, -103, -103\r\n    154, 10011010, 01011001, -102, 89\r\n    155, 10011011, 11011001, -101, -39\r\n    156, 10011100, 00111001, -100, 57\r\n    157, 10011101, 10111001, -99, -71\r\n    158, 10011110, 01111001, -98, 121\r\n    159, 10011111, 11111001, -97, -7\r\n    160, 10100000, 00000101, -96, 5\r\n    161, 10100001, 10000101, -95, -123\r\n    162, 10100010, 01000101, -94, 69\r\n    163, 10100011, 11000101, -93, -59\r\n    164, 10100100, 00100101, -92, 37\r\n    165, 10100101, 10100101, -91, -91\r\n    166, 10100110, 01100101, -90, 101\r\n    167, 10100111, 11100101, -89, -27\r\n    168, 10101000, 00010101, -88, 21\r\n    169, 10101001, 10010101, -87, -107\r\n    170, 10101010, 01010101, -86, 85\r\n    171, 10101011, 11010101, -85, -43\r\n    172, 10101100, 00110101, -84, 53\r\n    173, 10101101, 10110101, -83, -75\r\n    174, 10101110, 01110101, -82, 117\r\n    175, 10101111, 11110101, -81, -11\r\n    176, 10110000, 00001101, -80, 13\r\n    177, 10110001, 10001101, -79, -115\r\n    178, 10110010, 01001101, -78, 77\r\n    179, 10110011, 11001101, -77, -51\r\n    180, 10110100, 00101101, -76, 45\r\n    181, 10110101, 10101101, -75, -83\r\n    182, 10110110, 01101101, -74, 109\r\n    183, 10110111, 11101101, -73, -19\r\n    184, 10111000, 00011101, -72, 29\r\n    185, 10111001, 10011101, -71, -99\r\n    186, 10111010, 01011101, -70, 93\r\n    187, 10111011, 11011101, -69, -35\r\n    188, 10111100, 00111101, -68, 61\r\n    189, 10111101, 10111101, -67, -67\r\n    190, 10111110, 01111101, -66, 125\r\n    191, 10111111, 11111101, -65, -3\r\n    192, 11000000, 00000011, -64, 3\r\n    193, 11000001, 10000011, -63, -125\r\n    194, 11000010, 01000011, -62, 67\r\n    195, 11000011, 11000011, -61, -61\r\n    196, 11000100, 00100011, -60, 35\r\n    197, 11000101, 10100011, -59, -93\r\n    198, 11000110, 01100011, -58, 99\r\n    199, 11000111, 11100011, -57, -29\r\n    200, 11001000, 00010011, -56, 19\r\n    201, 11001001, 10010011, -55, -109\r\n    202, 11001010, 01010011, -54, 83\r\n    203, 11001011, 11010011, -53, -45\r\n    204, 11001100, 00110011, -52, 51\r\n    205, 11001101, 10110011, -51, -77\r\n    206, 11001110, 01110011, -50, 115\r\n    207, 11001111, 11110011, -49, -13\r\n    208, 11010000, 00001011, -48, 11\r\n    209, 11010001, 10001011, -47, -117\r\n    210, 11010010, 01001011, -46, 75\r\n    211, 11010011, 11001011, -45, -53\r\n    212, 11010100, 00101011, -44, 43\r\n    213, 11010101, 10101011, -43, -85\r\n    214, 11010110, 01101011, -42, 107\r\n    215, 11010111, 11101011, -41, -21\r\n    216, 11011000, 00011011, -40, 27\r\n    217, 11011001, 10011011, -39, -101\r\n    218, 11011010, 01011011, -38, 91\r\n    219, 11011011, 11011011, -37, -37\r\n    220, 11011100, 00111011, -36, 59\r\n    221, 11011101, 10111011, -35, -69\r\n    222, 11011110, 01111011, -34, 123\r\n    223, 11011111, 11111011, -33, -5\r\n    224, 11100000, 00000111, -32, 7\r\n    225, 11100001, 10000111, -31, -121\r\n    226, 11100010, 01000111, -30, 71\r\n    227, 11100011, 11000111, -29, -57\r\n    228, 11100100, 00100111, -28, 39\r\n    229, 11100101, 10100111, -27, -89\r\n    230, 11100110, 01100111, -26, 103\r\n    231, 11100111, 11100111, -25, -25\r\n    232, 11101000, 00010111, -24, 23\r\n    233, 11101001, 10010111, -23, -105\r\n    234, 11101010, 01010111, -22, 87\r\n    235, 11101011, 11010111, -21, -41\r\n    236, 11101100, 00110111, -20, 55\r\n    237, 11101101, 10110111, -19, -73\r\n    238, 11101110, 01110111, -18, 119\r\n    239, 11101111, 11110111, -17, -9\r\n    240, 11110000, 00001111, -16, 15\r\n    241, 11110001, 10001111, -15, -113\r\n    242, 11110010, 01001111, -14, 79\r\n    243, 11110011, 11001111, -13, -49\r\n    244, 11110100, 00101111, -12, 47\r\n    245, 11110101, 10101111, -11, -81\r\n    246, 11110110, 01101111, -10, 111\r\n    247, 11110111, 11101111, -9, -17\r\n    248, 11111000, 00011111, -8, 31\r\n    249, 11111001, 10011111, -7, -97\r\n    250, 11111010, 01011111, -6, 95\r\n    251, 11111011, 11011111, -5, -33\r\n    252, 11111100, 00111111, -4, 63\r\n    253, 11111101, 10111111, -3, -65\r\n    254, 11111110, 01111111, -2, 127\r\n    255, 11111111, 11111111, -1, -1\r\n\r\n\r\n\r\n\r\n\r\nand which you can see is correct via inspection. Especially around the +/- 127/128 boundary where some of the other answers are wrong.\r\n\r\n\r\n----------------\r\n\r\nJust who on God&#39;s good Earth decided to have signed bytes in Java? That really was the first Evil.","title":"How can I invert bits of an unsigned byte in Java?","body":"<p>Or, you can do it without any dodgy signed arithmetic, using string handling instead:-</p>\n<pre><code>public class ReverseBits {\npublic static void main(String[] args) {\n\n    byte[] reversedBits = {\n            (byte) 0b00000000,\n            (byte) 0b10000000,\n            (byte) 0b01000000,\n            (byte) 0b11000000,\n            (byte) 0b00100000,\n            (byte) 0b10100000,\n            (byte) 0b01100000,\n            (byte) 0b11100000,\n            (byte) 0b00010000,\n            (byte) 0b10010000,\n            (byte) 0b01010000,\n            (byte) 0b11010000,\n            (byte) 0b00110000,\n            (byte) 0b10110000,\n            (byte) 0b01110000,\n            (byte) 0b11110000,\n            (byte) 0b00001000,\n            (byte) 0b10001000,\n            (byte) 0b01001000,\n            (byte) 0b11001000,\n            (byte) 0b00101000,\n            (byte) 0b10101000,\n            (byte) 0b01101000,\n            (byte) 0b11101000,\n            (byte) 0b00011000,\n            (byte) 0b10011000,\n            (byte) 0b01011000,\n            (byte) 0b11011000,\n            (byte) 0b00111000,\n            (byte) 0b10111000,\n            (byte) 0b01111000,\n            (byte) 0b11111000,\n            (byte) 0b00000100,\n            (byte) 0b10000100,\n            (byte) 0b01000100,\n            (byte) 0b11000100,\n            (byte) 0b00100100,\n            (byte) 0b10100100,\n            (byte) 0b01100100,\n            (byte) 0b11100100,\n            (byte) 0b00010100,\n            (byte) 0b10010100,\n            (byte) 0b01010100,\n            (byte) 0b11010100,\n            (byte) 0b00110100,\n            (byte) 0b10110100,\n            (byte) 0b01110100,\n            (byte) 0b11110100,\n            (byte) 0b00001100,\n            (byte) 0b10001100,\n            (byte) 0b01001100,\n            (byte) 0b11001100,\n            (byte) 0b00101100,\n            (byte) 0b10101100,\n            (byte) 0b01101100,\n            (byte) 0b11101100,\n            (byte) 0b00011100,\n            (byte) 0b10011100,\n            (byte) 0b01011100,\n            (byte) 0b11011100,\n            (byte) 0b00111100,\n            (byte) 0b10111100,\n            (byte) 0b01111100,\n            (byte) 0b11111100,\n            (byte) 0b00000010,\n            (byte) 0b10000010,\n            (byte) 0b01000010,\n            (byte) 0b11000010,\n            (byte) 0b00100010,\n            (byte) 0b10100010,\n            (byte) 0b01100010,\n            (byte) 0b11100010,\n            (byte) 0b00010010,\n            (byte) 0b10010010,\n            (byte) 0b01010010,\n            (byte) 0b11010010,\n            (byte) 0b00110010,\n            (byte) 0b10110010,\n            (byte) 0b01110010,\n            (byte) 0b11110010,\n            (byte) 0b00001010,\n            (byte) 0b10001010,\n            (byte) 0b01001010,\n            (byte) 0b11001010,\n            (byte) 0b00101010,\n            (byte) 0b10101010,\n            (byte) 0b01101010,\n            (byte) 0b11101010,\n            (byte) 0b00011010,\n            (byte) 0b10011010,\n            (byte) 0b01011010,\n            (byte) 0b11011010,\n            (byte) 0b00111010,\n            (byte) 0b10111010,\n            (byte) 0b01111010,\n            (byte) 0b11111010,\n            (byte) 0b00000110,\n            (byte) 0b10000110,\n            (byte) 0b01000110,\n            (byte) 0b11000110,\n            (byte) 0b00100110,\n            (byte) 0b10100110,\n            (byte) 0b01100110,\n            (byte) 0b11100110,\n            (byte) 0b00010110,\n            (byte) 0b10010110,\n            (byte) 0b01010110,\n            (byte) 0b11010110,\n            (byte) 0b00110110,\n            (byte) 0b10110110,\n            (byte) 0b01110110,\n            (byte) 0b11110110,\n            (byte) 0b00001110,\n            (byte) 0b10001110,\n            (byte) 0b01001110,\n            (byte) 0b11001110,\n            (byte) 0b00101110,\n            (byte) 0b10101110,\n            (byte) 0b01101110,\n            (byte) 0b11101110,\n            (byte) 0b00011110,\n            (byte) 0b10011110,\n            (byte) 0b01011110,\n            (byte) 0b11011110,\n            (byte) 0b00111110,\n            (byte) 0b10111110,\n            (byte) 0b01111110,\n            (byte) 0b11111110,\n            (byte) 0b00000001,\n            (byte) 0b10000001,\n            (byte) 0b01000001,\n            (byte) 0b11000001,\n            (byte) 0b00100001,\n            (byte) 0b10100001,\n            (byte) 0b01100001,\n            (byte) 0b11100001,\n            (byte) 0b00010001,\n            (byte) 0b10010001,\n            (byte) 0b01010001,\n            (byte) 0b11010001,\n            (byte) 0b00110001,\n            (byte) 0b10110001,\n            (byte) 0b01110001,\n            (byte) 0b11110001,\n            (byte) 0b00001001,\n            (byte) 0b10001001,\n            (byte) 0b01001001,\n            (byte) 0b11001001,\n            (byte) 0b00101001,\n            (byte) 0b10101001,\n            (byte) 0b01101001,\n            (byte) 0b11101001,\n            (byte) 0b00011001,\n            (byte) 0b10011001,\n            (byte) 0b01011001,\n            (byte) 0b11011001,\n            (byte) 0b00111001,\n            (byte) 0b10111001,\n            (byte) 0b01111001,\n            (byte) 0b11111001,\n            (byte) 0b00000101,\n            (byte) 0b10000101,\n            (byte) 0b01000101,\n            (byte) 0b11000101,\n            (byte) 0b00100101,\n            (byte) 0b10100101,\n            (byte) 0b01100101,\n            (byte) 0b11100101,\n            (byte) 0b00010101,\n            (byte) 0b10010101,\n            (byte) 0b01010101,\n            (byte) 0b11010101,\n            (byte) 0b00110101,\n            (byte) 0b10110101,\n            (byte) 0b01110101,\n            (byte) 0b11110101,\n            (byte) 0b00001101,\n            (byte) 0b10001101,\n            (byte) 0b01001101,\n            (byte) 0b11001101,\n            (byte) 0b00101101,\n            (byte) 0b10101101,\n            (byte) 0b01101101,\n            (byte) 0b11101101,\n            (byte) 0b00011101,\n            (byte) 0b10011101,\n            (byte) 0b01011101,\n            (byte) 0b11011101,\n            (byte) 0b00111101,\n            (byte) 0b10111101,\n            (byte) 0b01111101,\n            (byte) 0b11111101,\n            (byte) 0b00000011,\n            (byte) 0b10000011,\n            (byte) 0b01000011,\n            (byte) 0b11000011,\n            (byte) 0b00100011,\n            (byte) 0b10100011,\n            (byte) 0b01100011,\n            (byte) 0b11100011,\n            (byte) 0b00010011,\n            (byte) 0b10010011,\n            (byte) 0b01010011,\n            (byte) 0b11010011,\n            (byte) 0b00110011,\n            (byte) 0b10110011,\n            (byte) 0b01110011,\n            (byte) 0b11110011,\n            (byte) 0b00001011,\n            (byte) 0b10001011,\n            (byte) 0b01001011,\n            (byte) 0b11001011,\n            (byte) 0b00101011,\n            (byte) 0b10101011,\n            (byte) 0b01101011,\n            (byte) 0b11101011,\n            (byte) 0b00011011,\n            (byte) 0b10011011,\n            (byte) 0b01011011,\n            (byte) 0b11011011,\n            (byte) 0b00111011,\n            (byte) 0b10111011,\n            (byte) 0b01111011,\n            (byte) 0b11111011,\n            (byte) 0b00000111,\n            (byte) 0b10000111,\n            (byte) 0b01000111,\n            (byte) 0b11000111,\n            (byte) 0b00100111,\n            (byte) 0b10100111,\n            (byte) 0b01100111,\n            (byte) 0b11100111,\n            (byte) 0b00010111,\n            (byte) 0b10010111,\n            (byte) 0b01010111,\n            (byte) 0b11010111,\n            (byte) 0b00110111,\n            (byte) 0b10110111,\n            (byte) 0b01110111,\n            (byte) 0b11110111,\n            (byte) 0b00001111,\n            (byte) 0b10001111,\n            (byte) 0b01001111,\n            (byte) 0b11001111,\n            (byte) 0b00101111,\n            (byte) 0b10101111,\n            (byte) 0b01101111,\n            (byte) 0b11101111,\n            (byte) 0b00011111,\n            (byte) 0b10011111,\n            (byte) 0b01011111,\n            (byte) 0b11011111,\n            (byte) 0b00111111,\n            (byte) 0b10111111,\n            (byte) 0b01111111,\n            (byte) 0b11111111\n             };\n\n\n\n\nfor (var i = 0; i &lt; 256; i++) {\n        var b = (byte) i;\n        var s = String.format(&quot;%8s&quot;, Integer.toBinaryString(b &amp; 0xFF)).replace(' ', '0');\n        var reversedString = new StringBuilder();\n        reversedString.append(s);\n        reversedString = reversedString.reverse();\n        var sR = reversedString.toString();\n        System.out.println(i + &quot;, &quot; + s + &quot;, &quot; + sR + &quot;, &quot; + (byte) i + &quot;, &quot; + reversedBits[i]);\n    }\n</code></pre>\n<p>which produces:-</p>\n<pre><code>0, 00000000, 00000000, 0, 0\n1, 00000001, 10000000, 1, -128\n2, 00000010, 01000000, 2, 64\n3, 00000011, 11000000, 3, -64\n4, 00000100, 00100000, 4, 32\n5, 00000101, 10100000, 5, -96\n6, 00000110, 01100000, 6, 96\n7, 00000111, 11100000, 7, -32\n8, 00001000, 00010000, 8, 16\n9, 00001001, 10010000, 9, -112\n10, 00001010, 01010000, 10, 80\n11, 00001011, 11010000, 11, -48\n12, 00001100, 00110000, 12, 48\n13, 00001101, 10110000, 13, -80\n14, 00001110, 01110000, 14, 112\n15, 00001111, 11110000, 15, -16\n16, 00010000, 00001000, 16, 8\n17, 00010001, 10001000, 17, -120\n18, 00010010, 01001000, 18, 72\n19, 00010011, 11001000, 19, -56\n20, 00010100, 00101000, 20, 40\n21, 00010101, 10101000, 21, -88\n22, 00010110, 01101000, 22, 104\n23, 00010111, 11101000, 23, -24\n24, 00011000, 00011000, 24, 24\n25, 00011001, 10011000, 25, -104\n26, 00011010, 01011000, 26, 88\n27, 00011011, 11011000, 27, -40\n28, 00011100, 00111000, 28, 56\n29, 00011101, 10111000, 29, -72\n30, 00011110, 01111000, 30, 120\n31, 00011111, 11111000, 31, -8\n32, 00100000, 00000100, 32, 4\n33, 00100001, 10000100, 33, -124\n34, 00100010, 01000100, 34, 68\n35, 00100011, 11000100, 35, -60\n36, 00100100, 00100100, 36, 36\n37, 00100101, 10100100, 37, -92\n38, 00100110, 01100100, 38, 100\n39, 00100111, 11100100, 39, -28\n40, 00101000, 00010100, 40, 20\n41, 00101001, 10010100, 41, -108\n42, 00101010, 01010100, 42, 84\n43, 00101011, 11010100, 43, -44\n44, 00101100, 00110100, 44, 52\n45, 00101101, 10110100, 45, -76\n46, 00101110, 01110100, 46, 116\n47, 00101111, 11110100, 47, -12\n48, 00110000, 00001100, 48, 12\n49, 00110001, 10001100, 49, -116\n50, 00110010, 01001100, 50, 76\n51, 00110011, 11001100, 51, -52\n52, 00110100, 00101100, 52, 44\n53, 00110101, 10101100, 53, -84\n54, 00110110, 01101100, 54, 108\n55, 00110111, 11101100, 55, -20\n56, 00111000, 00011100, 56, 28\n57, 00111001, 10011100, 57, -100\n58, 00111010, 01011100, 58, 92\n59, 00111011, 11011100, 59, -36\n60, 00111100, 00111100, 60, 60\n61, 00111101, 10111100, 61, -68\n62, 00111110, 01111100, 62, 124\n63, 00111111, 11111100, 63, -4\n64, 01000000, 00000010, 64, 2\n65, 01000001, 10000010, 65, -126\n66, 01000010, 01000010, 66, 66\n67, 01000011, 11000010, 67, -62\n68, 01000100, 00100010, 68, 34\n69, 01000101, 10100010, 69, -94\n70, 01000110, 01100010, 70, 98\n71, 01000111, 11100010, 71, -30\n72, 01001000, 00010010, 72, 18\n73, 01001001, 10010010, 73, -110\n74, 01001010, 01010010, 74, 82\n75, 01001011, 11010010, 75, -46\n76, 01001100, 00110010, 76, 50\n77, 01001101, 10110010, 77, -78\n78, 01001110, 01110010, 78, 114\n79, 01001111, 11110010, 79, -14\n80, 01010000, 00001010, 80, 10\n81, 01010001, 10001010, 81, -118\n82, 01010010, 01001010, 82, 74\n83, 01010011, 11001010, 83, -54\n84, 01010100, 00101010, 84, 42\n85, 01010101, 10101010, 85, -86\n86, 01010110, 01101010, 86, 106\n87, 01010111, 11101010, 87, -22\n88, 01011000, 00011010, 88, 26\n89, 01011001, 10011010, 89, -102\n90, 01011010, 01011010, 90, 90\n91, 01011011, 11011010, 91, -38\n92, 01011100, 00111010, 92, 58\n93, 01011101, 10111010, 93, -70\n94, 01011110, 01111010, 94, 122\n95, 01011111, 11111010, 95, -6\n96, 01100000, 00000110, 96, 6\n97, 01100001, 10000110, 97, -122\n98, 01100010, 01000110, 98, 70\n99, 01100011, 11000110, 99, -58\n100, 01100100, 00100110, 100, 38\n101, 01100101, 10100110, 101, -90\n102, 01100110, 01100110, 102, 102\n103, 01100111, 11100110, 103, -26\n104, 01101000, 00010110, 104, 22\n105, 01101001, 10010110, 105, -106\n106, 01101010, 01010110, 106, 86\n107, 01101011, 11010110, 107, -42\n108, 01101100, 00110110, 108, 54\n109, 01101101, 10110110, 109, -74\n110, 01101110, 01110110, 110, 118\n111, 01101111, 11110110, 111, -10\n112, 01110000, 00001110, 112, 14\n113, 01110001, 10001110, 113, -114\n114, 01110010, 01001110, 114, 78\n115, 01110011, 11001110, 115, -50\n116, 01110100, 00101110, 116, 46\n117, 01110101, 10101110, 117, -82\n118, 01110110, 01101110, 118, 110\n119, 01110111, 11101110, 119, -18\n120, 01111000, 00011110, 120, 30\n121, 01111001, 10011110, 121, -98\n122, 01111010, 01011110, 122, 94\n123, 01111011, 11011110, 123, -34\n124, 01111100, 00111110, 124, 62\n125, 01111101, 10111110, 125, -66\n126, 01111110, 01111110, 126, 126\n127, 01111111, 11111110, 127, -2\n128, 10000000, 00000001, -128, 1\n129, 10000001, 10000001, -127, -127\n130, 10000010, 01000001, -126, 65\n131, 10000011, 11000001, -125, -63\n132, 10000100, 00100001, -124, 33\n133, 10000101, 10100001, -123, -95\n134, 10000110, 01100001, -122, 97\n135, 10000111, 11100001, -121, -31\n136, 10001000, 00010001, -120, 17\n137, 10001001, 10010001, -119, -111\n138, 10001010, 01010001, -118, 81\n139, 10001011, 11010001, -117, -47\n140, 10001100, 00110001, -116, 49\n141, 10001101, 10110001, -115, -79\n142, 10001110, 01110001, -114, 113\n143, 10001111, 11110001, -113, -15\n144, 10010000, 00001001, -112, 9\n145, 10010001, 10001001, -111, -119\n146, 10010010, 01001001, -110, 73\n147, 10010011, 11001001, -109, -55\n148, 10010100, 00101001, -108, 41\n149, 10010101, 10101001, -107, -87\n150, 10010110, 01101001, -106, 105\n151, 10010111, 11101001, -105, -23\n152, 10011000, 00011001, -104, 25\n153, 10011001, 10011001, -103, -103\n154, 10011010, 01011001, -102, 89\n155, 10011011, 11011001, -101, -39\n156, 10011100, 00111001, -100, 57\n157, 10011101, 10111001, -99, -71\n158, 10011110, 01111001, -98, 121\n159, 10011111, 11111001, -97, -7\n160, 10100000, 00000101, -96, 5\n161, 10100001, 10000101, -95, -123\n162, 10100010, 01000101, -94, 69\n163, 10100011, 11000101, -93, -59\n164, 10100100, 00100101, -92, 37\n165, 10100101, 10100101, -91, -91\n166, 10100110, 01100101, -90, 101\n167, 10100111, 11100101, -89, -27\n168, 10101000, 00010101, -88, 21\n169, 10101001, 10010101, -87, -107\n170, 10101010, 01010101, -86, 85\n171, 10101011, 11010101, -85, -43\n172, 10101100, 00110101, -84, 53\n173, 10101101, 10110101, -83, -75\n174, 10101110, 01110101, -82, 117\n175, 10101111, 11110101, -81, -11\n176, 10110000, 00001101, -80, 13\n177, 10110001, 10001101, -79, -115\n178, 10110010, 01001101, -78, 77\n179, 10110011, 11001101, -77, -51\n180, 10110100, 00101101, -76, 45\n181, 10110101, 10101101, -75, -83\n182, 10110110, 01101101, -74, 109\n183, 10110111, 11101101, -73, -19\n184, 10111000, 00011101, -72, 29\n185, 10111001, 10011101, -71, -99\n186, 10111010, 01011101, -70, 93\n187, 10111011, 11011101, -69, -35\n188, 10111100, 00111101, -68, 61\n189, 10111101, 10111101, -67, -67\n190, 10111110, 01111101, -66, 125\n191, 10111111, 11111101, -65, -3\n192, 11000000, 00000011, -64, 3\n193, 11000001, 10000011, -63, -125\n194, 11000010, 01000011, -62, 67\n195, 11000011, 11000011, -61, -61\n196, 11000100, 00100011, -60, 35\n197, 11000101, 10100011, -59, -93\n198, 11000110, 01100011, -58, 99\n199, 11000111, 11100011, -57, -29\n200, 11001000, 00010011, -56, 19\n201, 11001001, 10010011, -55, -109\n202, 11001010, 01010011, -54, 83\n203, 11001011, 11010011, -53, -45\n204, 11001100, 00110011, -52, 51\n205, 11001101, 10110011, -51, -77\n206, 11001110, 01110011, -50, 115\n207, 11001111, 11110011, -49, -13\n208, 11010000, 00001011, -48, 11\n209, 11010001, 10001011, -47, -117\n210, 11010010, 01001011, -46, 75\n211, 11010011, 11001011, -45, -53\n212, 11010100, 00101011, -44, 43\n213, 11010101, 10101011, -43, -85\n214, 11010110, 01101011, -42, 107\n215, 11010111, 11101011, -41, -21\n216, 11011000, 00011011, -40, 27\n217, 11011001, 10011011, -39, -101\n218, 11011010, 01011011, -38, 91\n219, 11011011, 11011011, -37, -37\n220, 11011100, 00111011, -36, 59\n221, 11011101, 10111011, -35, -69\n222, 11011110, 01111011, -34, 123\n223, 11011111, 11111011, -33, -5\n224, 11100000, 00000111, -32, 7\n225, 11100001, 10000111, -31, -121\n226, 11100010, 01000111, -30, 71\n227, 11100011, 11000111, -29, -57\n228, 11100100, 00100111, -28, 39\n229, 11100101, 10100111, -27, -89\n230, 11100110, 01100111, -26, 103\n231, 11100111, 11100111, -25, -25\n232, 11101000, 00010111, -24, 23\n233, 11101001, 10010111, -23, -105\n234, 11101010, 01010111, -22, 87\n235, 11101011, 11010111, -21, -41\n236, 11101100, 00110111, -20, 55\n237, 11101101, 10110111, -19, -73\n238, 11101110, 01110111, -18, 119\n239, 11101111, 11110111, -17, -9\n240, 11110000, 00001111, -16, 15\n241, 11110001, 10001111, -15, -113\n242, 11110010, 01001111, -14, 79\n243, 11110011, 11001111, -13, -49\n244, 11110100, 00101111, -12, 47\n245, 11110101, 10101111, -11, -81\n246, 11110110, 01101111, -10, 111\n247, 11110111, 11101111, -9, -17\n248, 11111000, 00011111, -8, 31\n249, 11111001, 10011111, -7, -97\n250, 11111010, 01011111, -6, 95\n251, 11111011, 11011111, -5, -33\n252, 11111100, 00111111, -4, 63\n253, 11111101, 10111111, -3, -65\n254, 11111110, 01111111, -2, 127\n255, 11111111, 11111111, -1, -1\n</code></pre>\n<p>and which you can see is correct via inspection. Especially around the +/- 127/128 boundary where some of the other answers are wrong.</p>\n<hr />\n<p>Just who on God's good Earth decided to have signed bytes in Java? That really was the first Evil.</p>\n"}],"owner":{"account_id":194589,"reputation":301,"user_id":437030,"display_name":"DavidKelly999"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46963,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":8,"score":20,"last_activity_date":1699709031,"creation_date":1279967115,"question_id":3324707,"body_markdown":"I am trying to write a decoder for a very simple type of encryption. Numbers from 0-255 are entered via Scanner, the bits are inverted, and then converted to a character and printed. \r\n\r\nFor example, the number 178 should convert to the letter &quot;M&quot;. \r\n\r\n178 is 10110010. \r\n\r\nInverting all of the bits should give 01001101, which is 77 or &quot;M&quot; as a character.\r\n\r\nThe main problem I have is that, as far as I can tell, Java does not support unsigned bytes. I could read values as an int or a short, but then the values will be off during the conversion due to the extra bits. Ideally I could just use the bitwise complement operator, but I think I will end up getting negative values if I do this with signed numbers. Any ideas on how I should approach this?\r\n","title":"How can I invert bits of an unsigned byte in Java?","body":"<p>I am trying to write a decoder for a very simple type of encryption. Numbers from 0-255 are entered via Scanner, the bits are inverted, and then converted to a character and printed. </p>\n\n<p>For example, the number 178 should convert to the letter \"M\". </p>\n\n<p>178 is 10110010. </p>\n\n<p>Inverting all of the bits should give 01001101, which is 77 or \"M\" as a character.</p>\n\n<p>The main problem I have is that, as far as I can tell, Java does not support unsigned bytes. I could read values as an int or a short, but then the values will be off during the conversion due to the extra bits. Ideally I could just use the bitwise complement operator, but I think I will end up getting negative values if I do this with signed numbers. Any ideas on how I should approach this?</p>\n"},{"tags":["java","ssl","cryptography","certificate","pem"],"owner":{"account_id":2810221,"reputation":1210,"user_id":2416601,"accept_rate":60,"display_name":"vanessen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699710050,"answer_count":0,"score":0,"last_activity_date":1699708184,"creation_date":1699708184,"question_id":77465209,"body_markdown":"I am actually using java codes to encrypt a sample text using a public certificate which is of type pem. When encrypting I keep getting the following error : \r\n\r\n&gt; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException: ObjectIdentifier() -- data isn&#39;t an object ID (tag = -96)\r\n        at java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePublic(RSAKeyFactory.java:239)\r\n        at java.base/java.security.KeyFactory.generatePublic(KeyFactory.java:352)\r\n        at TextEncryptor.getPublicKeyFromString(TextEncryptor.java:45)\r\n        at TextEncryptor.main(TextEncryptor.java:19)\r\nCaused by: java.security.InvalidKeyException: IOException: ObjectIdentifier() -- data isn&#39;t an object ID (tag = -96)\r\n        at java.base/sun.security.x509.X509Key.decode(X509Key.java:396)\r\n        at java.base/sun.security.x509.X509Key.decode(X509Key.java:401)\r\n        at java.base/sun.security.rsa.RSAPublicKeyImpl.&lt;init&gt;(RSAPublicKeyImpl.java:122)\r\n        at java.base/sun.security.rsa.RSAKeyFactory.generatePublic(RSAKeyFactory.java:330)\r\n        at java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePublic(RSAKeyFactory.java:235)\r\n        ... 3 more\r\n\r\nHere is the code I&#39;m using  : \r\n\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.security.KeyFactory;\r\n    import java.security.PublicKey;\r\n    import java.security.spec.X509EncodedKeySpec;\r\n    import javax.crypto.Cipher;\r\n    import java.util.Base64;\r\n    \r\n    public class TextEncryptor {\r\n    public static void main(String[] args) {\r\n        try {\r\n            // Replace with the path to your public key (.crt) file\r\n            String publicKeyPath = &quot;PublicKey.crt&quot;;\r\n\r\n            // Load public key from file\r\n            String publicKeyContent = new String(Files.readAllBytes(Paths.get(publicKeyPath)), StandardCharsets.UTF_8);\r\n            PublicKey publicKey = getPublicKeyFromString(publicKeyContent);\r\n\r\n            // Text to be encrypted\r\n            String plaintext = &quot;Hello, this is a secret message.&quot;;\r\n\r\n            // Encrypt the text\r\n            String encryptedText = encryptText(plaintext, publicKey);\r\n\r\n            System.out.println(&quot;Original text: &quot; + plaintext);\r\n            System.out.println(&quot;Encrypted text: &quot; + encryptedText);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    // Method to load a public key from a string\r\n    private static PublicKey getPublicKeyFromString(String key) throws Exception {\r\n        //remove the begin and end\r\n        //System.out.println(&quot;crt file : &quot; + key);\r\n        String publicKeyPEM = key\r\n        .replace(&quot;-----BEGIN CERTIFICATE-----&quot;, &quot;&quot;)\r\n        .replaceAll(System.lineSeparator(), &quot;&quot;)\r\n        .replace(&quot;-----END CERTIFICATE-----&quot;, &quot;&quot;);\r\n        byte[] keyBytes = Base64.getDecoder().decode(publicKeyPEM);\r\n        X509EncodedKeySpec keySpec = new X509EncodedKeySpec(keyBytes);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        return keyFactory.generatePublic(keySpec);\r\n    }\r\n\r\n    // Method to encrypt text using a public key\r\n    private static String encryptText(String plaintext, PublicKey publicKey) throws Exception {\r\n        Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\r\n        cipher.init(Cipher.ENCRYPT_MODE, publicKey);\r\n        byte[] encryptedBytes = cipher.doFinal(plaintext.getBytes(StandardCharsets.UTF_8));\r\n        return Base64.getEncoder().encodeToString(encryptedBytes);\r\n    }\r\n}\r\n\r\n\r\nThe public certificate is like this : \r\n\r\n    -----BEGIN CERTIFICATE-----\r\n    MI......................==\r\n    -----END CERTIFICATE-----\r\n\r\n(I skipped some content from the certificate to keep only header and footer here)\r\n\r\nWhat am I missing here ? \r\n","title":"Encrypting a text using pem public certificate not working","body":"<p>I am actually using java codes to encrypt a sample text using a public certificate which is of type pem. When encrypting I keep getting the following error :</p>\n<blockquote>\n<p>java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException: ObjectIdentifier() -- data isn't an object ID (tag = -96)\nat java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePublic(RSAKeyFactory.java:239)\nat java.base/java.security.KeyFactory.generatePublic(KeyFactory.java:352)\nat TextEncryptor.getPublicKeyFromString(TextEncryptor.java:45)\nat TextEncryptor.main(TextEncryptor.java:19)\nCaused by: java.security.InvalidKeyException: IOException: ObjectIdentifier() -- data isn't an object ID (tag = -96)\nat java.base/sun.security.x509.X509Key.decode(X509Key.java:396)\nat java.base/sun.security.x509.X509Key.decode(X509Key.java:401)\nat java.base/sun.security.rsa.RSAPublicKeyImpl.(RSAPublicKeyImpl.java:122)\nat java.base/sun.security.rsa.RSAKeyFactory.generatePublic(RSAKeyFactory.java:330)\nat java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePublic(RSAKeyFactory.java:235)\n... 3 more</p>\n</blockquote>\n<p>Here is the code I'm using  :</p>\n<pre><code>import java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.security.KeyFactory;\nimport java.security.PublicKey;\nimport java.security.spec.X509EncodedKeySpec;\nimport javax.crypto.Cipher;\nimport java.util.Base64;\n\npublic class TextEncryptor {\npublic static void main(String[] args) {\n    try {\n        // Replace with the path to your public key (.crt) file\n        String publicKeyPath = &quot;PublicKey.crt&quot;;\n\n        // Load public key from file\n        String publicKeyContent = new String(Files.readAllBytes(Paths.get(publicKeyPath)), StandardCharsets.UTF_8);\n        PublicKey publicKey = getPublicKeyFromString(publicKeyContent);\n\n        // Text to be encrypted\n        String plaintext = &quot;Hello, this is a secret message.&quot;;\n\n        // Encrypt the text\n        String encryptedText = encryptText(plaintext, publicKey);\n\n        System.out.println(&quot;Original text: &quot; + plaintext);\n        System.out.println(&quot;Encrypted text: &quot; + encryptedText);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\n// Method to load a public key from a string\nprivate static PublicKey getPublicKeyFromString(String key) throws Exception {\n    //remove the begin and end\n    //System.out.println(&quot;crt file : &quot; + key);\n    String publicKeyPEM = key\n    .replace(&quot;-----BEGIN CERTIFICATE-----&quot;, &quot;&quot;)\n    .replaceAll(System.lineSeparator(), &quot;&quot;)\n    .replace(&quot;-----END CERTIFICATE-----&quot;, &quot;&quot;);\n    byte[] keyBytes = Base64.getDecoder().decode(publicKeyPEM);\n    X509EncodedKeySpec keySpec = new X509EncodedKeySpec(keyBytes);\n    KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n    return keyFactory.generatePublic(keySpec);\n}\n\n// Method to encrypt text using a public key\nprivate static String encryptText(String plaintext, PublicKey publicKey) throws Exception {\n    Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\n    cipher.init(Cipher.ENCRYPT_MODE, publicKey);\n    byte[] encryptedBytes = cipher.doFinal(plaintext.getBytes(StandardCharsets.UTF_8));\n    return Base64.getEncoder().encodeToString(encryptedBytes);\n}\n</code></pre>\n<p>}</p>\n<p>The public certificate is like this :</p>\n<pre><code>-----BEGIN CERTIFICATE-----\nMI......................==\n-----END CERTIFICATE-----\n</code></pre>\n<p>(I skipped some content from the certificate to keep only header and footer here)</p>\n<p>What am I missing here ?</p>\n"},{"tags":["java","junit4","properties-file","testcase"],"comments":[{"owner":{"account_id":143602,"reputation":4091,"user_id":352054,"accept_rate":76,"display_name":"dom farr"},"score":0,"creation_date":1444743070,"post_id":33103964,"comment_id":54022834,"body_markdown":"unit test? integration test? what value do you want your test to bring?","body":"unit test? integration test? what value do you want your test to bring?"},{"owner":{"account_id":166441,"reputation":2222,"user_id":390562,"accept_rate":86,"display_name":"Timo"},"score":0,"creation_date":1444743124,"post_id":33103964,"comment_id":54022886,"body_markdown":"You made the method `private`, which means that it is an internal method. You should try to focus on testing the `public` methods of the class. If you design a/multiple good test of your public methods, you will automatically test if the private method did its work.","body":"You made the method <code>private</code>, which means that it is an internal method. You should try to focus on testing the <code>public</code> methods of the class. If you design a/multiple good test of your public methods, you will automatically test if the private method did its work."},{"owner":{"account_id":6993468,"reputation":164,"user_id":5361847,"accept_rate":0,"display_name":"ShridharBavannawar"},"score":0,"creation_date":1444743519,"post_id":33103964,"comment_id":54023200,"body_markdown":"@dom  its unit testing I want.","body":"@dom  its unit testing I want."},{"owner":{"account_id":6993468,"reputation":164,"user_id":5361847,"accept_rate":0,"display_name":"ShridharBavannawar"},"score":0,"creation_date":1444743732,"post_id":33103964,"comment_id":54023382,"body_markdown":"@Timo Yeah private method cannot be tested. Had it been public how do i test it? Its just that I want to check if the data in each column is not null. How do I do that?","body":"@Timo Yeah private method cannot be tested. Had it been public how do i test it? Its just that I want to check if the data in each column is not null. How do I do that?"},{"owner":{"account_id":143602,"reputation":4091,"user_id":352054,"accept_rate":76,"display_name":"dom farr"},"score":0,"creation_date":1444743900,"post_id":33103964,"comment_id":54023508,"body_markdown":"Split this class up into many smaller classes that do only one thing (Single Responsibility Principle), and then build up your main method with all the small classes by injecting your dependencies via the constructor (Dependency Inversion Principle). Each small class should be testable without knowledge other classes and will build up.","body":"Split this class up into many smaller classes that do only one thing (Single Responsibility Principle), and then build up your main method with all the small classes by injecting your dependencies via the constructor (Dependency Inversion Principle). Each small class should be testable without knowledge other classes and will build up."},{"owner":{"account_id":6993468,"reputation":164,"user_id":5361847,"accept_rate":0,"display_name":"ShridharBavannawar"},"score":0,"creation_date":1444744412,"post_id":33103964,"comment_id":54023919,"body_markdown":"Its difficult to make from your comment!","body":"Its difficult to make from your comment!"},{"owner":{"account_id":166441,"reputation":2222,"user_id":390562,"accept_rate":86,"display_name":"Timo"},"score":0,"creation_date":1444748452,"post_id":33103964,"comment_id":54026947,"body_markdown":"If you create a test for `readFromExcel()` and check the contents of the list you should be there. If necessary you can add a breakpoint to the internal method and debug why it gave you null.","body":"If you create a test for <code>readFromExcel()</code> and check the contents of the list you should be there. If necessary you can add a breakpoint to the internal method and debug why it gave you null."},{"owner":{"account_id":6993468,"reputation":164,"user_id":5361847,"accept_rate":0,"display_name":"ShridharBavannawar"},"score":0,"creation_date":1444749016,"post_id":33103964,"comment_id":54027304,"body_markdown":"@Timo I have created a test which checks that list contains the data.\n\n\tpublic void testWhetherListConatinsData(){\n\t\tFacebookDataExtraction fbDataList= new FacebookDataExtraction();\n\t\tassertEquals(fbDataList.containsData(), true);\t\n\t}","body":"@Timo I have created a test which checks that list contains the data.  \tpublic void testWhetherListConatinsData(){ \t\tFacebookDataExtraction fbDataList= new FacebookDataExtraction(); \t\tassertEquals(fbDataList.containsData(), true);\t \t}"},{"owner":{"account_id":166441,"reputation":2222,"user_id":390562,"accept_rate":86,"display_name":"Timo"},"score":0,"creation_date":1444749570,"post_id":33103964,"comment_id":54027688,"body_markdown":"I created an answer to have some clear formatting and stuff.","body":"I created an answer to have some clear formatting and stuff."}],"answers":[{"comments":[{"owner":{"account_id":6993468,"reputation":164,"user_id":5361847,"accept_rate":0,"display_name":"ShridharBavannawar"},"score":0,"creation_date":1444750712,"post_id":33106341,"comment_id":54028453,"body_markdown":"The thing is I don&#39;t know what data will be present in the excel sheet!! Because the excel data will be refreshed everyday via a software. \nThough in my test case I have a test which checks if the list contains data like Tom has posted! But I wanted something like to test the column data iterated over the row to check if data is present in it","body":"The thing is I don&#39;t know what data will be present in the excel sheet!! Because the excel data will be refreshed everyday via a software.  Though in my test case I have a test which checks if the list contains data like Tom has posted! But I wanted something like to test the column data iterated over the row to check if data is present in it"},{"owner":{"account_id":192966,"reputation":5703,"user_id":434408,"accept_rate":51,"display_name":"a3.14_Infinity"},"score":0,"creation_date":1444751446,"post_id":33106341,"comment_id":54028932,"body_markdown":"You seem to imply that you dont want to do a unit testing, but some kind of testing to check if readRow() is actually returning FacebookFields corresponding to a particular row. Then, I guess, you should have another class which parses excel file, gets FacebookFields for each row. Use this class to test your readRow(), by doing some equals() on both the object.","body":"You seem to imply that you dont want to do a unit testing, but some kind of testing to check if readRow() is actually returning FacebookFields corresponding to a particular row. Then, I guess, you should have another class which parses excel file, gets FacebookFields for each row. Use this class to test your readRow(), by doing some equals() on both the object."},{"owner":{"account_id":6993468,"reputation":164,"user_id":5361847,"accept_rate":0,"display_name":"ShridharBavannawar"},"score":0,"creation_date":1444752876,"post_id":33106341,"comment_id":54029863,"body_markdown":"Yeah I want to do unit testing in which I need to check if the value read in the column iterated over the row is not null. \nCreating another class which includes parsing the excel file will have the same logic to extract the data as it was in the class FacebookDataExtraction.","body":"Yeah I want to do unit testing in which I need to check if the value read in the column iterated over the row is not null.  Creating another class which includes parsing the excel file will have the same logic to extract the data as it was in the class FacebookDataExtraction."}],"tags":[],"owner":{"account_id":192966,"reputation":5703,"user_id":434408,"accept_rate":51,"display_name":"a3.14_Infinity"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444749200,"creation_date":1444749200,"answer_id":33106341,"question_id":33103964,"body_markdown":" - So, you want to test readRow() method which would return FacebookFields.\r\n - Since it is private, you could not directly do unit testing on this private method, but your main objective seems to be testing this method. Let&#39;s think about refactoring/redesigning a bit here.\r\n - You could create a class `FacebookFieldRetriever`, which has a public method `retrieveFromRow()`, which returns `FacebookFields`.\r\n - So, each time `FacebookDataExtraction` encounters a row from excel sheet, it creates an object of `FacebookFieldRetriever` and invokes `retrieveFromRow()` to get `FacebookFields` object modelled from that row.\r\n - As we have passed the class design stage, let&#39;s move on to unit testing. So, now you have a public method: `retrieveFromRow()` which you could actually unit test, assuming that you have a row object which contains cells containing the actual values from the excel sheet. (Basically, we are focusing on testing switch-case logic).\r\n\r\n - FacebookFieldRetriever Class\r\n\r\n    `class FacebookFieldRetriever{   \r\n      public FacebookFields retrieveFromRow(Row row) {    \r\n      FacebookFields record= new FacebookFields();\r\n      for (Cell cell : row) {\r\n      switch (cell.getColumnIndex()) {\r\n      case 0: record.setName(cell.getStringCellValue()); \r\n      break; \r\n      case 1: record.setId(cell.getStringCellValue()); \r\n      break; \r\n      case 2: record.setDate(cell.getStringCellValue());\r\n      break; \r\n      case 3: record.setMessage(cell.getStringCellValue());\r\n      break; \r\n      case 4: record.setType(cell.getStringCellValue());\r\n      break; \r\n      case 5: record.setPage(cell.getStringCellValue());\r\n      break; \r\n      case 6: record.setLikeCount(String.valueOf(cell.getNumericCellValue()));\r\n      break; \r\n      case 7: record.setCommentCount(String.valueOf(cell.getNumericCellValue())); \r\n      break; \r\n      case 8: record.setShareCount(String.valueOf(cell.getNumericCellValue())); \r\n      break; \r\n      }\r\n      }    \r\n      return record;\r\n      }    \r\n      }`\r\n\r\n - Example of Unit test Below:\r\n\r\nclass FacebookFieldRetrieverTest\r\n    {\r\n    \r\n    private final String TEST_NAME = &quot;Mark Zuckerberg&quot;;\r\n    private final String TEST_id = &quot;4&quot;;\r\n    private final String TEST_DATE = &quot;2015-10-13;                                \r\n    private final String TEST_MSG = &quot;Welcome to Facebook&quot;;                                 \r\n    private final String TEST_TYPE = &quot;SomeType&quot;;                                \r\n    private final String TEST_PAGE = &quot;SomePage&quot;;\r\n    private final String TEST_LIKECOUNT = 6;\r\n    private final String TEST_COMMENTCOUNT = 7;\r\n    private final String TEST_SHARECOUNT = 8 ;\r\n    \r\n    \r\n    public void testFacebookFieldRetriever()\r\n    {\r\n    XSSFWorkbook wb = new XSSFWorkbook();\r\n    Sheet sheettemp = wb.createSheet();\r\n    Row row = sheettemp.createRow(1);\r\n    \r\n    Cell cell = row.createCell(0);\r\n    cell.setCellValue(TEST_NAME);\r\n    \r\n    Cell cell1 = row.createCell(1);\r\n    cell.setCellValue(TEST_id);\r\n                                     \r\n    Cell cell2 = row.createCell(2);\r\n    cell.setCellValue(TEST_DATE);\r\n                                     \r\n    Cell cell3 = row.createCell(3);\r\n    cell.setCellValue(TEST_MSG);\r\n                                     \r\n    Cell cell4 = row.createCell(4);\r\n    cell.setCellValue(TEST_TYPE);\r\n                                     \r\n    Cell cell5 = row.createCell(5);\r\n    cell.setCellValue(TEST_PAGE);\r\n                                     \r\n    Cell cell6 = row.createCell(6);\r\n    cell.setCellValue(TEST_LIKECOUNT);\r\n                                     \r\n    Cell cell7 = row.createCell(7);\r\n    cell.setCellValue(TEST_COMMENTCOUNT);\r\n                                     \r\n    Cell cell8 = row.createCell(8);\r\n    cell.setCellValue(TEST_SHARECOUNT);\r\n    \r\n    FacebookFieldRetriever fbRetriever = new FacebookFieldRetriever();\r\n    FacebookFields fbFields = fbRetriever.retrieveFromRow(row);\r\n    \r\n    assertEquals(fbFields.getName(), TEST_NAME);\r\n    assertEquals(fbFields.getId(), TEST_id);\r\n    assertEquals(fbFields.getMessage(), TEST_MSG);\r\n    assertEquals(fbFields.getLikeCount(), TEST_LIKECOUNT);\r\n    assertEquals(fbFields.getShareCount(), TEST_SHARECOUNT);\r\n    assertEquals(fbFields.getCommentCount(), TEST_COMMENTCOUNT);\r\n    assertEquals(fbFields.getPage(), TEST_PAGE);\r\n    assertEquals(fbFields.getType(), TEST_TYPE);\r\n    }\r\n    }\r\n`\r\n\r\n- You could test in the way given above. Hope it helps.","title":"How to test the method that reads the data from the excel file in java?","body":"<ul>\n<li>So, you want to test readRow() method which would return FacebookFields.</li>\n<li>Since it is private, you could not directly do unit testing on this private method, but your main objective seems to be testing this method. Let's think about refactoring/redesigning a bit here.</li>\n<li>You could create a class <code>FacebookFieldRetriever</code>, which has a public method <code>retrieveFromRow()</code>, which returns <code>FacebookFields</code>.</li>\n<li>So, each time <code>FacebookDataExtraction</code> encounters a row from excel sheet, it creates an object of <code>FacebookFieldRetriever</code> and invokes <code>retrieveFromRow()</code> to get <code>FacebookFields</code> object modelled from that row.</li>\n<li><p>As we have passed the class design stage, let's move on to unit testing. So, now you have a public method: <code>retrieveFromRow()</code> which you could actually unit test, assuming that you have a row object which contains cells containing the actual values from the excel sheet. (Basically, we are focusing on testing switch-case logic).</p></li>\n<li><p>FacebookFieldRetriever Class</p>\n\n<p><code>class FacebookFieldRetriever{<br>\n  public FacebookFields retrieveFromRow(Row row) {<br>\n  FacebookFields record= new FacebookFields();\n  for (Cell cell : row) {\n  switch (cell.getColumnIndex()) {\n  case 0: record.setName(cell.getStringCellValue()); \n  break; \n  case 1: record.setId(cell.getStringCellValue()); \n  break; \n  case 2: record.setDate(cell.getStringCellValue());\n  break; \n  case 3: record.setMessage(cell.getStringCellValue());\n  break; \n  case 4: record.setType(cell.getStringCellValue());\n  break; \n  case 5: record.setPage(cell.getStringCellValue());\n  break; \n  case 6: record.setLikeCount(String.valueOf(cell.getNumericCellValue()));\n  break; \n  case 7: record.setCommentCount(String.valueOf(cell.getNumericCellValue())); \n  break; \n  case 8: record.setShareCount(String.valueOf(cell.getNumericCellValue())); \n  break; \n  }\n  }<br>\n  return record;\n  }<br>\n  }</code></p></li>\n<li><p>Example of Unit test Below:</p></li>\n</ul>\n\n<p>class FacebookFieldRetrieverTest\n    {</p>\n\n<pre><code>private final String TEST_NAME = \"Mark Zuckerberg\";\nprivate final String TEST_id = \"4\";\nprivate final String TEST_DATE = \"2015-10-13;                                \nprivate final String TEST_MSG = \"Welcome to Facebook\";                                 \nprivate final String TEST_TYPE = \"SomeType\";                                \nprivate final String TEST_PAGE = \"SomePage\";\nprivate final String TEST_LIKECOUNT = 6;\nprivate final String TEST_COMMENTCOUNT = 7;\nprivate final String TEST_SHARECOUNT = 8 ;\n\n\npublic void testFacebookFieldRetriever()\n{\nXSSFWorkbook wb = new XSSFWorkbook();\nSheet sheettemp = wb.createSheet();\nRow row = sheettemp.createRow(1);\n\nCell cell = row.createCell(0);\ncell.setCellValue(TEST_NAME);\n\nCell cell1 = row.createCell(1);\ncell.setCellValue(TEST_id);\n\nCell cell2 = row.createCell(2);\ncell.setCellValue(TEST_DATE);\n\nCell cell3 = row.createCell(3);\ncell.setCellValue(TEST_MSG);\n\nCell cell4 = row.createCell(4);\ncell.setCellValue(TEST_TYPE);\n\nCell cell5 = row.createCell(5);\ncell.setCellValue(TEST_PAGE);\n\nCell cell6 = row.createCell(6);\ncell.setCellValue(TEST_LIKECOUNT);\n\nCell cell7 = row.createCell(7);\ncell.setCellValue(TEST_COMMENTCOUNT);\n\nCell cell8 = row.createCell(8);\ncell.setCellValue(TEST_SHARECOUNT);\n\nFacebookFieldRetriever fbRetriever = new FacebookFieldRetriever();\nFacebookFields fbFields = fbRetriever.retrieveFromRow(row);\n\nassertEquals(fbFields.getName(), TEST_NAME);\nassertEquals(fbFields.getId(), TEST_id);\nassertEquals(fbFields.getMessage(), TEST_MSG);\nassertEquals(fbFields.getLikeCount(), TEST_LIKECOUNT);\nassertEquals(fbFields.getShareCount(), TEST_SHARECOUNT);\nassertEquals(fbFields.getCommentCount(), TEST_COMMENTCOUNT);\nassertEquals(fbFields.getPage(), TEST_PAGE);\nassertEquals(fbFields.getType(), TEST_TYPE);\n}\n}\n</code></pre>\n\n<p>`</p>\n\n<ul>\n<li>You could test in the way given above. Hope it helps.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":6993468,"reputation":164,"user_id":5361847,"accept_rate":0,"display_name":"ShridharBavannawar"},"score":0,"creation_date":1444750875,"post_id":33106461,"comment_id":54028534,"body_markdown":"The excel data is something that I don&#39;t know in prior because the excel data is getting refreshed daily! I just know the fields contained in the excel i.e columns(1st row) namely name,id,type etc etc","body":"The excel data is something that I don&#39;t know in prior because the excel data is getting refreshed daily! I just know the fields contained in the excel i.e columns(1st row) namely name,id,type etc etc"},{"owner":{"account_id":166441,"reputation":2222,"user_id":390562,"accept_rate":86,"display_name":"Timo"},"score":0,"creation_date":1444813217,"post_id":33106461,"comment_id":54054863,"body_markdown":"But you should be able to create small excel sheet that looks just like the one you will see in production? This is your test data file that is fully under your control and contain anything you would like to see tested.\nYou cannot make a unit test that depends on data that changes all the time, if you want to make it a stable test. (What if the data gets refreshed and your test crashes and you notice only after a new data set is forced on your tests? Not reproducable)","body":"But you should be able to create small excel sheet that looks just like the one you will see in production? This is your test data file that is fully under your control and contain anything you would like to see tested. You cannot make a unit test that depends on data that changes all the time, if you want to make it a stable test. (What if the data gets refreshed and your test crashes and you notice only after a new data set is forced on your tests? Not reproducable)"},{"owner":{"account_id":6993468,"reputation":164,"user_id":5361847,"accept_rate":0,"display_name":"ShridharBavannawar"},"score":0,"creation_date":1444820545,"post_id":33106461,"comment_id":54059707,"body_markdown":"Is it correct way to test the method  **readSheet** by mocking the Sheet class (making the method public) and ? Testing the &quot;if&quot; condition and the for loop in two separate test cases? I don&#39;t know whether it is the correct way how to do it!","body":"Is it correct way to test the method  <b>readSheet</b> by mocking the Sheet class (making the method public) and ? Testing the &quot;if&quot; condition and the for loop in two separate test cases? I don&#39;t know whether it is the correct way how to do it!"},{"owner":{"account_id":166441,"reputation":2222,"user_id":390562,"accept_rate":86,"display_name":"Timo"},"score":0,"creation_date":1444829040,"post_id":33106461,"comment_id":54065319,"body_markdown":"You could, but I think it would be easier to get your test setup straight. I&#39;ve added some things to my example.","body":"You could, but I think it would be easier to get your test setup straight. I&#39;ve added some things to my example."}],"tags":[],"owner":{"account_id":166441,"reputation":2222,"user_id":390562,"accept_rate":86,"display_name":"Timo"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444829236,"creation_date":1444749537,"answer_id":33106461,"question_id":33103964,"body_markdown":"If you have an excel that contains &quot;expected value&quot; for the first row in your sample excel, the following test could be a start. Note that the `equals` for Lists might be a bit crude, especially since I&#39;m not sure how it treats the internal order of the elements by heart.\r\n\r\n*Edit* I&#39;ve added a constructor parameter to the `FacebookDataExtraction` class that takes the filename to the excel file it should extract data from.\r\n\r\n    @Test\r\n    public void testWhetherListConatinsData(){ \r\n        List&lt;FacebookFields&gt; expectedList = new ArrayList&lt;&gt;();\r\n        // Fill the expected list here:\r\n        expectedList.add(&quot;expected value&quot;);\r\n        // ... Add more if you want to...\r\n\r\n        // Read in data.\r\n        FacebookDataExtraction fbDataList= new FacebookDataExtraction(&quot;path/to/testdata/test_with_strange_first_name.xlsx&quot;);\r\n       \r\n        List&lt;FacebookFields&gt; listOfFields = fbDataList.readFromExcel();\r\n        // Good check to start with.\r\n        assertEquals(listOfFields.containsData(), true); \r\n\r\n        // Actual data check.\r\n        assertEquals(&quot;Lists not the same&quot;, expectedList, listOfFields);\r\n    } \r\n","title":"How to test the method that reads the data from the excel file in java?","body":"<p>If you have an excel that contains \"expected value\" for the first row in your sample excel, the following test could be a start. Note that the <code>equals</code> for Lists might be a bit crude, especially since I'm not sure how it treats the internal order of the elements by heart.</p>\n\n<p><em>Edit</em> I've added a constructor parameter to the <code>FacebookDataExtraction</code> class that takes the filename to the excel file it should extract data from.</p>\n\n<pre><code>@Test\npublic void testWhetherListConatinsData(){ \n    List&lt;FacebookFields&gt; expectedList = new ArrayList&lt;&gt;();\n    // Fill the expected list here:\n    expectedList.add(\"expected value\");\n    // ... Add more if you want to...\n\n    // Read in data.\n    FacebookDataExtraction fbDataList= new FacebookDataExtraction(\"path/to/testdata/test_with_strange_first_name.xlsx\");\n\n    List&lt;FacebookFields&gt; listOfFields = fbDataList.readFromExcel();\n    // Good check to start with.\n    assertEquals(listOfFields.containsData(), true); \n\n    // Actual data check.\n    assertEquals(\"Lists not the same\", expectedList, listOfFields);\n} \n</code></pre>\n"}],"owner":{"account_id":6993468,"reputation":164,"user_id":5361847,"accept_rate":0,"display_name":"ShridharBavannawar"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13552,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1699707690,"creation_date":1444742880,"question_id":33103964,"body_markdown":"[![enter image description here][1]][1]\r\nThe above picture shows the excel file containing the Facebook data.\r\n\r\nThe class `FacebookDataExtraction` reads the data from the Excel file and stores the data as list of row objects as shown in the code.\r\nI have made use of the config.properties file to get the file path. The contents of config.properties file are: `FILE_NAME=D:/Refreshed_data_daily/all_hue_posts_in_excel.xlsx.`\r\n\r\n    public class FacebookDataExtraction {\r\n    \r\n    //private static final String FILE_NAME=&quot;D:/Refreshed_data_daily/all_hue_posts_in_excel.xlsx&quot;;\r\n    private static final String SHEET_NAME=&quot;nextv54plus_actions&quot;;\r\n    XSSFWorkbook workbook;\r\n    \r\n        public static void main(String[] args){\r\n        \r\n            FacebookDataExtraction obj= new FacebookDataExtraction();\r\n            List&lt;FacebookFields&gt; displayList= new ArrayList&lt;FacebookFields&gt;();\r\n            displayList=obj.readFromExcel();\r\n            System.out.println(&quot;The Size of the list is:&quot;+ displayList.size());\r\n        }\r\n        \r\n        public List&lt;FacebookFields&gt; readFromExcel() {\r\n            List&lt;FacebookFields&gt; fbList= new ArrayList&lt;FacebookFields&gt;();\r\n            try\r\n            {\r\n                ReadPropertyFile data= new ReadPropertyFile(&quot;config.properties&quot;);\r\n                FileInputStream fin= new FileInputStream(data.getPropertyFor(&quot;FILE_NAME&quot;));\r\n                workbook= new XSSFWorkbook(fin);\r\n                int sheetIndex=0;\r\n                for (Sheet sheet : workbook) {\r\n                    readSheet(sheet,sheetIndex ++, fbList);}\r\n        \r\n            }catch(FileNotFoundException e){\r\n                e.printStackTrace();\r\n            }\r\n            catch(IOException e){\r\n                e.printStackTrace();\r\n            }\r\n            return fbList;\r\n        }\r\n        \r\n        private void readSheet(Sheet sheet, int sheetIndex , List&lt;FacebookFields&gt; fbList) {\r\n        \r\n            if(SHEET_NAME.equals(sheet.getSheetName())){\r\n                workbook.removeSheetAt(sheetIndex);\r\n                return;\r\n            }\r\n            for (Row row : sheet){\r\n                if (row.getRowNum() &gt; 0)\r\n                    fbList.add(readRow(row));}\r\n        \r\n        }\r\n        \r\n        private FacebookFields readRow(Row row) {\r\n        \r\n            FacebookFields record= new FacebookFields();\r\n            for (Cell cell : row) {\r\n                switch (cell.getColumnIndex()) {\r\n                case 0: record.setName(cell.getStringCellValue()); \r\n                break; \r\n                case 1: record.setId(cell.getStringCellValue()); \r\n                break; \r\n                case 2: record.setDate(cell.getStringCellValue());\r\n                break; \r\n                case 3: record.setMessage(cell.getStringCellValue());\r\n                break; \r\n                case 4: record.setType(cell.getStringCellValue());\r\n                break; \r\n                case 5: record.setPage(cell.getStringCellValue());\r\n                break; \r\n                case 6: record.setLikeCount(String.valueOf(cell.getNumericCellValue()));\r\n                break; \r\n                case 7: record.setCommentCount(String.valueOf(cell.getNumericCellValue())); \r\n                break; \r\n                case 8: record.setShareCount(String.valueOf(cell.getNumericCellValue())); \r\n                break; \r\n                }\r\n            }\r\n        \r\n            return record;\r\n        }\r\n        \r\n        public boolean containsData() {  \r\n        \r\n            List&lt;FacebookFields&gt; checkList= readFromExcel();    \r\n            return !checkList.isEmpty() ;\r\n        }\r\n        \r\n        }\r\n\r\nThe `FacebookFields` class(not shown here) contains the set methods for the data extracted!\r\nHow to I write a test case for method `readRow()` or how to test whether each field of the column contains data?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/3vgd1.png","title":"How to test the method that reads the data from the excel file in java?","body":"<p><a href=\"https://i.stack.imgur.com/3vgd1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3vgd1.png\" alt=\"enter image description here\"></a>\nThe above picture shows the excel file containing the Facebook data.</p>\n\n<p>The class <code>FacebookDataExtraction</code> reads the data from the Excel file and stores the data as list of row objects as shown in the code.\nI have made use of the config.properties file to get the file path. The contents of config.properties file are: <code>FILE_NAME=D:/Refreshed_data_daily/all_hue_posts_in_excel.xlsx.</code></p>\n\n<pre><code>public class FacebookDataExtraction {\n\n//private static final String FILE_NAME=\"D:/Refreshed_data_daily/all_hue_posts_in_excel.xlsx\";\nprivate static final String SHEET_NAME=\"nextv54plus_actions\";\nXSSFWorkbook workbook;\n\n    public static void main(String[] args){\n\n        FacebookDataExtraction obj= new FacebookDataExtraction();\n        List&lt;FacebookFields&gt; displayList= new ArrayList&lt;FacebookFields&gt;();\n        displayList=obj.readFromExcel();\n        System.out.println(\"The Size of the list is:\"+ displayList.size());\n    }\n\n    public List&lt;FacebookFields&gt; readFromExcel() {\n        List&lt;FacebookFields&gt; fbList= new ArrayList&lt;FacebookFields&gt;();\n        try\n        {\n            ReadPropertyFile data= new ReadPropertyFile(\"config.properties\");\n            FileInputStream fin= new FileInputStream(data.getPropertyFor(\"FILE_NAME\"));\n            workbook= new XSSFWorkbook(fin);\n            int sheetIndex=0;\n            for (Sheet sheet : workbook) {\n                readSheet(sheet,sheetIndex ++, fbList);}\n\n        }catch(FileNotFoundException e){\n            e.printStackTrace();\n        }\n        catch(IOException e){\n            e.printStackTrace();\n        }\n        return fbList;\n    }\n\n    private void readSheet(Sheet sheet, int sheetIndex , List&lt;FacebookFields&gt; fbList) {\n\n        if(SHEET_NAME.equals(sheet.getSheetName())){\n            workbook.removeSheetAt(sheetIndex);\n            return;\n        }\n        for (Row row : sheet){\n            if (row.getRowNum() &gt; 0)\n                fbList.add(readRow(row));}\n\n    }\n\n    private FacebookFields readRow(Row row) {\n\n        FacebookFields record= new FacebookFields();\n        for (Cell cell : row) {\n            switch (cell.getColumnIndex()) {\n            case 0: record.setName(cell.getStringCellValue()); \n            break; \n            case 1: record.setId(cell.getStringCellValue()); \n            break; \n            case 2: record.setDate(cell.getStringCellValue());\n            break; \n            case 3: record.setMessage(cell.getStringCellValue());\n            break; \n            case 4: record.setType(cell.getStringCellValue());\n            break; \n            case 5: record.setPage(cell.getStringCellValue());\n            break; \n            case 6: record.setLikeCount(String.valueOf(cell.getNumericCellValue()));\n            break; \n            case 7: record.setCommentCount(String.valueOf(cell.getNumericCellValue())); \n            break; \n            case 8: record.setShareCount(String.valueOf(cell.getNumericCellValue())); \n            break; \n            }\n        }\n\n        return record;\n    }\n\n    public boolean containsData() {  \n\n        List&lt;FacebookFields&gt; checkList= readFromExcel();    \n        return !checkList.isEmpty() ;\n    }\n\n    }\n</code></pre>\n\n<p>The <code>FacebookFields</code> class(not shown here) contains the set methods for the data extracted!\nHow to I write a test case for method <code>readRow()</code> or how to test whether each field of the column contains data?</p>\n"},{"tags":["java","encryption","3des"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1325166992,"post_id":8644867,"comment_id":10774061,"body_markdown":"I&#39;ve tried looking up the encryption method, but if it is DESede, I cannot get the result. You are assuming people know ZPK and LMK, but generally, they won&#39;t. If you would post the actual protocol and algorithms used, you would stand a chance. DESede decrypt does not work, neither does XOR&#39;ing the keys and decrypting with that.","body":"I&#39;ve tried looking up the encryption method, but if it is DESede, I cannot get the result. You are assuming people know ZPK and LMK, but generally, they won&#39;t. If you would post the actual protocol and algorithms used, you would stand a chance. DESede decrypt does not work, neither does XOR&#39;ing the keys and decrypting with that."}],"answers":[{"tags":[],"owner":{"account_id":38907,"reputation":53159,"user_id":111988,"accept_rate":74,"display_name":"Sunil Kumar Sahoo"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1324991040,"creation_date":1324991040,"answer_id":8644989,"question_id":8644867,"body_markdown":"See Sample Example for 3dec encryption and decryption\r\n\r\n\r\n   \r\n\r\n    import java.security.MessageDigest;\r\n    import java.util.Arrays;\r\n    \r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    \r\n    \r\n    class ZiggyTest2{\r\n    \r\n           \r\n            public static void main(String[] args) throws Exception{  \r\n            \tString text = &quot;I am sunil&quot;;\r\n    \r\n                byte[] codedtext = new ZiggyTest2().encrypt(text);\r\n                String decodedtext = new ZiggyTest2().decrypt(codedtext);\r\n    \r\n                System.out.println(codedtext); // this is a byte array, you&#39;ll just see a reference to an array\r\n                System.out.println(decodedtext); // This correctly shows &quot;kyle boon&quot;\r\n            }\r\n    \r\n            public byte[] encrypt(String message) throws Exception {\r\n                MessageDigest md = MessageDigest.getInstance(&quot;md5&quot;);\r\n                byte[] digestOfPassword = md.digest(&quot;ABCDEABCDE&quot;\r\n                                .getBytes(&quot;utf-8&quot;));\r\n                byte[] keyBytes = Arrays.copyOf(digestOfPassword, 24);\r\n                for (int j = 0, k = 16; j &lt; 8;) {\r\n                        keyBytes[k++] = keyBytes[j++];\r\n                }\r\n    \r\n                SecretKey key = new SecretKeySpec(keyBytes, &quot;DESede&quot;);\r\n                IvParameterSpec iv = new IvParameterSpec(new byte[8]);\r\n                Cipher cipher = Cipher.getInstance(&quot;DESede/CBC/PKCS5Padding&quot;);\r\n                cipher.init(Cipher.ENCRYPT_MODE, key, iv);\r\n    \r\n                byte[] plainTextBytes = message.getBytes(&quot;utf-8&quot;);\r\n                byte[] cipherText = cipher.doFinal(plainTextBytes);\r\n                // String encodedCipherText = new sun.misc.BASE64Encoder()\r\n                // .encode(cipherText);\r\n    \r\n                return cipherText;\r\n            }\r\n    \r\n            public String decrypt(byte[] message) throws Exception {\r\n                MessageDigest md = MessageDigest.getInstance(&quot;md5&quot;);\r\n                byte[] digestOfPassword = md.digest(&quot;ABCDEABCDE&quot;\r\n                                .getBytes(&quot;utf-8&quot;));\r\n                byte[] keyBytes = Arrays.copyOf(digestOfPassword, 24);\r\n                for (int j = 0, k = 16; j &lt; 8;) {\r\n                        keyBytes[k++] = keyBytes[j++];\r\n                }\r\n    \r\n                SecretKey key = new SecretKeySpec(keyBytes, &quot;DESede&quot;);\r\n                IvParameterSpec iv = new IvParameterSpec(new byte[8]);\r\n                Cipher decipher = Cipher.getInstance(&quot;DESede/CBC/PKCS5Padding&quot;);\r\n                decipher.init(Cipher.DECRYPT_MODE, key, iv);\r\n    \r\n                byte[] plainText = decipher.doFinal(message);\r\n    \r\n                return new String(plainText, &quot;UTF-8&quot;);\r\n            }\r\n        }\r\n\r\n","title":"3Des Encryption/Decryption in java","body":"<p>See Sample Example for 3dec encryption and decryption</p>\n\n<pre><code>import java.security.MessageDigest;\nimport java.util.Arrays;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.SecretKey;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\n\n\n\nclass ZiggyTest2{\n\n\n        public static void main(String[] args) throws Exception{  \n            String text = \"I am sunil\";\n\n            byte[] codedtext = new ZiggyTest2().encrypt(text);\n            String decodedtext = new ZiggyTest2().decrypt(codedtext);\n\n            System.out.println(codedtext); // this is a byte array, you'll just see a reference to an array\n            System.out.println(decodedtext); // This correctly shows \"kyle boon\"\n        }\n\n        public byte[] encrypt(String message) throws Exception {\n            MessageDigest md = MessageDigest.getInstance(\"md5\");\n            byte[] digestOfPassword = md.digest(\"ABCDEABCDE\"\n                            .getBytes(\"utf-8\"));\n            byte[] keyBytes = Arrays.copyOf(digestOfPassword, 24);\n            for (int j = 0, k = 16; j &lt; 8;) {\n                    keyBytes[k++] = keyBytes[j++];\n            }\n\n            SecretKey key = new SecretKeySpec(keyBytes, \"DESede\");\n            IvParameterSpec iv = new IvParameterSpec(new byte[8]);\n            Cipher cipher = Cipher.getInstance(\"DESede/CBC/PKCS5Padding\");\n            cipher.init(Cipher.ENCRYPT_MODE, key, iv);\n\n            byte[] plainTextBytes = message.getBytes(\"utf-8\");\n            byte[] cipherText = cipher.doFinal(plainTextBytes);\n            // String encodedCipherText = new sun.misc.BASE64Encoder()\n            // .encode(cipherText);\n\n            return cipherText;\n        }\n\n        public String decrypt(byte[] message) throws Exception {\n            MessageDigest md = MessageDigest.getInstance(\"md5\");\n            byte[] digestOfPassword = md.digest(\"ABCDEABCDE\"\n                            .getBytes(\"utf-8\"));\n            byte[] keyBytes = Arrays.copyOf(digestOfPassword, 24);\n            for (int j = 0, k = 16; j &lt; 8;) {\n                    keyBytes[k++] = keyBytes[j++];\n            }\n\n            SecretKey key = new SecretKeySpec(keyBytes, \"DESede\");\n            IvParameterSpec iv = new IvParameterSpec(new byte[8]);\n            Cipher decipher = Cipher.getInstance(\"DESede/CBC/PKCS5Padding\");\n            decipher.init(Cipher.DECRYPT_MODE, key, iv);\n\n            byte[] plainText = decipher.doFinal(message);\n\n            return new String(plainText, \"UTF-8\");\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1131696,"reputation":11,"user_id":1117638,"display_name":"Anshuman Chakraborty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12538,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1699707690,"creation_date":1324990375,"question_id":8644867,"body_markdown":"I am new to Security in java.\r\n\r\nI have two clear double length keys which was used for generating ZPK (under LMK) in Futurex HSM.\r\n\r\nBelow mentioned pin blocks were encrypted using ZPK.\r\nIs there a way to decrypt the block using clear keys in java.\r\n\r\n\r\n    clear_1 = &quot;801CB5C89DC416C149FB645BB36897AD&quot;\r\n    \r\n    clear_2 = &quot;45B98FC7D33149E0512F0ED9135E5826&quot;\r\n    \r\n    encrypted_pin_block = &quot;6288FA9534BF2AA3&quot;\r\n    \r\n    encrypted_pin_block = &quot;B8D876F238348EB0&quot;\r\n\r\nDecrypted value for one of these encrypted blocks is `2222`.","title":"3Des Encryption/Decryption in java","body":"<p>I am new to Security in java.</p>\n\n<p>I have two clear double length keys which was used for generating ZPK (under LMK) in Futurex HSM.</p>\n\n<p>Below mentioned pin blocks were encrypted using ZPK.\nIs there a way to decrypt the block using clear keys in java.</p>\n\n<pre><code>clear_1 = \"801CB5C89DC416C149FB645BB36897AD\"\n\nclear_2 = \"45B98FC7D33149E0512F0ED9135E5826\"\n\nencrypted_pin_block = \"6288FA9534BF2AA3\"\n\nencrypted_pin_block = \"B8D876F238348EB0\"\n</code></pre>\n\n<p>Decrypted value for one of these encrypted blocks is <code>2222</code>.</p>\n"},{"tags":["java","date","timezone"],"comments":[{"owner":{"account_id":16660,"reputation":19988,"user_id":36537,"accept_rate":74,"display_name":"Phil H"},"score":125,"creation_date":1342082046,"post_id":6841333,"comment_id":15107031,"body_markdown":"The real answer is to always, always use seconds since an epoch for logging, like the Unix epoch, with 64 bit integer representation (signed, if you want to allow stamps before the epoch). Any real-world time system has some non-linear, non-monotonic behaviour like leap hours or daylight savings.","body":"The real answer is to always, always use seconds since an epoch for logging, like the Unix epoch, with 64 bit integer representation (signed, if you want to allow stamps before the epoch). Any real-world time system has some non-linear, non-monotonic behaviour like leap hours or daylight savings."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":20,"creation_date":1413283155,"post_id":6841333,"comment_id":41375681,"body_markdown":"A great video about these kind of things: http://www.youtube.com/watch?v=-5wpm-gesOY","body":"A great video about these kind of things: <a href=\"http://www.youtube.com/watch?v=-5wpm-gesOY\" rel=\"nofollow noreferrer\">youtube.com/watch?v=-5wpm-gesOY</a>"},{"owner":{"account_id":72444,"reputation":10268,"user_id":209139,"accept_rate":89,"display_name":"TRiG"},"score":6,"creation_date":1435940627,"post_id":6841333,"comment_id":50423566,"body_markdown":"And another from the same guy, @Thorbj&#248;rnRavnAndersen: https://www.youtube.com/watch?v=Uqjg8Kk1HXo (Leap seconds). (This one is from Tom Scott&#39;s own YouTube channel, not from Computerphile.)","body":"And another from the same guy, @Thorbj&#248;rnRavnAndersen: <a href=\"https://www.youtube.com/watch?v=Uqjg8Kk1HXo\" rel=\"nofollow noreferrer\">youtube.com/watch?v=Uqjg8Kk1HXo</a> (Leap seconds). (This one is from Tom Scott&#39;s own YouTube channel, not from Computerphile.)"},{"owner":{"account_id":1367769,"reputation":3933,"user_id":1303846,"display_name":"Remember Monica"},"score":5,"creation_date":1600041468,"post_id":6841333,"comment_id":112954628,"body_markdown":"@Phil H &quot;seconds since the epoch&quot; (i.e. Unix time) is non-linear as well, in the sense that POSIX seconds are not SI seconds and vary in length","body":"@Phil H &quot;seconds since the epoch&quot; (i.e. Unix time) is non-linear as well, in the sense that POSIX seconds are not SI seconds and vary in length"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":4,"creation_date":1651695756,"post_id":6841333,"comment_id":127427353,"body_markdown":"POSIX seconds may vary in length, but stepping is a permissible and not uncommon implementation option too. That is, the difference between timestamps one second apart can be zero when a leap second is added, or negative if the timestamps are less than one second apart. So, Unix time has non-monotonic behavior like other real-world time systems, and isn&#39;t a panacea.","body":"POSIX seconds may vary in length, but stepping is a permissible and not uncommon implementation option too. That is, the difference between timestamps one second apart can be zero when a leap second is added, or negative if the timestamps are less than one second apart. So, Unix time has non-monotonic behavior like other real-world time systems, and isn&#39;t a panacea."},{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":4,"creation_date":1661226181,"post_id":6841333,"comment_id":129714885,"body_markdown":"I am amazed, nobody has wondered how this question even came to your mind? You already knew the answer and wanted to share with others? Or you read one of those &quot;magical programming&quot; articles which highlighted this surprising result. Otherwise who would fall upon two exact timestamps from 84 years ago, which could cause this.","body":"I am amazed, nobody has wondered how this question even came to your mind? You already knew the answer and wanted to share with others? Or you read one of those &quot;magical programming&quot; articles which highlighted this surprising result. Otherwise who would fall upon two exact timestamps from 84 years ago, which could cause this."},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":2,"creation_date":1661592892,"post_id":6841333,"comment_id":129812204,"body_markdown":"@PhilH The rule to &quot;always, always use seconds since an epoch&quot;, which almost everyone does indeed follow, is probably going to lead to the abolition of [leap seconds](https://en.wikipedia.org/wiki/Leap_second).  Seconds-since-an-epoch representations are mildly but significantly and indeed fundamentally flawed, in that they do not and cannot properly represent [UTC](https://en.wikipedia.org/wiki/Coordinated_Universal_Time) as currently defined.  But it&#39;s so hard to fix this problem with our computer programs that we&#39;re probably going to make a change to the real world, instead.","body":"@PhilH The rule to &quot;always, always use seconds since an epoch&quot;, which almost everyone does indeed follow, is probably going to lead to the abolition of <a href=\"https://en.wikipedia.org/wiki/Leap_second\" rel=\"nofollow noreferrer\">leap seconds</a>.  Seconds-since-an-epoch representations are mildly but significantly and indeed fundamentally flawed, in that they do not and cannot properly represent <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a> as currently defined.  But it&#39;s so hard to fix this problem with our computer programs that we&#39;re probably going to make a change to the real world, instead."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":22,"up_vote_count":11871,"is_accepted":true,"score":11849,"last_activity_date":1679946309,"creation_date":1311755470,"answer_id":6841479,"question_id":6841333,"body_markdown":"It&#39;s a time zone change on December 31st in Shanghai.\r\n\r\nSee [this page][1] for details of 1927 in Shanghai. Basically at midnight at the end of 1927, the clocks went back 5 minutes and 52 seconds. So &quot;1927-12-31 23:54:08&quot; actually happened twice, and it looks like Java is parsing it as the *later* possible instant for that local date/time - hence the difference.\r\n\r\nJust another episode in the often weird and wonderful world of time zones.\r\n\r\n**If rebuilt with version 2013a of [TZDB][2]**, The original question would no longer demonstrate quite the same behaviour. In 2013a, the result would be 358 seconds, with a transition time of 23:54:03 instead of 23:54:08.\r\n\r\nI only noticed this because I&#39;m collecting questions like this in Noda Time, in the form of [unit tests][3]... The test has now been changed, but it just goes to show - not even historical data is safe.\r\n\r\n**In TZDB 2014f**, the time of the change has moved to 1900-12-31, and it&#39;s now a mere 343 second change (so the time between `t` and `t+1` is 344 seconds, if you see what I mean).\r\n\r\n---\r\n\r\nTo answer a question around a transition at 1900... it looks like the Java time zone implementation treats *all* time zones as simply being in their standard time for any instant before the start of 1900 UTC:\r\n\r\n    import java.util.TimeZone;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) throws Exception {\r\n            long startOf1900Utc = -2208988800000L;\r\n            for (String id : TimeZone.getAvailableIDs()) {\r\n                TimeZone zone = TimeZone.getTimeZone(id);\r\n                if (zone.getRawOffset() != zone.getOffset(startOf1900Utc - 1)) {\r\n                    System.out.println(id);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThe code above produces no output on my Windows machine. So any time zone which has any offset other than its standard one at the start of 1900 will count that as a transition. TZDB itself has some data going back earlier than that, and doesn&#39;t rely on any idea of a &quot;fixed&quot; standard time (which is what `getRawOffset` assumes to be a valid concept) so other libraries needn&#39;t introduce this artificial transition.\r\n\r\n\r\n  [1]: http://www.timeanddate.com/worldclock/clockchange.html?n=237&amp;year=1927\r\n  [2]: https://github.com/nodatime/nodatime/blob/master/src/NodaTime.Demo/StackOverflowExamples.cs#L68\r\n  [3]: https://github.com/nodatime/nodatime/blob/master/src/NodaTime.Demo/StackOverflowExamples.cs#L68\r\n","title":"Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?","body":"<p>It's a time zone change on December 31st in Shanghai.</p>\n<p>See <a href=\"http://www.timeanddate.com/worldclock/clockchange.html?n=237&amp;year=1927\" rel=\"noreferrer\">this page</a> for details of 1927 in Shanghai. Basically at midnight at the end of 1927, the clocks went back 5 minutes and 52 seconds. So &quot;1927-12-31 23:54:08&quot; actually happened twice, and it looks like Java is parsing it as the <em>later</em> possible instant for that local date/time - hence the difference.</p>\n<p>Just another episode in the often weird and wonderful world of time zones.</p>\n<p><strong>If rebuilt with version 2013a of <a href=\"https://github.com/nodatime/nodatime/blob/master/src/NodaTime.Demo/StackOverflowExamples.cs#L68\" rel=\"noreferrer\">TZDB</a></strong>, The original question would no longer demonstrate quite the same behaviour. In 2013a, the result would be 358 seconds, with a transition time of 23:54:03 instead of 23:54:08.</p>\n<p>I only noticed this because I'm collecting questions like this in Noda Time, in the form of <a href=\"https://github.com/nodatime/nodatime/blob/master/src/NodaTime.Demo/StackOverflowExamples.cs#L68\" rel=\"noreferrer\">unit tests</a>... The test has now been changed, but it just goes to show - not even historical data is safe.</p>\n<p><strong>In TZDB 2014f</strong>, the time of the change has moved to 1900-12-31, and it's now a mere 343 second change (so the time between <code>t</code> and <code>t+1</code> is 344 seconds, if you see what I mean).</p>\n<hr />\n<p>To answer a question around a transition at 1900... it looks like the Java time zone implementation treats <em>all</em> time zones as simply being in their standard time for any instant before the start of 1900 UTC:</p>\n<pre><code>import java.util.TimeZone;\n\npublic class Test {\n    public static void main(String[] args) throws Exception {\n        long startOf1900Utc = -2208988800000L;\n        for (String id : TimeZone.getAvailableIDs()) {\n            TimeZone zone = TimeZone.getTimeZone(id);\n            if (zone.getRawOffset() != zone.getOffset(startOf1900Utc - 1)) {\n                System.out.println(id);\n            }\n        }\n    }\n}\n</code></pre>\n<p>The code above produces no output on my Windows machine. So any time zone which has any offset other than its standard one at the start of 1900 will count that as a transition. TZDB itself has some data going back earlier than that, and doesn't rely on any idea of a &quot;fixed&quot; standard time (which is what <code>getRawOffset</code> assumes to be a valid concept) so other libraries needn't introduce this artificial transition.</p>\n"},{"comments":[{"owner":{"account_id":60641,"reputation":25396,"user_id":181106,"accept_rate":81,"display_name":"uckelman"},"score":8,"creation_date":1606517832,"post_id":6841572,"comment_id":114993233,"body_markdown":"It happens twice a year anywhere that observes DST.","body":"It happens twice a year anywhere that observes DST."},{"owner":{"account_id":3172671,"reputation":146,"user_id":2681234,"accept_rate":80,"display_name":"iwat0qs"},"score":1,"creation_date":1648376946,"post_id":6841572,"comment_id":126604036,"body_markdown":"This one is not DST, I think. It&#39;s only 10 minutes back, and only once. At the same time, DST related changes can happen twice a year... or 4 times a year (due to Ramadan). or even once a year in some setups. No rule there :)","body":"This one is not DST, I think. It&#39;s only 10 minutes back, and only once. At the same time, DST related changes can happen twice a year... or 4 times a year (due to Ramadan). or even once a year in some setups. No rule there :)"},{"owner":{"account_id":374906,"reputation":300,"user_id":725398,"accept_rate":67,"display_name":"Henry Brice"},"score":1,"creation_date":1681147113,"post_id":6841572,"comment_id":134006205,"body_markdown":"Generally it doesn&#39;t happen like this with DST these days, because the clock changes are done at 1am or 2am, to make sure that no change in date happens, and dates are not repeated.","body":"Generally it doesn&#39;t happen like this with DST these days, because the clock changes are done at 1am or 2am, to make sure that no change in date happens, and dates are not repeated."}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":3,"down_vote_count":0,"up_vote_count":1738,"is_accepted":false,"score":1738,"last_activity_date":1311755931,"creation_date":1311755931,"answer_id":6841572,"question_id":6841333,"body_markdown":"You&#39;ve encountered a [local time discontinuity][1]:\r\n\r\n&gt; When local standard time was about to reach Sunday, 1. January 1928,\r\n&gt; 00:00:00 clocks were turned backward 0:05:52 hours to Saturday, 31.\r\n&gt; December 1927, 23:54:08 local standard time instead\r\n\r\nThis is not particularly strange and has happened pretty much everywhere at one time or another as timezones were switched or changed due to political or administrative actions.\r\n\r\n\r\n  [1]: http://timeanddate.com/worldclock/clockchange.html?n=237&amp;year=1927","title":"Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?","body":"<p>You've encountered a <a href=\"http://timeanddate.com/worldclock/clockchange.html?n=237&amp;year=1927\" rel=\"noreferrer\">local time discontinuity</a>:</p>\n\n<blockquote>\n  <p>When local standard time was about to reach Sunday, 1. January 1928,\n  00:00:00 clocks were turned backward 0:05:52 hours to Saturday, 31.\n  December 1927, 23:54:08 local standard time instead</p>\n</blockquote>\n\n<p>This is not particularly strange and has happened pretty much everywhere at one time or another as timezones were switched or changed due to political or administrative actions.</p>\n"},{"comments":[{"owner":{"account_id":7187400,"reputation":1064,"user_id":5488931,"display_name":"Dag &#197;gren"},"score":15,"creation_date":1604333489,"post_id":6858453,"comment_id":114309259,"body_markdown":"None of these points would affect this result - it falls squarely under the third bullet point - and moreover, this is a time several decades before UTC was even defined, and thus can not really meaningfully be expressed in UTC.","body":"None of these points would affect this result - it falls squarely under the third bullet point - and moreover, this is a time several decades before UTC was even defined, and thus can not really meaningfully be expressed in UTC."}],"tags":[],"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"comment_count":1,"down_vote_count":20,"up_vote_count":764,"is_accepted":false,"score":744,"last_activity_date":1311853808,"creation_date":1311853808,"answer_id":6858453,"question_id":6841333,"body_markdown":"The moral of this strangeness is:\r\n\r\n- Use dates and times in UTC wherever possible.\r\n- If you can not display a date or time in UTC, always indicate the time-zone.\r\n- If you can not require an input date/time in UTC, require an explicitly indicated time-zone.","title":"Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?","body":"<p>The moral of this strangeness is:</p>\n\n<ul>\n<li>Use dates and times in UTC wherever possible.</li>\n<li>If you can not display a date or time in UTC, always indicate the time-zone.</li>\n<li>If you can not require an input date/time in UTC, require an explicitly indicated time-zone.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":466222,"reputation":4167,"user_id":870838,"display_name":"PatrickO"},"comment_count":0,"down_vote_count":2,"up_vote_count":417,"is_accepted":false,"score":415,"last_activity_date":1636573515,"creation_date":1312044904,"answer_id":6884599,"question_id":6841333,"body_markdown":"When incrementing time you should convert back to UTC and then add or subtract. Use the local time only for display.\r\n\r\nThis way you will be able to walk through any periods where hours or minutes happen twice.\r\n\r\nIf you converted to UTC, add each second, and convert to local time for display. You would go through 11:54:08 p.m. [LMT][1] - 11:59:59 p.m. LMT and then 11:54:08 p.m. [CST][2] - 11:59:59 p.m. CST.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Local_mean_time\r\n  [2]: https://en.wikipedia.org/wiki/China_Standard_Time\r\n","title":"Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?","body":"<p>When incrementing time you should convert back to UTC and then add or subtract. Use the local time only for display.</p>\n<p>This way you will be able to walk through any periods where hours or minutes happen twice.</p>\n<p>If you converted to UTC, add each second, and convert to local time for display. You would go through 11:54:08 p.m. <a href=\"http://en.wikipedia.org/wiki/Local_mean_time\" rel=\"noreferrer\">LMT</a> - 11:59:59 p.m. LMT and then 11:54:08 p.m. <a href=\"https://en.wikipedia.org/wiki/China_Standard_Time\" rel=\"noreferrer\">CST</a> - 11:59:59 p.m. CST.</p>\n"},{"tags":[],"owner":{"account_id":1484471,"reputation":4133,"user_id":1393004,"display_name":"Rajshri"},"comment_count":0,"down_vote_count":21,"up_vote_count":369,"is_accepted":false,"score":348,"last_activity_date":1577202749,"creation_date":1337146315,"answer_id":10612572,"question_id":6841333,"body_markdown":"Instead of converting each date, you can use the following code: \r\n\r\n    long difference = (sDt4.getTime() - sDt3.getTime()) / 1000;\r\n    System.out.println(difference);\r\n\r\nAnd then see that the result is:\r\n\r\n    1\r\n\r\n ","title":"Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?","body":"<p>Instead of converting each date, you can use the following code: </p>\n\n<pre><code>long difference = (sDt4.getTime() - sDt3.getTime()) / 1000;\nSystem.out.println(difference);\n</code></pre>\n\n<p>And then see that the result is:</p>\n\n<pre><code>1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21713,"reputation":295602,"user_id":53013,"accept_rate":78,"display_name":"Daniel C. Sobral"},"comment_count":0,"down_vote_count":0,"up_vote_count":234,"is_accepted":false,"score":234,"last_activity_date":1577146665,"creation_date":1388760187,"answer_id":20906129,"question_id":6841333,"body_markdown":"As explained by others, there&#39;s a time discontinuity there. There are two possible timezone offsets for `1927-12-31 23:54:08` at `Asia/Shanghai`, but only one offset for `1927-12-31 23:54:07`. So, depending on which offset is used, there&#39;s either a one second difference or a 5 minutes and 53 seconds difference.\r\n\r\nThis slight shift of offsets, instead of the usual one-hour daylight savings (summer time) we are used to, obscures the problem a bit.\r\n\r\nNote that the 2013a update of the timezone database moved this discontinuity a few seconds earlier, but the effect would still be observable.\r\n\r\nThe new `java.time` package on Java 8 let use see this more clearly, and provide tools to handle it. Given:\r\n\r\n    DateTimeFormatterBuilder dtfb = new DateTimeFormatterBuilder();\r\n    dtfb.append(DateTimeFormatter.ISO_LOCAL_DATE);\r\n    dtfb.appendLiteral(&#39; &#39;);\r\n    dtfb.append(DateTimeFormatter.ISO_LOCAL_TIME);\r\n    DateTimeFormatter dtf = dtfb.toFormatter();\r\n    ZoneId shanghai = ZoneId.of(&quot;Asia/Shanghai&quot;);\r\n\r\n    String str3 = &quot;1927-12-31 23:54:07&quot;;  \r\n    String str4 = &quot;1927-12-31 23:54:08&quot;;  \r\n\r\n    ZonedDateTime zdt3 = LocalDateTime.parse(str3, dtf).atZone(shanghai);\r\n    ZonedDateTime zdt4 = LocalDateTime.parse(str4, dtf).atZone(shanghai);\r\n\r\n    Duration durationAtEarlierOffset = Duration.between(zdt3.withEarlierOffsetAtOverlap(), zdt4.withEarlierOffsetAtOverlap());\r\n\r\n    Duration durationAtLaterOffset = Duration.between(zdt3.withLaterOffsetAtOverlap(), zdt4.withLaterOffsetAtOverlap());\r\n\r\nThen `durationAtEarlierOffset` will be one second, while `durationAtLaterOffset` will be five minutes and 53 seconds.\r\n\r\nAlso, these two offsets are the same:\r\n\r\n    // Both have offsets +08:05:52\r\n    ZoneOffset zo3Earlier = zdt3.withEarlierOffsetAtOverlap().getOffset();\r\n    ZoneOffset zo3Later = zdt3.withLaterOffsetAtOverlap().getOffset();\r\n\r\nBut these two are different:\r\n\r\n    // +08:05:52\r\n    ZoneOffset zo4Earlier = zdt4.withEarlierOffsetAtOverlap().getOffset();\r\n\r\n    // +08:00\r\n    ZoneOffset zo4Later = zdt4.withLaterOffsetAtOverlap().getOffset();\r\n\r\nYou can see the same problem comparing `1927-12-31 23:59:59` with `1928-01-01 00:00:00`, though, in this case, it is the earlier offset that produces the longer divergence, and it is the earlier date that has two possible offsets.\r\n\r\nAnother way to approach this is to check whether there&#39;s a transition going on. We can do this like this:\r\n\r\n    // Null\r\n    ZoneOffsetTransition zot3 = shanghai.getRules().getTransition(ld3.toLocalDateTime);\r\n\r\n    // An overlap transition\r\n    ZoneOffsetTransition zot4 = shanghai.getRules().getTransition(ld3.toLocalDateTime);\r\n\r\nYou can check whether the transition is an overlap where there&#39;s more than one valid offset for that date/time or a gap where that date/time is not valid for that zone id - by using the `isOverlap()` and `isGap()` methods on `zot4`.\r\n\r\nI hope this helps people handle this sort of issue once Java 8 becomes widely available, or to those using Java 7 who adopt the JSR 310 backport.\r\n","title":"Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?","body":"<p>As explained by others, there's a time discontinuity there. There are two possible timezone offsets for <code>1927-12-31 23:54:08</code> at <code>Asia/Shanghai</code>, but only one offset for <code>1927-12-31 23:54:07</code>. So, depending on which offset is used, there's either a one second difference or a 5 minutes and 53 seconds difference.</p>\n\n<p>This slight shift of offsets, instead of the usual one-hour daylight savings (summer time) we are used to, obscures the problem a bit.</p>\n\n<p>Note that the 2013a update of the timezone database moved this discontinuity a few seconds earlier, but the effect would still be observable.</p>\n\n<p>The new <code>java.time</code> package on Java 8 let use see this more clearly, and provide tools to handle it. Given:</p>\n\n<pre><code>DateTimeFormatterBuilder dtfb = new DateTimeFormatterBuilder();\ndtfb.append(DateTimeFormatter.ISO_LOCAL_DATE);\ndtfb.appendLiteral(' ');\ndtfb.append(DateTimeFormatter.ISO_LOCAL_TIME);\nDateTimeFormatter dtf = dtfb.toFormatter();\nZoneId shanghai = ZoneId.of(\"Asia/Shanghai\");\n\nString str3 = \"1927-12-31 23:54:07\";  \nString str4 = \"1927-12-31 23:54:08\";  \n\nZonedDateTime zdt3 = LocalDateTime.parse(str3, dtf).atZone(shanghai);\nZonedDateTime zdt4 = LocalDateTime.parse(str4, dtf).atZone(shanghai);\n\nDuration durationAtEarlierOffset = Duration.between(zdt3.withEarlierOffsetAtOverlap(), zdt4.withEarlierOffsetAtOverlap());\n\nDuration durationAtLaterOffset = Duration.between(zdt3.withLaterOffsetAtOverlap(), zdt4.withLaterOffsetAtOverlap());\n</code></pre>\n\n<p>Then <code>durationAtEarlierOffset</code> will be one second, while <code>durationAtLaterOffset</code> will be five minutes and 53 seconds.</p>\n\n<p>Also, these two offsets are the same:</p>\n\n<pre><code>// Both have offsets +08:05:52\nZoneOffset zo3Earlier = zdt3.withEarlierOffsetAtOverlap().getOffset();\nZoneOffset zo3Later = zdt3.withLaterOffsetAtOverlap().getOffset();\n</code></pre>\n\n<p>But these two are different:</p>\n\n<pre><code>// +08:05:52\nZoneOffset zo4Earlier = zdt4.withEarlierOffsetAtOverlap().getOffset();\n\n// +08:00\nZoneOffset zo4Later = zdt4.withLaterOffsetAtOverlap().getOffset();\n</code></pre>\n\n<p>You can see the same problem comparing <code>1927-12-31 23:59:59</code> with <code>1928-01-01 00:00:00</code>, though, in this case, it is the earlier offset that produces the longer divergence, and it is the earlier date that has two possible offsets.</p>\n\n<p>Another way to approach this is to check whether there's a transition going on. We can do this like this:</p>\n\n<pre><code>// Null\nZoneOffsetTransition zot3 = shanghai.getRules().getTransition(ld3.toLocalDateTime);\n\n// An overlap transition\nZoneOffsetTransition zot4 = shanghai.getRules().getTransition(ld3.toLocalDateTime);\n</code></pre>\n\n<p>You can check whether the transition is an overlap where there's more than one valid offset for that date/time or a gap where that date/time is not valid for that zone id - by using the <code>isOverlap()</code> and <code>isGap()</code> methods on <code>zot4</code>.</p>\n\n<p>I hope this helps people handle this sort of issue once Java 8 becomes widely available, or to those using Java 7 who adopt the JSR 310 backport.</p>\n"},{"comments":[{"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"score":2,"creation_date":1655999501,"post_id":21840785,"comment_id":128470532,"body_markdown":"MAYBE for display‽ I&#39;m not sure I&#39;d want to use your software otherwise, and I live in GMT which is close enough to UTC for half the year.","body":"MAYBE for display‽ I&#39;m not sure I&#39;d want to use your software otherwise, and I live in GMT which is close enough to UTC for half the year."},{"owner":{"account_id":2099531,"reputation":6497,"user_id":1867549,"accept_rate":80,"display_name":"&#201;tienne Miret"},"score":0,"creation_date":1673443697,"post_id":21840785,"comment_id":132499908,"body_markdown":"@mjaggard GMT is at most 1s appart of UTC for the *entire* year ;)","body":"@mjaggard GMT is at most 1s appart of UTC for the <i>entire</i> year ;)"},{"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"score":0,"creation_date":1673955279,"post_id":21840785,"comment_id":132607225,"body_markdown":"Sorry @&#201;tienneMiret to be clear I meant &quot;I live in GMT ... for half the year&quot;","body":"Sorry @&#201;tienneMiret to be clear I meant &quot;I live in GMT ... for half the year&quot;"}],"tags":[],"owner":{"account_id":1045732,"reputation":11348,"user_id":1050755,"accept_rate":51,"display_name":"user1050755"},"comment_count":3,"down_vote_count":3,"up_vote_count":269,"is_accepted":false,"score":266,"last_activity_date":1545006682,"creation_date":1392677052,"answer_id":21840785,"question_id":6841333,"body_markdown":"I&#39;m sorry to say, but the time discontinuity has moved a bit in\r\n\r\n[JDK 6][1] two years ago, and in [JDK 7][2] just recently in [update 25][3].\r\n\r\nLesson to learn: avoid non-UTC times at all costs, except maybe for display.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6_.28December_11.2C_2006.29\r\n  [2]: https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7_.28July_28.2C_2011.29\r\n  [3]: https://en.wikipedia.org/wiki/Java_version_history#cite_note-131\r\n","title":"Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?","body":"<p>I'm sorry to say, but the time discontinuity has moved a bit in</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6_.28December_11.2C_2006.29\" rel=\"noreferrer\">JDK 6</a> two years ago, and in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7_.28July_28.2C_2011.29\" rel=\"noreferrer\">JDK 7</a> just recently in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#cite_note-131\" rel=\"noreferrer\">update 25</a>.</p>\n\n<p>Lesson to learn: avoid non-UTC times at all costs, except maybe for display.</p>\n"},{"tags":[],"owner":{"account_id":1045732,"reputation":11348,"user_id":1050755,"accept_rate":51,"display_name":"user1050755"},"comment_count":0,"down_vote_count":2,"up_vote_count":194,"is_accepted":false,"score":192,"last_activity_date":1603165257,"creation_date":1417017497,"answer_id":27153569,"question_id":6841333,"body_markdown":"`IMHO` the pervasive, *implicit* localization in Java is its single largest design flaw. It may be intended for user interfaces, but frankly, who really uses Java for user interfaces today except for some IDEs where you can basically ignore localization because programmers aren&#39;t exactly the target audience for it. You can fix it (especially on Linux servers) by:\r\n\r\n * export `LC_ALL=C TZ=UTC`\r\n * set your system clock to UTC\r\n * never use localized implementations unless absolutely necessary (ie for display only)\r\n\r\nTo the [Java Community Process][1] members I recommend:\r\n\r\n * make localized methods, not the default, but require the user to explicitly request localization.\r\n * use `UTF-8/UTC` as the *FIXED* default instead because that&#39;s simply the default today. There is no reason to do something else, except if you want to produce threads like this.\r\n\r\nI mean, come on, aren&#39;t global static variables an anti-OO pattern? Nothing else is those pervasive defaults given by some rudimentary environment variables.......\r\n\r\n\r\n  [1]: https://www.jcp.org/","title":"Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?","body":"<p><code>IMHO</code> the pervasive, <em>implicit</em> localization in Java is its single largest design flaw. It may be intended for user interfaces, but frankly, who really uses Java for user interfaces today except for some IDEs where you can basically ignore localization because programmers aren't exactly the target audience for it. You can fix it (especially on Linux servers) by:</p>\n<ul>\n<li>export <code>LC_ALL=C TZ=UTC</code></li>\n<li>set your system clock to UTC</li>\n<li>never use localized implementations unless absolutely necessary (ie for display only)</li>\n</ul>\n<p>To the <a href=\"https://www.jcp.org/\" rel=\"noreferrer\">Java Community Process</a> members I recommend:</p>\n<ul>\n<li>make localized methods, not the default, but require the user to explicitly request localization.</li>\n<li>use <code>UTF-8/UTC</code> as the <em>FIXED</em> default instead because that's simply the default today. There is no reason to do something else, except if you want to produce threads like this.</li>\n</ul>\n<p>I mean, come on, aren't global static variables an anti-OO pattern? Nothing else is those pervasive defaults given by some rudimentary environment variables.......</p>\n"},{"tags":[],"owner":{"account_id":12514905,"reputation":2235,"user_id":9194639,"display_name":"new Q Open Wid"},"comment_count":0,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1605402089,"creation_date":1549835255,"answer_id":54621415,"question_id":6841333,"body_markdown":"As others said, it&#39;s a time change in 1927 in Shanghai. \r\n\r\nIt was `23:54:07` in Shanghai, in the local standard time, but then after 5 minutes and 52 seconds, it turned to the next day at `00:00:00`, and then local standard time changed back to `23:54:08`. So, that&#39;s why the difference between the two times is 343 seconds, not 1 second, as you would have expected.\r\n\r\nThe time can also mess up in other places like the US. The US has Daylight Saving Time. When the Daylight Saving Time starts the time goes forward 1 hour. But after a while, the Daylight Saving Time ends, and it goes backward 1 hour back to the standard time zone. So sometimes when comparing times in the US the difference is about `3600` seconds not 1 second.\r\n\r\nBut there is something different about these two-time changes. The latter changes continuously and the former was just a change. It didn&#39;t change back or change again by the same amount.\r\n\r\n**It&#39;s better to use UTC unless if needed to use non-UTC time like in display.**","title":"Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?","body":"<p>As others said, it's a time change in 1927 in Shanghai.</p>\n<p>It was <code>23:54:07</code> in Shanghai, in the local standard time, but then after 5 minutes and 52 seconds, it turned to the next day at <code>00:00:00</code>, and then local standard time changed back to <code>23:54:08</code>. So, that's why the difference between the two times is 343 seconds, not 1 second, as you would have expected.</p>\n<p>The time can also mess up in other places like the US. The US has Daylight Saving Time. When the Daylight Saving Time starts the time goes forward 1 hour. But after a while, the Daylight Saving Time ends, and it goes backward 1 hour back to the standard time zone. So sometimes when comparing times in the US the difference is about <code>3600</code> seconds not 1 second.</p>\n<p>But there is something different about these two-time changes. The latter changes continuously and the former was just a change. It didn't change back or change again by the same amount.</p>\n<p><strong>It's better to use UTC unless if needed to use non-UTC time like in display.</strong></p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1634979424,"post_id":69685761,"comment_id":123176364,"body_markdown":"The original code is dividing the milliseconds by 1000 in order to convert to seconds. So the output certainly can be 1 (and is 1 in most time zones).","body":"The original code is dividing the milliseconds by 1000 in order to convert to seconds. So the output certainly can be 1 (and is 1 in most time zones)."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1634982728,"post_id":69685761,"comment_id":123177044,"body_markdown":"Strange you should mention time zones as there are no &quot;good&quot; official time comparators before the atomic clock, only general agreements using astronomy. To relate any date (at absolute best) before  the atomic clock to a java TZ (has current TZ database runtime updates for zones and calendar systems) is a farce. Using java TZ for time calc before runtime version database is a farce caused by there being no true zoning for accurate usage before the installed TZ database JRE file version. See historians and forensics for a TZ and custom zone implementations.","body":"Strange you should mention time zones as there are no &quot;good&quot; official time comparators before the atomic clock, only general agreements using astronomy. To relate any date (at absolute best) before  the atomic clock to a java TZ (has current TZ database runtime updates for zones and calendar systems) is a farce. Using java TZ for time calc before runtime version database is a farce caused by there being no true zoning for accurate usage before the installed TZ database JRE file version. See historians and forensics for a TZ and custom zone implementations."}],"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"comment_count":2,"down_vote_count":5,"up_vote_count":4,"is_accepted":false,"score":-1,"last_activity_date":1634971194,"creation_date":1634971194,"answer_id":69685761,"question_id":6841333,"body_markdown":"It cannot ever be &quot;1&quot; as the result because **getTime() returns long milliseconds not seconds** (of which 353 milliseconds is a fair point but the epoch for Date is started at 1970 not the 1920&#39;s).\r\ncmmnt: The API section you are using is largely considered deprecated.\r\nhttp://windsolarhybridaustralia.x10.mx/httpoutputtools-tomcat-java.html","title":"Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?","body":"<p>It cannot ever be &quot;1&quot; as the result because <strong>getTime() returns long milliseconds not seconds</strong> (of which 353 milliseconds is a fair point but the epoch for Date is started at 1970 not the 1920's).\ncmmnt: The API section you are using is largely considered deprecated.\n<a href=\"http://windsolarhybridaustralia.x10.mx/httpoutputtools-tomcat-java.html\" rel=\"nofollow noreferrer\">http://windsolarhybridaustralia.x10.mx/httpoutputtools-tomcat-java.html</a></p>\n"},{"tags":[],"owner":{"account_id":7388972,"reputation":101203,"user_id":5623035,"display_name":"Mojtaba Hosseini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699707681,"creation_date":1699707681,"answer_id":77465185,"question_id":6841333,"body_markdown":"### &#128161;Extra information \r\nIt&#39;s because of daylight saving as others mentioned in their answer. I want to point out other facts about the date and calendar to show you:\r\n\r\n### &#129504; Why you must NEVER assume the date\r\n\r\nIn addition to many existing calendars and rules like leap years and daylight saving, Throughout history, many changes have happened to the calendar that do not follow any order. \r\n\r\nFor example in 1752, the calendar used in England and its colonies was **11 days out-of-sync** with the Gregorian Calendar in use in most other parts of Europe. &#129335;&#127995;‍♂️\r\n\r\nSo they changed it in a series of steps:\r\n\r\n- December 31, 1750 was followed by January 1, 1750 (under the &quot;Old Style&quot; calendar, December was the 10th month and January the 11th)\r\n- March 24, 1750 was followed by March 25, 1751 (March 25 was the first day of the &quot;Old Style&quot; year)\r\n- December 31, 1751 was followed by January 1, 1752 (the switch from March 25 to January 1 as the first day of the year)\r\n- September 2, 1752 was followed by September 14, 1752 (drop of 11 days to conform to the Gregorian calendar)\r\n- [More information here](https://libguides.ctstatelibrary.org/hg/colonialresearch/calendar)\r\n\r\nAnother example is Moon-based calendars like the Hijri date which can be changed every year depending on the moon phase in every month.\r\n\r\nSo there are even gaps in some calendars for more than 10 days and some inconsistency in some calendars from year to year! We should always pay attention to a lot of parameters when working with calendars, (like the timezone, locale, daylight saving, the calendar standard itself, etc.) and always try to use a tested and accurate date system. \r\n\r\n&lt;sub&gt;⚠️ Preferred an online one, because some calendars like the Iranian Hijri Calendar are actively changing without the ability to forecast.&lt;/sub&gt;","title":"Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?","body":"<h3>💡Extra information</h3>\n<p>It's because of daylight saving as others mentioned in their answer. I want to point out other facts about the date and calendar to show you:</p>\n<h3>🧠 Why you must NEVER assume the date</h3>\n<p>In addition to many existing calendars and rules like leap years and daylight saving, Throughout history, many changes have happened to the calendar that do not follow any order.</p>\n<p>For example in 1752, the calendar used in England and its colonies was <strong>11 days out-of-sync</strong> with the Gregorian Calendar in use in most other parts of Europe. 🤷🏻‍♂️</p>\n<p>So they changed it in a series of steps:</p>\n<ul>\n<li>December 31, 1750 was followed by January 1, 1750 (under the &quot;Old Style&quot; calendar, December was the 10th month and January the 11th)</li>\n<li>March 24, 1750 was followed by March 25, 1751 (March 25 was the first day of the &quot;Old Style&quot; year)</li>\n<li>December 31, 1751 was followed by January 1, 1752 (the switch from March 25 to January 1 as the first day of the year)</li>\n<li>September 2, 1752 was followed by September 14, 1752 (drop of 11 days to conform to the Gregorian calendar)</li>\n<li><a href=\"https://libguides.ctstatelibrary.org/hg/colonialresearch/calendar\" rel=\"nofollow noreferrer\">More information here</a></li>\n</ul>\n<p>Another example is Moon-based calendars like the Hijri date which can be changed every year depending on the moon phase in every month.</p>\n<p>So there are even gaps in some calendars for more than 10 days and some inconsistency in some calendars from year to year! We should always pay attention to a lot of parameters when working with calendars, (like the timezone, locale, daylight saving, the calendar standard itself, etc.) and always try to use a tested and accurate date system.</p>\n<p><sub>⚠️ Preferred an online one, because some calendars like the Iranian Hijri Calendar are actively changing without the ability to forecast.</sub></p>\n"}],"owner":{"account_id":137777,"reputation":194868,"user_id":342235,"accept_rate":77,"display_name":"Freewind"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":795225,"favorite_count":0,"down_vote_count":41,"up_vote_count":7571,"accepted_answer_id":6841479,"answer_count":11,"score":7530,"last_activity_date":1699707681,"creation_date":1311754558,"question_id":6841333,"body_markdown":"If I run the following program, which parses two date strings referencing times 1 second apart and compares them:\r\n\r\n\tpublic static void main(String[] args) throws ParseException {\r\n\t\tSimpleDateFormat sf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);  \r\n\t\tString str3 = &quot;1927-12-31 23:54:07&quot;;  \r\n\t\tString str4 = &quot;1927-12-31 23:54:08&quot;;  \r\n\t\tDate sDt3 = sf.parse(str3);  \r\n\t\tDate sDt4 = sf.parse(str4);  \r\n\t\tlong ld3 = sDt3.getTime() /1000;  \r\n\t\tlong ld4 = sDt4.getTime() /1000;\r\n\t\tSystem.out.println(ld4-ld3);\r\n\t}\r\n\r\n**The output is:**\r\n\r\n    353\r\n\r\nWhy is `ld4-ld3`, not `1` (as I would expect from the one-second difference in the times), but `353`?\r\n\r\nIf I change the dates to times 1 second later:\r\n\r\n    String str3 = &quot;1927-12-31 23:54:08&quot;;  \r\n    String str4 = &quot;1927-12-31 23:54:09&quot;;  \r\n\r\nThen `ld4-ld3` will be `1`.\r\n\r\n----------\r\n\r\n**Java version:**\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    java version &quot;1.6.0_22&quot;\r\n    Java(TM) SE Runtime Environment (build 1.6.0_22-b04)\r\n    Dynamic Code Evolution Client VM (build 0.2-b02-internal, 19.0-b04-internal, mixed mode)\r\n\r\n```java\r\nTimezone(`TimeZone.getDefault()`):\r\n\r\nsun.util.calendar.ZoneInfo[id=&quot;Asia/Shanghai&quot;,\r\noffset=28800000,dstSavings=0,\r\nuseDaylight=false,\r\ntransitions=19,\r\nlastRule=null]\r\n\r\nLocale(Locale.getDefault()): zh_CN\r\n```","title":"Why is subtracting these two epoch-milli Times (in year 1927) giving a strange result?","body":"<p>If I run the following program, which parses two date strings referencing times 1 second apart and compares them:</p>\n<pre><code>public static void main(String[] args) throws ParseException {\n    SimpleDateFormat sf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);  \n    String str3 = &quot;1927-12-31 23:54:07&quot;;  \n    String str4 = &quot;1927-12-31 23:54:08&quot;;  \n    Date sDt3 = sf.parse(str3);  \n    Date sDt4 = sf.parse(str4);  \n    long ld3 = sDt3.getTime() /1000;  \n    long ld4 = sDt4.getTime() /1000;\n    System.out.println(ld4-ld3);\n}\n</code></pre>\n<p><strong>The output is:</strong></p>\n<pre><code>353\n</code></pre>\n<p>Why is <code>ld4-ld3</code>, not <code>1</code> (as I would expect from the one-second difference in the times), but <code>353</code>?</p>\n<p>If I change the dates to times 1 second later:</p>\n<pre><code>String str3 = &quot;1927-12-31 23:54:08&quot;;  \nString str4 = &quot;1927-12-31 23:54:09&quot;;  \n</code></pre>\n<p>Then <code>ld4-ld3</code> will be <code>1</code>.</p>\n<hr />\n<p><strong>Java version:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>java version &quot;1.6.0_22&quot;\nJava(TM) SE Runtime Environment (build 1.6.0_22-b04)\nDynamic Code Evolution Client VM (build 0.2-b02-internal, 19.0-b04-internal, mixed mode)\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Timezone(`TimeZone.getDefault()`):\n\nsun.util.calendar.ZoneInfo[id=&quot;Asia/Shanghai&quot;,\noffset=28800000,dstSavings=0,\nuseDaylight=false,\ntransitions=19,\nlastRule=null]\n\nLocale(Locale.getDefault()): zh_CN\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1699702206,"post_id":77464873,"comment_id":136566414,"body_markdown":"`next()` already reads the first number. Then you compare it with  `&quot;end&quot;`, and if it does not match, you throw it away.","body":"<code>next()</code> already reads the first number. Then you compare it with  <code>&quot;end&quot;</code>, and if it does not match, you throw it away."}],"answers":[{"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1699703787,"post_id":77464950,"comment_id":136566548,"body_markdown":"&quot;the second condition fails because there&#39;s no next value (until there is).&quot; - it doesn&#39;t fail, it doesn&#39;t get evaluated until there is a second value to read.","body":"&quot;the second condition fails because there&#39;s no next value (until there is).&quot; - it doesn&#39;t fail, it doesn&#39;t get evaluated until there is a second value to read."},{"owner":{"account_id":18117615,"reputation":136,"user_id":13174087,"display_name":"Greenylie"},"score":1,"creation_date":1699704321,"post_id":77464950,"comment_id":136566591,"body_markdown":"@S&#246;ren I should have phrased that better, I meant exactly what you said in the second comment. On the other hand this does fix the problem because if the next value is an int it gets evaluated before checking if it&#39;s equals to &quot;end&quot;. So inputting the correct number first prints &quot;correct&quot;;","body":"@S&#246;ren I should have phrased that better, I meant exactly what you said in the second comment. On the other hand this does fix the problem because if the next value is an int it gets evaluated before checking if it&#39;s equals to &quot;end&quot;. So inputting the correct number first prints &quot;correct&quot;;"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1699706043,"post_id":77464950,"comment_id":136566717,"body_markdown":"posted code is not responsible for opening `System.in` - usually this code should not close it either - calling `scan.close()` should not be called since it will also close `System.in` - better would be to have included a message if the input does not match anything","body":"posted code is not responsible for opening <code>System.in</code> - usually this code should not close it either - calling <code>scan.close()</code> should not be called since it will also close <code>System.in</code> - better would be to have included a message if the input does not match anything"},{"owner":{"account_id":18117615,"reputation":136,"user_id":13174087,"display_name":"Greenylie"},"score":1,"creation_date":1699706446,"post_id":77464950,"comment_id":136566752,"body_markdown":"@user85421 You are right, I assumed it was also the end of the program, but that might not be the case.","body":"@user85421 You are right, I assumed it was also the end of the program, but that might not be the case."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1699708564,"post_id":77464950,"comment_id":136566922,"body_markdown":"Sorry, I missed the `hasNextInt`, so I&#39;ll delete my first comment.","body":"Sorry, I missed the <code>hasNextInt</code>, so I&#39;ll delete my first comment."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1699713941,"post_id":77464950,"comment_id":136567447,"body_markdown":"end of the program -&gt; it would be closed anyway -- (only) resources the code is opening  should be closed by that code (unless documented differently) ((in this specific case, it is a bit *unfortunate* that `Scanner#close` also closes the its source))","body":"end of the program -&gt; it would be closed anyway -- (only) resources the code is opening  should be closed by that code (unless documented differently) ((in this specific case, it is a bit <i>unfortunate</i> that <code>Scanner#close</code> also closes the its source))"},{"owner":{"account_id":18117615,"reputation":136,"user_id":13174087,"display_name":"Greenylie"},"score":1,"creation_date":1699715405,"post_id":77464950,"comment_id":136567613,"body_markdown":"@user85421 I see. My OOP professor told us it&#39;s good practice to close it, even if it&#39;s System.In, but I can&#39;t really recall why. On the other hand thanks for your responses!","body":"@user85421 I see. My OOP professor told us it&#39;s good practice to close it, even if it&#39;s System.In, but I can&#39;t really recall why. On the other hand thanks for your responses!"}],"tags":[],"owner":{"account_id":18117615,"reputation":136,"user_id":13174087,"display_name":"Greenylie"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1699706479,"creation_date":1699703300,"answer_id":77464950,"question_id":77464873,"body_markdown":"This happens because **scan.next()** is taking the value to check if it&#39;s equals to &quot;end&quot;, so the second condition *fails to get evaluated because there&#39;s no next value* (until there is).\r\nYou can fix the problem by swapping the conditions:\r\n\r\n    Scanner scan = new Scanner(System.in);\r\n    \r\n        while (play){\r\n           int answer = ask();\r\n    \r\n            if (scan.hasNextInt()) {\r\n                int number = scan.nextInt();\r\n                if (number == answer) System.out.println(&quot;correct&quot;);\r\n            } else if (scan.next().equals(&quot;end&quot;)){\r\n                System.out.println(&quot;ended&quot;);\r\n                play = false;\r\n            } \r\n        }\r\n    \r\nFurthermore you can avoid declaring some variables which are used just to check a condition, as well as take advantage of if condition left to right evaluation:\r\n\r\n    Scanner scan = new Scanner(System.in);\r\n    \r\n    while (true){\r\n       int answer = 5;\r\n       \r\n        if (!scan.hasNextInt() &amp;&amp; scan.next().equals(&quot;end&quot;)){\r\n            /*This works because if the next value is an int,\r\n            scan.next() is not called at all*/\r\n            System.out.println(&quot;ended&quot;);\r\n            break;\r\n        }\r\n        \r\n        if (scan.hasNextInt() &amp;&amp; scan.nextInt() == answer){\r\n            /*Same logic as the other if, when the value is not an int,\r\n            scan.nextInt() is not called, so that other values do not\r\n            lead to a crash*/\r\n            System.out.println(&quot;correct&quot;);\r\n            break;\r\n        }\r\n    }","title":"Java Scanner gets integer input second time","body":"<p>This happens because <strong>scan.next()</strong> is taking the value to check if it's equals to &quot;end&quot;, so the second condition <em>fails to get evaluated because there's no next value</em> (until there is).\nYou can fix the problem by swapping the conditions:</p>\n<pre><code>Scanner scan = new Scanner(System.in);\n\n    while (play){\n       int answer = ask();\n\n        if (scan.hasNextInt()) {\n            int number = scan.nextInt();\n            if (number == answer) System.out.println(&quot;correct&quot;);\n        } else if (scan.next().equals(&quot;end&quot;)){\n            System.out.println(&quot;ended&quot;);\n            play = false;\n        } \n    }\n</code></pre>\n<p>Furthermore you can avoid declaring some variables which are used just to check a condition, as well as take advantage of if condition left to right evaluation:</p>\n<pre><code>Scanner scan = new Scanner(System.in);\n\nwhile (true){\n   int answer = 5;\n   \n    if (!scan.hasNextInt() &amp;&amp; scan.next().equals(&quot;end&quot;)){\n        /*This works because if the next value is an int,\n        scan.next() is not called at all*/\n        System.out.println(&quot;ended&quot;);\n        break;\n    }\n    \n    if (scan.hasNextInt() &amp;&amp; scan.nextInt() == answer){\n        /*Same logic as the other if, when the value is not an int,\n        scan.nextInt() is not called, so that other values do not\n        lead to a crash*/\n        System.out.println(&quot;correct&quot;);\n        break;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23317455,"reputation":341,"user_id":17395877,"display_name":"Fatih Can"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77464950,"answer_count":1,"score":-1,"last_activity_date":1699706479,"creation_date":1699701959,"question_id":77464873,"body_markdown":"I should check if the input value equals &#39;end&#39; or a number..\r\n\r\nI tried this but it reads integer value only second time I enter.\r\n\r\n\r\n    Scanner scan = new Scanner(System.in);\r\n\r\n        while (play){\r\n           int answer = ask();\r\n\r\n            if (scan.next().equals(&quot;end&quot;)){\r\n                System.out.println(&quot;ended&quot;);\r\n                play = false;\r\n            } else if (scan.hasNextInt())\r\n            {\r\n                int number = scan.nextInt();\r\n                if (number == answer){...","title":"Java Scanner gets integer input second time","body":"<p>I should check if the input value equals 'end' or a number..</p>\n<p>I tried this but it reads integer value only second time I enter.</p>\n<pre><code>Scanner scan = new Scanner(System.in);\n\n    while (play){\n       int answer = ask();\n\n        if (scan.next().equals(&quot;end&quot;)){\n            System.out.println(&quot;ended&quot;);\n            play = false;\n        } else if (scan.hasNextInt())\n        {\n            int number = scan.nextInt();\n            if (number == answer){...\n</code></pre>\n"},{"tags":["java","tomcat","httpclient"],"comments":[{"owner":{"account_id":899936,"reputation":2034,"user_id":936329,"accept_rate":48,"display_name":"bluelabel"},"score":0,"creation_date":1699564395,"post_id":77455932,"comment_id":136551642,"body_markdown":"Check this answer: https://stackoverflow.com/a/39358838/936329","body":"Check this answer: <a href=\"https://stackoverflow.com/a/39358838/936329\">stackoverflow.com/a/39358838/936329</a>"},{"owner":{"account_id":11848321,"reputation":1,"user_id":8670304,"display_name":"Emmanuel Thadeu Souza Trindade"},"score":0,"creation_date":1699641470,"post_id":77455932,"comment_id":136561945,"body_markdown":"Thank you for your feedback, but the implementation is working, what is not working is when the Api is consumed via the Tomcat call.\nNote. The proxy in question is the type without authentication.","body":"Thank you for your feedback, but the implementation is working, what is not working is when the Api is consumed via the Tomcat call. Note. The proxy in question is the type without authentication."}],"owner":{"account_id":11848321,"reputation":1,"user_id":8670304,"display_name":"Emmanuel Thadeu Souza Trindade"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699706021,"creation_date":1699558833,"question_id":77455932,"body_markdown":"I have a web application, made using Jsf and Apache HttpClient. When trying to consume an Api that requires a Proxy for communication, if I run the code via the command line on the server it works, but if I run the same code via a web application through Tomcat I get the &quot;Name or service not known&quot; error.\r\n\r\nJava vers&#227;o 11\r\nApache HttpClient 4.5.14\r\n\r\n```\r\nprivate String getCpf(String tokenClient) throws IOException {\r\n\tString result = null;\r\n\ttry {\r\n\t\tSystem.out.println(&quot;Inicio do processamento.....&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Token informado: &quot; + tokenClient);\r\n\t\t\r\n\t\tObjectMapper objectMapper = new ObjectMapper();\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(&quot;Configurando o proxy...&quot;);\r\n\t\tHttpHost proxy = new HttpHost(&quot;111.111.111.111&quot;, 8080);\r\n\t\tDefaultProxyRoutePlanner routePlanner = new DefaultProxyRoutePlanner(proxy);\r\n\t\t//HttpClient httpClient = HttpClients.custom().setRoutePlanner(routePlanner).build();\r\n\t\tHttpClient httpClient = HttpClients.createDefault();\r\n\t\t\r\n\t\tHttpGet httpGet = new HttpGet(\r\n\t\t\t\t&quot;https://servidor.com.br/api-servidor/api/login/validatoken&quot;);\r\n\r\n\t\thttpGet.addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + tokenClient.replace(&quot;\\&quot;&quot;, &quot;&quot;));\r\n\r\n\t\thttpGet.addHeader(&quot;accept&quot;, &quot;application/json&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Antes do envio....&quot;);\r\n\t\t\r\n\t\tHttpResponse response = httpClient.execute(httpGet);\r\n\t\tSystem.out.println(&quot;Apos o envio....&quot;);\r\n\t\r\n\t\tSystem.out.println(&quot;Coletando o retorno....&quot;);\r\n\t\tHttpEntity entity = response.getEntity();\r\n\t\tSystem.out.println(&quot;C&#243;digo do retorno: &quot; + response.getStatusLine().getStatusCode());\r\n\t\tif (entity != null &amp;&amp; response.getStatusLine().getStatusCode() == 200) {\r\n\t\t\tSystem.out.println(&quot;Retorno em string: &quot; + EntityUtils.toString(entity));\r\n\t\t\tresult = EntityUtils.toString(entity);\r\n\t\t\tSystem.out.println(&quot;Convertendo o retorno em json....&quot;);\r\n\t\t\tJsonNode jsonNode = objectMapper.readTree(result);\r\n\t\t\t\r\n\t\t\tresult = jsonNode.get(&quot;cpfcnpj&quot;).asText();\r\n\t\t\tSystem.out.println(&quot;Cpf retornado: &quot; + result);\r\n\t\t}\r\n\t} catch (IOException e) {\r\n\t\tSystem.out.println(&quot;Erro: &quot; + e.getMessage());\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\tSystem.out.println(&quot;Fim da execu&#231;&#227;o....&quot;);\r\n\treturn result;\r\n}\r\n```\r\n\r\n\r\nI&#39;ve already tried setting the proxy through environment variables and through Tomcat&#39;s setenv.xml too, but it only works if I run it outside of Tomcat.","title":"Apache HttClient with Proxy not working in the Tomcat","body":"<p>I have a web application, made using Jsf and Apache HttpClient. When trying to consume an Api that requires a Proxy for communication, if I run the code via the command line on the server it works, but if I run the same code via a web application through Tomcat I get the &quot;Name or service not known&quot; error.</p>\n<p>Java versão 11\nApache HttpClient 4.5.14</p>\n<pre><code>private String getCpf(String tokenClient) throws IOException {\n    String result = null;\n    try {\n        System.out.println(&quot;Inicio do processamento.....&quot;);\n        \n        System.out.println(&quot;Token informado: &quot; + tokenClient);\n        \n        ObjectMapper objectMapper = new ObjectMapper();\n        \n        \n        System.out.println(&quot;Configurando o proxy...&quot;);\n        HttpHost proxy = new HttpHost(&quot;111.111.111.111&quot;, 8080);\n        DefaultProxyRoutePlanner routePlanner = new DefaultProxyRoutePlanner(proxy);\n        //HttpClient httpClient = HttpClients.custom().setRoutePlanner(routePlanner).build();\n        HttpClient httpClient = HttpClients.createDefault();\n        \n        HttpGet httpGet = new HttpGet(\n                &quot;https://servidor.com.br/api-servidor/api/login/validatoken&quot;);\n\n        httpGet.addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + tokenClient.replace(&quot;\\&quot;&quot;, &quot;&quot;));\n\n        httpGet.addHeader(&quot;accept&quot;, &quot;application/json&quot;);\n        \n        System.out.println(&quot;Antes do envio....&quot;);\n        \n        HttpResponse response = httpClient.execute(httpGet);\n        System.out.println(&quot;Apos o envio....&quot;);\n    \n        System.out.println(&quot;Coletando o retorno....&quot;);\n        HttpEntity entity = response.getEntity();\n        System.out.println(&quot;Código do retorno: &quot; + response.getStatusLine().getStatusCode());\n        if (entity != null &amp;&amp; response.getStatusLine().getStatusCode() == 200) {\n            System.out.println(&quot;Retorno em string: &quot; + EntityUtils.toString(entity));\n            result = EntityUtils.toString(entity);\n            System.out.println(&quot;Convertendo o retorno em json....&quot;);\n            JsonNode jsonNode = objectMapper.readTree(result);\n            \n            result = jsonNode.get(&quot;cpfcnpj&quot;).asText();\n            System.out.println(&quot;Cpf retornado: &quot; + result);\n        }\n    } catch (IOException e) {\n        System.out.println(&quot;Erro: &quot; + e.getMessage());\n        return result;\n    }\n    \n    System.out.println(&quot;Fim da execução....&quot;);\n    return result;\n}\n</code></pre>\n<p>I've already tried setting the proxy through environment variables and through Tomcat's setenv.xml too, but it only works if I run it outside of Tomcat.</p>\n"},{"tags":["java","inputstream","apache-commons","outputstream","apache-commons-exec"],"answers":[{"tags":[],"owner":{"account_id":4910153,"reputation":435,"user_id":3955663,"display_name":"MichalVales"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1526663173,"creation_date":1526663173,"answer_id":50416193,"question_id":50398031,"body_markdown":"Okay, I solved this using built-in tools rather than external libraries. I was able to achieve my goal thanks to independant thread which reads `Process`&#39; `InputStream`:\r\n\r\n    ProcessBuilder builder = new ProcessBuilder(command);\r\n\tProcess process = builder.start();\r\n\r\n\tBufferedWriter writer = new BufferedWriter(new OutputStreamWriter(process.getOutputStream()));\r\n\tStreamReader outputReader = new StreamReader(process.getInputStream(), System.out);\r\n\toutputReader.start();\r\n\tStreamReader err = new StreamReader(process.getErrorStream(), System.err);\r\n\terr.start();\r\n\r\n\tfor (int i = 0; i &lt; 3; i++) {\r\n\t    Thread.sleep(5000);\r\n\t    writer.write(internalProcessCommand + &quot;\\n&quot;);\r\n\t    writer.flush();\r\n\t}\r\n\twriter.write(&quot;exit\\n&quot;);\r\n\twriter.flush();\r\n\r\n\twhile (process.isAlive()) {\r\n\t    System.out.println(&quot;alive?&quot;);\r\n\t    Thread.sleep(100);\r\n\t}\r\n\tSystem.out.println(&quot;dead&quot;);\r\n\toutputReader.shutdown();\r\n\terr.shutdown();\r\n\r\nStreamReader:\r\n\r\n    class StreamReader extends Thread {\r\n\r\n        private AtomicBoolean running = new AtomicBoolean(false);\r\n        private InputStream in;\r\n        private OutputStream out;\r\n\r\n        public StreamReader(InputStream in, OutputStream out) {\r\n\t        this.in = in;\r\n\t        this.out = out;\r\n\t        running.set(true);\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n\t        Scanner scanner = new Scanner(in);\r\n\t        PrintWriter writer = new PrintWriter(out, true);\r\n\t        while (running.get()) {\r\n\t            if (scanner.hasNextLine()) {\r\n\t\t            writer.println(scanner.nextLine());\r\n\t            }\r\n\t        }\r\n\t        scanner.close();\r\n        }\r\n\r\n        public void shutdown() {\r\n\t        running.set(false);\r\n        }\r\n\r\n    }","title":"Apache Commons exec PumpStreamHandler continuous input","body":"<p>Okay, I solved this using built-in tools rather than external libraries. I was able to achieve my goal thanks to independant thread which reads <code>Process</code>' <code>InputStream</code>:</p>\n\n<pre><code>ProcessBuilder builder = new ProcessBuilder(command);\nProcess process = builder.start();\n\nBufferedWriter writer = new BufferedWriter(new OutputStreamWriter(process.getOutputStream()));\nStreamReader outputReader = new StreamReader(process.getInputStream(), System.out);\noutputReader.start();\nStreamReader err = new StreamReader(process.getErrorStream(), System.err);\nerr.start();\n\nfor (int i = 0; i &lt; 3; i++) {\n    Thread.sleep(5000);\n    writer.write(internalProcessCommand + \"\\n\");\n    writer.flush();\n}\nwriter.write(\"exit\\n\");\nwriter.flush();\n\nwhile (process.isAlive()) {\n    System.out.println(\"alive?\");\n    Thread.sleep(100);\n}\nSystem.out.println(\"dead\");\noutputReader.shutdown();\nerr.shutdown();\n</code></pre>\n\n<p>StreamReader:</p>\n\n<pre><code>class StreamReader extends Thread {\n\n    private AtomicBoolean running = new AtomicBoolean(false);\n    private InputStream in;\n    private OutputStream out;\n\n    public StreamReader(InputStream in, OutputStream out) {\n        this.in = in;\n        this.out = out;\n        running.set(true);\n    }\n\n    @Override\n    public void run() {\n        Scanner scanner = new Scanner(in);\n        PrintWriter writer = new PrintWriter(out, true);\n        while (running.get()) {\n            if (scanner.hasNextLine()) {\n                writer.println(scanner.nextLine());\n            }\n        }\n        scanner.close();\n    }\n\n    public void shutdown() {\n        running.set(false);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1282599,"reputation":521,"user_id":1777770,"display_name":"champagniac"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699705206,"creation_date":1616701536,"answer_id":66806555,"question_id":50398031,"body_markdown":"A solution is to copy the implementation of [PumpStreamHandler][1]  and [StreamPumper][2], to let say ImmediatePumpStreamHandler and ImmediateStreamPumper, and make the following two changes:\r\n\r\n - Add `os.flush();` directly after `os.write(buf, 0, length);` on line 108 in ImmediateStreamPumper.\r\n - Change `new StreamPumper(...)` to `new ImmediateStreamPumper(...)` on line 269 in ImmediatePumpStreamHandler.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-exec/apidocs/src-html/org/apache/commons/exec/PumpStreamHandler.html\r\n  [2]: https://commons.apache.org/proper/commons-exec/apidocs/src-html/org/apache/commons/exec/StreamPumper.html","title":"Apache Commons exec PumpStreamHandler continuous input","body":"<p>A solution is to copy the implementation of <a href=\"https://commons.apache.org/proper/commons-exec/apidocs/src-html/org/apache/commons/exec/PumpStreamHandler.html\" rel=\"nofollow noreferrer\">PumpStreamHandler</a>  and <a href=\"https://commons.apache.org/proper/commons-exec/apidocs/src-html/org/apache/commons/exec/StreamPumper.html\" rel=\"nofollow noreferrer\">StreamPumper</a>, to let say ImmediatePumpStreamHandler and ImmediateStreamPumper, and make the following two changes:</p>\n<ul>\n<li>Add <code>os.flush();</code> directly after <code>os.write(buf, 0, length);</code> on line 108 in ImmediateStreamPumper.</li>\n<li>Change <code>new StreamPumper(...)</code> to <code>new ImmediateStreamPumper(...)</code> on line 269 in ImmediatePumpStreamHandler.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":82626,"reputation":12122,"user_id":232175,"accept_rate":62,"display_name":"Matthias"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624959445,"creation_date":1624959445,"answer_id":68176156,"question_id":50398031,"body_markdown":"Based on the answer given by @champagniac, I have created a simple fix which introduces additional flushing by only replacing the `PumpStreamHandler`:\r\n\r\n    public class PumpStreamHandlerFixed extends PumpStreamHandler\r\n    {\r\n      public PumpStreamHandlerFixed()\r\n      {\r\n        super();\r\n      }\r\n    \r\n      public PumpStreamHandlerFixed(OutputStream out, OutputStream err, InputStream input)\r\n      {\r\n        super(out, err, input);\r\n      }\r\n    \r\n      public PumpStreamHandlerFixed(OutputStream out, OutputStream err)\r\n      {\r\n        super(out, err);\r\n      }\r\n    \r\n      public PumpStreamHandlerFixed(OutputStream outAndErr)\r\n      {\r\n        super(outAndErr);\r\n      }\r\n    \r\n      @Override\r\n      protected Thread createPump(InputStream is, OutputStream os, boolean closeWhenExhausted)\r\n      {\r\n        os = new AutoFlushingOutputStream(os);\r\n    \r\n        final Thread result = new Thread(new StreamPumper(is, os, closeWhenExhausted), &quot;Exec Stream Pumper&quot;);\r\n        result.setDaemon(true);\r\n        return result;\r\n      }\r\n    }\r\n    \r\n    class AutoFlushingOutputStream extends OutputStream\r\n    {\r\n      private final OutputStream decorated;\r\n    \r\n      public AutoFlushingOutputStream(OutputStream decorated)\r\n      {\r\n        this.decorated = decorated;\r\n      }\r\n    \r\n      @Override\r\n      public void write(byte[] b, int off, int len) throws IOException\r\n      {\r\n        this.decorated.write(b, off, len);\r\n        this.decorated.flush();\r\n      }\r\n    \r\n      @Override\r\n      public void write(int b) throws IOException\r\n      {\r\n        this.decorated.write(b);\r\n        this.decorated.flush();\r\n      }\r\n    \r\n      @Override\r\n      public void close() throws IOException\r\n      {\r\n        this.decorated.close();\r\n      }\r\n    \r\n      @Override\r\n      public void flush() throws IOException\r\n      {\r\n        this.decorated.flush();\r\n      }\r\n    }\r\n\r\n","title":"Apache Commons exec PumpStreamHandler continuous input","body":"<p>Based on the answer given by @champagniac, I have created a simple fix which introduces additional flushing by only replacing the <code>PumpStreamHandler</code>:</p>\n<pre><code>public class PumpStreamHandlerFixed extends PumpStreamHandler\n{\n  public PumpStreamHandlerFixed()\n  {\n    super();\n  }\n\n  public PumpStreamHandlerFixed(OutputStream out, OutputStream err, InputStream input)\n  {\n    super(out, err, input);\n  }\n\n  public PumpStreamHandlerFixed(OutputStream out, OutputStream err)\n  {\n    super(out, err);\n  }\n\n  public PumpStreamHandlerFixed(OutputStream outAndErr)\n  {\n    super(outAndErr);\n  }\n\n  @Override\n  protected Thread createPump(InputStream is, OutputStream os, boolean closeWhenExhausted)\n  {\n    os = new AutoFlushingOutputStream(os);\n\n    final Thread result = new Thread(new StreamPumper(is, os, closeWhenExhausted), &quot;Exec Stream Pumper&quot;);\n    result.setDaemon(true);\n    return result;\n  }\n}\n\nclass AutoFlushingOutputStream extends OutputStream\n{\n  private final OutputStream decorated;\n\n  public AutoFlushingOutputStream(OutputStream decorated)\n  {\n    this.decorated = decorated;\n  }\n\n  @Override\n  public void write(byte[] b, int off, int len) throws IOException\n  {\n    this.decorated.write(b, off, len);\n    this.decorated.flush();\n  }\n\n  @Override\n  public void write(int b) throws IOException\n  {\n    this.decorated.write(b);\n    this.decorated.flush();\n  }\n\n  @Override\n  public void close() throws IOException\n  {\n    this.decorated.close();\n  }\n\n  @Override\n  public void flush() throws IOException\n  {\n    this.decorated.flush();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":4910153,"reputation":435,"user_id":3955663,"display_name":"MichalVales"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1185,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":50416193,"answer_count":3,"score":3,"last_activity_date":1699705206,"creation_date":1526580850,"question_id":50398031,"body_markdown":"I am trying to solve interaction with command line process using Apache Commons exec. I&#39;m stuck with following code:\r\n\r\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n\tByteArrayOutputStream ins = new ByteArrayOutputStream();\r\n\tOutputStreamWriter ow = new OutputStreamWriter(ins);\r\n\tBufferedWriter writer = new BufferedWriter(ow);\r\n\tByteArrayInputStream in = new ByteArrayInputStream(ins.toByteArray());\r\n    PumpStreamHandler psh = new PumpStreamHandler(out, null, in);\r\n\tCommandLine cl = CommandLine.parse(initProcess);\r\n\tDefaultExecutor exec = new DefaultExecutor();\r\n\tDefaultExecuteResultHandler resultHandler = new DefaultExecuteResultHandler();\r\n\texec.setStreamHandler(psh);\r\n\ttry {\r\n\t    exec.execute(cl, resultHandler);\r\n\t    int i = 0;\r\n\t    while (true) {\r\n\t\t    String o = out.toString();\r\n\t\t    if (!o.trim().isEmpty()) {\r\n\t\t        System.out.println(o);\r\n\t\t        out.reset();\r\n\t\t    }\r\n            // --- PROBLEM start ---\r\n\t\t    if (i == 3) {\r\n\t\t        writer.write(internalProcessCommand); \r\n                // string with or without trailing \\n, both tested\r\n\t\t        writer.flush();\r\n\t\t        writer.close();\r\n                // tested even ins.write(internalProcessCommand.getBytes())\r\n\t\t    }\r\n            // --- PROBLEM end ---\r\n\t\t    Thread.sleep(3000);\r\n\t\t    i++;\r\n\t    }\r\n\t} catch (ExecuteException e) {\r\n\t    System.err.println(e.getMessage());\r\n\t}\r\n\r\nI hope my code is clear. I continuously read `out` and print it after 3 seconds while clearing stream. Problem is input to `in` passed to `PumpStreamHandler`. I need to pass process commands from code itself, continuously and dynamically as if I was interacting with process through CLI. When I simply use `System.in` as `PumpStreamHandler` argument, I can write process commands from console fine. How can I manage to have same result passing strings from code?\r\n\r\n**Edit:** \r\nI also tried to connect `PipedInputStream` receiving data from `PipedOutputStream`, but it seems that data can be read only after closing `PipedOutputStream` which makes it un-reusable thus I can&#39;t achieve interactivity.\r\n\r\n**Edit 2:**\r\nSolved myself. Solution in answer below. Howgh. :-)","title":"Apache Commons exec PumpStreamHandler continuous input","body":"<p>I am trying to solve interaction with command line process using Apache Commons exec. I'm stuck with following code:</p>\n\n<pre><code>ByteArrayOutputStream out = new ByteArrayOutputStream();\nByteArrayOutputStream ins = new ByteArrayOutputStream();\nOutputStreamWriter ow = new OutputStreamWriter(ins);\nBufferedWriter writer = new BufferedWriter(ow);\nByteArrayInputStream in = new ByteArrayInputStream(ins.toByteArray());\nPumpStreamHandler psh = new PumpStreamHandler(out, null, in);\nCommandLine cl = CommandLine.parse(initProcess);\nDefaultExecutor exec = new DefaultExecutor();\nDefaultExecuteResultHandler resultHandler = new DefaultExecuteResultHandler();\nexec.setStreamHandler(psh);\ntry {\n    exec.execute(cl, resultHandler);\n    int i = 0;\n    while (true) {\n        String o = out.toString();\n        if (!o.trim().isEmpty()) {\n            System.out.println(o);\n            out.reset();\n        }\n        // --- PROBLEM start ---\n        if (i == 3) {\n            writer.write(internalProcessCommand); \n            // string with or without trailing \\n, both tested\n            writer.flush();\n            writer.close();\n            // tested even ins.write(internalProcessCommand.getBytes())\n        }\n        // --- PROBLEM end ---\n        Thread.sleep(3000);\n        i++;\n    }\n} catch (ExecuteException e) {\n    System.err.println(e.getMessage());\n}\n</code></pre>\n\n<p>I hope my code is clear. I continuously read <code>out</code> and print it after 3 seconds while clearing stream. Problem is input to <code>in</code> passed to <code>PumpStreamHandler</code>. I need to pass process commands from code itself, continuously and dynamically as if I was interacting with process through CLI. When I simply use <code>System.in</code> as <code>PumpStreamHandler</code> argument, I can write process commands from console fine. How can I manage to have same result passing strings from code?</p>\n\n<p><strong>Edit:</strong> \nI also tried to connect <code>PipedInputStream</code> receiving data from <code>PipedOutputStream</code>, but it seems that data can be read only after closing <code>PipedOutputStream</code> which makes it un-reusable thus I can't achieve interactivity.</p>\n\n<p><strong>Edit 2:</strong>\nSolved myself. Solution in answer below. Howgh. :-)</p>\n"},{"tags":["java","sql","persistence","persistence.xml"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":1,"creation_date":1369728914,"post_id":16786587,"comment_id":24189882,"body_markdown":"Your psql command tells nothing about &quot;mydb&quot; - it just connects to the default DB. Try to connect to mydb or see if it&#39;s there (I suppose that was &quot;\\l&quot;, have no Postgresql here)","body":"Your psql command tells nothing about &quot;mydb&quot; - it just connects to the default DB. Try to connect to mydb or see if it&#39;s there (I suppose that was &quot;\\l&quot;, have no Postgresql here)"},{"owner":{"account_id":1798222,"reputation":319,"user_id":1637142,"display_name":"Hassan Shahid"},"score":0,"creation_date":1371593157,"post_id":16786587,"comment_id":24877187,"body_markdown":"Your persistence.xml file suggests the database it should be connecting to is called magick, but your STDERR suggests it&#39;s trying to connect to a database called mydb.  Unless you purposely changed that in the copy/paste, it doesn&#39;t seem like it&#39;s even using that configuration.","body":"Your persistence.xml file suggests the database it should be connecting to is called magick, but your STDERR suggests it&#39;s trying to connect to a database called mydb.  Unless you purposely changed that in the copy/paste, it doesn&#39;t seem like it&#39;s even using that configuration."}],"answers":[{"tags":[],"owner":{"account_id":1317232,"reputation":3875,"user_id":1263837,"accept_rate":11,"display_name":"Kundan Atre"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388060282,"creation_date":1388060282,"answer_id":20784703,"question_id":16786587,"body_markdown":"In my case it was because of wrong username and password given. ","title":"PSQLException: FATAL: database &quot;mydb&quot; does not exist","body":"<p>In my case it was because of wrong username and password given. </p>\n"}],"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8166,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699704095,"creation_date":1369727273,"question_id":16786587,"body_markdown":"I&#39;m having a weird problem with my app trying to connect to PostgreSQL with Jdbc driver version: 8.4-702.jdbc4\r\n\r\nIt seems it can&#39;t find the DB defined in the persistence.xml where it&#39;s there.\r\n\r\n**Error:**\r\n\r\n    [INFO] Caused by: org.postgresql.util.PSQLException: FATAL: database &quot;mydb&quot; does not exist\r\n    [INFO] \tat org.postgresql.core.v3.ConnectionFactoryImpl.readStartupMessages(ConnectionFactoryImpl.java:464)\r\n    [INFO] \tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:112)\r\n    [INFO] \tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)\r\n    [INFO] \tat org.postgresql.jdbc2.AbstractJdbc2Connection.&lt;init&gt;(AbstractJdbc2Connection.java:125)\r\n    [INFO] \tat org.postgresql.jdbc3.AbstractJdbc3Connection.&lt;init&gt;(AbstractJdbc3Connection.java:30)\r\n    [INFO] \tat org.postgresql.jdbc3g.AbstractJdbc3gConnection.&lt;init&gt;(AbstractJdbc3gConnection.java:22)\r\n    [INFO] \tat org.postgresql.jdbc4.AbstractJdbc4Connection.&lt;init&gt;(AbstractJdbc4Connection.java:30)\r\n    [INFO] \tat org.postgresql.jdbc4.Jdbc4Connection.&lt;init&gt;(Jdbc4Connection.java:24)\r\n    [INFO] \tat org.postgresql.Driver.makeConnection(Driver.java:393)\r\n    [INFO] \tat org.postgresql.Driver.connect(Driver.java:267)\r\n    [INFO] \tat java.sql.DriverManager.getConnection(DriverManager.java:579)\r\n    [INFO] \tat java.sql.DriverManager.getConnection(DriverManager.java:221)\r\n    [INFO] \tat org.postgresql.ds.common.BaseDataSource.getConnection(BaseDataSource.java:89)\r\n    [INFO] \tat org.postgresql.ds.common.BaseDataSource.getConnection(BaseDataSource.java:72)\r\n    [INFO] \tat org.apache.shiro.realm.jdbc.JdbcRealm.doGetAuthenticationInfo(JdbcRealm.java:215\r\n\r\nHowever I can do this w/o problems in the shell:\r\n\r\n    $ psql -U postgres -h 192.168.145.128\r\n\r\n**persistence.xml**\r\n\r\n      &lt;properties&gt;\r\n         &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n\t     &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql://192.168.145.128:5432/mydb&quot; /&gt;\r\n\t     &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\r\n \t     &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;postgres&quot; /&gt; \r\n \t     &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;postgres&quot; /&gt; \r\n      &lt;/properties&gt;\r\n\r\nWhat could be the problem? ","title":"PSQLException: FATAL: database &quot;mydb&quot; does not exist","body":"<p>I'm having a weird problem with my app trying to connect to PostgreSQL with Jdbc driver version: 8.4-702.jdbc4</p>\n\n<p>It seems it can't find the DB defined in the persistence.xml where it's there.</p>\n\n<p><strong>Error:</strong></p>\n\n<pre><code>[INFO] Caused by: org.postgresql.util.PSQLException: FATAL: database \"mydb\" does not exist\n[INFO]  at org.postgresql.core.v3.ConnectionFactoryImpl.readStartupMessages(ConnectionFactoryImpl.java:464)\n[INFO]  at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:112)\n[INFO]  at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)\n[INFO]  at org.postgresql.jdbc2.AbstractJdbc2Connection.&lt;init&gt;(AbstractJdbc2Connection.java:125)\n[INFO]  at org.postgresql.jdbc3.AbstractJdbc3Connection.&lt;init&gt;(AbstractJdbc3Connection.java:30)\n[INFO]  at org.postgresql.jdbc3g.AbstractJdbc3gConnection.&lt;init&gt;(AbstractJdbc3gConnection.java:22)\n[INFO]  at org.postgresql.jdbc4.AbstractJdbc4Connection.&lt;init&gt;(AbstractJdbc4Connection.java:30)\n[INFO]  at org.postgresql.jdbc4.Jdbc4Connection.&lt;init&gt;(Jdbc4Connection.java:24)\n[INFO]  at org.postgresql.Driver.makeConnection(Driver.java:393)\n[INFO]  at org.postgresql.Driver.connect(Driver.java:267)\n[INFO]  at java.sql.DriverManager.getConnection(DriverManager.java:579)\n[INFO]  at java.sql.DriverManager.getConnection(DriverManager.java:221)\n[INFO]  at org.postgresql.ds.common.BaseDataSource.getConnection(BaseDataSource.java:89)\n[INFO]  at org.postgresql.ds.common.BaseDataSource.getConnection(BaseDataSource.java:72)\n[INFO]  at org.apache.shiro.realm.jdbc.JdbcRealm.doGetAuthenticationInfo(JdbcRealm.java:215\n</code></pre>\n\n<p>However I can do this w/o problems in the shell:</p>\n\n<pre><code>$ psql -U postgres -h 192.168.145.128\n</code></pre>\n\n<p><strong>persistence.xml</strong></p>\n\n<pre><code>  &lt;properties&gt;\n     &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"update\"/&gt;\n     &lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:postgresql://192.168.145.128:5432/mydb\" /&gt;\n     &lt;property name=\"javax.persistence.jdbc.driver\" value=\"org.postgresql.Driver\" /&gt;\n     &lt;property name=\"javax.persistence.jdbc.user\" value=\"postgres\" /&gt; \n     &lt;property name=\"javax.persistence.jdbc.password\" value=\"postgres\" /&gt; \n  &lt;/properties&gt;\n</code></pre>\n\n<p>What could be the problem? </p>\n"},{"tags":["java","selenium","screenshot","testng"],"answers":[{"comments":[{"owner":{"account_id":1584933,"reputation":121,"user_id":1469519,"accept_rate":0,"display_name":"Vlad"},"score":0,"creation_date":1394816437,"post_id":11131419,"comment_id":34075830,"body_markdown":"Hi Satish, thank you for your answer but I guess I was asking a different question. I modified my original comment to clarify my problem.","body":"Hi Satish, thank you for your answer but I guess I was asking a different question. I modified my original comment to clarify my problem."}],"tags":[],"owner":{"account_id":1533549,"reputation":226,"user_id":1430147,"accept_rate":71,"display_name":"satish john"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340252316,"creation_date":1340252316,"answer_id":11131419,"question_id":11122261,"body_markdown":"I have also implemented the same extending Testng TestListenerAdapter. By capturing the screenshot then attach it to the Testng Report with the image of size height=100 and width=100 with onTestFailure. Please see below if this helps solve your problem\r\n\r\n\t\tFile scrFile = ((TakesScreenshot) WebdriverManager.globalDriverInstance).getScreenshotAs(OutputType.FILE);\r\n\t      //Needs Commons IO library\r\n\t      try {\r\n\t\t\tFileUtils.copyFile(scrFile, new File(file.getAbsolutePath()+ &quot;/selenium-reports/html/&quot; + result.getName() + &quot;.jpg&quot;));\r\n\t\t\tReporter.log(&quot;&lt;a href=&#39;&quot;+ file.getAbsolutePath()+&quot;/selenium-reports/html/&quot; + result.getName() + &quot;.jpg&#39;&gt; &lt;img src=&#39;&quot;+ file.getAbsolutePath()+&quot;/selenium-reports/html/&quot;+ result.getName() + &quot;.jpg&#39; height=&#39;100&#39; width=&#39;100&#39;/&gt; &lt;/a&gt;&quot;);\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tReporter.setCurrentTestResult(null);","title":"Attaching screenshots to TestNG Failed methods results","body":"<p>I have also implemented the same extending Testng TestListenerAdapter. By capturing the screenshot then attach it to the Testng Report with the image of size height=100 and width=100 with onTestFailure. Please see below if this helps solve your problem</p>\n\n<pre><code>    File scrFile = ((TakesScreenshot) WebdriverManager.globalDriverInstance).getScreenshotAs(OutputType.FILE);\n      //Needs Commons IO library\n      try {\n        FileUtils.copyFile(scrFile, new File(file.getAbsolutePath()+ \"/selenium-reports/html/\" + result.getName() + \".jpg\"));\n        Reporter.log(\"&lt;a href='\"+ file.getAbsolutePath()+\"/selenium-reports/html/\" + result.getName() + \".jpg'&gt; &lt;img src='\"+ file.getAbsolutePath()+\"/selenium-reports/html/\"+ result.getName() + \".jpg' height='100' width='100'/&gt; &lt;/a&gt;\");\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    Reporter.setCurrentTestResult(null);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1584933,"reputation":121,"user_id":1469519,"accept_rate":0,"display_name":"Vlad"},"score":0,"creation_date":1394816576,"post_id":16574765,"comment_id":34075926,"body_markdown":"Thanks for response Kamal. I modified my question with more details and screenshot to illustrate my problem.","body":"Thanks for response Kamal. I modified my question with more details and screenshot to illustrate my problem."}],"tags":[],"owner":{"account_id":2432062,"reputation":1,"user_id":2387423,"display_name":"Kamal Chhajed"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368651125,"creation_date":1368651125,"answer_id":16574765,"question_id":11122261,"body_markdown":"In addition to above don&#39;t forget to add following lines to your testng suite xml\r\n\r\n    &lt;listeners&gt;\r\n    \t&lt;listener class-name=&quot;com.tests.DotTestListener&quot; /&gt;\r\n    &lt;/listeners&gt;\r\n\r\n**OR** \r\n\r\npassing as listner parameter if you are executing it from command line\r\n\r\n    java -classpath testng.jar;%CLASSPATH% org.testng.TestNG -listener com.tests.DotTestListener test\\testng.xml\r\n\r\nReference : http://testng.org/doc/documentation-main.html#logging-listeners","title":"Attaching screenshots to TestNG Failed methods results","body":"<p>In addition to above don't forget to add following lines to your testng suite xml</p>\n\n<pre><code>&lt;listeners&gt;\n    &lt;listener class-name=\"com.tests.DotTestListener\" /&gt;\n&lt;/listeners&gt;\n</code></pre>\n\n<p><strong>OR</strong> </p>\n\n<p>passing as listner parameter if you are executing it from command line</p>\n\n<pre><code>java -classpath testng.jar;%CLASSPATH% org.testng.TestNG -listener com.tests.DotTestListener test\\testng.xml\n</code></pre>\n\n<p>Reference : <a href=\"http://testng.org/doc/documentation-main.html#logging-listeners\" rel=\"nofollow\">http://testng.org/doc/documentation-main.html#logging-listeners</a></p>\n"},{"tags":[],"owner":{"account_id":3819061,"reputation":1,"user_id":3167606,"display_name":"Vinh Trang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397612809,"creation_date":1397612809,"answer_id":23097558,"question_id":11122261,"body_markdown":"I&#39;ve had same problem but it solved. By implementing SuitePanel you will be able to add screenshot as you want\r\nhttps://github.com/cbeust/testng/blob/master/src/main/java/org/testng/reporters/jq/SuitePanel.java\r\n\r\nI almost don&#39;t change the original code except \r\n\r\n\r\n\t... \r\n\t// Description?\r\n    String description = tr.getMethod().getDescription();\r\n    if (! Strings.isNullOrEmpty(description)) {\r\n        xsb.push(&quot;em&quot;);\r\n        xsb.addString(&quot;(&quot; + description + &quot;)&quot;);\r\n        xsb.pop(&quot;em&quot;);\r\n    }\r\n\t// Add screen shot here\r\n\txsb.push(“img”,”src”,imagePath);\r\n\txsb.pop(“img”);\r\n\r\n    xsb.pop(D);\r\n    xsb.pop(D);\r\n","title":"Attaching screenshots to TestNG Failed methods results","body":"<p>I've had same problem but it solved. By implementing SuitePanel you will be able to add screenshot as you want\n<a href=\"https://github.com/cbeust/testng/blob/master/src/main/java/org/testng/reporters/jq/SuitePanel.java\" rel=\"nofollow\">https://github.com/cbeust/testng/blob/master/src/main/java/org/testng/reporters/jq/SuitePanel.java</a></p>\n\n<p>I almost don't change the original code except </p>\n\n<pre><code>... \n// Description?\nString description = tr.getMethod().getDescription();\nif (! Strings.isNullOrEmpty(description)) {\n    xsb.push(\"em\");\n    xsb.addString(\"(\" + description + \")\");\n    xsb.pop(\"em\");\n}\n// Add screen shot here\nxsb.push(“img”,”src”,imagePath);\nxsb.pop(“img”);\n\nxsb.pop(D);\nxsb.pop(D);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2050353,"reputation":4625,"user_id":1829500,"accept_rate":57,"display_name":"Mrunal Gosar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466402655,"creation_date":1466402655,"answer_id":37915513,"question_id":11122261,"body_markdown":"If you want to show the screen shot on the failed method then you will have to capture the exception and modify its message content and add img html to that and then it will appear. Let me know if you need example","title":"Attaching screenshots to TestNG Failed methods results","body":"<p>If you want to show the screen shot on the failed method then you will have to capture the exception and modify its message content and add img html to that and then it will appear. Let me know if you need example</p>\n"},{"tags":[],"owner":{"account_id":2300729,"reputation":71,"user_id":2021076,"accept_rate":60,"display_name":"AnkitSingh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504855886,"creation_date":1504855577,"answer_id":46110919,"question_id":11122261,"body_markdown":"I had same issue but its fixed now. I made a method to catcher screenshot in base class. this method return full path of screenshot. \r\n\r\n    public String getScreenshot (String screenshotName, WebDriver driver) throws IOException{\r\n\t\tDateFormat dateformate = new SimpleDateFormat(&quot;dd-mm-yy-hh-mm-ss&quot;);\r\n\t\tDate date = new Date();\r\n\t\tString currentdate = dateformate.format(date);\r\n\t\tString imageName =screenshotName+currentdate;\r\n\t\tTakesScreenshot ts=(TakesScreenshot)driver;\r\n\t\tFile source=ts.getScreenshotAs(OutputType.FILE);\r\n\t\tString location =System.getProperty(&quot;user.dir&quot;)+&quot;\\\\testOutput\\\\screenshot\\\\&quot;+imageName+&quot;.png&quot;;\r\n\t\tFile screenshotLocation =new File (location);\r\n\t\tFileUtils.copyFile(source, screenshotLocation);\r\n\t\treturn location;\r\n\r\n\t}\r\n\r\nAdd use this path to add screenshot in testng report as well as report log by updating testng TestNgListener- \r\n\r\n    public void onTestFailure(ITestResult arg0) {\r\n\t\tObject currentClass = arg0.getInstance();\r\n\t\tWebDriver driver = ((BrowserSetup) currentClass).getDriver();\r\n\t\tString name = arg0.getName();\r\n\t\tSystem.out.println(name);\r\n\t\ttry {\r\n\t\t\tString screenshotPath =getScreenshot(name, driver);\r\n\t\t\tSystem.out.println(&quot;Screenshot taken&quot;);\r\n\t\t\tString path = &quot;&lt;img src=\\&quot;file://&quot; + screenshotPath + &quot;\\&quot; alt=\\&quot;\\&quot;/&gt;&quot;;\r\n\t\t\tSystem.out.println(screenshotPath+&quot; and path - &quot;+path);\r\n\t\t\tReporter.log(&quot;Capcher screenshot path is &quot;+path);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Exception while takescreenshot &quot;+e.getMessage());\r\n\t\t}\r\n\t\tprintTestResults(arg0);\r\n\r\n\t}\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DWTjG.png","title":"Attaching screenshots to TestNG Failed methods results","body":"<p>I had same issue but its fixed now. I made a method to catcher screenshot in base class. this method return full path of screenshot. </p>\n\n<pre><code>public String getScreenshot (String screenshotName, WebDriver driver) throws IOException{\n    DateFormat dateformate = new SimpleDateFormat(\"dd-mm-yy-hh-mm-ss\");\n    Date date = new Date();\n    String currentdate = dateformate.format(date);\n    String imageName =screenshotName+currentdate;\n    TakesScreenshot ts=(TakesScreenshot)driver;\n    File source=ts.getScreenshotAs(OutputType.FILE);\n    String location =System.getProperty(\"user.dir\")+\"\\\\testOutput\\\\screenshot\\\\\"+imageName+\".png\";\n    File screenshotLocation =new File (location);\n    FileUtils.copyFile(source, screenshotLocation);\n    return location;\n\n}\n</code></pre>\n\n<p>Add use this path to add screenshot in testng report as well as report log by updating testng TestNgListener- </p>\n\n<pre><code>public void onTestFailure(ITestResult arg0) {\n    Object currentClass = arg0.getInstance();\n    WebDriver driver = ((BrowserSetup) currentClass).getDriver();\n    String name = arg0.getName();\n    System.out.println(name);\n    try {\n        String screenshotPath =getScreenshot(name, driver);\n        System.out.println(\"Screenshot taken\");\n        String path = \"&lt;img src=\\\"file://\" + screenshotPath + \"\\\" alt=\\\"\\\"/&gt;\";\n        System.out.println(screenshotPath+\" and path - \"+path);\n        Reporter.log(\"Capcher screenshot path is \"+path);\n    } catch (Exception e) {\n        System.out.println(\"Exception while takescreenshot \"+e.getMessage());\n    }\n    printTestResults(arg0);\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/DWTjG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DWTjG.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5006535,"reputation":1029,"user_id":4024038,"accept_rate":83,"display_name":"Nael Marwan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520835858,"creation_date":1520835858,"answer_id":49229227,"question_id":11122261,"body_markdown":"I suggest you to use ReportNG instead of the primitive TestNG reports.","title":"Attaching screenshots to TestNG Failed methods results","body":"<p>I suggest you to use ReportNG instead of the primitive TestNG reports.</p>\n"},{"tags":[],"owner":{"account_id":8986403,"reputation":292,"user_id":6699861,"display_name":"Serhii Matvienko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578836158,"creation_date":1578836158,"answer_id":59704346,"question_id":11122261,"body_markdown":"\r\nIf the problem only with getting screenshots, you can try to get it like this:\r\n\r\n\r\n    private static byte[] GetCropImg(IWebDriver targetChrome, IWebElement targetElement)\r\n            {\r\n                var screenshot = ((ITakesScreenshot)targetChrome).GetScreenshot();\r\n                var location = targetElement.Location;\r\n                using (MemoryStream stream = new MemoryStream(screenshot.AsByteArray))\r\n                {\r\n                    var rect = new Rectangle(location.X, location.Y, targetElement.Size.Width, targetElement.Size.Height);\r\n                    using (Bitmap bmpImage = new Bitmap(stream))\r\n                    {\r\n                        using (Bitmap cropedImag = bmpImage.Clone(rect, bmpImage.PixelFormat))\r\n                        {\r\n                            using (MemoryStream ms = new MemoryStream())\r\n                            {\r\n                                cropedImag.Save(ms, ImageFormat.Jpeg);\r\n                                \r\n                                byte[] byteImage = ms.ToArray();\r\n                                return byteImage;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\nand then you can save file or save sting64\r\n\r\n    var imgString64 = Convert.ToBase64String(byteImage); //Get Base64\r\n\r\nPS: on JAVA it should be almost the same)","title":"Attaching screenshots to TestNG Failed methods results","body":"<p>If the problem only with getting screenshots, you can try to get it like this:</p>\n\n<pre><code>private static byte[] GetCropImg(IWebDriver targetChrome, IWebElement targetElement)\n        {\n            var screenshot = ((ITakesScreenshot)targetChrome).GetScreenshot();\n            var location = targetElement.Location;\n            using (MemoryStream stream = new MemoryStream(screenshot.AsByteArray))\n            {\n                var rect = new Rectangle(location.X, location.Y, targetElement.Size.Width, targetElement.Size.Height);\n                using (Bitmap bmpImage = new Bitmap(stream))\n                {\n                    using (Bitmap cropedImag = bmpImage.Clone(rect, bmpImage.PixelFormat))\n                    {\n                        using (MemoryStream ms = new MemoryStream())\n                        {\n                            cropedImag.Save(ms, ImageFormat.Jpeg);\n\n                            byte[] byteImage = ms.ToArray();\n                            return byteImage;\n                        }\n                    }\n                }\n            }\n        }\n</code></pre>\n\n<p>and then you can save file or save sting64</p>\n\n<pre><code>var imgString64 = Convert.ToBase64String(byteImage); //Get Base64\n</code></pre>\n\n<p>PS: on JAVA it should be almost the same)</p>\n"},{"tags":[],"owner":{"account_id":8037196,"reputation":958,"user_id":6059967,"display_name":"Justin Lambert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592482438,"creation_date":1592482438,"answer_id":62449730,"question_id":11122261,"body_markdown":"[![enter image description here][1]][1]you can get failed test cases screen shots with name of failed test class by using @After method.\r\nUse below code segment\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n0OJy.png\r\n  [2]: https://i.stack.imgur.com/HlRTq.png","title":"Attaching screenshots to TestNG Failed methods results","body":"<p><a href=\"https://i.stack.imgur.com/n0OJy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n0OJy.png\" alt=\"enter image description here\"></a>you can get failed test cases screen shots with name of failed test class by using @After method.\nUse below code segment\n<a href=\"https://i.stack.imgur.com/HlRTq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HlRTq.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":1584933,"reputation":121,"user_id":1469519,"accept_rate":0,"display_name":"Vlad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14192,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":8,"score":7,"last_activity_date":1699704095,"creation_date":1340204025,"question_id":11122261,"body_markdown":"I am looking for a way to attach a screenshot to Results section of TestNG Report for the failed methods.\r\n\r\nSo far I was able to attache my screenshots to Reporter Output by implementing this:\r\n\r\n   `Reporter.log(&quot;&lt;br&gt; &lt;img src=.\\\\screenshots\\\\&quot; + fileName  + &quot; /&gt; &lt;br&gt;&quot;);` \r\n\r\nbut still struggling with adding them to Test Results section of failed methods.\r\n\r\nI was able to implement Listener and intercept onTestFailure actions which was originally suggested here: \r\nhttps://stackoverflow.com/questions/8939337/how-can-i-include-a-failure-screenshot-to-the-testng-report\r\n\r\nHere is an example of that:\r\n\r\n    \t@Override\r\n    public void onTestFailure(ITestResult result) { \r\n\t\tReporter.setCurrentTestResult(result); \r\n\t\tReporter.log(&quot;&lt;br&gt; &lt;img src=.\\\\screenshots\\\\Untitled.png /&gt; &lt;br&gt;&quot;);\r\n\t\tReporter.setCurrentTestResult(null); \r\n\t}\r\n\r\nBut Reporter.log function still pushes my information in the Reporter output log but not in the Results-&gt;Failed methods-&gt;Failed method log.\r\n\r\nUpdate (03/14/14): I&#39;ve attached screenshot to clarify my question. The problem is not in capturing screenshot and attaching it to Report. That part works fine. The problem is that screenshot is attached to Test Output part of the report but I want to see it in Results -&gt; Failed Methods.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/66mhp.jpg","title":"Attaching screenshots to TestNG Failed methods results","body":"<p>I am looking for a way to attach a screenshot to Results section of TestNG Report for the failed methods.</p>\n\n<p>So far I was able to attache my screenshots to Reporter Output by implementing this:</p>\n\n<p><code>Reporter.log(\"&lt;br&gt; &lt;img src=.\\\\screenshots\\\\\" + fileName  + \" /&gt; &lt;br&gt;\");</code> </p>\n\n<p>but still struggling with adding them to Test Results section of failed methods.</p>\n\n<p>I was able to implement Listener and intercept onTestFailure actions which was originally suggested here: \n<a href=\"https://stackoverflow.com/questions/8939337/how-can-i-include-a-failure-screenshot-to-the-testng-report\">How can I include a failure screenshot to the testNG report</a></p>\n\n<p>Here is an example of that:</p>\n\n<pre><code>    @Override\npublic void onTestFailure(ITestResult result) { \n    Reporter.setCurrentTestResult(result); \n    Reporter.log(\"&lt;br&gt; &lt;img src=.\\\\screenshots\\\\Untitled.png /&gt; &lt;br&gt;\");\n    Reporter.setCurrentTestResult(null); \n}\n</code></pre>\n\n<p>But Reporter.log function still pushes my information in the Reporter output log but not in the Results->Failed methods->Failed method log.</p>\n\n<p>Update (03/14/14): I've attached screenshot to clarify my question. The problem is not in capturing screenshot and attaching it to Report. That part works fine. The problem is that screenshot is attached to Test Output part of the report but I want to see it in Results -> Failed Methods.</p>\n\n<p><img src=\"https://i.stack.imgur.com/66mhp.jpg\" alt=\"enter image description here\"></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9849,"page":68,"page_size":100}
