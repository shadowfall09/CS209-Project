{"items":[{"tags":["java","android","image","contacts"],"comments":[{"owner":{"account_id":158465,"reputation":4774,"user_id":377142,"display_name":"Josiah"},"score":0,"creation_date":1374503011,"post_id":17789256,"comment_id":25951249,"body_markdown":"What permissions do you have in your AndroidManifest.xml? The contact picker provides a temporary READ permission on the URI retrieved, but you need to set the WRITE_CONTACTS permission in order to actually update a contact.","body":"What permissions do you have in your AndroidManifest.xml? The contact picker provides a temporary READ permission on the URI retrieved, but you need to set the WRITE_CONTACTS permission in order to actually update a contact."},{"owner":{"account_id":2670341,"reputation":328,"user_id":2307896,"accept_rate":75,"display_name":"Tristan"},"score":0,"creation_date":1374503655,"post_id":17789256,"comment_id":25951709,"body_markdown":"I have both READ and WRITE_CONTACT permission.","body":"I have both READ and WRITE_CONTACT permission."}],"answers":[{"tags":[],"owner":{"account_id":6683016,"reputation":3874,"user_id":5155422,"accept_rate":31,"display_name":"Rajesh Satvara"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656402811,"creation_date":1486788126,"answer_id":42172321,"question_id":17789256,"body_markdown":"    String contactId = &quot;10001&quot;; // change it as your IDs\r\n    if (mBitmap != null) {\r\n        // Picture\r\n        try {\r\n            ByteArrayOutputStream image = new ByteArrayOutputStream();\r\n            mBitmap.compress(Bitmap.CompressFormat.JPEG, 100, image);\r\n\r\n            Uri rawContactUri = null;\r\n            Cursor rawContactCursor = managedQuery(\r\n                ContactsContract.RawContacts.CONTENT_URI,\r\n                new String[] {\r\n                    ContactsContract.RawContacts._ID\r\n                },\r\n                ContactsContract.RawContacts.CONTACT_ID + &quot; = &quot; + contactId,\r\n                null,\r\n                null);\r\n            if (!rawContactCursor.isAfterLast()) {\r\n                rawContactCursor.moveToFirst();\r\n                rawContactUri = ContactsContract.RawContacts.CONTENT_URI.buildUpon().appendPath(&quot;&quot; + rawContactCursor.getLong(0)).build();\r\n            }\r\n            rawContactCursor.close();\r\n\r\n            ContentValues values = new ContentValues();\r\n            int photoRow = -1;\r\n            String where111 = ContactsContract.Data.RAW_CONTACT_ID + &quot; == &quot; +\r\n                ContentUris.parseId(rawContactUri) + &quot; AND &quot; + ContactsContract.Data.MIMETYPE + &quot;==&#39;&quot; +\r\n                ContactsContract.CommonDataKinds.Photo.CONTENT_ITEM_TYPE + &quot;&#39;&quot;;\r\n            Cursor cursor = managedQuery(\r\n                ContactsContract.Data.CONTENT_URI,\r\n                null,\r\n                where111,\r\n                null,\r\n                null);\r\n            int idIdx = cursor.getColumnIndexOrThrow(ContactsContract.Data._ID);\r\n            if (cursor.moveToFirst()) {\r\n                photoRow = cursor.getInt(idIdx);\r\n            }\r\n\r\n            cursor.close();\r\n\r\n\r\n            values.put(ContactsContract.Data.RAW_CONTACT_ID,\r\n                ContentUris.parseId(rawContactUri));\r\n            values.put(ContactsContract.Data.IS_SUPER_PRIMARY, 1);\r\n            values.put(ContactsContract.CommonDataKinds.Photo.PHOTO, image.toByteArray());\r\n            values.put(ContactsContract.Data.MIMETYPE,\r\n                ContactsContract.CommonDataKinds.Photo.CONTENT_ITEM_TYPE);\r\n            if (photoRow &gt;= 0) {\r\n                getContentResolver().update(\r\n                    ContactsContract.Data.CONTENT_URI,\r\n                    values,\r\n                    ContactsContract.Data._ID + &quot; = &quot; + photoRow, null);\r\n            } else {\r\n                getContentResolver().insert(\r\n                    ContactsContract.Data.CONTENT_URI,\r\n                    values);\r\n            }\r\n        } catch (Exception e) {\r\n            Log.e(&quot;!_@@Image_Exception&quot;, e + &quot;&quot;);\r\n        }\r\n    }\r\n    try {\r\n        getContentResolver().applyBatch(ContactsContract.AUTHORITY, ops);\r\n    } catch (Exception e) {\r\n        Log.e(&quot;@@@@@UPLOADERR&quot;, e + &quot;&quot;);\r\n    }","title":"Change contact picture programmatically","body":"<pre><code>String contactId = &quot;10001&quot;; // change it as your IDs\nif (mBitmap != null) {\n    // Picture\n    try {\n        ByteArrayOutputStream image = new ByteArrayOutputStream();\n        mBitmap.compress(Bitmap.CompressFormat.JPEG, 100, image);\n\n        Uri rawContactUri = null;\n        Cursor rawContactCursor = managedQuery(\n            ContactsContract.RawContacts.CONTENT_URI,\n            new String[] {\n                ContactsContract.RawContacts._ID\n            },\n            ContactsContract.RawContacts.CONTACT_ID + &quot; = &quot; + contactId,\n            null,\n            null);\n        if (!rawContactCursor.isAfterLast()) {\n            rawContactCursor.moveToFirst();\n            rawContactUri = ContactsContract.RawContacts.CONTENT_URI.buildUpon().appendPath(&quot;&quot; + rawContactCursor.getLong(0)).build();\n        }\n        rawContactCursor.close();\n\n        ContentValues values = new ContentValues();\n        int photoRow = -1;\n        String where111 = ContactsContract.Data.RAW_CONTACT_ID + &quot; == &quot; +\n            ContentUris.parseId(rawContactUri) + &quot; AND &quot; + ContactsContract.Data.MIMETYPE + &quot;=='&quot; +\n            ContactsContract.CommonDataKinds.Photo.CONTENT_ITEM_TYPE + &quot;'&quot;;\n        Cursor cursor = managedQuery(\n            ContactsContract.Data.CONTENT_URI,\n            null,\n            where111,\n            null,\n            null);\n        int idIdx = cursor.getColumnIndexOrThrow(ContactsContract.Data._ID);\n        if (cursor.moveToFirst()) {\n            photoRow = cursor.getInt(idIdx);\n        }\n\n        cursor.close();\n\n\n        values.put(ContactsContract.Data.RAW_CONTACT_ID,\n            ContentUris.parseId(rawContactUri));\n        values.put(ContactsContract.Data.IS_SUPER_PRIMARY, 1);\n        values.put(ContactsContract.CommonDataKinds.Photo.PHOTO, image.toByteArray());\n        values.put(ContactsContract.Data.MIMETYPE,\n            ContactsContract.CommonDataKinds.Photo.CONTENT_ITEM_TYPE);\n        if (photoRow &gt;= 0) {\n            getContentResolver().update(\n                ContactsContract.Data.CONTENT_URI,\n                values,\n                ContactsContract.Data._ID + &quot; = &quot; + photoRow, null);\n        } else {\n            getContentResolver().insert(\n                ContactsContract.Data.CONTENT_URI,\n                values);\n        }\n    } catch (Exception e) {\n        Log.e(&quot;!_@@Image_Exception&quot;, e + &quot;&quot;);\n    }\n}\ntry {\n    getContentResolver().applyBatch(ContactsContract.AUTHORITY, ops);\n} catch (Exception e) {\n    Log.e(&quot;@@@@@UPLOADERR&quot;, e + &quot;&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":2670341,"reputation":328,"user_id":2307896,"accept_rate":75,"display_name":"Tristan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4599,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1656402811,"creation_date":1374500873,"question_id":17789256,"body_markdown":"I have a picture, that is stored into the android phone. I want to be able to change the picture of a contact.\r\n\r\nWhat I&#39;ve done so far is launch the contact picker, have the user select a contact, and then I get the URI of the selected contact. From this contact, I can get the associated rawContact and I use [this code][1].\r\n\r\n    Uri rawContactPhotoUri = Uri.withAppendedPath(\r\n                 ContentUris.withAppendedId(RawContacts.CONTENT_URI, rawContactId),\r\n                 RawContacts.DisplayPhoto.CONTENT_DIRECTORY);\r\n         try {\r\n             AssetFileDescriptor fd =\r\n                 getContentResolver().openAssetFileDescriptor(rawContactPhotoUri, &quot;rw&quot;);\r\n             OutputStream os = fd.createOutputStream();\r\n             os.write(photo);\r\n             os.close();\r\n             fd.close();\r\n         } catch (IOException e) {\r\n             // Handle error cases.\r\n         }\r\n\r\nThe problem is, the AssetFIleDescriptor is always empty (when I call length on it, we always get -1).\r\n\r\nI&#39;m not asking for the entire solution, just some leads to follow that can help me to get that working. I cannot seem to find this problem already on StackOverflow, so any help would be appreciated.\r\n\r\n\r\n**EDIT**\r\n\r\nIt&#39;s always when we ask for question that we find the solution.\r\nI want to share it for other\r\n\r\nSo I gave up on android link and find another one :\r\n[http://wptrafficanalyzer.in/blog/programatically-adding-contacts-with-photo-using-contacts-provider-in-android-example/][2]\r\n\r\n\r\nThe picture picker return the Uri of the selected contact, so with this you can get the Contact._ID of it :\r\n\r\n\r\n   \r\n\r\n    // This is onActivityResult\r\n    final Uri uri = data.getData();\r\n    final Cursor cursor1 = getContentResolver().query(uri, null, null, null, null);\r\n    cursor.moveToFirst();\r\n    final long contactId = cursor1.getLong(cursor1.getColumnIndex(Contacts._ID);\r\n    cursor1.close();\r\n\r\n\r\nThen I had to get the RawContactId :\r\n\r\n    final Cursor cursor2 = getContentResolver().query(RawContacts.CONTENT_URI, null,     RawContacts.Contact_ID + &quot;=?&quot;, new String[] {String.valueOf(contactId)}, null);\r\n    cursor2.moveToFirst();\r\n    final long rawContactId = cursor2.getLong(cursor2.getColumnIndex(RawContacts._ID));\r\n    cursor2.close();\r\n\r\n\r\nThen I had to get the Data._ID of the RawContacts (same way as above).\r\n\r\nThen I used the ContentProviderOperations :\r\n\r\n    final ArrayList&lt;ContentProviderOperation&gt; ops = new ArrayList&lt;ContentProviderOperation&gt;();\r\n    ops.add(ContentProviderOperation.newUpdate(Data.CONTENT_URI)\r\n        .withSelection(Data._ID, dataId),\r\n        .withValue(Data.MIMETYPE, ContactsContract.CommonDataKinds.Photo.CONTENT_ITEM_TYPE)\r\n        .withValue(ContactsContract.CommonDataKinds.Photo.PHOTO, byteArrayOfThePicture);\r\n\r\n    getContentResolver().applyBatch(ContactsContract.AUTHORITY, ops);\r\n\r\n\r\n\r\nAnd this is working like charm. Hope it helps\r\n\r\n    \r\n\r\n  [1]: http://developer.android.com/reference/android/provider/ContactsContract.RawContacts.DisplayPhoto.html\r\n  [2]: http://wptrafficanalyzer.in/blog/programatically-adding-contacts-with-photo-using-contacts-provider-in-android-example/","title":"Change contact picture programmatically","body":"<p>I have a picture, that is stored into the android phone. I want to be able to change the picture of a contact.</p>\n\n<p>What I've done so far is launch the contact picker, have the user select a contact, and then I get the URI of the selected contact. From this contact, I can get the associated rawContact and I use <a href=\"http://developer.android.com/reference/android/provider/ContactsContract.RawContacts.DisplayPhoto.html\" rel=\"nofollow\">this code</a>.</p>\n\n<pre><code>Uri rawContactPhotoUri = Uri.withAppendedPath(\n             ContentUris.withAppendedId(RawContacts.CONTENT_URI, rawContactId),\n             RawContacts.DisplayPhoto.CONTENT_DIRECTORY);\n     try {\n         AssetFileDescriptor fd =\n             getContentResolver().openAssetFileDescriptor(rawContactPhotoUri, \"rw\");\n         OutputStream os = fd.createOutputStream();\n         os.write(photo);\n         os.close();\n         fd.close();\n     } catch (IOException e) {\n         // Handle error cases.\n     }\n</code></pre>\n\n<p>The problem is, the AssetFIleDescriptor is always empty (when I call length on it, we always get -1).</p>\n\n<p>I'm not asking for the entire solution, just some leads to follow that can help me to get that working. I cannot seem to find this problem already on StackOverflow, so any help would be appreciated.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>It's always when we ask for question that we find the solution.\nI want to share it for other</p>\n\n<p>So I gave up on android link and find another one :\n<a href=\"http://wptrafficanalyzer.in/blog/programatically-adding-contacts-with-photo-using-contacts-provider-in-android-example/\" rel=\"nofollow\">http://wptrafficanalyzer.in/blog/programatically-adding-contacts-with-photo-using-contacts-provider-in-android-example/</a></p>\n\n<p>The picture picker return the Uri of the selected contact, so with this you can get the Contact._ID of it :</p>\n\n<pre><code>// This is onActivityResult\nfinal Uri uri = data.getData();\nfinal Cursor cursor1 = getContentResolver().query(uri, null, null, null, null);\ncursor.moveToFirst();\nfinal long contactId = cursor1.getLong(cursor1.getColumnIndex(Contacts._ID);\ncursor1.close();\n</code></pre>\n\n<p>Then I had to get the RawContactId :</p>\n\n<pre><code>final Cursor cursor2 = getContentResolver().query(RawContacts.CONTENT_URI, null,     RawContacts.Contact_ID + \"=?\", new String[] {String.valueOf(contactId)}, null);\ncursor2.moveToFirst();\nfinal long rawContactId = cursor2.getLong(cursor2.getColumnIndex(RawContacts._ID));\ncursor2.close();\n</code></pre>\n\n<p>Then I had to get the Data._ID of the RawContacts (same way as above).</p>\n\n<p>Then I used the ContentProviderOperations :</p>\n\n<pre><code>final ArrayList&lt;ContentProviderOperation&gt; ops = new ArrayList&lt;ContentProviderOperation&gt;();\nops.add(ContentProviderOperation.newUpdate(Data.CONTENT_URI)\n    .withSelection(Data._ID, dataId),\n    .withValue(Data.MIMETYPE, ContactsContract.CommonDataKinds.Photo.CONTENT_ITEM_TYPE)\n    .withValue(ContactsContract.CommonDataKinds.Photo.PHOTO, byteArrayOfThePicture);\n\ngetContentResolver().applyBatch(ContactsContract.AUTHORITY, ops);\n</code></pre>\n\n<p>And this is working like charm. Hope it helps</p>\n"},{"tags":["java","multidimensional-array","convolution"],"answers":[{"tags":[],"owner":{"account_id":68200,"reputation":1347,"user_id":199138,"accept_rate":95,"display_name":"lgwest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656402569,"creation_date":1656402569,"answer_id":72782579,"question_id":67647888,"body_markdown":"As you probably already know now, this is not an error but the expected result for convolution. Convolution mirror its output unlike correlation that does not. https://en.wikipedia.org/wiki/Convolution ","title":"Convolution Kernel - image comes out as a mirror image","body":"<p>As you probably already know now, this is not an error but the expected result for convolution. Convolution mirror its output unlike correlation that does not. <a href=\"https://en.wikipedia.org/wiki/Convolution\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Convolution</a></p>\n"}],"owner":{"account_id":9906307,"reputation":23,"user_id":15584630,"display_name":"Ciaran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656402569,"creation_date":1621675362,"question_id":67647888,"body_markdown":"So I have some code for convoluting GreyScale image, in Java using Convolution Kernel. It seems to work reasonably well. However the image comes out as a mirror image. As if copying from end of the row rather than the start. I wonder can anyone help me understand what&#39;s happening here.\r\n\r\nThe  problem appears to be in the `convertToArrayLocation()` method as if I try to recreate an image from the array they this method produces the image is mirrored.\r\n\r\n```java\r\npublic class GetTwoDimensionalPixelArray {\r\n    public static BufferedImage inputImage, output;\r\n\r\n    public static final int[][] IDENTITY = {{0, 0, 0}, {0, 1, 0}, {0, 0, 0}};\r\n    public static final int[][] EDGE_DETECTION_1 = {{-1, -1, -1}, {-1, 8, -1}, {-1, -1, -1}};\r\n\r\n    public static int[][] SHARPEN = {{0, -1, 0}, {-1, 5, -1}, {0, -1, 0}};\r\n    public static int WIDTH, HEIGHT;\r\n    public static int order = SHARPEN.length;\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        System.out.println(WIDTH);\r\n        BufferedImage inputImage = ImageIO.read(new File(&quot;it-gs.png&quot;)); // load the image from this current folder\r\n        WIDTH = inputImage.getWidth();\r\n        HEIGHT = inputImage.getHeight();\r\n\r\n        int[][] result = convertToArrayLocation(inputImage); // pass buffered image to the method and get back the\r\n        // result\r\n        System.out.println(&quot;height&quot; + result.length + &quot;width&quot; + result[0].length);\r\n\r\n        int[][] outputarray = convolution2D(result, WIDTH, HEIGHT, EDGE_DETECTION_1, EDGE_DETECTION_1.length,\r\n                EDGE_DETECTION_1.length);\r\n\r\n        int opwidth = outputarray[0].length;\r\n        int opheight = outputarray.length;\r\n        System.out.println(&quot;W&quot; + opwidth + &quot;H&quot; + opheight);\r\n\r\n        BufferedImage img = new BufferedImage(opheight, opwidth, BufferedImage.TYPE_BYTE_GRAY);\r\n        for (int r = 0; r &lt; opheight; r++) {\r\n            for (int t = 0; t &lt; opwidth; t++) {\r\n                img.setRGB(r, t, outputarray[r][t]);\r\n            }\r\n        }\r\n        try {\r\n            File imageFile = new File(&quot;C:\\\\Users\\\\ciara\\\\eclipse-workspace\\\\it.png&quot;);\r\n            ImageIO.write(img, &quot;png&quot;, imageFile);\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n\r\n    private static int[][] convertToArrayLocation(BufferedImage inputImage) {\r\n        final byte[] pixels = ((DataBufferByte) inputImage.getRaster().getDataBuffer()).getData();\r\n        // get pixel value as single array from buffered Image\r\n        final int width = inputImage.getWidth(); // get image width value\r\n        final int height = inputImage.getHeight(); // get image height value\r\n        System.out.println(&quot;height&quot; + height + &quot;width&quot;);\r\n        int[][] result = new int[height][width]; // Initialize the array with height and width\r\n        // this loop allocates pixels value to two dimensional array\r\n        for (int pixel = 0, row = 0, col = 0; pixel &lt; pixels.length; pixel++) {\r\n            int argb = 0;\r\n            argb = (int) pixels[pixel];\r\n            // if pixel value is negative, change to positive //still weird to me\r\n            if (argb &lt; 0) {\r\n                argb += 256;\r\n            }\r\n            result[row][col] = argb;\r\n            col++;\r\n            if (col == width) {\r\n                col = 0;\r\n                row++;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public static int[][] convolution2D(int[][] input, int width, int height,\r\n                                        int[][] kernel, int kernelWidth, int kernelHeight) {\r\n        int smallWidth = width - kernelWidth + 1;\r\n        int smallHeight = height - kernelHeight + 1;\r\n        int[][] output = new int[smallHeight][smallWidth];\r\n        for (int i = 0; i &lt; smallHeight; ++i) {\r\n            for (int j = 0; j &lt; smallWidth; ++j) {\r\n                output[i][j] = 0;\r\n            }\r\n        }\r\n        for (int i = 0; i &lt; smallHeight; ++i) {\r\n            for (int j = 0; j &lt; smallWidth; ++j) {\r\n                output[i][j] = singlePixelConvolution(input, i, j, kernel, kernelWidth, kernelHeight);\r\n            }\r\n        }\r\n        return output;\r\n    }\r\n\r\n    public static int singlePixelConvolution(int[][] input, int x, int y, int[][] k,\r\n                                             int kernelWidth, int kernelHeight) {\r\n        int output = 0;\r\n        for (int i = 0; i &lt; kernelHeight; ++i) {\r\n            for (int j = 0; j &lt; kernelWidth; ++j) {\r\n                try {\r\n                    output = output + (input[x + i][y + j] * k[i][j]);\r\n                } catch (Exception e) {\r\n                    continue;\r\n                }\r\n            }\r\n        }\r\n        return output;\r\n    }\r\n}\r\n```\r\n","title":"Convolution Kernel - image comes out as a mirror image","body":"<p>So I have some code for convoluting GreyScale image, in Java using Convolution Kernel. It seems to work reasonably well. However the image comes out as a mirror image. As if copying from end of the row rather than the start. I wonder can anyone help me understand what's happening here.</p>\n<p>The  problem appears to be in the <code>convertToArrayLocation()</code> method as if I try to recreate an image from the array they this method produces the image is mirrored.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GetTwoDimensionalPixelArray {\n    public static BufferedImage inputImage, output;\n\n    public static final int[][] IDENTITY = {{0, 0, 0}, {0, 1, 0}, {0, 0, 0}};\n    public static final int[][] EDGE_DETECTION_1 = {{-1, -1, -1}, {-1, 8, -1}, {-1, -1, -1}};\n\n    public static int[][] SHARPEN = {{0, -1, 0}, {-1, 5, -1}, {0, -1, 0}};\n    public static int WIDTH, HEIGHT;\n    public static int order = SHARPEN.length;\n\n    public static void main(String[] args) throws IOException {\n        System.out.println(WIDTH);\n        BufferedImage inputImage = ImageIO.read(new File(&quot;it-gs.png&quot;)); // load the image from this current folder\n        WIDTH = inputImage.getWidth();\n        HEIGHT = inputImage.getHeight();\n\n        int[][] result = convertToArrayLocation(inputImage); // pass buffered image to the method and get back the\n        // result\n        System.out.println(&quot;height&quot; + result.length + &quot;width&quot; + result[0].length);\n\n        int[][] outputarray = convolution2D(result, WIDTH, HEIGHT, EDGE_DETECTION_1, EDGE_DETECTION_1.length,\n                EDGE_DETECTION_1.length);\n\n        int opwidth = outputarray[0].length;\n        int opheight = outputarray.length;\n        System.out.println(&quot;W&quot; + opwidth + &quot;H&quot; + opheight);\n\n        BufferedImage img = new BufferedImage(opheight, opwidth, BufferedImage.TYPE_BYTE_GRAY);\n        for (int r = 0; r &lt; opheight; r++) {\n            for (int t = 0; t &lt; opwidth; t++) {\n                img.setRGB(r, t, outputarray[r][t]);\n            }\n        }\n        try {\n            File imageFile = new File(&quot;C:\\\\Users\\\\ciara\\\\eclipse-workspace\\\\it.png&quot;);\n            ImageIO.write(img, &quot;png&quot;, imageFile);\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n\n    private static int[][] convertToArrayLocation(BufferedImage inputImage) {\n        final byte[] pixels = ((DataBufferByte) inputImage.getRaster().getDataBuffer()).getData();\n        // get pixel value as single array from buffered Image\n        final int width = inputImage.getWidth(); // get image width value\n        final int height = inputImage.getHeight(); // get image height value\n        System.out.println(&quot;height&quot; + height + &quot;width&quot;);\n        int[][] result = new int[height][width]; // Initialize the array with height and width\n        // this loop allocates pixels value to two dimensional array\n        for (int pixel = 0, row = 0, col = 0; pixel &lt; pixels.length; pixel++) {\n            int argb = 0;\n            argb = (int) pixels[pixel];\n            // if pixel value is negative, change to positive //still weird to me\n            if (argb &lt; 0) {\n                argb += 256;\n            }\n            result[row][col] = argb;\n            col++;\n            if (col == width) {\n                col = 0;\n                row++;\n            }\n        }\n        return result;\n    }\n\n    public static int[][] convolution2D(int[][] input, int width, int height,\n                                        int[][] kernel, int kernelWidth, int kernelHeight) {\n        int smallWidth = width - kernelWidth + 1;\n        int smallHeight = height - kernelHeight + 1;\n        int[][] output = new int[smallHeight][smallWidth];\n        for (int i = 0; i &lt; smallHeight; ++i) {\n            for (int j = 0; j &lt; smallWidth; ++j) {\n                output[i][j] = 0;\n            }\n        }\n        for (int i = 0; i &lt; smallHeight; ++i) {\n            for (int j = 0; j &lt; smallWidth; ++j) {\n                output[i][j] = singlePixelConvolution(input, i, j, kernel, kernelWidth, kernelHeight);\n            }\n        }\n        return output;\n    }\n\n    public static int singlePixelConvolution(int[][] input, int x, int y, int[][] k,\n                                             int kernelWidth, int kernelHeight) {\n        int output = 0;\n        for (int i = 0; i &lt; kernelHeight; ++i) {\n            for (int j = 0; j &lt; kernelWidth; ++j) {\n                try {\n                    output = output + (input[x + i][y + j] * k[i][j]);\n                } catch (Exception e) {\n                    continue;\n                }\n            }\n        }\n        return output;\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","html","web","velocity"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1629035972,"creation_date":1629035972,"answer_id":68792215,"question_id":68791697,"body_markdown":"Basically you do it that same way that you would do it if you were writing the HTML file by hand.  Embed an appropriate `&lt;script&gt;` element into the velocity template that generates that HTML.  \r\n\r\n(The `&lt;script&gt;` element could contain the function declaration, or it could use a `src` link to load a document containing the Javascript from your server.  See https://www.tutorialsteacher.com/javascript/script-tag for examples.)","title":"How to include JavaScript file inside a Velocity template?","body":"<p>Basically you do it that same way that you would do it if you were writing the HTML file by hand.  Embed an appropriate <code>&lt;script&gt;</code> element into the velocity template that generates that HTML.</p>\n<p>(The <code>&lt;script&gt;</code> element could contain the function declaration, or it could use a <code>src</code> link to load a document containing the Javascript from your server.  See <a href=\"https://www.tutorialsteacher.com/javascript/script-tag\" rel=\"nofollow noreferrer\">https://www.tutorialsteacher.com/javascript/script-tag</a> for examples.)</p>\n"}],"owner":{"account_id":18679262,"reputation":63,"user_id":13616209,"display_name":"Mohammad Humayun Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":688,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":68792215,"answer_count":1,"score":-1,"last_activity_date":1656401983,"creation_date":1629031799,"question_id":68791697,"body_markdown":"I have a JS file having contents: \r\n`function rejectIfNotSuccess(response) {} usernameChanged(event) {}` for example, and I want to include this file in my velocity template in order to do things the same way we do in an HTML file.  \r\n\r\nFor example, I want to call a function defined in this JS file in velocity using `&lt;input type=&quot;text&quot; id=&quot;username&quot; onInput=&quot;javascript:usernameChanged(event)&quot; /&gt;`\r\n\r\nHow can I do so? \r\nI read [here](https://stackoverflow.com/a/7530746/13616209) about a way to do so, which may work. But, are there any other better ways of doing the same?\r\n\r\nThanks Stephen for your answer!","title":"How to include JavaScript file inside a Velocity template?","body":"<p>I have a JS file having contents:\n<code>function rejectIfNotSuccess(response) {} usernameChanged(event) {}</code> for example, and I want to include this file in my velocity template in order to do things the same way we do in an HTML file.</p>\n<p>For example, I want to call a function defined in this JS file in velocity using <code>&lt;input type=&quot;text&quot; id=&quot;username&quot; onInput=&quot;javascript:usernameChanged(event)&quot; /&gt;</code></p>\n<p>How can I do so?\nI read <a href=\"https://stackoverflow.com/a/7530746/13616209\">here</a> about a way to do so, which may work. But, are there any other better ways of doing the same?</p>\n<p>Thanks Stephen for your answer!</p>\n"},{"tags":["java","maven","junit","cucumber","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656401512,"creation_date":1656401512,"answer_id":72782367,"question_id":72781890,"body_markdown":"If I understand your problem correctly, this solution will be similar to  what I did for one of my previous teams. You will need to create a custom property in Maven, like this one:\r\n\r\n```\r\n&lt;properties&gt;\r\n    &lt;myEnvironment&gt;${myEnv}&lt;/myEnvironment&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\nThen, you will need to create the properties containing the URLs in the properties file:\r\n```\r\nQA=http://www.yourQAEnvURL.com\r\nPROD=http://www.yourProdEnvURL.com\r\n```\r\n\r\nLastly, you will need to pass the value using Maven (along with your other arguments): \r\n```\r\nmvn test ... -DmyEnvironment=QA\r\n```\r\n\r\nYour test application will need to consume this argument to look up the appropriate URL from the properties file in order to be able to test the correct environment.","title":"How to run API automation test scripts in different environments, specifically I need to run in QA environment &amp; prod environment","body":"<p>If I understand your problem correctly, this solution will be similar to  what I did for one of my previous teams. You will need to create a custom property in Maven, like this one:</p>\n<pre><code>&lt;properties&gt;\n    &lt;myEnvironment&gt;${myEnv}&lt;/myEnvironment&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Then, you will need to create the properties containing the URLs in the properties file:</p>\n<pre><code>QA=http://www.yourQAEnvURL.com\nPROD=http://www.yourProdEnvURL.com\n</code></pre>\n<p>Lastly, you will need to pass the value using Maven (along with your other arguments):</p>\n<pre><code>mvn test ... -DmyEnvironment=QA\n</code></pre>\n<p>Your test application will need to consume this argument to look up the appropriate URL from the properties file in order to be able to test the correct environment.</p>\n"}],"owner":{"account_id":21650037,"reputation":41,"user_id":15970819,"display_name":"Qa Automation"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":678,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72782367,"answer_count":1,"score":0,"last_activity_date":1656401512,"creation_date":1656399129,"question_id":72781890,"body_markdown":"**Hello folks , I&#39;m testing Rest API , using rest-assured . maven , cucumber , and as a programming language I use JAVA, so I&#39;m facing an issue , to run my some test in production environment,so I have properties file , where I store the URL for QA environment , and I have properties reader method , which reads from properties, so now I need to add URL of production , and execute both QA &amp; prod , please help if u have any ideas to solve this issue , I&#39;ve done my research in Stack overflow, couldn&#39;t find anything useful, found some solutions but I didn&#39;t  get at all , because of lack of experience \r\nThanks in advance** ","title":"How to run API automation test scripts in different environments, specifically I need to run in QA environment &amp; prod environment","body":"<p><strong>Hello folks , I'm testing Rest API , using rest-assured . maven , cucumber , and as a programming language I use JAVA, so I'm facing an issue , to run my some test in production environment,so I have properties file , where I store the URL for QA environment , and I have properties reader method , which reads from properties, so now I need to add URL of production , and execute both QA &amp; prod , please help if u have any ideas to solve this issue , I've done my research in Stack overflow, couldn't find anything useful, found some solutions but I didn't  get at all , because of lack of experience\nThanks in advance</strong></p>\n"},{"tags":["java","spring-boot","authentication","token"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1656400564,"post_id":72781950,"comment_id":128556013,"body_markdown":"Does this answer your question? [Sending GET request with Authentication headers using restTemplate](https://stackoverflow.com/questions/21101250/sending-get-request-with-authentication-headers-using-resttemplate)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21101250/sending-get-request-with-authentication-headers-using-resttemplate\">Sending GET request with Authentication headers using restTemplate</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656401035,"post_id":72781950,"comment_id":128556158,"body_markdown":"You want to set a header but fill the parameter map. Use `headersAuth.setBearerAuth(token)` instead of map or parameters.","body":"You want to set a header but fill the parameter map. Use <code>headersAuth.setBearerAuth(token)</code> instead of map or parameters."}],"answers":[{"tags":[],"owner":{"account_id":8159822,"reputation":653,"user_id":6144186,"display_name":"Nam Tran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656401373,"creation_date":1656401373,"answer_id":72782333,"question_id":72781950,"body_markdown":"You have not set token to header yet, you set it in your query parameter.\r\nYou can use `headersAuth.setBearerAuth()` to set bearer token, or use `setBasicAuth()` to set username and password.\r\nAnother way to put it in your header:\r\n\r\n    headersAuth.set(HttpHeaders.AUTHORIZATION, token);\r\n\r\nOAuth2 server can retrieve your token in query parameter with name &#39;access_token&#39; too.","title":"How to add the header into RestTemplate","body":"<p>You have not set token to header yet, you set it in your query parameter.\nYou can use <code>headersAuth.setBearerAuth()</code> to set bearer token, or use <code>setBasicAuth()</code> to set username and password.\nAnother way to put it in your header:</p>\n<pre><code>headersAuth.set(HttpHeaders.AUTHORIZATION, token);\n</code></pre>\n<p>OAuth2 server can retrieve your token in query parameter with name 'access_token' too.</p>\n"},{"tags":[],"owner":{"account_id":25394821,"reputation":66,"user_id":19205249,"display_name":"milkdove"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656401498,"creation_date":1656401498,"answer_id":72782363,"question_id":72781950,"body_markdown":"Your code doesn&#39;t put the token into the request header.\r\n\r\n        HttpHeaders headersAuth = new HttpHeaders();\r\n        \r\n        headersAuth.set(HttpHeaders.ACCEPT,MediaType.APPLICATION_JSON_VALUE);\r\n        \r\n        String urlTemplateAuth = UriComponentsBuilder.fromHttpUrl(&quot;some url&quot;)\r\n                .encode()\r\n                .toUriString();\r\n        Map&lt;String,String&gt; queryParamsAuth = new HashMap&lt;&gt;();\r\n        headersAuth.put(&quot;Authorization&quot;,tokenValue); //here is put it into headers\r\n        HttpEntity&lt;?&gt; entityAuth =  new HttpEntity&lt;&gt;(headersAuth);//build entity by header\r\n       //exchange...\r\n\r\nYou can read this document to learn more about http.\r\nhttps://developer.mozilla.org/en-US/docs/Web/HTTP","title":"How to add the header into RestTemplate","body":"<p>Your code doesn't put the token into the request header.</p>\n<pre><code>    HttpHeaders headersAuth = new HttpHeaders();\n    \n    headersAuth.set(HttpHeaders.ACCEPT,MediaType.APPLICATION_JSON_VALUE);\n    \n    String urlTemplateAuth = UriComponentsBuilder.fromHttpUrl(&quot;some url&quot;)\n            .encode()\n            .toUriString();\n    Map&lt;String,String&gt; queryParamsAuth = new HashMap&lt;&gt;();\n    headersAuth.put(&quot;Authorization&quot;,tokenValue); //here is put it into headers\n    HttpEntity&lt;?&gt; entityAuth =  new HttpEntity&lt;&gt;(headersAuth);//build entity by header\n   //exchange...\n</code></pre>\n<p>You can read this document to learn more about http.\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP</a></p>\n"}],"owner":{"account_id":17078834,"reputation":109,"user_id":12357785,"display_name":"ProgramCOder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1029,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72782333,"answer_count":2,"score":-1,"last_activity_date":1656401498,"creation_date":1656399366,"question_id":72781950,"body_markdown":"I am trying to add a header into the restTemplate, with one of its methods ```exchange```.\r\nIn header i am putting the token access, which we can access with.\r\nThe error i am getting is that i am not Authorized, 401 status is giving back . Any advices what i am doing wrong?\r\n```\r\n HttpHeaders headersAuth = new HttpHeaders();\r\n        headersAuth.set(HttpHeaders.ACCEPT,MediaType.APPLICATION_JSON_VALUE);\r\n        HttpEntity&lt;?&gt; entityAuth =  new HttpEntity&lt;&gt;(headersAuth);\r\n        String urlTemplateAuth = UriComponentsBuilder.fromHttpUrl(&quot;some url&quot;)\r\n                .encode()\r\n                .toUriString();\r\n        Map&lt;String,String&gt; queryParamsAuth = new HashMap&lt;&gt;();\r\n        queryParamsAuth.put(&quot;Authorization&quot;,tokenValue); //here is my token access\r\n\r\n\r\n            ResponseEntity &lt;UserGetPhoneDto&gt; userGetPhoneDtoResponseEntity = restTemplate.exchange(urlTemplateAuth,HttpMethod.GET,entityAuth,UserGetPhoneDto.class,queryParamsAuth); \r\n//here i am getting error of 401 status\r\n```","title":"How to add the header into RestTemplate","body":"<p>I am trying to add a header into the restTemplate, with one of its methods <code>exchange</code>.\nIn header i am putting the token access, which we can access with.\nThe error i am getting is that i am not Authorized, 401 status is giving back . Any advices what i am doing wrong?</p>\n<pre><code> HttpHeaders headersAuth = new HttpHeaders();\n        headersAuth.set(HttpHeaders.ACCEPT,MediaType.APPLICATION_JSON_VALUE);\n        HttpEntity&lt;?&gt; entityAuth =  new HttpEntity&lt;&gt;(headersAuth);\n        String urlTemplateAuth = UriComponentsBuilder.fromHttpUrl(&quot;some url&quot;)\n                .encode()\n                .toUriString();\n        Map&lt;String,String&gt; queryParamsAuth = new HashMap&lt;&gt;();\n        queryParamsAuth.put(&quot;Authorization&quot;,tokenValue); //here is my token access\n\n\n            ResponseEntity &lt;UserGetPhoneDto&gt; userGetPhoneDtoResponseEntity = restTemplate.exchange(urlTemplateAuth,HttpMethod.GET,entityAuth,UserGetPhoneDto.class,queryParamsAuth); \n//here i am getting error of 401 status\n</code></pre>\n"},{"tags":["java","spring-boot","elasticsearch","typeahead","autosuggest"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656404447,"post_id":72775415,"comment_id":128557343,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":11575363,"reputation":473,"user_id":8480863,"display_name":"brugia"},"score":0,"creation_date":1656582425,"post_id":72775415,"comment_id":128610392,"body_markdown":"Please accept my answer as it has solved your issue quite clearly.","body":"Please accept my answer as it has solved your issue quite clearly."}],"answers":[{"tags":[],"owner":{"account_id":11575363,"reputation":473,"user_id":8480863,"display_name":"brugia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656401476,"creation_date":1656401476,"answer_id":72782359,"question_id":72775415,"body_markdown":"There are several ways to implement this in Elasticsearch. \r\n\r\nUse the completion suggester. To each entry in the completion suggestion field, add the gender as a category context. While sending requests to elasticsearch, add the gender of your signed in user to the the query context.\r\n\r\nSimple implementation: \r\n\r\n    PUT store_item\r\n    {\r\n      &quot;mappings&quot;: {\r\n        &quot;properties&quot;: {\r\n          &quot;suggest&quot;: {\r\n            &quot;type&quot;: &quot;completion&quot;,\r\n            &quot;contexts&quot;: [\r\n              {                                 \r\n                &quot;name&quot;: &quot;gender&quot;,\r\n                &quot;type&quot;: &quot;category&quot;\r\n              }\r\n            ]\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    PUT store_item/_doc/1\r\n    {\r\n      &quot;suggest&quot;: {\r\n       &quot;input&quot;: [ &quot;shoes&quot; ],\r\n        &quot;contexts&quot;: {\r\n          &quot;gender&quot;: [&quot;male&quot;]                    \r\n        }\r\n      }\r\n    }\r\n \r\n    PUT store_item/_doc/2\r\n    {\r\n      &quot;suggest&quot;: {\r\n       &quot;input&quot;: [ &quot;shoes&quot; ],\r\n        &quot;contexts&quot;: {\r\n          &quot;gender&quot;: [&quot;female&quot;]                    \r\n        }\r\n      }\r\n    }\r\n\r\nMake the Query:\r\n\r\n    POST store_item/_search?pretty\r\n          {\r\n        &quot;suggest&quot;: {\r\n          &quot;place_suggestion&quot;: {\r\n            &quot;prefix&quot;: &quot;sh&quot;,\r\n            &quot;completion&quot;: {\r\n              &quot;field&quot;: &quot;suggest&quot;,\r\n              &quot;size&quot;: 10,\r\n              &quot;contexts&quot;: {\r\n                &quot;gender&quot;: [                             \r\n                  { &quot;context&quot;: &quot;male&quot; }\r\n                ]\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\nYou will get all the entries that have a &quot;Male&quot; context and start with &quot;sh&quot;. You can simply append the string &quot;for men&quot; to the end of every result, in your client application.\r\n\r\nTo implement this in Spring Boot : You need to refer to this link that highlights how to implement the Completion Suggester via the Spring Boot Api.\r\n\r\n[Medium Article shows a sample Spring Boot Implementation][1]\r\n\r\nPlease note that you structure the index like I demoed in my answer. The exact API implementaion in Java/Spring Boot just wraps the REST API.\r\n\r\n\r\n  [1]: https://raymondhlee.wordpress.com/2018/08/16/implementing-apis-to-support-autocomplete-with-spring-and-elasticsearch/","title":"How to implement autosuggestions with gender typeahead using Elastic search and Java","body":"<p>There are several ways to implement this in Elasticsearch.</p>\n<p>Use the completion suggester. To each entry in the completion suggestion field, add the gender as a category context. While sending requests to elasticsearch, add the gender of your signed in user to the the query context.</p>\n<p>Simple implementation:</p>\n<pre><code>PUT store_item\n{\n  &quot;mappings&quot;: {\n    &quot;properties&quot;: {\n      &quot;suggest&quot;: {\n        &quot;type&quot;: &quot;completion&quot;,\n        &quot;contexts&quot;: [\n          {                                 \n            &quot;name&quot;: &quot;gender&quot;,\n            &quot;type&quot;: &quot;category&quot;\n          }\n        ]\n      }\n    }\n  }\n}\n\nPUT store_item/_doc/1\n{\n  &quot;suggest&quot;: {\n   &quot;input&quot;: [ &quot;shoes&quot; ],\n    &quot;contexts&quot;: {\n      &quot;gender&quot;: [&quot;male&quot;]                    \n    }\n  }\n}\n\nPUT store_item/_doc/2\n{\n  &quot;suggest&quot;: {\n   &quot;input&quot;: [ &quot;shoes&quot; ],\n    &quot;contexts&quot;: {\n      &quot;gender&quot;: [&quot;female&quot;]                    \n    }\n  }\n}\n</code></pre>\n<p>Make the Query:</p>\n<pre><code>POST store_item/_search?pretty\n      {\n    &quot;suggest&quot;: {\n      &quot;place_suggestion&quot;: {\n        &quot;prefix&quot;: &quot;sh&quot;,\n        &quot;completion&quot;: {\n          &quot;field&quot;: &quot;suggest&quot;,\n          &quot;size&quot;: 10,\n          &quot;contexts&quot;: {\n            &quot;gender&quot;: [                             \n              { &quot;context&quot;: &quot;male&quot; }\n            ]\n          }\n        }\n      }\n    }\n  }\n</code></pre>\n<p>You will get all the entries that have a &quot;Male&quot; context and start with &quot;sh&quot;. You can simply append the string &quot;for men&quot; to the end of every result, in your client application.</p>\n<p>To implement this in Spring Boot : You need to refer to this link that highlights how to implement the Completion Suggester via the Spring Boot Api.</p>\n<p><a href=\"https://raymondhlee.wordpress.com/2018/08/16/implementing-apis-to-support-autocomplete-with-spring-and-elasticsearch/\" rel=\"nofollow noreferrer\">Medium Article shows a sample Spring Boot Implementation</a></p>\n<p>Please note that you structure the index like I demoed in my answer. The exact API implementaion in Java/Spring Boot just wraps the REST API.</p>\n"}],"owner":{"account_id":25662821,"reputation":1,"user_id":19428353,"display_name":"dev555"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656401476,"creation_date":1656347197,"question_id":72775415,"body_markdown":"I am trying include gender in the autosuggestions returned from backend.\r\n\r\nPresent setup :\r\nAs I type in the search bar, let us say &quot;Sh&quot;, it gives autosuggestions like shoes, shirts etc.\r\n\r\nNew requirement :\r\n\r\nAs I type in the search bar, let us say &quot;Sh&quot;, it should return personalized autosuggestions like below based on gender in user&#39;s profile.\r\n\r\nExample : \r\nIf user is a female, return below\r\n\r\n   &quot;shoes for women&quot;\r\n   \r\n   &quot;shirts for women&quot;\r\n\r\nIf user is male, return below\r\n\r\n   &quot;shoes for men&quot;\r\n   \r\n   &quot;shirts for men&quot;\r\n\r\nCan someone help me how to implement this in elastic search and java springboot.","title":"How to implement autosuggestions with gender typeahead using Elastic search and Java","body":"<p>I am trying include gender in the autosuggestions returned from backend.</p>\n<p>Present setup :\nAs I type in the search bar, let us say &quot;Sh&quot;, it gives autosuggestions like shoes, shirts etc.</p>\n<p>New requirement :</p>\n<p>As I type in the search bar, let us say &quot;Sh&quot;, it should return personalized autosuggestions like below based on gender in user's profile.</p>\n<p>Example :\nIf user is a female, return below</p>\n<p>&quot;shoes for women&quot;</p>\n<p>&quot;shirts for women&quot;</p>\n<p>If user is male, return below</p>\n<p>&quot;shoes for men&quot;</p>\n<p>&quot;shirts for men&quot;</p>\n<p>Can someone help me how to implement this in elastic search and java springboot.</p>\n"},{"tags":["java","windows","cygwin","classpath"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1656314624,"post_id":72766747,"comment_id":128532074,"body_markdown":"Does this `C:/opt/OurInstallationDir/lib` contain bare `.class` files, or JARs? If it contains JARs, you need to specify the individual jars on the classpath, not the directory.","body":"Does this <code>C:&#47;opt&#47;OurInstallationDir&#47;lib</code> contain bare <code>.class</code> files, or JARs? If it contains JARs, you need to specify the individual jars on the classpath, not the directory."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1656314676,"post_id":72766747,"comment_id":128532083,"body_markdown":"In any case, is this what you&#39;re looking for: [How to track when class is loaded and destroyed in jvm?](https://stackoverflow.com/questions/9921081/how-to-track-when-class-is-loaded-and-destroyed-in-jvm)","body":"In any case, is this what you&#39;re looking for: <a href=\"https://stackoverflow.com/questions/9921081/how-to-track-when-class-is-loaded-and-destroyed-in-jvm\">How to track when class is loaded and destroyed in jvm?</a>"},{"owner":{"account_id":13432,"reputation":4622,"user_id":26976,"accept_rate":56,"display_name":"Richard T"},"score":0,"creation_date":1656351786,"post_id":72766747,"comment_id":128545936,"body_markdown":"@MarkRotteveel Thanks, Mark; YES, it contains both classes right there in that dir, and several full trees of various packages that may or may not be needed, such as jdbc database access libraries, including one from Oracle. And, they all work fine on other systems. As for your link, &quot;I&#39;m checking it out now,&quot; thanks!","body":"@MarkRotteveel Thanks, Mark; YES, it contains both classes right there in that dir, and several full trees of various packages that may or may not be needed, such as jdbc database access libraries, including one from Oracle. And, they all work fine on other systems. As for your link, &quot;I&#39;m checking it out now,&quot; thanks!"},{"owner":{"account_id":13432,"reputation":4622,"user_id":26976,"accept_rate":56,"display_name":"Richard T"},"score":0,"creation_date":1656353032,"post_id":72766747,"comment_id":128546393,"body_markdown":"@MarkRotteveel YES! I haven&#39;t found the configuration problem yet BUT, I have two prospects thanks to you: TraceClassLoading as the primary find and TraceClassLoadingPreorder. as a second sort of maybe. PLEASE create an answer here for this BECAUSE I do not see this as the same question (even though it has this answer under it) and I NEVER would have found it without your help. And I&#39;d like to give you some credit for that!","body":"@MarkRotteveel YES! I haven&#39;t found the configuration problem yet BUT, I have two prospects thanks to you: TraceClassLoading as the primary find and TraceClassLoadingPreorder. as a second sort of maybe. PLEASE create an answer here for this BECAUSE I do not see this as the same question (even though it has this answer under it) and I NEVER would have found it without your help. And I&#39;d like to give you some credit for that!"},{"owner":{"account_id":13432,"reputation":4622,"user_id":26976,"accept_rate":56,"display_name":"Richard T"},"score":0,"creation_date":1656369010,"post_id":72766747,"comment_id":128550748,"body_markdown":"@MarkRotteveel One I&#39;d originally somehow overlooked AT LEAST confirms what it sees as the CLASSPATH. It&#39;s called TraceClassPath. It, in short, echos back the classpath provided, but doesn&#39;t say what it thought of it, or tried to do. HOWEVER, unlike the other things I&#39;ve seen, it DID give back the path formats IT IS USING - perhaps that will lead me somewhere. ...It&#39;s using C:\\dir\\subdir syntax.","body":"@MarkRotteveel One I&#39;d originally somehow overlooked AT LEAST confirms what it sees as the CLASSPATH. It&#39;s called TraceClassPath. It, in short, echos back the classpath provided, but doesn&#39;t say what it thought of it, or tried to do. HOWEVER, unlike the other things I&#39;ve seen, it DID give back the path formats IT IS USING - perhaps that will lead me somewhere. ...It&#39;s using C:\\dir\\subdir syntax."},{"owner":{"account_id":13432,"reputation":4622,"user_id":26976,"accept_rate":56,"display_name":"Richard T"},"score":0,"creation_date":1656369755,"post_id":72766747,"comment_id":128550870,"body_markdown":"@MarkRotteveel I had a flash of insight and solved it. But thanks again! I&#39;ve saved some notes regarding what you pointed me to - I&#39;m sure it&#39;ll be helpful in the future. :-)","body":"@MarkRotteveel I had a flash of insight and solved it. But thanks again! I&#39;ve saved some notes regarding what you pointed me to - I&#39;m sure it&#39;ll be helpful in the future. :-)"}],"answers":[{"tags":[],"owner":{"account_id":13432,"reputation":4622,"user_id":26976,"accept_rate":56,"display_name":"Richard T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656400981,"creation_date":1656369666,"answer_id":72778974,"question_id":72766747,"body_markdown":"You use this construct on the JVM:\r\n\r\n    java -XX:+TraceClassPaths -cp &quot;C:\\opt\\SomeDirectory\\lib&quot; myClass\r\n\r\nI was able to get confirmation of what Java was using, not only for my CLASSPATH, but &quot;internally&quot; by using the above.\r\n\r\nThe fact that it echoed back both what I was doing and what it was doing somehow gave me the insight to check everything about it. Java itself doesn&#39;t work (at all) if it&#39;s installed in a location that it thinks has a link in it, and it&#39;s own fetches go right back to the system disk specification.\r\n\r\nFrom that I found that Java on Windows won&#39;t take a CLASSPATH that has a link in it!\r\n\r\nSimply ensuring that the whole tree was specified &quot;from the top&quot; of the drive it&#39;s on works. If it&#39;s not, it won&#39;t.\r\n\r\nIt&#39;s now working happily using the syntax noted above.\r\n\r\nThis is quite different from every other application I&#39;ve seen on Windows. But, well, it&#39;s Java! \r\n\r\nThis really came from a pointer from [Mark Rotteveel][1] who commented above about this article:  [How to track when class is loaded and destroyed in jvm?][2] And therein I learned how to get the list of all the options the presently in-use JVM supports. All Java developers should be aware of this in my opinion, so thanks to Mark for that.\r\n\r\n  [1]: https://stackoverflow.com/users/466862/mark-rotteveel\r\n  [2]: https://stackoverflow.com/questions/9921081/how-to-track-when-class-is-loaded-and-destroyed-in-jvm","title":"How do I track what java is actually looking for as it traverses CLASSPATH?","body":"<p>You use this construct on the JVM:</p>\n<pre><code>java -XX:+TraceClassPaths -cp &quot;C:\\opt\\SomeDirectory\\lib&quot; myClass\n</code></pre>\n<p>I was able to get confirmation of what Java was using, not only for my CLASSPATH, but &quot;internally&quot; by using the above.</p>\n<p>The fact that it echoed back both what I was doing and what it was doing somehow gave me the insight to check everything about it. Java itself doesn't work (at all) if it's installed in a location that it thinks has a link in it, and it's own fetches go right back to the system disk specification.</p>\n<p>From that I found that Java on Windows won't take a CLASSPATH that has a link in it!</p>\n<p>Simply ensuring that the whole tree was specified &quot;from the top&quot; of the drive it's on works. If it's not, it won't.</p>\n<p>It's now working happily using the syntax noted above.</p>\n<p>This is quite different from every other application I've seen on Windows. But, well, it's Java!</p>\n<p>This really came from a pointer from <a href=\"https://stackoverflow.com/users/466862/mark-rotteveel\">Mark Rotteveel</a> who commented above about this article:  <a href=\"https://stackoverflow.com/questions/9921081/how-to-track-when-class-is-loaded-and-destroyed-in-jvm\">How to track when class is loaded and destroyed in jvm?</a> And therein I learned how to get the list of all the options the presently in-use JVM supports. All Java developers should be aware of this in my opinion, so thanks to Mark for that.</p>\n"}],"owner":{"account_id":13432,"reputation":4622,"user_id":26976,"accept_rate":56,"display_name":"Richard T"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72778974,"answer_count":1,"score":-2,"last_activity_date":1656400981,"creation_date":1656300890,"question_id":72766747,"body_markdown":"How is the java utility that begins the process of launching a class told to &quot;spill its guts&quot; on what it&#39;s doing as it tries to load classes?\r\n\r\nIn particular, what file paths is it TRYING to access, only to perhaps discover whatever it&#39;s looking for is not there, at least as it interprets the specification given? There was a way to get that information, but I can&#39;t find it now.\r\n\r\nNote that this is Java version &quot;1.8.0_333&quot; on Windows 10.\r\n\r\nI&#39;ve tried every flag known to me, via the -h and -X flags, and I strongly suspect what I&#39;m looking for is (was) an X flag that&#39;s been removed, just as the -X help output warns. And so, there must be an OS way to figure this out, I sure hope!\r\n\r\nYou might ask why? Whatever for? What are you trying to do? Well, that&#39;s the bulk of this question&#39;s text. To wit:\r\n\r\nAs one of the very early users of Java (I started with 1.1) way back in the &#39;90s, I had an issue moving an application suite I&#39;d written for my company on Linux to MS Windows and I got it working by using Cygwin. Along the way, this same sort of issue came up and I quite vividly recall having found a mechanism for getting the Java launcher to articulate just what file specifications - paths - it was actually using in searching for the appropriate class. And through using this, I found that the CLASSPATH was being specified incorrectly, and with some experimentation, I got it working reliably. Now I need to do that again!\r\n\r\nThis flag I&#39;d used was immensely helpful in figuring out just what the file specification format `CLASSPATH` needed to be (we&#39;re not talking semicolons here) this combination of OS, Java, and Cygwin. After some hours of what I hope was reasonable hunting, I&#39;m wondering if this capability has been removed at some point? Either that or &quot;I&#39;m looking for the wrong thing.&quot; Heck, since the source is available (I think!), maybe some brave soul has hacked the java utility to do such a thing?\r\n\r\nIt may help to understand that for this application I wrote for my company, it was a major goal to have the source work pretty much the same on all Windows and Linux / Unix systems (and at the time, macOS), and just use a configuration file to tell the code what&#39;s different. And that wasn&#39;t easy to figure out, but with this flag, it wasn&#39;t that hard, either.\r\n\r\nBut, unfortunately, I haven&#39;t needed this knowledge since I figured it all out all those years ago, and apparently, this little kernel of knowledge is very hard to find today. Or, it&#39;s no longer pertinent to the modern version(s).\r\n\r\nI don&#39;t think this has anything much to do with the actual problem, but it may help in people&#39;s thinking if they understood the scenario: The current situation is that I have a fully functional installation of this software on Windows 7 to use as a comparison for how to configure things on Windows 10 (and hopefully younger). The Windows 7 is running a pretty modern Cygwin installation and very nearly the most modern Java - just a sub-version away from the new installation from last week on a Windows 10 box. (Everything&#39;s bright and shiny new on the new box.)\r\n\r\nThe required format for `CLASSPATH` on the nearly identical but fully functional Windows 7 system is:\r\n\r\n    CLASSPATH=&quot;C:/opt/OurInstallationDir/lib&quot;\r\n\r\nAnd that&#39;s it.\r\n\r\nThis value is picked up in several places as the code later needs to launch Java itself to do some unusual things. However, the java command that gets it all going is launched from a C program - not that that matters for this problem - but the C program (compiled under Cygwin, but perfectly runnable from any Windows environment) helps ensure that the Java environment is secured (policy file contents and so forth) before getting into Java, else it refuses. And this program on Windows 11 launches Java just fine, it&#39;s just giving it a CLASSPATH that isn&#39;t useful, apparently, even though the files are there where they should be, etc.\r\n\r\nConfiguring things as before just doesn&#39;t work, even from the command line. No version of specifying CLASSPATH seems to work if it&#39;s more than a dot; the only thing that works, is being in the &lt;whatever&gt;/lib directory when starting and using &quot;-cp .&quot; ... But that&#39;s just not going to fly for so many reasons! To be a little more clear, I&#39;ve tried reversing the slashes, using /cygdrive/c/, and whatever else I could think of. But, at least we know that if you&#39;re in the directory and use -cp, it will find and launch the program. So, there&#39;s nothing wrong with the Java, just pointing the java utility at it.\r\n\r\nAgain: How is the java utility that begins the process of launching a class told to &quot;spill its guts&quot; on what it&#39;s doing as it&#39;s trying to load classes?","title":"How do I track what java is actually looking for as it traverses CLASSPATH?","body":"<p>How is the java utility that begins the process of launching a class told to &quot;spill its guts&quot; on what it's doing as it tries to load classes?</p>\n<p>In particular, what file paths is it TRYING to access, only to perhaps discover whatever it's looking for is not there, at least as it interprets the specification given? There was a way to get that information, but I can't find it now.</p>\n<p>Note that this is Java version &quot;1.8.0_333&quot; on Windows 10.</p>\n<p>I've tried every flag known to me, via the -h and -X flags, and I strongly suspect what I'm looking for is (was) an X flag that's been removed, just as the -X help output warns. And so, there must be an OS way to figure this out, I sure hope!</p>\n<p>You might ask why? Whatever for? What are you trying to do? Well, that's the bulk of this question's text. To wit:</p>\n<p>As one of the very early users of Java (I started with 1.1) way back in the '90s, I had an issue moving an application suite I'd written for my company on Linux to MS Windows and I got it working by using Cygwin. Along the way, this same sort of issue came up and I quite vividly recall having found a mechanism for getting the Java launcher to articulate just what file specifications - paths - it was actually using in searching for the appropriate class. And through using this, I found that the CLASSPATH was being specified incorrectly, and with some experimentation, I got it working reliably. Now I need to do that again!</p>\n<p>This flag I'd used was immensely helpful in figuring out just what the file specification format <code>CLASSPATH</code> needed to be (we're not talking semicolons here) this combination of OS, Java, and Cygwin. After some hours of what I hope was reasonable hunting, I'm wondering if this capability has been removed at some point? Either that or &quot;I'm looking for the wrong thing.&quot; Heck, since the source is available (I think!), maybe some brave soul has hacked the java utility to do such a thing?</p>\n<p>It may help to understand that for this application I wrote for my company, it was a major goal to have the source work pretty much the same on all Windows and Linux / Unix systems (and at the time, macOS), and just use a configuration file to tell the code what's different. And that wasn't easy to figure out, but with this flag, it wasn't that hard, either.</p>\n<p>But, unfortunately, I haven't needed this knowledge since I figured it all out all those years ago, and apparently, this little kernel of knowledge is very hard to find today. Or, it's no longer pertinent to the modern version(s).</p>\n<p>I don't think this has anything much to do with the actual problem, but it may help in people's thinking if they understood the scenario: The current situation is that I have a fully functional installation of this software on Windows 7 to use as a comparison for how to configure things on Windows 10 (and hopefully younger). The Windows 7 is running a pretty modern Cygwin installation and very nearly the most modern Java - just a sub-version away from the new installation from last week on a Windows 10 box. (Everything's bright and shiny new on the new box.)</p>\n<p>The required format for <code>CLASSPATH</code> on the nearly identical but fully functional Windows 7 system is:</p>\n<pre><code>CLASSPATH=&quot;C:/opt/OurInstallationDir/lib&quot;\n</code></pre>\n<p>And that's it.</p>\n<p>This value is picked up in several places as the code later needs to launch Java itself to do some unusual things. However, the java command that gets it all going is launched from a C program - not that that matters for this problem - but the C program (compiled under Cygwin, but perfectly runnable from any Windows environment) helps ensure that the Java environment is secured (policy file contents and so forth) before getting into Java, else it refuses. And this program on Windows 11 launches Java just fine, it's just giving it a CLASSPATH that isn't useful, apparently, even though the files are there where they should be, etc.</p>\n<p>Configuring things as before just doesn't work, even from the command line. No version of specifying CLASSPATH seems to work if it's more than a dot; the only thing that works, is being in the /lib directory when starting and using &quot;-cp .&quot; ... But that's just not going to fly for so many reasons! To be a little more clear, I've tried reversing the slashes, using /cygdrive/c/, and whatever else I could think of. But, at least we know that if you're in the directory and use -cp, it will find and launch the program. So, there's nothing wrong with the Java, just pointing the java utility at it.</p>\n<p>Again: How is the java utility that begins the process of launching a class told to &quot;spill its guts&quot; on what it's doing as it's trying to load classes?</p>\n"},{"tags":["java","gradle","jar","build.gradle"],"comments":[{"owner":{"account_id":25667400,"reputation":31,"user_id":19432128,"display_name":"Florin Giorgian"},"score":0,"creation_date":1656398344,"post_id":72781723,"comment_id":128555325,"body_markdown":"I should also note , building it from glitalb works. So the problem should be on my machine.","body":"I should also note , building it from glitalb works. So the problem should be on my machine."}],"answers":[{"tags":[],"owner":{"account_id":6464248,"reputation":6030,"user_id":5006866,"display_name":"thokuest"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656400942,"creation_date":1656400942,"answer_id":72782247,"question_id":72781723,"body_markdown":"You need to apply the `java` plugin first:\r\n\r\n```\r\nplugins {\r\n  id &#39;java&#39;\r\n}\r\n```\r\n\r\nSpring Boot&#39;s plugins only react on the presence of the Java plugin, they don&#39;t apply the plugin on their own.","title":"Could not find method implementation()","body":"<p>You need to apply the <code>java</code> plugin first:</p>\n<pre><code>plugins {\n  id 'java'\n}\n</code></pre>\n<p>Spring Boot's plugins only react on the presence of the Java plugin, they don't apply the plugin on their own.</p>\n"}],"owner":{"account_id":25667400,"reputation":31,"user_id":19432128,"display_name":"Florin Giorgian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4319,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1656400942,"creation_date":1656398129,"question_id":72781723,"body_markdown":"I know this was asked several times over but it looks like everything I try doesn&#39;t work.\r\n\r\nAlso I&#39;m new to this and I am sorry if I make any mistakes.\r\n\r\nAnd I try to build a java jar using Gradle and eclipse.\r\n\r\nThe Gradle build looks like this:\r\n\r\n\r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.6.2&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    }\r\n\r\n\r\n    repositories {\r\n    \tmavenCentral()\r\n    \tmaven { url &#39;https://repo.spring.io/milestone&#39; }\r\n    \tmaven { url &#39;https://repo.spring.io/snapshot&#39; }\r\n    }\r\n\r\n    defaultTasks &#39;clean&#39;, &#39;bootJar&#39;\r\n\r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    \truntimeOnly &#39;com.oracle.database.jdbc:ojdbc8&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n\r\n    test {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\n    group = &#39;com.ericsson.opt&#39;\r\n    //version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;1.8&#39;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n \r\nBut I always end up with :\r\n&gt; Could not find method implementation() for arguments [org.springframework.boot:spring-boot-starter-data-jpa] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\r\n\r\nNow if I use compile instead of implement it is the same problem but with compile instead of implement. \r\nThe Gradle I am using is :\r\n\r\nGradle --version\r\n\r\nGradle 7.4.2\r\n\r\nBuild time:   2022-03-31 15:25:29 UTC\r\nRevision:     540473b8118064efcc264694cbcaa4b677f61041\r\n\r\nKotlin:1.5.31\r\nGroovy:3.0.9\r\nAnt: Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\nJVM:11.0.15 (Oracle Corporation 11.0.15+8-LTS-149)\r\nOS: Windows 10 10.0 amd64\r\n\r\nAnd the eclipse plug-in for Gradle is Buildship Gradle Integration 3.0\r\n\r\nWhat can cause this because I understand from previous searches it should be Gradle version related, but I think I&#39;m on my last version.\r\n\r\nThank you,","title":"Could not find method implementation()","body":"<p>I know this was asked several times over but it looks like everything I try doesn't work.</p>\n<p>Also I'm new to this and I am sorry if I make any mistakes.</p>\n<p>And I try to build a java jar using Gradle and eclipse.</p>\n<p>The Gradle build looks like this:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.6.2'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n}\n\n\nrepositories {\n    mavenCentral()\n    maven { url 'https://repo.spring.io/milestone' }\n    maven { url 'https://repo.spring.io/snapshot' }\n}\n\ndefaultTasks 'clean', 'bootJar'\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    runtimeOnly 'com.oracle.database.jdbc:ojdbc8'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntest {\n    useJUnitPlatform()\n}\n\ngroup = 'com.ericsson.opt'\n//version = '0.0.1-SNAPSHOT'\nsourceCompatibility = '1.8'\n</code></pre>\n\n<p>But I always end up with :</p>\n<blockquote>\n<p>Could not find method implementation() for arguments [org.springframework.boot:spring-boot-starter-data-jpa] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.</p>\n</blockquote>\n<p>Now if I use compile instead of implement it is the same problem but with compile instead of implement.\nThe Gradle I am using is :</p>\n<p>Gradle --version</p>\n<p>Gradle 7.4.2</p>\n<p>Build time:   2022-03-31 15:25:29 UTC\nRevision:     540473b8118064efcc264694cbcaa4b677f61041</p>\n<p>Kotlin:1.5.31\nGroovy:3.0.9\nAnt: Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:11.0.15 (Oracle Corporation 11.0.15+8-LTS-149)\nOS: Windows 10 10.0 amd64</p>\n<p>And the eclipse plug-in for Gradle is Buildship Gradle Integration 3.0</p>\n<p>What can cause this because I understand from previous searches it should be Gradle version related, but I think I'm on my last version.</p>\n<p>Thank you,</p>\n"},{"tags":["java","workflow","orchestration","netflix-conductor"],"comments":[{"owner":{"account_id":2985220,"reputation":5535,"user_id":2534236,"accept_rate":72,"display_name":"Suganthan Madhavan Pillai"},"score":0,"creation_date":1656401741,"post_id":72782237,"comment_id":128556359,"body_markdown":"Are you sure the structure of `reasonForIncompletion` value won&#39;t change in the future?","body":"Are you sure the structure of <code>reasonForIncompletion</code> value won&#39;t change in the future?"},{"owner":{"account_id":2985220,"reputation":5535,"user_id":2534236,"accept_rate":72,"display_name":"Suganthan Madhavan Pillai"},"score":0,"creation_date":1656402434,"post_id":72782237,"comment_id":128556573,"body_markdown":"Matcher matcher = Pattern.compile(&quot;\\\\d+&quot;).matcher(&quot;Failed to invoke HTTP task due to: java.lang.Exception: 404 Not Found: \\&quot;{}\\&quot;&quot;);\n        while(matcher.find()) {\n            System.out.print(matcher.group(0));\n        }","body":"Matcher matcher = Pattern.compile(&quot;\\\\d+&quot;).matcher(&quot;Failed to invoke HTTP task due to: java.lang.Exception: 404 Not Found: \\&quot;{}\\&quot;&quot;);         while(matcher.find()) {             System.out.print(matcher.group(0));         }"},{"owner":{"account_id":13045424,"reputation":71,"user_id":9427417,"display_name":"swanthri"},"score":0,"creation_date":1656409441,"post_id":72782237,"comment_id":128559312,"body_markdown":"Thanks for the swift response! This structure might change in the future for other error responses. But in my case, there are a few default cases that would return the status code in &quot;reasonForIncompletion&quot; param. To handle those, would require extracting the status code from the string.","body":"Thanks for the swift response! This structure might change in the future for other error responses. But in my case, there are a few default cases that would return the status code in &quot;reasonForIncompletion&quot; param. To handle those, would require extracting the status code from the string."}],"owner":{"account_id":13045424,"reputation":71,"user_id":9427417,"display_name":"swanthri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656400895,"creation_date":1656400895,"question_id":72782237,"body_markdown":"I am using Netflix Conductor&#39;s HTTP task in my workflow to call one of the third-party APIs. For success scenarios, I am able to retrieve the status code as &quot;200&quot; in the task output, but for failure scenarios, the status code is not getting printed in the task/workflow output response. But, I am getting the error message in the &quot;*resonForIncompletion*&quot; parameter in the task summary which includes the error message in the string format, and this has a status code as well in a few cases. Below is the failure/error scenario response from the task output.\r\n\r\n    Sample:\r\n    {\r\n      &quot;response&quot;: &quot;java.lang.Exception: 404 Not Found: \\&quot;{}\\&quot;&quot;\r\n    }\r\n    \r\n    JSON response:\r\n    {\r\n    &quot;taskId&quot;: &quot;cd31283b-f209-4cfc-a024-02503300e9d8&quot;,\r\n    *&quot;reasonForIncompletion&quot;: &quot;Failed to invoke HTTP task due to: java.lang.Exception: 404 Not Found: \\&quot;{}\\&quot;&quot;*,\r\n    }\r\n\r\nI would need to extract 404 from this &quot;reasonForIncompletion&quot; parameter and should send this as a status code in the workflow/task output prameters. Could someone please help me with this.?  ","title":"How to extract a number/status code from &quot;Netflix Conductor&quot; workflow output/task output parameters?","body":"<p>I am using Netflix Conductor's HTTP task in my workflow to call one of the third-party APIs. For success scenarios, I am able to retrieve the status code as &quot;200&quot; in the task output, but for failure scenarios, the status code is not getting printed in the task/workflow output response. But, I am getting the error message in the &quot;<em>resonForIncompletion</em>&quot; parameter in the task summary which includes the error message in the string format, and this has a status code as well in a few cases. Below is the failure/error scenario response from the task output.</p>\n<pre><code>Sample:\n{\n  &quot;response&quot;: &quot;java.lang.Exception: 404 Not Found: \\&quot;{}\\&quot;&quot;\n}\n\nJSON response:\n{\n&quot;taskId&quot;: &quot;cd31283b-f209-4cfc-a024-02503300e9d8&quot;,\n*&quot;reasonForIncompletion&quot;: &quot;Failed to invoke HTTP task due to: java.lang.Exception: 404 Not Found: \\&quot;{}\\&quot;&quot;*,\n}\n</code></pre>\n<p>I would need to extract 404 from this &quot;reasonForIncompletion&quot; parameter and should send this as a status code in the workflow/task output prameters. Could someone please help me with this.?</p>\n"},{"tags":["java","kotlin","graphql","kotlin-coroutines","kotlin-multiplatform"],"answers":[{"tags":[],"owner":{"account_id":17005942,"reputation":254,"user_id":12302146,"display_name":"Huib"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656400835,"creation_date":1656400835,"answer_id":72782226,"question_id":72778989,"body_markdown":"We have pretty much the same thing in one of our projects. We have a extension function that converts the regular flow to a &quot;common&quot; flow so it can be used in both Android and iOS. \r\n\r\nYou can created flow like always, and wrap it at the end. \r\n\r\n    fun &lt;T&gt; Flow&lt;T&gt;.wrap(): CommonFlow&lt;T&gt; = CommonFlow(this)\r\n\r\n    class HelpRepository : BaseRepository() {\r\n\r\n    fun test(request: AddFeedBackRequest) = flow {\r\n\r\n        val feedBackType = if (request.type == AddFeedBackType.Bug) {\r\n            FeedbackType.BUG\r\n        } else {\r\n            FeedbackType.FEEDBACK\r\n        }\r\n\r\n        val input = AddFeedbackInput(request.note, Optional.presentIfNotNull(feedBackType))\r\n\r\n        emit(true)\r\n\r\n        val mutation = AddFeedbackMutation(input)\r\n\r\n        val response = executeMutation(mutation)\r\n\r\n        emit(false)\r\n\r\n    }\r\n    }.wrap()","title":"Kotlin multi platform flow block convert to custom wrapper flow use for ios","body":"<p>We have pretty much the same thing in one of our projects. We have a extension function that converts the regular flow to a &quot;common&quot; flow so it can be used in both Android and iOS.</p>\n<p>You can created flow like always, and wrap it at the end.</p>\n<pre><code>fun &lt;T&gt; Flow&lt;T&gt;.wrap(): CommonFlow&lt;T&gt; = CommonFlow(this)\n\nclass HelpRepository : BaseRepository() {\n\nfun test(request: AddFeedBackRequest) = flow {\n\n    val feedBackType = if (request.type == AddFeedBackType.Bug) {\n        FeedbackType.BUG\n    } else {\n        FeedbackType.FEEDBACK\n    }\n\n    val input = AddFeedbackInput(request.note, Optional.presentIfNotNull(feedBackType))\n\n    emit(true)\n\n    val mutation = AddFeedbackMutation(input)\n\n    val response = executeMutation(mutation)\n\n    emit(false)\n\n}\n}.wrap()\n</code></pre>\n"}],"owner":{"account_id":12089742,"reputation":257,"user_id":8836579,"accept_rate":38,"display_name":"ALKIN &#199;AKIRALAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72782226,"answer_count":1,"score":0,"last_activity_date":1656400835,"creation_date":1656369824,"question_id":72778989,"body_markdown":"I have a kotlin multi platform project which contains apollo graphql api \r\n\r\n**in this project i have BaseRepository Class and in this class there is a method to execute query or mutations**\r\n\r\n \r\n\r\n    suspend fun &lt;D : Query.Data&gt; executeQuery(query: Query&lt;D&gt;): ApolloResponse&lt;D&gt; {\r\n            val response = getApolloClient().query(query).execute()\r\n    \r\n            checkOperation(response)\r\n    \r\n            return response\r\n        }\r\n    \r\n        suspend fun &lt;D : Mutation.Data&gt; executeMutation(mutation: Mutation&lt;D&gt;): ApolloResponse&lt;D&gt; {\r\n            val response = getApolloClient().mutation(mutation).execute()\r\n    \r\n            checkOperation(response)\r\n    \r\n            return response\r\n        }\r\n\r\n**For example i want to use this method in Some repository like this** \r\n\r\n    class HelpRepository : BaseRepository() {\r\n    \r\n        fun test(request: AddFeedBackRequest) = flow {\r\n    \r\n            val feedBackType = if (request.type == AddFeedBackType.Bug) {\r\n                FeedbackType.BUG\r\n            } else {\r\n                FeedbackType.FEEDBACK\r\n            }\r\n    \r\n            val input = AddFeedbackInput(request.note, Optional.presentIfNotNull(feedBackType))\r\n    \r\n            emit(true)\r\n    \r\n            val mutation = AddFeedbackMutation(input)\r\n    \r\n            val response = executeMutation(mutation)\r\n    \r\n            emit(false)\r\n    \r\n        }\r\n    }\r\n\r\nwhen i add the flow scope i shouldn&#39;t be had to convert this method to a suspend function \r\n\r\ni dont want to use suspend function because of ios application. When i use suspend function its convert &quot;Kotlinx_coroutines_coreFlowCollector&quot; in xcode\r\n\r\nso i found a wrapper function like this \r\n\r\n    fun &lt;T&gt; Flow&lt;T&gt;.asCommonFlow(): CommonFlow&lt;T&gt; = CommonFlow(this)\r\n    class CommonFlow&lt;T&gt;(private val origin: Flow&lt;T&gt;) : Flow&lt;T&gt; by origin {\r\n        fun listen(block: (T) -&gt; Unit): Closeable {\r\n            val job = Job()\r\n    \r\n            onEach {\r\n                block(it)\r\n            }.launchIn(CoroutineScope(Dispatchers.Main + job))\r\n    \r\n            return object : Closeable {\r\n                override fun close() {\r\n                    job.cancel()\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n**when i use this wrapper with single variable it works exactly what i want in xcode.**\r\n\r\nbut in functions i couldn&#39;t find a proper way to do this\r\n\r\n**i need a wrapper like** \r\n\r\n    = commonFlow {\r\n    }\r\n    \r\n    instead of this\r\n    \r\n    = flow {\r\n    }\r\n\r\n**to use this method as a commonFlow wrapper**\r\n\r\nCan you help me ?\r\n","title":"Kotlin multi platform flow block convert to custom wrapper flow use for ios","body":"<p>I have a kotlin multi platform project which contains apollo graphql api</p>\n<p><strong>in this project i have BaseRepository Class and in this class there is a method to execute query or mutations</strong></p>\n<pre><code>suspend fun &lt;D : Query.Data&gt; executeQuery(query: Query&lt;D&gt;): ApolloResponse&lt;D&gt; {\n        val response = getApolloClient().query(query).execute()\n\n        checkOperation(response)\n\n        return response\n    }\n\n    suspend fun &lt;D : Mutation.Data&gt; executeMutation(mutation: Mutation&lt;D&gt;): ApolloResponse&lt;D&gt; {\n        val response = getApolloClient().mutation(mutation).execute()\n\n        checkOperation(response)\n\n        return response\n    }\n</code></pre>\n<p><strong>For example i want to use this method in Some repository like this</strong></p>\n<pre><code>class HelpRepository : BaseRepository() {\n\n    fun test(request: AddFeedBackRequest) = flow {\n\n        val feedBackType = if (request.type == AddFeedBackType.Bug) {\n            FeedbackType.BUG\n        } else {\n            FeedbackType.FEEDBACK\n        }\n\n        val input = AddFeedbackInput(request.note, Optional.presentIfNotNull(feedBackType))\n\n        emit(true)\n\n        val mutation = AddFeedbackMutation(input)\n\n        val response = executeMutation(mutation)\n\n        emit(false)\n\n    }\n}\n</code></pre>\n<p>when i add the flow scope i shouldn't be had to convert this method to a suspend function</p>\n<p>i dont want to use suspend function because of ios application. When i use suspend function its convert &quot;Kotlinx_coroutines_coreFlowCollector&quot; in xcode</p>\n<p>so i found a wrapper function like this</p>\n<pre><code>fun &lt;T&gt; Flow&lt;T&gt;.asCommonFlow(): CommonFlow&lt;T&gt; = CommonFlow(this)\nclass CommonFlow&lt;T&gt;(private val origin: Flow&lt;T&gt;) : Flow&lt;T&gt; by origin {\n    fun listen(block: (T) -&gt; Unit): Closeable {\n        val job = Job()\n\n        onEach {\n            block(it)\n        }.launchIn(CoroutineScope(Dispatchers.Main + job))\n\n        return object : Closeable {\n            override fun close() {\n                job.cancel()\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>when i use this wrapper with single variable it works exactly what i want in xcode.</strong></p>\n<p>but in functions i couldn't find a proper way to do this</p>\n<p><strong>i need a wrapper like</strong></p>\n<pre><code>= commonFlow {\n}\n\ninstead of this\n\n= flow {\n}\n</code></pre>\n<p><strong>to use this method as a commonFlow wrapper</strong></p>\n<p>Can you help me ?</p>\n"},{"tags":["java","android","android-widget","homescreen"],"comments":[{"owner":{"account_id":33655,"reputation":26403,"user_id":94363,"accept_rate":74,"display_name":"rds"},"score":0,"creation_date":1467308776,"post_id":16100926,"comment_id":63691201,"body_markdown":"Possible duplicate of [Binding AppWidgets to AppWidgetHost - Android](http://stackoverflow.com/questions/4258579/binding-appwidgets-to-appwidgethost-android)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/4258579/binding-appwidgets-to-appwidgethost-android\">Binding AppWidgets to AppWidgetHost - Android</a>"},{"owner":{"account_id":5559444,"reputation":43202,"user_id":4409409,"display_name":"Daniel Nugent"},"score":0,"creation_date":1467329277,"post_id":16100926,"comment_id":63700587,"body_markdown":"@rds It looks like this should actually be the dupe target for the other one.  This one has more useful answers, and has been viewed about twice as many times as the other one.  See here: http://meta.stackoverflow.com/questions/252929/which-question-is-the-better-reference-for-a-duplicate","body":"@rds It looks like this should actually be the dupe target for the other one.  This one has more useful answers, and has been viewed about twice as many times as the other one.  See here: <a href=\"http://meta.stackoverflow.com/questions/252929/which-question-is-the-better-reference-for-a-duplicate\" title=\"which question is the better reference for a duplicate\">meta.stackoverflow.com/questions/252929/&hellip;</a>"},{"owner":{"account_id":6927787,"reputation":14579,"user_id":5318303,"accept_rate":39,"display_name":"Mir-Ismaili"},"score":0,"creation_date":1482767212,"post_id":16100926,"comment_id":69869465,"body_markdown":"How can add **an App Widget**? I need it but don&#39;t know how.","body":"How can add <b>an App Widget</b>? I need it but don&#39;t know how."},{"owner":{"account_id":5078359,"reputation":1125,"user_id":4075178,"accept_rate":31,"display_name":"Vikas Pandey"},"score":0,"creation_date":1672190462,"post_id":16100926,"comment_id":132239247,"body_markdown":"I want to take users to Select Widget screen, the one we get by long pressing the launcher screen and selecting Widgets, if appWidgetManager.isRequestPinAppWidgetSupported() return sfalse. I have used - Intent(AppWidgetManager.ACTION_APPWIDGET_PICK), but it opens up a dialog with all the widget with title Select a Widget, but nothings happens after clicking on an widget item","body":"I want to take users to Select Widget screen, the one we get by long pressing the launcher screen and selecting Widgets, if appWidgetManager.isRequestPinAppWidgetSupported() return sfalse. I have used - Intent(AppWidgetManager.ACTION_APPWIDGET_PICK), but it opens up a dialog with all the widget with title Select a Widget, but nothings happens after clicking on an widget item"}],"answers":[{"tags":[],"owner":{"account_id":297962,"reputation":54236,"user_id":603742,"accept_rate":33,"display_name":"stinepike"},"down_vote_count":1,"up_vote_count":32,"is_accepted":true,"score":31,"last_activity_date":1366362985,"creation_date":1366362387,"answer_id":16101039,"question_id":16100926,"body_markdown":"It is not possible from a app to place a widget in the home screen. Only the home screen can add app widgets to the home screen.\r\n\r\nsimilar links [link1][1], [link2][2], [link3][3]\r\n\r\nBut you can offer user to pick widget from widgetpicker.\r\n\r\n\t\tIntent pickIntent = new Intent(AppWidgetManager.ACTION_APPWIDGET_PICK);\r\n\t\tpickIntent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, AppWidgetID);\r\n\t\tstartActivityForResult(pickIntent, KEY_CODE);\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/7794568/931982\r\n  [2]: https://stackoverflow.com/a/5104954/931982\r\n  [3]: https://groups.google.com/forum/?fromgroups=#!topic/android-developers/IxJFum0eaQ8","title":"How to add a widget to the Android home screen from my app?","body":"<p>It is not possible from a app to place a widget in the home screen. Only the home screen can add app widgets to the home screen.</p>\n\n<p>similar links <a href=\"https://stackoverflow.com/a/7794568/931982\">link1</a>, <a href=\"https://stackoverflow.com/a/5104954/931982\">link2</a>, <a href=\"https://groups.google.com/forum/?fromgroups=#!topic/android-developers/IxJFum0eaQ8\" rel=\"noreferrer\">link3</a></p>\n\n<p>But you can offer user to pick widget from widgetpicker.</p>\n\n<pre><code>    Intent pickIntent = new Intent(AppWidgetManager.ACTION_APPWIDGET_PICK);\n    pickIntent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, AppWidgetID);\n    startActivityForResult(pickIntent, KEY_CODE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25196,"reputation":9529,"user_id":64605,"accept_rate":85,"display_name":"Juozas Kontvainis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1366362413,"creation_date":1366362413,"answer_id":16101045,"question_id":16100926,"body_markdown":"AFAIK default launcher app does not support this. The reason is that user should place everything on the home screen himself. Allowing to place widgets from an application would open doors for apps to &quot;spam&quot; user&#39;s home with their &quot;useful&quot; widgets.","title":"How to add a widget to the Android home screen from my app?","body":"<p>AFAIK default launcher app does not support this. The reason is that user should place everything on the home screen himself. Allowing to place widgets from an application would open doors for apps to \"spam\" user's home with their \"useful\" widgets.</p>\n"},{"tags":[],"owner":{"account_id":1721603,"reputation":523,"user_id":1577295,"display_name":"DalvikDroid"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1547222774,"creation_date":1497410886,"answer_id":44534896,"question_id":16100926,"body_markdown":"This was answered a long time ago, but in case anyone stumbles upon this question I thought I should provide an up-to-date answer.\r\n\r\nAs of Android O (API 26), you can now pin widgets to the user&#39;s launcher from your app! \r\n\r\nSimply create the widget in your app&#39;s AndroidManifest file and use [AppWidgetManager][1] to request that the widget be pinned to the launcher. Note that it is up to the launcher to support this feature, so you must call AppWidgetManager&#39;s [isRequestPinAppWidgetSupported()][2] method before requesting to pin it.\r\n\r\nHere&#39;s some documentation from Google that goes into more detail: https://developer.android.com/preview/features/pinning-shortcuts-widgets.html#widgets\r\n\r\nHope this helps!\r\n\r\nEdit: It looks like the documentation pages have changed since I posted this answer. Here is a more helpful link that gives a code example of how to pin a widget to a launcher: [https://developer.android.com/guide/topics/appwidgets/#Pinning][3]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/appwidget/AppWidgetManager.html\r\n  [2]: https://developer.android.com/reference/android/appwidget/AppWidgetManager.html#isRequestPinAppWidgetSupported()\r\n  [3]: https://developer.android.com/guide/topics/appwidgets/#Pinning","title":"How to add a widget to the Android home screen from my app?","body":"<p>This was answered a long time ago, but in case anyone stumbles upon this question I thought I should provide an up-to-date answer.</p>\n\n<p>As of Android O (API 26), you can now pin widgets to the user's launcher from your app! </p>\n\n<p>Simply create the widget in your app's AndroidManifest file and use <a href=\"https://developer.android.com/reference/android/appwidget/AppWidgetManager.html\" rel=\"noreferrer\">AppWidgetManager</a> to request that the widget be pinned to the launcher. Note that it is up to the launcher to support this feature, so you must call AppWidgetManager's <a href=\"https://developer.android.com/reference/android/appwidget/AppWidgetManager.html#isRequestPinAppWidgetSupported()\" rel=\"noreferrer\">isRequestPinAppWidgetSupported()</a> method before requesting to pin it.</p>\n\n<p>Here's some documentation from Google that goes into more detail: <a href=\"https://developer.android.com/preview/features/pinning-shortcuts-widgets.html#widgets\" rel=\"noreferrer\">https://developer.android.com/preview/features/pinning-shortcuts-widgets.html#widgets</a></p>\n\n<p>Hope this helps!</p>\n\n<p>Edit: It looks like the documentation pages have changed since I posted this answer. Here is a more helpful link that gives a code example of how to pin a widget to a launcher: <a href=\"https://developer.android.com/guide/topics/appwidgets/#Pinning\" rel=\"noreferrer\">https://developer.android.com/guide/topics/appwidgets/#Pinning</a></p>\n"},{"tags":[],"owner":{"account_id":18869746,"reputation":151,"user_id":13764675,"display_name":"gazcn007"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1656400812,"creation_date":1656400812,"answer_id":72782215,"question_id":16100926,"body_markdown":"Looks like Dalvik Droid&#39;s links are updated again, the newest link is at [requestPinAppWidget](https://developer.android.com/reference/android/appwidget/AppWidgetManager#requestPinAppWidget)\r\n\r\nExample:\r\nin MainActivity.java:\r\n\r\n```java\r\nprivate void requestToPinWidget(){\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            AppWidgetManager appWidgetManager =\r\n                    getSystemService(AppWidgetManager.class);\r\n            ComponentName myProvider =\r\n                    new ComponentName(this, AppWidget.class);\r\n            assert appWidgetManager != null;\r\n            if (appWidgetManager.isRequestPinAppWidgetSupported()) {\r\n                Intent pinnedWidgetCallbackIntent = new Intent(this, MainActivity.class);\r\n                PendingIntent successCallback = PendingIntent.getBroadcast(this, 0,\r\n                        pinnedWidgetCallbackIntent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n                appWidgetManager.requestPinAppWidget(myProvider, null, successCallback);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nAny anywhere in you code you have call `requestToPinWidget()` to prompt to see if the user wants to add it to the desktop.\r\n\r\nOnly thing is that this will not add to user&#39;s home screen, it will be appended to the page where you see all the apps:\r\n\r\n[![Demo for Android Widget Prompt][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jp2fL.png","title":"How to add a widget to the Android home screen from my app?","body":"<p>Looks like Dalvik Droid's links are updated again, the newest link is at <a href=\"https://developer.android.com/reference/android/appwidget/AppWidgetManager#requestPinAppWidget\" rel=\"noreferrer\">requestPinAppWidget</a></p>\n<p>Example:\nin MainActivity.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void requestToPinWidget(){\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            AppWidgetManager appWidgetManager =\n                    getSystemService(AppWidgetManager.class);\n            ComponentName myProvider =\n                    new ComponentName(this, AppWidget.class);\n            assert appWidgetManager != null;\n            if (appWidgetManager.isRequestPinAppWidgetSupported()) {\n                Intent pinnedWidgetCallbackIntent = new Intent(this, MainActivity.class);\n                PendingIntent successCallback = PendingIntent.getBroadcast(this, 0,\n                        pinnedWidgetCallbackIntent, PendingIntent.FLAG_UPDATE_CURRENT);\n                appWidgetManager.requestPinAppWidget(myProvider, null, successCallback);\n            }\n        }\n    }\n</code></pre>\n<p>Any anywhere in you code you have call <code>requestToPinWidget()</code> to prompt to see if the user wants to add it to the desktop.</p>\n<p>Only thing is that this will not add to user's home screen, it will be appended to the page where you see all the apps:</p>\n<p><a href=\"https://i.stack.imgur.com/Jp2fL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Jp2fL.png\" alt=\"Demo for Android Widget Prompt\" /></a></p>\n"}],"owner":{"account_id":225067,"reputation":29525,"user_id":485337,"accept_rate":91,"display_name":"Adam Arold"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25332,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":16101039,"answer_count":4,"score":21,"last_activity_date":1656400812,"creation_date":1366361988,"question_id":16100926,"body_markdown":"I&#39;m writing an application which should be able to add widgets (just text boxes) to the home screen of the user&#39;s phone when the user instructs my app to do so. How can I do such a thing?\r\n\r\nI know that I can add an app widget but how about adding more?","title":"How to add a widget to the Android home screen from my app?","body":"<p>I'm writing an application which should be able to add widgets (just text boxes) to the home screen of the user's phone when the user instructs my app to do so. How can I do such a thing?</p>\n\n<p>I know that I can add an app widget but how about adding more?</p>\n"},{"tags":["java","spring-boot","tomcat","jetty","embedded-jetty"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1656400557,"post_id":72782129,"comment_id":128556010,"body_markdown":"The EL implementation has been unified over/for the different servlet containers as to not have surprises.","body":"The EL implementation has been unified over/for the different servlet containers as to not have surprises."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656400743,"creation_date":1656400743,"answer_id":72782202,"question_id":72782129,"body_markdown":"\r\nIn Spring Boot 2.5 the decision has been made to unify the EL implementation to the Apache one (See [this issue][1]). \r\n\r\nHence all containers now depend on the `tomcat-embed-el` as that is the Apache implementation (and regular API) for the Javax EL. Hence Jetty (and Undertow as well) have this small dependency on a Tomcat jar. \r\n\r\n[1]: https://github.com/spring-projects/spring-boot/issues/24744","title":"Why does spring-boot-starter-jetty depend on tomcat-embed-el?","body":"<p>In Spring Boot 2.5 the decision has been made to unify the EL implementation to the Apache one (See <a href=\"https://github.com/spring-projects/spring-boot/issues/24744\" rel=\"nofollow noreferrer\">this issue</a>).</p>\n<p>Hence all containers now depend on the <code>tomcat-embed-el</code> as that is the Apache implementation (and regular API) for the Javax EL. Hence Jetty (and Undertow as well) have this small dependency on a Tomcat jar.</p>\n"}],"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1410,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72782202,"answer_count":1,"score":0,"last_activity_date":1656400743,"creation_date":1656400409,"question_id":72782129,"body_markdown":"We are using Spring-Boot (2.7.x) with Jetty. Our dependency scanner told us, that we still have Tomcat dependencies in our dependency tree.\r\n\r\nWhen looking at the POM for spring-boot-starter-jetty 2.7.1 I found out that spring-boot-starter-jetty depends on tomcat-embed-el.\r\nThe tomcat-embed-el contains classes from the javax.el and org.apache.el package, so I thinks this is an/the Expression-Language-Parser implementation for Tomcat?\r\n\r\nAnybody knows why? I downloaded the same version of Standalone-Jetty and it doesn&#39;t have this tomcat library.\r\n\r\nSee here for the dependencies https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-jetty/2.7.1","title":"Why does spring-boot-starter-jetty depend on tomcat-embed-el?","body":"<p>We are using Spring-Boot (2.7.x) with Jetty. Our dependency scanner told us, that we still have Tomcat dependencies in our dependency tree.</p>\n<p>When looking at the POM for spring-boot-starter-jetty 2.7.1 I found out that spring-boot-starter-jetty depends on tomcat-embed-el.\nThe tomcat-embed-el contains classes from the javax.el and org.apache.el package, so I thinks this is an/the Expression-Language-Parser implementation for Tomcat?</p>\n<p>Anybody knows why? I downloaded the same version of Standalone-Jetty and it doesn't have this tomcat library.</p>\n<p>See here for the dependencies <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-jetty/2.7.1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-jetty/2.7.1</a></p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656265560,"creation_date":1656190022,"answer_id":72757259,"question_id":72757200,"body_markdown":"You have a Bidirectional relation and therefore an endless loop if json tries to deserialize the Object.\r\n\r\nYou can use ``@JsonIgnore`` to break the loop or use DTOs to return at the endpoint\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;invoice&quot;)\r\npublic class Invoice {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n    private int id;\r\n    @Column(name = &quot;serial_number&quot;)\r\n    private long serialNumber;\r\n    @Column(name = &quot;status&quot;)\r\n    private String status;\r\n    @Column(name = &quot;created_date&quot;)\r\n    private Timestamp createdDate;\r\n    @Column(name = &quot;is_deleted&quot;)\r\n    private boolean isDeleted;\r\n    @ManyToOne\r\n    @JsonIgnore\r\n    @JoinColumn(name = &quot;customer_id&quot;)\r\n    private Customer customer;\r\n}\r\n```\r\n\r\nDTO would look something like this (I like to use records for this but since I don&#39;t know if you use Java 17 I still use class):\r\n\r\nCustomer:\r\n```java\r\n@Data\r\npublic class CustomerDTO {\r\n    private final int id;\r\n    private final long serialNumber;\r\n    private final String firstName;\r\n    private final String lastName;\r\n    private final String email;\r\n    private final String mobileNumber;\r\n    private final boolean isDeleted;\r\n\r\n    private final Set &lt;Invoice&gt; invoices;\r\n\r\n    public static CustomerDTO fromModel(Customer customer) {\r\n        return new CustomerDTO(\r\n            customer.getId(),\r\n            customer.getSerialNumber(),\r\n            customer.getFirstName(),\r\n            customer.getLastName(),\r\n            customer.getEmail(),\r\n            customer.getMobileNumber(),\r\n            customer.isDeleted(),\r\n            customer.getInvoices()\r\n                    .stream()\r\n                    .map(InvoiceDTO::fromModel)\r\n                    .collect(Collectors.toSet())\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nInvoice (here you don&#39;t show the customer again):\r\n```java\r\n@Data\r\npublic class InvoiceDTO {\r\n    private final int id;\r\n    private final String status;\r\n    private final Timestamp createdDate;\r\n    private final boolean isDeleted;\r\n\r\n    public static InvoiceDTO fromModel(Invoice invoice) {\r\n        return new InvoiceDTO(\r\n            invoice.getId(),\r\n            invoice.getStatus(),\r\n            invoice.getCreatedDate(),\r\n            invoice.isDeleted()\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nController:\r\n```java\r\n@GetMapping(&quot;/viewList&quot;)\r\npublic ResponseEntity&lt;List&lt;CustomerDTO&gt;&gt; getAllCustomers() {\r\n   List&lt;CustomerDTO&gt; customers = new ArrayList&lt;&gt;();\r\n   customers = customerService.getAllCustomers()\r\n                              .stream()\r\n                              .map(CustomerDTO::fromModel)\r\n                              .toList() //Depending on Java Version .collect(Collectors.toList());\r\n   if (customers.isEmpty()) {\r\n      return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n   }\r\n   return new ResponseEntity&lt;&gt;(customers., HttpStatus.OK);\r\n}\r\n","title":"get API in spring boot with one to many relation","body":"<p>You have a Bidirectional relation and therefore an endless loop if json tries to deserialize the Object.</p>\n<p>You can use <code>@JsonIgnore</code> to break the loop or use DTOs to return at the endpoint</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;invoice&quot;)\npublic class Invoice {\n\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    private int id;\n    @Column(name = &quot;serial_number&quot;)\n    private long serialNumber;\n    @Column(name = &quot;status&quot;)\n    private String status;\n    @Column(name = &quot;created_date&quot;)\n    private Timestamp createdDate;\n    @Column(name = &quot;is_deleted&quot;)\n    private boolean isDeleted;\n    @ManyToOne\n    @JsonIgnore\n    @JoinColumn(name = &quot;customer_id&quot;)\n    private Customer customer;\n}\n</code></pre>\n<p>DTO would look something like this (I like to use records for this but since I don't know if you use Java 17 I still use class):</p>\n<p>Customer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class CustomerDTO {\n    private final int id;\n    private final long serialNumber;\n    private final String firstName;\n    private final String lastName;\n    private final String email;\n    private final String mobileNumber;\n    private final boolean isDeleted;\n\n    private final Set &lt;Invoice&gt; invoices;\n\n    public static CustomerDTO fromModel(Customer customer) {\n        return new CustomerDTO(\n            customer.getId(),\n            customer.getSerialNumber(),\n            customer.getFirstName(),\n            customer.getLastName(),\n            customer.getEmail(),\n            customer.getMobileNumber(),\n            customer.isDeleted(),\n            customer.getInvoices()\n                    .stream()\n                    .map(InvoiceDTO::fromModel)\n                    .collect(Collectors.toSet())\n        );\n    }\n}\n</code></pre>\n<p>Invoice (here you don't show the customer again):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class InvoiceDTO {\n    private final int id;\n    private final String status;\n    private final Timestamp createdDate;\n    private final boolean isDeleted;\n\n    public static InvoiceDTO fromModel(Invoice invoice) {\n        return new InvoiceDTO(\n            invoice.getId(),\n            invoice.getStatus(),\n            invoice.getCreatedDate(),\n            invoice.isDeleted()\n        );\n    }\n}\n</code></pre>\n<p>Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/viewList&quot;)\npublic ResponseEntity&lt;List&lt;CustomerDTO&gt;&gt; getAllCustomers() {\n   List&lt;CustomerDTO&gt; customers = new ArrayList&lt;&gt;();\n   customers = customerService.getAllCustomers()\n                              .stream()\n                              .map(CustomerDTO::fromModel)\n                              .toList() //Depending on Java Version .collect(Collectors.toList());\n   if (customers.isEmpty()) {\n      return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n   }\n   return new ResponseEntity&lt;&gt;(customers., HttpStatus.OK);\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user12952808"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656400168,"creation_date":1656193246,"answer_id":72757513,"question_id":72757200,"body_markdown":"Do not open the entity class directly to the outside world\r\n\r\nAs DTO use for example:\r\n```java\r\npublic class InvoiceDTO {\r\n\r\n    private int id;\r\n    private long serialNumber;\r\n    private String status;\r\n    private Timestamp createdDate;\r\n    private boolean isDeleted;\r\n    private CustomerDTO customer;\r\n}\r\n```\r\n\r\nSee it applied in my GitHub repo [FurnitureStoreApplication, example DTO classes in package `dto`][1]:\r\n\r\n\r\n  [1]: https://github.com/musanabiyev/FurnitureStoreApplication/tree/main/src/main/java/com/company/dto","title":"get API in spring boot with one to many relation","body":"<p>Do not open the entity class directly to the outside world</p>\n<p>As DTO use for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class InvoiceDTO {\n\n    private int id;\n    private long serialNumber;\n    private String status;\n    private Timestamp createdDate;\n    private boolean isDeleted;\n    private CustomerDTO customer;\n}\n</code></pre>\n<p>See it applied in my GitHub repo <a href=\"https://github.com/musanabiyev/FurnitureStoreApplication/tree/main/src/main/java/com/company/dto\" rel=\"nofollow noreferrer\">FurnitureStoreApplication, example DTO classes in package <code>dto</code></a>:</p>\n"}],"owner":{"account_id":24821818,"reputation":157,"user_id":18702081,"display_name":"renad sahal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656400168,"creation_date":1656189430,"question_id":72757200,"body_markdown":"I have two models that are having one to many relation (customers have many invoices) \r\nso i  create one - many relation on it, this is my **customer class** :\r\n\r\n    @Entity\r\n    @Table(name = &quot;customer&quot;)\r\n    public class Customer {\r\n        @Id\r\n        @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n        private int id;\r\n        @Column(name = &quot;serial_number&quot;)\r\n        private long serialNumber;\r\n        @Column(name = &quot;first_name&quot;)\r\n        private String firstName;\r\n        @Column(name = &quot;last_name&quot;)\r\n        private String lastName;\r\n        @Column(name = &quot;email&quot;)\r\n        private String email;\r\n        @Column(name = &quot;mobile_number&quot;)\r\n        private String mobileNumber;\r\n        @Column(name = &quot;is_deleted&quot;)\r\n        private boolean isDeleted;\r\n    \r\n    \r\n        @OneToMany\r\n        private Set &lt;Invoice&gt; invoices;\r\n    }\r\n\r\nand this is **invoices class** : \r\n\r\n    @Entity\r\n    @Table(name = &quot;invoice&quot;)\r\n    public class Invoice {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n        private int id;\r\n        @Column(name = &quot;serial_number&quot;)\r\n        private long serialNumber;\r\n        @Column(name = &quot;status&quot;)\r\n        private String status;\r\n        @Column(name = &quot;created_date&quot;)\r\n        private Timestamp createdDate;\r\n        @Column(name = &quot;is_deleted&quot;)\r\n        private boolean isDeleted;\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;customer_id&quot;)\r\n        private Customer customer;\r\n    }\r\n\r\n\r\nand then i create GET API ( get customers ) but it&#39;s nor working and return this error :\r\n\r\n**nested exception is com.fasterxml.jackson.databind.JsonMappingException: could not extract ResultSet (through reference chain: java.util.ArrayList[0]-&gt;com.example.invoices.model.Customer[&quot;invoices&quot;]), path=/customer/viewList}]**\r\n\r\n\r\nand this is my api : \r\n\r\n    public List&lt;Customer&gt; getAllCustomers() {\r\n    \tList&lt;Customer&gt; customers =  cutomerRepository.findAll();\r\n    \treturn customers;\r\n    }\r\n\r\nand **controller** : \r\n \r\n\r\n       @GetMapping(&quot;/viewList&quot;)\r\n    \tpublic ResponseEntity&lt;List&lt;Customer&gt;&gt; getAllCustomers() {\r\n    \t\t\tList&lt;Customer&gt; customers = new ArrayList&lt;&gt;();\r\n    \t\t\tcustomers = customerService.getAllCustomers();\r\n    \t\t\tif (customers.isEmpty()) {\r\n    \t\t\t\treturn new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n    \t\t\t}\r\n    \t\t\treturn new ResponseEntity&lt;&gt;(customers, HttpStatus.OK);\r\n    \t}","title":"get API in spring boot with one to many relation","body":"<p>I have two models that are having one to many relation (customers have many invoices)\nso i  create one - many relation on it, this is my <strong>customer class</strong> :</p>\n<pre><code>@Entity\n@Table(name = &quot;customer&quot;)\npublic class Customer {\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    private int id;\n    @Column(name = &quot;serial_number&quot;)\n    private long serialNumber;\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n    @Column(name = &quot;email&quot;)\n    private String email;\n    @Column(name = &quot;mobile_number&quot;)\n    private String mobileNumber;\n    @Column(name = &quot;is_deleted&quot;)\n    private boolean isDeleted;\n\n\n    @OneToMany\n    private Set &lt;Invoice&gt; invoices;\n}\n</code></pre>\n<p>and this is <strong>invoices class</strong> :</p>\n<pre><code>@Entity\n@Table(name = &quot;invoice&quot;)\npublic class Invoice {\n\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    private int id;\n    @Column(name = &quot;serial_number&quot;)\n    private long serialNumber;\n    @Column(name = &quot;status&quot;)\n    private String status;\n    @Column(name = &quot;created_date&quot;)\n    private Timestamp createdDate;\n    @Column(name = &quot;is_deleted&quot;)\n    private boolean isDeleted;\n    @ManyToOne\n    @JoinColumn(name = &quot;customer_id&quot;)\n    private Customer customer;\n}\n</code></pre>\n<p>and then i create GET API ( get customers ) but it's nor working and return this error :</p>\n<p><strong>nested exception is com.fasterxml.jackson.databind.JsonMappingException: could not extract ResultSet (through reference chain: java.util.ArrayList[0]-&gt;com.example.invoices.model.Customer[&quot;invoices&quot;]), path=/customer/viewList}]</strong></p>\n<p>and this is my api :</p>\n<pre><code>public List&lt;Customer&gt; getAllCustomers() {\n    List&lt;Customer&gt; customers =  cutomerRepository.findAll();\n    return customers;\n}\n</code></pre>\n<p>and <strong>controller</strong> :</p>\n<pre><code>   @GetMapping(&quot;/viewList&quot;)\n    public ResponseEntity&lt;List&lt;Customer&gt;&gt; getAllCustomers() {\n            List&lt;Customer&gt; customers = new ArrayList&lt;&gt;();\n            customers = customerService.getAllCustomers();\n            if (customers.isEmpty()) {\n                return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n            }\n            return new ResponseEntity&lt;&gt;(customers, HttpStatus.OK);\n    }\n</code></pre>\n"},{"tags":["java","json","gson"],"answers":[{"tags":[],"owner":{"account_id":25617055,"reputation":47,"user_id":19389498,"display_name":"JonathanQXP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656400078,"creation_date":1656400078,"answer_id":72782065,"question_id":72781815,"body_markdown":"@SerializedName might help you . like this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public final class Context {\r\n            @SerializedName(&quot;@odata.context&quot;)\r\n            public String context;\r\n        \r\n        }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to read json variable &quot;@odata.context&quot; in Java using Gson?","body":"<p>@SerializedName might help you . like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>public final class Context {\n        @SerializedName(\"@odata.context\")\n        public String context;\n    \n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72782065,"answer_count":1,"score":0,"last_activity_date":1656400078,"creation_date":1656398744,"question_id":72781815,"body_markdown":"In Json, i have following\r\n\r\n    {  &quot;@odata.context&quot;:&quot;https://te.avolutionsoftware.com/api/$metadata#Components/$entity&quot;\r\n\r\nWhen i translate Json to java i get following:\r\n\r\n    private String @odata.context;\r\n\r\nand compiler is not allowing that. \r\n\r\nAny idea how to read this variable particularly in Gson library or in general what to search?","title":"How to read json variable &quot;@odata.context&quot; in Java using Gson?","body":"<p>In Json, i have following</p>\n<pre><code>{  &quot;@odata.context&quot;:&quot;https://te.avolutionsoftware.com/api/$metadata#Components/$entity&quot;\n</code></pre>\n<p>When i translate Json to java i get following:</p>\n<pre><code>private String @odata.context;\n</code></pre>\n<p>and compiler is not allowing that.</p>\n<p>Any idea how to read this variable particularly in Gson library or in general what to search?</p>\n"},{"tags":["java","maven","apache-nifi"],"answers":[{"tags":[],"owner":{"account_id":15689318,"reputation":21,"user_id":11320951,"display_name":"maria_so"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656399653,"creation_date":1655994684,"answer_id":72731949,"question_id":69972611,"body_markdown":"I had the same issues the other day and I solved it by using  `AbstractControllerService` instead of `DBCPConnectionPool` therefore not needing `org.apache.nifi.dbcp.DBCPService` anymore. Therefore my code would look like this: \r\n```\r\nMyService DBCPService = context.getProperty(DBCPConnectionPool_SERVICE)\r\n                .asControllerService(MyService.class);\r\n\r\nConnection con = DBCPService.getConnection();\r\n```\r\nMyService is the custom interface that extends ControllerService.(you have to use it when you also define the `PropertyDescriptor DBCPConnectionPool_SERVICE`)\r\n\r\nAnd `StandardMyService` the class that extends `AbstractControllerService` and implements `MyService` and `getConnection()` from it.","title":"NiFI :- Failed to create Extension Definition for CONTROLLER_SERVICE org.apache.nifi.record.sink.lookup.RecordSinkServiceLookup","body":"<p>I had the same issues the other day and I solved it by using  <code>AbstractControllerService</code> instead of <code>DBCPConnectionPool</code> therefore not needing <code>org.apache.nifi.dbcp.DBCPService</code> anymore. Therefore my code would look like this:</p>\n<pre><code>MyService DBCPService = context.getProperty(DBCPConnectionPool_SERVICE)\n                .asControllerService(MyService.class);\n\nConnection con = DBCPService.getConnection();\n</code></pre>\n<p>MyService is the custom interface that extends ControllerService.(you have to use it when you also define the <code>PropertyDescriptor DBCPConnectionPool_SERVICE</code>)</p>\n<p>And <code>StandardMyService</code> the class that extends <code>AbstractControllerService</code> and implements <code>MyService</code> and <code>getConnection()</code> from it.</p>\n"}],"owner":{"account_id":22872822,"reputation":141,"user_id":17015600,"display_name":"vigneshwar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656399653,"creation_date":1636970909,"question_id":69972611,"body_markdown":"I&#39;m trying to use DBCPConnectionPool service in my custom processor. So, how to use in-built controller services (which are already available on NiFi) in our custom processors.\r\n\r\nHere are my properties in *-nar/-&gt;pom.xml\r\n\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.sample.com&lt;/groupId&gt;\r\n                &lt;artifactId&gt;nifi-customprocessor-processors&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;nifi-standard-services-api-nar&lt;/artifactId&gt;\r\n                &lt;version&gt;1.14.0&lt;/version&gt;\r\n                &lt;type&gt;nar&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\nHere are my dependencies in *processors/-&gt;pom.xml\r\n\r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;nifi-api&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;nifi-utils&lt;/artifactId&gt;\r\n                &lt;version&gt;1.14.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;nifi-mock&lt;/artifactId&gt;\r\n                &lt;version&gt;1.14.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;nifi-dbcp-service&lt;/artifactId&gt;\r\n                &lt;version&gt;1.14.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;nifi-dbcp-service-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.14.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nAnd here is my propertydescriptor for DBCPConnetionPool service :-\r\n\r\n    public static final PropertyDescriptor DBCPConnectionPool_SERVICE = new PropertyDescriptor.Builder()\r\n                .name(&quot;DBCPConnectionPoolLookup Service&quot;)\r\n                .description(&quot;The Controller Service to use in order to establish a connection&quot;)\r\n                .required(true)\r\n                .dynamic(true)\r\n                .identifiesControllerService(DBCPService.class)\r\n                .addValidator(StandardValidators.NON_EMPTY_VALIDATOR)\r\n                .build();\r\n\r\nand in my OnTrigger method I didn&#39;t used it as :-\r\n\r\n    DBCPService DBCPService = context.getProperty(DBCPConnectionPool_SERVICE)\r\n                    .asControllerService(DBCPService.class);\r\n    \r\n    Connection con = DBCPService.getConnection();\r\nand was trying to use this con object as in regular passion createStatement-&gt;executeQuery.\r\n\r\nWhen I tried to package it using `mvn clean install` it started throwing error as **: A required class was missing while executing org.apache.nifi:nifi-nar-maven-plugi\r\nn:1.3.1:nar: org/apache/nifi/record/sink/RecordSinkService** \r\nthen I added the following dependencies in processors/-&gt;pom.xml\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;nifi-record-sink-service&lt;/artifactId&gt;\r\n            &lt;version&gt;1.14.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;nifi-record-sink-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.14.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThis time it was new error as :- **Failed to create Extension Definition for CONTROLLER_SERVICE org.apache.nifi.record.sink.lookup.RecordSinkServiceLookup: Null\r\nPointerException**\r\n\r\nI also checked by commenting out code which I have written, to check the way I&#39;m using that property was wrong but, even that didn&#39;t worked.:-\r\n\r\n    DBCPService DBCPService = context.getProperty(DBCPConnectionPool_SERVICE)\r\n                    .asControllerService(DBCPService.class);\r\n    \r\n    Connection con = DBCPService.getConnection();\r\n\r\nCan someone help me out in order to use DBCPConnectionPoolService controller service in my custom processor?","title":"NiFI :- Failed to create Extension Definition for CONTROLLER_SERVICE org.apache.nifi.record.sink.lookup.RecordSinkServiceLookup","body":"<p>I'm trying to use DBCPConnectionPool service in my custom processor. So, how to use in-built controller services (which are already available on NiFi) in our custom processors.</p>\n<p>Here are my properties in *-nar/-&gt;pom.xml</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.sample.com&lt;/groupId&gt;\n            &lt;artifactId&gt;nifi-customprocessor-processors&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\n            &lt;artifactId&gt;nifi-standard-services-api-nar&lt;/artifactId&gt;\n            &lt;version&gt;1.14.0&lt;/version&gt;\n            &lt;type&gt;nar&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Here are my dependencies in *processors/-&gt;pom.xml</p>\n<pre><code>    &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\n            &lt;artifactId&gt;nifi-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\n            &lt;artifactId&gt;nifi-utils&lt;/artifactId&gt;\n            &lt;version&gt;1.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\n            &lt;artifactId&gt;nifi-mock&lt;/artifactId&gt;\n            &lt;version&gt;1.14.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\n            &lt;artifactId&gt;nifi-dbcp-service&lt;/artifactId&gt;\n            &lt;version&gt;1.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\n            &lt;artifactId&gt;nifi-dbcp-service-api&lt;/artifactId&gt;\n            &lt;version&gt;1.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And here is my propertydescriptor for DBCPConnetionPool service :-</p>\n<pre><code>public static final PropertyDescriptor DBCPConnectionPool_SERVICE = new PropertyDescriptor.Builder()\n            .name(&quot;DBCPConnectionPoolLookup Service&quot;)\n            .description(&quot;The Controller Service to use in order to establish a connection&quot;)\n            .required(true)\n            .dynamic(true)\n            .identifiesControllerService(DBCPService.class)\n            .addValidator(StandardValidators.NON_EMPTY_VALIDATOR)\n            .build();\n</code></pre>\n<p>and in my OnTrigger method I didn't used it as :-</p>\n<pre><code>DBCPService DBCPService = context.getProperty(DBCPConnectionPool_SERVICE)\n                .asControllerService(DBCPService.class);\n\nConnection con = DBCPService.getConnection();\n</code></pre>\n<p>and was trying to use this con object as in regular passion createStatement-&gt;executeQuery.</p>\n<p>When I tried to package it using <code>mvn clean install</code> it started throwing error as <strong>: A required class was missing while executing org.apache.nifi:nifi-nar-maven-plugi\nn:1.3.1:nar: org/apache/nifi/record/sink/RecordSinkService</strong>\nthen I added the following dependencies in processors/-&gt;pom.xml</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\n        &lt;artifactId&gt;nifi-record-sink-service&lt;/artifactId&gt;\n        &lt;version&gt;1.14.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\n        &lt;artifactId&gt;nifi-record-sink-api&lt;/artifactId&gt;\n        &lt;version&gt;1.14.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>This time it was new error as :- <strong>Failed to create Extension Definition for CONTROLLER_SERVICE org.apache.nifi.record.sink.lookup.RecordSinkServiceLookup: Null\nPointerException</strong></p>\n<p>I also checked by commenting out code which I have written, to check the way I'm using that property was wrong but, even that didn't worked.:-</p>\n<pre><code>DBCPService DBCPService = context.getProperty(DBCPConnectionPool_SERVICE)\n                .asControllerService(DBCPService.class);\n\nConnection con = DBCPService.getConnection();\n</code></pre>\n<p>Can someone help me out in order to use DBCPConnectionPoolService controller service in my custom processor?</p>\n"},{"tags":["java","spring","postgresql"],"comments":[{"owner":{"account_id":101001,"reputation":119808,"user_id":271959,"display_name":"Frank Heikens"},"score":0,"creation_date":1656341460,"post_id":72773433,"comment_id":128542054,"body_markdown":"Try this, an explicit CAST(): extract(year from CAST(? AS DATE))","body":"Try this, an explicit CAST(): extract(year from CAST(? AS DATE))"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1656381923,"post_id":72773433,"comment_id":128552598,"body_markdown":"Are you trying to query for time stamps that occurred in the last 216 months?","body":"Are you trying to query for time stamps that occurred in the last 216 months?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1656381990,"post_id":72773433,"comment_id":128552608,"body_markdown":"What is the *exact* data type of your time stamp column?","body":"What is the <i>exact</i> data type of your time stamp column?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1656382086,"post_id":72773433,"comment_id":128552620,"body_markdown":"FYI, the modern *java.time* classes entirely replaced the functionality of the terrible legacy date-time classes. So no need to mix them. Seeing `Date` and `LocalDateTime` in the same line makes me cringe.","body":"FYI, the modern <i>java.time</i> classes entirely replaced the functionality of the terrible legacy date-time classes. So no need to mix them. Seeing <code>Date</code> and <code>LocalDateTime</code> in the same line makes me cringe."},{"owner":{"account_id":25403384,"reputation":1,"user_id":19427083,"display_name":""},"score":0,"creation_date":1656399699,"post_id":72773433,"comment_id":128555759,"body_markdown":"I tried explicit CAST to date and it worked. But i want to know why SQL doesn&#39;t recognized Timestamp variable.\nGiven code is just an example of code that generates such error(```dt``` can be any Timestamp date).\nThere is no column in code, i just put ```java.sql.Timestamp``` variable into request","body":"I tried explicit CAST to date and it worked. But i want to know why SQL doesn&#39;t recognized Timestamp variable. Given code is just an example of code that generates such error(<code>dt</code> can be any Timestamp date). There is no column in code, i just put <code>java.sql.Timestamp</code> variable into request"},{"owner":{"account_id":25403384,"reputation":1,"user_id":19427083,"display_name":""},"score":0,"creation_date":1656400633,"post_id":72773433,"comment_id":128556032,"body_markdown":"@BasilBourque What do u mean by time stamp column?","body":"@BasilBourque What do u mean by time stamp column?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1656403064,"post_id":72773433,"comment_id":128556819,"body_markdown":"The column in your database table in which you are storing timestamps? The column against which you are making a query?","body":"The column in your database table in which you are storing timestamps? The column against which you are making a query?"},{"owner":{"account_id":25403384,"reputation":1,"user_id":19427083,"display_name":""},"score":0,"creation_date":1656404409,"post_id":72773433,"comment_id":128557325,"body_markdown":"@BasilBourque Timestamp","body":"@BasilBourque Timestamp"}],"owner":{"account_id":25403384,"reputation":1,"user_id":19427083,"display_name":""},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656399471,"creation_date":1656338674,"question_id":72773433,"body_markdown":"Tried to do Postgre&#39;s request with java.sql.Timestamp variables, but met such error:\r\n\r\n```bad SQL grammar [select extract(year from LOCALTIMESTAMP) -extract(year from ?)]; nested exception is org.postgresql.util.PSQLException: ERROR: function pg_catalog.date_part(unknown, unknown) is not unique```\r\n\r\nI don&#39;t understand, why PostgreSql doesn&#39;t recognized Timestamp variable.\r\nCode:\r\n\r\n```\r\nprivate void myFN(Timestamp dt) {\r\n\t\trowSet = jdbcTemplate.queryForRowSet(&quot;select extract(year from LOCALTIMESTAMP) -extract(year from ?)&quot;, dt);\r\n\t\trowSet = jdbcTemplate.queryForRowSet(&quot;select extract(year from LOCALTIMESTAMP) -extract(year from ?)&quot;,\r\n\t\t\t\tnew Object[] { dt }, new int[] { Types.TIMESTAMP });\r\n\t}\r\n```\r\n\r\nP.S. SQL doesn&#39;t recognize variable in both requests.","title":"Convertion of Timestamp variable in Postgre&#39;s request","body":"<p>Tried to do Postgre's request with java.sql.Timestamp variables, but met such error:</p>\n<p><code>bad SQL grammar [select extract(year from LOCALTIMESTAMP) -extract(year from ?)]; nested exception is org.postgresql.util.PSQLException: ERROR: function pg_catalog.date_part(unknown, unknown) is not unique</code></p>\n<p>I don't understand, why PostgreSql doesn't recognized Timestamp variable.\nCode:</p>\n<pre><code>private void myFN(Timestamp dt) {\n        rowSet = jdbcTemplate.queryForRowSet(&quot;select extract(year from LOCALTIMESTAMP) -extract(year from ?)&quot;, dt);\n        rowSet = jdbcTemplate.queryForRowSet(&quot;select extract(year from LOCALTIMESTAMP) -extract(year from ?)&quot;,\n                new Object[] { dt }, new int[] { Types.TIMESTAMP });\n    }\n</code></pre>\n<p>P.S. SQL doesn't recognize variable in both requests.</p>\n"},{"tags":["java","angular","spring-boot"],"comments":[{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1646661597,"post_id":71382173,"comment_id":126171813,"body_markdown":"check your browser network tab to see the exact JSON body that is sent to the backend. also, what response code are you getting back and what error message?","body":"check your browser network tab to see the exact JSON body that is sent to the backend. also, what response code are you getting back and what error message?"},{"owner":{"account_id":18582602,"reputation":101,"user_id":13541788,"display_name":"rmfeldt"},"score":0,"creation_date":1646662324,"post_id":71382173,"comment_id":126172080,"body_markdown":"It doesn&#39;t look like you pass along the roles to your authService","body":"It doesn&#39;t look like you pass along the roles to your authService"},{"owner":{"account_id":10900593,"reputation":137,"user_id":8012957,"display_name":"Abrar Ansari"},"score":0,"creation_date":1646662994,"post_id":71382173,"comment_id":126172355,"body_markdown":"`this.authService.register(username, email, password)` check this you are not passing roles while calling the endpoint, are you setting default somewhere for roles?. I suggest to create a class and sent in your call from angular instead of passing individual variables.","body":"<code>this.authService.register(username, email, password)</code> check this you are not passing roles while calling the endpoint, are you setting default somewhere for roles?. I suggest to create a class and sent in your call from angular instead of passing individual variables."},{"owner":{"account_id":20382503,"reputation":244,"user_id":14952296,"display_name":"stephane brun"},"score":0,"creation_date":1646663035,"post_id":71382173,"comment_id":126172371,"body_markdown":"your are binding your role array to a simple input type=&quot;text&quot;, I don&#39;t think it can work","body":"your are binding your role array to a simple input type=&quot;text&quot;, I don&#39;t think it can work"},{"owner":{"account_id":21513019,"reputation":19,"user_id":15855423,"display_name":"Mal&#233;k"},"score":0,"creation_date":1646663055,"post_id":71382173,"comment_id":126172377,"body_markdown":"yes that&#39;s true i didn&#39;t pass the roles to my authService because in my backend i didnt pass it in the parameters of the function register but in the postman it works","body":"yes that&#39;s true i didn&#39;t pass the roles to my authService because in my backend i didnt pass it in the parameters of the function register but in the postman it works"},{"owner":{"account_id":10900593,"reputation":137,"user_id":8012957,"display_name":"Abrar Ansari"},"score":0,"creation_date":1646663091,"post_id":71382173,"comment_id":126172396,"body_markdown":"I can see in the attachment for postman you are passing roles.","body":"I can see in the attachment for postman you are passing roles."},{"owner":{"account_id":21513019,"reputation":19,"user_id":15855423,"display_name":"Mal&#233;k"},"score":0,"creation_date":1646667799,"post_id":71382173,"comment_id":126174431,"body_markdown":"i have added an update to my work can you see it and try to help me please","body":"i have added an update to my work can you see it and try to help me please"},{"owner":{"account_id":16899644,"reputation":753,"user_id":12221382,"display_name":"Aldin Bradaric"},"score":0,"creation_date":1646668418,"post_id":71382173,"comment_id":126174683,"body_markdown":"As Tom mentioned, could you post the request body? Would be a good place to start.","body":"As Tom mentioned, could you post the request body? Would be a good place to start."},{"owner":{"account_id":21513019,"reputation":19,"user_id":15855423,"display_name":"Mal&#233;k"},"score":0,"creation_date":1646669007,"post_id":71382173,"comment_id":126174939,"body_markdown":"i have posted just now my request body","body":"i have posted just now my request body"}],"answers":[{"tags":[],"owner":{"account_id":8946514,"reputation":1,"user_id":10605470,"display_name":"Obydul Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656399261,"creation_date":1655952624,"answer_id":72724006,"question_id":71382173,"body_markdown":"Change in SignupRequest class Set to List --\r\n\r\n    private List&lt;String&gt; roles;\r\n\r\nand change in controller class Set to List --\r\n\r\n    List &lt;String&gt; strRoles = signupRequest.getRoles();\r\n\r\nIt&#39;s working for me.","title":"How to create a user with Angular and Spring Boot","body":"<p>Change in SignupRequest class Set to List --</p>\n<pre><code>private List&lt;String&gt; roles;\n</code></pre>\n<p>and change in controller class Set to List --</p>\n<pre><code>List &lt;String&gt; strRoles = signupRequest.getRoles();\n</code></pre>\n<p>It's working for me.</p>\n"}],"owner":{"account_id":21513019,"reputation":19,"user_id":15855423,"display_name":"Mal&#233;k"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":679,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656399261,"creation_date":1646661303,"question_id":71382173,"body_markdown":"I have tested my back-end code with Postman and it works successfully, but I have a problem with the front-end part. Can you help me to solve this problem because I&#39;m new to Angular?\r\n\r\nThis is my backend code \r\n```java\r\n@PostMapping(&quot;/signup&quot;)\r\npublic ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignupRequest signUpRequest) {\r\n\tif (userRepository.existsByUsername(signUpRequest.getUsername())) {\r\n\t\treturn ResponseEntity\r\n\t\t\t\t.badRequest()\r\n\t\t\t\t.body(new MessageResponse(&quot;Error: Username is already taken!&quot;));\r\n\t}\r\n\tif (userRepository.existsByEmail(signUpRequest.getEmail())) {\r\n\t\treturn ResponseEntity\r\n\t\t\t\t.badRequest()\r\n\t\t\t\t.body(new MessageResponse(&quot;Error: Email is already in use!&quot;));\r\n\t}\r\n\t// Create new user&#39;s account\r\n\tUser user = new User(signUpRequest.getUsername(), \r\n\t\t\t\t\t\t signUpRequest.getEmail(),\r\n\t\t\t\t\t\t encoder.encode(signUpRequest.getPassword()));\r\n\tSet&lt;String&gt; strRoles = signUpRequest.getRoles();\r\n\tSet&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\n\t{\r\n\t\tstrRoles.forEach(role -&gt; {\r\n\t\t\tswitch (role) {\r\n\t\t\tcase &quot;admin&quot;:\r\n\t\t\t\tRole adminRole = roleRepository.findByName(ERole.ROLE_ADMIN)\r\n\t\t\t\t\t\t.orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n\t\t\t\troles.add(adminRole);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;superadvisor&quot;:\r\n\t\t\t\tRole modRole = roleRepository.findByName(ERole.ROLE_SUPERVISOR)\r\n\t\t\t\t\t\t.orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n\t\t\t\troles.add(modRole);\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;consultant&quot;:\r\n\t\t\t\tRole consultantRole = roleRepository.findByName(ERole.ROLE_CONSULTANT)\r\n\t\t\t\t\t\t.orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n\t\t\t\troles.add(consultantRole);\r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;agent&quot;:\r\n\t\t\t\tRole agentRole = roleRepository.findByName(ERole.ROLE_AGENT)\r\n\t\t\t\t        .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n\r\n        \t\troles.add(agentRole);\r\n        \t\tString strAgents = signUpRequest.getAgents();\r\n        \r\n        \t\tuser.setSuperadvisorid(strAgents);\r\n        \r\n        \r\n        \t\tbreak;\r\n\t\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\tuser.setRoles(roles);\r\n\tuserRepository.save(user);\r\n\treturn ResponseEntity.ok(new MessageResponse(&quot;User registered successfully!&quot;));\r\n}\r\n```\r\nThis is Postman result which worked successfully \r\n\r\n![Postman execution][1]\r\n\r\nThis is my code with Angular :**register.componnet.ts**\r\n```typescript\r\nexport class AdduserComponent implements OnInit {\r\n  form: any = {\r\n    username: null,\r\n    email: null,\r\n    password: null,\r\n    roles:[]\r\n  };\r\n\r\n  isSuccessful = false;\r\n  isSignUpFailed = false;\r\n  errorMessage = &#39;&#39;;\r\n\r\n  constructor(private authService: AuthService) { }\r\n  ngOnInit(): void {\r\n  }\r\n  onSubmit(): void {\r\n    const { username, email, password ,roles} = this.form;\r\n\r\n    this.authService.register(username, email, password,roles).subscribe({\r\n\r\n      next: data =&gt; {\r\n        console.log(data);\r\n        this.isSuccessful = true;\r\n        this.isSignUpFailed = false;\r\n      },\r\n      error: err =&gt; {\r\n        this.errorMessage = err.error.message;\r\n        this.isSignUpFailed = true;\r\n      }\r\n    });\r\n  }\r\n}\r\n```\r\n**SignUpRequest**\r\n```java\r\npublic class SignupRequest {\r\n    @NotBlank\r\n    @Size(min = 3, max = 20)\r\n    private String username;\r\n \r\n    @NotBlank\r\n    @Size(max = 50)\r\n    @Email\r\n    private String email;\r\n    \r\n    private Set&lt;String&gt; roles;\r\n    private String agents;\r\n\r\n    @NotBlank\r\n    @Size(min = 6, max = 40)\r\n    private String password;\r\n  \r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n \r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n \r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n \r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n \r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n \r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n    \r\n    public Set&lt;String&gt; getRoles() {\r\n      return this.roles;\r\n    }\r\n    \r\n    public void setRole(Set&lt;String&gt; roles) {\r\n      this.roles = roles;\r\n    }\r\n\r\n\tpublic String getAgents() {\r\n\t\treturn agents;\r\n\t}\r\n\r\n\tpublic void setAgents(String agents) {\r\n\t\tthis.agents = agents;\r\n\t}\r\n\r\n}\r\n```\r\n**register.component.html**\r\n```html\r\n&lt;div class=&quot;content&quot;&gt;\r\n\r\n    &lt;div class=&quot;container-fluid&quot;&gt;\r\n      &lt;div class=&quot;row&quot;&gt;\r\n        &lt;div class=&quot;col-md-8&quot;&gt;\r\n          &lt;div class=&quot;card&quot;&gt;\r\n            &lt;div class=&quot;card-header card-header-tabs card-header-warning&quot;&gt;\r\n              &lt;h4 class=&quot;card-title&quot;&gt;ADD NEW USER &lt;/h4&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;card-body&quot;&gt;\r\n              &lt;form       *ngIf=&quot;!isSuccessful&quot;\r\n              name=&quot;form&quot;\r\n              (ngSubmit)=&quot;f.form.valid &amp;&amp; onSubmit()&quot;\r\n              #f=&quot;ngForm&quot;\r\n              novalidate\r\n        &gt;\r\n                &lt;div class=&quot;row&quot;&gt;\r\n                  &lt;div class=&quot;col-md-3&quot;&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                      &lt;label class=&quot;bmd-label-floating&quot;&gt;Username&lt;/label&gt;\r\n                      &lt;input type=&quot;text&quot; class=&quot;form-control&quot;          \r\n                      name=&quot;username&quot;\r\n                      [(ngModel)]=&quot;form.username&quot;\r\n                      required\r\n                      minlength=&quot;3&quot;\r\n                      maxlength=&quot;20&quot;\r\n                      #username=&quot;ngModel&quot;\r\n            &gt;\r\n            &lt;div class=&quot;alert-danger&quot; *ngIf=&quot;username.errors &amp;&amp; f.submitted&quot;&gt;\r\n              &lt;div *ngIf=&quot;username.errors[&#39;required&#39;]&quot;&gt;Username is required&lt;/div&gt;\r\n              &lt;div *ngIf=&quot;username.errors[&#39;minlength&#39;]&quot;&gt;\r\n                Username must be at least 3 characters\r\n              &lt;/div&gt;\r\n              &lt;div *ngIf=&quot;username.errors[&#39;maxlength&#39;]&quot;&gt;\r\n                Username must be at most 20 characters\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                  &lt;/div&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;row&quot;&gt;\r\n                  &lt;div class=&quot;col-md-6&quot;&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                      &lt;label class=&quot;bmd-label-floating&quot;&gt;Email&lt;/label&gt;\r\n                      &lt;input           type=&quot;email&quot;\r\n                      class=&quot;form-control&quot;\r\n                      name=&quot;email&quot;\r\n                      [(ngModel)]=&quot;form.email&quot;\r\n                      required\r\n                      email\r\n                      #email=&quot;ngModel&quot;\r\n            &gt; \r\n            &lt;div class=&quot;alert-danger&quot; *ngIf=&quot;email.errors &amp;&amp; f.submitted&quot;&gt;\r\n              &lt;div *ngIf=&quot;email.errors[&#39;required&#39;]&quot;&gt;Email is required&lt;/div&gt;\r\n              &lt;div *ngIf=&quot;email.errors[&#39;email&#39;]&quot;&gt;\r\n                Email must be a valid email address\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n    \r\n                    &lt;/div&gt;\r\n                  &lt;/div&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;row&quot;&gt;\r\n                  &lt;div class=&quot;col-md-12&quot;&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                      &lt;label class=&quot;bmd-label-floating&quot;&gt;Password&lt;/label&gt;\r\n                      &lt;input type=&quot;password&quot;\r\n                      class=&quot;form-control&quot;\r\n                      name=&quot;password&quot;\r\n                      [(ngModel)]=&quot;form.password&quot;\r\n                      required\r\n                      minlength=&quot;6&quot;\r\n                      #password=&quot;ngModel&quot;&gt;\r\n                      &lt;div class=&quot;alert-danger&quot; *ngIf=&quot;password.errors &amp;&amp; f.submitted&quot;&gt;\r\n                        &lt;div *ngIf=&quot;password.errors[&#39;required&#39;]&quot;&gt;Password is required&lt;/div&gt;\r\n                        &lt;div *ngIf=&quot;password.errors[&#39;minlength&#39;]&quot;&gt;\r\n                          Password must be at least 6 characters\r\n                        &lt;/div&gt;\r\n                      &lt;/div&gt;\r\n              \r\n            \r\n                    &lt;/div&gt;\r\n                  &lt;/div&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;row&quot;&gt;\r\n\r\n                &lt;div class=&quot;col-md-4&quot;&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                      &lt;label class=&quot;bmd-label-floating&quot;&gt;Number Phone&lt;/label&gt;\r\n                      &lt;input type=&quot;text&quot; class=&quot;form-control&quot;&gt;\r\n                    &lt;/div&gt;\r\n                  &lt;/div&gt;\r\n                &lt;/div&gt;\r\n\r\n                &lt;div class=&quot;row&quot;&gt;\r\n                  &lt;div class=&quot;col-md-4&quot;&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                      &lt;label class=&quot;bmd-label-floating&quot;&gt;Role&lt;/label&gt;\r\n                      &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;roles&quot; \r\n                      [(ngModel)]=&quot;form.roles&quot;\r\n                      required\r\n                      #roles=&quot;ngModel&quot;&gt;\r\n\r\n                 &lt;/div&gt;\r\n                  &lt;/div&gt;\r\n                  &lt;div class=&quot;alert-danger&quot; *ngIf=&quot;roles.errors &amp;&amp; f.submitted&quot;&gt;\r\n                    &lt;div *ngIf=&quot;roles.errors[&#39;required&#39;]&quot;&gt;role is required&lt;/div&gt;\r\n                  &lt;/div&gt;\r\n\r\n                &lt;/div&gt;\r\n                &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary pull-right&quot;&gt;Submit&lt;/button&gt;\r\n                &lt;div class=&quot;clearfix&quot;&gt;&lt;/div&gt;\r\n                &lt;div class=&quot;alert alert-warning&quot; *ngIf=&quot;f.submitted &amp;&amp; isSignUpFailed&quot;&gt;\r\n                  Signup failed!&lt;br /&gt;{{ errorMessage }}\r\n                &lt;/div&gt;\r\n              &lt;/form&gt;\r\n          \r\n              &lt;div class=&quot;alert alert-success&quot; *ngIf=&quot;isSuccessful&quot;&gt;\r\n                Your add is successful!\r\n              &lt;/div&gt;\r\n          \r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n```\r\n**auth.service.ts**\r\n```typescript\r\nregister(username: string, email: string, password: string,roles:string[]): Observable&lt;any&gt; {\r\n    return this.http.post(AUTH_API + &#39;signup&#39;, {\r\n      username,\r\n      email,\r\n      password,\r\n      roles\r\n    }, httpOptions);\r\n  }\r\n```\r\nThe error \r\n\r\n&gt;.w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `java.util.HashSet` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;admin&#39;); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `java.util.HashSet` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;admin&#39;)&lt;EOL&gt; at [Source: (PushbackInputStream); line: 1, column: 87] (through reference chain: com.example.demo.payload.request.SignupRequest[&quot;roles&quot;])]\r\n\r\n\r\nHow can I solve this problem?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aGsk0.png","title":"How to create a user with Angular and Spring Boot","body":"<p>I have tested my back-end code with Postman and it works successfully, but I have a problem with the front-end part. Can you help me to solve this problem because I'm new to Angular?</p>\n<p>This is my backend code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/signup&quot;)\npublic ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignupRequest signUpRequest) {\n    if (userRepository.existsByUsername(signUpRequest.getUsername())) {\n        return ResponseEntity\n                .badRequest()\n                .body(new MessageResponse(&quot;Error: Username is already taken!&quot;));\n    }\n    if (userRepository.existsByEmail(signUpRequest.getEmail())) {\n        return ResponseEntity\n                .badRequest()\n                .body(new MessageResponse(&quot;Error: Email is already in use!&quot;));\n    }\n    // Create new user's account\n    User user = new User(signUpRequest.getUsername(), \n                         signUpRequest.getEmail(),\n                         encoder.encode(signUpRequest.getPassword()));\n    Set&lt;String&gt; strRoles = signUpRequest.getRoles();\n    Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n    {\n        strRoles.forEach(role -&gt; {\n            switch (role) {\n            case &quot;admin&quot;:\n                Role adminRole = roleRepository.findByName(ERole.ROLE_ADMIN)\n                        .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n                roles.add(adminRole);\n                break;\n            case &quot;superadvisor&quot;:\n                Role modRole = roleRepository.findByName(ERole.ROLE_SUPERVISOR)\n                        .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n                roles.add(modRole);\n\n                break;\n            case &quot;consultant&quot;:\n                Role consultantRole = roleRepository.findByName(ERole.ROLE_CONSULTANT)\n                        .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n                roles.add(consultantRole);\n                break;\n            case &quot;agent&quot;:\n                Role agentRole = roleRepository.findByName(ERole.ROLE_AGENT)\n                        .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n\n                roles.add(agentRole);\n                String strAgents = signUpRequest.getAgents();\n        \n                user.setSuperadvisorid(strAgents);\n        \n        \n                break;\n    \n            }\n        });\n    }\n    user.setRoles(roles);\n    userRepository.save(user);\n    return ResponseEntity.ok(new MessageResponse(&quot;User registered successfully!&quot;));\n}\n</code></pre>\n<p>This is Postman result which worked successfully</p>\n<p><img src=\"https://i.stack.imgur.com/aGsk0.png\" alt=\"Postman execution\" /></p>\n<p>This is my code with Angular :<strong>register.componnet.ts</strong></p>\n<pre class=\"lang-js prettyprint-override\"><code>export class AdduserComponent implements OnInit {\n  form: any = {\n    username: null,\n    email: null,\n    password: null,\n    roles:[]\n  };\n\n  isSuccessful = false;\n  isSignUpFailed = false;\n  errorMessage = '';\n\n  constructor(private authService: AuthService) { }\n  ngOnInit(): void {\n  }\n  onSubmit(): void {\n    const { username, email, password ,roles} = this.form;\n\n    this.authService.register(username, email, password,roles).subscribe({\n\n      next: data =&gt; {\n        console.log(data);\n        this.isSuccessful = true;\n        this.isSignUpFailed = false;\n      },\n      error: err =&gt; {\n        this.errorMessage = err.error.message;\n        this.isSignUpFailed = true;\n      }\n    });\n  }\n}\n</code></pre>\n<p><strong>SignUpRequest</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SignupRequest {\n    @NotBlank\n    @Size(min = 3, max = 20)\n    private String username;\n \n    @NotBlank\n    @Size(max = 50)\n    @Email\n    private String email;\n    \n    private Set&lt;String&gt; roles;\n    private String agents;\n\n    @NotBlank\n    @Size(min = 6, max = 40)\n    private String password;\n  \n    public String getUsername() {\n        return username;\n    }\n \n    public void setUsername(String username) {\n        this.username = username;\n    }\n \n    public String getEmail() {\n        return email;\n    }\n \n    public void setEmail(String email) {\n        this.email = email;\n    }\n \n    public String getPassword() {\n        return password;\n    }\n \n    public void setPassword(String password) {\n        this.password = password;\n    }\n    \n    public Set&lt;String&gt; getRoles() {\n      return this.roles;\n    }\n    \n    public void setRole(Set&lt;String&gt; roles) {\n      this.roles = roles;\n    }\n\n    public String getAgents() {\n        return agents;\n    }\n\n    public void setAgents(String agents) {\n        this.agents = agents;\n    }\n\n}\n</code></pre>\n<p><strong>register.component.html</strong></p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=&quot;content&quot;&gt;\n\n    &lt;div class=&quot;container-fluid&quot;&gt;\n      &lt;div class=&quot;row&quot;&gt;\n        &lt;div class=&quot;col-md-8&quot;&gt;\n          &lt;div class=&quot;card&quot;&gt;\n            &lt;div class=&quot;card-header card-header-tabs card-header-warning&quot;&gt;\n              &lt;h4 class=&quot;card-title&quot;&gt;ADD NEW USER &lt;/h4&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;card-body&quot;&gt;\n              &lt;form       *ngIf=&quot;!isSuccessful&quot;\n              name=&quot;form&quot;\n              (ngSubmit)=&quot;f.form.valid &amp;&amp; onSubmit()&quot;\n              #f=&quot;ngForm&quot;\n              novalidate\n        &gt;\n                &lt;div class=&quot;row&quot;&gt;\n                  &lt;div class=&quot;col-md-3&quot;&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                      &lt;label class=&quot;bmd-label-floating&quot;&gt;Username&lt;/label&gt;\n                      &lt;input type=&quot;text&quot; class=&quot;form-control&quot;          \n                      name=&quot;username&quot;\n                      [(ngModel)]=&quot;form.username&quot;\n                      required\n                      minlength=&quot;3&quot;\n                      maxlength=&quot;20&quot;\n                      #username=&quot;ngModel&quot;\n            &gt;\n            &lt;div class=&quot;alert-danger&quot; *ngIf=&quot;username.errors &amp;&amp; f.submitted&quot;&gt;\n              &lt;div *ngIf=&quot;username.errors['required']&quot;&gt;Username is required&lt;/div&gt;\n              &lt;div *ngIf=&quot;username.errors['minlength']&quot;&gt;\n                Username must be at least 3 characters\n              &lt;/div&gt;\n              &lt;div *ngIf=&quot;username.errors['maxlength']&quot;&gt;\n                Username must be at most 20 characters\n              &lt;/div&gt;\n            &lt;/div&gt;\n                    &lt;/div&gt;\n                  &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;row&quot;&gt;\n                  &lt;div class=&quot;col-md-6&quot;&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                      &lt;label class=&quot;bmd-label-floating&quot;&gt;Email&lt;/label&gt;\n                      &lt;input           type=&quot;email&quot;\n                      class=&quot;form-control&quot;\n                      name=&quot;email&quot;\n                      [(ngModel)]=&quot;form.email&quot;\n                      required\n                      email\n                      #email=&quot;ngModel&quot;\n            &gt; \n            &lt;div class=&quot;alert-danger&quot; *ngIf=&quot;email.errors &amp;&amp; f.submitted&quot;&gt;\n              &lt;div *ngIf=&quot;email.errors['required']&quot;&gt;Email is required&lt;/div&gt;\n              &lt;div *ngIf=&quot;email.errors['email']&quot;&gt;\n                Email must be a valid email address\n              &lt;/div&gt;\n            &lt;/div&gt;\n    \n                    &lt;/div&gt;\n                  &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;row&quot;&gt;\n                  &lt;div class=&quot;col-md-12&quot;&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                      &lt;label class=&quot;bmd-label-floating&quot;&gt;Password&lt;/label&gt;\n                      &lt;input type=&quot;password&quot;\n                      class=&quot;form-control&quot;\n                      name=&quot;password&quot;\n                      [(ngModel)]=&quot;form.password&quot;\n                      required\n                      minlength=&quot;6&quot;\n                      #password=&quot;ngModel&quot;&gt;\n                      &lt;div class=&quot;alert-danger&quot; *ngIf=&quot;password.errors &amp;&amp; f.submitted&quot;&gt;\n                        &lt;div *ngIf=&quot;password.errors['required']&quot;&gt;Password is required&lt;/div&gt;\n                        &lt;div *ngIf=&quot;password.errors['minlength']&quot;&gt;\n                          Password must be at least 6 characters\n                        &lt;/div&gt;\n                      &lt;/div&gt;\n              \n            \n                    &lt;/div&gt;\n                  &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;row&quot;&gt;\n\n                &lt;div class=&quot;col-md-4&quot;&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                      &lt;label class=&quot;bmd-label-floating&quot;&gt;Number Phone&lt;/label&gt;\n                      &lt;input type=&quot;text&quot; class=&quot;form-control&quot;&gt;\n                    &lt;/div&gt;\n                  &lt;/div&gt;\n                &lt;/div&gt;\n\n                &lt;div class=&quot;row&quot;&gt;\n                  &lt;div class=&quot;col-md-4&quot;&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                      &lt;label class=&quot;bmd-label-floating&quot;&gt;Role&lt;/label&gt;\n                      &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;roles&quot; \n                      [(ngModel)]=&quot;form.roles&quot;\n                      required\n                      #roles=&quot;ngModel&quot;&gt;\n\n                 &lt;/div&gt;\n                  &lt;/div&gt;\n                  &lt;div class=&quot;alert-danger&quot; *ngIf=&quot;roles.errors &amp;&amp; f.submitted&quot;&gt;\n                    &lt;div *ngIf=&quot;roles.errors['required']&quot;&gt;role is required&lt;/div&gt;\n                  &lt;/div&gt;\n\n                &lt;/div&gt;\n                &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary pull-right&quot;&gt;Submit&lt;/button&gt;\n                &lt;div class=&quot;clearfix&quot;&gt;&lt;/div&gt;\n                &lt;div class=&quot;alert alert-warning&quot; *ngIf=&quot;f.submitted &amp;&amp; isSignUpFailed&quot;&gt;\n                  Signup failed!&lt;br /&gt;{{ errorMessage }}\n                &lt;/div&gt;\n              &lt;/form&gt;\n          \n              &lt;div class=&quot;alert alert-success&quot; *ngIf=&quot;isSuccessful&quot;&gt;\n                Your add is successful!\n              &lt;/div&gt;\n          \n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n</code></pre>\n<p><strong>auth.service.ts</strong></p>\n<pre class=\"lang-js prettyprint-override\"><code>register(username: string, email: string, password: string,roles:string[]): Observable&lt;any&gt; {\n    return this.http.post(AUTH_API + 'signup', {\n      username,\n      email,\n      password,\n      roles\n    }, httpOptions);\n  }\n</code></pre>\n<p>The error</p>\n<blockquote>\n<p>.w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of <code>java.util.HashSet</code> (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('admin'); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of <code>java.util.HashSet</code> (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('admin') at [Source: (PushbackInputStream); line: 1, column: 87] (through reference chain: com.example.demo.payload.request.SignupRequest[&quot;roles&quot;])]</p>\n</blockquote>\n<p>How can I solve this problem?</p>\n"},{"tags":["java","mysql","jdbc","singleton","spring-jdbc"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1656379801,"post_id":72779800,"comment_id":128552336,"body_markdown":"Use a JDBC Connection pool?","body":"Use a JDBC Connection pool?"},{"owner":{"account_id":17623704,"reputation":37,"user_id":12789104,"display_name":"DM Malkawi"},"score":0,"creation_date":1656380882,"post_id":72779800,"comment_id":128552468,"body_markdown":"@ScaryWombat is there a way to decide a good amount of connections and how to decide whats more efficient and whats faster, etc ive heard about this","body":"@ScaryWombat is there a way to decide a good amount of connections and how to decide whats more efficient and whats faster, etc ive heard about this"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1656381341,"post_id":72779800,"comment_id":128552523,"body_markdown":"I am sure that there are optimal settings.","body":"I am sure that there are optimal settings."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1656399073,"creation_date":1656399073,"answer_id":72781874,"question_id":72779800,"body_markdown":"Especially for multithreaded applications it is worth thinking about that. A connection is costly, mostly for the context on the database side. So for performance reasons you might want to keep the connection.\r\n\r\nBut a connection is still costly, and you do not want to open too many of them in parallel as that can impact performance also.\r\n\r\nThat&#39;s why multithreaded applications keep a number of connections open but the threads do not hog each one of the connections. Instead they take one from a pool, use it and return it afterwards. It is the connection pool that decides how many connections need to be opened or closed.\r\n\r\nTo not reinvent the wheel, check out database connection pool implementations such as [Apache Commons DBCP][1].\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-dbcp/","title":"Should I keep JDBC connection alive?","body":"<p>Especially for multithreaded applications it is worth thinking about that. A connection is costly, mostly for the context on the database side. So for performance reasons you might want to keep the connection.</p>\n<p>But a connection is still costly, and you do not want to open too many of them in parallel as that can impact performance also.</p>\n<p>That's why multithreaded applications keep a number of connections open but the threads do not hog each one of the connections. Instead they take one from a pool, use it and return it afterwards. It is the connection pool that decides how many connections need to be opened or closed.</p>\n<p>To not reinvent the wheel, check out database connection pool implementations such as <a href=\"https://commons.apache.org/proper/commons-dbcp/\" rel=\"nofollow noreferrer\">Apache Commons DBCP</a>.</p>\n"}],"owner":{"account_id":17623704,"reputation":37,"user_id":12789104,"display_name":"DM Malkawi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72781874,"answer_count":1,"score":0,"last_activity_date":1656399073,"creation_date":1656379656,"question_id":72779800,"body_markdown":"Im developing a discord bot using JDA and within this discord bot there are commands which require access to the database to insert or delete or update records, now there are many of these commands so when the discord server is at its peak, a lot of connections may be required.\r\n\r\nMy question is: Should I open a connection and leave it open (singleton) and just call the connection whenever I want to use it + reconnect whenever it dies (server side timeout)? Or connect , execute, and finally close?\r\n\r\nThank you very much!\r\n","title":"Should I keep JDBC connection alive?","body":"<p>Im developing a discord bot using JDA and within this discord bot there are commands which require access to the database to insert or delete or update records, now there are many of these commands so when the discord server is at its peak, a lot of connections may be required.</p>\n<p>My question is: Should I open a connection and leave it open (singleton) and just call the connection whenever I want to use it + reconnect whenever it dies (server side timeout)? Or connect , execute, and finally close?</p>\n<p>Thank you very much!</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656396861,"post_id":72781503,"comment_id":128554955,"body_markdown":"Well have you read the error? Apparently there is no column named `invoice_info` in your table. Or if it is, I doubt it is an `InvoiceHistory` type column but rather an id... Please add your table structure to your question and describe what you want to achieve (it looks like a self-reference).","body":"Well have you read the error? Apparently there is no column named <code>invoice_info</code> in your table. Or if it is, I doubt it is an <code>InvoiceHistory</code> type column but rather an id... Please add your table structure to your question and describe what you want to achieve (it looks like a self-reference)."},{"owner":{"account_id":24291377,"reputation":105,"user_id":18236348,"display_name":"Talia Dianal"},"score":0,"creation_date":1656396946,"post_id":72781503,"comment_id":128554971,"body_markdown":"there is, check the first img, i take screenshoot","body":"there is, check the first img, i take screenshoot"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656396991,"post_id":72781503,"comment_id":128554985,"body_markdown":"There is no type `invoice` in a regular database, so either you have a custom datatype and need a custom usertype or the column is of a different type.","body":"There is no type <code>invoice</code> in a regular database, so either you have a custom datatype and need a custom usertype or the column is of a different type."},{"owner":{"account_id":24291377,"reputation":105,"user_id":18236348,"display_name":"Talia Dianal"},"score":0,"creation_date":1656397084,"post_id":72781503,"comment_id":128555001,"body_markdown":"There&#39;s another table called invoice in the same database, i want to store an objects (json object) on it, store invoice object in invoice_history table","body":"There&#39;s another table called invoice in the same database, i want to store an objects (json object) on it, store invoice object in invoice_history table"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656397283,"post_id":72781503,"comment_id":128555041,"body_markdown":"You need a custom usertype for that how else would hibernate/jpa know what to store (xml, json, binary data, ...). You need something like https://github.com/vladmihalcea/hibernate-types,.","body":"You need a custom usertype for that how else would hibernate/jpa know what to store (xml, json, binary data, ...). You need something like <a href=\"https://github.com/vladmihalcea/hibernate-types\" rel=\"nofollow noreferrer\">github.com/vladmihalcea/hibernate-types</a>,."},{"owner":{"account_id":24291377,"reputation":105,"user_id":18236348,"display_name":"Talia Dianal"},"score":0,"creation_date":1656398970,"post_id":72781503,"comment_id":128555533,"body_markdown":"I updated the question, can u check it ?","body":"I updated the question, can u check it ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656399132,"post_id":72781503,"comment_id":128555588,"body_markdown":"You included the proper version of the library? You added the `@TypeDefs` to the `package-info.java` and not a class?","body":"You included the proper version of the library? You added the <code>@TypeDefs</code> to the <code>package-info.java</code> and not a class?"},{"owner":{"account_id":24291377,"reputation":105,"user_id":18236348,"display_name":"Talia Dianal"},"score":0,"creation_date":1656399418,"post_id":72781503,"comment_id":128555667,"body_markdown":"no, i call them as `import org.hibernate.annotations.Type;\nimport org.hibernate.annotations.TypeDef;\nimport org.hibernate.annotations.TypeDefs;` \n\nand i import in pom.xml \n\t\t`&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;2.1.1&lt;/version&gt;\n\t\t&lt;/dependency&gt;`","body":"no, i call them as <code>import org.hibernate.annotations.Type; import org.hibernate.annotations.TypeDef; import org.hibernate.annotations.TypeDefs;</code>   and i import in pom.xml  \t\t<code>&lt;dependency&gt; \t\t\t&lt;groupId&gt;com.vladmihalcea&lt;&#47;groupId&gt; \t\t\t&lt;artifactId&gt;hibernate-types-52&lt;&#47;artifactId&gt; \t\t\t&lt;version&gt;2.1.1&lt;&#47;version&gt; \t\t&lt;&#47;dependency&gt;</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656399565,"post_id":72781503,"comment_id":128555716,"body_markdown":"That doesn&#39;t answer my question. The typedefs need to be on the `package-info.java` in the package your entities are in (or specify the full type class in the `@Type` instead of an alias).","body":"That doesn&#39;t answer my question. The typedefs need to be on the <code>package-info.java</code> in the package your entities are in (or specify the full type class in the <code>@Type</code> instead of an alias)."},{"owner":{"account_id":24291377,"reputation":105,"user_id":18236348,"display_name":"Talia Dianal"},"score":0,"creation_date":1656400187,"post_id":72781503,"comment_id":128555898,"body_markdown":"why i need that ? there&#39;s another way to do it ? :\\","body":"why i need that ? there&#39;s another way to do it ? :\\"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656400492,"post_id":72781503,"comment_id":128555985,"body_markdown":"You need what? You need to tell the type, you want to register an alias (`jsonb`) so you need some global way to register those aliasses. If not an alias use the full classname instead of `jsonb` in your `@Type`.","body":"You need what? You need to tell the type, you want to register an alias (<code>jsonb</code>) so you need some global way to register those aliasses. If not an alias use the full classname instead of <code>jsonb</code> in your <code>@Type</code>."}],"owner":{"account_id":24291377,"reputation":105,"user_id":18236348,"display_name":"Talia Dianal"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656398948,"creation_date":1656396709,"question_id":72781503,"body_markdown":"I need to store object of type invoice in invoice_history table, but when I do it it&#39;s storing null \r\n[![enter image description here][1]][1]\r\n\r\nThis is the **model**:\r\n\r\n    public class InvoiceHistory {\r\n        @Id\r\n        @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n        private int id;\r\n        @Column(name = &quot;updated_date&quot;)\r\n        private Timestamp updatedDate;\r\n        @Transient\r\n        @Column(name = &quot;invoice_info&quot;)\r\n        private Invoice invoiceHistory;\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;invoice_id&quot;)\r\n        private Invoice invoice;\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;employee_id&quot;)\r\n        private Employee employee;\r\n    }\r\n\r\nand when I remove `@Transient` annotation, it&#39;s cause an **error** that:\r\n\r\n&gt; Could not determine type for: com.example.invoices.model.Invoice, at\r\n&gt; table: invoice_history, for columns:\r\n&gt; [org.hibernate.mapping.Column(invoice_info)]\r\n\r\nand this is my **controller**:\r\n\r\n    @PostMapping(&quot;/save&quot;)\r\n    public ResponseEntity&lt;InvoiceHistory&gt; addHistory(@RequestBody InvoiceHistoryDTO invoice) {\r\n        try {\r\n            InvoiceHistory newInvoice = invoiceHistoryService\r\n                    .saveInvoiceHistory(new InvoiceHistory(invoice.getUpdatedDate(), invoice.getInvoiceInfo(), invoice.getInvoiceInfo().getEmployee()));\r\n            return new ResponseEntity&lt;&gt;(newInvoice, HttpStatus.CREATED);\r\n        } catch (Exception e) {\r\n            return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\r\n    \r\n        }\r\n    }\r\n\r\n**UPDATE**\r\n\r\nAlso i read aboy jsonb datatype and i create this in the table :\r\n\r\n[![enter image description here][2]][2]\r\n\r\nand i change the code like this:\r\n\r\n    @Column(name = &quot;invoice_data&quot;)\r\n    @Type(type = &quot;jsonb&quot;)\r\n    private Invoice invoiceHistory;\r\n\r\nand i define type :\r\n\r\n    @TypeDefs({\r\n            @TypeDef(name = &quot;string-array&quot;, typeClass = StringArrayType.class),\r\n            @TypeDef(name = &quot;int-array&quot;, typeClass = IntArrayType.class),\r\n            @TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class),\r\n            @TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\r\n    })\r\n\r\nthis is no errors on it, but also no data added into database \r\n\r\n\r\nhow can i solve it ? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rk4JS.png\r\n  [2]: https://i.stack.imgur.com/SI8pk.png","title":"store object in sql database using springboot","body":"<p>I need to store object of type invoice in invoice_history table, but when I do it it's storing null\n<a href=\"https://i.stack.imgur.com/rk4JS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rk4JS.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the <strong>model</strong>:</p>\n<pre><code>public class InvoiceHistory {\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    private int id;\n    @Column(name = &quot;updated_date&quot;)\n    private Timestamp updatedDate;\n    @Transient\n    @Column(name = &quot;invoice_info&quot;)\n    private Invoice invoiceHistory;\n    @ManyToOne\n    @JoinColumn(name = &quot;invoice_id&quot;)\n    private Invoice invoice;\n    @ManyToOne\n    @JoinColumn(name = &quot;employee_id&quot;)\n    private Employee employee;\n}\n</code></pre>\n<p>and when I remove <code>@Transient</code> annotation, it's cause an <strong>error</strong> that:</p>\n<blockquote>\n<p>Could not determine type for: com.example.invoices.model.Invoice, at\ntable: invoice_history, for columns:\n[org.hibernate.mapping.Column(invoice_info)]</p>\n</blockquote>\n<p>and this is my <strong>controller</strong>:</p>\n<pre><code>@PostMapping(&quot;/save&quot;)\npublic ResponseEntity&lt;InvoiceHistory&gt; addHistory(@RequestBody InvoiceHistoryDTO invoice) {\n    try {\n        InvoiceHistory newInvoice = invoiceHistoryService\n                .saveInvoiceHistory(new InvoiceHistory(invoice.getUpdatedDate(), invoice.getInvoiceInfo(), invoice.getInvoiceInfo().getEmployee()));\n        return new ResponseEntity&lt;&gt;(newInvoice, HttpStatus.CREATED);\n    } catch (Exception e) {\n        return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\n\n    }\n}\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>Also i read aboy jsonb datatype and i create this in the table :</p>\n<p><a href=\"https://i.stack.imgur.com/SI8pk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SI8pk.png\" alt=\"enter image description here\" /></a></p>\n<p>and i change the code like this:</p>\n<pre><code>@Column(name = &quot;invoice_data&quot;)\n@Type(type = &quot;jsonb&quot;)\nprivate Invoice invoiceHistory;\n</code></pre>\n<p>and i define type :</p>\n<pre><code>@TypeDefs({\n        @TypeDef(name = &quot;string-array&quot;, typeClass = StringArrayType.class),\n        @TypeDef(name = &quot;int-array&quot;, typeClass = IntArrayType.class),\n        @TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class),\n        @TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\n})\n</code></pre>\n<p>this is no errors on it, but also no data added into database</p>\n<p>how can i solve it ?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656398571,"post_id":72781729,"comment_id":128555401,"body_markdown":"It means nothing more than `proxyConfigSpringXmlSupport.create()`.","body":"It means nothing more than <code>proxyConfigSpringXmlSupport.create()</code>."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656398897,"creation_date":1656398897,"answer_id":72781842,"question_id":72781729,"body_markdown":"Lets divide the XML up into sections. \r\n\r\n```xml\r\n&lt;bean id=&quot;proxyConfigSupport&quot; class=&quot;net.ttddyy.dsproxy.support.ProxyConfigSpringXmlSupport&quot;&gt;\r\n    &lt;property name=&quot;dataSourceName&quot; value=&quot;dataSourceDefaultName&quot;/&gt;\r\n    &lt;property name=&quot;queryListener&quot; ref=&quot;queryListener&quot;/&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\nYou already got that bean method\r\n\r\n```java\r\n@Bean\r\npublic ProxyConfigSpringXmlSupport proxyConfigSupport(ChainListener queryListener) {\r\n    ProxyConfigSpringXmlSupport proxyConfigSpringXmlSupport = new ProxyConfigSpringXmlSupport();\r\n    proxyConfigSpringXmlSupport.setDataSourceName(&quot;dataSourceDefaultName&quot;);\r\n    proxyConfigSpringXmlSupport.setQueryListener(queryListener);\r\n    return proxyConfigSpringXmlSupport;\r\n}\r\n```\r\n\r\nNow the second one \r\n\r\n```xml\r\n&lt;bean id=&quot;proxyConfig&quot;\r\n      factory-bean=&quot;proxyConfigSupport&quot;\r\n      factory-method=&quot;create&quot;/&gt;\r\n```\r\n\r\nIs nothing more then a description of what should take place. It defines a [`FactoryBean`][1] and specifies it do delegate the `getObject()` to the `proxyConfigSupport` bean and call the `create()` method. This is also explained in the [Spring Framework Reference Guide][2]. \r\n\r\nAs an `@Bean` method is also, kind of, a factory for beans, you can do something like this. \r\n\r\n```java\r\n@Bean\r\npublic ProxyConfig proxyConfig(ProxyConfigSpringXmlSupport proxyConfigSupport) {\r\n  return proxyConfigSupport.create();\r\n}\r\n```\r\n\r\nNothing more and nothing less. \r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/FactoryBean.html\r\n[2]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-class-instance-factory-method","title":"Java Migration Application context xml to @Beans","body":"<p>Lets divide the XML up into sections.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=&quot;proxyConfigSupport&quot; class=&quot;net.ttddyy.dsproxy.support.ProxyConfigSpringXmlSupport&quot;&gt;\n    &lt;property name=&quot;dataSourceName&quot; value=&quot;dataSourceDefaultName&quot;/&gt;\n    &lt;property name=&quot;queryListener&quot; ref=&quot;queryListener&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>You already got that bean method</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ProxyConfigSpringXmlSupport proxyConfigSupport(ChainListener queryListener) {\n    ProxyConfigSpringXmlSupport proxyConfigSpringXmlSupport = new ProxyConfigSpringXmlSupport();\n    proxyConfigSpringXmlSupport.setDataSourceName(&quot;dataSourceDefaultName&quot;);\n    proxyConfigSpringXmlSupport.setQueryListener(queryListener);\n    return proxyConfigSpringXmlSupport;\n}\n</code></pre>\n<p>Now the second one</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=&quot;proxyConfig&quot;\n      factory-bean=&quot;proxyConfigSupport&quot;\n      factory-method=&quot;create&quot;/&gt;\n</code></pre>\n<p>Is nothing more then a description of what should take place. It defines a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/FactoryBean.html\" rel=\"nofollow noreferrer\"><code>FactoryBean</code></a> and specifies it do delegate the <code>getObject()</code> to the <code>proxyConfigSupport</code> bean and call the <code>create()</code> method. This is also explained in the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-class-instance-factory-method\" rel=\"nofollow noreferrer\">Spring Framework Reference Guide</a>.</p>\n<p>As an <code>@Bean</code> method is also, kind of, a factory for beans, you can do something like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ProxyConfig proxyConfig(ProxyConfigSpringXmlSupport proxyConfigSupport) {\n  return proxyConfigSupport.create();\n}\n</code></pre>\n<p>Nothing more and nothing less.</p>\n"}],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72781842,"answer_count":1,"score":0,"last_activity_date":1656398897,"creation_date":1656398161,"question_id":72781729,"body_markdown":"Im trying to convert my context xml of hikari db setting to Beans method\r\n\r\n\r\n\t&lt;bean id=&quot;proxyConfig&quot;\r\n\t\t  factory-bean=&quot;proxyConfigSupport&quot;\r\n\t\t  factory-method=&quot;create&quot;/&gt;\r\n\r\n\t&lt;bean id=&quot;proxyConfigSupport&quot; class=&quot;net.ttddyy.dsproxy.support.ProxyConfigSpringXmlSupport&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSourceName&quot; value=&quot;dataSourceDefaultName&quot;/&gt;\r\n\t\t&lt;property name=&quot;queryListener&quot; ref=&quot;queryListener&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\r\nIm trying to understand how to convert it so I tried this way\r\n\r\n\r\n\t@Bean(name = &quot;proxyConfigSupport&quot;)\r\n\tpublic ProxyConfigSpringXmlSupport proxyDataSource(ChainListener queryListener) {\r\n\t\tProxyConfigSpringXmlSupport proxyConfigSpringXmlSupport = new ProxyConfigSpringXmlSupport();\r\n\t\tproxyConfigSpringXmlSupport.setDataSourceName(&quot;dataSourceDefaultName&quot;);\r\n\t\tproxyConfigSpringXmlSupport.setQueryListener(queryListener);\r\n\t\treturn proxyConfigSpringXmlSupport;\r\n\t}\r\n\r\n\r\n\r\nBut what does it mean **&quot;proxyConfig&quot; factory-bean=&quot;proxyConfigSupport&quot;**\r\n\tHow do i set it the same ?\r\n\r\n    @Bean(name = &quot;proxyConfig&quot;)\r\n    \tpublic ProxyConfig proxyConfig(ProxyConfigSpringXmlSupport proxyConfigSpringXmlSupport) {\r\n    \t\tProxyConfig proxyConfig = new ProxyConfig();\r\n    \t\treturn proxyConfig;\r\n    \t\t\t/*\r\n    \t\t&lt;bean id=&quot;proxyConfig&quot;\r\n    \t\t  factory-bean=&quot;proxyConfigSupport&quot;\r\n    \t\t  factory-method=&quot;create&quot;/&gt;\r\n    \r\n    \t */\r\n    \t}","title":"Java Migration Application context xml to @Beans","body":"<p>Im trying to convert my context xml of hikari db setting to Beans method</p>\n<pre><code>&lt;bean id=&quot;proxyConfig&quot;\n      factory-bean=&quot;proxyConfigSupport&quot;\n      factory-method=&quot;create&quot;/&gt;\n\n&lt;bean id=&quot;proxyConfigSupport&quot; class=&quot;net.ttddyy.dsproxy.support.ProxyConfigSpringXmlSupport&quot;&gt;\n    &lt;property name=&quot;dataSourceName&quot; value=&quot;dataSourceDefaultName&quot;/&gt;\n    &lt;property name=&quot;queryListener&quot; ref=&quot;queryListener&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Im trying to understand how to convert it so I tried this way</p>\n<pre><code>@Bean(name = &quot;proxyConfigSupport&quot;)\npublic ProxyConfigSpringXmlSupport proxyDataSource(ChainListener queryListener) {\n    ProxyConfigSpringXmlSupport proxyConfigSpringXmlSupport = new ProxyConfigSpringXmlSupport();\n    proxyConfigSpringXmlSupport.setDataSourceName(&quot;dataSourceDefaultName&quot;);\n    proxyConfigSpringXmlSupport.setQueryListener(queryListener);\n    return proxyConfigSpringXmlSupport;\n}\n</code></pre>\n<p>But what does it mean <strong>&quot;proxyConfig&quot; factory-bean=&quot;proxyConfigSupport&quot;</strong>\nHow do i set it the same ?</p>\n<pre><code>@Bean(name = &quot;proxyConfig&quot;)\n    public ProxyConfig proxyConfig(ProxyConfigSpringXmlSupport proxyConfigSpringXmlSupport) {\n        ProxyConfig proxyConfig = new ProxyConfig();\n        return proxyConfig;\n            /*\n        &lt;bean id=&quot;proxyConfig&quot;\n          factory-bean=&quot;proxyConfigSupport&quot;\n          factory-method=&quot;create&quot;/&gt;\n\n     */\n    }\n</code></pre>\n"},{"tags":["java","jenkins","build"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1656398561,"post_id":72780174,"comment_id":128555392,"body_markdown":"Jenkins cannot do magic. How do you build the project from command line so far? Jenkins can trigger the same and keep the logs with a nice looking GUI.","body":"Jenkins cannot do magic. How do you build the project from command line so far? Jenkins can trigger the same and keep the logs with a nice looking GUI."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656398731,"creation_date":1656398731,"answer_id":72781812,"question_id":72780174,"body_markdown":"You may have a gap between your project (that probably gets built and run by some IDE) and automatic builds managed by Jenkins.\r\n\r\nLearn about build tools like [Ant][1], [Maven][2] and [Gradle][3]. If they can build your project, Jenkins can trigger them and keep the logs.\r\n\r\n\r\n  [1]: https://ant.apache.org/\r\n  [2]: https://maven.apache.org/\r\n  [3]: https://gradle.org/","title":"How to build a project via Jenkins from source files to Jar file","body":"<p>You may have a gap between your project (that probably gets built and run by some IDE) and automatic builds managed by Jenkins.</p>\n<p>Learn about build tools like <a href=\"https://ant.apache.org/\" rel=\"nofollow noreferrer\">Ant</a>, <a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\">Maven</a> and <a href=\"https://gradle.org/\" rel=\"nofollow noreferrer\">Gradle</a>. If they can build your project, Jenkins can trigger them and keep the logs.</p>\n"}],"owner":{"account_id":5438475,"reputation":13,"user_id":6027443,"display_name":"Hien Nguyen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656398731,"creation_date":1656383907,"question_id":72780174,"body_markdown":"I am new to Jenkins and I am trying to practice it. I have gone through few tutorial for beginner but I think I still miss something, so please help me by pointing me to the right direction.\r\n\r\nAssume that I have a Java project with following structure:\r\n\r\nProject Folder\r\n  src folder:\r\n      main\r\n      Other classes folder\r\n  Lib folder:\r\n      lib*jar\r\n\r\nI would like to build the project and make a single jar file which includes both src + lib classes.\r\n\r\nMy question is: How can I use Jenkin to build that single Jar file?\r\n\r\n1. How can Jenkins compile whole project?\r\nI just know the command line to build java files in a single folder, how compile big project in which src file is in different folder. What is command line or best tool people use?\r\n\r\n2. How to create jar from the compiled files still they are in different folders?\r\n\r\nCan you give me some hint how people build a big project using jenkin, what&#39;s tool I have to learn more or some good source/tutorial to solve my issue?\r\n\r\nThank you so much all\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to build a project via Jenkins from source files to Jar file","body":"<p>I am new to Jenkins and I am trying to practice it. I have gone through few tutorial for beginner but I think I still miss something, so please help me by pointing me to the right direction.</p>\n<p>Assume that I have a Java project with following structure:</p>\n<p>Project Folder\nsrc folder:\nmain\nOther classes folder\nLib folder:\nlib*jar</p>\n<p>I would like to build the project and make a single jar file which includes both src + lib classes.</p>\n<p>My question is: How can I use Jenkin to build that single Jar file?</p>\n<ol>\n<li><p>How can Jenkins compile whole project?\nI just know the command line to build java files in a single folder, how compile big project in which src file is in different folder. What is command line or best tool people use?</p>\n</li>\n<li><p>How to create jar from the compiled files still they are in different folders?</p>\n</li>\n</ol>\n<p>Can you give me some hint how people build a big project using jenkin, what's tool I have to learn more or some good source/tutorial to solve my issue?</p>\n<p>Thank you so much all</p>\n"},{"tags":["java","mysql","google-cloud-platform","jdbc"],"comments":[{"owner":{"account_id":1378516,"reputation":4994,"user_id":1311999,"accept_rate":74,"display_name":"Sachin Vairagi"},"score":0,"creation_date":1656399820,"post_id":72781607,"comment_id":128555792,"body_markdown":"What is the &#39;bind-address&#39; in your mysql config file?","body":"What is the &#39;bind-address&#39; in your mysql config file?"},{"owner":{"account_id":25667132,"reputation":11,"user_id":19431901,"display_name":"goldie4"},"score":0,"creation_date":1656413267,"post_id":72781607,"comment_id":128560763,"body_markdown":"@SachinVairagi How do I find this config file?","body":"@SachinVairagi How do I find this config file?"},{"owner":{"account_id":1378516,"reputation":4994,"user_id":1311999,"accept_rate":74,"display_name":"Sachin Vairagi"},"score":0,"creation_date":1656479044,"post_id":72781607,"comment_id":128579359,"body_markdown":"May I know which OS you have on GCP?","body":"May I know which OS you have on GCP?"},{"owner":{"account_id":25667132,"reputation":11,"user_id":19431901,"display_name":"goldie4"},"score":0,"creation_date":1656646383,"post_id":72781607,"comment_id":128628448,"body_markdown":"@SachinVairagi Debian Linux I think","body":"@SachinVairagi Debian Linux I think"},{"owner":{"account_id":1378516,"reputation":4994,"user_id":1311999,"accept_rate":74,"display_name":"Sachin Vairagi"},"score":0,"creation_date":1656651457,"post_id":72781607,"comment_id":128629113,"body_markdown":"you can check &quot;/etc/my.cnf&quot; or &quot;/etc/mysql/my.cnf&quot;, reference - https://stackoverflow.com/questions/2482234/how-do-i-find-the-mysql-my-cnf-location","body":"you can check &quot;/etc/my.cnf&quot; or &quot;/etc/mysql/my.cnf&quot;, reference - <a href=\"https://stackoverflow.com/questions/2482234/how-do-i-find-the-mysql-my-cnf-location\" title=\"how do i find the mysql my cnf location\">stackoverflow.com/questions/2482234/&hellip;</a>"},{"owner":{"account_id":25241637,"reputation":1294,"user_id":19075433,"display_name":"Vaidehi Jamankar"},"score":0,"creation_date":1659435142,"post_id":72781607,"comment_id":129288771,"body_markdown":"@goldie4, Were you able to connect to the Database using the suggestion and references shared by Sachin and maxiangelo.","body":"@goldie4, Were you able to connect to the Database using the suggestion and references shared by Sachin and maxiangelo."}],"answers":[{"tags":[],"owner":{"account_id":13000690,"reputation":125,"user_id":9396909,"display_name":"maxiangelo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656398083,"creation_date":1656397773,"answer_id":72781657,"question_id":72781607,"body_markdown":"Have you whitelisted your public IP in the settings of your GCP MySQL database?\r\n\r\n**You can do that here:**&lt;br&gt;\r\nYour GCP Project  \r\nSQL (Press the three horizontal bars in the left corner)  \r\nConnections  \r\nAuthorised networks  ADD NETWORK\r\n\r\nYou can use [this][1] Website to get your public IP.\r\n\r\n\r\n  [1]: https://whatismyipaddress.com/","title":"Trying to connect simple Java program to Google Cloud Platform MySQL Database","body":"<p>Have you whitelisted your public IP in the settings of your GCP MySQL database?</p>\n<p><strong>You can do that here:</strong><br>\nYour GCP Project \nSQL (Press the three horizontal bars in the left corner) \nConnections \nAuthorised networks  ADD NETWORK</p>\n<p>You can use <a href=\"https://whatismyipaddress.com/\" rel=\"nofollow noreferrer\">this</a> Website to get your public IP.</p>\n"}],"owner":{"account_id":25667132,"reputation":11,"user_id":19431901,"display_name":"goldie4"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656398083,"creation_date":1656397500,"question_id":72781607,"body_markdown":"I am trying to connect this small Java program to my MySQL Database instance\r\non GCP for educational purposes.\r\n\r\n\r\nThis code works well with the instance I have locally on localhost and port 3306.\r\nHowever, this is not very practical or useful.\r\n\r\n**Scenarios that work:**\r\n1. Connecting Java client program to MySQL database served locally.\r\n2. Connecting MySQL Workbench client to MySQL database served locally.\r\n3. Connecting MySQL Workbench client to MySQL database served on Google Cloud Platform.\r\n\r\n**My objective:**\r\n1. Connect very simple Java client program to MySQL database served on Google Cloud Platform.\r\n\r\n\r\n**Jar files used:**\r\n1. mysql-connector-java-8.0.29.jar\r\n2. mysql-socket-factory-1.6.1-jar-with-dependencies.jar\r\n\r\n**IDE used:**\r\n1. Eclipse\r\n\r\n\r\n**The code:**\r\n\r\n----------\r\n\r\n        package test;\r\n    \r\n    import java.sql.*;\r\n    public class Test\r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tString CREDENTIALS = &quot;jdbc:mysql://google/emexdb?cloudSqlInstance=ethereal-shine-354205:us-central1:emexdb-mysql&amp;socketFactory=google.cloud.sql.mysql.SocketFactory&amp;useSSL=false&amp;user=****&amp;password=***********&quot;;\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\t//Get a connection to database\r\n    \t\t\tConnection myConn = DriverManager.getConnection(CREDENTIALS);\r\n    \t\t\t\r\n    \t\t\t//Create a statement\r\n    \t\t\tStatement myStmt = myConn.createStatement();\r\n    \t\t\t//Execute SQL query\r\n    \t\t\tResultSet myRs = myStmt.executeQuery(&quot;select * from Test;&quot;);\r\n    \t\t\t//Process the result set\r\n    \t\t\twhile(myRs.next())\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(myRs.getNString(&quot;id&quot;)+&quot;  &quot;+myRs.getString(&quot;_name&quot;));\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tmyConn.close();\r\n    \t\t}\r\n    \t\tcatch(Exception eSQL)\r\n    \t\t{\r\n    \t\t\teSQL.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n**This is the error message Eclipse is giving me:**\r\n\r\n    java.sql.SQLNonTransientConnectionException: Cannot connect to MySQL server on google:3,306.\r\n\r\n    Make sure that there is a MySQL server running on the machine/port you are trying to connect to and that the machine this software is running on is able to connect to this host/port (i.e. not firewalled). Also make sure that the server has not been started with the --skip-networking flag.\r\n\r\n\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:462)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:683)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:253)\r\n\tat test.Test.main(Test.java:12)\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;com.mysql.cj.protocol.a.NativeProtocol.getSocketConnection()&quot; because the return value of &quot;com.mysql.cj.NativeSession.getProtocol()&quot; is null\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:972)\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818)\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448)\r\n    \t... 5 more\r\n\r\n\r\n\r\nAny help would be much appreciated.\r\n**Thank you!**","title":"Trying to connect simple Java program to Google Cloud Platform MySQL Database","body":"<p>I am trying to connect this small Java program to my MySQL Database instance\non GCP for educational purposes.</p>\n<p>This code works well with the instance I have locally on localhost and port 3306.\nHowever, this is not very practical or useful.</p>\n<p><strong>Scenarios that work:</strong></p>\n<ol>\n<li>Connecting Java client program to MySQL database served locally.</li>\n<li>Connecting MySQL Workbench client to MySQL database served locally.</li>\n<li>Connecting MySQL Workbench client to MySQL database served on Google Cloud Platform.</li>\n</ol>\n<p><strong>My objective:</strong></p>\n<ol>\n<li>Connect very simple Java client program to MySQL database served on Google Cloud Platform.</li>\n</ol>\n<p><strong>Jar files used:</strong></p>\n<ol>\n<li>mysql-connector-java-8.0.29.jar</li>\n<li>mysql-socket-factory-1.6.1-jar-with-dependencies.jar</li>\n</ol>\n<p><strong>IDE used:</strong></p>\n<ol>\n<li>Eclipse</li>\n</ol>\n<p><strong>The code:</strong></p>\n<hr />\n<pre><code>    package test;\n\nimport java.sql.*;\npublic class Test\n{\n    public static void main(String[] args)\n    {\n        String CREDENTIALS = &quot;jdbc:mysql://google/emexdb?cloudSqlInstance=ethereal-shine-354205:us-central1:emexdb-mysql&amp;socketFactory=google.cloud.sql.mysql.SocketFactory&amp;useSSL=false&amp;user=****&amp;password=***********&quot;;\n        try\n        {\n            //Get a connection to database\n            Connection myConn = DriverManager.getConnection(CREDENTIALS);\n            \n            //Create a statement\n            Statement myStmt = myConn.createStatement();\n            //Execute SQL query\n            ResultSet myRs = myStmt.executeQuery(&quot;select * from Test;&quot;);\n            //Process the result set\n            while(myRs.next())\n            {\n                System.out.println(myRs.getNString(&quot;id&quot;)+&quot;  &quot;+myRs.getString(&quot;_name&quot;));\n            }\n            \n            myConn.close();\n        }\n        catch(Exception eSQL)\n        {\n            eSQL.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p><strong>This is the error message Eclipse is giving me:</strong></p>\n<pre><code>java.sql.SQLNonTransientConnectionException: Cannot connect to MySQL server on google:3,306.\n\nMake sure that there is a MySQL server running on the machine/port you are trying to connect to and that the machine this software is running on is able to connect to this host/port (i.e. not firewalled). Also make sure that the server has not been started with the --skip-networking flag.\n\n\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)\nat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:462)\nat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)\nat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\nat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:683)\nat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:253)\nat test.Test.main(Test.java:12)\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;com.mysql.cj.protocol.a.NativeProtocol.getSocketConnection()&quot; because the return value of &quot;com.mysql.cj.NativeSession.getProtocol()&quot; is null\n    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:972)\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818)\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448)\n    ... 5 more\n</code></pre>\n<p>Any help would be much appreciated.\n<strong>Thank you!</strong></p>\n"},{"tags":["java","mongodb","spring-data","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":9744,"reputation":80826,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656398009,"creation_date":1656398009,"answer_id":72781706,"question_id":72777989,"body_markdown":"The single type parameter you hand into the `.find()` methods of `MongoTemplate` is effectively a shortcut to define both the collection to be read and the types of objects to be produced eventually by the document mapping subsystem. It does *not* restrict the document selection in any way. This effectively implements a type-hierarchy-by-collection approach.\r\n\r\nIf you want to restrict the query result to only some subtypes, you need to use the `Query` type&#39;s `.restrict(Class, Class)` method that allows to define which nominal types are supposed to be read. That effectively translates in to a constraint against the type aliases being persisted on write, as MongoDB documents don&#39;t know anything about types on the client in the first place.","title":"How do I fetch specific types inheriting from an abstract class from spring-mongodb with one query?","body":"<p>The single type parameter you hand into the <code>.find()</code> methods of <code>MongoTemplate</code> is effectively a shortcut to define both the collection to be read and the types of objects to be produced eventually by the document mapping subsystem. It does <em>not</em> restrict the document selection in any way. This effectively implements a type-hierarchy-by-collection approach.</p>\n<p>If you want to restrict the query result to only some subtypes, you need to use the <code>Query</code> type's <code>.restrict(Class, Class)</code> method that allows to define which nominal types are supposed to be read. That effectively translates in to a constraint against the type aliases being persisted on write, as MongoDB documents don't know anything about types on the client in the first place.</p>\n"}],"owner":{"account_id":3151197,"reputation":599,"user_id":2664618,"accept_rate":59,"display_name":"Dani Gilboa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72781706,"answer_count":1,"score":0,"last_activity_date":1656398009,"creation_date":1656361991,"question_id":72777989,"body_markdown":"I&#39;m using Spring MongoDb Data, and I have two classes A and B inheriting from class C.\r\nBoth A and B has the &#39;_class&#39; field. \r\nI want to fetch a list of documents with both A and B in them, and have them be mapped to their inheriting objects, but using MongoOperation it seems that it&#39;s only possible to put one class entity with each query. Is there a way to fetch a list of both A and B and have them polymorphed to their corresponding java objects? Or fetching the abstract C is the only way to fetch both A and B at the same time?","title":"How do I fetch specific types inheriting from an abstract class from spring-mongodb with one query?","body":"<p>I'm using Spring MongoDb Data, and I have two classes A and B inheriting from class C.\nBoth A and B has the '_class' field.\nI want to fetch a list of documents with both A and B in them, and have them be mapped to their inheriting objects, but using MongoOperation it seems that it's only possible to put one class entity with each query. Is there a way to fetch a list of both A and B and have them polymorphed to their corresponding java objects? Or fetching the abstract C is the only way to fetch both A and B at the same time?</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":22476484,"reputation":73,"user_id":16676133,"display_name":"CSE"},"score":0,"creation_date":1656395913,"post_id":72781295,"comment_id":128554768,"body_markdown":"@maloomeister Yes there are three folders which contains videos on word, power point, excel series. They aren&#39;t Empty","body":"@maloomeister Yes there are three folders which contains videos on word, power point, excel series. They aren&#39;t Empty"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1656396425,"post_id":72781295,"comment_id":128554862,"body_markdown":"Does this answer your question? [How to check if a directory is empty in Java](https://stackoverflow.com/questions/5930087/how-to-check-if-a-directory-is-empty-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5930087/how-to-check-if-a-directory-is-empty-in-java\">How to check if a directory is empty in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":6371212,"reputation":722,"user_id":4943554,"display_name":"Andreas Brunnet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656397889,"creation_date":1656396390,"answer_id":72781453,"question_id":72781295,"body_markdown":"You are using the wrong approach to check if the directory is actually empty or not. According to the [Java documentation](https://docs.oracle.com/javase/7/docs/api/java/io/File.html#length()) the usage of length() on directories is undefined &quot;[...]The return value is unspecified if this pathname denotes a directory.&quot;\r\n\r\nSo you might want to do something like: \r\n\r\n```\r\nif(listFiles[i].isDirectory()){\r\n   final var subDirEntries = listFiles[i].list();\r\n   if(subDirEntries.length == 0){\r\n      System.out.println(&quot;Empty folder: &quot; + listFiles[i].getName());\r\n   }\r\n}","title":"How to check all Empty Folders under a Directory in Java","body":"<p>You are using the wrong approach to check if the directory is actually empty or not. According to the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html#length()\" rel=\"nofollow noreferrer\">Java documentation</a> the usage of length() on directories is undefined &quot;[...]The return value is unspecified if this pathname denotes a directory.&quot;</p>\n<p>So you might want to do something like:</p>\n<pre><code>if(listFiles[i].isDirectory()){\n   final var subDirEntries = listFiles[i].list();\n   if(subDirEntries.length == 0){\n      System.out.println(&quot;Empty folder: &quot; + listFiles[i].getName());\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":22476484,"reputation":73,"user_id":16676133,"display_name":"CSE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72781453,"answer_count":1,"score":0,"last_activity_date":1656397889,"creation_date":1656395283,"question_id":72781295,"body_markdown":"I want to find all empty folders under my `E:` Drive. When I run below Code it shows all empty folders in the `E` drive. But the main problem is, it also shows a folder named `MS OFFICE TUTORIAL SERIES` which is not empty,because, under this folder there are three sub folders also. \r\n\r\nBut the code always shows that the `MS OFFICE TUTORIAL SERIES` folder is empty in the list of empty files. Please help to find out where I have made mistake.\r\n\r\nMy Code:\r\n\r\n    File directory = new File(&quot;E:/&quot;);\r\n    File[] listFiles = directory.listFiles();\r\n    System.out.println(&quot;List of Empty Directory\\n&quot;);\r\n    for(int i=0; i&lt;listFiles.length; i++){\r\n        if(listFiles[i].isDirectory()){\r\n            if(listFiles[i] == null ||  listFiles[i].length() == 0){\r\n                System.out.println(listFiles[i].getName());\r\n            }\r\n        }\r\n    }\r\n\r\nScreenshot for better understanding\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oTZJO.png","title":"How to check all Empty Folders under a Directory in Java","body":"<p>I want to find all empty folders under my <code>E:</code> Drive. When I run below Code it shows all empty folders in the <code>E</code> drive. But the main problem is, it also shows a folder named <code>MS OFFICE TUTORIAL SERIES</code> which is not empty,because, under this folder there are three sub folders also.</p>\n<p>But the code always shows that the <code>MS OFFICE TUTORIAL SERIES</code> folder is empty in the list of empty files. Please help to find out where I have made mistake.</p>\n<p>My Code:</p>\n<pre><code>File directory = new File(&quot;E:/&quot;);\nFile[] listFiles = directory.listFiles();\nSystem.out.println(&quot;List of Empty Directory\\n&quot;);\nfor(int i=0; i&lt;listFiles.length; i++){\n    if(listFiles[i].isDirectory()){\n        if(listFiles[i] == null ||  listFiles[i].length() == 0){\n            System.out.println(listFiles[i].getName());\n        }\n    }\n}\n</code></pre>\n<p>Screenshot for better understanding</p>\n<p><a href=\"https://i.stack.imgur.com/oTZJO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oTZJO.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":1807633,"reputation":2510,"user_id":1644401,"accept_rate":40,"display_name":"atomman"},"score":0,"creation_date":1358758104,"post_id":14434679,"comment_id":20096822,"body_markdown":"Have you considered using a custom serializer? Not sure how it works with primitives, but at least take a look at it.","body":"Have you considered using a custom serializer? Not sure how it works with primitives, but at least take a look at it."},{"owner":{"account_id":2212897,"reputation":335,"user_id":1954238,"display_name":"galactoise"},"score":0,"creation_date":1358758593,"post_id":14434679,"comment_id":20097022,"body_markdown":"That was the answer I was hoping not to hear =).  Everything has worked really well so far with the vanilla setup and the JsonProperty, JsonIgnore, and JsonFilter annotations.\n\nI&#39;ll check it out though, thanks.","body":"That was the answer I was hoping not to hear =).  Everything has worked really well so far with the vanilla setup and the JsonProperty, JsonIgnore, and JsonFilter annotations.  I&#39;ll check it out though, thanks."}],"answers":[{"tags":[],"owner":{"account_id":1521809,"reputation":306,"user_id":1421257,"display_name":"carlo.polisini"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1358762278,"creation_date":1358762278,"answer_id":14436140,"question_id":14434679,"body_markdown":"The fact is that in Java the class loader will set to the default value all not initialized primitive properties (int = 0, boolean = false etc...), so you can&#39;t distinguish them from those set explicitly by your app. In my opinion you have two options:\r\n\r\n - Use corresponding wrapper objects instead of primitives (Integer,Boolean,Long..) \r\n - As already suggested, define a custom serializer","title":"How do I make jackson not serialize primitives with default value","body":"<p>The fact is that in Java the class loader will set to the default value all not initialized primitive properties (int = 0, boolean = false etc...), so you can't distinguish them from those set explicitly by your app. In my opinion you have two options:</p>\n\n<ul>\n<li>Use corresponding wrapper objects instead of primitives (Integer,Boolean,Long..) </li>\n<li>As already suggested, define a custom serializer</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":420682,"reputation":891,"user_id":798498,"display_name":"HiJon89"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1358809431,"creation_date":1358805288,"answer_id":14447933,"question_id":14434679,"body_markdown":"If you&#39;re using a recent version of Jackson you can use [`JsonInclude.Include.NON_DEFAULT`](http://fasterxml.github.com/jackson-annotations/javadoc/2.1.1/com/fasterxml/jackson/annotation/JsonInclude.Include.html#NON_DEFAULT) which should work for primitives.\r\n\r\nThe downside to this approach is that setting a bean property to its default value will have no effect and the property still won&#39;t be included:\r\n\r\n    @JsonInclude(Include.NON_DEFAULT)\r\n    public class Bean {\r\n      private int val;\r\n      public int getVal() { return val; }\r\n      public void setVal(int val) { this.val = val; }\r\n    }\r\n\r\n    Bean b = new Bean();\r\n    b.setVal(0);\r\n    new ObjectMapper().writeValueAsString(b); // &quot;{}&quot; ","title":"How do I make jackson not serialize primitives with default value","body":"<p>If you're using a recent version of Jackson you can use <a href=\"http://fasterxml.github.com/jackson-annotations/javadoc/2.1.1/com/fasterxml/jackson/annotation/JsonInclude.Include.html#NON_DEFAULT\" rel=\"noreferrer\"><code>JsonInclude.Include.NON_DEFAULT</code></a> which should work for primitives.</p>\n\n<p>The downside to this approach is that setting a bean property to its default value will have no effect and the property still won't be included:</p>\n\n<pre><code>@JsonInclude(Include.NON_DEFAULT)\npublic class Bean {\n  private int val;\n  public int getVal() { return val; }\n  public void setVal(int val) { this.val = val; }\n}\n\nBean b = new Bean();\nb.setVal(0);\nnew ObjectMapper().writeValueAsString(b); // \"{}\" \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656397792,"creation_date":1656397792,"answer_id":72781660,"question_id":14434679,"body_markdown":"### Class or property level: (You can also configure it globally or per-type basis as detailed [here](https://cowtowncoder.medium.com/jackson-tips-filtering-with-jsoninclude-27f08979514c))\r\n\r\n`@JsonInclude(value = JsonInclude.Include.NON_DEFAULT)`. //This is for primitives.&lt;br&gt;\r\n&lt;s&gt;@JsonInclude(content = JsonInclude.Include.NON_DEFAULT)&lt;/s&gt;. \r\n\r\n\r\n\r\n### In increasing order of precedence:\r\n\r\n&gt; 1. Global default: ObjectMapper.setDefaultPropertyInclusion(...)  used if no other settings apply\r\n&gt; 2. Per-class @JsonInclude annotation (specifies default inclusion for Class being annotated (overrides global default)\r\n&gt; 3. Per-type inclusion default: ObjectMapper.configOverride(MyValue.class).setInclude(...) which\r\n&gt; similarly specifies inclusion for type specified (but overrides global\r\n&gt; default and possible per-class annotation)\r\n&gt; 4. Per-property inclusion override: @JsonInclude on property accessor (field, setter/getter, constructor argument)  overrides defaults from\r\n&gt; other 3 levels\r\n\r\n","title":"How do I make jackson not serialize primitives with default value","body":"<h3>Class or property level: (You can also configure it globally or per-type basis as detailed <a href=\"https://cowtowncoder.medium.com/jackson-tips-filtering-with-jsoninclude-27f08979514c\" rel=\"nofollow noreferrer\">here</a>)</h3>\n<p><code>@JsonInclude(value = JsonInclude.Include.NON_DEFAULT)</code>. //This is for primitives.<br>\n<s>@JsonInclude(content = JsonInclude.Include.NON_DEFAULT)</s>.</p>\n<h3>In increasing order of precedence:</h3>\n<blockquote>\n<ol>\n<li>Global default: ObjectMapper.setDefaultPropertyInclusion(...)  used if no other settings apply</li>\n<li>Per-class @JsonInclude annotation (specifies default inclusion for Class being annotated (overrides global default)</li>\n<li>Per-type inclusion default: ObjectMapper.configOverride(MyValue.class).setInclude(...) which\nsimilarly specifies inclusion for type specified (but overrides global\ndefault and possible per-class annotation)</li>\n<li>Per-property inclusion override: @JsonInclude on property accessor (field, setter/getter, constructor argument)  overrides defaults from\nother 3 levels</li>\n</ol>\n</blockquote>\n"}],"owner":{"account_id":2212897,"reputation":335,"user_id":1954238,"display_name":"galactoise"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29379,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":14447933,"answer_count":3,"score":22,"last_activity_date":1656397792,"creation_date":1358756135,"question_id":14434679,"body_markdown":"In Jackson, it is possible to use JsonSerialize annotation on a POJO in order to prevent null objects from being serialized (@JsonSerialize(include=JsonSerialize.Inclusion.NON_NULL)).  Primitives, however, cannot be set to null, so this annotation doesn&#39;t work for something like an int that hasn&#39;t been touched and defaults to 0.\r\n\r\nIs there an annotation that would allow me to say something like &quot;For this class, don&#39;t serialize primitives unless they are different than their default values&quot; or &quot;For this field, don&#39;t serialize it if its value is X&quot;?","title":"How do I make jackson not serialize primitives with default value","body":"<p>In Jackson, it is possible to use JsonSerialize annotation on a POJO in order to prevent null objects from being serialized (@JsonSerialize(include=JsonSerialize.Inclusion.NON_NULL)).  Primitives, however, cannot be set to null, so this annotation doesn't work for something like an int that hasn't been touched and defaults to 0.</p>\n\n<p>Is there an annotation that would allow me to say something like \"For this class, don't serialize primitives unless they are different than their default values\" or \"For this field, don't serialize it if its value is X\"?</p>\n"},{"tags":["java","xml","saxparser"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1656332953,"post_id":72772068,"comment_id":128538473,"body_markdown":"Please share your saxhandler code. Your XML sample does not look like null values - it just contains an element with the name `null`","body":"Please share your saxhandler code. Your XML sample does not look like null values - it just contains an element with the name <code>null</code>"},{"owner":{"account_id":7132631,"reputation":3,"user_id":7172744,"display_name":"Arben Vata"},"score":0,"creation_date":1656339668,"post_id":72772068,"comment_id":128541225,"body_markdown":"I added java code","body":"I added java code"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656397668,"creation_date":1656340024,"answer_id":72773754,"question_id":72772068,"body_markdown":"Your interpretation is wrong. SAX is firing the events other than you expect.\r\n\r\n    &lt;QuotaCode&gt;\r\n    &lt;null/&gt;\r\n    &lt;/QuotaCode&gt;\r\n\r\nWhen the SAX parser reads this document, it will fire \r\n- startElement for `&lt;QuotaCode&gt;`\r\n- characters for the linefeed (invisible)\r\n- startElement for `&lt;null/&gt;`\r\n- endElement for `&lt;null/&gt;`\r\n- characters for the linefeed (invisible)\r\n- endElement for `&lt;/QuotaCode&gt;`\r\n\r\nMaybe you expected `&lt;null/&gt;` to be the element text? Then you need to escape that data like so:\r\n\r\n    &lt;QuotaCode&gt;\r\n    &amp;gt;null/&amp;lt;\r\n    &lt;/QuotaCode&gt;\r\n","title":"saxparser java xml file with null element","body":"<p>Your interpretation is wrong. SAX is firing the events other than you expect.</p>\n<pre><code>&lt;QuotaCode&gt;\n&lt;null/&gt;\n&lt;/QuotaCode&gt;\n</code></pre>\n<p>When the SAX parser reads this document, it will fire</p>\n<ul>\n<li>startElement for <code>&lt;QuotaCode&gt;</code></li>\n<li>characters for the linefeed (invisible)</li>\n<li>startElement for <code>&lt;null/&gt;</code></li>\n<li>endElement for <code>&lt;null/&gt;</code></li>\n<li>characters for the linefeed (invisible)</li>\n<li>endElement for <code>&lt;/QuotaCode&gt;</code></li>\n</ul>\n<p>Maybe you expected <code>&lt;null/&gt;</code> to be the element text? Then you need to escape that data like so:</p>\n<pre><code>&lt;QuotaCode&gt;\n&amp;gt;null/&amp;lt;\n&lt;/QuotaCode&gt;\n</code></pre>\n"}],"owner":{"account_id":7132631,"reputation":3,"user_id":7172744,"display_name":"Arben Vata"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656397668,"creation_date":1656332674,"question_id":72772068,"body_markdown":"I am trying to parse an xml files using SAxparser. Everything works fine except the cases when an element tag in xml file contains null value. For example below xml element\r\n\r\n    &lt;QuotaCode&gt;\r\n    &lt;null/&gt;\r\n    &lt;/QuotaCode&gt;\r\nis parsed as 2 empty lines.\r\nBelow is code\r\n\r\n\r\n    public class ImportXML2 extends DefaultHandler {\r\n    \r\n    \r\n        private StringBuilder elementValue = new StringBuilder();\r\n    \r\n    \r\n        @Override\r\n        // A start tag is encountered.\r\n        public void startElement(String uri, String localName, String qName, Attributes attributes)\r\n                throws SAXException {\r\n    \r\n            elementValue.setLength(0);\r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void endElement(String uri, String localName, String qName) throws SAXException {\r\n            switch (qName) {\r\n    \r\n    \r\n                case &quot;Total_number_of_packages&quot;: {\r\n                    System.out.println(elementValue.toString());\r\n                    break;\r\n                }\r\n                case &quot;QuotaCode&quot;: {\r\n                    System.out.println(&quot;quote &quot; + elementValue.toString());\r\n    \r\n                    break;\r\n                }\r\n                case &quot;office_code&quot;: {\r\n                    System.out.println(elementValue.toString());\r\n                    break;\r\n                }\r\n    \r\n    \r\n        } }\r\n    \r\n        @Override\r\n        public void characters(char[] ch, int start, int length) throws SAXException {\r\n            if (elementValue == null) {\r\n    \r\n            } else {\r\n    \r\n    \r\n                elementValue.append(ch, start, length);\r\n            }\r\n        }\r\n    }\r\n\r\nresult is(QuotaCode tag is present 2 times in xml doc ):\r\n\r\n    4\r\n    office_1\r\n    quote \r\n    \r\n    quote\r\n\r\n\r\n\r\n","title":"saxparser java xml file with null element","body":"<p>I am trying to parse an xml files using SAxparser. Everything works fine except the cases when an element tag in xml file contains null value. For example below xml element</p>\n<pre><code>&lt;QuotaCode&gt;\n&lt;null/&gt;\n&lt;/QuotaCode&gt;\n</code></pre>\n<p>is parsed as 2 empty lines.\nBelow is code</p>\n<pre><code>public class ImportXML2 extends DefaultHandler {\n\n\n    private StringBuilder elementValue = new StringBuilder();\n\n\n    @Override\n    // A start tag is encountered.\n    public void startElement(String uri, String localName, String qName, Attributes attributes)\n            throws SAXException {\n\n        elementValue.setLength(0);\n\n\n    }\n\n    @Override\n    public void endElement(String uri, String localName, String qName) throws SAXException {\n        switch (qName) {\n\n\n            case &quot;Total_number_of_packages&quot;: {\n                System.out.println(elementValue.toString());\n                break;\n            }\n            case &quot;QuotaCode&quot;: {\n                System.out.println(&quot;quote &quot; + elementValue.toString());\n\n                break;\n            }\n            case &quot;office_code&quot;: {\n                System.out.println(elementValue.toString());\n                break;\n            }\n\n\n    } }\n\n    @Override\n    public void characters(char[] ch, int start, int length) throws SAXException {\n        if (elementValue == null) {\n\n        } else {\n\n\n            elementValue.append(ch, start, length);\n        }\n    }\n}\n</code></pre>\n<p>result is(QuotaCode tag is present 2 times in xml doc ):</p>\n<pre><code>4\noffice_1\nquote \n\nquote\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cloud-config","spring-cloud-config-server"],"comments":[{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1656401963,"post_id":72781377,"comment_id":128556434,"body_markdown":"Offtopic-hint: There are mechanics where your application doesn&#39;t need to restart while reloading/updating some configs/properties. You can do that on the fly and avoid a downtime/restart time.","body":"Offtopic-hint: There are mechanics where your application doesn&#39;t need to restart while reloading/updating some configs/properties. You can do that on the fly and avoid a downtime/restart time."}],"answers":[{"tags":[],"owner":{"account_id":15585153,"reputation":1806,"user_id":11243901,"display_name":"Arun Sai Mustyala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656396702,"creation_date":1656396495,"answer_id":72781473,"question_id":72781377,"body_markdown":"yes, possible by adding the actuator and enabling the startup endpoint.\r\n\r\nstep1: Add the below dependency\r\n\r\n   \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nstep2: Add the below property into the application.properties files.\r\n\r\n    management.endpoints.web.exposure.include=startup\r\n\r\nstep3: Setup a little amount of buffer memory to store the startup info and it won&#39;t affect the performance at anywhere in your application.\r\n\r\n    @SpringBootApplication\r\n    public class StartupTrackingApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication app = new SpringApplication(StartupTrackingApplication.class);\r\n            app.setApplicationStartup(new BufferingApplicationStartup(2048));\r\n            app.run(args);\r\n        }\r\n    }\r\n\r\nstep: Hit the below URL using CURL like below or a POST call from POSTMAN. Then you will be seeing all startup-related info like when the startup started and ended. e.t.c.\r\n\r\n    curl &#39;http://localhost:8080/actuator/startup&#39; -X POST | jq\r\n\r\n\r\nFor more explanation, view [reference][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-actuator-startup\r\n\r\nIn the response json, node *&quot;timeline&quot;.&quot;startTime&quot;* is the exact **startup timestamp** when the applicant has started its startup job.","title":"Timestamp of restart of spring application","body":"<p>yes, possible by adding the actuator and enabling the startup endpoint.</p>\n<p>step1: Add the below dependency</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;version&gt;2.5.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>step2: Add the below property into the application.properties files.</p>\n<pre><code>management.endpoints.web.exposure.include=startup\n</code></pre>\n<p>step3: Setup a little amount of buffer memory to store the startup info and it won't affect the performance at anywhere in your application.</p>\n<pre><code>@SpringBootApplication\npublic class StartupTrackingApplication {\n\n    public static void main(String[] args) {\n        SpringApplication app = new SpringApplication(StartupTrackingApplication.class);\n        app.setApplicationStartup(new BufferingApplicationStartup(2048));\n        app.run(args);\n    }\n}\n</code></pre>\n<p>step: Hit the below URL using CURL like below or a POST call from POSTMAN. Then you will be seeing all startup-related info like when the startup started and ended. e.t.c.</p>\n<pre><code>curl 'http://localhost:8080/actuator/startup' -X POST | jq\n</code></pre>\n<p>For more explanation, view <a href=\"https://www.baeldung.com/spring-boot-actuator-startup\" rel=\"nofollow noreferrer\">reference</a></p>\n<p>In the response json, node <em>&quot;timeline&quot;.&quot;startTime&quot;</em> is the exact <strong>startup timestamp</strong> when the applicant has started its startup job.</p>\n"},{"tags":[],"owner":{"account_id":18757259,"reputation":1751,"user_id":13676960,"display_name":"Hopey One"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656397571,"creation_date":1656397571,"answer_id":72781620,"question_id":72781377,"body_markdown":"You can listen to spring events such as the ContextStartedEvent. There&#39;s a tutorial [here][1] that lays it out:\r\n\r\n    @EventListener\r\n    public void handleContextStartedEvent(ContextStartedEvent ctxStartEvt) {\r\n        System.out.println(&quot;Context Start Event received.&quot;);\r\n    }\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-context-events","title":"Timestamp of restart of spring application","body":"<p>You can listen to spring events such as the ContextStartedEvent. There's a tutorial <a href=\"https://www.baeldung.com/spring-context-events\" rel=\"nofollow noreferrer\">here</a> that lays it out:</p>\n<pre><code>@EventListener\npublic void handleContextStartedEvent(ContextStartedEvent ctxStartEvt) {\n    System.out.println(&quot;Context Start Event received.&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656397571,"creation_date":1656395854,"question_id":72781377,"body_markdown":"I have a microservice based on spring boot. I have a spring cloud configserver as well in-place. So depending upon the changes in the configserver microservice restart automatically. &lt;br/&gt;\r\nSo now i need to grab the timestamp when the application got restarted. &lt;br /&gt;\r\nIs it possible to do so in the same microservice?","title":"Timestamp of restart of spring application","body":"<p>I have a microservice based on spring boot. I have a spring cloud configserver as well in-place. So depending upon the changes in the configserver microservice restart automatically. <br/>\nSo now i need to grab the timestamp when the application got restarted. <br />\nIs it possible to do so in the same microservice?</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1656379395,"post_id":72779152,"comment_id":128552287,"body_markdown":"You can&#39;t use `flatMap` because there is no `onNext` signal. `then` is a right approach. Not sure why you are saying &quot;Given that .then() ignores any errors, I can&#39;t rise an exception&quot;  because `repository.save(item)` will not be resolved in case `inputValidator.validateFields` returns `onError` signal. `save` will be called but this is just assembly time (not subscription time). Check https://spring.io/blog/2019/03/06/flight-of-the-flux-1-assembly-vs-subscription for details","body":"You can&#39;t use <code>flatMap</code> because there is no <code>onNext</code> signal. <code>then</code> is a right approach. Not sure why you are saying &quot;Given that .then() ignores any errors, I can&#39;t rise an exception&quot;  because <code>repository.save(item)</code> will not be resolved in case <code>inputValidator.validateFields</code> returns <code>onError</code> signal. <code>save</code> will be called but this is just assembly time (not subscription time). Check <a href=\"https://spring.io/blog/2019/03/06/flight-of-the-flux-1-assembly-vs-subscription\" rel=\"nofollow noreferrer\">spring.io/blog/2019/03/06/&hellip;</a> for details"},{"owner":{"account_id":18286558,"reputation":371,"user_id":13314717,"display_name":"NikMashei"},"score":0,"creation_date":1656395131,"post_id":72779152,"comment_id":128554609,"body_markdown":"I got a couple of tests validating behaviour of my service. And they fail with approach with `then()`, because actually `save()` method triggers each time even if errors have occurred after validation. As I understand from docs, all errors happen before `then()` will be replayed in publisher after `then()`. But this is behaviour that I&#39;m trying to avoid.","body":"I got a couple of tests validating behaviour of my service. And they fail with approach with <code>then()</code>, because actually <code>save()</code> method triggers each time even if errors have occurred after validation. As I understand from docs, all errors happen before <code>then()</code> will be replayed in publisher after <code>then()</code>. But this is behaviour that I&#39;m trying to avoid."},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1656396831,"post_id":72779152,"comment_id":128554950,"body_markdown":"Not sure how you tested it but publisher in `then()` will not be resolved in case of error. but let me post some same test as an answer","body":"Not sure how you tested it but publisher in <code>then()</code> will not be resolved in case of error. but let me post some same test as an answer"}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656397470,"creation_date":1656397470,"answer_id":72781601,"question_id":72779152,"body_markdown":"You can&#39;t use `flatMap` because there is no `onNext` signal - use `then` instead. Not sure what do you mean by &quot;called&quot; but there is a difference between [Assembly and Subscription time](https://spring.io/blog/2019/03/06/flight-of-the-flux-1-assembly-vs-subscription) in reactive. Publisher you  specified in `then` will not be resolved in case `inputValidator.validateFields` returns `onError` signal. \r\n\r\nHere is a test for failed validation and as you may see subscription was not triggered\r\n\r\n```\r\n@Test\r\nvoid saveWasNotCalledIfValidationFailed() {\r\n    var saveMock = PublisherProbe.of(Mono.just(&quot;id&quot;));\r\n\r\n    var repo = mock(Repository.class);\r\n    when(repo.save())\r\n            .thenReturn(saveMock.mono());\r\n\r\n    var res = validateFields()\r\n            .then(repo.save())\r\n            .onErrorMap(IllegalArgumentException.class,\r\n                    ex -&gt; new IllegalStateException(&quot;Failed to save item&quot;, ex)\r\n            );\r\n\r\n    StepVerifier.create(res)\r\n            .expectError(IllegalStateException.class)\r\n            .verify();\r\n\r\n    saveMock.assertWasNotSubscribed();\r\n}\r\n\r\nprivate Mono&lt;Void&gt; validateFields() {\r\n    return Mono.error(new IllegalArgumentException(&quot;oops&quot;));\r\n}\r\n\r\npublic static class Repository {\r\n    public Mono&lt;String&gt; save() {\r\n        return Mono.just(&quot;id&quot;);\r\n    }\r\n}\r\n```\r\n\r\nand here is a test for passed validation\r\n\r\n```\r\n@Test\r\nvoid saveIsCalledIfValidationPassed() {\r\n    var saveMock = PublisherProbe.of(Mono.just(&quot;id&quot;));\r\n\r\n    var repo = mock(Repository.class);\r\n    when(repo.save())\r\n            .thenReturn(saveMock.mono());\r\n\r\n    var res = validateFields()\r\n            .then(repo.save())\r\n            .onErrorMap(IllegalArgumentException.class,\r\n                    ex -&gt; new IllegalStateException(&quot;Failed to save item&quot;, ex)\r\n            );\r\n\r\n    StepVerifier.create(res)\r\n            .expectNext(&quot;id&quot;)\r\n            .verifyComplete();\r\n\r\n    saveMock.assertWasSubscribed();\r\n}\r\n\r\nprivate Mono&lt;Void&gt; validateFields() {\r\n    return Mono.empty();\r\n}\r\n```","title":"Use flatMap after method returning Mono&lt;Void&gt;","body":"<p>You can't use <code>flatMap</code> because there is no <code>onNext</code> signal - use <code>then</code> instead. Not sure what do you mean by &quot;called&quot; but there is a difference between <a href=\"https://spring.io/blog/2019/03/06/flight-of-the-flux-1-assembly-vs-subscription\" rel=\"nofollow noreferrer\">Assembly and Subscription time</a> in reactive. Publisher you  specified in <code>then</code> will not be resolved in case <code>inputValidator.validateFields</code> returns <code>onError</code> signal.</p>\n<p>Here is a test for failed validation and as you may see subscription was not triggered</p>\n<pre><code>@Test\nvoid saveWasNotCalledIfValidationFailed() {\n    var saveMock = PublisherProbe.of(Mono.just(&quot;id&quot;));\n\n    var repo = mock(Repository.class);\n    when(repo.save())\n            .thenReturn(saveMock.mono());\n\n    var res = validateFields()\n            .then(repo.save())\n            .onErrorMap(IllegalArgumentException.class,\n                    ex -&gt; new IllegalStateException(&quot;Failed to save item&quot;, ex)\n            );\n\n    StepVerifier.create(res)\n            .expectError(IllegalStateException.class)\n            .verify();\n\n    saveMock.assertWasNotSubscribed();\n}\n\nprivate Mono&lt;Void&gt; validateFields() {\n    return Mono.error(new IllegalArgumentException(&quot;oops&quot;));\n}\n\npublic static class Repository {\n    public Mono&lt;String&gt; save() {\n        return Mono.just(&quot;id&quot;);\n    }\n}\n</code></pre>\n<p>and here is a test for passed validation</p>\n<pre><code>@Test\nvoid saveIsCalledIfValidationPassed() {\n    var saveMock = PublisherProbe.of(Mono.just(&quot;id&quot;));\n\n    var repo = mock(Repository.class);\n    when(repo.save())\n            .thenReturn(saveMock.mono());\n\n    var res = validateFields()\n            .then(repo.save())\n            .onErrorMap(IllegalArgumentException.class,\n                    ex -&gt; new IllegalStateException(&quot;Failed to save item&quot;, ex)\n            );\n\n    StepVerifier.create(res)\n            .expectNext(&quot;id&quot;)\n            .verifyComplete();\n\n    saveMock.assertWasSubscribed();\n}\n\nprivate Mono&lt;Void&gt; validateFields() {\n    return Mono.empty();\n}\n</code></pre>\n"}],"owner":{"account_id":18286558,"reputation":371,"user_id":13314717,"display_name":"NikMashei"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3817,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72781601,"answer_count":1,"score":0,"last_activity_date":1656397470,"creation_date":1656371492,"question_id":72779152,"body_markdown":"I&#39;m stuck with understanding of some aspects of Project Reactor.\r\n\r\nI have the following list of components:\r\n\r\n 1. Validator of input params, returns `Mono&lt;Void&gt;` or `Mono.error()`\r\n 2. Service saving data to db, returns `Mono&lt;Item&gt;`\r\n 3. Logger for successful actions of an user, returns `Mono&lt;Void`\r\n\r\nA business logic is quite simple: validate params (1), save an item to db (2) and log actions (3). The problem is validator (1) returns `Mono.empty()` if there are no errors with input data and `Mono.error()` if input params contain some errors.\r\n\r\nI would like to achieve the next things:\r\n\r\n 1. If validator returns `Mono.empty()` then continue chain\r\n 2. If validator returns `Mono.error()` then immediately stop processing and throw error which will be handled by `exceptionHanlder`\r\n\r\nI have tried two options:\r\n\r\nFirst with `.then(Mono&lt;Item&gt; item)` after validation. It allows me to execute saving operation after validation. Given that `.then()` ignores any errors, I can&#39;t rise an exception.\r\n\r\n    return inputValidator.validateFields(userId, projectId)\r\n                .then(repository.save(item))\r\n                .onErrorMap(RepoException.class, ex -&gt; new UnexpectedError(&quot;Failed to save item&quot;, ex))\r\n                .subscribeOn(Schedulers.boundedElastic())\r\n                .doOnSuccess(n -&gt; logService.logActivity(new Activity(adminId, n))\r\n                        .subscribe());\r\n\r\n Second with `.flatMap(Function&lt;Mono&lt;Void&gt;, &lt;Mono&lt;? extends Item&gt; func)` after validation. This approach can rise an exception from validator, but I can&#39;t execute saving operation because `flatMap()` doesn&#39;t trigger on empty result.\r\n\r\n    return inputValidator.validateFields(userId, projectId)\r\n                .flatMap(v -&gt; repository.save(item))\r\n                .onErrorMap(RepoException.class, ex -&gt; new UnexpectedError(&quot;Failed to save item&quot;, ex))\r\n                .subscribeOn(Schedulers.boundedElastic())\r\n                .doOnSuccess(n -&gt; logService.logActivity(new Activity(adminId, n))\r\n                        .subscribe());\r\n\r\nIt is also important to have access for created object after saving (step 2), because I need to pass it to logger service.","title":"Use flatMap after method returning Mono&lt;Void&gt;","body":"<p>I'm stuck with understanding of some aspects of Project Reactor.</p>\n<p>I have the following list of components:</p>\n<ol>\n<li>Validator of input params, returns <code>Mono&lt;Void&gt;</code> or <code>Mono.error()</code></li>\n<li>Service saving data to db, returns <code>Mono&lt;Item&gt;</code></li>\n<li>Logger for successful actions of an user, returns <code>Mono&lt;Void</code></li>\n</ol>\n<p>A business logic is quite simple: validate params (1), save an item to db (2) and log actions (3). The problem is validator (1) returns <code>Mono.empty()</code> if there are no errors with input data and <code>Mono.error()</code> if input params contain some errors.</p>\n<p>I would like to achieve the next things:</p>\n<ol>\n<li>If validator returns <code>Mono.empty()</code> then continue chain</li>\n<li>If validator returns <code>Mono.error()</code> then immediately stop processing and throw error which will be handled by <code>exceptionHanlder</code></li>\n</ol>\n<p>I have tried two options:</p>\n<p>First with <code>.then(Mono&lt;Item&gt; item)</code> after validation. It allows me to execute saving operation after validation. Given that <code>.then()</code> ignores any errors, I can't rise an exception.</p>\n<pre><code>return inputValidator.validateFields(userId, projectId)\n            .then(repository.save(item))\n            .onErrorMap(RepoException.class, ex -&gt; new UnexpectedError(&quot;Failed to save item&quot;, ex))\n            .subscribeOn(Schedulers.boundedElastic())\n            .doOnSuccess(n -&gt; logService.logActivity(new Activity(adminId, n))\n                    .subscribe());\n</code></pre>\n<p>Second with <code>.flatMap(Function&lt;Mono&lt;Void&gt;, &lt;Mono&lt;? extends Item&gt; func)</code> after validation. This approach can rise an exception from validator, but I can't execute saving operation because <code>flatMap()</code> doesn't trigger on empty result.</p>\n<pre><code>return inputValidator.validateFields(userId, projectId)\n            .flatMap(v -&gt; repository.save(item))\n            .onErrorMap(RepoException.class, ex -&gt; new UnexpectedError(&quot;Failed to save item&quot;, ex))\n            .subscribeOn(Schedulers.boundedElastic())\n            .doOnSuccess(n -&gt; logService.logActivity(new Activity(adminId, n))\n                    .subscribe());\n</code></pre>\n<p>It is also important to have access for created object after saving (step 2), because I need to pass it to logger service.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1656364018,"post_id":72778259,"comment_id":128549632,"body_markdown":"The best way is to simply loop through the list of all available squares, and check if the movement record contains that square, if not then return false immediately, or if they have all been visited then the loop will reach the end and you can return true.","body":"The best way is to simply loop through the list of all available squares, and check if the movement record contains that square, if not then return false immediately, or if they have all been visited then the loop will reach the end and you can return true."},{"owner":{"account_id":23370806,"reputation":17,"user_id":17441690,"display_name":"morloq"},"score":0,"creation_date":1656364148,"post_id":72778259,"comment_id":128549671,"body_markdown":"@sorifiend how would you store the available squares? in a list or a hashmap?","body":"@sorifiend how would you store the available squares? in a list or a hashmap?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1656364218,"post_id":72778259,"comment_id":128549692,"body_markdown":"Any of those would work, or the answer below from ControlAltDel works well.","body":"Any of those would work, or the answer below from ControlAltDel works well."},{"owner":{"account_id":23370806,"reputation":17,"user_id":17441690,"display_name":"morloq"},"score":0,"creation_date":1656364688,"post_id":72778259,"comment_id":128549813,"body_markdown":"@sorifiend I used a HashMap, it worked, thank you! I guess I was overcomplicating the issue at hand.","body":"@sorifiend I used a HashMap, it worked, thank you! I guess I was overcomplicating the issue at hand."},{"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"score":1,"creation_date":1656757305,"post_id":72778259,"comment_id":128652935,"body_markdown":"@morloq Have you taken a look at my answer yet? It is an object-oriented approach, which is more scalable.","body":"@morloq Have you taken a look at my answer yet? It is an object-oriented approach, which is more scalable."},{"owner":{"account_id":23370806,"reputation":17,"user_id":17441690,"display_name":"morloq"},"score":0,"creation_date":1656780156,"post_id":72778259,"comment_id":128657157,"body_markdown":"@Cactusroot Not yet as sorifiend&#39;s answer already helped me out. I am rather busy at the moment, but I will take a look soon..","body":"@Cactusroot Not yet as sorifiend&#39;s answer already helped me out. I am rather busy at the moment, but I will take a look soon.."}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656364097,"creation_date":1656364097,"answer_id":72778322,"question_id":72778259,"body_markdown":"You can either create a custom class or create another array to capture the information, like\r\n\r\n    public class BoardTile {\r\n      String info;\r\n      boolean visited;\r\n    }\r\n\r\nAnd then use a `BoardTile[][]` instead of a `String[][]`\r\n\r\nAlternatively, you could create a separate 2D array of booleans\r\n\r\n    private boolean[][] visited = new boolean[widthOfBoard, heightOfBoard];","title":"How can I check if all panels of a playing board were visited by the player?","body":"<p>You can either create a custom class or create another array to capture the information, like</p>\n<pre><code>public class BoardTile {\n  String info;\n  boolean visited;\n}\n</code></pre>\n<p>And then use a <code>BoardTile[][]</code> instead of a <code>String[][]</code></p>\n<p>Alternatively, you could create a separate 2D array of booleans</p>\n<pre><code>private boolean[][] visited = new boolean[widthOfBoard, heightOfBoard];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656397059,"creation_date":1656368310,"answer_id":72778835,"question_id":72778259,"body_markdown":"**Why your Map doesn&#39;t work:**\r\n\r\nYou are using a `Map&lt;Integer, Integer&gt;`. For each distinct `Integer`, this map can store another `Integer` (it &quot;maps&quot; `Integer` to `Integer`)\r\n\r\nExample dataset of your current `Map`:\r\n\r\n    {\r\n        1: 3\r\n        2: 5\r\n        4: -2\r\n    }\r\n\r\nThis is obviously not what you want. You likely want something like this (Mapping 2 `Integer`s to a `String`:\r\n\r\n    {\r\n        &quot;1/3&quot;: &quot;WALL&quot;\r\n        &quot;2/5&quot;: &quot;WALL&quot;\r\n        &quot;4/-2&quot;: &quot;GROUND&quot;\r\n    }\r\n\r\nBecause having 2 keys isn&#39;t possible, you need a wrapper class. (Ignore `Vector` for now):\r\n\r\n    public interface Vector {\r\n        int getX();\r\n\r\n        int getY();\r\n\r\n        default Position add(Vector other) {\r\n            return new Position(getX() + other.getX(), getY() + other.getY());\r\n        }\r\n\r\n        default Position subtract(Vector other) {\r\n            return new Position(getX() - other.getX(), getY() - other.getY());\r\n        }\r\n    }\r\n\r\n    public record Position(int x, int y) implements Vector {\r\n    }\r\n\r\nrecord is just an abbreviation for a class that only contains final attributes and implements `hashCode` and `equals`.\r\n\r\nNow you can create your `Map` like this:\r\n\r\n    Map&lt;Position, String&gt; map = new HashMap&lt;&gt;();\r\n\r\nOr to save a number of `Position`s the player already entered, do this:\r\n\r\n    Set&lt;Position&gt; list = new HashSet&lt;&gt;();\r\n\r\nA `Set` can only contain each value once, so you can add the same `Position` over and over again, but it will only the first one will be saved.\r\n\r\n**Why I would not do that:**\r\n\r\nJava is an [Object-oriented programming][1] language. You can bundle information and simplify problems by using an object-oriented approach.\r\n\r\nLet&#39;s create a few classes here to make things object-oriented:\r\n\r\n1) Not using `String` to store non-textual data\r\n\r\nBecause the amount of different `Tile`s you have is limited anyway, you can create an enum. I assume you have 2 `Tile`s (WALL and GROUND).\r\n\r\n    public enum Pattern {\r\n        GROUND,\r\n        WALL\r\n    }\r\n\r\n2) Bundling all information about a `Tile`:\r\n\r\n``` java\r\npublic class Tile {\r\n    private final Pattern pattern; // The kind of Tile doesn&#39;t change.\r\n    private final Position pos; // The pos doesn&#39;t change.\r\n    private boolean visited; // Whether you entered the Tile can change.\r\n\r\n    public Tile(Pattern pattern, Position pos) {\r\n        this.pattern = pattern;\r\n        this.pos = pos;\r\n    }\r\n    \r\n    public Position getPos() {\r\n        return pos;\r\n    }\r\n\r\n    public void markVisited() {\r\n        visited = true;\r\n    }\r\n\r\n    public boolean isVisited() {\r\n        return visited;\r\n    }\r\n}\r\n```\r\n\r\n3. Bundling all information about a board. \r\n\r\n- You can either apply strict boundaries to your `Board` (see getTile1), \r\n- or make it wrap (way easier than you probably think) (see getTile2).\r\n\r\n``` java\r\npublic class Board {\r\n    private final int width, heigth;\r\n    private final Tile[][] tiles;\r\n\r\n    public Board(int width, int height) {\r\n        this.width = width;\r\n        this.height = height;\r\n        this.tiles = new Tile[width][height];\r\n        for (int y = 0; y &lt; height; y++) {\r\n            for (int x = 0; x &lt; width; x++) {\r\n                tiles[x][y] = new Tile(Pattern.GROUND);\r\n            }\r\n        }\r\n    }\r\n\r\n    public Tile getTile1(Position pos) {\r\n        int x = Math.max(0, Math.min(width - 1, pos.getX()));\r\n        int y = Math.max(0, Math.min(height - 1, pos.getY()));\r\n        return tiles[x][y];\r\n    }\r\n\r\n    public Tile getTile2(Position pos) {\r\n        int x = Math.floorMod(x, width);\r\n        int y = Math.floorMod(y, height);\r\n        return tiles[x][y];\r\n    }\r\n}\r\n```\r\n\r\n4. Instead of using `String`s, make an enum `Direction`:\r\n\r\n``` java\r\npublic enum Direction implements Vector {\r\n    UP(0, -1, &#39;w&#39;), DOWN(0, 1, &#39;s&#39;), LEFT(-1, 0, &#39;a&#39;), RIGHT(1, 0, &#39;d&#39;);\r\n\r\n    private final int x, y;\r\n    private final char keyChar;\r\n\r\n    Direction(int x, int y, char keyChar) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.keyChar = keyChar;\r\n    }\r\n\r\n    public static Direction forKeyChar(char keyChar) {\r\n        for (Direction dir : values()) {\r\n            if (dir.keyChar == keyChar) return dir;\r\n        }\r\n        throw new IllegalArgumentException(&quot;No Direction for keyChar &quot; + keyChar);\r\n    }\r\n\r\n    public int getX() {\r\n        return x;\r\n    }\r\n\r\n    public int getY() {\r\n        return y;\r\n    }\r\n}\r\n```\r\n\r\n**How powerful this is:**\r\n\r\n1. Updating the player position (I assume you chose either `getTile1` or `getTile2` already and called it simply `getTile`)\r\n\r\n``` java\r\nprivate Board board = new Board();\r\nprivate Tile playerTile = board.getTile(new Position(x, y));\r\n```\r\n    \r\nCode to update:\r\n\r\nFor each key pressed, you can now add all of the `Direction`s together to obtain a `Position`, which acts as a `Vector`:\r\n\r\n    String m = ...;\r\n    Position change = new Position(0, 0);\r\n    for (char c : m.toCharArray()) pos = pos.add(Direction.forKeyChar(c));\r\n    Tile newPlayerPos = board.getTile(playerTile.getPos().add(change));\r\n\r\n2. Solve your problem\r\n\r\nAdd this method into `Board`:\r\n\r\n    public boolean allVisited() {\r\n        for (int y = 0; y &lt;= height; y++) {\r\n            for (int x = 0; x &lt;= height; x++) {\r\n                if (!tiles[x][y].isVisited()) return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nNote: I didn&#39;t check any of the code, hope it works!\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Object-oriented_programming\r\n","title":"How can I check if all panels of a playing board were visited by the player?","body":"<p><strong>Why your Map doesn't work:</strong></p>\n<p>You are using a <code>Map&lt;Integer, Integer&gt;</code>. For each distinct <code>Integer</code>, this map can store another <code>Integer</code> (it &quot;maps&quot; <code>Integer</code> to <code>Integer</code>)</p>\n<p>Example dataset of your current <code>Map</code>:</p>\n<pre><code>{\n    1: 3\n    2: 5\n    4: -2\n}\n</code></pre>\n<p>This is obviously not what you want. You likely want something like this (Mapping 2 <code>Integer</code>s to a <code>String</code>:</p>\n<pre><code>{\n    &quot;1/3&quot;: &quot;WALL&quot;\n    &quot;2/5&quot;: &quot;WALL&quot;\n    &quot;4/-2&quot;: &quot;GROUND&quot;\n}\n</code></pre>\n<p>Because having 2 keys isn't possible, you need a wrapper class. (Ignore <code>Vector</code> for now):</p>\n<pre><code>public interface Vector {\n    int getX();\n\n    int getY();\n\n    default Position add(Vector other) {\n        return new Position(getX() + other.getX(), getY() + other.getY());\n    }\n\n    default Position subtract(Vector other) {\n        return new Position(getX() - other.getX(), getY() - other.getY());\n    }\n}\n\npublic record Position(int x, int y) implements Vector {\n}\n</code></pre>\n<p>record is just an abbreviation for a class that only contains final attributes and implements <code>hashCode</code> and <code>equals</code>.</p>\n<p>Now you can create your <code>Map</code> like this:</p>\n<pre><code>Map&lt;Position, String&gt; map = new HashMap&lt;&gt;();\n</code></pre>\n<p>Or to save a number of <code>Position</code>s the player already entered, do this:</p>\n<pre><code>Set&lt;Position&gt; list = new HashSet&lt;&gt;();\n</code></pre>\n<p>A <code>Set</code> can only contain each value once, so you can add the same <code>Position</code> over and over again, but it will only the first one will be saved.</p>\n<p><strong>Why I would not do that:</strong></p>\n<p>Java is an <a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow noreferrer\">Object-oriented programming</a> language. You can bundle information and simplify problems by using an object-oriented approach.</p>\n<p>Let's create a few classes here to make things object-oriented:</p>\n<ol>\n<li>Not using <code>String</code> to store non-textual data</li>\n</ol>\n<p>Because the amount of different <code>Tile</code>s you have is limited anyway, you can create an enum. I assume you have 2 <code>Tile</code>s (WALL and GROUND).</p>\n<pre><code>public enum Pattern {\n    GROUND,\n    WALL\n}\n</code></pre>\n<ol start=\"2\">\n<li>Bundling all information about a <code>Tile</code>:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class Tile {\n    private final Pattern pattern; // The kind of Tile doesn't change.\n    private final Position pos; // The pos doesn't change.\n    private boolean visited; // Whether you entered the Tile can change.\n\n    public Tile(Pattern pattern, Position pos) {\n        this.pattern = pattern;\n        this.pos = pos;\n    }\n    \n    public Position getPos() {\n        return pos;\n    }\n\n    public void markVisited() {\n        visited = true;\n    }\n\n    public boolean isVisited() {\n        return visited;\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Bundling all information about a board.</li>\n</ol>\n<ul>\n<li>You can either apply strict boundaries to your <code>Board</code> (see getTile1),</li>\n<li>or make it wrap (way easier than you probably think) (see getTile2).</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class Board {\n    private final int width, heigth;\n    private final Tile[][] tiles;\n\n    public Board(int width, int height) {\n        this.width = width;\n        this.height = height;\n        this.tiles = new Tile[width][height];\n        for (int y = 0; y &lt; height; y++) {\n            for (int x = 0; x &lt; width; x++) {\n                tiles[x][y] = new Tile(Pattern.GROUND);\n            }\n        }\n    }\n\n    public Tile getTile1(Position pos) {\n        int x = Math.max(0, Math.min(width - 1, pos.getX()));\n        int y = Math.max(0, Math.min(height - 1, pos.getY()));\n        return tiles[x][y];\n    }\n\n    public Tile getTile2(Position pos) {\n        int x = Math.floorMod(x, width);\n        int y = Math.floorMod(y, height);\n        return tiles[x][y];\n    }\n}\n</code></pre>\n<ol start=\"4\">\n<li>Instead of using <code>String</code>s, make an enum <code>Direction</code>:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Direction implements Vector {\n    UP(0, -1, 'w'), DOWN(0, 1, 's'), LEFT(-1, 0, 'a'), RIGHT(1, 0, 'd');\n\n    private final int x, y;\n    private final char keyChar;\n\n    Direction(int x, int y, char keyChar) {\n        this.x = x;\n        this.y = y;\n        this.keyChar = keyChar;\n    }\n\n    public static Direction forKeyChar(char keyChar) {\n        for (Direction dir : values()) {\n            if (dir.keyChar == keyChar) return dir;\n        }\n        throw new IllegalArgumentException(&quot;No Direction for keyChar &quot; + keyChar);\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n}\n</code></pre>\n<p><strong>How powerful this is:</strong></p>\n<ol>\n<li>Updating the player position (I assume you chose either <code>getTile1</code> or <code>getTile2</code> already and called it simply <code>getTile</code>)</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>private Board board = new Board();\nprivate Tile playerTile = board.getTile(new Position(x, y));\n</code></pre>\n<p>Code to update:</p>\n<p>For each key pressed, you can now add all of the <code>Direction</code>s together to obtain a <code>Position</code>, which acts as a <code>Vector</code>:</p>\n<pre><code>String m = ...;\nPosition change = new Position(0, 0);\nfor (char c : m.toCharArray()) pos = pos.add(Direction.forKeyChar(c));\nTile newPlayerPos = board.getTile(playerTile.getPos().add(change));\n</code></pre>\n<ol start=\"2\">\n<li>Solve your problem</li>\n</ol>\n<p>Add this method into <code>Board</code>:</p>\n<pre><code>public boolean allVisited() {\n    for (int y = 0; y &lt;= height; y++) {\n        for (int x = 0; x &lt;= height; x++) {\n            if (!tiles[x][y].isVisited()) return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>Note: I didn't check any of the code, hope it works!</p>\n"}],"owner":{"account_id":23370806,"reputation":17,"user_id":17441690,"display_name":"morloq"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72778322,"answer_count":2,"score":0,"last_activity_date":1656397059,"creation_date":1656363674,"question_id":72778259,"body_markdown":"I am working on an exercise from Mooc.fi&#39;s java part 2, week 10. It is called Dungeon.\r\nBasically you have a playing board(created with a String[][] array) and a player that moves on it. The size of the board(lenght and height) can be set when starting the game.\r\n\r\nIf you pass a string containing the letters &quot;wasd&quot; the player will change position accordingly and reappear on the board as long as the move is within the bounds. If not, the command that would set the player out of bounds is ignored but the rest is still executed.\r\nSo if the user enters &quot;wasd&quot; and s would carry the player out of bounds, only &quot;wad&quot; is actually executed.\r\n\r\nThe player will only reappear on the new position if the entire command entered has been processed.\r\n\r\n\r\nNow, you either win if you hunted down all the enemies, or if the player has been to all the pannels of the board. But I&#39;m not sure how I can check that the player has been to all possible positions on the board?\r\n\r\nI figured I could use a List containing HashMaps with all the coordinates of the board and compare that with a similar list that contains all the moves the player made, but that does not seem to work.\r\n\r\nHere is the method that sets up the board. This is also where I figured I could get all possible coordinates of the board from, I stored them in a list called boardPlaces:\r\n\r\n    for(int i = 0; i &lt; length; i++)\r\n        {\r\n            for(int j = 0; j &lt; height; j++)\r\n            {\r\n                board[i][j] = &quot;.&quot;;\r\n                HashMap&lt;Integer,Integer&gt; values = new HashMap&lt;Integer,Integer&gt;();\r\n                values.put(i,j);\r\n                this.boardPlaces.add(values);\r\n            }\r\n        }\r\n\r\nAnd this is the player method where the string entered for the movement of the player is processed and the player moves are recorded:\r\n\r\n    public void updatePosition(String m)\r\n    {\r\n        \r\n        char[] c = m.toCharArray();\r\n        playerMoves = new String[c.length];\r\n        for(int i = 0; i &lt; c.length; i++)\r\n        {\r\n            playerMoves[i] = String.valueOf(c[i]);\r\n        }\r\n        \r\n        for(String move : playerMoves)\r\n        {\r\n            if(move.equals(&quot;w&quot;) &amp;&amp; y-1 &gt;= 0)\r\n            {\r\n                this.y--;\r\n            }\r\n            if(move.equals(&quot;s&quot;) &amp;&amp; y+1 &lt;= height-1)\r\n            {\r\n                this.y++;\r\n            }\r\n            if(move.equals(&quot;a&quot;) &amp;&amp; x-1 &gt;= 0)\r\n            {\r\n                this.x--;\r\n            }\r\n            if(move.equals(&quot;d&quot;) &amp;&amp; x+1 &lt;= length-1)\r\n            {\r\n                this.x++;\r\n            }\r\n            HashMap&lt;Integer,Integer&gt; values = new HashMap&lt;Integer,Integer&gt;();\r\n            values.put(x,y);\r\n            movesRecorded.add(values);\r\n        }\r\n        moves--;\r\n    }\r\n\r\nAnd this here is where I check if all pannels of the board have actually been visited by the player. \r\n\r\n    int counter1 = 0;\r\n        int counter2 = 0;\r\n        this.playerMovesRecorded = player.getMovesRecorded();\r\n        for(HashMap map : boardPlaces)\r\n        {\r\n            counter1++;\r\n        }\r\n        for(HashMap map : playerMovesRecorded)\r\n        {\r\n            counter2++;\r\n        }\r\n        return (counter1 == counter2) /*and contents of lists are the same*/|| vamps.isEmpty();\r\n\r\n\r\nI figured if the number of elements is correct and the content matches it should return true -&gt; player has visited all boards.\r\nBut I&#39;m not sure how I should go about comparing the content of the two lists?\r\n\r\n\r\n","title":"How can I check if all panels of a playing board were visited by the player?","body":"<p>I am working on an exercise from Mooc.fi's java part 2, week 10. It is called Dungeon.\nBasically you have a playing board(created with a String[][] array) and a player that moves on it. The size of the board(lenght and height) can be set when starting the game.</p>\n<p>If you pass a string containing the letters &quot;wasd&quot; the player will change position accordingly and reappear on the board as long as the move is within the bounds. If not, the command that would set the player out of bounds is ignored but the rest is still executed.\nSo if the user enters &quot;wasd&quot; and s would carry the player out of bounds, only &quot;wad&quot; is actually executed.</p>\n<p>The player will only reappear on the new position if the entire command entered has been processed.</p>\n<p>Now, you either win if you hunted down all the enemies, or if the player has been to all the pannels of the board. But I'm not sure how I can check that the player has been to all possible positions on the board?</p>\n<p>I figured I could use a List containing HashMaps with all the coordinates of the board and compare that with a similar list that contains all the moves the player made, but that does not seem to work.</p>\n<p>Here is the method that sets up the board. This is also where I figured I could get all possible coordinates of the board from, I stored them in a list called boardPlaces:</p>\n<pre><code>for(int i = 0; i &lt; length; i++)\n    {\n        for(int j = 0; j &lt; height; j++)\n        {\n            board[i][j] = &quot;.&quot;;\n            HashMap&lt;Integer,Integer&gt; values = new HashMap&lt;Integer,Integer&gt;();\n            values.put(i,j);\n            this.boardPlaces.add(values);\n        }\n    }\n</code></pre>\n<p>And this is the player method where the string entered for the movement of the player is processed and the player moves are recorded:</p>\n<pre><code>public void updatePosition(String m)\n{\n    \n    char[] c = m.toCharArray();\n    playerMoves = new String[c.length];\n    for(int i = 0; i &lt; c.length; i++)\n    {\n        playerMoves[i] = String.valueOf(c[i]);\n    }\n    \n    for(String move : playerMoves)\n    {\n        if(move.equals(&quot;w&quot;) &amp;&amp; y-1 &gt;= 0)\n        {\n            this.y--;\n        }\n        if(move.equals(&quot;s&quot;) &amp;&amp; y+1 &lt;= height-1)\n        {\n            this.y++;\n        }\n        if(move.equals(&quot;a&quot;) &amp;&amp; x-1 &gt;= 0)\n        {\n            this.x--;\n        }\n        if(move.equals(&quot;d&quot;) &amp;&amp; x+1 &lt;= length-1)\n        {\n            this.x++;\n        }\n        HashMap&lt;Integer,Integer&gt; values = new HashMap&lt;Integer,Integer&gt;();\n        values.put(x,y);\n        movesRecorded.add(values);\n    }\n    moves--;\n}\n</code></pre>\n<p>And this here is where I check if all pannels of the board have actually been visited by the player.</p>\n<pre><code>int counter1 = 0;\n    int counter2 = 0;\n    this.playerMovesRecorded = player.getMovesRecorded();\n    for(HashMap map : boardPlaces)\n    {\n        counter1++;\n    }\n    for(HashMap map : playerMovesRecorded)\n    {\n        counter2++;\n    }\n    return (counter1 == counter2) /*and contents of lists are the same*/|| vamps.isEmpty();\n</code></pre>\n<p>I figured if the number of elements is correct and the content matches it should return true -&gt; player has visited all boards.\nBut I'm not sure how I should go about comparing the content of the two lists?</p>\n"},{"tags":["java","macos","maven","visual-studio-code"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1589765027,"post_id":61860989,"comment_id":109414773,"body_markdown":"What version of Java did you install? I&#39;m ***guessing*** Java 6. But I don&#39;t know.","body":"What version of Java did you install? I&#39;m <b><i>guessing</i></b> Java 6. But I don&#39;t know."},{"owner":{"account_id":8206242,"reputation":1370,"user_id":6175872,"display_name":"PatrickChen"},"score":0,"creation_date":1589765472,"post_id":61860989,"comment_id":109414871,"body_markdown":"Check `java -version` on your computer and check the JVM configuration in the VS code.","body":"Check <code>java -version</code> on your computer and check the JVM configuration in the VS code."},{"owner":{"account_id":3153321,"reputation":854,"user_id":2666277,"accept_rate":100,"display_name":"I Stevenson"},"score":0,"creation_date":1589767710,"post_id":61860989,"comment_id":109415340,"body_markdown":"It would be worthwhile to include versions for both `mvn` and `javac` in your question - simply saying fresh version does not help. Also useful if you can provide a link to an example project.","body":"It would be worthwhile to include versions for both <code>mvn</code> and <code>javac</code> in your question - simply saying fresh version does not help. Also useful if you can provide a link to an example project."},{"owner":{"account_id":14989145,"reputation":501,"user_id":10820861,"display_name":"Al Youngwerth"},"score":0,"creation_date":1589848899,"post_id":61860989,"comment_id":109450783,"body_markdown":"java version &quot;14.0.1&quot; 2020-04-14","body":"java version &quot;14.0.1&quot; 2020-04-14"},{"owner":{"account_id":14989145,"reputation":501,"user_id":10820861,"display_name":"Al Youngwerth"},"score":0,"creation_date":1589848968,"post_id":61860989,"comment_id":109450795,"body_markdown":"Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\nMaven home: /Applications/apache-maven-3.6.3\nJava version: 14.0.1, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk-14.0.1.jdk/Contents/Home","body":"Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f) Maven home: /Applications/apache-maven-3.6.3 Java version: 14.0.1, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk-14.0.1.jdk/Contents/Ho&zwnj;&#8203;me"}],"answers":[{"tags":[],"owner":{"account_id":14989145,"reputation":501,"user_id":10820861,"display_name":"Al Youngwerth"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1589851551,"creation_date":1589851551,"answer_id":61881729,"question_id":61860989,"body_markdown":"The last build system I used was called make, so it&#39;s been a while since I debugged a build process. I don&#39;t remember make dumping 62Kb of debug output either... \r\n\r\nAnywho, searching for the keyword &quot;source&quot; (clue being that was one of the tags I was supposed to add) got me to this in the maven debug output:\r\n\r\n[DEBUG]   (f) source = 1.6\r\n\r\nAhaaa! the source compiler version had not changed like I asked it to with the edit in my original question! I&#39;ll bet the maven folks changed the location of the xml tag! Sure enough, searching for 1.6 in the pom.xml file I find this:\r\n \r\n\r\n    \t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.6.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.6&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.6&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\r\nI changed the source and target tag values to 1.8 and it worked! I also tried deleting the source and target tags in the build plugins scope and left in the maven.compiler.source/target values set to 1.8 and that also worked. \r\n\r\nSo moral of the story, be careful of extra source or target tags in your pom.xml file!","title":"Another Maven &quot;Source option 6 is no longer supported. Use 7 or later.&quot;","body":"<p>The last build system I used was called make, so it's been a while since I debugged a build process. I don't remember make dumping 62Kb of debug output either... </p>\n\n<p>Anywho, searching for the keyword \"source\" (clue being that was one of the tags I was supposed to add) got me to this in the maven debug output:</p>\n\n<p>[DEBUG]   (f) source = 1.6</p>\n\n<p>Ahaaa! the source compiler version had not changed like I asked it to with the edit in my original question! I'll bet the maven folks changed the location of the xml tag! Sure enough, searching for 1.6 in the pom.xml file I find this:</p>\n\n<pre><code>    &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.6.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.6&lt;/source&gt;\n                &lt;target&gt;1.6&lt;/target&gt;\n            &lt;/configuration&gt;\n</code></pre>\n\n<p>I changed the source and target tag values to 1.8 and it worked! I also tried deleting the source and target tags in the build plugins scope and left in the maven.compiler.source/target values set to 1.8 and that also worked. </p>\n\n<p>So moral of the story, be careful of extra source or target tags in your pom.xml file!</p>\n"},{"tags":[],"owner":{"account_id":18857520,"reputation":338,"user_id":13755134,"display_name":"Gomathy M"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1607184681,"creation_date":1607180203,"answer_id":65158266,"question_id":61860989,"body_markdown":"Actually, I too faced the above error message, after adding this to property file, Error got resolved. :)\r\n    \r\n[property need to be added in pom.xml][1]\r\n    \r\n     &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/oZcoF.png","title":"Another Maven &quot;Source option 6 is no longer supported. Use 7 or later.&quot;","body":"<p>Actually, I too faced the above error message, after adding this to property file, Error got resolved. :)</p>\n<p><a href=\"https://i.stack.imgur.com/oZcoF.png\" rel=\"noreferrer\">property need to be added in pom.xml</a></p>\n<pre><code> &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20983997,"reputation":21,"user_id":15418234,"display_name":"ViejoAprendiz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1621901527,"creation_date":1621901527,"answer_id":67680214,"question_id":61860989,"body_markdown":"I corrected this problem by matching the jdk between my IDE and the pom.xml file.","title":"Another Maven &quot;Source option 6 is no longer supported. Use 7 or later.&quot;","body":"<p>I corrected this problem by matching the jdk between my IDE and the pom.xml file.</p>\n"},{"tags":[],"owner":{"account_id":20060326,"reputation":1,"user_id":14707393,"display_name":"freisi jorge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633015581,"creation_date":1633015581,"answer_id":69394931,"question_id":61860989,"body_markdown":"Sometimes changing from Kotlin to java or inverted.\r\n\r\nYou can also change or java version to a higher one.\r\n\r\nAt least that worked for me.","title":"Another Maven &quot;Source option 6 is no longer supported. Use 7 or later.&quot;","body":"<p>Sometimes changing from Kotlin to java or inverted.</p>\n<p>You can also change or java version to a higher one.</p>\n<p>At least that worked for me.</p>\n"},{"tags":[],"owner":{"account_id":2777877,"reputation":49,"user_id":2391064,"display_name":"Maknaka"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643896865,"creation_date":1643896865,"answer_id":70972621,"question_id":61860989,"body_markdown":"Changing maven compiler version in pom file solved my issue.\r\n`&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;`","title":"Another Maven &quot;Source option 6 is no longer supported. Use 7 or later.&quot;","body":"<p>Changing maven compiler version in pom file solved my issue.\n<code>&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt; &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":25052937,"reputation":31,"user_id":18908647,"display_name":"KIRAN"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1650635377,"creation_date":1650635377,"answer_id":71969849,"question_id":61860989,"body_markdown":"    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.7&lt;/source&gt;\r\n            &lt;target&gt;1.7&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Another Maven &quot;Source option 6 is no longer supported. Use 7 or later.&quot;","body":"<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.7&lt;/source&gt;\n        &lt;target&gt;1.7&lt;/target&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25667312,"reputation":1,"user_id":19432055,"display_name":"Ankit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656396321,"creation_date":1656396321,"answer_id":72781444,"question_id":61860989,"body_markdown":"go to your project properties and go to sources.\r\nthen in Source/binary format it will be JDK 5 or 6 etc.\r\nbut click and make it the higher version.\r\nyou are done.:)","title":"Another Maven &quot;Source option 6 is no longer supported. Use 7 or later.&quot;","body":"<p>go to your project properties and go to sources.\nthen in Source/binary format it will be JDK 5 or 6 etc.\nbut click and make it the higher version.\nyou are done.:)</p>\n"}],"owner":{"account_id":14989145,"reputation":501,"user_id":10820861,"display_name":"Al Youngwerth"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72624,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"answer_count":7,"score":26,"last_activity_date":1656396321,"creation_date":1589764668,"question_id":61860989,"body_markdown":"I see lots of answers to this question but they don&#39;t work for me. I installed Visual Studio Code, latest version of Java and Maven on my PC and I was able to successfully build my application with Maven on the PC. I then went through the same steps on my Mac and I get this error. \r\n\r\nFresh versions of Macos, Visual Studio Code, Maven and Java. Like all the others have said, I added these lines to the properties section of my pom.xml file:\r\n\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\r\nStill get the same error. Here is the relevant output from the mvn build:\r\n\r\n    alberts-mbp:com.versabuilt.rushmore.process albertyoungwerth$ mvn package\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] ---------&lt; com.versabuilt.rushmore.process:VersaBuiltProcess &gt;----------\r\n    [INFO] Building VersaBuilt Process 0.2.18\r\n    [INFO] -------------------------------[ bundle ]-------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:3.0.2:resources (default-resources) @ VersaBuiltProcess ---\r\n    [WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] Copying 5 resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.6.0:compile (default-compile) @ VersaBuiltProcess ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!\r\n    [INFO] Compiling 10 source files to /Users/albertyoungwerth/rushmore/com.versabuilt.rushmore.process/target/classes\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR : \r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] Source option 6 is no longer supported. Use 7 or later.\r\n    [ERROR] Target option 6 is no longer supported. Use 7 or later.\r\n    [INFO] 2 errors\r\n\r\nI have also restarted Visual Studio Code to no avail.\r\n","title":"Another Maven &quot;Source option 6 is no longer supported. Use 7 or later.&quot;","body":"<p>I see lots of answers to this question but they don't work for me. I installed Visual Studio Code, latest version of Java and Maven on my PC and I was able to successfully build my application with Maven on the PC. I then went through the same steps on my Mac and I get this error.</p>\n<p>Fresh versions of Macos, Visual Studio Code, Maven and Java. Like all the others have said, I added these lines to the properties section of my pom.xml file:</p>\n<pre><code>    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n</code></pre>\n<p>Still get the same error. Here is the relevant output from the mvn build:</p>\n<pre><code>alberts-mbp:com.versabuilt.rushmore.process albertyoungwerth$ mvn package\n[INFO] Scanning for projects...\n[INFO] \n[INFO] ---------&lt; com.versabuilt.rushmore.process:VersaBuiltProcess &gt;----------\n[INFO] Building VersaBuilt Process 0.2.18\n[INFO] -------------------------------[ bundle ]-------------------------------\n[INFO] \n[INFO] --- maven-resources-plugin:3.0.2:resources (default-resources) @ VersaBuiltProcess ---\n[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] Copying 5 resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.6.0:compile (default-compile) @ VersaBuiltProcess ---\n[INFO] Changes detected - recompiling the module!\n[WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!\n[INFO] Compiling 10 source files to /Users/albertyoungwerth/rushmore/com.versabuilt.rushmore.process/target/classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] Source option 6 is no longer supported. Use 7 or later.\n[ERROR] Target option 6 is no longer supported. Use 7 or later.\n[INFO] 2 errors\n</code></pre>\n<p>I have also restarted Visual Studio Code to no avail.</p>\n"},{"tags":["java","generics","priority-queue","primitive","primitive-types"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1656397513,"post_id":72781395,"comment_id":128555095,"body_markdown":"`a.get(2) == b.get(2)` should be `a.get(2).equals(b.get(2))`.  It is possible for two different Integer objects to represent the same numeric value.","body":"<code>a.get(2) == b.get(2)</code> should be <code>a.get(2).equals(b.get(2))</code>.  It is possible for two different Integer objects to represent the same numeric value."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1656403812,"post_id":72781395,"comment_id":128557103,"body_markdown":"&#39;Failed&#39; is not a problem description. Try again.","body":"&#39;Failed&#39; is not a problem description. Try again."}],"owner":{"account_id":19534150,"reputation":9,"user_id":14293276,"display_name":"yoel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1656415915,"answer_count":0,"score":0,"last_activity_date":1656395964,"creation_date":1656395964,"question_id":72781395,"body_markdown":"While trying to solve [this][1] question at stack overflow, I ran into a weird problem: My solution was the same as [this][2] solution, except it used a PriorityQueue&lt;List&lt;Integer&gt;&gt; instead of PriorityQueue&lt;int[]&gt;. \r\n\r\nI tried copying the solution from the link above and only modifying it to use a PriorityQueue&lt;List&lt;Integer&gt;&gt;, and it still failed! Not sure what am I missing here. I thought it could be related to PriorityQueue internal implementation but could find any explanation. Can someone please assist?\r\n\r\nHere is the solution after my modifications:\r\n\r\n```class Solution {\r\n    public int[] getOrder(int[][] tasks) {\r\n        \r\n        int n = tasks.length;\r\n        \r\n        // make a new tasks array that contains the index as well\r\n        List&lt;List&lt;Integer&gt;&gt; extendedTask = new LinkedList&lt;&gt;();\r\n        for(int i = 0; i &lt; tasks.length; i++) {\r\n            extendedTask.add(Stream.of(i, tasks[i][0], tasks[i][1]).collect(Collectors.toList()));\r\n        }\r\n        \r\n        // first sort the newly create array on the basis of enqueTime\r\n        extendedTask.sort((a, b) -&gt; a.get(1) - b.get(1));\r\n        \r\n        // PQ definitoin\r\n        PriorityQueue&lt;List&lt;Integer&gt;&gt; pq = new PriorityQueue&lt;List&lt;Integer&gt;&gt;((a,b) -&gt; a.get(2) == b.get(2) ? a.get(0) - b.get(0) : a.get(2) - b.get(2));\r\n        \r\n        // result array and its idx\r\n        int[] res = new int[tasks.length];\r\n        int idx = 0;\r\n        \r\n        // current time and its index\r\n        long currentTime = 0;\r\n        int currentTimeIdx = 0;\r\n        \r\n        // until we get all the tasks done\r\n        while(idx &lt; n) {\r\n            while(currentTimeIdx &lt; n &amp;&amp; extendedTask.get(currentTimeIdx).get(1) &lt;= currentTime) { // push all the sorted(in order of enqueTime) tasks if there startTime (enqueTime) is LESS THAN or EQUAL to Current time\r\n                pq.offer(extendedTask.get(currentTimeIdx++));\r\n            }\r\n            \r\n            if(pq.isEmpty()) { // if there is no task in PQ, update the the currentTime to next task and continue\r\n                currentTime = extendedTask.get(currentTimeIdx).get(1);\r\n                continue;\r\n            }\r\n            \r\n            // get the result and update the currentTime\r\n            List&lt;Integer&gt; curr = pq.poll();\r\n            res[idx++] = curr.get(0);\r\n            currentTime += curr.get(2);\r\n        }\r\n        \r\n        return res;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://leetcode.com/problems/single-threaded-cpu/\r\n  [2]: https://leetcode.com/problems/single-threaded-cpu/discuss/1597062/Java-oror-Explained-oror-Sort-and-PQ","title":"Java PriorityQueue behaviour with int[] vs. List&lt;Integer&gt;","body":"<p>While trying to solve <a href=\"https://leetcode.com/problems/single-threaded-cpu/\" rel=\"nofollow noreferrer\">this</a> question at stack overflow, I ran into a weird problem: My solution was the same as <a href=\"https://leetcode.com/problems/single-threaded-cpu/discuss/1597062/Java-oror-Explained-oror-Sort-and-PQ\" rel=\"nofollow noreferrer\">this</a> solution, except it used a PriorityQueue&lt;List&gt; instead of PriorityQueue&lt;int[]&gt;.</p>\n<p>I tried copying the solution from the link above and only modifying it to use a PriorityQueue&lt;List&gt;, and it still failed! Not sure what am I missing here. I thought it could be related to PriorityQueue internal implementation but could find any explanation. Can someone please assist?</p>\n<p>Here is the solution after my modifications:</p>\n<pre><code>    public int[] getOrder(int[][] tasks) {\n        \n        int n = tasks.length;\n        \n        // make a new tasks array that contains the index as well\n        List&lt;List&lt;Integer&gt;&gt; extendedTask = new LinkedList&lt;&gt;();\n        for(int i = 0; i &lt; tasks.length; i++) {\n            extendedTask.add(Stream.of(i, tasks[i][0], tasks[i][1]).collect(Collectors.toList()));\n        }\n        \n        // first sort the newly create array on the basis of enqueTime\n        extendedTask.sort((a, b) -&gt; a.get(1) - b.get(1));\n        \n        // PQ definitoin\n        PriorityQueue&lt;List&lt;Integer&gt;&gt; pq = new PriorityQueue&lt;List&lt;Integer&gt;&gt;((a,b) -&gt; a.get(2) == b.get(2) ? a.get(0) - b.get(0) : a.get(2) - b.get(2));\n        \n        // result array and its idx\n        int[] res = new int[tasks.length];\n        int idx = 0;\n        \n        // current time and its index\n        long currentTime = 0;\n        int currentTimeIdx = 0;\n        \n        // until we get all the tasks done\n        while(idx &lt; n) {\n            while(currentTimeIdx &lt; n &amp;&amp; extendedTask.get(currentTimeIdx).get(1) &lt;= currentTime) { // push all the sorted(in order of enqueTime) tasks if there startTime (enqueTime) is LESS THAN or EQUAL to Current time\n                pq.offer(extendedTask.get(currentTimeIdx++));\n            }\n            \n            if(pq.isEmpty()) { // if there is no task in PQ, update the the currentTime to next task and continue\n                currentTime = extendedTask.get(currentTimeIdx).get(1);\n                continue;\n            }\n            \n            // get the result and update the currentTime\n            List&lt;Integer&gt; curr = pq.poll();\n            res[idx++] = curr.get(0);\n            currentTime += curr.get(2);\n        }\n        \n        return res;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-mvc","reflection","spring-annotations"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1656407008,"post_id":72781389,"comment_id":128558319,"body_markdown":"Are you calling `getMethods()` on an implementation class? Method annotations are not inherited. You only get them when using, e.g. `ReportDTO.class.getMethods()`","body":"Are you calling <code>getMethods()</code> on an implementation class? Method annotations are not inherited. You only get them when using, e.g. <code>ReportDTO.class.getMethods()</code>"},{"owner":{"account_id":4787622,"reputation":129,"user_id":3867630,"display_name":"tez"},"score":0,"creation_date":1656409116,"post_id":72781389,"comment_id":128559173,"body_markdown":"Yes, this method is called dynamically","body":"Yes, this method is called dynamically"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1656409451,"post_id":72781389,"comment_id":128559317,"body_markdown":"Well, as said, when you call `getMethods()` on an implementation class, you get the implementation methods which apparently dont have this annotation. The implementation method does not inherit the annotation from the interface method. As a side note, `.getName().substring(0, 3).equals(&quot;get&quot;)` is an inefficient way to do `.getName().startsWith(&quot;get&quot;)`","body":"Well, as said, when you call <code>getMethods()</code> on an implementation class, you get the implementation methods which apparently dont have this annotation. The implementation method does not inherit the annotation from the interface method. As a side note, <code>.getName().substring(0, 3).equals(&quot;get&quot;)</code> is an inefficient way to do <code>.getName().startsWith(&quot;get&quot;)</code>"},{"owner":{"account_id":4787622,"reputation":129,"user_id":3867630,"display_name":"tez"},"score":0,"creation_date":1656513144,"post_id":72781389,"comment_id":128592014,"body_markdown":"@Holger Thanks a lot! This saved a lot of time. :)","body":"@Holger Thanks a lot! This saved a lot of time. :)"}],"owner":{"account_id":4787622,"reputation":129,"user_id":3867630,"display_name":"tez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656395928,"creation_date":1656395928,"question_id":72781389,"body_markdown":"I&#39;m trying to generate a report and the fields should be in the specified sequence. As this is microservices architecture, I&#39;ve a db service where interface based projection is used. On top of it, I&#39;m trying to use a custom annotation to maintain the order.\r\n\r\nCustom Annotation:\r\n\r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface Sequence {\r\n            int value();\r\n    }\r\n\r\nInterface based Projection DTO :\r\n\r\n    public interface ReportDTO {\r\n\r\n    @Sequence(value = 1)\r\n    String getId();\r\n\r\n    @Sequence(value = 2)\r\n    String getName();\r\n\r\n    @Sequence(value = 3)\r\n    String getMobileNumber();\r\n\r\n    }\r\nIn another micoservice, I&#39;m deploying this db service and utilising as below:\r\n\r\n    private static List&lt;String&gt; getFieldNamesForClass(Class&lt;?&gt; clazz) throws Exception {\r\n        List&lt;String&gt; fieldNames = new ArrayList&lt;String&gt;();\r\n        Method[] methods = clazz.getMethods();\r\n\r\n        Arrays.sort(methods, (o1, o2) -&gt; {\r\n            boolean isPresent = o1.isAnnotationPresent(Sequence.class);\r\n            \r\n            Sequence or1 = o1.getAnnotation(Sequence.class);\r\n            Sequence or2 = o2.getAnnotation(Sequence.class);\r\n            // nulls last\r\n            if (or1 != null &amp;&amp; or2 != null) {\r\n                return or1.value() - or2.value();\r\n            } else\r\n            if (or1 != null &amp;&amp; or2 == null) {\r\n                return -1;\r\n            } else\r\n            if (or1 == null &amp;&amp; or2 != null) {\r\n                return 1;\r\n            }\r\n            return o1.getName().compareTo(o2.getName());\r\n        });\r\n        for (Method method : methods) {\r\n            if (method.getName().substring(0, 3).equals(&quot;get&quot;) &amp;&amp; !method.getName().equals(&quot;getDecoratedClass&quot;)\r\n                    &amp;&amp; !method.getName().equals(&quot;getTarget&quot;) &amp;&amp; !method.getName().equals(&quot;getTargetClass&quot;))\r\n                fieldNames.add(lowerFirst(method.getName().substring(3)));\r\n        }\r\n       \r\n        return fieldNames;\r\n    }\r\nBut this code is unable to figure out the annotation. Variable &quot;isPresent&quot; returns false and or1 and or2 are null. Please help me figure out the issue with this code.","title":"Java - Not able to get value of Custom Annotation using Reflection","body":"<p>I'm trying to generate a report and the fields should be in the specified sequence. As this is microservices architecture, I've a db service where interface based projection is used. On top of it, I'm trying to use a custom annotation to maintain the order.</p>\n<p>Custom Annotation:</p>\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Sequence {\n        int value();\n}\n</code></pre>\n<p>Interface based Projection DTO :</p>\n<pre><code>public interface ReportDTO {\n\n@Sequence(value = 1)\nString getId();\n\n@Sequence(value = 2)\nString getName();\n\n@Sequence(value = 3)\nString getMobileNumber();\n\n}\n</code></pre>\n<p>In another micoservice, I'm deploying this db service and utilising as below:</p>\n<pre><code>private static List&lt;String&gt; getFieldNamesForClass(Class&lt;?&gt; clazz) throws Exception {\n    List&lt;String&gt; fieldNames = new ArrayList&lt;String&gt;();\n    Method[] methods = clazz.getMethods();\n\n    Arrays.sort(methods, (o1, o2) -&gt; {\n        boolean isPresent = o1.isAnnotationPresent(Sequence.class);\n        \n        Sequence or1 = o1.getAnnotation(Sequence.class);\n        Sequence or2 = o2.getAnnotation(Sequence.class);\n        // nulls last\n        if (or1 != null &amp;&amp; or2 != null) {\n            return or1.value() - or2.value();\n        } else\n        if (or1 != null &amp;&amp; or2 == null) {\n            return -1;\n        } else\n        if (or1 == null &amp;&amp; or2 != null) {\n            return 1;\n        }\n        return o1.getName().compareTo(o2.getName());\n    });\n    for (Method method : methods) {\n        if (method.getName().substring(0, 3).equals(&quot;get&quot;) &amp;&amp; !method.getName().equals(&quot;getDecoratedClass&quot;)\n                &amp;&amp; !method.getName().equals(&quot;getTarget&quot;) &amp;&amp; !method.getName().equals(&quot;getTargetClass&quot;))\n            fieldNames.add(lowerFirst(method.getName().substring(3)));\n    }\n   \n    return fieldNames;\n}\n</code></pre>\n<p>But this code is unable to figure out the annotation. Variable &quot;isPresent&quot; returns false and or1 and or2 are null. Please help me figure out the issue with this code.</p>\n"},{"tags":["java","python","json","annotations","jackson"],"comments":[{"owner":{"account_id":6321039,"reputation":385680,"user_id":4909087,"accept_rate":97,"display_name":"cs95"},"score":1,"creation_date":1505377572,"post_id":46214035,"comment_id":79390844,"body_markdown":"Some of us don&#39;t know Jackson. Rather than ask for a 1=1 mapping, it would be simpler to state your requirements and what you want to do.","body":"Some of us don&#39;t know Jackson. Rather than ask for a 1=1 mapping, it would be simpler to state your requirements and what you want to do."},{"owner":{"account_id":4793619,"reputation":328,"user_id":4970288,"accept_rate":25,"display_name":"Sourav Bhattacharjee"},"score":0,"creation_date":1505377946,"post_id":46214035,"comment_id":79391032,"body_markdown":"Okay. My requirement is I have to send a POST request to a REST api. I need to serialize the java object into JSON. But as my class structure is a little bit different I don&#39;t have all the json keys mentioned handy in java classes. To solve the issue what I am doing is that I am adding &#39;a&#39; key in json when it finds &#39;A&#39; object is passed from java. It is doing the same thing for &#39;F&#39; object. So, I have achieved the solution the way I mentioned above. I want to achieve the same thing in Python.","body":"Okay. My requirement is I have to send a POST request to a REST api. I need to serialize the java object into JSON. But as my class structure is a little bit different I don&#39;t have all the json keys mentioned handy in java classes. To solve the issue what I am doing is that I am adding &#39;a&#39; key in json when it finds &#39;A&#39; object is passed from java. It is doing the same thing for &#39;F&#39; object. So, I have achieved the solution the way I mentioned above. I want to achieve the same thing in Python."},{"owner":{"account_id":6321039,"reputation":385680,"user_id":4909087,"accept_rate":97,"display_name":"cs95"},"score":1,"creation_date":1505378090,"post_id":46214035,"comment_id":79391115,"body_markdown":"Please write that in your question.","body":"Please write that in your question."},{"owner":{"account_id":973876,"reputation":66,"user_id":995781,"display_name":"hossein bakhtiari"},"score":1,"creation_date":1529574414,"post_id":46214035,"comment_id":88927121,"body_markdown":"the question is super clear.","body":"the question is super clear."},{"owner":{"account_id":6636631,"reputation":874,"user_id":5123629,"display_name":"YoungSheldon"},"score":0,"creation_date":1604754037,"post_id":46214035,"comment_id":114446448,"body_markdown":"You may want to look https://stackoverflow.com/questions/6578986/how-to-convert-json-data-into-a-python-object","body":"You may want to look <a href=\"https://stackoverflow.com/questions/6578986/how-to-convert-json-data-into-a-python-object\" title=\"how to convert json data into a python object\">stackoverflow.com/questions/6578986/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":973876,"reputation":66,"user_id":995781,"display_name":"hossein bakhtiari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536743571,"creation_date":1529575372,"answer_id":50965757,"question_id":46214035,"body_markdown":"I think the most similar option you will get in python ecosystem will be [jsonpickle][1]\r\n\r\nalthough it&#39;s not as complete as complete Jackson.\r\npython engineers and users chose a different respectable perspective and that is using schema-less approaches to problems so typing oriented serialization libraries like Jackson doesn&#39;t have a strong equivalent in Python.\r\n\r\n  [1]: https://jsonpickle.github.io/ &quot;jsonpickle&quot;","title":"What is the alternative of Jackson in python?","body":"<p>I think the most similar option you will get in python ecosystem will be <a href=\"https://jsonpickle.github.io/\" rel=\"nofollow noreferrer\" title=\"jsonpickle\">jsonpickle</a></p>\n\n<p>although it's not as complete as complete Jackson.\npython engineers and users chose a different respectable perspective and that is using schema-less approaches to problems so typing oriented serialization libraries like Jackson doesn't have a strong equivalent in Python.</p>\n"},{"tags":[],"owner":{"account_id":77788,"reputation":8853,"user_id":221794,"accept_rate":94,"display_name":"Dyno Fu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577403814,"creation_date":1577403814,"answer_id":59494525,"question_id":46214035,"body_markdown":"[attrs][1] + [cattrs][2] is very close for the task.\r\n\r\ncopy one cattr example here,\r\n\r\n```\r\n&gt;&gt;&gt; import attr, cattr\r\n&gt;&gt;&gt;\r\n&gt;&gt;&gt; @attr.s(slots=True, frozen=True)  # It works with normal classes too.\r\n... class C:\r\n...     a = attr.ib()\r\n...     b = attr.ib()\r\n...\r\n&gt;&gt;&gt; instance = C(1, &#39;a&#39;)\r\n&gt;&gt;&gt; cattr.unstructure(instance)\r\n{&#39;a&#39;: 1, &#39;b&#39;: &#39;a&#39;}\r\n&gt;&gt;&gt; cattr.structure({&#39;a&#39;: 1, &#39;b&#39;: &#39;a&#39;}, C)\r\nC(a=1, b=&#39;a&#39;)\r\n```\r\n\r\nbut it&#39;s not as capable as Jackson, i&#39;ve not yet been able to find a solution to map attribute between serialized json and deserialized python object. \r\n\r\n  [1]: http://www.attrs.org/en/stable/examples.html\r\n  [2]: https://github.com/Tinche/cattrs","title":"What is the alternative of Jackson in python?","body":"<p><a href=\"http://www.attrs.org/en/stable/examples.html\" rel=\"nofollow noreferrer\">attrs</a> + <a href=\"https://github.com/Tinche/cattrs\" rel=\"nofollow noreferrer\">cattrs</a> is very close for the task.</p>\n\n<p>copy one cattr example here,</p>\n\n<pre><code>&gt;&gt;&gt; import attr, cattr\n&gt;&gt;&gt;\n&gt;&gt;&gt; @attr.s(slots=True, frozen=True)  # It works with normal classes too.\n... class C:\n...     a = attr.ib()\n...     b = attr.ib()\n...\n&gt;&gt;&gt; instance = C(1, 'a')\n&gt;&gt;&gt; cattr.unstructure(instance)\n{'a': 1, 'b': 'a'}\n&gt;&gt;&gt; cattr.structure({'a': 1, 'b': 'a'}, C)\nC(a=1, b='a')\n</code></pre>\n\n<p>but it's not as capable as Jackson, i've not yet been able to find a solution to map attribute between serialized json and deserialized python object. </p>\n"},{"tags":[],"owner":{"account_id":21595997,"reputation":11,"user_id":15924953,"display_name":"guest"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620987114,"creation_date":1620987114,"answer_id":67532609,"question_id":46214035,"body_markdown":"I have the same problem and could not find anything suitable.\r\nSo I wrote pyson\r\n\r\nhttps://tracinsy.ewi.tudelft.nl/pubtrac/Utilities/wiki/pyson\r\n\r\nIt&#39;s still under development and I will add new features along the way.\r\nIt&#39;s not ment to be a complete  substitute for jackson as jackson is huge. I just implement what I need, in jackson style where possible.","title":"What is the alternative of Jackson in python?","body":"<p>I have the same problem and could not find anything suitable.\nSo I wrote pyson</p>\n<p><a href=\"https://tracinsy.ewi.tudelft.nl/pubtrac/Utilities/wiki/pyson\" rel=\"nofollow noreferrer\">https://tracinsy.ewi.tudelft.nl/pubtrac/Utilities/wiki/pyson</a></p>\n<p>It's still under development and I will add new features along the way.\nIt's not ment to be a complete  substitute for jackson as jackson is huge. I just implement what I need, in jackson style where possible.</p>\n"},{"tags":[],"owner":{"account_id":11688295,"reputation":395,"user_id":8557336,"display_name":"Orr Benyamini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643256321,"creation_date":1643256321,"answer_id":70873209,"question_id":46214035,"body_markdown":"You can use [Jsonic](https://github.com/OrrBin/Jsonic) library.\r\n\r\nJsonic is a lightweight utility for serializing/deserializing python objects to/from JSON.\r\n\r\nJsonic allows serializing/deserializing to/from specific Class instances.\r\n\r\nIt supports many of the functionalities Jackson supports in Java.\r\n\r\nExample:\r\n\r\n    from jsonic import serialize, deserialize\r\n\r\n    class User(Serializable):\r\n        def __init__(self, user_id: str, birth_time: datetime):\r\n            super().__init__()\r\n            self.user_id = user_id\r\n            self.birth_time = birth_time\r\n   \r\n    user = User(&#39;id1&#39;, datetime(2020,10,11))      \r\n    obj = serialize(user) # {&#39;user_id&#39;: &#39;id1&#39;, &#39;birth_time&#39;: {&#39;datetime&#39;: &#39;2020-10-11 00:00:00&#39;, &#39;_serialized_type&#39;: &#39;datetime&#39;}, &#39;_serialized_type&#39;: &#39;User&#39;}\r\n\r\n    # Here the magic happens\r\n    new_user : User = deserialize(obj) # new_user is a new instance of user with same attributes\r\n\r\nJsonic has some nifty features:\r\n\r\n\r\n1. You can serialize objects of types that are not extending Serializable. 2. This can come handy when you need to serialize objects of third party library classes.\r\n3. Support for custom serializers and deserializers\r\n4. Serializing into JSON string or python dict\r\n5. Transient class attributes\r\n6. Supports both serialization of private fields or leave them out of the serialization process.\r\n\r\nHere you can find some more advanced example:\r\n\r\n    from jsonic import Serializable, register_jsonic_type, serialize, deserialize\r\n\r\n    class UserCredentials:\r\n    &quot;&quot;&quot;\r\n    Represents class from some other module, which does not extend Serializable\r\n    We can register it using register_serializable_type function\r\n    &quot;&quot;&quot;\r\n\r\n    def __init__(self, token: str, exp: datetime):\r\n        self.token = token\r\n        self.expiration_time = exp\r\n        self.calculatedAttr = random.uniform(0, 1)\r\n\r\n    # Register UserCredentials which represents class from another module that does not implement Serializable\r\n    # exp __init__ parameter is mapped to expiration_time instace attribute\r\n    register_jsonic_type(UserCredentials, init_parameters_mapping={&#39;exp&#39;: &#39;expiration_time&#39;})\r\n\r\n\r\n    class User(Serializable):\r\n        transient_attributes = [&#39;user_calculated_attr&#39;] # user_calculated_attr won&#39;t be serialized and deserialzied\r\n        init_parameters_mapping = {&#39;id&#39;: &#39;user_id&#39;} # id __init__ parameter is mapped to user_id instace attribute\r\n\r\n        def __init__(self, user_id: str, birth_time: datetime, user_credentials: UserCredentials, *args):\r\n            super().__init__()\r\n            self.user_id = user_id\r\n            self.birth_time = birth_time\r\n            self.user_credentials = user_credentials\r\n            self.user_calculated_attr = &#39;user_calculated_attr&#39;\r\n        \r\n    user = User(user_id=&#39;user_1&#39;, birth_time=datetime(1995, 7, 5, 0),\r\n         user_credentials=UserCredentials(token=&#39;token&#39;, exp=datetime(2020, 11, 1, 0)))\r\n     \r\n\r\n\r\n    # Here the magic happens\r\n    user_json_obj = serialize(user, string_output=True)\r\n    new_user = deserialize(user_json_obj, string_input=True, expected_type=User)\r\n\r\nFull disclosure: I&#39;m the creator of Jsonic, i recommend you read the [Jsonic GitHub repository](https://github.com/OrrBin/Jsonic) README to see if it fits your needs.","title":"What is the alternative of Jackson in python?","body":"<p>You can use <a href=\"https://github.com/OrrBin/Jsonic\" rel=\"nofollow noreferrer\">Jsonic</a> library.</p>\n<p>Jsonic is a lightweight utility for serializing/deserializing python objects to/from JSON.</p>\n<p>Jsonic allows serializing/deserializing to/from specific Class instances.</p>\n<p>It supports many of the functionalities Jackson supports in Java.</p>\n<p>Example:</p>\n<pre><code>from jsonic import serialize, deserialize\n\nclass User(Serializable):\n    def __init__(self, user_id: str, birth_time: datetime):\n        super().__init__()\n        self.user_id = user_id\n        self.birth_time = birth_time\n\nuser = User('id1', datetime(2020,10,11))      \nobj = serialize(user) # {'user_id': 'id1', 'birth_time': {'datetime': '2020-10-11 00:00:00', '_serialized_type': 'datetime'}, '_serialized_type': 'User'}\n\n# Here the magic happens\nnew_user : User = deserialize(obj) # new_user is a new instance of user with same attributes\n</code></pre>\n<p>Jsonic has some nifty features:</p>\n<ol>\n<li>You can serialize objects of types that are not extending Serializable. 2. This can come handy when you need to serialize objects of third party library classes.</li>\n<li>Support for custom serializers and deserializers</li>\n<li>Serializing into JSON string or python dict</li>\n<li>Transient class attributes</li>\n<li>Supports both serialization of private fields or leave them out of the serialization process.</li>\n</ol>\n<p>Here you can find some more advanced example:</p>\n<pre><code>from jsonic import Serializable, register_jsonic_type, serialize, deserialize\n\nclass UserCredentials:\n&quot;&quot;&quot;\nRepresents class from some other module, which does not extend Serializable\nWe can register it using register_serializable_type function\n&quot;&quot;&quot;\n\ndef __init__(self, token: str, exp: datetime):\n    self.token = token\n    self.expiration_time = exp\n    self.calculatedAttr = random.uniform(0, 1)\n\n# Register UserCredentials which represents class from another module that does not implement Serializable\n# exp __init__ parameter is mapped to expiration_time instace attribute\nregister_jsonic_type(UserCredentials, init_parameters_mapping={'exp': 'expiration_time'})\n\n\nclass User(Serializable):\n    transient_attributes = ['user_calculated_attr'] # user_calculated_attr won't be serialized and deserialzied\n    init_parameters_mapping = {'id': 'user_id'} # id __init__ parameter is mapped to user_id instace attribute\n\n    def __init__(self, user_id: str, birth_time: datetime, user_credentials: UserCredentials, *args):\n        super().__init__()\n        self.user_id = user_id\n        self.birth_time = birth_time\n        self.user_credentials = user_credentials\n        self.user_calculated_attr = 'user_calculated_attr'\n    \nuser = User(user_id='user_1', birth_time=datetime(1995, 7, 5, 0),\n     user_credentials=UserCredentials(token='token', exp=datetime(2020, 11, 1, 0)))\n \n\n\n# Here the magic happens\nuser_json_obj = serialize(user, string_output=True)\nnew_user = deserialize(user_json_obj, string_input=True, expected_type=User)\n</code></pre>\n<p>Full disclosure: I'm the creator of Jsonic, i recommend you read the <a href=\"https://github.com/OrrBin/Jsonic\" rel=\"nofollow noreferrer\">Jsonic GitHub repository</a> README to see if it fits your needs.</p>\n"},{"tags":[],"owner":{"account_id":13599232,"reputation":71,"user_id":19431945,"display_name":"datenhahn"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1656395282,"creation_date":1656395282,"answer_id":72781294,"question_id":46214035,"body_markdown":"I would strongly recommend the pydantic library, which also provides the possibility to add validations of the data.\r\n\r\nIt is very easy and straightforward to use, also if you only use it for json marshalling/unmarshalling.\r\n\r\nhttps://pypi.org/project/pydantic/\r\n\r\n```\r\nimport json\r\nfrom datetime import datetime\r\n\r\nfrom pydantic import BaseModel\r\n\r\n\r\nclass MyInnerClass(BaseModel):\r\n    timestamp: datetime\r\n    some_string: str\r\n\r\n\r\nclass MyOuterClass(BaseModel):\r\n    inner_instance: MyInnerClass\r\n    other_string: str\r\n\r\n\r\n# Class to json\r\ntest_class = MyOuterClass(inner_instance=MyInnerClass(timestamp=datetime(2022, 6, 22), some_string=&quot;some&quot;),\r\n                          other_string=&quot;other&quot;)\r\n\r\njson_string = test_class.json()\r\n\r\n# Json to Class\r\n\r\ninput_string = &#39;{&quot;inner_instance&quot;: {&quot;timestamp&quot;: &quot;2022-06-22T00:00:00&quot;, &quot;some_string&quot;: &quot;some&quot;}, &quot;other_string&quot;: &quot;other&quot;}&#39;\r\nloaded_class = MyOuterClass(**json.loads(input_string))\r\n```","title":"What is the alternative of Jackson in python?","body":"<p>I would strongly recommend the pydantic library, which also provides the possibility to add validations of the data.</p>\n<p>It is very easy and straightforward to use, also if you only use it for json marshalling/unmarshalling.</p>\n<p><a href=\"https://pypi.org/project/pydantic/\" rel=\"noreferrer\">https://pypi.org/project/pydantic/</a></p>\n<pre><code>import json\nfrom datetime import datetime\n\nfrom pydantic import BaseModel\n\n\nclass MyInnerClass(BaseModel):\n    timestamp: datetime\n    some_string: str\n\n\nclass MyOuterClass(BaseModel):\n    inner_instance: MyInnerClass\n    other_string: str\n\n\n# Class to json\ntest_class = MyOuterClass(inner_instance=MyInnerClass(timestamp=datetime(2022, 6, 22), some_string=&quot;some&quot;),\n                          other_string=&quot;other&quot;)\n\njson_string = test_class.json()\n\n# Json to Class\n\ninput_string = '{&quot;inner_instance&quot;: {&quot;timestamp&quot;: &quot;2022-06-22T00:00:00&quot;, &quot;some_string&quot;: &quot;some&quot;}, &quot;other_string&quot;: &quot;other&quot;}'\nloaded_class = MyOuterClass(**json.loads(input_string))\n</code></pre>\n"}],"owner":{"account_id":4793619,"reputation":328,"user_id":4970288,"accept_rate":25,"display_name":"Sourav Bhattacharjee"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10164,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":5,"score":9,"last_activity_date":1656395282,"creation_date":1505377404,"question_id":46214035,"body_markdown":"I am using **Jackson parser** for parsing for Java object to **JSON**. I am forcefully adding JSON keys for some java objects, using the following code.\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.WRAPPER_OBJECT)\r\n\t@JsonSubTypes({ @JsonSubTypes.Type(value = A.class, name = &quot;a&quot;),\r\n\t\t\t@JsonSubTypes.Type(value = F.class, name = &quot;f&quot;) })\r\n\r\nI am having same set classes in Python also. I would like to do the same thing in python. But not sure about what are the alternatives for this Jackson annotation available in python.\r\n\r\nMy requirement is that I have to send a POST request to a REST API. I need to serialize the java object into JSON. But as my class structure is a little bit different I don&#39;t have all the JSON keys mentioned handy in java classes. To solve the issue what I am doing is that I am adding &#39;a&#39; key in JSON when it finds &#39;A&#39; object is passed from java. It is doing the same thing for &#39;F&#39; object. So, I have achieved the solution the way I mentioned above. I want to achieve the same thing in Python.\r\n\r\nIs there some JSON parser available what does the same thing as mentioned above, or I have to follow some different approach for that?\r\n\r\n","title":"What is the alternative of Jackson in python?","body":"<p>I am using <strong>Jackson parser</strong> for parsing for Java object to <strong>JSON</strong>. I am forcefully adding JSON keys for some java objects, using the following code.</p>\n\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.WRAPPER_OBJECT)\n@JsonSubTypes({ @JsonSubTypes.Type(value = A.class, name = \"a\"),\n        @JsonSubTypes.Type(value = F.class, name = \"f\") })\n</code></pre>\n\n<p>I am having same set classes in Python also. I would like to do the same thing in python. But not sure about what are the alternatives for this Jackson annotation available in python.</p>\n\n<p>My requirement is that I have to send a POST request to a REST API. I need to serialize the java object into JSON. But as my class structure is a little bit different I don't have all the JSON keys mentioned handy in java classes. To solve the issue what I am doing is that I am adding 'a' key in JSON when it finds 'A' object is passed from java. It is doing the same thing for 'F' object. So, I have achieved the solution the way I mentioned above. I want to achieve the same thing in Python.</p>\n\n<p>Is there some JSON parser available what does the same thing as mentioned above, or I have to follow some different approach for that?</p>\n"},{"tags":["java","singleton"],"comments":[{"owner":{"account_id":19714346,"reputation":510,"user_id":14434094,"display_name":"SunnyMonster"},"score":1,"creation_date":1656394924,"post_id":72781138,"comment_id":128554559,"body_markdown":"This will happen with any singleton class in Java and it doesn&#39;t really matter if it is the `main` method or some other member method. So I guess the only way you can prevent this from happening is do a check in the constructor. If there are more than one instances of this object, log a warning to the console and perhaps stick a breakpoint there to debug it easily.","body":"This will happen with any singleton class in Java and it doesn&#39;t really matter if it is the <code>main</code> method or some other member method. So I guess the only way you can prevent this from happening is do a check in the constructor. If there are more than one instances of this object, log a warning to the console and perhaps stick a breakpoint there to debug it easily."},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1656395814,"post_id":72781138,"comment_id":128554749,"body_markdown":"There&#39;s no real problem with creating multiple instances - it can be useful for testing purposes. One alternative is to use the enum singleton idiom: `enum SingletonDemo { INSTANCE; }`. This guarantees a single instance. Or better, don&#39;t use singletons - preferable to use dependency injection.","body":"There&#39;s no real problem with creating multiple instances - it can be useful for testing purposes. One alternative is to use the enum singleton idiom: <code>enum SingletonDemo { INSTANCE; }</code>. This guarantees a single instance. Or better, don&#39;t use singletons - preferable to use dependency injection."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1656400277,"post_id":72781138,"comment_id":128555930,"body_markdown":"Singleton class should not have a main method.  But yes if you put main inside a class, all the private members are accessible in the main method as well.","body":"Singleton class should not have a main method.  But yes if you put main inside a class, all the private members are accessible in the main method as well."}],"owner":{"account_id":25660167,"reputation":89,"user_id":19426256,"display_name":"Drishti Jain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656395107,"creation_date":1656394113,"question_id":72781138,"body_markdown":"Please check out my code below. \r\nMy doubt is:\r\n**Can there be a main method in java singleton class**\r\nThis will result in more than one object being created so this class does not follow the Singleton design pattern. Should it be considered bad practice to execute the main method in Singleton class?\r\nHere is my code:\r\n\r\n    public class SingletonDemo {\r\n\r\n    private static int counter; //counter for number of objects\r\n    private static SingletonDemo obj;\r\n\r\n    private SingletonDemo() {\r\n        System.out.println(&quot;Object number &quot; + ++counter);\r\n    }\r\n\r\n    public static synchronized SingletonDemo getInstance() {\r\n        if (obj == null) {\r\n            obj = new SingletonDemo();\r\n        } else {\r\n            System.out.println(&quot;No new object created&quot;);\r\n        }\r\n        return obj;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SingletonDemo.getInstance();\r\n        SingletonDemo.getInstance();\r\n        SingletonDemo.getInstance();\r\n\r\n        SingletonDemo obj1 = new SingletonDemo();\r\n        SingletonDemo obj2 = new SingletonDemo();\r\n        SingletonDemo obj3 = new SingletonDemo();\r\n    }\r\n}","title":"Singleton Class: I was able to call private constructor multiple times when my main function was inside that singleton class","body":"<p>Please check out my code below.\nMy doubt is:\n<strong>Can there be a main method in java singleton class</strong>\nThis will result in more than one object being created so this class does not follow the Singleton design pattern. Should it be considered bad practice to execute the main method in Singleton class?\nHere is my code:</p>\n<pre><code>public class SingletonDemo {\n\nprivate static int counter; //counter for number of objects\nprivate static SingletonDemo obj;\n\nprivate SingletonDemo() {\n    System.out.println(&quot;Object number &quot; + ++counter);\n}\n\npublic static synchronized SingletonDemo getInstance() {\n    if (obj == null) {\n        obj = new SingletonDemo();\n    } else {\n        System.out.println(&quot;No new object created&quot;);\n    }\n    return obj;\n}\n\npublic static void main(String[] args) {\n    SingletonDemo.getInstance();\n    SingletonDemo.getInstance();\n    SingletonDemo.getInstance();\n\n    SingletonDemo obj1 = new SingletonDemo();\n    SingletonDemo obj2 = new SingletonDemo();\n    SingletonDemo obj3 = new SingletonDemo();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","recursion"],"answers":[{"tags":[],"owner":{"account_id":16467074,"reputation":697,"user_id":12662495,"display_name":"Han Moe Htet"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1656394948,"creation_date":1656394948,"answer_id":72781249,"question_id":72781218,"body_markdown":"`n--` returns the value of `n` first, then decrement `n`. So in your case, it becomes an infinite loop because `n` is never changing. You can use `--n` instead which decrement `n` first, then returns the value of `n`. Let&#39;s take a simpler example.\r\n\r\n    int x = 3;\r\n    System.out.println(x - 1); // prints 2, x is still 3\r\n    System.out.println(x--);   // prints 3, x becomes 2\r\n    System.out.println(--x);   // prints 1, x becomes 1","title":"When I use &quot;n--&quot; instead of &quot;n-1&quot; why do I get stackoverflow error?","body":"<p><code>n--</code> returns the value of <code>n</code> first, then decrement <code>n</code>. So in your case, it becomes an infinite loop because <code>n</code> is never changing. You can use <code>--n</code> instead which decrement <code>n</code> first, then returns the value of <code>n</code>. Let's take a simpler example.</p>\n<pre><code>int x = 3;\nSystem.out.println(x - 1); // prints 2, x is still 3\nSystem.out.println(x--);   // prints 3, x becomes 2\nSystem.out.println(--x);   // prints 1, x becomes 1\n</code></pre>\n"}],"owner":{"account_id":11253655,"reputation":41,"user_id":8254110,"display_name":"Achyut Dalai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72781249,"answer_count":1,"score":0,"last_activity_date":1656394961,"creation_date":1656394687,"question_id":72781218,"body_markdown":"In this code which is a program to print elements 1 to 5 recursively, when I use `n--` instead of `n-1`, I am getting a stack overflow error.\r\nwhereas when `n-1` is used the code worked perfectly.\r\nshouldn&#39;t `n--` and `n-1` work the same in this code?\r\n```\r\n    //when using n--\r\n\r\n    class PrintElements1to5\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            recursivePrint(5);\r\n        }\r\n    \r\n        static void recursivePrint(int n)\r\n        {\r\n            if(n&lt;1)\r\n                return;\r\n            recursivePrint(n--);  \r\n            System.out.print(n+&quot; &quot;);\r\n        }\r\n    }\r\n```\r\n    \r\noutput:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.StackOverflowError\r\n    \r\n```\r\n    //when using n=n-1\r\n    class PrintElements1to5\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            recursivePrint(5);\r\n        }\r\n    \r\n        static void recursivePrint(int n)\r\n        {\r\n            if(n&lt;1)\r\n                return;\r\n            recursivePrint(n-1);\r\n            System.out.print(n+&quot; &quot;);\r\n        }\r\n    }\r\n```\r\n    \r\noutput:\r\n\r\n    1 2 3 4 5 \r\n","title":"When I use &quot;n--&quot; instead of &quot;n-1&quot; why do I get stackoverflow error?","body":"<p>In this code which is a program to print elements 1 to 5 recursively, when I use <code>n--</code> instead of <code>n-1</code>, I am getting a stack overflow error.\nwhereas when <code>n-1</code> is used the code worked perfectly.\nshouldn't <code>n--</code> and <code>n-1</code> work the same in this code?</p>\n<pre><code>    //when using n--\n\n    class PrintElements1to5\n    {\n        public static void main(String[] args)\n        {\n            recursivePrint(5);\n        }\n    \n        static void recursivePrint(int n)\n        {\n            if(n&lt;1)\n                return;\n            recursivePrint(n--);  \n            System.out.print(n+&quot; &quot;);\n        }\n    }\n</code></pre>\n<p>output:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.StackOverflowError\n</code></pre>\n<pre><code>    //when using n=n-1\n    class PrintElements1to5\n    {\n        public static void main(String[] args)\n        {\n            recursivePrint(5);\n        }\n    \n        static void recursivePrint(int n)\n        {\n            if(n&lt;1)\n                return;\n            recursivePrint(n-1);\n            System.out.print(n+&quot; &quot;);\n        }\n    }\n</code></pre>\n<p>output:</p>\n<pre><code>1 2 3 4 5 \n</code></pre>\n"},{"tags":["java","xml","soap"],"comments":[{"owner":{"account_id":5037493,"reputation":2383,"user_id":4045880,"display_name":"Michal"},"score":1,"creation_date":1542297896,"post_id":53317124,"comment_id":93527296,"body_markdown":"Your first method using JAXB is sound - provided the JAXB Java class is the correct one for the given XML. You just need to feed the JAXB Unmarshaller just the relevant XML (the &lt;CashOutPaymentRequestResult&gt;...&lt;/CashOutPaymentRequestResult&gt; part ) without the SOAP envelope. Use the SAAJ API to retrieve this and then unmarshall it. See https://docs.oracle.com/cd/E19644-01/817-5452/wsgjaxm.html for SAAJ.","body":"Your first method using JAXB is sound - provided the JAXB Java class is the correct one for the given XML. You just need to feed the JAXB Unmarshaller just the relevant XML (the &lt;CashOutPaymentRequestResult&gt;...&lt;/CashOutPaymentRequestResul&zwnj;&#8203;t&gt; part ) without the SOAP envelope. Use the SAAJ API to retrieve this and then unmarshall it. See <a href=\"https://docs.oracle.com/cd/E19644-01/817-5452/wsgjaxm.html\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/E19644-01/817-5452/wsgjaxm.html</a> for SAAJ."},{"owner":{"account_id":2568640,"reputation":610,"user_id":6760934,"accept_rate":38,"display_name":"DaviesTobi alex"},"score":0,"creation_date":1542300619,"post_id":53317124,"comment_id":93528956,"body_markdown":"Thanks @Michal was able to get it to work. Would post the implementation","body":"Thanks @Michal was able to get it to work. Would post the implementation"}],"answers":[{"tags":[],"owner":{"account_id":2568640,"reputation":610,"user_id":6760934,"accept_rate":38,"display_name":"DaviesTobi alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656394671,"creation_date":1542301778,"answer_id":53324635,"question_id":53317124,"body_markdown":"Thanks to Michal&#39;s comment I developed a solution to this\r\n\r\n    InputStream is = new ByteArrayInputStream(xml.getBytes());\r\n    MessageFactory factory = MessageFactory.newInstance();\r\n    SOAPMessage message = factory.createMessage(null, is);\r\n    NodeList listResult = message.getSOAPBody().getElementsByTagName(&quot;CashOutPaymentRequestResult&quot;);\r\n\r\n    for (int i = 0; i &lt; listResult.getLength(); i++) {\r\n        NodeList children = listResult.item(i).getChildNodes();\r\n        \r\n        for (int k = 0; k &lt; children.getLength(); k++) {\r\n            System.out.println(children.item(k).getNodeName());\r\n            System.out.println(children.item(k).getTextContent());\r\n            if (children.item(k).getNodeName().equals(&quot;ResponseCode&quot;)) {\r\n\r\n            }\r\n                    \r\n            if (children.item(k).getNodeName().equals(&quot;ResponseDesc&quot;)) {\r\n\r\n            }\r\n        }\r\n    }\r\n","title":"Convert SOAP XML string to object or just read its contents","body":"<p>Thanks to Michal's comment I developed a solution to this</p>\n<pre><code>InputStream is = new ByteArrayInputStream(xml.getBytes());\nMessageFactory factory = MessageFactory.newInstance();\nSOAPMessage message = factory.createMessage(null, is);\nNodeList listResult = message.getSOAPBody().getElementsByTagName(&quot;CashOutPaymentRequestResult&quot;);\n\nfor (int i = 0; i &lt; listResult.getLength(); i++) {\n    NodeList children = listResult.item(i).getChildNodes();\n    \n    for (int k = 0; k &lt; children.getLength(); k++) {\n        System.out.println(children.item(k).getNodeName());\n        System.out.println(children.item(k).getTextContent());\n        if (children.item(k).getNodeName().equals(&quot;ResponseCode&quot;)) {\n\n        }\n                \n        if (children.item(k).getNodeName().equals(&quot;ResponseDesc&quot;)) {\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11373431,"reputation":49,"user_id":8338411,"display_name":"Paul Kunda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644356463,"creation_date":1644356463,"answer_id":71041228,"question_id":53317124,"body_markdown":"I know this is late but if anyone comes here in the future searching/seeking for a solution like I did. I hope this helps you in a way. The other way is converting the XML to JSON using this org.json maven \r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n  &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n  &lt;version&gt;20180130&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAnd your method that works around the fetch of data will be something like\r\n```\r\nprivate static void cashOutPayment(){\r\n        String xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;utf-8\\&quot;?&gt;&lt;soap:Envelope xmlns:soap=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot; xmlns:xsd=\\&quot;http://www.w3.org/2001/XMLSchema\\&quot;&gt;&lt;soap:Body&gt;&lt;CashOutPaymentRequestResponse xmlns=\\&quot;http://tempuri.org/\\&quot;&gt;&lt;CashOutPaymentRequestResult&gt;&lt;ResponseCode&gt;1002&lt;/ResponseCode&gt;&lt;ResponseDesc&gt;FAC Code and Amount does not match, Contact your Admin.&lt;/ResponseDesc&gt;&lt;/CashOutPaymentRequestResult&gt;&lt;/CashOutPaymentRequestResponse&gt;&lt;/soap:Body&gt;&lt;/soap:Envelope&gt;&quot;;\r\n        JSONObject jsonObject = XML.toJSONObject(xml);\r\n        String jsonString = jsonObject.toString();\r\n        JSONObject jsonObject1 = ((JSONObject) jsonObject.get(&quot;soap:Envelope&quot;))\r\n                .getJSONObject(&quot;soap:Body&quot;).getJSONObject(&quot;CashOutPaymentRequestResponse&quot;)\r\n                .getJSONObject(&quot;CashOutPaymentRequestResult&quot;);\r\n        Integer responseCode = (Integer) jsonObject1.get(&quot;ResponseCode&quot;);\r\n        String responseDesc = (String) jsonObject1.get(&quot;ResponseDesc&quot;);\r\n        System.out.println(&quot;Response Code =&gt; &quot;+responseCode+ &quot; and Response Desc =&gt; &quot;+responseDesc);\r\n}\r\n```","title":"Convert SOAP XML string to object or just read its contents","body":"<p>I know this is late but if anyone comes here in the future searching/seeking for a solution like I did. I hope this helps you in a way. The other way is converting the XML to JSON using this org.json maven</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.json&lt;/groupId&gt;\n  &lt;artifactId&gt;json&lt;/artifactId&gt;\n  &lt;version&gt;20180130&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And your method that works around the fetch of data will be something like</p>\n<pre><code>private static void cashOutPayment(){\n        String xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;utf-8\\&quot;?&gt;&lt;soap:Envelope xmlns:soap=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot; xmlns:xsd=\\&quot;http://www.w3.org/2001/XMLSchema\\&quot;&gt;&lt;soap:Body&gt;&lt;CashOutPaymentRequestResponse xmlns=\\&quot;http://tempuri.org/\\&quot;&gt;&lt;CashOutPaymentRequestResult&gt;&lt;ResponseCode&gt;1002&lt;/ResponseCode&gt;&lt;ResponseDesc&gt;FAC Code and Amount does not match, Contact your Admin.&lt;/ResponseDesc&gt;&lt;/CashOutPaymentRequestResult&gt;&lt;/CashOutPaymentRequestResponse&gt;&lt;/soap:Body&gt;&lt;/soap:Envelope&gt;&quot;;\n        JSONObject jsonObject = XML.toJSONObject(xml);\n        String jsonString = jsonObject.toString();\n        JSONObject jsonObject1 = ((JSONObject) jsonObject.get(&quot;soap:Envelope&quot;))\n                .getJSONObject(&quot;soap:Body&quot;).getJSONObject(&quot;CashOutPaymentRequestResponse&quot;)\n                .getJSONObject(&quot;CashOutPaymentRequestResult&quot;);\n        Integer responseCode = (Integer) jsonObject1.get(&quot;ResponseCode&quot;);\n        String responseDesc = (String) jsonObject1.get(&quot;ResponseDesc&quot;);\n        System.out.println(&quot;Response Code =&gt; &quot;+responseCode+ &quot; and Response Desc =&gt; &quot;+responseDesc);\n}\n</code></pre>\n"}],"owner":{"account_id":2568640,"reputation":610,"user_id":6760934,"accept_rate":38,"display_name":"DaviesTobi alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3577,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656394671,"creation_date":1542277017,"question_id":53317124,"body_markdown":"Am receiving a SOAP XML response from an endpoint and I am trying to read its&#39; contents. I have tried a couple of methods but it keeps giving me null\r\n\r\n    String xml = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;utf-8\\&quot;?&gt;&lt;soap:Envelope xmlns:soap=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot; xmlns:xsd=\\&quot;http://www.w3.org/2001/XMLSchema\\&quot;&gt;&lt;soap:Body&gt;&lt;CashOutPaymentRequestResponse xmlns=\\&quot;http://tempuri.org/\\&quot;&gt;&lt;CashOutPaymentRequestResult&gt;&lt;ResponseCode&gt;1002&lt;/ResponseCode&gt;&lt;ResponseDesc&gt;FAC Code and Amount does not match, Contact your Admin.&lt;/ResponseDesc&gt;&lt;/CashOutPaymentRequestResult&gt;&lt;/CashOutPaymentRequestResponse&gt;&lt;/soap:Body&gt;&lt;/soap:Envelope&gt;&quot;;\r\n\r\n    JAXBContext jaxbContext = JAXBContext.newInstance(cashOutPaymentRequestEnvelope.class);\r\n    Unmarshaller unmarshaller = jaxbContext.createUnmarshaller();\r\n\r\n    StringReader reader = new StringReader(xml);\r\n    cashOutPaymentRequestEnvelope person = (cashOutPaymentRequestEnvelope) unmarshaller.unmarshal(reader);\r\n\r\nMy method 2 \r\n\r\n    Element rootdecryptedXml = XmlParseHelper.getStringXml(xml);\r\n    String responseUnEscapedXml = StringEscapeUtils.unescapeXml(XmlParseHelper.getString(&quot;CashOutPaymentRequestResult&quot;, rootdecryptedXml));\r\n\r\n    String responseEscapedXml = XmlParseHelper.getString(&quot;CashOutPaymentRequestResult&quot;, rootdecryptedXml);\r\n\r\n       System.out.println(&quot;step 1.. \\n&quot; + responseEscapedXml);\r\n\r\n       Element root = XmlParseHelper.getStringXml(responseEscapedXml);\r\n\r\n       System.out.println(&quot;step 2aa...\\n&quot; + XmlParseHelper.getString(&quot;ResponseCode&quot;, root));\r\n       System.out.println(&quot;step 2bb...\\n&quot; + XmlParseHelper.getString(&quot;ResponseDesc&quot;, root));\r\n\r\nNone of the methods seem to work, they all give me null\r\n\r\nMy getString function \r\n\r\n    public static String getString(String tagName, Element element) {\r\n        if (element == null) {\r\n            return &quot; &quot;;\r\n        }\r\n\r\n        NodeList list = element.getElementsByTagName(tagName);\r\n\r\n        if (list != null &amp;&amp; list.getLength() &gt; 0) {\r\n            NodeList subList = list.item(0).getChildNodes();\r\n            if (subList != null &amp;&amp; subList.getLength() &gt; 0) {\r\n                return subList.item(0).getNodeValue();\r\n            }\r\n        }\r\n        return &quot; &quot;;\r\n    }\r\n\r\nMy get StringXml\r\n\r\n    public static Element getStringXml(String responseXml) throws SAXException, IOException, ParserConfigurationException {\r\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n        Document document;\r\n        Element rootdecryptedXml = null;\r\n        DocumentBuilder builder;\r\n        builder = factory.newDocumentBuilder();\r\n        document = builder.parse(new InputSource(new StringReader(responseXml)));\r\n        rootdecryptedXml = document.getDocumentElement();\r\n        return rootdecryptedXml;\r\n    }","title":"Convert SOAP XML string to object or just read its contents","body":"<p>Am receiving a SOAP XML response from an endpoint and I am trying to read its' contents. I have tried a couple of methods but it keeps giving me null</p>\n\n<pre><code>String xml = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?&gt;&lt;soap:Envelope xmlns:soap=\\\"http://schemas.xmlsoap.org/soap/envelope/\\\" xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance\\\" xmlns:xsd=\\\"http://www.w3.org/2001/XMLSchema\\\"&gt;&lt;soap:Body&gt;&lt;CashOutPaymentRequestResponse xmlns=\\\"http://tempuri.org/\\\"&gt;&lt;CashOutPaymentRequestResult&gt;&lt;ResponseCode&gt;1002&lt;/ResponseCode&gt;&lt;ResponseDesc&gt;FAC Code and Amount does not match, Contact your Admin.&lt;/ResponseDesc&gt;&lt;/CashOutPaymentRequestResult&gt;&lt;/CashOutPaymentRequestResponse&gt;&lt;/soap:Body&gt;&lt;/soap:Envelope&gt;\";\n\nJAXBContext jaxbContext = JAXBContext.newInstance(cashOutPaymentRequestEnvelope.class);\nUnmarshaller unmarshaller = jaxbContext.createUnmarshaller();\n\nStringReader reader = new StringReader(xml);\ncashOutPaymentRequestEnvelope person = (cashOutPaymentRequestEnvelope) unmarshaller.unmarshal(reader);\n</code></pre>\n\n<p>My method 2 </p>\n\n<pre><code>Element rootdecryptedXml = XmlParseHelper.getStringXml(xml);\nString responseUnEscapedXml = StringEscapeUtils.unescapeXml(XmlParseHelper.getString(\"CashOutPaymentRequestResult\", rootdecryptedXml));\n\nString responseEscapedXml = XmlParseHelper.getString(\"CashOutPaymentRequestResult\", rootdecryptedXml);\n\n   System.out.println(\"step 1.. \\n\" + responseEscapedXml);\n\n   Element root = XmlParseHelper.getStringXml(responseEscapedXml);\n\n   System.out.println(\"step 2aa...\\n\" + XmlParseHelper.getString(\"ResponseCode\", root));\n   System.out.println(\"step 2bb...\\n\" + XmlParseHelper.getString(\"ResponseDesc\", root));\n</code></pre>\n\n<p>None of the methods seem to work, they all give me null</p>\n\n<p>My getString function </p>\n\n<pre><code>public static String getString(String tagName, Element element) {\n    if (element == null) {\n        return \" \";\n    }\n\n    NodeList list = element.getElementsByTagName(tagName);\n\n    if (list != null &amp;&amp; list.getLength() &gt; 0) {\n        NodeList subList = list.item(0).getChildNodes();\n        if (subList != null &amp;&amp; subList.getLength() &gt; 0) {\n            return subList.item(0).getNodeValue();\n        }\n    }\n    return \" \";\n}\n</code></pre>\n\n<p>My get StringXml</p>\n\n<pre><code>public static Element getStringXml(String responseXml) throws SAXException, IOException, ParserConfigurationException {\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n    Document document;\n    Element rootdecryptedXml = null;\n    DocumentBuilder builder;\n    builder = factory.newDocumentBuilder();\n    document = builder.parse(new InputSource(new StringReader(responseXml)));\n    rootdecryptedXml = document.getDocumentElement();\n    return rootdecryptedXml;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","api"],"comments":[{"owner":{"account_id":2045726,"reputation":1580,"user_id":1825844,"display_name":"gvmani"},"score":0,"creation_date":1656391468,"post_id":72780745,"comment_id":128553897,"body_markdown":"looks like you might a nested structure, can you add the Movie class and the table details if possible.","body":"looks like you might a nested structure, can you add the Movie class and the table details if possible."},{"owner":{"account_id":22283711,"reputation":17,"user_id":16511725,"display_name":"ErikVM"},"score":0,"creation_date":1656409196,"post_id":72780745,"comment_id":128559212,"body_markdown":"Uploaded pic of a class. Still cant figure out the problem. Tried to rewrite the code but still faulty,  my knowledge is the problem :D","body":"Uploaded pic of a class. Still cant figure out the problem. Tried to rewrite the code but still faulty,  my knowledge is the problem :D"},{"owner":{"account_id":2045726,"reputation":1580,"user_id":1825844,"display_name":"gvmani"},"score":0,"creation_date":1656411731,"post_id":72780745,"comment_id":128560182,"body_markdown":"does your Client class refer to Movie ? Can you enable JSONIgnore for clients property and check ?","body":"does your Client class refer to Movie ? Can you enable JSONIgnore for clients property and check ?"},{"owner":{"account_id":22283711,"reputation":17,"user_id":16511725,"display_name":"ErikVM"},"score":0,"creation_date":1656421939,"post_id":72780745,"comment_id":128564284,"body_markdown":"If I enable JsonIgnore it works, but is there a way to do it without using that annotation?","body":"If I enable JsonIgnore it works, but is there a way to do it without using that annotation?"},{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":1,"creation_date":1656440508,"post_id":72780745,"comment_id":128571484,"body_markdown":"See if https://stackoverflow.com/questions/17393812/json-and-java-circular-reference helps you out.","body":"See if <a href=\"https://stackoverflow.com/questions/17393812/json-and-java-circular-reference\" title=\"json and java circular reference\">stackoverflow.com/questions/17393812/&hellip;</a> helps you out."}],"owner":{"account_id":22283711,"reputation":17,"user_id":16511725,"display_name":"ErikVM"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1656394586,"creation_date":1656390330,"question_id":72780745,"body_markdown":"I&#39;m building this movie rental app and client has list called rentedMovies. If use PUT its gives me 200 code and everything seems fine, but if I reload my clients, its all messed up. \r\nIf I use JasonIgnore, it&#39;s okay but how could see then what movies have client rented...\r\n\r\nHere is the list\r\n[![enter image description here][1]][1]\r\n\r\nLogic in service\r\n\r\n[![enter image description here][2]][2]\r\n\r\nOutput in browser\r\n\r\n[![enter image description here][3]][3]\r\n\r\nConsole output\r\n[![enter image description here][4]][4]\r\n\r\nMovie class\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EV6kS.jpg\r\n  [2]: https://i.stack.imgur.com/TTxhd.jpg\r\n  [3]: https://i.stack.imgur.com/AdWA6.jpg\r\n  [4]: https://i.stack.imgur.com/ZzilB.jpg\r\n  [5]: https://i.stack.imgur.com/WR5VD.jpg","title":"Adding movie to one client rented movies list through API, will mess up all other clients","body":"<p>I'm building this movie rental app and client has list called rentedMovies. If use PUT its gives me 200 code and everything seems fine, but if I reload my clients, its all messed up.\nIf I use JasonIgnore, it's okay but how could see then what movies have client rented...</p>\n<p>Here is the list\n<a href=\"https://i.stack.imgur.com/EV6kS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EV6kS.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Logic in service</p>\n<p><a href=\"https://i.stack.imgur.com/TTxhd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TTxhd.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Output in browser</p>\n<p><a href=\"https://i.stack.imgur.com/AdWA6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AdWA6.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Console output\n<a href=\"https://i.stack.imgur.com/ZzilB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZzilB.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Movie class\n<a href=\"https://i.stack.imgur.com/WR5VD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WR5VD.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","tomcat"],"answers":[{"tags":[],"owner":{"account_id":15409394,"reputation":36,"user_id":11116551,"display_name":"subhashreddy22"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656394379,"creation_date":1656394379,"answer_id":72781176,"question_id":72780776,"body_markdown":"Can you remove the `&lt;repositories&gt;` section in pom.xml and try to build. Looks like the jar is not available in Spring repository. It will get downloaded from maven central if none mentioned.","title":"Tomcat Embed Not Working in pom.xml (SpringBoot 3.0.0 M3)","body":"<p>Can you remove the <code>&lt;repositories&gt;</code> section in pom.xml and try to build. Looks like the jar is not available in Spring repository. It will get downloaded from maven central if none mentioned.</p>\n"}],"owner":{"account_id":13069678,"reputation":37,"user_id":9443661,"display_name":"CurlyFry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72781176,"answer_count":1,"score":0,"last_activity_date":1656394379,"creation_date":1656390787,"question_id":72780776,"body_markdown":"I&#39;m following a Udemy Course on learning SpringBoot, but I can&#39;t seem to get one of the dependencies installed. The tutorial asks to import a Tomcat dependency into pom.xml (in order to utilize JSP pages from resources), but after trying to import it:\r\n```html\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt; &lt;!-- Error comes from here --&gt;\r\n\t&lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nI get the following error on the commented line.\r\n```\r\nDependency &#39;org.apache.tomcat.embed:tomcat-embed-jasper:10.0.21&#39; not found\r\n```\r\n\r\nWhat am I missing? I&#39;m using IntelliJ, Java 18.0.1.1, and here is my pom.xml:\r\n```html\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0-M3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.springboot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springboot-first-web-app&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;springboot-first-web-app&lt;/name&gt;\r\n\t&lt;description&gt;My first SpringBoot web application from the Udemy Course&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;18&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nI will edit this to provide any additional information needed","title":"Tomcat Embed Not Working in pom.xml (SpringBoot 3.0.0 M3)","body":"<p>I'm following a Udemy Course on learning SpringBoot, but I can't seem to get one of the dependencies installed. The tutorial asks to import a Tomcat dependency into pom.xml (in order to utilize JSP pages from resources), but after trying to import it:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt; &lt;!-- Error comes from here --&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I get the following error on the commented line.</p>\n<pre><code>Dependency 'org.apache.tomcat.embed:tomcat-embed-jasper:10.0.21' not found\n</code></pre>\n<p>What am I missing? I'm using IntelliJ, Java 18.0.1.1, and here is my pom.xml:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.springboot&lt;/groupId&gt;\n    &lt;artifactId&gt;springboot-first-web-app&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;springboot-first-web-app&lt;/name&gt;\n    &lt;description&gt;My first SpringBoot web application from the Udemy Course&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;18&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I will edit this to provide any additional information needed</p>\n"},{"tags":["java","caching","redis","spring-data-redis"],"comments":[{"owner":{"account_id":291341,"reputation":9138,"user_id":593425,"accept_rate":55,"display_name":"Guy Korland"},"score":0,"creation_date":1619273147,"post_id":67242566,"comment_id":118857713,"body_markdown":"Did you check the Redis Module https://redisearch.io ?","body":"Did you check the Redis Module <a href=\"https://redisearch.io\" rel=\"nofollow noreferrer\">redisearch.io</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":5336230,"reputation":5228,"user_id":4255107,"accept_rate":50,"display_name":"sonus21"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1619276877,"creation_date":1619276877,"answer_id":67244231,"question_id":67242566,"body_markdown":"You can use `RedisReposiroty` to get these data, in Redis repository you can define a collection as \r\n\r\n    @RedisHash(&quot;productPrice&quot;)\r\n    public class ProductPrice implements Serializable {\r\n        @Id private String id; // assign id as productId#provider\r\n        @Indexed\r\n        private String productId;\r\n        @Indexed\r\n        private String provider;\r\n        private Double price;\r\n        private Long timestamp;\r\n    }\r\n\r\nWe&#39;ve added two indexes in this, one for productId and another one for provider.\r\n\r\nDefine a Redis repository with two methods as\r\n\r\n\r\n    @Repository\r\n    public interface ProductPriceRepository extends CrudRepository&lt;ProductPrice, String&gt;  {\r\n        List&lt;ProductPrice&gt; findByProductId(String productId);\r\n        List&lt;ProductPrice&gt; findByProvider(String provider);\r\n    } \r\n\r\nNow you can `autowired`  ProductPriceRepository in the service.\r\n\r\nTo save a record you need to call `repository.save` method.\r\n\r\n\r\n\r\n","title":"Redis Cache Query using multiple criteria","body":"<p>You can use <code>RedisReposiroty</code> to get these data, in Redis repository you can define a collection as</p>\n<pre><code>@RedisHash(&quot;productPrice&quot;)\npublic class ProductPrice implements Serializable {\n    @Id private String id; // assign id as productId#provider\n    @Indexed\n    private String productId;\n    @Indexed\n    private String provider;\n    private Double price;\n    private Long timestamp;\n}\n</code></pre>\n<p>We've added two indexes in this, one for productId and another one for provider.</p>\n<p>Define a Redis repository with two methods as</p>\n<pre><code>@Repository\npublic interface ProductPriceRepository extends CrudRepository&lt;ProductPrice, String&gt;  {\n    List&lt;ProductPrice&gt; findByProductId(String productId);\n    List&lt;ProductPrice&gt; findByProvider(String provider);\n} \n</code></pre>\n<p>Now you can <code>autowired</code>  ProductPriceRepository in the service.</p>\n<p>To save a record you need to call <code>repository.save</code> method.</p>\n"}],"owner":{"account_id":21344635,"reputation":87,"user_id":15714815,"display_name":"Koret"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":771,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":67244231,"answer_count":1,"score":0,"last_activity_date":1656394130,"creation_date":1619265790,"question_id":67242566,"body_markdown":"I have price data from ecommerce like follwoing. Each row is considered as an Domain object lets say PriceInfo\r\n\r\n    +-----------+----------+-------+------------------+\r\n    | ProductId | Provider | Price |       Time       |\r\n    +-----------+----------+-------+------------------+\r\n    | iphone    | Amazon   |   200 | 13-12-2021 12:50 |\r\n    | iphone    | Ebay     |   201 | 13-12-2021 12:50 |\r\n    | iphone    | Alibaba  |   202 | 13-12-2021 12:50 |\r\n    | GalaxyX2  | Ebay     |   195 | 13-12-2021 12:50 |\r\n    | GalaxyX2  | Alibaba  |   196 | 13-12-2021 12:50 |\r\n    +-----------+----------+-------+------------------+\r\n\r\n\r\nClients are interested in getting all prices from a particular vendor or prices for a single product from various vendors\r\n\r\n1.Get price from Ebay\r\n\r\n    +-----------+----------+-------+------------------+\r\n    | ProductId | Provider | Price |       Time       |\r\n    +-----------+----------+-------+------------------+\r\n    | iphone    | Ebay     |   201 | 13-12-2021 12:50 |\r\n    | GalaxyX2  | Ebay     |   195 | 13-12-2021 12:50 |\r\n    +-----------+----------+-------+------------------+\r\n\r\n\r\n2.Get price for iphone\r\n\r\n    +-----------+----------+-------+------------------+\r\n    | ProductId | Provider | Price |       Time       |\r\n    +-----------+----------+-------+------------------+\r\n    | iphone    | Amazon   |   200 | 13-12-2021 12:50 |\r\n    | iphone    | Ebay     |   201 | 13-12-2021 12:50 |\r\n    | iphone    | Alibaba  |   202 | 13-12-2021 12:50 |\r\n    +-----------+----------+-------+------------------+\r\n\r\n\r\n\r\nHow can I define my Redis cache key and how to query the DB to get the above 2 results ?\r\n\r\nWhile saving the pojo I am doing following using Jedis library in java spring boot project:\r\n\r\n        public void save(PricingInfo pricingInfo ) {\r\n            template.opsForHash().put(HASH_KEY, pricingInfo.getProductId(), pricingInfo );\r\n        }\r\n","title":"Redis Cache Query using multiple criteria","body":"<p>I have price data from ecommerce like follwoing. Each row is considered as an Domain object lets say PriceInfo</p>\n<pre><code>+-----------+----------+-------+------------------+\n| ProductId | Provider | Price |       Time       |\n+-----------+----------+-------+------------------+\n| iphone    | Amazon   |   200 | 13-12-2021 12:50 |\n| iphone    | Ebay     |   201 | 13-12-2021 12:50 |\n| iphone    | Alibaba  |   202 | 13-12-2021 12:50 |\n| GalaxyX2  | Ebay     |   195 | 13-12-2021 12:50 |\n| GalaxyX2  | Alibaba  |   196 | 13-12-2021 12:50 |\n+-----------+----------+-------+------------------+\n</code></pre>\n<p>Clients are interested in getting all prices from a particular vendor or prices for a single product from various vendors</p>\n<p>1.Get price from Ebay</p>\n<pre><code>+-----------+----------+-------+------------------+\n| ProductId | Provider | Price |       Time       |\n+-----------+----------+-------+------------------+\n| iphone    | Ebay     |   201 | 13-12-2021 12:50 |\n| GalaxyX2  | Ebay     |   195 | 13-12-2021 12:50 |\n+-----------+----------+-------+------------------+\n</code></pre>\n<p>2.Get price for iphone</p>\n<pre><code>+-----------+----------+-------+------------------+\n| ProductId | Provider | Price |       Time       |\n+-----------+----------+-------+------------------+\n| iphone    | Amazon   |   200 | 13-12-2021 12:50 |\n| iphone    | Ebay     |   201 | 13-12-2021 12:50 |\n| iphone    | Alibaba  |   202 | 13-12-2021 12:50 |\n+-----------+----------+-------+------------------+\n</code></pre>\n<p>How can I define my Redis cache key and how to query the DB to get the above 2 results ?</p>\n<p>While saving the pojo I am doing following using Jedis library in java spring boot project:</p>\n<pre><code>    public void save(PricingInfo pricingInfo ) {\n        template.opsForHash().put(HASH_KEY, pricingInfo.getProductId(), pricingInfo );\n    }\n</code></pre>\n"},{"tags":["java","sorting","datetime"],"comments":[{"owner":{"account_id":9739137,"reputation":886,"user_id":7221393,"accept_rate":89,"display_name":"Dev_Man"},"score":0,"creation_date":1502298627,"post_id":14451976,"comment_id":78153048,"body_markdown":"great question!","body":"great question!"}],"answers":[{"tags":[],"owner":{"account_id":2184935,"reputation":523,"user_id":1933542,"display_name":"Prateek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358832704,"creation_date":1358832657,"answer_id":14452139,"question_id":14451976,"body_markdown":"ArrayList doesnt support sorting by default. You can use \r\n\r\n`public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c)` from `java.util.Collections` class. pass your implementation of comparator to sort dates, something like \r\n\r\nhttp://www.coderanch.com/t/392338/java/java/compare-Dates-String-Format\r\n\r\n\r\n","title":"How to sort Date which is in string format in java?","body":"<p>ArrayList doesnt support sorting by default. You can use </p>\n\n<p><code>public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c)</code> from <code>java.util.Collections</code> class. pass your implementation of comparator to sort dates, something like </p>\n\n<p><a href=\"http://www.coderanch.com/t/392338/java/java/compare-Dates-String-Format\" rel=\"nofollow\">http://www.coderanch.com/t/392338/java/java/compare-Dates-String-Format</a></p>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":101,"is_accepted":true,"score":101,"last_activity_date":1507175842,"creation_date":1358832837,"answer_id":14452176,"question_id":14451976,"body_markdown":"try this\r\n\r\n\t\tCollections.sort(datestring, new Comparator&lt;String&gt;() {\r\n\t\t\tDateFormat f = new SimpleDateFormat(&quot;MM/dd/yyyy &#39;@&#39;hh:mm a&quot;);\r\n\t\t\t@Override\r\n\t\t\tpublic int compare(String o1, String o2) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\treturn f.parse(o1).compareTo(f.parse(o2));\r\n\t\t\t\t} catch (ParseException e) {\r\n\t\t\t\t\tthrow new IllegalArgumentException(e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\nor with Java 8 \r\n\r\n\t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy &#39;@&#39;hh:mm a&quot;);\r\n\t\tCollections.sort(datestring, (s1, s2) -&gt; LocalDateTime.parse(s1, formatter).\r\n\t\t\t\tcompareTo(LocalDateTime.parse(s2, formatter)));\r\n","title":"How to sort Date which is in string format in java?","body":"<p>try this</p>\n\n<pre><code>    Collections.sort(datestring, new Comparator&lt;String&gt;() {\n        DateFormat f = new SimpleDateFormat(\"MM/dd/yyyy '@'hh:mm a\");\n        @Override\n        public int compare(String o1, String o2) {\n            try {\n                return f.parse(o1).compareTo(f.parse(o2));\n            } catch (ParseException e) {\n                throw new IllegalArgumentException(e);\n            }\n        }\n    });\n</code></pre>\n\n<p>or with Java 8 </p>\n\n<pre><code>    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"MM/dd/yyyy '@'hh:mm a\");\n    Collections.sort(datestring, (s1, s2) -&gt; LocalDateTime.parse(s1, formatter).\n            compareTo(LocalDateTime.parse(s2, formatter)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1926389,"reputation":9,"user_id":1736713,"display_name":"user1736713"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1358833078,"creation_date":1358833078,"answer_id":14452217,"question_id":14451976,"body_markdown":"Probably you can write a custom comparator to compare the Date Strings and order based on the requirement. Then you would be able to sort the collection with the implemented comparator.","title":"How to sort Date which is in string format in java?","body":"<p>Probably you can write a custom comparator to compare the Date Strings and order based on the requirement. Then you would be able to sort the collection with the implemented comparator.</p>\n"},{"tags":[],"owner":{"account_id":2123179,"reputation":10922,"user_id":1886012,"display_name":"bowmore"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1539416128,"creation_date":1358834594,"answer_id":14452493,"question_id":14451976,"body_markdown":"While there is a technical way to get around your problem, the basic mistake is to represent `Date`s as `String`s, a form of &#39;primitive obsession&#39;.\r\nIf you have textual input, convert it to [`java.util.Date`][1] or an appropriate joda class ([`LocalDateTime`][2] seems appropriate here). These classes implement `Comparable` out of the box, and sorting them is easy. But they also have all the other logic on board you&#39;re likely to need when manipulting date/time instances, Strings do not.\r\n\r\n***Update***\r\n\r\nSince java 8 I&#39;d hihgly recommend using its [LocalDateTime][3] class instead.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Date.html\r\n  [2]: http://joda-time.sourceforge.net/apidocs/org/joda/time/LocalDateTime.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html","title":"How to sort Date which is in string format in java?","body":"<p>While there is a technical way to get around your problem, the basic mistake is to represent <code>Date</code>s as <code>String</code>s, a form of 'primitive obsession'.\nIf you have textual input, convert it to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a> or an appropriate joda class (<a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a> seems appropriate here). These classes implement <code>Comparable</code> out of the box, and sorting them is easy. But they also have all the other logic on board you're likely to need when manipulting date/time instances, Strings do not.</p>\n\n<p><strong><em>Update</em></strong></p>\n\n<p>Since java 8 I'd hihgly recommend using its <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\">LocalDateTime</a> class instead.</p>\n"},{"tags":[],"owner":{"account_id":1309273,"reputation":1081,"user_id":1257622,"accept_rate":70,"display_name":"Conor Pender"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1494866823,"creation_date":1494866823,"answer_id":43984852,"question_id":14451976,"body_markdown":"One option is to add the dates to a TreeMap, with the unformatted date as the key, and the formatted date as the value. Using a TreeMap will sort the values automatically.\r\n\r\n    private ArrayList&lt;String&gt; sortDates(ArrayList&lt;String&gt; dates) throws ParseException {\r\n        SimpleDateFormat f = new SimpleDateFormat(&quot;dd MMM yyyy&quot;);\r\n        Map &lt;Date, String&gt; dateFormatMap = new TreeMap&lt;&gt;();\r\n        for (String date: dates)\r\n            dateFormatMap.put(f.parse(date), date);\r\n        return new ArrayList&lt;&gt;(dateFormatMap.values());\r\n    }","title":"How to sort Date which is in string format in java?","body":"<p>One option is to add the dates to a TreeMap, with the unformatted date as the key, and the formatted date as the value. Using a TreeMap will sort the values automatically.</p>\n\n<pre><code>private ArrayList&lt;String&gt; sortDates(ArrayList&lt;String&gt; dates) throws ParseException {\n    SimpleDateFormat f = new SimpleDateFormat(\"dd MMM yyyy\");\n    Map &lt;Date, String&gt; dateFormatMap = new TreeMap&lt;&gt;();\n    for (String date: dates)\n        dateFormatMap.put(f.parse(date), date);\n    return new ArrayList&lt;&gt;(dateFormatMap.values());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2194478,"reputation":407,"user_id":1940549,"accept_rate":93,"display_name":"Navankur Chauhan"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1516006063,"creation_date":1516006063,"answer_id":48259499,"question_id":14451976,"body_markdown":"One can compare the List of date in string format by using the compareTo as given below.\r\n\r\n    ArrayList&lt;String&gt; datestring=new ArrayList&lt;String&gt;();\r\n    datestring.add(&quot;01/21/2013 @03:13 PM&quot;);\r\n    datestring.add(&quot;01/21/2013 @04:37 PM&quot;);\r\n    datestring.add(&quot;01/21/2013 @10:41 AM&quot;);\r\n    datestring.add(&quot;01/21/2013 @10:48 AM&quot;);\r\n    datestring.add(&quot;01/22/2013 @06:16 AM&quot;);\r\n    datestring.add(&quot;01/22/2013 @06:19 AM&quot;);\r\n    datestring.add(&quot;01/21/2013 @05:19 PM&quot;);\r\n    datestring.add(&quot;01/21/2013 @05:19 PM&quot;);\r\n    \r\n    Collections.sort(datestring, new Comparator&lt;String&gt;() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic int compare(String object1, String object2) {\r\n    \t\t\t\t\treturn object1.compareTo(object2);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n\r\nBy using this you even dont have to parse the String into date","title":"How to sort Date which is in string format in java?","body":"<p>One can compare the List of date in string format by using the compareTo as given below.</p>\n\n<pre><code>ArrayList&lt;String&gt; datestring=new ArrayList&lt;String&gt;();\ndatestring.add(\"01/21/2013 @03:13 PM\");\ndatestring.add(\"01/21/2013 @04:37 PM\");\ndatestring.add(\"01/21/2013 @10:41 AM\");\ndatestring.add(\"01/21/2013 @10:48 AM\");\ndatestring.add(\"01/22/2013 @06:16 AM\");\ndatestring.add(\"01/22/2013 @06:19 AM\");\ndatestring.add(\"01/21/2013 @05:19 PM\");\ndatestring.add(\"01/21/2013 @05:19 PM\");\n\nCollections.sort(datestring, new Comparator&lt;String&gt;() {\n                @Override\n                public int compare(String object1, String object2) {\n                    return object1.compareTo(object2);\n                }\n            });\n</code></pre>\n\n<p>By using this you even dont have to parse the String into date</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1539416673,"creation_date":1539338121,"answer_id":52776978,"question_id":14451976,"body_markdown":"# *java.time*\r\n\r\nFirst, as bowmore [has already said](https://stackoverflow.com/a/14452493/5772882), you should not keep strings in your list. Instead, use instances of *java.time* classes.\r\n\r\nKeep `LocalDateTime` objects. Or `ZonedDateTime` if you know in which time zone the times are. Strings are good for presentation to the user, not for manipulation in your program such as sorting.\r\n\r\nThe following code converts your list to a `List&lt;LocalDateTime&gt;`:\r\n\r\n\t\tDateTimeFormatter formatter \r\n\t\t\t\t= DateTimeFormatter.ofPattern(&quot;MM/dd/uuuu &#39;@&#39;hh:mm a&quot;, Locale.ENGLISH);\r\n\r\n\t\tList&lt;LocalDateTime&gt; dateTimeList = datestring.stream()\r\n\t\t\t\t.map(ds -&gt; LocalDateTime.parse(ds, formatter))\r\n\t\t\t\t.collect(Collectors.toCollection(ArrayList::new));\r\n\r\nNow sorting is straightforward:\r\n\r\n    dateTimeList.sort(Comparator.naturalOrder());\r\n\r\n`LocalDateTime` have a natural order since they implement `Comparable`, so `Comparator.naturalOrder()` is fine for sorting. Another way of obtaining the same sorting is:\r\n\r\n    dateTimeList.sort(LocalDateTime::compareTo);\r\n\r\nTo present the sorted data to the user we want to format the date-times into strings, of course:\r\n\r\n    dateTimeList.forEach(ldt -&gt; System.out.println(ldt.format(formatter)));\r\n\r\nThe output is:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    01/21/2013 @10:41 AM\r\n    01/21/2013 @10:48 AM\r\n    01/21/2013 @03:13 PM\r\n    01/21/2013 @04:37 PM\r\n    01/21/2013 @05:19 PM\r\n    01/21/2013 @05:19 PM\r\n    01/22/2013 @06:16 AM\r\n    01/22/2013 @06:19 AM\r\n\r\nExcept for the semicolons and a single simple typo I believe this is precisely what you asked for.\r\n\r\n**Link:** [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use `java.time`, the modern Java date and time API that includes `LocalDateTime` and `DateTimeFormatter`.","title":"How to sort Date which is in string format in java?","body":"<h1><em>java.time</em></h1>\n\n<p>First, as bowmore <a href=\"https://stackoverflow.com/a/14452493/5772882\">has already said</a>, you should not keep strings in your list. Instead, use instances of <em>java.time</em> classes.</p>\n\n<p>Keep <code>LocalDateTime</code> objects. Or <code>ZonedDateTime</code> if you know in which time zone the times are. Strings are good for presentation to the user, not for manipulation in your program such as sorting.</p>\n\n<p>The following code converts your list to a <code>List&lt;LocalDateTime&gt;</code>:</p>\n\n<pre><code>    DateTimeFormatter formatter \n            = DateTimeFormatter.ofPattern(\"MM/dd/uuuu '@'hh:mm a\", Locale.ENGLISH);\n\n    List&lt;LocalDateTime&gt; dateTimeList = datestring.stream()\n            .map(ds -&gt; LocalDateTime.parse(ds, formatter))\n            .collect(Collectors.toCollection(ArrayList::new));\n</code></pre>\n\n<p>Now sorting is straightforward:</p>\n\n<pre><code>dateTimeList.sort(Comparator.naturalOrder());\n</code></pre>\n\n<p><code>LocalDateTime</code> have a natural order since they implement <code>Comparable</code>, so <code>Comparator.naturalOrder()</code> is fine for sorting. Another way of obtaining the same sorting is:</p>\n\n<pre><code>dateTimeList.sort(LocalDateTime::compareTo);\n</code></pre>\n\n<p>To present the sorted data to the user we want to format the date-times into strings, of course:</p>\n\n<pre><code>dateTimeList.forEach(ldt -&gt; System.out.println(ldt.format(formatter)));\n</code></pre>\n\n<p>The output is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>01/21/2013 @10:41 AM\n01/21/2013 @10:48 AM\n01/21/2013 @03:13 PM\n01/21/2013 @04:37 PM\n01/21/2013 @05:19 PM\n01/21/2013 @05:19 PM\n01/22/2013 @06:16 AM\n01/22/2013 @06:19 AM\n</code></pre>\n\n<p>Except for the semicolons and a single simple typo I believe this is precisely what you asked for.</p>\n\n<p><strong>Link:</strong> <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use <code>java.time</code>, the modern Java date and time API that includes <code>LocalDateTime</code> and <code>DateTimeFormatter</code>.</p>\n"},{"tags":[],"owner":{"account_id":14992577,"reputation":11,"user_id":10823113,"display_name":"user10823113"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656394060,"creation_date":1656393959,"answer_id":72781112,"question_id":14451976,"body_markdown":"In Your class add this.\r\n\r\n    protected LocalDateTime getTrnDateLocalFormat() {\r\n    \r\n    \t\tLocalDateTime localDateTime = LocalDateTime.parse(this.yourDate.toLowerCase(), DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy hh:mm:ss a&quot;));\r\n    \t\treturn localDateTime;\r\n    \t}\r\n    \r\n    .sorted(Comparator.comparing(YourClass::getTrnDateLocalFormat)).collect(Collectors.toList());","title":"How to sort Date which is in string format in java?","body":"<p>In Your class add this.</p>\n<pre><code>protected LocalDateTime getTrnDateLocalFormat() {\n\n        LocalDateTime localDateTime = LocalDateTime.parse(this.yourDate.toLowerCase(), DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy hh:mm:ss a&quot;));\n        return localDateTime;\n    }\n\n.sorted(Comparator.comparing(YourClass::getTrnDateLocalFormat)).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":1930544,"reputation":567,"user_id":1740005,"accept_rate":15,"display_name":"user1740005"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98097,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":14452176,"answer_count":8,"score":43,"last_activity_date":1656394060,"creation_date":1358831631,"question_id":14451976,"body_markdown":"I have an `arraylist` with string values like\r\n\r\n\r\n    ArrayList&lt;String&gt; datestring=new ArrayList&lt;String&gt;();\r\n    datestring.add(&quot;01/21/2013 @03:13 PM&quot;);\r\n    datestring.add(&quot;01/21/2013 @04:37 PM&quot;);\r\n    datestring.add(&quot;01/21/2013 @10:41 AM&quot;);\r\n    datestring.add(&quot;01/21/2013 @10:48 AM&quot;);\r\n    datestring.add(&quot;01/22/2013 @06:16 AM&quot;);\r\n    datestring.add(&quot;01/22/2013 @06:19 AM&quot;);\r\n    datestring.add(&quot;01/21/2013 @05:19 PM&quot;);\r\n    datestring.add(&quot;01/21/2013 @05:19 PM&quot;);\r\n\r\nCan any body help me on sorting the above list? So that the values are sorted according to AM and PM format.  \r\nThe expected output after sorting should be\r\n\r\n    for (String s : datestring)\r\n    {\r\n        System.out.println(s);\r\n    }\r\n\r\n.\r\n    \r\n    01/21/2013 @10:41 AM;\r\n    01/21/2013 @10:48 AM;\r\n    01/21/2013 @03:13 PM;\r\n    01/21/2013 @04:37 PM;\r\n    01/21/2013 @05:16 PM;\r\n    01/21/2013 @05:19 PM;\r\n    01/22/2013 @06:16 AM;\r\n    01/22/2013 @06:19 AM;","title":"How to sort Date which is in string format in java?","body":"<p>I have an <code>arraylist</code> with string values like</p>\n\n<pre><code>ArrayList&lt;String&gt; datestring=new ArrayList&lt;String&gt;();\ndatestring.add(\"01/21/2013 @03:13 PM\");\ndatestring.add(\"01/21/2013 @04:37 PM\");\ndatestring.add(\"01/21/2013 @10:41 AM\");\ndatestring.add(\"01/21/2013 @10:48 AM\");\ndatestring.add(\"01/22/2013 @06:16 AM\");\ndatestring.add(\"01/22/2013 @06:19 AM\");\ndatestring.add(\"01/21/2013 @05:19 PM\");\ndatestring.add(\"01/21/2013 @05:19 PM\");\n</code></pre>\n\n<p>Can any body help me on sorting the above list? So that the values are sorted according to AM and PM format.<br>\nThe expected output after sorting should be</p>\n\n<pre><code>for (String s : datestring)\n{\n    System.out.println(s);\n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>01/21/2013 @10:41 AM;\n01/21/2013 @10:48 AM;\n01/21/2013 @03:13 PM;\n01/21/2013 @04:37 PM;\n01/21/2013 @05:16 PM;\n01/21/2013 @05:19 PM;\n01/22/2013 @06:16 AM;\n01/22/2013 @06:19 AM;\n</code></pre>\n"},{"tags":["java","slf4j"],"comments":[{"owner":{"account_id":12796047,"reputation":1,"user_id":9258990,"display_name":"Drewno90"},"score":2,"creation_date":1656364609,"post_id":72777684,"comment_id":128549795,"body_markdown":"check solutions from here - [https://stackoverflow.com/questions/58738476/disable-debug-level-logs-in-logback-xml-keeping-info-and-error-level-logs](https://stackoverflow.com/questions/58738476/disable-debug-level-logs-in-logback-xml-keeping-info-and-error-level-logs)","body":"check solutions from here - <a href=\"https://stackoverflow.com/questions/58738476/disable-debug-level-logs-in-logback-xml-keeping-info-and-error-level-logs\">https://stackoverflow.com/questions/58738476/disable-debug-l&zwnj;&#8203;evel-logs-in-logback&zwnj;&#8203;-xml-keeping-info-an&zwnj;&#8203;d-error-level-logs</a>"}],"answers":[{"tags":[],"owner":{"account_id":2534270,"reputation":878,"user_id":2201814,"accept_rate":44,"display_name":"MHSaffari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656393600,"creation_date":1656393600,"answer_id":72781071,"question_id":72777684,"body_markdown":"Remove below part from your code:\r\n\r\n```xml\r\n&lt;root level=&quot;debug&quot;&gt;\r\n    &lt;/root&gt;\r\n```\r\n\r\nBelow picture shows which level contains other levels.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uQqAz.png","title":"Is there a way to disable slf4j logger&#39;s debug messages?","body":"<p>Remove below part from your code:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;root level=&quot;debug&quot;&gt;\n    &lt;/root&gt;\n</code></pre>\n<p>Below picture shows which level contains other levels.</p>\n<p><a href=\"https://i.stack.imgur.com/uQqAz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uQqAz.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19844285,"reputation":35,"user_id":14536281,"display_name":"Schorschii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656393600,"creation_date":1656359886,"question_id":72777684,"body_markdown":"I have a application using various external libraries, which mostly use slf4j as default logger. Inside my IDE I don&#39;t see any Debug-Logs in the console, how ever, when building my project it is spammed with them. I really don&#39;t need the debug messages of other people, so I&#39;m trying to find a way to disabled them completly.\r\n\r\nHere is my default logback.xml code:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} %boldCyan(%-34.-34thread) %red(%10.10X{jda.shard}) %boldGreen(%-15.-15logger{0}) %highlight(%-6level) %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    &lt;/root&gt;\r\n    &lt;root level=&quot;debug&quot;&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```","title":"Is there a way to disable slf4j logger&#39;s debug messages?","body":"<p>I have a application using various external libraries, which mostly use slf4j as default logger. Inside my IDE I don't see any Debug-Logs in the console, how ever, when building my project it is spammed with them. I really don't need the debug messages of other people, so I'm trying to find a way to disabled them completly.</p>\n<p>Here is my default logback.xml code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} %boldCyan(%-34.-34thread) %red(%10.10X{jda.shard}) %boldGreen(%-15.-15logger{0}) %highlight(%-6level) %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;info&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt;\n    &lt;root level=&quot;debug&quot;&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java","validation","apache-poi"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1380080481,"post_id":18995778,"comment_id":28062662,"body_markdown":"First rule of asking for help: Define what you mean by &quot;doesn&#39;t work&quot;.","body":"First rule of asking for help: Define what you mean by &quot;doesn&#39;t work&quot;."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1380081080,"post_id":18995778,"comment_id":28062802,"body_markdown":"Doesn&#39;t work could mean: After I save the file and open it in Excel (1) It accepts anything in that cell; (2) It accepts nothing in that cell; (3) When I type into the cell sparks shoot out from the keyboard; (4) Oh wait, you mean I have to open it in Excel first?","body":"Doesn&#39;t work could mean: After I save the file and open it in Excel (1) It accepts anything in that cell; (2) It accepts nothing in that cell; (3) When I type into the cell sparks shoot out from the keyboard; (4) Oh wait, you mean I have to open it in Excel first?"},{"owner":{"account_id":2069486,"reputation":4223,"user_id":1844263,"accept_rate":89,"display_name":"Michael &#39;Maik&#39; Ardan"},"score":0,"creation_date":1380081160,"post_id":18995778,"comment_id":28062819,"body_markdown":"It actually accepts anything","body":"It actually accepts anything"}],"answers":[{"tags":[],"owner":{"account_id":2069486,"reputation":4223,"user_id":1844263,"accept_rate":89,"display_name":"Michael &#39;Maik&#39; Ardan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656393279,"creation_date":1380091636,"answer_id":18998046,"question_id":18995778,"body_markdown":"The above code doesn&#39;t show the error whenever the user enters an invalid data.\r\n\r\n    XSSFDataValidationHelper dvHelper = new XSSFDataValidationHelper(\r\n                    destinationSheet);\r\n    XSSFDataValidationConstraint dvConstraint = (XSSFDataValidationConstraint) dvHelper\r\n                    .createIntegerConstraint(OperatorType.EQUAL, &quot;0&quot;, &quot;10&quot;);\r\n    CellRangeAddressList addressList = new CellRangeAddressList(7,\r\n                    destinationSheet.getLastRowNum() + 1, 9, destinationSheet\r\n                            .getRow(0).getLastCellNum());\r\n    XSSFDataValidation validation = (XSSFDataValidation) dvHelper\r\n                    .createValidation(dvConstraint, addressList);\r\n    \r\n    validation.setErrorStyle(ErrorStyle.STOP);\r\n    validation.createErrorBox(&quot;Error&quot;, &quot;Only numeric values are allowed&quot;);\r\n    validation.setShowErrorBox(true); // The code is missing this line\r\n    \r\n    destinationSheet.addValidationData(validation);\r\n\r\nThe implementation in XSSF is different from HSSF which on the other hand doesn&#39;t need the line `validation.setShowErrorBox(true);` to work. I&#39;ve used HSSF in my previous implementation which results to not setting the `showErrorBox` to `true`.","title":"Java - Apache POI Integer Validation","body":"<p>The above code doesn't show the error whenever the user enters an invalid data.</p>\n<pre><code>XSSFDataValidationHelper dvHelper = new XSSFDataValidationHelper(\n                destinationSheet);\nXSSFDataValidationConstraint dvConstraint = (XSSFDataValidationConstraint) dvHelper\n                .createIntegerConstraint(OperatorType.EQUAL, &quot;0&quot;, &quot;10&quot;);\nCellRangeAddressList addressList = new CellRangeAddressList(7,\n                destinationSheet.getLastRowNum() + 1, 9, destinationSheet\n                        .getRow(0).getLastCellNum());\nXSSFDataValidation validation = (XSSFDataValidation) dvHelper\n                .createValidation(dvConstraint, addressList);\n\nvalidation.setErrorStyle(ErrorStyle.STOP);\nvalidation.createErrorBox(&quot;Error&quot;, &quot;Only numeric values are allowed&quot;);\nvalidation.setShowErrorBox(true); // The code is missing this line\n\ndestinationSheet.addValidationData(validation);\n</code></pre>\n<p>The implementation in XSSF is different from HSSF which on the other hand doesn't need the line <code>validation.setShowErrorBox(true);</code> to work. I've used HSSF in my previous implementation which results to not setting the <code>showErrorBox</code> to <code>true</code>.</p>\n"}],"owner":{"account_id":2069486,"reputation":4223,"user_id":1844263,"accept_rate":89,"display_name":"Michael &#39;Maik&#39; Ardan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2768,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":18998046,"answer_count":1,"score":0,"last_activity_date":1656393279,"creation_date":1380080228,"question_id":18995778,"body_markdown":"    XSSFDataValidationHelper dvHelper = new XSSFDataValidationHelper(\r\n    \t\t\t\tdestinationSheet);\r\n    XSSFDataValidationConstraint dvConstraint = (XSSFDataValidationConstraint) dvHelper\r\n    \t\t\t\t.createIntegerConstraint(OperatorType.EQUAL, &quot;0&quot;, &quot;10&quot;);\r\n    CellRangeAddressList addressList = new CellRangeAddressList(7,\r\n    \t\t\t\tdestinationSheet.getLastRowNum() + 1, 9, destinationSheet\r\n    \t\t\t\t\t\t.getRow(0).getLastCellNum());\r\n    XSSFDataValidation validation = (XSSFDataValidation) dvHelper\r\n    \t\t\t\t.createValidation(dvConstraint, addressList);\r\n    \r\n    validation.setErrorStyle(ErrorStyle.STOP);\r\n    validation.createErrorBox(&quot;Error&quot;, &quot;Only numeric values are allowed&quot;);\r\n    \r\n    destinationSheet.addValidationData(validation);\r\n\r\nI used the code above which doesn&#39;t work and still accepts anything on the cell. If I am right, this line is the culprit.\r\n\r\n    XSSFDataValidationConstraint dvConstraint = (XSSFDataValidationConstraint) dvHelper\r\n        \t\t\t\t.createIntegerConstraint(OperatorType.EQUAL, &quot;0&quot;, &quot;10&quot;);\r\n\r\nBasically, I want the cells from the Cell range to accept only 0 and 10 and restrict alphabet character. I also tried `OperatorType.BETWEEN` but no luck.\r\n\r\nHere&#39;s my reference. [Busy Developer][1]\r\n\r\n\r\n  [1]: http://poi.apache.org/spreadsheet/quick-guide.html#Validation","title":"Java - Apache POI Integer Validation","body":"<pre><code>XSSFDataValidationHelper dvHelper = new XSSFDataValidationHelper(\n                destinationSheet);\nXSSFDataValidationConstraint dvConstraint = (XSSFDataValidationConstraint) dvHelper\n                .createIntegerConstraint(OperatorType.EQUAL, \"0\", \"10\");\nCellRangeAddressList addressList = new CellRangeAddressList(7,\n                destinationSheet.getLastRowNum() + 1, 9, destinationSheet\n                        .getRow(0).getLastCellNum());\nXSSFDataValidation validation = (XSSFDataValidation) dvHelper\n                .createValidation(dvConstraint, addressList);\n\nvalidation.setErrorStyle(ErrorStyle.STOP);\nvalidation.createErrorBox(\"Error\", \"Only numeric values are allowed\");\n\ndestinationSheet.addValidationData(validation);\n</code></pre>\n\n<p>I used the code above which doesn't work and still accepts anything on the cell. If I am right, this line is the culprit.</p>\n\n<pre><code>XSSFDataValidationConstraint dvConstraint = (XSSFDataValidationConstraint) dvHelper\n                    .createIntegerConstraint(OperatorType.EQUAL, \"0\", \"10\");\n</code></pre>\n\n<p>Basically, I want the cells from the Cell range to accept only 0 and 10 and restrict alphabet character. I also tried <code>OperatorType.BETWEEN</code> but no luck.</p>\n\n<p>Here's my reference. <a href=\"http://poi.apache.org/spreadsheet/quick-guide.html#Validation\" rel=\"nofollow\">Busy Developer</a></p>\n"},{"tags":["java","multithreading","automated-tests","sleep","web-api-testing"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1656383097,"post_id":72780090,"comment_id":128552783,"body_markdown":"`ID == falseCheck` use `equals`","body":"<code>ID == falseCheck</code> use <code>equals</code>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1656383249,"post_id":72780090,"comment_id":128552811,"body_markdown":"Modifying the object you&#39;re synchronizing is likely to cause extreme chaos.","body":"Modifying the object you&#39;re synchronizing is likely to cause extreme chaos."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1656418331,"post_id":72780090,"comment_id":128562695,"body_markdown":"@LouisWasserman, I reckon that most experienced Java developers would understand exactly what you mean. Beginners, maybe not so much. `ID&#160;=&#160;endpoint` does _not_ modify an object. It assigns a variable. One of the biggest hurdles for beginners learning Java is to learn the difference between objects and variables.","body":"@LouisWasserman, I reckon that most experienced Java developers would understand exactly what you mean. Beginners, maybe not so much. <code>ID=endpoint</code> does <i>not</i> modify an object. It assigns a variable. One of the biggest hurdles for beginners learning Java is to learn the difference between objects and variables."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1656477065,"post_id":72780090,"comment_id":128578998,"body_markdown":"Agree with other comments + answers, also want to add that it&#39;s really, really scary to see `Thread.sleep()`. There are so many ways that the timing won&#39;t work out right, and you&#39;ll have almost no chance of finding the cause.","body":"Agree with other comments + answers, also want to add that it&#39;s really, really scary to see <code>Thread.sleep()</code>. There are so many ways that the timing won&#39;t work out right, and you&#39;ll have almost no chance of finding the cause."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656392829,"creation_date":1656392829,"answer_id":72780982,"question_id":72780090,"body_markdown":"Multiple significant errors here. Your code is basically a weirdly loaded dice.\r\n\r\n&gt; ``` java\r\n&gt; String ID = &quot;&quot;;\r\n&gt; synchronized (ID) {\r\n&gt; ```\r\n\r\nYou synchronize on __the object__, not __the variable__. So, you&#39;re asking the `&quot;&quot;` object to hold a lock. Which &#39;works&#39;, but is crazy - do not lock on strings. You need to make a lock object and use the same object for all the synchronized blocks you want to &#39;gate&#39; so that only one thread can run. In other words, `synchronized(x) {CODE}` means that that thread will wait until it can obtain the lock on the object that the `x` variable points at. If it isn&#39;t locked by anything else, it will get the lock and run. Otherwise it waits until its free.\r\n\r\n&gt; ```java\r\n&gt; Object falseCheck = &quot;false&quot;;\r\n&gt; ```\r\n\r\nWhat in the blazes is this? Java has booleans. Also, `falseCheck` is a crazy name.\r\n\r\n&gt; ```java\r\n&gt; ID == falseCheck\r\n&gt; ```\r\n\r\n`==` between 2 objects does a reference identity check which isn&#39;t what you wanted here, you want an equality check; that&#39;d be `ID.equals(falseCheck)`. Not that its relevant, this obviously needs to be `boolean` stuff.\r\n\r\n&gt; any ideas why the thread.sleep(1000) might not be working\r\n\r\nYour code doesn&#39;t work, there&#39;s all sorts of crazy stuff you&#39;ve done here that you haven&#39;t tested, and your first instinct is: &quot;This well documented core library function must somehow be broken&quot;. You should assume library functions aren&#39;t broken and do precisely what their documentation says they do. If you think they don&#39;t work, you&#39;re 99.9999% of the time wrong; it&#39;s your code that is broken.\r\n\r\n&gt; ```java\r\n&gt; JSONObject\r\n&gt; ```\r\n\r\nCrappy API; don&#39;t use that. Jackson or GSON.\r\n","title":"synchronized thread not implementing sleep","body":"<p>Multiple significant errors here. Your code is basically a weirdly loaded dice.</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>String ID = &quot;&quot;;\nsynchronized (ID) {\n</code></pre>\n</blockquote>\n<p>You synchronize on <strong>the object</strong>, not <strong>the variable</strong>. So, you're asking the <code>&quot;&quot;</code> object to hold a lock. Which 'works', but is crazy - do not lock on strings. You need to make a lock object and use the same object for all the synchronized blocks you want to 'gate' so that only one thread can run. In other words, <code>synchronized(x) {CODE}</code> means that that thread will wait until it can obtain the lock on the object that the <code>x</code> variable points at. If it isn't locked by anything else, it will get the lock and run. Otherwise it waits until its free.</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>Object falseCheck = &quot;false&quot;;\n</code></pre>\n</blockquote>\n<p>What in the blazes is this? Java has booleans. Also, <code>falseCheck</code> is a crazy name.</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>ID == falseCheck\n</code></pre>\n</blockquote>\n<p><code>==</code> between 2 objects does a reference identity check which isn't what you wanted here, you want an equality check; that'd be <code>ID.equals(falseCheck)</code>. Not that its relevant, this obviously needs to be <code>boolean</code> stuff.</p>\n<blockquote>\n<p>any ideas why the thread.sleep(1000) might not be working</p>\n</blockquote>\n<p>Your code doesn't work, there's all sorts of crazy stuff you've done here that you haven't tested, and your first instinct is: &quot;This well documented core library function must somehow be broken&quot;. You should assume library functions aren't broken and do precisely what their documentation says they do. If you think they don't work, you're 99.9999% of the time wrong; it's your code that is broken.</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>JSONObject\n</code></pre>\n</blockquote>\n<p>Crappy API; don't use that. Jackson or GSON.</p>\n"}],"owner":{"account_id":10505896,"reputation":91,"user_id":7743073,"display_name":"Jake"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656392829,"creation_date":1656383016,"question_id":72780090,"body_markdown":"I was encountering a race condition on some of my API tests, where I wanted to check for the existence of a user after calling a create endpoint.\r\nI created a class that checks if valid data is returned and if not retires for up to four times, this works fine locally, but I have noticed that when it&#39;s running in a pipeline it doesn&#39;t execute the thread.sleep commands.\r\n\r\n**Class created to get around the race condition**\r\n```\r\n  public static Object commonExistenceQuery(Object endpoint) throws InterruptedException {\r\n        int Counter = 0;\r\n        Object ID = &quot;&quot;;\r\n        Object falseCheck = &quot;false&quot;;\r\n\r\n        synchronized (ID) {\r\n            System.out.println(&quot;attempting to obtain Id for endpoint&quot;);\r\n            ID = endpoint;\r\n            while (ID == falseCheck) {\r\n                Thread.sleep(1000);\r\n                ID = endpoint;\r\n                Counter++;\r\n                System.out.println(&quot;Id not yet obtained, retrying attempt &quot; + Counter + &quot; of 4&quot;);\r\n                if (Counter == 4|| ID != falseCheck) {\r\n                    break;\r\n                }\r\n            }\r\n            if (Counter == 4) {\r\n                throw new ArithmeticException(&quot;ID was never obtained for endpoint, ensure successfully created&quot;);\r\n            }\r\n            else {\r\n                System.out.println(&quot;successfully called endpoint and returned a valid ID of &quot; + endpoint);\r\n                return ID;\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n**Class that finds user (called in ID=endpoint)**\r\n```\r\n    public Object findUser(Object name) throws IOException {\r\n\r\n        JSONObject failure = new JSONObject();\r\n        failure.put(&quot;check&quot;,&quot;false&quot;);\r\n\r\n        Map request = new HashMap();\r\n        Map body = new HashMap();\r\n\r\n        body.put(&quot;name&quot;, name);\r\n        body.put(&quot;business&quot;, &quot;claims&quot;);\r\n        body.put(&quot;unit&quot;, 10);\r\n        request.put(&quot;body&quot;, body);\r\n        request.put(&quot;callback&quot;, &quot;true&quot;);\r\n\r\n        Map findUser = run(userEndpoint.find, request,false);\r\n\r\n        JSONObject jsonObject = new JSONObject(findUser);\r\n        JSONObject getId = jsonObject.getJSONObject(&quot;data&quot;);\r\n        if (getId == null){\r\n            getId = failure;\r\n            // we need to convert the null to a json object in the result of a failure, to avoid a null pointer exception\r\n            System.out.println(&quot;failure to locate user ID, returning ID of &quot;+getId.get(&quot;check&quot;));\r\n            return getId.get(&quot;check&quot;);\r\n        }\r\n        else\r\n        {\r\n            return getId.get(&quot;id&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nany ideas why the thread.sleep(1000) might not be working, or ways to improve the code would be welcomed","title":"synchronized thread not implementing sleep","body":"<p>I was encountering a race condition on some of my API tests, where I wanted to check for the existence of a user after calling a create endpoint.\nI created a class that checks if valid data is returned and if not retires for up to four times, this works fine locally, but I have noticed that when it's running in a pipeline it doesn't execute the thread.sleep commands.</p>\n<p><strong>Class created to get around the race condition</strong></p>\n<pre><code>  public static Object commonExistenceQuery(Object endpoint) throws InterruptedException {\n        int Counter = 0;\n        Object ID = &quot;&quot;;\n        Object falseCheck = &quot;false&quot;;\n\n        synchronized (ID) {\n            System.out.println(&quot;attempting to obtain Id for endpoint&quot;);\n            ID = endpoint;\n            while (ID == falseCheck) {\n                Thread.sleep(1000);\n                ID = endpoint;\n                Counter++;\n                System.out.println(&quot;Id not yet obtained, retrying attempt &quot; + Counter + &quot; of 4&quot;);\n                if (Counter == 4|| ID != falseCheck) {\n                    break;\n                }\n            }\n            if (Counter == 4) {\n                throw new ArithmeticException(&quot;ID was never obtained for endpoint, ensure successfully created&quot;);\n            }\n            else {\n                System.out.println(&quot;successfully called endpoint and returned a valid ID of &quot; + endpoint);\n                return ID;\n            }\n        }\n    }\n</code></pre>\n<p><strong>Class that finds user (called in ID=endpoint)</strong></p>\n<pre><code>    public Object findUser(Object name) throws IOException {\n\n        JSONObject failure = new JSONObject();\n        failure.put(&quot;check&quot;,&quot;false&quot;);\n\n        Map request = new HashMap();\n        Map body = new HashMap();\n\n        body.put(&quot;name&quot;, name);\n        body.put(&quot;business&quot;, &quot;claims&quot;);\n        body.put(&quot;unit&quot;, 10);\n        request.put(&quot;body&quot;, body);\n        request.put(&quot;callback&quot;, &quot;true&quot;);\n\n        Map findUser = run(userEndpoint.find, request,false);\n\n        JSONObject jsonObject = new JSONObject(findUser);\n        JSONObject getId = jsonObject.getJSONObject(&quot;data&quot;);\n        if (getId == null){\n            getId = failure;\n            // we need to convert the null to a json object in the result of a failure, to avoid a null pointer exception\n            System.out.println(&quot;failure to locate user ID, returning ID of &quot;+getId.get(&quot;check&quot;));\n            return getId.get(&quot;check&quot;);\n        }\n        else\n        {\n            return getId.get(&quot;id&quot;);\n        }\n    }\n</code></pre>\n<p>any ideas why the thread.sleep(1000) might not be working, or ways to improve the code would be welcomed</p>\n"},{"tags":["java","android","sql-server","session"],"answers":[{"tags":[],"owner":{"account_id":12672823,"reputation":920,"user_id":9209780,"display_name":"user311086"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656392538,"creation_date":1561900681,"answer_id":56825141,"question_id":56824973,"body_markdown":"Use the following code:\r\n\r\n    // to save  in SharedPreferences in Login\r\n    private static final String MY_PREFERENCES = &quot;MyPreference&quot;;\r\n    private SharedPreferences sharedPreferences;\r\n    sharedPreferences = getSharedPreferences(MY_PREFERENCES, MODE_PRIVATE);\r\n    SharedPreferences.Editor editor = getSharedPreferences(MY_PREFERENCES, MODE_PRIVATE).edit();\r\n    editor.putString(&quot;username&quot;, &quot;usernameValue&quot;);\r\n    editor.apply();\r\n    \r\n    //to get data from SharedPreferences in Home Page\r\n    private static final String MY_PREFERENCES = &quot;MyPreference&quot;;\r\n    private SharedPreferences sharedPreferences;\r\n    sharedPreferences = getSharedPreferences(MY_PREFERENCES, MODE_PRIVATE); \r\n    String username= SharedPreferences.getString(&quot;username&quot;, null);\r\n\r\n","title":"Saving a user session after logging in with SQL Server","body":"<p>Use the following code:</p>\n<pre><code>// to save  in SharedPreferences in Login\nprivate static final String MY_PREFERENCES = &quot;MyPreference&quot;;\nprivate SharedPreferences sharedPreferences;\nsharedPreferences = getSharedPreferences(MY_PREFERENCES, MODE_PRIVATE);\nSharedPreferences.Editor editor = getSharedPreferences(MY_PREFERENCES, MODE_PRIVATE).edit();\neditor.putString(&quot;username&quot;, &quot;usernameValue&quot;);\neditor.apply();\n\n//to get data from SharedPreferences in Home Page\nprivate static final String MY_PREFERENCES = &quot;MyPreference&quot;;\nprivate SharedPreferences sharedPreferences;\nsharedPreferences = getSharedPreferences(MY_PREFERENCES, MODE_PRIVATE); \nString username= SharedPreferences.getString(&quot;username&quot;, null);\n</code></pre>\n"}],"owner":{"account_id":15361486,"reputation":117,"user_id":11082205,"display_name":"kaname-png"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":56825141,"answer_count":1,"score":-1,"last_activity_date":1656392538,"creation_date":1561898954,"question_id":56824973,"body_markdown":"I am trying to make my application with **SQL Server**, but I do not know how to identify the user that has **logged in**, after *closing and opening the application*.\r\n\r\n**Also identify the ID** of the user who has **logged in**, *after closing and opening the application*.","title":"Saving a user session after logging in with SQL Server","body":"<p>I am trying to make my application with <strong>SQL Server</strong>, but I do not know how to identify the user that has <strong>logged in</strong>, after <em>closing and opening the application</em>.</p>\n\n<p><strong>Also identify the ID</strong> of the user who has <strong>logged in</strong>, <em>after closing and opening the application</em>.</p>\n"},{"tags":["java","pdf","bufferedimage","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1599656689,"creation_date":1473795152,"answer_id":39477677,"question_id":39477215,"body_markdown":"Obviously you need to add **Apache FontBox `2.0.2`** to your classpath, you can get it from [mvnrepository][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.pdfbox/fontbox/2.0.2","title":"PDFBox Error When Converting to BufferedImage: NoClassDefFoundError: org/apache/fontbox/FontBoxFont","body":"<p>Obviously you need to add <strong>Apache FontBox <code>2.0.2</code></strong> to your classpath, you can get it from <a href=\"https://mvnrepository.com/artifact/org.apache.pdfbox/fontbox/2.0.2\" rel=\"nofollow noreferrer\">mvnrepository</a></p>\n"},{"tags":[],"owner":{"account_id":4783927,"reputation":13,"user_id":3864976,"display_name":"cracktichi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656392525,"creation_date":1656392525,"answer_id":72780948,"question_id":39477215,"body_markdown":"I had same issue when use Apache FontBox 2.0.2 from [mvnrespoisity][1]\r\nBut when i try upgrade to laster version [2.0.26][2]. Issue has fixed. I dont know how it fix but you can try :D.\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.pdfbox/fontbox/2.0.2\r\n  [2]: https://mvnrepository.com/artifact/org.apache.pdfbox/fontbox/2.0.26","title":"PDFBox Error When Converting to BufferedImage: NoClassDefFoundError: org/apache/fontbox/FontBoxFont","body":"<p>I had same issue when use Apache FontBox 2.0.2 from <a href=\"https://mvnrepository.com/artifact/org.apache.pdfbox/fontbox/2.0.2\" rel=\"nofollow noreferrer\">mvnrespoisity</a>\nBut when i try upgrade to laster version <a href=\"https://mvnrepository.com/artifact/org.apache.pdfbox/fontbox/2.0.26\" rel=\"nofollow noreferrer\">2.0.26</a>. Issue has fixed. I dont know how it fix but you can try :D.</p>\n"}],"owner":{"account_id":3767452,"reputation":1444,"user_id":3130593,"display_name":"Shaggy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14723,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":39477677,"answer_count":2,"score":7,"last_activity_date":1656392525,"creation_date":1473793276,"question_id":39477215,"body_markdown":"I&#39;m trying to convert a PDF doc to .png files using PDFBox.  I followed [this answer](https://stackoverflow.com/questions/23326562/apache-pdfbox-convert-pdf-to-images/23327024#23327024) to get an idea of what dependencies were needed and to give me a starting point.  When I try to loop through the pages and create the `BufferedImage` I receive a `NoClassDefFoundError` error.  It&#39;s looking for `org/apache/fontbox/FontBoxFont` but through some extensive Googling I&#39;ve not found a thing about `FontBoxFont`.  Is this a separate jar that needs to be included?  What is causing this error?  The following .jar&#39;s are included in the project:\r\n\r\n    pdfbox-2.0.2.jar\r\n    levigo-jbig2-imageio-1.6.5.jar\r\n    pdfbox-tools-2.0.2.jar\r\n    jai-imageio-core-1.3.1.jar\r\n    commons-logging-1.2.jar\r\n\r\nHere is the main method:\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString sourceDir = &quot;C:/Dev/Workspace/PdfToPng/Stocks.pdf&quot;;\r\n\t\tString destinationDir = &quot;C:/Dev/Workspace/PdfToPng/pages/&quot;;\r\n\r\n\t\ttry {\r\n\t\t\tPDDocument document = PDDocument.load(new File(sourceDir));\r\n\t\t\tPDFRenderer pdfRenderer = new PDFRenderer(document);\r\n\t\t\tfor(int page = 0; page &lt; document.getNumberOfPages(); ++page) {\r\n\t\t\t\tBufferedImage bim = pdfRenderer.renderImageWithDPI(page, 300, ImageType.RGB);\r\n\t\t\t\tImageIOUtil.writeImage(bim, destinationDir + (page+1) + &quot;.png&quot;, 300);\r\n\t\t\t}\r\n\t\t\tdocument.close();\r\n\t\t} catch(Exception e) {\r\n\t\t\tSystem.out.println(e.getStackTrace());\r\n\t\t}\r\n\t}\r\n\r\nThe error is thrown on `BufferedImage bim = pdfRenderer.renderImageWithDPI(page, 300, ImageType.RGB);`\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/fontbox/FontBoxFont\r\n\t    at org.apache.pdfbox.pdmodel.font.PDFontFactory.createFont(PDFontFactory.java:75)\r\n    \tat org.apache.pdfbox.pdmodel.PDResources.getFont(PDResources.java:123)\r\n\t    at org.apache.pdfbox.contentstream.operator.text.SetFontAndSize.process(SetFontAndSize.java:60)\r\n    \tat org.apache.pdfbox.contentstream.PDFStreamEngine.processOperator(PDFStreamEngine.java:815)\r\n\t    at org.apache.pdfbox.contentstream.PDFStreamEngine.processStreamOperators(PDFStreamEngine.java:472)\r\n\t    at org.apache.pdfbox.contentstream.PDFStreamEngine.processStream(PDFStreamEngine.java:446)\r\n    \tat org.apache.pdfbox.contentstream.PDFStreamEngine.processPage(PDFStreamEngine.java:149)\r\n    \tat org.apache.pdfbox.rendering.PageDrawer.drawPage(PageDrawer.java:189)\r\n\t    at org.apache.pdfbox.rendering.PDFRenderer.renderPage(PDFRenderer.java:208)\r\n\t    at org.apache.pdfbox.rendering.PDFRenderer.renderImage(PDFRenderer.java:139)\r\n\t    at org.apache.pdfbox.rendering.PDFRenderer.renderImageWithDPI(PDFRenderer.java:94)\r\n\t    at PdfToPng.main(PdfToPng.java:25)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.fontbox.FontBoxFont\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n\t    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n\t    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\t... 12 more","title":"PDFBox Error When Converting to BufferedImage: NoClassDefFoundError: org/apache/fontbox/FontBoxFont","body":"<p>I'm trying to convert a PDF doc to .png files using PDFBox.  I followed <a href=\"https://stackoverflow.com/questions/23326562/apache-pdfbox-convert-pdf-to-images/23327024#23327024\">this answer</a> to get an idea of what dependencies were needed and to give me a starting point.  When I try to loop through the pages and create the <code>BufferedImage</code> I receive a <code>NoClassDefFoundError</code> error.  It's looking for <code>org/apache/fontbox/FontBoxFont</code> but through some extensive Googling I've not found a thing about <code>FontBoxFont</code>.  Is this a separate jar that needs to be included?  What is causing this error?  The following .jar's are included in the project:</p>\n\n<pre><code>pdfbox-2.0.2.jar\nlevigo-jbig2-imageio-1.6.5.jar\npdfbox-tools-2.0.2.jar\njai-imageio-core-1.3.1.jar\ncommons-logging-1.2.jar\n</code></pre>\n\n<p>Here is the main method:</p>\n\n<pre><code>public static void main(String[] args) {\n\n    String sourceDir = \"C:/Dev/Workspace/PdfToPng/Stocks.pdf\";\n    String destinationDir = \"C:/Dev/Workspace/PdfToPng/pages/\";\n\n    try {\n        PDDocument document = PDDocument.load(new File(sourceDir));\n        PDFRenderer pdfRenderer = new PDFRenderer(document);\n        for(int page = 0; page &lt; document.getNumberOfPages(); ++page) {\n            BufferedImage bim = pdfRenderer.renderImageWithDPI(page, 300, ImageType.RGB);\n            ImageIOUtil.writeImage(bim, destinationDir + (page+1) + \".png\", 300);\n        }\n        document.close();\n    } catch(Exception e) {\n        System.out.println(e.getStackTrace());\n    }\n}\n</code></pre>\n\n<p>The error is thrown on <code>BufferedImage bim = pdfRenderer.renderImageWithDPI(page, 300, ImageType.RGB);</code></p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/apache/fontbox/FontBoxFont\n    at org.apache.pdfbox.pdmodel.font.PDFontFactory.createFont(PDFontFactory.java:75)\n    at org.apache.pdfbox.pdmodel.PDResources.getFont(PDResources.java:123)\n    at org.apache.pdfbox.contentstream.operator.text.SetFontAndSize.process(SetFontAndSize.java:60)\n    at org.apache.pdfbox.contentstream.PDFStreamEngine.processOperator(PDFStreamEngine.java:815)\n    at org.apache.pdfbox.contentstream.PDFStreamEngine.processStreamOperators(PDFStreamEngine.java:472)\n    at org.apache.pdfbox.contentstream.PDFStreamEngine.processStream(PDFStreamEngine.java:446)\n    at org.apache.pdfbox.contentstream.PDFStreamEngine.processPage(PDFStreamEngine.java:149)\n    at org.apache.pdfbox.rendering.PageDrawer.drawPage(PageDrawer.java:189)\n    at org.apache.pdfbox.rendering.PDFRenderer.renderPage(PDFRenderer.java:208)\n    at org.apache.pdfbox.rendering.PDFRenderer.renderImage(PDFRenderer.java:139)\n    at org.apache.pdfbox.rendering.PDFRenderer.renderImageWithDPI(PDFRenderer.java:94)\n    at PdfToPng.main(PdfToPng.java:25)\nCaused by: java.lang.ClassNotFoundException: org.apache.fontbox.FontBoxFont\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n... 12 more\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1656373215,"post_id":72779274,"comment_id":128551455,"body_markdown":"Please show the relevant code. This issue normally happens when you try to access an inner filelresource using methods that only work for external files. To access inner files you need to use one of the getResource methods: [How to get a path to a resource in a Java JAR file](https://stackoverflow.com/questions/941754/how-to-get-a-path-to-a-resource-in-a-java-jar-file) The only reason it works in your IDE is that the files are not yet compiled so they can be accessed with normal File methods, so it&#39;s a bit of a trap for developers not aware of file loading details.","body":"Please show the relevant code. This issue normally happens when you try to access an inner filelresource using methods that only work for external files. To access inner files you need to use one of the getResource methods: <a href=\"https://stackoverflow.com/questions/941754/how-to-get-a-path-to-a-resource-in-a-java-jar-file\">How to get a path to a resource in a Java JAR file</a> The only reason it works in your IDE is that the files are not yet compiled so they can be accessed with normal File methods, so it&#39;s a bit of a trap for developers not aware of file loading details."},{"owner":{"account_id":25665431,"reputation":1,"user_id":19430497,"display_name":"Mukesh Mandal"},"score":0,"creation_date":1656391880,"post_id":72779274,"comment_id":128553977,"body_markdown":"Please see the code i have added","body":"Please see the code i have added"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1656395149,"post_id":72779274,"comment_id":128554615,"body_markdown":"You cannot upload to the classpath... When running from the IDE it is a file system based and will work, when running the jar you will be suddenly adding stuff to the jar. This will obviously not work.","body":"You cannot upload to the classpath... When running from the IDE it is a file system based and will work, when running the jar you will be suddenly adding stuff to the jar. This will obviously not work."},{"owner":{"account_id":25665431,"reputation":1,"user_id":19430497,"display_name":"Mukesh Mandal"},"score":0,"creation_date":1656446695,"post_id":72779274,"comment_id":128573412,"body_markdown":"what should i do to work it properly","body":"what should i do to work it properly"}],"owner":{"account_id":25665431,"reputation":1,"user_id":19430497,"display_name":"Mukesh Mandal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656391813,"creation_date":1656372704,"question_id":72779274,"body_markdown":"java.io.FileNotFoundException: class path resource [] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/C:/Users/msi/Desktop/spring-boot-tapcell-aws-exe.jar!/BOOT-INF/classes!/\r\n\r\n\r\nIn the spring boot Application Run It works fine. But After creating jar file when I run this it shows file not found exception\r\n\r\n    \r\n@Component\r\npublic class FileUploadHealper {\r\n\t\r\n\t\r\n\t\r\n\tpublic final String UPLOAD_DIR = new ClassPathResource(&quot;/static/&quot;).getFile().getAbsolutePath();\r\n\t\t\t//new ClassPathResource(&quot;static&quot;).getFile().getAbsolutePath();\r\n\t\r\n\tpublic FileUploadHealper( ) throws IOException{\r\n\t\t\r\n\t}\r\n\t@Getter\r\n\t@Setter\r\n\tprivate long currDatefile;\r\n\t\r\n\tpublic Boolean uploadProFile(MultipartFile multipartFile,String roll) {\r\n\t\tinitFewDirectory();\r\n\t\tcreateStudentRollDirectory(roll);\r\n\t\tDate date = new Date();\r\n\t\tlong currDate = date.getTime();\r\n\t\tboolean f=false;\r\n\t\r\n\t\ttry {\r\n\t\t\tSystem.out.println(&quot;hello  sir&quot;);\r\n\t\t\tFiles.copy(multipartFile.getInputStream(),Paths.get(UPLOAD_DIR+&quot;/image/students/&quot;+roll+&quot;/&quot;+File.separator+String.valueOf(currDate)+multipartFile.getOriginalFilename()) , StandardCopyOption.REPLACE_EXISTING);\r\n\t\t    f=true;\r\n\t\t    setCurrDatefile(currDate);\r\n\t\t    System.out.println(new ClassPathResource(&quot;/static/image/&quot;).getFile().getAbsolutePath());\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\treturn f;\r\n\t\t\r\n\t}\r\n\tpublic Boolean uploadNotice(MultipartFile multipartFile) {\r\n\t\tinitFewDirectory();\r\n\t\tDate date = new Date();\r\n\t\tlong currDate = date.getTime();\r\n\t\tboolean f=false;\r\n\t\r\n\t\ttry {\r\n\t\t\tFiles.copy(multipartFile.getInputStream(),Paths.get(UPLOAD_DIR+&quot;/image/notice/&quot;+File.separator+String.valueOf(currDate)+multipartFile.getOriginalFilename()) , StandardCopyOption.REPLACE_EXISTING);\r\n\t\t    f=true;\r\n\t\t    setCurrDatefile(currDate);\r\n\t\t    System.out.println(new ClassPathResource(&quot;/static/image/notice/&quot;).getFile().getAbsolutePath());\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\treturn f;\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate void createStudentRollDirectory(String roll) {\r\n\t\tString path = UPLOAD_DIR+&quot;/students/&quot;+roll;\r\n\t\tFile pathAsFile = new File(path);\r\n\r\n\t\tif (!Files.exists(Paths.get(path))) {\r\n\t\t\tSystem.out.println(&quot;success&quot;);\r\n\t\t\tpathAsFile.mkdir();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic  void initFewDirectory() {\r\n\t\tSystem.out.println(&quot;this is test&quot;);\r\n\t\tString staticpathString = null;\r\n\t\ttry {\r\n\t\t\tstaticpathString = new ClassPathResource(&quot;/static/&quot;).getFile().getAbsolutePath();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tString path[] = {staticpathString,UPLOAD_DIR,UPLOAD_DIR +&quot;/students/&quot;,UPLOAD_DIR+&quot;/notice/&quot;};\r\n\t\tfor(String x : path) {\r\n\t\tFile pathAsFile = new File(x);\r\n\r\n\t\tif (!Files.exists(Paths.get(x))) {\r\n\t\t\tSystem.out.println(&quot;success&quot;);\r\n\t\t\tpathAsFile.mkdir();\r\n\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t\r\n}\r\n","title":"After building jar file of Spring Application. It is showing file not found exception","body":"<p>java.io.FileNotFoundException: class path resource [] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/C:/Users/msi/Desktop/spring-boot-tapcell-aws-exe.jar!/BOOT-INF/classes!/</p>\n<p>In the spring boot Application Run It works fine. But After creating jar file when I run this it shows file not found exception</p>\n<p>@Component\npublic class FileUploadHealper {</p>\n<pre><code>public final String UPLOAD_DIR = new ClassPathResource(&quot;/static/&quot;).getFile().getAbsolutePath();\n        //new ClassPathResource(&quot;static&quot;).getFile().getAbsolutePath();\n\npublic FileUploadHealper( ) throws IOException{\n    \n}\n@Getter\n@Setter\nprivate long currDatefile;\n\npublic Boolean uploadProFile(MultipartFile multipartFile,String roll) {\n    initFewDirectory();\n    createStudentRollDirectory(roll);\n    Date date = new Date();\n    long currDate = date.getTime();\n    boolean f=false;\n\n    try {\n        System.out.println(&quot;hello  sir&quot;);\n        Files.copy(multipartFile.getInputStream(),Paths.get(UPLOAD_DIR+&quot;/image/students/&quot;+roll+&quot;/&quot;+File.separator+String.valueOf(currDate)+multipartFile.getOriginalFilename()) , StandardCopyOption.REPLACE_EXISTING);\n        f=true;\n        setCurrDatefile(currDate);\n        System.out.println(new ClassPathResource(&quot;/static/image/&quot;).getFile().getAbsolutePath());\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    \n    \n    return f;\n    \n}\npublic Boolean uploadNotice(MultipartFile multipartFile) {\n    initFewDirectory();\n    Date date = new Date();\n    long currDate = date.getTime();\n    boolean f=false;\n\n    try {\n        Files.copy(multipartFile.getInputStream(),Paths.get(UPLOAD_DIR+&quot;/image/notice/&quot;+File.separator+String.valueOf(currDate)+multipartFile.getOriginalFilename()) , StandardCopyOption.REPLACE_EXISTING);\n        f=true;\n        setCurrDatefile(currDate);\n        System.out.println(new ClassPathResource(&quot;/static/image/notice/&quot;).getFile().getAbsolutePath());\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    \n    \n    return f;\n    \n}\n\nprivate void createStudentRollDirectory(String roll) {\n    String path = UPLOAD_DIR+&quot;/students/&quot;+roll;\n    File pathAsFile = new File(path);\n\n    if (!Files.exists(Paths.get(path))) {\n        System.out.println(&quot;success&quot;);\n        pathAsFile.mkdir();\n    }\n}\n\npublic  void initFewDirectory() {\n    System.out.println(&quot;this is test&quot;);\n    String staticpathString = null;\n    try {\n        staticpathString = new ClassPathResource(&quot;/static/&quot;).getFile().getAbsolutePath();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    String path[] = {staticpathString,UPLOAD_DIR,UPLOAD_DIR +&quot;/students/&quot;,UPLOAD_DIR+&quot;/notice/&quot;};\n    for(String x : path) {\n    File pathAsFile = new File(x);\n\n    if (!Files.exists(Paths.get(x))) {\n        System.out.println(&quot;success&quot;);\n        pathAsFile.mkdir();\n    }\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","xml","spring"],"comments":[{"owner":{"account_id":9621752,"reputation":483,"user_id":7142748,"display_name":"jhueg"},"score":0,"creation_date":1656080094,"post_id":72745352,"comment_id":128491614,"body_markdown":"Is there a good reason you use Spring Framework (xml based) instead Spring Boot? Spring boot is much more developer friendly. Nevertheless try `@GetMapping(&quot;/&quot;)` instead and try if makes a different to use `http://localhost:8080/dogs` or `http://localhost:8080/dogs/`","body":"Is there a good reason you use Spring Framework (xml based) instead Spring Boot? Spring boot is much more developer friendly. Nevertheless try <code>@GetMapping(&quot;&#47;&quot;)</code> instead and try if makes a different to use <code>http:&#47;&#47;localhost:8080&#47;dogs</code> or <code>http:&#47;&#47;localhost:8080&#47;dogs&#47;</code>"},{"owner":{"account_id":6063952,"reputation":136,"user_id":4734929,"accept_rate":67,"display_name":"Nicolazz92"},"score":0,"creation_date":1656081553,"post_id":72745352,"comment_id":128492147,"body_markdown":"@jhueg the meaning is in researching. Your advice didn&#39;t help :(","body":"@jhueg the meaning is in researching. Your advice didn&#39;t help :("},{"owner":{"account_id":9621752,"reputation":483,"user_id":7142748,"display_name":"jhueg"},"score":1,"creation_date":1656083823,"post_id":72745352,"comment_id":128492993,"body_markdown":"Just wanted to be sure that you are aware of Spring Boot, but i think the &quot;xml hell&quot; is your research, right?   I wish i could help, but I&#39;m glad I never had to work with the &quot;old&quot; Spring, sorry...","body":"Just wanted to be sure that you are aware of Spring Boot, but i think the &quot;xml hell&quot; is your research, right?   I wish i could help, but I&#39;m glad I never had to work with the &quot;old&quot; Spring, sorry..."},{"owner":{"account_id":9621752,"reputation":483,"user_id":7142748,"display_name":"jhueg"},"score":1,"creation_date":1656083851,"post_id":72745352,"comment_id":128493004,"body_markdown":"But I think baeldung.com has some good tutorials on the xml-based Spring too. Take look here maybe it helps: https://www.baeldung.com/spring-controllers","body":"But I think baeldung.com has some good tutorials on the xml-based Spring too. Take look here maybe it helps: <a href=\"https://www.baeldung.com/spring-controllers\" rel=\"nofollow noreferrer\">baeldung.com/spring-controllers</a>"},{"owner":{"account_id":6063952,"reputation":136,"user_id":4734929,"accept_rate":67,"display_name":"Nicolazz92"},"score":0,"creation_date":1656187615,"post_id":72745352,"comment_id":128512153,"body_markdown":"@jhueg omg you are right. I really didn&#39;t try to find an answer in baeldung. Thank you for your research!","body":"@jhueg omg you are right. I really didn&#39;t try to find an answer in baeldung. Thank you for your research!"}],"answers":[{"tags":[],"owner":{"account_id":6063952,"reputation":136,"user_id":4734929,"accept_rate":67,"display_name":"Nicolazz92"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656391029,"creation_date":1656391029,"answer_id":72780795,"question_id":72745352,"body_markdown":"IDEA: ```run/debug configuration -&gt; Deployement -&gt; Application Context```.\r\nIntellij Idea inserted there a full artifact name. I found my endpoints after I had inserted there just ```/```.","title":"Cannot reach endpoints in Spring App. XML config","body":"<p>IDEA: <code>run/debug configuration -&gt; Deployement -&gt; Application Context</code>.\nIntellij Idea inserted there a full artifact name. I found my endpoints after I had inserted there just <code>/</code>.</p>\n"}],"owner":{"account_id":6063952,"reputation":136,"user_id":4734929,"accept_rate":67,"display_name":"Nicolazz92"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72780795,"answer_count":1,"score":0,"last_activity_date":1656391029,"creation_date":1656079899,"question_id":72745352,"body_markdown":"I&#39;m trying to understand how Spring exactly works so I&#39;ve made a simple one-controller app. Probably I forgot something in xml configuration.\r\n\r\nweb.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n         version=&quot;3.0&quot;&gt;\r\n\r\n    &lt;listener&gt;\r\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;spring-dispatcher&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;WEB-INF/applicationContext.xml&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;spring-dispatcher&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\napplicationContext.xml:\r\n```\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n    http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    http://www.springframework.org/schema/context\r\n    http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\r\n\r\n    &lt;mvc:annotation-driven&gt;\r\n        &lt;mvc:message-converters&gt;\r\n            &lt;bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;/&gt;\r\n        &lt;/mvc:message-converters&gt;\r\n    &lt;/mvc:annotation-driven&gt;\r\n\r\n    &lt;bean class=&quot;com.example.dogsrestapplication.controller.DogsController&quot;/&gt;\r\n\r\n&lt;/beans&gt;\r\n```\r\n\r\nDogsController:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/dogs&quot;)\r\npublic class DogsController {\r\n    @GetMapping\r\n    public Collection&lt;Dog&gt; getAll() {\r\n        return DOGS.values();\r\n    }\r\n}\r\n```\r\n\r\nI got 404 in ```http://localhost:8080/dogs```. \r\n\r\n```Description The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.```\r\n\r\nWhat&#39;s wrong in my config?","title":"Cannot reach endpoints in Spring App. XML config","body":"<p>I'm trying to understand how Spring exactly works so I've made a simple one-controller app. Probably I forgot something in xml configuration.</p>\n<p>web.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\n         version=&quot;3.0&quot;&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;spring-dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;WEB-INF/applicationContext.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;spring-dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>applicationContext.xml:</p>\n<pre><code>&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/context\n    http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\n\n    &lt;mvc:annotation-driven&gt;\n        &lt;mvc:message-converters&gt;\n            &lt;bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;/&gt;\n        &lt;/mvc:message-converters&gt;\n    &lt;/mvc:annotation-driven&gt;\n\n    &lt;bean class=&quot;com.example.dogsrestapplication.controller.DogsController&quot;/&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>DogsController:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/dogs&quot;)\npublic class DogsController {\n    @GetMapping\n    public Collection&lt;Dog&gt; getAll() {\n        return DOGS.values();\n    }\n}\n</code></pre>\n<p>I got 404 in <code>http://localhost:8080/dogs</code>.</p>\n<p><code>Description The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.</code></p>\n<p>What's wrong in my config?</p>\n"},{"tags":["java","kotlin","libgdx","label","draw"],"comments":[{"owner":{"account_id":11142984,"reputation":2547,"user_id":8178842,"display_name":"Tobias"},"score":0,"creation_date":1656402167,"post_id":72780667,"comment_id":128556485,"body_markdown":"You could increase the Viewport size: `private val winViewport = StretchViewport(greaterWidht, greaterHeight)`. If the viewport is bigger, you don&#39;t need to scale down the font so much and you don&#39;t need to use the `setUseIntegerPosition` method that causes problems.","body":"You could increase the Viewport size: <code>private val winViewport = StretchViewport(greaterWidht, greaterHeight)</code>. If the viewport is bigger, you don&#39;t need to scale down the font so much and you don&#39;t need to use the <code>setUseIntegerPosition</code> method that causes problems."},{"owner":{"account_id":25666512,"reputation":1,"user_id":19431375,"display_name":"Winni Zhang"},"score":0,"creation_date":1656432818,"post_id":72780667,"comment_id":128568943,"body_markdown":"WOW!!! thank you soooo much!!! yeah, it solves the problem. I should also adjust size of other Actors on my winStage, but this solves my biggest problem!!! Thanks again :D","body":"WOW!!! thank you soooo much!!! yeah, it solves the problem. I should also adjust size of other Actors on my winStage, but this solves my biggest problem!!! Thanks again :D"}],"owner":{"account_id":25666512,"reputation":1,"user_id":19431375,"display_name":"Winni Zhang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656389708,"creation_date":1656389555,"question_id":72780667,"body_markdown":"I try to make a label to display &quot;You Win&quot; and add it to winStage, but I cannot manage to display the label correctly on winStage. Some words don&#39;t show on the screen, and if I downscale further than 0.044f, the String disappears. when I add font.setUseIntegerPositions(false) to my code, the font shows correct, but the wrong label also shows. Is there a way to get this work? (hide the wrong label or get the label shows correctly), code uses Kotlin, but very similar to java\r\n\r\n[YUW N    is the wrong label I want to remove, the correct &quot;You Win&quot; only shows when I add font.setUseIntegerPositions(false)][1]\r\n\r\n\r\nhere&#39;s the relevant code part\r\n\r\n        private val winViewport = StretchViewport(mainStage.width, mainStage.height)\r\n        val winStage = Stage(winViewport, winBatch)  \r\n        var font = BitmapFont()\r\n\r\n        var labelStyle = Label.LabelStyle()\r\n        labelStyle.font = font\r\n        labelStyle.fontColor = Color.RED\r\n\r\n        var label2 = Label(&quot;YOU WIN&quot;, labelStyle)\r\n        label2.setBounds(0f, winStage.height*2/3, winStage.width*1, winStage.height/6)\r\n         \r\n        label2.setFontScale(0.07F)   // 0.07f\r\n        font.setUseIntegerPositions(false)\r\n        label2.setWrap(false)\r\n\r\n        winStage.addActor(label2)\r\n\r\n        winStage.act(delta)\r\n        winStage.draw()\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b4WQL.png\r\n  [2]: https://i.stack.imgur.com/F7EkO.png","title":"Label doesn&#39;t scale down correctly to 0.07f, but if I use font.setUseIntegerPositions(false), it shows both label and font in libGDX","body":"<p>I try to make a label to display &quot;You Win&quot; and add it to winStage, but I cannot manage to display the label correctly on winStage. Some words don't show on the screen, and if I downscale further than 0.044f, the String disappears. when I add font.setUseIntegerPositions(false) to my code, the font shows correct, but the wrong label also shows. Is there a way to get this work? (hide the wrong label or get the label shows correctly), code uses Kotlin, but very similar to java</p>\n<p><a href=\"https://i.stack.imgur.com/b4WQL.png\" rel=\"nofollow noreferrer\">YUW N    is the wrong label I want to remove, the correct &quot;You Win&quot; only shows when I add font.setUseIntegerPositions(false)</a></p>\n<p>here's the relevant code part</p>\n<pre><code>    private val winViewport = StretchViewport(mainStage.width, mainStage.height)\n    val winStage = Stage(winViewport, winBatch)  \n    var font = BitmapFont()\n\n    var labelStyle = Label.LabelStyle()\n    labelStyle.font = font\n    labelStyle.fontColor = Color.RED\n\n    var label2 = Label(&quot;YOU WIN&quot;, labelStyle)\n    label2.setBounds(0f, winStage.height*2/3, winStage.width*1, winStage.height/6)\n     \n    label2.setFontScale(0.07F)   // 0.07f\n    font.setUseIntegerPositions(false)\n    label2.setWrap(false)\n\n    winStage.addActor(label2)\n\n    winStage.act(delta)\n    winStage.draw()\n</code></pre>\n"},{"tags":["java","http-headers","retrofit","okhttp"],"comments":[{"owner":{"account_id":2855454,"reputation":99,"user_id":2451814,"display_name":"bhosleviraj"},"score":0,"creation_date":1656387427,"post_id":72780207,"comment_id":128553345,"body_markdown":"CallAdapters might be a way, https://resilience4j.readme.io/docs/retrofit","body":"CallAdapters might be a way, <a href=\"https://resilience4j.readme.io/docs/retrofit\" rel=\"nofollow noreferrer\">resilience4j.readme.io/docs/retrofit</a>"}],"answers":[{"tags":[],"owner":{"account_id":17735,"reputation":39493,"user_id":40013,"accept_rate":75,"display_name":"Jesse Wilson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656388951,"creation_date":1656388951,"answer_id":72780616,"question_id":72780207,"body_markdown":"You can recover the function call arguments using the `Invocation` tag.\r\n\r\nhttps://square.github.io/retrofit/2.x/retrofit/retrofit2/Invocation.html\r\n\r\n```java\r\n class InvocationLogger implements Interceptor {\r\n   @Override public Response intercept(Chain chain) throws IOException {\r\n     Request request = chain.request();\r\n     Invocation invocation = request.tag(Invocation.class);\r\n     if (invocation != null) {\r\n       System.out.printf(&quot;%s.%s %s%n&quot;,\r\n           invocation.method().getDeclaringClass().getSimpleName(),\r\n           invocation.method().getName(), invocation.arguments());\r\n     }\r\n     return chain.proceed(request);\r\n   }\r\n }\r\n```","title":"Okhttp 3: How to add header based on path parameter","body":"<p>You can recover the function call arguments using the <code>Invocation</code> tag.</p>\n<p><a href=\"https://square.github.io/retrofit/2.x/retrofit/retrofit2/Invocation.html\" rel=\"nofollow noreferrer\">https://square.github.io/retrofit/2.x/retrofit/retrofit2/Invocation.html</a></p>\n<pre class=\"lang-java prettyprint-override\"><code> class InvocationLogger implements Interceptor {\n   @Override public Response intercept(Chain chain) throws IOException {\n     Request request = chain.request();\n     Invocation invocation = request.tag(Invocation.class);\n     if (invocation != null) {\n       System.out.printf(&quot;%s.%s %s%n&quot;,\n           invocation.method().getDeclaringClass().getSimpleName(),\n           invocation.method().getName(), invocation.arguments());\n     }\n     return chain.proceed(request);\n   }\n }\n</code></pre>\n"}],"owner":{"account_id":2855454,"reputation":99,"user_id":2451814,"display_name":"bhosleviraj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656388951,"creation_date":1656384336,"question_id":72780207,"body_markdown":"In Okhttp, how to add a header that is based on serviceId? \r\nOne way would be to use url segments. But that is based on index. What if the serviceId is always not at same index in the path?\r\nIs there a way to get path parameter by name? It&#39;s a wishful thinking as I couldn&#39;t find such a way anywhere.\r\n\r\nRetrofit:  \r\n\r\n    @POST(&quot;services/{serviceId}/resources/{resourceId}&quot;)\r\n    Call&lt;Resource&gt; addResourceVector(@Path(&quot;serviceId&quot;) Long serviceId,\r\n                                     @Path(&quot;resourceId&quot;) String resourceId)\r\n\r\n\r\nOkhttp Interceptor:\r\n\r\n    public class AuthHeaderInterceptor implements Interceptor {\r\n\r\n        private final TokenService tokenService;\r\n\r\n        public AuthHeaderInterceptor(TokenService tokenService) {\r\n            this.tokenService = tokenService;\r\n        }\r\n\r\n        @Override\r\n        public Response intercept(Chain chain) throws IOException {\r\n            Request originalRequest = chain.request();\r\n\r\n            Request requestWithAuthToken = originalRequest.newBuilder()\r\n                .header(HttpHeaders.AUTHORIZATION, tokenService.getToken(originalRequest.getPathParam(&quot;serviceId&quot;)) //wishful thinking\r\n                .build();\r\n            return chain.proceed(requestWithAuthToken);\r\n        }\r\n    }\r\n\r\n**Bonus:** \r\n   getToken returns CompletableFuture. Don&#39;t think about getting token at the startup and using the same throughout. \r\nThere was a proposal for async interceptor but it wasn&#39;t picked up. \r\nhttps://github.com/square/okhttp/issues/3714\r\n\r\n\r\n","title":"Okhttp 3: How to add header based on path parameter","body":"<p>In Okhttp, how to add a header that is based on serviceId?\nOne way would be to use url segments. But that is based on index. What if the serviceId is always not at same index in the path?\nIs there a way to get path parameter by name? It's a wishful thinking as I couldn't find such a way anywhere.</p>\n<p>Retrofit:</p>\n<pre><code>@POST(&quot;services/{serviceId}/resources/{resourceId}&quot;)\nCall&lt;Resource&gt; addResourceVector(@Path(&quot;serviceId&quot;) Long serviceId,\n                                 @Path(&quot;resourceId&quot;) String resourceId)\n</code></pre>\n<p>Okhttp Interceptor:</p>\n<pre><code>public class AuthHeaderInterceptor implements Interceptor {\n\n    private final TokenService tokenService;\n\n    public AuthHeaderInterceptor(TokenService tokenService) {\n        this.tokenService = tokenService;\n    }\n\n    @Override\n    public Response intercept(Chain chain) throws IOException {\n        Request originalRequest = chain.request();\n\n        Request requestWithAuthToken = originalRequest.newBuilder()\n            .header(HttpHeaders.AUTHORIZATION, tokenService.getToken(originalRequest.getPathParam(&quot;serviceId&quot;)) //wishful thinking\n            .build();\n        return chain.proceed(requestWithAuthToken);\n    }\n}\n</code></pre>\n<p><strong>Bonus:</strong>\ngetToken returns CompletableFuture. Don't think about getting token at the startup and using the same throughout.\nThere was a proposal for async interceptor but it wasn't picked up.\n<a href=\"https://github.com/square/okhttp/issues/3714\" rel=\"nofollow noreferrer\">https://github.com/square/okhttp/issues/3714</a></p>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1655501327,"post_id":72664840,"comment_id":128355721,"body_markdown":"For background, take a look at [this JSON overview](https://www.json.org/json-en.html), especially the section describing how &quot;_JSON is built on two structures_&quot;. You will see your JSON is an object (which contains an array) - but it is not itself an array.","body":"For background, take a look at <a href=\"https://www.json.org/json-en.html\" rel=\"nofollow noreferrer\">this JSON overview</a>, especially the section describing how &quot;<i>JSON is built on two structures</i>&quot;. You will see your JSON is an object (which contains an array) - but it is not itself an array."}],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656387644,"creation_date":1655500813,"answer_id":72664890,"question_id":72664840,"body_markdown":"well you are not posting an `int[]` \r\n\r\nthis is your body:\r\n\r\n```\r\n{\r\n    &quot;answer&quot;: [\r\n        2\r\n    ]\r\n}\r\n```\r\n\r\nWhich is actually a `Object` containing a `list` of `integers`\r\n\r\nso your Java object should look as follows:\r\n\r\n```\r\n// The class can be named whatever\r\npublic class Request {\r\n    \r\n    private List&lt;Integer&gt; answer;\r\n\r\n    // constructor\r\n\r\n    // getters and setters\r\n}\r\n```\r\n\r\nAnd the function should look like:\r\n\r\n```\r\npublic Result solveQuiz(@PathVariable Long id, @RequestBody Request answer){\r\n    return quizService.solveQuiz(id, answer.getAnswer());\r\n}\r\n```","title":"Spring-Boot REST API can&#39;t parse int array","body":"<p>well you are not posting an <code>int[]</code></p>\n<p>this is your body:</p>\n<pre><code>{\n    &quot;answer&quot;: [\n        2\n    ]\n}\n</code></pre>\n<p>Which is actually a <code>Object</code> containing a <code>list</code> of <code>integers</code></p>\n<p>so your Java object should look as follows:</p>\n<pre><code>// The class can be named whatever\npublic class Request {\n    \n    private List&lt;Integer&gt; answer;\n\n    // constructor\n\n    // getters and setters\n}\n</code></pre>\n<p>And the function should look like:</p>\n<pre><code>public Result solveQuiz(@PathVariable Long id, @RequestBody Request answer){\n    return quizService.solveQuiz(id, answer.getAnswer());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6025163,"reputation":46,"user_id":4731110,"display_name":"bmargoat"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1655740993,"creation_date":1655740993,"answer_id":72689895,"question_id":72664840,"body_markdown":"The int[] does need to be inside a class, but the other answer left out a critical bit of information: that class needs a no-arg constructor that has an empty body.  The default constructor works, but if you add an explicit constructor (or use Lombok&#39;s @Data), you no longer get the default. So adding a default constructor seems to be what I ultimately needed (by use of adding Lombok&#39;s \r\n@NoArgsConstructor).  Although I had tried that before, but Spring&#39;s lack of useful error info caused me to abandon it when there was another problem simultaneously.\r\n\r\nIn summary solveQuiz needed the int[] wrapped in an object. And that object needs an empty no-arg constructor (or default constructor), and Getter and Setter. (or Lombok @NoArgsConstructor)\r\n\r\n\r\nSo Here&#39;s my wrapper object:\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\npublic class AnswerArray {\r\n  @NotNull\r\n  private int[] answer;\r\n}\r\n```\r\nand my api function:\r\n```java\r\n  @PostMapping(value = &quot;/quizzes/{id}/solve&quot;)\r\n  public Result solveQuiz(@PathVariable Long id, @Valid @RequestBody AnswerArray answer){\r\n    return quizService.solveQuiz(id, answer.getAnswer());\r\n  }\r\n```\r\n\r\nThe problem may also be intellij not correctly compiling the changes, A &quot;Rebuild Project&quot; might have ultimately been the fix. ","title":"Spring-Boot REST API can&#39;t parse int array","body":"<p>The int[] does need to be inside a class, but the other answer left out a critical bit of information: that class needs a no-arg constructor that has an empty body.  The default constructor works, but if you add an explicit constructor (or use Lombok's @Data), you no longer get the default. So adding a default constructor seems to be what I ultimately needed (by use of adding Lombok's\n@NoArgsConstructor).  Although I had tried that before, but Spring's lack of useful error info caused me to abandon it when there was another problem simultaneously.</p>\n<p>In summary solveQuiz needed the int[] wrapped in an object. And that object needs an empty no-arg constructor (or default constructor), and Getter and Setter. (or Lombok @NoArgsConstructor)</p>\n<p>So Here's my wrapper object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\npublic class AnswerArray {\n  @NotNull\n  private int[] answer;\n}\n</code></pre>\n<p>and my api function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @PostMapping(value = &quot;/quizzes/{id}/solve&quot;)\n  public Result solveQuiz(@PathVariable Long id, @Valid @RequestBody AnswerArray answer){\n    return quizService.solveQuiz(id, answer.getAnswer());\n  }\n</code></pre>\n<p>The problem may also be intellij not correctly compiling the changes, A &quot;Rebuild Project&quot; might have ultimately been the fix.</p>\n"}],"owner":{"account_id":6025163,"reputation":46,"user_id":4731110,"display_name":"bmargoat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72664890,"answer_count":2,"score":-2,"last_activity_date":1656387644,"creation_date":1655500401,"question_id":72664840,"body_markdown":"I&#39;m trying to create a simple SpringBoot REST api following hyperskill.org&#39;s &quot;Web Quiz Engine&quot; project.\r\n\r\nBut the Solve endpoint refuses to work.\r\n\r\nHere&#39;s the controller: \r\n\r\n```java\r\n@CrossOrigin(origins = &quot;*&quot;)\r\n@RestController\r\n@RequestMapping(&quot;api&quot;)\r\n@Validated\r\npublic class QuizController {\r\n\r\n  //snip\r\n\r\n  @PostMapping(value = &quot;/quizzes/{id}/solve&quot;)\r\n  public Result solveQuiz(@PathVariable Long id, @RequestBody int[] answer){\r\n    return quizService.solveQuiz(id, answer);\r\n  }\r\n}\r\n```\r\n\r\nHere&#39;s my postman :\r\n[stackoverflow disallows embedding images][1]\r\n\r\nPOST http://localhost:8889/api/quizzes/1/solve?id=1\r\n\r\nBody *raw\r\n ```json\r\n{\r\n  &quot;answer&quot;: [2]\r\n}\r\n```\r\n\r\nAnd the error:\r\n&gt;org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type \\`[I\\` from Object value (token \\`JsonToken.START_OBJECT\\`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `[I` from Object value (token \\`JsonToken.START_OBJECT\\`)\r\n \r\nI get the same error when I run the provided tests. Everything works until it try&#39;s to call Solve. What&#39;s most confusing is the type \\`[I\\`.  What is going on?\r\n\r\nEdit: Tried to follow the answer below:\r\n\r\n```java\r\n  @PostMapping(value = &quot;/quizzes/{id}/solve&quot;)\r\n  public Result solveQuiz(@PathVariable Long id, @Valid @RequestBody AnswerArray answer){\r\n    return quizService.solveQuiz(id, answer.getAnswers());\r\n  }\r\n```\r\nand AnswerArray:\r\n```java\r\n@Data\r\npublic class AnswerArray {\r\n  @NotNull\r\n  private List&lt;Integer&gt; answers;\r\n}\r\n```\r\n\r\nNow the error is:\r\n&gt;Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public engine.Entities.Result engine.Controller.QuizController.solveQuiz(java.lang.Long,engine.Entities.AnswerArray): [Field error in object \\&#39;answerArray\\&#39; on field \\&#39;answers\\&#39;: rejected value [null]; codes [NotNull.answerArray.answers,NotNull.answers,NotNull.java.util.List,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [answerArray.answers,answers]; arguments []; default message [answers]]; default message [must not be null]] ]\r\n\r\nI also tried AnswerArray with an int[] and an Integer[] and also got null values. What am I missing?\r\n\r\n  [1]: https://i.stack.imgur.com/A245J.png","title":"Spring-Boot REST API can&#39;t parse int array","body":"<p>I'm trying to create a simple SpringBoot REST api following hyperskill.org's &quot;Web Quiz Engine&quot; project.</p>\n<p>But the Solve endpoint refuses to work.</p>\n<p>Here's the controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CrossOrigin(origins = &quot;*&quot;)\n@RestController\n@RequestMapping(&quot;api&quot;)\n@Validated\npublic class QuizController {\n\n  //snip\n\n  @PostMapping(value = &quot;/quizzes/{id}/solve&quot;)\n  public Result solveQuiz(@PathVariable Long id, @RequestBody int[] answer){\n    return quizService.solveQuiz(id, answer);\n  }\n}\n</code></pre>\n<p>Here's my postman :\n<a href=\"https://i.stack.imgur.com/A245J.png\" rel=\"nofollow noreferrer\">stackoverflow disallows embedding images</a></p>\n<p>POST http://localhost:8889/api/quizzes/1/solve?id=1</p>\n<p>Body *raw</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n &quot;answer&quot;: [2]\n}\n</code></pre>\n<p>And the error:</p>\n<blockquote>\n<p>org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `[I` from Object value (token `JsonToken.START_OBJECT`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type <code>[I</code> from Object value (token `JsonToken.START_OBJECT`)</p>\n</blockquote>\n<p>I get the same error when I run the provided tests. Everything works until it try's to call Solve. What's most confusing is the type `[I`.  What is going on?</p>\n<p>Edit: Tried to follow the answer below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @PostMapping(value = &quot;/quizzes/{id}/solve&quot;)\n  public Result solveQuiz(@PathVariable Long id, @Valid @RequestBody AnswerArray answer){\n    return quizService.solveQuiz(id, answer.getAnswers());\n  }\n</code></pre>\n<p>and AnswerArray:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class AnswerArray {\n  @NotNull\n  private List&lt;Integer&gt; answers;\n}\n</code></pre>\n<p>Now the error is:</p>\n<blockquote>\n<p>Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument <a href=\"https://i.stack.imgur.com/A245J.png\" rel=\"nofollow noreferrer\">1</a> in public engine.Entities.Result engine.Controller.QuizController.solveQuiz(java.lang.Long,engine.Entities.AnswerArray): [Field error in object 'answerArray' on field 'answers': rejected value [null]; codes [NotNull.answerArray.answers,NotNull.answers,NotNull.java.util.List,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [answerArray.answers,answers]; arguments []; default message [answers]]; default message [must not be null]] ]</p>\n</blockquote>\n<p>I also tried AnswerArray with an int[] and an Integer[] and also got null values. What am I missing?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1656296124,"post_id":72766077,"comment_id":128528879,"body_markdown":"Use an MVC approach, with two separate controls bound to the same property in the model.","body":"Use an MVC approach, with two separate controls bound to the same property in the model."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1656292995,"creation_date":1656292694,"answer_id":72766200,"question_id":72766077,"body_markdown":"A node can only be attached to a single parent at any given time.\r\n\r\nFrom the [Node javadoc](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html):\r\n\r\n&gt; A node may occur at most once anywhere in the scene graph. Specifically, a node must appear no more than once in all of the following: as the root node of a Scene, the children ObservableList of a Parent, or as the clip of a Node.\r\n&gt; \r\n&gt; If a program adds a child node to a Parent (including Group, Region, etc) and that node is already a child of a different Parent or the root of a Scene, the node is automatically (and silently) removed from its former parent. If a program attempts to modify the scene graph in any other way that violates the above rules, an exception is thrown, the modification attempt is ignored and the scene graph is restored to its previous state.\r\n&gt; \r\n&gt; It is possible to rearrange the structure of the scene graph, for example, to move a subtree from one location in the scene graph to another. In order to do this, one would normally remove the subtree from its old location before inserting it at the new location. However, the subtree will be automatically removed as described above if the application doesn&#39;t explicitly remove it.\r\n\r\nWhat you wish to do, simultaneously have the same node attached to two different scenes, is impossible by design.\r\n\r\n","title":"Is it possible to make one node appear in two different stages at the same time in javafx?","body":"<p>A node can only be attached to a single parent at any given time.</p>\n<p>From the <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html\" rel=\"nofollow noreferrer\">Node javadoc</a>:</p>\n<blockquote>\n<p>A node may occur at most once anywhere in the scene graph. Specifically, a node must appear no more than once in all of the following: as the root node of a Scene, the children ObservableList of a Parent, or as the clip of a Node.</p>\n<p>If a program adds a child node to a Parent (including Group, Region, etc) and that node is already a child of a different Parent or the root of a Scene, the node is automatically (and silently) removed from its former parent. If a program attempts to modify the scene graph in any other way that violates the above rules, an exception is thrown, the modification attempt is ignored and the scene graph is restored to its previous state.</p>\n<p>It is possible to rearrange the structure of the scene graph, for example, to move a subtree from one location in the scene graph to another. In order to do this, one would normally remove the subtree from its old location before inserting it at the new location. However, the subtree will be automatically removed as described above if the application doesn't explicitly remove it.</p>\n</blockquote>\n<p>What you wish to do, simultaneously have the same node attached to two different scenes, is impossible by design.</p>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656387151,"creation_date":1656358611,"answer_id":72777492,"question_id":72766077,"body_markdown":"This question is really two questions, so I will provide two answers.\r\n\r\n 1. The first question is the question from the question title, which is whether on not you can place the same node in different scenes? \r\n\r\n    * you can&#39;t, as answered in [my other answer](https://stackoverflow.com/a/72766200/1155209).\r\n\r\n 2. The second question is that, given that you can&#39;t place the same node in different stages, how do you synchronize the state of the application across multiple stages and views?\r\n\r\n    * you use a shared model as explained in this answer.\r\n\r\n**General Approach**\r\n\r\n\r\nThe answer is to apply MVC principles, similar to those outlined in:\r\n\r\n * https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\r\n\r\nWith this approach, you have a shared model class. Each view in the UI listens to the shared model and can update its view state when a change in the model is detected.  The views can also update the model, which will trigger updates on other views of the model.\r\n\r\n**Specific Theme Example**\r\n\r\nThe rest of the answer provides a concrete example of the application of a shared model state for an application-wide theme style that can be modified from multiple different UI elements.\r\n\r\nThe solution shows two windows, each with its own separate menu controls for the application:\r\n\r\n 1. A `File` menu which allows the user to quit the application.\r\n 2. A `Theme` menu which allows the user to select between a `Light` or a `Dark` theme.\r\n\r\nThe theme selection will immediately apply across all windows in the application and all radio menu items in the application will be updated to reflect the new theme.  This is accomplished through a shared Theme model class with a listenable selected theme property.  When the user selects a new theme, the shared selected theme property is updated to the new value.  Listeners on the theme property are then fired to update the UI state and theme as appropriate.\r\n\r\nMenu items in macs can be [system menu items][1] disassociated with the stage.  So, there is a line in the solution which can be uncommented if you want to use the shared system menu on a Mac (recommended).\r\n\r\nThe solution could be made more abstract and configurable to deal with additional themes or to work via interfaces to perform tasks such as registering listeners and invoking callbacks.  For example, subclassable ThemedStages or a decoration pattern could be provided that shares themeable logic, or a shared ThemeManager could be created to act as a controller to register and unregister themed stages and apply theme changes to them.  But, for this example, I tried not to make it too abstract.  Hopefully, that allows it to be easy to understand.\r\n\r\nThe example also inlines the CSS for convenience, but you can have the themes in separate stylesheets if desired.\r\n\r\nSometimes you can use binding to help support the interface of the model with the UI components.  But here, there is not a one-to-one match between the model and the UI control properties, so listeners are used instead.\r\n\r\n*Stage menus light theme*\r\n\r\n[![stage menu light theme 1][2]][2]\r\n[![stage menu light theme 2][3]][3]\r\n\r\n*Stage menus dark theme*\r\n\r\n[![stage menu dark 1][4]][4]\r\n[![stage menu dark 2][5]][5]\r\n\r\n*Mac system menu light theme*\r\n\r\n[![mac menu light][6]][6]\r\n\r\n*Mac system menu dark theme*\r\n\r\n[![mac menu dark][7]][7]\r\n\r\n**Example Code**\r\n\r\n    import javafx.application.Application;\r\n    import javafx.application.Platform;\r\n    import javafx.beans.property.*;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class ThemedMultiStageApp extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            Theme theme = new Theme();\r\n    \r\n            StageOne stageOne = new StageOne(theme);\r\n            stageOne.show();\r\n    \r\n            StageTwo stageTwo = new StageTwo(theme);\r\n            stageTwo.setX(stageOne.getX() + stageOne.getWidth() + 20);\r\n            stageTwo.setY(stageOne.getY());\r\n            stageTwo.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n    \r\n    class StageOne extends Stage {\r\n        public StageOne(Theme theme) {\r\n            StackPane view = new StackPane(\r\n                    new Button(&quot;Button One&quot;)\r\n            );\r\n    \r\n            BorderPane layout = new BorderPane();\r\n            layout.setTop(new AppMenuBar(theme));\r\n            layout.setCenter(view);\r\n    \r\n            Scene scene = new Scene(\r\n                    layout, 200, 150\r\n            );\r\n    \r\n            theme.applyTo(scene);\r\n            theme.themeProperty().addListener((observable, oldTheme, newValue) -&gt;\r\n                theme.applyTo(scene)\r\n            );\r\n    \r\n            setScene(scene);\r\n        }\r\n    }\r\n    \r\n    class StageTwo extends Stage {\r\n        public StageTwo(Theme theme) {\r\n            StackPane view = new StackPane(\r\n                    new Button(&quot;Button Two&quot;)\r\n            );\r\n    \r\n            BorderPane layout = new BorderPane();\r\n            layout.setTop(new AppMenuBar(theme));\r\n            layout.setCenter(view);\r\n    \r\n            Scene scene = new Scene(\r\n                    layout, 200, 150\r\n            );\r\n    \r\n            theme.applyTo(scene);\r\n            theme.themeProperty().addListener((observable, oldTheme, newValue) -&gt;\r\n                    theme.applyTo(scene)\r\n            );\r\n    \r\n            setScene(scene);\r\n        }\r\n    }\r\n    \r\n    class AppMenuBar extends MenuBar {\r\n        public AppMenuBar(Theme theme) {\r\n            // File menu\r\n            MenuItem exitMenuItem = new MenuItem(&quot;Exit&quot;);\r\n            exitMenuItem.setOnAction(e -&gt; Platform.exit());\r\n            Menu fileMenu = new Menu(\r\n                    &quot;File&quot;, null,\r\n                    exitMenuItem\r\n            );\r\n    \r\n            // Theme selection menu.\r\n            ToggleGroup themeToggleGroup = new ToggleGroup();\r\n    \r\n            RadioMenuItem lightThemeMenuItem = new RadioMenuItem(&quot;Light&quot;);\r\n            lightThemeMenuItem.setOnAction(e -&gt; theme.setTheme(Theme.ThemeType.LIGHT));\r\n            lightThemeMenuItem.setToggleGroup(themeToggleGroup);\r\n    \r\n            RadioMenuItem darkThemeMenuItem = new RadioMenuItem(&quot;Dark&quot;);\r\n            darkThemeMenuItem.setOnAction(e -&gt; theme.setTheme(Theme.ThemeType.DARK));\r\n            darkThemeMenuItem.setToggleGroup(themeToggleGroup);\r\n    \r\n            setThemeToggle(\r\n                    theme.getTheme(), themeToggleGroup, lightThemeMenuItem, darkThemeMenuItem\r\n            );\r\n            theme.themeProperty().addListener((observable, oldTheme, newTheme) -&gt;\r\n                    setThemeToggle(\r\n                            newTheme, themeToggleGroup, lightThemeMenuItem, darkThemeMenuItem\r\n                    )\r\n            );\r\n    \r\n            Menu themeMenu = new Menu(&quot;Theme&quot;);\r\n            themeMenu.getItems().addAll(lightThemeMenuItem, darkThemeMenuItem);\r\n    \r\n            // If you want to use the system menu bar on a Mac (recommended)\r\n            // then uncomment this line.\r\n            // Note, the useSystemMenuBar setting will have no effect on a\r\n            // platforms which do not support system menu bars (e.g. Windows).\r\n            \r\n            // setUseSystemMenuBar(true);\r\n            \r\n            getMenus().setAll(\r\n                    fileMenu, themeMenu\r\n            );\r\n            setMinSize(MenuBar.USE_PREF_SIZE, MenuBar.USE_PREF_SIZE);\r\n        }\r\n    \r\n        private void setThemeToggle(Theme.ThemeType newTheme, ToggleGroup themeToggleGroup, RadioMenuItem lightThemeMenuItem, RadioMenuItem darkThemeMenuItem) {\r\n            switch(newTheme) {\r\n                case LIGHT -&gt; themeToggleGroup.selectToggle(lightThemeMenuItem);\r\n                case DARK -&gt; themeToggleGroup.selectToggle(darkThemeMenuItem);\r\n            }\r\n        }\r\n    }\r\n    \r\n    class Theme {\r\n        public enum ThemeType {\r\n            LIGHT, DARK\r\n        }\r\n    \r\n        private static final String INDIA_INK = &quot;#383d48&quot;;\r\n    \r\n        private static final String CSS_TEMPLATE =\r\n                &quot;&quot;&quot;\r\n                data:text/css,\r\n                .root {\r\n                    -fx-font-size: 16px;\r\n                    -fx-base: %s;\r\n                }\r\n                &quot;&quot;&quot;;\r\n    \r\n        private static final String DARK_CSS =\r\n                CSS_TEMPLATE.formatted(INDIA_INK);\r\n    \r\n        private static final String LIGHT_CSS =\r\n                CSS_TEMPLATE.formatted(&quot;antiquewhite&quot;);\r\n    \r\n        private static final String[] THEME_STYLESHEETS = { LIGHT_CSS, DARK_CSS };\r\n    \r\n        private final ObjectProperty&lt;ThemeType&gt; theme = new SimpleObjectProperty&lt;&gt;(ThemeType.LIGHT);\r\n    \r\n        public ThemeType getTheme() {\r\n            return theme.get();\r\n        }\r\n    \r\n        public ObjectProperty&lt;ThemeType&gt; themeProperty() {\r\n            return theme;\r\n        }\r\n    \r\n        public void setTheme(ThemeType theme) {\r\n            this.theme.set(theme);\r\n        }\r\n    \r\n        public void applyTo(Scene scene) {\r\n            scene.getStylesheets().removeAll(THEME_STYLESHEETS);\r\n            scene.getStylesheets().add(\r\n                    switch (theme.get()) {\r\n                        case LIGHT -&gt; LIGHT_CSS;\r\n                        case DARK -&gt; DARK_CSS;\r\n                    }\r\n            );\r\n        }\r\n    }\r\n\r\n  [1]: https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/MenuBar.html#setUseSystemMenuBar(boolean)\r\n  [2]: https://i.stack.imgur.com/K5LHm.png\r\n  [3]: https://i.stack.imgur.com/J5EDP.png\r\n  [4]: https://i.stack.imgur.com/bcnba.png\r\n  [5]: https://i.stack.imgur.com/Y3MrY.png\r\n  [6]: https://i.stack.imgur.com/krozN.png\r\n  [7]: https://i.stack.imgur.com/ymcSD.png\r\n","title":"Is it possible to make one node appear in two different stages at the same time in javafx?","body":"<p>This question is really two questions, so I will provide two answers.</p>\n<ol>\n<li><p>The first question is the question from the question title, which is whether on not you can place the same node in different scenes?</p>\n<ul>\n<li>you can't, as answered in <a href=\"https://stackoverflow.com/a/72766200/1155209\">my other answer</a>.</li>\n</ul>\n</li>\n<li><p>The second question is that, given that you can't place the same node in different stages, how do you synchronize the state of the application across multiple stages and views?</p>\n<ul>\n<li>you use a shared model as explained in this answer.</li>\n</ul>\n</li>\n</ol>\n<p><strong>General Approach</strong></p>\n<p>The answer is to apply MVC principles, similar to those outlined in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">Applying MVC With JavaFx</a></li>\n</ul>\n<p>With this approach, you have a shared model class. Each view in the UI listens to the shared model and can update its view state when a change in the model is detected.  The views can also update the model, which will trigger updates on other views of the model.</p>\n<p><strong>Specific Theme Example</strong></p>\n<p>The rest of the answer provides a concrete example of the application of a shared model state for an application-wide theme style that can be modified from multiple different UI elements.</p>\n<p>The solution shows two windows, each with its own separate menu controls for the application:</p>\n<ol>\n<li>A <code>File</code> menu which allows the user to quit the application.</li>\n<li>A <code>Theme</code> menu which allows the user to select between a <code>Light</code> or a <code>Dark</code> theme.</li>\n</ol>\n<p>The theme selection will immediately apply across all windows in the application and all radio menu items in the application will be updated to reflect the new theme.  This is accomplished through a shared Theme model class with a listenable selected theme property.  When the user selects a new theme, the shared selected theme property is updated to the new value.  Listeners on the theme property are then fired to update the UI state and theme as appropriate.</p>\n<p>Menu items in macs can be <a href=\"https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/MenuBar.html#setUseSystemMenuBar(boolean)\" rel=\"nofollow noreferrer\">system menu items</a> disassociated with the stage.  So, there is a line in the solution which can be uncommented if you want to use the shared system menu on a Mac (recommended).</p>\n<p>The solution could be made more abstract and configurable to deal with additional themes or to work via interfaces to perform tasks such as registering listeners and invoking callbacks.  For example, subclassable ThemedStages or a decoration pattern could be provided that shares themeable logic, or a shared ThemeManager could be created to act as a controller to register and unregister themed stages and apply theme changes to them.  But, for this example, I tried not to make it too abstract.  Hopefully, that allows it to be easy to understand.</p>\n<p>The example also inlines the CSS for convenience, but you can have the themes in separate stylesheets if desired.</p>\n<p>Sometimes you can use binding to help support the interface of the model with the UI components.  But here, there is not a one-to-one match between the model and the UI control properties, so listeners are used instead.</p>\n<p><em>Stage menus light theme</em></p>\n<p><a href=\"https://i.stack.imgur.com/K5LHm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K5LHm.png\" alt=\"stage menu light theme 1\" /></a>\n<a href=\"https://i.stack.imgur.com/J5EDP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J5EDP.png\" alt=\"stage menu light theme 2\" /></a></p>\n<p><em>Stage menus dark theme</em></p>\n<p><a href=\"https://i.stack.imgur.com/bcnba.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bcnba.png\" alt=\"stage menu dark 1\" /></a>\n<a href=\"https://i.stack.imgur.com/Y3MrY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y3MrY.png\" alt=\"stage menu dark 2\" /></a></p>\n<p><em>Mac system menu light theme</em></p>\n<p><a href=\"https://i.stack.imgur.com/krozN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/krozN.png\" alt=\"mac menu light\" /></a></p>\n<p><em>Mac system menu dark theme</em></p>\n<p><a href=\"https://i.stack.imgur.com/ymcSD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ymcSD.png\" alt=\"mac menu dark\" /></a></p>\n<p><strong>Example Code</strong></p>\n<pre><code>import javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.beans.property.*;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\npublic class ThemedMultiStageApp extends Application {\n    @Override\n    public void start(Stage stage) throws Exception {\n        Theme theme = new Theme();\n\n        StageOne stageOne = new StageOne(theme);\n        stageOne.show();\n\n        StageTwo stageTwo = new StageTwo(theme);\n        stageTwo.setX(stageOne.getX() + stageOne.getWidth() + 20);\n        stageTwo.setY(stageOne.getY());\n        stageTwo.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n\nclass StageOne extends Stage {\n    public StageOne(Theme theme) {\n        StackPane view = new StackPane(\n                new Button(&quot;Button One&quot;)\n        );\n\n        BorderPane layout = new BorderPane();\n        layout.setTop(new AppMenuBar(theme));\n        layout.setCenter(view);\n\n        Scene scene = new Scene(\n                layout, 200, 150\n        );\n\n        theme.applyTo(scene);\n        theme.themeProperty().addListener((observable, oldTheme, newValue) -&gt;\n            theme.applyTo(scene)\n        );\n\n        setScene(scene);\n    }\n}\n\nclass StageTwo extends Stage {\n    public StageTwo(Theme theme) {\n        StackPane view = new StackPane(\n                new Button(&quot;Button Two&quot;)\n        );\n\n        BorderPane layout = new BorderPane();\n        layout.setTop(new AppMenuBar(theme));\n        layout.setCenter(view);\n\n        Scene scene = new Scene(\n                layout, 200, 150\n        );\n\n        theme.applyTo(scene);\n        theme.themeProperty().addListener((observable, oldTheme, newValue) -&gt;\n                theme.applyTo(scene)\n        );\n\n        setScene(scene);\n    }\n}\n\nclass AppMenuBar extends MenuBar {\n    public AppMenuBar(Theme theme) {\n        // File menu\n        MenuItem exitMenuItem = new MenuItem(&quot;Exit&quot;);\n        exitMenuItem.setOnAction(e -&gt; Platform.exit());\n        Menu fileMenu = new Menu(\n                &quot;File&quot;, null,\n                exitMenuItem\n        );\n\n        // Theme selection menu.\n        ToggleGroup themeToggleGroup = new ToggleGroup();\n\n        RadioMenuItem lightThemeMenuItem = new RadioMenuItem(&quot;Light&quot;);\n        lightThemeMenuItem.setOnAction(e -&gt; theme.setTheme(Theme.ThemeType.LIGHT));\n        lightThemeMenuItem.setToggleGroup(themeToggleGroup);\n\n        RadioMenuItem darkThemeMenuItem = new RadioMenuItem(&quot;Dark&quot;);\n        darkThemeMenuItem.setOnAction(e -&gt; theme.setTheme(Theme.ThemeType.DARK));\n        darkThemeMenuItem.setToggleGroup(themeToggleGroup);\n\n        setThemeToggle(\n                theme.getTheme(), themeToggleGroup, lightThemeMenuItem, darkThemeMenuItem\n        );\n        theme.themeProperty().addListener((observable, oldTheme, newTheme) -&gt;\n                setThemeToggle(\n                        newTheme, themeToggleGroup, lightThemeMenuItem, darkThemeMenuItem\n                )\n        );\n\n        Menu themeMenu = new Menu(&quot;Theme&quot;);\n        themeMenu.getItems().addAll(lightThemeMenuItem, darkThemeMenuItem);\n\n        // If you want to use the system menu bar on a Mac (recommended)\n        // then uncomment this line.\n        // Note, the useSystemMenuBar setting will have no effect on a\n        // platforms which do not support system menu bars (e.g. Windows).\n        \n        // setUseSystemMenuBar(true);\n        \n        getMenus().setAll(\n                fileMenu, themeMenu\n        );\n        setMinSize(MenuBar.USE_PREF_SIZE, MenuBar.USE_PREF_SIZE);\n    }\n\n    private void setThemeToggle(Theme.ThemeType newTheme, ToggleGroup themeToggleGroup, RadioMenuItem lightThemeMenuItem, RadioMenuItem darkThemeMenuItem) {\n        switch(newTheme) {\n            case LIGHT -&gt; themeToggleGroup.selectToggle(lightThemeMenuItem);\n            case DARK -&gt; themeToggleGroup.selectToggle(darkThemeMenuItem);\n        }\n    }\n}\n\nclass Theme {\n    public enum ThemeType {\n        LIGHT, DARK\n    }\n\n    private static final String INDIA_INK = &quot;#383d48&quot;;\n\n    private static final String CSS_TEMPLATE =\n            &quot;&quot;&quot;\n            data:text/css,\n            .root {\n                -fx-font-size: 16px;\n                -fx-base: %s;\n            }\n            &quot;&quot;&quot;;\n\n    private static final String DARK_CSS =\n            CSS_TEMPLATE.formatted(INDIA_INK);\n\n    private static final String LIGHT_CSS =\n            CSS_TEMPLATE.formatted(&quot;antiquewhite&quot;);\n\n    private static final String[] THEME_STYLESHEETS = { LIGHT_CSS, DARK_CSS };\n\n    private final ObjectProperty&lt;ThemeType&gt; theme = new SimpleObjectProperty&lt;&gt;(ThemeType.LIGHT);\n\n    public ThemeType getTheme() {\n        return theme.get();\n    }\n\n    public ObjectProperty&lt;ThemeType&gt; themeProperty() {\n        return theme;\n    }\n\n    public void setTheme(ThemeType theme) {\n        this.theme.set(theme);\n    }\n\n    public void applyTo(Scene scene) {\n        scene.getStylesheets().removeAll(THEME_STYLESHEETS);\n        scene.getStylesheets().add(\n                switch (theme.get()) {\n                    case LIGHT -&gt; LIGHT_CSS;\n                    case DARK -&gt; DARK_CSS;\n                }\n        );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25399572,"reputation":21,"user_id":19209310,"display_name":"Spencer Login"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1656387151,"creation_date":1656290908,"question_id":72766077,"body_markdown":"I want to know if there&#39;s a simple way to link the functionality of two nodes in different stages in JavaFX. \r\n\r\nIn one stage, I have a Menu containing two radioMenuItem&#39;s in a ToggleGroup together which control the theme of the app:\r\n\r\n    BorderPane mainPane = new BorderPane();\r\n    MenuBar menuBar = new MenuBar();\r\n    menuBar.setStyle(&quot;-fx-base: white&quot;);\r\n    Menu options = new Menu(&quot;Options&quot;);\r\n    MenuItem appearance = new MenuItem(&quot;Appearance&quot;);\r\n\r\n    Menu themes = new Menu(&quot;Theme&quot;);\r\n    ToggleGroup toggleGroup = new ToggleGroup();\r\n    RadioMenuItem dark = new RadioMenuItem(&quot;Dark&quot;);\r\n    dark.setToggleGroup(toggleGroup);\r\n    RadioMenuItem light = new RadioMenuItem(&quot;Light&quot;);\r\n    light.setToggleGroup(toggleGroup);\r\n    themes.getItems().addAll(dark, light);\r\n\r\n    options.getItems().addAll(appearance, themes);\r\n    menuBar.getMenus().addAll(options);\r\n    mainPane.setTop(menuBar);\r\n\r\nThis pane belongs to the Stage that opens when the app launches. When a new window opens, I want the user to be able to control the theme from that window as well. I tried adding the same items to the Pane in that Stage, but then they get removed from the Pane in this one. I  don&#39;t want to create new objects for every window, since they would be exactly the same, just in a different Pane and Stage.","title":"Is it possible to make one node appear in two different stages at the same time in javafx?","body":"<p>I want to know if there's a simple way to link the functionality of two nodes in different stages in JavaFX.</p>\n<p>In one stage, I have a Menu containing two radioMenuItem's in a ToggleGroup together which control the theme of the app:</p>\n<pre><code>BorderPane mainPane = new BorderPane();\nMenuBar menuBar = new MenuBar();\nmenuBar.setStyle(&quot;-fx-base: white&quot;);\nMenu options = new Menu(&quot;Options&quot;);\nMenuItem appearance = new MenuItem(&quot;Appearance&quot;);\n\nMenu themes = new Menu(&quot;Theme&quot;);\nToggleGroup toggleGroup = new ToggleGroup();\nRadioMenuItem dark = new RadioMenuItem(&quot;Dark&quot;);\ndark.setToggleGroup(toggleGroup);\nRadioMenuItem light = new RadioMenuItem(&quot;Light&quot;);\nlight.setToggleGroup(toggleGroup);\nthemes.getItems().addAll(dark, light);\n\noptions.getItems().addAll(appearance, themes);\nmenuBar.getMenus().addAll(options);\nmainPane.setTop(menuBar);\n</code></pre>\n<p>This pane belongs to the Stage that opens when the app launches. When a new window opens, I want the user to be able to control the theme from that window as well. I tried adding the same items to the Pane in that Stage, but then they get removed from the Pane in this one. I  don't want to create new objects for every window, since they would be exactly the same, just in a different Pane and Stage.</p>\n"},{"tags":["java","android","macos"],"answers":[{"tags":[],"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656386977,"creation_date":1656331868,"answer_id":72771883,"question_id":72771734,"body_markdown":"You declared the views but forgot to initialize them.\r\n\r\n&gt; all views are uninitialized, that&#39;s why showing null object reference\r\n\r\n**Declaration**\r\n\r\n``` java\r\nprotected EditText licznik;\r\nprotected EditText mianownik;\r\n```\r\n\r\n**Initliazation**\r\n``` java\r\nlicznik = findViewById(R.id.ID1);\r\nmianownik = findViewById(R.id.ID2);\r\n```\r\n\r\n**inflate and return view inside `onCreateView`**\r\n``` java\r\n@Nullable\r\n@Override\r\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n    View view = inflater.inflate(R.layout.YOUR_FRAGMENT, container, false);\r\n    return view;\r\n}\r\n```\r\n\r\n**initiate view inside onViewCreated**\r\n```java\r\n@Override\r\npublic void onViewCreated(View view, Bundle savedInstanceState) {\r\n  super.onViewCreated(view, savedInstanceState);\r\n  licznik = view.findViewById(R.id.ID1);\r\n  mianownik = view.findViewById(R.id.ID2);\r\n\r\n  ...\r\n}\r\n```\r\nYou can face some crashes when initializing the views inside `onCreateView` because sometimes the view is not properly initialized. So always initialize views inside `onViewCreated`.\r\n\r\n&gt; Called immediately after onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle) has returned, but before any saved state has been restored into the view. This gives subclasses a chance to initialize themselves once they know their view hierarchy has been completely created. The fragment&#39;s view hierarchy is not however attached to its parent at this point.\r\n\r\n`onViewCreated` is a make sure that the view is fully created.","title":"TextWatcher in fragment","body":"<p>You declared the views but forgot to initialize them.</p>\n<blockquote>\n<p>all views are uninitialized, that's why showing null object reference</p>\n</blockquote>\n<p><strong>Declaration</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>protected EditText licznik;\nprotected EditText mianownik;\n</code></pre>\n<p><strong>Initliazation</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>licznik = findViewById(R.id.ID1);\nmianownik = findViewById(R.id.ID2);\n</code></pre>\n<p><strong>inflate and return view inside <code>onCreateView</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Nullable\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.YOUR_FRAGMENT, container, false);\n    return view;\n}\n</code></pre>\n<p><strong>initiate view inside onViewCreated</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onViewCreated(View view, Bundle savedInstanceState) {\n  super.onViewCreated(view, savedInstanceState);\n  licznik = view.findViewById(R.id.ID1);\n  mianownik = view.findViewById(R.id.ID2);\n\n  ...\n}\n</code></pre>\n<p>You can face some crashes when initializing the views inside <code>onCreateView</code> because sometimes the view is not properly initialized. So always initialize views inside <code>onViewCreated</code>.</p>\n<blockquote>\n<p>Called immediately after onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle) has returned, but before any saved state has been restored into the view. This gives subclasses a chance to initialize themselves once they know their view hierarchy has been completely created. The fragment's view hierarchy is not however attached to its parent at this point.</p>\n</blockquote>\n<p><code>onViewCreated</code> is a make sure that the view is fully created.</p>\n"}],"owner":{"account_id":24864103,"reputation":71,"user_id":18739444,"display_name":"Greg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72771883,"answer_count":1,"score":-1,"last_activity_date":1656386977,"creation_date":1656331234,"question_id":72771734,"body_markdown":"I&#39;ve got this java file:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package com.example.tabbedapp;\r\n\r\n    import android.os.Bundle;\r\n    import android.text.Editable;\r\n    import android.text.TextUtils;\r\n    import android.text.TextWatcher;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.fragment.app.Fragment;\r\n\r\n    public class Fragment1 extends Fragment {\r\n\r\n        protected TextView ulamekLabel;\r\n        protected EditText licznik;\r\n        protected EditText mianownik;\r\n        protected TextView kUlamkowa;\r\n        protected TextView calosci;\r\n        protected TextView nLicznik;\r\n        protected TextView nMianownik;\r\n        protected TextView kreska;\r\n\r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n\r\n            licznik.addTextChangedListener(new TextWatcher() {\r\n                @Override\r\n                public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void afterTextChanged(Editable editable) {\r\n                    skracamy();\r\n                }\r\n            });\r\n\r\n            mianownik.addTextChangedListener(new TextWatcher() {\r\n                @Override\r\n                public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void afterTextChanged(Editable editable) {\r\n                    skracamy();\r\n                }\r\n            });\r\n\r\n            return inflater.inflate(R.layout.fragment1_layout, container, false);\r\n        }\r\n\r\n        private void skracamy() {\r\n            if (TextUtils.isEmpty((CharSequence) licznik) || TextUtils.isEmpty((CharSequence) mianownik)) {\r\n                calosci.setText(&quot;0&quot;);\r\n                calosci.setVisibility(View.INVISIBLE);\r\n                nLicznik.setText(&quot;0&quot;);\r\n                nLicznik.setVisibility(View.INVISIBLE);\r\n                nMianownik.setText(&quot;0&quot;);\r\n                nMianownik.setVisibility(View.INVISIBLE);\r\n                kreska.setVisibility(View.INVISIBLE);\r\n                return;\r\n            }\r\n\r\n            int a = Integer.parseInt(licznik.getText().toString());\r\n            int b = Integer.parseInt(mianownik.getText().toString());\r\n\r\n            int l = (a / NWD(a, b));//.toString().toInt();\r\n            int m = (b / NWD(a, b));//.toString().toInt();\r\n\r\n            int c = (l / m);//.toString().toInt();\r\n            int d = (l % m);//.toString().toInt();\r\n\r\n            calosci.setVisibility(View.VISIBLE);\r\n            nLicznik.setVisibility(View.VISIBLE);\r\n            nMianownik.setVisibility(View.VISIBLE);\r\n            kreska.setVisibility(View.VISIBLE);\r\n\r\n            if (c != 0 &amp;&amp; d != 0) {\r\n                calosci.setText(c);\r\n                nLicznik.setText(d);\r\n                nMianownik.setText(m);\r\n            } else if (d != 0) {\r\n                calosci.setText(&quot;&quot;);\r\n                nLicznik.setText(d);\r\n                nMianownik.setText(m);\r\n            } else {\r\n                calosci.setText(c);\r\n                nLicznik.setText(&quot;0&quot;);\r\n                nMianownik.setText(&quot;0&quot;);\r\n            }\r\n        }\r\n\r\n        int NWD(int a, int b)\r\n        {\r\n            if(b!=0)\r\n                return NWD(b,a%b);\r\n            return a;\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd ofter debug I get this error: `Attempt to invoke virtual method &#39;void android.widget.TextView.addTextChangedListener(android.text.TextWatcher)&#39; on a null object reference`. I&#39;m working on a fragment so I can&#39;t use findViewById(). Can anyone help? I just need to assign the view to a pointer eg. kreska = findViewById(R.id.kreska) but for fragments. I&#39;m new to java. This file I&#39;m actually translating from Kotlin to java but from main_activity to fragment.","title":"TextWatcher in fragment","body":"<p>I've got this java file:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package com.example.tabbedapp;\n\nimport android.os.Bundle;\nimport android.text.Editable;\nimport android.text.TextUtils;\nimport android.text.TextWatcher;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\n\npublic class Fragment1 extends Fragment {\n\n    protected TextView ulamekLabel;\n    protected EditText licznik;\n    protected EditText mianownik;\n    protected TextView kUlamkowa;\n    protected TextView calosci;\n    protected TextView nLicznik;\n    protected TextView nMianownik;\n    protected TextView kreska;\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        licznik.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n            }\n\n            @Override\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n            }\n\n            @Override\n            public void afterTextChanged(Editable editable) {\n                skracamy();\n            }\n        });\n\n        mianownik.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n            }\n\n            @Override\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n            }\n\n            @Override\n            public void afterTextChanged(Editable editable) {\n                skracamy();\n            }\n        });\n\n        return inflater.inflate(R.layout.fragment1_layout, container, false);\n    }\n\n    private void skracamy() {\n        if (TextUtils.isEmpty((CharSequence) licznik) || TextUtils.isEmpty((CharSequence) mianownik)) {\n            calosci.setText(\"0\");\n            calosci.setVisibility(View.INVISIBLE);\n            nLicznik.setText(\"0\");\n            nLicznik.setVisibility(View.INVISIBLE);\n            nMianownik.setText(\"0\");\n            nMianownik.setVisibility(View.INVISIBLE);\n            kreska.setVisibility(View.INVISIBLE);\n            return;\n        }\n\n        int a = Integer.parseInt(licznik.getText().toString());\n        int b = Integer.parseInt(mianownik.getText().toString());\n\n        int l = (a / NWD(a, b));//.toString().toInt();\n        int m = (b / NWD(a, b));//.toString().toInt();\n\n        int c = (l / m);//.toString().toInt();\n        int d = (l % m);//.toString().toInt();\n\n        calosci.setVisibility(View.VISIBLE);\n        nLicznik.setVisibility(View.VISIBLE);\n        nMianownik.setVisibility(View.VISIBLE);\n        kreska.setVisibility(View.VISIBLE);\n\n        if (c != 0 &amp;&amp; d != 0) {\n            calosci.setText(c);\n            nLicznik.setText(d);\n            nMianownik.setText(m);\n        } else if (d != 0) {\n            calosci.setText(\"\");\n            nLicznik.setText(d);\n            nMianownik.setText(m);\n        } else {\n            calosci.setText(c);\n            nLicznik.setText(\"0\");\n            nMianownik.setText(\"0\");\n        }\n    }\n\n    int NWD(int a, int b)\n    {\n        if(b!=0)\n            return NWD(b,a%b);\n        return a;\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>And ofter debug I get this error: <code>Attempt to invoke virtual method 'void android.widget.TextView.addTextChangedListener(android.text.TextWatcher)' on a null object reference</code>. I'm working on a fragment so I can't use findViewById(). Can anyone help? I just need to assign the view to a pointer eg. kreska = findViewById(R.id.kreska) but for fragments. I'm new to java. This file I'm actually translating from Kotlin to java but from main_activity to fragment.</p>\n"},{"tags":["java","spring-boot","spring-mvc","web"],"answers":[{"tags":[],"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656386706,"creation_date":1656386706,"answer_id":72780423,"question_id":72761761,"body_markdown":"You might have to set the &quot;Accept&quot; request header to the specific type you want. I&#39;d guess that otherwise Spring is just using the first one in your `produces` list. (Which you can test by reordering it.)","title":"Spring Boot: Wrong content-type when using @GetMapping{produces:...} with multiple MediaType to serve image","body":"<p>You might have to set the &quot;Accept&quot; request header to the specific type you want. I'd guess that otherwise Spring is just using the first one in your <code>produces</code> list. (Which you can test by reordering it.)</p>\n"}],"owner":{"account_id":22263938,"reputation":1,"user_id":16494999,"display_name":"NikR_Qin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656386706,"creation_date":1656247898,"question_id":72761761,"body_markdown":"I&#39;m trying to return BufferedImage in a controller like this:\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/image&quot;)\r\npublic class ImageController {\r\n    @CrossOrigin(origins = &quot;*&quot;)\r\n    @GetMapping(value = &quot;/thumb/{bookId}&quot;,produces = {MediaType.IMAGE_JPEG_VALUE, MediaType.IMAGE_GIF_VALUE, MediaType.IMAGE_PNG_VALUE})\r\n    public BufferedImage getThumb(@PathVariable(&quot;bookId&quot;) long bookId) throws IOException {\r\n        String path = this.imageMapper.findThumbPathById(bookId);\r\n        return ImageIO.read(new FileInputStream(new File(path)));\r\n    }\r\n}\r\n```\r\nand I&#39;ve registered a HttpMessageConverter:\r\n```java\r\n@Configuration\r\npublic class WebMVCConfigurer implements WebMvcConfigurer {\r\n    @Override\r\n    public void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n        converters.add(new BufferedImageHttpMessageConverter());\r\n    }\r\n}\r\n```\r\nIt worked alright serving .jpg image, but when serving .png or .gif files, I got the error below:\r\n```\r\njavax.imageio.IIOException: Bogus input colorspace\r\n\tat java.desktop/com.sun.imageio.plugins.jpeg.JPEGImageWriter.writeImage(Native Method) ~[na:na]\r\n\tat java.desktop/com.sun.imageio.plugins.jpeg.JPEGImageWriter.writeOnThread(JPEGImageWriter.java:1007) ~[na:na]\r\n\tat java.desktop/com.sun.imageio.plugins.jpeg.JPEGImageWriter.write(JPEGImageWriter.java:371) ~[na:na]\r\n\tat org.springframework.http.converter.BufferedImageHttpMessageConverter.writeInternal(BufferedImageHttpMessageConverter.java:259) ~[spring-web-5.3.20.jar:5.3.20]\r\n```\r\nThen I found in response headers that the Content-Type is still &quot;image/jpeg&quot; but not png or gif.\r\nWhat am I doing wrong and how to fix it ?\r\n","title":"Spring Boot: Wrong content-type when using @GetMapping{produces:...} with multiple MediaType to serve image","body":"<p>I'm trying to return BufferedImage in a controller like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/image&quot;)\npublic class ImageController {\n    @CrossOrigin(origins = &quot;*&quot;)\n    @GetMapping(value = &quot;/thumb/{bookId}&quot;,produces = {MediaType.IMAGE_JPEG_VALUE, MediaType.IMAGE_GIF_VALUE, MediaType.IMAGE_PNG_VALUE})\n    public BufferedImage getThumb(@PathVariable(&quot;bookId&quot;) long bookId) throws IOException {\n        String path = this.imageMapper.findThumbPathById(bookId);\n        return ImageIO.read(new FileInputStream(new File(path)));\n    }\n}\n</code></pre>\n<p>and I've registered a HttpMessageConverter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebMVCConfigurer implements WebMvcConfigurer {\n    @Override\n    public void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        converters.add(new BufferedImageHttpMessageConverter());\n    }\n}\n</code></pre>\n<p>It worked alright serving .jpg image, but when serving .png or .gif files, I got the error below:</p>\n<pre><code>javax.imageio.IIOException: Bogus input colorspace\n    at java.desktop/com.sun.imageio.plugins.jpeg.JPEGImageWriter.writeImage(Native Method) ~[na:na]\n    at java.desktop/com.sun.imageio.plugins.jpeg.JPEGImageWriter.writeOnThread(JPEGImageWriter.java:1007) ~[na:na]\n    at java.desktop/com.sun.imageio.plugins.jpeg.JPEGImageWriter.write(JPEGImageWriter.java:371) ~[na:na]\n    at org.springframework.http.converter.BufferedImageHttpMessageConverter.writeInternal(BufferedImageHttpMessageConverter.java:259) ~[spring-web-5.3.20.jar:5.3.20]\n</code></pre>\n<p>Then I found in response headers that the Content-Type is still &quot;image/jpeg&quot; but not png or gif.\nWhat am I doing wrong and how to fix it ?</p>\n"},{"tags":["java","for-loop","conditional-statements"],"comments":[{"owner":{"account_id":25534979,"reputation":1204,"user_id":19322223,"display_name":"Haoliang"},"score":2,"creation_date":1656374836,"post_id":72779215,"comment_id":128551696,"body_markdown":"Personally I&#39;d use a while loop `while (left &lt; right)`, and add `if (height[left] &lt; height[right]` condition in the while loop.","body":"Personally I&#39;d use a while loop <code>while (left &lt; right)</code>, and add <code>if (height[left] &lt; height[right]</code> condition in the while loop."},{"owner":{"account_id":19109507,"reputation":13,"user_id":13955805,"display_name":"Khatevate"},"score":0,"creation_date":1656375329,"post_id":72779215,"comment_id":128551771,"body_markdown":"Yeah, I know that&#39;s an option. I was just curious if there was something like this. It seems more elegant to me","body":"Yeah, I know that&#39;s an option. I was just curious if there was something like this. It seems more elegant to me"}],"answers":[{"tags":[],"owner":{"account_id":4407008,"reputation":44,"user_id":3591105,"display_name":"faisal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656383289,"creation_date":1656383289,"answer_id":72780118,"question_id":72779215,"body_markdown":"\r\n`For` loop is more suitable when you know no of execution times. `While` loop is more suitable when loop execution breaks based on some condition other than no of execution. \r\n\r\nAs [@Haoliang][1], suggests while is more suitable in this case vs for loop. \r\n\r\nHere slightly different `For` loop version.\r\n\r\n    for (int left = 0, right = height.length - 1; left &lt; height; ) {\r\n    \r\n        height[left] &lt; height[right] ? left++ : right--;\r\n    }\r\n\r\nAlternative `while-loop` version, which I think is less clutter  \r\n\r\n    int left = 0, right = height.length - 1;\r\n    while ( left &lt; height ) {\r\n        height[left] &lt; height[right] ? left++ : right--;\r\n    } \r\n\r\n\r\n  [1]: https://stackoverflow.com/users/19322223/haoliang","title":"Multivariable for loop with conditional increment/decrement","body":"<p><code>For</code> loop is more suitable when you know no of execution times. <code>While</code> loop is more suitable when loop execution breaks based on some condition other than no of execution.</p>\n<p>As <a href=\"https://stackoverflow.com/users/19322223/haoliang\">@Haoliang</a>, suggests while is more suitable in this case vs for loop.</p>\n<p>Here slightly different <code>For</code> loop version.</p>\n<pre><code>for (int left = 0, right = height.length - 1; left &lt; height; ) {\n\n    height[left] &lt; height[right] ? left++ : right--;\n}\n</code></pre>\n<p>Alternative <code>while-loop</code> version, which I think is less clutter</p>\n<pre><code>int left = 0, right = height.length - 1;\nwhile ( left &lt; height ) {\n    height[left] &lt; height[right] ? left++ : right--;\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656385762,"creation_date":1656385266,"answer_id":72780302,"question_id":72779215,"body_markdown":"Yes, you can do that, but I don&#39;t see why you would want to. However, to make it work, we just need to make sure that the loop uses valid statements.\r\n\r\nRemember that a `for` loop consists of:\r\n\r\n    for (initialization; termination; increment) {\r\n        statement(s)\r\n    }\r\n\r\nYour last section (the `increment`) is not a valid statement:\r\n\r\n    height[left] &lt; height[right] ? left++ : right--\r\n\r\nBut we can make it valid by assigning the result to a dummy value:\r\n\r\n    dummyValue = height[left] &lt; height[right] ? left++ : right--\r\n\r\nAnd the working result of a one line `for` loop with no contents:\r\n\r\n    int someValue  = 0;\r\n    for (int left = 0, right = height.length - 1; left &lt; height.length; someValue = height[left] &lt; height[right] ? left++ : right--);\r\n\r\nOr for the sake of showing that it works you can add some debugging:\r\n\r\n    int someValue  = 0;\r\n    for (int left = 0, right = height.length - 1; left &lt; height.length; someValue = height[left] &lt; height[right] ? left++ : right--){\r\n        //Debugging to show that it works\r\n\t    System.out.println(&quot;Left: &quot;+left+&quot; Right: &quot;+right);\r\n    }\r\n\r\nExample output when height[] = `{2,1,6,3,4,5}` before it throws an exception:\r\n\r\n    L: 0 R: 5\r\n    L: 1 R: 5\r\n    L: 2 R: 5\r\n    L: 2 R: 4\r\n    L: 2 R: 3\r\n    L: 2 R: 2\r\n    L: 2 R: 1\r\n    L: 2 R: 0\r\n\r\nNote that `left` and `right` are not accessible outside/after the `for` loop, so this usage has absolutely no meaning other than updating the value of `someValue` which has little use?\r\n\r\nIf you want to make this sort of one line `for` loop useful then change values that are declared prior to the loop, or have the loop call a method. For example below we create a method `someMethod` that replaces `height[left] &lt; height[right]` and returns the result of it, but we can also perform an action in the method:\r\n\r\n    public static void main(String[] args) {\r\n\t    int height[] = new int[]{...};\r\n\t    int someValue = 0;\r\n        //Call a method that does the any work we need\r\n        for (int left = 0, right = height.length - 1; left &lt; height.length; someValue = someMethod(height, left, right) ? left++ : right--);\r\n    }\r\n\r\n    //The method we call\r\n    static boolean someMethod(int[] height, int left, int right){\r\n    \t//Some action here\r\n        //Note that edits left and right here will not be reflected in the for loop\r\n    \t//...\r\n    \t\r\n    \t//Return the original check\r\n    \treturn height[left] &lt; height[right];\r\n    }","title":"Multivariable for loop with conditional increment/decrement","body":"<p>Yes, you can do that, but I don't see why you would want to. However, to make it work, we just need to make sure that the loop uses valid statements.</p>\n<p>Remember that a <code>for</code> loop consists of:</p>\n<pre><code>for (initialization; termination; increment) {\n    statement(s)\n}\n</code></pre>\n<p>Your last section (the <code>increment</code>) is not a valid statement:</p>\n<pre><code>height[left] &lt; height[right] ? left++ : right--\n</code></pre>\n<p>But we can make it valid by assigning the result to a dummy value:</p>\n<pre><code>dummyValue = height[left] &lt; height[right] ? left++ : right--\n</code></pre>\n<p>And the working result of a one line <code>for</code> loop with no contents:</p>\n<pre><code>int someValue  = 0;\nfor (int left = 0, right = height.length - 1; left &lt; height.length; someValue = height[left] &lt; height[right] ? left++ : right--);\n</code></pre>\n<p>Or for the sake of showing that it works you can add some debugging:</p>\n<pre><code>int someValue  = 0;\nfor (int left = 0, right = height.length - 1; left &lt; height.length; someValue = height[left] &lt; height[right] ? left++ : right--){\n    //Debugging to show that it works\n    System.out.println(&quot;Left: &quot;+left+&quot; Right: &quot;+right);\n}\n</code></pre>\n<p>Example output when height[] = <code>{2,1,6,3,4,5}</code> before it throws an exception:</p>\n<pre><code>L: 0 R: 5\nL: 1 R: 5\nL: 2 R: 5\nL: 2 R: 4\nL: 2 R: 3\nL: 2 R: 2\nL: 2 R: 1\nL: 2 R: 0\n</code></pre>\n<p>Note that <code>left</code> and <code>right</code> are not accessible outside/after the <code>for</code> loop, so this usage has absolutely no meaning other than updating the value of <code>someValue</code> which has little use?</p>\n<p>If you want to make this sort of one line <code>for</code> loop useful then change values that are declared prior to the loop, or have the loop call a method. For example below we create a method <code>someMethod</code> that replaces <code>height[left] &lt; height[right]</code> and returns the result of it, but we can also perform an action in the method:</p>\n<pre><code>public static void main(String[] args) {\n    int height[] = new int[]{...};\n    int someValue = 0;\n    //Call a method that does the any work we need\n    for (int left = 0, right = height.length - 1; left &lt; height.length; someValue = someMethod(height, left, right) ? left++ : right--);\n}\n\n//The method we call\nstatic boolean someMethod(int[] height, int left, int right){\n    //Some action here\n    //Note that edits left and right here will not be reflected in the for loop\n    //...\n    \n    //Return the original check\n    return height[left] &lt; height[right];\n}\n</code></pre>\n"}],"owner":{"account_id":19109507,"reputation":13,"user_id":13955805,"display_name":"Khatevate"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72780302,"answer_count":2,"score":1,"last_activity_date":1656385762,"creation_date":1656372102,"question_id":72779215,"body_markdown":"Is there a neat way to do something like this?\r\n\r\n            for (int left = 0, right = height.length - 1;\r\n             left &lt; height;\r\n             height[left] &lt; height[right] ? left++ : right--)\r\n\r\nI will be increasing left only if the condition is true. Otherwise, right will be decremented. I know I can do this inside the for loop and change the whole structure of the for loop around. But I was just curious if it was possible to have conditionals inside the for loop decrement/increment block.","title":"Multivariable for loop with conditional increment/decrement","body":"<p>Is there a neat way to do something like this?</p>\n<pre><code>        for (int left = 0, right = height.length - 1;\n         left &lt; height;\n         height[left] &lt; height[right] ? left++ : right--)\n</code></pre>\n<p>I will be increasing left only if the condition is true. Otherwise, right will be decremented. I know I can do this inside the for loop and change the whole structure of the for loop around. But I was just curious if it was possible to have conditionals inside the for loop decrement/increment block.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","swagger"],"comments":[{"owner":{"account_id":6482662,"reputation":677,"user_id":5019199,"display_name":"e.g78"},"score":0,"creation_date":1572953845,"post_id":58703061,"comment_id":103714821,"body_markdown":"you are using springfox, try adding &quot;/webjars/springfox-swagger-ui/**&quot; to antMatchers permitAll list","body":"you are using springfox, try adding &quot;/webjars/springfox-swagger-ui/**&quot; to antMatchers permitAll list"},{"owner":{"account_id":3333666,"reputation":2544,"user_id":2801909,"accept_rate":33,"display_name":"Vijay Nandwana"},"score":0,"creation_date":1573033414,"post_id":58703061,"comment_id":103745549,"body_markdown":"Check out this post https://stackoverflow.com/questions/53381926/swagger-ui-with-spring-security","body":"Check out this post <a href=\"https://stackoverflow.com/questions/53381926/swagger-ui-with-spring-security\" title=\"swagger ui with spring security\">stackoverflow.com/questions/53381926/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25138113,"reputation":1,"user_id":18984677,"display_name":"Gold_Jack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656385665,"creation_date":1656385665,"answer_id":72780331,"question_id":58703061,"body_markdown":"Try `httpSecurity.antMatchers(&quot;/swagger*&quot;).permitAll()` or `web.ignoring().antMatchers(&quot;/swagger*&quot;)`.\r\n\r\nI have tried `&quot;/swagger-ui.html&quot;` but it did not work. I suppose there would be a different routing strategy of swagger2. So permit all requests possessing prefix of `&quot;/swagger*&quot;` may solve the problem.","title":"Spring Security interaction with Swagger","body":"<p>Try <code>httpSecurity.antMatchers(&quot;/swagger*&quot;).permitAll()</code> or <code>web.ignoring().antMatchers(&quot;/swagger*&quot;)</code>.</p>\n<p>I have tried <code>&quot;/swagger-ui.html&quot;</code> but it did not work. I suppose there would be a different routing strategy of swagger2. So permit all requests possessing prefix of <code>&quot;/swagger*&quot;</code> may solve the problem.</p>\n"}],"owner":{"account_id":16835784,"reputation":43,"user_id":12172601,"display_name":"Gon&#231;alo Conde&#231;o"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656385665,"creation_date":1572915719,"question_id":58703061,"body_markdown":"I have an app backend that uses spring security and for the sake of documentations i&#39;m using swagger.\r\nFor some reason, this configuration isn&#39;t working. It gives me a 401 when accessing anything swagger related.\r\n\r\nThis is my security config:\r\n\r\n    @Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp.csrf().disable()\r\n\t\t\t.authorizeRequests()\r\n\t\t\t.antMatchers(&quot;/v2/**&quot;, &quot;/webjars/**&quot;, &quot;/swagger-resources/**&quot;, &quot;/swagger-ui.html&quot;).permitAll()\r\n            .antMatchers(HttpMethod.POST, &quot;/login&quot;).permitAll()\r\n            .antMatchers(HttpMethod.POST,&quot;/signup&quot;).permitAll()\r\n            .anyRequest().authenticated()\r\n            .and()\r\n            .addFilterBefore(new UserPasswordAuthenticationFilterToJWT(&quot;/login&quot;, super.authenticationManager()), BasicAuthenticationFilter.class)\r\n            .addFilterBefore(new UserPasswordSignUpFilterToJWT(&quot;/signup&quot;, users), BasicAuthenticationFilter.class)\r\n            .addFilterBefore(new JWTAuthenticationFilter(), BasicAuthenticationFilter.class);\r\n\t}\r\n\r\nand this is my swagger config:\r\n\r\n    @Bean\r\n\tpublic Docket api() {\r\n\t\treturn new Docket(DocumentationType.SWAGGER_2)\r\n\t\t\t\t.select()\r\n\t\t\t\t.apis(RequestHandlerSelectors.basePackage(&quot;com&quot;))\r\n\t\t\t\t.paths(PathSelectors.any())\r\n\t\t\t\t.build().apiInfo(info());\r\n\t}\r\n\r\nWhat isnt working here? I can&#39;t seem to figure it out","title":"Spring Security interaction with Swagger","body":"<p>I have an app backend that uses spring security and for the sake of documentations i'm using swagger.\nFor some reason, this configuration isn't working. It gives me a 401 when accessing anything swagger related.</p>\n\n<p>This is my security config:</p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable()\n        .authorizeRequests()\n        .antMatchers(\"/v2/**\", \"/webjars/**\", \"/swagger-resources/**\", \"/swagger-ui.html\").permitAll()\n        .antMatchers(HttpMethod.POST, \"/login\").permitAll()\n        .antMatchers(HttpMethod.POST,\"/signup\").permitAll()\n        .anyRequest().authenticated()\n        .and()\n        .addFilterBefore(new UserPasswordAuthenticationFilterToJWT(\"/login\", super.authenticationManager()), BasicAuthenticationFilter.class)\n        .addFilterBefore(new UserPasswordSignUpFilterToJWT(\"/signup\", users), BasicAuthenticationFilter.class)\n        .addFilterBefore(new JWTAuthenticationFilter(), BasicAuthenticationFilter.class);\n}\n</code></pre>\n\n<p>and this is my swagger config:</p>\n\n<pre><code>@Bean\npublic Docket api() {\n    return new Docket(DocumentationType.SWAGGER_2)\n            .select()\n            .apis(RequestHandlerSelectors.basePackage(\"com\"))\n            .paths(PathSelectors.any())\n            .build().apiInfo(info());\n}\n</code></pre>\n\n<p>What isnt working here? I can't seem to figure it out</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1656314420,"post_id":72764080,"comment_id":128532026,"body_markdown":"You are getting `milliseconds` so if you want seconds you can convert it by doing `long seconds = (durationMilliSeconds/ 1000) % 60;`","body":"You are getting <code>milliseconds</code> so if you want seconds you can convert it by doing <code>long seconds = (durationMilliSeconds&#47; 1000) % 60;</code>"},{"owner":{"account_id":5583416,"reputation":125,"user_id":4424628,"display_name":"Idan Cohen"},"score":0,"creation_date":1656362743,"post_id":72764080,"comment_id":128549265,"body_markdown":"Even with this calculation (don&#39;t know why you add `% 60`) the result is 18.63 and the actual video duration is 10 seconds, so it doesn&#39;t adds up. Also, when I open the video with a media player (QuickTime), the duration is 18 hours, 49 minutes and 48 seconds","body":"Even with this calculation (don&#39;t know why you add <code>% 60</code>) the result is 18.63 and the actual video duration is 10 seconds, so it doesn&#39;t adds up. Also, when I open the video with a media player (QuickTime), the duration is 18 hours, 49 minutes and 48 seconds"}],"answers":[{"tags":[],"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656384499,"creation_date":1656384499,"answer_id":72780220,"question_id":72764080,"body_markdown":"You can convert duration in valid time by doing this -\r\n\r\n`getDuration()` returns `Milliseconds`\r\n\r\n```\r\nint duration = mediaPlayer.getDuration();\r\nString validDuration = String.format(&quot;%02d min, %02d sec&quot;, \r\n    TimeUnit.MILLISECONDS.toMinutes(duration),\r\n    TimeUnit.MILLISECONDS.toSeconds(duration) - \r\n    TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(duration))\r\n);\r\n```\r\n\r\nthen you can use it where ever you want for example you use it\r\non your textview like this :\r\n\r\n```\r\ndurationTv.setText(validDuration);\r\n```\r\n","title":"Video duration is longer than recorded - Android Studio","body":"<p>You can convert duration in valid time by doing this -</p>\n<p><code>getDuration()</code> returns <code>Milliseconds</code></p>\n<pre><code>int duration = mediaPlayer.getDuration();\nString validDuration = String.format(&quot;%02d min, %02d sec&quot;, \n    TimeUnit.MILLISECONDS.toMinutes(duration),\n    TimeUnit.MILLISECONDS.toSeconds(duration) - \n    TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(duration))\n);\n</code></pre>\n<p>then you can use it where ever you want for example you use it\non your textview like this :</p>\n<pre><code>durationTv.setText(validDuration);\n</code></pre>\n"}],"owner":{"account_id":5583416,"reputation":125,"user_id":4424628,"display_name":"Idan Cohen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656384499,"creation_date":1656267018,"question_id":72764080,"body_markdown":"I&#39;m new to Android programing and I found a way for recording a video in my app.\r\n\r\nIt seems a bit odd that I recorded a video of 10 second but when I&#39;m getting its duration the length is 67818 second &#128565;\r\n\r\nThis is my code for starting a video capturing:\r\n```Java\r\npublic class UserViewActivity extends AppCompatActivity {\r\n    private static final String TAG = &quot;UserViewActivity&quot;;\r\n    private static final int CAMERA_PERMISSION_CODE = 100;\r\n\r\n    private Button btn;\r\n    private Uri videoUri;\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_user_view);\r\n\r\n        btn = findViewById(R.id.recordBtn);\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                recordVideo();\r\n            }\r\n        });\r\n    }\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; videoRecordActivityLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n                    if (result.getResultCode() == RESULT_OK) {\r\n                        Intent intent = result.getData();\r\n                        if (intent != null) {\r\n                            videoUri = intent.getData();\r\n                            MediaPlayer mp = MediaPlayer.create(UserViewActivity.this, videoUri);\r\n                            int duration = mp.getDuration(); // The value here is 67818633 millisecons for 10 second video\r\n                            mp.release();\r\n                            Log.i(TAG, &quot;Video is recorded and available at path &quot; + videoUri + &quot; with duration of &quot; + duration);\r\n                        }\r\n                    } else if (result.getResultCode() == RESULT_CANCELED) {\r\n                        Log.i(TAG, &quot;Recording video is canceled&quot;);\r\n                    } else {\r\n                        Log.w(TAG, &quot;Recording video got some error&quot;);\r\n                        Log.w(TAG, &quot;onActivityResult not supported: &quot; + result.getResultCode());\r\n                    }\r\n                }\r\n            }\r\n    );\r\n\r\n    private void recordVideo() {\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) == PackageManager.PERMISSION_DENIED) {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CAMERA, Manifest.permission.WRITE_EXTERNAL_STORAGE}, CAMERA_PERMISSION_CODE);\r\n        }\r\n        @SuppressLint(&quot;SimpleDateFormat&quot;) SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMMdd_HHmm&quot;);\r\n        String videoFileName = &quot;recordingVideo_&quot; + sdf.format(System.currentTimeMillis());\r\n        File storageDir = getApplicationContext().getExternalFilesDir(Environment.DIRECTORY_PICTURES);\r\n        File videoFile = new File(storageDir + &quot;/&quot; + videoFileName);\r\n        Uri videoUriForAddingCaptureVideo = FileProvider.getUriForFile(UserViewActivity.this,\r\n                getPackageName() + &quot;.provider&quot;,\r\n                videoFile);\r\n        Intent intent = new Intent((MediaStore.ACTION_VIDEO_CAPTURE));\r\n        intent.putExtra(MediaStore.EXTRA_OUTPUT, videoUriForAddingCaptureVideo);\r\n        videoRecordActivityLauncher.launch(intent);\r\n    }\r\n}\r\n``` \r\n\r\nCan anyone know why and how to fix it?\r\n\r\nThanks!","title":"Video duration is longer than recorded - Android Studio","body":"<p>I'm new to Android programing and I found a way for recording a video in my app.</p>\n<p>It seems a bit odd that I recorded a video of 10 second but when I'm getting its duration the length is 67818 second </p>\n<p>This is my code for starting a video capturing:</p>\n<pre><code>public class UserViewActivity extends AppCompatActivity {\n    private static final String TAG = &quot;UserViewActivity&quot;;\n    private static final int CAMERA_PERMISSION_CODE = 100;\n\n    private Button btn;\n    private Uri videoUri;\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_user_view);\n\n        btn = findViewById(R.id.recordBtn);\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                recordVideo();\n            }\n        });\n    }\n\n    ActivityResultLauncher&lt;Intent&gt; videoRecordActivityLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\n                @Override\n                public void onActivityResult(ActivityResult result) {\n                    if (result.getResultCode() == RESULT_OK) {\n                        Intent intent = result.getData();\n                        if (intent != null) {\n                            videoUri = intent.getData();\n                            MediaPlayer mp = MediaPlayer.create(UserViewActivity.this, videoUri);\n                            int duration = mp.getDuration(); // The value here is 67818633 millisecons for 10 second video\n                            mp.release();\n                            Log.i(TAG, &quot;Video is recorded and available at path &quot; + videoUri + &quot; with duration of &quot; + duration);\n                        }\n                    } else if (result.getResultCode() == RESULT_CANCELED) {\n                        Log.i(TAG, &quot;Recording video is canceled&quot;);\n                    } else {\n                        Log.w(TAG, &quot;Recording video got some error&quot;);\n                        Log.w(TAG, &quot;onActivityResult not supported: &quot; + result.getResultCode());\n                    }\n                }\n            }\n    );\n\n    private void recordVideo() {\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) == PackageManager.PERMISSION_DENIED) {\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CAMERA, Manifest.permission.WRITE_EXTERNAL_STORAGE}, CAMERA_PERMISSION_CODE);\n        }\n        @SuppressLint(&quot;SimpleDateFormat&quot;) SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMMdd_HHmm&quot;);\n        String videoFileName = &quot;recordingVideo_&quot; + sdf.format(System.currentTimeMillis());\n        File storageDir = getApplicationContext().getExternalFilesDir(Environment.DIRECTORY_PICTURES);\n        File videoFile = new File(storageDir + &quot;/&quot; + videoFileName);\n        Uri videoUriForAddingCaptureVideo = FileProvider.getUriForFile(UserViewActivity.this,\n                getPackageName() + &quot;.provider&quot;,\n                videoFile);\n        Intent intent = new Intent((MediaStore.ACTION_VIDEO_CAPTURE));\n        intent.putExtra(MediaStore.EXTRA_OUTPUT, videoUriForAddingCaptureVideo);\n        videoRecordActivityLauncher.launch(intent);\n    }\n}\n</code></pre>\n<p>Can anyone know why and how to fix it?</p>\n<p>Thanks!</p>\n"},{"tags":["java","java-8","hashmap","java-stream"],"comments":[{"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"score":0,"creation_date":1656243722,"post_id":72744797,"comment_id":128519428,"body_markdown":"is your question resolved?","body":"is your question resolved?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656078945,"creation_date":1656077937,"answer_id":72744936,"question_id":72744797,"body_markdown":"If you need to associate every *key* with `0`, the second argument of the `toMap()` needs to be a *function* returning `0`, but not the value of `0`:\r\n\r\n```\r\nMap&lt;String, Float&gt; map = list.stream()\r\n    .collect(Collectors.toMap(\r\n        Function.identity(),  // extracting a key\r\n        str -&gt; 0f,            // extracting a value\r\n        (left, right) -&gt; 0f   // resolving duplicates\r\n    ));\r\n```\r\nAlso, there&#39;s no need to use `distinct()`. Under the hood, it&#39;ll create a `LinkedHashSet` to eliminate duplicates, in case if most of the stream elements are unique and the data set is massive, it might significantly increase memory consumption.\r\n\r\nInstead, we can deal with them within the map. For that we need to add the third argument `mergeFunction`.\r\n\r\nAnd there&#39;s no need to invoke `toString()` method on a stream element which is already a string to extract a *key* of type `String`. In such cases, we can use `Function.identity()` to signify that no transformations required.","title":"How to convert a List of strings into a Map with Streams","body":"<p>If you need to associate every <em>key</em> with <code>0</code>, the second argument of the <code>toMap()</code> needs to be a <em>function</em> returning <code>0</code>, but not the value of <code>0</code>:</p>\n<pre><code>Map&lt;String, Float&gt; map = list.stream()\n    .collect(Collectors.toMap(\n        Function.identity(),  // extracting a key\n        str -&gt; 0f,            // extracting a value\n        (left, right) -&gt; 0f   // resolving duplicates\n    ));\n</code></pre>\n<p>Also, there's no need to use <code>distinct()</code>. Under the hood, it'll create a <code>LinkedHashSet</code> to eliminate duplicates, in case if most of the stream elements are unique and the data set is massive, it might significantly increase memory consumption.</p>\n<p>Instead, we can deal with them within the map. For that we need to add the third argument <code>mergeFunction</code>.</p>\n<p>And there's no need to invoke <code>toString()</code> method on a stream element which is already a string to extract a <em>key</em> of type <code>String</code>. In such cases, we can use <code>Function.identity()</code> to signify that no transformations required.</p>\n"},{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656081656,"creation_date":1656081656,"answer_id":72745731,"question_id":72744797,"body_markdown":"Another way doing the the same without using `stream`.\r\n```\r\nMap&lt;String,Float&gt; map = new HashMap&lt;String, Float&gt;();\t\t\r\nlist.forEach(s-&gt; map.computeIfAbsent(s,v-&gt;0f));\r\n```\r\n","title":"How to convert a List of strings into a Map with Streams","body":"<p>Another way doing the the same without using <code>stream</code>.</p>\n<pre><code>Map&lt;String,Float&gt; map = new HashMap&lt;String, Float&gt;();       \nlist.forEach(s-&gt; map.computeIfAbsent(s,v-&gt;0f));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":277326,"reputation":919,"user_id":2182920,"display_name":"prost&#253; lovk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656384302,"creation_date":1656278702,"answer_id":72765231,"question_id":72744797,"body_markdown":"The below works fine,\r\n```\r\n\r\nMap&lt;String, Float&gt; collect =  \r\n list.stream() .collect(Collectors\r\n     .toMap(Function.identity(),\r\n             a -&gt; 0f));\r\n\r\n","title":"How to convert a List of strings into a Map with Streams","body":"<p>The below works fine,</p>\n<pre><code>\nMap&lt;String, Float&gt; collect =  \n list.stream() .collect(Collectors\n     .toMap(Function.identity(),\n             a -&gt; 0f));\n\n</code></pre>\n"}],"owner":{"account_id":16115539,"reputation":41,"user_id":11632776,"display_name":"vlad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":785,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1656384302,"creation_date":1656077185,"question_id":72744797,"body_markdown":"I have to convert a list `List&lt;String&gt;` into a map `Map&lt;String, Float&gt;`.\r\n\r\nThe *keys* of the *map* must be strings from the *list*, and every **value** must be `0` (zero) for all *keys*.\r\n\r\nHow can I convert this?\r\n\r\nI&#39;ve tried: \r\n```java\r\nList&lt;String&gt; list = List.of(&quot;banana&quot;, &quot;apple&quot;, &quot;tree&quot;, &quot;car&quot;);\r\n\r\nMap&lt;String, Float&gt; map = list.stream()\r\n    .distinct()\r\n    .collect(Collectors.toMap(String::toString, 0f));\r\n```","title":"How to convert a List of strings into a Map with Streams","body":"<p>I have to convert a list <code>List&lt;String&gt;</code> into a map <code>Map&lt;String, Float&gt;</code>.</p>\n<p>The <em>keys</em> of the <em>map</em> must be strings from the <em>list</em>, and every <strong>value</strong> must be <code>0</code> (zero) for all <em>keys</em>.</p>\n<p>How can I convert this?</p>\n<p>I've tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list = List.of(&quot;banana&quot;, &quot;apple&quot;, &quot;tree&quot;, &quot;car&quot;);\n\nMap&lt;String, Float&gt; map = list.stream()\n    .distinct()\n    .collect(Collectors.toMap(String::toString, 0f));\n</code></pre>\n"},{"tags":["java","junit","dependency-injection","cdi","jboss-arquillian"],"comments":[{"owner":{"account_id":1583037,"reputation":1091,"user_id":1467953,"accept_rate":62,"display_name":"userx"},"score":0,"creation_date":1656380157,"post_id":72779828,"comment_id":128552375,"body_markdown":"Happy to add more details in case there is anything missing. Please let me know.","body":"Happy to add more details in case there is anything missing. Please let me know."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1656485091,"post_id":72779828,"comment_id":128580805,"body_markdown":"I do not really know, a few pointers in case they may help: (1) there is a version discrepancy between arquillian-junit-container &amp; arquillian-protocol-servlet (2) can you try placing the empty beans.xml file in other relevant places, like root META-INF, WEB-INF/classes/META-NF? (3) can you try adding a scope annotation like @ApplicationScoped in TestService? Good luck anyway!","body":"I do not really know, a few pointers in case they may help: (1) there is a version discrepancy between arquillian-junit-container &amp; arquillian-protocol-servlet (2) can you try placing the empty beans.xml file in other relevant places, like root META-INF, WEB-INF/classes/META-NF? (3) can you try adding a scope annotation like @ApplicationScoped in TestService? Good luck anyway!"},{"owner":{"account_id":1583037,"reputation":1091,"user_id":1467953,"accept_rate":62,"display_name":"userx"},"score":0,"creation_date":1656510726,"post_id":72779828,"comment_id":128590906,"body_markdown":"Thanks for being helpful. I did try putting the beans xml into other places and did infact try the ApplicationScoped annotation. Didnt work for me. I keep getting a NPE.","body":"Thanks for being helpful. I did try putting the beans xml into other places and did infact try the ApplicationScoped annotation. Didnt work for me. I keep getting a NPE."}],"owner":{"account_id":1583037,"reputation":1091,"user_id":1467953,"accept_rate":62,"display_name":"userx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656384075,"creation_date":1656380120,"question_id":72779828,"body_markdown":"I am trying to use Arquillian to run tests on a remote Wildfly server. I am not sure why the Dependency Injection does not work. Here is the relevant section from POM:\r\n\r\n```&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.arquillian.junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;arquillian-junit-container&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.0.Alpha10&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.arquillian.protocol&lt;/groupId&gt;\r\n            &lt;artifactId&gt;arquillian-protocol-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.0.Final&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n&lt;profile&gt;\r\n            &lt;!-- Run with: mvn clean test -Parq-remote --&gt;\r\n            &lt;id&gt;arq-remote&lt;/id&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.wildfly.arquillian&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;wildfly-arquillian-container-remote&lt;/artifactId&gt;\r\n                    &lt;version&gt;5.0.0.Alpha3&lt;/version&gt;\r\n                    &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/profile&gt;\r\n```\r\nMy test class:\r\n\r\n```\r\nimport javax.inject.Inject;\r\nimport javax.inject.Named;\r\n\r\nimport com.avm.service.ITestService;\r\nimport com.avm.service.TestService;\r\nimport org.jboss.arquillian.container.test.api.Deployment;\r\nimport org.jboss.arquillian.junit.Arquillian;\r\nimport org.jboss.shrinkwrap.api.Archive;\r\nimport org.jboss.shrinkwrap.api.ShrinkWrap;\r\nimport org.jboss.shrinkwrap.api.asset.EmptyAsset;\r\nimport org.jboss.shrinkwrap.api.spec.WebArchive;\r\nimport org.junit.Test;\r\nimport org.junit.Assert;\r\nimport org.junit.runner.RunWith;\r\n\r\n@RunWith(Arquillian.class)\r\npublic class OrderServiceTest {\r\n\r\n        @Deployment\r\n        public static Archive&lt;?&gt; createTestArchive() {\r\n            return ShrinkWrap.create(WebArchive.class, &quot;backend.war&quot;)\r\n                    .addClass(ITestService.class)\r\n                    .addClass(TestService.class)\r\n                    //.addPackage(RepositoryManager.class.getPackage()).addAsResource(&quot;META-INF/persistence.xml&quot;)\r\n                    .addAsWebInfResource(EmptyAsset.INSTANCE, &quot;beans.xml&quot;);\r\n        }\r\n\r\n        @Inject\r\n        @Named(&quot;testService&quot;)\r\n        TestService testService;\r\n\r\n        @Test\r\n        public void testRegister() throws Exception {\r\n            Assert.assertEquals(&quot;backend&quot;, testService.getAppName());\r\n        }\r\n    }\r\n```\r\n\r\nService Interface:\r\n```\r\npublic interface ITestService {\r\n    String getAppName();\r\n}\r\n```\r\n\r\nService Implementation:\r\n\r\n```\r\n@Named(&quot;testService&quot;)\r\npublic class TestService implements ITestService{\r\n\r\n    private String appName = &quot;backend&quot;;\r\n    private String version = &quot;1.0.0&quot;;\r\n\r\n    @Override\r\n    public String getAppName() {\r\n        return this.appName;\r\n    }\r\n}\r\n```\r\nFinally, my arquillian.xml:\r\n```\r\n&lt;arquillian xmlns=&quot;http://jboss.org/schema/arquillian&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://jboss.org/schema/arquillian\r\n    http://jboss.org/schema/arquillian/arquillian_1_0.xsd&quot;&gt;\r\n\r\n    &lt;!-- Force the use of the Servlet 3.0 protocol with all containers, as it is the most mature --&gt;\r\n    &lt;defaultProtocol type=&quot;Servlet 3.0&quot; /&gt;\r\n\r\n    &lt;!-- Uncomment to have test archives exported to the file system for inspection --&gt;\r\n    &lt;engine&gt;\r\n        &lt;property name=&quot;deploymentExportPath&quot;&gt;target/&lt;/property&gt;\r\n    &lt;/engine&gt;\r\n\r\n    &lt;!-- Example configuration for a managed WildFly / JBoss EAP instance --&gt;\r\n    &lt;container qualifier=&quot;managed&quot;&gt;\r\n        &lt;configuration&gt;\r\n            &lt;property name=&quot;jbossHome&quot;&gt;/git/Servers/wildfly-26.1.1.Final&lt;/property&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/container&gt;\r\n\r\n    &lt;!-- Example configuration for a remote WildFly / JBoss EAP instance --&gt;\r\n    &lt;container qualifier=&quot;remote&quot;&gt;\r\n        &lt;!-- Arquillian will deploy to this WildFly server. --&gt;\r\n        &lt;configuration&gt;\r\n            &lt;property name=&quot;managementAddress&quot;&gt;127.0.0.1&lt;/property&gt;\r\n            &lt;property name=&quot;managementPort&quot;&gt;9990&lt;/property&gt;\r\n\r\n        &lt;/configuration&gt;\r\n    &lt;/container&gt;\r\n&lt;/arquillian&gt;\r\n```\r\n\r\nAfter hunting down a solution for about two days now and having tried almost anything which I could, I feel I would really appreciate if a kind soul looked at this problem now. \r\n\r\nThanks for reading, appreciate your time.","title":"Arquillian : Dependency Injection not working","body":"<p>I am trying to use Arquillian to run tests on a remote Wildfly server. I am not sure why the Dependency Injection does not work. Here is the relevant section from POM:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.arquillian.junit&lt;/groupId&gt;\n            &lt;artifactId&gt;arquillian-junit-container&lt;/artifactId&gt;\n            &lt;version&gt;1.7.0.Alpha10&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.arquillian.protocol&lt;/groupId&gt;\n            &lt;artifactId&gt;arquillian-protocol-servlet&lt;/artifactId&gt;\n            &lt;version&gt;1.6.0.Final&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n&lt;profile&gt;\n            &lt;!-- Run with: mvn clean test -Parq-remote --&gt;\n            &lt;id&gt;arq-remote&lt;/id&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.wildfly.arquillian&lt;/groupId&gt;\n                    &lt;artifactId&gt;wildfly-arquillian-container-remote&lt;/artifactId&gt;\n                    &lt;version&gt;5.0.0.Alpha3&lt;/version&gt;\n                    &lt;scope&gt;test&lt;/scope&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/profile&gt;\n</code></pre>\n<p>My test class:</p>\n<pre><code>import javax.inject.Inject;\nimport javax.inject.Named;\n\nimport com.avm.service.ITestService;\nimport com.avm.service.TestService;\nimport org.jboss.arquillian.container.test.api.Deployment;\nimport org.jboss.arquillian.junit.Arquillian;\nimport org.jboss.shrinkwrap.api.Archive;\nimport org.jboss.shrinkwrap.api.ShrinkWrap;\nimport org.jboss.shrinkwrap.api.asset.EmptyAsset;\nimport org.jboss.shrinkwrap.api.spec.WebArchive;\nimport org.junit.Test;\nimport org.junit.Assert;\nimport org.junit.runner.RunWith;\n\n@RunWith(Arquillian.class)\npublic class OrderServiceTest {\n\n        @Deployment\n        public static Archive&lt;?&gt; createTestArchive() {\n            return ShrinkWrap.create(WebArchive.class, &quot;backend.war&quot;)\n                    .addClass(ITestService.class)\n                    .addClass(TestService.class)\n                    //.addPackage(RepositoryManager.class.getPackage()).addAsResource(&quot;META-INF/persistence.xml&quot;)\n                    .addAsWebInfResource(EmptyAsset.INSTANCE, &quot;beans.xml&quot;);\n        }\n\n        @Inject\n        @Named(&quot;testService&quot;)\n        TestService testService;\n\n        @Test\n        public void testRegister() throws Exception {\n            Assert.assertEquals(&quot;backend&quot;, testService.getAppName());\n        }\n    }\n</code></pre>\n<p>Service Interface:</p>\n<pre><code>public interface ITestService {\n    String getAppName();\n}\n</code></pre>\n<p>Service Implementation:</p>\n<pre><code>@Named(&quot;testService&quot;)\npublic class TestService implements ITestService{\n\n    private String appName = &quot;backend&quot;;\n    private String version = &quot;1.0.0&quot;;\n\n    @Override\n    public String getAppName() {\n        return this.appName;\n    }\n}\n</code></pre>\n<p>Finally, my arquillian.xml:</p>\n<pre><code>&lt;arquillian xmlns=&quot;http://jboss.org/schema/arquillian&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n            xsi:schemaLocation=&quot;http://jboss.org/schema/arquillian\n    http://jboss.org/schema/arquillian/arquillian_1_0.xsd&quot;&gt;\n\n    &lt;!-- Force the use of the Servlet 3.0 protocol with all containers, as it is the most mature --&gt;\n    &lt;defaultProtocol type=&quot;Servlet 3.0&quot; /&gt;\n\n    &lt;!-- Uncomment to have test archives exported to the file system for inspection --&gt;\n    &lt;engine&gt;\n        &lt;property name=&quot;deploymentExportPath&quot;&gt;target/&lt;/property&gt;\n    &lt;/engine&gt;\n\n    &lt;!-- Example configuration for a managed WildFly / JBoss EAP instance --&gt;\n    &lt;container qualifier=&quot;managed&quot;&gt;\n        &lt;configuration&gt;\n            &lt;property name=&quot;jbossHome&quot;&gt;/git/Servers/wildfly-26.1.1.Final&lt;/property&gt;\n        &lt;/configuration&gt;\n    &lt;/container&gt;\n\n    &lt;!-- Example configuration for a remote WildFly / JBoss EAP instance --&gt;\n    &lt;container qualifier=&quot;remote&quot;&gt;\n        &lt;!-- Arquillian will deploy to this WildFly server. --&gt;\n        &lt;configuration&gt;\n            &lt;property name=&quot;managementAddress&quot;&gt;127.0.0.1&lt;/property&gt;\n            &lt;property name=&quot;managementPort&quot;&gt;9990&lt;/property&gt;\n\n        &lt;/configuration&gt;\n    &lt;/container&gt;\n&lt;/arquillian&gt;\n</code></pre>\n<p>After hunting down a solution for about two days now and having tried almost anything which I could, I feel I would really appreciate if a kind soul looked at this problem now.</p>\n<p>Thanks for reading, appreciate your time.</p>\n"},{"tags":["java","tcp"],"comments":[{"owner":{"account_id":200183,"reputation":6610,"user_id":445901,"accept_rate":80,"display_name":"SimonC"},"score":0,"creation_date":1323257873,"post_id":2583961,"comment_id":10393597,"body_markdown":"I know this is an already (correctly) answered question, but I just want to point out to anyone coming across this question, that this behaviour is documented here: http://docs.oracle.com/javase/6/docs/technotes/guides/net/articles/connection_release.html","body":"I know this is an already (correctly) answered question, but I just want to point out to anyone coming across this question, that this behaviour is documented here: <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/net/articles/connection_release.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/technotes/guides/net/articles/&zwnj;&#8203;&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":45644,"reputation":234651,"user_id":134633,"display_name":"caf"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1656382567,"creation_date":1270549238,"answer_id":2584065,"question_id":2583961,"body_markdown":"Your packet log shows that the client is sending its last bit of data, and notifying the server of the connection closing.\r\n\r\nThe server then sends back *its* last bit of data (the last converted integer, presumably).  The client responds with a `RST`, which indicates that the client socket was closed for both reading *and* writing - the client is saying &quot;sorry, I didn&#39;t catch that last bit of data, I&#39;m not listening anymore&quot;.\r\n\r\nI am not a Java guru, but it appears that calling the `.close()` method of the socket&#39;s `OutputStream` is resulting in the `.close()` method being called on the socket itself.  What you actually want to happen here (after the client has written its last integer) is that the `shutdownOutput()` method is called on the socket.","title":"Java, server client TCP communication ends with RST","body":"<p>Your packet log shows that the client is sending its last bit of data, and notifying the server of the connection closing.</p>\n<p>The server then sends back <em>its</em> last bit of data (the last converted integer, presumably).  The client responds with a <code>RST</code>, which indicates that the client socket was closed for both reading <em>and</em> writing - the client is saying &quot;sorry, I didn't catch that last bit of data, I'm not listening anymore&quot;.</p>\n<p>I am not a Java guru, but it appears that calling the <code>.close()</code> method of the socket's <code>OutputStream</code> is resulting in the <code>.close()</code> method being called on the socket itself.  What you actually want to happen here (after the client has written its last integer) is that the <code>shutdownOutput()</code> method is called on the socket.</p>\n"},{"tags":[],"owner":{"account_id":27085,"reputation":39951,"user_id":71074,"accept_rate":77,"display_name":"Robert S. Barnes"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1270551322,"creation_date":1270551322,"answer_id":2584235,"question_id":2583961,"body_markdown":"As caf points out, your problem is that you are calling `close` when you should be calling `shutdownOutput`.  This is because what you are trying to implement is what&#39;s called a half-close, in which each side of the connection closes it&#39;s output stream in order to indicate to the peer that there is no more data pending ( EOF ).\r\n\r\nFor an explanation of the difference between close and shutdown see this short SO answer &quot;[close vs. shutdown][1]&quot; and this longer article, &quot;[Socket shutdown versus socket close][2]&quot;.  Also see, [Orderly Versus Abortive Connection Release in Java][3].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/409783/socket-shutdown-vs-socket-close/598759#598759\r\n  [2]: http://jython.xhaus.com/socket-shutdown-versus-socket-close-on-cpython-jython-and-java/\r\n  [3]: http://java.sun.com/j2se/1.5.0/docs/guide/net/articles/connection_release.html","title":"Java, server client TCP communication ends with RST","body":"<p>As caf points out, your problem is that you are calling <code>close</code> when you should be calling <code>shutdownOutput</code>.  This is because what you are trying to implement is what's called a half-close, in which each side of the connection closes it's output stream in order to indicate to the peer that there is no more data pending ( EOF ).</p>\n\n<p>For an explanation of the difference between close and shutdown see this short SO answer \"<a href=\"https://stackoverflow.com/questions/409783/socket-shutdown-vs-socket-close/598759#598759\">close vs. shutdown</a>\" and this longer article, \"<a href=\"http://jython.xhaus.com/socket-shutdown-versus-socket-close-on-cpython-jython-and-java/\" rel=\"nofollow noreferrer\">Socket shutdown versus socket close</a>\".  Also see, <a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/net/articles/connection_release.html\" rel=\"nofollow noreferrer\">Orderly Versus Abortive Connection Release in Java</a>.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1270632085,"creation_date":1270632085,"answer_id":2591229,"question_id":2583961,"body_markdown":"The *real* problem here is that one end is writing after the other end has already closed its end of the connection. This is an application protocol error.","title":"Java, server client TCP communication ends with RST","body":"<p>The <em>real</em> problem here is that one end is writing after the other end has already closed its end of the connection. This is an application protocol error.</p>\n"}],"owner":{"account_id":114324,"reputation":345,"user_id":300689,"accept_rate":50,"display_name":"Senne"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11316,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":2584065,"answer_count":3,"score":2,"last_activity_date":1656382567,"creation_date":1270548148,"question_id":2583961,"body_markdown":"I&#39;m trying to figure out if this is normal. Because without errors, a connection should be terminated by:\r\n\r\n    FIN -&gt;\r\n    &lt;- ACK\r\n    &lt;- FIN\r\n    ACK -&gt;\r\n\r\nI get this at the end of a TCP connection (over SSL, but i also get it with non-encrypted):\r\n\r\n    \t\t From\t  To\r\n    1494\tserver\tclient\tTCP\tsearch-agent &gt; 59185 [PSH, ACK] Seq=25974 Ack=49460 Win=63784 Len=50\r\n    1495\tclient\tserver\tTCP\t59185 &gt; search-agent [ACK] Seq=49460 Ack=26024 Win=63565 Len=0\r\n    1496\tclient\tserver\tTCP\t59185 &gt; search-agent [PSH, ACK] Seq=49460 Ack=26024 Win=63565 Len=23\r\n    1497\tclient\tserver\tTCP\t59185 &gt; search-agent [FIN, ACK] Seq=49483 Ack=26024 Win=63565 Len=0\r\n    1498\tserver\tclient\tTCP\tsearch-agent &gt; 59185 [PSH, ACK] Seq=26024 Ack=49484 Win=63784 Len=23\r\n    1499\tclient\tserver\tTCP\t59185 &gt; search-agent [RST, ACK] Seq=49484 Ack=26047 Win=0 Len=0\r\n\r\nThe client exits normally and reaches *socket.close*, shouldn&#39;t then the connection be shut down normally, without a reset?\r\n\r\nI can&#39;t find anything about the TCP streams of java on google...  \r\n\r\nHere is my code:\r\n\r\nServer:\r\n\r\n    package Security;\r\n    \r\n    import java.io.*;\r\n    import java.net.*;\r\n    \r\n    import javax.net.ServerSocketFactory;\r\n    import javax.net.ssl.*;\r\n    import java.util.*;\r\n    \r\n    public class SSLDemoServer\r\n    {\r\n    \tprivate static ServerSocket serverSocket;\r\n    \tprivate static final int PORT = 1234;\r\n    \r\n    \tpublic static void main(String[] args) throws IOException\r\n    \t{\r\n    \t\tint received = 0;\r\n    \t\tString returned; \r\n    \t\tObjectInputStream input = null;\r\n    \t\tPrintWriter output = null;\r\n    \t\tSocket client;\r\n    \r\n    \t\tSystem.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;key.keystore&quot;);\r\n    \t\tSystem.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;vwpolo&quot;);\r\n    \t\tSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;key.keystore&quot;);\r\n    \t\tSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;vwpolo&quot;);\r\n    \r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Trying to set up server ...&quot;);\r\n    \t\t\tServerSocketFactory factory = SSLServerSocketFactory.getDefault();\r\n    \t\t\tserverSocket = factory.createServerSocket(PORT);\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;Server started!\\n&quot;);\r\n    \t\t}\r\n    \t\tcatch (IOException ioEx)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Unable to set up port!&quot;);\r\n    \t\t\tioEx.printStackTrace();\r\n    \t\t\tSystem.exit(1);\r\n    \t\t}\r\n    \r\n    \t\twhile(true)\r\n    \t\t{\r\n    \t\t\tclient = serverSocket.accept();\r\n    \t\t\tSystem.out.println(&quot;Client trying to connect...&quot;);\r\n    \r\n    \t\t\ttry\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;Trying to create inputstream...&quot;);\r\n    \t\t\t\tinput = new ObjectInputStream(client.getInputStream());\r\n    \t\t\t\tSystem.out.println(&quot;Trying to create outputstream...&quot;);\r\n    \t\t\t\toutput = new PrintWriter(client.getOutputStream(), true);\r\n    \t\t\t\tSystem.out.println(&quot;Client successfully connected!&quot;);\r\n    \r\n    \t\t\t\twhile( true )\r\n    \t\t\t\t{\r\n    \t\t\t\t\treceived = input.readInt();\r\n    \t\t\t\t\treturned = Integer.toHexString(received);\r\n    \t\t\t\t\tSystem.out.print(&quot; &quot; + received);\r\n    \t\t\t\t\toutput.println(returned.toUpperCase());\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tcatch(SSLException sslEx)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;Connection failed! (non-SSL connection?)\\n&quot;);\r\n    \t\t\t\tclient.close();\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \t\t\tcatch(EOFException eofEx)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;\\nEnd of client data.\\n&quot;);\r\n    \t\t\t}\r\n    \t\t\tcatch(IOException ioEx)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;I/O problem! (correct inputstream?)&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t\ttry {\r\n    \t\t\t\tinput.close();\r\n    \t\t\t\toutput.close();\r\n    \t\t\t}\r\n    \t\t\tcatch (Exception e) {\r\n    \t\t\t}\r\n    \t\t\tclient.close();\r\n    \t\t\tSystem.out.println(&quot;Client closed.\\n&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nClient:\r\n\r\n    package Security;\r\n    \r\n    import java.io.*;\r\n    import java.net.*;\r\n    import javax.net.ssl.*;\r\n    \r\n    import java.util.*;\r\n    \r\n    public class SSLDemoClient\r\n    {\r\n    \tprivate static InetAddress host;\r\n    \tprivate static final int PORT = 1234;\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tSystem.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;key.keystore&quot;);\r\n    \t\tSystem.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;vwpolo&quot;);\r\n    \t\tSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;key.keystore&quot;);\r\n    \t\tSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;vwpolo&quot;);\r\n    \r\n    \t\tSystem.out.println(&quot;\\nCreating SSL socket ...&quot;);\r\n    \t\tSSLSocket socket = null;\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\thost = InetAddress.getByName(&quot;192.168.56.101&quot;);\r\n    \t\t\tSSLSocketFactory factory = (SSLSocketFactory)\r\n    \t\t\tSSLSocketFactory.getDefault();\r\n    \t\t\tsocket = (SSLSocket) factory.createSocket(host, PORT);\r\n    \t\t\tsocket.startHandshake();\r\n    \t\t}\r\n    \t\tcatch(UnknownHostException uhEx)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;\\nHost ID not found!\\n&quot;);\r\n    \t\t\tSystem.exit(1);\r\n    \t\t}\r\n    \t\tcatch(SSLException sslEx)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;\\nHandshaking unsuccessful ...&quot;);\r\n    \t\t\tSystem.exit(1);\r\n    \t\t} \r\n    \t\tcatch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;\\nHandshaking succeeded ...\\n&quot;);\r\n    \r\n    \t\tSSLClientThread client = new SSLClientThread(socket);\r\n    \t\tSSLReceiverThread receiver = new SSLReceiverThread(socket);\r\n    \r\n    \t\tclient.start();\r\n    \t\treceiver.start();\r\n    \r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tclient.join();\r\n    \t\t\treceiver.join();\r\n    \t\t\tSystem.out.println(&quot;Trying to close...&quot;);\r\n    \t\t\tsocket.close();\r\n    \t\t}\r\n    \t\tcatch(InterruptedException iEx)\r\n    \t\t{\r\n    \t\t\tiEx.printStackTrace();\r\n    \t\t} \r\n    \t\tcatch(IOException ioEx)\r\n    \t\t{\r\n    \t\t\tioEx.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;\\nClient finished.&quot;);\r\n    \t}\r\n    }\r\n    \r\n    \r\n    class SSLClientThread extends Thread\r\n    {\r\n    \tprivate SSLSocket socket;\r\n    \r\n    \tpublic SSLClientThread(SSLSocket s)\r\n    \t{\r\n    \t\tsocket = s;\r\n    \t}\r\n    \r\n    \tpublic void run() \r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tObjectOutputStream output = new ObjectOutputStream(socket.getOutputStream());\r\n    \r\n    \t\t\tfor( int i = 1; i &lt; 1025; i++)\r\n    \t\t\t{\r\n    \t\t\t\toutput.writeInt(i);\r\n    \t\t\t\tsleep(10);\r\n    \t\t\t\toutput.flush();\r\n    \t\t\t} \r\n    \r\n    \t\t\toutput.flush();\r\n    \t\t\tsleep(1000);\r\n    \t\t\toutput.close();\r\n    \t\t}\r\n    \t\tcatch(IOException ioEx)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Socket closed or unable to open socket.&quot;);\r\n    \t\t}\r\n    \t\tcatch(InterruptedException iEx)\r\n    \t\t{\r\n    \t\t\tiEx.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    \r\n    class SSLReceiverThread extends Thread\r\n    {\r\n    \tprivate SSLSocket socket;\r\n    \r\n    \tpublic SSLReceiverThread(SSLSocket s)\r\n    \t{\r\n    \t\tsocket = s;\r\n    \t}\r\n    \r\n    \tpublic void run()\r\n    \t{\r\n    \t\tString response = null;\r\n    \t\tBufferedReader input = null;\r\n    \r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tinput = new BufferedReader(\r\n    \t\t\t\t\tnew InputStreamReader(socket.getInputStream()));\r\n    \r\n    \t\t\ttry\r\n    \t\t\t{\r\n    \t\t\t\tresponse = input.readLine();\r\n    \t\t\t\twhile(!response.equals(null)) \r\n    \t\t\t\t{\r\n    \t\t\t\t\tSystem.out.print(response + &quot; &quot;);\r\n    \t\t\t\t\tresponse = input.readLine();\r\n    \t\t\t\t} \r\n    \t\t\t}\r\n    \t\t\tcatch(Exception e)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;\\nEnd of server data.\\n&quot;);\r\n    \t\t\t}    \r\n    \r\n    \t\t\tinput.close();\r\n    \r\n    \t\t}\r\n    \t\tcatch(IOException ioEx)\r\n    \t\t{\r\n    \t\t\tioEx.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n---\r\n\r\nThanks a lot, on a non-SSL connection, I now get a nice orderly connection shutdown without a reset.\r\n\r\nBUT apparently this method is not supported by `SSLSocket`? When I try it in my SSL client, I get the following exception:\r\n\r\n    Exception in thread &quot;Thread-0&quot; java.lang.UnsupportedOperationException: The method shutdownOutput() is not supported in SSLSocket\r\n    \tat com.sun.net.ssl.internal.ssl.BaseSSLSocketImpl.shutdownOutput(Unknown Source)\r\n    \tat Security.SSLClientThread.run(SSLDemoClient.java:99)\r\n\r\nMy new code looks like this:\r\n\r\n    package Security;\r\n    \r\n    import java.io.*;\r\n    import java.net.*;\r\n    \r\n    import javax.net.SocketFactory;\r\n    import javax.net.ssl.*;\r\n    \r\n    public class SSLDemoClient\r\n    {\r\n    \tprivate static InetAddress host;\r\n    \tprivate static Socket socket;\r\n    \tprivate static final int PORT = 1234;\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tSystem.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;key.keystore&quot;);\r\n    \t\tSystem.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;vwpolo&quot;);\r\n    \t\tSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;key.keystore&quot;);\r\n    \t\tSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;vwpolo&quot;);\r\n    \r\n    \t\tSystem.out.println(&quot;\\nCreating SSL socket ...&quot;);\r\n    \t\t\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\thost = InetAddress.getByName(&quot;192.168.56.101&quot;);\r\n    \t\t\tSocketFactory socketFactory = SSLSocketFactory.getDefault();\r\n    \t\t\tsocket = socketFactory.createSocket(host, PORT);\r\n    \t\t}\r\n    \t\tcatch(UnknownHostException uhEx)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;\\nHost ID not found!\\n&quot;);\r\n    \t\t\tSystem.exit(1);\r\n    \t\t}\r\n    \t\tcatch(SSLException sslEx)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;\\nHandshaking unsuccessful ...&quot;);\r\n    \t\t\tSystem.exit(1);\r\n    \t\t} \r\n    \t\tcatch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;\\nHandshaking succeeded ...\\n&quot;);\r\n    \r\n    \t\tSSLClientThread client = new SSLClientThread(socket);\r\n    \t\tSSLReceiverThread receiver = new SSLReceiverThread(socket);\r\n    \r\n    \t\tclient.start();\r\n    \t\treceiver.start();\r\n    \r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tclient.join();\r\n    \t\t\treceiver.join();\r\n    \t\t\tSystem.out.println(&quot;Trying to close...&quot;);\r\n    \t\t\t\r\n    \t\t\tsocket.close();\r\n    \t\t}\r\n    \t\tcatch(InterruptedException iEx)\r\n    \t\t{\r\n    \t\t\tiEx.printStackTrace();\r\n    \t\t} \r\n    \t\tcatch(IOException ioEx)\r\n    \t\t{\r\n    \t\t\tioEx.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;\\nClient finished.&quot;);\r\n    \t}\r\n    }\r\n    \r\n    \r\n    class SSLClientThread extends Thread\r\n    {\r\n    \tprivate Socket socket;\r\n    \r\n    \tpublic SSLClientThread(Socket s)\r\n    \t{\r\n    \t\tsocket = s;\r\n    \t}\r\n    \r\n    \tpublic void run() \r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tObjectOutputStream output = new ObjectOutputStream(socket.getOutputStream());\r\n    \r\n    \t\t\tfor( int i = 1; i &lt; 1025; i++)\r\n    \t\t\t{\r\n    \t\t\t\toutput.writeInt(i);\r\n    \t\t\t\tsleep(10);\r\n    \t\t\t\toutput.flush();\r\n    \t\t\t} \r\n    \r\n    \t\t\toutput.flush();\r\n    \t\t\tsleep(1000);\r\n    \t\t\tsocket.shutdownOutput();\r\n    \t\t}\r\n    \t\tcatch(IOException ioEx)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Socket closed or unable to open socket.&quot;);\r\n    \t\t}\r\n    \t\tcatch(InterruptedException iEx)\r\n    \t\t{\r\n    \t\t\tiEx.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    \r\n    class SSLReceiverThread extends Thread\r\n    {\r\n    \tprivate Socket socket;\r\n    \r\n    \tpublic SSLReceiverThread(Socket s)\r\n    \t{\r\n    \t\tsocket = s;\r\n    \t}\r\n    \r\n    \tpublic void run()\r\n    \t{\r\n    \t\tString response = null;\r\n    \t\tBufferedReader input = null;\r\n    \r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tinput = new BufferedReader(\r\n    \t\t\t\t\tnew InputStreamReader(socket.getInputStream()));\r\n    \r\n    \t\t\ttry\r\n    \t\t\t{\r\n    \t\t\t\tresponse = input.readLine();\r\n    \t\t\t\twhile(!response.equals(null)) \r\n    \t\t\t\t{\r\n    \t\t\t\t\tSystem.out.print(response + &quot; &quot;);\r\n    \t\t\t\t\tresponse = input.readLine();\r\n    \t\t\t\t} \r\n    \t\t\t}\r\n    \t\t\tcatch(Exception e)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;\\nEnd of server data.\\n&quot;);\r\n    \t\t\t}    \r\n    \r\n    \t\t\tsocket.shutdownInput();\r\n    \r\n    \t\t}\r\n    \t\tcatch(IOException ioEx)\r\n    \t\t{\r\n    \t\t\tioEx.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nAm I not using it correcty? Or is my SSLSocket not correct? Because with a non-SSL connection there is no problem.","title":"Java, server client TCP communication ends with RST","body":"<p>I'm trying to figure out if this is normal. Because without errors, a connection should be terminated by:</p>\n\n<pre><code>FIN -&gt;\n&lt;- ACK\n&lt;- FIN\nACK -&gt;\n</code></pre>\n\n<p>I get this at the end of a TCP connection (over SSL, but i also get it with non-encrypted):</p>\n\n<pre><code>         From     To\n1494    server  client  TCP search-agent &gt; 59185 [PSH, ACK] Seq=25974 Ack=49460 Win=63784 Len=50\n1495    client  server  TCP 59185 &gt; search-agent [ACK] Seq=49460 Ack=26024 Win=63565 Len=0\n1496    client  server  TCP 59185 &gt; search-agent [PSH, ACK] Seq=49460 Ack=26024 Win=63565 Len=23\n1497    client  server  TCP 59185 &gt; search-agent [FIN, ACK] Seq=49483 Ack=26024 Win=63565 Len=0\n1498    server  client  TCP search-agent &gt; 59185 [PSH, ACK] Seq=26024 Ack=49484 Win=63784 Len=23\n1499    client  server  TCP 59185 &gt; search-agent [RST, ACK] Seq=49484 Ack=26047 Win=0 Len=0\n</code></pre>\n\n<p>The client exits normally and reaches <em>socket.close</em>, shouldn't then the connection be shut down normally, without a reset?</p>\n\n<p>I can't find anything about the TCP streams of java on google...  </p>\n\n<p>Here is my code:</p>\n\n<p>Server:</p>\n\n<pre><code>package Security;\n\nimport java.io.*;\nimport java.net.*;\n\nimport javax.net.ServerSocketFactory;\nimport javax.net.ssl.*;\nimport java.util.*;\n\npublic class SSLDemoServer\n{\n    private static ServerSocket serverSocket;\n    private static final int PORT = 1234;\n\n    public static void main(String[] args) throws IOException\n    {\n        int received = 0;\n        String returned; \n        ObjectInputStream input = null;\n        PrintWriter output = null;\n        Socket client;\n\n        System.setProperty(\"javax.net.ssl.keyStore\", \"key.keystore\");\n        System.setProperty(\"javax.net.ssl.keyStorePassword\", \"vwpolo\");\n        System.setProperty(\"javax.net.ssl.trustStore\", \"key.keystore\");\n        System.setProperty(\"javax.net.ssl.trustStorePassword\", \"vwpolo\");\n\n        try\n        {\n            System.out.println(\"Trying to set up server ...\");\n            ServerSocketFactory factory = SSLServerSocketFactory.getDefault();\n            serverSocket = factory.createServerSocket(PORT);\n\n            System.out.println(\"Server started!\\n\");\n        }\n        catch (IOException ioEx)\n        {\n            System.out.println(\"Unable to set up port!\");\n            ioEx.printStackTrace();\n            System.exit(1);\n        }\n\n        while(true)\n        {\n            client = serverSocket.accept();\n            System.out.println(\"Client trying to connect...\");\n\n            try\n            {\n                System.out.println(\"Trying to create inputstream...\");\n                input = new ObjectInputStream(client.getInputStream());\n                System.out.println(\"Trying to create outputstream...\");\n                output = new PrintWriter(client.getOutputStream(), true);\n                System.out.println(\"Client successfully connected!\");\n\n                while( true )\n                {\n                    received = input.readInt();\n                    returned = Integer.toHexString(received);\n                    System.out.print(\" \" + received);\n                    output.println(returned.toUpperCase());\n                }\n            }\n            catch(SSLException sslEx)\n            {\n                System.out.println(\"Connection failed! (non-SSL connection?)\\n\");\n                client.close();\n                continue;\n            }\n            catch(EOFException eofEx)\n            {\n                System.out.println(\"\\nEnd of client data.\\n\");\n            }\n            catch(IOException ioEx)\n            {\n                System.out.println(\"I/O problem! (correct inputstream?)\");\n            }\n\n            try {\n                input.close();\n                output.close();\n            }\n            catch (Exception e) {\n            }\n            client.close();\n            System.out.println(\"Client closed.\\n\");\n        }\n    }\n}\n</code></pre>\n\n<p>Client:</p>\n\n<pre><code>package Security;\n\nimport java.io.*;\nimport java.net.*;\nimport javax.net.ssl.*;\n\nimport java.util.*;\n\npublic class SSLDemoClient\n{\n    private static InetAddress host;\n    private static final int PORT = 1234;\n\n    public static void main(String[] args)\n    {\n        System.setProperty(\"javax.net.ssl.keyStore\", \"key.keystore\");\n        System.setProperty(\"javax.net.ssl.keyStorePassword\", \"vwpolo\");\n        System.setProperty(\"javax.net.ssl.trustStore\", \"key.keystore\");\n        System.setProperty(\"javax.net.ssl.trustStorePassword\", \"vwpolo\");\n\n        System.out.println(\"\\nCreating SSL socket ...\");\n        SSLSocket socket = null;\n        try\n        {\n            host = InetAddress.getByName(\"192.168.56.101\");\n            SSLSocketFactory factory = (SSLSocketFactory)\n            SSLSocketFactory.getDefault();\n            socket = (SSLSocket) factory.createSocket(host, PORT);\n            socket.startHandshake();\n        }\n        catch(UnknownHostException uhEx)\n        {\n            System.out.println(\"\\nHost ID not found!\\n\");\n            System.exit(1);\n        }\n        catch(SSLException sslEx)\n        {\n            System.out.println(\"\\nHandshaking unsuccessful ...\");\n            System.exit(1);\n        } \n        catch (IOException e) {\n            e.printStackTrace();\n        }\n        System.out.println(\"\\nHandshaking succeeded ...\\n\");\n\n        SSLClientThread client = new SSLClientThread(socket);\n        SSLReceiverThread receiver = new SSLReceiverThread(socket);\n\n        client.start();\n        receiver.start();\n\n        try\n        {\n            client.join();\n            receiver.join();\n            System.out.println(\"Trying to close...\");\n            socket.close();\n        }\n        catch(InterruptedException iEx)\n        {\n            iEx.printStackTrace();\n        } \n        catch(IOException ioEx)\n        {\n            ioEx.printStackTrace();\n        }\n\n        System.out.println(\"\\nClient finished.\");\n    }\n}\n\n\nclass SSLClientThread extends Thread\n{\n    private SSLSocket socket;\n\n    public SSLClientThread(SSLSocket s)\n    {\n        socket = s;\n    }\n\n    public void run() \n    {\n        try\n        {\n            ObjectOutputStream output = new ObjectOutputStream(socket.getOutputStream());\n\n            for( int i = 1; i &lt; 1025; i++)\n            {\n                output.writeInt(i);\n                sleep(10);\n                output.flush();\n            } \n\n            output.flush();\n            sleep(1000);\n            output.close();\n        }\n        catch(IOException ioEx)\n        {\n            System.out.println(\"Socket closed or unable to open socket.\");\n        }\n        catch(InterruptedException iEx)\n        {\n            iEx.printStackTrace();\n        }\n    }\n}\n\n\nclass SSLReceiverThread extends Thread\n{\n    private SSLSocket socket;\n\n    public SSLReceiverThread(SSLSocket s)\n    {\n        socket = s;\n    }\n\n    public void run()\n    {\n        String response = null;\n        BufferedReader input = null;\n\n        try\n        {\n            input = new BufferedReader(\n                    new InputStreamReader(socket.getInputStream()));\n\n            try\n            {\n                response = input.readLine();\n                while(!response.equals(null)) \n                {\n                    System.out.print(response + \" \");\n                    response = input.readLine();\n                } \n            }\n            catch(Exception e)\n            {\n                System.out.println(\"\\nEnd of server data.\\n\");\n            }    \n\n            input.close();\n\n        }\n        catch(IOException ioEx)\n        {\n            ioEx.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Thanks a lot, on a non-SSL connection, I now get a nice orderly connection shutdown without a reset.</p>\n\n<p>BUT apparently this method is not supported by <code>SSLSocket</code>? When I try it in my SSL client, I get the following exception:</p>\n\n<pre><code>Exception in thread \"Thread-0\" java.lang.UnsupportedOperationException: The method shutdownOutput() is not supported in SSLSocket\n    at com.sun.net.ssl.internal.ssl.BaseSSLSocketImpl.shutdownOutput(Unknown Source)\n    at Security.SSLClientThread.run(SSLDemoClient.java:99)\n</code></pre>\n\n<p>My new code looks like this:</p>\n\n<pre><code>package Security;\n\nimport java.io.*;\nimport java.net.*;\n\nimport javax.net.SocketFactory;\nimport javax.net.ssl.*;\n\npublic class SSLDemoClient\n{\n    private static InetAddress host;\n    private static Socket socket;\n    private static final int PORT = 1234;\n\n    public static void main(String[] args)\n    {\n        System.setProperty(\"javax.net.ssl.keyStore\", \"key.keystore\");\n        System.setProperty(\"javax.net.ssl.keyStorePassword\", \"vwpolo\");\n        System.setProperty(\"javax.net.ssl.trustStore\", \"key.keystore\");\n        System.setProperty(\"javax.net.ssl.trustStorePassword\", \"vwpolo\");\n\n        System.out.println(\"\\nCreating SSL socket ...\");\n\n        try\n        {\n            host = InetAddress.getByName(\"192.168.56.101\");\n            SocketFactory socketFactory = SSLSocketFactory.getDefault();\n            socket = socketFactory.createSocket(host, PORT);\n        }\n        catch(UnknownHostException uhEx)\n        {\n            System.out.println(\"\\nHost ID not found!\\n\");\n            System.exit(1);\n        }\n        catch(SSLException sslEx)\n        {\n            System.out.println(\"\\nHandshaking unsuccessful ...\");\n            System.exit(1);\n        } \n        catch (IOException e) {\n            e.printStackTrace();\n        }\n        System.out.println(\"\\nHandshaking succeeded ...\\n\");\n\n        SSLClientThread client = new SSLClientThread(socket);\n        SSLReceiverThread receiver = new SSLReceiverThread(socket);\n\n        client.start();\n        receiver.start();\n\n        try\n        {\n            client.join();\n            receiver.join();\n            System.out.println(\"Trying to close...\");\n\n            socket.close();\n        }\n        catch(InterruptedException iEx)\n        {\n            iEx.printStackTrace();\n        } \n        catch(IOException ioEx)\n        {\n            ioEx.printStackTrace();\n        }\n\n        System.out.println(\"\\nClient finished.\");\n    }\n}\n\n\nclass SSLClientThread extends Thread\n{\n    private Socket socket;\n\n    public SSLClientThread(Socket s)\n    {\n        socket = s;\n    }\n\n    public void run() \n    {\n        try\n        {\n            ObjectOutputStream output = new ObjectOutputStream(socket.getOutputStream());\n\n            for( int i = 1; i &lt; 1025; i++)\n            {\n                output.writeInt(i);\n                sleep(10);\n                output.flush();\n            } \n\n            output.flush();\n            sleep(1000);\n            socket.shutdownOutput();\n        }\n        catch(IOException ioEx)\n        {\n            System.out.println(\"Socket closed or unable to open socket.\");\n        }\n        catch(InterruptedException iEx)\n        {\n            iEx.printStackTrace();\n        }\n    }\n}\n\n\nclass SSLReceiverThread extends Thread\n{\n    private Socket socket;\n\n    public SSLReceiverThread(Socket s)\n    {\n        socket = s;\n    }\n\n    public void run()\n    {\n        String response = null;\n        BufferedReader input = null;\n\n        try\n        {\n            input = new BufferedReader(\n                    new InputStreamReader(socket.getInputStream()));\n\n            try\n            {\n                response = input.readLine();\n                while(!response.equals(null)) \n                {\n                    System.out.print(response + \" \");\n                    response = input.readLine();\n                } \n            }\n            catch(Exception e)\n            {\n                System.out.println(\"\\nEnd of server data.\\n\");\n            }    \n\n            socket.shutdownInput();\n\n        }\n        catch(IOException ioEx)\n        {\n            ioEx.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>Am I not using it correcty? Or is my SSLSocket not correct? Because with a non-SSL connection there is no problem.</p>\n"},{"tags":["java","sql","spring-boot","web-deployment","web-development-server"],"comments":[{"owner":{"account_id":18566808,"reputation":176,"user_id":13529538,"display_name":"Samba"},"score":0,"creation_date":1656378899,"post_id":72779714,"comment_id":128552222,"body_markdown":"Add a screenshot of postman and error message","body":"Add a screenshot of postman and error message"},{"owner":{"account_id":20403457,"reputation":1,"user_id":14968626,"display_name":"Arturo A."},"score":0,"creation_date":1656379852,"post_id":72779714,"comment_id":128552340,"body_markdown":"Okay, I&#39;ve added the screenshot at the top.","body":"Okay, I&#39;ve added the screenshot at the top."},{"owner":{"account_id":7245066,"reputation":1009,"user_id":7141562,"display_name":"admlz635"},"score":0,"creation_date":1656380073,"post_id":72779714,"comment_id":128552362,"body_markdown":"Instead of PUT change the method to POST in postman and try again.","body":"Instead of PUT change the method to POST in postman and try again."},{"owner":{"account_id":20403457,"reputation":1,"user_id":14968626,"display_name":"Arturo A."},"score":0,"creation_date":1656380249,"post_id":72779714,"comment_id":128552393,"body_markdown":"I did and not I am getting this error : &quot;Field &#39;subject_id&#39; doesn&#39;t have a default value&quot;","body":"I did and not I am getting this error : &quot;Field &#39;subject_id&#39; doesn&#39;t have a default value&quot;"},{"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"score":1,"creation_date":1656381459,"post_id":72779714,"comment_id":128552537,"body_markdown":"That&#39;s another question","body":"That&#39;s another question"}],"answers":[{"tags":[],"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656381397,"creation_date":1656381397,"answer_id":72779945,"question_id":72779714,"body_markdown":"Because in Postman you are using PUT method, not the POST method.","title":"Why am I receiving a &quot;Request method &#39;POST&#39; not supported&quot; ? I get error code 405 on postman","body":"<p>Because in Postman you are using PUT method, not the POST method.</p>\n"},{"tags":[],"owner":{"account_id":4407008,"reputation":44,"user_id":3591105,"display_name":"faisal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656381780,"creation_date":1656381780,"answer_id":72779983,"question_id":72779714,"body_markdown":"Let me guess you are expecting &#39;subject_id&#39; to be auto-generate using database sequence. Then you are missing two annotations `@GeneratedValue` and `@SequenceGenerator`.\r\n\r\nAs &#39;subject_id&#39; is not an optional field. That&#39;s why you getting the error &quot;Field &#39;subject_id&#39; doesn&#39;t have a default value&quot;.\r\n\r\nTo create a relationship between the &#39;subject_id&#39; field and DB sequence use the following. \r\n\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @SequenceGenerator(name=&quot;seq&quot;,sequenceName=&quot;sequence_in_db&quot;)        \r\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;seq&quot;)   \r\n    private int subject_id;\r\n      \r\n\r\nYou can find more details on this topic [https://stackoverflow.com/questions/20603638/what-is-the-use-of-annotations-id-and-generatedvaluestrategy-generationtype][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20603638/what-is-the-use-of-annotations-id-and-generatedvaluestrategy-generationtype","title":"Why am I receiving a &quot;Request method &#39;POST&#39; not supported&quot; ? I get error code 405 on postman","body":"<p>Let me guess you are expecting 'subject_id' to be auto-generate using database sequence. Then you are missing two annotations <code>@GeneratedValue</code> and <code>@SequenceGenerator</code>.</p>\n<p>As 'subject_id' is not an optional field. That's why you getting the error &quot;Field 'subject_id' doesn't have a default value&quot;.</p>\n<p>To create a relationship between the 'subject_id' field and DB sequence use the following.</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@SequenceGenerator(name=&quot;seq&quot;,sequenceName=&quot;sequence_in_db&quot;)        \n@GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;seq&quot;)   \nprivate int subject_id;\n  \n</code></pre>\n<p>You can find more details on this topic <a href=\"https://stackoverflow.com/questions/20603638/what-is-the-use-of-annotations-id-and-generatedvaluestrategy-generationtype\">what is the use of annotations @Id and @GeneratedValue(strategy = GenerationType.IDENTITY)? Why the generationtype is identity?</a></p>\n"}],"owner":{"account_id":20403457,"reputation":1,"user_id":14968626,"display_name":"Arturo A."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1656381780,"creation_date":1656378630,"question_id":72779714,"body_markdown":"[Postman error][1]\r\n\r\nController: \r\n\r\n@RestController\r\n\r\n@RequestMapping(&quot;/student_enrollment/class_subject&quot;)\r\n\r\npublic class ClassController {\r\n\r\n\tprivate ClassService classService;\r\n\tpublic ClassController(ClassService classService) {\r\n\t\tsuper();\r\n\t\tthis.classService = classService;\r\n\t}\r\n\r\n@PostMapping()\r\n\r\n\tpublic ResponseEntity&lt;Classes&gt; saveClass(@RequestBody Classes classes) {\r\n\t\treturn new ResponseEntity&lt;Classes&gt;(classService.saveClass(classes), \r\n        HttpStatus.CREATED);\r\n\t}\r\n\t\r\n\t@GetMapping\r\n\tpublic List&lt;Classes&gt; getAllClasses() {\r\n\t\treturn classService.getAllClasses();\r\n\t}\r\nmodel: \r\n\r\n@Data\r\n\r\n@Entity\r\n\r\n@Table(name = &quot;class_subject&quot;)\r\n\r\npublic class ClassSubject {\r\n\r\n    @Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\n\tprivate int subject_id;\r\n\r\n\t@Column(value = &quot;prerequisite&quot;)\r\n\tprivate String prerequisite;\r\n\t\r\n\t@Column(value = &quot;max_capacity&quot;)\r\n\tprivate int max_capacity;\r\n\r\n\t\r\n}\r\n\r\nservice impl:\r\n\r\n@Service\r\npublic class ClassServiceImpl implements ClassService{\r\n\r\n@Override\r\n\r\n\tpublic ClassSubject updateClassSubject(ClassSubject classSubject, int classSubjectId) {\r\n\t\t\r\n\t\tClassSubject existingClassSubject = classSubjectRepository.findById(classSubjectId).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;ClassSubject&quot;, &quot;classSubjectId&quot;, classSubjectId));\r\n\t\t\r\n\t\texistingClassSubject.setSubject_id(classSubject.getSubject_id());\r\n\t\texistingClassSubject.setPrerequisite(classSubject.getPrerequisite());\r\n\t\texistingClassSubject.setMax_capacity(classSubject.getMax_capacity());\r\n\t\t\r\n\t\tclassSubjectRepository.save(existingClassSubject);\r\n\t\t\r\n\t\treturn existingClassSubject;\r\n\t}\r\n\r\nService: \r\n\r\npublic interface ClassService {\r\n\r\n\tClasses saveClass(Classes classes);\r\n\r\n\tList&lt;Classes&gt; getAllClasses();\r\n\t\r\n\tClasses getClassByID(int classId);\r\n\t\r\n\tClasses updateClass(Classes classes, int classId);\r\n\t\r\n\tvoid deleteClass(int classId);\r\n}\r\n\r\nSQL Queries:\r\n\r\nCREATE TABLE class_subject(\r\n\r\n\tsubject_id INT NOT NULL,\r\n    prerequisite VARCHAR(30),\r\n    max_capacity INT NOT NULL,\r\n    \r\n    PRIMARY KEY (subject_id)\r\n);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IqPkM.png","title":"Why am I receiving a &quot;Request method &#39;POST&#39; not supported&quot; ? I get error code 405 on postman","body":"<p><a href=\"https://i.stack.imgur.com/IqPkM.png\" rel=\"nofollow noreferrer\">Postman error</a></p>\n<p>Controller:</p>\n<p>@RestController</p>\n<p>@RequestMapping(&quot;/student_enrollment/class_subject&quot;)</p>\n<p>public class ClassController {</p>\n<pre><code>private ClassService classService;\npublic ClassController(ClassService classService) {\n    super();\n    this.classService = classService;\n}\n</code></pre>\n<p>@PostMapping()</p>\n<pre><code>public ResponseEntity&lt;Classes&gt; saveClass(@RequestBody Classes classes) {\n    return new ResponseEntity&lt;Classes&gt;(classService.saveClass(classes), \n    HttpStatus.CREATED);\n}\n\n@GetMapping\npublic List&lt;Classes&gt; getAllClasses() {\n    return classService.getAllClasses();\n}\n</code></pre>\n<p>model:</p>\n<p>@Data</p>\n<p>@Entity</p>\n<p>@Table(name = &quot;class_subject&quot;)</p>\n<p>public class ClassSubject {</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n\nprivate int subject_id;\n\n@Column(value = &quot;prerequisite&quot;)\nprivate String prerequisite;\n\n@Column(value = &quot;max_capacity&quot;)\nprivate int max_capacity;\n</code></pre>\n<p>}</p>\n<p>service impl:</p>\n<p>@Service\npublic class ClassServiceImpl implements ClassService{</p>\n<p>@Override</p>\n<pre><code>public ClassSubject updateClassSubject(ClassSubject classSubject, int classSubjectId) {\n    \n    ClassSubject existingClassSubject = classSubjectRepository.findById(classSubjectId).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;ClassSubject&quot;, &quot;classSubjectId&quot;, classSubjectId));\n    \n    existingClassSubject.setSubject_id(classSubject.getSubject_id());\n    existingClassSubject.setPrerequisite(classSubject.getPrerequisite());\n    existingClassSubject.setMax_capacity(classSubject.getMax_capacity());\n    \n    classSubjectRepository.save(existingClassSubject);\n    \n    return existingClassSubject;\n}\n</code></pre>\n<p>Service:</p>\n<p>public interface ClassService {</p>\n<pre><code>Classes saveClass(Classes classes);\n\nList&lt;Classes&gt; getAllClasses();\n\nClasses getClassByID(int classId);\n\nClasses updateClass(Classes classes, int classId);\n\nvoid deleteClass(int classId);\n</code></pre>\n<p>}</p>\n<p>SQL Queries:</p>\n<p>CREATE TABLE class_subject(</p>\n<pre><code>subject_id INT NOT NULL,\nprerequisite VARCHAR(30),\nmax_capacity INT NOT NULL,\n\nPRIMARY KEY (subject_id)\n</code></pre>\n<p>);</p>\n"},{"tags":["java","garbage-collection","runtime","compiler-optimization","garbage"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1656381555,"post_id":72779888,"comment_id":128552550,"body_markdown":"About the only time you really know that at compile time is when an object reference is on the stack and doesn&#39;t escape the method. In that case the object can be destroyed immediately on method exit, like a C++ object in automatic storage. But GC already runs in its own thread, and GC already knows what objects are reachable.","body":"About the only time you really know that at compile time is when an object reference is on the stack and doesn&#39;t escape the method. In that case the object can be destroyed immediately on method exit, like a C++ object in automatic storage. But GC already runs in its own thread, and GC already knows what objects are reachable."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1656403024,"post_id":72779888,"comment_id":128556800,"body_markdown":"Concurrent collectors do already exist. But concurrent execution contradicts the idea of having a particular point of time in general, whether that non-existing point would be determined at runtime or at compile time. The question simply makes no sense.","body":"Concurrent collectors do already exist. But concurrent execution contradicts the idea of having a particular point of time in general, whether that non-existing point would be determined at runtime or at compile time. The question simply makes no sense."}],"owner":{"account_id":15103213,"reputation":348,"user_id":10899638,"display_name":"2474101468"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656380898,"creation_date":1656380898,"question_id":72779888,"body_markdown":"Usually the necessity of GC is evaluated at runtime.  \r\nBut, is there any idea or implementation to determine good timing for GC opportunity at compile time? For example, we may be able to collect garbage safely with a concurrent thread without locking the whole runtime. We may be sure that some old objects do not need GC.  ","title":"Is it possible to optimize garbage collection (GC) time cost by determining some good collection opportunities at compile time?","body":"<p>Usually the necessity of GC is evaluated at runtime.<br />\nBut, is there any idea or implementation to determine good timing for GC opportunity at compile time? For example, we may be able to collect garbage safely with a concurrent thread without locking the whole runtime. We may be sure that some old objects do not need GC.</p>\n"},{"tags":["java","c++","java-native-interface","field","memory-address"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":6,"creation_date":1656364312,"post_id":72778175,"comment_id":128549720,"body_markdown":"Directly poking into JVM-managed memory is a recipe for tears. Do not do this.","body":"Directly poking into JVM-managed memory is a recipe for tears. Do not do this."},{"owner":{"account_id":19602686,"reputation":9,"user_id":14477886,"display_name":"Gru2303"},"score":0,"creation_date":1656364502,"post_id":72778175,"comment_id":128549766,"body_markdown":"@Botje Sorry, I need this","body":"@Botje Sorry, I need this"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":6,"creation_date":1656364699,"post_id":72778175,"comment_id":128549816,"body_markdown":"Please explain why you use case is so special it needs to break the JVM memory safety and why the Get\\*Field methods are not sufficient.","body":"Please explain why you use case is so special it needs to break the JVM memory safety and why the Get*Field methods are not sufficient."},{"owner":{"account_id":407544,"reputation":8001,"user_id":777689,"display_name":"PeterT"},"score":0,"creation_date":1656364852,"post_id":72778175,"comment_id":128549853,"body_markdown":"you can look at the openjdk implementation, find the offset of jclass to the underlying &quot;oop&quot; (might be 0). Then the fieldID is just an offset: https://github.com/openjdk/jdk/blob/9583e3657e43cc1c6f2101a64534564db2a9bd84/src/hotspot/share/oops/oop.inline.hpp#L200 . This will obviously be thread-unsafe and only work for specific implementations of the jdk. (it will also only work if the static field is from that class exactly and not inherited from another class, otherwise you have to manually search the parent class objects)","body":"you can look at the openjdk implementation, find the offset of jclass to the underlying &quot;oop&quot; (might be 0). Then the fieldID is just an offset: <a href=\"https://github.com/openjdk/jdk/blob/9583e3657e43cc1c6f2101a64534564db2a9bd84/src/hotspot/share/oops/oop.inline.hpp#L200\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/&hellip;</a> . This will obviously be thread-unsafe and only work for specific implementations of the jdk. (it will also only work if the static field is from that class exactly and not inherited from another class, otherwise you have to manually search the parent class objects)"},{"owner":{"account_id":19602686,"reputation":9,"user_id":14477886,"display_name":"Gru2303"},"score":0,"creation_date":1656365161,"post_id":72778175,"comment_id":128549939,"body_markdown":"@Botje I just need this. I&#39;m sorry, I can&#39;t tell you why I need this.","body":"@Botje I just need this. I&#39;m sorry, I can&#39;t tell you why I need this."},{"owner":{"account_id":19602686,"reputation":9,"user_id":14477886,"display_name":"Gru2303"},"score":0,"creation_date":1656365577,"post_id":72778175,"comment_id":128550055,"body_markdown":"@PeterT Using experiments, I noticed that the address of the static change and the address of the data I received using &quot;GetStatic*Field&quot; are shifted by the number of bytes that store the change. But changing the value of a change in address, the value in the java class does not change.","body":"@PeterT Using experiments, I noticed that the address of the static change and the address of the data I received using &quot;GetStatic*Field&quot; are shifted by the number of bytes that store the change. But changing the value of a change in address, the value in the java class does not change."},{"owner":{"account_id":407544,"reputation":8001,"user_id":777689,"display_name":"PeterT"},"score":0,"creation_date":1656366139,"post_id":72778175,"comment_id":128550195,"body_markdown":"@Gru2303 if you just change the value from outside of java without jni APIs, but read the value from within java then the JVM will have no reason to re-read the static value from memory, because it will assume it&#39;s unchanged, right? That&#39;s why the JNI code does stuff like `oop_store_at` and check the thread","body":"@Gru2303 if you just change the value from outside of java without jni APIs, but read the value from within java then the JVM will have no reason to re-read the static value from memory, because it will assume it&#39;s unchanged, right? That&#39;s why the JNI code does stuff like <code>oop_store_at</code> and check the thread"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1656366545,"post_id":72778175,"comment_id":128550288,"body_markdown":"Why do you expect this object will remain in the same place in memory over time?  (One of many reasons why you should give up on this approach.)","body":"Why do you expect this object will remain in the same place in memory over time?  (One of many reasons why you should give up on this approach.)"},{"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":4,"creation_date":1656367376,"post_id":72778175,"comment_id":128550477,"body_markdown":"@Gru2303 &quot;*I just need this. I&#39;m sorry, I can&#39;t tell you why I need this*&quot; - then, I&#39;m sorry, you are not likely to get much help on this. What you are asking for is borderline malicious, it breaks safeguards that are in place to protect memory and applications from abuse. So, if you have a *good* reason to break those safeguards, I suggest you explain it as best you can.","body":"@Gru2303 &quot;<i>I just need this. I&#39;m sorry, I can&#39;t tell you why I need this</i>&quot; - then, I&#39;m sorry, you are not likely to get much help on this. What you are asking for is borderline malicious, it breaks safeguards that are in place to protect memory and applications from abuse. So, if you have a <i>good</i> reason to break those safeguards, I suggest you explain it as best you can."},{"owner":{"account_id":407544,"reputation":8001,"user_id":777689,"display_name":"PeterT"},"score":2,"creation_date":1656367587,"post_id":72778175,"comment_id":128550516,"body_markdown":"also, it appears like it&#39;s using &quot;compressed pointers&quot; on some architectures. So you can see that it &quot;decodes pointers&quot; https://github.com/openjdk/jdk/blob/270cf67e5ff19b082f710d52831f436dd144d883/src/hotspot/cpu/x86/macroAssembler_x86.cpp#L5095-L5109 before writing/reading.  Some illustrations available here: https://www.baeldung.com/jvm-compressed-oops#1basic-optimization","body":"also, it appears like it&#39;s using &quot;compressed pointers&quot; on some architectures. So you can see that it &quot;decodes pointers&quot; <a href=\"https://github.com/openjdk/jdk/blob/270cf67e5ff19b082f710d52831f436dd144d883/src/hotspot/cpu/x86/macroAssembler_x86.cpp#L5095-L5109\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/&hellip;</a> before writing/reading.  Some illustrations available here: <a href=\"https://www.baeldung.com/jvm-compressed-oops#1basic-optimization\" rel=\"nofollow noreferrer\">baeldung.com/jvm-compressed-oops#1basic-optimization</a>"},{"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":4,"creation_date":1656367638,"post_id":72778175,"comment_id":128550529,"body_markdown":"@PeterT note that what you describe is an *implementation detail* of that particular JVM. No guarantee that other JVMs operate the same way. The returned ID of the static field is not guaranteed to be an offset at all.  Its value is meaningful only to the JVM&#39;s implementation of the `GetStatic&lt;type&gt;Field()` functions.","body":"@PeterT note that what you describe is an <i>implementation detail</i> of that particular JVM. No guarantee that other JVMs operate the same way. The returned ID of the static field is not guaranteed to be an offset at all.  Its value is meaningful only to the JVM&#39;s implementation of the <code>GetStatic&lt;type&gt;Field()</code> functions."},{"owner":{"account_id":19602686,"reputation":9,"user_id":14477886,"display_name":"Gru2303"},"score":0,"creation_date":1656367808,"post_id":72778175,"comment_id":128550561,"body_markdown":"@RemyLebeau I am writing software protection against JNI and blocking the Set and Get Field function in some situations. And I need to get the memory address of the data field where it is stored","body":"@RemyLebeau I am writing software protection against JNI and blocking the Set and Get Field function in some situations. And I need to get the memory address of the data field where it is stored"},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":2,"creation_date":1656375791,"post_id":72778175,"comment_id":128551838,"body_markdown":"@Gru2303 *I am writing software protection against JNI...*  Do you control the JVM?  All the libraries the JVM links in? Can you protect against `LD_PRELOAD` or other library injections?  Do you control the OS and kernel the JVM is running under?  You need to really think your design through, else something you spend months or even years implementing might literally take someone who figures out what you&#39;re doing all of 30 seconds to defeat.","body":"@Gru2303 <i>I am writing software protection against JNI...</i>  Do you control the JVM?  All the libraries the JVM links in? Can you protect against <code>LD_PRELOAD</code> or other library injections?  Do you control the OS and kernel the JVM is running under?  You need to really think your design through, else something you spend months or even years implementing might literally take someone who figures out what you&#39;re doing all of 30 seconds to defeat."}],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1656380821,"creation_date":1656369358,"answer_id":72778943,"question_id":72778175,"body_markdown":"Fields in the JVM have no addresses. There are only references to objects (which are _not_ pointers), and then those references are accessed at a certain offset to read or write a field.\r\n\r\nThis operation might involve un-compressing and adding the reference&#39; value to the heap base address to obtain a temporary memory address. It will also potentially be guarded by GC barriers. i.e. it is not a simple pointer dereference. Of course, outside of this operation the GC is free to move the object around. Since every access is guarded by a GC barrier, even the reference value itself might be stale, since the GC could defer updating the value until just before the access, inside the GC barrier.\r\n\r\nSo, in short, getting the address of a field is not really possible, and reading/writing through that address even less so. At best you can hope to get some ephemeral value which points somewhere into the Java heap.","title":"Can I get the memory address on the data from the static JNI field?","body":"<p>Fields in the JVM have no addresses. There are only references to objects (which are <em>not</em> pointers), and then those references are accessed at a certain offset to read or write a field.</p>\n<p>This operation might involve un-compressing and adding the reference' value to the heap base address to obtain a temporary memory address. It will also potentially be guarded by GC barriers. i.e. it is not a simple pointer dereference. Of course, outside of this operation the GC is free to move the object around. Since every access is guarded by a GC barrier, even the reference value itself might be stale, since the GC could defer updating the value until just before the access, inside the GC barrier.</p>\n<p>So, in short, getting the address of a field is not really possible, and reading/writing through that address even less so. At best you can hope to get some ephemeral value which points somewhere into the Java heap.</p>\n"}],"owner":{"account_id":19602686,"reputation":9,"user_id":14477886,"display_name":"Gru2303"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":72778943,"answer_count":1,"score":-1,"last_activity_date":1656380821,"creation_date":1656363136,"question_id":72778175,"body_markdown":"Can I get the memory address on the data from the static JNI field?\r\n\r\nFor example, I have 2 situations:\r\n\r\nFirst:\r\n\r\n    jclass clazz = ...;\r\n    jfieldID staticFiled = ...; // static field on java object\r\n    uintptr_t *staticFiledPtr = ((uint64_t) staticFiled); // get field ptr\r\n\r\n    jboolean *boolPtr = *magic code with static field*;\r\n    *boolPtr = true;\r\n\r\nSecond:\r\n\r\n    jclass clazz = ...;\r\n    jfieldID staticFiled = ...; // static field on java object\r\n    uintptr_t *staticFiledPtr = ((uint64_t) staticFiled); // get field ptr\r\n\r\n    jobject *objectPtr = *magic code with static field*;\r\n    jobject object = *objectPtr;\r\n\r\nThe examples are very simple. I just want to get the memory address on the static field data, without using GetStaticObjectField and etc. It is possible?","title":"Can I get the memory address on the data from the static JNI field?","body":"<p>Can I get the memory address on the data from the static JNI field?</p>\n<p>For example, I have 2 situations:</p>\n<p>First:</p>\n<pre><code>jclass clazz = ...;\njfieldID staticFiled = ...; // static field on java object\nuintptr_t *staticFiledPtr = ((uint64_t) staticFiled); // get field ptr\n\njboolean *boolPtr = *magic code with static field*;\n*boolPtr = true;\n</code></pre>\n<p>Second:</p>\n<pre><code>jclass clazz = ...;\njfieldID staticFiled = ...; // static field on java object\nuintptr_t *staticFiledPtr = ((uint64_t) staticFiled); // get field ptr\n\njobject *objectPtr = *magic code with static field*;\njobject object = *objectPtr;\n</code></pre>\n<p>The examples are very simple. I just want to get the memory address on the static field data, without using GetStaticObjectField and etc. It is possible?</p>\n"},{"tags":["java","sqlite","foreign-keys","syntax-error"],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1628358007,"creation_date":1628358007,"answer_id":68694762,"question_id":68694701,"body_markdown":"Either move all the `FOREIGN KEY` definitions at the end of the statement:\r\n\r\n    CREATE TABLE IF NOT EXISTS PostCode(\r\n      PostCode_ID integer PRIMARY KEY, \r\n      Code TEXT NOT NULL, \r\n      City_ID integer,\r\n      County_ID integer,\r\n      FOREIGN KEY (City_ID) REFERENCES City (City_ID) ON UPDATE CASCADE ON DELETE SET NULL, \r\n      FOREIGN KEY (County_ID)REFERENCES County (County_ID) ON UPDATE CASCADE ON DELETE SET NULL\r\n    );\r\n\r\nor, define each foreign key right after the definition of each column without the `FOREIGN KEY` keywords:\r\n\r\n    CREATE TABLE IF NOT EXISTS PostCode(\r\n      PostCode_ID integer PRIMARY KEY, \r\n      Code TEXT NOT NULL, \r\n      City_ID integer REFERENCES City (City_ID) ON UPDATE CASCADE ON DELETE SET NULL,\r\n      County_ID integer REFERENCES County (County_ID) ON UPDATE CASCADE ON DELETE SET NULL\r\n    );\r\n\r\nSee the [demo][1].&lt;br/&gt;\r\n\r\nNote that there is no `string` data type in SQLite.&lt;br/&gt;\r\nI changed it to `TEXT`.\r\n\r\n\r\n  [1]: https://dbfiddle.uk/?rdbms=sqlite_3.27&amp;fiddle=5cd217a0055dce0e3526e050e774fb8a","title":"How to use multiple foreign keys in one table in sqlite?","body":"<p>Either move all the <code>FOREIGN KEY</code> definitions at the end of the statement:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS PostCode(\n  PostCode_ID integer PRIMARY KEY, \n  Code TEXT NOT NULL, \n  City_ID integer,\n  County_ID integer,\n  FOREIGN KEY (City_ID) REFERENCES City (City_ID) ON UPDATE CASCADE ON DELETE SET NULL, \n  FOREIGN KEY (County_ID)REFERENCES County (County_ID) ON UPDATE CASCADE ON DELETE SET NULL\n);\n</code></pre>\n<p>or, define each foreign key right after the definition of each column without the <code>FOREIGN KEY</code> keywords:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS PostCode(\n  PostCode_ID integer PRIMARY KEY, \n  Code TEXT NOT NULL, \n  City_ID integer REFERENCES City (City_ID) ON UPDATE CASCADE ON DELETE SET NULL,\n  County_ID integer REFERENCES County (County_ID) ON UPDATE CASCADE ON DELETE SET NULL\n);\n</code></pre>\n<p>See the <a href=\"https://dbfiddle.uk/?rdbms=sqlite_3.27&amp;fiddle=5cd217a0055dce0e3526e050e774fb8a\" rel=\"nofollow noreferrer\">demo</a>.<br/></p>\n<p>Note that there is no <code>string</code> data type in SQLite.<br/>\nI changed it to <code>TEXT</code>.</p>\n"}],"owner":{"account_id":22356097,"reputation":9,"user_id":16573369,"display_name":"Dwight Young"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1439,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":68694762,"answer_count":1,"score":-1,"last_activity_date":1656380557,"creation_date":1628357396,"question_id":68694701,"body_markdown":"```\r\nString Post_Code = &quot;CREATE TABLE IF NOT EXISTS PostCode(&quot;\r\n                        + &quot;PostCode_ID integer PRIMARY KEY, &quot;\r\n                        + &quot;Code        string NOT NULL, &quot;\r\n                        + &quot;City_ID     integer,&quot;\r\n                        + &quot;FOREIGN KEY (City_ID)&quot;\r\n                        + &quot;REFERENCES City (City_ID)&quot;\r\n                        +   &quot;ON UPDATE CASCADE &quot;\r\n                        +   &quot;ON DELETE SET NULL, &quot;\r\n                        + &quot;County_ID   integer,&quot;\r\n                        + &quot;FOREIGN KEY (County_ID)&quot;\r\n                        + &quot;REFERENCES County (County_ID)&quot;\r\n                        +   &quot;ON UPDATE CASCADE &quot;\r\n                        +   &quot;ON DELETE SET NULL&quot;\r\n                        + &quot;);&quot;;\r\n```\r\nI believe it&#39;s most likely to be something within the first foreign key reference.","title":"How to use multiple foreign keys in one table in sqlite?","body":"<pre><code>String Post_Code = &quot;CREATE TABLE IF NOT EXISTS PostCode(&quot;\n                        + &quot;PostCode_ID integer PRIMARY KEY, &quot;\n                        + &quot;Code        string NOT NULL, &quot;\n                        + &quot;City_ID     integer,&quot;\n                        + &quot;FOREIGN KEY (City_ID)&quot;\n                        + &quot;REFERENCES City (City_ID)&quot;\n                        +   &quot;ON UPDATE CASCADE &quot;\n                        +   &quot;ON DELETE SET NULL, &quot;\n                        + &quot;County_ID   integer,&quot;\n                        + &quot;FOREIGN KEY (County_ID)&quot;\n                        + &quot;REFERENCES County (County_ID)&quot;\n                        +   &quot;ON UPDATE CASCADE &quot;\n                        +   &quot;ON DELETE SET NULL&quot;\n                        + &quot;);&quot;;\n</code></pre>\n<p>I believe it's most likely to be something within the first foreign key reference.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1656380433,"post_id":72779827,"comment_id":128552414,"body_markdown":"Have you done a build (i.e. `mvn clean package` or something like it)?","body":"Have you done a build (i.e. <code>mvn clean package</code> or something like it)?"},{"owner":{"account_id":15251429,"reputation":3,"user_id":11004656,"display_name":"entrepreneurSam"},"score":0,"creation_date":1656389647,"post_id":72779827,"comment_id":128553623,"body_markdown":"Yes, through manual I did.","body":"Yes, through manual I did."}],"owner":{"account_id":15251429,"reputation":3,"user_id":11004656,"display_name":"entrepreneurSam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656380097,"creation_date":1656380097,"question_id":72779827,"body_markdown":"At the time of deployment code, this problem occurred, which is unable to understand?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QiC10.jpg`\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Thanks for using https://jar-download.com --&gt;\r\n`","title":"jakarta.servlet.jsp.jstl-api-2.0.0.jar which is referenced by the classpath, does not exist? How to resolve","body":"<p>At the time of deployment code, this problem occurred, which is unable to understand?</p>\n<p>[1]: <a href=\"https://i.stack.imgur.com/QiC10.jpg%60\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/QiC10.jpg`</a> \njakarta.servlet.jsp.jstl\njakarta.servlet.jsp.jstl-api\n2.0.0\n\n\n`</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1656379704,"post_id":72776828,"comment_id":128552323,"body_markdown":"What do you mean by &quot;vertically&quot;?","body":"What do you mean by &quot;vertically&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":13933885,"reputation":125,"user_id":14897805,"display_name":"Martin Ma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656380012,"creation_date":1656355108,"answer_id":72776917,"question_id":72776828,"body_markdown":"Hi if you mean to display each value from results on new line you can do this :\r\n\r\n     public static void display() {\r\n        List&lt;Integer&gt; results = List.of(1, 2, 46);\r\n        for (Integer result : results) {\r\n            System.out.println(result);\r\n        }\r\n    }\r\n\r\nSee this [code run live at Ideone.com][1].\r\n\r\n```none\r\n1\r\n2\r\n46\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nOr, use [streams][2] to iterate each element of the list, using a [method reference][3] to print.\r\n\r\n    List\r\n        .of( 1, 2, 46 )\r\n        .stream()\r\n        .forEach( System.out :: println ) ;\r\n\r\nSame result.\r\n\r\n\r\n  [1]: https://ideone.com/kidFRL\r\n  [2]: https://www.baeldung.com/java-8-streams-introduction\r\n  [3]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html","title":"How to return arraylist vertically","body":"<p>Hi if you mean to display each value from results on new line you can do this :</p>\n<pre><code> public static void display() {\n    List&lt;Integer&gt; results = List.of(1, 2, 46);\n    for (Integer result : results) {\n        System.out.println(result);\n    }\n}\n</code></pre>\n<p>See this <a href=\"https://ideone.com/kidFRL\" rel=\"nofollow noreferrer\">code run live at Ideone.com</a>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>1\n2\n46\n</code></pre>\n<hr />\n<p>Or, use <a href=\"https://www.baeldung.com/java-8-streams-introduction\" rel=\"nofollow noreferrer\">streams</a> to iterate each element of the list, using a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method reference</a> to print.</p>\n<pre><code>List\n    .of( 1, 2, 46 )\n    .stream()\n    .forEach( System.out :: println ) ;\n</code></pre>\n<p>Same result.</p>\n"}],"owner":{"account_id":18571947,"reputation":3,"user_id":13533581,"display_name":"Adil Omarji"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":72776917,"answer_count":1,"score":-3,"last_activity_date":1656380012,"creation_date":1656354600,"question_id":72776828,"body_markdown":"I am trying to return an array list vertically but Im having some issues trying to implement it. Below is my code, and the `return results;` Output is what Im trying to get to be vertically\r\n\r\n   \r\n        \r\n\r\n    public static List&lt;Integer&gt; predictAnswer(List&lt;Integer&gt; stockData, List&lt;Integer&gt; queries) {\r\n    // Write your code here\r\n    \r\n    //Declare list for storing result\r\n    List&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\r\n    //Declare variable for storing index of previous and next smaller stock\r\n    int previousNear = -1, nextNear =-1;\r\n    \r\n    for (int query : queries){\r\n        // Reset previousNear and nextNear values\r\n        previousNear = nextNear = -1;\r\n        \r\n        //Iterate and find smaller stock to first day; previousNear reamians -1 if smaller stock not found\r\n        for (int day = query - 1; day&gt;= 0; day--){\r\n            if (stockData.get(query - 1) &gt; stockData.get(day)){\r\n                previousNear = day;\r\n                break;\r\n            }\r\n        }\r\n       //Iterate and find smaller stock to last day; nextNear remains -1 if smaller stock not   found\r\n       for (int day = query; day &lt; stockData.size(); day++) {\r\n           \r\n           if (stockData.get(query -1 ) &gt; stockData.get(day)){\r\n               nextNear = day;\r\n               break;\r\n           }\r\n           \r\n       }\r\n       if (previousNear == -1 &amp;&amp; nextNear == -1)\r\n            result.add(-1);\r\n            \r\n        else if (previousNear == -1 &amp;&amp; nextNear!= -1)\r\n        result.add(nextNear + 1);\r\n        else if (query - previousNear - 1 &gt; nextNear - query + 1)\r\n            result.add(nextNear + 1);\r\n            else result.add(previousNear + 1);\r\n        \r\n    \r\n}\r\n\r\n\r\n\r\n```\r\n\r\nreturn result;\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy current output is **[2, 4, -1]**\r\n\r\n Id like it to be \r\n\r\n```\r\n2\r\n4\r\n-1\r\n```\r\n\r\nAny help would be appreciated. Thank you in advance ","title":"How to return arraylist vertically","body":"<p>I am trying to return an array list vertically but Im having some issues trying to implement it. Below is my code, and the <code>return results;</code> Output is what Im trying to get to be vertically</p>\n<pre><code>public static List&lt;Integer&gt; predictAnswer(List&lt;Integer&gt; stockData, List&lt;Integer&gt; queries) {\n// Write your code here\n\n//Declare list for storing result\nList&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\n//Declare variable for storing index of previous and next smaller stock\nint previousNear = -1, nextNear =-1;\n\nfor (int query : queries){\n    // Reset previousNear and nextNear values\n    previousNear = nextNear = -1;\n    \n    //Iterate and find smaller stock to first day; previousNear reamians -1 if smaller stock not found\n    for (int day = query - 1; day&gt;= 0; day--){\n        if (stockData.get(query - 1) &gt; stockData.get(day)){\n            previousNear = day;\n            break;\n        }\n    }\n   //Iterate and find smaller stock to last day; nextNear remains -1 if smaller stock not   found\n   for (int day = query; day &lt; stockData.size(); day++) {\n       \n       if (stockData.get(query -1 ) &gt; stockData.get(day)){\n           nextNear = day;\n           break;\n       }\n       \n   }\n   if (previousNear == -1 &amp;&amp; nextNear == -1)\n        result.add(-1);\n        \n    else if (previousNear == -1 &amp;&amp; nextNear!= -1)\n    result.add(nextNear + 1);\n    else if (query - previousNear - 1 &gt; nextNear - query + 1)\n        result.add(nextNear + 1);\n        else result.add(previousNear + 1);\n    \n</code></pre>\n<p>}</p>\n<pre><code>\nreturn result;\n    }\n\n}\n</code></pre>\n<p>My current output is <strong>[2, 4, -1]</strong></p>\n<p>Id like it to be</p>\n<pre><code>2\n4\n-1\n</code></pre>\n<p>Any help would be appreciated. Thank you in advance</p>\n"},{"tags":["java","null","user-input","joptionpane"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1656374489,"post_id":72779408,"comment_id":128551655,"body_markdown":"You seem to have declared `moviename` twice","body":"You seem to have declared <code>moviename</code> twice"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1656374973,"post_id":72779408,"comment_id":128551724,"body_markdown":"`moviename.equals(&quot;null&quot;)` should be `null == moviename`","body":"<code>moviename.equals(&quot;null&quot;)</code> should be <code>null == moviename</code>"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1656377111,"post_id":72779408,"comment_id":128552013,"body_markdown":"You may want to also consider placing the entry response into an `else` block, for example: `if (moviename == null || moviename.trim().isEmpty()) { JOptionPane.showMessageDialog(null, &quot;You did not enter anything&quot;); } else {             JOptionPane.showMessageDialog(null, moviename + &quot;, sounds like a good watch.&quot;);         }`.","body":"You may want to also consider placing the entry response into an <code>else</code> block, for example: <code>if (moviename == null || moviename.trim().isEmpty()) { JOptionPane.showMessageDialog(null, &quot;You did not enter anything&quot;); } else {             JOptionPane.showMessageDialog(null, moviename + &quot;, sounds like a good watch.&quot;);         }</code>."},{"owner":{"account_id":25665469,"reputation":1,"user_id":19430524,"display_name":"Rohaan Khan"},"score":0,"creation_date":1656377167,"post_id":72779408,"comment_id":128552029,"body_markdown":"Thanks a lot! I didn&#39;t seem to notice that while skimming my code. Much appreciated","body":"Thanks a lot! I didn&#39;t seem to notice that while skimming my code. Much appreciated"},{"owner":{"account_id":25665469,"reputation":1,"user_id":19430524,"display_name":"Rohaan Khan"},"score":1,"creation_date":1656377652,"post_id":72779408,"comment_id":128552077,"body_markdown":"@DevilsHnd, Thanks for helping a rookie coder out :), I was wondering why it still kept on showing error messages in the console, regards.","body":"@DevilsHnd, Thanks for helping a rookie coder out :), I was wondering why it still kept on showing error messages in the console, regards."}],"owner":{"account_id":25665469,"reputation":1,"user_id":19430524,"display_name":"Rohaan Khan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656377768,"creation_date":1656374224,"question_id":72779408,"body_markdown":"I&#39;m a rookie java coder, and I was trying to make a program that receives value from the user in which I can assign whatever he/she enters as a variable so that it can be displayed in a box through `JOptionPane.showMessageDialog(&quot;&quot;);`\r\n\r\nIf the user did not enter anything into the box (Meaning the user input value is equaled to null), java must respond with &quot;You did not enter anything&quot; in the form of `JOptionPane.showMessageDialog`.\r\nAlthough it keeps saying one of my variables cant be &quot;resolved&quot;\r\n\r\nhere&#39;s where the error is:\r\n\r\n    String moviename; \r\n    \r\n    String  moviename = JOptionPane.showInputDialog(&quot;Whats you favourite movie?&quot;);\r\n    JOptionPane.showMessageDialog(null, moviename+&quot;, sounds like a good watch.&quot;); \r\n         \r\n    if (moviename.equals(&quot;null&quot;)) { \r\n        \tJOptionPane.showMessageDialog(null, &quot;You did not enter anything&quot;); \r\n        }\r\n\r\n","title":"How do I make my user input as a variable in Java while dealing with J Option Pane","body":"<p>I'm a rookie java coder, and I was trying to make a program that receives value from the user in which I can assign whatever he/she enters as a variable so that it can be displayed in a box through <code>JOptionPane.showMessageDialog(&quot;&quot;);</code></p>\n<p>If the user did not enter anything into the box (Meaning the user input value is equaled to null), java must respond with &quot;You did not enter anything&quot; in the form of <code>JOptionPane.showMessageDialog</code>.\nAlthough it keeps saying one of my variables cant be &quot;resolved&quot;</p>\n<p>here's where the error is:</p>\n<pre><code>String moviename; \n\nString  moviename = JOptionPane.showInputDialog(&quot;Whats you favourite movie?&quot;);\nJOptionPane.showMessageDialog(null, moviename+&quot;, sounds like a good watch.&quot;); \n     \nif (moviename.equals(&quot;null&quot;)) { \n        JOptionPane.showMessageDialog(null, &quot;You did not enter anything&quot;); \n    }\n</code></pre>\n"},{"tags":["java","scala","gradle","jacoco"],"comments":[{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1580164548,"post_id":20032366,"comment_id":106000909,"body_markdown":"Somehow I missed that my keybinding had added `-x test`","body":"Somehow I missed that my keybinding had added <code>-x test</code>"}],"answers":[{"tags":[],"owner":{"account_id":31011,"reputation":122006,"user_id":84889,"display_name":"Peter Niederwieser"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1384709345,"creation_date":1384709345,"answer_id":20033831,"question_id":20032366,"body_markdown":"The task will only run if coverage data is available. You can make sure of that by also running the `test` task.","title":"Running jacocoReport","body":"<p>The task will only run if coverage data is available. You can make sure of that by also running the <code>test</code> task.</p>\n"},{"tags":[],"owner":{"account_id":5478536,"reputation":1338,"user_id":4355820,"display_name":"Pedro Jos&#233; Piquero Plaza"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1537260816,"creation_date":1418737644,"answer_id":27506104,"question_id":20032366,"body_markdown":"Add the following at a top level to your build.gradle:\r\n\r\n\r\n    test {\r\n     finalizedBy jacocoTestReport\r\n    }\r\n\r\nThis means that at the end of the test task the jacocoTestReport task should be run.\r\nYou will receive your coverage analysis after run the tests.\r\n","title":"Running jacocoReport","body":"<p>Add the following at a top level to your build.gradle:</p>\n\n<pre><code>test {\n finalizedBy jacocoTestReport\n}\n</code></pre>\n\n<p>This means that at the end of the test task the jacocoTestReport task should be run.\nYou will receive your coverage analysis after run the tests.</p>\n"},{"tags":[],"owner":{"account_id":3168871,"reputation":3839,"user_id":2678290,"display_name":"StylusEater"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1460380679,"creation_date":1449521497,"answer_id":34142984,"question_id":20032366,"body_markdown":"None of the above worked for me. What worked for me was the following\r\n\r\n\r\nAdd to the top of my build.gradle:\r\n\r\n    apply plugin: &#39;jacoco&#39; // code coverage reports\r\n\r\n\r\nAdd the following as a &#39;task&#39;:\r\n\r\n    // Generate code coverage reports ... run with jacoco\r\n    jacocoTestReport{\r\n        additionalSourceDirs = files(sourceSets.main.allJava.srcDirs)\r\n        reports {\r\n            xml.enabled false\r\n            csv.enabled false\r\n            html.destination &quot;${buildDir}/reports/jacoco/html&quot;\r\n        }\r\n        executionData = files(&#39;build/jacoco/test.exec&#39;)\r\n    }\r\n\r\n\r\nAdd the following to your gradle test task:\r\n\r\n    finalizedBy jacocoTestReport\r\n\r\nThen I issued the following command:\r\n\r\n    gradle run test jacoco","title":"Running jacocoReport","body":"<p>None of the above worked for me. What worked for me was the following</p>\n\n<p>Add to the top of my build.gradle:</p>\n\n<pre><code>apply plugin: 'jacoco' // code coverage reports\n</code></pre>\n\n<p>Add the following as a 'task':</p>\n\n<pre><code>// Generate code coverage reports ... run with jacoco\njacocoTestReport{\n    additionalSourceDirs = files(sourceSets.main.allJava.srcDirs)\n    reports {\n        xml.enabled false\n        csv.enabled false\n        html.destination \"${buildDir}/reports/jacoco/html\"\n    }\n    executionData = files('build/jacoco/test.exec')\n}\n</code></pre>\n\n<p>Add the following to your gradle test task:</p>\n\n<pre><code>finalizedBy jacocoTestReport\n</code></pre>\n\n<p>Then I issued the following command:</p>\n\n<pre><code>gradle run test jacoco\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10925100,"reputation":976,"user_id":8030048,"display_name":"M. Amer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636946859,"creation_date":1636946859,"answer_id":69969163,"question_id":20032366,"body_markdown":"**For Spring 2.5 Users, who got stuck with it for hours** -*just like myself*.\r\n&lt;br/&gt;\r\nI was not having the ***exec*** file generated.\r\n&lt;br/&gt;And because of that ,\r\nI found that the **jacocoTestReport** was simply &quot;**skipped**&quot;.\r\n\r\n**I got it fixed by adding** :\r\n\r\n    apply plugin: &#39;jacoco&#39;\r\n\r\n    test {\r\n      useJUnitPlatform()\r\n      finalizedBy jacocoTestReport // report is always generated after tests run\r\n    }\r\n\r\n    jacocoTestReport {\r\n        ...\r\n        ...\r\n        ...\r\n        ...\r\n    }\r\n\r\n\r\nThat&#39;s because I&#39;m using **Junit5 with spring boot 2.X**\r\n&lt;br/&gt;\r\nAnd as of today Junit5 is not by default in the test task,\r\n&lt;br/&gt;Hope this helps.","title":"Running jacocoReport","body":"<p><strong>For Spring 2.5 Users, who got stuck with it for hours</strong> -<em>just like myself</em>.\n<br/>\nI was not having the <em><strong>exec</strong></em> file generated.\n<br/>And because of that ,\nI found that the <strong>jacocoTestReport</strong> was simply &quot;<strong>skipped</strong>&quot;.</p>\n<p><strong>I got it fixed by adding</strong> :</p>\n<pre><code>apply plugin: 'jacoco'\n\ntest {\n  useJUnitPlatform()\n  finalizedBy jacocoTestReport // report is always generated after tests run\n}\n\njacocoTestReport {\n    ...\n    ...\n    ...\n    ...\n}\n</code></pre>\n<p>That's because I'm using <strong>Junit5 with spring boot 2.X</strong>\n<br/>\nAnd as of today Junit5 is not by default in the test task,\n<br/>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1342401,"reputation":23303,"user_id":1283845,"accept_rate":65,"display_name":"BlackHatSamurai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656376126,"creation_date":1656376126,"answer_id":72779547,"question_id":20032366,"body_markdown":"For me the issue was that the `executionData.setFrom(executionSource)` file path was wrong. ","title":"Running jacocoReport","body":"<p>For me the issue was that the <code>executionData.setFrom(executionSource)</code> file path was wrong.</p>\n"}],"owner":{"account_id":10728,"reputation":4304,"user_id":20391,"accept_rate":70,"display_name":"Pavel Bernshtam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43052,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":20033831,"answer_count":5,"score":41,"last_activity_date":1656376126,"creation_date":1384701503,"question_id":20032366,"body_markdown":"I&#39;m using Gradle 1.7 and Jacoco plugin. My project uses Java and Scala plugins.  \r\nWhen I run `gradlew  -i clean jacocoTestReport`\r\n\r\nReport is not created and I see in the log\r\n\r\n    :bl:jacocoTestReport (Thread[Daemon Thread 13,5,main] - start\r\n    :bl:jacocoTestReport\r\n    Skipping task &#39;:bl:jacocoTestReport&#39; as task onlyIf is false.\r\n    :bl:jacocoTestReport SKIPPED\r\n    :bl:jacocoTestReport (Thread[Daemon Thread 13,5,main]) - complete\r\n\r\nWhat does it mean? Why report is not created?","title":"Running jacocoReport","body":"<p>I'm using Gradle 1.7 and Jacoco plugin. My project uses Java and Scala plugins.<br>\nWhen I run <code>gradlew  -i clean jacocoTestReport</code></p>\n\n<p>Report is not created and I see in the log</p>\n\n<pre><code>:bl:jacocoTestReport (Thread[Daemon Thread 13,5,main] - start\n:bl:jacocoTestReport\nSkipping task ':bl:jacocoTestReport' as task onlyIf is false.\n:bl:jacocoTestReport SKIPPED\n:bl:jacocoTestReport (Thread[Daemon Thread 13,5,main]) - complete\n</code></pre>\n\n<p>What does it mean? Why report is not created?</p>\n"},{"tags":["java","aes"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1656078057,"post_id":72778227,"comment_id":128549456,"body_markdown":"&quot;I&#39;m assuming OpenSSL id-aes256-wrap-pad cipher corresponds to AES/CBC/PKCS5Padding in WRAP_MODE&quot;. **Why would you assume that?** Hint: Maybe you can find a better one [here](https://docs.oracle.com/javase/9/docs/specs/security/standard-names.html#cipher-algorithm-names)?","body":"&quot;I&#39;m assuming OpenSSL id-aes256-wrap-pad cipher corresponds to AES/CBC/PKCS5Padding in WRAP_MODE&quot;. <b>Why would you assume that?</b> Hint: Maybe you can find a better one <a href=\"https://docs.oracle.com/javase/9/docs/specs/security/standard-names.html#cipher-algorithm-names\" rel=\"nofollow noreferrer\">here</a>?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1656118818,"post_id":72778227,"comment_id":128549457,"body_markdown":"@MaartenBodewes+ or better [in 17](https://docs.oracle.com/en/java/javase/17/docs/specs/security/standard-names.html#cipher-algorithm-names) which [added the 5649 algorithms](https://www.oracle.com/java/technologies/javase/17-relnote-issues.html#JDK-8248268) (plus 17 is still supported while 9 is past EOL)","body":"@MaartenBodewes+ or better <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/security/standard-names.html#cipher-algorithm-names\" rel=\"nofollow noreferrer\">in 17</a> which <a href=\"https://www.oracle.com/java/technologies/javase/17-relnote-issues.html#JDK-8248268\" rel=\"nofollow noreferrer\">added the 5649 algorithms</a> (plus 17 is still supported while 9 is past EOL)"}],"answers":[{"tags":[],"owner":{"account_id":4240527,"reputation":800,"user_id":3470556,"accept_rate":100,"display_name":"Filip Stefanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656374176,"creation_date":1656333337,"answer_id":72778228,"question_id":72778227,"body_markdown":"CBC is not the right one, my IV is wrong too.\r\n\r\nCorrect cipher is `AESWrapPad` introduced in Java 17 and IV should be `{(byte)0xa6, (byte)0x59, (byte)0x59, (byte)0xa6}` now i can import to AWS HSM.\r\n\r\nMaven support for Java 17 starts from 3.8.x\r\n","title":"RFC 5649 Key wrapping with SunJCE provider","body":"<p>CBC is not the right one, my IV is wrong too.</p>\n<p>Correct cipher is <code>AESWrapPad</code> introduced in Java 17 and IV should be <code>{(byte)0xa6, (byte)0x59, (byte)0x59, (byte)0xa6}</code> now i can import to AWS HSM.</p>\n<p>Maven support for Java 17 starts from 3.8.x</p>\n"}],"owner":{"account_id":4240527,"reputation":800,"user_id":3470556,"accept_rate":100,"display_name":"Filip Stefanov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656374176,"creation_date":1656062029,"question_id":72778227,"body_markdown":"I&#39;m trying to implement [this][1] OpenSSL hybrid wrapping using SunJCE provider and unwrap the key to AWS HSM, unfortunately failing miserably so far.\r\n\r\n\r\n  [1]: https://aws.amazon.com/premiumsupport/knowledge-center/cloudhsm-import-keys-openssl\r\n\r\n\r\n    Command: unWrapKey -f wrapped_key_material -w 2883603 -noheader -l test -kc 3 -kt 0 -m 7\r\n\r\n\tCfm3CreateUnwrapTemplate2 returned: 0x00 : HSM Return: SUCCESS\r\n\r\n\tCfm2UnWrapWithTemplate2 returned: 0xad \r\n\r\n\tHSM Error: Operation Failed. Invalid inputs passed\r\n\r\nI&#39;m assuming OpenSSL `id-aes256-wrap-pad` cipher corresponds to `AES/CBC/PKCS5Padding` in `WRAP_MODE`\r\n\r\nFrom OpenSSL doc:\r\n\r\n    aes-[128|192|256]-wrap-pad key wrapping with padding using 128/192/256 bit AES\r\n\r\nThis is what I have so far:\r\n\r\n        // Generate 256bit AES KEK\r\n        KeyGenerator keyGen = KeyGenerator.getInstance(&quot;AES&quot;);\r\n        keyGen.init(256);\r\n        SecretKey masterKey = keyGen.generateKey();\r\n\r\n        // Load public RSA key\r\n        byte[] publicKeyBytes = Files.readAllBytes(Paths.get(publicKeyFile));\r\n        String publicPem = new String(publicKeyBytes, &quot;ASCII&quot;);\r\n        publicPem = publicPem.replaceAll(&quot;^-----BEGIN .* KEY-----\\n&quot;, &quot;&quot;);\r\n        publicPem = publicPem.replaceAll(&quot;-----END .* KEY-----$&quot;, &quot;&quot;);\r\n        byte[] encoded = Base64.getMimeDecoder().decode(publicPem);\r\n        PublicKey publicKey = KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(new X509EncodedKeySpec(encoded));\r\n\r\n        // Load private RSA pkcs#8 der\r\n        byte[] privateKeyBytes = Files.readAllBytes(Paths.get(privateKeyFile));\r\n        PrivateKey privateKey = KeyFactory.getInstance(&quot;RSA&quot;).generatePrivate(new PKCS8EncodedKeySpec(privateKeyBytes));\r\n\r\n        // Set RSA cipher parameters\r\n        OAEPParameterSpec spec = new OAEPParameterSpec(&quot;SHA-1&quot;, &quot;MGF1&quot;, MGF1ParameterSpec.SHA1, PSource.PSpecified.DEFAULT);\r\n        Cipher oaep = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA-1ANDMGF1Padding&quot;, &quot;SunJCE&quot;);\r\n        oaep.init(Cipher.WRAP_MODE, publicKey, spec);\r\n\r\n        // Set AES cipher parameters\r\n        byte[] ivBytes = { \r\n            (byte) 0xA6, (byte) 0xA6, (byte) 0xA6, (byte) 0xA6,\r\n            (byte) 0xA6, (byte) 0xA6, (byte) 0xA6, (byte) 0xA6,\r\n            (byte) 0xA6, (byte) 0xA6, (byte) 0xA6, (byte) 0xA6,\r\n            (byte) 0xA6, (byte) 0xA6, (byte) 0xA6, (byte) 0xA6,\r\n        };\r\n        IvParameterSpec ivSpec = new IvParameterSpec(ivBytes);\r\n        Cipher aes = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;, &quot;SunJCE&quot;);\r\n        aes.init(Cipher.WRAP_MODE, masterKey, ivSpec);\r\n\r\n        // Wrap private key with AES KEK\r\n        byte[] wrappedPrivateKey = aes.wrap(privateKey);\r\n\r\n       // Wrap AES KEK with public RSA key\r\n        byte[] wrappedMasterKey;\r\n        try {\r\n            wrappedMasterKey = oaep.wrap(masterKey);\r\n        } catch (IllegalBlockSizeException e) {\r\n            throw new RuntimeException(\r\n                &quot;AES key should always fit OAEP with normal sized RSA key&quot;, e);\r\n        }\r\n\r\n        // Concatenate wrapped KEK and wrapped private key\r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n        outputStream.write(wrappedMasterKey);\r\n        outputStream.write(wrappedPrivateKey);\r\n        byte wrappedKeys[] = outputStream.toByteArray();\r\n        Files.write(new File(&quot;wrapped_key_material&quot;).toPath(), wrappedKeys);\r\n\r\nMy uncertainties are mainly with my initialization vector, they pass hex A65959A6 to OpenSSL\r\n\r\n        for (byte b : iv) {\r\n            String st = String.format(&quot;%02X&quot;, b); \r\n            System.out.print(st);\r\n        }\r\nMy IV is `A6A6A6A6A6A6A6A6A6A6A6A6A6A6A6A6` AWS HSM consider `0xa6a6a6a6a6a6a6a6` as default IV\r\n\r\nNot sure if my concatenation is done correctly too.","title":"RFC 5649 Key wrapping with SunJCE provider","body":"<p>I'm trying to implement <a href=\"https://aws.amazon.com/premiumsupport/knowledge-center/cloudhsm-import-keys-openssl\" rel=\"nofollow noreferrer\">this</a> OpenSSL hybrid wrapping using SunJCE provider and unwrap the key to AWS HSM, unfortunately failing miserably so far.</p>\n<pre><code>Command: unWrapKey -f wrapped_key_material -w 2883603 -noheader -l test -kc 3 -kt 0 -m 7\n\nCfm3CreateUnwrapTemplate2 returned: 0x00 : HSM Return: SUCCESS\n\nCfm2UnWrapWithTemplate2 returned: 0xad \n\nHSM Error: Operation Failed. Invalid inputs passed\n</code></pre>\n<p>I'm assuming OpenSSL <code>id-aes256-wrap-pad</code> cipher corresponds to <code>AES/CBC/PKCS5Padding</code> in <code>WRAP_MODE</code></p>\n<p>From OpenSSL doc:</p>\n<pre><code>aes-[128|192|256]-wrap-pad key wrapping with padding using 128/192/256 bit AES\n</code></pre>\n<p>This is what I have so far:</p>\n<pre><code>    // Generate 256bit AES KEK\n    KeyGenerator keyGen = KeyGenerator.getInstance(&quot;AES&quot;);\n    keyGen.init(256);\n    SecretKey masterKey = keyGen.generateKey();\n\n    // Load public RSA key\n    byte[] publicKeyBytes = Files.readAllBytes(Paths.get(publicKeyFile));\n    String publicPem = new String(publicKeyBytes, &quot;ASCII&quot;);\n    publicPem = publicPem.replaceAll(&quot;^-----BEGIN .* KEY-----\\n&quot;, &quot;&quot;);\n    publicPem = publicPem.replaceAll(&quot;-----END .* KEY-----$&quot;, &quot;&quot;);\n    byte[] encoded = Base64.getMimeDecoder().decode(publicPem);\n    PublicKey publicKey = KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(new X509EncodedKeySpec(encoded));\n\n    // Load private RSA pkcs#8 der\n    byte[] privateKeyBytes = Files.readAllBytes(Paths.get(privateKeyFile));\n    PrivateKey privateKey = KeyFactory.getInstance(&quot;RSA&quot;).generatePrivate(new PKCS8EncodedKeySpec(privateKeyBytes));\n\n    // Set RSA cipher parameters\n    OAEPParameterSpec spec = new OAEPParameterSpec(&quot;SHA-1&quot;, &quot;MGF1&quot;, MGF1ParameterSpec.SHA1, PSource.PSpecified.DEFAULT);\n    Cipher oaep = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA-1ANDMGF1Padding&quot;, &quot;SunJCE&quot;);\n    oaep.init(Cipher.WRAP_MODE, publicKey, spec);\n\n    // Set AES cipher parameters\n    byte[] ivBytes = { \n        (byte) 0xA6, (byte) 0xA6, (byte) 0xA6, (byte) 0xA6,\n        (byte) 0xA6, (byte) 0xA6, (byte) 0xA6, (byte) 0xA6,\n        (byte) 0xA6, (byte) 0xA6, (byte) 0xA6, (byte) 0xA6,\n        (byte) 0xA6, (byte) 0xA6, (byte) 0xA6, (byte) 0xA6,\n    };\n    IvParameterSpec ivSpec = new IvParameterSpec(ivBytes);\n    Cipher aes = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;, &quot;SunJCE&quot;);\n    aes.init(Cipher.WRAP_MODE, masterKey, ivSpec);\n\n    // Wrap private key with AES KEK\n    byte[] wrappedPrivateKey = aes.wrap(privateKey);\n\n   // Wrap AES KEK with public RSA key\n    byte[] wrappedMasterKey;\n    try {\n        wrappedMasterKey = oaep.wrap(masterKey);\n    } catch (IllegalBlockSizeException e) {\n        throw new RuntimeException(\n            &quot;AES key should always fit OAEP with normal sized RSA key&quot;, e);\n    }\n\n    // Concatenate wrapped KEK and wrapped private key\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n    outputStream.write(wrappedMasterKey);\n    outputStream.write(wrappedPrivateKey);\n    byte wrappedKeys[] = outputStream.toByteArray();\n    Files.write(new File(&quot;wrapped_key_material&quot;).toPath(), wrappedKeys);\n</code></pre>\n<p>My uncertainties are mainly with my initialization vector, they pass hex A65959A6 to OpenSSL</p>\n<pre><code>    for (byte b : iv) {\n        String st = String.format(&quot;%02X&quot;, b); \n        System.out.print(st);\n    }\n</code></pre>\n<p>My IV is <code>A6A6A6A6A6A6A6A6A6A6A6A6A6A6A6A6</code> AWS HSM consider <code>0xa6a6a6a6a6a6a6a6</code> as default IV</p>\n<p>Not sure if my concatenation is done correctly too.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":9297761,"reputation":139,"user_id":6904202,"display_name":"Monu chandramohan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631883263,"creation_date":1631883263,"answer_id":69223804,"question_id":69221265,"body_markdown":"The problem was with icu4j dependencies charset. I was using icu4j.version- 62.1 when I used the latest version icu4j.version-68.2 the .csn to .eml conversion was fine.","title":"IBM eDiscovery Manager (CSN to eml) email conversion causes com.ibm.icm.edc.emailconv.domino.csn.CSNParseException: could not locate data","body":"<p>The problem was with icu4j dependencies charset. I was using icu4j.version- 62.1 when I used the latest version icu4j.version-68.2 the .csn to .eml conversion was fine.</p>\n"}],"owner":{"account_id":9297761,"reputation":139,"user_id":6904202,"display_name":"Monu chandramohan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656373995,"creation_date":1631872068,"question_id":69221265,"body_markdown":"When converting the *.csn(CommonStore Native) file to *.eml file using the edcemailconv-2.2.2.jar csn parse exception is thrown. \r\n\r\nBelow is the code, \r\n\r\n 1. &quot;Filestream&quot; is a file inputstream.\r\n 2. &quot;id&quot; is just a filename.\r\n 3. templocation is a location where the EML file will be stored after conversion\r\n\r\n```\r\n\r\n    EmailConverterService emailConv = new EmailConverterService();\r\n    EmailItem emailItem = emailConv.convertStreamToEmailItem(fileStream, id, tempLocation);\r\n```\r\n\r\nBelow is the error code\r\n\r\n```\r\n\r\ncom.ibm.icm.edc.emailconv.domino.csn.CSNParseException: could not locate data\r\n\tat com.ibm.icm.edc.emailconv.domino.csn.CSNHandler.parse(CSNHandler.java:497) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\r\n\tat com.ibm.icm.edc.emailconv.domino.csn.CSNHandler.parse(CSNHandler.java:292) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\r\n\tat com.ibm.icm.edc.emailconv.EmailConverterService.parseEmailContent(EmailConverterService.java:964) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\r\n\tat com.ibm.icm.edc.emailconv.EmailConverterService.convertStreamToEmailItem(EmailConverterService.java:336) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\r\n\tat com.ibm.icm.edc.emailconv.EmailConverterService.convertStreamToEmailItem(EmailConverterService.java:214) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\r\n\tat com.exterro.edrm.connector.filenet.converter.EmlFileCreator.processCSNFile(EmlFileCreator.java:92) [classes/:?]\r\n\tat com.exterro.edrm.connector.filenet.helper.FileNetContentHelper.convertCSNFile(FileNetContentHelper.java:454) [classes/:?]\r\n\tat com.exterro.edrm.connector.filenet.helper.FileNetContentHelper.getInputStream(FileNetContentHelper.java:171) [classes/:?]\r\n\tat com.exterro.edrm.connector.filenet.FileNetConnectorHelper.getContent(FileNetConnectorHelper.java:328) [classes/:?]\r\n\tat com.exterro.edrm.connector.filenet.FileNetConnector.getContent(FileNetConnector.java:94) [classes/:?]\r\n\tat com.exterro.edrm.collector.services.filenet.FileNetCollectorService.processSingleItem(FileNetCollectorService.java:1493) [file-net-collector-internal.5.19.jar:?]\r\n\tat com.exterro.edrm.collector.services.filenet.FileNetCollectorService.search(FileNetCollectorService.java:1375) [file-net-collector-internal.5.19.jar:?]\r\n\tat com.exterro.edrm.collector.services.filenet.FileNetCollectorService.start(FileNetCollectorService.java:390) [file-net-collector-internal.5.19.jar:?]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_211]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_211]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_211]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_211]\r\n\tat com.exterro.edrm.collector.events.handler.MasterEventHandler.processEventRequest(MasterEventHandler.java:101) [classes/:?]\r\n\tat com.exterro.edrm.collector.events.handler.MasterEventHandler.start(MasterEventHandler.java:58) [classes/:?]\r\n\tat com.exterro.edrm.collector.events.handler.StartEventHandler.performEventAction(StartEventHandler.java:20) [classes/:?]\r\n\tat com.exterro.edrm.collector.events.handler.manager.ListernerManager.performEventAction(ListernerManager.java:114) [classes/:?]\r\n\tat com.exterro.edrm.collector.services.custom.connector.framework.ExterroCollectorCrawlHandler.start(ExterroCollectorCrawlHandler.java:229) [classes/:?]\r\n\tat com.exterro.edrm.collector.services.custom.connector.framework.ExterroCollectorCrawler.startCrawl(ExterroCollectorCrawler.java:73) [classes/:?]\r\n\tat com.exterro.edrm.collector.core.service.CollectorService.run(CollectorService.java:105) [classes/:?]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_211]\r\nCaused by: java.util.MissingResourceException: could not locate data\r\n\tat com.ibm.icu.impl.ICUData.getStream(ICUData.java:143) ~[icu4j-62.1.jar:62.1]\r\n\tat com.ibm.icu.impl.ICUBinary.getData(ICUBinary.java:495) ~[icu4j-62.1.jar:62.1]\r\n\tat com.ibm.icu.impl.ICUBinary.getRequiredData(ICUBinary.java:449) ~[icu4j-62.1.jar:62.1]\r\n\tat com.ibm.icu.charset.UConverterAlias.haveAliasData(UConverterAlias.java:131) ~[icu4j-charset-68.2.jar:68.2]\r\n\tat com.ibm.icu.charset.UConverterAlias.getCanonicalName(UConverterAlias.java:525) ~[icu4j-charset-68.2.jar:68.2]\r\n\tat com.ibm.icu.charset.CharsetProviderICU.getICUCanonicalName(CharsetProviderICU.java:126) ~[icu4j-charset-68.2.jar:68.2]\r\n\tat com.ibm.icu.charset.CharsetProviderICU.charsetForName(CharsetProviderICU.java:62) ~[icu4j-charset-68.2.jar:68.2]\r\n\tat java.nio.charset.Charset$2.run(Charset.java:412) ~[?:1.8.0_211]\r\n\tat java.nio.charset.Charset$2.run(Charset.java:407) ~[?:1.8.0_211]\r\n\tat java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_211]\r\n\tat java.nio.charset.Charset.lookupViaProviders(Charset.java:406) ~[?:1.8.0_211]\r\n\tat java.nio.charset.Charset.lookup2(Charset.java:477) ~[?:1.8.0_211]\r\n\tat java.nio.charset.Charset.lookup(Charset.java:464) ~[?:1.8.0_211]\r\n\tat java.nio.charset.Charset.isSupported(Charset.java:505) ~[?:1.8.0_211]\r\n\tat java.lang.StringCoding.lookupCharset(StringCoding.java:99) ~[?:1.8.0_211]\r\n\tat java.lang.StringCoding.decode(StringCoding.java:185) ~[?:1.8.0_211]\r\n\tat java.lang.String.&lt;init&gt;(String.java:426) ~[?:1.8.0_211]\r\n\tat java.lang.String.&lt;init&gt;(String.java:491) ~[?:1.8.0_211]\r\n\tat com.ibm.icm.edc.emailconv.domino.csn.CSNInputStream.readLMBCSEncodedString(CSNInputStream.java:717) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\r\n\tat com.ibm.icm.edc.emailconv.domino.csn.CSNInputStream.getString(CSNInputStream.java:684) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\r\n\tat com.ibm.icm.edc.emailconv.domino.csn.CSNReader.processText(CSNReader.java:459) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\r\n\tat com.ibm.icm.edc.emailconv.domino.csn.CSNReader.getNoteItemData(CSNReader.java:1311) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\r\n\tat com.ibm.icm.edc.emailconv.domino.csn.CSNReader.getItemValue(CSNReader.java:1526) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\r\n\tat com.ibm.icm.edc.emailconv.domino.csn.CSNHandler.parse(CSNHandler.java:331) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\r\n\t... 24 more\r\n\r\n```\r\n\r\nI have even used Jdgui to go through the icu4j.jar\r\n\r\nThe error was in CSNHandler.class when the reader gets the value for &quot;from&quot;\r\n\r\n&gt;  emailItem.setFormType(reader.getItemValue(&quot;form&quot;));\r\n\r\n in the below code.\r\n\r\n```\r\nif (EDCLogger.isLoggable(Level.FINEST))\r\n      EDCLogger.log(Level.FINEST, &quot;CSNHandler&quot;, &quot;parse(InputStream)&quot;, &quot;Entering.&quot;); \r\n    DominoEmailItem emailItem = new DominoEmailItem();\r\n    \r\n    try {\r\n      CSNReader reader = new CSNReader(emailItem.getProcessingErrorProtocol(), stream, this.binDir, this.relativeDir, doCorrection);\r\n\r\n      \r\n      try {\r\n        reader.readItems();\r\n      }\r\n      catch (IOException e) {\r\n        if (e instanceof CSNReadItemException)\r\n        {\r\n\r\n\r\n          \r\n          throw new CSNParseException(&quot;&quot;, 3002);\r\n        }\r\n        emailItem.getProcessingErrorProtocol().registerProcessingError(ProcessingDeviation.CSN_IO_READ_ERROR, e);\r\n      } \r\n      \r\n      emailItem.setFormType(reader.getItemValue(&quot;form&quot;));\r\n      emailItem.setUnid(reader.getUniversalNoteId());\r\n      emailItem.setHasOLEAttachments(reader.hasEmbeddedObjects());\r\n\r\n```\r\n\r\n\r\nAny suggestions on how to solve this issue would be highly appreciated.\r\nThanks in advance !","title":"IBM eDiscovery Manager (CSN to eml) email conversion causes com.ibm.icm.edc.emailconv.domino.csn.CSNParseException: could not locate data","body":"<p>When converting the *.csn(CommonStore Native) file to *.eml file using the edcemailconv-2.2.2.jar csn parse exception is thrown.</p>\n<p>Below is the code,</p>\n<ol>\n<li>&quot;Filestream&quot; is a file inputstream.</li>\n<li>&quot;id&quot; is just a filename.</li>\n<li>templocation is a location where the EML file will be stored after conversion</li>\n</ol>\n<pre><code>\n    EmailConverterService emailConv = new EmailConverterService();\n    EmailItem emailItem = emailConv.convertStreamToEmailItem(fileStream, id, tempLocation);\n</code></pre>\n<p>Below is the error code</p>\n<pre><code>\ncom.ibm.icm.edc.emailconv.domino.csn.CSNParseException: could not locate data\n    at com.ibm.icm.edc.emailconv.domino.csn.CSNHandler.parse(CSNHandler.java:497) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\n    at com.ibm.icm.edc.emailconv.domino.csn.CSNHandler.parse(CSNHandler.java:292) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\n    at com.ibm.icm.edc.emailconv.EmailConverterService.parseEmailContent(EmailConverterService.java:964) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\n    at com.ibm.icm.edc.emailconv.EmailConverterService.convertStreamToEmailItem(EmailConverterService.java:336) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\n    at com.ibm.icm.edc.emailconv.EmailConverterService.convertStreamToEmailItem(EmailConverterService.java:214) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\n    at com.exterro.edrm.connector.filenet.converter.EmlFileCreator.processCSNFile(EmlFileCreator.java:92) [classes/:?]\n    at com.exterro.edrm.connector.filenet.helper.FileNetContentHelper.convertCSNFile(FileNetContentHelper.java:454) [classes/:?]\n    at com.exterro.edrm.connector.filenet.helper.FileNetContentHelper.getInputStream(FileNetContentHelper.java:171) [classes/:?]\n    at com.exterro.edrm.connector.filenet.FileNetConnectorHelper.getContent(FileNetConnectorHelper.java:328) [classes/:?]\n    at com.exterro.edrm.connector.filenet.FileNetConnector.getContent(FileNetConnector.java:94) [classes/:?]\n    at com.exterro.edrm.collector.services.filenet.FileNetCollectorService.processSingleItem(FileNetCollectorService.java:1493) [file-net-collector-internal.5.19.jar:?]\n    at com.exterro.edrm.collector.services.filenet.FileNetCollectorService.search(FileNetCollectorService.java:1375) [file-net-collector-internal.5.19.jar:?]\n    at com.exterro.edrm.collector.services.filenet.FileNetCollectorService.start(FileNetCollectorService.java:390) [file-net-collector-internal.5.19.jar:?]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_211]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_211]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_211]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_211]\n    at com.exterro.edrm.collector.events.handler.MasterEventHandler.processEventRequest(MasterEventHandler.java:101) [classes/:?]\n    at com.exterro.edrm.collector.events.handler.MasterEventHandler.start(MasterEventHandler.java:58) [classes/:?]\n    at com.exterro.edrm.collector.events.handler.StartEventHandler.performEventAction(StartEventHandler.java:20) [classes/:?]\n    at com.exterro.edrm.collector.events.handler.manager.ListernerManager.performEventAction(ListernerManager.java:114) [classes/:?]\n    at com.exterro.edrm.collector.services.custom.connector.framework.ExterroCollectorCrawlHandler.start(ExterroCollectorCrawlHandler.java:229) [classes/:?]\n    at com.exterro.edrm.collector.services.custom.connector.framework.ExterroCollectorCrawler.startCrawl(ExterroCollectorCrawler.java:73) [classes/:?]\n    at com.exterro.edrm.collector.core.service.CollectorService.run(CollectorService.java:105) [classes/:?]\n    at java.lang.Thread.run(Thread.java:748) [?:1.8.0_211]\nCaused by: java.util.MissingResourceException: could not locate data\n    at com.ibm.icu.impl.ICUData.getStream(ICUData.java:143) ~[icu4j-62.1.jar:62.1]\n    at com.ibm.icu.impl.ICUBinary.getData(ICUBinary.java:495) ~[icu4j-62.1.jar:62.1]\n    at com.ibm.icu.impl.ICUBinary.getRequiredData(ICUBinary.java:449) ~[icu4j-62.1.jar:62.1]\n    at com.ibm.icu.charset.UConverterAlias.haveAliasData(UConverterAlias.java:131) ~[icu4j-charset-68.2.jar:68.2]\n    at com.ibm.icu.charset.UConverterAlias.getCanonicalName(UConverterAlias.java:525) ~[icu4j-charset-68.2.jar:68.2]\n    at com.ibm.icu.charset.CharsetProviderICU.getICUCanonicalName(CharsetProviderICU.java:126) ~[icu4j-charset-68.2.jar:68.2]\n    at com.ibm.icu.charset.CharsetProviderICU.charsetForName(CharsetProviderICU.java:62) ~[icu4j-charset-68.2.jar:68.2]\n    at java.nio.charset.Charset$2.run(Charset.java:412) ~[?:1.8.0_211]\n    at java.nio.charset.Charset$2.run(Charset.java:407) ~[?:1.8.0_211]\n    at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_211]\n    at java.nio.charset.Charset.lookupViaProviders(Charset.java:406) ~[?:1.8.0_211]\n    at java.nio.charset.Charset.lookup2(Charset.java:477) ~[?:1.8.0_211]\n    at java.nio.charset.Charset.lookup(Charset.java:464) ~[?:1.8.0_211]\n    at java.nio.charset.Charset.isSupported(Charset.java:505) ~[?:1.8.0_211]\n    at java.lang.StringCoding.lookupCharset(StringCoding.java:99) ~[?:1.8.0_211]\n    at java.lang.StringCoding.decode(StringCoding.java:185) ~[?:1.8.0_211]\n    at java.lang.String.&lt;init&gt;(String.java:426) ~[?:1.8.0_211]\n    at java.lang.String.&lt;init&gt;(String.java:491) ~[?:1.8.0_211]\n    at com.ibm.icm.edc.emailconv.domino.csn.CSNInputStream.readLMBCSEncodedString(CSNInputStream.java:717) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\n    at com.ibm.icm.edc.emailconv.domino.csn.CSNInputStream.getString(CSNInputStream.java:684) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\n    at com.ibm.icm.edc.emailconv.domino.csn.CSNReader.processText(CSNReader.java:459) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\n    at com.ibm.icm.edc.emailconv.domino.csn.CSNReader.getNoteItemData(CSNReader.java:1311) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\n    at com.ibm.icm.edc.emailconv.domino.csn.CSNReader.getItemValue(CSNReader.java:1526) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\n    at com.ibm.icm.edc.emailconv.domino.csn.CSNHandler.parse(CSNHandler.java:331) ~[edcemailconv-2.2.2.jar:${manifest.file.Implementation.Version} 11/19/2013 at 02:36 PM PT ]\n    ... 24 more\n\n</code></pre>\n<p>I have even used Jdgui to go through the icu4j.jar</p>\n<p>The error was in CSNHandler.class when the reader gets the value for &quot;from&quot;</p>\n<blockquote>\n<p>emailItem.setFormType(reader.getItemValue(&quot;form&quot;));</p>\n</blockquote>\n<p>in the below code.</p>\n<pre><code>if (EDCLogger.isLoggable(Level.FINEST))\n      EDCLogger.log(Level.FINEST, &quot;CSNHandler&quot;, &quot;parse(InputStream)&quot;, &quot;Entering.&quot;); \n    DominoEmailItem emailItem = new DominoEmailItem();\n    \n    try {\n      CSNReader reader = new CSNReader(emailItem.getProcessingErrorProtocol(), stream, this.binDir, this.relativeDir, doCorrection);\n\n      \n      try {\n        reader.readItems();\n      }\n      catch (IOException e) {\n        if (e instanceof CSNReadItemException)\n        {\n\n\n          \n          throw new CSNParseException(&quot;&quot;, 3002);\n        }\n        emailItem.getProcessingErrorProtocol().registerProcessingError(ProcessingDeviation.CSN_IO_READ_ERROR, e);\n      } \n      \n      emailItem.setFormType(reader.getItemValue(&quot;form&quot;));\n      emailItem.setUnid(reader.getUniversalNoteId());\n      emailItem.setHasOLEAttachments(reader.hasEmbeddedObjects());\n\n</code></pre>\n<p>Any suggestions on how to solve this issue would be highly appreciated.\nThanks in advance !</p>\n"},{"tags":["java","spring-boot","spring-aop","resilience4j"],"answers":[{"tags":[],"owner":{"account_id":5476121,"reputation":143,"user_id":4354090,"display_name":"0x SLC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656371900,"creation_date":1656371900,"answer_id":72779194,"question_id":68400270,"body_markdown":"What needs to be done in the unit test is auto wire the RetryRegistry, then use it to grab the Retry object that is configured for your service method, then execute it using the retry. Also make sure to include the Retry Auto config on the test class. Like this:\r\n\r\n```\r\n@SpringBootTest(classes = {RetryAutoConfiguration.class, ClassImTesting.class})\r\npublic class MyCoolTest {\r\n\r\n  @Autowired\r\n  private MyClass thing;\r\n\r\n  @Autowired\r\n  private RetryRegistry registry;\r\n\r\n @Test\r\n public void myTest() throws TransformationException {\r\n     final Retry transformerRetry = registry.retry(&quot;transformer&quot;);\r\n     transformerRetry.executeSupplier(() -&gt; thing.transform(null));\r\n  }\r\n}\r\n\r\n```\r\n\r\nhttps://github.com/resilience4j/resilience4j/blob/master/resilience4j-retry/src/test/java/io/github/resilience4j/retry/internal/SupplierRetryTest.java#L90","title":"Unable to get resilience4j retry annotation to execute in Springboot unit test","body":"<p>What needs to be done in the unit test is auto wire the RetryRegistry, then use it to grab the Retry object that is configured for your service method, then execute it using the retry. Also make sure to include the Retry Auto config on the test class. Like this:</p>\n<pre><code>@SpringBootTest(classes = {RetryAutoConfiguration.class, ClassImTesting.class})\npublic class MyCoolTest {\n\n  @Autowired\n  private MyClass thing;\n\n  @Autowired\n  private RetryRegistry registry;\n\n @Test\n public void myTest() throws TransformationException {\n     final Retry transformerRetry = registry.retry(&quot;transformer&quot;);\n     transformerRetry.executeSupplier(() -&gt; thing.transform(null));\n  }\n}\n\n</code></pre>\n<p><a href=\"https://github.com/resilience4j/resilience4j/blob/master/resilience4j-retry/src/test/java/io/github/resilience4j/retry/internal/SupplierRetryTest.java#L90\" rel=\"nofollow noreferrer\">https://github.com/resilience4j/resilience4j/blob/master/resilience4j-retry/src/test/java/io/github/resilience4j/retry/internal/SupplierRetryTest.java#L90</a></p>\n"}],"owner":{"account_id":19340242,"reputation":1122,"user_id":14139968,"display_name":"Ryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2443,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1656371900,"creation_date":1626380057,"question_id":68400270,"body_markdown":"I&#39;m trying to write a unit test to validate my resilience4j app with the @retry annotation, but it&#39;s not retrying at all. The code works when I run it, just can&#39;t get it unit tested.. Any ideas? \r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest(classes = {ClassImTesting.class})\r\npublic class MyCoolTest {\r\n\r\n    @Autowired\r\n    private MyClass thing;\r\n\r\n\r\n    @Test\r\n    public void myTest() throws TransformationException {\r\n        thing.transform(null);\r\n    }\r\n\r\n```\r\n\r\n# ClassImTesting\r\n```\r\n  @Override\r\n  @Retry(name = &quot;transformer&quot;, fallbackMethod = &quot;handleFailure&quot;)\r\n  public void transform(Thing record)\r\n      throws TransformationException {\r\n    return this.transform(record.value());\r\n  }\r\n\r\npublic void handleFailure(Thing record, Throwable t) {\r\n   // stuff\r\n}\r\n```","title":"Unable to get resilience4j retry annotation to execute in Springboot unit test","body":"<p>I'm trying to write a unit test to validate my resilience4j app with the @retry annotation, but it's not retrying at all. The code works when I run it, just can't get it unit tested.. Any ideas?</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(classes = {ClassImTesting.class})\npublic class MyCoolTest {\n\n    @Autowired\n    private MyClass thing;\n\n\n    @Test\n    public void myTest() throws TransformationException {\n        thing.transform(null);\n    }\n\n</code></pre>\n<h1 id=\"classimtesting-b2uw\">ClassImTesting</h1>\n<pre><code>  @Override\n  @Retry(name = &quot;transformer&quot;, fallbackMethod = &quot;handleFailure&quot;)\n  public void transform(Thing record)\n      throws TransformationException {\n    return this.transform(record.value());\n  }\n\npublic void handleFailure(Thing record, Throwable t) {\n   // stuff\n}\n</code></pre>\n"},{"tags":["java","eclipse","plugins","github"],"comments":[{"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1372831773,"post_id":2801567,"comment_id":25335970,"body_markdown":"http://stackoverflow.com/a/14916525/6309 might now help, maybe as a zipped p2 update? I mention that in [my edited answer below](http://stackoverflow.com/a/2801996/6309).","body":"<a href=\"http://stackoverflow.com/a/14916525/6309\">stackoverflow.com/a/14916525/6309</a> might now help, maybe as a zipped p2 update? I mention that in <a href=\"http://stackoverflow.com/a/2801996/6309\">my edited answer below</a>."}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1372831708,"creation_date":1273488435,"answer_id":2801996,"question_id":2801567,"body_markdown":"You may now try it in a **release page** (July 2013).\r\n\r\nSee &quot;[Publish a project release (binary/source packages) on Github?][1]&quot;\r\n\r\n---\r\n\r\nOriginal answer (January 2013)\r\n\r\nI have not tested it, but technically, a p2 repository can be defined in any shared path (either filesystem-shared or web-based-shared)\r\n\r\nYou should only need to:\r\n\r\n- [generate the right p2 metadata][2]\r\n- [analyze the p2 repo][3] in case of any issue.\r\n- store the all result in a git managed directory and push it to your GitHub repo.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/14916525/6309\r\n  [2]: http://eclipsesource.com/blogs/2009/06/04/who-writes-your-metadata-me-i-use-a-publisher/\r\n  [3]: http://eclipsesource.com/blogs/2009/05/29/p2-metadata-analyzer/","title":"Is it possible to host an Eclipse update site on Github?","body":"<p>You may now try it in a <strong>release page</strong> (July 2013).</p>\n\n<p>See \"<a href=\"https://stackoverflow.com/a/14916525/6309\">Publish a project release (binary/source packages) on Github?</a>\"</p>\n\n<hr>\n\n<p>Original answer (January 2013)</p>\n\n<p>I have not tested it, but technically, a p2 repository can be defined in any shared path (either filesystem-shared or web-based-shared)</p>\n\n<p>You should only need to:</p>\n\n<ul>\n<li><a href=\"http://eclipsesource.com/blogs/2009/06/04/who-writes-your-metadata-me-i-use-a-publisher/\" rel=\"nofollow noreferrer\">generate the right p2 metadata</a></li>\n<li><a href=\"http://eclipsesource.com/blogs/2009/05/29/p2-metadata-analyzer/\" rel=\"nofollow noreferrer\">analyze the p2 repo</a> in case of any issue.</li>\n<li>store the all result in a git managed directory and push it to your GitHub repo.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":127749,"reputation":6191,"user_id":325129,"accept_rate":97,"display_name":"mchr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1273839690,"creation_date":1273839690,"answer_id":2834015,"question_id":2801567,"body_markdown":"http://pages.github.com/\r\n\r\nThe Github Pages feature allows you to host arbitrary folders of files without git turning each file into a github page.","title":"Is it possible to host an Eclipse update site on Github?","body":"<p><a href=\"http://pages.github.com/\" rel=\"nofollow noreferrer\">http://pages.github.com/</a></p>\n\n<p>The Github Pages feature allows you to host arbitrary folders of files without git turning each file into a github page.</p>\n"},{"tags":[],"owner":{"account_id":262016,"reputation":1141,"user_id":3838258,"display_name":"fmjrey"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1354111732,"creation_date":1299780762,"answer_id":5263884,"question_id":2801567,"body_markdown":"**Github pages are not a proper place for an update site.**\r\n\r\n[Github pages][1] may not properly serve large binary files as explained in this [issue][2]. It may be fine if your jars are small but overall they advise against placing binaries there. Instead they recommend placing binaries in the download section of the repository. I&#39;d be happy if this situation changes because it would be very convenient to publish an update site by pushing to github.\r\n\r\nFor now one would have to use their [API][4] to programatically upload files in the download section. Answers to [this other question][5] points to some libraries and scripts that uses this [API][6] for use within java/maven, perl, ruby, etc.\r\n\r\n\r\n  [1]: http://pages.github.com/\r\n  [2]: https://github.com/vazexqi/CodingSpectator/issues/131\r\n  [3]: http://support.github.com/discussions/site/2535-github-pages-have-stopped-to-function-as-my-eclipse-update-site\r\n  [4]: http://developer.github.com/v3/repos/downloads/\r\n  [5]: https://stackoverflow.com/questions/1431082/programmatically-add-files-to-a-github-download-page\r\n  [6]: http://developer.github.com/v3/repos/downloads/","title":"Is it possible to host an Eclipse update site on Github?","body":"<p><strong>Github pages are not a proper place for an update site.</strong></p>\n\n<p><a href=\"http://pages.github.com/\" rel=\"nofollow noreferrer\">Github pages</a> may not properly serve large binary files as explained in this <a href=\"https://github.com/vazexqi/CodingSpectator/issues/131\" rel=\"nofollow noreferrer\">issue</a>. It may be fine if your jars are small but overall they advise against placing binaries there. Instead they recommend placing binaries in the download section of the repository. I'd be happy if this situation changes because it would be very convenient to publish an update site by pushing to github.</p>\n\n<p>For now one would have to use their <a href=\"http://developer.github.com/v3/repos/downloads/\" rel=\"nofollow noreferrer\">API</a> to programatically upload files in the download section. Answers to <a href=\"https://stackoverflow.com/questions/1431082/programmatically-add-files-to-a-github-download-page\">this other question</a> points to some libraries and scripts that uses this <a href=\"http://developer.github.com/v3/repos/downloads/\" rel=\"nofollow noreferrer\">API</a> for use within java/maven, perl, ruby, etc.</p>\n"},{"tags":[],"owner":{"account_id":424521,"reputation":11,"user_id":804560,"display_name":"jannvck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359132009,"creation_date":1359132009,"answer_id":14526285,"question_id":2801567,"body_markdown":"No it is not possible anymore, the Downloads API [has officially been deprecated][1].\r\n\r\nFrom the GitHub blog: \r\n\r\n&gt; However, some projects need to host and distribute large binary files in addition to source archives. If this applies to you, we recommend using one of the many fantastic services that exist exactly for this purpose such as Amazon S3 / Amazon CloudFront or SourceForge. Check out our help article on distributing large binaries.\r\n\r\nSee this [help article on distributing large binaries][2].\r\n\r\n\r\n  [1]: https://github.com/blog/1302-goodbye-uploads\r\n  [2]: https://help.github.com/articles/distributing-large-binaries","title":"Is it possible to host an Eclipse update site on Github?","body":"<p>No it is not possible anymore, the Downloads API <a href=\"https://github.com/blog/1302-goodbye-uploads\" rel=\"nofollow\">has officially been deprecated</a>.</p>\n\n<p>From the GitHub blog: </p>\n\n<blockquote>\n  <p>However, some projects need to host and distribute large binary files in addition to source archives. If this applies to you, we recommend using one of the many fantastic services that exist exactly for this purpose such as Amazon S3 / Amazon CloudFront or SourceForge. Check out our help article on distributing large binaries.</p>\n</blockquote>\n\n<p>See this <a href=\"https://help.github.com/articles/distributing-large-binaries\" rel=\"nofollow\">help article on distributing large binaries</a>.</p>\n"},{"tags":[],"owner":{"account_id":168437,"reputation":1431,"user_id":393898,"display_name":"BrunoMedeiros"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1391537771,"creation_date":1389993327,"answer_id":21196009,"question_id":2801567,"body_markdown":"*Forget the Github project releases feature, that won&#39;t work as a true update site (see notes at the end).*\r\n\r\nTo achieve what you want, you can create a Github repo, commit/push your p2 repository there and then serve it as an update site, using raw links.\r\nSo for example, for the repository: \r\n\r\nhttps://github.com/some-user/some-repository/\r\n\r\nyou can serve it as an update site using the link:\r\n    \r\nhttps://github.com/some-user/some-repository/raw/master/\r\n\r\nNotes: Yes, if you open the update site link in a browser, github will give you no file listings, but rather a 404. But that&#39;s fine. The Eclipse update site mechanism doesn&#39;t need the parent link to be valid. Instead Eclipse will directly look for `&lt;update-site URL&gt;/artifacts.jar` (or .xml) and from the information in artifacts.jar, it will itself discover the URLs of the other artifacts stored in the update site. AFAIK, at no point does the Eclipse update mechanism need the web server to do file listings of a directory.\r\n\r\nNote2: if you use Github project releases, you can only attach a zipped p2 repository to it. That is not a proper update site because it is a static repository: there is no URL to which new releases can be uploaded to. Eclipse won&#39;t be able to automatically discover new updates, rather the user will need to download the zip for each new release he/she wants to update to. \r\n(Also with a proper update site, only the necessary artifacts for installation/update/query will be downloaded - a minor advantage)","title":"Is it possible to host an Eclipse update site on Github?","body":"<p><em>Forget the Github project releases feature, that won't work as a true update site (see notes at the end).</em></p>\n\n<p>To achieve what you want, you can create a Github repo, commit/push your p2 repository there and then serve it as an update site, using raw links.\nSo for example, for the repository: </p>\n\n<p><a href=\"https://github.com/some-user/some-repository/\">https://github.com/some-user/some-repository/</a></p>\n\n<p>you can serve it as an update site using the link:</p>\n\n<p><a href=\"https://github.com/some-user/some-repository/raw/master/\">https://github.com/some-user/some-repository/raw/master/</a></p>\n\n<p>Notes: Yes, if you open the update site link in a browser, github will give you no file listings, but rather a 404. But that's fine. The Eclipse update site mechanism doesn't need the parent link to be valid. Instead Eclipse will directly look for <code>&lt;update-site URL&gt;/artifacts.jar</code> (or .xml) and from the information in artifacts.jar, it will itself discover the URLs of the other artifacts stored in the update site. AFAIK, at no point does the Eclipse update mechanism need the web server to do file listings of a directory.</p>\n\n<p>Note2: if you use Github project releases, you can only attach a zipped p2 repository to it. That is not a proper update site because it is a static repository: there is no URL to which new releases can be uploaded to. Eclipse won't be able to automatically discover new updates, rather the user will need to download the zip for each new release he/she wants to update to. \n(Also with a proper update site, only the necessary artifacts for installation/update/query will be downloaded - a minor advantage)</p>\n"},{"tags":[],"owner":{"account_id":3325,"reputation":54551,"user_id":4794,"accept_rate":94,"display_name":"Don Kirkby"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542304092,"creation_date":1459399647,"answer_id":36324380,"question_id":2801567,"body_markdown":"I was able to host an Eclipse update site using the [GitHub pages][1] feature. I found it difficult to figure out all the pieces I needed, so here&#39;s a brief description of the steps I followed.\r\n\r\n* Build your Eclipse plug-in project, and test it on your local workstation.\r\n* Add a [feature project][2], and add your plug in. Also set the description, copyright, and license information.\r\n* Configure a [publishing source][3] for your repository. I think the `/docs` folder is the easiest to work with. One way to generate a starting web site is to go to the GitHub repository settings page, and launch the automatic page generator.\r\n* Create an update site project nested inside the `/docs` folder. Put it in an obvious folder, like `update`.\r\n* Create a category, and add the feature to the update project.\r\n* Click the Build all button to generate the jar files.\r\n* Commit and push all the changes.\r\n* Try installing from the update site.\r\n* Once the update site works, you can publish your plug in in the [Eclipse marketplace][4]. This is optional, it just makes your plug in easier to find.\r\n\r\nAs others have mentioned, GitHub pages don&#39;t support huge binary files, so this will only work for small projects. To see an example, look at my [Live Coding in Python project][5].\r\n\r\n\r\n  [1]: https://pages.github.com/\r\n  [2]: http://help.eclipse.org/mars/index.jsp?topic=%2Forg.eclipse.pde.doc.user%2Fguide%2Ftools%2Fproject_wizards%2Fnew_feature_project.htm\r\n  [3]: https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/\r\n  [4]: http://marketplace.eclipse.org/quickstart\r\n  [5]: https://github.com/donkirkby/live-py-plugin/tree/master/docs","title":"Is it possible to host an Eclipse update site on Github?","body":"<p>I was able to host an Eclipse update site using the <a href=\"https://pages.github.com/\" rel=\"nofollow noreferrer\">GitHub pages</a> feature. I found it difficult to figure out all the pieces I needed, so here's a brief description of the steps I followed.</p>\n\n<ul>\n<li>Build your Eclipse plug-in project, and test it on your local workstation.</li>\n<li>Add a <a href=\"http://help.eclipse.org/mars/index.jsp?topic=%2Forg.eclipse.pde.doc.user%2Fguide%2Ftools%2Fproject_wizards%2Fnew_feature_project.htm\" rel=\"nofollow noreferrer\">feature project</a>, and add your plug in. Also set the description, copyright, and license information.</li>\n<li>Configure a <a href=\"https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/\" rel=\"nofollow noreferrer\">publishing source</a> for your repository. I think the <code>/docs</code> folder is the easiest to work with. One way to generate a starting web site is to go to the GitHub repository settings page, and launch the automatic page generator.</li>\n<li>Create an update site project nested inside the <code>/docs</code> folder. Put it in an obvious folder, like <code>update</code>.</li>\n<li>Create a category, and add the feature to the update project.</li>\n<li>Click the Build all button to generate the jar files.</li>\n<li>Commit and push all the changes.</li>\n<li>Try installing from the update site.</li>\n<li>Once the update site works, you can publish your plug in in the <a href=\"http://marketplace.eclipse.org/quickstart\" rel=\"nofollow noreferrer\">Eclipse marketplace</a>. This is optional, it just makes your plug in easier to find.</li>\n</ul>\n\n<p>As others have mentioned, GitHub pages don't support huge binary files, so this will only work for small projects. To see an example, look at my <a href=\"https://github.com/donkirkby/live-py-plugin/tree/master/docs\" rel=\"nofollow noreferrer\">Live Coding in Python project</a>.</p>\n"},{"tags":[],"owner":{"account_id":392112,"reputation":5429,"user_id":753170,"display_name":"Fred Bricon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656369682,"creation_date":1656369682,"answer_id":72778975,"question_id":2801567,"body_markdown":"It turns out you absolutely can use GitHub Releases to host a p2 update site. \r\nThe main issue is that GitHub Releases hosts all files under a flat directory structure. Eclipse p2 repositories however, are hierarchical by default. \r\nSince Eclipse Tycho (p2 actually), doesnt allow you to configure a flat p2 repo structure, you need to script it.\r\n\r\nThe script needs to perform 2 things:\r\n\r\n - move every file under `plugins/` and `features/` to the root of the p2 repository,\r\n - replace all references to `/plugins/` and `/features/` with `/`, in the `artifacts.xml` file compressed in `artifacts.jar` and `artifacts.xml.xz`.\r\n\r\nThere are probably several ways to do it but in this blog post, you can see an implementation relying on a JBang script to achieve the desired goal:\r\n\r\nhttps://fbricon.github.io/posts/use-github-releases-as-p2-repo/\r\n","title":"Is it possible to host an Eclipse update site on Github?","body":"<p>It turns out you absolutely can use GitHub Releases to host a p2 update site.\nThe main issue is that GitHub Releases hosts all files under a flat directory structure. Eclipse p2 repositories however, are hierarchical by default.\nSince Eclipse Tycho (p2 actually), doesnt allow you to configure a flat p2 repo structure, you need to script it.</p>\n<p>The script needs to perform 2 things:</p>\n<ul>\n<li>move every file under <code>plugins/</code> and <code>features/</code> to the root of the p2 repository,</li>\n<li>replace all references to <code>/plugins/</code> and <code>/features/</code> with <code>/</code>, in the <code>artifacts.xml</code> file compressed in <code>artifacts.jar</code> and <code>artifacts.xml.xz</code>.</li>\n</ul>\n<p>There are probably several ways to do it but in this blog post, you can see an implementation relying on a JBang script to achieve the desired goal:</p>\n<p><a href=\"https://fbricon.github.io/posts/use-github-releases-as-p2-repo/\" rel=\"nofollow noreferrer\">https://fbricon.github.io/posts/use-github-releases-as-p2-repo/</a></p>\n"}],"owner":{"account_id":127749,"reputation":6191,"user_id":325129,"accept_rate":97,"display_name":"mchr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5301,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":5263884,"answer_count":7,"score":32,"last_activity_date":1656369682,"creation_date":1273483488,"question_id":2801567,"body_markdown":"I am using GitHub to develop an Eclipse plugin. I would like to have a public Eclipse update site for my plugin.  Can I use GitHub for this?\r\n\r\nI know that GitHub can be used for hosting individual files by using the &quot;raw&quot; links provided on the file information pages.","title":"Is it possible to host an Eclipse update site on Github?","body":"<p>I am using GitHub to develop an Eclipse plugin. I would like to have a public Eclipse update site for my plugin.  Can I use GitHub for this?</p>\n\n<p>I know that GitHub can be used for hosting individual files by using the \"raw\" links provided on the file information pages.</p>\n"},{"tags":["cryptography","java","postgresql"],"comments":[{"owner":{"account_id":38384,"reputation":1715,"user_id":110126,"accept_rate":85,"display_name":"buzz3791"},"score":0,"creation_date":1695149549,"post_id":71740204,"comment_id":135984491,"body_markdown":"This Enterprise DB (commercial PostgreSQL) article may have some relevant tips...\n&quot;EDB Tutorial: How to Configure for SSL with EDB JDBC on FIPS Enabled Server&quot;\nhttps://www.enterprisedb.com/blog/edb-tutorial-configure-ssl-edb-jdbc-fips-enabled-server\nauthored by Muhammad Affaan, dated June 23, 2023","body":"This Enterprise DB (commercial PostgreSQL) article may have some relevant tips... &quot;EDB Tutorial: How to Configure for SSL with EDB JDBC on FIPS Enabled Server&quot; <a href=\"https://www.enterprisedb.com/blog/edb-tutorial-configure-ssl-edb-jdbc-fips-enabled-server\" rel=\"nofollow noreferrer\">enterprisedb.com/blog/&hellip;</a> authored by Muhammad Affaan, dated June 23, 2023"}],"answers":[{"tags":[],"owner":{"account_id":5952973,"reputation":151,"user_id":4680491,"display_name":"dirkhas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651843702,"creation_date":1651765961,"answer_id":72130152,"question_id":71740204,"body_markdown":"I had this exact problem, from a Red Hat UBI-8-based java container on an Openshift cluster connecting to a postgres-server outside of the cluster.\r\n\r\nI &quot;solved&quot; it by disabling FIPS on the JVM in the container/pod via the JVM system property `com.redhat.fips=false`. This can either be set by adding `-Dcom.redhat.fips=false` when starting the JVM (e.g. via the container-image&#39;s entrypoint):\r\n```\r\njava -Dcom.redhat.fips=false -jar test.jar\r\n```\r\nor by setting the environment variable `JDK_JAVA_OPTIONS` to `-Dcom.redhat.fips=false` for example via\r\n```\r\nexport JDK_JAVA_OPTIONS=&#39;-Dcom.redhat.fips=false&#39;\r\n```\r\nor by setting this environment variable on your kubernetes manifests (e.g. directly in your deployment pod-specs, via configmaps, or by other means).\r\n\r\nThere are other ways to disable FIPS -- one way is to disable it on the hosts in your kubernetes cluster.\r\n\r\nIf disabling FIPS is not an option (e.g. due to compliance), I have no solution other than to run you java code with debugging enabled on a FIPS-enabled RHEL8 VM to locate the exact place in the postgres-driver where things fail and troubleshoot from there.\r\n\r\nSome useful references  -- some might require a red hat subscription :(\r\n  * https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/security_hardening/using-the-system-wide-cryptographic-policies_security-hardening#switching-the-system-to-fips-mode_using-the-system-wide-cryptographic-policies\r\n  * https://access.redhat.com/articles/3642912\r\n  * https://access.redhat.com/articles/5895481","title":"How to configure openjdk for FIPS and simple postgres connection example","body":"<p>I had this exact problem, from a Red Hat UBI-8-based java container on an Openshift cluster connecting to a postgres-server outside of the cluster.</p>\n<p>I &quot;solved&quot; it by disabling FIPS on the JVM in the container/pod via the JVM system property <code>com.redhat.fips=false</code>. This can either be set by adding <code>-Dcom.redhat.fips=false</code> when starting the JVM (e.g. via the container-image's entrypoint):</p>\n<pre><code>java -Dcom.redhat.fips=false -jar test.jar\n</code></pre>\n<p>or by setting the environment variable <code>JDK_JAVA_OPTIONS</code> to <code>-Dcom.redhat.fips=false</code> for example via</p>\n<pre><code>export JDK_JAVA_OPTIONS='-Dcom.redhat.fips=false'\n</code></pre>\n<p>or by setting this environment variable on your kubernetes manifests (e.g. directly in your deployment pod-specs, via configmaps, or by other means).</p>\n<p>There are other ways to disable FIPS -- one way is to disable it on the hosts in your kubernetes cluster.</p>\n<p>If disabling FIPS is not an option (e.g. due to compliance), I have no solution other than to run you java code with debugging enabled on a FIPS-enabled RHEL8 VM to locate the exact place in the postgres-driver where things fail and troubleshoot from there.</p>\n<p>Some useful references  -- some might require a red hat subscription :(</p>\n<ul>\n<li><a href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/security_hardening/using-the-system-wide-cryptographic-policies_security-hardening#switching-the-system-to-fips-mode_using-the-system-wide-cryptographic-policies\" rel=\"nofollow noreferrer\">https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/security_hardening/using-the-system-wide-cryptographic-policies_security-hardening#switching-the-system-to-fips-mode_using-the-system-wide-cryptographic-policies</a></li>\n<li><a href=\"https://access.redhat.com/articles/3642912\" rel=\"nofollow noreferrer\">https://access.redhat.com/articles/3642912</a></li>\n<li><a href=\"https://access.redhat.com/articles/5895481\" rel=\"nofollow noreferrer\">https://access.redhat.com/articles/5895481</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":22578481,"reputation":91,"user_id":16763500,"display_name":"franferrax"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656369142,"creation_date":1656369142,"answer_id":72778927,"question_id":71740204,"body_markdown":"For others facing this issue, please find the details in [Bug 2007331](https://bugzilla.redhat.com/show_bug.cgi?id=2007331) (for _Java 17_), plus whether this is already fixed and delivered.\r\n\r\nTo test the fix in advance:\r\n1. Locate `nss.fips.cfg`:\r\n   ```shell\r\n   # For Java 8\r\n   java_version=&#39;1.8.0&#39;\r\n   # For Java 11\r\n   java_version=&#39;11&#39;\r\n   # For Java 17\r\n   java_version=&#39;17&#39;\r\n\r\n   rpm -ql java-${java_version}-openjdk-headless | grep nss.fips.cfg\r\n   ```\r\n1. If not present, at the end, add the following line:\r\n   ```java\r\n   attributes(*,CKO_SECRET_KEY,CKK_GENERIC_SECRET)={ CKA_SIGN=true }\r\n   ```","title":"How to configure openjdk for FIPS and simple postgres connection example","body":"<p>For others facing this issue, please find the details in <a href=\"https://bugzilla.redhat.com/show_bug.cgi?id=2007331\" rel=\"nofollow noreferrer\">Bug 2007331</a> (for <em>Java 17</em>), plus whether this is already fixed and delivered.</p>\n<p>To test the fix in advance:</p>\n<ol>\n<li>Locate <code>nss.fips.cfg</code>:\n<pre class=\"lang-bash prettyprint-override\"><code># For Java 8\njava_version='1.8.0'\n# For Java 11\njava_version='11'\n# For Java 17\njava_version='17'\n\nrpm -ql java-${java_version}-openjdk-headless | grep nss.fips.cfg\n</code></pre>\n</li>\n<li>If not present, at the end, add the following line:\n<pre class=\"lang-java prettyprint-override\"><code>attributes(*,CKO_SECRET_KEY,CKK_GENERIC_SECRET)={ CKA_SIGN=true }\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":11103514,"reputation":21,"user_id":8151456,"display_name":"Becky McDermott"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1547,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1656369142,"creation_date":1649086783,"question_id":71740204,"body_markdown":"I have a simple Java application running in an openjdk Docker container that is executing on a FIPS enabled host system (on a Kubernetes cluster where all nodes have FIPS enabled).\r\n\r\nI am running a `kubectl apply -f simple-java-deployment.yaml` to add this as a Kubernetes pod/deployment to a namespace where a PostGres database is running.\r\n\r\nMy simple example/pod starts fine but when I look in the logs, it is failing to connect to Postgresql.\r\n\r\nWhen I exec inside the container and run the command to get the Java version, I see:\r\nWhen I exec inside one of the java services pod (that connects to postgres):\r\n\r\n    $ java --version\r\n    openjdk 11.0.14 2022-01-18 LTS\r\n    OpenJDK Runtime Environment 18.9 (build 11.0.14+9-LTS)\r\n    OpenJDK 64-Bit Server VM 18.9 (build 11.0.14+9-LTS, mixed mode, sharing)\r\n\r\n\r\nThe error in the kubernetes pod logs is a long stack trace with this &quot;Caused by&quot;\r\n\r\n    Caused by: java.lang.RuntimeException: Platform error: unsupported key for HMAC algorithm\r\n\r\nI am using the following jdbc driver:  postgresql-42.3.3.jar\r\n\r\nand my version of postgres is FIPS compliant:  12.7\r\n\r\nIn the FIPS enabled Kubernetes cluster, I am able to exec into a pod and run a &quot;psql&quot; command to connect to the postgresql database.  This proves to me that postges can accept connections in a FIPS enabled host environment.\r\n\r\nI have posted in a postgres forum and the experts there are suggesting there is something in the Java ecosystem that is not configured correctly.  I am not a Java developer per say (just dabble in it).  I work in DevOps and am using this simple example to work out the details because our larger application is having the same issue when deploying to FIPS enabled hosts.\r\n\r\nAre there Java experts out there who can point me to how I can configure my Java/JVM environment such that this simple code example can work?\r\n\r\nHere is my simple code (Note:  I have an infinite loop trying to simulate an http service waiting for requests - I just delete the Kubernetes deployment when I want to stop it).  Also note that I am using the same plain text username/password that works when I successfully connect from one pod to postgres using &quot;psql&quot; (psql -h postgresql-app -p 5432 -d app -U application_user)\r\n\r\n\r\n    package com.example.postgresqljdbc;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class PostgreSQLJDBC {\r\n        private final String url = &quot;jdbc:postgresql://postgresql-app:5432/app&quot;;\r\n        private final String user = &quot;application_user&quot;;\r\n        private final String password = &quot;eb993cac-ee92-4df1-8429-a7a168a0ed21&quot;;\r\n    \r\n        public Connection connect()  {\r\n            Connection conn = null;\r\n    \r\n            try {\r\n                conn = DriverManager.getConnection(url, user, password);\r\n                System.out.println(&quot;Connected to the PostgreSQL server successfully&quot;);\r\n            }\r\n            catch (SQLException e) {\r\n                System.out.println(e.getMessage());\r\n                e.printStackTrace(System.out);\r\n            }\r\n    \r\n            return conn;\r\n        }\r\n    \r\n        public static void main(String[] args)  {\r\n            PostgreSQLJDBC app = new PostgreSQLJDBC();\r\n            int idx = 1;\r\n    \r\n            System.out.println(&quot;About to try connecting to postreSQL database ...&quot;);\r\n    \r\n            Connection db_con = app.connect();\r\n    \r\n            if (db_con == null) {\r\n                System.out.println(&quot;Unable to connect to the database ... check the logs for the exception message&quot;);\r\n            }\r\n            else {\r\n                System.out.println(&quot;Successfully connected to the database!!  Try running a query&quot;);\r\n            }\r\n    \r\n            System.out.println(&quot;Inside main - about to enter a long loop&quot;);\r\n    \r\n            while (true) {\r\n                System.out.printf(&quot;Looping a set number of times ... Loop Iteration:  %d%n&quot;, idx);\r\n    \r\n                idx++;\r\n    \r\n                try {\r\n                    TimeUnit.SECONDS.sleep(5);\r\n                }\r\n                catch (Exception e) {\r\n                    System.out.println(e.getMessage());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to configure openjdk for FIPS and simple postgres connection example","body":"<p>I have a simple Java application running in an openjdk Docker container that is executing on a FIPS enabled host system (on a Kubernetes cluster where all nodes have FIPS enabled).</p>\n<p>I am running a <code>kubectl apply -f simple-java-deployment.yaml</code> to add this as a Kubernetes pod/deployment to a namespace where a PostGres database is running.</p>\n<p>My simple example/pod starts fine but when I look in the logs, it is failing to connect to Postgresql.</p>\n<p>When I exec inside the container and run the command to get the Java version, I see:\nWhen I exec inside one of the java services pod (that connects to postgres):</p>\n<pre><code>$ java --version\nopenjdk 11.0.14 2022-01-18 LTS\nOpenJDK Runtime Environment 18.9 (build 11.0.14+9-LTS)\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.14+9-LTS, mixed mode, sharing)\n</code></pre>\n<p>The error in the kubernetes pod logs is a long stack trace with this &quot;Caused by&quot;</p>\n<pre><code>Caused by: java.lang.RuntimeException: Platform error: unsupported key for HMAC algorithm\n</code></pre>\n<p>I am using the following jdbc driver:  postgresql-42.3.3.jar</p>\n<p>and my version of postgres is FIPS compliant:  12.7</p>\n<p>In the FIPS enabled Kubernetes cluster, I am able to exec into a pod and run a &quot;psql&quot; command to connect to the postgresql database.  This proves to me that postges can accept connections in a FIPS enabled host environment.</p>\n<p>I have posted in a postgres forum and the experts there are suggesting there is something in the Java ecosystem that is not configured correctly.  I am not a Java developer per say (just dabble in it).  I work in DevOps and am using this simple example to work out the details because our larger application is having the same issue when deploying to FIPS enabled hosts.</p>\n<p>Are there Java experts out there who can point me to how I can configure my Java/JVM environment such that this simple code example can work?</p>\n<p>Here is my simple code (Note:  I have an infinite loop trying to simulate an http service waiting for requests - I just delete the Kubernetes deployment when I want to stop it).  Also note that I am using the same plain text username/password that works when I successfully connect from one pod to postgres using &quot;psql&quot; (psql -h postgresql-app -p 5432 -d app -U application_user)</p>\n<pre><code>package com.example.postgresqljdbc;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.util.concurrent.TimeUnit;\n\npublic class PostgreSQLJDBC {\n    private final String url = &quot;jdbc:postgresql://postgresql-app:5432/app&quot;;\n    private final String user = &quot;application_user&quot;;\n    private final String password = &quot;eb993cac-ee92-4df1-8429-a7a168a0ed21&quot;;\n\n    public Connection connect()  {\n        Connection conn = null;\n\n        try {\n            conn = DriverManager.getConnection(url, user, password);\n            System.out.println(&quot;Connected to the PostgreSQL server successfully&quot;);\n        }\n        catch (SQLException e) {\n            System.out.println(e.getMessage());\n            e.printStackTrace(System.out);\n        }\n\n        return conn;\n    }\n\n    public static void main(String[] args)  {\n        PostgreSQLJDBC app = new PostgreSQLJDBC();\n        int idx = 1;\n\n        System.out.println(&quot;About to try connecting to postreSQL database ...&quot;);\n\n        Connection db_con = app.connect();\n\n        if (db_con == null) {\n            System.out.println(&quot;Unable to connect to the database ... check the logs for the exception message&quot;);\n        }\n        else {\n            System.out.println(&quot;Successfully connected to the database!!  Try running a query&quot;);\n        }\n\n        System.out.println(&quot;Inside main - about to enter a long loop&quot;);\n\n        while (true) {\n            System.out.printf(&quot;Looping a set number of times ... Loop Iteration:  %d%n&quot;, idx);\n\n            idx++;\n\n            try {\n                TimeUnit.SECONDS.sleep(5);\n            }\n            catch (Exception e) {\n                System.out.println(e.getMessage());\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","jackson-databind","jackson-annotations"],"comments":[{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1656363848,"post_id":72775857,"comment_id":128549587,"body_markdown":"Can you share an example of the POJO you are trying to read as well as the code that does this?","body":"Can you share an example of the POJO you are trying to read as well as the code that does this?"},{"owner":{"account_id":2773631,"reputation":384,"user_id":2875344,"accept_rate":78,"display_name":"Biiiiiird"},"score":0,"creation_date":1656366404,"post_id":72775857,"comment_id":128550243,"body_markdown":"Edited with more information @akortex","body":"Edited with more information @akortex"},{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1656368125,"post_id":72775857,"comment_id":128550615,"body_markdown":"Check the updated answer.","body":"Check the updated answer."}],"answers":[{"tags":[],"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656368114,"creation_date":1656364827,"answer_id":72778417,"question_id":72775857,"body_markdown":"The problem stems from Lombok and not the actual Jackson stuff. Taking a look at the generated source code will give you a clear view of what&#39;s happening. Using `Builder.Default` seems to cause the issue as it apparently produces messed up code which removes the initializations you have in place. Removing the annotation restores proper behavior.\r\n\r\nThis seems to be an issue with Lombok and it is documented [here][1]. Removing the annotation should result in correct behavior.\r\n\r\n\r\n  [1]: https://github.com/projectlombok/lombok/issues/2340","title":"Jackson-databind deserializes JSON with missing property as &quot;null&quot; instead of default value","body":"<p>The problem stems from Lombok and not the actual Jackson stuff. Taking a look at the generated source code will give you a clear view of what's happening. Using <code>Builder.Default</code> seems to cause the issue as it apparently produces messed up code which removes the initializations you have in place. Removing the annotation restores proper behavior.</p>\n<p>This seems to be an issue with Lombok and it is documented <a href=\"https://github.com/projectlombok/lombok/issues/2340\" rel=\"nofollow noreferrer\">here</a>. Removing the annotation should result in correct behavior.</p>\n"}],"owner":{"account_id":2773631,"reputation":384,"user_id":2875344,"accept_rate":78,"display_name":"Biiiiiird"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":675,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72778417,"answer_count":1,"score":2,"last_activity_date":1656368114,"creation_date":1656349393,"question_id":72775857,"body_markdown":"When deserializing a JSON string, missing properties are being set as &quot;null&quot; when they shouldn&#39;t be. Below is a POJO class:\r\n\r\n```\r\n    @Builder\r\n    @Getter\r\n    @Setter\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString\r\n    @EqualsAndHashCode\r\n    static class MyPojo {\r\n        \r\n        @JsonProperty(value = &quot;OptionalProp&quot;, required = false, defaultValue = &quot;&quot;)\r\n        @Builder.Default\r\n        @Nullable\r\n        @JsonSetter(value = &quot;&quot;, nulls = Nulls.AS_EMPTY)\r\n        private String optionalProp = &quot;&quot;;\r\n    \r\n        @JsonProperty(value = &quot;RequiredProp&quot;, required = false, defaultValue = &quot;&quot;)\r\n        @Builder.Default\r\n        @Nullable\r\n        @JsonSetter(value = &quot;&quot;, nulls = Nulls.AS_EMPTY)\r\n        private String requiredProp = &quot;&quot;;\r\n    }\r\n```\r\n\r\nJSON String to deserialize:\r\n\r\n```\r\n{\r\n  &quot;RequiredProp&quot; : &quot;test&quot;\r\n}\r\n```\r\n\r\nHere is the deserialization:\r\n\r\n```\r\nprivate final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\r\nprivate final myPojo = OBJECT_MAPPER.readValue(inputStream, MyPojo.class);\r\n```\r\n\r\nAnd here is the output:\r\n\r\n```\r\nMyPojo(optionalProp=null, requiredProp=test)\r\n```\r\n\r\nBUT creating the POJO with builder:\r\n\r\n```\r\n        final MyPojo myPojo = MyPojo.builder()\r\n            .requiredProp(&quot;test&quot;)\r\n            .build();\r\n```\r\n\r\nResults in the following POJO:\r\n\r\n```\r\nMyPojo(optionalProp=, requiredProp=test)\r\n```\r\n\r\nI&#39;m using:\r\n\r\n```\r\nJackson-databind 2.12.x\r\nJackson-annotation 2.12.x\r\nJackson-core 2.12.x\r\n```\r\n\r\nIs there a minor version change from one of these packages that changes the behavior?","title":"Jackson-databind deserializes JSON with missing property as &quot;null&quot; instead of default value","body":"<p>When deserializing a JSON string, missing properties are being set as &quot;null&quot; when they shouldn't be. Below is a POJO class:</p>\n<pre><code>    @Builder\n    @Getter\n    @Setter\n    @JsonInclude(JsonInclude.Include.NON_NULL)\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @ToString\n    @EqualsAndHashCode\n    static class MyPojo {\n        \n        @JsonProperty(value = &quot;OptionalProp&quot;, required = false, defaultValue = &quot;&quot;)\n        @Builder.Default\n        @Nullable\n        @JsonSetter(value = &quot;&quot;, nulls = Nulls.AS_EMPTY)\n        private String optionalProp = &quot;&quot;;\n    \n        @JsonProperty(value = &quot;RequiredProp&quot;, required = false, defaultValue = &quot;&quot;)\n        @Builder.Default\n        @Nullable\n        @JsonSetter(value = &quot;&quot;, nulls = Nulls.AS_EMPTY)\n        private String requiredProp = &quot;&quot;;\n    }\n</code></pre>\n<p>JSON String to deserialize:</p>\n<pre><code>{\n  &quot;RequiredProp&quot; : &quot;test&quot;\n}\n</code></pre>\n<p>Here is the deserialization:</p>\n<pre><code>private final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\nprivate final myPojo = OBJECT_MAPPER.readValue(inputStream, MyPojo.class);\n</code></pre>\n<p>And here is the output:</p>\n<pre><code>MyPojo(optionalProp=null, requiredProp=test)\n</code></pre>\n<p>BUT creating the POJO with builder:</p>\n<pre><code>        final MyPojo myPojo = MyPojo.builder()\n            .requiredProp(&quot;test&quot;)\n            .build();\n</code></pre>\n<p>Results in the following POJO:</p>\n<pre><code>MyPojo(optionalProp=, requiredProp=test)\n</code></pre>\n<p>I'm using:</p>\n<pre><code>Jackson-databind 2.12.x\nJackson-annotation 2.12.x\nJackson-core 2.12.x\n</code></pre>\n<p>Is there a minor version change from one of these packages that changes the behavior?</p>\n"},{"tags":["java","timezone"],"comments":[{"owner":{"account_id":5769,"reputation":55573,"user_id":9453,"display_name":"Daniel DiPaolo"},"score":1,"creation_date":1301696392,"post_id":5519472,"comment_id":6268392,"body_markdown":"That doesn&#39;t return a time at all, it returns a `TimeZone`. So I don&#39;t understand your question.  Does `Calendar.getInstance(TimeZone.getTimeZone(&quot;America/Ottawa&quot;));` not behave like you want?","body":"That doesn&#39;t return a time at all, it returns a <code>TimeZone</code>. So I don&#39;t understand your question.  Does <code>Calendar.getInstance(TimeZone.getTimeZone(&quot;America&#47;Ottawa&quot;))&zwnj;&#8203;;</code> not behave like you want?"},{"owner":{"account_id":204648,"reputation":2155,"user_id":452991,"display_name":"Argote"},"score":0,"creation_date":1301696552,"post_id":5519472,"comment_id":6268419,"body_markdown":"what do you mean by &quot;incorrect time&quot;?","body":"what do you mean by &quot;incorrect time&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":289134,"reputation":372192,"user_id":589924,"accept_rate":100,"display_name":"ikegami"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656367243,"creation_date":1301696799,"answer_id":5519520,"question_id":5519472,"body_markdown":"You can&#39;t just pick cities at random. `America/Toronto` is the appropriate time zone if Java uses the same [time zone database](http://en.wikipedia.org/wiki/List_of_tz_database_time_zones) as everyone else.","title":"Java time zone for Ottawa?","body":"<p>You can't just pick cities at random. <code>America/Toronto</code> is the appropriate time zone if Java uses the same <a href=\"http://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">time zone database</a> as everyone else.</p>\n"},{"tags":[],"owner":{"account_id":49530,"reputation":7346,"user_id":147481,"display_name":"BillThor"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1615311793,"creation_date":1301696876,"answer_id":5519536,"question_id":5519472,"body_markdown":"The correct timezone is `America/Toronto`.  This is the largest city in the province of Ontario.  \r\n\r\nTimezone names are typically in the form Continent/City.  For Canada and the United States, the timezones use the largest city in the State or Province.  A few states have multiple timezones in the form of Continent/State/City.  For most other countries there is at least one timezone using the largest city. Countries with multiple timezones usually use the largest city in each timezone.  \r\n\r\nEDIT: The likely reason for your time difference is that the code defaults to Zulu time if the timezone is not found.","title":"Java time zone for Ottawa?","body":"<p>The correct timezone is <code>America/Toronto</code>.  This is the largest city in the province of Ontario.</p>\n<p>Timezone names are typically in the form Continent/City.  For Canada and the United States, the timezones use the largest city in the State or Province.  A few states have multiple timezones in the form of Continent/State/City.  For most other countries there is at least one timezone using the largest city. Countries with multiple timezones usually use the largest city in each timezone.</p>\n<p>EDIT: The likely reason for your time difference is that the code defaults to Zulu time if the timezone is not found.</p>\n"}],"owner":{"account_id":15510,"reputation":30708,"user_id":32834,"accept_rate":79,"display_name":"Frank"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4412,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":5519536,"answer_count":2,"score":4,"last_activity_date":1656367243,"creation_date":1301696308,"question_id":5519472,"body_markdown":"Why the TimeZone returned by the following line showed incorrect time :\r\n\r\n    TimeZone.getTimeZone(&quot;America/Ottawa&quot;)\r\n\r\nIt showed 10:26 PM now [ Atlanta time now is 6:26 , Ottawashould also be 6:26 pm ].\r\n\r\nI thought it has two parts : continent/city and it should return the correct time, am I incorrect ?","title":"Java time zone for Ottawa?","body":"<p>Why the TimeZone returned by the following line showed incorrect time :</p>\n\n<pre><code>TimeZone.getTimeZone(\"America/Ottawa\")\n</code></pre>\n\n<p>It showed 10:26 PM now [ Atlanta time now is 6:26 , Ottawashould also be 6:26 pm ].</p>\n\n<p>I thought it has two parts : continent/city and it should return the correct time, am I incorrect ?</p>\n"},{"tags":["java","assertj"],"comments":[{"owner":{"account_id":220794,"reputation":12257,"user_id":478406,"accept_rate":82,"display_name":"Robert Strauch"},"score":1,"creation_date":1656310287,"post_id":72767548,"comment_id":128530906,"body_markdown":"The point is that this enum is used in multiple projects and the id must not change. If someone changed, for example, the id of `CREDITCARD` to `11`, then this must be detected by the test before it gets deployed to the depenendent projects which use this enum. Also, if someone removes a payment type...","body":"The point is that this enum is used in multiple projects and the id must not change. If someone changed, for example, the id of <code>CREDITCARD</code> to <code>11</code>, then this must be detected by the test before it gets deployed to the depenendent projects which use this enum. Also, if someone removes a payment type..."},{"owner":{"account_id":9415453,"reputation":3146,"user_id":7003331,"display_name":"Deepak Patankar"},"score":1,"creation_date":1656310353,"post_id":72767548,"comment_id":128530927,"body_markdown":"I suppose the enum cordinal must not change. If two services are communicating then the ordinal should point to the same enum value.","body":"I suppose the enum cordinal must not change. If two services are communicating then the ordinal should point to the same enum value."},{"owner":{"account_id":2734255,"reputation":561,"user_id":2384806,"display_name":"mdoflaz"},"score":0,"creation_date":1656310392,"post_id":72767548,"comment_id":128530936,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/1079700/how-to-test-enum-types","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/1079700/how-to-test-enum-types\" title=\"how to test enum types\">stackoverflow.com/questions/1079700/how-to-test-enum-types</a>"},{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":1,"creation_date":1656312716,"post_id":72767548,"comment_id":128531511,"body_markdown":"this does not look that bad :) however, you&#39;d need to not forget to update the test when new enum value is added. to deal with this you might add another test that checks that the size of `expectedPaymentTypes` is the same as the number of enum values","body":"this does not look that bad :) however, you&#39;d need to not forget to update the test when new enum value is added. to deal with this you might add another test that checks that the size of <code>expectedPaymentTypes</code> is the same as the number of enum values"},{"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"score":1,"creation_date":1656321009,"post_id":72767548,"comment_id":128534206,"body_markdown":"Personally, I&#39;m not a fan of separating the test data away from the test class, because when reading the (failing) test method, I then have to move to another place to see what is actually expected. So I would personally do an `assertThat( Arrays.stream(enums.values).map(value -&gt; Pair.of(v.name(), value.getId()).containsExactly( Pair.of(...), Pair.of(...));`","body":"Personally, I&#39;m not a fan of separating the test data away from the test class, because when reading the (failing) test method, I then have to move to another place to see what is actually expected. So I would personally do an <code>assertThat( Arrays.stream(enums.values).map(value -&gt; Pair.of(v.name(), value.getId()).containsExactly( Pair.of(...), Pair.of(...));</code>"}],"answers":[{"tags":[],"owner":{"account_id":13463440,"reputation":1896,"user_id":9714611,"display_name":"Stefano Cordio"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656365499,"creation_date":1656365165,"answer_id":72778476,"question_id":72767548,"body_markdown":"JUnit 5 [parameterized tests][1] with a [`@CsvSource`][2] could help:\r\n\r\n    @ParameterizedTest\r\n    @CsvSource({\r\n      &quot;CREDITCARD, 1&quot;,\r\n      &quot;PAYPAL, 2&quot;,\r\n      &quot;APPLE_PAY, 3&quot;,\r\n      &quot;GOOGLE_PAY, 4&quot;\r\n    })\r\n    void getId_should_return_expected_id(PaymentType paymentType, long id) {\r\n      assertThat(paymentType.getId()).isEqualTo(id);\r\n    }\r\n\r\nTo make sure that all Enum values are tested, the mappings can be defined as a [`@MethodSource`][3] and one more test can enforce the full coverage:\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;mappings&quot;)\r\n    void getId_should_return_expected_id(PaymentType paymentType, long id) {\r\n      assertThat(paymentType.getId()).isEqualTo(id);\r\n    }\r\n\r\n    @Test\r\n    void all_values_should_be_tested() {\r\n      List&lt;PaymentType&gt; values = mappings() // same mappings used above\r\n        .map(arguments -&gt; arguments.get()[0])\r\n        .map(PaymentType.class::cast)\r\n        .collect(Collectors.toList());\r\n\r\n      assertThat(values).contains(PaymentType.values());\r\n    }\r\n\r\n    static Stream&lt;Arguments&gt; mappings() {\r\n      return Stream.of(\r\n        arguments(CREDITCARD, 1L),\r\n        arguments(PAYPAL, 2L),\r\n        arguments(APPLE_PAY, 3L),\r\n        arguments(GOOGLE_PAY, 4L)\r\n      );\r\n    }\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests\r\n  [2]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-sources-CsvSource\r\n  [3]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-sources-MethodSource","title":"Asserting Java enum values and fields with AssertJ","body":"<p>JUnit 5 <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests\" rel=\"nofollow noreferrer\">parameterized tests</a> with a <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-sources-CsvSource\" rel=\"nofollow noreferrer\"><code>@CsvSource</code></a> could help:</p>\n<pre><code>@ParameterizedTest\n@CsvSource({\n  &quot;CREDITCARD, 1&quot;,\n  &quot;PAYPAL, 2&quot;,\n  &quot;APPLE_PAY, 3&quot;,\n  &quot;GOOGLE_PAY, 4&quot;\n})\nvoid getId_should_return_expected_id(PaymentType paymentType, long id) {\n  assertThat(paymentType.getId()).isEqualTo(id);\n}\n</code></pre>\n<p>To make sure that all Enum values are tested, the mappings can be defined as a <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-sources-MethodSource\" rel=\"nofollow noreferrer\"><code>@MethodSource</code></a> and one more test can enforce the full coverage:</p>\n<pre><code>@ParameterizedTest\n@MethodSource(&quot;mappings&quot;)\nvoid getId_should_return_expected_id(PaymentType paymentType, long id) {\n  assertThat(paymentType.getId()).isEqualTo(id);\n}\n\n@Test\nvoid all_values_should_be_tested() {\n  List&lt;PaymentType&gt; values = mappings() // same mappings used above\n    .map(arguments -&gt; arguments.get()[0])\n    .map(PaymentType.class::cast)\n    .collect(Collectors.toList());\n\n  assertThat(values).contains(PaymentType.values());\n}\n\nstatic Stream&lt;Arguments&gt; mappings() {\n  return Stream.of(\n    arguments(CREDITCARD, 1L),\n    arguments(PAYPAL, 2L),\n    arguments(APPLE_PAY, 3L),\n    arguments(GOOGLE_PAY, 4L)\n  );\n}\n</code></pre>\n"}],"owner":{"account_id":220794,"reputation":12257,"user_id":478406,"accept_rate":82,"display_name":"Robert Strauch"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1173,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1656365499,"creation_date":1656309764,"question_id":72767548,"body_markdown":"Given a simple enum like this:\r\n\r\n```java\r\n@AllArgsConstructor\r\n@Getter\r\npublic enum PaymentMethod {\r\n\r\n    CREDITCARD(1),\r\n    PAYPAL(2),\r\n    APPLE_PAY(3),\r\n    GOOGLE_PAY(4);\r\n\r\n    private final long id;\r\n}\r\n```\r\n\r\nHow can I write a JUnit test with AssertJ assertions which checks that the enum values **and their fields** are exactly as defined in the enum? So that in the end the test checks for each payment type:\r\n\r\n- Does payment type exist in the enum?\r\n- Does payment type X have id Y?\r\n\r\nMy current apporach works but feels a bit cumbersome. I&#39;m pretty sure that AssertJ provides easier statements but I haven&#39;t found a solution yet.\r\n\r\n```java\r\nclass PaymentTypeTest {\r\n\r\n    private static final Map&lt;Long, PaymentType&gt; expectedPaymentTypes = new HashMap&lt;&gt;();\r\n\r\n    @BeforeAll\r\n    static void beforeAll() {\r\n        expectedPaymentTypes.put(1L, CREDITCARD);\r\n        expectedPaymentTypes.put(2L, PAYPAL);\r\n        expectedPaymentTypes.put(3L, APPLE_PAY);\r\n        expectedPaymentTypes.put(4L, GOOGLE_PAY);    \r\n    }\r\n\r\n    @Test\r\n    void should_contain_exact_values() {\r\n        for (Map.Entry&lt;Long, PaymentType&gt; entry : expectedPaymentTypes.entrySet()) {\r\n            final PaymentType paymentType = entry.getValue();\r\n            assertThat(paymentType.getId()).isEqualTo(entry.getKey());\r\n        }\r\n    }\r\n}```","title":"Asserting Java enum values and fields with AssertJ","body":"<p>Given a simple enum like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@Getter\npublic enum PaymentMethod {\n\n    CREDITCARD(1),\n    PAYPAL(2),\n    APPLE_PAY(3),\n    GOOGLE_PAY(4);\n\n    private final long id;\n}\n</code></pre>\n<p>How can I write a JUnit test with AssertJ assertions which checks that the enum values <strong>and their fields</strong> are exactly as defined in the enum? So that in the end the test checks for each payment type:</p>\n<ul>\n<li>Does payment type exist in the enum?</li>\n<li>Does payment type X have id Y?</li>\n</ul>\n<p>My current apporach works but feels a bit cumbersome. I'm pretty sure that AssertJ provides easier statements but I haven't found a solution yet.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class PaymentTypeTest {\n\n    private static final Map&lt;Long, PaymentType&gt; expectedPaymentTypes = new HashMap&lt;&gt;();\n\n    @BeforeAll\n    static void beforeAll() {\n        expectedPaymentTypes.put(1L, CREDITCARD);\n        expectedPaymentTypes.put(2L, PAYPAL);\n        expectedPaymentTypes.put(3L, APPLE_PAY);\n        expectedPaymentTypes.put(4L, GOOGLE_PAY);    \n    }\n\n    @Test\n    void should_contain_exact_values() {\n        for (Map.Entry&lt;Long, PaymentType&gt; entry : expectedPaymentTypes.entrySet()) {\n            final PaymentType paymentType = entry.getValue();\n            assertThat(paymentType.getId()).isEqualTo(entry.getKey());\n        }\n    }\n}```\n</code></pre>\n"},{"tags":["java","node.js","graph","service","aws-xray"],"answers":[{"tags":[],"owner":{"account_id":10095074,"reputation":493,"user_id":7460739,"display_name":"Nathaniel Ruiz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656364917,"creation_date":1656364917,"answer_id":72778434,"question_id":72739137,"body_markdown":"Thanks for asking this question. Unfortunately this is _not_ yet supported. Please see this open issue on the X-Ray Node JS SDK which explains why this is a difficult problem to solve:\r\n\r\nhttps://github.com/aws/aws-xray-sdk-node/issues/208","title":"Display single service map for two serverless microservices instrumented with AWS Xray","body":"<p>Thanks for asking this question. Unfortunately this is <em>not</em> yet supported. Please see this open issue on the X-Ray Node JS SDK which explains why this is a difficult problem to solve:</p>\n<p><a href=\"https://github.com/aws/aws-xray-sdk-node/issues/208\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-xray-sdk-node/issues/208</a></p>\n"}],"owner":{"account_id":284924,"reputation":431,"user_id":583309,"accept_rate":24,"display_name":"Hussain Ashruf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656364917,"creation_date":1656046385,"question_id":72739137,"body_markdown":"I have use-case where the Producer Java lambda publishes messages to SQS and Consumer Nodejs consumes them. Producer side of X-ray is enabled in serverless.yml; displays a Service map with all AWS components. The Consumer side of Nodejs lambda; is enabled with tracing. Now the problem is Aws Xray shows two service maps. I need to show a single service map. How to achieve it. Thank you.","title":"Display single service map for two serverless microservices instrumented with AWS Xray","body":"<p>I have use-case where the Producer Java lambda publishes messages to SQS and Consumer Nodejs consumes them. Producer side of X-ray is enabled in serverless.yml; displays a Service map with all AWS components. The Consumer side of Nodejs lambda; is enabled with tracing. Now the problem is Aws Xray shows two service maps. I need to show a single service map. How to achieve it. Thank you.</p>\n"},{"tags":["java","jdbc","tigergraph"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1656328113,"post_id":72770917,"comment_id":128536628,"body_markdown":"Not the main error, but apostrophe, single quote, for values and single = for equality:`&quot;select * from InfectionCase where id = &#39;Hansarang Convalescent Hospital&#39;&quot;`. You might use `con.getMetaData()` and query all table names.","body":"Not the main error, but apostrophe, single quote, for values and single = for equality:<code>&quot;select * from InfectionCase where id = &#39;Hansarang Convalescent Hospital&#39;&quot;</code>. You might use <code>con.getMetaData()</code> and query all table names."}],"answers":[{"tags":[],"owner":{"account_id":25664292,"reputation":111,"user_id":19429580,"display_name":"Szilard Barany"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656364809,"creation_date":1656364809,"answer_id":72778416,"question_id":72770917,"body_markdown":"To fetch vertex instances from TigerGraph you need to use a different syntax as the `SELECT` statement is not supported in the JDBC driver:\r\n```\r\ntry (Connection con = getConnection()) {\r\n    String query = &quot;get vertex(InfectionCase, \\&quot;Hansarang Convalescent Hospital\\&quot;)&quot;;\r\n    &lt;more statements&gt;\r\n}\r\n```\r\nYou can use this `get vertex(vertex_type)` syntax to get a single vertex by primary ID or get a set of vertices (optionally filtered, sorted and limited). See the [documentation](https://github.com/tigergraph/ecosys/tree/master/tools/etl/tg-jdbc-driver#supported-queries-and-syntax) on this.\r\n\r\nI personally think that it is better to access TigerGraph via the [REST API](https://docs.tigergraph.com/tigergraph-server/current/api/) than using the JDBC driver. JDBC was designed for relation databases and thus it expects tabular data. The graph is not tabular, it&#39;s a data network. So, what you normally get out of a TigerGraph statement or query execution is a JSON document describing a subgraph: vertices and edges. This output can be flattened into rows and columns, but then you get a lesser image of the graph: a 2D projection of a 3D (or rather: a multi-dimensional) data set.\r\n\r\nAnother note: fetching individual vertices and edges, or even sets of these via JDBC calls (like above) or via the built-in REST endpoints (like `http://localhost:9000/graph/MyGrah/vertices/InfectionCase/Hansarang+Convalescent+Hospital`) is not the most efficient use of TigerGraph. Surely, sometimes you just need a set of vertices to list in an app or visualise a graph. The real power comes from developing [queries](https://docs.tigergraph.com/gsql-ref/current/tutorials/gsql-101/parameterized-gsql-query), TigerGraph&#39;s &quot;stored procedures&quot; that can execute even very complex and sophisticated graph algorithms like [PageRank](https://github.com/tigergraph/gsql-graph-algorithms/tree/master/algorithms/Centrality/pagerank) or [Louvain community detection](https://github.com/tigergraph/gsql-graph-algorithms/tree/master/algorithms/Community/louvain) inside the graph very fast, in a parallelised fashion.","title":"Can we use the Select query to get the vertex data using JDBC Driver in Java","body":"<p>To fetch vertex instances from TigerGraph you need to use a different syntax as the <code>SELECT</code> statement is not supported in the JDBC driver:</p>\n<pre><code>try (Connection con = getConnection()) {\n    String query = &quot;get vertex(InfectionCase, \\&quot;Hansarang Convalescent Hospital\\&quot;)&quot;;\n    &lt;more statements&gt;\n}\n</code></pre>\n<p>You can use this <code>get vertex(vertex_type)</code> syntax to get a single vertex by primary ID or get a set of vertices (optionally filtered, sorted and limited). See the <a href=\"https://github.com/tigergraph/ecosys/tree/master/tools/etl/tg-jdbc-driver#supported-queries-and-syntax\" rel=\"nofollow noreferrer\">documentation</a> on this.</p>\n<p>I personally think that it is better to access TigerGraph via the <a href=\"https://docs.tigergraph.com/tigergraph-server/current/api/\" rel=\"nofollow noreferrer\">REST API</a> than using the JDBC driver. JDBC was designed for relation databases and thus it expects tabular data. The graph is not tabular, it's a data network. So, what you normally get out of a TigerGraph statement or query execution is a JSON document describing a subgraph: vertices and edges. This output can be flattened into rows and columns, but then you get a lesser image of the graph: a 2D projection of a 3D (or rather: a multi-dimensional) data set.</p>\n<p>Another note: fetching individual vertices and edges, or even sets of these via JDBC calls (like above) or via the built-in REST endpoints (like <code>http://localhost:9000/graph/MyGrah/vertices/InfectionCase/Hansarang+Convalescent+Hospital</code>) is not the most efficient use of TigerGraph. Surely, sometimes you just need a set of vertices to list in an app or visualise a graph. The real power comes from developing <a href=\"https://docs.tigergraph.com/gsql-ref/current/tutorials/gsql-101/parameterized-gsql-query\" rel=\"nofollow noreferrer\">queries</a>, TigerGraph's &quot;stored procedures&quot; that can execute even very complex and sophisticated graph algorithms like <a href=\"https://github.com/tigergraph/gsql-graph-algorithms/tree/master/algorithms/Centrality/pagerank\" rel=\"nofollow noreferrer\">PageRank</a> or <a href=\"https://github.com/tigergraph/gsql-graph-algorithms/tree/master/algorithms/Community/louvain\" rel=\"nofollow noreferrer\">Louvain community detection</a> inside the graph very fast, in a parallelised fashion.</p>\n"}],"owner":{"account_id":24901105,"reputation":3,"user_id":18771774,"display_name":"Rajvardhan Salunkhe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72778416,"answer_count":1,"score":0,"last_activity_date":1656364809,"creation_date":1656327225,"question_id":72770917,"body_markdown":"I am trying to run select statement for tigerGraph using JDBC Driver for JAVA but getting java.sql.SQLException: Unsupported dbtable: InfectionCase Error. Is select statement supported by tigerGraph using JDBC or is there any other way to execute Select Statement.\r\n\r\n    try (Connection con = getConnection()) {\r\n            String query = &quot;select * From InfectionCase where id == \\&quot;Hansarang Convalescent Hospital\\&quot;&quot;;\r\n            System.out.println(&quot;Running :&quot; + query);\r\n            Statement statement = con.createStatement();\r\n            ResultSet rs = statement.executeQuery(query);\r\n            System.out.println(rs.toString());\r\n            do {\r\n                java.sql.ResultSetMetaData metaData = rs.getMetaData();\r\n                System.out.println(&quot;Table: &quot; + metaData.getCatalogName(1));\r\n                System.out.print(metaData.getColumnName(1));\r\n                for (int i = 2; i &lt;= metaData.getColumnCount(); ++i) {\r\n                    System.out.print(&quot;\\t&quot; + metaData.getColumnName(i));\r\n                }\r\n\r\n    java.sql.SQLException: Unsupported dbtable: InfectionCase\r\n\tat com.tigergraph.jdbc.restpp.driver.QueryParser.&lt;init&gt;(QueryParser.java:629)\r\n\tat com.tigergraph.jdbc.restpp.RestppStatement.execute(RestppStatement.java:41)\r\n\tat com.tigergraph.jdbc.restpp.RestppStatement.executeQuery(RestppStatement.java:35)\r\n\tat com.prissoft.connection.GraphJSON.selectStatementUsingSQL(GraphJSON.java:145)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)","title":"Can we use the Select query to get the vertex data using JDBC Driver in Java","body":"<p>I am trying to run select statement for tigerGraph using JDBC Driver for JAVA but getting java.sql.SQLException: Unsupported dbtable: InfectionCase Error. Is select statement supported by tigerGraph using JDBC or is there any other way to execute Select Statement.</p>\n<pre><code>try (Connection con = getConnection()) {\n        String query = &quot;select * From InfectionCase where id == \\&quot;Hansarang Convalescent Hospital\\&quot;&quot;;\n        System.out.println(&quot;Running :&quot; + query);\n        Statement statement = con.createStatement();\n        ResultSet rs = statement.executeQuery(query);\n        System.out.println(rs.toString());\n        do {\n            java.sql.ResultSetMetaData metaData = rs.getMetaData();\n            System.out.println(&quot;Table: &quot; + metaData.getCatalogName(1));\n            System.out.print(metaData.getColumnName(1));\n            for (int i = 2; i &lt;= metaData.getColumnCount(); ++i) {\n                System.out.print(&quot;\\t&quot; + metaData.getColumnName(i));\n            }\n\njava.sql.SQLException: Unsupported dbtable: InfectionCase\nat com.tigergraph.jdbc.restpp.driver.QueryParser.&lt;init&gt;(QueryParser.java:629)\nat com.tigergraph.jdbc.restpp.RestppStatement.execute(RestppStatement.java:41)\nat com.tigergraph.jdbc.restpp.RestppStatement.executeQuery(RestppStatement.java:35)\nat com.prissoft.connection.GraphJSON.selectStatementUsingSQL(GraphJSON.java:145)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\n</code></pre>\n"},{"tags":["java","spring","encoding","charset"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1649073522,"post_id":71735905,"comment_id":126776064,"body_markdown":"That looks like a defunct encoding to me. Not even a Wikipedia on it. What&#39;s wrong with Unicode?","body":"That looks like a defunct encoding to me. Not even a Wikipedia on it. What&#39;s wrong with Unicode?"}],"answers":[{"tags":[],"owner":{"account_id":19210509,"reputation":31,"user_id":14036409,"display_name":"Anna Bar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656364423,"creation_date":1656364423,"answer_id":72778366,"question_id":71735905,"body_markdown":"Are you sure you need to support x-compound_text? \r\nCheck this issue, it helped me a lot in the same case : https://stackoverflow.com/questions/44762794/java-spring-resttemplate-sets-unwanted-headers ","title":"Adding &#39;x-compound_text&#39; charset into Java Spring application","body":"<p>Are you sure you need to support x-compound_text?\nCheck this issue, it helped me a lot in the same case : <a href=\"https://stackoverflow.com/questions/44762794/java-spring-resttemplate-sets-unwanted-headers\">Java Spring RestTemplate sets unwanted headers</a></p>\n"}],"owner":{"account_id":8340816,"reputation":4606,"user_id":6266192,"display_name":"Dudi Boy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656364423,"creation_date":1649069110,"question_id":71735905,"body_markdown":"We are deploying a Java Spring Web application to our Asian customer.\r\n\r\nOn Spring Web 5.3.3\r\n\r\nOn top of Tomcat 9\r\n\r\nUsing Java 11 on openjdk 11\r\n\r\nOn Linux RHEL 7.8 (Red hat Enterprise Linux)\r\n\r\n\r\n\r\nOur Java Spring Web application is configured to use UTF-8 encoding.\r\n\r\n### In `setenv.sh` ###\r\n    ...\r\n    -Dfile.encoding=UTF-8\r\n    -Dsun.jnu.encoding=UTF-8\r\n    ...\r\n\r\n### In `server.xml` ###\r\n     ...\r\n       &lt;Connector server=&quot;&quot; port=&quot;7780&quot; protocol=&quot;HTTP/1.1&quot;\r\n                   connectionTimeout=&quot;20000&quot;\r\n                   redirectPort=&quot;8443&quot;\r\n                   URIEncoding=&quot;UTF-8&quot;\r\n                   allowTrace=&quot;false&quot;\r\n                   xpoweredBy=&quot;false&quot;\r\n                   compression=&quot;on&quot;\r\n                   compressionMinSize=&quot;2048&quot;\r\n                   noCompressionUserAgents=&quot;gozilla, traviata&quot;\r\n                   compressableMimeType=&quot;text/css,text/html,text/xml,application/javascript,application/json,application/x-javascript,text/plain,text/javascript&quot;\r\n                            /&gt;\r\n      ...\r\n\r\n### Problem: ###\r\n\r\nOur web service failing to consume chartset `x-compound_text`\r\n\r\nHere are sections from the log:\r\n\r\n    org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.nio.charset.UnsupportedCharsetException: x-compound_text\r\n            at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n            at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n    ....\r\n    Caused by: java.nio.charset.UnsupportedCharsetException: x-compound_text\r\n            at java.base/java.nio.charset.Charset.forName(Charset.java:529)\r\n            at org.springframework.http.HttpHeaders.getAcceptCharset(HttpHeaders.java:694)\r\n            at org.springframework.integration.http.support.DefaultHttpHeaderMapper.getHttpHeader(DefaultHttpHeaderMapper.java:817)\r\n    ....\r\n\r\n\r\n\r\nWe understand we need to support charset `x-compound_text` in our application.\r\n\r\nWe understand JVM in lab and JVM in client site do not support charset `x-compound_text`. \r\n\r\nThe supported charsets are:\r\n\r\n     Big5, Big5-HKSCS, CESU-8, EUC-JP, EUC-KR, GB18030, GB2312, GBK, IBM-Thai, IBM00858, IBM01140, IBM01141, IBM01142, IBM01143, IBM01144, IBM01145, IBM01146, IBM01147, IBM01148, IBM01149, IBM037, IBM1026, IBM1047, IBM273, IBM277, IBM278, IBM280, IBM284, IBM285, IBM290, IBM297, IBM420, IBM424, IBM437, IBM500, IBM775, IBM850, IBM852, IBM855, IBM857, IBM860, IBM861, IBM862, IBM863, IBM864, IBM865, IBM866, IBM868, IBM869, IBM870, IBM871, IBM918, ISO-2022-CN, ISO-2022-JP, ISO-2022-JP-2, ISO-2022-KR, ISO-8859-1, ISO-8859-13, ISO-8859-15, ISO-8859-16, ISO-8859-2, ISO-8859-3, ISO-8859-4, ISO-8859-5, ISO-8859-6, ISO-8859-7, ISO-8859-8, ISO-8859-9, JIS_X0201, JIS_X0212-1990, KOI8-R, KOI8-U, Shift_JIS, TIS-620, US-ASCII, UTF-16, UTF-16BE, UTF-16LE, UTF-32, UTF-32BE, UTF-32LE, UTF-8, windows-1250, windows-1251, windows-1252, windows-1253, windows-1254, windows-1255, windows-1256, windows-1257, windows-1258, windows-31j, x-Big5-HKSCS-2001, x-Big5-Solaris, x-euc-jp-linux, x-EUC-TW, x-eucJP-Open, x-IBM1006, x-IBM1025, x-IBM1046, x-IBM1097, x-IBM1098, x-IBM1112, x-IBM1122, x-IBM1123, x-IBM1124, x-IBM1129, x-IBM1166, x-IBM1364, x-IBM1381, x-IBM1383, x-IBM29626C, x-IBM300, x-IBM33722, x-IBM737, x-IBM833, x-IBM834, x-IBM856, x-IBM874, x-IBM875, x-IBM921, x-IBM922, x-IBM930, x-IBM933, x-IBM935, x-IBM937, x-IBM939, x-IBM942, x-IBM942C, x-IBM943, x-IBM943C, x-IBM948, x-IBM949, x-IBM949C, x-IBM950, x-IBM964, x-IBM970, x-ISCII91, x-ISO-2022-CN-CNS, x-ISO-2022-CN-GB, x-iso-8859-11, x-JIS0208, x-JISAutoDetect, x-Johab, x-MacArabic, x-MacCentralEurope, x-MacCroatian, x-MacCyrillic, x-MacDingbat, x-MacGreek, x-MacHebrew, x-MacIceland, x-MacRoman, x-MacRomania, x-MacSymbol, x-MacThai, x-MacTurkish, x-MacUkraine, x-MS932_0213, x-MS950-HKSCS, x-MS950-HKSCS-XP, x-mswin-936, x-PCK, x-SJIS_0213, x-UTF-16LE-BOM, X-UTF-32BE-BOM, X-UTF-32LE-BOM, x-windows-50220, x-windows-50221, x-windows-874, x-windows-949, x-windows-950, x-windows-iso2022jp\r\n\r\nI am **able** to reproduce the problem in lab using debugger:\r\n\r\n    1. Start web application in Exclipse or remote debug.\r\n    2. Wait for application to complete loading.\r\n    3. Set breakpoint  in method java.nio.charset.Charset.lookup, a line before function returns\r\n    4. Load a page in application\r\n    5. When stopped in breakpoint change value to variable charsetName.\r\n    6. Set value to variable charsetName: x-compound_text\r\n    7. Continue running\r\n    8. Inspect log file\r\n\r\n**I need advice, how to add support for charset `x-compound_text` into our Spring Web application.**\r\n\r\n \r\n","title":"Adding &#39;x-compound_text&#39; charset into Java Spring application","body":"<p>We are deploying a Java Spring Web application to our Asian customer.</p>\n<p>On Spring Web 5.3.3</p>\n<p>On top of Tomcat 9</p>\n<p>Using Java 11 on openjdk 11</p>\n<p>On Linux RHEL 7.8 (Red hat Enterprise Linux)</p>\n<p>Our Java Spring Web application is configured to use UTF-8 encoding.</p>\n<h3>In <code>setenv.sh</code></h3>\n<pre><code>...\n-Dfile.encoding=UTF-8\n-Dsun.jnu.encoding=UTF-8\n...\n</code></pre>\n<h3>In <code>server.xml</code></h3>\n<pre><code> ...\n   &lt;Connector server=&quot;&quot; port=&quot;7780&quot; protocol=&quot;HTTP/1.1&quot;\n               connectionTimeout=&quot;20000&quot;\n               redirectPort=&quot;8443&quot;\n               URIEncoding=&quot;UTF-8&quot;\n               allowTrace=&quot;false&quot;\n               xpoweredBy=&quot;false&quot;\n               compression=&quot;on&quot;\n               compressionMinSize=&quot;2048&quot;\n               noCompressionUserAgents=&quot;gozilla, traviata&quot;\n               compressableMimeType=&quot;text/css,text/html,text/xml,application/javascript,application/json,application/x-javascript,text/plain,text/javascript&quot;\n                        /&gt;\n  ...\n</code></pre>\n<h3>Problem:</h3>\n<p>Our web service failing to consume chartset <code>x-compound_text</code></p>\n<p>Here are sections from the log:</p>\n<pre><code>org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.nio.charset.UnsupportedCharsetException: x-compound_text\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n....\nCaused by: java.nio.charset.UnsupportedCharsetException: x-compound_text\n        at java.base/java.nio.charset.Charset.forName(Charset.java:529)\n        at org.springframework.http.HttpHeaders.getAcceptCharset(HttpHeaders.java:694)\n        at org.springframework.integration.http.support.DefaultHttpHeaderMapper.getHttpHeader(DefaultHttpHeaderMapper.java:817)\n....\n</code></pre>\n<p>We understand we need to support charset <code>x-compound_text</code> in our application.</p>\n<p>We understand JVM in lab and JVM in client site do not support charset <code>x-compound_text</code>.</p>\n<p>The supported charsets are:</p>\n<pre><code> Big5, Big5-HKSCS, CESU-8, EUC-JP, EUC-KR, GB18030, GB2312, GBK, IBM-Thai, IBM00858, IBM01140, IBM01141, IBM01142, IBM01143, IBM01144, IBM01145, IBM01146, IBM01147, IBM01148, IBM01149, IBM037, IBM1026, IBM1047, IBM273, IBM277, IBM278, IBM280, IBM284, IBM285, IBM290, IBM297, IBM420, IBM424, IBM437, IBM500, IBM775, IBM850, IBM852, IBM855, IBM857, IBM860, IBM861, IBM862, IBM863, IBM864, IBM865, IBM866, IBM868, IBM869, IBM870, IBM871, IBM918, ISO-2022-CN, ISO-2022-JP, ISO-2022-JP-2, ISO-2022-KR, ISO-8859-1, ISO-8859-13, ISO-8859-15, ISO-8859-16, ISO-8859-2, ISO-8859-3, ISO-8859-4, ISO-8859-5, ISO-8859-6, ISO-8859-7, ISO-8859-8, ISO-8859-9, JIS_X0201, JIS_X0212-1990, KOI8-R, KOI8-U, Shift_JIS, TIS-620, US-ASCII, UTF-16, UTF-16BE, UTF-16LE, UTF-32, UTF-32BE, UTF-32LE, UTF-8, windows-1250, windows-1251, windows-1252, windows-1253, windows-1254, windows-1255, windows-1256, windows-1257, windows-1258, windows-31j, x-Big5-HKSCS-2001, x-Big5-Solaris, x-euc-jp-linux, x-EUC-TW, x-eucJP-Open, x-IBM1006, x-IBM1025, x-IBM1046, x-IBM1097, x-IBM1098, x-IBM1112, x-IBM1122, x-IBM1123, x-IBM1124, x-IBM1129, x-IBM1166, x-IBM1364, x-IBM1381, x-IBM1383, x-IBM29626C, x-IBM300, x-IBM33722, x-IBM737, x-IBM833, x-IBM834, x-IBM856, x-IBM874, x-IBM875, x-IBM921, x-IBM922, x-IBM930, x-IBM933, x-IBM935, x-IBM937, x-IBM939, x-IBM942, x-IBM942C, x-IBM943, x-IBM943C, x-IBM948, x-IBM949, x-IBM949C, x-IBM950, x-IBM964, x-IBM970, x-ISCII91, x-ISO-2022-CN-CNS, x-ISO-2022-CN-GB, x-iso-8859-11, x-JIS0208, x-JISAutoDetect, x-Johab, x-MacArabic, x-MacCentralEurope, x-MacCroatian, x-MacCyrillic, x-MacDingbat, x-MacGreek, x-MacHebrew, x-MacIceland, x-MacRoman, x-MacRomania, x-MacSymbol, x-MacThai, x-MacTurkish, x-MacUkraine, x-MS932_0213, x-MS950-HKSCS, x-MS950-HKSCS-XP, x-mswin-936, x-PCK, x-SJIS_0213, x-UTF-16LE-BOM, X-UTF-32BE-BOM, X-UTF-32LE-BOM, x-windows-50220, x-windows-50221, x-windows-874, x-windows-949, x-windows-950, x-windows-iso2022jp\n</code></pre>\n<p>I am <strong>able</strong> to reproduce the problem in lab using debugger:</p>\n<pre><code>1. Start web application in Exclipse or remote debug.\n2. Wait for application to complete loading.\n3. Set breakpoint  in method java.nio.charset.Charset.lookup, a line before function returns\n4. Load a page in application\n5. When stopped in breakpoint change value to variable charsetName.\n6. Set value to variable charsetName: x-compound_text\n7. Continue running\n8. Inspect log file\n</code></pre>\n<p><strong>I need advice, how to add support for charset <code>x-compound_text</code> into our Spring Web application.</strong></p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1656354867,"post_id":72776721,"comment_id":128547002,"body_markdown":"Please post some code &amp; the stacktrace.","body":"Please post some code &amp; the stacktrace."},{"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"score":2,"creation_date":1656355487,"post_id":72776721,"comment_id":128547215,"body_markdown":"Check this **[unfortunately-myapp-has-stopped-how-can-i-solve-this](https://stackoverflow.com/q/23353173/7666442)**","body":"Check this <b><a href=\"https://stackoverflow.com/q/23353173/7666442\">unfortunately-myapp-has-stopped-how-can-i-solve-this</a></b>"}],"answers":[{"tags":[],"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656363869,"creation_date":1656363869,"answer_id":72778288,"question_id":72776721,"body_markdown":"The method `setContentView()` sets the `View` that your `MainActivity` should display.\r\n\r\nThe `View` is usually declared in `layout/activity_main.xml`. \r\n\r\nSome error seems to appear when trying to call this method in your application.\r\n\r\n---\r\n\r\nA common reason why android applications crash there is calling some methods in the overridden method `onCreate(Bundle savedInstanceState)` in a wrong order.\r\n\r\nCheck if your code follows this pattern:\r\n\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    \r\n        // setContentView call\r\n        \r\n        // other things\r\n    }\r\n\r\nI cannot help you further now, please copy and paste the stacktrace (crash information) into your question. When your application just crashed on an emulator, you can see it in the Run-section (usually red text).","title":"I have run error at on Create on Android studio","body":"<p>The method <code>setContentView()</code> sets the <code>View</code> that your <code>MainActivity</code> should display.</p>\n<p>The <code>View</code> is usually declared in <code>layout/activity_main.xml</code>.</p>\n<p>Some error seems to appear when trying to call this method in your application.</p>\n<hr />\n<p>A common reason why android applications crash there is calling some methods in the overridden method <code>onCreate(Bundle savedInstanceState)</code> in a wrong order.</p>\n<p>Check if your code follows this pattern:</p>\n<pre><code>public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    // setContentView call\n    \n    // other things\n}\n</code></pre>\n<p>I cannot help you further now, please copy and paste the stacktrace (crash information) into your question. When your application just crashed on an emulator, you can see it in the Run-section (usually red text).</p>\n"}],"owner":{"account_id":25618549,"reputation":1,"user_id":19390778,"display_name":"Ahmed Dir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1656363869,"creation_date":1656353857,"question_id":72776721,"body_markdown":"I get a massage says &quot;app is keep stopping&quot; when I run the project on my mobile.\r\nthe error  at on Create(MainActivity.java:16)\r\nat the line 16  set Content View method\r\nhelp me\r\n\r\n  \r\n        \r\n    \r\n    \r\n\r\n\r\n","title":"I have run error at on Create on Android studio","body":"<p>I get a massage says &quot;app is keep stopping&quot; when I run the project on my mobile.\nthe error  at on Create(MainActivity.java:16)\nat the line 16  set Content View method\nhelp me</p>\n"},{"tags":["java","spring","stream","mapping","mapstruct"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":1,"creation_date":1656355787,"post_id":72776893,"comment_id":128547328,"body_markdown":"What happens if you get other cats?  Tom, Bill, Tiger?","body":"What happens if you get other cats?  Tom, Bill, Tiger?"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1656355828,"post_id":72776893,"comment_id":128547340,"body_markdown":"Perhaps stream to a `Map&lt;String, Integer&gt;`, where the `Cat`&#39;s name is the key and the value is the age.  Then each `Cats` getter could delegate to the Map, where the specific getter knows it&#39;s related name. That implies `MinnieAge`, `PixieAge`, and `KazyAge` are not actual properties of the `Cats` class.  As a toy example, this is obviously (hopefully) poor design (but maybe useful from a homework perspective).","body":"Perhaps stream to a <code>Map&lt;String, Integer&gt;</code>, where the <code>Cat</code>&#39;s name is the key and the value is the age.  Then each <code>Cats</code> getter could delegate to the Map, where the specific getter knows it&#39;s related name. That implies <code>MinnieAge</code>, <code>PixieAge</code>, and <code>KazyAge</code> are not actual properties of the <code>Cats</code> class.  As a toy example, this is obviously (hopefully) poor design (but maybe useful from a homework perspective)."}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656356860,"creation_date":1656356860,"answer_id":72777212,"question_id":72776893,"body_markdown":"If you want to use streams you can start from implementing a collector:\r\n\r\n```java\r\npublic class CatsCollector implements Collector&lt;Cat, Cats, Cats&gt; {\r\n\r\n    @Override\r\n    public Supplier&lt;Cats&gt; supplier() {\r\n        return () -&gt; new Cats();\r\n    }\r\n\r\n    @Override\r\n    public BiConsumer&lt;Cats, Cat&gt; accumulator() {\r\n        return (cats1, cat) -&gt; {\r\n            switch (cat.name){\r\n                case &quot;Minnie&quot;: cats1.minnieAge = cat.age; break;\r\n                case &quot;Pixie&quot;: cats1.pixieAge = cat.age; break;\r\n                case &quot;Kazy&quot;: cats1.kazyAge = cat.age; break;\r\n            }\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public BinaryOperator&lt;Cats&gt; combiner() {\r\n        return (cats1, cats2) -&gt; cats1;\r\n    }\r\n\r\n    @Override\r\n    public Function&lt;Cats, Cats&gt; finisher() {\r\n        return cats1 -&gt; cats1;\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;Characteristics&gt; characteristics() {\r\n        return Set.of(Characteristics.UNORDERED);\r\n    }\r\n}\r\n```\r\n\r\n**P.S.** - Here a combiner is more like a stub because there are no requirements for combining logic provided.\r\n\r\n**P.P.S** - There are also sort of assumptions to simplify access modifiers stuff.\r\n\r\nThen if you have the model like this:\r\n\r\n```java\r\npublic class Cats {\r\n    int minnieAge;\r\n    int pixieAge;\r\n    int kazyAge;\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Cats{&quot; +\r\n                &quot;minnieAge=&quot; + minnieAge +\r\n                &quot;, pixieAge=&quot; + pixieAge +\r\n                &quot;, kazyAge=&quot; + kazyAge +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nYou can use your custom collector:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    List&lt;Cat&gt; cats = List.of(\r\n            new Cat(&quot;Minnie&quot;, 3), \r\n            new Cat(&quot;Pixie&quot;, 1), \r\n            new Cat(&quot;Kazy&quot;, 5));\r\n    Cats catsResult = cats.stream().collect(new CatsCollector());\r\n    System.out.println(catsResult);\r\n}\r\n```\r\n","title":"Mapping fields of List to fields of a single Object","body":"<p>If you want to use streams you can start from implementing a collector:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CatsCollector implements Collector&lt;Cat, Cats, Cats&gt; {\n\n    @Override\n    public Supplier&lt;Cats&gt; supplier() {\n        return () -&gt; new Cats();\n    }\n\n    @Override\n    public BiConsumer&lt;Cats, Cat&gt; accumulator() {\n        return (cats1, cat) -&gt; {\n            switch (cat.name){\n                case &quot;Minnie&quot;: cats1.minnieAge = cat.age; break;\n                case &quot;Pixie&quot;: cats1.pixieAge = cat.age; break;\n                case &quot;Kazy&quot;: cats1.kazyAge = cat.age; break;\n            }\n        };\n    }\n\n    @Override\n    public BinaryOperator&lt;Cats&gt; combiner() {\n        return (cats1, cats2) -&gt; cats1;\n    }\n\n    @Override\n    public Function&lt;Cats, Cats&gt; finisher() {\n        return cats1 -&gt; cats1;\n    }\n\n    @Override\n    public Set&lt;Characteristics&gt; characteristics() {\n        return Set.of(Characteristics.UNORDERED);\n    }\n}\n</code></pre>\n<p><strong>P.S.</strong> - Here a combiner is more like a stub because there are no requirements for combining logic provided.</p>\n<p><strong>P.P.S</strong> - There are also sort of assumptions to simplify access modifiers stuff.</p>\n<p>Then if you have the model like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Cats {\n    int minnieAge;\n    int pixieAge;\n    int kazyAge;\n\n    @Override\n    public String toString() {\n        return &quot;Cats{&quot; +\n                &quot;minnieAge=&quot; + minnieAge +\n                &quot;, pixieAge=&quot; + pixieAge +\n                &quot;, kazyAge=&quot; + kazyAge +\n                '}';\n    }\n}\n</code></pre>\n<p>You can use your custom collector:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    List&lt;Cat&gt; cats = List.of(\n            new Cat(&quot;Minnie&quot;, 3), \n            new Cat(&quot;Pixie&quot;, 1), \n            new Cat(&quot;Kazy&quot;, 5));\n    Cats catsResult = cats.stream().collect(new CatsCollector());\n    System.out.println(catsResult);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656363761,"creation_date":1656363761,"answer_id":72778274,"question_id":72776893,"body_markdown":"I would define a Cat class with the attribute name and age.  Then simply parse the input string into cat objects and store them in a list which already supports stream.  See below example:\r\n\r\n```\r\nimport java.util.*;\r\nclass Cat {\r\n    public String name;\r\n    public int age;\r\n    private Cat(String name, int age) { this.name = name; this.age = age;}\r\n    public String toString(){\r\n        return String.format(&quot;Cat[name=\\&quot;%s\\&quot;, age=%d]&quot;,name,age);\r\n    }\r\n    public static List&lt;Cat&gt; parse(String input) {\r\n        List cats = new ArrayList();\r\n        int i = 0;\r\n        while (true) {\r\n            i = input.indexOf(&quot;name=&quot;, i);\r\n            if (i &lt; 0) break;\r\n            String name = input.substring(i + 6, input.indexOf(&quot;\\&quot;&quot;, i + 7));\r\n            i = input.indexOf(&quot;age=&quot;, i);\r\n            int age = Integer.parseInt(input.substring(i + 4, input.indexOf(&quot;]&quot;, i)));\r\n            cats.add(new Cat(name, age));\r\n        }\r\n        return cats;\r\n    }\r\n}\r\npublic class Main{\r\n    public static void main(String[] args) {\r\n        String input = &quot;[Cat[name=\\&quot;Minnie\\&quot;, age=3], Cat[name=\\&quot;Pixie\\&quot;, age=1], Cat[name=\\&quot;Kazy\\&quot;, age=5]]&quot;;\r\n        List&lt;Cat&gt; cats = Cat.parse(input);\r\n        cats.forEach(System.out::println);\r\n        cats.stream().filter(e-&gt;e.age &gt; 4).forEach(System.out::println);\r\n    }\r\n}\r\n```\r\nOutput:\r\n```\r\nrun:\r\nCat[name=&quot;Minnie&quot;, age=3]\r\nCat[name=&quot;Pixie&quot;, age=1]\r\nCat[name=&quot;Kazy&quot;, age=5]\r\nCat[name=&quot;Kazy&quot;, age=5]\r\nBUILD SUCCESSFUL (total time: 0 seconds)\r\n```","title":"Mapping fields of List to fields of a single Object","body":"<p>I would define a Cat class with the attribute name and age.  Then simply parse the input string into cat objects and store them in a list which already supports stream.  See below example:</p>\n<pre><code>import java.util.*;\nclass Cat {\n    public String name;\n    public int age;\n    private Cat(String name, int age) { this.name = name; this.age = age;}\n    public String toString(){\n        return String.format(&quot;Cat[name=\\&quot;%s\\&quot;, age=%d]&quot;,name,age);\n    }\n    public static List&lt;Cat&gt; parse(String input) {\n        List cats = new ArrayList();\n        int i = 0;\n        while (true) {\n            i = input.indexOf(&quot;name=&quot;, i);\n            if (i &lt; 0) break;\n            String name = input.substring(i + 6, input.indexOf(&quot;\\&quot;&quot;, i + 7));\n            i = input.indexOf(&quot;age=&quot;, i);\n            int age = Integer.parseInt(input.substring(i + 4, input.indexOf(&quot;]&quot;, i)));\n            cats.add(new Cat(name, age));\n        }\n        return cats;\n    }\n}\npublic class Main{\n    public static void main(String[] args) {\n        String input = &quot;[Cat[name=\\&quot;Minnie\\&quot;, age=3], Cat[name=\\&quot;Pixie\\&quot;, age=1], Cat[name=\\&quot;Kazy\\&quot;, age=5]]&quot;;\n        List&lt;Cat&gt; cats = Cat.parse(input);\n        cats.forEach(System.out::println);\n        cats.stream().filter(e-&gt;e.age &gt; 4).forEach(System.out::println);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>run:\nCat[name=&quot;Minnie&quot;, age=3]\nCat[name=&quot;Pixie&quot;, age=1]\nCat[name=&quot;Kazy&quot;, age=5]\nCat[name=&quot;Kazy&quot;, age=5]\nBUILD SUCCESSFUL (total time: 0 seconds)\n</code></pre>\n"}],"owner":{"account_id":18739879,"reputation":23,"user_id":13663338,"display_name":"Karnimani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72777212,"answer_count":2,"score":-1,"last_activity_date":1656363761,"creation_date":1656354975,"question_id":72776893,"body_markdown":"Suppose, I have a List of cats like this:\r\n\r\n```\r\n[Cat[name=&quot;Minnie&quot;, age=3], Cat[name=&quot;Pixie&quot;, age=1], Cat[name=&quot;Kazy&quot;, age=5]]\r\n```\r\n\r\nAnd an Object Cats with fields:\r\n\r\n```\r\nclass Cats {\r\nint MinnieAge;\r\nint PixieAge;\r\nint KazyAge;\r\n}\r\n```\r\n\r\nWhat is the best way to map the ages to this Object? Preferably avoiding imperative approach and keeping it nice and clean. Is this possible with MapStruct or the streams API?\r\n\r\n","title":"Mapping fields of List to fields of a single Object","body":"<p>Suppose, I have a List of cats like this:</p>\n<pre><code>[Cat[name=&quot;Minnie&quot;, age=3], Cat[name=&quot;Pixie&quot;, age=1], Cat[name=&quot;Kazy&quot;, age=5]]\n</code></pre>\n<p>And an Object Cats with fields:</p>\n<pre><code>class Cats {\nint MinnieAge;\nint PixieAge;\nint KazyAge;\n}\n</code></pre>\n<p>What is the best way to map the ages to this Object? Preferably avoiding imperative approach and keeping it nice and clean. Is this possible with MapStruct or the streams API?</p>\n"},{"tags":["java","xml","dom"],"answers":[{"tags":[],"owner":{"account_id":444856,"reputation":8760,"user_id":836941,"accept_rate":73,"display_name":"zacheusz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1373109750,"creation_date":1373109242,"answer_id":17502385,"question_id":17502194,"body_markdown":"You can [transform XML Data with XSLT][1] and sort elements using [`&lt;xsl:sort&gt;`][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/jaxp/xslt/transformingXML.html\r\n  [2]: http://www.w3schools.com/xsl//el_sort.asp","title":"Take a DOM and re-order nodes and attributes in alphabetical order","body":"<p>You can <a href=\"http://docs.oracle.com/javase/tutorial/jaxp/xslt/transformingXML.html\" rel=\"nofollow\">transform XML Data with XSLT</a> and sort elements using <a href=\"http://www.w3schools.com/xsl//el_sort.asp\" rel=\"nofollow\"><code>&lt;xsl:sort&gt;</code></a></p>\n"},{"tags":[],"owner":{"account_id":1713661,"reputation":972,"user_id":1571224,"display_name":"mkdev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1373113373,"creation_date":1373113373,"answer_id":17502935,"question_id":17502194,"body_markdown":"I can recommend JDOM2 for this kind of work. Your proposal can be achieved like this:\r\n\r\n    import org.jdom2.Attribute;\r\n    import org.jdom2.Document;\r\n    import org.jdom2.Element;\r\n    import org.jdom2.filter.Filters;\r\n    import org.jdom2.input.SAXBuilder;\r\n    import org.jdom2.output.Format;\r\n    import org.jdom2.output.XMLOutputter;\r\n    import org.jdom2.xpath.XPathExpression;\r\n    import org.jdom2.xpath.XPathFactory;\r\n\r\n    public void transformXmlFile(File oldFile, File newFile) throws Exception\r\n    {\r\n        Document oldDocument = new SAXBuilder().build(oldFile);\r\n        Document newDocument = new Document(transformElement(oldDocument.getRootElement()));\r\n        \r\n        List&lt;Element&gt; children = new LinkedList&lt;Element&gt;();\r\n        \r\n        for (Element oldElement : oldDocument.getRootElement().getChildren())\r\n            children.add(transformElement(oldElement));\r\n\r\n        for (Element oldElement : sortElements(children))\r\n            newDocument.getRootElement().addContent(oldElement);\r\n            \r\n        XMLOutputter serializer = new XMLOutputter(Format.getPrettyFormat());\r\n        serializer.output(newDocument, new FileOutputStream(newFile));\r\n    }\r\n\r\n    private Element transformElement(Element oldElement)\r\n    {\r\n        Element newElement = new Element(oldElement.getName(), oldElement.getNamespace());\r\n        \r\n        List&lt;Attribute&gt; attributes = new LinkedList&lt;Attribute&gt;();\r\n        \r\n        for (Attribute a: oldElement.getAttributes())\r\n            attributes.add(a.clone());\r\n\r\n        for (Attribute a: sortAttributes(attributes))\r\n            newElement.getAttributes().add(a);\r\n        \r\n        return newElement;\r\n    }\r\n    \r\n    private List&lt;Attribute&gt; sortAttributes(List&lt;Attribute&gt; attributes)\r\n    {\r\n        Collections.sort(attributes, new Comparator&lt;Attribute&gt;()\r\n        {\r\n            @Override\r\n            public int compare(Attribute a1, Attribute a2)\r\n            {\r\n                return a1.getName().compareTo(a2.getName());\r\n            }\r\n        });\r\n\r\n        return attributes;\r\n    }\r\n\r\n\r\n    private List&lt;Element&gt; sortElements(List&lt;Element&gt; elements)\r\n    {\r\n        Collections.sort(elements, new Comparator&lt;Element&gt;()\r\n        {\r\n            @Override\r\n            public int compare(Element e1, Element e2)\r\n            {\r\n                return e1.getName().compareTo(e2.getName());\r\n            }\r\n        });\r\n\r\n        return elements;\r\n    }\r\n","title":"Take a DOM and re-order nodes and attributes in alphabetical order","body":"<p>I can recommend JDOM2 for this kind of work. Your proposal can be achieved like this:</p>\n\n<pre><code>import org.jdom2.Attribute;\nimport org.jdom2.Document;\nimport org.jdom2.Element;\nimport org.jdom2.filter.Filters;\nimport org.jdom2.input.SAXBuilder;\nimport org.jdom2.output.Format;\nimport org.jdom2.output.XMLOutputter;\nimport org.jdom2.xpath.XPathExpression;\nimport org.jdom2.xpath.XPathFactory;\n\npublic void transformXmlFile(File oldFile, File newFile) throws Exception\n{\n    Document oldDocument = new SAXBuilder().build(oldFile);\n    Document newDocument = new Document(transformElement(oldDocument.getRootElement()));\n\n    List&lt;Element&gt; children = new LinkedList&lt;Element&gt;();\n\n    for (Element oldElement : oldDocument.getRootElement().getChildren())\n        children.add(transformElement(oldElement));\n\n    for (Element oldElement : sortElements(children))\n        newDocument.getRootElement().addContent(oldElement);\n\n    XMLOutputter serializer = new XMLOutputter(Format.getPrettyFormat());\n    serializer.output(newDocument, new FileOutputStream(newFile));\n}\n\nprivate Element transformElement(Element oldElement)\n{\n    Element newElement = new Element(oldElement.getName(), oldElement.getNamespace());\n\n    List&lt;Attribute&gt; attributes = new LinkedList&lt;Attribute&gt;();\n\n    for (Attribute a: oldElement.getAttributes())\n        attributes.add(a.clone());\n\n    for (Attribute a: sortAttributes(attributes))\n        newElement.getAttributes().add(a);\n\n    return newElement;\n}\n\nprivate List&lt;Attribute&gt; sortAttributes(List&lt;Attribute&gt; attributes)\n{\n    Collections.sort(attributes, new Comparator&lt;Attribute&gt;()\n    {\n        @Override\n        public int compare(Attribute a1, Attribute a2)\n        {\n            return a1.getName().compareTo(a2.getName());\n        }\n    });\n\n    return attributes;\n}\n\n\nprivate List&lt;Element&gt; sortElements(List&lt;Element&gt; elements)\n{\n    Collections.sort(elements, new Comparator&lt;Element&gt;()\n    {\n        @Override\n        public int compare(Element e1, Element e2)\n        {\n            return e1.getName().compareTo(e2.getName());\n        }\n    });\n\n    return elements;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1373146931,"creation_date":1373146931,"answer_id":17507407,"question_id":17502194,"body_markdown":"Your example doesn&#39;t have any attributes, and generally you can&#39;t control order of attributes. But sorting elements in XSLT is easy:\r\n\r\n    &lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; version=&quot;1.0&quot;&gt;\r\n    \r\n    &lt;xsl:template match=&quot;*&quot;&gt;\r\n      &lt;xsl:copy&gt;\r\n        &lt;xsl:apply-templates&gt;\r\n          &lt;xsl:sort select=&quot;name()&quot;/&gt;\r\n        &lt;/xsl:apply-templates&gt;\r\n      &lt;/xsl:copy&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;/xsl:stylesheet&gt;","title":"Take a DOM and re-order nodes and attributes in alphabetical order","body":"<p>Your example doesn't have any attributes, and generally you can't control order of attributes. But sorting elements in XSLT is easy:</p>\n\n<pre><code>&lt;xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" version=\"1.0\"&gt;\n\n&lt;xsl:template match=\"*\"&gt;\n  &lt;xsl:copy&gt;\n    &lt;xsl:apply-templates&gt;\n      &lt;xsl:sort select=\"name()\"/&gt;\n    &lt;/xsl:apply-templates&gt;\n  &lt;/xsl:copy&gt;\n&lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1442218,"reputation":924,"user_id":1361991,"display_name":"DKATyler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656363356,"creation_date":1656363356,"answer_id":72778215,"question_id":17502194,"body_markdown":"This is really mkdev&#39;s answer, but tweaked to sort the entire file rather than just the top level node.\r\n\r\n\timport java.io.File;\r\n\timport java.io.FileOutputStream;\r\n\timport java.util.Collections;\r\n\timport java.util.Comparator;\r\n\timport java.util.LinkedList;\r\n\timport java.util.List;\r\n\r\n\timport org.jdom2.Attribute;\r\n\timport org.jdom2.Content;\r\n\timport org.jdom2.Document;\r\n\timport org.jdom2.Element;\r\n\timport org.jdom2.input.SAXBuilder;\r\n\timport org.jdom2.output.Format;\r\n\timport org.jdom2.output.XMLOutputter;\r\n\r\n\t//Source: https://stackoverflow.com/a/17502935/1361991\r\n\tpublic class XMLSorter2 {\r\n\t\tpublic void transformXmlFile(File oldFile, File newFile) throws Exception\r\n\t\t{\r\n\t\t\tDocument oldDocument = new SAXBuilder().build(oldFile);\r\n\t\t\tDocument newDocument = new Document((Element) transformElement(oldDocument.getRootElement()));\r\n\r\n\t\t\tList&lt;Content&gt; children = new LinkedList&lt;Content&gt;();\r\n\r\n\t\t\tfor (Content oldElement : oldDocument.getRootElement().getContent())\r\n\t\t\t\tchildren.add(transformElement(oldElement));\r\n\r\n\t\t\tfor (Content oldElement : sortElements(children))\r\n\t\t\t\tnewDocument.getRootElement().addContent(oldElement);\r\n\r\n\t\t\tXMLOutputter serializer = new XMLOutputter(Format.getPrettyFormat());\r\n\t\t\tserializer.output(newDocument, new FileOutputStream(newFile));\r\n\t\t}\r\n\r\n\t\tprivate Content transformElement(Content oldContent)\r\n\t\t{\r\n\t\t\tif(!(oldContent instanceof Element))\r\n\t\t\t\treturn oldContent.clone();\r\n\t\t\tElement oldElement = (Element)oldContent;\r\n\t\t\t\r\n\t\t\tElement newElement = new Element(oldElement.getName(), oldElement.getNamespace());\r\n\r\n\t\t\tList&lt;Attribute&gt; attributes = new LinkedList&lt;Attribute&gt;();\r\n\r\n\t\t\tfor (Attribute a: oldElement.getAttributes())\r\n\t\t\t\tattributes.add(a.clone());\r\n\r\n\t\t\tfor (Attribute a: sortAttributes(attributes))\r\n\t\t\t\tnewElement.getAttributes().add(a);\r\n\r\n\t\t\tList&lt;Content&gt; children = new LinkedList&lt;Content&gt;();\r\n\r\n\t\t\tfor (Content oldElementChildren : oldElement.getContent())\r\n\t\t\t\tchildren.add(transformElement(oldElementChildren));\r\n\r\n\t\t\tfor (Content oldElementChildren : sortElements(children))\r\n\t\t\t\tnewElement.addContent(oldElementChildren);\r\n\r\n\t\t\treturn newElement;\r\n\t\t}\r\n\r\n\t\tprivate List&lt;Attribute&gt; sortAttributes(List&lt;Attribute&gt; attributes)\r\n\t\t{\r\n\t\t\tCollections.sort(attributes, new Comparator&lt;Attribute&gt;()\r\n\t\t\t{\r\n\t\t\t\tpublic int compare(Attribute a1, Attribute a2)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn a1.getName().compareTo(a2.getName());\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn attributes;\r\n\t\t}\r\n\r\n\r\n\t\tprivate List&lt;Content&gt; sortElements(List&lt;Content&gt; elements)\r\n\t\t{\r\n\t\t\tCollections.sort(elements, new Comparator&lt;Content&gt;()\r\n\t\t\t{\r\n\t\t\t\tpublic int compare(Content e1, Content e2)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(e1 instanceof Element &amp;&amp; e2 instanceof Element)\r\n\t\t\t\t\t\treturn ((Element)e1).getName().compareTo(((Element)e2).getName());\r\n\t\t\t\t\telse if(e1 instanceof Element)\r\n\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\telse if(e2 instanceof Element)\r\n\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\treturn e1.getValue().compareTo(e2.getValue());\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn elements;\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\ttry {\r\n\t\t\t\tnew XMLSorter2().transformXmlFile(new File(args[0]), new File(args[1]));\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n","title":"Take a DOM and re-order nodes and attributes in alphabetical order","body":"<p>This is really mkdev's answer, but tweaked to sort the entire file rather than just the top level node.</p>\n<pre><code>import java.io.File;\nimport java.io.FileOutputStream;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.LinkedList;\nimport java.util.List;\n\nimport org.jdom2.Attribute;\nimport org.jdom2.Content;\nimport org.jdom2.Document;\nimport org.jdom2.Element;\nimport org.jdom2.input.SAXBuilder;\nimport org.jdom2.output.Format;\nimport org.jdom2.output.XMLOutputter;\n\n//Source: https://stackoverflow.com/a/17502935/1361991\npublic class XMLSorter2 {\n    public void transformXmlFile(File oldFile, File newFile) throws Exception\n    {\n        Document oldDocument = new SAXBuilder().build(oldFile);\n        Document newDocument = new Document((Element) transformElement(oldDocument.getRootElement()));\n\n        List&lt;Content&gt; children = new LinkedList&lt;Content&gt;();\n\n        for (Content oldElement : oldDocument.getRootElement().getContent())\n            children.add(transformElement(oldElement));\n\n        for (Content oldElement : sortElements(children))\n            newDocument.getRootElement().addContent(oldElement);\n\n        XMLOutputter serializer = new XMLOutputter(Format.getPrettyFormat());\n        serializer.output(newDocument, new FileOutputStream(newFile));\n    }\n\n    private Content transformElement(Content oldContent)\n    {\n        if(!(oldContent instanceof Element))\n            return oldContent.clone();\n        Element oldElement = (Element)oldContent;\n        \n        Element newElement = new Element(oldElement.getName(), oldElement.getNamespace());\n\n        List&lt;Attribute&gt; attributes = new LinkedList&lt;Attribute&gt;();\n\n        for (Attribute a: oldElement.getAttributes())\n            attributes.add(a.clone());\n\n        for (Attribute a: sortAttributes(attributes))\n            newElement.getAttributes().add(a);\n\n        List&lt;Content&gt; children = new LinkedList&lt;Content&gt;();\n\n        for (Content oldElementChildren : oldElement.getContent())\n            children.add(transformElement(oldElementChildren));\n\n        for (Content oldElementChildren : sortElements(children))\n            newElement.addContent(oldElementChildren);\n\n        return newElement;\n    }\n\n    private List&lt;Attribute&gt; sortAttributes(List&lt;Attribute&gt; attributes)\n    {\n        Collections.sort(attributes, new Comparator&lt;Attribute&gt;()\n        {\n            public int compare(Attribute a1, Attribute a2)\n            {\n                return a1.getName().compareTo(a2.getName());\n            }\n        });\n\n        return attributes;\n    }\n\n\n    private List&lt;Content&gt; sortElements(List&lt;Content&gt; elements)\n    {\n        Collections.sort(elements, new Comparator&lt;Content&gt;()\n        {\n            public int compare(Content e1, Content e2)\n            {\n                if(e1 instanceof Element &amp;&amp; e2 instanceof Element)\n                    return ((Element)e1).getName().compareTo(((Element)e2).getName());\n                else if(e1 instanceof Element)\n                    return -1;\n                else if(e2 instanceof Element)\n                    return 1;\n                else\n                    return e1.getValue().compareTo(e2.getValue());\n            }\n        });\n\n        return elements;\n    }\n    \n    public static void main(String[] args) {\n        try {\n            new XMLSorter2().transformXmlFile(new File(args[0]), new File(args[1]));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1051364,"reputation":988,"user_id":1055223,"accept_rate":92,"display_name":"Alex Collins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3580,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":17502385,"answer_count":4,"score":4,"last_activity_date":1656363356,"creation_date":1373107750,"question_id":17502194,"body_markdown":"I&#39;d like to read in an XML document, re-order the nodes and attributes in a deterministic order, e.g.:\r\n\r\n    &lt;project&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com&lt;/groupId&gt;\r\n        &lt;artifactId&gt;foobar&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/project&gt;\r\n\r\nBecomes:\r\n\r\n    &lt;project&gt;\r\n        &lt;artifactId&gt;foobar&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com&lt;/groupId&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/project&gt;\r\n\r\nI&#39;d also like to do attributes too, and indentation!","title":"Take a DOM and re-order nodes and attributes in alphabetical order","body":"<p>I'd like to read in an XML document, re-order the nodes and attributes in a deterministic order, e.g.:</p>\n\n<pre><code>&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com&lt;/groupId&gt;\n    &lt;artifactId&gt;foobar&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Becomes:</p>\n\n<pre><code>&lt;project&gt;\n    &lt;artifactId&gt;foobar&lt;/artifactId&gt;\n    &lt;groupId&gt;com&lt;/groupId&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>I'd also like to do attributes too, and indentation!</p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1656363340,"creation_date":1656363340,"answer_id":72778211,"question_id":72777983,"body_markdown":"There is no golden rule for this and it all depends on your specific use case. Some, including myself, would prefer receiving data via a `ConsumerRecord` instance. This way you not only have access to the actual payload but also to the whole meta data coming with it.\r\n\r\nIt might be worth for you to look into [Kafka Streams API][1]. This is usually the pattern used when consuming from Kafka and producing to Kafka because of the `exactly once delivery`.  \r\n\r\n\r\n  [1]: https://kafka.apache.org/documentation/streams/","title":"Best Practice Springs Kafka Consumer: What kind of message should the consumer receive","body":"<p>There is no golden rule for this and it all depends on your specific use case. Some, including myself, would prefer receiving data via a <code>ConsumerRecord</code> instance. This way you not only have access to the actual payload but also to the whole meta data coming with it.</p>\n<p>It might be worth for you to look into <a href=\"https://kafka.apache.org/documentation/streams/\" rel=\"noreferrer\">Kafka Streams API</a>. This is usually the pattern used when consuming from Kafka and producing to Kafka because of the <code>exactly once delivery</code>.</p>\n"}],"owner":{"account_id":8296916,"reputation":39,"user_id":6236855,"accept_rate":17,"display_name":"podoi17"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":848,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1656363340,"creation_date":1656361934,"question_id":72777983,"body_markdown":"I need to start working with kafka. I have a hard time getting my head around on what should the Consumer receive: \r\nFrom what I understand we can configure the consumer in multiple ways:\r\n\r\nexample 1:\r\n\r\n    @KafkaListener(topics = &quot;topic_name)\r\n    public void receiveSimpleString(@Payload String message) {\r\n    }\r\n\r\nexample 2:\r\n\r\n    @KafkaListener(topics = &quot;topic_name)\r\n    public void receiveConsumerRecord(@Payload ConsumerRecord&lt;String, String&gt; message) {\r\n    }\r\n\r\nexample 3:\r\n\r\n    @KafkaListener(topics = &quot;topic_name)\r\n    public void receiveObject(@Payload SomeCustomClass message) {\r\n    }\r\n\r\nexample 4:\r\n\r\n    @KafkaListener(topics = &quot;topic_name)\r\n    public void receiveSpringMessage(@Payload org.springframework.messaging.Message&lt;T&gt; message) {\r\n    }\r\n\r\nMaybe there are even more ways, but those once are what i mostly saw while researching for kafka+spring.\r\n\r\n\r\nThe question now is:\r\n\r\n**Is there a best practice on what the consumer should receive? \r\nAre there pros/cons of the different examples?**","title":"Best Practice Springs Kafka Consumer: What kind of message should the consumer receive","body":"<p>I need to start working with kafka. I have a hard time getting my head around on what should the Consumer receive:\nFrom what I understand we can configure the consumer in multiple ways:</p>\n<p>example 1:</p>\n<pre><code>@KafkaListener(topics = &quot;topic_name)\npublic void receiveSimpleString(@Payload String message) {\n}\n</code></pre>\n<p>example 2:</p>\n<pre><code>@KafkaListener(topics = &quot;topic_name)\npublic void receiveConsumerRecord(@Payload ConsumerRecord&lt;String, String&gt; message) {\n}\n</code></pre>\n<p>example 3:</p>\n<pre><code>@KafkaListener(topics = &quot;topic_name)\npublic void receiveObject(@Payload SomeCustomClass message) {\n}\n</code></pre>\n<p>example 4:</p>\n<pre><code>@KafkaListener(topics = &quot;topic_name)\npublic void receiveSpringMessage(@Payload org.springframework.messaging.Message&lt;T&gt; message) {\n}\n</code></pre>\n<p>Maybe there are even more ways, but those once are what i mostly saw while researching for kafka+spring.</p>\n<p>The question now is:</p>\n<p><strong>Is there a best practice on what the consumer should receive?\nAre there pros/cons of the different examples?</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1656350254,"post_id":72775924,"comment_id":128545437,"body_markdown":"Why do draw the image before setting the Rendering hints?","body":"Why do draw the image before setting the Rendering hints?"},{"owner":{"account_id":5535028,"reputation":1362,"user_id":4393666,"display_name":"Andrey Kotov"},"score":0,"creation_date":1656351373,"post_id":72775924,"comment_id":128545826,"body_markdown":"Show code where you save image after rescaling? Because problem might be there.","body":"Show code where you save image after rescaling? Because problem might be there."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1656351482,"post_id":72775924,"comment_id":128545852,"body_markdown":"1 ) how is the original image being read? 2) how is the created output stream being saved? (BTW that is 90 or 270 degrees not180) || tested posted code, but displaying the scaled image, no rotation! Same if saving directly to file.","body":"1 ) how is the original image being read? 2) how is the created output stream being saved? (BTW that is 90 or 270 degrees not180) || tested posted code, but displaying the scaled image, no rotation! Same if saving directly to file."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1656352170,"post_id":72775924,"comment_id":128546080,"body_markdown":"It is possible your source image has EXIF data about orientation, which might not be handled by Java properly: https://stackoverflow.com/a/47671104/61158","body":"It is possible your source image has EXIF data about orientation, which might not be handled by Java properly: <a href=\"https://stackoverflow.com/a/47671104/61158\">stackoverflow.com/a/47671104/61158</a>"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1656352234,"post_id":72775924,"comment_id":128546111,"body_markdown":"A workaround: https://stackoverflow.com/a/29319713/61158","body":"A workaround: <a href=\"https://stackoverflow.com/a/29319713/61158\">stackoverflow.com/a/29319713/61158</a>"},{"owner":{"account_id":25334822,"reputation":101,"user_id":19154125,"display_name":"mobiw"},"score":0,"creation_date":1656358069,"post_id":72775924,"comment_id":128547954,"body_markdown":"@AndreyKotov i save into DB\n backgroundDto.setMinLeftPage(CompressImages.compress(imageLeft.getBytes()));)","body":"@AndreyKotov i save into DB  backgroundDto.setMinLeftPage(CompressImages.compress(imageLe&zwnj;&#8203;ft.getBytes()));)"},{"owner":{"account_id":5535028,"reputation":1362,"user_id":4393666,"display_name":"Andrey Kotov"},"score":1,"creation_date":1656360843,"post_id":72775924,"comment_id":128548776,"body_markdown":"@mobiw what we&#39;re trying to say here in comments - is that maybe the way you&#39;re getting the image from UI and then saving it to DB and then getting it back to see result - affects image&#39;s rotation. Because if I copy your `rescale` method as it is - it works fine. You can even try it by yourself by creating new empty console project and using my code: https://pastebin.com/rDceRWjF","body":"@mobiw what we&#39;re trying to say here in comments - is that maybe the way you&#39;re getting the image from UI and then saving it to DB and then getting it back to see result - affects image&#39;s rotation. Because if I copy your <code>rescale</code> method as it is - it works fine. You can even try it by yourself by creating new empty console project and using my code: <a href=\"https://pastebin.com/rDceRWjF\" rel=\"nofollow noreferrer\">pastebin.com/rDceRWjF</a>"}],"owner":{"account_id":25334822,"reputation":101,"user_id":19154125,"display_name":"mobiw"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656363187,"creation_date":1656349793,"question_id":72775924,"body_markdown":"When i rescale height and width image it on rotate 90 degrees\r\n\r\n```java\r\n@RequestMapping(value = &quot;/save&quot; , method = RequestMethod.POST, headers = &quot;Content-Type=multipart/form-data&quot;, consumes = { &quot;multipart/form-data&quot; })\r\nResponseEntity&lt;Object&gt; saveBackground(@RequestParam(required = false) MultipartFile imageLeft){\r\n     BackgroundDto backgroundDto = new BackgroundDto();\r\n     backgroundDto.setLeftPage(imageLeft.getBytes()); --&gt; saved right\r\n     //saved wrong orientation\r\n     backgroundDto.setMinLeftPage( CompressImages.compress(imageLeft.getBytes()));\r\n     backgroundDto.setUser(user);\r\n     backgroundRepo.save(backgroundDto);\r\n}\r\n\r\npublic static byte[]  compress(byte[] img) throws IOException {\r\n    InputStream inputstream = new ByteArrayInputStream(img);\r\n    ByteArrayOutputStream baosImage = new ByteArrayOutputStream();\r\n    ByteArrayOutputStream rescale = rescale(image);\r\n     \r\n  return rescale.toByteArray(); \r\n}\r\n\r\nprivate static ByteArrayOutputStream rescale(BufferedImage bi) throws IOException {\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    int originalWidth = bi.getWidth();\r\n    int originalHeight = bi.getHeight();\r\n    int type = bi.getType() == 0? BufferedImage.TYPE_INT_ARGB : bi.getType();\r\n    \r\n    //rescale 50%\r\n    BufferedImage resizedImage = new BufferedImage(originalWidth/4, originalHeight/4, type);\r\n    Graphics2D g = resizedImage.createGraphics();\r\n    g.drawImage(bi, 0, 0, originalWidth/4, originalHeight/4, null);\r\n    g.dispose();\r\n    g.setComposite(AlphaComposite.Src);\r\n    g.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n    g.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n    g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n    ImageIO.write(resizedImage, &quot;jpg&quot;,baos);\r\n    return baos;\r\n}\r\n```\r\n\r\n&gt;  backgroundDto.setLeftPage(imageLeft.getBytes()); --&gt; saved right orientation\r\n&gt;   backgroundDto.setMinLeftPage(\r\n&gt; CompressImages.compress(imageLeft.getBytes())); --&gt; saved wrong orientation\r\n\r\nOriginal image:\r\n[enter image description here][1]\r\n\r\nimage after rectange:\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zQIRq.jpg\r\n  [2]: https://i.stack.imgur.com/0pNrH.jpg\r\n","title":"ImageIO.write wrong oritation after edit rescale","body":"<p>When i rescale height and width image it on rotate 90 degrees</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = &quot;/save&quot; , method = RequestMethod.POST, headers = &quot;Content-Type=multipart/form-data&quot;, consumes = { &quot;multipart/form-data&quot; })\nResponseEntity&lt;Object&gt; saveBackground(@RequestParam(required = false) MultipartFile imageLeft){\n     BackgroundDto backgroundDto = new BackgroundDto();\n     backgroundDto.setLeftPage(imageLeft.getBytes()); --&gt; saved right\n     //saved wrong orientation\n     backgroundDto.setMinLeftPage( CompressImages.compress(imageLeft.getBytes()));\n     backgroundDto.setUser(user);\n     backgroundRepo.save(backgroundDto);\n}\n\npublic static byte[]  compress(byte[] img) throws IOException {\n    InputStream inputstream = new ByteArrayInputStream(img);\n    ByteArrayOutputStream baosImage = new ByteArrayOutputStream();\n    ByteArrayOutputStream rescale = rescale(image);\n     \n  return rescale.toByteArray(); \n}\n\nprivate static ByteArrayOutputStream rescale(BufferedImage bi) throws IOException {\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    int originalWidth = bi.getWidth();\n    int originalHeight = bi.getHeight();\n    int type = bi.getType() == 0? BufferedImage.TYPE_INT_ARGB : bi.getType();\n    \n    //rescale 50%\n    BufferedImage resizedImage = new BufferedImage(originalWidth/4, originalHeight/4, type);\n    Graphics2D g = resizedImage.createGraphics();\n    g.drawImage(bi, 0, 0, originalWidth/4, originalHeight/4, null);\n    g.dispose();\n    g.setComposite(AlphaComposite.Src);\n    g.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n    g.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n    g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n    ImageIO.write(resizedImage, &quot;jpg&quot;,baos);\n    return baos;\n}\n</code></pre>\n<blockquote>\n<p>backgroundDto.setLeftPage(imageLeft.getBytes()); --&gt; saved right orientation\nbackgroundDto.setMinLeftPage(\nCompressImages.compress(imageLeft.getBytes())); --&gt; saved wrong orientation</p>\n</blockquote>\n<p>Original image:\n<a href=\"https://i.stack.imgur.com/zQIRq.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>image after rectange:\n<a href=\"https://i.stack.imgur.com/0pNrH.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","function","branch","rules","instruction-set"],"comments":[{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1656332016,"post_id":72771682,"comment_id":128538099,"body_markdown":"So you&#39;re writing an interpreter?  A `switch` is common, especially if you parse instructions into bytecode first so they&#39;re easy to iterate over and switch on.","body":"So you&#39;re writing an interpreter?  A <code>switch</code> is common, especially if you parse instructions into bytecode first so they&#39;re easy to iterate over and switch on."},{"owner":{"account_id":25630599,"reputation":3,"user_id":19401060,"display_name":"anthony eleuteri"},"score":0,"creation_date":1656332628,"post_id":72771682,"comment_id":128538359,"body_markdown":"@PeterCordes yeah, kind of, but my prof doesn&#39;t like methods that contain 15+ lines of code, should be as clean as possible in order to pass the exam. I have this class called **Action** which has all methods implemented which do exactly what I need, I just don&#39;t know how to branch the code from a string that tells me &quot;Forward 50 10 0&quot; and i take &quot;Forward&quot; = my method and &quot;50,10,0&quot; = my parameters","body":"@PeterCordes yeah, kind of, but my prof doesn&#39;t like methods that contain 15+ lines of code, should be as clean as possible in order to pass the exam. I have this class called <b>Action</b> which has all methods implemented which do exactly what I need, I just don&#39;t know how to branch the code from a string that tells me &quot;Forward 50 10 0&quot; and i take &quot;Forward&quot; = my method and &quot;50,10,0&quot; = my parameters"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1656336213,"post_id":72771682,"comment_id":128539804,"body_markdown":"Each case in the switch should be a function call, or even make an array of function pointers (or a Java equivalent, perhaps polymorphism and calling a virtual `.doit()` method on each bytecode object.)","body":"Each case in the switch should be a function call, or even make an array of function pointers (or a Java equivalent, perhaps polymorphism and calling a virtual <code>.doit()</code> method on each bytecode object.)"},{"owner":{"account_id":25630599,"reputation":3,"user_id":19401060,"display_name":"anthony eleuteri"},"score":0,"creation_date":1656336490,"post_id":72771682,"comment_id":128539935,"body_markdown":"@PeterCordes i was looking for a supplier + factory methods but i dont really know ho to do it, i mean do i have to create 1 class for every rule that i have? and ho do i menage the repeat(int) [(comands)]","body":"@PeterCordes i was looking for a supplier + factory methods but i dont really know ho to do it, i mean do i have to create 1 class for every rule that i have? and ho do i menage the repeat(int) [(comands)]"}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656362695,"creation_date":1656362695,"answer_id":72778100,"question_id":72771682,"body_markdown":"If a switch would work but you don&#39;t want the method to have too many lines, you could try using a map, either from String to method calls (for which you could use lambdas), or from Enum values to the same.\r\n\r\n    Map&lt;String, Runnable&gt; operations = Map.ofEntries(\r\n        Map.entry(&quot;FORWARD&quot;, () -&gt; action.forward()),\r\n        Map.entry(&quot;BACKWARD&quot;, () -&gt; action.backward(),\r\n        // . . .\r\n    );\r\n\r\nOr\r\n\r\n    Map&lt;Instruction, Runnable&gt; operations = Map.ofEntries(\r\n        Map.entry(Instruction.FORWARD, action::forward),\r\n        Map.entry(Instruction.BACKWARD, action::backward),\r\n        // . . .\r\n    );\r\n\r\nNote that in the second example I used method references for the calls to the Action object, which I&#39;m assuming you have an instance of at this point.\r\n\r\nThe problem is, your instructions take different numbers of parameters, so that is really just a sketch of a solution. You&#39;ll have to figure out how to apply it to your use case. In particular, you haven&#39;t mentioned how the Action methods accept the parameters. I suppose each one takes 0, 1, or multiple parameters, depending on the instruction.\r\n\r\nOne thing you could do is parse each command into an Enum instance for that command, and any parameters into a separate object; maybe a `List&lt;Integer&gt;`. I don&#39;t know if you can modify the Action class to accept that list instead of the individual parameters. Or maybe modify it to take e.g. `forward(int... params)` and you could then pass an `int[]` of the parameters.\r\n\r\nHopefully this will at least give you some ideas that will get you unstuck.","title":"How to switch from different instructions/rules in an elegant way","body":"<p>If a switch would work but you don't want the method to have too many lines, you could try using a map, either from String to method calls (for which you could use lambdas), or from Enum values to the same.</p>\n<pre><code>Map&lt;String, Runnable&gt; operations = Map.ofEntries(\n    Map.entry(&quot;FORWARD&quot;, () -&gt; action.forward()),\n    Map.entry(&quot;BACKWARD&quot;, () -&gt; action.backward(),\n    // . . .\n);\n</code></pre>\n<p>Or</p>\n<pre><code>Map&lt;Instruction, Runnable&gt; operations = Map.ofEntries(\n    Map.entry(Instruction.FORWARD, action::forward),\n    Map.entry(Instruction.BACKWARD, action::backward),\n    // . . .\n);\n</code></pre>\n<p>Note that in the second example I used method references for the calls to the Action object, which I'm assuming you have an instance of at this point.</p>\n<p>The problem is, your instructions take different numbers of parameters, so that is really just a sketch of a solution. You'll have to figure out how to apply it to your use case. In particular, you haven't mentioned how the Action methods accept the parameters. I suppose each one takes 0, 1, or multiple parameters, depending on the instruction.</p>\n<p>One thing you could do is parse each command into an Enum instance for that command, and any parameters into a separate object; maybe a <code>List&lt;Integer&gt;</code>. I don't know if you can modify the Action class to accept that list instead of the individual parameters. Or maybe modify it to take e.g. <code>forward(int... params)</code> and you could then pass an <code>int[]</code> of the parameters.</p>\n<p>Hopefully this will at least give you some ideas that will get you unstuck.</p>\n"}],"owner":{"account_id":25630599,"reputation":3,"user_id":19401060,"display_name":"anthony eleuteri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72778100,"answer_count":1,"score":-1,"last_activity_date":1656362695,"creation_date":1656330984,"question_id":72771682,"body_markdown":"hoping for your help!\r\nI&#39;m doing a java project that reproduces the logo language and im capped as I can&#39;t find an elegant and not too complicated way to switch between different rules / instructions, the project focuses on advanced programming and the use of Stream () is suggested; Predicate (); Function (); BiFunction () ect etc this is the list of instructions that I have implemented but that I have no idea how to branch them, **i take them as a String**:\r\n\r\n1. FORWARD (int);\r\n2. BACKWARD (int);\r\n3. LEFT (int);\r\n4. RIGHT (int);\r\n5. CLEARSCREEN;\r\n6. HOME;\r\n7. PENUP;\r\n8. PENDOWN;\r\n9. SETPENCOLOR (int) (int) (int);\r\n10. SETFILLCOLOR (int) (int) (int);\r\n11. SETSCREENCOLOR (int) (int) (int);\r\n12. SETPENSIZE (int);\r\n13. RIPETI (int) [ (cmds) ]; \r\n    - Repeats the sequence of commands in the command list (cmds)\r\n\r\n\r\n\r\n I have thought of an if () else () or a switch () but it does not seem very elegant\r\n\r\n","title":"How to switch from different instructions/rules in an elegant way","body":"<p>hoping for your help!\nI'm doing a java project that reproduces the logo language and im capped as I can't find an elegant and not too complicated way to switch between different rules / instructions, the project focuses on advanced programming and the use of Stream () is suggested; Predicate (); Function (); BiFunction () ect etc this is the list of instructions that I have implemented but that I have no idea how to branch them, <strong>i take them as a String</strong>:</p>\n<ol>\n<li>FORWARD (int);</li>\n<li>BACKWARD (int);</li>\n<li>LEFT (int);</li>\n<li>RIGHT (int);</li>\n<li>CLEARSCREEN;</li>\n<li>HOME;</li>\n<li>PENUP;</li>\n<li>PENDOWN;</li>\n<li>SETPENCOLOR (int) (int) (int);</li>\n<li>SETFILLCOLOR (int) (int) (int);</li>\n<li>SETSCREENCOLOR (int) (int) (int);</li>\n<li>SETPENSIZE (int);</li>\n<li>RIPETI (int) [ (cmds) ];\n<ul>\n<li>Repeats the sequence of commands in the command list (cmds)</li>\n</ul>\n</li>\n</ol>\n<p>I have thought of an if () else () or a switch () but it does not seem very elegant</p>\n"},{"tags":["java","types"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":1,"creation_date":1656361305,"post_id":72777884,"comment_id":128548915,"body_markdown":"*&quot;As i know primitive data types depend on compile settings and operating system&quot;* - citation needed. Who said that and in what context? Are you sure you didn&#39;t read a text about C or C++ instead?","body":"<i>&quot;As i know primitive data types depend on compile settings and operating system&quot;</i> - citation needed. Who said that and in what context? Are you sure you didn&#39;t read a text about C or C++ instead?"},{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":0,"creation_date":1656361431,"post_id":72777884,"comment_id":128548949,"body_markdown":"Or to put it differently, the official Java documentation disagrees with what you &quot;know&quot;: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","body":"Or to put it differently, the official Java documentation disagrees with what you &quot;know&quot;: <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/&hellip;</a>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1656361608,"post_id":72777884,"comment_id":128548987,"body_markdown":"Immutable doesn&#39;t mean that, it means that once the instance is created its value doesn&#39;t change. For example, `String` is immutable in Java. There are certainly different audio file formats but one of the big advantages of Java is that its data types don&#39;t change across systems.","body":"Immutable doesn&#39;t mean that, it means that once the instance is created its value doesn&#39;t change. For example, <code>String</code> is immutable in Java. There are certainly different audio file formats but one of the big advantages of Java is that its data types don&#39;t change across systems."}],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1656361864,"creation_date":1656361864,"answer_id":72777971,"question_id":72777884,"body_markdown":"Java primitives data types are not OS dependent. \r\n\r\nThese are the values for those types, and they are always the same. \r\n\r\n| Type      | Bytes          | Range |\r\n| --------  | -------------- |-- |\r\n| `byte`    | 1              |-128 to 127 |\r\n| `short`   | 2              | -32,768 to 32,767|\r\n| `int`     | 4              | -2,147,483,648 to 2,147,483,647|\r\n\r\nYou can find out more about them [here][1]\r\n\r\nHow data is stored in files might be a different topic. \r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"How do different data types depend on operating system in java?","body":"<p>Java primitives data types are not OS dependent.</p>\n<p>These are the values for those types, and they are always the same.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Type</th>\n<th>Bytes</th>\n<th>Range</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>byte</code></td>\n<td>1</td>\n<td>-128 to 127</td>\n</tr>\n<tr>\n<td><code>short</code></td>\n<td>2</td>\n<td>-32,768 to 32,767</td>\n</tr>\n<tr>\n<td><code>int</code></td>\n<td>4</td>\n<td>-2,147,483,648 to 2,147,483,647</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>You can find out more about them <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">here</a></p>\n<p>How data is stored in files might be a different topic.</p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656362393,"creation_date":1656361870,"answer_id":72777974,"question_id":72777884,"body_markdown":"All primitive types are fully defined in the Java Language Specification, which [writes](https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.2):\r\n\r\n&gt; The *integral types* are `byte`, `short`, `int`, and `long`, whose values are 8-bit, 16-bit, 32-bit and 64-bit signed two&#39;s-complement integers, respectively, and `char`, whose values are 16-bit unsigned integers representing UTF-16 code units (&#167;3.1).\r\n&gt;\r\n&gt; The floating-point types are `float`, whose values exactly correspond to the 32-bit IEEE 754 binary32 floating-point numbers, and `double`, whose values exactly correspond to the 64-bit IEEE 754 binary64 floating-point numbers. \r\n\r\nThat is, there are no observable differences in behavior. Of course, the runtime is at liberty to use different representations for these datatypes, as long as it guarantees that behavior remains unchanged. For instance, a runtime may store a `byte` as 64 bit integer if it ensures that it behaves exactly like a `byte`, for instance by adding extra instructions that discard the upper 56 bits. Since such optimizations have no functional impact, and generally do not materially affect memory use, they are not usually worth thinking about.","title":"How do different data types depend on operating system in java?","body":"<p>All primitive types are fully defined in the Java Language Specification, which <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.2\" rel=\"nofollow noreferrer\">writes</a>:</p>\n<blockquote>\n<p>The <em>integral types</em> are <code>byte</code>, <code>short</code>, <code>int</code>, and <code>long</code>, whose values are 8-bit, 16-bit, 32-bit and 64-bit signed two's-complement integers, respectively, and <code>char</code>, whose values are 16-bit unsigned integers representing UTF-16 code units (3.1).</p>\n<p>The floating-point types are <code>float</code>, whose values exactly correspond to the 32-bit IEEE 754 binary32 floating-point numbers, and <code>double</code>, whose values exactly correspond to the 64-bit IEEE 754 binary64 floating-point numbers.</p>\n</blockquote>\n<p>That is, there are no observable differences in behavior. Of course, the runtime is at liberty to use different representations for these datatypes, as long as it guarantees that behavior remains unchanged. For instance, a runtime may store a <code>byte</code> as 64 bit integer if it ensures that it behaves exactly like a <code>byte</code>, for instance by adding extra instructions that discard the upper 56 bits. Since such optimizations have no functional impact, and generally do not materially affect memory use, they are not usually worth thinking about.</p>\n"}],"owner":{"account_id":23246118,"reputation":1,"user_id":19008336,"display_name":"Oleksandr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1656368624,"accepted_answer_id":72777971,"answer_count":2,"score":-1,"last_activity_date":1656362393,"creation_date":1656361205,"question_id":72777884,"body_markdown":"I&#39;m working with audio files in java (Assignment in my laboratory), and i read bytes from file then i convert them to primitive data types int and short. As i know primitive data types depend on compile settings and operating system. So how they depend on ? Are there immutable data types in java ? (i mean data types those don&#39;t depend on operating system and compile settings) ","title":"How do different data types depend on operating system in java?","body":"<p>I'm working with audio files in java (Assignment in my laboratory), and i read bytes from file then i convert them to primitive data types int and short. As i know primitive data types depend on compile settings and operating system. So how they depend on ? Are there immutable data types in java ? (i mean data types those don't depend on operating system and compile settings)</p>\n"},{"tags":["java","google-cloud-platform","google-compute-engine","google-cloud-vpn"],"answers":[{"tags":[],"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656360592,"creation_date":1656360592,"answer_id":72777793,"question_id":72777692,"body_markdown":"If your goal is to be able to download from the Internet, set up a NAT Gateway.\r\n\r\n[Cloud NAT overview][1]\r\n\r\nAnother option is to set up a VPN to your corporate network which provides a route to the Internet.\r\n\r\nOtherwise, you will need to upload files to your VM and install them manually.\r\n\r\n\r\n  [1]: https://cloud.google.com/nat/docs/overview","title":"installing java on compute engine instance without external ip address","body":"<p>If your goal is to be able to download from the Internet, set up a NAT Gateway.</p>\n<p><a href=\"https://cloud.google.com/nat/docs/overview\" rel=\"nofollow noreferrer\">Cloud NAT overview</a></p>\n<p>Another option is to set up a VPN to your corporate network which provides a route to the Internet.</p>\n<p>Otherwise, you will need to upload files to your VM and install them manually.</p>\n"},{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656362302,"creation_date":1656362302,"answer_id":72778034,"question_id":72777692,"body_markdown":"Why not upload the `*.deb` package and then install it?\r\n\r\nhttps://cloud.google.com/shell/docs/uploading-and-downloading-files","title":"installing java on compute engine instance without external ip address","body":"<p>Why not upload the <code>*.deb</code> package and then install it?</p>\n<p><a href=\"https://cloud.google.com/shell/docs/uploading-and-downloading-files\" rel=\"nofollow noreferrer\">https://cloud.google.com/shell/docs/uploading-and-downloading-files</a></p>\n"}],"owner":{"account_id":21383207,"reputation":87,"user_id":15748769,"display_name":"GcpTrainee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656362302,"creation_date":1656359920,"question_id":72777692,"body_markdown":"I am having some issues while trying to install java : &quot;sudo apt install default-jre&quot; on a VM instance :\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/y72uF.png\r\n\r\nI realized that my VM has no external ip address as my company wont allow it.\r\nI can ping the localhost on the VM but not www.google.com fro example so i figured the lack of external IP was the issue.\r\nIs there another way that i can install java on this VM?\r\nI just have a basic java code (not an app) that i want to try by running &quot;java -jar myjarname.jar&quot;.\r\n\r\nAny idea would be helpfull.","title":"installing java on compute engine instance without external ip address","body":"<p>I am having some issues while trying to install java : &quot;sudo apt install default-jre&quot; on a VM instance :\n<a href=\"https://i.stack.imgur.com/y72uF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y72uF.png\" alt=\"enter image description here\" /></a></p>\n<p>I realized that my VM has no external ip address as my company wont allow it.\nI can ping the localhost on the VM but not <a href=\"http://www.google.com\" rel=\"nofollow noreferrer\">www.google.com</a> fro example so i figured the lack of external IP was the issue.\nIs there another way that i can install java on this VM?\nI just have a basic java code (not an app) that i want to try by running &quot;java -jar myjarname.jar&quot;.</p>\n<p>Any idea would be helpfull.</p>\n"},{"tags":["java","xml","xml-parsing","woodstox"],"comments":[{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":0,"creation_date":1358197486,"post_id":14326598,"comment_id":19909343,"body_markdown":"`== true` is clear, but redundant.","body":"<code>== true</code> is clear, but redundant."}],"answers":[{"tags":[],"owner":{"account_id":2026093,"reputation":331,"user_id":1811044,"display_name":"tuga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358198020,"creation_date":1358198020,"answer_id":14326764,"question_id":14326598,"body_markdown":"It looks like the method  xmlsr.skipElement() is the one that must consume the XMLEvent2.START_ELEMENT event. And since you already consumed it (xmlsr.next()), that method throws you an error.","title":"woodstox skip part of xml","body":"<p>It looks like the method  xmlsr.skipElement() is the one that must consume the XMLEvent2.START_ELEMENT event. And since you already consumed it (xmlsr.next()), that method throws you an error.</p>\n"},{"tags":[],"owner":{"account_id":2237265,"reputation":26976,"user_id":1973271,"accept_rate":100,"display_name":"flup"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1358199744,"creation_date":1358199744,"answer_id":14327260,"question_id":14326598,"body_markdown":"I tried this in java 1.6 (jdk1.6.0_30) with woodstox-core-lgpl-4.1.4.jar, stax2-api-3.1.1.jar on the library path.\r\nMy java file is this:\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    \r\n    import javax.xml.stream.XMLInputFactory;\r\n    import javax.xml.stream.XMLStreamException;\r\n    \r\n    import org.codehaus.stax2.XMLStreamReader2;\r\n    import org.codehaus.stax2.evt.XMLEvent2;\r\n    \r\n    public class Skip {\r\n    \r\n    \tpublic static void main(String[] args) throws FileNotFoundException,\r\n    \t\t\tXMLStreamException {\r\n    \t\tSystem.setProperty(&quot;javax.xml.stream.XMLInputFactory&quot;,\r\n    \t\t\t\t&quot;com.ctc.wstx.stax.WstxInputFactory&quot;);\r\n    \t\tSystem.setProperty(&quot;javax.xml.stream.XMLOutputFactory&quot;,\r\n    \t\t\t\t&quot;com.ctc.wstx.stax.WstxOutputFactory&quot;);\r\n    \t\tSystem.setProperty(&quot;javax.xml.stream.XMLEventFactory&quot;,\r\n    \t\t\t\t&quot;com.ctc.wstx.stax.WstxEventFactory&quot;);\r\n    \r\n    \t\tFileInputStream fis = new FileInputStream(new File(&quot;family.xml&quot;));\r\n    \t\tXMLInputFactory xmlif = XMLInputFactory.newFactory();\r\n    \t\tXMLStreamReader2 xmlsr = (XMLStreamReader2) xmlif\r\n    \t\t\t\t.createXMLStreamReader(fis);\r\n    \r\n    \t\tString currentElementName = null;\r\n    \t\twhile (xmlsr.hasNext()) {\r\n    \r\n    \t\t\tint eventType = xmlsr.next();\r\n    \r\n    \t\t\tswitch (eventType) {\r\n    \r\n    \t\t\tcase (XMLEvent2.START_ELEMENT):\r\n    \t\t\t\tcurrentElementName = xmlsr.getName().toString();\r\n    \r\n    \t\t\t\tif (&quot;dad&quot;.equals(currentElementName) == true) {\r\n    \t\t\t\t\tSystem.out.println(&quot;isStartElement: &quot;\r\n    \t\t\t\t\t\t\t+ xmlsr.isStartElement());\r\n    \t\t\t\t\tSystem.out.println(&quot;Element BEGIN: &quot; + currentElementName);\r\n    \t\t\t\t\txmlsr.skipElement();\r\n    \t\t\t\t}\r\n    \t\t\t\telse {\r\n    \t\t\t\t\tSystem.out.println(currentElementName);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nWorks like a charm.\r\nOutput is\r\n\r\n    family\r\n    mom\r\n    data\r\n    isStartElement: true\r\n    Element BEGIN: dad\r\n\r\n","title":"woodstox skip part of xml","body":"<p>I tried this in java 1.6 (jdk1.6.0_30) with woodstox-core-lgpl-4.1.4.jar, stax2-api-3.1.1.jar on the library path.\nMy java file is this:</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\n\nimport javax.xml.stream.XMLInputFactory;\nimport javax.xml.stream.XMLStreamException;\n\nimport org.codehaus.stax2.XMLStreamReader2;\nimport org.codehaus.stax2.evt.XMLEvent2;\n\npublic class Skip {\n\n    public static void main(String[] args) throws FileNotFoundException,\n            XMLStreamException {\n        System.setProperty(\"javax.xml.stream.XMLInputFactory\",\n                \"com.ctc.wstx.stax.WstxInputFactory\");\n        System.setProperty(\"javax.xml.stream.XMLOutputFactory\",\n                \"com.ctc.wstx.stax.WstxOutputFactory\");\n        System.setProperty(\"javax.xml.stream.XMLEventFactory\",\n                \"com.ctc.wstx.stax.WstxEventFactory\");\n\n        FileInputStream fis = new FileInputStream(new File(\"family.xml\"));\n        XMLInputFactory xmlif = XMLInputFactory.newFactory();\n        XMLStreamReader2 xmlsr = (XMLStreamReader2) xmlif\n                .createXMLStreamReader(fis);\n\n        String currentElementName = null;\n        while (xmlsr.hasNext()) {\n\n            int eventType = xmlsr.next();\n\n            switch (eventType) {\n\n            case (XMLEvent2.START_ELEMENT):\n                currentElementName = xmlsr.getName().toString();\n\n                if (\"dad\".equals(currentElementName) == true) {\n                    System.out.println(\"isStartElement: \"\n                            + xmlsr.isStartElement());\n                    System.out.println(\"Element BEGIN: \" + currentElementName);\n                    xmlsr.skipElement();\n                }\n                else {\n                    System.out.println(currentElementName);\n                }\n\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Works like a charm.\nOutput is</p>\n\n<pre><code>family\nmom\ndata\nisStartElement: true\nElement BEGIN: dad\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162425,"reputation":148009,"user_id":383861,"display_name":"bdoughan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1358249563,"creation_date":1358200616,"answer_id":14327483,"question_id":14326598,"body_markdown":"Since Woodstox is a StAX (JSR-173) compliant parser, you could use a StAX `StreamFilter` to exclude events corresponding to certain elements.  I prefer this approach so that you can keep the filtering logic separate from your application logic.\r\n\r\n**Demo**\r\n\r\n    import javax.xml.stream.*;\r\n    import javax.xml.transform.stream.StreamSource;\r\n    \r\n    public class Demo {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            XMLInputFactory xif = XMLInputFactory.newFactory();\r\n            StreamSource xml = new StreamSource(&quot;src/forum14326598/input.xml&quot;);\r\n            XMLStreamReader xsr = xif.createXMLStreamReader(xml);\r\n            xsr = xif.createFilteredReader(xsr, new StreamFilter() {\r\n    \r\n                private boolean accept = true;\r\n                \r\n                @Override\r\n                public boolean accept(XMLStreamReader reader) {\r\n                    if((reader.isStartElement() || reader.isEndElement()) &amp;&amp; &quot;dad&quot;.equals(reader.getLocalName())) {\r\n                        accept = !accept;\r\n                        return false;\r\n                    } else {\r\n                        return accept;\r\n                    }\r\n                }\r\n            \r\n            });\r\n            \r\n            while(xsr.hasNext()) {\r\n                if(xsr.isStartElement()) {\r\n                    System.out.println(&quot;start: &quot; + xsr.getLocalName());\r\n                } else if(xsr.isCharacters()) {\r\n                    if(xsr.getText().trim().length() &gt; 0) {\r\n                        System.out.println(&quot;chars: &quot; + xsr.getText());\r\n                    }\r\n                } else if(xsr.isEndElement()) {\r\n                    System.out.println(&quot;end: &quot; + xsr.getLocalName());\r\n                }\r\n                xsr.next();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n**Output**\r\n\r\n    start: family\r\n    start: mom\r\n    start: data\r\n    end: data\r\n    end: mom\r\n    end: family","title":"woodstox skip part of xml","body":"<p>Since Woodstox is a StAX (JSR-173) compliant parser, you could use a StAX <code>StreamFilter</code> to exclude events corresponding to certain elements.  I prefer this approach so that you can keep the filtering logic separate from your application logic.</p>\n\n<p><strong>Demo</strong></p>\n\n<pre><code>import javax.xml.stream.*;\nimport javax.xml.transform.stream.StreamSource;\n\npublic class Demo {\n\n    public static void main(String[] args) throws Exception {\n        XMLInputFactory xif = XMLInputFactory.newFactory();\n        StreamSource xml = new StreamSource(\"src/forum14326598/input.xml\");\n        XMLStreamReader xsr = xif.createXMLStreamReader(xml);\n        xsr = xif.createFilteredReader(xsr, new StreamFilter() {\n\n            private boolean accept = true;\n\n            @Override\n            public boolean accept(XMLStreamReader reader) {\n                if((reader.isStartElement() || reader.isEndElement()) &amp;&amp; \"dad\".equals(reader.getLocalName())) {\n                    accept = !accept;\n                    return false;\n                } else {\n                    return accept;\n                }\n            }\n\n        });\n\n        while(xsr.hasNext()) {\n            if(xsr.isStartElement()) {\n                System.out.println(\"start: \" + xsr.getLocalName());\n            } else if(xsr.isCharacters()) {\n                if(xsr.getText().trim().length() &gt; 0) {\n                    System.out.println(\"chars: \" + xsr.getText());\n                }\n            } else if(xsr.isEndElement()) {\n                System.out.println(\"end: \" + xsr.getLocalName());\n            }\n            xsr.next();\n        }\n    }\n\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>start: family\nstart: mom\nstart: data\nend: data\nend: mom\nend: family\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2092433,"reputation":1135,"user_id":1861929,"accept_rate":54,"display_name":"Hubert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1358263000,"creation_date":1358262440,"answer_id":14340608,"question_id":14326598,"body_markdown":"I&#39;ve found the reason, why I was getting the IllegalStateException. The very useful was flup&#39;s answer. Thanks a lot.&lt;br/&gt;\r\nIt is worth to read answer given by Blaise too.&lt;br/&gt;\r\n\r\nBut getting to the heart of the matter.\r\nThe problem was not skipElement() method itself. The problem was caused becouse of methods used to read attributes. There are three dots (...) in my question. So let&#39;s look what was there:\r\n\r\n    switch(eventType){\r\n\t\t\t\r\n\tcase (XMLEvent2.START_ELEMENT):\r\n\t\tcurrentElementName = xmlsr.getName().toString();\r\n\t\tlogger.info(&quot;currentElementName: &quot; + currentElementName);\r\n\t\t\t\t\r\n\t\t\t\r\n\t\tif(&quot;dad&quot;.equals(currentElementName) == true){\r\n\t\t\tlogger.info(&quot;isStartElement: &quot; + xmlsr.isStartElement());\r\n\t\t\tlogger.info(&quot;Element BEGIN: &quot; + currentElementName);\r\n\t\t\txmlsr.skipElement();\r\n\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\tcase (XMLEvent2.ATTRIBUTE):\r\n\t\t\tint attributeCount = xmlsr.getAttributeCount(); \r\n\t\t\t...\r\n\t\t\tbreak;\r\n \r\n\r\n    }\r\n\r\nImportant thing. There is no break statement for START_ELEMENT. So every time START_ELEMENT event occurs the code for event ATTRIBUTE is also executed.\r\nThat looks OK according to Java Docs, becouse methods getAttributeCount(), getAttributeValue() etc. can be executed for both START_ELEMENT and ATTRIBUTE. \r\n\r\nBut after calling method skipElement(), event START_ELEMENT is changed to END_ELEMENT. So calling method getAttributeCount() is not allowed. This call is the reason why IllegalStateException is thrown.\r\n\r\nThe simplest way to avoid that Exception is just calling break statement after calling skipElement() method. In that case code for getting attributes will not be executed, thus Exception will not be thrown.\r\n\r\n    \t\tif(&quot;dad&quot;.equals(currentElementName) == true){\r\n    \t\t\tlogger.info(&quot;isStartElement: &quot; + xmlsr.isStartElement());\r\n    \t\t\tlogger.info(&quot;Element BEGIN: &quot; + currentElementName);\r\n    \t\t\txmlsr.skipElement();\r\n    \t\t\tbreak;                  //the cure for IllegalStateException\r\n    \t\t}\r\n\r\nI&#39;m sorry I gave you no chance to answer my original question becouse of to much code hidden.","title":"woodstox skip part of xml","body":"<p>I've found the reason, why I was getting the IllegalStateException. The very useful was flup's answer. Thanks a lot.<br/>\nIt is worth to read answer given by Blaise too.<br/></p>\n\n<p>But getting to the heart of the matter.\nThe problem was not skipElement() method itself. The problem was caused becouse of methods used to read attributes. There are three dots (...) in my question. So let's look what was there:</p>\n\n<pre><code>switch(eventType){\n\ncase (XMLEvent2.START_ELEMENT):\n    currentElementName = xmlsr.getName().toString();\n    logger.info(\"currentElementName: \" + currentElementName);\n\n\n    if(\"dad\".equals(currentElementName) == true){\n        logger.info(\"isStartElement: \" + xmlsr.isStartElement());\n        logger.info(\"Element BEGIN: \" + currentElementName);\n        xmlsr.skipElement();\n    }\n\n\n    case (XMLEvent2.ATTRIBUTE):\n        int attributeCount = xmlsr.getAttributeCount(); \n        ...\n        break;\n\n\n}\n</code></pre>\n\n<p>Important thing. There is no break statement for START_ELEMENT. So every time START_ELEMENT event occurs the code for event ATTRIBUTE is also executed.\nThat looks OK according to Java Docs, becouse methods getAttributeCount(), getAttributeValue() etc. can be executed for both START_ELEMENT and ATTRIBUTE. </p>\n\n<p>But after calling method skipElement(), event START_ELEMENT is changed to END_ELEMENT. So calling method getAttributeCount() is not allowed. This call is the reason why IllegalStateException is thrown.</p>\n\n<p>The simplest way to avoid that Exception is just calling break statement after calling skipElement() method. In that case code for getting attributes will not be executed, thus Exception will not be thrown.</p>\n\n<pre><code>        if(\"dad\".equals(currentElementName) == true){\n            logger.info(\"isStartElement: \" + xmlsr.isStartElement());\n            logger.info(\"Element BEGIN: \" + currentElementName);\n            xmlsr.skipElement();\n            break;                  //the cure for IllegalStateException\n        }\n</code></pre>\n\n<p>I'm sorry I gave you no chance to answer my original question becouse of to much code hidden.</p>\n"}],"owner":{"account_id":2092433,"reputation":1135,"user_id":1861929,"accept_rate":54,"display_name":"Hubert"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1770,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":14340608,"answer_count":4,"score":3,"last_activity_date":1656362221,"creation_date":1358197395,"question_id":14326598,"body_markdown":"Java: 1.6  \r\nWoodstox: 4.1.4\r\n\r\nI just want to skip part of xml file, while parsing.\r\nLet&#39;s look at that simple xml:\r\n\r\n    &lt;family&gt;\r\n    \t&lt;mom&gt;\r\n    \t\t&lt;data height=&quot;160&quot;/&gt;\r\n    \t&lt;/mom&gt;\r\n    \t&lt;dad&gt;\r\n    \t\t&lt;data height=&quot;175&quot;/&gt;\r\n    \t&lt;/dad&gt;\r\n    &lt;/family&gt;\r\n\r\nI just want do skip dad element. So it look&#39;s like using skipElement method like shown below is a good idea:\r\n\r\n    FileInputStream fis = ...;\r\n    XMLStreamReader2 xmlsr = (XMLStreamReader2) xmlif.createXMLStreamReader(fis);\r\n    \r\n    String currentElementName = null;\r\n    while(xmlsr.hasNext()){\r\n    \t\t\t\r\n        int eventType = xmlsr.next();\r\n    \t\t\t\t\t\t\r\n    \tswitch(eventType){\r\n    \t\t\t\r\n    \t\tcase (XMLEvent2.START_ELEMENT):\r\n    \t\t\tcurrentElementName = xmlsr.getName().toString();\r\n    \t\t\t\t\t\r\n    \t\t\tif(&quot;dad&quot;.equals(currentElementName) == true){\r\n    \t\t\t\tlogger.info(&quot;isStartElement: &quot; + xmlsr.isStartElement());\r\n    \t\t\t\tlogger.info(&quot;Element BEGIN: &quot; + currentElementName);\r\n    \t\t\t\txmlsr.skipElement();\r\n    \t\t\t}\r\n\r\n                        ...\r\n        }\r\n    }\r\n\r\nWe just find start of element dad, and skip it. But not so fast, because Exception will be thrown. This is the output:\r\n   \r\n\r\n    isStartElement: true\r\n    Element BEGIN: dad\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: Current state not START_ELEMENT\r\n\r\nThat is not what expected. This is indeed very unexpected, because method skipElement is executed in START_ELEMENT state. What is going on?\r\n","title":"woodstox skip part of xml","body":"<p>Java: 1.6<br />\nWoodstox: 4.1.4</p>\n<p>I just want to skip part of xml file, while parsing.\nLet's look at that simple xml:</p>\n<pre><code>&lt;family&gt;\n    &lt;mom&gt;\n        &lt;data height=&quot;160&quot;/&gt;\n    &lt;/mom&gt;\n    &lt;dad&gt;\n        &lt;data height=&quot;175&quot;/&gt;\n    &lt;/dad&gt;\n&lt;/family&gt;\n</code></pre>\n<p>I just want do skip dad element. So it look's like using skipElement method like shown below is a good idea:</p>\n<pre><code>FileInputStream fis = ...;\nXMLStreamReader2 xmlsr = (XMLStreamReader2) xmlif.createXMLStreamReader(fis);\n\nString currentElementName = null;\nwhile(xmlsr.hasNext()){\n            \n    int eventType = xmlsr.next();\n                        \n    switch(eventType){\n            \n        case (XMLEvent2.START_ELEMENT):\n            currentElementName = xmlsr.getName().toString();\n                    \n            if(&quot;dad&quot;.equals(currentElementName) == true){\n                logger.info(&quot;isStartElement: &quot; + xmlsr.isStartElement());\n                logger.info(&quot;Element BEGIN: &quot; + currentElementName);\n                xmlsr.skipElement();\n            }\n\n                    ...\n    }\n}\n</code></pre>\n<p>We just find start of element dad, and skip it. But not so fast, because Exception will be thrown. This is the output:</p>\n<pre><code>isStartElement: true\nElement BEGIN: dad\nException in thread &quot;main&quot; java.lang.IllegalStateException: Current state not START_ELEMENT\n</code></pre>\n<p>That is not what expected. This is indeed very unexpected, because method skipElement is executed in START_ELEMENT state. What is going on?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1655225894,"post_id":72620571,"comment_id":128280259,"body_markdown":"Why do you not have a foreign key constraint and the data in the table? Sounds like your design is bakwards.","body":"Why do you not have a foreign key constraint and the data in the table? Sounds like your design is bakwards."},{"owner":{"account_id":13447169,"reputation":1234,"user_id":9702804,"display_name":"G. Ciardini"},"score":0,"creation_date":1655278249,"post_id":72620571,"comment_id":128291807,"body_markdown":"I did not make the original software so unfortunately I can only adapt to the particular cases I find.","body":"I did not make the original software so unfortunately I can only adapt to the particular cases I find."}],"answers":[{"tags":[],"owner":{"account_id":3544434,"reputation":1492,"user_id":2960757,"display_name":"CodeTheorist"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655279060,"creation_date":1655279060,"answer_id":72627589,"question_id":72620571,"body_markdown":"You said that you&#39;re using a simple `SELECT * FROM Student` query, which means you are using custom queries.\r\n\r\nIn your case, you should be able to change it to `SELECT * FROM Student St LEFT JOIN School Sc ON Sc.ID = St.School;`.\r\n\r\nWhat that should do is load all of the records in one query and any student records that don&#39;t have a matching school should return null for the `School` attribute on the `Student` class.\r\n\r\nSide Note: When working with relationships and JPA, if it&#39;s a simple relationship like this, you can use joins to ensure everything is loaded in one query, rather than JPA loading all of the parent entities and then issuing a query for each of those to fetch the child entities, so it can have quite the performance improvement.","title":"How to always return the result of a query from hibernate despite an error present?","body":"<p>You said that you're using a simple <code>SELECT * FROM Student</code> query, which means you are using custom queries.</p>\n<p>In your case, you should be able to change it to <code>SELECT * FROM Student St LEFT JOIN School Sc ON Sc.ID = St.School;</code>.</p>\n<p>What that should do is load all of the records in one query and any student records that don't have a matching school should return null for the <code>School</code> attribute on the <code>Student</code> class.</p>\n<p>Side Note: When working with relationships and JPA, if it's a simple relationship like this, you can use joins to ensure everything is loaded in one query, rather than JPA loading all of the parent entities and then issuing a query for each of those to fetch the child entities, so it can have quite the performance improvement.</p>\n"},{"tags":[],"owner":{"account_id":4862517,"reputation":1544,"user_id":3921725,"display_name":"Alex Roig"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655279423,"creation_date":1655279079,"answer_id":72627594,"question_id":72620571,"body_markdown":"You need to add `@NotFound(action = NotFoundAction.IGNORE)` on top of School in `Student` class. As mentioned by Davide d&#39;Alto on his answer, there&#39;s no `NY` in table `School` so an exception will be risen by default. \r\n\r\nFixing the database should be the proper answer but sometimes it&#39;s not possible or might have other undesired consequences on other applications.\r\n\r\nIn this case, when annotating with `@NotFound(action = NotFoundAction.IGNORE)` the value will be set to `null` in case it&#39;s not found.\r\n\r\n```\r\n@Table(name = &quot;Student&quot;)\r\npublic class Student\r\n{\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private String id;\r\n    \r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @NotFound(action = NotFoundAction.IGNORE)\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;school&quot;)\r\n    private School school \r\n}\r\n```\r\n\r\nMore info:\r\n\r\n[Baeldung - Hibernate EntityNotFoundException][1]\r\n\r\n[JavaDoc][2]\r\n\r\n\r\n  [1]: https://www.baeldung.com/hibernate-entitynotfoundexception\r\n  [2]: https://docs.jboss.org/hibernate/orm/5.4/javadocs/index.html?org/hibernate/annotations/NotFound.html","title":"How to always return the result of a query from hibernate despite an error present?","body":"<p>You need to add <code>@NotFound(action = NotFoundAction.IGNORE)</code> on top of School in <code>Student</code> class. As mentioned by Davide d'Alto on his answer, there's no <code>NY</code> in table <code>School</code> so an exception will be risen by default.</p>\n<p>Fixing the database should be the proper answer but sometimes it's not possible or might have other undesired consequences on other applications.</p>\n<p>In this case, when annotating with <code>@NotFound(action = NotFoundAction.IGNORE)</code> the value will be set to <code>null</code> in case it's not found.</p>\n<pre><code>@Table(name = &quot;Student&quot;)\npublic class Student\n{\n    @Id\n    @Column(name = &quot;id&quot;)\n    private String id;\n    \n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @NotFound(action = NotFoundAction.IGNORE)\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;school&quot;)\n    private School school \n}\n</code></pre>\n<p>More info:</p>\n<p><a href=\"https://www.baeldung.com/hibernate-entitynotfoundexception\" rel=\"nofollow noreferrer\">Baeldung - Hibernate EntityNotFoundException</a></p>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/5.4/javadocs/index.html?org/hibernate/annotations/NotFound.html\" rel=\"nofollow noreferrer\">JavaDoc</a></p>\n"},{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655855887,"creation_date":1655854354,"answer_id":72708114,"question_id":72620571,"body_markdown":"**Solution 1: handle exception in getter**\r\n&lt;br&gt;One approach that can be used is to modify your getter method using static methods: [Hibernate.isInitialized][1] and [Hibernate.initialize][2] and handle `EntityNotFoundException` \r\n```java\r\n    public School getSchool() {\r\n        if (!Hibernate.isInitialized(school)) {\r\n            try {\r\n                Hibernate.initialize(school);\r\n            } catch (EntityNotFoundException ex) {\r\n                school = null;\r\n            }\r\n        }\r\n        return school;\r\n    }\r\n```\r\n```java\r\n@Table(name = &quot;Student&quot;)\r\n@Entity\r\npublic class Student\r\n{\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private String id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;school&quot;)\r\n    private School school;\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public School getSchool() {\r\n        if (!Hibernate.isInitialized(school)) {\r\n            try {\r\n                Hibernate.initialize(school);\r\n            } catch (EntityNotFoundException ex) {\r\n                school = null;\r\n            }\r\n        }\r\n        return school;\r\n    }\r\n\r\n    public void setSchool(School school) {\r\n        this.school = school;\r\n    }\r\n}\r\n```\r\n**Solution 2: load child entity via separate repository**\r\n&lt;br&gt;Remove `ManyToOne` relation from your entity\r\n```java\r\n@Table(name = &quot;Student&quot;)\r\n@Entity\r\npublic class Student\r\n{\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private String id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;school&quot;)\r\n    private String school;\r\n}\r\n```\r\nCreate separate repository for `School` entity with optional loading by ID\r\n```java\r\n@Repository\r\npublic interface SchoolRepository extends JpaRepository&lt;School, String&gt; {\r\n    Optional&lt;School&gt; findById(String id);\r\n}\r\n```\r\nUse `SchoolRepository` repository for loading entity in required places\r\n```java\r\n        List&lt;Student&gt; students = studentRepository.findStudents();\r\n        Student student = students.get(2);\r\n\r\n        if (student.getSchool() != null) {\r\n            School school = schoolRepository.findById(student.getSchool()).orElse(null);\r\n        }\r\n```\r\n**Solution 3: [@NotFound(action = NotFoundAction.IGNORE)][3] with [LEFT JOIN FETCH][4]**\r\n&lt;br&gt;Define ignore `@NotFound` annotation\r\n```java\r\n    @NotFound(action = NotFoundAction.IGNORE)\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;school&quot;)\r\n    private School school \r\n```\r\nRewrite your query for loading `Student` entities. Use [LEFT JOIN FETCH][4], it allows associations or collections of values to be initialized along with their parent objects using a single select. It significantly improves performance. `Student` and `School` entities will be initialized by one query. \r\n```java\r\n@Repository\r\npublic interface StudentRepository extends JpaRepository&lt;Student, String&gt; {\r\n\r\n    @Query(value = &quot;select s from Student s LEFT JOIN FETCH s.school sc&quot;)\r\n    List&lt;Student&gt; findStudents();\r\n}\r\n```\r\nThe main idea of that solution is that you will not have many EGEAR queries for initialization child entities, but only one and `@NotFound` will skip exception.\r\n&lt;br&gt;Hibernate will generate one batch query:\r\n```sql\r\n    select\r\n        student0_.id as id1_34_0_,\r\n        school1_.id as id1_31_1_,\r\n        student0_.name as name2_34_0_,\r\n        student0_.school as school3_34_0_,\r\n        school1_.state as state2_31_1_ \r\n    from\r\n        student student0_ \r\n    left outer join\r\n        school school1_ \r\n            on student0_.school=school1_.id\r\n```\r\nAnd the second query just for one missed `School` entity to ensure that it is not present in DB\r\n```java\r\n    select\r\n        school0_.id as id1_31_0_,\r\n        school0_.state as state2_31_0_ \r\n    from\r\n        school school0_ \r\n    where\r\n        school0_.id=?\r\n```\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/4.3/javadocs/org/hibernate/Hibernate.html#isInitialized(java.lang.Object)\r\n  [2]: https://docs.jboss.org/hibernate/orm/4.3/javadocs/org/hibernate/Hibernate.html#initialize(java.lang.Object)\r\n  [3]: https://docs.jboss.org/hibernate/orm/5.4/javadocs/index.html?org/hibernate/annotations/NotFound.html\r\n  [4]: https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html#queryhql-joins","title":"How to always return the result of a query from hibernate despite an error present?","body":"<p><strong>Solution 1: handle exception in getter</strong>\n<br>One approach that can be used is to modify your getter method using static methods: <a href=\"https://docs.jboss.org/hibernate/orm/4.3/javadocs/org/hibernate/Hibernate.html#isInitialized(java.lang.Object)\" rel=\"nofollow noreferrer\">Hibernate.isInitialized</a> and <a href=\"https://docs.jboss.org/hibernate/orm/4.3/javadocs/org/hibernate/Hibernate.html#initialize(java.lang.Object)\" rel=\"nofollow noreferrer\">Hibernate.initialize</a> and handle <code>EntityNotFoundException</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    public School getSchool() {\n        if (!Hibernate.isInitialized(school)) {\n            try {\n                Hibernate.initialize(school);\n            } catch (EntityNotFoundException ex) {\n                school = null;\n            }\n        }\n        return school;\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(name = &quot;Student&quot;)\n@Entity\npublic class Student\n{\n    @Id\n    @Column(name = &quot;id&quot;)\n    private String id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;school&quot;)\n    private School school;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public School getSchool() {\n        if (!Hibernate.isInitialized(school)) {\n            try {\n                Hibernate.initialize(school);\n            } catch (EntityNotFoundException ex) {\n                school = null;\n            }\n        }\n        return school;\n    }\n\n    public void setSchool(School school) {\n        this.school = school;\n    }\n}\n</code></pre>\n<p><strong>Solution 2: load child entity via separate repository</strong>\n<br>Remove <code>ManyToOne</code> relation from your entity</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(name = &quot;Student&quot;)\n@Entity\npublic class Student\n{\n    @Id\n    @Column(name = &quot;id&quot;)\n    private String id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;school&quot;)\n    private String school;\n}\n</code></pre>\n<p>Create separate repository for <code>School</code> entity with optional loading by ID</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface SchoolRepository extends JpaRepository&lt;School, String&gt; {\n    Optional&lt;School&gt; findById(String id);\n}\n</code></pre>\n<p>Use <code>SchoolRepository</code> repository for loading entity in required places</p>\n<pre class=\"lang-java prettyprint-override\"><code>        List&lt;Student&gt; students = studentRepository.findStudents();\n        Student student = students.get(2);\n\n        if (student.getSchool() != null) {\n            School school = schoolRepository.findById(student.getSchool()).orElse(null);\n        }\n</code></pre>\n<p><strong>Solution 3: <a href=\"https://docs.jboss.org/hibernate/orm/5.4/javadocs/index.html?org/hibernate/annotations/NotFound.html\" rel=\"nofollow noreferrer\">@NotFound(action = NotFoundAction.IGNORE)</a> with <a href=\"https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html#queryhql-joins\" rel=\"nofollow noreferrer\">LEFT JOIN FETCH</a></strong>\n<br>Define ignore <code>@NotFound</code> annotation</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @NotFound(action = NotFoundAction.IGNORE)\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;school&quot;)\n    private School school \n</code></pre>\n<p>Rewrite your query for loading <code>Student</code> entities. Use <a href=\"https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html#queryhql-joins\" rel=\"nofollow noreferrer\">LEFT JOIN FETCH</a>, it allows associations or collections of values to be initialized along with their parent objects using a single select. It significantly improves performance. <code>Student</code> and <code>School</code> entities will be initialized by one query.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface StudentRepository extends JpaRepository&lt;Student, String&gt; {\n\n    @Query(value = &quot;select s from Student s LEFT JOIN FETCH s.school sc&quot;)\n    List&lt;Student&gt; findStudents();\n}\n</code></pre>\n<p>The main idea of that solution is that you will not have many EGEAR queries for initialization child entities, but only one and <code>@NotFound</code> will skip exception.\n<br>Hibernate will generate one batch query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    select\n        student0_.id as id1_34_0_,\n        school1_.id as id1_31_1_,\n        student0_.name as name2_34_0_,\n        student0_.school as school3_34_0_,\n        school1_.state as state2_31_1_ \n    from\n        student student0_ \n    left outer join\n        school school1_ \n            on student0_.school=school1_.id\n</code></pre>\n<p>And the second query just for one missed <code>School</code> entity to ensure that it is not present in DB</p>\n<pre class=\"lang-java prettyprint-override\"><code>    select\n        school0_.id as id1_31_0_,\n        school0_.state as state2_31_0_ \n    from\n        school school0_ \n    where\n        school0_.id=?\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13447169,"reputation":1234,"user_id":9702804,"display_name":"G. Ciardini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656362197,"creation_date":1656362197,"answer_id":72778018,"question_id":72620571,"body_markdown":"For a semi-scalable solution I changed the initial view and returned `NULL` if it is not present. The change makes the query a little slower but avoids doing one query per element (that would make the environment much slower).\r\n\r\nBefore\r\n--\r\n\r\n```sql\r\nSELECT \tST.ID AS id,\r\n\t\tST.NAME AS name,\r\n\t\tST.ID AS school\r\nFROM Student ST\r\n```\r\nAfther\r\n--\r\n\r\n```sql\r\nSELECT \tST.ID AS id,\r\n\t\tST.NAME AS name,\r\n\t\tSC.ID AS school\r\nFROM Student ST\r\nLEFT JOIN School SC\r\n\tON ST.SCHOOL = SC.ID\r\n```\r\n\r\nPost release notes\r\n--\r\n\r\nAlso for compound ids, the best solution seems to be a `case when` with all the various combinations.\r\n\r\nKeep in mind that this is a very small example to understand the logic behind the problem, adding many tables in `left join` will make the cost of the query increases significantly. However, remains the best compromise after a week of trials and proposed solutions.","title":"How to always return the result of a query from hibernate despite an error present?","body":"<p>For a semi-scalable solution I changed the initial view and returned <code>NULL</code> if it is not present. The change makes the query a little slower but avoids doing one query per element (that would make the environment much slower).</p>\n<h2>Before</h2>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT  ST.ID AS id,\n        ST.NAME AS name,\n        ST.ID AS school\nFROM Student ST\n</code></pre>\n<h2>Afther</h2>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT  ST.ID AS id,\n        ST.NAME AS name,\n        SC.ID AS school\nFROM Student ST\nLEFT JOIN School SC\n    ON ST.SCHOOL = SC.ID\n</code></pre>\n<h2>Post release notes</h2>\n<p>Also for compound ids, the best solution seems to be a <code>case when</code> with all the various combinations.</p>\n<p>Keep in mind that this is a very small example to understand the logic behind the problem, adding many tables in <code>left join</code> will make the cost of the query increases significantly. However, remains the best compromise after a week of trials and proposed solutions.</p>\n"}],"owner":{"account_id":13447169,"reputation":1234,"user_id":9702804,"display_name":"G. Ciardini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72778018,"answer_count":4,"score":1,"last_activity_date":1656362197,"creation_date":1655224777,"question_id":72620571,"body_markdown":"My Case\r\n-------\r\n\r\nI have two entities, `student` and `school` which are structured as follows:\r\n\r\n```java\r\n@Table(name = &quot;Student&quot;)\r\npublic class Student\r\n{\r\n\t@Id\r\n    @Column(name = &quot;id&quot;)\r\n\tprivate String id;\r\n    \r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;school&quot;)\r\n    private School school \r\n}\r\n```\r\n```java\r\n@Table(name = &quot;School&quot;)\r\npublic class School\r\n{\r\n\t@Id\r\n    @Column(name = &quot;id&quot;)\r\n\tprivate String id;\r\n    \r\n    @Column(name = &quot;state&quot;)\r\n    private String state;\r\n}\r\n```\r\n\r\nThe following are the two views values:\r\n\r\n**Student**\r\n\r\n| id | name | school |\r\n|:---- |:------ |:----- |\r\n| A  | Albert    | MCD |\r\n| B  | Kevin    | LSU |\r\n| C  | Jack    | NY |\r\n| D  | Robert | CA |\r\n| E  | Samuel | |\r\n\r\n**School**\r\n\r\n| id | name | \r\n|:---- |:------ | \r\n| MCD  | Mich    | \r\n| LSU  | Los    |\r\n| CA  | Car    |\r\n\r\nSo when in hibernate i&#39;m doing a simple `select * from Student`, it throws an error because the &#39;NY&#39; id does not exist in the school table.\r\n\r\n(To be precise, it throws `org.hibernate.LazyInitializationException: No row with the given identifier exists`)\r\n\r\nFinal Goal\r\n-------\r\n\r\nMy goal is to bypass the error that is thrown an still return the correct entity (So Albert, Kevin, Robert, Samuel)","title":"How to always return the result of a query from hibernate despite an error present?","body":"<h2>My Case</h2>\n<p>I have two entities, <code>student</code> and <code>school</code> which are structured as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(name = &quot;Student&quot;)\npublic class Student\n{\n    @Id\n    @Column(name = &quot;id&quot;)\n    private String id;\n    \n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;school&quot;)\n    private School school \n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(name = &quot;School&quot;)\npublic class School\n{\n    @Id\n    @Column(name = &quot;id&quot;)\n    private String id;\n    \n    @Column(name = &quot;state&quot;)\n    private String state;\n}\n</code></pre>\n<p>The following are the two views values:</p>\n<p><strong>Student</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">id</th>\n<th style=\"text-align: left;\">name</th>\n<th style=\"text-align: left;\">school</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">A</td>\n<td style=\"text-align: left;\">Albert</td>\n<td style=\"text-align: left;\">MCD</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">B</td>\n<td style=\"text-align: left;\">Kevin</td>\n<td style=\"text-align: left;\">LSU</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">C</td>\n<td style=\"text-align: left;\">Jack</td>\n<td style=\"text-align: left;\">NY</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">D</td>\n<td style=\"text-align: left;\">Robert</td>\n<td style=\"text-align: left;\">CA</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">E</td>\n<td style=\"text-align: left;\">Samuel</td>\n<td style=\"text-align: left;\"></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>School</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">id</th>\n<th style=\"text-align: left;\">name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">MCD</td>\n<td style=\"text-align: left;\">Mich</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">LSU</td>\n<td style=\"text-align: left;\">Los</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">CA</td>\n<td style=\"text-align: left;\">Car</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>So when in hibernate i'm doing a simple <code>select * from Student</code>, it throws an error because the 'NY' id does not exist in the school table.</p>\n<p>(To be precise, it throws <code>org.hibernate.LazyInitializationException: No row with the given identifier exists</code>)</p>\n<h2>Final Goal</h2>\n<p>My goal is to bypass the error that is thrown an still return the correct entity (So Albert, Kevin, Robert, Samuel)</p>\n"},{"tags":["java","spring","ssl","embedded-tomcat-8"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656394421,"post_id":72777993,"comment_id":128554434,"body_markdown":"You already asked the [exact same question](https://stackoverflow.com/questions/72776439/spring-boot-embedded-tomcat-ssl-config) earlier. Which got closed with links to other topics which answer this, asking the same again will yield the same result.","body":"You already asked the <a href=\"https://stackoverflow.com/questions/72776439/spring-boot-embedded-tomcat-ssl-config\">exact same question</a> earlier. Which got closed with links to other topics which answer this, asking the same again will yield the same result."},{"owner":{"account_id":18517468,"reputation":33,"user_id":13491290,"display_name":"iliev951"},"score":0,"creation_date":1656406066,"post_id":72777993,"comment_id":128557965,"body_markdown":"Just to be clear. My first question was marked incorrectly as duplicate. Please note, that I&#39;m not asking how to use .pem files for SSL config of spring boot. This has already been aswered. I&#39;m asking, if I can use the same certificate to configure the SSL for embedded tomcat.","body":"Just to be clear. My first question was marked incorrectly as duplicate. Please note, that I&#39;m not asking how to use .pem files for SSL config of spring boot. This has already been aswered. I&#39;m asking, if I can use the same certificate to configure the SSL for embedded tomcat."}],"owner":{"account_id":18517468,"reputation":33,"user_id":13491290,"display_name":"iliev951"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1656394387,"answer_count":0,"score":0,"last_activity_date":1656362026,"creation_date":1656362026,"question_id":72777993,"body_markdown":"My Spring Boot service runs on server.name.com:8088 and I have purchased a certificate for server.name.com . I already installed the certificate on the server, the thing is, I don&#39;t know if I can use this certificate for my Spring Boot application. The CA has provided me with 3 .pem files - a root, intermediate and certificate for server.name.com . i am running Spring Boot with embedded Tomcat, so I&#39;m wondering how to configure SSL for it.","title":"Spring boot - SSL config embedded Tomcat","body":"<p>My Spring Boot service runs on server.name.com:8088 and I have purchased a certificate for server.name.com . I already installed the certificate on the server, the thing is, I don't know if I can use this certificate for my Spring Boot application. The CA has provided me with 3 .pem files - a root, intermediate and certificate for server.name.com . i am running Spring Boot with embedded Tomcat, so I'm wondering how to configure SSL for it.</p>\n"},{"tags":["java","android","sqlite","android-studio"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1656361102,"post_id":72777771,"comment_id":128548854,"body_markdown":"In your `onCreate` method `INTEGER` is spelled wrong. If your app is crashing you need to look at the logs from Logcat and include them in your question so people can help you with why it is crashing.","body":"In your <code>onCreate</code> method <code>INTEGER</code> is spelled wrong. If your app is crashing you need to look at the logs from Logcat and include them in your question so people can help you with why it is crashing."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1656361406,"post_id":72777771,"comment_id":128548944,"body_markdown":"Also you need to [properly log the exception](https://stackoverflow.com/a/4341391/636009) in your OnClickListener (and anywhere else you are catching exceptions) in order to get useful information from [Logcat](https://developer.android.com/studio/debug/am-logcat).","body":"Also you need to <a href=\"https://stackoverflow.com/a/4341391/636009\">properly log the exception</a> in your OnClickListener (and anywhere else you are catching exceptions) in order to get useful information from <a href=\"https://developer.android.com/studio/debug/am-logcat\" rel=\"nofollow noreferrer\">Logcat</a>."},{"owner":{"account_id":12548460,"reputation":13,"user_id":9130980,"display_name":"Abdulhadi Heib"},"score":1,"creation_date":1656362341,"post_id":72777771,"comment_id":128549168,"body_markdown":"@DavidConrad you solved me problem it was just typo problem \nI am going to write INTEGER 100-times to practices writing it :)","body":"@DavidConrad you solved me problem it was just typo problem  I am going to write INTEGER 100-times to practices writing it :)"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1656362790,"post_id":72777771,"comment_id":128549281,"body_markdown":"I&#39;m glad I was able to help. Remember to always double check everything, even when you feel sure you got it right. That&#39;s the hardest time to see that you typed it wrong.","body":"I&#39;m glad I was able to help. Remember to always double check everything, even when you feel sure you got it right. That&#39;s the hardest time to see that you typed it wrong."}],"owner":{"account_id":12548460,"reputation":13,"user_id":9130980,"display_name":"Abdulhadi Heib"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656360755,"creation_date":1656360462,"question_id":72777771,"body_markdown":"I&#39;m have problem with adding a data to data base \r\nthe edit text that I insert the data from is in second activity when I press add the app goes tosecond activity and when i try again the app crush.\r\n\r\nHELP PLEASE!!! \r\n\r\nthis on sql data Healper class \r\n\r\n``` \r\n\r\npublic void onCreate(SQLiteDatabase db) {\r\n        String createTableStatement = &quot;CREATE TABLE &quot; + OPERATION_TABLE + &quot; (&quot;+&quot; ID INTGER PRIMARY KEY AUTOINCREMENT, &quot; + COLUMN_OPERATION_NAME + &quot; TEXT, &quot; + COLUMN_OPERATION_AMOUNT + &quot; TEXT, &quot; + COLUMN_OPERATION_DESCRIPTION + &quot; TEXT, &quot; + COLUMN_OPERATION_IS_INCOME + &quot; BOOL, &quot; + COLUMN_DATE + &quot;  TEXT )&quot;;\r\n\r\n        db.execSQL(createTableStatement);\r\n    }\r\n```\r\nthis a click listener in the activate: \r\n```\r\naddButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Operation operation;\r\n                try {\r\n                    operation = new Operation(-1, nameOfOperation.getText().toString(), amount.getText().toString(), description.getText().toString(), income.isChecked(), dateOfOperation.getText().toString());\r\n                    editTextClean();\r\n                    Toast.makeText(InsertActivity.this, &quot;the operation is saved &quot; + operation.toString(), Toast.LENGTH_SHORT).show();\r\n                }catch (Exception e){\r\n                    Toast.makeText(InsertActivity.this, &quot;Error creating customer&quot; , Toast.LENGTH_SHORT).show();\r\n                    operation = new Operation(-1,&quot;error&quot;, &quot;error&quot;, &quot;eror&quot;, true, &quot;date error&quot;);\r\n\r\n\r\n                }\r\n\r\n\r\n\r\n                DataBaseHelper dataBaseHelper = new DataBaseHelper(InsertActivity.this);\r\n                boolean success =dataBaseHelper.addOne(operation);\r\n                Toast.makeText(InsertActivity.this, &quot;Success= &quot;+success, Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n```\r\nand this the add method\r\n```\r\npublic boolean addOne(Operation operation){\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues cv =new ContentValues();\r\n\r\n        cv.put(COLUMN_OPERATION_NAME,operation.getName());\r\n        cv.put(COLUMN_DATE,operation.getDate());\r\n        cv.put(COLUMN_OPERATION_AMOUNT,operation.getAmount());\r\n        cv.put(COLUMN_OPERATION_DESCRIPTION,operation.getDescription());\r\n        cv.put(COLUMN_OPERATION_IS_INCOME,operation.isIncome());\r\n\r\n        long insert = db.insert(OPERATION_TABLE, null, cv);\r\n\r\n        if(insert ==-1){\r\n            return false;\r\n        }else {\r\n            return true;\r\n        }\r\n    }\r\n```","title":"AUTOINCREMENT is only allowed on an INTEGER PRIMARY KEY in &quot;CREATE TABLE OPERATION_TABLE","body":"<p>I'm have problem with adding a data to data base\nthe edit text that I insert the data from is in second activity when I press add the app goes tosecond activity and when i try again the app crush.</p>\n<p>HELP PLEASE!!!</p>\n<p>this on sql data Healper class</p>\n<pre><code>\npublic void onCreate(SQLiteDatabase db) {\n        String createTableStatement = &quot;CREATE TABLE &quot; + OPERATION_TABLE + &quot; (&quot;+&quot; ID INTGER PRIMARY KEY AUTOINCREMENT, &quot; + COLUMN_OPERATION_NAME + &quot; TEXT, &quot; + COLUMN_OPERATION_AMOUNT + &quot; TEXT, &quot; + COLUMN_OPERATION_DESCRIPTION + &quot; TEXT, &quot; + COLUMN_OPERATION_IS_INCOME + &quot; BOOL, &quot; + COLUMN_DATE + &quot;  TEXT )&quot;;\n\n        db.execSQL(createTableStatement);\n    }\n</code></pre>\n<p>this a click listener in the activate:</p>\n<pre><code>addButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Operation operation;\n                try {\n                    operation = new Operation(-1, nameOfOperation.getText().toString(), amount.getText().toString(), description.getText().toString(), income.isChecked(), dateOfOperation.getText().toString());\n                    editTextClean();\n                    Toast.makeText(InsertActivity.this, &quot;the operation is saved &quot; + operation.toString(), Toast.LENGTH_SHORT).show();\n                }catch (Exception e){\n                    Toast.makeText(InsertActivity.this, &quot;Error creating customer&quot; , Toast.LENGTH_SHORT).show();\n                    operation = new Operation(-1,&quot;error&quot;, &quot;error&quot;, &quot;eror&quot;, true, &quot;date error&quot;);\n\n\n                }\n\n\n\n                DataBaseHelper dataBaseHelper = new DataBaseHelper(InsertActivity.this);\n                boolean success =dataBaseHelper.addOne(operation);\n                Toast.makeText(InsertActivity.this, &quot;Success= &quot;+success, Toast.LENGTH_LONG).show();\n            }\n        });\n</code></pre>\n<p>and this the add method</p>\n<pre><code>public boolean addOne(Operation operation){\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues cv =new ContentValues();\n\n        cv.put(COLUMN_OPERATION_NAME,operation.getName());\n        cv.put(COLUMN_DATE,operation.getDate());\n        cv.put(COLUMN_OPERATION_AMOUNT,operation.getAmount());\n        cv.put(COLUMN_OPERATION_DESCRIPTION,operation.getDescription());\n        cv.put(COLUMN_OPERATION_IS_INCOME,operation.isIncome());\n\n        long insert = db.insert(OPERATION_TABLE, null, cv);\n\n        if(insert ==-1){\n            return false;\n        }else {\n            return true;\n        }\n    }\n</code></pre>\n"},{"tags":["java","rx-java","reactive-programming","reactivex"],"answers":[{"tags":[],"owner":{"account_id":8025150,"reputation":3053,"user_id":6052442,"display_name":"JohnWowUs"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1479807497,"creation_date":1479807497,"answer_id":40738307,"question_id":40737955,"body_markdown":"You can try the [&#39;scan&#39;](http://rxmarbles.com/#scan) operator.","title":"Aggregate all emited streams and emit them inmidiatly with rxJava","body":"<p>You can try the <a href=\"http://rxmarbles.com/#scan\" rel=\"noreferrer\">'scan'</a> operator.</p>\n"},{"tags":[],"owner":{"account_id":9297839,"reputation":1938,"user_id":6904265,"display_name":"user6904265"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479813053,"creation_date":1479809834,"answer_id":40739185,"question_id":40737955,"body_markdown":"**Java 8**\r\n\r\nYou could get a Stream of String[] in this way:\r\n\r\n      List&lt;String&gt; array = Arrays.asList(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;);\r\n      String[] st ={&quot;&quot;};\r\n      Stream&lt;String[]&gt; stream  = array.stream().map(x -&gt; (st[0]+=x).split(&quot;\\\\B&quot;));\r\n      //print it\r\n      stream.forEach(s -&gt; System.out.println(Arrays.toString(s)));\r\n\r\n**RX JAVA** (expanding JohnWowUs&#39;s answer)\r\n\r\n\t List&lt;String&gt; array = Arrays.asList(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;);\r\n\t Func2&lt;String,String,String&gt; function = new Func2&lt;String,String,String&gt;(){\r\n\t\t@Override\r\n\t\tpublic String call(String paramT1, String paramT2) {\r\n\t\t\treturn paramT1 + paramT2;\r\n\t\t}\r\n\t };\r\n\t Observable&lt;String&gt; scan = Observable.from(array).scan(function);\r\n\t scan.forEach(x-&gt; System.out.println(x));","title":"Aggregate all emited streams and emit them inmidiatly with rxJava","body":"<p><strong>Java 8</strong></p>\n\n<p>You could get a Stream of String[] in this way:</p>\n\n<pre><code>  List&lt;String&gt; array = Arrays.asList(\"A\",\"B\",\"C\",\"D\");\n  String[] st ={\"\"};\n  Stream&lt;String[]&gt; stream  = array.stream().map(x -&gt; (st[0]+=x).split(\"\\\\B\"));\n  //print it\n  stream.forEach(s -&gt; System.out.println(Arrays.toString(s)));\n</code></pre>\n\n<p><strong>RX JAVA</strong> (expanding JohnWowUs's answer)</p>\n\n<pre><code> List&lt;String&gt; array = Arrays.asList(\"A\",\"B\",\"C\",\"D\");\n Func2&lt;String,String,String&gt; function = new Func2&lt;String,String,String&gt;(){\n    @Override\n    public String call(String paramT1, String paramT2) {\n        return paramT1 + paramT2;\n    }\n };\n Observable&lt;String&gt; scan = Observable.from(array).scan(function);\n scan.forEach(x-&gt; System.out.println(x));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15459711,"reputation":1631,"user_id":11152683,"display_name":"Lubo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656360693,"creation_date":1656360693,"answer_id":72777806,"question_id":40737955,"body_markdown":"Flux (project reactor) version:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) throws InterruptedException {\r\n            final Flux&lt;Double&gt; randomChange = Flux.interval(Duration.ofMillis(75))\r\n                    .map(i -&gt; Math.random() - 0.5);\r\n    \r\n            final Flux&lt;Double&gt; stockCurrentValue = randomChange.scan(100.0, (x, y) -&gt; x + y);\r\n    \r\n            stockCurrentValue\r\n                    .takeWhile(stockValue -&gt; stockValue &gt; 90 &amp;&amp; stockValue &lt; 110)\r\n                    .subscribe(x -&gt; System.out.println(x));\r\n    \r\n            Thread.sleep(100000);\r\n        }\r\n    }","title":"Aggregate all emited streams and emit them inmidiatly with rxJava","body":"<p>Flux (project reactor) version:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws InterruptedException {\n        final Flux&lt;Double&gt; randomChange = Flux.interval(Duration.ofMillis(75))\n                .map(i -&gt; Math.random() - 0.5);\n\n        final Flux&lt;Double&gt; stockCurrentValue = randomChange.scan(100.0, (x, y) -&gt; x + y);\n\n        stockCurrentValue\n                .takeWhile(stockValue -&gt; stockValue &gt; 90 &amp;&amp; stockValue &lt; 110)\n                .subscribe(x -&gt; System.out.println(x));\n\n        Thread.sleep(100000);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":448477,"reputation":5867,"user_id":842697,"accept_rate":75,"display_name":"Brais Gabin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":40738307,"answer_count":3,"score":3,"last_activity_date":1656360693,"creation_date":1479806475,"question_id":40737955,"body_markdown":"I have a stream that emit pages of data `A, B, C, D...`. Which operator can I use to get a stream like this: `[A], [A, B], [A, B, C], [A, B, C, D]...`?\r\n\r\nI know `collect` or `toList` but they only emit once at the end of the stream.","title":"Aggregate all emited streams and emit them inmidiatly with rxJava","body":"<p>I have a stream that emit pages of data <code>A, B, C, D...</code>. Which operator can I use to get a stream like this: <code>[A], [A, B], [A, B, C], [A, B, C, D]...</code>?</p>\n\n<p>I know <code>collect</code> or <code>toList</code> but they only emit once at the end of the stream.</p>\n"},{"tags":["java","jboss","wildfly","jndi","wildfly-8"],"answers":[{"tags":[],"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656178873,"creation_date":1656178873,"answer_id":72756048,"question_id":72746187,"body_markdown":"JNP is the old JNDI implementation, you need to update your jndi.properties.\r\nI think that for WildFly 8 it is :\r\nfinal Properties env = new Properties();\r\nenv.put(Context.INITIAL_CONTEXT_FACTORY, org.jboss.naming.remote.client.InitialContextFactory.class.getName());\r\nenv.put(Context.PROVIDER_URL, &quot;remote://localhost:4447&quot;);\r\nremoteContext = new InitialContext(env);","title":"Migrate from Jboss 4.2.3 to Wildfly 8","body":"<p>JNP is the old JNDI implementation, you need to update your jndi.properties.\nI think that for WildFly 8 it is :\nfinal Properties env = new Properties();\nenv.put(Context.INITIAL_CONTEXT_FACTORY, org.jboss.naming.remote.client.InitialContextFactory.class.getName());\nenv.put(Context.PROVIDER_URL, &quot;remote://localhost:4447&quot;);\nremoteContext = new InitialContext(env);</p>\n"},{"tags":[],"owner":{"account_id":2504971,"reputation":134,"user_id":2178964,"accept_rate":43,"display_name":"user2178964"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656360374,"creation_date":1656360374,"answer_id":72777761,"question_id":72746187,"body_markdown":"In addition to ehsavoie answer, I needed to trick a few things to make it works.\r\n\r\nI follow the tutorial here : \r\n\r\nhttps://docs.jboss.org/author/display/WFLY10/EJB%20invocations%20from%20a%20remote%20client%20using%20JNDI.html\r\n\r\nAnd here : \r\n\r\nhttps://docs.jboss.org/author/display/WFLY10/Remote%20JNDI%20Reference%20Update%20Draft.html\r\n\r\nIn fact, in my case, I don&#39;t need http remoting mode, just a simple EJB mode, so no complex parameters to put in JNDI.properties.\r\n\r\nI delete my jndi.properties file, and just update the code to : \r\n\r\n    final Hashtable jndiProperties = new Hashtable();\r\n    jndiProperties.put(Context.URL_PKG_PREFIXES, &quot;org.jboss.ejb.client.naming&quot;);\r\n    final Context context = new InitialContext(jndiProperties);\r\n    return (ServiceArchiveEntryPoint) context.lookup(&quot;ejb:BIServeurMetier/BIServeurMetier//ServiceArchiveEntryPointBean!com.al6.bi.business.ServiceArchiveEntryPoint&quot;);\r\n\r\nIn my first tries before that code, it doesn&#39;t work.\r\nI think it was because I don&#39;t put the correct path.\r\nThe rule seems to be : \r\n\r\n    context.lookup(&quot;ejb:&quot; + appName + &quot;/&quot; + moduleName + &quot;/&quot; + distinctName + &quot;/&quot; + beanName + &quot;!&quot; + viewClassName);\r\n\r\nBefore that, I don&#39;t put a &quot;distinctName&quot;, but it seems that if we don&#39;t have one, just put a empty string, so it gives in my case &quot;//&quot;.\r\n\r\nMaybe it was that, maybe it was the &quot;ejb:&quot; prefix, I don&#39;t know which change make it works, but it works now.","title":"Migrate from Jboss 4.2.3 to Wildfly 8","body":"<p>In addition to ehsavoie answer, I needed to trick a few things to make it works.</p>\n<p>I follow the tutorial here :</p>\n<p><a href=\"https://docs.jboss.org/author/display/WFLY10/EJB%20invocations%20from%20a%20remote%20client%20using%20JNDI.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/author/display/WFLY10/EJB%20invocations%20from%20a%20remote%20client%20using%20JNDI.html</a></p>\n<p>And here :</p>\n<p><a href=\"https://docs.jboss.org/author/display/WFLY10/Remote%20JNDI%20Reference%20Update%20Draft.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/author/display/WFLY10/Remote%20JNDI%20Reference%20Update%20Draft.html</a></p>\n<p>In fact, in my case, I don't need http remoting mode, just a simple EJB mode, so no complex parameters to put in JNDI.properties.</p>\n<p>I delete my jndi.properties file, and just update the code to :</p>\n<pre><code>final Hashtable jndiProperties = new Hashtable();\njndiProperties.put(Context.URL_PKG_PREFIXES, &quot;org.jboss.ejb.client.naming&quot;);\nfinal Context context = new InitialContext(jndiProperties);\nreturn (ServiceArchiveEntryPoint) context.lookup(&quot;ejb:BIServeurMetier/BIServeurMetier//ServiceArchiveEntryPointBean!com.al6.bi.business.ServiceArchiveEntryPoint&quot;);\n</code></pre>\n<p>In my first tries before that code, it doesn't work.\nI think it was because I don't put the correct path.\nThe rule seems to be :</p>\n<pre><code>context.lookup(&quot;ejb:&quot; + appName + &quot;/&quot; + moduleName + &quot;/&quot; + distinctName + &quot;/&quot; + beanName + &quot;!&quot; + viewClassName);\n</code></pre>\n<p>Before that, I don't put a &quot;distinctName&quot;, but it seems that if we don't have one, just put a empty string, so it gives in my case &quot;//&quot;.</p>\n<p>Maybe it was that, maybe it was the &quot;ejb:&quot; prefix, I don't know which change make it works, but it works now.</p>\n"}],"owner":{"account_id":2504971,"reputation":134,"user_id":2178964,"accept_rate":43,"display_name":"user2178964"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72777761,"answer_count":2,"score":0,"last_activity_date":1656360374,"creation_date":1656084000,"question_id":72746187,"body_markdown":"I&#39;m trying to migrate a very old java application from Jboss 4.2.3 to Wildfly 8.\r\nI just installed the Wildfly server and the minimal config things.\r\n\r\nIn my App, my JNDI.properties file was : \r\n\r\n    java.naming.factory.initial=org.jnp.interfaces.NamingContextFactory\r\n    java.naming.factory.url.pkgs=org.jboss.naming:org.jnp.interfaces\r\n    java.naming.provider.url=localhost:1099\r\n\r\nSo I updated it to simply : \r\n\r\n    java.naming.factory.url.pkgs=org.jboss.ejb.client.naming\r\n\r\nThe code which call the EJB was : \r\n\r\n    Properties ht = new Properties();\r\n    ht.load(BIServicesImpl.class.getClassLoader().getResourceAsStream(&quot;jndi.properties&quot;));\r\n    Context context = new InitialContext(ht);\r\n    return (ServiceEntryPoint) context.lookup(&quot;BIServeurMetier/ServiceEntryPointBean/remote&quot;);\r\n\r\nThe JNDI path have changed in Wildfly 8 so I used : \r\n\r\n    Properties ht = new Properties();\r\n    ht.load(BIServicesImpl.class.getClassLoader().getResourceAsStream(&quot;jndi.properties&quot;));\r\n    Context context = new InitialContext(ht);\r\n    return (ServiceEntryPoint) context.lookup(&quot;BIServeurMetier/BIServeurMetier/ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint&quot;); \r\n\r\nI deploy my application war into it, and start it, it runs pretty well  : \r\n\r\n    2022-06-27 16:21:00,773 INFO  [org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor] (MSC service thread 1-3) JNDI bindings for session bean named ServiceEntryPointBean in deployment unit subdeployment &quot;BIServeurMetier.jar&quot; of deployment &quot;BIServeurMetier.ear&quot; are as follows:\r\n    \r\n    \tjava:global/BIServeurMetier/BIServeurMetier/ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint\r\n    \tjava:app/BIServeurMetier/ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint\r\n    \tjava:module/ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint\r\n    \tjava:jboss/exported/BIServeurMetier/BIServeurMetier/ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint\r\n    \tjava:global/BIServeurMetier/BIServeurMetier/ServiceEntryPointBean\r\n    \tjava:app/BIServeurMetier/ServiceEntryPointBean\r\n    \tjava:module/ServiceEntryPointBean\r\n\r\nSo the EJB seams to be fine and deployed.\r\nBut when I try to do any action on the app, I have this error : \r\n\r\n    2022-06-27 16:21:41,536 ERROR [stderr] (default task-25) javax.naming.NameNotFoundException: BIServeurMetier/BIServeurMetier/ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint -- service jboss.naming.context.java.BIServeurMetier.BIServeurMetier.&quot;ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint&quot;\r\n    2022-06-27 16:21:41,537 ERROR [stderr] (default task-25) \tat org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:104)\r\n    2022-06-27 16:21:41,537 ERROR [stderr] (default task-25) \tat org.jboss.as.naming.NamingContext.lookup(NamingContext.java:202)\r\n    2022-06-27 16:21:41,537 ERROR [stderr] (default task-25) \tat org.jboss.as.naming.InitialContext$DefaultInitialContext.lookup(InitialContext.java:233)\r\n    2022-06-27 16:21:41,537 ERROR [stderr] (default task-25) \tat org.jboss.as.naming.NamingContext.lookup(NamingContext.java:188)\r\n    2022-06-27 16:21:41,537 ERROR [stderr] (default task-25) \tat org.jboss.as.naming.NamingContext.lookup(NamingContext.java:184)\r\n    2022-06-27 16:21:41,538 ERROR [stderr] (default task-25) \tat javax.naming.InitialContext.lookup(InitialContext.java:417)\r\n    2022-06-27 16:21:41,538 ERROR [stderr] (default task-25) \tat javax.naming.InitialContext.lookup(InitialContext.java:417)\r\n    2022-06-27 16:21:41,539 ERROR [stderr] (default task-25) \tat com.al6.bi.gwt.server.BIServicesImpl.buildBusinessServices(BIServicesImpl.java:227)\r\n    2022-06-27 16:21:41,539 ERROR [stderr] (default task-25) \tat com.al6.bi.gwt.server.BIServicesImpl.&lt;init&gt;(BIServicesImpl.java:213)\r\n    2022-06-27 16:21:41,539 ERROR [stderr] (default task-25) \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    2022-06-27 16:21:41,539 ERROR [stderr] (default task-25) \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    2022-06-27 16:21:41,540 ERROR [stderr] (default task-25) \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    2022-06-27 16:21:41,540 ERROR [stderr] (default task-25) \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    2022-06-27 16:21:41,541 ERROR [stderr] (default task-25) \tat org.jboss.as.ee.component.ConstructorComponentFactory.create(ConstructorComponentFactory.java:24)\r\n    2022-06-27 16:21:41,541 ERROR [stderr] (default task-25) \tat org.jboss.as.ee.component.ComponentInstantiatorInterceptor.processInvocation(ComponentInstantiatorInterceptor.java:68)\r\n    2022-06-27 16:21:41,541 ERROR [stderr] (default task-25) \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)\r\n    2022-06-27 16:21:41,542 ERROR [stderr] (default task-25) \tat org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53)\r\n    2022-06-27 16:21:41,542 ERROR [stderr] (default task-25) \tat org.jboss.as.ee.component.AroundConstructInterceptorFactory$1.processInvocation(AroundConstructInterceptorFactory.java:26)\r\n    2022-06-27 16:21:41,543 ERROR [stderr] (default task-25) \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)\r\n    2022-06-27 16:21:41,543 ERROR [stderr] (default task-25) \tat org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)\r\n    2022-06-27 16:21:41,544 ERROR [stderr] (default task-25) \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)\r\n    2022-06-27 16:21:41,544 ERROR [stderr] (default task-25) \tat org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)\r\n    2022-06-27 16:21:41,544 ERROR [stderr] (default task-25) \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)\r\n    2022-06-27 16:21:41,544 ERROR [stderr] (default task-25) \tat org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:326)\r\n    2022-06-27 16:21:41,545 ERROR [stderr] (default task-25) \tat org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)\r\n    2022-06-27 16:21:41,545 ERROR [stderr] (default task-25) \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)\r\n    2022-06-27 16:21:41,545 ERROR [stderr] (default task-25) \tat org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)\r\n    2022-06-27 16:21:41,545 ERROR [stderr] (default task-25) \tat org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:160)\r\n    2022-06-27 16:21:41,547 ERROR [stderr] (default task-25) \tat org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:133)\r\n    2022-06-27 16:21:41,547 ERROR [stderr] (default task-25) \tat org.jboss.as.ee.component.BasicComponent.createInstance(BasicComponent.java:89)\r\n    2022-06-27 16:21:41,547 ERROR [stderr] (default task-25) \tat org.jboss.as.ee.component.ComponentRegistry$ComponentManagedReferenceFactory.getReference(ComponentRegistry.java:149)\r\n    2022-06-27 16:21:41,547 ERROR [stderr] (default task-25) \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$5.createInstance(UndertowDeploymentInfoService.java:1233)\r\n    2022-06-27 16:21:41,548 ERROR [stderr] (default task-25) \tat io.undertow.servlet.core.ManagedServlet$DefaultInstanceStrategy.start(ManagedServlet.java:215)\r\n    2022-06-27 16:21:41,548 ERROR [stderr] (default task-25) \tat io.undertow.servlet.core.ManagedServlet.getServlet(ManagedServlet.java:163)\r\n    2022-06-27 16:21:41,548 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)\r\n    2022-06-27 16:21:41,548 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130)\r\n    2022-06-27 16:21:41,549 ERROR [stderr] (default task-25) \tat com.al6.bi.gwt.server.security.BasicSessionFilter.doFilter(BasicSessionFilter.java:60)\r\n    2022-06-27 16:21:41,549 ERROR [stderr] (default task-25) \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\r\n    2022-06-27 16:21:41,549 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\r\n    2022-06-27 16:21:41,549 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85)\r\n    2022-06-27 16:21:41,549 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n    2022-06-27 16:21:41,550 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n    2022-06-27 16:21:41,550 ERROR [stderr] (default task-25) \tat org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\r\n    2022-06-27 16:21:41,550 ERROR [stderr] (default task-25) \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    2022-06-27 16:21:41,550 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)\r\n    2022-06-27 16:21:41,551 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n    2022-06-27 16:21:41,551 ERROR [stderr] (default task-25) \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    2022-06-27 16:21:41,551 ERROR [stderr] (default task-25) \tat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n    2022-06-27 16:21:41,551 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n    2022-06-27 16:21:41,551 ERROR [stderr] (default task-25) \tat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58)\r\n    2022-06-27 16:21:41,552 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70)\r\n    2022-06-27 16:21:41,553 ERROR [stderr] (default task-25) \tat io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76)\r\n    2022-06-27 16:21:41,553 ERROR [stderr] (default task-25) \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    2022-06-27 16:21:41,554 ERROR [stderr] (default task-25) \tat org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n    2022-06-27 16:21:41,556 ERROR [stderr] (default task-25) \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    2022-06-27 16:21:41,557 ERROR [stderr] (default task-25) \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    2022-06-27 16:21:41,559 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:261)\r\n    2022-06-27 16:21:41,559 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:248)\r\n    2022-06-27 16:21:41,564 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:77)\r\n    2022-06-27 16:21:41,565 ERROR [stderr] (default task-25) \tat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:167)\r\n    2022-06-27 16:21:41,565 ERROR [stderr] (default task-25) \tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:199)\r\n    2022-06-27 16:21:41,565 ERROR [stderr] (default task-25) \tat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:761)\r\n    2022-06-27 16:21:41,565 ERROR [stderr] (default task-25) \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    2022-06-27 16:21:41,566 ERROR [stderr] (default task-25) \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    2022-06-27 16:21:41,566 ERROR [stderr] (default task-25) \tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\nThe path of EJB seems to be good because it is displayed at the beginning of the server log when the server starts.\r\nSo what I&#39;m doing wrong ?\r\n\r\nI also check via the management console in JNDI, my EJB are here and listed.","title":"Migrate from Jboss 4.2.3 to Wildfly 8","body":"<p>I'm trying to migrate a very old java application from Jboss 4.2.3 to Wildfly 8.\nI just installed the Wildfly server and the minimal config things.</p>\n<p>In my App, my JNDI.properties file was :</p>\n<pre><code>java.naming.factory.initial=org.jnp.interfaces.NamingContextFactory\njava.naming.factory.url.pkgs=org.jboss.naming:org.jnp.interfaces\njava.naming.provider.url=localhost:1099\n</code></pre>\n<p>So I updated it to simply :</p>\n<pre><code>java.naming.factory.url.pkgs=org.jboss.ejb.client.naming\n</code></pre>\n<p>The code which call the EJB was :</p>\n<pre><code>Properties ht = new Properties();\nht.load(BIServicesImpl.class.getClassLoader().getResourceAsStream(&quot;jndi.properties&quot;));\nContext context = new InitialContext(ht);\nreturn (ServiceEntryPoint) context.lookup(&quot;BIServeurMetier/ServiceEntryPointBean/remote&quot;);\n</code></pre>\n<p>The JNDI path have changed in Wildfly 8 so I used :</p>\n<pre><code>Properties ht = new Properties();\nht.load(BIServicesImpl.class.getClassLoader().getResourceAsStream(&quot;jndi.properties&quot;));\nContext context = new InitialContext(ht);\nreturn (ServiceEntryPoint) context.lookup(&quot;BIServeurMetier/BIServeurMetier/ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint&quot;); \n</code></pre>\n<p>I deploy my application war into it, and start it, it runs pretty well  :</p>\n<pre><code>2022-06-27 16:21:00,773 INFO  [org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor] (MSC service thread 1-3) JNDI bindings for session bean named ServiceEntryPointBean in deployment unit subdeployment &quot;BIServeurMetier.jar&quot; of deployment &quot;BIServeurMetier.ear&quot; are as follows:\n\n    java:global/BIServeurMetier/BIServeurMetier/ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint\n    java:app/BIServeurMetier/ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint\n    java:module/ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint\n    java:jboss/exported/BIServeurMetier/BIServeurMetier/ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint\n    java:global/BIServeurMetier/BIServeurMetier/ServiceEntryPointBean\n    java:app/BIServeurMetier/ServiceEntryPointBean\n    java:module/ServiceEntryPointBean\n</code></pre>\n<p>So the EJB seams to be fine and deployed.\nBut when I try to do any action on the app, I have this error :</p>\n<pre><code>2022-06-27 16:21:41,536 ERROR [stderr] (default task-25) javax.naming.NameNotFoundException: BIServeurMetier/BIServeurMetier/ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint -- service jboss.naming.context.java.BIServeurMetier.BIServeurMetier.&quot;ServiceEntryPointBean!com.al6.bi.business.ServiceEntryPoint&quot;\n2022-06-27 16:21:41,537 ERROR [stderr] (default task-25)    at org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:104)\n2022-06-27 16:21:41,537 ERROR [stderr] (default task-25)    at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:202)\n2022-06-27 16:21:41,537 ERROR [stderr] (default task-25)    at org.jboss.as.naming.InitialContext$DefaultInitialContext.lookup(InitialContext.java:233)\n2022-06-27 16:21:41,537 ERROR [stderr] (default task-25)    at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:188)\n2022-06-27 16:21:41,537 ERROR [stderr] (default task-25)    at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:184)\n2022-06-27 16:21:41,538 ERROR [stderr] (default task-25)    at javax.naming.InitialContext.lookup(InitialContext.java:417)\n2022-06-27 16:21:41,538 ERROR [stderr] (default task-25)    at javax.naming.InitialContext.lookup(InitialContext.java:417)\n2022-06-27 16:21:41,539 ERROR [stderr] (default task-25)    at com.al6.bi.gwt.server.BIServicesImpl.buildBusinessServices(BIServicesImpl.java:227)\n2022-06-27 16:21:41,539 ERROR [stderr] (default task-25)    at com.al6.bi.gwt.server.BIServicesImpl.&lt;init&gt;(BIServicesImpl.java:213)\n2022-06-27 16:21:41,539 ERROR [stderr] (default task-25)    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n2022-06-27 16:21:41,539 ERROR [stderr] (default task-25)    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n2022-06-27 16:21:41,540 ERROR [stderr] (default task-25)    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n2022-06-27 16:21:41,540 ERROR [stderr] (default task-25)    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n2022-06-27 16:21:41,541 ERROR [stderr] (default task-25)    at org.jboss.as.ee.component.ConstructorComponentFactory.create(ConstructorComponentFactory.java:24)\n2022-06-27 16:21:41,541 ERROR [stderr] (default task-25)    at org.jboss.as.ee.component.ComponentInstantiatorInterceptor.processInvocation(ComponentInstantiatorInterceptor.java:68)\n2022-06-27 16:21:41,541 ERROR [stderr] (default task-25)    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)\n2022-06-27 16:21:41,542 ERROR [stderr] (default task-25)    at org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53)\n2022-06-27 16:21:41,542 ERROR [stderr] (default task-25)    at org.jboss.as.ee.component.AroundConstructInterceptorFactory$1.processInvocation(AroundConstructInterceptorFactory.java:26)\n2022-06-27 16:21:41,543 ERROR [stderr] (default task-25)    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)\n2022-06-27 16:21:41,543 ERROR [stderr] (default task-25)    at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)\n2022-06-27 16:21:41,544 ERROR [stderr] (default task-25)    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)\n2022-06-27 16:21:41,544 ERROR [stderr] (default task-25)    at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)\n2022-06-27 16:21:41,544 ERROR [stderr] (default task-25)    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)\n2022-06-27 16:21:41,544 ERROR [stderr] (default task-25)    at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:326)\n2022-06-27 16:21:41,545 ERROR [stderr] (default task-25)    at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)\n2022-06-27 16:21:41,545 ERROR [stderr] (default task-25)    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)\n2022-06-27 16:21:41,545 ERROR [stderr] (default task-25)    at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)\n2022-06-27 16:21:41,545 ERROR [stderr] (default task-25)    at org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:160)\n2022-06-27 16:21:41,547 ERROR [stderr] (default task-25)    at org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:133)\n2022-06-27 16:21:41,547 ERROR [stderr] (default task-25)    at org.jboss.as.ee.component.BasicComponent.createInstance(BasicComponent.java:89)\n2022-06-27 16:21:41,547 ERROR [stderr] (default task-25)    at org.jboss.as.ee.component.ComponentRegistry$ComponentManagedReferenceFactory.getReference(ComponentRegistry.java:149)\n2022-06-27 16:21:41,547 ERROR [stderr] (default task-25)    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$5.createInstance(UndertowDeploymentInfoService.java:1233)\n2022-06-27 16:21:41,548 ERROR [stderr] (default task-25)    at io.undertow.servlet.core.ManagedServlet$DefaultInstanceStrategy.start(ManagedServlet.java:215)\n2022-06-27 16:21:41,548 ERROR [stderr] (default task-25)    at io.undertow.servlet.core.ManagedServlet.getServlet(ManagedServlet.java:163)\n2022-06-27 16:21:41,548 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)\n2022-06-27 16:21:41,548 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130)\n2022-06-27 16:21:41,549 ERROR [stderr] (default task-25)    at com.al6.bi.gwt.server.security.BasicSessionFilter.doFilter(BasicSessionFilter.java:60)\n2022-06-27 16:21:41,549 ERROR [stderr] (default task-25)    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\n2022-06-27 16:21:41,549 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\n2022-06-27 16:21:41,549 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85)\n2022-06-27 16:21:41,549 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n2022-06-27 16:21:41,550 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n2022-06-27 16:21:41,550 ERROR [stderr] (default task-25)    at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\n2022-06-27 16:21:41,550 ERROR [stderr] (default task-25)    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n2022-06-27 16:21:41,550 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)\n2022-06-27 16:21:41,551 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n2022-06-27 16:21:41,551 ERROR [stderr] (default task-25)    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n2022-06-27 16:21:41,551 ERROR [stderr] (default task-25)    at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n2022-06-27 16:21:41,551 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n2022-06-27 16:21:41,551 ERROR [stderr] (default task-25)    at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58)\n2022-06-27 16:21:41,552 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70)\n2022-06-27 16:21:41,553 ERROR [stderr] (default task-25)    at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76)\n2022-06-27 16:21:41,553 ERROR [stderr] (default task-25)    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n2022-06-27 16:21:41,554 ERROR [stderr] (default task-25)    at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\n2022-06-27 16:21:41,556 ERROR [stderr] (default task-25)    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n2022-06-27 16:21:41,557 ERROR [stderr] (default task-25)    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n2022-06-27 16:21:41,559 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:261)\n2022-06-27 16:21:41,559 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:248)\n2022-06-27 16:21:41,564 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:77)\n2022-06-27 16:21:41,565 ERROR [stderr] (default task-25)    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:167)\n2022-06-27 16:21:41,565 ERROR [stderr] (default task-25)    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:199)\n2022-06-27 16:21:41,565 ERROR [stderr] (default task-25)    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:761)\n2022-06-27 16:21:41,565 ERROR [stderr] (default task-25)    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n2022-06-27 16:21:41,566 ERROR [stderr] (default task-25)    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n2022-06-27 16:21:41,566 ERROR [stderr] (default task-25)    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>The path of EJB seems to be good because it is displayed at the beginning of the server log when the server starts.\nSo what I'm doing wrong ?</p>\n<p>I also check via the management console in JNDI, my EJB are here and listed.</p>\n"},{"tags":["java","security","java-8","ejb","fortify"],"answers":[{"tags":[],"owner":{"account_id":10944927,"reputation":491,"user_id":8043392,"display_name":"Shivaji Pote"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656359760,"creation_date":1656359760,"answer_id":72777657,"question_id":72777362,"body_markdown":"Do you expect all fields to be present in request? You are using `@Valid` annotation but there are no validation annotations in `MyClassRequest` model. Try to add some validation annotations like `@JsonIgnore` for non mandatory fields. Or `@JsonInclude` on class. If this does not help, may be also try explicitly adding `@JsonProperty` on each field.","title":"Mass Assignment: Insecure Binder Configuration with Fortify Java 1.8 EJB","body":"<p>Do you expect all fields to be present in request? You are using <code>@Valid</code> annotation but there are no validation annotations in <code>MyClassRequest</code> model. Try to add some validation annotations like <code>@JsonIgnore</code> for non mandatory fields. Or <code>@JsonInclude</code> on class. If this does not help, may be also try explicitly adding <code>@JsonProperty</code> on each field.</p>\n"}],"owner":{"account_id":1417305,"reputation":747,"user_id":1342664,"accept_rate":67,"display_name":"EliasM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1773,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72777657,"answer_count":1,"score":-1,"last_activity_date":1656359760,"creation_date":1656357754,"question_id":72777362,"body_markdown":"I am trying to solve some vulnerabilities issues, and I have one that I couldn&#39;t solve it, I tried to add @Valid annotation in sync method but same error, this is the description from fortify:\r\n\r\n&gt; The framework binder used for binding the HTTP request parameters to\r\n&gt; the model class has not been explicitly configured to allow, or\r\n&gt; disallow certain attributes.\r\n&gt; \r\n&gt; To ease development and increase productivity, most modern frameworks\r\n&gt; allow an object to be automatically instantiated and populated with\r\n&gt; the HTTP request parameters whose names match an attribute of the\r\n&gt; class to be bound. Automatic instantiation and population of objects\r\n&gt; speeds up development, but can lead to serious problems if implemented\r\n&gt; without caution. Any attribute in the bound classes, or nested\r\n&gt; classes, will be automatically bound to the HTTP request parameters.\r\n&gt; Therefore, malicious users will be able to assign a value to any\r\n&gt; attribute in bound or nested classes, even if they are not exposed to\r\n&gt; the client through web forms or API contracts.\r\n\r\nThe error I am getting in this line: \r\n\r\n&gt; public ResponseClass sync(@BeanParam MyClassRequest request) throws\r\n&gt; Exception {\r\n\r\n\r\n\r\nMyClassResource.java\r\n\r\n    @Api(tags = &quot;Relay&quot;)\r\n    @Stateless\r\n    public class MyClassResource extends AbstractService&lt;MyClassRequest, ResponseClass&gt; {\r\n     \r\n        @EJB\r\n        private MyClassService myClassService;\r\n    \r\n        @POST\r\n        @Path(&quot;/api/v1/service&quot;)\r\n        @Produces({&quot;application/json&quot;})\r\n        @ApiOperation(value = &quot;Processes Conn&quot;,\r\n                response = ResponseClass.class, responseContainer = &quot;ResponseClass&quot;, hidden = true)\r\n        @Override\r\n        public ResponseClass sync(@BeanParam MyClassRequest request) throws Exception {\r\n            myClassService.processFeed(request);\r\n            return new RelayResponse(HttpStatuses.ACCEPTED.getStatus());\r\n        }\r\n\r\n\r\nMyClassRequest.java\r\n\r\nIn this file I have tried @FormParam(&quot;ccc&quot;) but same\r\n\r\n    public class MyClassRequest extends RelayRequest {\r\n    \r\n        public MyClassRequest() {\r\n            super.setMessageType(&quot;not required&quot;);\r\n        }\r\n\r\n        private String myData;\r\n        private String conneRid;\r\n        private String connectionCreatedDate;\r\n\r\nIf someone could give some hint that how I can solve it, I will really appreciate it.","title":"Mass Assignment: Insecure Binder Configuration with Fortify Java 1.8 EJB","body":"<p>I am trying to solve some vulnerabilities issues, and I have one that I couldn't solve it, I tried to add @Valid annotation in sync method but same error, this is the description from fortify:</p>\n<blockquote>\n<p>The framework binder used for binding the HTTP request parameters to\nthe model class has not been explicitly configured to allow, or\ndisallow certain attributes.</p>\n<p>To ease development and increase productivity, most modern frameworks\nallow an object to be automatically instantiated and populated with\nthe HTTP request parameters whose names match an attribute of the\nclass to be bound. Automatic instantiation and population of objects\nspeeds up development, but can lead to serious problems if implemented\nwithout caution. Any attribute in the bound classes, or nested\nclasses, will be automatically bound to the HTTP request parameters.\nTherefore, malicious users will be able to assign a value to any\nattribute in bound or nested classes, even if they are not exposed to\nthe client through web forms or API contracts.</p>\n</blockquote>\n<p>The error I am getting in this line:</p>\n<blockquote>\n<p>public ResponseClass sync(@BeanParam MyClassRequest request) throws\nException {</p>\n</blockquote>\n<p>MyClassResource.java</p>\n<pre><code>@Api(tags = &quot;Relay&quot;)\n@Stateless\npublic class MyClassResource extends AbstractService&lt;MyClassRequest, ResponseClass&gt; {\n \n    @EJB\n    private MyClassService myClassService;\n\n    @POST\n    @Path(&quot;/api/v1/service&quot;)\n    @Produces({&quot;application/json&quot;})\n    @ApiOperation(value = &quot;Processes Conn&quot;,\n            response = ResponseClass.class, responseContainer = &quot;ResponseClass&quot;, hidden = true)\n    @Override\n    public ResponseClass sync(@BeanParam MyClassRequest request) throws Exception {\n        myClassService.processFeed(request);\n        return new RelayResponse(HttpStatuses.ACCEPTED.getStatus());\n    }\n</code></pre>\n<p>MyClassRequest.java</p>\n<p>In this file I have tried @FormParam(&quot;ccc&quot;) but same</p>\n<pre><code>public class MyClassRequest extends RelayRequest {\n\n    public MyClassRequest() {\n        super.setMessageType(&quot;not required&quot;);\n    }\n\n    private String myData;\n    private String conneRid;\n    private String connectionCreatedDate;\n</code></pre>\n<p>If someone could give some hint that how I can solve it, I will really appreciate it.</p>\n"},{"tags":["java","android","android-layout","listview","android-arrayadapter"],"answers":[{"tags":[],"owner":{"account_id":6305344,"reputation":2779,"user_id":4898562,"display_name":"i_A_mok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655997072,"creation_date":1655997072,"answer_id":72732521,"question_id":72707730,"body_markdown":"Try this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:scrollbarAlwaysDrawVerticalTrack=&quot;true&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/linearLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;start&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:padding=&quot;15dp&quot;\r\n        android:scrollbars=&quot;vertical&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/tv_recipe_txt&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;@string/txt_recipe_entry_txt&quot;\r\n            android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/pancake_ingredients&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;15dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;@string/pancake_ingredients&quot;\r\n            android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\r\n\r\n        &lt;ListView\r\n            android:id=&quot;@+id/listViewIngredients&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/pancake_preparation&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;15dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;@string/pancake_preparation&quot;\r\n            android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\r\n\r\n        &lt;ListView\r\n            android:id=&quot;@+id/listViewPreparation&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n    &lt;/ScrollView&gt;","title":"How can i set the layout_height from ListViews in conditon of the number of items in a string-array","body":"<p>Try this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:scrollbarAlwaysDrawVerticalTrack=&quot;true&quot;&gt;\n\n&lt;LinearLayout\n    android:id=&quot;@+id/linearLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:gravity=&quot;start&quot;\n    android:orientation=&quot;vertical&quot;\n    android:padding=&quot;15dp&quot;\n    android:scrollbars=&quot;vertical&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tv_recipe_txt&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;@string/txt_recipe_entry_txt&quot;\n        android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/pancake_ingredients&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;15dp&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;@string/pancake_ingredients&quot;\n        android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/listViewIngredients&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/pancake_preparation&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;15dp&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;@string/pancake_preparation&quot;\n        android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/listViewPreparation&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n&lt;/LinearLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n"}],"owner":{"account_id":1237553,"reputation":109,"user_id":1200840,"accept_rate":48,"display_name":"amarradi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656359552,"creation_date":1655850317,"question_id":72707730,"body_markdown":"Good evening,\r\n\r\nI have an Android app with two ListView elements on a layout. between them is a TextView element. The whole is framed by a LinearLayout and a ScrollView and a ConstraintLayout.\r\n\r\n**activity_recipe.xml**\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:scrollbarAlwaysDrawVerticalTrack=&quot;true&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/linearLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:gravity=&quot;start&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:padding=&quot;15dp&quot;\r\n\r\n            android:scrollbars=&quot;vertical&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_recipe_txt&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;@string/txt_recipe_entry_txt&quot;\r\n                android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/pancake_ingredients&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;15dp&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;@string/pancake_ingredients&quot;\r\n                android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\r\n\r\n            &lt;ListView\r\n                android:id=&quot;@+id/listViewIngredients&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n            &lt;/ListView&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/pancake_preparation&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;15dp&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;@string/pancake_preparation&quot;\r\n                android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\r\n\r\n            &lt;ListView\r\n                android:id=&quot;@+id/listViewPreparation&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/ScrollView&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nDie Daten f&#252;r die ListViews werden aus zwei ```string-array``` geladen.\r\nIn meiner Activity arbeite ich mit einem ``&#192;rrayAdapter```\r\n\r\n**RecipeActivity.java**\r\n\r\n\r\n```java\r\npackage com.git.amarradi.palatschinkencounter;\r\n\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.ListView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class RecipeActivity extends AppCompatActivity {\r\n    ListView listView_Ingredients;\r\n    ListView listView_Preparation;\r\n    String[] listItem_ingredients;\r\n    String[] listItem_Preparation;\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_recipe);\r\n        listView_Ingredients = (ListView) findViewById(R.id.listViewIngredients);\r\n        listView_Preparation = (ListView) findViewById(R.id.listViewPreparation);\r\n\r\n\r\n        listItem_ingredients = getResources().getStringArray(R.array.ingredients_array);\r\n        listItem_Preparation = getResources().getStringArray(R.array.preparation_array);\r\n        final ArrayAdapter&lt;String&gt; arrayAdapter_Ingredients = new ArrayAdapter&lt;&gt;(this,\r\n                R.layout.simple_list_item_1, listItem_ingredients);\r\n        listView_Ingredients.setAdapter(arrayAdapter_Ingredients);\r\n\r\n        final ArrayAdapter&lt;String&gt; arrayAdapter_Preparation = new ArrayAdapter&lt;&gt;(this,\r\n                R.layout.simple_list_item_1,listItem_Preparation);\r\n        listView_Preparation.setAdapter(arrayAdapter_Preparation);\r\n\r\n    }\r\n}\r\n```\r\n\r\nNow to my question, why I am hanging with the layout.\r\nHow can I set the height of the ```ListViews``` so that all data can be loaded without scrolling. I have taken extra ScrollView for this, but the from the ```ListView``` \r\n\r\n```xml\r\nandroid:layout_height=&quot;wrap_content&quot;\r\n```\r\n\r\nremains single-line.\r\n\r\nWhat is the best way to do such things?\r\nI have the ```ScrollView``` right after the ```ConstraintLayout``` so i can scroll through the page. Where is my mistake in logic?\r\n\r\nMaybe someone can help me. That would be very kind. I say now already many thanks.\r\n\r\nThe new Activity_recipe.xml\r\n\r\n**activity_recipe.xml**\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.core.widget.NestedScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fillViewport=&quot;true&quot;\r\n    android:overScrollMode=&quot;always&quot;&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:paddingBottom=&quot;8dp&quot;\r\n        android:text=&quot;@string/txt_recipe_entry_txt&quot;\r\n        android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView3&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:paddingBottom=&quot;8dp&quot;\r\n            android:text=&quot;@string/pancake_ingredients&quot;\r\n            android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;\r\n            /&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recyclerView_ingredients&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView4&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:paddingBottom=&quot;8dp&quot;\r\n        android:text=&quot;@string/pancake_preparation&quot;\r\n        android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:scrollbarAlwaysDrawVerticalTrack=&quot;false&quot;\r\n        android:id=&quot;@+id/RecyclerView_preparation&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView4&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textViewThanks&quot;\r\n        android:text=&quot;@string/thanks&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:textAppearance=&quot;?android:attr/textAppearanceMedium&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n&lt;/androidx.core.widget.NestedScrollView&gt;\r\n```\r\n\r\nThe new RecipeActivity.java\r\n\r\n**RecipeActivity.java**\r\n\r\n```java\r\n\r\n    package com.git.amarradi.palatschinkencounter;\r\n    \r\n    import android.os.Bundle;\r\n    \r\n    import androidx.annotation.Nullable;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class RecipeActivity extends AppCompatActivity {\r\n    \r\n        ArrayList&lt;IngredientsModel&gt; ingredientsModels = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;PreparationModel&gt; preparationModels = new ArrayList&lt;&gt;();\r\n    \r\n        @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_recipe);\r\n    \r\n            RecyclerView recyclerView_Ingredients = findViewById(R.id.recyclerView_ingredients);\r\n    \r\n            setupIngredientsModels();\r\n    \r\n            RecylerIngredientsViewAdapter recylerIngredientsViewAdapter =\r\n                    new RecylerIngredientsViewAdapter(this,ingredientsModels);\r\n            recyclerView_Ingredients.setAdapter(recylerIngredientsViewAdapter);\r\n            recyclerView_Ingredients.setLayoutManager(new LinearLayoutManager(this));\r\n    \r\n    \r\n            RecyclerView recyclerView_Preparation = findViewById(R.id.RecyclerView_preparation);\r\n    \r\n            setupPreparationModels();\r\n            RecylerPreparationViewAdapter recylerPreparationViewAdapter =\r\n                    new RecylerPreparationViewAdapter(this,preparationModels);\r\n            recyclerView_Preparation.setNestedScrollingEnabled(false);\r\n            recyclerView_Preparation.setAdapter(recylerPreparationViewAdapter);\r\n            recyclerView_Preparation.setLayoutManager(new LinearLayoutManager(this));\r\n        }\r\n    \r\n        private void setupPreparationModels() {\r\n            String[] strings_preparation = getResources().getStringArray(R.array.preparation_array);\r\n            for (String s : strings_preparation) {\r\n                preparationModels.add(new PreparationModel(s));\r\n            }\r\n        }\r\n    \r\n        public void setupIngredientsModels(){\r\n            String[] strings_ingredients = getResources().getStringArray(R.array.ingredients_array);\r\n            for (String strings_ingredient : strings_ingredients) {\r\n                ingredientsModels.add(new IngredientsModel(strings_ingredient));\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n```\r\n\r\nI added two RecylerView -Adapter, for every ArrayList one adapter\r\n\r\n```java\r\n\r\npackage com.git.amarradi.palatschinkencounter;\r\n\r\nimport android.content.Context;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class RecylerIngredientsViewAdapter extends RecyclerView.Adapter&lt;RecylerIngredientsViewAdapter.MyViewHolder&gt; {\r\n\r\n    Context context;\r\n    ArrayList&lt;IngredientsModel&gt; ingredientsModels;\r\n\r\n    public RecylerIngredientsViewAdapter(Context context, ArrayList&lt;IngredientsModel&gt; ingredientsModels) {\r\n        this.context = context;\r\n        this.ingredientsModels = ingredientsModels;\r\n\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView CVtextView;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            CVtextView = itemView.findViewById(R.id.CVtextView);\r\n        }\r\n    }\r\n    \r\n    @NonNull\r\n    @Override\r\n    public RecylerIngredientsViewAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater inflater = LayoutInflater.from(context);\r\n        View view = inflater.inflate(R.layout.recycler_view_row, parent, false);\r\n        return new MyViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecylerIngredientsViewAdapter.MyViewHolder holder, int position) {\r\n\r\n        holder.CVtextView.setText(ingredientsModels.get(position).getIngredientsLine());\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        Log.d(&quot;getItemCount&quot;, String.valueOf(ingredientsModels.size()) );\r\n        return ingredientsModels.size();\r\n    }\r\n\r\n\r\n}\r\n``` \r\n\r\nI have also created two small models\r\n\r\n```java\r\n\r\n    package com.git.amarradi.palatschinkencounter;\r\n\r\npublic class PreparationModel {\r\n    private final String preparationLine;\r\n\r\n    public PreparationModel(String preparationLine) {\r\n        this.preparationLine = preparationLine;\r\n    }\r\n\r\n    public String getPreparationLine() {\r\n        return preparationLine;\r\n    }\r\n}\r\n```\r\n\r\nAnd my row_view\r\n\r\n**recycler_view_row.xml**\r\n\r\n```xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:cardCornerRadius=&quot;2dp&quot;\r\n\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;TextView\r\n\r\n                android:paddingStart=&quot;8dp&quot;\r\n                android:paddingEnd=&quot;0dp&quot;\r\n                android:paddingBottom=&quot;16dp&quot;\r\n                android:id=&quot;@+id/CVtextView&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:gravity=&quot;center_vertical&quot;\r\n                android:textAppearance=&quot;?android:attr/textAppearanceMedium&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"How can i set the layout_height from ListViews in conditon of the number of items in a string-array","body":"<p>Good evening,</p>\n<p>I have an Android app with two ListView elements on a layout. between them is a TextView element. The whole is framed by a LinearLayout and a ScrollView and a ConstraintLayout.</p>\n<p><strong>activity_recipe.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;ScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:scrollbarAlwaysDrawVerticalTrack=&quot;true&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/linearLayout&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:gravity=&quot;start&quot;\n            android:orientation=&quot;vertical&quot;\n            android:padding=&quot;15dp&quot;\n\n            android:scrollbars=&quot;vertical&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/tv_recipe_txt&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:gravity=&quot;center&quot;\n                android:text=&quot;@string/txt_recipe_entry_txt&quot;\n                android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/pancake_ingredients&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_margin=&quot;15dp&quot;\n                android:gravity=&quot;center&quot;\n                android:text=&quot;@string/pancake_ingredients&quot;\n                android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\n\n            &lt;ListView\n                android:id=&quot;@+id/listViewIngredients&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;&gt;\n            &lt;/ListView&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/pancake_preparation&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_margin=&quot;15dp&quot;\n                android:gravity=&quot;center&quot;\n                android:text=&quot;@string/pancake_preparation&quot;\n                android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\n\n            &lt;ListView\n                android:id=&quot;@+id/listViewPreparation&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot; /&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/ScrollView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Die Daten fr die ListViews werden aus zwei <code>string-array</code> geladen.\nIn meiner Activity arbeite ich mit einem ``rrayAdapter```</p>\n<p><strong>RecipeActivity.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.git.amarradi.palatschinkencounter;\n\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\nimport android.widget.TextView;\n\nimport androidx.annotation.Nullable;\nimport androidx.annotation.RequiresApi;\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class RecipeActivity extends AppCompatActivity {\n    ListView listView_Ingredients;\n    ListView listView_Preparation;\n    String[] listItem_ingredients;\n    String[] listItem_Preparation;\n\n    @RequiresApi(api = Build.VERSION_CODES.O)\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_recipe);\n        listView_Ingredients = (ListView) findViewById(R.id.listViewIngredients);\n        listView_Preparation = (ListView) findViewById(R.id.listViewPreparation);\n\n\n        listItem_ingredients = getResources().getStringArray(R.array.ingredients_array);\n        listItem_Preparation = getResources().getStringArray(R.array.preparation_array);\n        final ArrayAdapter&lt;String&gt; arrayAdapter_Ingredients = new ArrayAdapter&lt;&gt;(this,\n                R.layout.simple_list_item_1, listItem_ingredients);\n        listView_Ingredients.setAdapter(arrayAdapter_Ingredients);\n\n        final ArrayAdapter&lt;String&gt; arrayAdapter_Preparation = new ArrayAdapter&lt;&gt;(this,\n                R.layout.simple_list_item_1,listItem_Preparation);\n        listView_Preparation.setAdapter(arrayAdapter_Preparation);\n\n    }\n}\n</code></pre>\n<p>Now to my question, why I am hanging with the layout.\nHow can I set the height of the <code>ListViews</code> so that all data can be loaded without scrolling. I have taken extra ScrollView for this, but the from the <code>ListView</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>android:layout_height=&quot;wrap_content&quot;\n</code></pre>\n<p>remains single-line.</p>\n<p>What is the best way to do such things?\nI have the <code>ScrollView</code> right after the <code>ConstraintLayout</code> so i can scroll through the page. Where is my mistake in logic?</p>\n<p>Maybe someone can help me. That would be very kind. I say now already many thanks.</p>\n<p>The new Activity_recipe.xml</p>\n<p><strong>activity_recipe.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.core.widget.NestedScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fillViewport=&quot;true&quot;\n    android:overScrollMode=&quot;always&quot;&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n    &lt;TextView\n        android:id=&quot;@+id/textView2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:paddingBottom=&quot;8dp&quot;\n        android:text=&quot;@string/txt_recipe_entry_txt&quot;\n        android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;/&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView3&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;center&quot;\n            android:paddingBottom=&quot;8dp&quot;\n            android:text=&quot;@string/pancake_ingredients&quot;\n            android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;\n            /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recyclerView_ingredients&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView4&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:paddingBottom=&quot;8dp&quot;\n        android:text=&quot;@string/pancake_preparation&quot;\n        android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot; /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:scrollbarAlwaysDrawVerticalTrack=&quot;false&quot;\n        android:id=&quot;@+id/RecyclerView_preparation&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView4&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textViewThanks&quot;\n        android:text=&quot;@string/thanks&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:textAppearance=&quot;?android:attr/textAppearanceMedium&quot; /&gt;\n&lt;/LinearLayout&gt;\n&lt;/androidx.core.widget.NestedScrollView&gt;\n</code></pre>\n<p>The new RecipeActivity.java</p>\n<p><strong>RecipeActivity.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    package com.git.amarradi.palatschinkencounter;\n    \n    import android.os.Bundle;\n    \n    import androidx.annotation.Nullable;\n    import androidx.appcompat.app.AppCompatActivity;\n    import androidx.recyclerview.widget.LinearLayoutManager;\n    import androidx.recyclerview.widget.RecyclerView;\n    \n    import java.util.ArrayList;\n    \n    public class RecipeActivity extends AppCompatActivity {\n    \n        ArrayList&lt;IngredientsModel&gt; ingredientsModels = new ArrayList&lt;&gt;();\n        ArrayList&lt;PreparationModel&gt; preparationModels = new ArrayList&lt;&gt;();\n    \n        @Override\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_recipe);\n    \n            RecyclerView recyclerView_Ingredients = findViewById(R.id.recyclerView_ingredients);\n    \n            setupIngredientsModels();\n    \n            RecylerIngredientsViewAdapter recylerIngredientsViewAdapter =\n                    new RecylerIngredientsViewAdapter(this,ingredientsModels);\n            recyclerView_Ingredients.setAdapter(recylerIngredientsViewAdapter);\n            recyclerView_Ingredients.setLayoutManager(new LinearLayoutManager(this));\n    \n    \n            RecyclerView recyclerView_Preparation = findViewById(R.id.RecyclerView_preparation);\n    \n            setupPreparationModels();\n            RecylerPreparationViewAdapter recylerPreparationViewAdapter =\n                    new RecylerPreparationViewAdapter(this,preparationModels);\n            recyclerView_Preparation.setNestedScrollingEnabled(false);\n            recyclerView_Preparation.setAdapter(recylerPreparationViewAdapter);\n            recyclerView_Preparation.setLayoutManager(new LinearLayoutManager(this));\n        }\n    \n        private void setupPreparationModels() {\n            String[] strings_preparation = getResources().getStringArray(R.array.preparation_array);\n            for (String s : strings_preparation) {\n                preparationModels.add(new PreparationModel(s));\n            }\n        }\n    \n        public void setupIngredientsModels(){\n            String[] strings_ingredients = getResources().getStringArray(R.array.ingredients_array);\n            for (String strings_ingredient : strings_ingredients) {\n                ingredientsModels.add(new IngredientsModel(strings_ingredient));\n            }\n        }\n    \n    }\n\n</code></pre>\n<p>I added two RecylerView -Adapter, for every ArrayList one adapter</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage com.git.amarradi.palatschinkencounter;\n\nimport android.content.Context;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class RecylerIngredientsViewAdapter extends RecyclerView.Adapter&lt;RecylerIngredientsViewAdapter.MyViewHolder&gt; {\n\n    Context context;\n    ArrayList&lt;IngredientsModel&gt; ingredientsModels;\n\n    public RecylerIngredientsViewAdapter(Context context, ArrayList&lt;IngredientsModel&gt; ingredientsModels) {\n        this.context = context;\n        this.ingredientsModels = ingredientsModels;\n\n    }\n\n    public static class MyViewHolder extends RecyclerView.ViewHolder {\n\n        TextView CVtextView;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            CVtextView = itemView.findViewById(R.id.CVtextView);\n        }\n    }\n    \n    @NonNull\n    @Override\n    public RecylerIngredientsViewAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater inflater = LayoutInflater.from(context);\n        View view = inflater.inflate(R.layout.recycler_view_row, parent, false);\n        return new MyViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull RecylerIngredientsViewAdapter.MyViewHolder holder, int position) {\n\n        holder.CVtextView.setText(ingredientsModels.get(position).getIngredientsLine());\n\n    }\n\n    @Override\n    public int getItemCount() {\n        Log.d(&quot;getItemCount&quot;, String.valueOf(ingredientsModels.size()) );\n        return ingredientsModels.size();\n    }\n\n\n}\n</code></pre>\n<p>I have also created two small models</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    package com.git.amarradi.palatschinkencounter;\n\npublic class PreparationModel {\n    private final String preparationLine;\n\n    public PreparationModel(String preparationLine) {\n        this.preparationLine = preparationLine;\n    }\n\n    public String getPreparationLine() {\n        return preparationLine;\n    }\n}\n</code></pre>\n<p>And my row_view</p>\n<p><strong>recycler_view_row.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:cardCornerRadius=&quot;2dp&quot;\n\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n\n            &lt;TextView\n\n                android:paddingStart=&quot;8dp&quot;\n                android:paddingEnd=&quot;0dp&quot;\n                android:paddingBottom=&quot;16dp&quot;\n                android:id=&quot;@+id/CVtextView&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:gravity=&quot;center_vertical&quot;\n                android:textAppearance=&quot;?android:attr/textAppearanceMedium&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","networking","jboss","dns","apache-httpclient-4.x"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1594478744,"creation_date":1402613817,"answer_id":24195155,"question_id":24188992,"body_markdown":"This is most likely a network management, change / configuration management or general system administration problem rather than a  programming problem.\r\n\r\n&gt; It was working before without adding that entry but all of a sudden it stopped working.\r\n\r\nOne approach is to try to figure out what changed to cause it to stop working.  This is not the kind of thing that would happen spontaneously.  Someone or something has changed some software or configurations to make this happen.  Start with when it stopped (or when you noticed) and work back through your change logs.\r\n\r\nIt *sounds like* it is an issue with the Java DNS resolution procedure.  It appears that the resolver is either not trying to talk to the normal DNS servers, or it is trying and failing.  \r\n\r\nWe can&#39;t debug it for you, but I found these resources that help to explain what should be happening when you do a name lookup in Java, and offer some ideas on trouble-shooting.\r\n\r\nResources:\r\n  \r\n  - [DNS and Java][1]\r\n  - [Java doesn&#39;t pick up system&#39;s DNS settings change until restarted][2]\r\n  - [Java and /etc/resolv.conf DNS server failover][3]\r\n  - [Java networking properties][4]\r\n\r\n\r\n  [1]: https://web.archive.org/web/20140305161557/java.sys-con.com/node/2879145\r\n  [2]: https://community.oracle.com/thread/1148912?start=0&amp;tstart=0\r\n  [3]: https://serverfault.com/questions/578082/java-and-etc-resolv-conf-dns-server-failover\r\n  [4]: http://docs.oracle.com/javase/8/docs/technotes/guides/net/properties.html","title":"UnknownHostException from Java but host resolves with Ping/nslookup/curl","body":"<p>This is most likely a network management, change / configuration management or general system administration problem rather than a  programming problem.</p>\n<blockquote>\n<p>It was working before without adding that entry but all of a sudden it stopped working.</p>\n</blockquote>\n<p>One approach is to try to figure out what changed to cause it to stop working.  This is not the kind of thing that would happen spontaneously.  Someone or something has changed some software or configurations to make this happen.  Start with when it stopped (or when you noticed) and work back through your change logs.</p>\n<p>It <em>sounds like</em> it is an issue with the Java DNS resolution procedure.  It appears that the resolver is either not trying to talk to the normal DNS servers, or it is trying and failing.</p>\n<p>We can't debug it for you, but I found these resources that help to explain what should be happening when you do a name lookup in Java, and offer some ideas on trouble-shooting.</p>\n<p>Resources:</p>\n<ul>\n<li><a href=\"https://web.archive.org/web/20140305161557/java.sys-con.com/node/2879145\" rel=\"nofollow noreferrer\">DNS and Java</a></li>\n<li><a href=\"https://community.oracle.com/thread/1148912?start=0&amp;tstart=0\" rel=\"nofollow noreferrer\">Java doesn't pick up system's DNS settings change until restarted</a></li>\n<li><a href=\"https://serverfault.com/questions/578082/java-and-etc-resolv-conf-dns-server-failover\">Java and /etc/resolv.conf DNS server failover</a></li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/net/properties.html\" rel=\"nofollow noreferrer\">Java networking properties</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5808705,"reputation":139,"user_id":4580538,"display_name":"Groboclown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656359354,"creation_date":1656359354,"answer_id":72777594,"question_id":24188992,"body_markdown":"I found that these same symptoms can happen when IPv6 is disabled on your networking.    You can see this by running a simple Java program:\r\n\r\n    import java.net.InetAddress;\r\n    public class NameTest\r\n    {\r\n      public static void main(String[] args) throws Exception\r\n      {\r\n        System.out.println(InetAddress.getByName(&quot;google.com&quot;));\r\n      }\r\n    }\r\n\r\nIf IPv6 is an issue, then running the program with `java -cp . NameTest` will fail with a line like &quot;at java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)&quot; in the stack trace (notice the Inet6 in the class name), and running the program with `java -cp . -Djava.net.preferIPv4Stack=true NameTest` will succeed (this is from [the above answer](https://stackoverflow.com/a/24195155/4580538) Java networking properties reference).\r\n\r\nTo work past this, I followed suggestions from [this question](https://stackoverflow.com/questions/11850655/how-can-i-disable-ipv6-stack-use-for-ipv4-ips-on-jre).\r\n\r\nAn OS-wide disabling of IPv6 works well, as the system doesn&#39;t have IPv6.  On some Linux varieties, this can be disabled by first adding this line to the end of the file `/etc/sysctl.conf`\r\n\r\n    net.ipv6.conf.all.disable_ipv6 = 1\r\n\r\nfollowed by running `sudo sysctl -p` to immediately disable IPv6.","title":"UnknownHostException from Java but host resolves with Ping/nslookup/curl","body":"<p>I found that these same symptoms can happen when IPv6 is disabled on your networking.    You can see this by running a simple Java program:</p>\n<pre><code>import java.net.InetAddress;\npublic class NameTest\n{\n  public static void main(String[] args) throws Exception\n  {\n    System.out.println(InetAddress.getByName(&quot;google.com&quot;));\n  }\n}\n</code></pre>\n<p>If IPv6 is an issue, then running the program with <code>java -cp . NameTest</code> will fail with a line like &quot;at java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)&quot; in the stack trace (notice the Inet6 in the class name), and running the program with <code>java -cp . -Djava.net.preferIPv4Stack=true NameTest</code> will succeed (this is from <a href=\"https://stackoverflow.com/a/24195155/4580538\">the above answer</a> Java networking properties reference).</p>\n<p>To work past this, I followed suggestions from <a href=\"https://stackoverflow.com/questions/11850655/how-can-i-disable-ipv6-stack-use-for-ipv4-ips-on-jre\">this question</a>.</p>\n<p>An OS-wide disabling of IPv6 works well, as the system doesn't have IPv6.  On some Linux varieties, this can be disabled by first adding this line to the end of the file <code>/etc/sysctl.conf</code></p>\n<pre><code>net.ipv6.conf.all.disable_ipv6 = 1\n</code></pre>\n<p>followed by running <code>sudo sysctl -p</code> to immediately disable IPv6.</p>\n"}],"owner":{"account_id":1328590,"reputation":1003,"user_id":1272939,"display_name":"Sandip Dhummad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13215,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":24195155,"answer_count":2,"score":11,"last_activity_date":1656359354,"creation_date":1402589105,"question_id":24188992,"body_markdown":"We are getting the following exception when a Java EE server tries to resolve a host name from one of the services. We were able to resolve that host name on the box manually with ping/nslookup command. We were also able to fire that external service using curl with same parameters what server is trying to use. So it seems like this issue happens only when we try to make a request to a external host from a Java/Java EE application.\r\n\r\nTo resolve this issue, we manually added an entry in /etc/hosts file and it solved the problem but we want a permanent solution so we don&#39;t have to keep changing the IP. It was working before without adding that entry but all of a sudden it stopped working.\r\n\r\nDetail of our environment:\r\n\r\nOS: Cent OS 6.3\r\n\r\nJava : JDK 1.6.0_24\r\n\r\nJava EE Server : JBoss AS 7.1.1\r\n\r\nHttp Client library : httpclient-4.0.jar\r\n\r\nThanks in advance for the help!!\r\n\r\n&gt; Error while checking salesforce license|:\r\n&gt; java.net.UnknownHostException: na15.salesforce.com        at\r\n&gt; java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:175)\r\n&gt; [rt.jar:1.6.0_24]        at\r\n&gt; java.net.SocksSocketImpl.connect(SocksSocketImpl.java:384)\r\n&gt; [rt.jar:1.6.0_24]        at java.net.Socket.connect(Socket.java:546)\r\n&gt; [rt.jar:1.6.0_24]        at\r\n&gt; sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:584)\r\n&gt; [jsse.jar:1.6.0_24]        at\r\n&gt; org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:333)\r\n&gt; [httpclient-4.0.jar:4.0]        at\r\n&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:123)\r\n&gt; [httpclient-4.0.jar:4.0]        at\r\n&gt; org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:147)\r\n&gt; [httpclient-4.0.jar:4.0]        at\r\n&gt; org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:101)\r\n&gt; [httpclient-4.0.jar:4.0]        at\r\n&gt; org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:381)\r\n&gt; [httpclient-4.0.jar:4.0]        at\r\n&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:641)\r\n&gt; [httpclient-4.0.jar:4.0]        at\r\n&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:576)\r\n&gt; [httpclient-4.0.jar:4.0]\r\n\r\n","title":"UnknownHostException from Java but host resolves with Ping/nslookup/curl","body":"<p>We are getting the following exception when a Java EE server tries to resolve a host name from one of the services. We were able to resolve that host name on the box manually with ping/nslookup command. We were also able to fire that external service using curl with same parameters what server is trying to use. So it seems like this issue happens only when we try to make a request to a external host from a Java/Java EE application.</p>\n\n<p>To resolve this issue, we manually added an entry in /etc/hosts file and it solved the problem but we want a permanent solution so we don't have to keep changing the IP. It was working before without adding that entry but all of a sudden it stopped working.</p>\n\n<p>Detail of our environment:</p>\n\n<p>OS: Cent OS 6.3</p>\n\n<p>Java : JDK 1.6.0_24</p>\n\n<p>Java EE Server : JBoss AS 7.1.1</p>\n\n<p>Http Client library : httpclient-4.0.jar</p>\n\n<p>Thanks in advance for the help!!</p>\n\n<blockquote>\n  <p>Error while checking salesforce license|:\n  java.net.UnknownHostException: na15.salesforce.com        at\n  java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:175)\n  [rt.jar:1.6.0_24]        at\n  java.net.SocksSocketImpl.connect(SocksSocketImpl.java:384)\n  [rt.jar:1.6.0_24]        at java.net.Socket.connect(Socket.java:546)\n  [rt.jar:1.6.0_24]        at\n  sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:584)\n  [jsse.jar:1.6.0_24]        at\n  org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:333)\n  [httpclient-4.0.jar:4.0]        at\n  org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:123)\n  [httpclient-4.0.jar:4.0]        at\n  org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:147)\n  [httpclient-4.0.jar:4.0]        at\n  org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:101)\n  [httpclient-4.0.jar:4.0]        at\n  org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:381)\n  [httpclient-4.0.jar:4.0]        at\n  org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:641)\n  [httpclient-4.0.jar:4.0]        at\n  org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:576)\n  [httpclient-4.0.jar:4.0]</p>\n</blockquote>\n"},{"tags":["java","android","date","utc","android-date"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1656319787,"post_id":72769305,"comment_id":128533777,"body_markdown":"You have a misunderstanding about `Date` objects: a `Date` object does not have a format by itself. It&#39;s only a timestamp value. There is no such thing as &quot;a `Date` object without any format change&quot;. When you print a `Date` object, it&#39;s printed in a default format. The object does not know what the format was that you parsed the original string with. If you need to print a `Date` in a specific format, then you&#39;ll have to format it using an appropriate `SimpleDateFormat`. The `Date` object itself does not contain information about formatting.","body":"You have a misunderstanding about <code>Date</code> objects: a <code>Date</code> object does not have a format by itself. It&#39;s only a timestamp value. There is no such thing as &quot;a <code>Date</code> object without any format change&quot;. When you print a <code>Date</code> object, it&#39;s printed in a default format. The object does not know what the format was that you parsed the original string with. If you need to print a <code>Date</code> in a specific format, then you&#39;ll have to format it using an appropriate <code>SimpleDateFormat</code>. The <code>Date</code> object itself does not contain information about formatting."},{"owner":{"account_id":11228165,"reputation":689,"user_id":8237188,"accept_rate":75,"display_name":"Muahmmad Tayyib"},"score":0,"creation_date":1656321226,"post_id":72769305,"comment_id":128534286,"body_markdown":"@Jesper thanks for clearing the ambiguity.\nI would rather like to rephrase my issue.\nHow can I get above UTC dateTime String as UTC formatted date Object(not a string)!\ncan you provide me an example for clarification?","body":"@Jesper thanks for clearing the ambiguity. I would rather like to rephrase my issue. How can I get above UTC dateTime String as UTC formatted date Object(not a string)! can you provide me an example for clarification?"},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1656332710,"post_id":72769305,"comment_id":128538389,"body_markdown":"There is **no such thing** as an &quot;UTC formatted `Date` object&quot;. A `Date` object does not have a format.","body":"There is <b>no such thing</b> as an &quot;UTC formatted <code>Date</code> object&quot;. A <code>Date</code> object does not have a format."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1656359158,"creation_date":1656322488,"answer_id":72769913,"question_id":72769305,"body_markdown":"&gt; I have a UTC formatted DateTime String\r\n\r\nNo, you dont. \r\n\r\nUTC is the prime meridian commonly used for time-keeping. Time zones towards the east use an offset some number of hours-minutes-seconds ahead of UTC; those to the west, behind UTC.\r\n\r\n[UTC][1] has nothing to do with text formats.\r\n\r\n&gt; need this String to be converted to DATE Object without any Format change.\r\n\r\nThere are two `Date` classes in Java. You should specify which you intended. \r\n\r\nAnd, both classes are *terrible*, flawed by poor design decisions. They were years ago supplanted by the modern *java.time* classes defined in [JSR 310][2].\r\n\r\n&gt; I have a limitation of using SimpleDateFormat as I have to support API&lt;21 also.\r\n\r\nNope, no such limitation. The latest tooling brings most of the *java.time* functionality to earlier Android, via API de-sugaring. \r\n\r\nTo parse, use `DateTimeFormatter` to define a matching formatting pattern. Try the following, but Ive not yet tested.\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;uuuu-MM-d HH:mm:ss OOOO&quot; ).withLocale( Locale.US ) ; \r\n    OffsetDateTime odt = OffsetDateTime.parse( input , f ) ;\r\n\r\nTip: Educate the publisher of your data about the [ISO 8601][3] standard for formatting textual representations of date-time values.\r\n\r\n\r\n----------\r\n\r\nAll of this has been covered many times already on Stack Overflow. Please search before posting here.  \r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [2]: https://jcp.org/en/jsr/detail?id=310\r\n  [3]: https://en.m.wikipedia.org/wiki/ISO_8601","title":"UTC formatted string to UTC Date Object using SimpleDateFormat","body":"<blockquote>\n<p>I have a UTC formatted DateTime String</p>\n</blockquote>\n<p>No, you dont.</p>\n<p>UTC is the prime meridian commonly used for time-keeping. Time zones towards the east use an offset some number of hours-minutes-seconds ahead of UTC; those to the west, behind UTC.</p>\n<p><a href=\"https://en.m.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a> has nothing to do with text formats.</p>\n<blockquote>\n<p>need this String to be converted to DATE Object without any Format change.</p>\n</blockquote>\n<p>There are two <code>Date</code> classes in Java. You should specify which you intended.</p>\n<p>And, both classes are <em>terrible</em>, flawed by poor design decisions. They were years ago supplanted by the modern <em>java.time</em> classes defined in <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<blockquote>\n<p>I have a limitation of using SimpleDateFormat as I have to support API&lt;21 also.</p>\n</blockquote>\n<p>Nope, no such limitation. The latest tooling brings most of the <em>java.time</em> functionality to earlier Android, via API de-sugaring.</p>\n<p>To parse, use <code>DateTimeFormatter</code> to define a matching formatting pattern. Try the following, but Ive not yet tested.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;uuuu-MM-d HH:mm:ss OOOO&quot; ).withLocale( Locale.US ) ; \nOffsetDateTime odt = OffsetDateTime.parse( input , f ) ;\n</code></pre>\n<p>Tip: Educate the publisher of your data about the <a href=\"https://en.m.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard for formatting textual representations of date-time values.</p>\n<hr />\n<p>All of this has been covered many times already on Stack Overflow. Please search before posting here.</p>\n"}],"owner":{"account_id":11228165,"reputation":689,"user_id":8237188,"accept_rate":75,"display_name":"Muahmmad Tayyib"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72769913,"answer_count":1,"score":1,"last_activity_date":1656359158,"creation_date":1656319582,"question_id":72769305,"body_markdown":"I have a **UTC** formatted DateTime **String**\r\n\r\nand need this String to be converted to DATE Object without any Format change.\r\n\r\nCurrently, when I try to convert it to a date Object it is returned as GMT formatted Date object as depicted in the image attached below.\r\n\r\nI have a limitation of using **SimpleDateFormat** as I have to support **API&lt;21** also.\r\n\r\n    String newDateString = &quot;2022-06-27 08:27:00 UTC&quot;;\r\n    DateFormat format = new SimpleDateFormat(Constants.EnumDateFormats.DATE_FORMAT7);//&quot;yyyy-MM-dd HH:mm:ss &#39;UTC&#39;&quot;\r\n                    format.setTimeZone(java.util.TimeZone.getTimeZone(&quot;UTC&quot;));\r\n                    Date date = format.parse(newDateString);\r\n                    System.out.println(date);//printing GMT formatted Date object but I need Date object in UTC format like 2022-06-27 08:27:00 UTC\r\n\r\nI have attached debugged code image [![image][1]][1] for better under standing. \r\n\r\n  [1]: https://i.stack.imgur.com/G8NUl.png","title":"UTC formatted string to UTC Date Object using SimpleDateFormat","body":"<p>I have a <strong>UTC</strong> formatted DateTime <strong>String</strong></p>\n<p>and need this String to be converted to DATE Object without any Format change.</p>\n<p>Currently, when I try to convert it to a date Object it is returned as GMT formatted Date object as depicted in the image attached below.</p>\n<p>I have a limitation of using <strong>SimpleDateFormat</strong> as I have to support <strong>API&lt;21</strong> also.</p>\n<pre><code>String newDateString = &quot;2022-06-27 08:27:00 UTC&quot;;\nDateFormat format = new SimpleDateFormat(Constants.EnumDateFormats.DATE_FORMAT7);//&quot;yyyy-MM-dd HH:mm:ss 'UTC'&quot;\n                format.setTimeZone(java.util.TimeZone.getTimeZone(&quot;UTC&quot;));\n                Date date = format.parse(newDateString);\n                System.out.println(date);//printing GMT formatted Date object but I need Date object in UTC format like 2022-06-27 08:27:00 UTC\n</code></pre>\n<p>I have attached debugged code image <a href=\"https://i.stack.imgur.com/G8NUl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G8NUl.png\" alt=\"image\" /></a> for better under standing.</p>\n"},{"tags":["javascript","java","stomp","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":9398418,"reputation":1845,"user_id":6982270,"display_name":"Domenico Francesco Bruscino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656358756,"creation_date":1656323742,"answer_id":72770151,"question_id":72763102,"body_markdown":"ActiveMQ Artemis uses the `content-length` header to detect if the STOMP message type is binary or text.\r\n\r\nTo use text STOMP message type the Javascript program has to skip the `content-length` header and the Java program has to produce messages with text type i.e.\r\n\r\nJavascript program changes:\r\n\r\n    const message = { destination: &quot;broadcastMessage&quot;, skipContentLengthHeader: true };\r\n\r\n\r\nJava program:\r\n\r\n    ClientMessage message = session.createMessage(Message.TEXT_TYPE, false);\r\n    message.getBodyBuffer().writeNullableSimpleString(SimpleString.toSimpleString(payload));\r\n\r\nTo use binary STOMP message type the Java program has to produce messages with the `content-length` header i.e.\r\n\r\n    String payload = &quot;Message from java &quot; + i;\r\n    byte[] payloadBytes = payload.getBytes();\r\n    ClientMessage message = session.createMessage(false);\r\n    message.putIntProperty(&quot;content-length&quot;, payloadBytes.length);\r\n    message.getBodyBuffer().writeBytes(payloadBytes);\r\n","title":"How do I send messages from Java program to a Javascript STOMP client using ActiveMQ-Artemis?","body":"<p>ActiveMQ Artemis uses the <code>content-length</code> header to detect if the STOMP message type is binary or text.</p>\n<p>To use text STOMP message type the Javascript program has to skip the <code>content-length</code> header and the Java program has to produce messages with text type i.e.</p>\n<p>Javascript program changes:</p>\n<pre><code>const message = { destination: &quot;broadcastMessage&quot;, skipContentLengthHeader: true };\n</code></pre>\n<p>Java program:</p>\n<pre><code>ClientMessage message = session.createMessage(Message.TEXT_TYPE, false);\nmessage.getBodyBuffer().writeNullableSimpleString(SimpleString.toSimpleString(payload));\n</code></pre>\n<p>To use binary STOMP message type the Java program has to produce messages with the <code>content-length</code> header i.e.</p>\n<pre><code>String payload = &quot;Message from java &quot; + i;\nbyte[] payloadBytes = payload.getBytes();\nClientMessage message = session.createMessage(false);\nmessage.putIntProperty(&quot;content-length&quot;, payloadBytes.length);\nmessage.getBodyBuffer().writeBytes(payloadBytes);\n</code></pre>\n"}],"owner":{"account_id":2493234,"reputation":321,"user_id":2170308,"accept_rate":50,"display_name":"Jason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72770151,"answer_count":1,"score":0,"last_activity_date":1656358756,"creation_date":1656259058,"question_id":72763102,"body_markdown":"I&#39;m trying to communicate back and forth between a Java process and a browser UI.  To do this, I configured a multicast address in Artemis.  The messages from the Java process are not making it to the browser subscribers, which are implemented using StompJS.\r\n\r\nTo test, I wrote a Hello World type of program in Java and in Javascript to simplify the probelm as much as I could.  Both programs will start consumers on the address and then send 100 messages to the address.  The consumers just log that they received the message.  \r\n\r\nThe Java program receives all the messages that it produced and all the messages that the Javascript program produced.  The Javascript program receives all the messages that it produced, but *none of the messages that the Java program produced.*\r\n\r\nWhen I use the Artemis Console to look at the queue the STOMP client has created, it shows 200 messages added, 100 acknowledged, and 100 stuck in delivering. [![enter image description here][2]][2][![enter image description here][1]][1]\r\n\r\n\r\nIf I use the Artemis Console to send a message to that address, that message is received by both the Java and Javascript programs.\r\n\r\n\r\nAny ideas what I&#39;m doing wrong here?\r\n\r\n**Javascript program**\r\n\r\n    import { Client } from &quot;@stomp/stompjs&quot;\r\n    \r\n    let client;\r\n    \r\n    export function testStomp() {\r\n        client = new Client();\r\n        client.brokerURL = &quot;ws://messaging-host:7961&quot;;\r\n        client.onConnect = handleConnected;\r\n        client.activate();\r\n    }\r\n    \r\n    function handleConnected() {\r\n        client.subscribe(&quot;broadcastMessage&quot;, message =&gt; console.log(message.body));\r\n        const message = { destination: &quot;broadcastMessage&quot; };\r\n        for (let i = 0; i &lt; 100; i++) {\r\n            message.body = &quot;Message from javascript &quot; + i;\r\n            client.publish(message);\r\n        }\r\n    }\r\n\r\n\r\n**Java program**: \r\n\r\n    package com.whatever;\r\n    \r\n    import org.apache.activemq.artemis.api.core.*;\r\n    import org.apache.activemq.artemis.api.core.client.*;\r\n    import java.util.UUID;\r\n    \r\n    public class TestArtemis {\r\n        public static void main(String[] args) throws Exception {\r\n            String url = &quot;tcp://messaging-host:7961&quot;;\r\n            ServerLocator serverLocator = ActiveMQClient.createServerLocator(url);\r\n            ClientSession session = serverLocator.createSessionFactory().createSession();\r\n            startConsumer(session);\r\n            ClientProducer producer = session.createProducer();\r\n            for (int i = 0; i &lt; 100; i++) {\r\n                String payload = &quot;Message from java &quot; + i;\r\n                ClientMessage message = session.createMessage(false);\r\n                message.getBodyBuffer().writeBytes(payload.getBytes());\r\n                producer.send(&quot;broadcastMessage&quot;, message);\r\n                Thread.sleep(1000);\r\n            }\r\n        }\r\n    \r\n        private static void startConsumer(ClientSession session) throws Exception{\r\n            session.start();\r\n            String queueName = UUID.randomUUID().toString();\r\n            session.createQueue(new QueueConfiguration(queueName)\r\n                    .setAddress(&quot;broadcastMessage&quot;)\r\n                    .setDurable(false)\r\n                    .setRoutingType(RoutingType.MULTICAST)\r\n                    .setTemporary(true));\r\n            ClientConsumer consumer = session.createConsumer(queueName);\r\n            consumer.setMessageHandler(message -&gt; {\r\n                byte[] bytes = new byte[message.getBodyBuffer().readableBytes()];\r\n                message.getDataBuffer().readBytes(bytes);\r\n                System.out.println(&quot;Received &quot; + new String(bytes));\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1BbP5.png\r\n  [2]: https://i.stack.imgur.com/ENUFi.png","title":"How do I send messages from Java program to a Javascript STOMP client using ActiveMQ-Artemis?","body":"<p>I'm trying to communicate back and forth between a Java process and a browser UI.  To do this, I configured a multicast address in Artemis.  The messages from the Java process are not making it to the browser subscribers, which are implemented using StompJS.</p>\n<p>To test, I wrote a Hello World type of program in Java and in Javascript to simplify the probelm as much as I could.  Both programs will start consumers on the address and then send 100 messages to the address.  The consumers just log that they received the message.</p>\n<p>The Java program receives all the messages that it produced and all the messages that the Javascript program produced.  The Javascript program receives all the messages that it produced, but <em>none of the messages that the Java program produced.</em></p>\n<p>When I use the Artemis Console to look at the queue the STOMP client has created, it shows 200 messages added, 100 acknowledged, and 100 stuck in delivering. <a href=\"https://i.stack.imgur.com/ENUFi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ENUFi.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/1BbP5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1BbP5.png\" alt=\"enter image description here\" /></a></p>\n<p>If I use the Artemis Console to send a message to that address, that message is received by both the Java and Javascript programs.</p>\n<p>Any ideas what I'm doing wrong here?</p>\n<p><strong>Javascript program</strong></p>\n<pre><code>import { Client } from &quot;@stomp/stompjs&quot;\n\nlet client;\n\nexport function testStomp() {\n    client = new Client();\n    client.brokerURL = &quot;ws://messaging-host:7961&quot;;\n    client.onConnect = handleConnected;\n    client.activate();\n}\n\nfunction handleConnected() {\n    client.subscribe(&quot;broadcastMessage&quot;, message =&gt; console.log(message.body));\n    const message = { destination: &quot;broadcastMessage&quot; };\n    for (let i = 0; i &lt; 100; i++) {\n        message.body = &quot;Message from javascript &quot; + i;\n        client.publish(message);\n    }\n}\n</code></pre>\n<p><strong>Java program</strong>:</p>\n<pre><code>package com.whatever;\n\nimport org.apache.activemq.artemis.api.core.*;\nimport org.apache.activemq.artemis.api.core.client.*;\nimport java.util.UUID;\n\npublic class TestArtemis {\n    public static void main(String[] args) throws Exception {\n        String url = &quot;tcp://messaging-host:7961&quot;;\n        ServerLocator serverLocator = ActiveMQClient.createServerLocator(url);\n        ClientSession session = serverLocator.createSessionFactory().createSession();\n        startConsumer(session);\n        ClientProducer producer = session.createProducer();\n        for (int i = 0; i &lt; 100; i++) {\n            String payload = &quot;Message from java &quot; + i;\n            ClientMessage message = session.createMessage(false);\n            message.getBodyBuffer().writeBytes(payload.getBytes());\n            producer.send(&quot;broadcastMessage&quot;, message);\n            Thread.sleep(1000);\n        }\n    }\n\n    private static void startConsumer(ClientSession session) throws Exception{\n        session.start();\n        String queueName = UUID.randomUUID().toString();\n        session.createQueue(new QueueConfiguration(queueName)\n                .setAddress(&quot;broadcastMessage&quot;)\n                .setDurable(false)\n                .setRoutingType(RoutingType.MULTICAST)\n                .setTemporary(true));\n        ClientConsumer consumer = session.createConsumer(queueName);\n        consumer.setMessageHandler(message -&gt; {\n            byte[] bytes = new byte[message.getBodyBuffer().readableBytes()];\n            message.getDataBuffer().readBytes(bytes);\n            System.out.println(&quot;Received &quot; + new String(bytes));\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656356905,"creation_date":1656356905,"answer_id":72777222,"question_id":72776966,"body_markdown":"Spring Boot automatically configures one; simply add it as a parameter to the factory method:\r\n\r\n```\r\n@Bean\r\npublic ConcurrentKafkaListenerContainerFactory&lt;Object, KafkaExampleRecord&gt; kafkaListenerContainerFactory(\r\n    ConsumerFactory&lt;Object, KafkaExampleRecord&gt; cf) {\r\n...\r\n```\r\n\r\nHowever, you don&#39;t need to declare the container factory bean either; Boot will auto configure it for you and automatically set the KT, if it is defined as a bean.\r\n\r\nSee Boot&#39;s `KafkaAnnotationDrivenConfiguration`.","title":"How to load Kafka consumer or producer properties from application.yaml?","body":"<p>Spring Boot automatically configures one; simply add it as a parameter to the factory method:</p>\n<pre><code>@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;Object, KafkaExampleRecord&gt; kafkaListenerContainerFactory(\n    ConsumerFactory&lt;Object, KafkaExampleRecord&gt; cf) {\n...\n</code></pre>\n<p>However, you don't need to declare the container factory bean either; Boot will auto configure it for you and automatically set the KT, if it is defined as a bean.</p>\n<p>See Boot's <code>KafkaAnnotationDrivenConfiguration</code>.</p>\n"}],"owner":{"account_id":1613370,"reputation":2348,"user_id":1491720,"accept_rate":80,"display_name":"Tony Stark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":754,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72777222,"answer_count":1,"score":-1,"last_activity_date":1656358517,"creation_date":1656355388,"question_id":72776966,"body_markdown":"Currently I have this code for creating a `ConcurrentKafkaListenerContainerFactory`.\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;Object, KafkaExampleRecord&gt; kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;Object, KafkaExampleRecord&gt; factory =\r\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(new DefaultKafkaConsumerFactory&lt;&gt;(consumerProps()));\r\n        factory.setReplyTemplate(kafkaTemplate());\r\n        return factory;\r\n    }\r\n\r\nHow do I create the `DefaultKafkaConsumerFactory` object with properties from `application.yaml`? I don&#39;t want to set them inside the `consumerProps()` method.\r\n\r\nEDIT:\r\nMy KafkaConfig class now looks like this.\r\n\r\n    @Configuration\r\n    @EnableKafka\r\n    public class KafkaConfig {\r\n        @Bean\r\n        public ReplyingKafkaTemplate&lt;Object, KafkaExampleRecord, KafkaExampleRecord&gt; replyingKafkaTemplate(ProducerFactory&lt;Object, KafkaExampleRecord&gt; producerFactory,\r\n                                                                                                           ConcurrentMessageListenerContainer&lt;Object, KafkaExampleRecord&gt; repliesContainer) {\r\n            return new ReplyingKafkaTemplate&lt;&gt;(producerFactory, repliesContainer);\r\n        }\r\n    \r\n        @Bean\r\n        public ConcurrentMessageListenerContainer&lt;Object, KafkaExampleRecord&gt; repliesContainer(\r\n                ConcurrentKafkaListenerContainerFactory&lt;Object, KafkaExampleRecord&gt; kafkaListenerContainerFactory) {\r\n    \r\n            ConcurrentMessageListenerContainer&lt;Object, KafkaExampleRecord&gt; rc =\r\n                    kafkaListenerContainerFactory.createContainer(&quot;mytopic&quot;);\r\n            rc.setAutoStartup(false);\r\n            return rc;\r\n        }\r\n    \r\n        @Bean\r\n        public KafkaTemplate&lt;Object, KafkaExampleRecord&gt; kafkaTemplate(ProducerFactory&lt;Object, KafkaExampleRecord&gt; pf) {\r\n            return new KafkaTemplate&lt;&gt;(pf);\r\n        }\r\n    }\r\nHowever now I get `java.lang.IllegalStateException: a KafkaTemplate is required to support replies`.","title":"How to load Kafka consumer or producer properties from application.yaml?","body":"<p>Currently I have this code for creating a <code>ConcurrentKafkaListenerContainerFactory</code>.</p>\n<pre><code>@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;Object, KafkaExampleRecord&gt; kafkaListenerContainerFactory() {\n    ConcurrentKafkaListenerContainerFactory&lt;Object, KafkaExampleRecord&gt; factory =\n            new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(new DefaultKafkaConsumerFactory&lt;&gt;(consumerProps()));\n    factory.setReplyTemplate(kafkaTemplate());\n    return factory;\n}\n</code></pre>\n<p>How do I create the <code>DefaultKafkaConsumerFactory</code> object with properties from <code>application.yaml</code>? I don't want to set them inside the <code>consumerProps()</code> method.</p>\n<p>EDIT:\nMy KafkaConfig class now looks like this.</p>\n<pre><code>@Configuration\n@EnableKafka\npublic class KafkaConfig {\n    @Bean\n    public ReplyingKafkaTemplate&lt;Object, KafkaExampleRecord, KafkaExampleRecord&gt; replyingKafkaTemplate(ProducerFactory&lt;Object, KafkaExampleRecord&gt; producerFactory,\n                                                                                                       ConcurrentMessageListenerContainer&lt;Object, KafkaExampleRecord&gt; repliesContainer) {\n        return new ReplyingKafkaTemplate&lt;&gt;(producerFactory, repliesContainer);\n    }\n\n    @Bean\n    public ConcurrentMessageListenerContainer&lt;Object, KafkaExampleRecord&gt; repliesContainer(\n            ConcurrentKafkaListenerContainerFactory&lt;Object, KafkaExampleRecord&gt; kafkaListenerContainerFactory) {\n\n        ConcurrentMessageListenerContainer&lt;Object, KafkaExampleRecord&gt; rc =\n                kafkaListenerContainerFactory.createContainer(&quot;mytopic&quot;);\n        rc.setAutoStartup(false);\n        return rc;\n    }\n\n    @Bean\n    public KafkaTemplate&lt;Object, KafkaExampleRecord&gt; kafkaTemplate(ProducerFactory&lt;Object, KafkaExampleRecord&gt; pf) {\n        return new KafkaTemplate&lt;&gt;(pf);\n    }\n}\n</code></pre>\n<p>However now I get <code>java.lang.IllegalStateException: a KafkaTemplate is required to support replies</code>.</p>\n"},{"tags":["java","java-native-interface","pjsip"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1656291746,"post_id":72765678,"comment_id":128528355,"body_markdown":"`libpjsip-ua.so.2` needs to be present in your PATH or LIBPATH. But there is at least one Java implementation of SIP, I&#39;ve used it myself.","body":"<code>libpjsip-ua.so.2</code> needs to be present in your PATH or LIBPATH. But there is at least one Java implementation of SIP, I&#39;ve used it myself."},{"owner":{"account_id":9824751,"reputation":145,"user_id":7278126,"accept_rate":100,"display_name":"AHM200"},"score":0,"creation_date":1656291793,"post_id":72765678,"comment_id":128528364,"body_markdown":"it&#39;s present in my path, but still the same error shows up","body":"it&#39;s present in my path, but still the same error shows up"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1656305001,"post_id":72765678,"comment_id":128529920,"body_markdown":"Add `/home/sip` to your `LIBPATH`, and put this DLL there along with your JNI DLL, and use `System.loadLibrary(&quot;pjsua2.so&quot;)`.","body":"Add <code>&#47;home&#47;sip</code> to your <code>LIBPATH</code>, and put this DLL there along with your JNI DLL, and use <code>System.loadLibrary(&quot;pjsua2.so&quot;)</code>."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1656307708,"post_id":72765678,"comment_id":128530392,"body_markdown":"Add `e.printStackTrace()` to the `catch` block (before `System.exit(1)`, of-course).","body":"Add <code>e.printStackTrace()</code> to the <code>catch</code> block (before <code>System.exit(1)</code>, of-course)."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1656312894,"post_id":72765678,"comment_id":128531561,"body_markdown":"@Abra Well yeah, in general, but we already know it comes from the line that loads the library.","body":"@Abra Well yeah, in general, but we already know it comes from the line that loads the library."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1656316633,"post_id":72765678,"comment_id":128532678,"body_markdown":"@user207421 the stack trace may hold other, relevant information apart from the line that is throwing the error. I believe one should get into the habit of recording the stack trace in almost every `catch` block. Note that _recording the stack trace_ does not necessarily mean calling method `printStackTrace()`","body":"@user207421 the stack trace may hold other, relevant information apart from the line that is throwing the error. I believe one should get into the habit of recording the stack trace in almost every <code>catch</code> block. Note that <i>recording the stack trace</i> does not necessarily mean calling method <code>printStackTrace()</code>"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1656317746,"post_id":72765678,"comment_id":128533089,"body_markdown":"@Abra it will not. dependency libraries are handled by the OS library loader which does not contribute to Java stack traces.","body":"@Abra it will not. dependency libraries are handled by the OS library loader which does not contribute to Java stack traces."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1656317881,"post_id":72765678,"comment_id":128533137,"body_markdown":"It seems you are on Linux Then the correct variable to set is `LD_LIBRARY_PATH`. As a debugging tool, you should be able to run `ldd /home/sip/libpjsua2.so` and have it come up without any &quot;not found&quot; entries.","body":"It seems you are on Linux Then the correct variable to set is <code>LD_LIBRARY_PATH</code>. As a debugging tool, you should be able to run <code>ldd &#47;home&#47;sip&#47;libpjsua2.so</code> and have it come up without any &quot;not found&quot; entries."},{"owner":{"account_id":9824751,"reputation":145,"user_id":7278126,"accept_rate":100,"display_name":"AHM200"},"score":0,"creation_date":1656355674,"post_id":72765678,"comment_id":128547286,"body_markdown":"@Botje I ran the command and didn&#39;t get any errors","body":"@Botje I ran the command and didn&#39;t get any errors"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1656357968,"post_id":72765678,"comment_id":128547923,"body_markdown":"No lines with &quot;not found&quot; in, then? Are you running Java in the same environment?","body":"No lines with &quot;not found&quot; in, then? Are you running Java in the same environment?"},{"owner":{"account_id":9824751,"reputation":145,"user_id":7278126,"accept_rate":100,"display_name":"AHM200"},"score":0,"creation_date":1656358134,"post_id":72765678,"comment_id":128547974,"body_markdown":"No it&#39;s all fine I&#39;ll edit the question to add the result\nand yes I am running java in the same env","body":"No it&#39;s all fine I&#39;ll edit the question to add the result and yes I am running java in the same env"}],"owner":{"account_id":9824751,"reputation":145,"user_id":7278126,"accept_rate":100,"display_name":"AHM200"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656358238,"creation_date":1656284362,"question_id":72765678,"body_markdown":"I am trying to use PJSIP in my own standalone Java application, but I am facing a lot of issues in building the DLLs for Java.\r\nIs there any DOCs for doing this as I am new to JNI so any help ?\r\n\r\nThis is the error I am getting when I try to load (&quot;libpjsua.so&quot;)\r\n\r\n```none\r\njava.lang.UnsatisfiedLinkError: libpjsua.so.2: libpjsip-ua.so.2: cannot open shared object file: No such file or directory\r\n```\r\n```java\r\npublic class Main {\r\n    static {\r\n        try {\r\n            System.load(&quot;/home/sip/libpjsua2.so&quot;);\r\n            System.out.println(&quot;Loaded&quot;);\r\n        } catch (UnsatisfiedLinkError e) {\r\n            System.err.println(&quot;Native code library failed to load.\\n&quot; + e);\r\n            System.exit(1);\r\n        }\r\n    }\r\n\r\n    public static void main(String argv[])\r\n    {\r\n        Call call = new Call(null, 0);\r\n        System.out.println(&quot;this is call: &quot;+call);\r\n    }\r\n}\r\n```\r\n\r\n**EDIT**\r\nand this is the result of running ```ldd /home/sip/libpjsua2.so```\r\n```\r\nlinux-vdso.so.1 (0x00007ffee372b000)\r\n\tlibpjsua.so.2 =&gt; /usr/local/lib/libpjsua.so.2 (0x00007fdab1d55000)\r\n\tlibpjsip-simple.so.2 =&gt; /usr/local/lib/libpjsip-simple.so.2 (0x00007fdab1d3c000)\r\n\tlibpjsip.so.2 =&gt; /usr/local/lib/libpjsip.so.2 (0x00007fdab1ce3000)\r\n\tlibpjmedia.so.2 =&gt; /usr/local/lib/libpjmedia.so.2 (0x00007fdab1c7b000)\r\n\tlibpjlib-util.so.2 =&gt; /usr/local/lib/libpjlib-util.so.2 (0x00007fdab1c4f000)\r\n\tlibpj.so.2 =&gt; /usr/local/lib/libpj.so.2 (0x00007fdab1c13000)\r\n\tlibstdc++.so.6 =&gt; /lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007fdab19d3000)\r\n\tlibgcc_s.so.1 =&gt; /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007fdab19b3000)\r\n\tlibc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007fdab178b000)\r\n\tlibpjsip-ua.so.2 =&gt; /usr/local/lib/libpjsip-ua.so.2 (0x00007fdab176b000)\r\n\tlibpjmedia-audiodev.so.2 =&gt; /usr/local/lib/libpjmedia-audiodev.so.2 (0x00007fdab1761000)\r\n\tlibpjmedia-codec.so.2 =&gt; /usr/local/lib/libpjmedia-codec.so.2 (0x00007fdab174f000)\r\n\tlibpjnath.so.2 =&gt; /usr/local/lib/libpjnath.so.2 (0x00007fdab1719000)\r\n\tlibcrypto.so.3 =&gt; /lib/x86_64-linux-gnu/libcrypto.so.3 (0x00007fdab12d7000)\r\n\tlibsrtp.so.2 =&gt; /usr/local/lib/libsrtp.so.2 (0x00007fdab12c1000)\r\n\tlibresample.so.2 =&gt; /usr/local/lib/libresample.so.2 (0x00007fdab12b2000)\r\n\tlibspeex.so.2 =&gt; /usr/local/lib/libspeex.so.2 (0x00007fdab1282000)\r\n\tlibwebrtc.so.2 =&gt; /usr/local/lib/libwebrtc.so.2 (0x00007fdab1257000)\r\n\tlibm.so.6 =&gt; /lib/x86_64-linux-gnu/libm.so.6 (0x00007fdab1170000)\r\n\tlibssl.so.3 =&gt; /lib/x86_64-linux-gnu/libssl.so.3 (0x00007fdab10cc000)\r\n\t/lib64/ld-linux-x86-64.so.2 (0x00007fdab1f0e000)\r\n\tlibasound.so.2 =&gt; /lib/x86_64-linux-gnu/libasound.so.2 (0x00007fdab0fc9000)\r\n\tlibgsmcodec.so.2 =&gt; /usr/local/lib/libgsmcodec.so.2 (0x00007fdab0fbd000)\r\n\tlibilbccodec.so.2 =&gt; /usr/local/lib/libilbccodec.so.2 (0x00007fdab0faa000)\r\n```\r\n","title":"Using pjsip in Java with JNI","body":"<p>I am trying to use PJSIP in my own standalone Java application, but I am facing a lot of issues in building the DLLs for Java.\nIs there any DOCs for doing this as I am new to JNI so any help ?</p>\n<p>This is the error I am getting when I try to load (&quot;libpjsua.so&quot;)</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.UnsatisfiedLinkError: libpjsua.so.2: libpjsip-ua.so.2: cannot open shared object file: No such file or directory\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    static {\n        try {\n            System.load(&quot;/home/sip/libpjsua2.so&quot;);\n            System.out.println(&quot;Loaded&quot;);\n        } catch (UnsatisfiedLinkError e) {\n            System.err.println(&quot;Native code library failed to load.\\n&quot; + e);\n            System.exit(1);\n        }\n    }\n\n    public static void main(String argv[])\n    {\n        Call call = new Call(null, 0);\n        System.out.println(&quot;this is call: &quot;+call);\n    }\n}\n</code></pre>\n<p><strong>EDIT</strong>\nand this is the result of running <code>ldd /home/sip/libpjsua2.so</code></p>\n<pre><code>linux-vdso.so.1 (0x00007ffee372b000)\n    libpjsua.so.2 =&gt; /usr/local/lib/libpjsua.so.2 (0x00007fdab1d55000)\n    libpjsip-simple.so.2 =&gt; /usr/local/lib/libpjsip-simple.so.2 (0x00007fdab1d3c000)\n    libpjsip.so.2 =&gt; /usr/local/lib/libpjsip.so.2 (0x00007fdab1ce3000)\n    libpjmedia.so.2 =&gt; /usr/local/lib/libpjmedia.so.2 (0x00007fdab1c7b000)\n    libpjlib-util.so.2 =&gt; /usr/local/lib/libpjlib-util.so.2 (0x00007fdab1c4f000)\n    libpj.so.2 =&gt; /usr/local/lib/libpj.so.2 (0x00007fdab1c13000)\n    libstdc++.so.6 =&gt; /lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007fdab19d3000)\n    libgcc_s.so.1 =&gt; /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007fdab19b3000)\n    libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007fdab178b000)\n    libpjsip-ua.so.2 =&gt; /usr/local/lib/libpjsip-ua.so.2 (0x00007fdab176b000)\n    libpjmedia-audiodev.so.2 =&gt; /usr/local/lib/libpjmedia-audiodev.so.2 (0x00007fdab1761000)\n    libpjmedia-codec.so.2 =&gt; /usr/local/lib/libpjmedia-codec.so.2 (0x00007fdab174f000)\n    libpjnath.so.2 =&gt; /usr/local/lib/libpjnath.so.2 (0x00007fdab1719000)\n    libcrypto.so.3 =&gt; /lib/x86_64-linux-gnu/libcrypto.so.3 (0x00007fdab12d7000)\n    libsrtp.so.2 =&gt; /usr/local/lib/libsrtp.so.2 (0x00007fdab12c1000)\n    libresample.so.2 =&gt; /usr/local/lib/libresample.so.2 (0x00007fdab12b2000)\n    libspeex.so.2 =&gt; /usr/local/lib/libspeex.so.2 (0x00007fdab1282000)\n    libwebrtc.so.2 =&gt; /usr/local/lib/libwebrtc.so.2 (0x00007fdab1257000)\n    libm.so.6 =&gt; /lib/x86_64-linux-gnu/libm.so.6 (0x00007fdab1170000)\n    libssl.so.3 =&gt; /lib/x86_64-linux-gnu/libssl.so.3 (0x00007fdab10cc000)\n    /lib64/ld-linux-x86-64.so.2 (0x00007fdab1f0e000)\n    libasound.so.2 =&gt; /lib/x86_64-linux-gnu/libasound.so.2 (0x00007fdab0fc9000)\n    libgsmcodec.so.2 =&gt; /usr/local/lib/libgsmcodec.so.2 (0x00007fdab0fbd000)\n    libilbccodec.so.2 =&gt; /usr/local/lib/libilbccodec.so.2 (0x00007fdab0faa000)\n</code></pre>\n"},{"tags":["java","maven","jar","pom.xml"],"comments":[{"owner":{"account_id":482071,"reputation":5624,"user_id":896249,"accept_rate":79,"display_name":"GameDroids"},"score":3,"creation_date":1569307687,"post_id":58074491,"comment_id":102544038,"body_markdown":"Possible duplicate of [How to add local jar files to a Maven project?](https://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-to-a-maven-project)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-to-a-maven-project\">How to add local jar files to a Maven project?</a>"},{"owner":{"account_id":482071,"reputation":5624,"user_id":896249,"accept_rate":79,"display_name":"GameDroids"},"score":0,"creation_date":1569307770,"post_id":58074491,"comment_id":102544084,"body_markdown":"I think the answer you are looking for is [here](https://stackoverflow.com/q/4955635/896249) (duplicate).","body":"I think the answer you are looking for is <a href=\"https://stackoverflow.com/q/4955635/896249\">here</a> (duplicate)."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1569307771,"post_id":58074491,"comment_id":102544085,"body_markdown":"@GameDroids No, op doesn&#39;t want to enumerate the jars in the pom; much less add the jars manually to a local `.m2`. There are tools like sbt and gradle that make writing large numbers of dependencies easier.","body":"@GameDroids No, op doesn&#39;t want to enumerate the jars in the pom; much less add the jars manually to a local <code>.m2</code>. There are tools like sbt and gradle that make writing large numbers of dependencies easier."},{"owner":{"account_id":7799153,"reputation":294,"user_id":5899218,"accept_rate":100,"display_name":"AKMMM"},"score":2,"creation_date":1569307819,"post_id":58074491,"comment_id":102544103,"body_markdown":"If I understand correctly, you want to import all your local jar files into your pom automatically? If this is what you want, I don&#39;t think it&#39;s possible","body":"If I understand correctly, you want to import all your local jar files into your pom automatically? If this is what you want, I don&#39;t think it&#39;s possible"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1569307870,"post_id":58074491,"comment_id":102544133,"body_markdown":"If @AKMMM is right, I wouldn&#39;t try even if it was possible...","body":"If @AKMMM is right, I wouldn&#39;t try even if it was possible..."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1569307945,"post_id":58074491,"comment_id":102544170,"body_markdown":"@AKMMM That was my interpretation as well, and it might be possible to hack something together to do it; but it would be so *fragile* I don&#39;t want to attempt it either. Assuming all of the dependent jars contain pom files then you could write a script to extract the tags (but again, it would be *brittle*).","body":"@AKMMM That was my interpretation as well, and it might be possible to hack something together to do it; but it would be so <i>fragile</i> I don&#39;t want to attempt it either. Assuming all of the dependent jars contain pom files then you could write a script to extract the tags (but again, it would be <i>brittle</i>)."},{"owner":{"account_id":482071,"reputation":5624,"user_id":896249,"accept_rate":79,"display_name":"GameDroids"},"score":0,"creation_date":1569308009,"post_id":58074491,"comment_id":102544203,"body_markdown":"But you can also let your IDE do the job. Keep a list of your dependencies (jar) libraries, their names and versions (if you know them) then in your IDE you can most likely go to some &quot;maven&quot; menu and &quot;add dependency&quot; somewhere which should provide you with a search option to search for the name and version of your dependency. I think it is worth while to take the time and search for the dependency in maven - in some cases you might even be able to get newer versions or resolve dependency problems.","body":"But you can also let your IDE do the job. Keep a list of your dependencies (jar) libraries, their names and versions (if you know them) then in your IDE you can most likely go to some &quot;maven&quot; menu and &quot;add dependency&quot; somewhere which should provide you with a search option to search for the name and version of your dependency. I think it is worth while to take the time and search for the dependency in maven - in some cases you might even be able to get newer versions or resolve dependency problems."},{"owner":{"account_id":16755181,"reputation":43,"user_id":12111279,"display_name":"Jatin Vasnani"},"score":0,"creation_date":1569393592,"post_id":58074491,"comment_id":102577527,"body_markdown":"@GameDroids I do not want to add the jars from/to the local repository. I wanted to create regular pom &lt;dendency&gt; entries along with groupId, artifactId and version for the jar which I already have. The local repository approach will not work for me.","body":"@GameDroids I do not want to add the jars from/to the local repository. I wanted to create regular pom &lt;dendency&gt; entries along with groupId, artifactId and version for the jar which I already have. The local repository approach will not work for me."}],"answers":[{"tags":[],"owner":{"account_id":12974704,"reputation":1256,"user_id":11872560,"display_name":"Dulaj Kulathunga"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569309361,"creation_date":1569308055,"answer_id":58074620,"question_id":58074491,"body_markdown":"**You can Install manually the JAR into your local Maven repository**\r\n\r\n**First Way** \r\n\r\nFollow the steps here \r\n```\r\nmvn install:install-file -Dfile=&lt;path-to-file&gt;\r\n\r\n```\r\nAnd in here you can be able to add these  information  in command line\r\n\r\n```\r\nmvn install:install-file -Dfile=&lt;path-to-file&gt; -DgroupId=&lt;group-id&gt; -DartifactId=&lt;artifact-id&gt; -Dversion=&lt;version&gt;\r\n```\r\n\r\n`&lt;path-to-file&gt;` mentioned path to the JAR to install\r\n\r\n`&lt;group-id&gt;` mentioned  group id of the JAR to install\r\n\r\n`&lt;artifact-id&gt;` mentioned  artifact id of the JAR to install\r\n\r\n`&lt;version&gt;` mentioned  version of the JAR\r\n\r\n\r\n**Second Way** \r\n\r\nYou can create a different local Maven repository\r\n\r\nFollow the Steps \r\n\r\nwe can  consider the new local Maven repository is named `maven-repository` and is located in `${basedir}` (the directory containing pom.xml). \r\n\r\n\r\nDeploying the local JARs in the new local maven repository as below i am following \r\n```\r\nmvn deploy:deploy-file -Dfile=&lt;path-to-file&gt; -DgroupId=&lt;group-id&gt; -DartifactId=&lt;artifact-id&gt; -Dversion=&lt;version&gt; -Dpackaging=jar -Durl=file:./maven-repository/ -DrepositoryId=maven-repository -DupdateReleaseInfo=true\r\n```\r\nyou can see which the maven `deploy:deploy-file` installs the artifact in a remote repository but in here  repository is located in the local machine\r\n\r\nAfter installing the JARs your need to add the repository in your pom.xml file\r\n\r\n\r\n```\r\n&lt;repositories&gt;\r\n    &lt;repository&gt;\r\n        &lt;id&gt;maven-repository&lt;/id&gt;\r\n        &lt;url&gt;file:///${project.basedir}/maven-repository&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n```","title":"Is there a way to create maven dependency in pom file from a local jar","body":"<p><strong>You can Install manually the JAR into your local Maven repository</strong></p>\n\n<p><strong>First Way</strong> </p>\n\n<p>Follow the steps here </p>\n\n<pre><code>mvn install:install-file -Dfile=&lt;path-to-file&gt;\n\n</code></pre>\n\n<p>And in here you can be able to add these  information  in command line</p>\n\n<pre><code>mvn install:install-file -Dfile=&lt;path-to-file&gt; -DgroupId=&lt;group-id&gt; -DartifactId=&lt;artifact-id&gt; -Dversion=&lt;version&gt;\n</code></pre>\n\n<p><code>&lt;path-to-file&gt;</code> mentioned path to the JAR to install</p>\n\n<p><code>&lt;group-id&gt;</code> mentioned  group id of the JAR to install</p>\n\n<p><code>&lt;artifact-id&gt;</code> mentioned  artifact id of the JAR to install</p>\n\n<p><code>&lt;version&gt;</code> mentioned  version of the JAR</p>\n\n<p><strong>Second Way</strong> </p>\n\n<p>You can create a different local Maven repository</p>\n\n<p>Follow the Steps </p>\n\n<p>we can  consider the new local Maven repository is named <code>maven-repository</code> and is located in <code>${basedir}</code> (the directory containing pom.xml). </p>\n\n<p>Deploying the local JARs in the new local maven repository as below i am following </p>\n\n<pre><code>mvn deploy:deploy-file -Dfile=&lt;path-to-file&gt; -DgroupId=&lt;group-id&gt; -DartifactId=&lt;artifact-id&gt; -Dversion=&lt;version&gt; -Dpackaging=jar -Durl=file:./maven-repository/ -DrepositoryId=maven-repository -DupdateReleaseInfo=true\n</code></pre>\n\n<p>you can see which the maven <code>deploy:deploy-file</code> installs the artifact in a remote repository but in here  repository is located in the local machine</p>\n\n<p>After installing the JARs your need to add the repository in your pom.xml file</p>\n\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;maven-repository&lt;/id&gt;\n        &lt;url&gt;file:///${project.basedir}/maven-repository&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569313921,"creation_date":1569313921,"answer_id":58076145,"question_id":58074491,"body_markdown":"AFAIK there is not Maven way to do this.\r\n\r\nYou could write a script that computes the SHA1 value of each jar and searches for the jar in your Maven repository. It could, alternatively, open the jars and search for the `pom.properties` to extract the Maven coordinates.\r\n\r\nIn any way, this is probably too much programming effort unless you need to do it for many projects.","title":"Is there a way to create maven dependency in pom file from a local jar","body":"<p>AFAIK there is not Maven way to do this.</p>\n\n<p>You could write a script that computes the SHA1 value of each jar and searches for the jar in your Maven repository. It could, alternatively, open the jars and search for the <code>pom.properties</code> to extract the Maven coordinates.</p>\n\n<p>In any way, this is probably too much programming effort unless you need to do it for many projects.</p>\n"},{"tags":[],"owner":{"account_id":2491374,"reputation":2992,"user_id":2168752,"display_name":"Milen Dyankov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656358142,"creation_date":1569333483,"answer_id":58081980,"question_id":58074491,"body_markdown":"This code\r\n\r\n```java\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tSet&lt;String&gt; missingMavenData = new HashSet&lt;String&gt;();\r\n\t\tString FOLDER = &quot;/path/to/your/folder/with/jars&quot;;\r\n\t\t\r\n\t\tFiles\r\n\t\t .walk(Paths.get(FOLDER), FileVisitOption.FOLLOW_LINKS)\r\n\t\t .map(Path::toFile)\r\n\t\t .filter(f -&gt; f.isFile())\r\n\t\t .filter(f -&gt; f.getName().endsWith(&quot;.jar&quot;))\r\n\t\t .map(f -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\treturn new JarFile(f);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t })\r\n\t\t .filter(Objects::nonNull)\r\n\t\t .map(jar -&gt; {\r\n\t\t\t Properties properties = null;\r\n\t\t\t Enumeration&lt;JarEntry&gt; entries = jar.entries();\r\n\t\t\t while (entries.hasMoreElements()) {\r\n\t\t\t\t JarEntry jarEntry = entries.nextElement();\r\n\t\t\t\t if (jarEntry.getName().matches(&quot;^META-INF/maven/.*/pom\\\\.properties$&quot;)) {\r\n\t\t\t\t\t try {\r\n\t\t\t\t\t\t properties = new Properties();\r\n\t\t\t\t\t\t properties.load(jar.getInputStream(jarEntry));\r\n\t\t\t\t\t\t break;\r\n\t\t\t\t\t } catch (IOException e) {\r\n\t\t\t\t\t\t e.printStackTrace();\r\n\t\t\t\t\t }\r\n\t\t\t\t };\r\n\t\t\t } \r\n\t\t\t if (properties == null) {\r\n\t\t\t\t missingMavenData.add(jar.getName());\r\n\t\t\t }\r\n\t\t\t return properties;\r\n\t\t })\r\n\t\t .filter(Objects::nonNull)\r\n\t\t .forEach(properties -&gt; {\r\n\t\t\tSystem.out.println(&quot;&lt; dependency&gt;&quot;);\r\n\t\t\tSystem.out.println(&quot;\t&lt;groupId&gt;&quot; + properties.getProperty(&quot;groupId&quot;)+ &quot;&lt;/groupId&gt;&quot;);\r\n\t\t\tSystem.out.println(&quot;\t&lt;artifactId&gt;&quot; + properties.getProperty(&quot;artifactId&quot;)+ &quot;&lt;/artifactId&gt;&quot;);\r\n\t\t\tSystem.out.println(&quot;\t&lt;version&gt;&quot; + properties.getProperty(&quot;version&quot;)+ &quot;&lt;/version&gt;&quot;);\r\n\t\t\tSystem.out.println(&quot;&lt;/dependency&gt;&quot;);\r\n\t\t });\r\n\t\t\r\n\t\tSystem.out.println(&quot;Those JAR files do not contain Maven metadata:&quot;);\r\n\t\tmissingMavenData.forEach(System.out::println);\r\n\t}\r\n```\r\nwill iterate over your jar files and try to find the Maven metadata in them. It will generate the POM entries for those who have it and will list those that don&#39;t have it so you can add it manually. I hope this helps.\r\n\r\n**UPDATE:**\r\n\r\nI added `bom-helper:fromJars` goal to [BOM Helper Maven Plugin][1] which does more or less the same thing as the above code. One can now simply add the plugin\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;com.commsen.maven&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;bom-helper-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.2.0&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n```\r\nand configure it to call `fromJars` goal. It can also be called form command line. For example:\r\n\r\n```shell\r\nmvn bom-helper:fromJars \\\r\n -Dbom-helper.jarsFolder=/path/to/folder/with/jars \\\r\n -Dbom-helper.inplace=true \\\r\n -Dbom-helper.recursive\r\n```\r\nwill update current pom with entries for all jars that have Maven metadata in them.\r\n\r\n  [1]: http://commsen.com/bom-helper-maven-plugin/","title":"Is there a way to create maven dependency in pom file from a local jar","body":"<p>This code</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) throws IOException {\n        Set&lt;String&gt; missingMavenData = new HashSet&lt;String&gt;();\n        String FOLDER = &quot;/path/to/your/folder/with/jars&quot;;\n        \n        Files\n         .walk(Paths.get(FOLDER), FileVisitOption.FOLLOW_LINKS)\n         .map(Path::toFile)\n         .filter(f -&gt; f.isFile())\n         .filter(f -&gt; f.getName().endsWith(&quot;.jar&quot;))\n         .map(f -&gt; {\n            try {\n                return new JarFile(f);\n            } catch (IOException e) {\n                e.printStackTrace();\n                return null;\n            }\n         })\n         .filter(Objects::nonNull)\n         .map(jar -&gt; {\n             Properties properties = null;\n             Enumeration&lt;JarEntry&gt; entries = jar.entries();\n             while (entries.hasMoreElements()) {\n                 JarEntry jarEntry = entries.nextElement();\n                 if (jarEntry.getName().matches(&quot;^META-INF/maven/.*/pom\\\\.properties$&quot;)) {\n                     try {\n                         properties = new Properties();\n                         properties.load(jar.getInputStream(jarEntry));\n                         break;\n                     } catch (IOException e) {\n                         e.printStackTrace();\n                     }\n                 };\n             } \n             if (properties == null) {\n                 missingMavenData.add(jar.getName());\n             }\n             return properties;\n         })\n         .filter(Objects::nonNull)\n         .forEach(properties -&gt; {\n            System.out.println(&quot;&lt; dependency&gt;&quot;);\n            System.out.println(&quot;    &lt;groupId&gt;&quot; + properties.getProperty(&quot;groupId&quot;)+ &quot;&lt;/groupId&gt;&quot;);\n            System.out.println(&quot;    &lt;artifactId&gt;&quot; + properties.getProperty(&quot;artifactId&quot;)+ &quot;&lt;/artifactId&gt;&quot;);\n            System.out.println(&quot;    &lt;version&gt;&quot; + properties.getProperty(&quot;version&quot;)+ &quot;&lt;/version&gt;&quot;);\n            System.out.println(&quot;&lt;/dependency&gt;&quot;);\n         });\n        \n        System.out.println(&quot;Those JAR files do not contain Maven metadata:&quot;);\n        missingMavenData.forEach(System.out::println);\n    }\n</code></pre>\n<p>will iterate over your jar files and try to find the Maven metadata in them. It will generate the POM entries for those who have it and will list those that don't have it so you can add it manually. I hope this helps.</p>\n<p><strong>UPDATE:</strong></p>\n<p>I added <code>bom-helper:fromJars</code> goal to <a href=\"http://commsen.com/bom-helper-maven-plugin/\" rel=\"nofollow noreferrer\">BOM Helper Maven Plugin</a> which does more or less the same thing as the above code. One can now simply add the plugin</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.commsen.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;bom-helper-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.2.0&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>and configure it to call <code>fromJars</code> goal. It can also be called form command line. For example:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn bom-helper:fromJars \\\n -Dbom-helper.jarsFolder=/path/to/folder/with/jars \\\n -Dbom-helper.inplace=true \\\n -Dbom-helper.recursive\n</code></pre>\n<p>will update current pom with entries for all jars that have Maven metadata in them.</p>\n"},{"tags":[],"owner":{"account_id":8719765,"reputation":1168,"user_id":6523288,"display_name":"Dragas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569612534,"creation_date":1569612534,"answer_id":58140456,"question_id":58074491,"body_markdown":"What you need is your local maven nexus that is only available in your server. Considering you have jars that are only available to you, I guess that you have sources for them. As a result, you should be able to convert them into maven projects and deploy them into your local nexus. After fixing the structure, maven will download your dependencies and the dependencies&#39; dependencies when resolving a project. \r\n\r\nOr you could use `&lt;scope&gt;system&lt;/scope&gt;`, but that requires absolute paths and is generally not suggested.","title":"Is there a way to create maven dependency in pom file from a local jar","body":"<p>What you need is your local maven nexus that is only available in your server. Considering you have jars that are only available to you, I guess that you have sources for them. As a result, you should be able to convert them into maven projects and deploy them into your local nexus. After fixing the structure, maven will download your dependencies and the dependencies' dependencies when resolving a project. </p>\n\n<p>Or you could use <code>&lt;scope&gt;system&lt;/scope&gt;</code>, but that requires absolute paths and is generally not suggested.</p>\n"}],"owner":{"account_id":16755181,"reputation":43,"user_id":12111279,"display_name":"Jatin Vasnani"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3274,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":58081980,"answer_count":4,"score":1,"last_activity_date":1656358142,"creation_date":1569307481,"question_id":58074491,"body_markdown":"There is a java project which has too many jar files and it has become difficult to manage all of them. I know there is a way to convert this project to a maven project but I don&#39;t want to manually add the dependency for each jar in my project to the pom file.\r\n\r\nIs there any way to create the pom file using the local jar files such that the pom will contain the dependency tag for each jar.\r\n\r\nEdit : I want to clarify that  I do not want to add the jars from/to the local repository. \r\nThe local repository approach will not work for me as the project will be used by multiple users across different systems.\r\n\r\nI wanted to create regular pom dependency entries along with groupId, artifactId and version for the jar files which I already have so that I can copy-paste it into the pom file when I convert my project to a Maven project. As I have a large number of JARs in my project, I would have to do it all manually. \r\n\r\nSolution provided by @Milen Dyankov worked for me. I was able to get the information I needed from most of the JAR files.","title":"Is there a way to create maven dependency in pom file from a local jar","body":"<p>There is a java project which has too many jar files and it has become difficult to manage all of them. I know there is a way to convert this project to a maven project but I don't want to manually add the dependency for each jar in my project to the pom file.</p>\n\n<p>Is there any way to create the pom file using the local jar files such that the pom will contain the dependency tag for each jar.</p>\n\n<p>Edit : I want to clarify that  I do not want to add the jars from/to the local repository. \nThe local repository approach will not work for me as the project will be used by multiple users across different systems.</p>\n\n<p>I wanted to create regular pom dependency entries along with groupId, artifactId and version for the jar files which I already have so that I can copy-paste it into the pom file when I convert my project to a Maven project. As I have a large number of JARs in my project, I would have to do it all manually. </p>\n\n<p>Solution provided by @Milen Dyankov worked for me. I was able to get the information I needed from most of the JAR files.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8763,"page":1229,"page_size":100}
