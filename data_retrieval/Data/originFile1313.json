{"items":[{"tags":["java","arrays","indexing","sequence","cyclic"],"answers":[{"tags":[],"owner":{"account_id":2191726,"reputation":817,"user_id":1938574,"display_name":"Gregor Ophey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637265811,"creation_date":1637265811,"answer_id":70026036,"question_id":70025803,"body_markdown":"\r\nTo get x and y into the method just add parameters of same name\r\nTo go back to 0 after 7 use the modulo operator %.\r\n\r\nHere is you code with the necessary changes and some fixes:\r\n\r\n    static boolean isCyclicEqual(int[] DNA1, int[] DNA2) {\r\n        for (x=0;x&lt;8;x++) {\r\n            for (y=0;y&lt;8;y++) {\r\n                if (isEqual(DNAarray1, x, DNAarray2, y)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    static boolean isEqual(int[] DNA1, int x, int[] DNA2, int y) {\r\n        for (int c = 0; c &lt; 8; c++) {\r\n            if (DNA1[(x + c) % 8] != DNA2[(y + c) % 8]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n","title":"How can I check if two cyclic sequences that are stored in arrays are equal (Java)?","body":"<p>To get x and y into the method just add parameters of same name\nTo go back to 0 after 7 use the modulo operator %.</p>\n<p>Here is you code with the necessary changes and some fixes:</p>\n<pre><code>static boolean isCyclicEqual(int[] DNA1, int[] DNA2) {\n    for (x=0;x&lt;8;x++) {\n        for (y=0;y&lt;8;y++) {\n            if (isEqual(DNAarray1, x, DNAarray2, y)) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\nstatic boolean isEqual(int[] DNA1, int x, int[] DNA2, int y) {\n    for (int c = 0; c &lt; 8; c++) {\n        if (DNA1[(x + c) % 8] != DNA2[(y + c) % 8]) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637271022,"creation_date":1637270195,"answer_id":70026842,"question_id":70025803,"body_markdown":"In case you have only `8` elements in the arrays, then performance is not critical for the solution. Then it could be like this:\r\n\r\n```java\r\npublic static boolean isEqualCycle(char[] one, char[] two) {\r\n    String strOne = new String(one);\r\n    String strTwo = new String(two);\r\n\r\n    for (int i = 0; i &lt; one.length; i++) {\r\n        if (strOne.equalsIgnoreCase(strTwo))\r\n            return true;\r\n        strTwo = strTwo.charAt(strTwo.length() - 1) + strTwo.substring(0, strTwo.length() - 1);\r\n    }\r\n\r\n    return false;\r\n}\r\n```\r\n---\r\nAnother soulion is to use additional array:\r\n\r\n```java\r\npublic static boolean isEqualCycle(char[] one, char[] two) {\r\n    char[] tmp = Arrays.copyOf(two, two.length);\r\n\r\n    for (int i = 0; i &lt; one.length - 1; i++) {\r\n        if (isEqual(one, tmp))\r\n            return true;\r\n        rotateRight(tmp);\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nprivate static boolean isEqual(char[] one, char[] tmp) {\r\n    for (int i = 0; i &lt; one.length; i++)\r\n        if (one[i] != tmp[i])\r\n            return false;\r\n    return true;\r\n}\r\n\r\nprivate static void rotateRight(char[] arr) {\r\n    for (int i = 0, j = arr.length - 1; i &lt; j; i++, j--)\r\n        swap(arr, i, j);\r\n    for (int i = 1, j = arr.length - 1; i &lt; j; i++, j--)\r\n        swap(arr, i, j);\r\n}\r\n\r\nprivate static void swap(char[] arr, int i, int j) {\r\n    char tmp = arr[i];\r\n    arr[i] = arr[j];\r\n    arr[j] = tmp;\r\n}\r\n```","title":"How can I check if two cyclic sequences that are stored in arrays are equal (Java)?","body":"<p>In case you have only <code>8</code> elements in the arrays, then performance is not critical for the solution. Then it could be like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isEqualCycle(char[] one, char[] two) {\n    String strOne = new String(one);\n    String strTwo = new String(two);\n\n    for (int i = 0; i &lt; one.length; i++) {\n        if (strOne.equalsIgnoreCase(strTwo))\n            return true;\n        strTwo = strTwo.charAt(strTwo.length() - 1) + strTwo.substring(0, strTwo.length() - 1);\n    }\n\n    return false;\n}\n</code></pre>\n<hr />\n<p>Another soulion is to use additional array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isEqualCycle(char[] one, char[] two) {\n    char[] tmp = Arrays.copyOf(two, two.length);\n\n    for (int i = 0; i &lt; one.length - 1; i++) {\n        if (isEqual(one, tmp))\n            return true;\n        rotateRight(tmp);\n    }\n\n    return false;\n}\n\nprivate static boolean isEqual(char[] one, char[] tmp) {\n    for (int i = 0; i &lt; one.length; i++)\n        if (one[i] != tmp[i])\n            return false;\n    return true;\n}\n\nprivate static void rotateRight(char[] arr) {\n    for (int i = 0, j = arr.length - 1; i &lt; j; i++, j--)\n        swap(arr, i, j);\n    for (int i = 1, j = arr.length - 1; i &lt; j; i++, j--)\n        swap(arr, i, j);\n}\n\nprivate static void swap(char[] arr, int i, int j) {\n    char tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637276313,"creation_date":1637276313,"answer_id":70027804,"question_id":70025803,"body_markdown":"If the DNA sequences are represented as strings / string arrays, it may be convenient to use [`Collections.rotate`](https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#rotate-java.util.List-int-) method to perform cyclic shift:\r\n```java\r\nstatic boolean isEqual(String[] one, String[] two) {\r\n    if (one.length != two.length) return false; // verify the length\r\n    \r\n    List&lt;String&gt; sec = Arrays.asList(two);\r\n    \r\n    for (int i = 0; i &lt; one.length; i++) {\r\n        if (Arrays.equals(one, two)) {\r\n            System.out.println(&quot;equal at position=&quot; + i);\r\n            return true;\r\n        }\r\n        Collections.rotate(sec, -1); // contents of `two` is rotated as well\r\n    }\r\n    System.out.println(&quot;non-equal&quot;);\r\n    return false;\r\n}\r\n```\r\nTest:\r\n```\r\nisEqual(&quot;ATGCGTAT&quot;.split(&quot;&quot;), &quot;ATATGCGT&quot;.split(&quot;&quot;));\r\nisEqual(&quot;ATGCGTAT&quot;.split(&quot;&quot;), &quot;TATGGCTA&quot;.split(&quot;&quot;));\r\n```\r\nOutput:\r\n```\r\nequal at position=2\r\nnon-equal\r\n```","title":"How can I check if two cyclic sequences that are stored in arrays are equal (Java)?","body":"<p>If the DNA sequences are represented as strings / string arrays, it may be convenient to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#rotate-java.util.List-int-\" rel=\"nofollow noreferrer\"><code>Collections.rotate</code></a> method to perform cyclic shift:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static boolean isEqual(String[] one, String[] two) {\n    if (one.length != two.length) return false; // verify the length\n    \n    List&lt;String&gt; sec = Arrays.asList(two);\n    \n    for (int i = 0; i &lt; one.length; i++) {\n        if (Arrays.equals(one, two)) {\n            System.out.println(&quot;equal at position=&quot; + i);\n            return true;\n        }\n        Collections.rotate(sec, -1); // contents of `two` is rotated as well\n    }\n    System.out.println(&quot;non-equal&quot;);\n    return false;\n}\n</code></pre>\n<p>Test:</p>\n<pre><code>isEqual(&quot;ATGCGTAT&quot;.split(&quot;&quot;), &quot;ATATGCGT&quot;.split(&quot;&quot;));\nisEqual(&quot;ATGCGTAT&quot;.split(&quot;&quot;), &quot;TATGGCTA&quot;.split(&quot;&quot;));\n</code></pre>\n<p>Output:</p>\n<pre><code>equal at position=2\nnon-equal\n</code></pre>\n"}],"owner":{"account_id":23385162,"reputation":1,"user_id":17450641,"display_name":"Ceri Barnes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1653591715,"creation_date":1637264588,"question_id":70025803,"body_markdown":"For my class, I have been tasked with writing a program in Java that tells you whether 2 DNA sequences each of length 8, stored in an array, are the same. However, the sequences can be cyclic. For example, these two are the same:\r\n\r\nA T G C G T A T \r\n\r\nA T A T G C G T\r\n\r\nI have written the code that checks if both arrays at index 0 are the same, and if they are, it goes to a check array method, while if they are not, it adds 1 to the index of the second array and starts again. However, I am pretty stumped as I am not sure how I can input the new index at which the check method go through the two arrays, or how to loop the indexes (i.e. from 7 back to 0).\r\n\r\nSorry if the code is rubbish, but I am a beginner and have found this question very confusing.\r\nThanks in advance :)\r\n\r\n```\r\n/* checking whether the two arrays are equal at a certain index\r\n\r\nfor (x=0;x&lt;8;) {\r\n            for (y=0;y&lt;8;) {\r\n                if (DNAarray1[x] == DNAarray2[y]) {\r\n                    isEqual(ADNarray1, ADNarray2);\r\n                } else y++;\r\n            }\r\n        }\r\n\r\n/* isEqual method - my issue is with how I can take x and y from above and carry them into this method.\r\nAnd also how to loop this back round so the index of y goes from 7 back to 0.\r\n\r\nstatic boolean isEqual(int[] ADN1, int[] ADN2) {\r\n        for (int c = 1; c &lt; 8; c++) {\r\n            if (ADN1[x + c] == ADN2[y + c]) {\r\n                return true;\r\n            } else return false;\r\n        }\r\n    }\r\n```\r\n\r\n","title":"How can I check if two cyclic sequences that are stored in arrays are equal (Java)?","body":"<p>For my class, I have been tasked with writing a program in Java that tells you whether 2 DNA sequences each of length 8, stored in an array, are the same. However, the sequences can be cyclic. For example, these two are the same:</p>\n<p>A T G C G T A T</p>\n<p>A T A T G C G T</p>\n<p>I have written the code that checks if both arrays at index 0 are the same, and if they are, it goes to a check array method, while if they are not, it adds 1 to the index of the second array and starts again. However, I am pretty stumped as I am not sure how I can input the new index at which the check method go through the two arrays, or how to loop the indexes (i.e. from 7 back to 0).</p>\n<p>Sorry if the code is rubbish, but I am a beginner and have found this question very confusing.\nThanks in advance :)</p>\n<pre><code>/* checking whether the two arrays are equal at a certain index\n\nfor (x=0;x&lt;8;) {\n            for (y=0;y&lt;8;) {\n                if (DNAarray1[x] == DNAarray2[y]) {\n                    isEqual(ADNarray1, ADNarray2);\n                } else y++;\n            }\n        }\n\n/* isEqual method - my issue is with how I can take x and y from above and carry them into this method.\nAnd also how to loop this back round so the index of y goes from 7 back to 0.\n\nstatic boolean isEqual(int[] ADN1, int[] ADN2) {\n        for (int c = 1; c &lt; 8; c++) {\n            if (ADN1[x + c] == ADN2[y + c]) {\n                return true;\n            } else return false;\n        }\n    }\n</code></pre>\n"},{"tags":["java","arrays","string"],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653584733,"creation_date":1653584733,"answer_id":72395537,"question_id":72395431,"body_markdown":"&gt; An array is a container object that holds a fixed number of values of a single type. The length of an array is established when the array is created. After creation, its length is fixed.\r\n\r\nThis is what mentioned in official [Java tutorial page.][1]. So you have to create array &amp; initialize with some size.\r\n\r\nIf you want to use dynamic data-structure , consider using `List&lt;Character&gt;` so that you don&#39;t need to define size while creating object of list.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html","title":"Add Letter to Array in Java","body":"<blockquote>\n<p>An array is a container object that holds a fixed number of values of a single type. The length of an array is established when the array is created. After creation, its length is fixed.</p>\n</blockquote>\n<p>This is what mentioned in official <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">Java tutorial page.</a>. So you have to create array &amp; initialize with some size.</p>\n<p>If you want to use dynamic data-structure , consider using <code>List&lt;Character&gt;</code> so that you don't need to define size while creating object of list.</p>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653586817,"creation_date":1653586817,"answer_id":72395929,"question_id":72395431,"body_markdown":"An array is of fixed length so if you create as empty it will remain empty.  What you want is a collection that can resize.  The standard replacement for an array is a List and the preferred implementation is usually ArrayList.\r\n\r\n    List&lt;Character&gt; letters = new ArrayList&lt;&gt;();\r\n\r\nHowever, looking at what you are trying to do you may prefer a Set.  The HashSet is the typical choice.\r\n\r\n    Set&lt;Character&gt; letters = new HashSet&lt;&gt;();\r\n\r\nIn either case, you will have a Collection that can resize as you add things to it.\r\n\r\n\r\n\r\n\r\n    ","title":"Add Letter to Array in Java","body":"<p>An array is of fixed length so if you create as empty it will remain empty.  What you want is a collection that can resize.  The standard replacement for an array is a List and the preferred implementation is usually ArrayList.</p>\n<pre><code>List&lt;Character&gt; letters = new ArrayList&lt;&gt;();\n</code></pre>\n<p>However, looking at what you are trying to do you may prefer a Set.  The HashSet is the typical choice.</p>\n<pre><code>Set&lt;Character&gt; letters = new HashSet&lt;&gt;();\n</code></pre>\n<p>In either case, you will have a Collection that can resize as you add things to it.</p>\n"},{"tags":[],"owner":{"account_id":25399481,"reputation":1,"user_id":19209226,"display_name":"Rahul Kaushik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653591705,"creation_date":1653591705,"answer_id":72396773,"question_id":72395431,"body_markdown":"```import java.util.Scanner;\r\nimport java.util.Arrays;\r\n\r\npublic class FindTryC {\r\n\r\n    public static void main(String[] args) {\r\n    \r\n        Scanner keybInput = new Scanner(System.in);\r\n        char secretLetter = &#39;C&#39;;\r\n        char[] enteredLettersArray = {};\r\n\r\n        \r\n        System.out.print(&quot;Please Enter a Letter : &quot;);\r\n        char enteredLetter = keybInput.next().charAt(0);\r\n        // ? ? ? ? ? ?;\r\nint i = 0;\r\n        while (secretLetter != enteredLetter) {\r\n            System.out.print(&quot;Please Enter a Letter : &quot;);\r\n            enteredLettersArray[i]= keybInput.next();\r\n            i++;\r\n            \r\n        }\r\n\r\n        System.out.println(enteredLettersArray.length);\r\n        System.out.println(Arrays.toString(enteredLettersArray));\r\n    enter code here\r\n    }\r\n\r\n}```","title":"Add Letter to Array in Java","body":"<pre><code>import java.util.Arrays;\n\npublic class FindTryC {\n\n    public static void main(String[] args) {\n    \n        Scanner keybInput = new Scanner(System.in);\n        char secretLetter = 'C';\n        char[] enteredLettersArray = {};\n\n        \n        System.out.print(&quot;Please Enter a Letter : &quot;);\n        char enteredLetter = keybInput.next().charAt(0);\n        // ? ? ? ? ? ?;\nint i = 0;\n        while (secretLetter != enteredLetter) {\n            System.out.print(&quot;Please Enter a Letter : &quot;);\n            enteredLettersArray[i]= keybInput.next();\n            i++;\n            \n        }\n\n        System.out.println(enteredLettersArray.length);\n        System.out.println(Arrays.toString(enteredLettersArray));\n    enter code here\n    }\n\n}```\n</code></pre>\n"}],"owner":{"account_id":4561003,"reputation":5,"user_id":3703346,"display_name":"KaraKarga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1653591705,"creation_date":1653584289,"question_id":72395431,"body_markdown":"I want to create an array that empty and no size.\r\n\r\n    char[] enteredLettersArray = {};\r\n\r\nThat array stores letter I entered from keyboard. \r\nfor example:\r\nI enter letters again and again until I find a correct letter, I want to store the letters all I entered.\r\nHow can I do that?\r\n\r\n    import java.util.Scanner;\r\n    import java.util.Arrays;\r\n    \r\n    public class FindTryC {\r\n    \r\n        public static void main(String[] args) {\r\n        \r\n        \tScanner keybInput = new Scanner(System.in);\r\n        \tchar secretLetter = &#39;C&#39;;\r\n        \tchar[] enteredLettersArray = {};\r\n    \r\n        \t\r\n        \tSystem.out.print(&quot;Please Enter a Letter : &quot;);\r\n        \tchar enteredLetter = keybInput.next().charAt(0);\r\n        \t// ? ? ? ? ? ?;\r\n        \twhile (secretLetter != enteredLetter) {\r\n        \t\tSystem.out.print(&quot;Please Enter a Letter : &quot;);\r\n        \t\tenteredLetter = keybInput.next().charAt(0);\r\n        \t\t// ? ? ? ? ? ?;\r\n        \t}\r\n    \r\n        \tSystem.out.println(enteredLettersArray.length);\r\n        \tSystem.out.println(Arrays.toString(enteredLettersArray))\t;\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\n","title":"Add Letter to Array in Java","body":"<p>I want to create an array that empty and no size.</p>\n<pre><code>char[] enteredLettersArray = {};\n</code></pre>\n<p>That array stores letter I entered from keyboard.\nfor example:\nI enter letters again and again until I find a correct letter, I want to store the letters all I entered.\nHow can I do that?</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Arrays;\n\npublic class FindTryC {\n\n    public static void main(String[] args) {\n    \n        Scanner keybInput = new Scanner(System.in);\n        char secretLetter = 'C';\n        char[] enteredLettersArray = {};\n\n        \n        System.out.print(&quot;Please Enter a Letter : &quot;);\n        char enteredLetter = keybInput.next().charAt(0);\n        // ? ? ? ? ? ?;\n        while (secretLetter != enteredLetter) {\n            System.out.print(&quot;Please Enter a Letter : &quot;);\n            enteredLetter = keybInput.next().charAt(0);\n            // ? ? ? ? ? ?;\n        }\n\n        System.out.println(enteredLettersArray.length);\n        System.out.println(Arrays.toString(enteredLettersArray))    ;\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","arrays","string","rest","getter-setter"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1637265005,"post_id":70025837,"comment_id":123786910,"body_markdown":"There are at least two syntax errors in the code presented. Please make sure that this is the actual code producing the error. Also, please format the code properly and follow java naming conventions for getters and setters (`gettrueAge()` -&gt; `getTrueAge()`, `settrueAge(...)` -&gt; `setTrueAge(...)`). Jackson might rely on those exact getters and setters.","body":"There are at least two syntax errors in the code presented. Please make sure that this is the actual code producing the error. Also, please format the code properly and follow java naming conventions for getters and setters (<code>gettrueAge()</code> -&gt; <code>getTrueAge()</code>, <code>settrueAge(...)</code> -&gt; <code>setTrueAge(...)</code>). Jackson might rely on those exact getters and setters."},{"owner":{"account_id":7083474,"reputation":15,"user_id":5421016,"display_name":"Phani"},"score":0,"creation_date":1637265438,"post_id":70025837,"comment_id":123787048,"body_markdown":"Thank you for your quick response. I have manually entered the code as I can&#39;t use work PC. In real application, I have given correct syntax.","body":"Thank you for your quick response. I have manually entered the code as I can&#39;t use work PC. In real application, I have given correct syntax."}],"answers":[{"tags":[],"owner":{"account_id":12808535,"reputation":112,"user_id":9267468,"display_name":"F. Vorontsov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637267496,"creation_date":1637267496,"answer_id":70026355,"question_id":70025837,"body_markdown":"You have two ways to ignore unknown fields from Json in your POJO\r\n\r\n**By using annotation**\r\n\r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n        \r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class SumAll {\r\n    \r\n    }\r\n\r\n\r\n\r\n    \r\n**Or deserialise by pre-configured ObjectMapper**\r\n\r\n    import com.fasterxml.jackson.databind.DeserializationFeature;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n        \r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    mapper.readValue(json, SumAll.class);","title":"RestAPI post call setters and getters Issue","body":"<p>You have two ways to ignore unknown fields from Json in your POJO</p>\n<p><strong>By using annotation</strong></p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n    \n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class SumAll {\n\n}\n</code></pre>\n<p><strong>Or deserialise by pre-configured ObjectMapper</strong></p>\n<pre><code>import com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n    \nObjectMapper mapper = new ObjectMapper();\nmapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\nmapper.readValue(json, SumAll.class);\n</code></pre>\n"}],"owner":{"account_id":7083474,"reputation":15,"user_id":5421016,"display_name":"Phani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653591603,"creation_date":1637264745,"question_id":70025837,"body_markdown":"I need to send the payload and below are the details. I&#39;m not sure if the error is due to passing empty array or what reason. Please help. Thanks in advance. PS: Due to security, I had to enter the code manually.\r\n```\r\nSumAll sa = new SumAll();\r\nsa.setAge(68);\r\nint[] myTrueAge ={};\r\nsa.setTrueAge(myTrueAge);\r\n```\r\n```\r\nDuring req it should go as -&gt; &quot;TrueAge&quot;:[],)\r\n```\r\n```\r\nSumAll gsa = given().header(----).body(sa).expect().defaultParser(Parser.JSON).when().post(----).as(sumAll.class)\r\n\r\n```\r\n**Pojo class:**\r\n```\r\npublic class SumAll{\r\nprivate int Age;\r\nprivate int[] TrueAge= {};\r\n\r\npublic int[] getTrueAge(){\r\nreturn TrueAge;\r\n\r\npublic void setTrueAge(int[] TrueAge)\r\nTrueAge = TrueAge;\r\n}}\r\n```\r\n\r\n**Error:**\r\n```\r\ncom.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognised field &quot;Allocation&quot; (class pojo.SumAll), not marked as ignorable (14 known properties: ..…........ All properties are mentioned here.....\r\nAt [source : (String) &quot; response is given here&quot;\r\n```","title":"RestAPI post call setters and getters Issue","body":"<p>I need to send the payload and below are the details. I'm not sure if the error is due to passing empty array or what reason. Please help. Thanks in advance. PS: Due to security, I had to enter the code manually.</p>\n<pre><code>SumAll sa = new SumAll();\nsa.setAge(68);\nint[] myTrueAge ={};\nsa.setTrueAge(myTrueAge);\n</code></pre>\n<pre><code>During req it should go as -&gt; &quot;TrueAge&quot;:[],)\n</code></pre>\n<pre><code>SumAll gsa = given().header(----).body(sa).expect().defaultParser(Parser.JSON).when().post(----).as(sumAll.class)\n\n</code></pre>\n<p><strong>Pojo class:</strong></p>\n<pre><code>public class SumAll{\nprivate int Age;\nprivate int[] TrueAge= {};\n\npublic int[] getTrueAge(){\nreturn TrueAge;\n\npublic void setTrueAge(int[] TrueAge)\nTrueAge = TrueAge;\n}}\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognised field &quot;Allocation&quot; (class pojo.SumAll), not marked as ignorable (14 known properties: ..…........ All properties are mentioned here.....\nAt [source : (String) &quot; response is given here&quot;\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637267863,"creation_date":1637266073,"answer_id":70026079,"question_id":70025913,"body_markdown":"Looks like you are encountering a tool issue while trying to directly upload code from Eclipse to AWS. This is not unnecessary. \r\n\r\nYou can instead use the Java runtime Lambda API within a Maven project, that works fine. That is, build the Lambda function using Maven, package the project into a JAR file, and then upload the Lambda function using the AWS Management Console. \r\n\r\nHere is an example that builds a Lambda function that invokes several AWS services and will show you how to successfully build and deploy the AWS Lambda function (without using a tool). \r\n\r\nThis Lambda function detects PPE information (using Amazon Rekognition) in images located in an Amazon S3 bucket. See this example that is located in the **Amazon Rekognition DEV Guide**.\r\n\r\n\r\n[Detect PPE in images with Amazon Rekognition using an AWS SDK][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/rekognition/latest/dg/example_cross_RekognitionPhotoAnalyzerPPE_section.html","title":"An internal error occurred during: &quot;Uploading function code to Lambda&quot; javax/xml/bind/JAXBException","body":"<p>Looks like you are encountering a tool issue while trying to directly upload code from Eclipse to AWS. This is not unnecessary.</p>\n<p>You can instead use the Java runtime Lambda API within a Maven project, that works fine. That is, build the Lambda function using Maven, package the project into a JAR file, and then upload the Lambda function using the AWS Management Console.</p>\n<p>Here is an example that builds a Lambda function that invokes several AWS services and will show you how to successfully build and deploy the AWS Lambda function (without using a tool).</p>\n<p>This Lambda function detects PPE information (using Amazon Rekognition) in images located in an Amazon S3 bucket. See this example that is located in the <strong>Amazon Rekognition DEV Guide</strong>.</p>\n<p><a href=\"https://docs.aws.amazon.com/rekognition/latest/dg/example_cross_RekognitionPhotoAnalyzerPPE_section.html\" rel=\"nofollow noreferrer\">Detect PPE in images with Amazon Rekognition using an AWS SDK</a></p>\n"}],"owner":{"account_id":3419544,"reputation":403,"user_id":17417246,"display_name":"Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":701,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70026079,"answer_count":1,"score":2,"last_activity_date":1653591567,"creation_date":1637265183,"question_id":70025913,"body_markdown":"When I try to upload a Lambda to AWS I get the following error\r\n\r\nAn internal error occurred during: \r\n\r\n&quot;Uploading function code to Lambda&quot; javax/xml/bind/JAXBException\r\n\r\nLater versions of Eclipse use the Java 11 runtime, which removed this class among many others. However, I am sure now that Java 17 has been released, that this has been fixed in later versions of AWS.\r\n\r\n","title":"An internal error occurred during: &quot;Uploading function code to Lambda&quot; javax/xml/bind/JAXBException","body":"<p>When I try to upload a Lambda to AWS I get the following error</p>\n<p>An internal error occurred during:</p>\n<p>&quot;Uploading function code to Lambda&quot; javax/xml/bind/JAXBException</p>\n<p>Later versions of Eclipse use the Java 11 runtime, which removed this class among many others. However, I am sure now that Java 17 has been released, that this has been fixed in later versions of AWS.</p>\n"},{"tags":["java","swing","concurrency"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1637266131,"post_id":70026016,"comment_id":123787248,"body_markdown":"Post such details as edits to your title, question, and tags, not as Comments.","body":"Post such details as edits to your title, question, and tags, not as Comments."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1637269934,"post_id":70026016,"comment_id":123788572,"body_markdown":"You could use a combination of a `SwingWorker` and Swing `Timer`.  Where you start the worker and timer, if the timer executes before the worker completes, you do you second method, otherwise, you ignore it","body":"You could use a combination of a <code>SwingWorker</code> and Swing <code>Timer</code>.  Where you start the worker and timer, if the timer executes before the worker completes, you do you second method, otherwise, you ignore it"}],"answers":[{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637281441,"creation_date":1637268713,"answer_id":70026585,"question_id":70026016,"body_markdown":"I&#39;ve struggled with this question before.\r\nWhat I ended up doing was, creating a separate class that extends AsyncTask. Added an interface/listener to this class that returned my object. Right before I start my AsyncTask, I&#39;ll disable buttons and put up a loading spinner. Once the AsyncTask comes back, I&#39;ll do my processing and reenable the buttons and take down the loading spinner. Of coarse I&#39;m doing a rest call in the example, but it can be applied to anything that takes awhile. The reason why this is a better option than a while loop is that it&#39;s won&#39;t be burning cycles checking conditions.\r\n\r\n    public class RestCall extends AsyncTask {\r\n        private Context mContext;\r\n        private static final String TAG = &quot;RestCall&quot;;\r\n        private AsyncResponse mListener;\r\n\r\n     public RestCall(Context context, URL url, AsyncResponse listener) {\r\n            this.mListener = listener;\r\n            this.mContext = context;\r\n            this.url = url;\r\n        }\r\n\r\n     public interface AsyncResponse {\r\n            void processFinish(JSONArray results);\r\n        }\r\n\r\n    @Override\r\n    protected Object doInBackground(Object[] objects) {\r\n        Log.d(TAG, &quot;doInBackground: Thread: &quot; + Thread.currentThread().getName());\r\n\r\n        return getResultsInJSONArray(url);\r\n\r\n    }\r\n\r\n    private JSONArray getResultsInJSONArray(URL url) {\r\n    //Here is where you will be doing the bulk of the work\r\n    //Doing a rest call and\r\n    //Processing results to JSONArray\r\n    }\r\n\r\n    @Override\r\n    protected void onPostExecute(Object o) {\r\n        super.onPostExecute(o);\r\n        Log.d(TAG, &quot;onPostExecute: Handing off Object&quot;);\r\n        mListener.processFinish((JSONArray) o);\r\n    }\r\n\r\nNow in your original class you&#39;ll add the following to your class:\r\n\r\n    public class myClass\r\n\r\n    private restCall call;\r\n\r\nThan create a listener from that interface you made. Then pass the results to a method.\r\n\r\n    restCall.AsyncResponse listener = results -&gt; handleResults(results); \r\n\r\nWith the listener setup you can you can execute your AsyncTask.\r\n\r\n    //here is were you would throw up the loading bar.\r\n    call = new restCall(this, url, listener);\r\n    call.execute();\r\n\r\n     private void handleResults(JSONArray results){\r\n    //process what you need to\r\n    //take down loading bar\r\n    }\r\n\r\n","title":"Wait for long-running operation and show popup","body":"<p>I've struggled with this question before.\nWhat I ended up doing was, creating a separate class that extends AsyncTask. Added an interface/listener to this class that returned my object. Right before I start my AsyncTask, I'll disable buttons and put up a loading spinner. Once the AsyncTask comes back, I'll do my processing and reenable the buttons and take down the loading spinner. Of coarse I'm doing a rest call in the example, but it can be applied to anything that takes awhile. The reason why this is a better option than a while loop is that it's won't be burning cycles checking conditions.</p>\n<pre><code>public class RestCall extends AsyncTask {\n    private Context mContext;\n    private static final String TAG = &quot;RestCall&quot;;\n    private AsyncResponse mListener;\n\n public RestCall(Context context, URL url, AsyncResponse listener) {\n        this.mListener = listener;\n        this.mContext = context;\n        this.url = url;\n    }\n\n public interface AsyncResponse {\n        void processFinish(JSONArray results);\n    }\n\n@Override\nprotected Object doInBackground(Object[] objects) {\n    Log.d(TAG, &quot;doInBackground: Thread: &quot; + Thread.currentThread().getName());\n\n    return getResultsInJSONArray(url);\n\n}\n\nprivate JSONArray getResultsInJSONArray(URL url) {\n//Here is where you will be doing the bulk of the work\n//Doing a rest call and\n//Processing results to JSONArray\n}\n\n@Override\nprotected void onPostExecute(Object o) {\n    super.onPostExecute(o);\n    Log.d(TAG, &quot;onPostExecute: Handing off Object&quot;);\n    mListener.processFinish((JSONArray) o);\n}\n</code></pre>\n<p>Now in your original class you'll add the following to your class:</p>\n<pre><code>public class myClass\n\nprivate restCall call;\n</code></pre>\n<p>Than create a listener from that interface you made. Then pass the results to a method.</p>\n<pre><code>restCall.AsyncResponse listener = results -&gt; handleResults(results); \n</code></pre>\n<p>With the listener setup you can you can execute your AsyncTask.</p>\n<pre><code>//here is were you would throw up the loading bar.\ncall = new restCall(this, url, listener);\ncall.execute();\n\n private void handleResults(JSONArray results){\n//process what you need to\n//take down loading bar\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637272076,"creation_date":1637271112,"answer_id":70026999,"question_id":70026016,"body_markdown":"So, the basic idea would be to use a combination of a `SwingWorker` and a Swing `Timer`.  \r\n\r\nThe idea is if the `Timer` triggers before the `SwingWorker` is `DONE`, you execute some other workflow, otherwise you stop the `Timer`, for example...\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.beans.PropertyChangeEvent;\r\n    import java.beans.PropertyChangeListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingWorker;\r\n    import javax.swing.Timer;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private JLabel label;\r\n            private JButton startButton;\r\n\r\n            boolean hasCompleted = false;\r\n\r\n            public TestPane() {\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\r\n                label = new JLabel(&quot;Waiting for you&quot;);\r\n                startButton = new JButton(&quot;Start&quot;);\r\n\r\n                add(label, gbc);\r\n                add(startButton, gbc);\r\n\r\n                startButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        startButton.setEnabled(false);\r\n                        startWork();\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            protected void startWork() {\r\n                label.setText(&quot;Something wicked this way comes&quot;);\r\n\r\n                // You could build an isoloated workflow, which allowed you to pass\r\n                // three targets, the thing to be executed, the thing to be \r\n                // executed if time run over and the thing to be executed when\r\n                // the task completed (all via a single interface),\r\n                // but, you get the idea\r\n                Timer timer = new Timer(2000, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (hasCompleted) {\r\n                            return;\r\n                        }\r\n                        label.setText(&quot;Wickedness is a bit slow today&quot;);\r\n                    }\r\n                });\r\n                timer.setRepeats(false);\r\n\r\n                SomeLongRunningOperation worker = new SomeLongRunningOperation();\r\n                worker.addPropertyChangeListener(new PropertyChangeListener() {\r\n                    @Override\r\n                    public void propertyChange(PropertyChangeEvent evt) {\r\n                        switch (worker.getState()) {\r\n                            case DONE:\r\n                                hasCompleted = true;\r\n                                timer.stop();\r\n                                label.setText(&quot;All is done&quot;);\r\n                                startButton.setEnabled(true);\r\n                                break;\r\n                        }\r\n                    }\r\n                });\r\n                worker.execute();\r\n                timer.start();\r\n            }\r\n\r\n        }\r\n\r\n        public class SomeLongRunningOperation extends SwingWorker&lt;Void, Void&gt; {\r\n\r\n            @Override\r\n            protected Void doInBackground() throws Exception {\r\n                Thread.sleep(5000);\r\n                return null;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nPlay around with the timings to see what different effects you get.\r\n\r\nWhy use a `SwingWorker`?  Because it has it&#39;s own state callbacks, which makes it easier to deal with\r\n\r\nAs I said in my comments, you could distill the workflow down into a re-usable concept, something like...\r\n\r\n    public class TimedTask&lt;V&gt; {\r\n        \r\n        public static interface Task&lt;V&gt; {\r\n            public V execute() throws Exception;\r\n        }\r\n        \r\n        public static interface TimedTaskListener&lt;V&gt; extends EventListener {\r\n            public void taskIsTakingLongThenExepected(TimedTask task);\r\n            public void taskDidComplete(TimedTask task, V value);\r\n        }\r\n        \r\n        private Task&lt;V&gt; task;\r\n        private TimedTaskListener&lt;V&gt; listener;\r\n        \r\n        private V value;\r\n        \r\n        private int timeOut;\r\n        private Timer timer;\r\n        private SwingWorker&lt;V, Void&gt; worker;\r\n        private boolean hasCompleted = false;\r\n\r\n        public TimedTask(int timeOut, Task&lt;V&gt; task, TimedTaskListener&lt;V&gt; listener) {\r\n            this.task = task;\r\n            this.listener = listener;\r\n            this.timeOut = timeOut;\r\n        }\r\n\r\n        public V getValue() {\r\n            return value;\r\n        }\r\n\r\n        public int getTimeOut() {\r\n            return timeOut;\r\n        }\r\n\r\n        protected Task&lt;V&gt; getTask() {\r\n            return task;\r\n        }\r\n\r\n        protected TimedTaskListener&lt;V&gt; getListener() {\r\n            return listener;\r\n        }\r\n        \r\n        public void execute() {\r\n            if (timer != null || worker != null) {\r\n                return;\r\n            }\r\n            \r\n            hasCompleted = false;\r\n            worker = new SwingWorker&lt;V, Void&gt;() {\r\n                @Override\r\n                protected V doInBackground() throws Exception {\r\n                    value = task.execute();\r\n                    return value;\r\n                }\r\n            };\r\n            worker.addPropertyChangeListener(new PropertyChangeListener() {\r\n                @Override\r\n                public void propertyChange(PropertyChangeEvent evt) {\r\n                    switch (worker.getState()) {\r\n                        case DONE:\r\n                            hasCompleted = true;\r\n                            timer.stop();\r\n                            getListener().taskDidComplete(TimedTask.this, value);\r\n                            break;\r\n                    }\r\n                }\r\n            });\r\n            \r\n            timer = new Timer(getTimeOut(), new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    if (hasCompleted) {\r\n                        return;\r\n                    }\r\n                    getListener().taskIsTakingLongThenExepected(TimedTask.this);\r\n                }\r\n            });\r\n            timer.setRepeats(false);\r\n\r\n            worker.execute();\r\n            timer.start();\r\n        }\r\n        \r\n    }\r\n\r\nAnd then you could replace the `startWork` method in the first example with something like...\r\n\r\n    protected void startWork() {\r\n        label.setText(&quot;Something wicked this way comes&quot;);\r\n        TimedTask.Task&lt;Void&gt; task = new TimedTask.Task&lt;Void&gt;() {\r\n            @Override\r\n            public Void execute() throws Exception {\r\n                Thread.sleep(5000);\r\n                return null;\r\n            }\r\n        };\r\n        TimedTask&lt;Void&gt; timedTask = new TimedTask(2000, task, new TimedTask.TimedTaskListener&lt;Void&gt;() {\r\n            @Override\r\n            public void taskIsTakingLongThenExepected(TimedTask task) {\r\n                label.setText(&quot;Wickedness is taking it&#39;s sweet time&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void taskDidComplete(TimedTask task, Void value) {\r\n                label.setText(&quot;Wickedness has arrived&quot;);\r\n                startButton.setEnabled(true);\r\n            }\r\n        });\r\n        timedTask.execute();\r\n    }\r\n","title":"Wait for long-running operation and show popup","body":"<p>So, the basic idea would be to use a combination of a <code>SwingWorker</code> and a Swing <code>Timer</code>.</p>\n<p>The idea is if the <code>Timer</code> triggers before the <code>SwingWorker</code> is <code>DONE</code>, you execute some other workflow, otherwise you stop the <code>Timer</code>, for example...</p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.beans.PropertyChangeEvent;\nimport java.beans.PropertyChangeListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingWorker;\nimport javax.swing.Timer;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private JLabel label;\n        private JButton startButton;\n\n        boolean hasCompleted = false;\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n\n            label = new JLabel(&quot;Waiting for you&quot;);\n            startButton = new JButton(&quot;Start&quot;);\n\n            add(label, gbc);\n            add(startButton, gbc);\n\n            startButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    startButton.setEnabled(false);\n                    startWork();\n                }\n            });\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        protected void startWork() {\n            label.setText(&quot;Something wicked this way comes&quot;);\n\n            // You could build an isoloated workflow, which allowed you to pass\n            // three targets, the thing to be executed, the thing to be \n            // executed if time run over and the thing to be executed when\n            // the task completed (all via a single interface),\n            // but, you get the idea\n            Timer timer = new Timer(2000, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (hasCompleted) {\n                        return;\n                    }\n                    label.setText(&quot;Wickedness is a bit slow today&quot;);\n                }\n            });\n            timer.setRepeats(false);\n\n            SomeLongRunningOperation worker = new SomeLongRunningOperation();\n            worker.addPropertyChangeListener(new PropertyChangeListener() {\n                @Override\n                public void propertyChange(PropertyChangeEvent evt) {\n                    switch (worker.getState()) {\n                        case DONE:\n                            hasCompleted = true;\n                            timer.stop();\n                            label.setText(&quot;All is done&quot;);\n                            startButton.setEnabled(true);\n                            break;\n                    }\n                }\n            });\n            worker.execute();\n            timer.start();\n        }\n\n    }\n\n    public class SomeLongRunningOperation extends SwingWorker&lt;Void, Void&gt; {\n\n        @Override\n        protected Void doInBackground() throws Exception {\n            Thread.sleep(5000);\n            return null;\n        }\n\n    }\n}\n</code></pre>\n<p>Play around with the timings to see what different effects you get.</p>\n<p>Why use a <code>SwingWorker</code>?  Because it has it's own state callbacks, which makes it easier to deal with</p>\n<p>As I said in my comments, you could distill the workflow down into a re-usable concept, something like...</p>\n<pre><code>public class TimedTask&lt;V&gt; {\n    \n    public static interface Task&lt;V&gt; {\n        public V execute() throws Exception;\n    }\n    \n    public static interface TimedTaskListener&lt;V&gt; extends EventListener {\n        public void taskIsTakingLongThenExepected(TimedTask task);\n        public void taskDidComplete(TimedTask task, V value);\n    }\n    \n    private Task&lt;V&gt; task;\n    private TimedTaskListener&lt;V&gt; listener;\n    \n    private V value;\n    \n    private int timeOut;\n    private Timer timer;\n    private SwingWorker&lt;V, Void&gt; worker;\n    private boolean hasCompleted = false;\n\n    public TimedTask(int timeOut, Task&lt;V&gt; task, TimedTaskListener&lt;V&gt; listener) {\n        this.task = task;\n        this.listener = listener;\n        this.timeOut = timeOut;\n    }\n\n    public V getValue() {\n        return value;\n    }\n\n    public int getTimeOut() {\n        return timeOut;\n    }\n\n    protected Task&lt;V&gt; getTask() {\n        return task;\n    }\n\n    protected TimedTaskListener&lt;V&gt; getListener() {\n        return listener;\n    }\n    \n    public void execute() {\n        if (timer != null || worker != null) {\n            return;\n        }\n        \n        hasCompleted = false;\n        worker = new SwingWorker&lt;V, Void&gt;() {\n            @Override\n            protected V doInBackground() throws Exception {\n                value = task.execute();\n                return value;\n            }\n        };\n        worker.addPropertyChangeListener(new PropertyChangeListener() {\n            @Override\n            public void propertyChange(PropertyChangeEvent evt) {\n                switch (worker.getState()) {\n                    case DONE:\n                        hasCompleted = true;\n                        timer.stop();\n                        getListener().taskDidComplete(TimedTask.this, value);\n                        break;\n                }\n            }\n        });\n        \n        timer = new Timer(getTimeOut(), new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if (hasCompleted) {\n                    return;\n                }\n                getListener().taskIsTakingLongThenExepected(TimedTask.this);\n            }\n        });\n        timer.setRepeats(false);\n\n        worker.execute();\n        timer.start();\n    }\n    \n}\n</code></pre>\n<p>And then you could replace the <code>startWork</code> method in the first example with something like...</p>\n<pre><code>protected void startWork() {\n    label.setText(&quot;Something wicked this way comes&quot;);\n    TimedTask.Task&lt;Void&gt; task = new TimedTask.Task&lt;Void&gt;() {\n        @Override\n        public Void execute() throws Exception {\n            Thread.sleep(5000);\n            return null;\n        }\n    };\n    TimedTask&lt;Void&gt; timedTask = new TimedTask(2000, task, new TimedTask.TimedTaskListener&lt;Void&gt;() {\n        @Override\n        public void taskIsTakingLongThenExepected(TimedTask task) {\n            label.setText(&quot;Wickedness is taking it's sweet time&quot;);\n        }\n\n        @Override\n        public void taskDidComplete(TimedTask task, Void value) {\n            label.setText(&quot;Wickedness has arrived&quot;);\n            startButton.setEnabled(true);\n        }\n    });\n    timedTask.execute();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637308868,"creation_date":1637308868,"answer_id":70031574,"question_id":70026016,"body_markdown":"While `SwingWorker` is the appropriate tool for the job, for simple tasks you can get away with a `Thread` for the off-edt long task and a swing `Timer` to update the GUI: \r\n\r\n\t\r\n\timport java.awt.*;\r\n\timport javax.swing.*;\r\n\timport javax.swing.Timer;\r\n\t\r\n\tpublic class Main{\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tJFrame frame = new JFrame();\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tframe.setLocationByPlatform(true);\r\n\t\t\tframe.add(new TestPane());\r\n\t\t\tframe.pack();\r\n\t\t\tframe.setVisible(true);\r\n\t\t}\r\n\t}\r\n\t\r\n\tclass TestPane extends JPanel{\r\n\t\r\n\t\tprivate static Dimension size = new Dimension(250, 100);\r\n\t\tprivate final JLabel label;\r\n\t\tprivate final JButton start;\r\n\t\tprivate int counter;\r\n\t\tprivate Timer timer;\r\n\t\r\n\t\tpublic TestPane() {\r\n\t\t\tsetLayout(new BorderLayout(10, 10));\r\n\t\t\tlabel = new JLabel(&quot;Click START to run long process&quot;, JLabel.CENTER);\r\n\t\t\tadd(label,BorderLayout.NORTH);\r\n\t\t\tstart = new JButton(&quot;START&quot;);\r\n\t\t\tstart.addActionListener(e-&gt;\tstart() );\r\n\t\t\tadd(start, BorderLayout.SOUTH);\r\n\t\t}\r\n\t\r\n\t\tprivate void start() {\r\n\t\t\tstart.setEnabled(false);\r\n\t\t\tint processRunTime = 10;\r\n\t\t\tint updateTime = 1; //if this value &gt;= processRunTime update() is not invoked\r\n\t\t\tcounter = 1;\r\n\t\t\tsimulateLongProcessOf(processRunTime);\r\n\t\t\ttimer = new Timer(1000*updateTime, e-&gt;update(counter++));\r\n\t\t\tlabel.setText(&quot;Long process started&quot;);\r\n\t\t\ttimer.start();\r\n\t\t}\r\n\t\r\n\t\tprivate void stop() {\r\n\t\t\tlabel.setText(&quot;Long process ended&quot;);\r\n\t\t\ttimer.stop();\r\n\t\t\tstart.setEnabled(true);\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic Dimension preferredSize() {\r\n\t\t\treturn size;\r\n\t\t}\r\n\t\r\n\t\tprivate void simulateLongProcessOf(int seconds){\r\n\t\r\n\t\t\tThread t1 = new Thread(()-&gt;{\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(1000*seconds);\r\n\t\t\t\t} catch (InterruptedException ex) {\r\n\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t}finally {\r\n\t\t\t\t\tSwingUtilities.invokeLater(()-&gt;stop());\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tt1.start();\r\n\t\t}\r\n\t\r\n\t\tprivate void update(int count){\r\n\t\t\tlabel.setText(&quot;Update # &quot;+ count+&quot; : long process is running&quot; );\r\n\t\t}\r\n\t} ","title":"Wait for long-running operation and show popup","body":"<p>While <code>SwingWorker</code> is the appropriate tool for the job, for simple tasks you can get away with a <code>Thread</code> for the off-edt long task and a swing <code>Timer</code> to update the GUI:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.Timer;\n\npublic class Main{\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setLocationByPlatform(true);\n        frame.add(new TestPane());\n        frame.pack();\n        frame.setVisible(true);\n    }\n}\n\nclass TestPane extends JPanel{\n\n    private static Dimension size = new Dimension(250, 100);\n    private final JLabel label;\n    private final JButton start;\n    private int counter;\n    private Timer timer;\n\n    public TestPane() {\n        setLayout(new BorderLayout(10, 10));\n        label = new JLabel(&quot;Click START to run long process&quot;, JLabel.CENTER);\n        add(label,BorderLayout.NORTH);\n        start = new JButton(&quot;START&quot;);\n        start.addActionListener(e-&gt; start() );\n        add(start, BorderLayout.SOUTH);\n    }\n\n    private void start() {\n        start.setEnabled(false);\n        int processRunTime = 10;\n        int updateTime = 1; //if this value &gt;= processRunTime update() is not invoked\n        counter = 1;\n        simulateLongProcessOf(processRunTime);\n        timer = new Timer(1000*updateTime, e-&gt;update(counter++));\n        label.setText(&quot;Long process started&quot;);\n        timer.start();\n    }\n\n    private void stop() {\n        label.setText(&quot;Long process ended&quot;);\n        timer.stop();\n        start.setEnabled(true);\n    }\n\n    @Override\n    public Dimension preferredSize() {\n        return size;\n    }\n\n    private void simulateLongProcessOf(int seconds){\n\n        Thread t1 = new Thread(()-&gt;{\n            try {\n                Thread.sleep(1000*seconds);\n            } catch (InterruptedException ex) {\n                ex.printStackTrace();\n            }finally {\n                SwingUtilities.invokeLater(()-&gt;stop());\n            }\n        });\n        t1.start();\n    }\n\n    private void update(int count){\n        label.setText(&quot;Update # &quot;+ count+&quot; : long process is running&quot; );\n    }\n} \n</code></pre>\n"}],"owner":{"account_id":41263,"reputation":3490,"user_id":119855,"accept_rate":96,"display_name":"Georg Leber"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70026999,"answer_count":3,"score":1,"last_activity_date":1653591476,"creation_date":1637265708,"question_id":70026016,"body_markdown":"Is it possible to wait for a method (say METHOD1) to finish, but if it is running longer than X secs, call another method until METHOD1 returns?\r\n\r\nSome pseudocode:\r\n\r\n    method1();\r\n    startCountdown(1000); // time in millis\r\n    while (method1() still running) {\r\n        method2(); // shows a popup with spinner (Swing/AWT)\r\n    }\r\n    \r\nI guess, it must be done with concurrency, but I am not used to concurrent programming. So, I have no idea how to start.\r\n\r\nThe UI framework used is Swing/AWT.","title":"Wait for long-running operation and show popup","body":"<p>Is it possible to wait for a method (say METHOD1) to finish, but if it is running longer than X secs, call another method until METHOD1 returns?</p>\n<p>Some pseudocode:</p>\n<pre><code>method1();\nstartCountdown(1000); // time in millis\nwhile (method1() still running) {\n    method2(); // shows a popup with spinner (Swing/AWT)\n}\n</code></pre>\n<p>I guess, it must be done with concurrency, but I am not used to concurrent programming. So, I have no idea how to start.</p>\n<p>The UI framework used is Swing/AWT.</p>\n"},{"tags":["java","swing","printing","jtable"],"comments":[{"owner":{"account_id":11248952,"reputation":9,"user_id":8250703,"display_name":"Ahtap"},"score":0,"creation_date":1637266016,"post_id":70026039,"comment_id":123787206,"body_markdown":"I found a temporary fix for it. I display the JTable before i print it, so if i resize it and then try to print, it is scaled down and fits on my printed page.","body":"I found a temporary fix for it. I display the JTable before i print it, so if i resize it and then try to print, it is scaled down and fits on my printed page."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1637268901,"post_id":70026039,"comment_id":123788240,"body_markdown":"Take a close look at [this example](https://stackoverflow.com/questions/26580954/how-to-print-selected-rows-jtable/26581137#26581137) and [this example](https://stackoverflow.com/questions/34742195/printing-selected-rows-from-jtable/34742430#34742430)","body":"Take a close look at <a href=\"https://stackoverflow.com/questions/26580954/how-to-print-selected-rows-jtable/26581137#26581137\">this example</a> and <a href=\"https://stackoverflow.com/questions/34742195/printing-selected-rows-from-jtable/34742430#34742430\">this example</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1637520524,"post_id":70026039,"comment_id":123842368,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":11248952,"reputation":9,"user_id":8250703,"display_name":"Ahtap"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653591443,"creation_date":1637265822,"question_id":70026039,"body_markdown":"When I try to print my `JTable`, it automatically shrinks it down horizontally. How can I make it use the entire page width? I already tried both `PrintMode.Normal` and `PrintMode.Fit_Width`. Any help would be much appreciated.","title":"JTable print method not using entire page width","body":"<p>When I try to print my <code>JTable</code>, it automatically shrinks it down horizontally. How can I make it use the entire page width? I already tried both <code>PrintMode.Normal</code> and <code>PrintMode.Fit_Width</code>. Any help would be much appreciated.</p>\n"},{"tags":["java","kotlin","transactions","datasource","transactionmanager"],"comments":[{"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"score":0,"creation_date":1653593169,"post_id":72396645,"comment_id":127895130,"body_markdown":"did you check this - https://www.baeldung.com/spring-programmatic-transaction-management?","body":"did you check this - <a href=\"https://www.baeldung.com/spring-programmatic-transaction-management\" rel=\"nofollow noreferrer\">baeldung.com/spring-programmatic-transaction-management</a>?"},{"owner":{"account_id":119643,"reputation":1705,"user_id":3001897,"accept_rate":50,"display_name":"mayid"},"score":0,"creation_date":1653600009,"post_id":72396645,"comment_id":127897206,"body_markdown":"Thanks, it&#39;s an interesting reading. And yes, `TransactionTemplate` is an alternative. though it&#39;s also programmatical, it kinda makes sense and doesn&#39;t force me to create a public method. Using the lower level `PlatformTransactionManager` is not since it&#39;s more verbose, and we don&#39;t want that kind of code in our codebase.","body":"Thanks, it&#39;s an interesting reading. And yes, <code>TransactionTemplate</code> is an alternative. though it&#39;s also programmatical, it kinda makes sense and doesn&#39;t force me to create a public method. Using the lower level <code>PlatformTransactionManager</code> is not since it&#39;s more verbose, and we don&#39;t want that kind of code in our codebase."}],"owner":{"account_id":119643,"reputation":1705,"user_id":3001897,"accept_rate":50,"display_name":"mayid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":661,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653590985,"creation_date":1653590985,"question_id":72396645,"body_markdown":"We have several databases, and then several `DataSource`s in a `DataSourceRouter`.\r\n\r\nThat way, we can decide what database to use programmatically. But when it comes to annotations, it&#39;s not clear to me how to set the transaction context.\r\n\r\nThere are a few articles covering how to use different data sources, like:\r\nhttps://www.baeldung.com/spring-abstract-routing-data-source\r\nhttps://medium.com/innomizetech/dynamic-multi-database-application-with-spring-boot-7c61a743e914\r\n\r\nBut as I said, they set the proper `dataSource` programmatically, like:\r\n\r\n    DatabaseContextHolder.set(tenantName);\r\n    val response = this.doSomethingInDatabase();\r\n    DatabaseContextHolder.clear();\r\n\r\nI could use that at a method level, instead of at the class level. So I would have something like `@Transactional(&quot;TransactionBeanName&quot;)`. Doing that works, but requires programmatic code, and also I need to split the logic into two public methods.\r\n\r\n    class SomeService() {\r\n        fun entrypoint(tenantName: String) {\r\n            val data = getData()\r\n    \r\n            withTenant(tenantName) {\r\n                doSomething(tenantName, data)\r\n            }\r\n        }\r\n    \r\n        private fun withTenant(tenantName: String, action: () -&gt; Unit) {\r\n            DatabaseContextHolder.setTenant(tenantName)\r\n            action()\r\n            DatabaseContextHolder.clearTenant()\r\n        }  \r\n\r\n        @Transactional(&quot;byteProJpaTransactionManager&quot;)\r\n        fun doSomething() { ... } // &lt;-- needs to be public to be transactional\r\n          ...\r\n        }\r\n\r\nSo I&#39;m wondering what would be the best practice here. Any ideas?","title":"Using TransactionManager with the @Transactional annotation","body":"<p>We have several databases, and then several <code>DataSource</code>s in a <code>DataSourceRouter</code>.</p>\n<p>That way, we can decide what database to use programmatically. But when it comes to annotations, it's not clear to me how to set the transaction context.</p>\n<p>There are a few articles covering how to use different data sources, like:\n<a href=\"https://www.baeldung.com/spring-abstract-routing-data-source\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-abstract-routing-data-source</a>\n<a href=\"https://medium.com/innomizetech/dynamic-multi-database-application-with-spring-boot-7c61a743e914\" rel=\"nofollow noreferrer\">https://medium.com/innomizetech/dynamic-multi-database-application-with-spring-boot-7c61a743e914</a></p>\n<p>But as I said, they set the proper <code>dataSource</code> programmatically, like:</p>\n<pre><code>DatabaseContextHolder.set(tenantName);\nval response = this.doSomethingInDatabase();\nDatabaseContextHolder.clear();\n</code></pre>\n<p>I could use that at a method level, instead of at the class level. So I would have something like <code>@Transactional(&quot;TransactionBeanName&quot;)</code>. Doing that works, but requires programmatic code, and also I need to split the logic into two public methods.</p>\n<pre><code>class SomeService() {\n    fun entrypoint(tenantName: String) {\n        val data = getData()\n\n        withTenant(tenantName) {\n            doSomething(tenantName, data)\n        }\n    }\n\n    private fun withTenant(tenantName: String, action: () -&gt; Unit) {\n        DatabaseContextHolder.setTenant(tenantName)\n        action()\n        DatabaseContextHolder.clearTenant()\n    }  \n\n    @Transactional(&quot;byteProJpaTransactionManager&quot;)\n    fun doSomething() { ... } // &lt;-- needs to be public to be transactional\n      ...\n    }\n</code></pre>\n<p>So I'm wondering what would be the best practice here. Any ideas?</p>\n"},{"tags":["java","android","deprecation-warning","play-billing-library"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":2,"creation_date":1653589455,"post_id":72396263,"comment_id":127893942,"body_markdown":"Have you checked the migration guide? https://developer.android.com/google/play/billing/migrate-gpblv5","body":"Have you checked the migration guide? <a href=\"https://developer.android.com/google/play/billing/migrate-gpblv5\" rel=\"nofollow noreferrer\">developer.android.com/google/play/billing/migrate-gpblv5</a>"}],"answers":[{"tags":[],"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653590028,"creation_date":1653590028,"answer_id":72396493,"question_id":72396263,"body_markdown":"`SkuDetailsResponseListener` is replaced by `ProductDetailsResponseListener` along with other methods &amp; callbacks since **v5** adds new subscription capabilities (as per docs.).\r\n\r\nYou can check the complete migration guide here:\\\r\nhttps://developer.android.com/google/play/billing/migrate-gpblv5","title":"Google Play Billing Library 5.0 deprecation warnings","body":"<p><code>SkuDetailsResponseListener</code> is replaced by <code>ProductDetailsResponseListener</code> along with other methods &amp; callbacks since <strong>v5</strong> adds new subscription capabilities (as per docs.).</p>\n<p>You can check the complete migration guide here:<br />\n<a href=\"https://developer.android.com/google/play/billing/migrate-gpblv5\" rel=\"nofollow noreferrer\">https://developer.android.com/google/play/billing/migrate-gpblv5</a></p>\n"}],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5550,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72396493,"answer_count":1,"score":1,"last_activity_date":1653590860,"creation_date":1653588726,"question_id":72396263,"body_markdown":"Since I&#39;ve upgraded the `BillingClient` to version `5.0.0`:\r\n\r\n    googleImplementation &#39;com.android.billingclient:billing:5.0.0&#39;\r\n\r\nI get these unique deprecation warnings:\r\n\r\n    warning: [deprecation] getSkus() in Purchase has been deprecated\r\n    warning: [deprecation] getSkus() in PurchaseHistoryRecord has been deprecated\r\n    warning: [deprecation] SkuType in BillingClient has been deprecated\r\n    warning: [deprecation] SkuDetailsResponseListener in com.android.billingclient.api has been deprecated\r\n    warning: [deprecation] SkuDetailsParams in com.android.billingclient.api has been deprecated\r\n    warning: [deprecation] SkuDetails in com.android.billingclient.api has been deprecated\r\n    warning: [deprecation] querySkuDetailsAsync(SkuDetailsParams,SkuDetailsResponseListener) in BillingClient has been deprecated\r\n    warning: [deprecation] setSkuDetails(SkuDetails) in Builder has been deprecated\r\n\r\neg. the [documentation](https://developer.android.com/reference/com/android/billingclient/api/SkuDetailsResponseListener) suggests to use [`ProductDetailsResponseListener`](https://developer.android.com/reference/com/android/billingclient/api/BillingClient#queryProductDetailsAsync(com.android.billingclient.api.QueryProductDetailsParams,%20com.android.billingclient.api.ProductDetailsResponseListener)) instead.\r\n\r\nWanted to ask, how to use it?","title":"Google Play Billing Library 5.0 deprecation warnings","body":"<p>Since I've upgraded the <code>BillingClient</code> to version <code>5.0.0</code>:</p>\n<pre><code>googleImplementation 'com.android.billingclient:billing:5.0.0'\n</code></pre>\n<p>I get these unique deprecation warnings:</p>\n<pre><code>warning: [deprecation] getSkus() in Purchase has been deprecated\nwarning: [deprecation] getSkus() in PurchaseHistoryRecord has been deprecated\nwarning: [deprecation] SkuType in BillingClient has been deprecated\nwarning: [deprecation] SkuDetailsResponseListener in com.android.billingclient.api has been deprecated\nwarning: [deprecation] SkuDetailsParams in com.android.billingclient.api has been deprecated\nwarning: [deprecation] SkuDetails in com.android.billingclient.api has been deprecated\nwarning: [deprecation] querySkuDetailsAsync(SkuDetailsParams,SkuDetailsResponseListener) in BillingClient has been deprecated\nwarning: [deprecation] setSkuDetails(SkuDetails) in Builder has been deprecated\n</code></pre>\n<p>eg. the <a href=\"https://developer.android.com/reference/com/android/billingclient/api/SkuDetailsResponseListener\" rel=\"nofollow noreferrer\">documentation</a> suggests to use <a href=\"https://developer.android.com/reference/com/android/billingclient/api/BillingClient#queryProductDetailsAsync(com.android.billingclient.api.QueryProductDetailsParams,%20com.android.billingclient.api.ProductDetailsResponseListener)\" rel=\"nofollow noreferrer\"><code>ProductDetailsResponseListener</code></a> instead.</p>\n<p>Wanted to ask, how to use it?</p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":19703485,"reputation":96,"user_id":14425729,"display_name":"Ricardo Junior"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653590852,"creation_date":1653507754,"answer_id":72383337,"question_id":72382842,"body_markdown":"You can use the `weight` property,\r\nsetting SeekBar `weight` to 1 and `layout_width` to `0dp` should do it.\r\n\r\nalso, on a side note, try to be consistent when naming your variables, don&#39;t `do_this` for one variable `andThis` for another ","title":"How can I make a SeekBar take up the width available between a TextView and an ImageButton?","body":"<p>You can use the <code>weight</code> property,\nsetting SeekBar <code>weight</code> to 1 and <code>layout_width</code> to <code>0dp</code> should do it.</p>\n<p>also, on a side note, try to be consistent when naming your variables, don't <code>do_this</code> for one variable <code>andThis</code> for another</p>\n"},{"tags":[],"owner":{"account_id":22699517,"reputation":1633,"user_id":16867144,"display_name":"Khaled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653510580,"creation_date":1653510580,"answer_id":72383817,"question_id":72382842,"body_markdown":"Following Ricardo&#39;s answer, the code will be\r\n\r\n    &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;androidx.appcompat.widget.AppCompatTextView\r\n            android:id=&quot;@+id/seekbar_text&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            android:textColor=&quot;@color/white&quot; /&gt;\r\n\r\n        &lt;SeekBar\r\n            android:id=&quot;@+id/seek_bar&quot;\r\n            style=&quot;@style/Widget.AppCompat.SeekBar&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginEnd=&quot;8dp&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot; /&gt;\r\n\r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/ccBtn&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:src=&quot;@drawable/ic_captions_off&quot;\r\n            app:tint=&quot;@color/white&quot; /&gt;\r\n\r\n\r\n    &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\n\r\nImage preview: https://i.stack.imgur.com/LGrEo.png\r\n\r\nIn the image I&#39;ve centered it a bit, which can be achieved with gravity center and no bottom margin","title":"How can I make a SeekBar take up the width available between a TextView and an ImageButton?","body":"<p>Following Ricardo's answer, the code will be</p>\n<pre><code>&lt;androidx.appcompat.widget.LinearLayoutCompat\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatTextView\n        android:id=&quot;@+id/seekbar_text&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:textColor=&quot;@color/white&quot; /&gt;\n\n    &lt;SeekBar\n        android:id=&quot;@+id/seek_bar&quot;\n        style=&quot;@style/Widget.AppCompat.SeekBar&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:layout_weight=&quot;1&quot;\n        android:layout_marginBottom=&quot;8dp&quot; /&gt;\n\n    &lt;ImageButton\n        android:id=&quot;@+id/ccBtn&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:src=&quot;@drawable/ic_captions_off&quot;\n        app:tint=&quot;@color/white&quot; /&gt;\n\n\n&lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n</code></pre>\n<p>Image preview: <a href=\"https://i.stack.imgur.com/LGrEo.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/LGrEo.png</a></p>\n<p>In the image I've centered it a bit, which can be achieved with gravity center and no bottom margin</p>\n"}],"owner":{"account_id":24580690,"reputation":33,"user_id":18485872,"display_name":"Iam Me"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72383817,"answer_count":2,"score":0,"last_activity_date":1653590852,"creation_date":1653504799,"question_id":72382842,"body_markdown":"I&#39;d like the TextView and ImageButton to take up space based on their size &amp; have the SeekBar take up whatever space remains. Here&#39;s my current code:\r\n\r\n    &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:weightSum=&quot;100&quot;&gt;\r\n    \r\n            &lt;androidx.appcompat.widget.AppCompatTextView\r\n                android:id=&quot;@+id/seekbar_text&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;8dp&quot;\r\n                android:textColor=&quot;@color/white&quot; /&gt;\r\n    \r\n            &lt;SeekBar\r\n                android:id=&quot;@+id/seek_bar&quot;\r\n                style=&quot;@style/Widget.AppCompat.SeekBar&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginEnd=&quot;8dp&quot;\r\n                android:layout_marginBottom=&quot;8dp&quot; /&gt;\r\n    \r\n            &lt;ImageButton\r\n                android:id=&quot;@+id/ccBtn&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:src=&quot;@drawable/ic_captions_off&quot;\r\n                app:tint=&quot;@color/white&quot; /&gt;\r\n    \r\n    \r\n        &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\nWith this code, the SeekBar has no width &amp; the ccBtn appears in the center of the screen. How can I fix this?","title":"How can I make a SeekBar take up the width available between a TextView and an ImageButton?","body":"<p>I'd like the TextView and ImageButton to take up space based on their size &amp; have the SeekBar take up whatever space remains. Here's my current code:</p>\n<pre><code>&lt;androidx.appcompat.widget.LinearLayoutCompat\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:weightSum=&quot;100&quot;&gt;\n\n        &lt;androidx.appcompat.widget.AppCompatTextView\n            android:id=&quot;@+id/seekbar_text&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;8dp&quot;\n            android:textColor=&quot;@color/white&quot; /&gt;\n\n        &lt;SeekBar\n            android:id=&quot;@+id/seek_bar&quot;\n            style=&quot;@style/Widget.AppCompat.SeekBar&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginEnd=&quot;8dp&quot;\n            android:layout_marginBottom=&quot;8dp&quot; /&gt;\n\n        &lt;ImageButton\n            android:id=&quot;@+id/ccBtn&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:src=&quot;@drawable/ic_captions_off&quot;\n            app:tint=&quot;@color/white&quot; /&gt;\n\n\n    &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n</code></pre>\n<p>With this code, the SeekBar has no width &amp; the ccBtn appears in the center of the screen. How can I fix this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1653588564,"post_id":72396210,"comment_id":127893634,"body_markdown":"add `System.out.println(&quot;done&quot;);` after `sc.close();`","body":"add <code>System.out.println(&quot;done&quot;);</code> after <code>sc.close();</code>"},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":3,"creation_date":1653588607,"post_id":72396210,"comment_id":127893654,"body_markdown":"after realization that application is not hung, check the https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java","body":"after realization that application is not hung, check the <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\" title=\"how do i compare strings in java\">stackoverflow.com/questions/513832/&hellip;</a>"},{"owner":{"account_id":17972506,"reputation":339,"user_id":13060909,"display_name":"larry8989"},"score":0,"creation_date":1653591001,"post_id":72396210,"comment_id":127894459,"body_markdown":"I see what was the issue. Thank you  Iłya Bursov. That was the issue. I was not comparing strings correctly.","body":"I see what was the issue. Thank you  Iłya Bursov. That was the issue. I was not comparing strings correctly."},{"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"score":1,"creation_date":1653596492,"post_id":72396210,"comment_id":127896196,"body_markdown":"Does this answer your question? [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>"}],"owner":{"account_id":17972506,"reputation":339,"user_id":13060909,"display_name":"larry8989"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653590810,"creation_date":1653588356,"question_id":72396210,"body_markdown":"The following program asks user to enter an option and then runs one of two methods. I&#39;m using Eclipse as my IDE. Currently, when selecting any of the methods the program just hangs and doesn&#39;t do anything. The console shows my input but does not progress beyond that. I&#39;m not getting any errors but it hangs. What could be the issue? Thank you.\r\n\r\nUPDATE:\r\nI inserted a println emmidiately after the user types in an option. \r\n\t\t\r\n\r\n    System.out.println(&quot;You entered option number &quot; + option);\r\n\r\nThe program then does not seem to execute the if statements. \r\nI also added another println after the sc.close(). \r\n\r\n    System.out.println(&quot;done&quot;);\r\n\r\nIt prints out what the user entered but then after user input it just prints out &quot;done&quot; instead of executing code in the if blocks.\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    \r\n    public class SimpleGame {\r\n    \t\r\n    \tpublic String convertTime(int seconds){\r\n    \t\t// get the hours part of the seconds\r\n    \t\tint hrs = seconds / 3600;\r\n    \t\t// get the minutes part of the seconds\r\n    \t\tint min = (seconds % hrs) / 60;\r\n    \t\t// seconds \r\n    \t\tint sec = min % 60;\r\n    \t\tString time = hrs + &quot;:&quot; + min + &quot;:&quot; + sec;\r\n    \t\treturn time;\r\n    \t}\r\n    \t\r\n    \tpublic int digitsSum(int input){\r\n    \t\tint sum = 0;\r\n    \t\tString str = Integer.toString(input);\r\n    \t\tfor (int i = 0; i &lt;= str.length(); i++) {\r\n    \t\t\tint chr = Integer.valueOf(str.charAt(i));\r\n    \t\t\tsum += chr;\r\n    \t\t}\r\n    \t\treturn sum;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tSimpleGame sg = new SimpleGame();\r\n    \r\n    \t\t// Ask the user to select an option.\r\n    \t\t// Then ask the user for input and pass the value to the corresponding method.\r\n    \t\tSystem.out.println(&quot;Select an option to play&quot;);\r\n    \t\tSystem.out.println(&quot;1. convertTime&quot;);\r\n    \t\tSystem.out.println(&quot;2. digitSum&quot;);\r\n    \r\n    \t\tString option = sc.next();\r\n    \t\t// If the user enters 1, ask for an integer to convert and call the convertTime method.\r\n    \t\tif (option == &quot;1&quot;) {\r\n    \t\t\tSystem.out.println(&quot;Enter an integer to convert from seconds to time&quot;);\r\n    \t\t\tString s = sc.next();\r\n    \t\t\tint input = Integer.parseInt(s);\r\n    \t\t\tSystem.out.println(sg.convertTime(input));\r\n    \r\n    \t\t}\r\n    \t\t// If the user enters 2, ask for an integer and call the digitsSum method.\r\n    \t\tif (option == &quot;2&quot;) {\r\n    \t\t\tSystem.out.println(&quot;Enter an integer to sum up&quot;);\r\n    \t\t\tString s = sc.next();\r\n    \t\t\tint input = Integer.parseInt(s);\r\n    \t\t\tSystem.out.println(sg.digitsSum(input));\r\n    \t\t}\r\n    \t\t\r\n    \t\tsc.close();\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Program hangs after user input","body":"<p>The following program asks user to enter an option and then runs one of two methods. I'm using Eclipse as my IDE. Currently, when selecting any of the methods the program just hangs and doesn't do anything. The console shows my input but does not progress beyond that. I'm not getting any errors but it hangs. What could be the issue? Thank you.</p>\n<p>UPDATE:\nI inserted a println emmidiately after the user types in an option.</p>\n<pre><code>System.out.println(&quot;You entered option number &quot; + option);\n</code></pre>\n<p>The program then does not seem to execute the if statements.\nI also added another println after the sc.close().</p>\n<pre><code>System.out.println(&quot;done&quot;);\n</code></pre>\n<p>It prints out what the user entered but then after user input it just prints out &quot;done&quot; instead of executing code in the if blocks.</p>\n<pre><code>import java.util.Scanner;\n\n\npublic class SimpleGame {\n    \n    public String convertTime(int seconds){\n        // get the hours part of the seconds\n        int hrs = seconds / 3600;\n        // get the minutes part of the seconds\n        int min = (seconds % hrs) / 60;\n        // seconds \n        int sec = min % 60;\n        String time = hrs + &quot;:&quot; + min + &quot;:&quot; + sec;\n        return time;\n    }\n    \n    public int digitsSum(int input){\n        int sum = 0;\n        String str = Integer.toString(input);\n        for (int i = 0; i &lt;= str.length(); i++) {\n            int chr = Integer.valueOf(str.charAt(i));\n            sum += chr;\n        }\n        return sum;\n    }\n\n    public static void main(String[] args) {\n        \n        Scanner sc = new Scanner(System.in);\n        SimpleGame sg = new SimpleGame();\n\n        // Ask the user to select an option.\n        // Then ask the user for input and pass the value to the corresponding method.\n        System.out.println(&quot;Select an option to play&quot;);\n        System.out.println(&quot;1. convertTime&quot;);\n        System.out.println(&quot;2. digitSum&quot;);\n\n        String option = sc.next();\n        // If the user enters 1, ask for an integer to convert and call the convertTime method.\n        if (option == &quot;1&quot;) {\n            System.out.println(&quot;Enter an integer to convert from seconds to time&quot;);\n            String s = sc.next();\n            int input = Integer.parseInt(s);\n            System.out.println(sg.convertTime(input));\n\n        }\n        // If the user enters 2, ask for an integer and call the digitsSum method.\n        if (option == &quot;2&quot;) {\n            System.out.println(&quot;Enter an integer to sum up&quot;);\n            String s = sc.next();\n            int input = Integer.parseInt(s);\n            System.out.println(sg.digitsSum(input));\n        }\n        \n        sc.close();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","file","filewriter","bufferedwriter"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1601466461,"post_id":64136857,"comment_id":113415829,"body_markdown":"Where does it &quot; prints what I&#39;m trying to put in the txt&quot;? I dont see any print statements.","body":"Where does it &quot; prints what I&#39;m trying to put in the txt&quot;? I dont see any print statements."},{"owner":{"account_id":19627627,"reputation":25,"user_id":14366629,"display_name":"Eme"},"score":0,"creation_date":1601466675,"post_id":64136857,"comment_id":113415940,"body_markdown":"Me neither but when i execute it with eclipse it prints the contents of the ArrayList","body":"Me neither but when i execute it with eclipse it prints the contents of the ArrayList"},{"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"score":2,"creation_date":1601466827,"post_id":64136857,"comment_id":113416009,"body_markdown":"`file` and `temp` are never actually used for anything, what was your intent with those two variables?","body":"<code>file</code> and <code>temp</code> are never actually used for anything, what was your intent with those two variables?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1601467124,"post_id":64136857,"comment_id":113416145,"body_markdown":"@JoakimDanielson there is a rename/delete operation that happens at the end. Eme maybe you should print while you write. Also, can you try it without the rename/delete part and see if the temp file gets written ok?","body":"@JoakimDanielson there is a rename/delete operation that happens at the end. Eme maybe you should print while you write. Also, can you try it without the rename/delete part and see if the temp file gets written ok?"},{"owner":{"account_id":4720152,"reputation":1442,"user_id":3818303,"accept_rate":38,"display_name":"instanceof"},"score":1,"creation_date":1601467213,"post_id":64136857,"comment_id":113416181,"body_markdown":"You have a syntax error on the line that starts with `String date...`. &#39;contactos2&#39; instead of &#39;contacts&#39;.","body":"You have a syntax error on the line that starts with <code>String date...</code>. &#39;contactos2&#39; instead of &#39;contacts&#39;."},{"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1601467218,"post_id":64136857,"comment_id":113416186,"body_markdown":"@matt I see that, thank you, but where are they actually used? There is no real logic connected with them.","body":"@matt I see that, thank you, but where are they actually used? There is no real logic connected with them."},{"owner":{"account_id":19627627,"reputation":25,"user_id":14366629,"display_name":"Eme"},"score":0,"creation_date":1601467272,"post_id":64136857,"comment_id":113416205,"body_markdown":"@JoakimDanielson `temp` is the file where i want to write and `file` is kind of my data base so basically in `temp` i write whats in `file` + new things, then i delete `file` and change the name of `temp` to the name of `file` so its like ive updated `file`","body":"@JoakimDanielson <code>temp</code> is the file where i want to write and <code>file</code> is kind of my data base so basically in <code>temp</code> i write whats in <code>file</code> + new things, then i delete <code>file</code> and change the name of <code>temp</code> to the name of <code>file</code> so its like ive updated <code>file</code>"},{"owner":{"account_id":19627627,"reputation":25,"user_id":14366629,"display_name":"Eme"},"score":0,"creation_date":1601467339,"post_id":64136857,"comment_id":113416238,"body_markdown":"@instanceof yes, sorry, the code is written is spanish so i changed the names of the variables so it&#39;d be easier to read but i clearly forgot that one. I just edited it thanks","body":"@instanceof yes, sorry, the code is written is spanish so i changed the names of the variables so it&#39;d be easier to read but i clearly forgot that one. I just edited it thanks"},{"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"score":1,"creation_date":1601467357,"post_id":64136857,"comment_id":113416248,"body_markdown":"But then you need to actually use them, like when creating the BufferedWriter you should do `new FileWriter(temp)`","body":"But then you need to actually use them, like when creating the BufferedWriter you should do <code>new FileWriter(temp)</code>"},{"owner":{"account_id":19627627,"reputation":25,"user_id":14366629,"display_name":"Eme"},"score":0,"creation_date":1601467705,"post_id":64136857,"comment_id":113416389,"body_markdown":"@JoakimDanielson I just tried that and same thing happens, I edited the post to that too","body":"@JoakimDanielson I just tried that and same thing happens, I edited the post to that too"},{"owner":{"account_id":19627627,"reputation":25,"user_id":14366629,"display_name":"Eme"},"score":0,"creation_date":1601467710,"post_id":64136857,"comment_id":113416393,"body_markdown":"@matt I just tried it without delete and rename and temp still shows up empty","body":"@matt I just tried it without delete and rename and temp still shows up empty"},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1601467847,"post_id":64136857,"comment_id":113416458,"body_markdown":"`renameTo` returns a boolean -- true if it succeeds and false otherwise. It would be wise to check that.","body":"<code>renameTo</code> returns a boolean -- true if it succeeds and false otherwise. It would be wise to check that."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":1,"creation_date":1601467921,"post_id":64136857,"comment_id":113416501,"body_markdown":"Have you tried placing a breakpoint and debugging?","body":"Have you tried placing a breakpoint and debugging?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1601491302,"creation_date":1601474795,"answer_id":64139327,"question_id":64136857,"body_markdown":"Many problems with your code:\r\n\r\n## resource leakage\r\n\r\nSomething like a `new FileWriter` is a __resource__. Resources __MUST__ be closed. As a consequence, you should never make resources (you usually know it when you make a resource: you either call `new X` where X is clearly representative of a resource, or you call something like `socket.getInputStream` or `Files.newBufferedReader`... unless you do it &#39;right&#39;. There are only two ways to do it right:\r\n\r\n```\r\ntry (FileWriter w = new FileWriter(...)) {\r\n   // use it here\r\n}\r\n```\r\n\r\nor, if you need the resource to be a field of your class, then the only safe way is to turn your class into a resource: make it `implements AutoClosable`, make a close method, and now the burden of using that try syntax is on whomever uses your class. __There is no way to safely do this stuff without try-with-resources__*.\r\n\r\n## Charset messup\r\n\r\nfiles are bytes. not characters. In addition, the filesystem has no clue what the &#39;encoding&#39; is. How do you turn `☃`, or for that matter, `&#233;` into bytes? The answer depends on charset encoding. The problem with all methods that turn bytes into characters or vice versa that are NOT in the `java.nio.file` package is that they use &#39;platform default encoding&#39;. That&#39;s a funny way of saying &#39;the worst idea ever&#39;, as that will &#39;work&#39; on your machine and will pass all tests, and then fail in production, at the worst possible moment. The solution is to __never__ rely on platform default, ever. If you really really intend to use that, make it explicit. Unfortunately, FileWriter, until java11, has __no way__ of specifying charset encoding, which makes it an utterly useless class you cannot actually ever use without writing buggy code. So don&#39;t. I suggest you switch to the new file API, which defaults to UTF-8 (quite a sane default), and can do a lot of complicated things in one-liners.\r\n\r\n## No newlines\r\n\r\nYou just `.write` all this data. write does exactly what it says, and writes precisely the string. It does not print anything more. Specifically, it does not print any newlines. Surely you did not intend to just write, say, `JoeSteel1990-10-01` to the file, all in one jumbled mess like that? write `\\n` to avoid this, or preconstruct the entire string just as you want it (with newlines), and then write that.\r\n\r\n## on unexpected condition silently do nothing\r\n\r\nYour code will silently do nothing if the &#39;temp&#39; file already exists. It sounds like the design is that this is a weird situation (as the temp file is &#39;renamed&#39; right after). As a general rule of thumb, &#39;silently do nothing&#39; is entirely the wrong instinct to have when you run into scenarios you know are unlikely or seemingly impossible. The right instinct is the exact opposite: Fail as spectacularly as you can. (The best option, of course, is to think about what the weird scenario means and handle it properly, but that&#39;s not always possible). So, instead of that, try:\r\n\r\n```\r\nif (!temp.creatNewFile()) {\r\n    throw new RuntimeException(&quot;That is weird - tempfile already exists: &quot; + temp);\r\n}\r\n```\r\n\r\nThat&#39;s the right mindset: If weird things happen, blow up, as fast as you can, with enough detail so you know what&#39;s going wrong. (The most likely &#39;correct&#39; way to handle this is to just delete the temp file. The whole point of that temp file is that if it&#39;s still there when you enter this code, that the previous attempt failed halfway through, so just delete the product of the failed operation, it isn&#39;t useful).\r\n\r\n## exception handling.\r\n\r\nWhilst common in examples and even IDE templates, you&#39;re not doing it right. You should NEVER handle an exception by printing something and carrying on. Think about it: If something went wrong, continuing with the code execution is either going to cause nasty problems (as you surely did not consider that one of the steps in your program failed when you write your code), or is going to cause another error. And if all errors are handled like this, one thing goes wrong and you get 85 error traces in your logs. That&#39;s not useful. __If a problem occurs and you do not know how to handle it, do NOT continue running__. The only sensible &#39;I do not know how to handle this&#39; exception handling is:\r\n\r\n```\r\ncatch (IOException e) {\r\n    throw new RuntimeException(&quot;unhandled&quot;, e);\r\n}\r\n```\r\n\r\nsometimes a better exception than RuntimeException is possible (such as UncheckedIOException or ServletException, it depends on the situation). Also, sometimes the right answer is to just `throws` the exception onwards. Remember, `public static void main` can (and usually should!) be declared as `throws Exception`.\r\n\r\n## Putting it all together\r\n\r\n```\r\ntry {\r\n    Path temp = Paths.get(&quot;temp.txt&quot;);\r\n    Path file = Paths.get(prop.getProperty(&quot;path&quot;));\r\n    ArrayList&lt;Contact&gt; contacts = gestor.checkData();\r\n\r\n    try (BufferedWriter writer = Files.newBufferedWriter(temp)) {\r\n      for (Contact contact : contacts) {                        \r\n          writer.write(contact.getName());\r\n          writer.write(&quot;\\n&quot;);\r\n          writer.write(contact.getLastNames());\r\n          writer.write(&quot;\\n&quot;);\r\n          DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n          String date = df.format(contact.getBirthday());\r\n          writer.write(date);\r\n          writer.write(&quot;\\n&quot;);\r\n          writer.write(contact.getEmail());\r\n          writer.write(&quot;\\n&quot;);\r\n      }\r\n    }\r\n    Files.delete(file);\r\n    Files.move(temp, file);\r\n} catch (IOException e) {\r\n    throw new UncheckedIOException(e);\r\n}\r\n```\r\n\r\nThe above will probably fail, but it will fail telling you exactly why it failed. For example, it might tell you that the directory you are trying to write to does not exist, or you have no write access. Whereas your code will then silently just do nothing.\r\n\r\n*) For you java pros out there, sure, you can handroll your own try/finally loops. Let me know how many programmers new to java ever managed to dodge every mine in the minefield when you do that. Until you are fairly wintered, this rule of thumb becomes effectively a rule of law: You can&#39;t do it safely without t-w-r. Let&#39;s keep it simple.\r\n","title":"How to write to a text file from an ArrayList","body":"<p>Many problems with your code:</p>\n<h2>resource leakage</h2>\n<p>Something like a <code>new FileWriter</code> is a <strong>resource</strong>. Resources <strong>MUST</strong> be closed. As a consequence, you should never make resources (you usually know it when you make a resource: you either call <code>new X</code> where X is clearly representative of a resource, or you call something like <code>socket.getInputStream</code> or <code>Files.newBufferedReader</code>... unless you do it 'right'. There are only two ways to do it right:</p>\n<pre><code>try (FileWriter w = new FileWriter(...)) {\n   // use it here\n}\n</code></pre>\n<p>or, if you need the resource to be a field of your class, then the only safe way is to turn your class into a resource: make it <code>implements AutoClosable</code>, make a close method, and now the burden of using that try syntax is on whomever uses your class. <strong>There is no way to safely do this stuff without try-with-resources</strong>*.</p>\n<h2>Charset messup</h2>\n<p>files are bytes. not characters. In addition, the filesystem has no clue what the 'encoding' is. How do you turn <code>☃</code>, or for that matter, <code>é</code> into bytes? The answer depends on charset encoding. The problem with all methods that turn bytes into characters or vice versa that are NOT in the <code>java.nio.file</code> package is that they use 'platform default encoding'. That's a funny way of saying 'the worst idea ever', as that will 'work' on your machine and will pass all tests, and then fail in production, at the worst possible moment. The solution is to <strong>never</strong> rely on platform default, ever. If you really really intend to use that, make it explicit. Unfortunately, FileWriter, until java11, has <strong>no way</strong> of specifying charset encoding, which makes it an utterly useless class you cannot actually ever use without writing buggy code. So don't. I suggest you switch to the new file API, which defaults to UTF-8 (quite a sane default), and can do a lot of complicated things in one-liners.</p>\n<h2>No newlines</h2>\n<p>You just <code>.write</code> all this data. write does exactly what it says, and writes precisely the string. It does not print anything more. Specifically, it does not print any newlines. Surely you did not intend to just write, say, <code>JoeSteel1990-10-01</code> to the file, all in one jumbled mess like that? write <code>\\n</code> to avoid this, or preconstruct the entire string just as you want it (with newlines), and then write that.</p>\n<h2>on unexpected condition silently do nothing</h2>\n<p>Your code will silently do nothing if the 'temp' file already exists. It sounds like the design is that this is a weird situation (as the temp file is 'renamed' right after). As a general rule of thumb, 'silently do nothing' is entirely the wrong instinct to have when you run into scenarios you know are unlikely or seemingly impossible. The right instinct is the exact opposite: Fail as spectacularly as you can. (The best option, of course, is to think about what the weird scenario means and handle it properly, but that's not always possible). So, instead of that, try:</p>\n<pre><code>if (!temp.creatNewFile()) {\n    throw new RuntimeException(&quot;That is weird - tempfile already exists: &quot; + temp);\n}\n</code></pre>\n<p>That's the right mindset: If weird things happen, blow up, as fast as you can, with enough detail so you know what's going wrong. (The most likely 'correct' way to handle this is to just delete the temp file. The whole point of that temp file is that if it's still there when you enter this code, that the previous attempt failed halfway through, so just delete the product of the failed operation, it isn't useful).</p>\n<h2>exception handling.</h2>\n<p>Whilst common in examples and even IDE templates, you're not doing it right. You should NEVER handle an exception by printing something and carrying on. Think about it: If something went wrong, continuing with the code execution is either going to cause nasty problems (as you surely did not consider that one of the steps in your program failed when you write your code), or is going to cause another error. And if all errors are handled like this, one thing goes wrong and you get 85 error traces in your logs. That's not useful. <strong>If a problem occurs and you do not know how to handle it, do NOT continue running</strong>. The only sensible 'I do not know how to handle this' exception handling is:</p>\n<pre><code>catch (IOException e) {\n    throw new RuntimeException(&quot;unhandled&quot;, e);\n}\n</code></pre>\n<p>sometimes a better exception than RuntimeException is possible (such as UncheckedIOException or ServletException, it depends on the situation). Also, sometimes the right answer is to just <code>throws</code> the exception onwards. Remember, <code>public static void main</code> can (and usually should!) be declared as <code>throws Exception</code>.</p>\n<h2>Putting it all together</h2>\n<pre><code>try {\n    Path temp = Paths.get(&quot;temp.txt&quot;);\n    Path file = Paths.get(prop.getProperty(&quot;path&quot;));\n    ArrayList&lt;Contact&gt; contacts = gestor.checkData();\n\n    try (BufferedWriter writer = Files.newBufferedWriter(temp)) {\n      for (Contact contact : contacts) {                        \n          writer.write(contact.getName());\n          writer.write(&quot;\\n&quot;);\n          writer.write(contact.getLastNames());\n          writer.write(&quot;\\n&quot;);\n          DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n          String date = df.format(contact.getBirthday());\n          writer.write(date);\n          writer.write(&quot;\\n&quot;);\n          writer.write(contact.getEmail());\n          writer.write(&quot;\\n&quot;);\n      }\n    }\n    Files.delete(file);\n    Files.move(temp, file);\n} catch (IOException e) {\n    throw new UncheckedIOException(e);\n}\n</code></pre>\n<p>The above will probably fail, but it will fail telling you exactly why it failed. For example, it might tell you that the directory you are trying to write to does not exist, or you have no write access. Whereas your code will then silently just do nothing.</p>\n<p>*) For you java pros out there, sure, you can handroll your own try/finally loops. Let me know how many programmers new to java ever managed to dodge every mine in the minefield when you do that. Until you are fairly wintered, this rule of thumb becomes effectively a rule of law: You can't do it safely without t-w-r. Let's keep it simple.</p>\n"}],"owner":{"account_id":19627627,"reputation":25,"user_id":14366629,"display_name":"Eme"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64139327,"answer_count":1,"score":1,"last_activity_date":1653590810,"creation_date":1601466146,"question_id":64136857,"body_markdown":"I&#39;m trying to take data from an `ArrayList` of a class and write it into a text file. It creates the temporary file, but doesn&#39;t do anything with it. It prints what I&#39;m trying to put in the file and doesn&#39;t delete the temporary file. What am I doing wrong?\r\n\r\n    try\r\n    {\r\n    \tFile temp = new File(&quot;temp.txt&quot;);\r\n    \tFile file = new File(prop.getProperty(&quot;path&quot;));\r\n    \tBufferedWriter writer = new BufferedWriter(new FileWriter(temp));\r\n    \tArrayList&lt;Contact&gt; contacts = gestor.checkData();\r\n    \t\t\t\t\t\t\r\n    \tif(temp.createNewFile())\r\n    \t{\r\n    \t\tfor(int i = 0; i &lt; contacts.size(); i++)\r\n    \t\t{\r\n    \t\t\twriter.write(contacts.get(i).getName());\r\n    \t\t\twriter.write(contacts.get(i).getLastNames());\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\tDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    \t\t\tString date = df.format(contacts.get(i).getBirthday());\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\twriter.write(date);\r\n    \t\t\twriter.write(contacts.get(i).getEmail());\r\n    \t\t}\r\n    \twriter.close();\r\n    \tfile.delete();\r\n    \ttemp.renameTo(file);\r\n    \t}\r\n    }\r\n    catch (IOException e)\r\n    {\r\n     \te.printStackTrace();\r\n    }\r\n\r\nThe code of `checkData()` just returns the `ArrayList&lt;Contact&gt; contactList`.","title":"How to write to a text file from an ArrayList","body":"<p>I'm trying to take data from an <code>ArrayList</code> of a class and write it into a text file. It creates the temporary file, but doesn't do anything with it. It prints what I'm trying to put in the file and doesn't delete the temporary file. What am I doing wrong?</p>\n<pre><code>try\n{\n    File temp = new File(&quot;temp.txt&quot;);\n    File file = new File(prop.getProperty(&quot;path&quot;));\n    BufferedWriter writer = new BufferedWriter(new FileWriter(temp));\n    ArrayList&lt;Contact&gt; contacts = gestor.checkData();\n                        \n    if(temp.createNewFile())\n    {\n        for(int i = 0; i &lt; contacts.size(); i++)\n        {\n            writer.write(contacts.get(i).getName());\n            writer.write(contacts.get(i).getLastNames());\n                                \n            DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n            String date = df.format(contacts.get(i).getBirthday());\n                                \n            writer.write(date);\n            writer.write(contacts.get(i).getEmail());\n        }\n    writer.close();\n    file.delete();\n    temp.renameTo(file);\n    }\n}\ncatch (IOException e)\n{\n    e.printStackTrace();\n}\n</code></pre>\n<p>The code of <code>checkData()</code> just returns the <code>ArrayList&lt;Contact&gt; contactList</code>.</p>\n"},{"tags":["java","apache-kafka","spring-kafka","polling","rebalancing"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1653590629,"post_id":72395957,"comment_id":127894323,"body_markdown":"`@KafkaListener` calls poll automatically, which invokes a heartbeat","body":"<code>@KafkaListener</code> calls poll automatically, which invokes a heartbeat"},{"owner":{"account_id":12683585,"reputation":1,"user_id":9216316,"display_name":"Rajat kumar"},"score":0,"creation_date":1653591759,"post_id":72395957,"comment_id":127894651,"body_markdown":"Thanks for answering @OneCricketeer, but in my case what is happening that second consumer is not able to poll records automatically after it enters that if condition if (LocalDateTime.now().minusSeconds(50).isAfter(timestamp)). this if condition i have applied because i want to process that record after this 50 sec delay (for testing i have taken 50sec) probably it will be 1 hr","body":"Thanks for answering @OneCricketeer, but in my case what is happening that second consumer is not able to poll records automatically after it enters that if condition if (LocalDateTime.now().minusSeconds(50).isAfter(timestamp)). this if condition i have applied because i want to process that record after this 50 sec delay (for testing i have taken 50sec) probably it will be 1 hr"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1653593049,"post_id":72395957,"comment_id":127895084,"body_markdown":"It is currently always polling with no such &quot;delay&quot;; you are only checking the record timestamp is after 50 seconds before the fetched batch. But I don&#39;t think this is the correct way to do that. There are ways to define a `KafkaListener` as not starting automatically, and programmatically start it elsewhere using the listener factory. Otherwise, you could append the data into an internal queue, then start a background thread outside the poll loop and schedule a delay to read from that, and not block the consumer.","body":"It is currently always polling with no such &quot;delay&quot;; you are only checking the record timestamp is after 50 seconds before the fetched batch. But I don&#39;t think this is the correct way to do that. There are ways to define a <code>KafkaListener</code> as not starting automatically, and programmatically start it elsewhere using the listener factory. Otherwise, you could append the data into an internal queue, then start a background thread outside the poll loop and schedule a delay to read from that, and not block the consumer."},{"owner":{"account_id":12683585,"reputation":1,"user_id":9216316,"display_name":"Rajat kumar"},"score":0,"creation_date":1653594260,"post_id":72395957,"comment_id":127895467,"body_markdown":"One thing i want to know, while testing this.. i have observed that consumer is not polling the records .. that&#39;s okay but rebalancing is happening after 10 mins.. why it is so?? as i have somewhere read max poll interval ms is 5mins default, then if the consumer is not polling then rebalancing should have started after 5 mins.","body":"One thing i want to know, while testing this.. i have observed that consumer is not polling the records .. that&#39;s okay but rebalancing is happening after 10 mins.. why it is so?? as i have somewhere read max poll interval ms is 5mins default, then if the consumer is not polling then rebalancing should have started after 5 mins."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1653597373,"post_id":72395957,"comment_id":127896474,"body_markdown":"Those `log.info` lines should always be getting called. There could be several reasons why those arent printed. But yes, 5 minutes is the default. Is there a reason `handleEvent` takes longer than this?","body":"Those <code>log.info</code> lines should always be getting called. There could be several reasons why those arent printed. But yes, 5 minutes is the default. Is there a reason <code>handleEvent</code> takes longer than this?"}],"owner":{"account_id":12683585,"reputation":1,"user_id":9216316,"display_name":"Rajat kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":688,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653590573,"creation_date":1653586975,"question_id":72395957,"body_markdown":"I am pushing events to topic 1 and if that gets failed, then adding that event to DLQ topic2. I am using separate consumers for both of the topics and the events which are pushing into DLQ, adding an identifier(timestamp) in that event.   \r\nNow, what i want is to delay the processing of the record( for testing that delay is 50 sec) for which timestamp is used. since, as the event gets pushed in DLQ it gets processed once and after that delay when it should process again, kafka listener or consumer is not polling the records and after 10 mins rebalancing is happening.\r\ncouple of things here, i am confused is.\r\n\r\n 1. do i have to explicitly call poll() function to fetch the records or consumer automatically fetches the records from broker\r\n 2. suppose delay is 30 min, now suppose consumer will be fetching the records after every 5 mins but as i am not processing due to that delay i have incorporated, the offset will get stuck at that point only, what broker will assume at that time, consumer is working or dead\r\n 3. also, heartbeat works with poll function only or is working independently? i.e it works only when poll is called?\r\n 4. suppose if i not poll(), will consumer be able to fetch the records? is there any default mechanism?\r\n 5. and how can i avoid rebalancing by maintaining this delay? like can i do this by configuring -&gt; max poll interval ms, request timeout ms, session timeout ms, heartbeat ms, poll timeout, max pull records\r\n\r\n```\r\n@KafkaListener(\r\n    id = &quot;${kafka.topic1.id}&quot;,\r\n    concurrency = &quot;${kafka.topic.concurrency}&quot;,\r\n    groupId = &quot;${spring.kafka.consumer.group-id}&quot;,\r\n    topics = {&quot;${kafka.topic}&quot;},\r\n    containerFactory = &quot;kafkaListenerContainerFactory&quot;)\r\nprivate void consumer(\r\n    ConsumerRecord&lt;?, ?&gt; consumerRecord, Acknowledgment acknowledgment) {\r\n\r\n  log.info(\r\n      &quot;Received message from topic at offset {}, {}&quot;,\r\n      consumerRecord.topic(),\r\n      consumerRecord.offset());\r\n\r\n  String eventType = getEventType(consumerRecord);\r\n  String serializedKafkaData = consumerRecord.value().toString();\r\n\r\n  eventHandler\r\n      .handleEvent(eventType, serializedKafkaData)\r\n      .doOnSuccess(\r\n          aBoolean -&gt; {\r\n            acknowledgment.acknowledge();\r\n          })\r\n      .onErrorResume(\r\n          err -&gt; {\r\n            acknowledgment.acknowledge();\r\n            log.error(\r\n                &quot;Exception Occurred in executing event {}&quot;,\r\n                consumerRecord.value().toString(),\r\n                err);\r\n            // handle with particular timeout case in connector\r\n            if (err instanceof Exception) {\r\n              List&lt;Header&gt; headers = new ArrayList&lt;&gt;();\r\n              headers.add(\r\n                  new RecordHeader(\r\n                      CommonConstants.EVENT_TYPE_HEADER_IN_CONSUMER,\r\n                      Events.valueOf(eventType).name().getBytes()));\r\n              headers.add(\r\n                  new RecordHeader(\r\n                      CommonConstants.TIMESTAMP, LocalDateTime.now().toString().getBytes()));\r\n              eventHandler.handleEventForDLQ(eventType, consumerRecord, headers);\r\n            }\r\n            return Mono.error(err);\r\n          })\r\n      .subscribe();\r\n}\r\n\r\n@KafkaListener(\r\n    id = &quot;${kafka.topic2.dlq.id}&quot;,\r\n    concurrency = &quot;${kafka.topic.concurrency}&quot;,\r\n    groupId = &quot;${spring.kafka.consumer.group-id}&quot;,\r\n    topics = {&quot;${kafka.post.payment.events.topic.dlq}&quot;},\r\n    containerFactory = &quot;kafkaListenerContainerFactory&quot;)\r\nprivate void consumerDlq(\r\n    ConsumerRecord&lt;?, ?&gt; consumerRecord, Acknowledgment acknowledgment) {\r\n\r\n  log.info(\r\n      &quot;Received message from dlq topic at offset {}, {}&quot;,\r\n      consumerRecord.topic(),\r\n      consumerRecord.offset());\r\n\r\n  String eventType = getEventType(consumerRecord);\r\n  String serializedKafkaData = consumerRecord.value().toString();\r\n  LocalDateTime timestamp = getRecordTimestamp(consumerRecord);\r\n  \r\n  if (LocalDateTime.now().minusSeconds(50).isAfter(timestamp)) {\r\n    log.info(&quot;timestamp criteria {}&quot;, (LocalDateTime.now() - 50 &gt; timestamp));\r\n    eventHandler\r\n        .handleEvent(eventType, serializedKafkaData)\r\n        .doOnSuccess(\r\n            aBoolean -&gt; {\r\n              acknowledgment.acknowledge();\r\n            })\r\n        .onErrorResume(\r\n            err -&gt; {\r\n              acknowledgment.acknowledge();\r\n              log.error(\r\n                  &quot;Exception Occurred in executing DLQs event {}&quot;,\r\n                  consumerRecord.value().toString(),\r\n                  err);\r\n              // handle with particular timeout case in connector\r\n              if (err instanceof Exception) {\r\n                List&lt;Header&gt; headers = new ArrayList&lt;&gt;();\r\n                headers.add(\r\n                    new RecordHeader(\r\n                        CommonConstants.EVENT_TYPE_HEADER_IN_CONSUMER,\r\n                        Events.valueOf(eventType).name().getBytes()));\r\n                headers.add(\r\n                    new RecordHeader(\r\n                        CommonConstants.TIMESTAMP, LocalDateTime.now().toString().getBytes()));\r\n                eventHandler.handleEventForDLQ(eventType, consumerRecord, headers);\r\n              }\r\n              return Mono.error(err);\r\n            })\r\n        .subscribe();\r\n  }\r\n```\r\n\r\n","title":"Kafka Polling and rebalancing issue","body":"<p>I am pushing events to topic 1 and if that gets failed, then adding that event to DLQ topic2. I am using separate consumers for both of the topics and the events which are pushing into DLQ, adding an identifier(timestamp) in that event.<br />\nNow, what i want is to delay the processing of the record( for testing that delay is 50 sec) for which timestamp is used. since, as the event gets pushed in DLQ it gets processed once and after that delay when it should process again, kafka listener or consumer is not polling the records and after 10 mins rebalancing is happening.\ncouple of things here, i am confused is.</p>\n<ol>\n<li>do i have to explicitly call poll() function to fetch the records or consumer automatically fetches the records from broker</li>\n<li>suppose delay is 30 min, now suppose consumer will be fetching the records after every 5 mins but as i am not processing due to that delay i have incorporated, the offset will get stuck at that point only, what broker will assume at that time, consumer is working or dead</li>\n<li>also, heartbeat works with poll function only or is working independently? i.e it works only when poll is called?</li>\n<li>suppose if i not poll(), will consumer be able to fetch the records? is there any default mechanism?</li>\n<li>and how can i avoid rebalancing by maintaining this delay? like can i do this by configuring -&gt; max poll interval ms, request timeout ms, session timeout ms, heartbeat ms, poll timeout, max pull records</li>\n</ol>\n<pre><code>@KafkaListener(\n    id = &quot;${kafka.topic1.id}&quot;,\n    concurrency = &quot;${kafka.topic.concurrency}&quot;,\n    groupId = &quot;${spring.kafka.consumer.group-id}&quot;,\n    topics = {&quot;${kafka.topic}&quot;},\n    containerFactory = &quot;kafkaListenerContainerFactory&quot;)\nprivate void consumer(\n    ConsumerRecord&lt;?, ?&gt; consumerRecord, Acknowledgment acknowledgment) {\n\n  log.info(\n      &quot;Received message from topic at offset {}, {}&quot;,\n      consumerRecord.topic(),\n      consumerRecord.offset());\n\n  String eventType = getEventType(consumerRecord);\n  String serializedKafkaData = consumerRecord.value().toString();\n\n  eventHandler\n      .handleEvent(eventType, serializedKafkaData)\n      .doOnSuccess(\n          aBoolean -&gt; {\n            acknowledgment.acknowledge();\n          })\n      .onErrorResume(\n          err -&gt; {\n            acknowledgment.acknowledge();\n            log.error(\n                &quot;Exception Occurred in executing event {}&quot;,\n                consumerRecord.value().toString(),\n                err);\n            // handle with particular timeout case in connector\n            if (err instanceof Exception) {\n              List&lt;Header&gt; headers = new ArrayList&lt;&gt;();\n              headers.add(\n                  new RecordHeader(\n                      CommonConstants.EVENT_TYPE_HEADER_IN_CONSUMER,\n                      Events.valueOf(eventType).name().getBytes()));\n              headers.add(\n                  new RecordHeader(\n                      CommonConstants.TIMESTAMP, LocalDateTime.now().toString().getBytes()));\n              eventHandler.handleEventForDLQ(eventType, consumerRecord, headers);\n            }\n            return Mono.error(err);\n          })\n      .subscribe();\n}\n\n@KafkaListener(\n    id = &quot;${kafka.topic2.dlq.id}&quot;,\n    concurrency = &quot;${kafka.topic.concurrency}&quot;,\n    groupId = &quot;${spring.kafka.consumer.group-id}&quot;,\n    topics = {&quot;${kafka.post.payment.events.topic.dlq}&quot;},\n    containerFactory = &quot;kafkaListenerContainerFactory&quot;)\nprivate void consumerDlq(\n    ConsumerRecord&lt;?, ?&gt; consumerRecord, Acknowledgment acknowledgment) {\n\n  log.info(\n      &quot;Received message from dlq topic at offset {}, {}&quot;,\n      consumerRecord.topic(),\n      consumerRecord.offset());\n\n  String eventType = getEventType(consumerRecord);\n  String serializedKafkaData = consumerRecord.value().toString();\n  LocalDateTime timestamp = getRecordTimestamp(consumerRecord);\n  \n  if (LocalDateTime.now().minusSeconds(50).isAfter(timestamp)) {\n    log.info(&quot;timestamp criteria {}&quot;, (LocalDateTime.now() - 50 &gt; timestamp));\n    eventHandler\n        .handleEvent(eventType, serializedKafkaData)\n        .doOnSuccess(\n            aBoolean -&gt; {\n              acknowledgment.acknowledge();\n            })\n        .onErrorResume(\n            err -&gt; {\n              acknowledgment.acknowledge();\n              log.error(\n                  &quot;Exception Occurred in executing DLQs event {}&quot;,\n                  consumerRecord.value().toString(),\n                  err);\n              // handle with particular timeout case in connector\n              if (err instanceof Exception) {\n                List&lt;Header&gt; headers = new ArrayList&lt;&gt;();\n                headers.add(\n                    new RecordHeader(\n                        CommonConstants.EVENT_TYPE_HEADER_IN_CONSUMER,\n                        Events.valueOf(eventType).name().getBytes()));\n                headers.add(\n                    new RecordHeader(\n                        CommonConstants.TIMESTAMP, LocalDateTime.now().toString().getBytes()));\n                eventHandler.handleEventForDLQ(eventType, consumerRecord, headers);\n              }\n              return Mono.error(err);\n            })\n        .subscribe();\n  }\n</code></pre>\n"},{"tags":["java","maven","swagger","openapi"],"answers":[{"tags":[],"owner":{"account_id":11231594,"reputation":11,"user_id":8239449,"display_name":"MOURAD ALIBI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653586972,"creation_date":1653586972,"answer_id":72395956,"question_id":72395790,"body_markdown":"f you are using Maven, you can just set org.springdoc(I had the same error, so i changed from io.springfox to org.springdo) in pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nYou can use :\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.32&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n","title":"Java Maven openapi/swaggerui generate file script","body":"<p>f you are using Maven, you can just set org.springdoc(I had the same error, so i changed from io.springfox to org.springdo) in pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>You can use :</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.2.32&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8810272,"reputation":1846,"user_id":6583529,"display_name":"Chai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653590507,"creation_date":1653590507,"answer_id":72396568,"question_id":72395790,"body_markdown":"I think you can do this specifying a [profile](https://maven.apache.org/guides/introduction/introduction-to-profiles.html) in your `pom.xml` \r\n\r\n```\r\n  &lt;profiles&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;generate-doc&lt;/id&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n    ...\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n  &lt;/profiles&gt;\r\n```\r\n\r\nThen you can run it with `mvn clean install -Pgenerate-doc` to generate your files.","title":"Java Maven openapi/swaggerui generate file script","body":"<p>I think you can do this specifying a <a href=\"https://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">profile</a> in your <code>pom.xml</code></p>\n<pre><code>  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;generate-doc&lt;/id&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n    ...\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n</code></pre>\n<p>Then you can run it with <code>mvn clean install -Pgenerate-doc</code> to generate your files.</p>\n"}],"owner":{"account_id":19221253,"reputation":233,"user_id":14045027,"display_name":"Kevbo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653590507,"creation_date":1653586162,"question_id":72395790,"body_markdown":"I have a project built in Java Springboot + Maven. I&#39;m trying to provide an open api doc for internal use only, so it&#39;s not hosted publicly. It currently generates an openapi file upon build, but it&#39;s causing some issues in the pipelines. Is there a way to configure it to only generate a new file when I run a specific script?\r\n\r\nI currently have version 1.4.8 of springdoc-openapi-ui.\r\n\r\nThanks in advance!\r\n","title":"Java Maven openapi/swaggerui generate file script","body":"<p>I have a project built in Java Springboot + Maven. I'm trying to provide an open api doc for internal use only, so it's not hosted publicly. It currently generates an openapi file upon build, but it's causing some issues in the pipelines. Is there a way to configure it to only generate a new file when I run a specific script?</p>\n<p>I currently have version 1.4.8 of springdoc-openapi-ui.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":2,"creation_date":1653588807,"post_id":72396235,"comment_id":127893728,"body_markdown":"What is this data class","body":"What is this data class"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":3,"creation_date":1653588829,"post_id":72396235,"comment_id":127893738,"body_markdown":"I fixed the formatting. Please take a moment to create a [mcve] that we can copy/paste and compile ourselves. [Edit] your question to include this. Also include the entire error message and indicate which line of your code causes the error.","body":"I fixed the formatting. Please take a moment to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that we can copy/paste and compile ourselves. <a href=\"https://stackoverflow.com/posts/72396235/edit\">Edit</a> your question to include this. Also include the entire error message and indicate which line of your code causes the error."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1653589617,"post_id":72396235,"comment_id":127893996,"body_markdown":"I&#39;d also encourage you to start following Java naming conventions as early as possible - if `data` is a class, it would conventionally be `Data` (or ideally a more specific term, e.g. `CourseData`), for example.","body":"I&#39;d also encourage you to start following Java naming conventions as early as possible - if <code>data</code> is a class, it would conventionally be <code>Data</code> (or ideally a more specific term, e.g. <code>CourseData</code>), for example."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1653590391,"post_id":72396235,"comment_id":127894246,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653590372,"creation_date":1653590372,"answer_id":72396547,"question_id":72396235,"body_markdown":"In your constructor, &lt;br&gt;```public data(int cid, String SNumber, String FName, String LName, String Gender, String Course, String Year, String Section, byte Image,String Address, int uid)``` &lt;br&gt; you are expecting ```Image``` to be of type byte but passing byte array ```byte[] img = null;```\r\nChange the parameter type for ```Image``` attribute in Data class to ```byte[]```","title":"incompatible types;byte[] cannot be converted to byte","body":"<p>In your constructor, <br><code>public data(int cid, String SNumber, String FName, String LName, String Gender, String Course, String Year, String Section, byte Image,String Address, int uid)</code> <br> you are expecting <code>Image</code> to be of type byte but passing byte array <code>byte[] img = null;</code>\nChange the parameter type for <code>Image</code> attribute in Data class to <code>byte[]</code></p>\n"}],"owner":{"account_id":25399003,"reputation":3,"user_id":19208829,"display_name":"Ronjay Aries Sabangan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":772,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72396547,"answer_count":1,"score":0,"last_activity_date":1653590372,"creation_date":1653588558,"question_id":72396235,"body_markdown":"&gt; (databaseForm.java)\r\n&gt; \r\n&gt; public class databaseForm extends javax.swing.JFrame {\r\n&gt; \r\n&gt;     /**\r\n&gt;      * Creates new form databaseForm\r\n&gt;      */\r\n&gt;     \r\n&gt;     String  imgPth = null;\r\n&gt;     public databaseForm() {\r\n&gt;         initComponents();\r\n&gt;     }\r\n&gt;                   \r\n&gt; \r\n&gt;     private void jLabelCloseMouseClicked(java.awt.event.MouseEvent evt) {                                         \r\n&gt;         // TODO add your handling code here:\r\n&gt;         System.exit(0);\r\n&gt; \r\n&gt;     }                                        \r\n&gt; \r\n&gt;     private void jLabelMinMouseClicked(java.awt.event.MouseEvent evt) {                                       \r\n&gt;         // TODO add your handling code here:\r\n&gt;         this.setState(JFrame.ICONIFIED);\r\n&gt; \r\n&gt;     }                                      \r\n&gt; \r\n&gt;     private void jButtonBrowseActionPerformed(java.awt.event.ActionEvent evt) {        \r\n&gt; \r\n&gt;         // TODO add your handling code here:\r\n&gt;      \r\n&gt;         Myfunc mf = new  Myfunc();\r\n&gt;         imgPth = mf.browseImage(jLabelDataPic);\r\n&gt;         System.out.println(imgPth);\r\n&gt; \r\n&gt;     }                                             \r\n&gt; \r\n&gt;     private void jButtonAddDataActionPerformed(java.awt.event.ActionEvent evt) {       \r\n&gt; \r\n&gt;         // TODO add your handling code here:\r\n&gt;        \r\n&gt;         String snumber = jTextFieldSNumber.getText();\r\n&gt;         String fname = jTextFieldFName.getText();\r\n&gt;         String lname = jTextFieldLName.getText();\r\n&gt;         String gender = jComboBoxGender.getSelectedItem().toString();\r\n&gt;         String course = jComboBoxCourse.getSelectedItem().toString();\r\n&gt;         String year = jComboBoxYear.getSelectedItem().toString();\r\n&gt;         String section = jComboBoxSection.getSelectedItem().toString();\r\n&gt;         String address = jTextAreaAddress.getText();\r\n\r\n&gt;         byte[] img = null;\r\n&gt;         try {\r\n&gt;             \r\n&gt;             Path pth = Paths.get(imgPth);\r\n&gt;             img = Files.readAllBytes(pth);\r\n   \r\n&gt;         data d = new data(0, snumber, fname, lname, gender, course, year, section, img, address, 0);\r\n&gt;         \r\n&gt;     }   \r\n&gt; \r\n&gt; \r\n&gt; (data.java)\r\n&gt; \r\n&gt; public class data {\r\n&gt;     \r\n&gt;     private int cid;\r\n&gt;     private String SNumber;\r\n&gt;     private String FName;\r\n&gt;     private String LName;\r\n&gt;     private String Gender;\r\n&gt;     private String Course;\r\n&gt;     private String Year;\r\n&gt;     private String Section;\r\n&gt;     private byte Image;\r\n&gt;     private String Address;\r\n&gt;     private int uid;\r\n&gt;     \r\n&gt;     // Alt + Insert\r\n&gt;     // to generate constructor &amp; getters &amp; setters\r\n&gt; \r\n&gt;     public data() {}\r\n&gt;     \r\n&gt; \r\n&gt;     public data(int cid, String SNumber, String FName, String LName, String Gender, String Course, String Year, String Section, byte Image,\r\n&gt; String Address, int uid) {\r\n&gt;         this.cid = cid;\r\n&gt;         this.SNumber = SNumber;\r\n&gt;         this.FName = FName;\r\n&gt;         this.LName = LName;\r\n&gt;         this.Gender = Gender;\r\n&gt;         this.Course = Course;\r\n&gt;         this.Year = Year;\r\n&gt;         this.Section = Section;\r\n&gt;         this.Image = Image;\r\n&gt;         this.Address = Address;\r\n&gt;         this.uid = uid;\r\n&gt;     }\r\n&gt; \r\n&gt;     \r\n&gt; \r\n&gt;     \r\n&gt; \r\n&gt;     public int getCid() {\r\n&gt;         return cid;\r\n&gt;     }\r\n&gt; \r\n&gt;     public void setCid(int cid) {\r\n&gt;         this.cid = cid;\r\n&gt;     }\r\n&gt; \r\n&gt;     public String getSNumber() {\r\n&gt;         return SNumber;\r\n&gt;     }\r\n&gt; \r\n&gt;     public void setSNumber(String SNumber) {\r\n&gt;         this.SNumber = SNumber;\r\n&gt;     }\r\n&gt; \r\n&gt;     public String getFName() {\r\n&gt;         return FName;\r\n&gt;     }\r\n&gt; \r\n&gt;     public void setFName(String FName) {\r\n&gt;         this.FName = FName;\r\n&gt;     }\r\n&gt; \r\n&gt;     public String getLName() {\r\n&gt;         return LName;\r\n&gt;     }\r\n&gt; \r\n&gt;     public void setLName(String LName) {\r\n&gt;         this.LName = LName;\r\n&gt;     }\r\n&gt; \r\n&gt;     public String getGender() {\r\n&gt;         return Gender;\r\n&gt;     }\r\n&gt; \r\n&gt;     public void setGender(String Gender) {\r\n&gt;         this.Gender = Gender;\r\n&gt;     }\r\n&gt; \r\n&gt;     public String getCourse() {\r\n&gt;         return Course;\r\n&gt;     }\r\n&gt; \r\n&gt;     public void setCourse(String Course) {\r\n&gt;         this.Course = Course;\r\n&gt;     }\r\n&gt; \r\n&gt;     public String getYear() {\r\n&gt;         return Year;\r\n&gt;     }\r\n&gt; \r\n&gt;     public void setYear(String Year) {\r\n&gt;         this.Year = Year;\r\n&gt;     }\r\n&gt; \r\n&gt;     public String getSection() {\r\n&gt;         return Section;\r\n&gt;     }\r\n&gt; \r\n&gt;     public void setSection(String Section) {\r\n&gt;         this.Section = Section;\r\n&gt;     }\r\n&gt; \r\n&gt;     public byte getImage() {\r\n&gt;         return Image;\r\n&gt;     }\r\n&gt; \r\n&gt;     public void setImage(byte Image) {\r\n&gt;         this.Image = Image;\r\n&gt;     }\r\n&gt; \r\n&gt;     public String getAddress() {\r\n&gt;         return Address;\r\n&gt;     }\r\n&gt; \r\n&gt;     public void setAddress(String Address) {\r\n&gt;         this.Address = Address;\r\n&gt;     }\r\n&gt; \r\n&gt;     public int getUid() {\r\n&gt;         return uid;\r\n&gt;     }\r\n&gt; \r\n&gt;     public void setUid(int uid) {\r\n&gt;         this.uid = uid;\r\n&gt;     }\r\n&gt;     \r\n&gt;     \r\n&gt;      }","title":"incompatible types;byte[] cannot be converted to byte","body":"<blockquote>\n<p>(databaseForm.java)</p>\n<p>public class databaseForm extends javax.swing.JFrame {</p>\n<pre><code>/**\n * Creates new form databaseForm\n */\n\nString  imgPth = null;\npublic databaseForm() {\n    initComponents();\n}\n              \n\nprivate void jLabelCloseMouseClicked(java.awt.event.MouseEvent evt) {                                         \n    // TODO add your handling code here:\n    System.exit(0);\n\n}                                        \n\nprivate void jLabelMinMouseClicked(java.awt.event.MouseEvent evt) {                                       \n    // TODO add your handling code here:\n    this.setState(JFrame.ICONIFIED);\n\n}                                      \n\nprivate void jButtonBrowseActionPerformed(java.awt.event.ActionEvent evt) {        \n\n    // TODO add your handling code here:\n \n    Myfunc mf = new  Myfunc();\n    imgPth = mf.browseImage(jLabelDataPic);\n    System.out.println(imgPth);\n\n}                                             \n\nprivate void jButtonAddDataActionPerformed(java.awt.event.ActionEvent evt) {       \n\n    // TODO add your handling code here:\n   \n    String snumber = jTextFieldSNumber.getText();\n    String fname = jTextFieldFName.getText();\n    String lname = jTextFieldLName.getText();\n    String gender = jComboBoxGender.getSelectedItem().toString();\n    String course = jComboBoxCourse.getSelectedItem().toString();\n    String year = jComboBoxYear.getSelectedItem().toString();\n    String section = jComboBoxSection.getSelectedItem().toString();\n    String address = jTextAreaAddress.getText();\n</code></pre>\n</blockquote>\n<blockquote>\n<pre><code>    byte[] img = null;\n    try {\n        \n        Path pth = Paths.get(imgPth);\n        img = Files.readAllBytes(pth);\n</code></pre>\n</blockquote>\n<blockquote>\n<pre><code>    data d = new data(0, snumber, fname, lname, gender, course, year, section, img, address, 0);\n    \n}   \n</code></pre>\n<p>(data.java)</p>\n<p>public class data {</p>\n<pre><code>private int cid;\nprivate String SNumber;\nprivate String FName;\nprivate String LName;\nprivate String Gender;\nprivate String Course;\nprivate String Year;\nprivate String Section;\nprivate byte Image;\nprivate String Address;\nprivate int uid;\n\n// Alt + Insert\n// to generate constructor &amp; getters &amp; setters\n\npublic data() {}\n\n\npublic data(int cid, String SNumber, String FName, String LName, String Gender, String Course, String Year, String Section, byte Image,\n</code></pre>\n<p>String Address, int uid) {\nthis.cid = cid;\nthis.SNumber = SNumber;\nthis.FName = FName;\nthis.LName = LName;\nthis.Gender = Gender;\nthis.Course = Course;\nthis.Year = Year;\nthis.Section = Section;\nthis.Image = Image;\nthis.Address = Address;\nthis.uid = uid;\n}</p>\n<pre><code>public int getCid() {\n    return cid;\n}\n\npublic void setCid(int cid) {\n    this.cid = cid;\n}\n\npublic String getSNumber() {\n    return SNumber;\n}\n\npublic void setSNumber(String SNumber) {\n    this.SNumber = SNumber;\n}\n\npublic String getFName() {\n    return FName;\n}\n\npublic void setFName(String FName) {\n    this.FName = FName;\n}\n\npublic String getLName() {\n    return LName;\n}\n\npublic void setLName(String LName) {\n    this.LName = LName;\n}\n\npublic String getGender() {\n    return Gender;\n}\n\npublic void setGender(String Gender) {\n    this.Gender = Gender;\n}\n\npublic String getCourse() {\n    return Course;\n}\n\npublic void setCourse(String Course) {\n    this.Course = Course;\n}\n\npublic String getYear() {\n    return Year;\n}\n\npublic void setYear(String Year) {\n    this.Year = Year;\n}\n\npublic String getSection() {\n    return Section;\n}\n\npublic void setSection(String Section) {\n    this.Section = Section;\n}\n\npublic byte getImage() {\n    return Image;\n}\n\npublic void setImage(byte Image) {\n    this.Image = Image;\n}\n\npublic String getAddress() {\n    return Address;\n}\n\npublic void setAddress(String Address) {\n    this.Address = Address;\n}\n\npublic int getUid() {\n    return uid;\n}\n\npublic void setUid(int uid) {\n    this.uid = uid;\n}\n\n\n }\n</code></pre>\n</blockquote>\n"},{"tags":["java","jdbc","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":9523169,"reputation":76,"user_id":7077305,"display_name":"Jibit George"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653578264,"creation_date":1653578264,"answer_id":72394135,"question_id":72393374,"body_markdown":"If I understand your question correctly, you are trying to do the following. \r\n\r\nOn a trigger, you want to pull data from a database using JDBC and push the those data to kafka. If this is your requirement following is one solution i can propose. \r\n\r\nKafka producer is something that you can create by your own easily. In fact your your Java code that pulls data from databse itself can act as kafka producer also. \r\n\r\nYou are connecting to database and pulling data using a library. Similarly there are libraries that allows to connect to Kafka directly from java code. You can use these library along with your Java code to push data to the kafka topics. And when your java code is able to push data to a kafka topics , that itself make your java code as kafka producer. \r\n\r\nFollowing is one example that you can refer for creating kafka producer: https://dzone.com/articles/kafka-producer-and-consumer-example\r\n\r\nThe solution I proposed is depicted over a simple diagram below. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a18o4.png","title":"Kafka Producer - Just need some direction","body":"<p>If I understand your question correctly, you are trying to do the following.</p>\n<p>On a trigger, you want to pull data from a database using JDBC and push the those data to kafka. If this is your requirement following is one solution i can propose.</p>\n<p>Kafka producer is something that you can create by your own easily. In fact your your Java code that pulls data from databse itself can act as kafka producer also.</p>\n<p>You are connecting to database and pulling data using a library. Similarly there are libraries that allows to connect to Kafka directly from java code. You can use these library along with your Java code to push data to the kafka topics. And when your java code is able to push data to a kafka topics , that itself make your java code as kafka producer.</p>\n<p>Following is one example that you can refer for creating kafka producer: <a href=\"https://dzone.com/articles/kafka-producer-and-consumer-example\" rel=\"nofollow noreferrer\">https://dzone.com/articles/kafka-producer-and-consumer-example</a></p>\n<p>The solution I proposed is depicted over a simple diagram below.</p>\n<p><a href=\"https://i.stack.imgur.com/a18o4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a18o4.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653590341,"creation_date":1653590341,"answer_id":72396539,"question_id":72393374,"body_markdown":"The JDBC Kafka source connector is meant to be ran continuously, but if you want to &quot;trigger&quot; it, that would be an HTTP client to make a POST request with `mode=bulk`, or incrementing / timestamp to get only the data you added, and a large `poll.interval.ms` if using `bulk` to prevent reading the table multiple times.  You&#39;d add your `query` there too. \r\n\r\nYou then would somehow need to know when the connector started its tasks finished reading the data, then you would issue an HTTP DELETE to stop the sourcing of the database. \r\n\r\nOr rather than deleting the connector, you can set the poll interval to a day and leave it alone and just have your database client insert the data as needed. You will still want to monitor if the connector is actually successful on each day. ","title":"Kafka Producer - Just need some direction","body":"<p>The JDBC Kafka source connector is meant to be ran continuously, but if you want to &quot;trigger&quot; it, that would be an HTTP client to make a POST request with <code>mode=bulk</code>, or incrementing / timestamp to get only the data you added, and a large <code>poll.interval.ms</code> if using <code>bulk</code> to prevent reading the table multiple times.  You'd add your <code>query</code> there too.</p>\n<p>You then would somehow need to know when the connector started its tasks finished reading the data, then you would issue an HTTP DELETE to stop the sourcing of the database.</p>\n<p>Or rather than deleting the connector, you can set the poll interval to a day and leave it alone and just have your database client insert the data as needed. You will still want to monitor if the connector is actually successful on each day.</p>\n"}],"owner":{"account_id":23942888,"reputation":11,"user_id":17935666,"display_name":"another_random_developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1653590341,"creation_date":1653574943,"question_id":72393374,"body_markdown":"I&#39;m working with Kafka for the first time. I&#39;ve set up confluent cloud locally, created topics along with some JDBC connectors to populate the topics with data. Now, I want to try to trigger a connector from my Java application. The gist is that we have a large data feed that we want to run only once a day, triggered by an existing Java application. I already have the topic, database tables, and a JDBC connector with a custom query. This all works fine, produces the data I want and I can see it in coming in via the CLI but now I need to trigger the pull from java - is this scenario possible with Kafka? ","title":"Kafka Producer - Just need some direction","body":"<p>I'm working with Kafka for the first time. I've set up confluent cloud locally, created topics along with some JDBC connectors to populate the topics with data. Now, I want to try to trigger a connector from my Java application. The gist is that we have a large data feed that we want to run only once a day, triggered by an existing Java application. I already have the topic, database tables, and a JDBC connector with a custom query. This all works fine, produces the data I want and I can see it in coming in via the CLI but now I need to trigger the pull from java - is this scenario possible with Kafka?</p>\n"},{"tags":["java","collections","java-8","java-stream","contains"],"comments":[{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":1,"creation_date":1570452573,"post_id":58269632,"comment_id":102906759,"body_markdown":"Personally I think it&#39;s actually better to go with `Set&lt;String&gt; temp = source.stream().map(Object::toString).collect(toSet());\nboolean containsAll = temp.containsAll(collection);`","body":"Personally I think it&#39;s actually better to go with <code>Set&lt;String&gt; temp = source.stream().map(Object::toString).collect(toSet()); boolean containsAll = temp.containsAll(collection);</code>"},{"owner":{"account_id":11415719,"reputation":7030,"user_id":10584605,"display_name":"ETO"},"score":0,"creation_date":1570470100,"post_id":58269632,"comment_id":102915732,"body_markdown":"@OusmaneD. What if *the stream is too big* as OP assumes? Imagine the case when the `stream` is lazily generated and not all elements are persisted in the memory. E.g. using `Files::lines`  you can process *huge* files even though they could not fit in your memory. Collecting into a set will cause `OutOfMemoryError` in such a case.","body":"@OusmaneD. What if <i>the stream is too big</i> as OP assumes? Imagine the case when the <code>stream</code> is lazily generated and not all elements are persisted in the memory. E.g. using <code>Files::lines</code>  you can process <i>huge</i> files even though they could not fit in your memory. Collecting into a set will cause <code>OutOfMemoryError</code> in such a case."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1570451992,"creation_date":1570451992,"answer_id":58269745,"question_id":58269632,"body_markdown":"Regardless of how big the `Stream` is, you will have to process all of its elements if it does not contain all the elements of the `Collection`.\r\n\r\nYou could save processing time if a small prefix of the `Stream` contains all the elements of `Collection`, and the `Collection` is much smaller than the `Stream`.\r\n\r\n    boolean containsAll = \r\n        stream.map(Object::toString)\r\n              .filter(s -&gt; collection.contains(s)) // it would be wise to convert collection to a Set\r\n              .limit(collection.size())\r\n              .count() == collection.size();\r\n\r\nNote that if the `Stream` may contain multiple copies of the same element of the `Collection`, you may have to add a `.distinct()` operation after the `filter()`.","title":"Is there a way to check if a Stream contains all collection elements?","body":"<p>Regardless of how big the <code>Stream</code> is, you will have to process all of its elements if it does not contain all the elements of the <code>Collection</code>.</p>\n\n<p>You could save processing time if a small prefix of the <code>Stream</code> contains all the elements of <code>Collection</code>, and the <code>Collection</code> is much smaller than the <code>Stream</code>.</p>\n\n<pre><code>boolean containsAll = \n    stream.map(Object::toString)\n          .filter(s -&gt; collection.contains(s)) // it would be wise to convert collection to a Set\n          .limit(collection.size())\n          .count() == collection.size();\n</code></pre>\n\n<p>Note that if the <code>Stream</code> may contain multiple copies of the same element of the <code>Collection</code>, you may have to add a <code>.distinct()</code> operation after the <code>filter()</code>.</p>\n"},{"tags":[],"owner":{"account_id":11415719,"reputation":7030,"user_id":10584605,"display_name":"ETO"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1570473340,"creation_date":1570463737,"answer_id":58273123,"question_id":58269632,"body_markdown":"This should do the trick:\r\n\r\n    Set&lt;String&gt; set = new HashSet&lt;&gt;(collection);\r\n    boolean containsAll = set.isEmpty() || stream.map(Object::toString)\r\n                                                 .anyMatch(s -&gt; set.remove(s) &amp;&amp; set.isEmpty());\r\n\r\n----------\r\nThe solution might look confusing, but the idea is straightforward:\r\n\r\n1. In order to prevent multiple iterations over `collection` we wrap it into a `HashSet`. (In case your `stream` is a parallel one, then you will have to use a concurrent hash set. See [this post][1] for more details)\r\n2. If the `collection` (or `set`) is empty then we return `true` without processing the `stream`\r\n3. For each entry of `stream` we try to remove it from `set`. In case the result of `Set::remove` is `true` (hence it was contained by `set`) and the `set` is empty after removal, we can conclude that `stream` contained all the elements of initial `collection`.\r\n4. The terminal operation `Stream::anyMatch` is a short-circuiting one. So it will stop iterating over `stream` once the `set` is empty. In worst case we will process the entire stream.   \r\n\r\n----------\r\n\r\nPerhaps this is a bit more readable form:\r\n\r\n\r\n    Set&lt;String&gt; set = new HashSet&lt;&gt;(collection);\r\n    boolean containsAll = set.isEmpty() || stream.map(Object::toString)\r\n                                                 .filter(set::remove)\r\n                                                 .anyMatch(__ -&gt; set.isEmpty());\r\n\r\n----------\r\n\r\nIf the `collection` can contain duplicates and there is a requirement to check if `stream` contains all of them, then we will need to maintain a concurrent map of counters.\r\n\r\n    Map&lt;String, AtomicLong&gt; map = new ConcurrentHashMap&lt;&gt;();\r\n    collection.forEach(s -&gt; map.computeIfAbsent(s, __ -&gt; new AtomicLong()).incrementAndGet());\r\n    boolean containsAll = map.isEmpty() || stream.map(Object::toString)\r\n                                                 .filter(map::containsKey)\r\n                                                 .filter(s -&gt; map.get(s).decrementAndGet() == 0)\r\n                                                 .filter(s -&gt; map.remove(s) != null)\r\n                                                 .anyMatch(__ -&gt; map.isEmpty());\r\n\r\nThe code slightly changed but the idea is the same.\r\n\r\n  [1]: https://stackoverflow.com/a/6992643/10584605","title":"Is there a way to check if a Stream contains all collection elements?","body":"<p>This should do the trick:</p>\n\n<pre><code>Set&lt;String&gt; set = new HashSet&lt;&gt;(collection);\nboolean containsAll = set.isEmpty() || stream.map(Object::toString)\n                                             .anyMatch(s -&gt; set.remove(s) &amp;&amp; set.isEmpty());\n</code></pre>\n\n<hr>\n\n<p>The solution might look confusing, but the idea is straightforward:</p>\n\n<ol>\n<li>In order to prevent multiple iterations over <code>collection</code> we wrap it into a <code>HashSet</code>. (In case your <code>stream</code> is a parallel one, then you will have to use a concurrent hash set. See <a href=\"https://stackoverflow.com/a/6992643/10584605\">this post</a> for more details)</li>\n<li>If the <code>collection</code> (or <code>set</code>) is empty then we return <code>true</code> without processing the <code>stream</code></li>\n<li>For each entry of <code>stream</code> we try to remove it from <code>set</code>. In case the result of <code>Set::remove</code> is <code>true</code> (hence it was contained by <code>set</code>) and the <code>set</code> is empty after removal, we can conclude that <code>stream</code> contained all the elements of initial <code>collection</code>.</li>\n<li>The terminal operation <code>Stream::anyMatch</code> is a short-circuiting one. So it will stop iterating over <code>stream</code> once the <code>set</code> is empty. In worst case we will process the entire stream.   </li>\n</ol>\n\n<hr>\n\n<p>Perhaps this is a bit more readable form:</p>\n\n<pre><code>Set&lt;String&gt; set = new HashSet&lt;&gt;(collection);\nboolean containsAll = set.isEmpty() || stream.map(Object::toString)\n                                             .filter(set::remove)\n                                             .anyMatch(__ -&gt; set.isEmpty());\n</code></pre>\n\n<hr>\n\n<p>If the <code>collection</code> can contain duplicates and there is a requirement to check if <code>stream</code> contains all of them, then we will need to maintain a concurrent map of counters.</p>\n\n<pre><code>Map&lt;String, AtomicLong&gt; map = new ConcurrentHashMap&lt;&gt;();\ncollection.forEach(s -&gt; map.computeIfAbsent(s, __ -&gt; new AtomicLong()).incrementAndGet());\nboolean containsAll = map.isEmpty() || stream.map(Object::toString)\n                                             .filter(map::containsKey)\n                                             .filter(s -&gt; map.get(s).decrementAndGet() == 0)\n                                             .filter(s -&gt; map.remove(s) != null)\n                                             .anyMatch(__ -&gt; map.isEmpty());\n</code></pre>\n\n<p>The code slightly changed but the idea is the same.</p>\n"},{"tags":[],"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1653590271,"creation_date":1593461041,"answer_id":62645886,"question_id":58269632,"body_markdown":"Create a Set from `Collection&lt;String&gt;` to make search operation faster `O(1)`\r\n\r\n    Set&lt;String&gt; set = new HashSet&lt;&gt;(collection);\r\nThen use `allMatch` to check every item in stream contains in set or not\r\n\r\n    boolean containsAll = stream.map(Object::toString)\r\n                                .allMatch(s -&gt; set.contains(s));\r\n\r\n\r\n----------\r\n\r\n\r\n**Another way :**\r\n\r\nFilter by not contained in set and use `limit(1)` for optimization\r\n\r\n    boolean isContains = stream.map(Object::toString)\r\n                               .filter(s -&gt; !set.contains(s))\r\n                               .limit(1)\r\n                               .count() &gt; 0;","title":"Is there a way to check if a Stream contains all collection elements?","body":"<p>Create a Set from <code>Collection&lt;String&gt;</code> to make search operation faster <code>O(1)</code></p>\n<pre><code>Set&lt;String&gt; set = new HashSet&lt;&gt;(collection);\n</code></pre>\n<p>Then use <code>allMatch</code> to check every item in stream contains in set or not</p>\n<pre><code>boolean containsAll = stream.map(Object::toString)\n                            .allMatch(s -&gt; set.contains(s));\n</code></pre>\n<hr />\n<p><strong>Another way :</strong></p>\n<p>Filter by not contained in set and use <code>limit(1)</code> for optimization</p>\n<pre><code>boolean isContains = stream.map(Object::toString)\n                           .filter(s -&gt; !set.contains(s))\n                           .limit(1)\n                           .count() &gt; 0;\n</code></pre>\n"}],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19259,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":58273123,"answer_count":3,"score":12,"last_activity_date":1653590271,"creation_date":1570451633,"question_id":58269632,"body_markdown":"For example, I need something like:\r\n\r\n    Collection&lt;String&gt; collection = /* ... */;\r\n    Stream&lt;Object&gt; stream = /* ... */;\r\n    boolean containsAll = stream.map(Object::toString).containsAll(collection);\r\n\r\nOf course, I could accumulate all elements of the stream into another `Collection` using `collect()` method and the call `Collection.containsAll()`, but what if the stream is too big and it is inefficient to process all its elements?","title":"Is there a way to check if a Stream contains all collection elements?","body":"<p>For example, I need something like:</p>\n\n<pre><code>Collection&lt;String&gt; collection = /* ... */;\nStream&lt;Object&gt; stream = /* ... */;\nboolean containsAll = stream.map(Object::toString).containsAll(collection);\n</code></pre>\n\n<p>Of course, I could accumulate all elements of the stream into another <code>Collection</code> using <code>collect()</code> method and the call <code>Collection.containsAll()</code>, but what if the stream is too big and it is inefficient to process all its elements?</p>\n"},{"tags":["java","php","json","rest","url"],"answers":[{"tags":[],"owner":{"account_id":11233284,"reputation":16,"user_id":8240462,"display_name":"O N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653590185,"creation_date":1653590185,"answer_id":72396519,"question_id":72205782,"body_markdown":"My answer is in as comments in your code:\r\n\r\n```\r\npublic static String urlAddress = &quot;http://gp.gpashev.com:93/testTels/service.php&quot;;\r\n\r\n// parse Map to urlencode string: key1=value&amp;key2=value2\r\n// URL special char will be escaped, f.e.: &#39; &#39; to &#39;%20&#39;\r\npublic static String getPostDataString(HashMap&lt;String, String&gt; params)\r\n        throws Exception\r\n{\r\n    StringBuilder feedback = new StringBuilder();\r\n    boolean first = true;\r\n    for(Map.Entry&lt;String, String&gt; entry: params.entrySet()){\r\n        if(first == true){\r\n            first = false;\r\n        }else{\r\n            feedback.append(&quot;&amp;&quot;);\r\n        }\r\n        feedback.append(URLEncoder.encode(entry.getKey(), &quot;UTF-8&quot;));\r\n        feedback.append(&quot;=&quot;);\r\n        feedback.append(URLEncoder.encode(entry.getValue(), &quot;UTF-8&quot;));\r\n    }\r\n    return feedback.toString();\r\n}\r\n\r\npublic static String postData(String methodName, String userName, String fileJSON)\r\n        throws Exception\r\n{\r\n    String result = &quot;&quot;; // not nessessary define here\r\n\r\n    // create and fill paramters\r\n    HashMap&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n    params.put(&quot;methodName&quot;, methodName);\r\n    params.put(&quot;userName&quot;, userName);\r\n    params.put(&quot;fileJSON&quot;, fileJSON);\r\n\r\n    // next 2 lines: prepare Http connection to URL\r\n    URL url = new URL(urlAddress);\r\n    HttpURLConnection client = (HttpURLConnection) url.openConnection();\r\n    // set HTTP method to POST\r\n    client.setRequestMethod(&quot;POST&quot;);\r\n    // add request header multipart/form-data, I am not sure, if it is nessessary in this case\r\n    client.setRequestProperty(&quot;multipart/form-data&quot;, urlAddress+&quot;;charset=UTF-8&quot;);\r\n    // set connection for using input stream (reading response), default is true, btw.\r\n    client.setDoInput(true);\r\n    // set connection for using output stream (writing request)\r\n    client.setDoOutput(true);\r\n\r\n    // next 8 lines write parameters defined early to connection as urlencoded string\r\n    // using try-with-resources is better\r\n    OutputStream os = client.getOutputStream();\r\n    BufferedWriter bw = new BufferedWriter(\r\n            new OutputStreamWriter(os, &quot;UTF-8&quot;)\r\n    );\r\n    String a = getPostDataString(params);\r\n    bw.write(a);\r\n    bw.close();\r\n    os.close();\r\n\r\n    // make request and receive response code\r\n    int ResponseCode = client.getResponseCode();\r\n    if(ResponseCode == HttpURLConnection.HTTP_OK){\r\n        // read response from input stream to result variable defined early\r\n        // using try-with-resources is better\r\n        BufferedReader br = new BufferedReader(\r\n                new InputStreamReader(client.getInputStream())\r\n        );\r\n        String line = &quot;&quot;;\r\n        while((line = br.readLine())!= null){\r\n            result+=line+&quot;\\n&quot;;\r\n        }\r\n        br.close();\r\n    }else{\r\n        throw new Exception(&quot;HTTP ERROR Response code: &quot; + ResponseCode);\r\n    }\r\n    return result;\r\n}\r\n```\r\nI hope this is helpfull. In general: `postData` make HTTP Post request on given URL. The code use method parameters as request body. If request returns  200 code, method returns response body as text, otherwise throws IOException.","title":"REST Server-Client Communication","body":"<p>My answer is in as comments in your code:</p>\n<pre><code>public static String urlAddress = &quot;http://gp.gpashev.com:93/testTels/service.php&quot;;\n\n// parse Map to urlencode string: key1=value&amp;key2=value2\n// URL special char will be escaped, f.e.: ' ' to '%20'\npublic static String getPostDataString(HashMap&lt;String, String&gt; params)\n        throws Exception\n{\n    StringBuilder feedback = new StringBuilder();\n    boolean first = true;\n    for(Map.Entry&lt;String, String&gt; entry: params.entrySet()){\n        if(first == true){\n            first = false;\n        }else{\n            feedback.append(&quot;&amp;&quot;);\n        }\n        feedback.append(URLEncoder.encode(entry.getKey(), &quot;UTF-8&quot;));\n        feedback.append(&quot;=&quot;);\n        feedback.append(URLEncoder.encode(entry.getValue(), &quot;UTF-8&quot;));\n    }\n    return feedback.toString();\n}\n\npublic static String postData(String methodName, String userName, String fileJSON)\n        throws Exception\n{\n    String result = &quot;&quot;; // not nessessary define here\n\n    // create and fill paramters\n    HashMap&lt;String, String&gt; params = new HashMap&lt;&gt;();\n    params.put(&quot;methodName&quot;, methodName);\n    params.put(&quot;userName&quot;, userName);\n    params.put(&quot;fileJSON&quot;, fileJSON);\n\n    // next 2 lines: prepare Http connection to URL\n    URL url = new URL(urlAddress);\n    HttpURLConnection client = (HttpURLConnection) url.openConnection();\n    // set HTTP method to POST\n    client.setRequestMethod(&quot;POST&quot;);\n    // add request header multipart/form-data, I am not sure, if it is nessessary in this case\n    client.setRequestProperty(&quot;multipart/form-data&quot;, urlAddress+&quot;;charset=UTF-8&quot;);\n    // set connection for using input stream (reading response), default is true, btw.\n    client.setDoInput(true);\n    // set connection for using output stream (writing request)\n    client.setDoOutput(true);\n\n    // next 8 lines write parameters defined early to connection as urlencoded string\n    // using try-with-resources is better\n    OutputStream os = client.getOutputStream();\n    BufferedWriter bw = new BufferedWriter(\n            new OutputStreamWriter(os, &quot;UTF-8&quot;)\n    );\n    String a = getPostDataString(params);\n    bw.write(a);\n    bw.close();\n    os.close();\n\n    // make request and receive response code\n    int ResponseCode = client.getResponseCode();\n    if(ResponseCode == HttpURLConnection.HTTP_OK){\n        // read response from input stream to result variable defined early\n        // using try-with-resources is better\n        BufferedReader br = new BufferedReader(\n                new InputStreamReader(client.getInputStream())\n        );\n        String line = &quot;&quot;;\n        while((line = br.readLine())!= null){\n            result+=line+&quot;\\n&quot;;\n        }\n        br.close();\n    }else{\n        throw new Exception(&quot;HTTP ERROR Response code: &quot; + ResponseCode);\n    }\n    return result;\n}\n</code></pre>\n<p>I hope this is helpfull. In general: <code>postData</code> make HTTP Post request on given URL. The code use method parameters as request body. If request returns  200 code, method returns response body as text, otherwise throws IOException.</p>\n"}],"owner":{"account_id":17607071,"reputation":17,"user_id":12775925,"display_name":"Давид Желев"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72396519,"answer_count":1,"score":0,"last_activity_date":1653590185,"creation_date":1652292866,"question_id":72205782,"body_markdown":"I&#39;m developing an Android app in Java and I need to add a REST Server-Client Communication feature to it. I assume that the following code should post data to a .php file and will be thankful if someone explains to me what does it do and how to use it properly:\r\n\r\n    public static String urlAddress = &quot;http://gp.gpashev.com:93/testTels/service.php&quot;;\r\n\r\n    public static String getPostDataString(HashMap&lt;String, String&gt; params)\r\n            throws Exception\r\n    {\r\n        StringBuilder feedback = new StringBuilder();\r\n        boolean first = true;\r\n        for(Map.Entry&lt;String, String&gt; entry: params.entrySet()){\r\n            if(first == true){\r\n                first = false;\r\n            }else{\r\n                feedback.append(&quot;&amp;&quot;);\r\n            }\r\n            feedback.append(URLEncoder.encode(entry.getKey(), &quot;UTF-8&quot;));\r\n            feedback.append(&quot;=&quot;);\r\n            feedback.append(URLEncoder.encode(entry.getValue(), &quot;UTF-8&quot;));\r\n        }\r\n        return feedback.toString();\r\n    }\r\n\r\n    public static String postData(String methodName, String userName, String fileJSON)\r\n            throws Exception\r\n    {\r\n        String result = &quot;&quot;;\r\n        HashMap&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n        params.put(&quot;methodName&quot;, methodName);\r\n        params.put(&quot;userName&quot;, userName);\r\n        params.put(&quot;fileJSON&quot;, fileJSON);\r\n\r\n        URL url = new URL(urlAddress);\r\n        HttpURLConnection client = (HttpURLConnection) url.openConnection();\r\n        client.setRequestMethod(&quot;POST&quot;);\r\n        client.setRequestProperty(&quot;multipart/form-data&quot;, urlAddress+&quot;;charset=UTF-8&quot;);\r\n        client.setDoInput(true);\r\n        client.setDoOutput(true);\r\n        OutputStream os = client.getOutputStream();\r\n        BufferedWriter bw = new BufferedWriter(\r\n                new OutputStreamWriter(os, &quot;UTF-8&quot;)\r\n        );\r\n        String a = getPostDataString(params);\r\n        bw.write(a);\r\n        bw.close();\r\n        os.close();\r\n\r\n        int ResponseCode = client.getResponseCode();\r\n\r\n        if(ResponseCode == HttpURLConnection.HTTP_OK){\r\n            BufferedReader br = new BufferedReader(\r\n                    new InputStreamReader(client.getInputStream())\r\n            );\r\n            String line = &quot;&quot;;\r\n            while((line = br.readLine())!= null){\r\n                result+=line+&quot;\\n&quot;;\r\n            }\r\n            br.close();\r\n        }else{\r\n            throw new Exception(&quot;HTTP ERROR Response code: &quot; + ResponseCode);\r\n        }\r\n        return result;\r\n    }","title":"REST Server-Client Communication","body":"<p>I'm developing an Android app in Java and I need to add a REST Server-Client Communication feature to it. I assume that the following code should post data to a .php file and will be thankful if someone explains to me what does it do and how to use it properly:</p>\n<pre><code>public static String urlAddress = &quot;http://gp.gpashev.com:93/testTels/service.php&quot;;\n\npublic static String getPostDataString(HashMap&lt;String, String&gt; params)\n        throws Exception\n{\n    StringBuilder feedback = new StringBuilder();\n    boolean first = true;\n    for(Map.Entry&lt;String, String&gt; entry: params.entrySet()){\n        if(first == true){\n            first = false;\n        }else{\n            feedback.append(&quot;&amp;&quot;);\n        }\n        feedback.append(URLEncoder.encode(entry.getKey(), &quot;UTF-8&quot;));\n        feedback.append(&quot;=&quot;);\n        feedback.append(URLEncoder.encode(entry.getValue(), &quot;UTF-8&quot;));\n    }\n    return feedback.toString();\n}\n\npublic static String postData(String methodName, String userName, String fileJSON)\n        throws Exception\n{\n    String result = &quot;&quot;;\n    HashMap&lt;String, String&gt; params = new HashMap&lt;&gt;();\n    params.put(&quot;methodName&quot;, methodName);\n    params.put(&quot;userName&quot;, userName);\n    params.put(&quot;fileJSON&quot;, fileJSON);\n\n    URL url = new URL(urlAddress);\n    HttpURLConnection client = (HttpURLConnection) url.openConnection();\n    client.setRequestMethod(&quot;POST&quot;);\n    client.setRequestProperty(&quot;multipart/form-data&quot;, urlAddress+&quot;;charset=UTF-8&quot;);\n    client.setDoInput(true);\n    client.setDoOutput(true);\n    OutputStream os = client.getOutputStream();\n    BufferedWriter bw = new BufferedWriter(\n            new OutputStreamWriter(os, &quot;UTF-8&quot;)\n    );\n    String a = getPostDataString(params);\n    bw.write(a);\n    bw.close();\n    os.close();\n\n    int ResponseCode = client.getResponseCode();\n\n    if(ResponseCode == HttpURLConnection.HTTP_OK){\n        BufferedReader br = new BufferedReader(\n                new InputStreamReader(client.getInputStream())\n        );\n        String line = &quot;&quot;;\n        while((line = br.readLine())!= null){\n            result+=line+&quot;\\n&quot;;\n        }\n        br.close();\n    }else{\n        throw new Exception(&quot;HTTP ERROR Response code: &quot; + ResponseCode);\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":["java","debugging","intellij-idea","foreach"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1424457795,"post_id":28635961,"comment_id":45571786,"body_markdown":"Maybe I&#39;m confused.  The debugger in 14 is showing you what the current value of the iterator is for each iteration of the loop.  What other information did you need?","body":"Maybe I&#39;m confused.  The debugger in 14 is showing you what the current value of the iterator is for each iteration of the loop.  What other information did you need?"},{"owner":{"account_id":98471,"reputation":15227,"user_id":266531,"accept_rate":100,"display_name":"Kirby"},"score":0,"creation_date":1424457895,"post_id":28635961,"comment_id":45571835,"body_markdown":"Yeah, it&#39;s a simple example. Perhaps too simple. I want to know what index I&#39;m at, like for &quot;milo&quot; I&#39;m at index 0. Older versions of IDEA used to have a variable like &quot;i$&quot; in the debugger variable display. And it would have one, I&#39;m pretty sure, for the collection itself. I&#39;ve updated my question","body":"Yeah, it&#39;s a simple example. Perhaps too simple. I want to know what index I&#39;m at, like for &quot;milo&quot; I&#39;m at index 0. Older versions of IDEA used to have a variable like &quot;i$&quot; in the debugger variable display. And it would have one, I&#39;m pretty sure, for the collection itself. I&#39;ve updated my question"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1424458014,"post_id":28635961,"comment_id":45571887,"body_markdown":"In my setup, the `i$` variable is still there.  I do stress though that it&#39;s less vital right now since you shouldn&#39;t really care what position you are in the iterator (especially since you&#39;re iterating over *everything*), but you *do* want to know what value it&#39;s currently got - which is what the text to the right of the code is doing.","body":"In my setup, the <code>i$</code> variable is still there.  I do stress though that it&#39;s less vital right now since you shouldn&#39;t really care what position you are in the iterator (especially since you&#39;re iterating over <i>everything</i>), but you <i>do</i> want to know what value it&#39;s currently got - which is what the text to the right of the code is doing."},{"owner":{"account_id":98471,"reputation":15227,"user_id":266531,"accept_rate":100,"display_name":"Kirby"},"score":2,"creation_date":1424458058,"post_id":28635961,"comment_id":45571907,"body_markdown":"Ok, can I come over and use your IntelliJ?","body":"Ok, can I come over and use your IntelliJ?"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1424458221,"post_id":28635961,"comment_id":45571979,"body_markdown":"It might be a bit of a drive, to be honest...in either event, I&#39;m not entirely sure why your debugger isn&#39;t showing those values.  Check around the &quot;Customize Data Views&quot; window to see what options you have selected.","body":"It might be a bit of a drive, to be honest...in either event, I&#39;m not entirely sure why your debugger isn&#39;t showing those values.  Check around the &quot;Customize Data Views&quot; window to see what options you have selected."},{"owner":{"account_id":31685,"reputation":3185,"user_id":87206,"display_name":"CurtainDog"},"score":1,"creation_date":1431331895,"post_id":28635961,"comment_id":48431785,"body_markdown":"_Ok, can I come over and use your IntelliJ?_ – best SO comment ever","body":"<i>Ok, can I come over and use your IntelliJ?</i> – best SO comment ever"}],"answers":[{"tags":[],"owner":{"account_id":2511335,"reputation":335,"user_id":2183755,"display_name":"Scott Woodward"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653589351,"creation_date":1424458304,"answer_id":28636157,"question_id":28635961,"body_markdown":"Under the debugger settings, there&#39;s an option called &quot;auto-variables mode&quot; or &quot;all-variables mode&quot; (depending on which way its set). For me, toggling that hid/showed the `$i` variable. The settings menu is located down low where the debugger&#39;s resume button is. \r\n\r\nOn my system, when the text displayed in the menu is &quot;Auto-Variables Mode&quot; is when I have the `i$` variable. ","title":"Intellij IDEA: show implied iterator object in java debugger","body":"<p>Under the debugger settings, there's an option called &quot;auto-variables mode&quot; or &quot;all-variables mode&quot; (depending on which way its set). For me, toggling that hid/showed the <code>$i</code> variable. The settings menu is located down low where the debugger's resume button is.</p>\n<p>On my system, when the text displayed in the menu is &quot;Auto-Variables Mode&quot; is when I have the <code>i$</code> variable.</p>\n"},{"tags":[],"owner":{"account_id":98471,"reputation":15227,"user_id":266531,"accept_rate":100,"display_name":"Kirby"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1477496542,"creation_date":1424884934,"answer_id":28725521,"question_id":28635961,"body_markdown":"I&#39;ve contacted JetBrains support. They say that this is a bug, or not a supported feature, in the Oracle JDK 8 for Mac. They have filed a service request with Oracle.\r\n\r\nFor others who have a different JDK that supports the generated loop variables and you are looking for the control of how to turn the display of the generated loop control variables on or off, see [Scott Woodward][1]&#39;s excellent [answer][2]. \r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2183755/scott-woodward\r\n  [2]: https://stackoverflow.com/a/28636157/266531","title":"Intellij IDEA: show implied iterator object in java debugger","body":"<p>I've contacted JetBrains support. They say that this is a bug, or not a supported feature, in the Oracle JDK 8 for Mac. They have filed a service request with Oracle.</p>\n\n<p>For others who have a different JDK that supports the generated loop variables and you are looking for the control of how to turn the display of the generated loop control variables on or off, see <a href=\"https://stackoverflow.com/users/2183755/scott-woodward\">Scott Woodward</a>'s excellent <a href=\"https://stackoverflow.com/a/28636157/266531\">answer</a>. </p>\n"}],"owner":{"account_id":98471,"reputation":15227,"user_id":266531,"accept_rate":100,"display_name":"Kirby"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1537,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":28725521,"answer_count":2,"score":3,"last_activity_date":1653589351,"creation_date":1424457609,"question_id":28635961,"body_markdown":"In the Intellij IDEA Java Debugger window, how can I show the implied iterator values and the collection for a for/each loop?\r\n\r\nFor example I made this simple loop through puppy names. I want to be able to see in the debugger window where my index is for the loop and be able to see the collection that I&#39;m looping through. \r\n\r\nThat is, I want to know what index I&#39;m at. Like for &quot;milo&quot;, I want to know that I&#39;m at index 0. Older versions of IDEA used to have a variable like &quot;i$&quot; in the debugger variable display. And it would have a variable, I&#39;m pretty sure, for the collection itself. I&#39;m using the latest version, 14.0.3, on Mac OS Yosemite 10.10.2 (JDK 1.8 build 25 from Oracle).\r\n\r\nObviously this is a simple example that I&#39;ve constructed solely for explaining my question.\r\n\r\n![loop example][1]\r\n\r\nHere is my debugger settings menu\r\n\r\n![debugger settings][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/umky0.jpg\r\n  [2]: http://i.stack.imgur.com/3WUbP.png","title":"Intellij IDEA: show implied iterator object in java debugger","body":"<p>In the Intellij IDEA Java Debugger window, how can I show the implied iterator values and the collection for a for/each loop?</p>\n\n<p>For example I made this simple loop through puppy names. I want to be able to see in the debugger window where my index is for the loop and be able to see the collection that I'm looping through. </p>\n\n<p>That is, I want to know what index I'm at. Like for \"milo\", I want to know that I'm at index 0. Older versions of IDEA used to have a variable like \"i$\" in the debugger variable display. And it would have a variable, I'm pretty sure, for the collection itself. I'm using the latest version, 14.0.3, on Mac OS Yosemite 10.10.2 (JDK 1.8 build 25 from Oracle).</p>\n\n<p>Obviously this is a simple example that I've constructed solely for explaining my question.</p>\n\n<p><img src=\"https://i.stack.imgur.com/umky0.jpg\" alt=\"loop example\"></p>\n\n<p>Here is my debugger settings menu</p>\n\n<p><img src=\"https://i.stack.imgur.com/3WUbP.png\" alt=\"debugger settings\"></p>\n"},{"tags":["java","android","button","sharedpreferences"],"comments":[{"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"score":0,"creation_date":1653571525,"post_id":72392514,"comment_id":127887435,"body_markdown":"Do you want the timer to keep running when you close your app? Or to restart the timer with the certain amount of time that left when app resumes?","body":"Do you want the timer to keep running when you close your app? Or to restart the timer with the certain amount of time that left when app resumes?"},{"owner":{"account_id":22790301,"reputation":103,"user_id":16944744,"display_name":"Dmitriy Parkhomenko"},"score":0,"creation_date":1653572538,"post_id":72392514,"comment_id":127887840,"body_markdown":"@ATP i want that timer keep running after closing app and after 2 mins some code will running (button will clickable, how in pasted code)","body":"@ATP i want that timer keep running after closing app and after 2 mins some code will running (button will clickable, how in pasted code)"},{"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"score":0,"creation_date":1653573719,"post_id":72392514,"comment_id":127888279,"body_markdown":"`sharedPreferences.edit().putBoolean(&quot;buttonEnabled&quot;,button.isEnabled()).commit();` and then `button.setEnabled(sharedPreferences.getBoolean(&quot;buttonEnabled&quot;,true);`","body":"<code>sharedPreferences.edit().putBoolean(&quot;buttonEnabled&quot;,button.i&zwnj;&#8203;sEnabled()).commit()&zwnj;&#8203;;</code> and then <code>button.setEnabled(sharedPreferences.getBoolean(&quot;buttonEnable&zwnj;&#8203;d&quot;,true);</code>"},{"owner":{"account_id":22790301,"reputation":103,"user_id":16944744,"display_name":"Dmitriy Parkhomenko"},"score":0,"creation_date":1653574198,"post_id":72392514,"comment_id":127888456,"body_markdown":"@ATP, can you do it in answer and using my code, cuz i tried to do it, but it didn&#39;t work","body":"@ATP, can you do it in answer and using my code, cuz i tried to do it, but it didn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":22521805,"reputation":91,"user_id":16715236,"display_name":"Roland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653589219,"creation_date":1653574255,"answer_id":72393210,"question_id":72392514,"body_markdown":"You&#39;ll have to use shared preference to save the state. Then, while creating the view of you fragment or activity, you should check the value you saved with shared preference and set the button state accordingly.\r\n\r\nPermit me, please, to answer in Kotlin, maybe you or your IDE can do the translation.\r\n\r\nTo save your button state to shared preference, define this function;\r\n\r\n    fun setButtonState(context: Context, buttonEnabled: Boolean) {\r\n        PreferenceManager.getDefaultSharedPreference(context).edit()\r\n            .putBoolean(&quot;button&quot;, buttonEnabled).apply()\r\n    }\r\n\r\nThen to get your saved button state from shared preference, define this function;\r\n\r\n\r\n    fun getButtonState(context: Context): Boolean {\r\n        return PreferenceManager.getDefaultSharedPreference(context)\r\n           .getBoolean(&quot;button&quot;, false)\r\n    }\r\n\r\n\r\nIn your **onCreateView** set the button state in accordance to your saved value.\r\n\r\n    val buttonEnabled = getButtonState(requireContext())\r\n    button = view.findViewById(R.id.button)\r\n    button.isEnabled = buttonEnabled\r\n\r\nThen toggle the saved state in shared preference like so:\r\n\r\n    button.setOnClickListener {\r\n         button.isEnabled = false\r\n         setButtonState(requireContext(), false)\r\n         Handler(Looper.getMainLooper()).postDelayed({\r\n             button.isEnabled = true\r\n             setButtonState(requireContext(), true)\r\n         }, 120000)\r\n    }\r\n\r\nI hope this helps. :)","title":"How to save condition of button after closing app?","body":"<p>You'll have to use shared preference to save the state. Then, while creating the view of you fragment or activity, you should check the value you saved with shared preference and set the button state accordingly.</p>\n<p>Permit me, please, to answer in Kotlin, maybe you or your IDE can do the translation.</p>\n<p>To save your button state to shared preference, define this function;</p>\n<pre><code>fun setButtonState(context: Context, buttonEnabled: Boolean) {\n    PreferenceManager.getDefaultSharedPreference(context).edit()\n        .putBoolean(&quot;button&quot;, buttonEnabled).apply()\n}\n</code></pre>\n<p>Then to get your saved button state from shared preference, define this function;</p>\n<pre><code>fun getButtonState(context: Context): Boolean {\n    return PreferenceManager.getDefaultSharedPreference(context)\n       .getBoolean(&quot;button&quot;, false)\n}\n</code></pre>\n<p>In your <strong>onCreateView</strong> set the button state in accordance to your saved value.</p>\n<pre><code>val buttonEnabled = getButtonState(requireContext())\nbutton = view.findViewById(R.id.button)\nbutton.isEnabled = buttonEnabled\n</code></pre>\n<p>Then toggle the saved state in shared preference like so:</p>\n<pre><code>button.setOnClickListener {\n     button.isEnabled = false\n     setButtonState(requireContext(), false)\n     Handler(Looper.getMainLooper()).postDelayed({\n         button.isEnabled = true\n         setButtonState(requireContext(), true)\n     }, 120000)\n}\n</code></pre>\n<p>I hope this helps. :)</p>\n"}],"owner":{"account_id":22790301,"reputation":103,"user_id":16944744,"display_name":"Dmitriy Parkhomenko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653589219,"creation_date":1653571233,"question_id":72392514,"body_markdown":"This is code of button:\r\n```\r\n button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n            button.setEnabled(false);\r\n            new Handler().postDelayed(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        button.setEnabled(true);\r\n                    }\r\n                },120000);\r\n            }\r\n        });\r\n```\r\nI know that i need to create a sharedpreferences, but I didn&#39;t understand how to save condition of button which have a timer, because i know how to save without ussing handler. \r\nHow can i do this? ","title":"How to save condition of button after closing app?","body":"<p>This is code of button:</p>\n<pre><code> button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n            button.setEnabled(false);\n            new Handler().postDelayed(new Runnable() {\n                    @Override\n                    public void run() {\n                        button.setEnabled(true);\n                    }\n                },120000);\n            }\n        });\n</code></pre>\n<p>I know that i need to create a sharedpreferences, but I didn't understand how to save condition of button which have a timer, because i know how to save without ussing handler.\nHow can i do this?</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1297722837,"post_id":2498536,"comment_id":5585412,"body_markdown":"@Gugusse, accepted answers are an indicator to those reading the question what the _asker_ considered the right answer to his/her actual problem.  That is a very important piece of information.  That said, any reason you did not comment the need for the asker to provide a minimal code snippet showing the behaviour described?","body":"@Gugusse, accepted answers are an indicator to those reading the question what the <i>asker</i> considered the right answer to his/her actual problem.  That is a very important piece of information.  That said, any reason you did not comment the need for the asker to provide a minimal code snippet showing the behaviour described?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1297788724,"post_id":2498536,"comment_id":5595861,"body_markdown":"@Gugussee, he is just guessing.  The actual reason could be anything, which the code sample would show immediately.  Would it be reasonable to suggest you improve your meta-policing?","body":"@Gugussee, he is just guessing.  The actual reason could be anything, which the code sample would show immediately.  Would it be reasonable to suggest you improve your meta-policing?"},{"owner":{"account_id":271726,"reputation":1683,"user_id":562410,"accept_rate":84,"display_name":"Gugussee"},"score":0,"creation_date":1297791914,"post_id":2498536,"comment_id":5596695,"body_markdown":"@Thorbj&#248;rn Ravn Andersen: Would it be reasonable to suggest you improve your meta-meta-policing?   ;)","body":"@Thorbj&#248;rn Ravn Andersen: Would it be reasonable to suggest you improve your meta-meta-policing?   ;)"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1297792891,"post_id":2498536,"comment_id":5596953,"body_markdown":"@Gugussee, I&#39;ll consider that when you have caught up with me...","body":"@Gugussee, I&#39;ll consider that when you have caught up with me..."}],"answers":[{"tags":[],"owner":{"account_id":104635,"reputation":10035,"user_id":279623,"accept_rate":82,"display_name":"Tomislav Nakic-Alfirevic"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1269337333,"creation_date":1269337333,"answer_id":2498804,"question_id":2498536,"body_markdown":"I would be very surprised to see POI take that much time to generate such a file. I just generated a sheet with 30000 rows x 10 cells in about 18s (no formatting, to be fair). The cause might be one of the following:\r\n\r\n- POI logging might be turned on, as described [here][1]\r\n- you are running from swap memory\r\n- your VM available heap might be very low\r\n\r\n\r\n  [1]: http://marc.info/?l=poi-user&amp;m=102518419020006&amp;w=2","title":"POI performance","body":"<p>I would be very surprised to see POI take that much time to generate such a file. I just generated a sheet with 30000 rows x 10 cells in about 18s (no formatting, to be fair). The cause might be one of the following:</p>\n\n<ul>\n<li>POI logging might be turned on, as described <a href=\"http://marc.info/?l=poi-user&amp;m=102518419020006&amp;w=2\" rel=\"noreferrer\">here</a></li>\n<li>you are running from swap memory</li>\n<li>your VM available heap might be very low</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":106459,"reputation":389,"user_id":283615,"display_name":"pitpod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1269337597,"creation_date":1269337597,"answer_id":2498830,"question_id":2498536,"body_markdown":"We also use POI in our web app and do not have any performance issue with it - although our generated documents are far smaller than yours. I would first check if POI is the real issue here. Try to generate those documents without the J2EE-overhead (Unit-Test) and measure the performance. You could also monitor the load and memory usage on your J2EE server to see if the problems come from some suboptimal system settings.\r\n","title":"POI performance","body":"<p>We also use POI in our web app and do not have any performance issue with it - although our generated documents are far smaller than yours. I would first check if POI is the real issue here. Try to generate those documents without the J2EE-overhead (Unit-Test) and measure the performance. You could also monitor the load and memory usage on your J2EE server to see if the problems come from some suboptimal system settings.</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1269338430,"creation_date":1269338430,"answer_id":2498902,"question_id":2498536,"body_markdown":"If none of the other answers work out, see if Andy Khan&#39;s JExcel will be better.  I&#39;ve found it to be far superior to POI for dealing with Excel in Java.\r\n","title":"POI performance","body":"<p>If none of the other answers work out, see if Andy Khan's JExcel will be better.  I've found it to be far superior to POI for dealing with Excel in Java.</p>\n"},{"tags":[],"owner":{"account_id":1671,"reputation":981,"user_id":2250,"display_name":"andi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1325686404,"creation_date":1325686404,"answer_id":8728267,"question_id":2498536,"body_markdown":"I&#39;ve compared Apache POI with JExcel library. It seems that JExcel is about up to 4x faster than Apache POI but memory consumption seems to be more or less the same:\r\n\r\n\t@Test\r\n\tpublic void createJExcelWorkbook() throws Exception {\r\n\t\t\tWritableWorkbook workbook = Workbook.createWorkbook(new File(&quot;jexcel_workbook.xls&quot;));\r\n\t\t\tWritableSheet sheet = workbook.createSheet(&quot;sheet&quot;, 0);\t\r\n\t\t\tfor ( int i=0; i &lt; 65535; i++) {\r\n\t\t\t\tfor ( int j=0; j &lt; 10; j++) {\r\n\t\t\t\t\tLabel label = new Label(j, i, &quot;some text &quot; + i + &quot; &quot; + j);\r\n\t\t\t\t\tsheet.addCell(label);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tworkbook.write();\r\n\t\t\tworkbook.close();\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void createPoiWorkbook() throws Exception {\r\n\t\tWorkbook wb = new HSSFWorkbook();\r\n\t\tSheet sheet = wb.createSheet(&quot;sheet&quot;);\t\r\n\t\tfor ( int i=0; i &lt; 65535; i++) {\r\n\t\t\tRow row = sheet.createRow(i);\r\n\t\t\tfor ( int j=0; j &lt; 10; j++) {\r\n\t\t\t\tCell cell = row.createCell(j);\r\n\t\t\t\t cell.setCellValue(&quot;some text &quot; + i + &quot; &quot; + j);\r\n\t\t\t}\r\n\t\t}\t\r\n\t    FileOutputStream fileOut = new FileOutputStream(&quot;poi_workbook.xls&quot;);\r\n\t    wb.write(fileOut);\r\n\t    fileOut.close();\r\n\t}\r\n\r\nI&#39;ve tested it with JExcel version 2.6.12 and Apache POI version 3.7. You need to download the latest library versions yourself and run the simple tests above to get more accurate numbers.\r\n\r\n    &lt;dependency org=&quot;org.apache.poi&quot; name=&quot;poi&quot; rev=&quot;3.7&quot;/&gt;\r\n    &lt;dependency org=&quot;net.sourceforge.jexcelapi&quot; name=&quot;jxl&quot; rev=&quot;2.6.12&quot;/&gt;\r\n\r\n**Note:** there is a limit in Apache POI of 65535 rows per sheet.","title":"POI performance","body":"<p>I've compared Apache POI with JExcel library. It seems that JExcel is about up to 4x faster than Apache POI but memory consumption seems to be more or less the same:</p>\n\n<pre><code>@Test\npublic void createJExcelWorkbook() throws Exception {\n        WritableWorkbook workbook = Workbook.createWorkbook(new File(\"jexcel_workbook.xls\"));\n        WritableSheet sheet = workbook.createSheet(\"sheet\", 0); \n        for ( int i=0; i &lt; 65535; i++) {\n            for ( int j=0; j &lt; 10; j++) {\n                Label label = new Label(j, i, \"some text \" + i + \" \" + j);\n                sheet.addCell(label);\n            }\n        }\n        workbook.write();\n        workbook.close();\n}\n\n@Test\npublic void createPoiWorkbook() throws Exception {\n    Workbook wb = new HSSFWorkbook();\n    Sheet sheet = wb.createSheet(\"sheet\");  \n    for ( int i=0; i &lt; 65535; i++) {\n        Row row = sheet.createRow(i);\n        for ( int j=0; j &lt; 10; j++) {\n            Cell cell = row.createCell(j);\n             cell.setCellValue(\"some text \" + i + \" \" + j);\n        }\n    }   \n    FileOutputStream fileOut = new FileOutputStream(\"poi_workbook.xls\");\n    wb.write(fileOut);\n    fileOut.close();\n}\n</code></pre>\n\n<p>I've tested it with JExcel version 2.6.12 and Apache POI version 3.7. You need to download the latest library versions yourself and run the simple tests above to get more accurate numbers.</p>\n\n<pre><code>&lt;dependency org=\"org.apache.poi\" name=\"poi\" rev=\"3.7\"/&gt;\n&lt;dependency org=\"net.sourceforge.jexcelapi\" name=\"jxl\" rev=\"2.6.12\"/&gt;\n</code></pre>\n\n<p><strong>Note:</strong> there is a limit in Apache POI of 65535 rows per sheet.</p>\n"},{"tags":[],"owner":{"account_id":52149,"reputation":1517,"user_id":155796,"accept_rate":44,"display_name":"Eric Nicolas"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1404733759,"creation_date":1404733759,"answer_id":24609900,"question_id":2498536,"body_markdown":"The performance of writing large files with POI can be heavily reduced if you used the &#39;streaming&#39; POI API instead of the standard one. Indeed by default POI will keep all your data in memory before writing all in one go at the end. The memory footprint of this can be ridiculously large for big files. Instead using the streaming API you can control how memory is used and data is written to disk progressively.\r\n\r\nIn order to create a streaming workbook, use something like :\r\n\r\n      SXSSFWorkbook book = new SXSSFWorkbook(); \r\n      book.setCompressTempFiles(true);\r\n    \r\n      SXSSFSheet sheet = (SXSSFSheet) book.createSheet();\r\n      sheet.setRandomAccessWindowSize(100);// keep 100 rows in memory, exceeding rows will be flushed to disk\r\n      // ...\r\n\r\n","title":"POI performance","body":"<p>The performance of writing large files with POI can be heavily reduced if you used the 'streaming' POI API instead of the standard one. Indeed by default POI will keep all your data in memory before writing all in one go at the end. The memory footprint of this can be ridiculously large for big files. Instead using the streaming API you can control how memory is used and data is written to disk progressively.</p>\n\n<p>In order to create a streaming workbook, use something like :</p>\n\n<pre><code>  SXSSFWorkbook book = new SXSSFWorkbook(); \n  book.setCompressTempFiles(true);\n\n  SXSSFSheet sheet = (SXSSFSheet) book.createSheet();\n  sheet.setRandomAccessWindowSize(100);// keep 100 rows in memory, exceeding rows will be flushed to disk\n  // ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":435719,"reputation":513,"user_id":822461,"display_name":"Yaytay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653589057,"creation_date":1653589057,"answer_id":72396330,"question_id":2498536,"body_markdown":"By default POI stores the document in memory using XmlBeans, which is a lot of stuff to store for a large XLSX document.\r\n\r\nIt only becomes an XLSX document (a zip file) when you stream it out.\r\n\r\nFor large documents this is a memory hog and can be slow.\r\n\r\nThe SXSSF classes avoid some of this overhead by writing the data file to disc as it gets built up, merging that with the rest of the file (from memory) when the XLSX is output.\r\nThis is a LOT faster for large workbooks, but does have limitations. \r\n\r\nThere is another approach, which is much less flexible, but a lot more efficient.\r\nThis approach is to treat most of the files in the XLSX as almost fixed and to stream the whole lot out as you generate.\r\nThis has its own limitations (you will have to k ow all yiur formatting up front), but is fast and memory efficient.\r\nMy implementation of this approach is here: https://github.com/Yaytay/vertx-xlsx-writer, but it&#39;s pretty straightforward. \r\n\r\nMy assumption would be that the in-memory model used by Excel has very little in common with the XLSX format and that it builds up each file on at a time by scanning that model for the relevant information. \r\nYou can do the same, just picking up the bits of the file format that you need.","title":"POI performance","body":"<p>By default POI stores the document in memory using XmlBeans, which is a lot of stuff to store for a large XLSX document.</p>\n<p>It only becomes an XLSX document (a zip file) when you stream it out.</p>\n<p>For large documents this is a memory hog and can be slow.</p>\n<p>The SXSSF classes avoid some of this overhead by writing the data file to disc as it gets built up, merging that with the rest of the file (from memory) when the XLSX is output.\nThis is a LOT faster for large workbooks, but does have limitations.</p>\n<p>There is another approach, which is much less flexible, but a lot more efficient.\nThis approach is to treat most of the files in the XLSX as almost fixed and to stream the whole lot out as you generate.\nThis has its own limitations (you will have to k ow all yiur formatting up front), but is fast and memory efficient.\nMy implementation of this approach is here: <a href=\"https://github.com/Yaytay/vertx-xlsx-writer\" rel=\"nofollow noreferrer\">https://github.com/Yaytay/vertx-xlsx-writer</a>, but it's pretty straightforward.</p>\n<p>My assumption would be that the in-memory model used by Excel has very little in common with the XLSX format and that it builds up each file on at a time by scanning that model for the relevant information.\nYou can do the same, just picking up the bits of the file format that you need.</p>\n"}],"owner":{"account_id":68808,"reputation":1241,"user_id":200554,"accept_rate":44,"display_name":"The Machine"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35686,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":2498804,"answer_count":6,"score":22,"last_activity_date":1653589057,"creation_date":1269334483,"question_id":2498536,"body_markdown":"I am using POI in my J2EE web application to generate a workbook.\r\nHowever, i find that POI takes around 3 mins to create a workbook with 25K rows(with around 15 columns each).\r\nIs this a POI performance issue , or is it justified to take that much of time?\r\nAre there other APIs known for better performance ?","title":"POI performance","body":"<p>I am using POI in my J2EE web application to generate a workbook.\nHowever, i find that POI takes around 3 mins to create a workbook with 25K rows(with around 15 columns each).\nIs this a POI performance issue , or is it justified to take that much of time?\nAre there other APIs known for better performance ?</p>\n"},{"tags":["java","android","cordova"],"comments":[{"owner":{"account_id":389916,"reputation":9994,"user_id":749657,"accept_rate":83,"display_name":"Eric"},"score":0,"creation_date":1653441103,"post_id":72368283,"comment_id":127851819,"body_markdown":"&quot;The whatsapp tracking icon never goes off when the app is closed.&quot; Then you need background location service...","body":"&quot;The whatsapp tracking icon never goes off when the app is closed.&quot; Then you need background location service..."}],"answers":[{"tags":[],"owner":{"account_id":963099,"reputation":141,"user_id":986999,"display_name":"Bharat Kumar Molleti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653588996,"creation_date":1653588996,"answer_id":72396313,"question_id":72368283,"body_markdown":"Using LocationManager as in code below has solved this similar situation for me. \r\n\r\n    public class MyLocationService extends Service {\r\n    private static final String TAG = &quot;MyLocationService&quot;;\r\n    private LocationManager mLocationManager = null;\r\n    private static final int LOCATION_INTERVAL = 1000;\r\n    private static final float LOCATION_DISTANCE = 10f;\r\n\r\n    private class LocationListener implements android.location.LocationListener {\r\n        Location mLastLocation;\r\n\r\n        public LocationListener(String provider) {\r\n            Log.e(TAG, &quot;LocationListener &quot; + provider);\r\n            mLastLocation = new Location(provider);\r\n        }\r\n\r\n        @Override\r\n        public void onLocationChanged(Location location) {\r\n            Log.e(TAG, &quot;onLocationChanged: &quot; + location);\r\n            mLastLocation.set(location);\r\n        }\r\n\r\n        @Override\r\n        public void onProviderDisabled(String provider) {\r\n            Log.e(TAG, &quot;onProviderDisabled: &quot; + provider);\r\n        }\r\n\r\n        @Override\r\n        public void onProviderEnabled(String provider) {\r\n            Log.e(TAG, &quot;onProviderEnabled: &quot; + provider);\r\n        }\r\n\r\n        @Override\r\n        public void onStatusChanged(String provider, int status, Bundle extras) {\r\n            Log.e(TAG, &quot;onStatusChanged: &quot; + provider);\r\n        }\r\n    }\r\n\r\n    LocationListener[] mLocationListeners = new LocationListener[]{\r\n            new LocationListener(LocationManager.PASSIVE_PROVIDER)\r\n    };\r\n\r\n    @Override\r\n    public IBinder onBind(Intent arg0) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        Log.e(TAG, &quot;onStartCommand&quot;);\r\n        super.onStartCommand(intent, flags, startId);\r\n        return START_STICKY;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n\r\n        Log.e(TAG, &quot;onCreate&quot;);\r\n\r\n        initializeLocationManager();\r\n\r\n        try {\r\n            mLocationManager.requestLocationUpdates(\r\n                    LocationManager.PASSIVE_PROVIDER,\r\n                    LOCATION_INTERVAL,\r\n                    LOCATION_DISTANCE,\r\n                    mLocationListeners[0]\r\n            );\r\n        } catch (java.lang.SecurityException ex) {\r\n            Log.i(TAG, &quot;fail to request location update, ignore&quot;, ex);\r\n        } catch (IllegalArgumentException ex) {\r\n            Log.d(TAG, &quot;network provider does not exist, &quot; + ex.getMessage());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        Log.e(TAG, &quot;onDestroy&quot;);\r\n        super.onDestroy();\r\n        if (mLocationManager != null) {\r\n            for (int i = 0; i &lt; mLocationListeners.length; i++) {\r\n                try {\r\n                    if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                        return;\r\n                    }\r\n                    mLocationManager.removeUpdates(mLocationListeners[i]);\r\n                } catch (Exception ex) {\r\n                    Log.i(TAG, &quot;fail to remove location listener, ignore&quot;, ex);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private void initializeLocationManager() {\r\n        Log.e(TAG, &quot;initializeLocationManager - LOCATION_INTERVAL: &quot;+ LOCATION_INTERVAL + &quot; LOCATION_DISTANCE: &quot; + LOCATION_DISTANCE);\r\n        if (mLocationManager == null) {\r\n            mLocationManager = (LocationManager) getApplicationContext().getSystemService(Context.LOCATION_SERVICE);\r\n        }\r\n    }\r\n} \r\n\r\nYou could modify this to suit your need. ","title":"Foreground service is sometimes restarting and sometimes never starts when app is removed from open apps","body":"<p>Using LocationManager as in code below has solved this similar situation for me.</p>\n<pre><code>public class MyLocationService extends Service {\nprivate static final String TAG = &quot;MyLocationService&quot;;\nprivate LocationManager mLocationManager = null;\nprivate static final int LOCATION_INTERVAL = 1000;\nprivate static final float LOCATION_DISTANCE = 10f;\n\nprivate class LocationListener implements android.location.LocationListener {\n    Location mLastLocation;\n\n    public LocationListener(String provider) {\n        Log.e(TAG, &quot;LocationListener &quot; + provider);\n        mLastLocation = new Location(provider);\n    }\n\n    @Override\n    public void onLocationChanged(Location location) {\n        Log.e(TAG, &quot;onLocationChanged: &quot; + location);\n        mLastLocation.set(location);\n    }\n\n    @Override\n    public void onProviderDisabled(String provider) {\n        Log.e(TAG, &quot;onProviderDisabled: &quot; + provider);\n    }\n\n    @Override\n    public void onProviderEnabled(String provider) {\n        Log.e(TAG, &quot;onProviderEnabled: &quot; + provider);\n    }\n\n    @Override\n    public void onStatusChanged(String provider, int status, Bundle extras) {\n        Log.e(TAG, &quot;onStatusChanged: &quot; + provider);\n    }\n}\n\nLocationListener[] mLocationListeners = new LocationListener[]{\n        new LocationListener(LocationManager.PASSIVE_PROVIDER)\n};\n\n@Override\npublic IBinder onBind(Intent arg0) {\n    return null;\n}\n\n@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n    Log.e(TAG, &quot;onStartCommand&quot;);\n    super.onStartCommand(intent, flags, startId);\n    return START_STICKY;\n}\n\n@Override\npublic void onCreate() {\n\n    Log.e(TAG, &quot;onCreate&quot;);\n\n    initializeLocationManager();\n\n    try {\n        mLocationManager.requestLocationUpdates(\n                LocationManager.PASSIVE_PROVIDER,\n                LOCATION_INTERVAL,\n                LOCATION_DISTANCE,\n                mLocationListeners[0]\n        );\n    } catch (java.lang.SecurityException ex) {\n        Log.i(TAG, &quot;fail to request location update, ignore&quot;, ex);\n    } catch (IllegalArgumentException ex) {\n        Log.d(TAG, &quot;network provider does not exist, &quot; + ex.getMessage());\n    }\n}\n\n@Override\npublic void onDestroy() {\n    Log.e(TAG, &quot;onDestroy&quot;);\n    super.onDestroy();\n    if (mLocationManager != null) {\n        for (int i = 0; i &lt; mLocationListeners.length; i++) {\n            try {\n                if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n                    return;\n                }\n                mLocationManager.removeUpdates(mLocationListeners[i]);\n            } catch (Exception ex) {\n                Log.i(TAG, &quot;fail to remove location listener, ignore&quot;, ex);\n            }\n        }\n    }\n}\n\nprivate void initializeLocationManager() {\n    Log.e(TAG, &quot;initializeLocationManager - LOCATION_INTERVAL: &quot;+ LOCATION_INTERVAL + &quot; LOCATION_DISTANCE: &quot; + LOCATION_DISTANCE);\n    if (mLocationManager == null) {\n        mLocationManager = (LocationManager) getApplicationContext().getSystemService(Context.LOCATION_SERVICE);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>You could modify this to suit your need.</p>\n"}],"owner":{"account_id":5575612,"reputation":335,"user_id":4419099,"accept_rate":61,"display_name":"kpvsrkp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653588996,"creation_date":1653419511,"question_id":72368283,"body_markdown":"I am implementing location tracker from Android app by using foreground service. \r\nThe expectation is the foreground service should run even \r\n\r\n 1. when app is removed from recent open apps.\r\n 2. When app is in open/foreground.\r\n 3. When app is in background i.e. app is still open but went to background\r\n\r\nThe case 2 &amp; 3 are working fine but case 1 is working weirdly.\r\n\r\nIn case 1, sometimes foreground service is getting restarted (notification is going off and coming back) after few seconds i.e. 1 to 3 seconds.\r\nIn some other times it is never restarted.\r\n\r\nI want the foreground service to never go off. In short, I want it like whatsapp location tracking. The whatsapp tracking icon never goes off when the app is closed.\r\n\r\nPlease give any pointers on what else I am missing\r\n\r\n**Activity class**\r\n\r\n```\r\npublic void enableTracking(String planId, JSONArray trackList, CallbackContext callbackContext) {\r\n    Log.i(TAG,&quot;In enableTracking&quot;);\r\n    Intent intent = new \r\n    Intent(cordova.getActivity().getApplicationContext(),LocationTracker.class);\r\n   \r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n      cordova.getActivity().startForegroundService(intent);\r\n      callbackContext.success(&quot;Location Tracking is enabled&quot;);\r\n    } else {\r\n      callbackContext.error(&quot;Build version is less than OREO&quot;);\r\n    }\r\n  }\r\n\r\npublic void disableTracking(CallbackContext callbackContext) {\r\n    Log.i(TAG,&quot;In disableTracking&quot;);\r\n    Intent intent = new Intent(cordova.getActivity().getApplicationContext(),LocationTracker.class);\r\n    cordova.getActivity().stopService(intent);\r\n    callbackContext.success(&quot;Location Tracking is disabled&quot;);\r\n  }\r\n```\r\n\r\n**Service class**\r\n```\r\npublic class LocationTracker extends Service {\r\n  private final IBinder mBinder = new MyBinder();\r\n  private static final String CHANNEL_ID = &quot;2&quot;;\r\n  private static final String TAG = &quot;LocationTracker&quot;;\r\n  private FusedLocationProviderClient mFusedLocationClient;\r\n  RequestQueue mRequestQueue;\r\n\r\n\r\n  public LocationTracker() {\r\n  }\r\n\r\n  @Override\r\n  public IBinder onBind(Intent intent) {\r\n    return mBinder;\r\n  }\r\n\r\n  @Override\r\n  public int onStartCommand(Intent intent, int flags, int startId) {\r\n    return START_STICKY;\r\n  }\r\n\r\n@Override\r\npublic void onTaskRemoved(Intent rootIntent) {\r\n    Log.i(TAG, &quot;onTaskRemoved&quot;);\r\n    super.onTaskRemoved(rootIntent);\r\n}\r\n\r\n  @Override\r\n  public void onCreate() {\r\n    super.onCreate();\r\n    buildNotification();   \r\n    // logic to start location tracking\r\n  }\r\n\r\n  @Override\r\n  public void onDestroy() {\r\n    super.onDestroy();\r\n    // logic to stop tracking\r\n  }\r\n\r\n\r\n  private void fetchAndSendLocation() {\r\n    mFusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\r\n    if (ActivityCompat.checkSelfPermission(this,\r\n        android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED\r\n        &amp;&amp; ActivityCompat.checkSelfPermission(this,\r\n            android.Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {      \r\n      Log.e(TAG, &quot;No permission to fetch location&quot;);\r\n      return;\r\n    }\r\n    // mFusedLocationClient.getCurrentLocation()\r\n    Task fetchLocTask = mFusedLocationClient.getLastLocation();\r\n    fetchLocTask.addOnSuccessListener(new OnSuccessListener() {\r\n      @Override\r\n      public void onSuccess(Object o) {\r\n        Location loc = (Location) o;\r\n        if (loc != null) {\r\n          Log.i(TAG, &quot;Lat &quot; + loc.getLatitude() + &quot; lon &quot; + loc.getLongitude() + &quot; date &quot; + (new Date()).toString());\r\n          postLocation(loc);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private void buildNotification() {\r\n    String stop = &quot;stop&quot;;\r\n    PendingIntent broadcastIntent = PendingIntent.getBroadcast(\r\n        this, 0, new Intent(stop), PendingIntent.FLAG_UPDATE_CURRENT);\r\n    // Create the persistent notification\r\n    NotificationCompat.Builder builder = new NotificationCompat.Builder(this, CHANNEL_ID)\r\n        .setContentTitle(getString(R.string.app_name))\r\n        .setContentText(&quot;Location tracking is working&quot;)\r\n        .setOngoing(true)\r\n        .setContentIntent(broadcastIntent);\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n      NotificationChannel channel = new NotificationChannel(CHANNEL_ID, getString(R.string.app_name),\r\n          NotificationManager.IMPORTANCE_DEFAULT);\r\n      channel.setShowBadge(false);\r\n      channel.setDescription(&quot;Location tracking is in progress&quot;);\r\n      channel.setSound(null, null);\r\n      NotificationManager manager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\r\n      manager.createNotificationChannel(channel);\r\n    }\r\n    startForeground(1, builder.build());\r\n  }\r\n  \r\n  public class MyBinder extends Binder {\r\n    public LocationTracker getService() {\r\n      return LocationTracker.this;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**AndroidManifest.xml**\r\n```\r\n&lt;service android:enabled=&quot;true&quot; android:exported=&quot;true&quot; android:foregroundServiceType=&quot;location&quot; android:name=&quot;.LocationTracker&quot; /&gt;\r\n```\r\n\r\n\r\n\r\n ","title":"Foreground service is sometimes restarting and sometimes never starts when app is removed from open apps","body":"<p>I am implementing location tracker from Android app by using foreground service.\nThe expectation is the foreground service should run even</p>\n<ol>\n<li>when app is removed from recent open apps.</li>\n<li>When app is in open/foreground.</li>\n<li>When app is in background i.e. app is still open but went to background</li>\n</ol>\n<p>The case 2 &amp; 3 are working fine but case 1 is working weirdly.</p>\n<p>In case 1, sometimes foreground service is getting restarted (notification is going off and coming back) after few seconds i.e. 1 to 3 seconds.\nIn some other times it is never restarted.</p>\n<p>I want the foreground service to never go off. In short, I want it like whatsapp location tracking. The whatsapp tracking icon never goes off when the app is closed.</p>\n<p>Please give any pointers on what else I am missing</p>\n<p><strong>Activity class</strong></p>\n<pre><code>public void enableTracking(String planId, JSONArray trackList, CallbackContext callbackContext) {\n    Log.i(TAG,&quot;In enableTracking&quot;);\n    Intent intent = new \n    Intent(cordova.getActivity().getApplicationContext(),LocationTracker.class);\n   \n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n      cordova.getActivity().startForegroundService(intent);\n      callbackContext.success(&quot;Location Tracking is enabled&quot;);\n    } else {\n      callbackContext.error(&quot;Build version is less than OREO&quot;);\n    }\n  }\n\npublic void disableTracking(CallbackContext callbackContext) {\n    Log.i(TAG,&quot;In disableTracking&quot;);\n    Intent intent = new Intent(cordova.getActivity().getApplicationContext(),LocationTracker.class);\n    cordova.getActivity().stopService(intent);\n    callbackContext.success(&quot;Location Tracking is disabled&quot;);\n  }\n</code></pre>\n<p><strong>Service class</strong></p>\n<pre><code>public class LocationTracker extends Service {\n  private final IBinder mBinder = new MyBinder();\n  private static final String CHANNEL_ID = &quot;2&quot;;\n  private static final String TAG = &quot;LocationTracker&quot;;\n  private FusedLocationProviderClient mFusedLocationClient;\n  RequestQueue mRequestQueue;\n\n\n  public LocationTracker() {\n  }\n\n  @Override\n  public IBinder onBind(Intent intent) {\n    return mBinder;\n  }\n\n  @Override\n  public int onStartCommand(Intent intent, int flags, int startId) {\n    return START_STICKY;\n  }\n\n@Override\npublic void onTaskRemoved(Intent rootIntent) {\n    Log.i(TAG, &quot;onTaskRemoved&quot;);\n    super.onTaskRemoved(rootIntent);\n}\n\n  @Override\n  public void onCreate() {\n    super.onCreate();\n    buildNotification();   \n    // logic to start location tracking\n  }\n\n  @Override\n  public void onDestroy() {\n    super.onDestroy();\n    // logic to stop tracking\n  }\n\n\n  private void fetchAndSendLocation() {\n    mFusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\n    if (ActivityCompat.checkSelfPermission(this,\n        android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED\n        &amp;&amp; ActivityCompat.checkSelfPermission(this,\n            android.Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {      \n      Log.e(TAG, &quot;No permission to fetch location&quot;);\n      return;\n    }\n    // mFusedLocationClient.getCurrentLocation()\n    Task fetchLocTask = mFusedLocationClient.getLastLocation();\n    fetchLocTask.addOnSuccessListener(new OnSuccessListener() {\n      @Override\n      public void onSuccess(Object o) {\n        Location loc = (Location) o;\n        if (loc != null) {\n          Log.i(TAG, &quot;Lat &quot; + loc.getLatitude() + &quot; lon &quot; + loc.getLongitude() + &quot; date &quot; + (new Date()).toString());\n          postLocation(loc);\n        }\n      }\n    });\n  }\n\n  private void buildNotification() {\n    String stop = &quot;stop&quot;;\n    PendingIntent broadcastIntent = PendingIntent.getBroadcast(\n        this, 0, new Intent(stop), PendingIntent.FLAG_UPDATE_CURRENT);\n    // Create the persistent notification\n    NotificationCompat.Builder builder = new NotificationCompat.Builder(this, CHANNEL_ID)\n        .setContentTitle(getString(R.string.app_name))\n        .setContentText(&quot;Location tracking is working&quot;)\n        .setOngoing(true)\n        .setContentIntent(broadcastIntent);\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n      NotificationChannel channel = new NotificationChannel(CHANNEL_ID, getString(R.string.app_name),\n          NotificationManager.IMPORTANCE_DEFAULT);\n      channel.setShowBadge(false);\n      channel.setDescription(&quot;Location tracking is in progress&quot;);\n      channel.setSound(null, null);\n      NotificationManager manager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\n      manager.createNotificationChannel(channel);\n    }\n    startForeground(1, builder.build());\n  }\n  \n  public class MyBinder extends Binder {\n    public LocationTracker getService() {\n      return LocationTracker.this;\n    }\n  }\n}\n</code></pre>\n<p><strong>AndroidManifest.xml</strong></p>\n<pre><code>&lt;service android:enabled=&quot;true&quot; android:exported=&quot;true&quot; android:foregroundServiceType=&quot;location&quot; android:name=&quot;.LocationTracker&quot; /&gt;\n</code></pre>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":3766348,"reputation":716,"user_id":3129780,"accept_rate":78,"display_name":"Hanzallah Afgan"},"score":0,"creation_date":1441532495,"post_id":32422061,"comment_id":52709653,"body_markdown":"Absolutely. Yes, it runs 7 times.","body":"Absolutely. Yes, it runs 7 times."},{"owner":{"account_id":6863070,"reputation":1880,"user_id":5276428,"accept_rate":52,"display_name":"burglarhobbit"},"score":0,"creation_date":1441537105,"post_id":32422061,"comment_id":52710936,"body_markdown":"Consider accepting my answer. And I provided an explanation why your code seems to be running 7 times. The logic in your edit is mine which made more sense to you. Do you still feel the need of other&#39;s opinions on my logic while you understood it without any doubt.","body":"Consider accepting my answer. And I provided an explanation why your code seems to be running 7 times. The logic in your edit is mine which made more sense to you. Do you still feel the need of other&#39;s opinions on my logic while you understood it without any doubt."}],"answers":[{"tags":[],"owner":{"account_id":1939703,"reputation":1882,"user_id":1746167,"accept_rate":62,"display_name":"Esty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441532421,"creation_date":1441532421,"answer_id":32422097,"question_id":32422061,"body_markdown":"Yes. Loop For k will run 7 times. But at the last time when k = 2 then inner loop for l = 1 and l &lt; k - 1 means 1 &lt; 1 will not execute.","title":"Java For Loop Patterns","body":"<p>Yes. Loop For k will run 7 times. But at the last time when k = 2 then inner loop for l = 1 and l &lt; k - 1 means 1 &lt; 1 will not execute.</p>\n"},{"tags":[],"owner":{"account_id":934735,"reputation":23556,"user_id":963881,"accept_rate":83,"display_name":"syntagma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1441532432,"creation_date":1441532432,"answer_id":32422100,"question_id":32422061,"body_markdown":"&gt; I played with the values but I didn&#39;t understand the value of k = 8.\r\n&gt; wouldn&#39;t that mean the loop runs 7 times when k &gt; 1 is true?\r\n\r\nI means that the loop will run as long as `k &gt; 1` is true but `k` is also decremented by 1, therefore the loops runs **7 times** but in the last run it will only print a newline only (which you have not included in your output but it was there, believe me).","title":"Java For Loop Patterns","body":"<blockquote>\n  <p>I played with the values but I didn't understand the value of k = 8.\n  wouldn't that mean the loop runs 7 times when k > 1 is true?</p>\n</blockquote>\n\n<p>I means that the loop will run as long as <code>k &gt; 1</code> is true but <code>k</code> is also decremented by 1, therefore the loops runs <strong>7 times</strong> but in the last run it will only print a newline only (which you have not included in your output but it was there, believe me).</p>\n"},{"tags":[],"owner":{"account_id":6904845,"reputation":11,"user_id":5303137,"display_name":"rajan.agarwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441534911,"creation_date":1441532858,"answer_id":32422165,"question_id":32422061,"body_markdown":"&gt; I played with the values but I didn&#39;t understand the value of k = 8. wouldn&#39;t that mean the loop runs 7 times when k &gt; 1 is true?  \r\n      for(int k = 8; k &gt; 1; k--) {\r\n        for(int l = 1; l &lt; k - 1; l++){\r\n            System.out.print(l);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\nHi,\r\nHere, as you can see that the outer loop will run till the value of k is 2, the first value of k is 8, so it will run for values - 8,7,6,5,4,3,2. However the integer values are printed in the inner loop, where, the value of l goes from 1 to less than k-1, hence in the first iteration it goes from 1 to 6.\r\nThe outer loop will run 7 times but value of l is printed only 6 times as l is always one less than k.\r\n\r\n","title":"Java For Loop Patterns","body":"<blockquote>\n  <p>I played with the values but I didn't understand the value of k = 8. wouldn't that mean the loop runs 7 times when k > 1 is true?<br>\n        for(int k = 8; k > 1; k--) {\n          for(int l = 1; l &lt; k - 1; l++){\n              System.out.print(l);\n          }\n          System.out.println();\n      }</p>\n</blockquote>\n\n<p>Hi,\nHere, as you can see that the outer loop will run till the value of k is 2, the first value of k is 8, so it will run for values - 8,7,6,5,4,3,2. However the integer values are printed in the inner loop, where, the value of l goes from 1 to less than k-1, hence in the first iteration it goes from 1 to 6.\nThe outer loop will run 7 times but value of l is printed only 6 times as l is always one less than k.</p>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441535925,"creation_date":1441535925,"answer_id":32422649,"question_id":32422061,"body_markdown":"When running your *edit* code, you get (`&lt;nl&gt;` represent a *newline*):\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    12345&lt;nl&gt;\r\n    1234&lt;nl&gt;\r\n    123&lt;nl&gt;\r\n    12&lt;nl&gt;\r\n    1&lt;nl&gt;\r\n    &lt;nl&gt;\r\n    &lt;nl&gt;\r\n\r\nAs you can see, your edit runs 7 times too, with `k` values `6,5,4,3,2,1,0`, and you don&#39;t get the number `6` at the end of the first line.\r\n\r\nChange to `k &gt; 0`, and to `l &lt;= k`:\r\n\r\n\tfor(int k = 6; k &gt; 0; k--) {\r\n\t\tfor(int l = 1; l &lt;= k; l++){\r\n\t\t\tSystem.out.print(l);\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t}\r\n\r\n*Output*\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    123456&lt;nl&gt;\r\n    12345&lt;nl&gt;\r\n    1234&lt;nl&gt;\r\n    123&lt;nl&gt;\r\n    12&lt;nl&gt;\r\n    1&lt;nl&gt;\r\n","title":"Java For Loop Patterns","body":"<p>When running your <em>edit</em> code, you get (<code>&lt;nl&gt;</code> represent a <em>newline</em>):</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>12345&lt;nl&gt;\n1234&lt;nl&gt;\n123&lt;nl&gt;\n12&lt;nl&gt;\n1&lt;nl&gt;\n&lt;nl&gt;\n&lt;nl&gt;\n</code></pre>\n\n<p>As you can see, your edit runs 7 times too, with <code>k</code> values <code>6,5,4,3,2,1,0</code>, and you don't get the number <code>6</code> at the end of the first line.</p>\n\n<p>Change to <code>k &gt; 0</code>, and to <code>l &lt;= k</code>:</p>\n\n<pre><code>for(int k = 6; k &gt; 0; k--) {\n    for(int l = 1; l &lt;= k; l++){\n        System.out.print(l);\n    }\n    System.out.println();\n}\n</code></pre>\n\n<p><em>Output</em></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>123456&lt;nl&gt;\n12345&lt;nl&gt;\n1234&lt;nl&gt;\n123&lt;nl&gt;\n12&lt;nl&gt;\n1&lt;nl&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25398741,"reputation":1,"user_id":19208604,"display_name":"Abhinav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653588935,"creation_date":1653588935,"answer_id":72396306,"question_id":32422061,"body_markdown":"Here, l is initialised with 1 and runs till it is less than k-1. When k is 8 the loop will run till l is less than\r\n 8-1, i.e, 7 and not till it is equal to 7.Therfore, the inner loop will run 6 times. If you wish, then you can consider the following code segment:\r\n\r\n    for(int k=6;k&gt;=1;k--)\r\n    {\r\n      for(int l=1;l&lt;=k;l++)\r\n       System.out.print(l);\r\n    System.out.println();\r\n    }","title":"Java For Loop Patterns","body":"<p>Here, l is initialised with 1 and runs till it is less than k-1. When k is 8 the loop will run till l is less than\n8-1, i.e, 7 and not till it is equal to 7.Therfore, the inner loop will run 6 times. If you wish, then you can consider the following code segment:</p>\n<pre><code>for(int k=6;k&gt;=1;k--)\n{\n  for(int l=1;l&lt;=k;l++)\n   System.out.print(l);\nSystem.out.println();\n}\n</code></pre>\n"}],"owner":{"account_id":3370652,"reputation":39,"user_id":2829935,"display_name":"Alfred O."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":747,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1653588935,"creation_date":1441532164,"question_id":32422061,"body_markdown":"Was doing some Java practices and one particular for loop pattern confused me. \r\nI was working towards a goal to print this pattern,\r\n\r\n    123456\r\n    12345\r\n    1234\r\n    123\r\n    12\r\n    1\r\n\r\nAnd the solution given was \r\n\r\n        for(int k = 8; k &gt; 1; k--) {\r\n            for(int l = 1; l &lt; k - 1; l++){\r\n                System.out.print(l);\r\n            }\r\n            System.out.println();\r\n        }\r\n\r\nI played with the values but I didn&#39;t understand the value of k = 8. wouldn&#39;t that mean the loop runs 7 times when k &gt; 1 is true?  \r\n\r\n*edit* I played around with the code and found out a lesser, more simplified code that made more sense to me, \r\n\r\n        for(int k = 6; k &gt;= 0; k--) {\r\n            for(int l = 1; l &lt; k; l++){\r\n                System.out.print(l);\r\n            }\r\n            System.out.println();\r\n        }\r\n\r\nIt too gave me the same outcome. Is this way of logic more confusing to people or is it easier to understand?","title":"Java For Loop Patterns","body":"<p>Was doing some Java practices and one particular for loop pattern confused me. \nI was working towards a goal to print this pattern,</p>\n\n<pre><code>123456\n12345\n1234\n123\n12\n1\n</code></pre>\n\n<p>And the solution given was </p>\n\n<pre><code>    for(int k = 8; k &gt; 1; k--) {\n        for(int l = 1; l &lt; k - 1; l++){\n            System.out.print(l);\n        }\n        System.out.println();\n    }\n</code></pre>\n\n<p>I played with the values but I didn't understand the value of k = 8. wouldn't that mean the loop runs 7 times when k > 1 is true?  </p>\n\n<p><em>edit</em> I played around with the code and found out a lesser, more simplified code that made more sense to me, </p>\n\n<pre><code>    for(int k = 6; k &gt;= 0; k--) {\n        for(int l = 1; l &lt; k; l++){\n            System.out.print(l);\n        }\n        System.out.println();\n    }\n</code></pre>\n\n<p>It too gave me the same outcome. Is this way of logic more confusing to people or is it easier to understand?</p>\n"},{"tags":["java","android","kotlin","speech-to-text"],"owner":{"account_id":5887408,"reputation":559,"user_id":4634959,"accept_rate":27,"display_name":"Hassan Malik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653588808,"creation_date":1653588808,"question_id":72396280,"body_markdown":"I am successfully able to run offline speech to text model in android studio by using SpeechRecognizer and RecognizerIntent classes. But my problem is, I first want to record audio, do some post-processing on audio file and then I want speech to text results by passing that audio file. \r\nNote: I do not want to use any cloud based speech to text service.\r\n","title":"Can I use audio file for offline Speech to text in android studio?","body":"<p>I am successfully able to run offline speech to text model in android studio by using SpeechRecognizer and RecognizerIntent classes. But my problem is, I first want to record audio, do some post-processing on audio file and then I want speech to text results by passing that audio file.\nNote: I do not want to use any cloud based speech to text service.</p>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":971196,"reputation":24175,"user_id":993742,"display_name":"isnot2bad"},"score":1,"creation_date":1384113522,"post_id":19894395,"comment_id":29596442,"body_markdown":"Did you encrypt your question?","body":"Did you encrypt your question?"},{"owner":{"account_id":3565209,"reputation":25,"user_id":2976934,"display_name":"zohaibbadarpura"},"score":0,"creation_date":1384237013,"post_id":19894395,"comment_id":29644459,"body_markdown":"please check it again..","body":"please check it again.."}],"answers":[{"tags":[],"owner":{"account_id":3565209,"reputation":25,"user_id":2976934,"display_name":"zohaibbadarpura"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1384238062,"creation_date":1384238062,"answer_id":19922464,"question_id":19894395,"body_markdown":"Finally sort this problem on my own.....\r\n\r\n    import java.util.*;\r\n    import java.util.Scanner;  // needed for Scanner\r\n    \r\n    public class transpositionCipher\r\n    {\r\n    \r\n    public static void main(String args[]) \r\n    {\r\n    String key;\r\n    String message;\r\n    String encryptedMessage; \r\n    // Letters in the x-axis\r\n    int x=0; \r\n    // Letters in the y-axis\r\n    int y=0; \r\n    \r\n    \r\n    // Prompt the user\r\n    System.out.print( &quot;Type your Key : &quot; );\r\n    \r\n    \r\n    // Read a line of text from the user.\r\n    \r\n    Scanner scan = new Scanner(System.in);\r\n    key = scan.nextLine();\r\n    \r\n    // Display the input back to the user.\r\n    System.out.println( &quot;Your Key is &quot; + key );\r\n    \r\n    \r\n    //Prompt the user\r\n    System.out.print( &quot;Type your Message : &quot; );\r\n    \r\n    \r\n    //Read a line of text from the user.\r\n    message = scan.nextLine();\r\n    \r\n    //Display the input back to the user.\r\n    System.out.println( &quot;Your Message is &quot; + message );\r\n    \r\n    \r\n    int msgchar = message.length();\r\n    int keycahr = key.length();\r\n    \r\n    if (!((msgchar % keycahr) == 0)){\r\n    \r\n    do{\r\n    message = message + &quot;x&quot;;\r\n    msgchar = message.length();\r\n    }while(!((msgchar % keycahr) == 0));\r\n    \r\n    }\r\n    \r\n    \r\n    encryptedMessage = &quot;&quot;;\r\n    \r\n    // To set the temp as [x][y]\r\n    char temp[][]=new char [key.length()][message.length()];\r\n    char msg[] = message.toCharArray();\r\n    // To populate the array\r\n    x=0;\r\n    y=0;\r\n    // To convert the message into an array of char\r\n    for (int i=0; i&lt; msg.length;i++)\r\n    {\r\n    temp[x][y]=msg[i];\r\n    if (x==(key.length()-1)) \r\n    {\r\n    x=0;\r\n    y=y+1;\r\n    } // Close if \r\n    else \r\n    {\r\n    x++;\r\n    }\r\n    } // Close for loop\r\n    \r\n    // To sort the key\r\n    char t[]=new char [key.length()];\r\n    t=key.toCharArray();\r\n    Arrays.sort(t);\r\n    \r\n    for (int j=0;j&lt;y;j++)\r\n    {\r\n    for (int i=0;i&lt;key.length();i++)\r\n    {\r\n    System.out.print(temp[i][j]);\r\n    }\r\n    System.out.println();\r\n    }\r\n    \r\n    System.out.println();\r\n    \r\n    // To print out row by row (i.e. y)\r\n    for (int j=0;j&lt;y;j++){ \r\n    // To compare the the sorted Key with the key\r\n    // For char in the key\r\n    for (int i=0;i&lt;key.length();i++){ \r\n    int pos=0;\r\n    // To get the position of key.charAt(i) from sorted key\r\n    for (pos=0;pos&lt;t.length;pos++){ \r\n    if (key.charAt(i)==t[pos]){ \r\n    // To break the for loop once the key is found\r\n    break;\r\n    }\r\n    }\r\n    System.out.print(temp[pos][j]);\r\n    encryptedMessage+=temp[pos][j];\r\n    }\r\n    System.out.println();\r\n    }\r\n    \r\n    System.out.println(encryptedMessage);\r\n    System.exit(0);\r\n    }\r\n    }","title":"Row Transposition Cipher","body":"<p>Finally sort this problem on my own.....</p>\n\n<pre><code>import java.util.*;\nimport java.util.Scanner;  // needed for Scanner\n\npublic class transpositionCipher\n{\n\npublic static void main(String args[]) \n{\nString key;\nString message;\nString encryptedMessage; \n// Letters in the x-axis\nint x=0; \n// Letters in the y-axis\nint y=0; \n\n\n// Prompt the user\nSystem.out.print( \"Type your Key : \" );\n\n\n// Read a line of text from the user.\n\nScanner scan = new Scanner(System.in);\nkey = scan.nextLine();\n\n// Display the input back to the user.\nSystem.out.println( \"Your Key is \" + key );\n\n\n//Prompt the user\nSystem.out.print( \"Type your Message : \" );\n\n\n//Read a line of text from the user.\nmessage = scan.nextLine();\n\n//Display the input back to the user.\nSystem.out.println( \"Your Message is \" + message );\n\n\nint msgchar = message.length();\nint keycahr = key.length();\n\nif (!((msgchar % keycahr) == 0)){\n\ndo{\nmessage = message + \"x\";\nmsgchar = message.length();\n}while(!((msgchar % keycahr) == 0));\n\n}\n\n\nencryptedMessage = \"\";\n\n// To set the temp as [x][y]\nchar temp[][]=new char [key.length()][message.length()];\nchar msg[] = message.toCharArray();\n// To populate the array\nx=0;\ny=0;\n// To convert the message into an array of char\nfor (int i=0; i&lt; msg.length;i++)\n{\ntemp[x][y]=msg[i];\nif (x==(key.length()-1)) \n{\nx=0;\ny=y+1;\n} // Close if \nelse \n{\nx++;\n}\n} // Close for loop\n\n// To sort the key\nchar t[]=new char [key.length()];\nt=key.toCharArray();\nArrays.sort(t);\n\nfor (int j=0;j&lt;y;j++)\n{\nfor (int i=0;i&lt;key.length();i++)\n{\nSystem.out.print(temp[i][j]);\n}\nSystem.out.println();\n}\n\nSystem.out.println();\n\n// To print out row by row (i.e. y)\nfor (int j=0;j&lt;y;j++){ \n// To compare the the sorted Key with the key\n// For char in the key\nfor (int i=0;i&lt;key.length();i++){ \nint pos=0;\n// To get the position of key.charAt(i) from sorted key\nfor (pos=0;pos&lt;t.length;pos++){ \nif (key.charAt(i)==t[pos]){ \n// To break the for loop once the key is found\nbreak;\n}\n}\nSystem.out.print(temp[pos][j]);\nencryptedMessage+=temp[pos][j];\n}\nSystem.out.println();\n}\n\nSystem.out.println(encryptedMessage);\nSystem.exit(0);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25399116,"reputation":1,"user_id":19208922,"display_name":"Ritik Prasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653588692,"creation_date":1653588692,"answer_id":72396259,"question_id":19894395,"body_markdown":"public static void main(String args[]) {\r\n\r\n\t\tSystem.out.print(&quot;Type your Key : &quot;);\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tString key = scan.nextLine();\r\n\t\tSystem.out.print(&quot;Type your Message : &quot;);\r\n\t\tString message = scan.nextLine();\r\n\t\tint msgchar = message.length();\r\n\t\tint l = key.length();\r\n\r\n\t\tif (!((msgchar % l) == 0)) {\r\n\r\n\t\t\tdo {\r\n\t\t\t\tmessage = message + &quot;x&quot;;\r\n\t\t\t\tmsgchar = message.length();\r\n\t\t\t} while (!((msgchar % l) == 0));\r\n\r\n\t\t}\r\n\t\tString ans = &quot;&quot;;\r\n\r\n\t\tchar temp[][] = new char[key.length()][message.length()];\r\n\t\tchar msg[] = message.toCharArray();\r\n\t\tint x = 0;\r\n\t\tint y = 0;\r\n\t\tfor (int i = 0; i &lt; msg.length; i++) {\r\n\t\t\tif (msg[i] == &#39; &#39;)\r\n\t\t\t\ttemp[x][y] = &#39;_&#39;;\r\n\t\t\telse\r\n\t\t\t\ttemp[x][y] = msg[i];\r\n\t\t\tif (y == (key.length() - 1)) {\r\n\t\t\t\ty = 0;\r\n\t\t\t\tx = x + 1;\r\n\t\t\t} else {\r\n\t\t\t\ty++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tchar t[] = key.toCharArray();\r\n\t\tArrays.sort(t);\r\n\r\n\t\tfor (int j = 0; j &lt; x; j++) {\r\n\t\t\tfor (int i = 0; i &lt; key.length(); i++) {\r\n\t\t\t\tSystem.out.print(temp[j][i]);\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t\tfor (int i = 0; i &lt; t.length; i++) {\r\n\t\t\tint pos = find(key, t[i]);\r\n\t\t\tfor (int j = 0; j &lt; x; j++) {\r\n\t\t\t\tans += temp[j][pos];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tSystem.out.println(ans);\r\n\t\tSystem.exit(0);\r\n\t}\r\n\r\n\tprivate static int find(String key, char c) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tfor (int i = 0; i &lt; key.length(); i++) {\r\n\t\t\tif (key.charAt(i) == c) {\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn 0;\r\n\t}","title":"Row Transposition Cipher","body":"<p>public static void main(String args[]) {</p>\n<pre><code>    System.out.print(&quot;Type your Key : &quot;);\n    Scanner scan = new Scanner(System.in);\n    String key = scan.nextLine();\n    System.out.print(&quot;Type your Message : &quot;);\n    String message = scan.nextLine();\n    int msgchar = message.length();\n    int l = key.length();\n\n    if (!((msgchar % l) == 0)) {\n\n        do {\n            message = message + &quot;x&quot;;\n            msgchar = message.length();\n        } while (!((msgchar % l) == 0));\n\n    }\n    String ans = &quot;&quot;;\n\n    char temp[][] = new char[key.length()][message.length()];\n    char msg[] = message.toCharArray();\n    int x = 0;\n    int y = 0;\n    for (int i = 0; i &lt; msg.length; i++) {\n        if (msg[i] == ' ')\n            temp[x][y] = '_';\n        else\n            temp[x][y] = msg[i];\n        if (y == (key.length() - 1)) {\n            y = 0;\n            x = x + 1;\n        } else {\n            y++;\n        }\n    }\n\n    char t[] = key.toCharArray();\n    Arrays.sort(t);\n\n    for (int j = 0; j &lt; x; j++) {\n        for (int i = 0; i &lt; key.length(); i++) {\n            System.out.print(temp[j][i]);\n        }\n        System.out.println();\n    }\n    for (int i = 0; i &lt; t.length; i++) {\n        int pos = find(key, t[i]);\n        for (int j = 0; j &lt; x; j++) {\n            ans += temp[j][pos];\n        }\n    }\n\n    System.out.println(ans);\n    System.exit(0);\n}\n\nprivate static int find(String key, char c) {\n    // TODO Auto-generated method stub\n    for (int i = 0; i &lt; key.length(); i++) {\n        if (key.charAt(i) == c) {\n            return i;\n        }\n\n    }\n    return 0;\n}\n</code></pre>\n"}],"owner":{"account_id":3565209,"reputation":25,"user_id":2976934,"display_name":"zohaibbadarpura"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17968,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":19922464,"answer_count":2,"score":-3,"last_activity_date":1653588692,"creation_date":1384113439,"question_id":19894395,"body_markdown":"I am trying to write a program to implement a transposition cipher. When the user provides the key &#39;TAPE&#39; and the message &quot;HelloworldMessage&quot; my program is only showing only `Hell`, `owor`, `ldMe` and `ssag` and skipping the last &quot;e&quot; from &quot;message,&quot; which is wrong. The output should be:\r\n\r\n    Hell\r\n    owor\r\n    ldMe\r\n    ssag\r\n    exxx\r\n\r\nand `xxx` should complete the message before encrypting. What am I doing wrong?\r\n\r\n    import java.util.*;\r\n    import java.util.Scanner;  // needed for Scanner\r\n    \r\n    public class transpositionCipher\r\n    {\r\n    \r\n    public static void main(String args[]) \r\n    {\r\n    String key;\r\n    String message;\r\n    String encryptedMessage; \r\n    // Letters in the x-axis\r\n    int x=0; \r\n    // Letters in the y-axis\r\n    int y=0; \r\n    \r\n    \r\n    // Prompt the user\r\n    System.out.print( &quot;Type your Key : &quot; );\r\n    \r\n    \r\n    // Read a line of text from the user.\r\n    \r\n    Scanner scan = new Scanner(System.in);\r\n    key = scan.nextLine();\r\n    \r\n    // Display the input back to the user.\r\n    System.out.println( &quot;Your Key is &quot; + key );\r\n    \r\n    \r\n    //Prompt the user\r\n    System.out.print( &quot;Type your Message : &quot; );\r\n    \r\n    \r\n    //Read a line of text from the user.\r\n    message = scan.nextLine();\r\n    \r\n    //Display the input back to the user.\r\n    System.out.println( &quot;Your Message is &quot; + message );\r\n    \r\n    \r\n    \r\n    encryptedMessage = &quot;&quot;;\r\n    \r\n    // To set the temp as [x][y]\r\n    char temp[][]=new char [key.length()][message.length()];\r\n    char msg[] = message.toCharArray();\r\n    // To populate the array\r\n    x=0;\r\n    y=0;\r\n    // To convert the message into an array of char\r\n    for (int i=0; i&lt; msg.length;i++)\r\n    {\r\n    temp[x][y]=msg[i];\r\n    if (x==(key.length()-1)) \r\n    {\r\n    x=0;\r\n    y=y+1;\r\n    } // Close if \r\n    else \r\n    {\r\n    x++;\r\n    }\r\n    } // Close for loop\r\n    \r\n    // To sort the key\r\n    char t[]=new char [key.length()];\r\n    t=key.toCharArray();\r\n    Arrays.sort(t);\r\n    \r\n    for (int j=0;j&lt;y;j++)\r\n    {\r\n    for (int i=0;i&lt;key.length();i++)\r\n    {\r\n    System.out.print(temp[i][j]);\r\n    }\r\n    System.out.println();\r\n    }\r\n    \r\n    System.out.println();\r\n    \r\n    // To print out row by row (i.e. y)\r\n    for (int j=0;j&lt;y;j++){ \r\n    // To compare the the sorted Key with the key\r\n    // For char in the key\r\n    for (int i=0;i&lt;key.length();i++){ \r\n    int pos=0;\r\n    // To get the position of key.charAt(i) from sorted key\r\n    for (pos=0;pos&lt;t.length;pos++){ \r\n    if (key.charAt(i)==t[pos]){ \r\n    // To break the for loop once the key is found\r\n    break;\r\n    }\r\n    }\r\n    System.out.print(temp[pos][j]);\r\n    encryptedMessage+=temp[pos][j];\r\n    }\r\n    System.out.println();\r\n    }\r\n    \r\n    System.out.println(encryptedMessage);\r\n    System.exit(0);\r\n    }\r\n    }\r\n\r\n**OUTPUT**\r\n\r\n    Type your Key : tape\r\n    Your Key is tape\r\n    Type your Message : HelloworldMessage\r\n    Your Message is HelloworldMessage\r\n    Hell\r\n    owor\r\n    ldMe\r\n    ssag\r\n    \r\n    lHle\r\n    roow\r\n    elMd\r\n    gsas\r\n    lHleroowelMdgsas\r\n\r\n\r\n\r\n","title":"Row Transposition Cipher","body":"<p>I am trying to write a program to implement a transposition cipher. When the user provides the key 'TAPE' and the message \"HelloworldMessage\" my program is only showing only <code>Hell</code>, <code>owor</code>, <code>ldMe</code> and <code>ssag</code> and skipping the last \"e\" from \"message,\" which is wrong. The output should be:</p>\n\n<pre><code>Hell\nowor\nldMe\nssag\nexxx\n</code></pre>\n\n<p>and <code>xxx</code> should complete the message before encrypting. What am I doing wrong?</p>\n\n<pre><code>import java.util.*;\nimport java.util.Scanner;  // needed for Scanner\n\npublic class transpositionCipher\n{\n\npublic static void main(String args[]) \n{\nString key;\nString message;\nString encryptedMessage; \n// Letters in the x-axis\nint x=0; \n// Letters in the y-axis\nint y=0; \n\n\n// Prompt the user\nSystem.out.print( \"Type your Key : \" );\n\n\n// Read a line of text from the user.\n\nScanner scan = new Scanner(System.in);\nkey = scan.nextLine();\n\n// Display the input back to the user.\nSystem.out.println( \"Your Key is \" + key );\n\n\n//Prompt the user\nSystem.out.print( \"Type your Message : \" );\n\n\n//Read a line of text from the user.\nmessage = scan.nextLine();\n\n//Display the input back to the user.\nSystem.out.println( \"Your Message is \" + message );\n\n\n\nencryptedMessage = \"\";\n\n// To set the temp as [x][y]\nchar temp[][]=new char [key.length()][message.length()];\nchar msg[] = message.toCharArray();\n// To populate the array\nx=0;\ny=0;\n// To convert the message into an array of char\nfor (int i=0; i&lt; msg.length;i++)\n{\ntemp[x][y]=msg[i];\nif (x==(key.length()-1)) \n{\nx=0;\ny=y+1;\n} // Close if \nelse \n{\nx++;\n}\n} // Close for loop\n\n// To sort the key\nchar t[]=new char [key.length()];\nt=key.toCharArray();\nArrays.sort(t);\n\nfor (int j=0;j&lt;y;j++)\n{\nfor (int i=0;i&lt;key.length();i++)\n{\nSystem.out.print(temp[i][j]);\n}\nSystem.out.println();\n}\n\nSystem.out.println();\n\n// To print out row by row (i.e. y)\nfor (int j=0;j&lt;y;j++){ \n// To compare the the sorted Key with the key\n// For char in the key\nfor (int i=0;i&lt;key.length();i++){ \nint pos=0;\n// To get the position of key.charAt(i) from sorted key\nfor (pos=0;pos&lt;t.length;pos++){ \nif (key.charAt(i)==t[pos]){ \n// To break the for loop once the key is found\nbreak;\n}\n}\nSystem.out.print(temp[pos][j]);\nencryptedMessage+=temp[pos][j];\n}\nSystem.out.println();\n}\n\nSystem.out.println(encryptedMessage);\nSystem.exit(0);\n}\n}\n</code></pre>\n\n<p><strong>OUTPUT</strong></p>\n\n<pre><code>Type your Key : tape\nYour Key is tape\nType your Message : HelloworldMessage\nYour Message is HelloworldMessage\nHell\nowor\nldMe\nssag\n\nlHle\nroow\nelMd\ngsas\nlHleroowelMdgsas\n</code></pre>\n"},{"tags":["java","sql","oracle"],"answers":[{"tags":[],"owner":{"account_id":77857,"reputation":12130,"user_id":221951,"accept_rate":47,"display_name":"Piotr Gwiazda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637267432,"creation_date":1637267432,"answer_id":70026334,"question_id":70026296,"body_markdown":"You can use INSERT INTO SELECT statement https://www.oracletutorial.com/oracle-basics/oracle-insert-into-select/","title":"How do I migrate data from my old schema database to New schema with different database connection","body":"<p>You can use INSERT INTO SELECT statement <a href=\"https://www.oracletutorial.com/oracle-basics/oracle-insert-into-select/\" rel=\"nofollow noreferrer\">https://www.oracletutorial.com/oracle-basics/oracle-insert-into-select/</a></p>\n"}],"owner":{"account_id":9577034,"reputation":99,"user_id":11437467,"display_name":"Satya Ram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653588652,"creation_date":1637267255,"question_id":70026296,"body_markdown":"How do I migrate data inside tables belonging to a Schema A of database A to Tables belonging To schema B of Database B in a mvn project?\r\nCan someone tell me the ways to do it? \r\n\r\nI have already written a few SQL scripts and executed them in the SQL editor of Schema A (I just wanted to check if the scripts I have written are correct! So, I created tables belonging to schema B inside schema A) Now how do I actually perform this operation of migrating from tables of schema A to tables of schema B in Java way only?\r\n\r\nNote: the design of these tables has been changed hence belong to different schemas across different dbs. ","title":"How do I migrate data from my old schema database to New schema with different database connection","body":"<p>How do I migrate data inside tables belonging to a Schema A of database A to Tables belonging To schema B of Database B in a mvn project?\nCan someone tell me the ways to do it?</p>\n<p>I have already written a few SQL scripts and executed them in the SQL editor of Schema A (I just wanted to check if the scripts I have written are correct! So, I created tables belonging to schema B inside schema A) Now how do I actually perform this operation of migrating from tables of schema A to tables of schema B in Java way only?</p>\n<p>Note: the design of these tables has been changed hence belong to different schemas across different dbs.</p>\n"},{"tags":["java","quarkus"],"owner":{"account_id":23385639,"reputation":11,"user_id":17451053,"display_name":"Shonayev Shyngys"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653588592,"creation_date":1637267301,"question_id":70026305,"body_markdown":"I have a jni library in my project. I have no problem with loading it in the project on start up of quarkus, but when I change something in the code, it triggers hot reload and tries to load the same library again.\r\n```\r\n@Startup\r\npublic class StartUpService {\r\n\r\n    void onStart(@Observes StartupEvent ev) {\r\n        try {\r\n            loadCoreLibrary();\r\n        }\r\n        catch (Exception ex)\r\n        {\r\n            Log.error(&quot;Couldn&#39;t load libraries &quot;, ex);\r\n            Quarkus.asyncExit();\r\n        }\r\n    }\r\n```\r\n\r\nIs it possible to load it only once or it&#39;s better not to use hot reload for dev purposes in my case?","title":"Loading native libraries in Quarkus only once in dev mode","body":"<p>I have a jni library in my project. I have no problem with loading it in the project on start up of quarkus, but when I change something in the code, it triggers hot reload and tries to load the same library again.</p>\n<pre><code>@Startup\npublic class StartUpService {\n\n    void onStart(@Observes StartupEvent ev) {\n        try {\n            loadCoreLibrary();\n        }\n        catch (Exception ex)\n        {\n            Log.error(&quot;Couldn't load libraries &quot;, ex);\n            Quarkus.asyncExit();\n        }\n    }\n</code></pre>\n<p>Is it possible to load it only once or it's better not to use hot reload for dev purposes in my case?</p>\n"},{"tags":["java","android","html"],"answers":[{"tags":[],"owner":{"account_id":13518167,"reputation":773,"user_id":9752209,"display_name":"Omkar T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637670209,"creation_date":1637645693,"answer_id":70075863,"question_id":70026308,"body_markdown":"Try this\r\n\r\n       editText.setOnEditorActionListener(new TextView.OnEditorActionListener() {\r\n                    @Override\r\n                    public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {\r\n                        boolean handled = false;\r\n                        if((actionId == EditorInfo.IME_ACTION_SEARCH\r\n                || actionId == EditorInfo.IME_ACTION_DONE\r\n                || event.getAction() == KeyEvent.ACTION_DOWN\r\n                &amp;&amp; event.getKeyCode() == KeyEvent.KEYCODE_ENTER) {\r\n                            myWebView.loadUrl(editText.getText().toString());\r\n                            handled = true;\r\n                        }\r\n                        return handled;\r\n                    }\r\n                });\r\n","title":"How do I create an application from my site?","body":"<p>Try this</p>\n<pre><code>   editText.setOnEditorActionListener(new TextView.OnEditorActionListener() {\n                @Override\n                public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {\n                    boolean handled = false;\n                    if((actionId == EditorInfo.IME_ACTION_SEARCH\n            || actionId == EditorInfo.IME_ACTION_DONE\n            || event.getAction() == KeyEvent.ACTION_DOWN\n            &amp;&amp; event.getKeyCode() == KeyEvent.KEYCODE_ENTER) {\n                        myWebView.loadUrl(editText.getText().toString());\n                        handled = true;\n                    }\n                    return handled;\n                }\n            });\n</code></pre>\n"}],"owner":{"account_id":23384878,"reputation":11,"user_id":17450396,"display_name":"Soroush Ebrahimi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1653588531,"creation_date":1637267310,"question_id":70026308,"body_markdown":"When I get a web view output for my site, nothing happens after entering the number and clicking the button to send the verification code.\r\n\r\nBut when I enter the URL in each browser and after entering the number click on the button, I get the confirmation code.\r\nmy address URL: https://app.my30t.ir/login\r\nI&#39;ve recently tried testing sample browser source code in GitHub but I don&#39;t get a normal result. please guide me. \r\n```\r\npublic class MainActivity extends ActionBarActivity {\r\n\r\n    private WebView myWebView;\r\n    private EditText editText;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        myWebView = (WebView) findViewById(R.id.activity_main_webview);\r\n        WebSettings webSettings = myWebView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n        myWebView.loadUrl(&quot;https://app.my30t.ir/login&quot;);\r\n        myWebView.setWebViewClient(new WebViewClient());\r\n        myWebView.setWebViewClient(new TutorialWebViewClient());\r\n        editText = (EditText) findViewById(R.id.editText);\r\n        editText.setOnEditorActionListener(new TextView.OnEditorActionListener() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic boolean onEditorAction(TextView v, int actionId, KeyEvent event) {\r\n\t\t\t\t\tboolean handled = false;\r\n\t\t\t\t\tif(actionId == EditorInfo.IME_ACTION_SEND) {\r\n\t\t\t\t\t\tmyWebView.loadUrl(editText.getText().toString());\r\n\t\t\t\t\t\thandled = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn handled;\r\n\t\t\t\t}\r\n\t\t\t});\r\n    }\r\n}\r\n\r\n```","title":"How do I create an application from my site?","body":"<p>When I get a web view output for my site, nothing happens after entering the number and clicking the button to send the verification code.</p>\n<p>But when I enter the URL in each browser and after entering the number click on the button, I get the confirmation code.\nmy address URL: <a href=\"https://app.my30t.ir/login\" rel=\"nofollow noreferrer\">https://app.my30t.ir/login</a>\nI've recently tried testing sample browser source code in GitHub but I don't get a normal result. please guide me.</p>\n<pre><code>public class MainActivity extends ActionBarActivity {\n\n    private WebView myWebView;\n    private EditText editText;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        myWebView = (WebView) findViewById(R.id.activity_main_webview);\n        WebSettings webSettings = myWebView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        myWebView.loadUrl(&quot;https://app.my30t.ir/login&quot;);\n        myWebView.setWebViewClient(new WebViewClient());\n        myWebView.setWebViewClient(new TutorialWebViewClient());\n        editText = (EditText) findViewById(R.id.editText);\n        editText.setOnEditorActionListener(new TextView.OnEditorActionListener() {\n                @Override\n                public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {\n                    boolean handled = false;\n                    if(actionId == EditorInfo.IME_ACTION_SEND) {\n                        myWebView.loadUrl(editText.getText().toString());\n                        handled = true;\n                    }\n                    return handled;\n                }\n            });\n    }\n}\n\n</code></pre>\n"},{"tags":["java","mysql","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1637306943,"post_id":70026346,"comment_id":123796105,"body_markdown":"Why do you have to *declare* `LinkedHashMap` on your side?","body":"Why do you have to <i>declare</i> <code>LinkedHashMap</code> on your side?"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637336264,"creation_date":1637271153,"answer_id":70027006,"question_id":70026346,"body_markdown":"Both of these approaches are assuming you&#39;re using the [jOOQ code generator][1]\r\n\r\n### `fetchMap()` already returns a `LinkedHashMap`\r\n\r\nCheck out the [`fetchMap()`][2] Javadoc. It says:\r\n\r\n&gt; The resulting map is iteration order preserving.\r\n\r\nIt&#39;s effectively a `LinkedHashMap`, though it doesn&#39;t guarantee this exact type, so you&#39;d have to downcast at your own risk.\r\n\r\n### Using `collect()`\r\n\r\nIf you write a query that produces a `Record2` type, then you can use a type safe collector like this:\r\n\r\n```java\r\nLinkedHashMap&lt;T1, T2&gt; map =\r\nctx.select(T.COL1, T.COL2)\r\n   .from(T)\r\n   .orderBy(...)\r\n   .collect(Collectors.toMap(\r\n       Record2::value1,\r\n       Record2::value2,\r\n       (v1, v2) -&gt; { throw new InvalidResultException(&quot;Duplicate key: &quot; + v1); },\r\n       LinkedHashMap::new\r\n   ));\r\n```\r\n\r\nThe reason your attempt didn&#39;t compile was:\r\n\r\n1. You were missing the mandatory `mergeFunction` argument of `toMap()`\r\n2. You should be using `value1()` and `value2()`, instead of `field1()`, `field2()`, but that only works if you have a type safe `Record2` in your result set\r\n3. If you don&#39;t have `Record2`, but `Record` instead, then you can work without type safety:\r\n\r\n\r\n```java\r\nLinkedHashMap&lt;T1, T2&gt; map =\r\nctx.select(...)\r\n   .from(T)\r\n   .orderBy(...)\r\n   .collect(Collectors.toMap(\r\n       r -&gt; r.get(T.COL1),\r\n       r -&gt; r.get(T.COL2),\r\n       (v1, v2) -&gt; { throw new InvalidResultException(&quot;Duplicate key: &quot; + v1); },\r\n       LinkedHashMap::new\r\n   ));\r\n```\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/code-generation/\r\n  [2]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/ResultQuery.html#fetchMap(org.jooq.Field,org.jooq.Field)","title":"In Jooq, how to fetch into LinkedHashMap?","body":"<p>Both of these approaches are assuming you're using the <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/\" rel=\"nofollow noreferrer\">jOOQ code generator</a></p>\n<h3><code>fetchMap()</code> already returns a <code>LinkedHashMap</code></h3>\n<p>Check out the <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/ResultQuery.html#fetchMap(org.jooq.Field,org.jooq.Field)\" rel=\"nofollow noreferrer\"><code>fetchMap()</code></a> Javadoc. It says:</p>\n<blockquote>\n<p>The resulting map is iteration order preserving.</p>\n</blockquote>\n<p>It's effectively a <code>LinkedHashMap</code>, though it doesn't guarantee this exact type, so you'd have to downcast at your own risk.</p>\n<h3>Using <code>collect()</code></h3>\n<p>If you write a query that produces a <code>Record2</code> type, then you can use a type safe collector like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LinkedHashMap&lt;T1, T2&gt; map =\nctx.select(T.COL1, T.COL2)\n   .from(T)\n   .orderBy(...)\n   .collect(Collectors.toMap(\n       Record2::value1,\n       Record2::value2,\n       (v1, v2) -&gt; { throw new InvalidResultException(&quot;Duplicate key: &quot; + v1); },\n       LinkedHashMap::new\n   ));\n</code></pre>\n<p>The reason your attempt didn't compile was:</p>\n<ol>\n<li>You were missing the mandatory <code>mergeFunction</code> argument of <code>toMap()</code></li>\n<li>You should be using <code>value1()</code> and <code>value2()</code>, instead of <code>field1()</code>, <code>field2()</code>, but that only works if you have a type safe <code>Record2</code> in your result set</li>\n<li>If you don't have <code>Record2</code>, but <code>Record</code> instead, then you can work without type safety:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>LinkedHashMap&lt;T1, T2&gt; map =\nctx.select(...)\n   .from(T)\n   .orderBy(...)\n   .collect(Collectors.toMap(\n       r -&gt; r.get(T.COL1),\n       r -&gt; r.get(T.COL2),\n       (v1, v2) -&gt; { throw new InvalidResultException(&quot;Duplicate key: &quot; + v1); },\n       LinkedHashMap::new\n   ));\n</code></pre>\n"}],"owner":{"account_id":16275079,"reputation":1090,"user_id":11752443,"display_name":"powerseed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70027006,"answer_count":1,"score":1,"last_activity_date":1653588460,"creation_date":1637267461,"question_id":70026346,"body_markdown":"I know that to fetch into `Map` I can use `fetchMap`, but it doesn&#39;t support `LinkedHashMap`, where I want to maintain the insertion order created by `orderBy`.\r\n\r\nI tried \r\n```\r\n.\r\n.\r\n.\r\n.orderBy(...)\r\n.collect(\r\n    Collectors.toMap(\r\n        record -&gt; record.field1(), \r\n        record -&gt; record.field2(), \r\n        LinkedHashMap.class));\r\n```\r\nbut the `field1` and `field2` parts gave me the following error.\r\n\r\n&gt; Cannot resolve method &#39;field1&#39; in &#39;T&#39;\r\n\r\nHope someone can help me~\r\n\r\nThanks!\r\n\r\n**Solution:**\r\n\r\nBased on @Lukas&#39; answer, I tried several times and found the following points must be done:\r\n\r\n1. In the `select` method, all fields must have a type, except those calculated, where adding a type will throw `field not found in field list` error.\r\n  \r\n2. To add a type to a field, you have to use `DSL.field(fieldname, type)` method instead of `DSL.field(fieldname).cast(type)`. The latter will throw `field not found in field list` error.\r\n\r\n3. In `collect` method&#39;s `collector` object, when getting each field of a record, they must have a type as well. Like \r\n```\r\nrecord -&gt; record.get(DSL.field(&quot;fieldname&quot;, Float.class)),\r\n```\r\n\r\nThe complete query will be something like:\r\n\r\n```\r\nTable&lt;Record2&lt;Long, Integer&gt;&gt; table1 = ...;\r\nTable&lt;Record2&lt;Long, Integer&gt;&gt; table2 = ...;\r\n.\r\n.\r\n.\r\nreturn DSL.\r\n\t\t.select(table1.field(&quot;table1_field1&quot;, Long.class),\r\n\t\t\t\tDSL.ifnull(\r\n\t\t\t\t\t\ttable1.field(&quot;table1_field2&quot;, Float.class)\r\n\t\t\t\t\t\t\t\t.div(table2.field(&quot;table2_field1&quot;, Float.class)),\r\n\t\t\t\t\t\t0)\r\n\t\t\t\t\t\t.as(&quot;result_table_field1&quot;))\r\n\t\t.from(table1)\r\n\t\t.join(table2)\r\n\t\t\t.on(table1.field(&quot;table1_field1&quot;, Long.class)\r\n\t\t\t\t\t.eq(table2.field(&quot;table2_field2&quot;, Long.class)))\r\n\t\t.orderBy(DSL.field(&quot;result_table_field1&quot;))\r\n\t\t.collect(Collectors.toMap(\r\n\t\t\t\trecord -&gt; record.get(table1.field(&quot;table1_field1&quot;, Long.class)),\r\n\t\t\t\trecord -&gt; record.get(DSL.field(&quot;result_table_field1&quot;, Float.class)),\r\n\t\t\t\t(v1, v2) -&gt; { throw new InvalidResultException(&quot;Duplicate key: &quot; + v1); },\r\n\t\t\t\tLinkedHashMap::new\r\n\t\t));\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/nt3PU.png\r\n  [2]: https://i.stack.imgur.com/hjqdX.png","title":"In Jooq, how to fetch into LinkedHashMap?","body":"<p>I know that to fetch into <code>Map</code> I can use <code>fetchMap</code>, but it doesn't support <code>LinkedHashMap</code>, where I want to maintain the insertion order created by <code>orderBy</code>.</p>\n<p>I tried</p>\n<pre><code>.\n.\n.\n.orderBy(...)\n.collect(\n    Collectors.toMap(\n        record -&gt; record.field1(), \n        record -&gt; record.field2(), \n        LinkedHashMap.class));\n</code></pre>\n<p>but the <code>field1</code> and <code>field2</code> parts gave me the following error.</p>\n<blockquote>\n<p>Cannot resolve method 'field1' in 'T'</p>\n</blockquote>\n<p>Hope someone can help me~</p>\n<p>Thanks!</p>\n<p><strong>Solution:</strong></p>\n<p>Based on @Lukas' answer, I tried several times and found the following points must be done:</p>\n<ol>\n<li><p>In the <code>select</code> method, all fields must have a type, except those calculated, where adding a type will throw <code>field not found in field list</code> error.</p>\n</li>\n<li><p>To add a type to a field, you have to use <code>DSL.field(fieldname, type)</code> method instead of <code>DSL.field(fieldname).cast(type)</code>. The latter will throw <code>field not found in field list</code> error.</p>\n</li>\n<li><p>In <code>collect</code> method's <code>collector</code> object, when getting each field of a record, they must have a type as well. Like</p>\n</li>\n</ol>\n<pre><code>record -&gt; record.get(DSL.field(&quot;fieldname&quot;, Float.class)),\n</code></pre>\n<p>The complete query will be something like:</p>\n<pre><code>Table&lt;Record2&lt;Long, Integer&gt;&gt; table1 = ...;\nTable&lt;Record2&lt;Long, Integer&gt;&gt; table2 = ...;\n.\n.\n.\nreturn DSL.\n        .select(table1.field(&quot;table1_field1&quot;, Long.class),\n                DSL.ifnull(\n                        table1.field(&quot;table1_field2&quot;, Float.class)\n                                .div(table2.field(&quot;table2_field1&quot;, Float.class)),\n                        0)\n                        .as(&quot;result_table_field1&quot;))\n        .from(table1)\n        .join(table2)\n            .on(table1.field(&quot;table1_field1&quot;, Long.class)\n                    .eq(table2.field(&quot;table2_field2&quot;, Long.class)))\n        .orderBy(DSL.field(&quot;result_table_field1&quot;))\n        .collect(Collectors.toMap(\n                record -&gt; record.get(table1.field(&quot;table1_field1&quot;, Long.class)),\n                record -&gt; record.get(DSL.field(&quot;result_table_field1&quot;, Float.class)),\n                (v1, v2) -&gt; { throw new InvalidResultException(&quot;Duplicate key: &quot; + v1); },\n                LinkedHashMap::new\n        ));\n</code></pre>\n"},{"tags":["java","swing","user-interface","fonts"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":5,"creation_date":1637269271,"post_id":70026562,"comment_id":123788371,"body_markdown":"Each type of component may have a different font, so usually you want to base the font on a particular component’s default font.  See https://stackoverflow.com/questions/25054203/how-to-set-font-weight-in-java-for-swing-components.","body":"Each type of component may have a different font, so usually you want to base the font on a particular component’s default font.  See <a href=\"https://stackoverflow.com/questions/25054203/how-to-set-font-weight-in-java-for-swing-components\" title=\"how to set font weight in java for swing components\">stackoverflow.com/questions/25054203/&hellip;</a>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1637270204,"post_id":70026562,"comment_id":123788666,"body_markdown":"only eventually **a** is returning as required *&quot;the current font used by my GUI&quot;*, and only for that given somethingExtendsAwtComponent - the others are returning some default font (**c** not even the default from the current L&amp;F)","body":"only eventually <b>a</b> is returning as required <i>&quot;the current font used by my GUI&quot;</i>, and only for that given somethingExtendsAwtComponent - the others are returning some default font (<b>c</b> not even the default from the current L&amp;F)"},{"owner":{"account_id":9714769,"reputation":394,"user_id":7205551,"accept_rate":50,"display_name":"mindoverflow"},"score":0,"creation_date":1637318707,"post_id":70026562,"comment_id":123800215,"body_markdown":"@Abra Preferably in any Swing component that is somehow labeled (JButtons, JLabels, TitledBorders, etc...). These examples are my concrete use cases.","body":"@Abra Preferably in any Swing component that is somehow labeled (JButtons, JLabels, TitledBorders, etc...). These examples are my concrete use cases."},{"owner":{"account_id":9714769,"reputation":394,"user_id":7205551,"accept_rate":50,"display_name":"mindoverflow"},"score":0,"creation_date":1637319042,"post_id":70026562,"comment_id":123800342,"body_markdown":"@VGR So I have to get the default font of every relevant object and then modify it?","body":"@VGR So I have to get the default font of every relevant object and then modify it?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1637333402,"post_id":70026562,"comment_id":123805755,"body_markdown":"Essentially, yes.  You can write a single recursive method to traverse a window or other component hierarchy, updating each traversed component’s font.  Are you sure you want to do this?  There is a reason desktop environments don’t use bold fonts by default.  Bold fonts are hard to read.","body":"Essentially, yes.  You can write a single recursive method to traverse a window or other component hierarchy, updating each traversed component’s font.  Are you sure you want to do this?  There is a reason desktop environments don’t use bold fonts by default.  Bold fonts are hard to read."}],"owner":{"account_id":9714769,"reputation":394,"user_id":7205551,"accept_rate":50,"display_name":"mindoverflow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1653588300,"creation_date":1637268587,"question_id":70026562,"body_markdown":"I&#39;d like to get the current font used by my GUI to create a bold version of it. Which of the following solutions is to be preferred using pure Swing and why? \r\n\r\n```\r\nFont font = ...\r\n````\r\n\r\n1. `somethingExtendsAwtComponent.getFont();`\r\n1. `UIManager.getLookAndFeel().getDefaults().getFont(&quot;defaultFont&quot;);`\r\n1. `UIManager.getLookAndFeelDefaults().getFont(&quot;defaultFont&quot;);`\r\n1. `UIManager.getDefaults().getFont(&quot;defaultFont&quot;);`\r\n\r\nThe Javadocs are not very helpful, only saying that 4. is to be used instead of 3. because alterations on the `UIDefaults` object returned can result in incorrect behavior, something that isn&#39;t the case here.","title":"Correctly getting the current font in Swing","body":"<p>I'd like to get the current font used by my GUI to create a bold version of it. Which of the following solutions is to be preferred using pure Swing and why?</p>\n<pre><code>Font font = ...\n</code></pre>\n<ol>\n<li><code>somethingExtendsAwtComponent.getFont();</code></li>\n<li><code>UIManager.getLookAndFeel().getDefaults().getFont(&quot;defaultFont&quot;);</code></li>\n<li><code>UIManager.getLookAndFeelDefaults().getFont(&quot;defaultFont&quot;);</code></li>\n<li><code>UIManager.getDefaults().getFont(&quot;defaultFont&quot;);</code></li>\n</ol>\n<p>The Javadocs are not very helpful, only saying that 4. is to be used instead of 3. because alterations on the <code>UIDefaults</code> object returned can result in incorrect behavior, something that isn't the case here.</p>\n"},{"tags":["java","guava","guice"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1637272023,"post_id":70026955,"comment_id":123789251,"body_markdown":"I&#39;d be very surprised if there was.","body":"I&#39;d be very surprised if there was."},{"owner":{"account_id":77263,"reputation":2391,"user_id":220647,"accept_rate":80,"display_name":"chepukha"},"score":0,"creation_date":1637279447,"post_id":70026955,"comment_id":123791016,"body_markdown":"so I can have a `@Provides` method that returns a `Table&lt;K1, K2, V&gt;`, but I don&#39;t want to instantiate different object of type V. I want to rely on Guice to do DI and create objects when needed. What&#39;s the best way to do it with Table?","body":"so I can have a <code>@Provides</code> method that returns a <code>Table&lt;K1, K2, V&gt;</code>, but I don&#39;t want to instantiate different object of type V. I want to rely on Guice to do DI and create objects when needed. What&#39;s the best way to do it with Table?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1637282453,"post_id":70026955,"comment_id":123791553,"body_markdown":"Do it with a map with pairs of keys, then convert that map to a `Table`.","body":"Do it with a map with pairs of keys, then convert that map to a <code>Table</code>."}],"owner":{"account_id":77263,"reputation":2391,"user_id":220647,"accept_rate":80,"display_name":"chepukha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653588246,"creation_date":1637270866,"question_id":70026955,"body_markdown":"For a normal `Map`, you can setup binding in Guice like this \r\n\r\n```\r\nMapBinder&lt;K, V&gt; mapBinder = MapBinder.newMapBinder(binder(), K.class, V.class);\r\nmapBinder.addBinding(key).to(V.class);\r\n```\r\n\r\nIs there an equivalent setup binding for [Guava table](https://guava.dev/releases/19.0/api/docs/com/google/common/collect/Table.html)?","title":"Equivalent of Guice&#39;s MapBinder for Guava Table","body":"<p>For a normal <code>Map</code>, you can setup binding in Guice like this</p>\n<pre><code>MapBinder&lt;K, V&gt; mapBinder = MapBinder.newMapBinder(binder(), K.class, V.class);\nmapBinder.addBinding(key).to(V.class);\n</code></pre>\n<p>Is there an equivalent setup binding for <a href=\"https://guava.dev/releases/19.0/api/docs/com/google/common/collect/Table.html\" rel=\"nofollow noreferrer\">Guava table</a>?</p>\n"},{"tags":["java","algorithm","data-structures","linked-list"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1653585653,"post_id":72395682,"comment_id":127892690,"body_markdown":"Read [this article](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) for tips on debugging your code.","body":"Read <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">this article</a> for tips on debugging your code."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653586894,"creation_date":1653586463,"answer_id":72395857,"question_id":72395682,"body_markdown":"When method merge returns, the `head` of the list is still pointing to the dummy node.\r\n\r\nYou need to add this line before the return statement:\r\n```\r\nhead = head.next;\r\n```\r\nBut it&#39;s not the most serious mistake - `head` property, as well as all these methods, should **not** be `static`.\r\n\r\nModifier `static` means that the head node is being shared among all the instances of the list, which is not correct.\r\n\r\nThat will be the correct approach of implementing Singly Linked List. I also suggest you implement such methods as `add()` and `remove()`.\r\n```\r\nclass MyList {\r\n    private ListNode head;\r\n    \r\n    private static class ListNode {\r\n        private int val;\r\n        private ListNode next;\r\n        \r\n        public ListNode(int val) {\r\n            this.val = val;\r\n            this.next = null;\r\n        }\r\n    }\r\n    \r\n    public ListNode merge(ListNode l1, ListNode l2) {\r\n        ListNode dummy = new ListNode(-1);\r\n        head = dummy;\r\n        while (l1 != null &amp;&amp; l2 != null) {\r\n            if (l1.val &lt; l2.val) {\r\n                dummy.next = l1;\r\n                l1 = l1.next;\r\n            } else {\r\n                dummy.next = l2;\r\n                l2 = l2.next;\r\n            }\r\n            dummy = dummy.next;\r\n        }\r\n        if (l1 != null)\r\n            dummy.next = l1;\r\n        if (l2 != null)\r\n            dummy.next = l2;\r\n        \r\n        head = head.next;\r\n        return head.next;\r\n    }\r\n    \r\n    public void display() {\r\n        ListNode current = head;\r\n        while (current != null) {\r\n            System.out.print(current.val + &quot; --&gt; &quot;);\r\n            current = current.next;\r\n        }\r\n        System.out.print(&quot;null&quot;);\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        MyList mergedList = new MyList();\r\n        \r\n        ListNode head1 = new ListNode(-21);\r\n        head1.next = new ListNode(3);\r\n        head1.next.next = new ListNode(5);\r\n    \r\n        // -21-&gt;3-&gt;5 LinkedList created\r\n        ListNode head2 = new ListNode(0);\r\n        head2.next = new ListNode(2);\r\n        head2.next.next = new ListNode(44);\r\n    \r\n    \r\n        // 0-&gt;2-&gt;44 LinkedList created\r\n        mergedList.merge(head1, head2);\r\n    \r\n        mergedList.display();\r\n    }\r\n}\r\n```\r\n*Output:*\r\n```\r\n-21 --&gt; 0 --&gt; 2 --&gt; 3 --&gt; 5 --&gt; 44 --&gt; null\r\n```","title":"Wrong output while merging Two Sorted Lists","body":"<p>When method merge returns, the <code>head</code> of the list is still pointing to the dummy node.</p>\n<p>You need to add this line before the return statement:</p>\n<pre><code>head = head.next;\n</code></pre>\n<p>But it's not the most serious mistake - <code>head</code> property, as well as all these methods, should <strong>not</strong> be <code>static</code>.</p>\n<p>Modifier <code>static</code> means that the head node is being shared among all the instances of the list, which is not correct.</p>\n<p>That will be the correct approach of implementing Singly Linked List. I also suggest you implement such methods as <code>add()</code> and <code>remove()</code>.</p>\n<pre><code>class MyList {\n    private ListNode head;\n    \n    private static class ListNode {\n        private int val;\n        private ListNode next;\n        \n        public ListNode(int val) {\n            this.val = val;\n            this.next = null;\n        }\n    }\n    \n    public ListNode merge(ListNode l1, ListNode l2) {\n        ListNode dummy = new ListNode(-1);\n        head = dummy;\n        while (l1 != null &amp;&amp; l2 != null) {\n            if (l1.val &lt; l2.val) {\n                dummy.next = l1;\n                l1 = l1.next;\n            } else {\n                dummy.next = l2;\n                l2 = l2.next;\n            }\n            dummy = dummy.next;\n        }\n        if (l1 != null)\n            dummy.next = l1;\n        if (l2 != null)\n            dummy.next = l2;\n        \n        head = head.next;\n        return head.next;\n    }\n    \n    public void display() {\n        ListNode current = head;\n        while (current != null) {\n            System.out.print(current.val + &quot; --&gt; &quot;);\n            current = current.next;\n        }\n        System.out.print(&quot;null&quot;);\n    }\n    \n    public static void main(String[] args) {\n        MyList mergedList = new MyList();\n        \n        ListNode head1 = new ListNode(-21);\n        head1.next = new ListNode(3);\n        head1.next.next = new ListNode(5);\n    \n        // -21-&gt;3-&gt;5 LinkedList created\n        ListNode head2 = new ListNode(0);\n        head2.next = new ListNode(2);\n        head2.next.next = new ListNode(44);\n    \n    \n        // 0-&gt;2-&gt;44 LinkedList created\n        mergedList.merge(head1, head2);\n    \n        mergedList.display();\n    }\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>-21 --&gt; 0 --&gt; 2 --&gt; 3 --&gt; 5 --&gt; 44 --&gt; null\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18760924,"reputation":429,"user_id":13679903,"display_name":"Mohammad Rifat Arefin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653586707,"creation_date":1653586707,"answer_id":72395910,"question_id":72395682,"body_markdown":"The `display` method starts printing nodes from the class member variable `head`. In the `merge` method, `head` is initialized by -1, that&#39;s the reason why it always prints from -1. A simple way around would be to add an argument in the `display` method.\r\n```\r\npublic static void display(ListNode head) {\r\n        ListNode current = head;\r\n        while(current != null) {\r\n            System.out.print(current.val + &quot; --&gt; &quot;);\r\n            current = current.next;\r\n        }\r\n        System.out.print(&quot;null&quot;);\r\n    }\r\n```\r\n\r\nThen store the result of `merge` method in a variable and call the `display` method from `main` method.\r\n\r\n```\r\nListNode res= merge(head1, head2);\r\ndisplay(res);\r\n```","title":"Wrong output while merging Two Sorted Lists","body":"<p>The <code>display</code> method starts printing nodes from the class member variable <code>head</code>. In the <code>merge</code> method, <code>head</code> is initialized by -1, that's the reason why it always prints from -1. A simple way around would be to add an argument in the <code>display</code> method.</p>\n<pre><code>public static void display(ListNode head) {\n        ListNode current = head;\n        while(current != null) {\n            System.out.print(current.val + &quot; --&gt; &quot;);\n            current = current.next;\n        }\n        System.out.print(&quot;null&quot;);\n    }\n</code></pre>\n<p>Then store the result of <code>merge</code> method in a variable and call the <code>display</code> method from <code>main</code> method.</p>\n<pre><code>ListNode res= merge(head1, head2);\ndisplay(res);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8842343,"reputation":51,"user_id":6604408,"display_name":"recovery"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653587110,"creation_date":1653587110,"answer_id":72395982,"question_id":72395682,"body_markdown":"Your head is pointing to -1 which is dummy node. point your head to the next node.\r\n\r\n     public static ListNode merge(ListNode l1, ListNode l2) {\r\n        ListNode dummy = new ListNode(-1);\r\n        head = dummy;\r\n        while (l1 != null &amp;&amp; l2 != null) {\r\n            if (l1.val &lt; l2.val) {\r\n                dummy.next = l1;\r\n                l1 = l1.next;\r\n            } else {\r\n                dummy.next = l2;\r\n                l2 = l2.next;\r\n            }\r\n            dummy = dummy.next;\r\n        }\r\n        if (l1 != null)\r\n            dummy.next = l1;\r\n        if (l2 != null)\r\n            dummy.next = l2;\r\n       ##moving you head to next node.\r\n        head = head.next;\r\n        return head.next;\r\n\r\n    }","title":"Wrong output while merging Two Sorted Lists","body":"<p>Your head is pointing to -1 which is dummy node. point your head to the next node.</p>\n<pre><code> public static ListNode merge(ListNode l1, ListNode l2) {\n    ListNode dummy = new ListNode(-1);\n    head = dummy;\n    while (l1 != null &amp;&amp; l2 != null) {\n        if (l1.val &lt; l2.val) {\n            dummy.next = l1;\n            l1 = l1.next;\n        } else {\n            dummy.next = l2;\n            l2 = l2.next;\n        }\n        dummy = dummy.next;\n    }\n    if (l1 != null)\n        dummy.next = l1;\n    if (l2 != null)\n        dummy.next = l2;\n   ##moving you head to next node.\n    head = head.next;\n    return head.next;\n\n}\n</code></pre>\n"}],"owner":{"account_id":22599261,"reputation":29,"user_id":16781087,"display_name":"Mursalin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1653588127,"creation_date":1653585413,"question_id":72395682,"body_markdown":"I have tried to merge two *sorted lists* into one and print that list using display method. But I am getting, I am getting this output: \r\n```\r\n-1 --&gt; -21 --&gt; 0 --&gt; 2 --&gt; 3 --&gt; 5 --&gt; 44 --&gt; null\r\n```\r\ninstead of:\r\n```\r\n-21 --&gt; 0 --&gt; 2 --&gt; 3 --&gt; 5 --&gt; 44 --&gt; null\r\n```\r\nWhy am I getting this extra `-1` before? I know that I have in line 15  `ListNode dummy= new ListNode(-1);` which I have initialized with `-1`. Is it the same `-1` that I am getting? How do I skip this? \r\n\r\nHere is my code :\r\n\r\n    public class Mergelists {\r\n        private static ListNode head;\r\n    \r\n        private static class ListNode{\r\n            int val;\r\n            ListNode next;\r\n\r\n            public ListNode(int val){\r\n                this.val= val;\r\n                this.next= null;\r\n            }\r\n        }\r\n    \r\n            public static ListNode merge(ListNode l1, ListNode l2){\r\n                ListNode dummy = new ListNode(-1);\r\n                head = dummy;\r\n                while (l1 != null &amp;&amp; l2 != null){\r\n                    if (l1.val&lt;l2.val){\r\n                        dummy.next=l1;\r\n                        l1=l1.next;\r\n                    }\r\n                    else\r\n                    {\r\n                        dummy.next=l2;\r\n                        l2=l2.next;\r\n                    }\r\n                    dummy=dummy.next;\r\n                }\r\n                if (l1 !=null)\r\n                    dummy.next=l1;\r\n                if (l2 !=null)\r\n                    dummy.next=l2;\r\n    \r\n                return head.next;\r\n    \r\n            }\r\n        public static void display() {\r\n            ListNode current = head;\r\n            while(current != null) {\r\n                System.out.print(current.val + &quot; --&gt; &quot;);\r\n                current = current.next;\r\n            }\r\n            System.out.print(&quot;null&quot;);\r\n        }\r\n    \r\n    \r\n            public static void main(String[] args) {    \r\n    \r\n                ListNode head1 = new ListNode(-21);\r\n                head1.next = new ListNode(3);\r\n                head1.next.next = new ListNode(5);\r\n    \r\n                // -21-&gt;3-&gt;5 LinkedList created\r\n                ListNode head2 = new ListNode(0);\r\n                head2.next = new ListNode(2);\r\n                head2.next.next = new ListNode(44);\r\n    \r\n    \r\n                // 0-&gt;2-&gt;44 LinkedList created\r\n                merge(head1, head2);\r\n    \r\n                display();\r\n            }","title":"Wrong output while merging Two Sorted Lists","body":"<p>I have tried to merge two <em>sorted lists</em> into one and print that list using display method. But I am getting, I am getting this output:</p>\n<pre><code>-1 --&gt; -21 --&gt; 0 --&gt; 2 --&gt; 3 --&gt; 5 --&gt; 44 --&gt; null\n</code></pre>\n<p>instead of:</p>\n<pre><code>-21 --&gt; 0 --&gt; 2 --&gt; 3 --&gt; 5 --&gt; 44 --&gt; null\n</code></pre>\n<p>Why am I getting this extra <code>-1</code> before? I know that I have in line 15  <code>ListNode dummy= new ListNode(-1);</code> which I have initialized with <code>-1</code>. Is it the same <code>-1</code> that I am getting? How do I skip this?</p>\n<p>Here is my code :</p>\n<pre><code>public class Mergelists {\n    private static ListNode head;\n\n    private static class ListNode{\n        int val;\n        ListNode next;\n\n        public ListNode(int val){\n            this.val= val;\n            this.next= null;\n        }\n    }\n\n        public static ListNode merge(ListNode l1, ListNode l2){\n            ListNode dummy = new ListNode(-1);\n            head = dummy;\n            while (l1 != null &amp;&amp; l2 != null){\n                if (l1.val&lt;l2.val){\n                    dummy.next=l1;\n                    l1=l1.next;\n                }\n                else\n                {\n                    dummy.next=l2;\n                    l2=l2.next;\n                }\n                dummy=dummy.next;\n            }\n            if (l1 !=null)\n                dummy.next=l1;\n            if (l2 !=null)\n                dummy.next=l2;\n\n            return head.next;\n\n        }\n    public static void display() {\n        ListNode current = head;\n        while(current != null) {\n            System.out.print(current.val + &quot; --&gt; &quot;);\n            current = current.next;\n        }\n        System.out.print(&quot;null&quot;);\n    }\n\n\n        public static void main(String[] args) {    \n\n            ListNode head1 = new ListNode(-21);\n            head1.next = new ListNode(3);\n            head1.next.next = new ListNode(5);\n\n            // -21-&gt;3-&gt;5 LinkedList created\n            ListNode head2 = new ListNode(0);\n            head2.next = new ListNode(2);\n            head2.next.next = new ListNode(44);\n\n\n            // 0-&gt;2-&gt;44 LinkedList created\n            merge(head1, head2);\n\n            display();\n        }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","graphql","graphql-java"],"owner":{"account_id":10576782,"reputation":83,"user_id":7791865,"display_name":"Gary Madden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":765,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1653587990,"creation_date":1653587990,"question_id":72396134,"body_markdown":"I&#39;m using a &#39;code first&#39; approach for defining the schema using [graphql-java-annotations][1] instead of defining the schema in a separate `.graphqls` file.\r\n\r\nI&#39;m trying to specify the schema by using `GraphQlSourceBuilderCustomizer` as mentioned [in the documentation][2] but I get the following exception:\r\n&gt; org.springframework.graphql.execution.MissingSchemaException: No GraphQL schema definition was configured.\r\n\tat java.base@17.0.2/java.util.Optional.orElseThrow(Optional.java:403)\r\n\tat app//org.springframework.graphql.execution.DefaultGraphQlSourceBuilder.build(DefaultGraphQlSourceBuilder.java:136)\r\n\tat app//org.springframework.boot.autoconfigure.graphql.GraphQlAutoConfiguration.graphQlSource(GraphQlAutoConfiguration.java:90)\r\n\r\nHere&#39;s my configuration class. Does anyone know where I&#39;m going wrong?\r\n```java\r\n@Configuration\r\npublic class GraphQLConfiguration {\r\n    @Bean\r\n    public GraphQlSourceBuilderCustomizer sourceBuilderCustomizer() {\r\n        GraphQLSchema graphQLSchema = AnnotationsSchemaCreator.newAnnotationsSchema()\r\n                .query(GraphQLQuery.class)\r\n                .build();\r\n\r\n        return graphQlSourceBuilder -&gt; graphQlSourceBuilder.configureGraphQl(graphQLBuilder -&gt; graphQLBuilder.schema(graphQLSchema));\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://github.com/Enigmatis/graphql-java-annotations\r\n  [2]: https://docs.spring.io/spring-graphql/docs/current-SNAPSHOT/reference/html/#execution-graphqlsource","title":"Programatically specifying the GraphQL schema in Spring boot","body":"<p>I'm using a 'code first' approach for defining the schema using <a href=\"https://github.com/Enigmatis/graphql-java-annotations\" rel=\"nofollow noreferrer\">graphql-java-annotations</a> instead of defining the schema in a separate <code>.graphqls</code> file.</p>\n<p>I'm trying to specify the schema by using <code>GraphQlSourceBuilderCustomizer</code> as mentioned <a href=\"https://docs.spring.io/spring-graphql/docs/current-SNAPSHOT/reference/html/#execution-graphqlsource\" rel=\"nofollow noreferrer\">in the documentation</a> but I get the following exception:</p>\n<blockquote>\n<p>org.springframework.graphql.execution.MissingSchemaException: No GraphQL schema definition was configured.\nat java.base@17.0.2/java.util.Optional.orElseThrow(Optional.java:403)\nat app//org.springframework.graphql.execution.DefaultGraphQlSourceBuilder.build(DefaultGraphQlSourceBuilder.java:136)\nat app//org.springframework.boot.autoconfigure.graphql.GraphQlAutoConfiguration.graphQlSource(GraphQlAutoConfiguration.java:90)</p>\n</blockquote>\n<p>Here's my configuration class. Does anyone know where I'm going wrong?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class GraphQLConfiguration {\n    @Bean\n    public GraphQlSourceBuilderCustomizer sourceBuilderCustomizer() {\n        GraphQLSchema graphQLSchema = AnnotationsSchemaCreator.newAnnotationsSchema()\n                .query(GraphQLQuery.class)\n                .build();\n\n        return graphQlSourceBuilder -&gt; graphQlSourceBuilder.configureGraphQl(graphQLBuilder -&gt; graphQLBuilder.schema(graphQLSchema));\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1653586903,"post_id":72395849,"comment_id":127893114,"body_markdown":"Welcome to Stack Overflow. Please don&#39;t use code font for words that aren&#39;t code.","body":"Welcome to Stack Overflow. Please don&#39;t use code font for words that aren&#39;t code."},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1653603503,"post_id":72395849,"comment_id":127897993,"body_markdown":"&quot;Is there another possibility&quot; for what? Are you trying to *run* 40,000 threads simultaneously? Why? Or, do you have 40,000 tasks you need to run, but not at the same time? It&#39;s not clear what your issue is or why you think restarting threads would help.","body":"&quot;Is there another possibility&quot; for what? Are you trying to <i>run</i> 40,000 threads simultaneously? Why? Or, do you have 40,000 tasks you need to run, but not at the same time? It&#39;s not clear what your issue is or why you think restarting threads would help."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653586535,"creation_date":1653586535,"answer_id":72395874,"question_id":72395849,"body_markdown":"Use an `Executor` or `ExecutorService`. Class `Executors` has some factory methods for those. By using one that uses a thread pool you can submit actions without threads necessarily being created for each separate action.","title":"Is there another posibility to restart a Thread?","body":"<p>Use an <code>Executor</code> or <code>ExecutorService</code>. Class <code>Executors</code> has some factory methods for those. By using one that uses a thread pool you can submit actions without threads necessarily being created for each separate action.</p>\n"},{"tags":[],"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653586911,"creation_date":1653586911,"answer_id":72395943,"question_id":72395849,"body_markdown":"You can use a [thread pool][1]. Database connections are often managed in a thread pool, for example. After it has done its work (e.g., queried some data), the thread returns to the pool, and can be reused.\r\n\r\nThe other thing you may be missing is: while you cannot have e.g., 40,000 threads at a time, nothing prevents you from creating new threads after old ones have finished.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html","title":"Is there another posibility to restart a Thread?","body":"<p>You can use a <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html\" rel=\"nofollow noreferrer\">thread pool</a>. Database connections are often managed in a thread pool, for example. After it has done its work (e.g., queried some data), the thread returns to the pool, and can be reused.</p>\n<p>The other thing you may be missing is: while you cannot have e.g., 40,000 threads at a time, nothing prevents you from creating new threads after old ones have finished.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653587939,"creation_date":1653587939,"answer_id":72396124,"question_id":72395849,"body_markdown":"&gt; But the thing is, the threads are limited, you can not create 40,000 threads because the operating system can only create 15,000 threads. (This is just an example).\r\n\r\nYes, that&#39;s confusing - but you&#39;re mixing terms.\r\n\r\nA java `java.lang.Thread` object __is not an OS-level thead__.\r\n\r\nYou can make a million or so Thread objects. Go ahead, try it.\r\n\r\nYou would not be able to simultaneously start all 1 million of em, however - `start()` causes things to occur, eventually leading to an &#39;OS level thread&#39; to be created.\r\n\r\nOnce a thread ends, the `java.lang.Thread` object will stick around, but the OS level thread won&#39;t. Hence, your central problem thesis, which I&#39;ll summarize as:\r\n\r\n&gt; Restarting an existing java.lang.Thread object is better than creating a new java.lang.Thread object, because I read that you can only have 40k or so java.lang.Thread objects\r\n\r\nIs just flat out wrong. There is zero benefit between a hypothetical re-use of a j.l.Thread object by &#39;restarting&#39; it (which implies it has ended), vs. just making a new object instead once the &#39;old&#39; one has ended.\r\n\r\nWhat you&#39;d have to do if you want to &#39;restart&#39; a thread is to have a `run()` method (the one that the thread ends up running in a new thread) that is a frameworky thing: It checks a queue of jobs, pulls one queue off the top, runs it, and then goes back to checking the queue. This is tantamount to &#39;reusing a thread&#39;, though you&#39;re now just reinventing what [`ExecutorPool`](https://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html) (baked into core java itself) and friends already do.\r\n\r\nExecutorPools are probably a good idea. However, they don&#39;t &#39;solve&#39; your problem. Your problem isn&#39;t actually a problem.\r\n","title":"Is there another posibility to restart a Thread?","body":"<blockquote>\n<p>But the thing is, the threads are limited, you can not create 40,000 threads because the operating system can only create 15,000 threads. (This is just an example).</p>\n</blockquote>\n<p>Yes, that's confusing - but you're mixing terms.</p>\n<p>A java <code>java.lang.Thread</code> object <strong>is not an OS-level thead</strong>.</p>\n<p>You can make a million or so Thread objects. Go ahead, try it.</p>\n<p>You would not be able to simultaneously start all 1 million of em, however - <code>start()</code> causes things to occur, eventually leading to an 'OS level thread' to be created.</p>\n<p>Once a thread ends, the <code>java.lang.Thread</code> object will stick around, but the OS level thread won't. Hence, your central problem thesis, which I'll summarize as:</p>\n<blockquote>\n<p>Restarting an existing java.lang.Thread object is better than creating a new java.lang.Thread object, because I read that you can only have 40k or so java.lang.Thread objects</p>\n</blockquote>\n<p>Is just flat out wrong. There is zero benefit between a hypothetical re-use of a j.l.Thread object by 'restarting' it (which implies it has ended), vs. just making a new object instead once the 'old' one has ended.</p>\n<p>What you'd have to do if you want to 'restart' a thread is to have a <code>run()</code> method (the one that the thread ends up running in a new thread) that is a frameworky thing: It checks a queue of jobs, pulls one queue off the top, runs it, and then goes back to checking the queue. This is tantamount to 'reusing a thread', though you're now just reinventing what <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html\" rel=\"nofollow noreferrer\"><code>ExecutorPool</code></a> (baked into core java itself) and friends already do.</p>\n<p>ExecutorPools are probably a good idea. However, they don't 'solve' your problem. Your problem isn't actually a problem.</p>\n"}],"owner":{"display_name":"user18773012"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72396124,"answer_count":3,"score":0,"last_activity_date":1653587939,"creation_date":1653586435,"question_id":72395849,"body_markdown":"I read it is not possible to restart the same `Thread`. If it should be restarted, then you have to create a new `Thread`.\r\n\r\nBut the thing is, the threads are limited, you can not create 40,000 threads because the operating system can only create 15,000 threads. (This is just an example).\r\n\r\nIs there another possibility?","title":"Is there another posibility to restart a Thread?","body":"<p>I read it is not possible to restart the same <code>Thread</code>. If it should be restarted, then you have to create a new <code>Thread</code>.</p>\n<p>But the thing is, the threads are limited, you can not create 40,000 threads because the operating system can only create 15,000 threads. (This is just an example).</p>\n<p>Is there another possibility?</p>\n"},{"tags":["java","python-3.x","itext","pdf-generation","jpype"],"answers":[{"tags":[],"owner":{"account_id":8930620,"reputation":2388,"user_id":6663375,"display_name":"Uladzimir Asipchuk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653522844,"creation_date":1653522844,"answer_id":72385258,"question_id":72380380,"body_markdown":"Suppose that this is the table to be fully fit into an A4 page:\r\n\r\n        Table table = new Table(2);\r\n        for (int i = 0; i &lt; 100; i++) {\r\n            table.addCell(new Cell().add(new Paragraph(i + &quot; Hello&quot;)));\r\n            table.addCell(new Cell().add(new Paragraph(i + &quot; World&quot;)));\r\n        }\r\n\r\nSince it&#39;s too long to be fully fit via usual layout flow (e.g. `Document#add`), we should somehow scale it. But first of all, let us find how much space this table occupies if the page to be placed upon is boundless:\r\n\r\n        LayoutResult result = table.createRendererSubTree().setParent(doc.getRenderer())\r\n                .layout(new LayoutContext(new LayoutArea(1, new Rectangle(10000, 10000))));\r\n        Rectangle occupiedRectangle = result.getOccupiedArea().getBBox();\r\n\r\n\r\nNow let&#39;s create a form xobject of this table, which we will scale a few lines below:\r\n\r\n        PdfFormXObject xObject = new PdfFormXObject(new Rectangle(occupiedRectangle.getWidth(), occupiedRectangle.getHeight()));\r\n        new Canvas(xObject, pdfDoc).add(table).close();\r\n\r\nSo now we have the xObject of the table, the only question is how to fit it, e.g. which scale coefficients to apply:\r\n\r\n       double coefficient = Math.min(PageSize.A4.getWidth() / occupiedRectangle.getWidth(), \r\n                PageSize.A4.getHeight() / occupiedRectangle.getHeight());\r\n\r\nWe&#39;re almost done: now let&#39;s add the scaled version of the table to the document&#39;s page:\r\n\r\n            new PdfCanvas(pdfDoc.addNewPage())\r\n                .saveState()\r\n                .concatMatrix(coefficient, 0, 0, coefficient, 0, 0)\r\n                .addXObject(xObject)\r\n                .restoreState();\r\n\r\nAnd that&#39;s it:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1n7uE.png","title":"Fit iText 7 Table to Single Page with Images using JPype","body":"<p>Suppose that this is the table to be fully fit into an A4 page:</p>\n<pre><code>    Table table = new Table(2);\n    for (int i = 0; i &lt; 100; i++) {\n        table.addCell(new Cell().add(new Paragraph(i + &quot; Hello&quot;)));\n        table.addCell(new Cell().add(new Paragraph(i + &quot; World&quot;)));\n    }\n</code></pre>\n<p>Since it's too long to be fully fit via usual layout flow (e.g. <code>Document#add</code>), we should somehow scale it. But first of all, let us find how much space this table occupies if the page to be placed upon is boundless:</p>\n<pre><code>    LayoutResult result = table.createRendererSubTree().setParent(doc.getRenderer())\n            .layout(new LayoutContext(new LayoutArea(1, new Rectangle(10000, 10000))));\n    Rectangle occupiedRectangle = result.getOccupiedArea().getBBox();\n</code></pre>\n<p>Now let's create a form xobject of this table, which we will scale a few lines below:</p>\n<pre><code>    PdfFormXObject xObject = new PdfFormXObject(new Rectangle(occupiedRectangle.getWidth(), occupiedRectangle.getHeight()));\n    new Canvas(xObject, pdfDoc).add(table).close();\n</code></pre>\n<p>So now we have the xObject of the table, the only question is how to fit it, e.g. which scale coefficients to apply:</p>\n<pre><code>   double coefficient = Math.min(PageSize.A4.getWidth() / occupiedRectangle.getWidth(), \n            PageSize.A4.getHeight() / occupiedRectangle.getHeight());\n</code></pre>\n<p>We're almost done: now let's add the scaled version of the table to the document's page:</p>\n<pre><code>        new PdfCanvas(pdfDoc.addNewPage())\n            .saveState()\n            .concatMatrix(coefficient, 0, 0, coefficient, 0, 0)\n            .addXObject(xObject)\n            .restoreState();\n</code></pre>\n<p>And that's it:\n<a href=\"https://i.stack.imgur.com/1n7uE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1n7uE.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":9590253,"reputation":86,"user_id":9525730,"display_name":"Krowvin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72385258,"answer_count":1,"score":0,"last_activity_date":1653587939,"creation_date":1653492243,"question_id":72380380,"body_markdown":"I am attempting to fit all the content of a table to a single A4 PDF. \r\n\r\nI found another SO article linked to the itextpdf page [here](https://kb.itextpdf.com/home/it7kb/faq/how-to-resize-a-pdfptable-to-fit-the-page) on the same topic \r\n\r\nHowever, I am not certain how it is supposed to be implemented. I have the above code converted to JPype and it seems to run. But I do not get the desired effect. \r\n\r\nI want to be able to add images to this table, and have it size appropriately so that it maintains a single A4 page. \r\n\r\nSource and example on my github page here:\r\nhttps://github.com/krowvin/jpypeitext7example\r\n\r\n[Example PDF](https://github.com/krowvin/jpypeitext7example/blob/main/original%20example.pdf)\r\n\r\n[Source](https://github.com/krowvin/jpypeitext7example/blob/main/example.py)","title":"Fit iText 7 Table to Single Page with Images using JPype","body":"<p>I am attempting to fit all the content of a table to a single A4 PDF.</p>\n<p>I found another SO article linked to the itextpdf page <a href=\"https://kb.itextpdf.com/home/it7kb/faq/how-to-resize-a-pdfptable-to-fit-the-page\" rel=\"nofollow noreferrer\">here</a> on the same topic</p>\n<p>However, I am not certain how it is supposed to be implemented. I have the above code converted to JPype and it seems to run. But I do not get the desired effect.</p>\n<p>I want to be able to add images to this table, and have it size appropriately so that it maintains a single A4 page.</p>\n<p>Source and example on my github page here:\n<a href=\"https://github.com/krowvin/jpypeitext7example\" rel=\"nofollow noreferrer\">https://github.com/krowvin/jpypeitext7example</a></p>\n<p><a href=\"https://github.com/krowvin/jpypeitext7example/blob/main/original%20example.pdf\" rel=\"nofollow noreferrer\">Example PDF</a></p>\n<p><a href=\"https://github.com/krowvin/jpypeitext7example/blob/main/example.py\" rel=\"nofollow noreferrer\">Source</a></p>\n"},{"tags":["java","multithreading","java-8","completable-future"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1653562922,"post_id":72390587,"comment_id":127884405,"body_markdown":"How do you chain the `thenApply` to [run on UI thread](https://stackoverflow.com/q/60745016/2541560)? If you&#39;re calling `get()` in UI thread and it&#39;s not completed, then your UI will freeze. Instead of making the UI wait for it to complete, I&#39;d consider `thenAccept()` callback that will update any data the UI needs.","body":"How do you chain the <code>thenApply</code> to <a href=\"https://stackoverflow.com/q/60745016/2541560\">run on UI thread</a>? If you&#39;re calling <code>get()</code> in UI thread and it&#39;s not completed, then your UI will freeze. Instead of making the UI wait for it to complete, I&#39;d consider <code>thenAccept()</code> callback that will update any data the UI needs."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1653563224,"post_id":72390587,"comment_id":127884489,"body_markdown":"@Kayaman any UI changes should be made on the event dispatcher thread. As I&#39;ve said in my answer, using `thenAcceptAsync` in combination with `EventQueue::invokeLater` should solve that.","body":"@Kayaman any UI changes should be made on the event dispatcher thread. As I&#39;ve said in my answer, using <code>thenAcceptAsync</code> in combination with <code>EventQueue::invokeLater</code> should solve that."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1653564232,"post_id":72390587,"comment_id":127884819,"body_markdown":"@RobSpoor yes, but you can change the model and let the EDT update itself based on that instead of explicitly scheduling which threads things run on. If he&#39;s trying to manually handle things and schedule futures, it&#39;s gonna become an unmaintainable piece of crap.","body":"@RobSpoor yes, but you can change the model and let the EDT update itself based on that instead of explicitly scheduling which threads things run on. If he&#39;s trying to manually handle things and schedule futures, it&#39;s gonna become an unmaintainable piece of crap."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1653564510,"post_id":72390587,"comment_id":127884917,"body_markdown":"Every change, including that to the UI&#39;s models, should be done on the EDT. That means implicitly or explicitly using `EventQueue.invokeLater`. Letting the `CompletableFuture` do that for you will make things easier, not harder. If any intermediate updates are required then perhaps `CompletableFuture` is not the best tool but instead a `SwingWorker`.","body":"Every change, including that to the UI&#39;s models, should be done on the EDT. That means implicitly or explicitly using <code>EventQueue.invokeLater</code>. Letting the <code>CompletableFuture</code> do that for you will make things easier, not harder. If any intermediate updates are required then perhaps <code>CompletableFuture</code> is not the best tool but instead a <code>SwingWorker</code>."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653587883,"creation_date":1653563148,"answer_id":72390808,"question_id":72390587,"body_markdown":"Calling `get()` blocks the current thread until the result is available. If that&#39;s the UI event dispatcher thread then your application&#39;s UI becomes unresponsive (blocked).\r\n\r\nAnd unlike Qt, Java does not support manually processing the UI events, meaning once you wait on the UI-thread nothing else can run on UI-thread (until waiter returns).\r\n\r\n---\r\n\r\nIn addition, don&#39;t hack &quot;`thenApply(...)`&quot; method to run things on UI-thread, as there&#39;s a better solution, I mean use the `thenApplyAsync(...)` version which takes an `Executor` as parameter. Said `Executor` is a functional interface with one method, `void execute(Runnable command)`. You can use `\r\nEventQueue::invokeLater` (or its wrapper `SwingUtilities.invokeLater`) for that. It will then execute the code on the event dispatcher thread (aka UI-thread).","title":"CompletableFuture waiting for UI-thread from UI-thread?","body":"<p>Calling <code>get()</code> blocks the current thread until the result is available. If that's the UI event dispatcher thread then your application's UI becomes unresponsive (blocked).</p>\n<p>And unlike Qt, Java does not support manually processing the UI events, meaning once you wait on the UI-thread nothing else can run on UI-thread (until waiter returns).</p>\n<hr />\n<p>In addition, don't hack &quot;<code>thenApply(...)</code>&quot; method to run things on UI-thread, as there's a better solution, I mean use the <code>thenApplyAsync(...)</code> version which takes an <code>Executor</code> as parameter. Said <code>Executor</code> is a functional interface with one method, <code>void execute(Runnable command)</code>. You can use <code> EventQueue::invokeLater</code> (or its wrapper <code>SwingUtilities.invokeLater</code>) for that. It will then execute the code on the event dispatcher thread (aka UI-thread).</p>\n"}],"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72390808,"answer_count":1,"score":0,"last_activity_date":1653587883,"creation_date":1653562075,"question_id":72390587,"body_markdown":"Java 8&#39;s promise implementation, namely `CompletableFuture`, provides both `thenApply(...)` and `get()` methods.\r\n\r\nWhere `get()` waits if necessary for the promise to complete, and then returns its result.\r\n\r\n---\r\n\r\nNow assume we use `thenApply(...)` (or `thenApplyAsync(...)`) to chain some code to run on UI-thread  \r\n(see stackoverflow.com/[difference between thenApply and thenApplyAsync](https://stackoverflow.com/a/47489654/8740349)).\r\n\r\nWhat is the **behaviour** if we call `get()` in the UI-thread as well, like does Java handle this case somehow, or can it result to a so-called dead-lock or infinite-loop?\r\n\r\n---\r\n\r\nI previously was using Qt framework, where depending on how we did implement waiter (dispatch-UI-events vs `sleep`), it was possible to wait for UI-thread from within same UI-thread (for example, the entire view came back to live, and that without returning from my code).  \r\nBut I am not sure if Java even supports that.","title":"CompletableFuture waiting for UI-thread from UI-thread?","body":"<p>Java 8's promise implementation, namely <code>CompletableFuture</code>, provides both <code>thenApply(...)</code> and <code>get()</code> methods.</p>\n<p>Where <code>get()</code> waits if necessary for the promise to complete, and then returns its result.</p>\n<hr />\n<p>Now assume we use <code>thenApply(...)</code> (or <code>thenApplyAsync(...)</code>) to chain some code to run on UI-thread<br />\n(see stackoverflow.com/<a href=\"https://stackoverflow.com/a/47489654/8740349\">difference between thenApply and thenApplyAsync</a>).</p>\n<p>What is the <strong>behaviour</strong> if we call <code>get()</code> in the UI-thread as well, like does Java handle this case somehow, or can it result to a so-called dead-lock or infinite-loop?</p>\n<hr />\n<p>I previously was using Qt framework, where depending on how we did implement waiter (dispatch-UI-events vs <code>sleep</code>), it was possible to wait for UI-thread from within same UI-thread (for example, the entire view came back to live, and that without returning from my code).<br />\nBut I am not sure if Java even supports that.</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0"],"owner":{"account_id":15712745,"reputation":43,"user_id":11337690,"display_name":"Steven Ponessa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":732,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1653587812,"creation_date":1653587812,"question_id":72396098,"body_markdown":"**In Java Spring Boot I can not redirect from SSO to the originally requested URL after login**\r\n\r\nMy company has an SSO authentication server set up and I can successfully redirect URLs for authentication, however, I can&#39;t seem to route the request back to the original URL (or save the original URLs location prior to the `.oauth2Login()` call.\r\n\r\nFor example, if I have a URL like:\r\n```\r\n/api/s/v1/some-resource-name/some-path-variable?some-request-variable=some-value\r\n```\r\n\r\nBased on the map, this should (and is) directed to SSO (.oauth2Login()), but I need to somehow redirect back to the URL after the user has validly authenticated.\r\n\r\nBelow is how I have set up my environment.\r\n\r\n1. Registered/provisioned an SSO OIDC Connection Client (returns me a client id, secret, and endpoints)\r\n\r\n2. Setup a basic Configuration Using Spring Boot&#39;s `application.properties` file and the registered OIDC client information\r\n```\r\nspring.security.oauth2.client.registration.w3id.client-name=wfm-data-managment\r\nspring.security.oauth2.client.registration.w3id.client-id=******************\r\nspring.security.oauth2.client.registration.w3id.client-secret=****************\r\nspring.security.oauth2.client.registration.w3id.redirect-uri={baseUrl}\r\nspring.security.oauth2.client.registration.w3id.scope=openid\r\nspring.security.oauth2.client.provider.w3id.issuer-uri=https://preprod.login.w3.ibm.com/oidc/endpoint/default\r\n```\r\n\r\n3. Set up the OAuth2 configuration to map any `/api/s/v1` path through authentication and set up a `successHandler()`in an attempt to redirect the client to the originally requested URL after successfully authenticating.\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class OAuth2SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp.antMatcher(&quot;/**&quot;).authorizeRequests()\r\n\t\t\t.antMatchers(&quot;/api/s/v1/**&quot;).authenticated()\r\n\t\t\t\t.anyRequest().permitAll()\r\n\t\t\t\t\t.and()\r\n\t\t\t\t\t.oauth2Login()\r\n\t\t\t\t\t.successHandler(new RedirectAuthenticationSuccessHandler())\r\n\t\t\t\t\t;\r\n\t}\r\n}\r\n```\r\n4. Define the class that is passed the the `successHandler()`. Note that `onAuthenticationSuccess()` never gets called.\r\n```\r\n@Component\r\npublic class RedirectAuthenticationSuccessHandler extends SimpleUrlAuthenticationSuccessHandler implements AuthenticationSuccessHandler {\r\n\t\r\n\tprivate RedirectStrategy redirectStrategy = new DefaultRedirectStrategy();\r\n\t\r\n\t@Autowired\r\n\tpublic RedirectAuthenticationSuccessHandler() {\r\n\t\tsetUseReferer(true); // use referer\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication)\r\n\t\tthrows IOException, ServletException {\r\n\t\thandle(request, response, authentication);\r\n\t\tclearAuthenticationAttributes(request);\r\n\t}\r\n\r\n\r\n\t@Override\r\n\tprotected String determineTargetUrl(HttpServletRequest request, HttpServletResponse response) {\r\n\t\treturn (String) request.getParameter(&quot;redirect&quot;);\r\n\t}\r\n}\r\n```\r\n","title":"Can not redirect to my original URL after OAuth2 SSO authentication using Java Spring Boot and Spring Security","body":"<p><strong>In Java Spring Boot I can not redirect from SSO to the originally requested URL after login</strong></p>\n<p>My company has an SSO authentication server set up and I can successfully redirect URLs for authentication, however, I can't seem to route the request back to the original URL (or save the original URLs location prior to the <code>.oauth2Login()</code> call.</p>\n<p>For example, if I have a URL like:</p>\n<pre><code>/api/s/v1/some-resource-name/some-path-variable?some-request-variable=some-value\n</code></pre>\n<p>Based on the map, this should (and is) directed to SSO (.oauth2Login()), but I need to somehow redirect back to the URL after the user has validly authenticated.</p>\n<p>Below is how I have set up my environment.</p>\n<ol>\n<li><p>Registered/provisioned an SSO OIDC Connection Client (returns me a client id, secret, and endpoints)</p>\n</li>\n<li><p>Setup a basic Configuration Using Spring Boot's <code>application.properties</code> file and the registered OIDC client information</p>\n</li>\n</ol>\n<pre><code>spring.security.oauth2.client.registration.w3id.client-name=wfm-data-managment\nspring.security.oauth2.client.registration.w3id.client-id=******************\nspring.security.oauth2.client.registration.w3id.client-secret=****************\nspring.security.oauth2.client.registration.w3id.redirect-uri={baseUrl}\nspring.security.oauth2.client.registration.w3id.scope=openid\nspring.security.oauth2.client.provider.w3id.issuer-uri=https://preprod.login.w3.ibm.com/oidc/endpoint/default\n</code></pre>\n<ol start=\"3\">\n<li>Set up the OAuth2 configuration to map any <code>/api/s/v1</code> path through authentication and set up a <code>successHandler()</code>in an attempt to redirect the client to the originally requested URL after successfully authenticating.</li>\n</ol>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class OAuth2SecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.antMatcher(&quot;/**&quot;).authorizeRequests()\n            .antMatchers(&quot;/api/s/v1/**&quot;).authenticated()\n                .anyRequest().permitAll()\n                    .and()\n                    .oauth2Login()\n                    .successHandler(new RedirectAuthenticationSuccessHandler())\n                    ;\n    }\n}\n</code></pre>\n<ol start=\"4\">\n<li>Define the class that is passed the the <code>successHandler()</code>. Note that <code>onAuthenticationSuccess()</code> never gets called.</li>\n</ol>\n<pre><code>@Component\npublic class RedirectAuthenticationSuccessHandler extends SimpleUrlAuthenticationSuccessHandler implements AuthenticationSuccessHandler {\n    \n    private RedirectStrategy redirectStrategy = new DefaultRedirectStrategy();\n    \n    @Autowired\n    public RedirectAuthenticationSuccessHandler() {\n        setUseReferer(true); // use referer\n    }\n    \n    @Override\n    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication)\n        throws IOException, ServletException {\n        handle(request, response, authentication);\n        clearAuthenticationAttributes(request);\n    }\n\n\n    @Override\n    protected String determineTargetUrl(HttpServletRequest request, HttpServletResponse response) {\n        return (String) request.getParameter(&quot;redirect&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","database","hibernate","jpa"],"comments":[{"owner":{"account_id":19235116,"reputation":638,"user_id":14056227,"display_name":"Gabriel Andrade"},"score":0,"creation_date":1653579251,"post_id":72393635,"comment_id":127890450,"body_markdown":"Same problem as: https://stackoverflow.com/questions/50529690/java-hibernate-generate-sequence-column-based-on-another-field","body":"Same problem as: <a href=\"https://stackoverflow.com/questions/50529690/java-hibernate-generate-sequence-column-based-on-another-field\" title=\"java hibernate generate sequence column based on another field\">stackoverflow.com/questions/50529690/&hellip;</a>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1653583124,"post_id":72393635,"comment_id":127891857,"body_markdown":"JoinColumns don&#39;t work in embeddable Ids, so I assume you are trying to set this up  in JPA using reference mappings and are hopefully using derived ID and &#39;mapsId&#39; on the relationship mappings to let JPA set these values for you. Assuming that, what operation do you have or that is going to know how to determine your &#39;sequential_id&#39; value - this seems error prone, as what happens when you remove one row (say with a 1 value) and try to insert a new one? You are better off using a sequential ID as your ID and avoid the complexity and overhead in trying to map this","body":"JoinColumns don&#39;t work in embeddable Ids, so I assume you are trying to set this up  in JPA using reference mappings and are hopefully using derived ID and &#39;mapsId&#39; on the relationship mappings to let JPA set these values for you. Assuming that, what operation do you have or that is going to know how to determine your &#39;sequential_id&#39; value - this seems error prone, as what happens when you remove one row (say with a 1 value) and try to insert a new one? You are better off using a sequential ID as your ID and avoid the complexity and overhead in trying to map this"},{"owner":{"account_id":19235116,"reputation":638,"user_id":14056227,"display_name":"Gabriel Andrade"},"score":0,"creation_date":1653587285,"post_id":72393635,"comment_id":127893239,"body_markdown":"@Chris Thank you for your answer. Precisely, the example with the join columns was just to illustrate, thank you for interpret correctly, I&#39;ll fix the example to make it more consistent. That being said, removal is not a problem and I need this ID at runtime, ideally, I need it to be returned to be used in the same transaction and should be a unique sequence per ```column_2_id```.","body":"@Chris Thank you for your answer. Precisely, the example with the join columns was just to illustrate, thank you for interpret correctly, I&#39;ll fix the example to make it more consistent. That being said, removal is not a problem and I need this ID at runtime, ideally, I need it to be returned to be used in the same transaction and should be a unique sequence per <code>column_2_id</code>."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1653590538,"post_id":72393635,"comment_id":127894294,"body_markdown":"It seems a calculated data point though, not a true sequence. And removal isn&#39;t a problem - it is a question. When row with value 1 is removed, what is the &#39;next&#39; value that gets assigned? Efficiently tracking sequences for each of these combinations will be cost prohibitive and why I suggest just using a single sequence and ID value for your rows/entities. I don&#39;t see the need for a composite PK of this nature, and it will complicate linking to this entity in future references. Have it use its own UUID or DB assigned sequence for a unique ID independent of this natural, compound id","body":"It seems a calculated data point though, not a true sequence. And removal isn&#39;t a problem - it is a question. When row with value 1 is removed, what is the &#39;next&#39; value that gets assigned? Efficiently tracking sequences for each of these combinations will be cost prohibitive and why I suggest just using a single sequence and ID value for your rows/entities. I don&#39;t see the need for a composite PK of this nature, and it will complicate linking to this entity in future references. Have it use its own UUID or DB assigned sequence for a unique ID independent of this natural, compound id"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1653591329,"post_id":72393635,"comment_id":127894539,"body_markdown":"Otherwise, on the how - you can use a pre persist event to assign your own value to this property. Calculating the current one will be a pain. Hibernate allows specifying generators on composite ID properties when using an ID class, so you can also define your own sequence generator ( https://vladmihalcea.com/how-to-implement-a-custom-string-based-sequence-identifier-generator-with-hibernate/ ) but I don&#39;t know how you would really write it to query the DB to figure out the &#39;next&#39; value for your use case.","body":"Otherwise, on the how - you can use a pre persist event to assign your own value to this property. Calculating the current one will be a pain. Hibernate allows specifying generators on composite ID properties when using an ID class, so you can also define your own sequence generator ( <a href=\"https://vladmihalcea.com/how-to-implement-a-custom-string-based-sequence-identifier-generator-with-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a> ) but I don&#39;t know how you would really write it to query the DB to figure out the &#39;next&#39; value for your use case."},{"owner":{"account_id":19235116,"reputation":638,"user_id":14056227,"display_name":"Gabriel Andrade"},"score":0,"creation_date":1653591998,"post_id":72393635,"comment_id":127894727,"body_markdown":"@Chris Thanks Chris. I&#39;ll consider this and I&#39;ll be discussing with the rest of the team. Currently I&#39;m thinking on doing some big changes to the whole solution as it will be less of a pain really.","body":"@Chris Thanks Chris. I&#39;ll consider this and I&#39;ll be discussing with the rest of the team. Currently I&#39;m thinking on doing some big changes to the whole solution as it will be less of a pain really."}],"owner":{"account_id":19235116,"reputation":638,"user_id":14056227,"display_name":"Gabriel Andrade"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653587779,"creation_date":1653576090,"question_id":72393635,"body_markdown":"I have an @EmbeddedId based on 4 columns. 3 which are an UUID FK and 1 that should be sequential.\r\n\r\n```java\r\n@Embeddable\r\npublic class MyId {\r\n\r\n  @JoinColumn(name = &quot;column_1_id&quot;, referencedColumnName = &quot;column_1_id&quot;, columnDefinition = &quot;BINARY(16)&quot;, nullable = false)\r\n  @JoinColumn(name = &quot;column_2_id&quot;, referencedColumnName = &quot;column_2_id&quot;, columnDefinition = &quot;BINARY(16)&quot;, nullable = false)\r\n  @JoinColumn(name = &quot;column_3_id&quot;, referencedColumnName = &quot;column_3_id&quot;, columnDefinition = &quot;BINARY(16)&quot;, nullable = false)\r\n  private Relationship relationship;\r\n\r\n  @Column(name = &quot;sequential_id&quot;, columnDefinition = &quot;sequential_id&quot;, insertable = false, updatable = false)\r\n  private Integer sequential;\r\n}\r\n```\r\n\r\nThe problem is that the sequential column should be auto generated based on every column_2_id, something like:\r\n\r\n| column_1_id | column_2_id | column_3_id | sequential_id |\r\n|:-----------:|:-----------:|:-----------:|:-------------:|\r\n| A           | A           | A           | 1             |\r\n| A           | A           | A           | 2             |\r\n| A           | A           | B           | 3             |\r\n| A           | A           | B           | 4             |\r\n| &lt;!-- --&gt;    | &lt;!-- --&gt;    | &lt;!-- --&gt;    | &lt;!-- --&gt;      |\r\n| B           | **B**       | C           | **1**         |\r\n| B           | **B**       | C           | **2**         |\r\n| &lt;!-- --&gt;    | &lt;!-- --&gt;    | &lt;!-- --&gt;    | &lt;!-- --&gt;      |\r\n| B           | C           | D           | 1             |\r\n| B           | C           | D           | 2             |\r\n\r\nAny ideia how this could be achieved with Hibernate?\r\n\r\nI&#39;m fine with directions, I would be really, really grateful with any comments if you don&#39;t feel like writing the full answer. Thank you very much.","title":"Hibernate: How to generate sequence for a field in embedded id","body":"<p>I have an @EmbeddedId based on 4 columns. 3 which are an UUID FK and 1 that should be sequential.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Embeddable\npublic class MyId {\n\n  @JoinColumn(name = &quot;column_1_id&quot;, referencedColumnName = &quot;column_1_id&quot;, columnDefinition = &quot;BINARY(16)&quot;, nullable = false)\n  @JoinColumn(name = &quot;column_2_id&quot;, referencedColumnName = &quot;column_2_id&quot;, columnDefinition = &quot;BINARY(16)&quot;, nullable = false)\n  @JoinColumn(name = &quot;column_3_id&quot;, referencedColumnName = &quot;column_3_id&quot;, columnDefinition = &quot;BINARY(16)&quot;, nullable = false)\n  private Relationship relationship;\n\n  @Column(name = &quot;sequential_id&quot;, columnDefinition = &quot;sequential_id&quot;, insertable = false, updatable = false)\n  private Integer sequential;\n}\n</code></pre>\n<p>The problem is that the sequential column should be auto generated based on every column_2_id, something like:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">column_1_id</th>\n<th style=\"text-align: center;\">column_2_id</th>\n<th style=\"text-align: center;\">column_3_id</th>\n<th style=\"text-align: center;\">sequential_id</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">A</td>\n<td style=\"text-align: center;\">A</td>\n<td style=\"text-align: center;\">A</td>\n<td style=\"text-align: center;\">1</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">A</td>\n<td style=\"text-align: center;\">A</td>\n<td style=\"text-align: center;\">A</td>\n<td style=\"text-align: center;\">2</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">A</td>\n<td style=\"text-align: center;\">A</td>\n<td style=\"text-align: center;\">B</td>\n<td style=\"text-align: center;\">3</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">A</td>\n<td style=\"text-align: center;\">A</td>\n<td style=\"text-align: center;\">B</td>\n<td style=\"text-align: center;\">4</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">B</td>\n<td style=\"text-align: center;\"><strong>B</strong></td>\n<td style=\"text-align: center;\">C</td>\n<td style=\"text-align: center;\"><strong>1</strong></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">B</td>\n<td style=\"text-align: center;\"><strong>B</strong></td>\n<td style=\"text-align: center;\">C</td>\n<td style=\"text-align: center;\"><strong>2</strong></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">B</td>\n<td style=\"text-align: center;\">C</td>\n<td style=\"text-align: center;\">D</td>\n<td style=\"text-align: center;\">1</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">B</td>\n<td style=\"text-align: center;\">C</td>\n<td style=\"text-align: center;\">D</td>\n<td style=\"text-align: center;\">2</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Any ideia how this could be achieved with Hibernate?</p>\n<p>I'm fine with directions, I would be really, really grateful with any comments if you don't feel like writing the full answer. Thank you very much.</p>\n"},{"tags":["java","spring","spring-boot","spring-data"],"comments":[{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1653579713,"post_id":72394419,"comment_id":127890623,"body_markdown":"Can you add some sample data for each table along with expected output vs current output","body":"Can you add some sample data for each table along with expected output vs current output"},{"owner":{"account_id":6123832,"reputation":83,"user_id":4776509,"accept_rate":0,"display_name":"Magnum"},"score":0,"creation_date":1653582973,"post_id":72394419,"comment_id":127891820,"body_markdown":"Please find the updates with sample data above","body":"Please find the updates with sample data above"}],"answers":[{"tags":[],"owner":{"account_id":6123832,"reputation":83,"user_id":4776509,"accept_rate":0,"display_name":"Magnum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653587642,"creation_date":1653587642,"answer_id":72396077,"question_id":72394419,"body_markdown":"My problem got resolved by using the @IdClass annotation as the resulting data from the query was a join and the uniqueness can be maintained by a combination of fields !!","title":"Springboot giving redundant fields with multiple tables native query","body":"<p>My problem got resolved by using the @IdClass annotation as the resulting data from the query was a join and the uniqueness can be maintained by a combination of fields !!</p>\n"}],"owner":{"account_id":6123832,"reputation":83,"user_id":4776509,"accept_rate":0,"display_name":"Magnum"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653587642,"creation_date":1653579482,"question_id":72394419,"body_markdown":"I have a native query in spring boot like this:\r\n\r\n    select\r\n    a.x,\r\n    a.y,\r\n    b.m,\r\n    b.n\r\n    from \r\n    table1 a,\r\n    table2 b\r\n    where\r\n    a.x = b.x\r\n    order by a.x\r\n\r\nhere for each entry for table1 there can be multiple matching rows in table2. I.e there is OneToMany mapping.\r\n\r\nfor this i created an object to hold the data:\r\n\r\n@Entity\r\n@Table(name=&quot;table1&quot;)\r\n@SecondaryTable(name = &quot;table2&quot;, pkJoinColumns = {@PrimaryKeyJoinColumn(name = &quot;x&quot;, referencedColumnName = &quot;x&quot;)})\r\npublic class TableData {\r\n\r\n\r\n    @Id\r\n    @Column(name = &quot;x&quot;)\r\n    public String x;\r\n\r\n\r\n    @Column(name = &quot;y&quot;)\r\n    public String y;\r\n\r\n\r\n    @Column(name = &quot;m&quot;, table = &quot;table2&quot;)\r\n    public String m;\r\n\r\n\r\n    @Column(name = &quot;n&quot;, table = &quot;table2&quot;)\r\n    public String n;\r\n\r\n    //getters and setters\r\n\r\n\r\nWhen i execute the sql in my db i see the results coming fine. I.e i see two different rows with same a.x but with different b.m and b.n\r\n\r\nBut my json response has two identical rows with same a.x and same b.m and b.n\r\n\r\nSample data:\r\n\r\ntable1:\r\nManagerID|ManagerName|Role\r\n&#39;1&#39;,&#39;John&#39;,&#39;Manager&#39;\r\n\r\ntable2:\r\nManagerID|AssociateName|AssociateId&lt;br&gt;\r\n&#39;1&#39;,&#39;Peter&#39;,&#39;2&#39;&lt;br&gt;\r\n&#39;1&#39;,&#39;Jacob&#39;,&#39;3&#39;\r\n\r\nExpected output&lt;br&gt;\r\n\r\n&#39;1&#39;,&#39;John&#39;,&#39;Peter&#39;,&#39;2&#39;&lt;br&gt;\r\n&#39;1&#39;,&#39;John&#39;,&#39;Jacob&#39;,&#39;3&#39;\r\n\r\nOutput i am seeing right now:&lt;br&gt;\r\n\r\n&#39;1&#39;,&#39;John&#39;,&#39;Peter&#39;,&#39;2&#39;&lt;br&gt;\r\n&#39;1&#39;,&#39;John&#39;,&#39;Peter&#39;,&#39;2&#39;\r\n\r\n\r\n\r\n\r\n\r\nAny guess where i am getting wrong ??\r\n\r\n\r\n\r\n\r\n\r\n","title":"Springboot giving redundant fields with multiple tables native query","body":"<p>I have a native query in spring boot like this:</p>\n<pre><code>select\na.x,\na.y,\nb.m,\nb.n\nfrom \ntable1 a,\ntable2 b\nwhere\na.x = b.x\norder by a.x\n</code></pre>\n<p>here for each entry for table1 there can be multiple matching rows in table2. I.e there is OneToMany mapping.</p>\n<p>for this i created an object to hold the data:</p>\n<p>@Entity\n@Table(name=&quot;table1&quot;)\n@SecondaryTable(name = &quot;table2&quot;, pkJoinColumns = {@PrimaryKeyJoinColumn(name = &quot;x&quot;, referencedColumnName = &quot;x&quot;)})\npublic class TableData {</p>\n<pre><code>@Id\n@Column(name = &quot;x&quot;)\npublic String x;\n\n\n@Column(name = &quot;y&quot;)\npublic String y;\n\n\n@Column(name = &quot;m&quot;, table = &quot;table2&quot;)\npublic String m;\n\n\n@Column(name = &quot;n&quot;, table = &quot;table2&quot;)\npublic String n;\n\n//getters and setters\n</code></pre>\n<p>When i execute the sql in my db i see the results coming fine. I.e i see two different rows with same a.x but with different b.m and b.n</p>\n<p>But my json response has two identical rows with same a.x and same b.m and b.n</p>\n<p>Sample data:</p>\n<p>table1:\nManagerID|ManagerName|Role\n'1','John','Manager'</p>\n<p>table2:\nManagerID|AssociateName|AssociateId<br>\n'1','Peter','2'<br>\n'1','Jacob','3'</p>\n<p>Expected output<br></p>\n<p>'1','John','Peter','2'<br>\n'1','John','Jacob','3'</p>\n<p>Output i am seeing right now:<br></p>\n<p>'1','John','Peter','2'<br>\n'1','John','Peter','2'</p>\n<p>Any guess where i am getting wrong ??</p>\n"},{"tags":["java","database","postgresql","spring-boot","duplicates"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1653587277,"post_id":72395972,"comment_id":127893237,"body_markdown":"Why doesn&#39;t the other party let the id be autoincremented by the db?","body":"Why doesn&#39;t the other party let the id be autoincremented by the db?"},{"owner":{"account_id":2188791,"reputation":87,"user_id":1936503,"display_name":"Adrian Kreator"},"score":0,"creation_date":1653587356,"post_id":72395972,"comment_id":127893265,"body_markdown":"they generated it before reaching my db","body":"they generated it before reaching my db"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1653587534,"post_id":72395972,"comment_id":127893314,"body_markdown":"Do they need to? One possibility might be to generate the values in the db and return the generated ids. Otherwise you&#39;ll have a hard time synchronizing the values properly without some hacks.","body":"Do they need to? One possibility might be to generate the values in the db and return the generated ids. Otherwise you&#39;ll have a hard time synchronizing the values properly without some hacks."},{"owner":{"account_id":101001,"reputation":119808,"user_id":271959,"display_name":"Frank Heikens"},"score":1,"creation_date":1653590869,"post_id":72395972,"comment_id":127894414,"body_markdown":"When multiple parties outside the control of the database try to create unique identifiers, a UUID is a beter/safer solution. Next to impossible to create a conflicting id.","body":"When multiple parties outside the control of the database try to create unique identifiers, a UUID is a beter/safer solution. Next to impossible to create a conflicting id."}],"answers":[{"tags":[],"owner":{"account_id":3109151,"reputation":75,"user_id":7032301,"display_name":"M Ahmad Mujtaba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653587401,"creation_date":1653587401,"answer_id":72396037,"question_id":72395972,"body_markdown":"You should pair-up XEntity with name of unique thirdparty column as a pair-unique constraint such that Id 1-&gt;+inf is unique for all third parties involved. If Id is primary key then use composite key as primary key.","title":"How to prevent duplicate Integer new value in database?","body":"<p>You should pair-up XEntity with name of unique thirdparty column as a pair-unique constraint such that Id 1-&gt;+inf is unique for all third parties involved. If Id is primary key then use composite key as primary key.</p>\n"}],"owner":{"account_id":2188791,"reputation":87,"user_id":1936503,"display_name":"Adrian Kreator"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653587401,"creation_date":1653587048,"question_id":72395972,"body_markdown":"In my Spring Boot Java application, in the db, there are entries added regularly to an entity (XEntity) with some Integer field that is unique (&quot;some_fieldId&quot;).\r\nThere are already a lot of entries added (autoincremented from 1 to about 6000000).\r\n\r\nNow, in a new feature, some other third party will add entries too but I need to be sure that &quot;some_fieldId&quot; doesn&#39;t already exist. They naturally wanted to start with the first id=1.\r\n\r\nWhat strategy may I suggest to them for generating that Integer field (&quot;some_fieldId&quot;) in order to preserve unicity?\r\n\r\nSomething that I have in my mind is to generate only negative ids, but they don&#39;t agree too much with that.\r\n","title":"How to prevent duplicate Integer new value in database?","body":"<p>In my Spring Boot Java application, in the db, there are entries added regularly to an entity (XEntity) with some Integer field that is unique (&quot;some_fieldId&quot;).\nThere are already a lot of entries added (autoincremented from 1 to about 6000000).</p>\n<p>Now, in a new feature, some other third party will add entries too but I need to be sure that &quot;some_fieldId&quot; doesn't already exist. They naturally wanted to start with the first id=1.</p>\n<p>What strategy may I suggest to them for generating that Integer field (&quot;some_fieldId&quot;) in order to preserve unicity?</p>\n<p>Something that I have in my mind is to generate only negative ids, but they don't agree too much with that.</p>\n"},{"tags":["java","do-while"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1653586495,"post_id":72395797,"comment_id":127892998,"body_markdown":"There are few errors in logic. For instance `divideByZero.equals(divideByZero)` will always be true (unless there are other threads involved, but it is not the case here). Same about `notValidInput.equals(notValidInput)` and `exception.equals(exception)`.","body":"There are few errors in logic. For instance <code>divideByZero.equals(divideByZero)</code> will always be true (unless there are other threads involved, but it is not the case here). Same about <code>notValidInput.equals(notValidInput)</code> and <code>exception.equals(exception)</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1653586600,"post_id":72395797,"comment_id":127893028,"body_markdown":"Also you are calling `scan.close();` in first iteration of your loop which means in next iteration you can&#39;t use `scan` or `System.in`.","body":"Also you are calling <code>scan.close();</code> in first iteration of your loop which means in next iteration you can&#39;t use <code>scan</code> or <code>System.in</code>."}],"owner":{"account_id":25014379,"reputation":51,"user_id":18873592,"display_name":"Orest Dymarchuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653586401,"answer_count":0,"score":0,"last_activity_date":1653586200,"creation_date":1653586200,"question_id":72395797,"body_markdown":"I&#39;m trying to write a simple calculator, I want to restart the program when an error occurs.\r\nThe problem is that &quot;while&quot; works incorrectly.\r\nWhen I enter incorrect data, &quot;while&quot; starts to work infinite.\r\n\r\nCan you give me a hint or advice?\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Test {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner scan = new Scanner(System.in);\r\n    \r\n    \t\tString divideByZero = &quot;Cannot divide by zero&quot;;\r\n    \t\tString notValidInput = &quot;Not a valid input data&quot;;\r\n    \t\tString exception = &quot;Wrong input data&quot;;\r\n    \r\n    \t\tdo {\r\n    \t\t\ttry {\r\n    \t\t\t\tSystem.out.println(&quot;Write a number one&quot;);\r\n    \t\t\t\tint operand1 = scan.nextInt();\r\n    \t\t\t\tSystem.out.println(&quot;Write a sign of arithmetic operation&quot;);\r\n    \t\t\t\tString sign = scan.next();\r\n    \t\t\t\tSystem.out.println(&quot;Write a number two&quot;);\r\n    \t\t\t\tint operand2 = scan.nextInt();\r\n    \r\n    \t\t\t\tswitch (sign) {\r\n    \t\t\t\tcase &quot;+&quot;:\r\n    \t\t\t\t\tSystem.out.println(operand1 + operand2);\r\n    \t\t\t\t\tbreak;\r\n    \r\n    \t\t\t\tcase &quot;-&quot;:\r\n    \t\t\t\t\tSystem.out.println(operand1 - operand2);\r\n    \t\t\t\t\tbreak;\r\n    \r\n    \t\t\t\tcase &quot;*&quot;:\r\n    \t\t\t\t\tSystem.out.println(operand1 * operand2);\r\n    \t\t\t\t\tbreak;\r\n    \r\n    \t\t\t\tcase &quot;/&quot;:\r\n    \t\t\t\t\tif (operand2 == 0)\r\n    \t\t\t\t\t\tSystem.out.println(divideByZero);\r\n    \t\t\t\t\telse\r\n    \t\t\t\t\t\tSystem.out.println(operand1 / operand2);\r\n    \t\t\t\t\tbreak;\r\n    \r\n    \t\t\t\tdefault:\r\n    \t\t\t\t\tSystem.out.println(notValidInput);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\tSystem.out.print(exception);\r\n    \r\n    \t\t\t} finally {\r\n    \t\t\t\tscan.close();\r\n    \t\t\t}\r\n    \t\t} while (divideByZero.equals(divideByZero) || notValidInput.equals(notValidInput)\r\n    \t\t\t\t|| exception.equals(exception));\r\n    \t}\r\n    }","title":"Restart the program due to error (Do While) Java","body":"<p>I'm trying to write a simple calculator, I want to restart the program when an error occurs.\nThe problem is that &quot;while&quot; works incorrectly.\nWhen I enter incorrect data, &quot;while&quot; starts to work infinite.</p>\n<p>Can you give me a hint or advice?</p>\n<pre><code>import java.util.Scanner;\n\npublic class Test {\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n\n        String divideByZero = &quot;Cannot divide by zero&quot;;\n        String notValidInput = &quot;Not a valid input data&quot;;\n        String exception = &quot;Wrong input data&quot;;\n\n        do {\n            try {\n                System.out.println(&quot;Write a number one&quot;);\n                int operand1 = scan.nextInt();\n                System.out.println(&quot;Write a sign of arithmetic operation&quot;);\n                String sign = scan.next();\n                System.out.println(&quot;Write a number two&quot;);\n                int operand2 = scan.nextInt();\n\n                switch (sign) {\n                case &quot;+&quot;:\n                    System.out.println(operand1 + operand2);\n                    break;\n\n                case &quot;-&quot;:\n                    System.out.println(operand1 - operand2);\n                    break;\n\n                case &quot;*&quot;:\n                    System.out.println(operand1 * operand2);\n                    break;\n\n                case &quot;/&quot;:\n                    if (operand2 == 0)\n                        System.out.println(divideByZero);\n                    else\n                        System.out.println(operand1 / operand2);\n                    break;\n\n                default:\n                    System.out.println(notValidInput);\n                    break;\n                }\n            } catch (Exception e) {\n                System.out.print(exception);\n\n            } finally {\n                scan.close();\n            }\n        } while (divideByZero.equals(divideByZero) || notValidInput.equals(notValidInput)\n                || exception.equals(exception));\n    }\n}\n</code></pre>\n"},{"tags":["java","android","in-app-purchase","in-app-billing"],"comments":[{"owner":{"account_id":15867569,"reputation":622,"user_id":11449261,"display_name":"Vanheden"},"score":2,"creation_date":1621653751,"post_id":67607661,"comment_id":119567145,"body_markdown":"I&#39;m trying to figure out these changes as well. But isn&#39;t your problem perhaps that you compare a String value PRODUCT_ID with a List&lt;String&gt; purchase.getSkus()? Perhaps try if (PRODUCT_ID.equals(purchase.getSkus().get(0) &amp;&amp;.....) instead?","body":"I&#39;m trying to figure out these changes as well. But isn&#39;t your problem perhaps that you compare a String value PRODUCT_ID with a List&lt;String&gt; purchase.getSkus()? Perhaps try if (PRODUCT_ID.equals(purchase.getSkus().get(0) &amp;&amp;.....) instead?"},{"owner":{"account_id":466127,"reputation":285,"user_id":5855091,"accept_rate":0,"display_name":"chitgoks"},"score":2,"creation_date":1621683854,"post_id":67607661,"comment_id":119572514,"body_markdown":"getSkus() returns an ArrayList&lt;String&gt;. Perhaps loop through each of them and do your PRODUCT_ID.equals() ? It is irritating to have to change blocks of code because of the changes. Would have been ok if it&#39;s just a method/param name change. They had to change billingClient.queryPurchases() as well.","body":"getSkus() returns an ArrayList&lt;String&gt;. Perhaps loop through each of them and do your PRODUCT_ID.equals() ? It is irritating to have to change blocks of code because of the changes. Would have been ok if it&#39;s just a method/param name change. They had to change billingClient.queryPurchases() as well."},{"owner":{"account_id":6926316,"reputation":4123,"user_id":5317298,"accept_rate":70,"display_name":"RGS"},"score":0,"creation_date":1621723888,"post_id":67607661,"comment_id":119582841,"body_markdown":"@chitgoks Thanks, I will try. Yes, new version, more work to do.","body":"@chitgoks Thanks, I will try. Yes, new version, more work to do."},{"owner":{"account_id":1823300,"reputation":6119,"user_id":1656824,"accept_rate":59,"display_name":"Tertium"},"score":3,"creation_date":1625824854,"post_id":67607661,"comment_id":120736425,"body_markdown":"They killed billing 2.0, those b@stards )) If only they updated docs! It&#39;s July 2021, still undocumented","body":"They killed billing 2.0, those b@stards )) If only they updated docs! It&#39;s July 2021, still undocumented"},{"owner":{"account_id":3401965,"reputation":1179,"user_id":2853925,"display_name":"tuanvn91"},"score":0,"creation_date":1673507270,"post_id":67607661,"comment_id":132515713,"body_markdown":"Dear @RGS, can you share some code about verifyValidSignature()","body":"Dear @RGS, can you share some code about verifyValidSignature()"}],"answers":[{"tags":[],"owner":{"account_id":15867569,"reputation":622,"user_id":11449261,"display_name":"Vanheden"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1621719403,"creation_date":1621719017,"answer_id":67654342,"question_id":67607661,"body_markdown":"As I mentioned earlier in a comment you are comparing a String to a List object, but as chitgoks said it is `ArrayList&lt;String&gt;` and not `List&lt;String&gt;` as i assumed. I&#39;m not sure if you would ever get more than one sku-string (since you probably don&#39;t order multiple things at the same time?) but either look trough them all to be sure or take a chance and compare PRODUCT_ID with only purchase.getSkus().get(0).\r\n\r\nThe new async call for purchases seems to require only small changes. \r\n\r\nExample of old way to do it:\r\n\r\n    Purchase.PurchasesResult result = billingClient.queryPurchases(BillingClient.SkuType.SUBS);\r\n    doSomethingWithPurchaseList(result.getPurchasesList());\r\n\r\n\r\nAnd this would be the new way to do the same:\r\n\r\n    billingClient.queryPurchasesAsync(BillingClient.SkuType.SUBS, new PurchasesResponseListener() {\r\n            @Override\r\n            public void onQueryPurchasesResponse(@NonNull BillingResult billingResult, @NonNull List&lt;Purchase&gt; list) {\r\n                doSomethingWithPurchaseList(list);\r\n            }\r\n        });","title":"android billing:4.0.0 - queryPurchases(INAPP) and purchase.getSku()","body":"<p>As I mentioned earlier in a comment you are comparing a String to a List object, but as chitgoks said it is <code>ArrayList&lt;String&gt;</code> and not <code>List&lt;String&gt;</code> as i assumed. I'm not sure if you would ever get more than one sku-string (since you probably don't order multiple things at the same time?) but either look trough them all to be sure or take a chance and compare PRODUCT_ID with only purchase.getSkus().get(0).</p>\n<p>The new async call for purchases seems to require only small changes.</p>\n<p>Example of old way to do it:</p>\n<pre><code>Purchase.PurchasesResult result = billingClient.queryPurchases(BillingClient.SkuType.SUBS);\ndoSomethingWithPurchaseList(result.getPurchasesList());\n</code></pre>\n<p>And this would be the new way to do the same:</p>\n<pre><code>billingClient.queryPurchasesAsync(BillingClient.SkuType.SUBS, new PurchasesResponseListener() {\n        @Override\n        public void onQueryPurchasesResponse(@NonNull BillingResult billingResult, @NonNull List&lt;Purchase&gt; list) {\n            doSomethingWithPurchaseList(list);\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9364384,"reputation":345,"user_id":6949783,"display_name":"krecious"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1642188260,"creation_date":1622600584,"answer_id":67798098,"question_id":67607661,"body_markdown":"getSkus returns an `ArrayList&lt;String&gt;`. Please use `contains` as below.\r\n\r\n    purchase.getSkus().contains(YOUR_PRODUCT_ID.toLowerCase())","title":"android billing:4.0.0 - queryPurchases(INAPP) and purchase.getSku()","body":"<p>getSkus returns an <code>ArrayList&lt;String&gt;</code>. Please use <code>contains</code> as below.</p>\n<pre><code>purchase.getSkus().contains(YOUR_PRODUCT_ID.toLowerCase())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20811220,"reputation":11,"user_id":15285110,"display_name":"Shivam Rajput"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629977181,"creation_date":1629820151,"answer_id":68910375,"question_id":67607661,"body_markdown":"So you all know new billing library has new feature\r\n\r\n1. every thing will be in background thread so do not do change anything on main UI during acknowledgement of purchase and restoring purchase.\r\n\r\n2. if you are giving consumable purchase then user can now buy same sku in more quantity in one purchase so write logic accordingly. use getQuantity() function.\r\n\r\n3. to restore non consumable.\r\n\r\n```\r\nbillingClient.queryPurchasesAsync(\r\n  BillingClient.SkuType.INAPP,\r\n  new PurchasesResponseListener() {\r\n\r\n    @Override\r\n    public void onQueryPurchasesResponse(@NonNull BillingResult billingResult, @NonNull List &lt; Purchase &gt; myPurchases) {\r\n\r\n      if (!myPurchases.isEmpty()) {\r\n\r\n        for (Object p: myPurchases) {\r\n          final Purchase purchase = (Purchase) p;\r\n          if (purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp; purchase.getSkus.contains(&quot;sku here&quot;) {\r\n              handlePurchase(purchase);\r\n            }\r\n\r\n          }\r\n        });\r\n    }\r\n  }\r\n)\r\n```","title":"android billing:4.0.0 - queryPurchases(INAPP) and purchase.getSku()","body":"<p>So you all know new billing library has new feature</p>\n<ol>\n<li><p>every thing will be in background thread so do not do change anything on main UI during acknowledgement of purchase and restoring purchase.</p>\n</li>\n<li><p>if you are giving consumable purchase then user can now buy same sku in more quantity in one purchase so write logic accordingly. use getQuantity() function.</p>\n</li>\n<li><p>to restore non consumable.</p>\n</li>\n</ol>\n<pre><code>billingClient.queryPurchasesAsync(\n  BillingClient.SkuType.INAPP,\n  new PurchasesResponseListener() {\n\n    @Override\n    public void onQueryPurchasesResponse(@NonNull BillingResult billingResult, @NonNull List &lt; Purchase &gt; myPurchases) {\n\n      if (!myPurchases.isEmpty()) {\n\n        for (Object p: myPurchases) {\n          final Purchase purchase = (Purchase) p;\n          if (purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp; purchase.getSkus.contains(&quot;sku here&quot;) {\n              handlePurchase(purchase);\n            }\n\n          }\n        });\n    }\n  }\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1394813,"reputation":4459,"user_id":1324802,"accept_rate":56,"display_name":"Androidcoder"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1653585954,"creation_date":1653513007,"answer_id":72384222,"question_id":67607661,"body_markdown":"Posting this a year in. As with billing 4.0.0, the documentation &#39;Integrate the Google Play Billing Library into your app&#39; as of billing 5.0.0 is buggy and incomplete, although possibly not as bad as a year ago. Now we are dealing with ProductDetails instead of SkuDetails objects. Also note the following corrections in documentation:\r\n\r\n    QueryProductDetailsParams queryProductDetailsParams =\r\n    QueryProductDetailsParams.newBuilder()\r\n        .setProductList(\r\n            ImmutableList.of(\r\n          \r\nshould be:\r\n\r\n    QueryProductDetailsParams queryProductDetailsParams =\r\n    QueryProductDetailsParams.newBuilder()\r\n        .setProductList(\r\n            ImmutableList.from,(//&#39;from&#39; instead of &#39;of&#39;      \r\n\r\n...\r\n\r\n    BillingFlowParams billingFlowParams =\r\n    BillingFlowParams.newBuilder()\r\n        .setProductDetailsParamsList(\r\n            ImmuableList.of(\r\n              \r\n\r\nshould be:\r\n\r\n    BillingFlowParams billingFlowParams =\r\n    BillingFlowParams.newBuilder()\r\n        .setProductDetailsParamsList(\r\n            ImmutableList.from(//&#39;ImmutableList.from&#39; instead of &#39;ImmuableList.of&#39;\r\n               \r\n...\r\n\r\n    billingClient.queryProductDetailsAsync(\r\n    queryProductDetailsParams,\r\n    new ProductDetailsResponseListener() {\r\n        public void onProductDetailsResponse(BillingResult billingResult,\r\n                List&lt;ProductDetails&gt; productDetailsList) () {\r\n           \r\n\r\nshould be:\r\n\r\n    billingClient.queryProductDetailsAsync(\r\n    queryProductDetailsParams,\r\n    new ProductDetailsResponseListener() {\r\n        public void onProductDetailsResponse(BillingResult billingResult,\r\n                List&lt;ProductDetails&gt; productDetailsList) {//no extra parens\r\n           \r\n...\r\n\r\n    //Incomplete\r\n    billingClient.queryPurchasesAsync(\r\n        QueryPurchasesParams.newBuilder()\r\n            .setProductType(ProductType.SUBS)\r\n            .build(),\r\n        /* purchaseResponseListener= */ this\r\n    );\r\n    \r\n    // PurchaseResponseListener implementation.\r\n    public void onQueryPurchasesResponse(BillingResult billingResult, List&lt;Purchase&gt; purchases) {\r\n        // check BillingResult\r\n        // process returned purchase list, e.g. display the plans user owns\r\n    }\r\n\r\nThe most disappointing part of documentation IMHO. It just gives clues and the &#39;this&#39; is missleading, you will get an error with the suggestion to cast purchaseResponseListener to it. An actual implementation would be:\r\n\r\n    billingClient.queryPurchasesAsync(\r\n                    QueryPurchasesParams.newBuilder()\r\n                            .setProductType(BillingClient.ProductType.INAPP)//or SUBS\r\n                            .build(),\r\n                    new PurchasesResponseListener() {\r\n                        @Override\r\n                        public void onQueryPurchasesResponse(BillingResult billingResult, List&lt;Purchase&gt; purchases) {\r\n                             if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK&amp;&amp;purchases != null) {\r\n                                for (Purchase purchase : purchases) {\r\n                                    handlePurchase(purchase);\r\n                                }\r\n                                 }\r\n                        }\r\n                    }\r\n            );\r\n\r\nIn your code, &#39;purchase.getSku&#39; won&#39;t be recognized as the method was &#39;purchase.getSkus()&#39;. This is depreciated now anyways and you would use the following to pull the product id (sku) off. Likely you will have just one product for a puchase object, although users can now buy multiple products with a single purchase:\r\n\r\n    purchase.getProducts().get(0)\r\n","title":"android billing:4.0.0 - queryPurchases(INAPP) and purchase.getSku()","body":"<p>Posting this a year in. As with billing 4.0.0, the documentation 'Integrate the Google Play Billing Library into your app' as of billing 5.0.0 is buggy and incomplete, although possibly not as bad as a year ago. Now we are dealing with ProductDetails instead of SkuDetails objects. Also note the following corrections in documentation:</p>\n<pre><code>QueryProductDetailsParams queryProductDetailsParams =\nQueryProductDetailsParams.newBuilder()\n    .setProductList(\n        ImmutableList.of(\n      \n</code></pre>\n<p>should be:</p>\n<pre><code>QueryProductDetailsParams queryProductDetailsParams =\nQueryProductDetailsParams.newBuilder()\n    .setProductList(\n        ImmutableList.from,(//'from' instead of 'of'      \n</code></pre>\n<p>...</p>\n<pre><code>BillingFlowParams billingFlowParams =\nBillingFlowParams.newBuilder()\n    .setProductDetailsParamsList(\n        ImmuableList.of(\n          \n</code></pre>\n<p>should be:</p>\n<pre><code>BillingFlowParams billingFlowParams =\nBillingFlowParams.newBuilder()\n    .setProductDetailsParamsList(\n        ImmutableList.from(//'ImmutableList.from' instead of 'ImmuableList.of'\n           \n</code></pre>\n<p>...</p>\n<pre><code>billingClient.queryProductDetailsAsync(\nqueryProductDetailsParams,\nnew ProductDetailsResponseListener() {\n    public void onProductDetailsResponse(BillingResult billingResult,\n            List&lt;ProductDetails&gt; productDetailsList) () {\n       \n</code></pre>\n<p>should be:</p>\n<pre><code>billingClient.queryProductDetailsAsync(\nqueryProductDetailsParams,\nnew ProductDetailsResponseListener() {\n    public void onProductDetailsResponse(BillingResult billingResult,\n            List&lt;ProductDetails&gt; productDetailsList) {//no extra parens\n       \n</code></pre>\n<p>...</p>\n<pre><code>//Incomplete\nbillingClient.queryPurchasesAsync(\n    QueryPurchasesParams.newBuilder()\n        .setProductType(ProductType.SUBS)\n        .build(),\n    /* purchaseResponseListener= */ this\n);\n\n// PurchaseResponseListener implementation.\npublic void onQueryPurchasesResponse(BillingResult billingResult, List&lt;Purchase&gt; purchases) {\n    // check BillingResult\n    // process returned purchase list, e.g. display the plans user owns\n}\n</code></pre>\n<p>The most disappointing part of documentation IMHO. It just gives clues and the 'this' is missleading, you will get an error with the suggestion to cast purchaseResponseListener to it. An actual implementation would be:</p>\n<pre><code>billingClient.queryPurchasesAsync(\n                QueryPurchasesParams.newBuilder()\n                        .setProductType(BillingClient.ProductType.INAPP)//or SUBS\n                        .build(),\n                new PurchasesResponseListener() {\n                    @Override\n                    public void onQueryPurchasesResponse(BillingResult billingResult, List&lt;Purchase&gt; purchases) {\n                         if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK&amp;&amp;purchases != null) {\n                            for (Purchase purchase : purchases) {\n                                handlePurchase(purchase);\n                            }\n                             }\n                    }\n                }\n        );\n</code></pre>\n<p>In your code, 'purchase.getSku' won't be recognized as the method was 'purchase.getSkus()'. This is depreciated now anyways and you would use the following to pull the product id (sku) off. Likely you will have just one product for a puchase object, although users can now buy multiple products with a single purchase:</p>\n<pre><code>purchase.getProducts().get(0)\n</code></pre>\n"}],"owner":{"account_id":6926316,"reputation":4123,"user_id":5317298,"accept_rate":70,"display_name":"RGS"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25257,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"answer_count":4,"score":50,"last_activity_date":1653585954,"creation_date":1621443443,"question_id":67607661,"body_markdown":"I refresh to android billing version 4 and 2 things are not working anymore.\r\n\r\nFirst I have this:\r\n\r\n    else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.ITEM_ALREADY_OWNED) {\r\n                Purchase.PurchasesResult queryAlreadyPurchasesResult = billingClient.queryPurchases(INAPP); // deprecated\r\n                List&lt;Purchase&gt; alreadyPurchases = queryAlreadyPurchasesResult.getPurchasesList();\r\n                if(alreadyPurchases!=null){\r\n                    handlePurchases(alreadyPurchases);\r\n                }\r\n            }\r\n\r\n**queryPurchases is deprecated.**\r\n\r\nSecond I have this:\r\n\r\n    void handlePurchases(List&lt;Purchase&gt;  purchases) {\r\n        for(Purchase purchase:purchases) {\r\n            //if item is purchased\r\n            if (PRODUCT_ID.equals(purchase.getSku()) &amp;&amp; purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED)\r\n            {\r\n                if (!verifyValidSignature(purchase.getOriginalJson(), purchase.getSignature())) {\r\n                    // Invalid purchase\r\n                    // show error to user\r\n                    Toast.makeText(getApplicationContext(), R.string.plus_error, Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n\r\ngetSku() was working, but now it is mark as `Cannot resolve method getSku() in Purchase`\r\n\r\nAny ideas how to solve this issues?\r\n\r\n\r\n-------\r\n\r\nFrom docs:\r\n\r\n    Summary of changes\r\n    Added BillingClient.queryPurchasesAsync() to replace BillingClient.queryPurchases() which will be removed in a future release.\r\n    \r\n    Added Purchase#getSkus() and PurchaseHistoryRecord#getSkus(). These replace Purchase#getSku and PurchaseHistoryRecord#getSku which have been removed.\r\n\r\n\r\nBut I don&#39;t know how to apply this new commands in my code above.\r\n\r\nIf I change getSku to getSkus my if `if (PRODUCT_ID.equals(purchase.getSkus()) &amp;&amp; purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED)` will say that it is always false. And I have no idea how to use queryPurchasesAsync(), need 2 params now.\r\n\r\nThanks.","title":"android billing:4.0.0 - queryPurchases(INAPP) and purchase.getSku()","body":"<p>I refresh to android billing version 4 and 2 things are not working anymore.</p>\n<p>First I have this:</p>\n<pre><code>else if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.ITEM_ALREADY_OWNED) {\n            Purchase.PurchasesResult queryAlreadyPurchasesResult = billingClient.queryPurchases(INAPP); // deprecated\n            List&lt;Purchase&gt; alreadyPurchases = queryAlreadyPurchasesResult.getPurchasesList();\n            if(alreadyPurchases!=null){\n                handlePurchases(alreadyPurchases);\n            }\n        }\n</code></pre>\n<p><strong>queryPurchases is deprecated.</strong></p>\n<p>Second I have this:</p>\n<pre><code>void handlePurchases(List&lt;Purchase&gt;  purchases) {\n    for(Purchase purchase:purchases) {\n        //if item is purchased\n        if (PRODUCT_ID.equals(purchase.getSku()) &amp;&amp; purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED)\n        {\n            if (!verifyValidSignature(purchase.getOriginalJson(), purchase.getSignature())) {\n                // Invalid purchase\n                // show error to user\n                Toast.makeText(getApplicationContext(), R.string.plus_error, Toast.LENGTH_SHORT).show();\n                return;\n            }\n</code></pre>\n<p>getSku() was working, but now it is mark as <code>Cannot resolve method getSku() in Purchase</code></p>\n<p>Any ideas how to solve this issues?</p>\n<hr />\n<p>From docs:</p>\n<pre><code>Summary of changes\nAdded BillingClient.queryPurchasesAsync() to replace BillingClient.queryPurchases() which will be removed in a future release.\n\nAdded Purchase#getSkus() and PurchaseHistoryRecord#getSkus(). These replace Purchase#getSku and PurchaseHistoryRecord#getSku which have been removed.\n</code></pre>\n<p>But I don't know how to apply this new commands in my code above.</p>\n<p>If I change getSku to getSkus my if <code>if (PRODUCT_ID.equals(purchase.getSkus()) &amp;&amp; purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED)</code> will say that it is always false. And I have no idea how to use queryPurchasesAsync(), need 2 params now.</p>\n<p>Thanks.</p>\n"},{"tags":["java","annotations","icons","jfreechart"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1653004833,"post_id":72311226,"comment_id":127751296,"body_markdown":"I know little about JFreeChart, but a generic solution would be to draw an image over top of the chart (For example on a different layer or glass pane).","body":"I know little about JFreeChart, but a generic solution would be to draw an image over top of the chart (For example on a different layer or glass pane)."},{"owner":{"account_id":23241579,"reputation":77,"user_id":17330806,"display_name":"carloslopez"},"score":0,"creation_date":1653005751,"post_id":72311226,"comment_id":127751425,"body_markdown":"i&#39;m thinking that actually the X value that i want to have the icon is the left limit axis value, so if I get to obtain this I would already have it, any idea about how can I do this? Thanks in advance.","body":"i&#39;m thinking that actually the X value that i want to have the icon is the left limit axis value, so if I get to obtain this I would already have it, any idea about how can I do this? Thanks in advance."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1653067309,"post_id":72311226,"comment_id":127768879,"body_markdown":"@sorifiend&#39;s suggestion is sound but probably unnecessary; just remember that `XYImageAnnotation` requires _data_ coordinates, rather than __screen_ coordinates, for [example](https://stackoverflow.com/a/71801198/230513). Also consider an `XYShapeAnnotation` instead.","body":"@sorifiend&#39;s suggestion is sound but probably unnecessary; just remember that <code>XYImageAnnotation</code> requires <i>data</i> coordinates, rather than <i>_screen</i> coordinates, for <a href=\"https://stackoverflow.com/a/71801198/230513\">example</a>. Also consider an <code>XYShapeAnnotation</code> instead."},{"owner":{"account_id":95999,"reputation":7037,"user_id":261156,"display_name":"Catalina Island"},"score":1,"creation_date":1653086924,"post_id":72311226,"comment_id":127773866,"body_markdown":"What would its position be &quot;without taking into account the zoom?&quot; Half-way? I guess you could override `XYPlot::draw`.","body":"What would its position be &quot;without taking into account the zoom?&quot; Half-way? I guess you could override <code>XYPlot::draw</code>."},{"owner":{"account_id":23241579,"reputation":77,"user_id":17330806,"display_name":"carloslopez"},"score":0,"creation_date":1653087186,"post_id":72311226,"comment_id":127773893,"body_markdown":"@CatalinaIsland the X position must to be the left border of the chart frame always and with any Y value","body":"@CatalinaIsland the X position must to be the left border of the chart frame always and with any Y value"},{"owner":{"account_id":95999,"reputation":7037,"user_id":261156,"display_name":"Catalina Island"},"score":2,"creation_date":1653087958,"post_id":72311226,"comment_id":127773985,"body_markdown":"If you don&#39;t want override `XYPlot::draw`, I guess you could add an `AnnotationChangeListener` and update the position to what you want.","body":"If you don&#39;t want override <code>XYPlot::draw</code>, I guess you could add an <code>AnnotationChangeListener</code> and update the position to what you want."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1653257599,"post_id":72311226,"comment_id":127800961,"body_markdown":"Maybe two `IntervalMarker`s, for [example](https://stackoverflow.com/a/38879705/230513).","body":"Maybe two <code>IntervalMarker</code>s, for <a href=\"https://stackoverflow.com/a/38879705/230513\">example</a>."},{"owner":{"account_id":23241579,"reputation":77,"user_id":17330806,"display_name":"carloslopez"},"score":0,"creation_date":1653312216,"post_id":72311226,"comment_id":127814048,"body_markdown":"@trashgod this isn&#180;t useful for my application, IntervalMarkers are for modify the background. I need a triangle as a figure, where I can set coordinates. But thanks for your support","body":"@trashgod this isn&#180;t useful for my application, IntervalMarkers are for modify the background. I need a triangle as a figure, where I can set coordinates. But thanks for your support"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1653325812,"post_id":72311226,"comment_id":127819555,"body_markdown":"How would it differ from an `XYShapeAnnotation`?","body":"How would it differ from an <code>XYShapeAnnotation</code>?"},{"owner":{"account_id":23241579,"reputation":77,"user_id":17330806,"display_name":"carloslopez"},"score":0,"creation_date":1653331843,"post_id":72311226,"comment_id":127821652,"body_markdown":"both XYShapeAnnotation and XYImageAnnotation have similar options regarding to positioning. With both I have the same problem, I don&#39;t know how can I put the Image in one side of the frame chart ignoring the values of the X axis","body":"both XYShapeAnnotation and XYImageAnnotation have similar options regarding to positioning. With both I have the same problem, I don&#39;t know how can I put the Image in one side of the frame chart ignoring the values of the X axis"}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653585941,"creation_date":1653432641,"answer_id":72370245,"question_id":72311226,"body_markdown":"I looks like you want to annotate &quot;one side of the…chart, ignoring the value of the _X_ axis&quot;. Ordinarily, such [annotations][1] specify both coordinates in _data_ space. One approach is a custom annotation that extends the abstract parent, [`AbstractXYAnnotation`][2]. Override `draw()` to transform the vertical _data_ coordinate to the corresponding _screen_ coordinate, while pinning the horizontal _screen_ coordinate to the `dataArea` of the plot. Pan and zoom to see the effect.\r\n\r\n    AffineTransform at = new AffineTransform();\r\n    …\r\n    @Override\r\n    public void draw(…) {\r\n        RectangleEdge rangeEdge = plot.getRangeAxisEdge();\r\n        double y = rangeAxis.valueToJava2D(yValue, dataArea, rangeEdge);\r\n        at.setToIdentity();\r\n        at.translate(dataArea.getX() + 1, y);\r\n        …\r\n    }\r\n\r\n[![Annotation][3]][3]\r\n\r\nExample code:\r\n\r\n```\r\nimport java.awt.BasicStroke;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Polygon;\r\nimport java.awt.Shape;\r\nimport java.awt.Stroke;\r\nimport java.awt.geom.AffineTransform;\r\nimport java.awt.geom.Rectangle2D;\r\nimport javax.swing.JFrame;\r\nimport org.jfree.chart.ChartFactory;\r\nimport org.jfree.chart.ChartPanel;\r\nimport org.jfree.chart.JFreeChart;\r\nimport org.jfree.chart.annotations.AbstractXYAnnotation;\r\nimport org.jfree.chart.axis.ValueAxis;\r\nimport org.jfree.chart.plot.PlotRenderingInfo;\r\nimport org.jfree.chart.plot.XYPlot;\r\nimport org.jfree.chart.ui.RectangleEdge;\r\nimport org.jfree.data.xy.XYDataset;\r\nimport org.jfree.data.xy.XYSeries;\r\nimport org.jfree.data.xy.XYSeriesCollection;\r\n\r\n/**\r\n * @see https://stackoverflow.com/q/72311226/230513\r\n * @see https://stackoverflow.com/q/71780485/230513\r\n */\r\npublic class XYShapeTest {\r\n\r\n    private static final int N = 18_000;\r\n    private static final int SIZE = 16;\r\n    private final Shape pointer = createPolygon(SIZE);\r\n\r\n    private static class AxisAnnotation extends AbstractXYAnnotation {\r\n\r\n        private final AffineTransform at = new AffineTransform();\r\n        private final Stroke stroke = new BasicStroke(4f);\r\n        private final Shape shape;\r\n        private final double yValue;\r\n\r\n        public AxisAnnotation(Shape shape, double y) {\r\n            this.shape = shape;\r\n            this.yValue = y;\r\n        }\r\n\r\n        @Override\r\n        public void draw(Graphics2D g2, XYPlot plot, Rectangle2D dataArea,\r\n            ValueAxis domainAxis, ValueAxis rangeAxis,\r\n            int rendererIndex, PlotRenderingInfo info) {\r\n            RectangleEdge rangeEdge = plot.getRangeAxisEdge();\r\n            double y = rangeAxis.valueToJava2D(yValue, dataArea, rangeEdge);\r\n            at.setToIdentity();\r\n            at.translate(dataArea.getX() + 1, y);\r\n            g2.setStroke(stroke);\r\n            g2.setPaint(Color.BLACK);\r\n            g2.draw(at.createTransformedShape(shape));\r\n        }\r\n    }\r\n\r\n    private Shape createPolygon(int size) {\r\n        Polygon p = new Polygon();\r\n        p.addPoint(0, 0);\r\n        p.addPoint(0, 1);\r\n        p.addPoint(2, 0);\r\n        p.addPoint(0, -1);\r\n        AffineTransform at = new AffineTransform();\r\n        at.scale(size, size);\r\n        return at.createTransformedShape(p);\r\n    }\r\n\r\n    private XYDataset createDataset() {\r\n        XYSeries series = new XYSeries(&quot;Series&quot;);\r\n        for (int i = 0; i &lt;= N; i += 1_000) {\r\n            series.add(i / 1_000, i);\r\n        }\r\n        return new XYSeriesCollection(series);\r\n    }\r\n\r\n    private JFreeChart createChart(final XYDataset dataset) {\r\n        JFreeChart chart = ChartFactory.createXYLineChart(&quot;Test&quot;, &quot;X&quot;, &quot;Y&quot;, dataset);\r\n        XYPlot plot = (XYPlot) chart.getPlot();\r\n        plot.setDomainPannable(true);\r\n        plot.setRangePannable(true);\r\n        plot.addAnnotation(new AxisAnnotation(pointer, 9_000));\r\n        return chart;\r\n    }\r\n\r\n    private void display() {\r\n        JFrame f = new JFrame(&quot;XYShapeTest&quot;);\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        f.add(new ChartPanel(createChart(createDataset())) {\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(600, 300);\r\n            }\r\n        });\r\n        f.pack();\r\n        f.setLocationRelativeTo(null);\r\n        f.setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(new XYShapeTest()::display);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/annotations/package-summary.html\r\n  [2]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/annotations/AbstractXYAnnotation.html\r\n  [3]: https://i.stack.imgur.com/YB4Fh.png","title":"How to keep an icon in one side of a chart in JFreeChart Java","body":"<p>I looks like you want to annotate &quot;one side of the…chart, ignoring the value of the <em>X</em> axis&quot;. Ordinarily, such <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/annotations/package-summary.html\" rel=\"nofollow noreferrer\">annotations</a> specify both coordinates in <em>data</em> space. One approach is a custom annotation that extends the abstract parent, <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/annotations/AbstractXYAnnotation.html\" rel=\"nofollow noreferrer\"><code>AbstractXYAnnotation</code></a>. Override <code>draw()</code> to transform the vertical <em>data</em> coordinate to the corresponding <em>screen</em> coordinate, while pinning the horizontal <em>screen</em> coordinate to the <code>dataArea</code> of the plot. Pan and zoom to see the effect.</p>\n<pre><code>AffineTransform at = new AffineTransform();\n…\n@Override\npublic void draw(…) {\n    RectangleEdge rangeEdge = plot.getRangeAxisEdge();\n    double y = rangeAxis.valueToJava2D(yValue, dataArea, rangeEdge);\n    at.setToIdentity();\n    at.translate(dataArea.getX() + 1, y);\n    …\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/YB4Fh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YB4Fh.png\" alt=\"Annotation\" /></a></p>\n<p>Example code:</p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics2D;\nimport java.awt.Polygon;\nimport java.awt.Shape;\nimport java.awt.Stroke;\nimport java.awt.geom.AffineTransform;\nimport java.awt.geom.Rectangle2D;\nimport javax.swing.JFrame;\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.annotations.AbstractXYAnnotation;\nimport org.jfree.chart.axis.ValueAxis;\nimport org.jfree.chart.plot.PlotRenderingInfo;\nimport org.jfree.chart.plot.XYPlot;\nimport org.jfree.chart.ui.RectangleEdge;\nimport org.jfree.data.xy.XYDataset;\nimport org.jfree.data.xy.XYSeries;\nimport org.jfree.data.xy.XYSeriesCollection;\n\n/**\n * @see https://stackoverflow.com/q/72311226/230513\n * @see https://stackoverflow.com/q/71780485/230513\n */\npublic class XYShapeTest {\n\n    private static final int N = 18_000;\n    private static final int SIZE = 16;\n    private final Shape pointer = createPolygon(SIZE);\n\n    private static class AxisAnnotation extends AbstractXYAnnotation {\n\n        private final AffineTransform at = new AffineTransform();\n        private final Stroke stroke = new BasicStroke(4f);\n        private final Shape shape;\n        private final double yValue;\n\n        public AxisAnnotation(Shape shape, double y) {\n            this.shape = shape;\n            this.yValue = y;\n        }\n\n        @Override\n        public void draw(Graphics2D g2, XYPlot plot, Rectangle2D dataArea,\n            ValueAxis domainAxis, ValueAxis rangeAxis,\n            int rendererIndex, PlotRenderingInfo info) {\n            RectangleEdge rangeEdge = plot.getRangeAxisEdge();\n            double y = rangeAxis.valueToJava2D(yValue, dataArea, rangeEdge);\n            at.setToIdentity();\n            at.translate(dataArea.getX() + 1, y);\n            g2.setStroke(stroke);\n            g2.setPaint(Color.BLACK);\n            g2.draw(at.createTransformedShape(shape));\n        }\n    }\n\n    private Shape createPolygon(int size) {\n        Polygon p = new Polygon();\n        p.addPoint(0, 0);\n        p.addPoint(0, 1);\n        p.addPoint(2, 0);\n        p.addPoint(0, -1);\n        AffineTransform at = new AffineTransform();\n        at.scale(size, size);\n        return at.createTransformedShape(p);\n    }\n\n    private XYDataset createDataset() {\n        XYSeries series = new XYSeries(&quot;Series&quot;);\n        for (int i = 0; i &lt;= N; i += 1_000) {\n            series.add(i / 1_000, i);\n        }\n        return new XYSeriesCollection(series);\n    }\n\n    private JFreeChart createChart(final XYDataset dataset) {\n        JFreeChart chart = ChartFactory.createXYLineChart(&quot;Test&quot;, &quot;X&quot;, &quot;Y&quot;, dataset);\n        XYPlot plot = (XYPlot) chart.getPlot();\n        plot.setDomainPannable(true);\n        plot.setRangePannable(true);\n        plot.addAnnotation(new AxisAnnotation(pointer, 9_000));\n        return chart;\n    }\n\n    private void display() {\n        JFrame f = new JFrame(&quot;XYShapeTest&quot;);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.add(new ChartPanel(createChart(createDataset())) {\n            @Override\n            public Dimension getPreferredSize() {\n                return new Dimension(600, 300);\n            }\n        });\n        f.pack();\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new XYShapeTest()::display);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23241579,"reputation":77,"user_id":17330806,"display_name":"carloslopez"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72370245,"answer_count":1,"score":1,"last_activity_date":1653585941,"creation_date":1652995398,"question_id":72311226,"body_markdown":"I have the following chart:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe chart is dynamic and has the capability of make zoom in and zoom out.\r\nI want to put an icon that is created as:\r\n\r\n    BufferedImage triangleIcon = null;\r\n            try {\r\n                triangleIcon = ImageIO.read(getClass().getClassLoader().getResource(&quot;Resources/Imagenes/triangulo.png&quot;));\r\n            } catch (IOException e) {\r\n            }\r\n\r\nAnd can be placed in any point as:\r\n\r\n    xyannotation = new XYImageAnnotation(XValue, YValue, triangleIcon);\r\n    this.xyplot.addAnnotation(xyannotation); \r\n\r\nI want to put this icon at any Y value but always next to the left side of the chart, without taking into account the zoom. Something like:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VTxsO.png\r\n  [2]: https://i.stack.imgur.com/To7wV.png\r\n\r\nIs it possible?","title":"How to keep an icon in one side of a chart in JFreeChart Java","body":"<p>I have the following chart:</p>\n<p><a href=\"https://i.stack.imgur.com/VTxsO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VTxsO.png\" alt=\"enter image description here\" /></a></p>\n<p>The chart is dynamic and has the capability of make zoom in and zoom out.\nI want to put an icon that is created as:</p>\n<pre><code>BufferedImage triangleIcon = null;\n        try {\n            triangleIcon = ImageIO.read(getClass().getClassLoader().getResource(&quot;Resources/Imagenes/triangulo.png&quot;));\n        } catch (IOException e) {\n        }\n</code></pre>\n<p>And can be placed in any point as:</p>\n<pre><code>xyannotation = new XYImageAnnotation(XValue, YValue, triangleIcon);\nthis.xyplot.addAnnotation(xyannotation); \n</code></pre>\n<p>I want to put this icon at any Y value but always next to the left side of the chart, without taking into account the zoom. Something like:</p>\n<p><a href=\"https://i.stack.imgur.com/To7wV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/To7wV.png\" alt=\"enter image description here\" /></a></p>\n<p>Is it possible?</p>\n"},{"tags":["java","tomcat","ssl"],"answers":[{"tags":[],"owner":{"account_id":1023847,"reputation":445,"user_id":1033578,"accept_rate":62,"display_name":"Agent96"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1484141904,"creation_date":1484141904,"answer_id":41592457,"question_id":41591460,"body_markdown":"Okay - the problem was the certificate was created using JDK 1.8 and the tomcat was running with JRE 1.7 - for whatever reason this caused an issue, so the fix was to use JRE 1.8 and now everything works okay.","title":"Client Authentication Tomcat - trustAnchors parameter must be non-empty","body":"<p>Okay - the problem was the certificate was created using JDK 1.8 and the tomcat was running with JRE 1.7 - for whatever reason this caused an issue, so the fix was to use JRE 1.8 and now everything works okay.</p>\n"},{"tags":[],"owner":{"account_id":2476003,"reputation":191,"user_id":9218980,"display_name":"Pravin Agrawal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1586450319,"creation_date":1586450319,"answer_id":61125989,"question_id":41591460,"body_markdown":"One probable reason might be that if we use same .jks file as a keystore and as a truststore, then the server start up is failing with following error : java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty.\r\nKeystore is to store the ServerCerts and TrustStore is to store the CA certs. On adding at least one CA certificate in the .jks, above issue will be resolved.","title":"Client Authentication Tomcat - trustAnchors parameter must be non-empty","body":"<p>One probable reason might be that if we use same .jks file as a keystore and as a truststore, then the server start up is failing with following error : java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty.\nKeystore is to store the ServerCerts and TrustStore is to store the CA certs. On adding at least one CA certificate in the .jks, above issue will be resolved.</p>\n"},{"tags":[],"owner":{"account_id":18748139,"reputation":1,"user_id":13669771,"display_name":"Shekhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591157011,"creation_date":1591157011,"answer_id":62165032,"question_id":41591460,"body_markdown":"Faced same issue. My keystore only had private key pair of the website. Imported the public certificates from the key pair all the way down to the root and it worked.","title":"Client Authentication Tomcat - trustAnchors parameter must be non-empty","body":"<p>Faced same issue. My keystore only had private key pair of the website. Imported the public certificates from the key pair all the way down to the root and it worked.</p>\n"},{"tags":[],"owner":{"account_id":24153662,"reputation":1,"user_id":18118158,"display_name":"Erik de Ruijter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643968348,"creation_date":1643968348,"answer_id":70984366,"question_id":41591460,"body_markdown":"Faced same issue. The cause was far more basic: the .jks file _must_ be readable for the account under which tomcat service runs. Though we have it as a systemctl service (hence started/stopped from root) the account was tomcat, so a simple chown tomcat:tomcat for the .jks store did the job!","title":"Client Authentication Tomcat - trustAnchors parameter must be non-empty","body":"<p>Faced same issue. The cause was far more basic: the .jks file <em>must</em> be readable for the account under which tomcat service runs. Though we have it as a systemctl service (hence started/stopped from root) the account was tomcat, so a simple chown tomcat:tomcat for the .jks store did the job!</p>\n"},{"tags":[],"owner":{"account_id":2481541,"reputation":1940,"user_id":2160917,"accept_rate":5,"display_name":"bosari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653584723,"creation_date":1653584723,"answer_id":72395532,"question_id":41591460,"body_markdown":"For me the issue was I was passing null to the keyword as password wherein the password was `changeit`\r\n\r\n&gt; ks.load(fis, &quot;changeit&quot;.toCharArray());","title":"Client Authentication Tomcat - trustAnchors parameter must be non-empty","body":"<p>For me the issue was I was passing null to the keyword as password wherein the password was <code>changeit</code></p>\n<blockquote>\n<p>ks.load(fis, &quot;changeit&quot;.toCharArray());</p>\n</blockquote>\n"}],"owner":{"account_id":1023847,"reputation":445,"user_id":1033578,"accept_rate":62,"display_name":"Agent96"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22207,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":41592457,"answer_count":5,"score":5,"last_activity_date":1653584723,"creation_date":1484139039,"question_id":41591460,"body_markdown":"I know this question appears no stackoverflow a lot, and the exception is to do with a missing truststore - but here is my issue:\r\n\r\n1. Using Apache Tomcat v7.0.56 as server on Windows with Java 8.0.71\r\n2. modified tomcat/conf/server.xml to include SSL Connector with truststoreType=&quot;PKCS12&quot;, truststoreFile=&quot;conf/regtomcat.truststore&quot; truststorePass=&quot;password&quot; \r\n\r\nI launch tomcat and I know it is reading this truststore file correctly as I originally did not have the file in pkcs12 format and tomcat reported an error on startup.  I also have tried breaking the file location just to see tomcat startup fail as it can not find the file.  So tomcat launches okay - it is reading the truststore which must mean it exists and can be read.\r\n\r\nI load a p12 file into my browser certificate, and go to my application URL.  I then get the tomcat error:\r\n\r\n    handling exception: java.lang.RuntimeException: Unexpected error: java.security.InvalidAlgorithmParameterException: \r\n    the trustAnchors parameter must be non-empty\r\n\r\nGiven that my trustore exists, and contains my certificate - what could the problem be?\r\n\r\nI generated all certificates and truststores using keytool.  The truststore was created using the command\r\n\r\n    keytool -importcert -alias regClient -storetype PKCS12 -keystore regtomcat.truststore -file regClient.cer\r\n\r\n\r\n\r\n","title":"Client Authentication Tomcat - trustAnchors parameter must be non-empty","body":"<p>I know this question appears no stackoverflow a lot, and the exception is to do with a missing truststore - but here is my issue:</p>\n\n<ol>\n<li>Using Apache Tomcat v7.0.56 as server on Windows with Java 8.0.71</li>\n<li>modified tomcat/conf/server.xml to include SSL Connector with truststoreType=\"PKCS12\", truststoreFile=\"conf/regtomcat.truststore\" truststorePass=\"password\" </li>\n</ol>\n\n<p>I launch tomcat and I know it is reading this truststore file correctly as I originally did not have the file in pkcs12 format and tomcat reported an error on startup.  I also have tried breaking the file location just to see tomcat startup fail as it can not find the file.  So tomcat launches okay - it is reading the truststore which must mean it exists and can be read.</p>\n\n<p>I load a p12 file into my browser certificate, and go to my application URL.  I then get the tomcat error:</p>\n\n<pre><code>handling exception: java.lang.RuntimeException: Unexpected error: java.security.InvalidAlgorithmParameterException: \nthe trustAnchors parameter must be non-empty\n</code></pre>\n\n<p>Given that my trustore exists, and contains my certificate - what could the problem be?</p>\n\n<p>I generated all certificates and truststores using keytool.  The truststore was created using the command</p>\n\n<pre><code>keytool -importcert -alias regClient -storetype PKCS12 -keystore regtomcat.truststore -file regClient.cer\n</code></pre>\n"},{"tags":["java","jackson","fasterxml"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":1,"creation_date":1652546571,"post_id":72242140,"comment_id":127634608,"body_markdown":"One question to avoid possible misunderstandings : `&quot;status&quot;` is one of the properties inside the `Response` json like `{&quot;status&quot;: {}, ...}`?","body":"One question to avoid possible misunderstandings : <code>&quot;status&quot;</code> is one of the properties inside the <code>Response</code> json like <code>{&quot;status&quot;: {}, ...}</code>?"},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1652546975,"post_id":72242140,"comment_id":127634711,"body_markdown":"@dariosicily I updated the question with an extended example. Thanks","body":"@dariosicily I updated the question with an extended example. Thanks"},{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1653583752,"post_id":72242140,"comment_id":127892071,"body_markdown":"This is exactly what `@JsonProperty()` is meant for, and your example JSON+class parses properly. Probably it&#39;s not `Response.class` which you should provide in the `readValue()` call, but another class, which contains a `public Response response;` inside.","body":"This is exactly what <code>@JsonProperty()</code> is meant for, and your example JSON+class parses properly. Probably it&#39;s not <code>Response.class</code> which you should provide in the <code>readValue()</code> call, but another class, which contains a <code>public Response response;</code> inside."}],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652594040,"creation_date":1652548831,"answer_id":72242492,"question_id":72242140,"body_markdown":"One of the ways to solve the problem is select the json part you are interested combining the [`ObjectMapper#readTree`](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/ObjectMapper.html#readTree-java.lang.String-) method that converts your json to a `JsonNode` object and then select the part of the `JsonNode` object you are looking for  with the [`JsonNode#at`](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/JsonNode.html#at-java.lang.String-) method which matches the `/response/status` path expression like below:\r\n\r\n~~~\r\n//it contains only the status labelled node of your json\r\nJsonNode statusNode = mapper.readTree(json).at(&quot;/response/status&quot;);   \r\n~~~\r\n \r\nAfter you can use the [`ObjectMapper#treeToValue`](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/ObjectMapper.html#treeToValue-com.fasterxml.jackson.core.TreeNode-java.lang.Class-) method to convert the `JsonNode` to your `Status` class obtaining the expected result:\r\n\r\n~~~\r\nJsonNode statusNode = mapper.readTree(json).at(&quot;/response/status&quot;);\r\nStatus status = mapper.treeToValue(statusNode, Status.class);\r\n//ok, it prints {&quot;long&quot;:&quot;Long Value&quot;,&quot;short&quot;:&quot;LV&quot;,&quot;elapsed&quot;:20}\r\nSystem.out.println(mapper.writeValueAsString(status));\r\n~~~","title":"How to map a JSON string which includes members named long and short","body":"<p>One of the ways to solve the problem is select the json part you are interested combining the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/ObjectMapper.html#readTree-java.lang.String-\" rel=\"nofollow noreferrer\"><code>ObjectMapper#readTree</code></a> method that converts your json to a <code>JsonNode</code> object and then select the part of the <code>JsonNode</code> object you are looking for  with the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/JsonNode.html#at-java.lang.String-\" rel=\"nofollow noreferrer\"><code>JsonNode#at</code></a> method which matches the <code>/response/status</code> path expression like below:</p>\n<pre><code>//it contains only the status labelled node of your json\nJsonNode statusNode = mapper.readTree(json).at(&quot;/response/status&quot;);   \n</code></pre>\n<p>After you can use the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/ObjectMapper.html#treeToValue-com.fasterxml.jackson.core.TreeNode-java.lang.Class-\" rel=\"nofollow noreferrer\"><code>ObjectMapper#treeToValue</code></a> method to convert the <code>JsonNode</code> to your <code>Status</code> class obtaining the expected result:</p>\n<pre><code>JsonNode statusNode = mapper.readTree(json).at(&quot;/response/status&quot;);\nStatus status = mapper.treeToValue(statusNode, Status.class);\n//ok, it prints {&quot;long&quot;:&quot;Long Value&quot;,&quot;short&quot;:&quot;LV&quot;,&quot;elapsed&quot;:20}\nSystem.out.println(mapper.writeValueAsString(status));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652551791,"creation_date":1652551791,"answer_id":72242809,"question_id":72242140,"body_markdown":"Well, it is obviously not a perfect solution to the problem, but one may find it as a helpfull workaround:\r\n\r\nSince I don&#39;t care about these values, I&#39;ll just rename their names and adapt the class members name accordingly: \r\n\r\non the json string resBody I get as a response I will do the following\r\n\r\n    @NotNull \r\n    private static String mitigateLongAndShortValueNames(String resBody) { \r\n       resBody = resBody.replaceAll(&quot;\\&quot;long\\&quot;:&quot;, &quot;\\&quot;longValue\\&quot;:&quot;); \r\n       resBody = resBody.replaceAll(&quot;\\&quot;short\\&quot;:&quot;, &quot;\\&quot;shortValue\\&quot;:&quot;); \r\n       return resBody; \r\n    } \r\n\r\nand change \r\n\r\n    public class Status {\r\n    \r\n        @JsonProperty(&quot;long&quot;)\r\n        public String _long;\r\n        @JsonProperty(&quot;short&quot;)\r\n        public String _short;\r\n        @JsonProperty(&quot;elapsed&quot;)\r\n        public Object elapsed;\r\n    \r\n    }\r\n\r\nto \r\n\r\n    public class Status {\r\n    \r\n        public String longValue;\r\n        public String shortValue;\r\n        public Object elapsed;\r\n    \r\n    }\r\n\r\nIt worked for me!","title":"How to map a JSON string which includes members named long and short","body":"<p>Well, it is obviously not a perfect solution to the problem, but one may find it as a helpfull workaround:</p>\n<p>Since I don't care about these values, I'll just rename their names and adapt the class members name accordingly:</p>\n<p>on the json string resBody I get as a response I will do the following</p>\n<pre><code>@NotNull \nprivate static String mitigateLongAndShortValueNames(String resBody) { \n   resBody = resBody.replaceAll(&quot;\\&quot;long\\&quot;:&quot;, &quot;\\&quot;longValue\\&quot;:&quot;); \n   resBody = resBody.replaceAll(&quot;\\&quot;short\\&quot;:&quot;, &quot;\\&quot;shortValue\\&quot;:&quot;); \n   return resBody; \n} \n</code></pre>\n<p>and change</p>\n<pre><code>public class Status {\n\n    @JsonProperty(&quot;long&quot;)\n    public String _long;\n    @JsonProperty(&quot;short&quot;)\n    public String _short;\n    @JsonProperty(&quot;elapsed&quot;)\n    public Object elapsed;\n\n}\n</code></pre>\n<p>to</p>\n<pre><code>public class Status {\n\n    public String longValue;\n    public String shortValue;\n    public Object elapsed;\n\n}\n</code></pre>\n<p>It worked for me!</p>\n"},{"tags":[],"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652627006,"creation_date":1652627006,"answer_id":72249483,"question_id":72242140,"body_markdown":"The full exception message should look something like this: `com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;long&quot; (class ...), not marked as ignorable (n known properties: ...)`\r\n\r\nIf it is the case that you&#39;re not interested in certain properties, it&#39;s easier and cleaner to `ignore` those during parsing. Either with an annotation on the data class or a DeserializationFeature on the objectmapper.\r\n\r\nSee https://stackoverflow.com/questions/4486787/jackson-with-json-unrecognized-field-not-marked-as-ignorable","title":"How to map a JSON string which includes members named long and short","body":"<p>The full exception message should look something like this: <code>com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;long&quot; (class ...), not marked as ignorable (n known properties: ...)</code></p>\n<p>If it is the case that you're not interested in certain properties, it's easier and cleaner to <code>ignore</code> those during parsing. Either with an annotation on the data class or a DeserializationFeature on the objectmapper.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/4486787/jackson-with-json-unrecognized-field-not-marked-as-ignorable\">Jackson with JSON: Unrecognized field, not marked as ignorable</a></p>\n"},{"tags":[],"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653584467,"creation_date":1653584467,"answer_id":72395474,"question_id":72242140,"body_markdown":"Extending the comment: there&#39;s no problem with `Status` and `&quot;status&quot;:...` parts, `@JsonProperty()` is meant to handle the renaming. You probably pass the wrong class to `readValue()`.\r\n\r\n    public class TestClass {\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\tTestClass test= mapper.readValue(\r\n    \t\t\t\t&quot;{\\r\\n&quot; + \r\n    \t\t\t\t&quot;    \\&quot;response\\&quot;: {\\r\\n&quot; + \r\n    \t\t\t\t&quot;        \\&quot;id\\&quot;: 157016,\\r\\n&quot; + \r\n    \t\t\t\t&quot;        \\&quot;status\\&quot;: {\\r\\n&quot; + \r\n    \t\t\t\t&quot;            \\&quot;long\\&quot;: \\&quot;Long Value\\&quot;,\\r\\n&quot; + \r\n    \t\t\t\t&quot;            \\&quot;short\\&quot;: \\&quot;LV\\&quot;,\\r\\n&quot; + \r\n    \t\t\t\t&quot;            \\&quot;elapsed\\&quot;: 20\\r\\n&quot; + \r\n    \t\t\t\t&quot;        }\\r\\n&quot; + \r\n    \t\t\t\t&quot;    }\\r\\n&quot; + \r\n    \t\t\t\t&quot;}&quot;,TestClass.class); // &lt;-- here, it&#39;s not Response, but an outer class\r\n    \t\tSystem.out.println(test.response.id);\r\n    \t\tSystem.out.println(test.response.status._long);\r\n    \t}\r\n    \tpublic Response response;         // &lt;-- containing &quot;response&quot;\r\n    \tstatic public class Response {\r\n    \t\tpublic long id;\r\n    \t\tpublic Status status;\r\n    \t}\r\n    \tstatic public class Status {\r\n    \t    @JsonProperty(&quot;long&quot;)\r\n    \t    public String _long;\r\n    \t    @JsonProperty(&quot;short&quot;)\r\n    \t    public String _short;\r\n    \t    @JsonProperty(&quot;elapsed&quot;)\r\n    \t    public Object elapsed;\r\n    \t}\r\n    }\r\n\r\nDisplays\r\n\r\n&gt;     157016\r\n&gt;     Long Value\r\n\r\nas expected. Kept only `id` from the outer object for the sake of brevity.","title":"How to map a JSON string which includes members named long and short","body":"<p>Extending the comment: there's no problem with <code>Status</code> and <code>&quot;status&quot;:...</code> parts, <code>@JsonProperty()</code> is meant to handle the renaming. You probably pass the wrong class to <code>readValue()</code>.</p>\n<pre><code>public class TestClass {\n    public static void main(String[] args) throws Exception {\n        ObjectMapper mapper = new ObjectMapper();\n        TestClass test= mapper.readValue(\n                &quot;{\\r\\n&quot; + \n                &quot;    \\&quot;response\\&quot;: {\\r\\n&quot; + \n                &quot;        \\&quot;id\\&quot;: 157016,\\r\\n&quot; + \n                &quot;        \\&quot;status\\&quot;: {\\r\\n&quot; + \n                &quot;            \\&quot;long\\&quot;: \\&quot;Long Value\\&quot;,\\r\\n&quot; + \n                &quot;            \\&quot;short\\&quot;: \\&quot;LV\\&quot;,\\r\\n&quot; + \n                &quot;            \\&quot;elapsed\\&quot;: 20\\r\\n&quot; + \n                &quot;        }\\r\\n&quot; + \n                &quot;    }\\r\\n&quot; + \n                &quot;}&quot;,TestClass.class); // &lt;-- here, it's not Response, but an outer class\n        System.out.println(test.response.id);\n        System.out.println(test.response.status._long);\n    }\n    public Response response;         // &lt;-- containing &quot;response&quot;\n    static public class Response {\n        public long id;\n        public Status status;\n    }\n    static public class Status {\n        @JsonProperty(&quot;long&quot;)\n        public String _long;\n        @JsonProperty(&quot;short&quot;)\n        public String _short;\n        @JsonProperty(&quot;elapsed&quot;)\n        public Object elapsed;\n    }\n}\n</code></pre>\n<p>Displays</p>\n<blockquote>\n<pre><code>157016\nLong Value\n</code></pre>\n</blockquote>\n<p>as expected. Kept only <code>id</code> from the outer object for the sake of brevity.</p>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1653584467,"creation_date":1652545946,"question_id":72242140,"body_markdown":"I need to map a JSON string which includes values named long and short:\r\n\r\n    &quot;status&quot;: {\r\n       &quot;long&quot;: &quot;Finished&quot;,\r\n       &quot;short&quot;: &quot;F&quot;,\r\n       &quot;elapsed&quot;: 90\r\n    }\r\n\r\nI tried the following class:\r\n\r\n    public class Status {\r\n    \r\n        @JsonProperty(&quot;long&quot;)\r\n        public String _long;\r\n        @JsonProperty(&quot;short&quot;)\r\n        public String _short;\r\n        @JsonProperty(&quot;elapsed&quot;)\r\n        public Object elapsed;\r\n    \r\n    }\r\n\r\nwith the command:\r\n\r\n    objectMapper.readValue(resBody, Response.class);\r\n\r\n\r\nresponse contains the status part:\r\n\r\n    {\r\n    \t&quot;response&quot;: {\r\n    \t\t&quot;id&quot;: 157016,\r\n    \t\t&quot;timezone&quot;: &quot;UTC&quot;,\r\n    \t\t&quot;date&quot;: &quot;2019-08-10T11:30:00+00:00&quot;,\r\n    \t\t&quot;timestamp&quot;: 1565436600,\r\n    \t\t&quot;status&quot;: {\r\n    \t\t\t&quot;long&quot;: &quot;Long Value&quot;,\r\n    \t\t\t&quot;short&quot;: &quot;LV&quot;,\r\n    \t\t\t&quot;elapsed&quot;: 20\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nBut still I get the following error:\r\n\r\n&gt; com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException:\r\n&gt; Unrecognized field &quot;long&quot;\r\n\r\nHow can this be fixed? I do not have control on the JSON format.","title":"How to map a JSON string which includes members named long and short","body":"<p>I need to map a JSON string which includes values named long and short:</p>\n<pre><code>&quot;status&quot;: {\n   &quot;long&quot;: &quot;Finished&quot;,\n   &quot;short&quot;: &quot;F&quot;,\n   &quot;elapsed&quot;: 90\n}\n</code></pre>\n<p>I tried the following class:</p>\n<pre><code>public class Status {\n\n    @JsonProperty(&quot;long&quot;)\n    public String _long;\n    @JsonProperty(&quot;short&quot;)\n    public String _short;\n    @JsonProperty(&quot;elapsed&quot;)\n    public Object elapsed;\n\n}\n</code></pre>\n<p>with the command:</p>\n<pre><code>objectMapper.readValue(resBody, Response.class);\n</code></pre>\n<p>response contains the status part:</p>\n<pre><code>{\n    &quot;response&quot;: {\n        &quot;id&quot;: 157016,\n        &quot;timezone&quot;: &quot;UTC&quot;,\n        &quot;date&quot;: &quot;2019-08-10T11:30:00+00:00&quot;,\n        &quot;timestamp&quot;: 1565436600,\n        &quot;status&quot;: {\n            &quot;long&quot;: &quot;Long Value&quot;,\n            &quot;short&quot;: &quot;LV&quot;,\n            &quot;elapsed&quot;: 20\n        }\n    }\n}\n</code></pre>\n<p>But still I get the following error:</p>\n<blockquote>\n<p>com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException:\nUnrecognized field &quot;long&quot;</p>\n</blockquote>\n<p>How can this be fixed? I do not have control on the JSON format.</p>\n"},{"tags":["java","concurrency","synchronization","arraylist"],"answers":[{"tags":[],"owner":{"account_id":24198,"reputation":6978,"user_id":61395,"accept_rate":83,"display_name":"Shamik"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1272307847,"creation_date":1272307847,"answer_id":2716006,"question_id":2715983,"body_markdown":"you can use `List l = Collections.synchronizedList(new ArrayList());` if you want thread safe version of arrayList. \r\n","title":"Concurrent threads adding to ArrayList at same time - what happens?","body":"<p>you can use <code>List l = Collections.synchronizedList(new ArrayList());</code> if you want thread safe version of arrayList. </p>\n"},{"tags":[],"owner":{"account_id":114492,"reputation":14044,"user_id":301023,"display_name":"WhirlWind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1272307870,"creation_date":1272307870,"answer_id":2716008,"question_id":2715983,"body_markdown":"http://java.sun.com/j2se/1.4.2/docs/api/java/util/ArrayList.html\r\n\r\nNote that this implementation is not synchronized. If multiple threads access an ArrayList instance concurrently, and at least one of the threads modifies the list structurally, it must  be synchronized externally.\r\n\r\nSince there is no synchronization internally, what you theorize is not plausible.\r\n\r\nSo, things get out of sync, with unpleasant and unpredictable results.","title":"Concurrent threads adding to ArrayList at same time - what happens?","body":"<p><a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.4.2/docs/api/java/util/ArrayList.html</a></p>\n\n<p>Note that this implementation is not synchronized. If multiple threads access an ArrayList instance concurrently, and at least one of the threads modifies the list structurally, it must  be synchronized externally.</p>\n\n<p>Since there is no synchronization internally, what you theorize is not plausible.</p>\n\n<p>So, things get out of sync, with unpleasant and unpredictable results.</p>\n"},{"tags":[],"owner":{"account_id":121513,"reputation":7838,"user_id":314649,"display_name":"Tom Cabanski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1272307875,"creation_date":1272307875,"answer_id":2716009,"question_id":2715983,"body_markdown":"java.util.concurrent has a thread-safe array list.  The standard ArrayList is not thread-safe and the behavior when multiple threads update at the same time is undefined.  There can also be odd behaviors with multiple readers when one or more threads is writing at the same time.","title":"Concurrent threads adding to ArrayList at same time - what happens?","body":"<p>java.util.concurrent has a thread-safe array list.  The standard ArrayList is not thread-safe and the behavior when multiple threads update at the same time is undefined.  There can also be odd behaviors with multiple readers when one or more threads is writing at the same time.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1272307896,"creation_date":1272307896,"answer_id":2716011,"question_id":2715983,"body_markdown":"You could also get a `null`, an `ArrayOutOfBoundsException`, or something left up to the implementation. `HashMap`s have been observed to go into an infinite loop in production systems. You don&#39;t really need to know what might go wrong, just don&#39;t do it.\r\n\r\nYou could use `Vector`, but it tends to work out the interface is not rich enough. You will probably find that you want a different data structure in most cases.","title":"Concurrent threads adding to ArrayList at same time - what happens?","body":"<p>You could also get a <code>null</code>, an <code>ArrayOutOfBoundsException</code>, or something left up to the implementation. <code>HashMap</code>s have been observed to go into an infinite loop in production systems. You don't really need to know what might go wrong, just don't do it.</p>\n\n<p>You could use <code>Vector</code>, but it tends to work out the interface is not rich enough. You will probably find that you want a different data structure in most cases.</p>\n"},{"tags":[],"owner":{"account_id":48412,"reputation":4462,"user_id":143845,"accept_rate":100,"display_name":"derivation"},"down_vote_count":1,"up_vote_count":67,"is_accepted":true,"score":66,"last_activity_date":1422230705,"creation_date":1272307935,"answer_id":2716016,"question_id":2715983,"body_markdown":"There is no guaranteed behavior for what happens when add is called concurrently by two threads on ArrayList. However, it has been my experience that both objects have been added fine. Most of the thread safety issues related to lists deal with iteration while adding/removing. Despite this, I strongly recommend against using vanilla ArrayList with multiple threads and concurrent access. \r\n\r\nVector used to be the standard for concurrent lists, but now the standard is to use the [Collections synchronized list][1]. \r\n\r\nAlso I highly recommend Java Concurrency in Practice by Goetz et al if you&#39;re going to be spending any time working with threads in Java. The book covers this issue in much better detail. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#synchronizedList(java.util.List)","title":"Concurrent threads adding to ArrayList at same time - what happens?","body":"<p>There is no guaranteed behavior for what happens when add is called concurrently by two threads on ArrayList. However, it has been my experience that both objects have been added fine. Most of the thread safety issues related to lists deal with iteration while adding/removing. Despite this, I strongly recommend against using vanilla ArrayList with multiple threads and concurrent access. </p>\n\n<p>Vector used to be the standard for concurrent lists, but now the standard is to use the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#synchronizedList(java.util.List)\" rel=\"noreferrer\">Collections synchronized list</a>. </p>\n\n<p>Also I highly recommend Java Concurrency in Practice by Goetz et al if you're going to be spending any time working with threads in Java. The book covers this issue in much better detail. </p>\n"},{"tags":[],"owner":{"account_id":112952,"reputation":73174,"user_id":297762,"accept_rate":87,"display_name":"Robby Pond"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1272308007,"creation_date":1272308007,"answer_id":2716025,"question_id":2715983,"body_markdown":"The behavior is probably undefined since ArrayList isn&#39;t threadsafe.  If you modify the list while an Iterator is interating over it then you will get a ConcurrentModificationException.  You can wrap the ArrayList with Collection.synchronizedList or use a thread-safe collection (there are many), or just put the add calls in a synchronized block.","title":"Concurrent threads adding to ArrayList at same time - what happens?","body":"<p>The behavior is probably undefined since ArrayList isn't threadsafe.  If you modify the list while an Iterator is interating over it then you will get a ConcurrentModificationException.  You can wrap the ArrayList with Collection.synchronizedList or use a thread-safe collection (there are many), or just put the add calls in a synchronized block.</p>\n"},{"tags":[],"owner":{"account_id":121256,"reputation":4806,"user_id":314215,"display_name":"Matthew T. Staebler"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1272308046,"creation_date":1272308046,"answer_id":2716033,"question_id":2715983,"body_markdown":"Any number of things could happen.  You could get both objects added correctly.  You could get only one of the objects added.  You could get an ArrayIndexOutOfBounds exception because the size of the underlying array was not adjusted properly.  Or other things may happen.  Suffice it to say that you cannot rely on any behavior occurring.\r\n\r\nAs alternatives, you could use `Vector`, you could use `Collections.synchronizedList`, you could use `CopyOnWriteArrayList`, or you could use a separate lock.  It all depends on what else you are doing and what kind of control you have over access to the collection.","title":"Concurrent threads adding to ArrayList at same time - what happens?","body":"<p>Any number of things could happen.  You could get both objects added correctly.  You could get only one of the objects added.  You could get an ArrayIndexOutOfBounds exception because the size of the underlying array was not adjusted properly.  Or other things may happen.  Suffice it to say that you cannot rely on any behavior occurring.</p>\n\n<p>As alternatives, you could use <code>Vector</code>, you could use <code>Collections.synchronizedList</code>, you could use <code>CopyOnWriteArrayList</code>, or you could use a separate lock.  It all depends on what else you are doing and what kind of control you have over access to the collection.</p>\n"},{"tags":[],"owner":{"account_id":435955,"reputation":4272,"user_id":822822,"accept_rate":100,"display_name":"Vishal John"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1421558413,"creation_date":1421558413,"answer_id":28007401,"question_id":2715983,"body_markdown":"I came up with the following code to mimic somewhat a real world scenario.\r\n\r\n100 tasks are run in parallel and they update their completed status to the main program. I use a CountDownLatch to wait for task completion.\r\n\r\n    import java.util.concurrent.*;\r\n    import java.util.*;\r\n\r\n    public class Runner {\r\n\t\r\n\t\t// Should be replaced with Collections.synchronizedList(new ArrayList&lt;Integer&gt;())\r\n\t\tpublic List&lt;Integer&gt; completed = new ArrayList&lt;Integer&gt;();\r\n\t\r\n\t\t/**\r\n\t\t * @param args\r\n\t\t */\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tRunner r = new Runner();\r\n\t\t\tExecutorService exe = Executors.newFixedThreadPool(30);\r\n\t\t\tint tasks = 100;\r\n\t\t\tCountDownLatch latch = new CountDownLatch(tasks);\r\n\t\t\tfor (int i = 0; i &lt; tasks; i++) {\r\n\t\t\t\texe.submit(r.new Task(i, latch));\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tlatch.await();\r\n\t\t\t\tSystem.out.println(&quot;Summary:&quot;);\r\n\t\t\t\tSystem.out.println(&quot;Number of tasks completed: &quot;\r\n\t\t\t\t\t\t+ r.completed.size());\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\texe.shutdown();\r\n\t\t}\r\n\t\r\n\t\tclass Task implements Runnable {\r\n\t\r\n\t\t\tprivate int id;\r\n\t\t\tprivate CountDownLatch latch;\r\n\t\r\n\t\t\tpublic Task(int id, CountDownLatch latch) {\r\n\t\t\t\tthis.id = id;\r\n\t\t\t\tthis.latch = latch;\r\n\t\t\t}\r\n\t\r\n\t\t\tpublic void run() {\r\n\t\t\t\tRandom r = new Random();\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(r.nextInt(5000)); //Actual work of the task\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\tcompleted.add(id);\r\n\t\t\t\tlatch.countDown();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\nWhen i ran the application 10 times and at least 3 to 4 times the program did not print correct number of completed tasks. Ideally it should print 100(if no exceptions happen). But in some cases it was printing 98, 99 etc.\r\n\r\nThus it proves that concurrent updates of ArrayList will not give correct results. \r\n\r\nIf i replace the ArrayList with a **Synchronized** version, the program outputs the correct results.","title":"Concurrent threads adding to ArrayList at same time - what happens?","body":"<p>I came up with the following code to mimic somewhat a real world scenario.</p>\n\n<p>100 tasks are run in parallel and they update their completed status to the main program. I use a CountDownLatch to wait for task completion.</p>\n\n<pre><code>import java.util.concurrent.*;\nimport java.util.*;\n\npublic class Runner {\n\n    // Should be replaced with Collections.synchronizedList(new ArrayList&lt;Integer&gt;())\n    public List&lt;Integer&gt; completed = new ArrayList&lt;Integer&gt;();\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        Runner r = new Runner();\n        ExecutorService exe = Executors.newFixedThreadPool(30);\n        int tasks = 100;\n        CountDownLatch latch = new CountDownLatch(tasks);\n        for (int i = 0; i &lt; tasks; i++) {\n            exe.submit(r.new Task(i, latch));\n        }\n        try {\n            latch.await();\n            System.out.println(\"Summary:\");\n            System.out.println(\"Number of tasks completed: \"\n                    + r.completed.size());\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        exe.shutdown();\n    }\n\n    class Task implements Runnable {\n\n        private int id;\n        private CountDownLatch latch;\n\n        public Task(int id, CountDownLatch latch) {\n            this.id = id;\n            this.latch = latch;\n        }\n\n        public void run() {\n            Random r = new Random();\n            try {\n                Thread.sleep(r.nextInt(5000)); //Actual work of the task\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            completed.add(id);\n            latch.countDown();\n        }\n    }\n}\n</code></pre>\n\n<p>When i ran the application 10 times and at least 3 to 4 times the program did not print correct number of completed tasks. Ideally it should print 100(if no exceptions happen). But in some cases it was printing 98, 99 etc.</p>\n\n<p>Thus it proves that concurrent updates of ArrayList will not give correct results. </p>\n\n<p>If i replace the ArrayList with a <strong>Synchronized</strong> version, the program outputs the correct results.</p>\n"},{"tags":[],"owner":{"account_id":3481378,"reputation":1144,"user_id":4628234,"display_name":"Stan Fad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1441107217,"creation_date":1441107217,"answer_id":32330546,"question_id":2715983,"body_markdown":"You could use instead of `ArrayList();` :\r\n\r\n    Collections.synchronizedList( new ArrayList() );\r\n\r\nor\r\n\r\n    new Vector();\r\n\r\n`synchronizedList` as of me preferable because it&#39;s:\r\n\r\n- faster on 50-100%\r\n- can work with already existing ArrayList&#39;s","title":"Concurrent threads adding to ArrayList at same time - what happens?","body":"<p>You could use instead of <code>ArrayList();</code> :</p>\n\n<pre><code>Collections.synchronizedList( new ArrayList() );\n</code></pre>\n\n<p>or</p>\n\n<pre><code>new Vector();\n</code></pre>\n\n<p><code>synchronizedList</code> as of me preferable because it's:</p>\n\n<ul>\n<li>faster on 50-100%</li>\n<li>can work with already existing ArrayList's</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14540135,"reputation":31,"user_id":10502124,"display_name":"George Cave"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653584432,"creation_date":1653584432,"answer_id":72395466,"question_id":2715983,"body_markdown":"In my recently experience using ArrayList to add new elements from different threads will miss a few of them, so using Collections.synchronizedList(new ArrayList()) avoid that issue.\r\n \r\n```java\r\nList&lt;String&gt; anotherCollection = new ArrayList&lt;&gt;();\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n// if &#39;anotherCollection&#39; is bigger enough it will miss some elements.\r\nanotherCollection.parallelStream().forEach(el -&gt; list.add(&quot;element&quot; + el));\r\n\r\nList&lt;String&gt; listSync = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n// regardless of &#39;anotherCollection&#39; is bigger it will add all the elements.\r\nanotherCollection.parallelStream().forEach(el -&gt; list.add(&quot;element&quot; + el));\r\n```","title":"Concurrent threads adding to ArrayList at same time - what happens?","body":"<p>In my recently experience using ArrayList to add new elements from different threads will miss a few of them, so using Collections.synchronizedList(new ArrayList()) avoid that issue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; anotherCollection = new ArrayList&lt;&gt;();\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\n// if 'anotherCollection' is bigger enough it will miss some elements.\nanotherCollection.parallelStream().forEach(el -&gt; list.add(&quot;element&quot; + el));\n\nList&lt;String&gt; listSync = Collections.synchronizedList(new ArrayList&lt;&gt;());\n// regardless of 'anotherCollection' is bigger it will add all the elements.\nanotherCollection.parallelStream().forEach(el -&gt; list.add(&quot;element&quot; + el));\n</code></pre>\n"}],"owner":{"account_id":19971,"reputation":55479,"user_id":47281,"accept_rate":83,"display_name":"Marcus Leon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103957,"favorite_count":0,"down_vote_count":1,"up_vote_count":64,"accepted_answer_id":2716016,"answer_count":10,"score":63,"last_activity_date":1653584432,"creation_date":1272307563,"question_id":2715983,"body_markdown":"We have multiple threads calling `add(obj)` on an `ArrayList`.  \r\n\r\nMy theory is that when `add` is called concurrently by two threads, that only one of the two objects being added is really added to the `ArrayList`.  Is this plausable?  \r\n\r\nIf so, how do you get around this?  Use a synchronized collection like `Vector`?","title":"Concurrent threads adding to ArrayList at same time - what happens?","body":"<p>We have multiple threads calling <code>add(obj)</code> on an <code>ArrayList</code>.  </p>\n\n<p>My theory is that when <code>add</code> is called concurrently by two threads, that only one of the two objects being added is really added to the <code>ArrayList</code>.  Is this plausable?  </p>\n\n<p>If so, how do you get around this?  Use a synchronized collection like <code>Vector</code>?</p>\n"},{"tags":["java","android","gradle","sdk"],"comments":[{"owner":{"account_id":9304251,"reputation":5761,"user_id":6908588,"display_name":"Mittal Varsani"},"score":0,"creation_date":1631082037,"post_id":69097847,"comment_id":122123750,"body_markdown":"Are you using one signal dependancy in your project?","body":"Are you using one signal dependancy in your project?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1631564372,"post_id":69097847,"comment_id":122251427,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631082397,"creation_date":1631082397,"answer_id":69097927,"question_id":69097847,"body_markdown":"As mentioned in the error message, if you use `androidx.core:core-ktx:1.7.0-alpha02`, your `compileSdk` needs to be at least `31` and you have `30` there.\r\n\r\nEither update the compile SDK version or use an older version of the core-ktx dependency.","title":"The minCompileSdk (31) specified","body":"<p>As mentioned in the error message, if you use <code>androidx.core:core-ktx:1.7.0-alpha02</code>, your <code>compileSdk</code> needs to be at least <code>31</code> and you have <code>30</code> there.</p>\n<p>Either update the compile SDK version or use an older version of the core-ktx dependency.</p>\n"},{"tags":[],"owner":{"account_id":16278172,"reputation":314,"user_id":11754850,"display_name":"Azmia Hoque Radhio"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1634440983,"creation_date":1631289398,"answer_id":69134931,"question_id":69097847,"body_markdown":"Add this line of code in-app `build.gradle file.\r\n\r\n    \r\n    configurations.all {\r\n            resolutionStrategy { force &#39;androidx.core:core-ktx:1.6.0&#39; }\r\n        }","title":"The minCompileSdk (31) specified","body":"<p>Add this line of code in-app `build.gradle file.</p>\n<pre><code>configurations.all {\n        resolutionStrategy { force 'androidx.core:core-ktx:1.6.0' }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12790330,"reputation":2710,"user_id":9255057,"display_name":"Hardik Hirpara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632313090,"creation_date":1632313090,"answer_id":69284088,"question_id":69097847,"body_markdown":"Change&#160;**compileSdkVersion**&#160;and&#160;**targetSdkVersion**&#160;to&#160;31&#160;in build.gradle(app)\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    android {\r\n        compileSdkVersion 31 // &lt;-- HERE\r\n        defaultConfig {\r\n            applicationId &quot;com.your.package&quot;\r\n            targetSdkVersion 31 // &lt;-- AND HERE\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"The minCompileSdk (31) specified","body":"<p>Change <strong>compileSdkVersion</strong> and <strong>targetSdkVersion</strong> to 31 in build.gradle(app)</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>android {\n    compileSdkVersion 31 // &lt;-- HERE\n    defaultConfig {\n        applicationId \"com.your.package\"\n        targetSdkVersion 31 // &lt;-- AND HERE\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":3495036,"reputation":1,"user_id":2923555,"display_name":"Fakhour Mohammed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640982540,"creation_date":1640976110,"answer_id":70544911,"question_id":69097847,"body_markdown":"I had the same problem here, \r\nin my case solved it by changing \r\n\r\n    implementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n\r\nto \r\n\r\n    implementation &#39;androidx.core:core-ktx:1.6.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.3.0&#39;\r\n\r\nif you don&#39;t want to downgrade, you can upgrade the compile and targetSdkVersion to 31 as @Hardik Hirpara mention\r\n\r\n","title":"The minCompileSdk (31) specified","body":"<p>I had the same problem here,\nin my case solved it by changing</p>\n<pre><code>implementation 'androidx.core:core-ktx:1.7.0'\nimplementation 'androidx.appcompat:appcompat:1.4.0'\n</code></pre>\n<p>to</p>\n<pre><code>implementation 'androidx.core:core-ktx:1.6.0'\nimplementation 'androidx.appcompat:appcompat:1.3.0'\n</code></pre>\n<p>if you don't want to downgrade, you can upgrade the compile and targetSdkVersion to 31 as @Hardik Hirpara mention</p>\n"},{"tags":[],"owner":{"account_id":18397532,"reputation":70,"user_id":13401546,"display_name":"Sagir Musa Umar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653584397,"creation_date":1653584397,"answer_id":72395456,"question_id":69097847,"body_markdown":"Simply change the **compileSdk** to **31** and **targetSdk** to **31**\r\n\r\n","title":"The minCompileSdk (31) specified","body":"<p>Simply change the <strong>compileSdk</strong> to <strong>31</strong> and <strong>targetSdk</strong> to <strong>31</strong></p>\n"}],"owner":{"account_id":17591872,"reputation":53,"user_id":12763561,"display_name":"Radhio Office"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12227,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":69134931,"answer_count":5,"score":5,"last_activity_date":1653584397,"creation_date":1631081897,"question_id":69097847,"body_markdown":"    The minCompileSdk (31) specified in a dependency&#39;s AAR metadata (META-INF/com/android/build/gradle/aar-metadata.properties) is greater than this module&#39;s compileSdkVersion (android-30). Dependency: androidx.core:core-ktx:1.7.0-alpha02. AAR metadata file: C:\\Users\\mohammad.zeeshan1.gradle\\caches\\transforms-2\\files-2.1\\a20beb0771f59a8ddbbb8d416ea06a9d\\jetified-core-ktx-1.7.0-alpha02\\META-INF\\com\\android\\build\\gradle\\aar-metadata.properties.","title":"The minCompileSdk (31) specified","body":"<pre><code>The minCompileSdk (31) specified in a dependency's AAR metadata (META-INF/com/android/build/gradle/aar-metadata.properties) is greater than this module's compileSdkVersion (android-30). Dependency: androidx.core:core-ktx:1.7.0-alpha02. AAR metadata file: C:\\Users\\mohammad.zeeshan1.gradle\\caches\\transforms-2\\files-2.1\\a20beb0771f59a8ddbbb8d416ea06a9d\\jetified-core-ktx-1.7.0-alpha02\\META-INF\\com\\android\\build\\gradle\\aar-metadata.properties.\n</code></pre>\n"},{"tags":["java","multithreading","jetty","thread-dump"],"comments":[{"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"score":0,"creation_date":1653661000,"post_id":72395449,"comment_id":127911794,"body_markdown":"And I see similar errors when launching the application (java 17, Spring boot 2.6.4 ). But I have pointed version java 17 in pom.xml and than The error has disappeared","body":"And I see similar errors when launching the application (java 17, Spring boot 2.6.4 ). But I have pointed version java 17 in pom.xml and than The error has disappeared"},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1653661401,"post_id":72395449,"comment_id":127911963,"body_markdown":"I count 14 daemon threads in your output, and some are non-JVM threads.","body":"I count 14 daemon threads in your output, and some are non-JVM threads."}],"owner":{"account_id":2481501,"reputation":1002,"user_id":2160887,"accept_rate":19,"display_name":"seriousgeek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":699,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653584365,"creation_date":1653584365,"question_id":72395449,"body_markdown":"One of our embedded jetty applications doesn&#39;t exit even though there are no non-daemon threads according to the thread dump:\r\n\r\n    Threads class SMR info:\r\n    _java_thread_list=0x00007fede8001c60, length=15, elements={\r\n    0x00007ff680422000, 0x00007ff680426000, 0x00007ff680439000, 0x00007ff68043b800,\r\n    0x00007ff680445800, 0x00007ff68044a000, 0x00007ff6804c3000, 0x00007ff6804ce000,\r\n    0x00007ff682206000, 0x00007ff682576800, 0x00007ff683403800, 0x00007ff6833fc800,\r\n    0x00007ff68352a800, 0x00007ff680019800, 0x00007fede8001000\r\n    }\r\n    \r\n    &quot;Reference Handler&quot; #2 daemon prio=10 os_prio=0 cpu=4.16ms elapsed=484197.27s tid=0x00007ff680422000 nid=0x5a09 waiting on condition  [0x00007fee0c2e6000]\r\n       java.lang.Thread.State: RUNNABLE\r\n            at java.lang.ref.Reference.waitForReferencePendingList(java.base@11.0.4/Native Method)\r\n            at java.lang.ref.Reference.processPendingReferences(java.base@11.0.4/Reference.java:241)\r\n            at java.lang.ref.Reference$ReferenceHandler.run(java.base@11.0.4/Reference.java:213)\r\n    \r\n    &quot;Finalizer&quot; #3 daemon prio=8 os_prio=0 cpu=2.53ms elapsed=484197.26s tid=0x00007ff680426000 nid=0x5a0a in Object.wait()  [0x00007fee0c1e5000]\r\n       java.lang.Thread.State: WAITING (on object monitor)\r\n            at java.lang.Object.wait(java.base@11.0.4/Native Method)\r\n            - waiting on &lt;0x00007fee62029b60&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n            at java.lang.ref.ReferenceQueue.remove(java.base@11.0.4/ReferenceQueue.java:155)\r\n            - waiting to re-lock in wait() &lt;0x00007fee62029b60&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n            at java.lang.ref.ReferenceQueue.remove(java.base@11.0.4/ReferenceQueue.java:176)\r\n            at java.lang.ref.Finalizer$FinalizerThread.run(java.base@11.0.4/Finalizer.java:170)\r\n    \r\n    &quot;Signal Dispatcher&quot; #4 daemon prio=9 os_prio=0 cpu=0.60ms elapsed=484197.25s tid=0x00007ff680439000 nid=0x5a0b runnable  [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;C2 CompilerThread0&quot; #5 daemon prio=9 os_prio=0 cpu=13349.31ms elapsed=484197.25s tid=0x00007ff68043b800 nid=0x5a0c waiting on condition  [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n       No compile task\r\n    \r\n    &quot;C1 CompilerThread0&quot; #17 daemon prio=9 os_prio=0 cpu=4154.09ms elapsed=484197.25s tid=0x00007ff680445800 nid=0x5a0d waiting on condition  [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n       No compile task\r\n    \r\n    &quot;Sweeper thread&quot; #23 daemon prio=9 os_prio=0 cpu=557.92ms elapsed=484197.25s tid=0x00007ff68044a000 nid=0x5a0e runnable  [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;Service Thread&quot; #24 daemon prio=9 os_prio=0 cpu=0.06ms elapsed=484197.20s tid=0x00007ff6804c3000 nid=0x5a10 runnable  [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;Common-Cleaner&quot; #25 daemon prio=8 os_prio=0 cpu=301.60ms elapsed=484197.19s tid=0x00007ff6804ce000 nid=0x5a12 in Object.wait()  [0x00007feded244000]\r\n       java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n            at java.lang.Object.wait(java.base@11.0.4/Native Method)\r\n            - waiting on &lt;no object reference available&gt;\r\n            at java.lang.ref.ReferenceQueue.remove(java.base@11.0.4/ReferenceQueue.java:155)\r\n            - waiting to re-lock in wait() &lt;0x00007fee6205e2f0&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n            at jdk.internal.ref.CleanerImpl.run(java.base@11.0.4/CleanerImpl.java:148)\r\n            at java.lang.Thread.run(java.base@11.0.4/Thread.java:834)\r\n            at jdk.internal.misc.InnocuousThread.run(java.base@11.0.4/InnocuousThread.java:134)\r\n    &quot;org.apache.hadoop.fs.FileSystem$Statistics$StatisticsDataReferenceCleaner&quot; #30 daemon prio=5 os_prio=0 cpu=0.14ms elapsed=484194.24s tid=0x00007ff682206000 nid=0x5b66 in Object.wait()  [0x00007fecde6a4000]\r\n       java.lang.Thread.State: WAITING (on object monitor)\r\n            at java.lang.Object.wait(java.base@11.0.4/Native Method)\r\n            - waiting on &lt;0x00007fee6e5000f0&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n            at java.lang.ref.ReferenceQueue.remove(java.base@11.0.4/ReferenceQueue.java:155)\r\n            - waiting to re-lock in wait() &lt;0x00007fee6e5000f0&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n            at java.lang.ref.ReferenceQueue.remove(java.base@11.0.4/ReferenceQueue.java:176)\r\n            at org.apache.hadoop.fs.FileSystem$Statistics$StatisticsDataReferenceCleaner.run(FileSystem.java:3212)\r\n            at java.lang.Thread.run(java.base@11.0.4/Thread.java:834)\r\n    \r\n    &quot;java-sdk-http-connection-reaper&quot; #32 daemon prio=5 os_prio=0 cpu=349.83ms elapsed=484192.91s tid=0x00007ff682576800 nid=0x5c8f waiting on condition  [0x00007fecdebb4000]\r\n       java.lang.Thread.State: TIMED_WAITING (sleeping)\r\n            at java.lang.Thread.sleep(java.base@11.0.4/Native Method)\r\n            at com.amazonaws.http.IdleConnectionReaper.run(IdleConnectionReaper.java:188)\r\n    \r\n    &quot;Cleaner-0&quot; #237 daemon prio=8 os_prio=0 cpu=291.57ms elapsed=484191.45s tid=0x00007ff683403800 nid=0x5d6d in Object.wait()  [0x00007fedecc19000]\r\n       java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n            at java.lang.Object.wait(java.base@11.0.4/Native Method)\r\n            - waiting on &lt;no object reference available&gt;\r\n            at java.lang.ref.ReferenceQueue.remove(java.base@11.0.4/ReferenceQueue.java:155)\r\n            - waiting to re-lock in wait() &lt;0x00007fee6e800570&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n            at jdk.internal.ref.CleanerImpl.run(java.base@11.0.4/CleanerImpl.java:148)\r\n            at java.lang.Thread.run(java.base@11.0.4/Thread.java:834)\r\n            at jdk.internal.misc.InnocuousThread.run(java.base@11.0.4/InnocuousThread.java:134)\r\n    \r\n    &quot;MonitorScheduler-0&quot; #238 daemon prio=5 os_prio=0 cpu=88.51ms elapsed=484190.84s tid=0x00007ff6833fc800 nid=0x5d74 waiting on condition  [0x00007fedecd1a000]\r\n       java.lang.Thread.State: WAITING (parking)\r\n            at jdk.internal.misc.Unsafe.park(java.base@11.0.4/Native Method)\r\n            - parking to wait for  &lt;0x00007fee6e84aee0&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n            at java.util.concurrent.locks.LockSupport.park(java.base@11.0.4/LockSupport.java:194)\r\n            at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(java.base@11.0.4/AbstractQueuedSynchronizer.java:2081)\r\n            at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(java.base@11.0.4/ScheduledThreadPoolExecutor.java:1170)\r\n            at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(java.base@11.0.4/ScheduledThreadPoolExecutor.java:899)\r\n            at java.util.concurrent.ThreadPoolExecutor.getTask(java.base@11.0.4/ThreadPoolExecutor.java:1054)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@11.0.4/ThreadPoolExecutor.java:1114)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@11.0.4/ThreadPoolExecutor.java:628)\r\n            at java.lang.Thread.run(java.base@11.0.4/Thread.java:834)\r\n    &quot;parent-monitor-0&quot; #247 daemon prio=5 os_prio=0 cpu=0.99ms elapsed=484190.22s tid=0x00007ff68352a800 nid=0x5d85 waiting on condition  [0x00007fe8b3dfc000]\r\n       java.lang.Thread.State: RUNNABLE\r\n            at java.lang.Shutdown.halt0(java.base@11.0.4/Native Method)\r\n            at java.lang.Shutdown.halt(java.base@11.0.4/Shutdown.java:152)\r\n            - locked &lt;0x00007fee621d7bf0&gt; (a java.lang.Shutdown$Lock)\r\n            at java.lang.Shutdown.exit(java.base@11.0.4/Shutdown.java:166)\r\n            - locked &lt;0x00007fee621d7c00&gt; (a java.lang.Shutdown$Lock)\r\n            at java.lang.Runtime.exit(java.base@11.0.4/Runtime.java:115)\r\n            at java.lang.System.exit(java.base@11.0.4/System.java:1746)\r\n            at org.apache.druid.indexing.worker.executor.ExecutorLifecycle$1.run(ExecutorLifecycle.java:164)\r\n            at java.util.concurrent.Executors$RunnableAdapter.call(java.base@11.0.4/Executors.java:515)\r\n            at java.util.concurrent.FutureTask.run(java.base@11.0.4/FutureTask.java:264)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@11.0.4/ThreadPoolExecutor.java:1128)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@11.0.4/ThreadPoolExecutor.java:628)\r\n            at java.lang.Thread.run(java.base@11.0.4/Thread.java:834)\r\n    \r\n    &quot;DestroyJavaVM&quot; #463 prio=5 os_prio=0 cpu=7216.70ms elapsed=482936.25s tid=0x00007ff680019800 nid=0x5a02 waiting on condition  [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;Attach Listener&quot; #466 daemon prio=9 os_prio=0 cpu=1.70ms elapsed=0.10s tid=0x00007fede8001000 nid=0xfd11 waiting on condition  [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;VM Thread&quot; os_prio=0 cpu=11984.02ms elapsed=484197.27s tid=0x00007ff680419800 nid=0x5a08 runnable  \r\n    \r\n    &quot;GC Thread#0&quot; os_prio=0 cpu=3347.56ms elapsed=484197.30s tid=0x00007ff680044000 nid=0x5a03 runnable  \r\n    \r\n    &quot;GC Thread#1&quot; os_prio=0 cpu=3543.94ms elapsed=484196.38s tid=0x00007fee00001000 nid=0x5a1e runnable  \r\n    \r\n    &quot;GC Thread#2&quot; os_prio=0 cpu=3272.22ms elapsed=484196.38s tid=0x00007fee00002800 nid=0x5a1f runnable  \r\n    \r\n    &quot;GC Thread#3&quot; os_prio=0 cpu=3355.05ms elapsed=484196.38s tid=0x00007fee00004000 nid=0x5a20 runnable  \r\n    &quot;GC Thread#42&quot; os_prio=0 cpu=3385.71ms elapsed=484196.38s tid=0x00007fee00046800 nid=0x5a47 runnable  \r\n    \r\n    &quot;G1 Main Marker&quot; os_prio=0 cpu=9.86ms elapsed=484197.30s tid=0x00007ff680088800 nid=0x5a04 runnable  \r\n    \r\n    &quot;G1 Conc#0&quot; os_prio=0 cpu=2674.73ms elapsed=484197.30s tid=0x00007ff68008a000 nid=0x5a05 runnable  \r\n    \r\n    &quot;G1 Conc#1&quot; os_prio=0 cpu=2662.56ms elapsed=484196.12s tid=0x00007fee10001000 nid=0x5a7f runnable  \r\n    \r\n    &quot;G1 Conc#2&quot; os_prio=0 cpu=2665.72ms elapsed=484196.12s tid=0x00007fee10002800 nid=0x5a80 runnable  \r\n    \r\n    &quot;G1 Conc#3&quot; os_prio=0 cpu=2668.94ms elapsed=484196.12s tid=0x00007fee10004000 nid=0x5a82 runnable  \r\n    &quot;G1 Refine#0&quot; os_prio=0 cpu=-0.00ms elapsed=484197.29s tid=0x00007ff6803af000 nid=0x5a06 runnable  \r\n    \r\n    &quot;G1 Refine#1&quot; os_prio=0 cpu=-0.00ms elapsed=483424.06s tid=0x00007fee04001000 nid=0x95eb runnable  \r\n    \r\n    &quot;G1 Refine#2&quot; os_prio=0 cpu=-0.00ms elapsed=483424.06s tid=0x00007fe7580e0000 nid=0x95ec runnable  \r\n    \r\n    &quot;G1 Refine#3&quot; os_prio=0 cpu=-0.00ms elapsed=483424.06s tid=0x00007fe76c0a0800 nid=0x95ed runnable  \r\n    &quot;G1 Young RemSet Sampling&quot; os_prio=0 cpu=288497.10ms elapsed=484197.29s tid=0x00007ff6803b1000 nid=0x5a07 runnable  \r\n    JNI global refs: 34, weak refs: 0\r\n\r\nWe added some additional logging in the code to surface non-daemon threads and it logged thread: `nettyClientUtils-2-1,5,main` as non daemon. However, I dont see this thread in the thread dump.\r\nHow can I identify what is blocking this process from exiting?","title":"JVM fails to exit with no non-daemon threads","body":"<p>One of our embedded jetty applications doesn't exit even though there are no non-daemon threads according to the thread dump:</p>\n<pre><code>Threads class SMR info:\n_java_thread_list=0x00007fede8001c60, length=15, elements={\n0x00007ff680422000, 0x00007ff680426000, 0x00007ff680439000, 0x00007ff68043b800,\n0x00007ff680445800, 0x00007ff68044a000, 0x00007ff6804c3000, 0x00007ff6804ce000,\n0x00007ff682206000, 0x00007ff682576800, 0x00007ff683403800, 0x00007ff6833fc800,\n0x00007ff68352a800, 0x00007ff680019800, 0x00007fede8001000\n}\n\n&quot;Reference Handler&quot; #2 daemon prio=10 os_prio=0 cpu=4.16ms elapsed=484197.27s tid=0x00007ff680422000 nid=0x5a09 waiting on condition  [0x00007fee0c2e6000]\n   java.lang.Thread.State: RUNNABLE\n        at java.lang.ref.Reference.waitForReferencePendingList(java.base@11.0.4/Native Method)\n        at java.lang.ref.Reference.processPendingReferences(java.base@11.0.4/Reference.java:241)\n        at java.lang.ref.Reference$ReferenceHandler.run(java.base@11.0.4/Reference.java:213)\n\n&quot;Finalizer&quot; #3 daemon prio=8 os_prio=0 cpu=2.53ms elapsed=484197.26s tid=0x00007ff680426000 nid=0x5a0a in Object.wait()  [0x00007fee0c1e5000]\n   java.lang.Thread.State: WAITING (on object monitor)\n        at java.lang.Object.wait(java.base@11.0.4/Native Method)\n        - waiting on &lt;0x00007fee62029b60&gt; (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(java.base@11.0.4/ReferenceQueue.java:155)\n        - waiting to re-lock in wait() &lt;0x00007fee62029b60&gt; (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(java.base@11.0.4/ReferenceQueue.java:176)\n        at java.lang.ref.Finalizer$FinalizerThread.run(java.base@11.0.4/Finalizer.java:170)\n\n&quot;Signal Dispatcher&quot; #4 daemon prio=9 os_prio=0 cpu=0.60ms elapsed=484197.25s tid=0x00007ff680439000 nid=0x5a0b runnable  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;C2 CompilerThread0&quot; #5 daemon prio=9 os_prio=0 cpu=13349.31ms elapsed=484197.25s tid=0x00007ff68043b800 nid=0x5a0c waiting on condition  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n   No compile task\n\n&quot;C1 CompilerThread0&quot; #17 daemon prio=9 os_prio=0 cpu=4154.09ms elapsed=484197.25s tid=0x00007ff680445800 nid=0x5a0d waiting on condition  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n   No compile task\n\n&quot;Sweeper thread&quot; #23 daemon prio=9 os_prio=0 cpu=557.92ms elapsed=484197.25s tid=0x00007ff68044a000 nid=0x5a0e runnable  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Service Thread&quot; #24 daemon prio=9 os_prio=0 cpu=0.06ms elapsed=484197.20s tid=0x00007ff6804c3000 nid=0x5a10 runnable  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Common-Cleaner&quot; #25 daemon prio=8 os_prio=0 cpu=301.60ms elapsed=484197.19s tid=0x00007ff6804ce000 nid=0x5a12 in Object.wait()  [0x00007feded244000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n        at java.lang.Object.wait(java.base@11.0.4/Native Method)\n        - waiting on &lt;no object reference available&gt;\n        at java.lang.ref.ReferenceQueue.remove(java.base@11.0.4/ReferenceQueue.java:155)\n        - waiting to re-lock in wait() &lt;0x00007fee6205e2f0&gt; (a java.lang.ref.ReferenceQueue$Lock)\n        at jdk.internal.ref.CleanerImpl.run(java.base@11.0.4/CleanerImpl.java:148)\n        at java.lang.Thread.run(java.base@11.0.4/Thread.java:834)\n        at jdk.internal.misc.InnocuousThread.run(java.base@11.0.4/InnocuousThread.java:134)\n&quot;org.apache.hadoop.fs.FileSystem$Statistics$StatisticsDataReferenceCleaner&quot; #30 daemon prio=5 os_prio=0 cpu=0.14ms elapsed=484194.24s tid=0x00007ff682206000 nid=0x5b66 in Object.wait()  [0x00007fecde6a4000]\n   java.lang.Thread.State: WAITING (on object monitor)\n        at java.lang.Object.wait(java.base@11.0.4/Native Method)\n        - waiting on &lt;0x00007fee6e5000f0&gt; (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(java.base@11.0.4/ReferenceQueue.java:155)\n        - waiting to re-lock in wait() &lt;0x00007fee6e5000f0&gt; (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(java.base@11.0.4/ReferenceQueue.java:176)\n        at org.apache.hadoop.fs.FileSystem$Statistics$StatisticsDataReferenceCleaner.run(FileSystem.java:3212)\n        at java.lang.Thread.run(java.base@11.0.4/Thread.java:834)\n\n&quot;java-sdk-http-connection-reaper&quot; #32 daemon prio=5 os_prio=0 cpu=349.83ms elapsed=484192.91s tid=0x00007ff682576800 nid=0x5c8f waiting on condition  [0x00007fecdebb4000]\n   java.lang.Thread.State: TIMED_WAITING (sleeping)\n        at java.lang.Thread.sleep(java.base@11.0.4/Native Method)\n        at com.amazonaws.http.IdleConnectionReaper.run(IdleConnectionReaper.java:188)\n\n&quot;Cleaner-0&quot; #237 daemon prio=8 os_prio=0 cpu=291.57ms elapsed=484191.45s tid=0x00007ff683403800 nid=0x5d6d in Object.wait()  [0x00007fedecc19000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n        at java.lang.Object.wait(java.base@11.0.4/Native Method)\n        - waiting on &lt;no object reference available&gt;\n        at java.lang.ref.ReferenceQueue.remove(java.base@11.0.4/ReferenceQueue.java:155)\n        - waiting to re-lock in wait() &lt;0x00007fee6e800570&gt; (a java.lang.ref.ReferenceQueue$Lock)\n        at jdk.internal.ref.CleanerImpl.run(java.base@11.0.4/CleanerImpl.java:148)\n        at java.lang.Thread.run(java.base@11.0.4/Thread.java:834)\n        at jdk.internal.misc.InnocuousThread.run(java.base@11.0.4/InnocuousThread.java:134)\n\n&quot;MonitorScheduler-0&quot; #238 daemon prio=5 os_prio=0 cpu=88.51ms elapsed=484190.84s tid=0x00007ff6833fc800 nid=0x5d74 waiting on condition  [0x00007fedecd1a000]\n   java.lang.Thread.State: WAITING (parking)\n        at jdk.internal.misc.Unsafe.park(java.base@11.0.4/Native Method)\n        - parking to wait for  &lt;0x00007fee6e84aee0&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n        at java.util.concurrent.locks.LockSupport.park(java.base@11.0.4/LockSupport.java:194)\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(java.base@11.0.4/AbstractQueuedSynchronizer.java:2081)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(java.base@11.0.4/ScheduledThreadPoolExecutor.java:1170)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(java.base@11.0.4/ScheduledThreadPoolExecutor.java:899)\n        at java.util.concurrent.ThreadPoolExecutor.getTask(java.base@11.0.4/ThreadPoolExecutor.java:1054)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@11.0.4/ThreadPoolExecutor.java:1114)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@11.0.4/ThreadPoolExecutor.java:628)\n        at java.lang.Thread.run(java.base@11.0.4/Thread.java:834)\n&quot;parent-monitor-0&quot; #247 daemon prio=5 os_prio=0 cpu=0.99ms elapsed=484190.22s tid=0x00007ff68352a800 nid=0x5d85 waiting on condition  [0x00007fe8b3dfc000]\n   java.lang.Thread.State: RUNNABLE\n        at java.lang.Shutdown.halt0(java.base@11.0.4/Native Method)\n        at java.lang.Shutdown.halt(java.base@11.0.4/Shutdown.java:152)\n        - locked &lt;0x00007fee621d7bf0&gt; (a java.lang.Shutdown$Lock)\n        at java.lang.Shutdown.exit(java.base@11.0.4/Shutdown.java:166)\n        - locked &lt;0x00007fee621d7c00&gt; (a java.lang.Shutdown$Lock)\n        at java.lang.Runtime.exit(java.base@11.0.4/Runtime.java:115)\n        at java.lang.System.exit(java.base@11.0.4/System.java:1746)\n        at org.apache.druid.indexing.worker.executor.ExecutorLifecycle$1.run(ExecutorLifecycle.java:164)\n        at java.util.concurrent.Executors$RunnableAdapter.call(java.base@11.0.4/Executors.java:515)\n        at java.util.concurrent.FutureTask.run(java.base@11.0.4/FutureTask.java:264)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(java.base@11.0.4/ThreadPoolExecutor.java:1128)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(java.base@11.0.4/ThreadPoolExecutor.java:628)\n        at java.lang.Thread.run(java.base@11.0.4/Thread.java:834)\n\n&quot;DestroyJavaVM&quot; #463 prio=5 os_prio=0 cpu=7216.70ms elapsed=482936.25s tid=0x00007ff680019800 nid=0x5a02 waiting on condition  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Attach Listener&quot; #466 daemon prio=9 os_prio=0 cpu=1.70ms elapsed=0.10s tid=0x00007fede8001000 nid=0xfd11 waiting on condition  [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;VM Thread&quot; os_prio=0 cpu=11984.02ms elapsed=484197.27s tid=0x00007ff680419800 nid=0x5a08 runnable  \n\n&quot;GC Thread#0&quot; os_prio=0 cpu=3347.56ms elapsed=484197.30s tid=0x00007ff680044000 nid=0x5a03 runnable  \n\n&quot;GC Thread#1&quot; os_prio=0 cpu=3543.94ms elapsed=484196.38s tid=0x00007fee00001000 nid=0x5a1e runnable  \n\n&quot;GC Thread#2&quot; os_prio=0 cpu=3272.22ms elapsed=484196.38s tid=0x00007fee00002800 nid=0x5a1f runnable  \n\n&quot;GC Thread#3&quot; os_prio=0 cpu=3355.05ms elapsed=484196.38s tid=0x00007fee00004000 nid=0x5a20 runnable  \n&quot;GC Thread#42&quot; os_prio=0 cpu=3385.71ms elapsed=484196.38s tid=0x00007fee00046800 nid=0x5a47 runnable  \n\n&quot;G1 Main Marker&quot; os_prio=0 cpu=9.86ms elapsed=484197.30s tid=0x00007ff680088800 nid=0x5a04 runnable  \n\n&quot;G1 Conc#0&quot; os_prio=0 cpu=2674.73ms elapsed=484197.30s tid=0x00007ff68008a000 nid=0x5a05 runnable  \n\n&quot;G1 Conc#1&quot; os_prio=0 cpu=2662.56ms elapsed=484196.12s tid=0x00007fee10001000 nid=0x5a7f runnable  \n\n&quot;G1 Conc#2&quot; os_prio=0 cpu=2665.72ms elapsed=484196.12s tid=0x00007fee10002800 nid=0x5a80 runnable  \n\n&quot;G1 Conc#3&quot; os_prio=0 cpu=2668.94ms elapsed=484196.12s tid=0x00007fee10004000 nid=0x5a82 runnable  \n&quot;G1 Refine#0&quot; os_prio=0 cpu=-0.00ms elapsed=484197.29s tid=0x00007ff6803af000 nid=0x5a06 runnable  \n\n&quot;G1 Refine#1&quot; os_prio=0 cpu=-0.00ms elapsed=483424.06s tid=0x00007fee04001000 nid=0x95eb runnable  \n\n&quot;G1 Refine#2&quot; os_prio=0 cpu=-0.00ms elapsed=483424.06s tid=0x00007fe7580e0000 nid=0x95ec runnable  \n\n&quot;G1 Refine#3&quot; os_prio=0 cpu=-0.00ms elapsed=483424.06s tid=0x00007fe76c0a0800 nid=0x95ed runnable  \n&quot;G1 Young RemSet Sampling&quot; os_prio=0 cpu=288497.10ms elapsed=484197.29s tid=0x00007ff6803b1000 nid=0x5a07 runnable  \nJNI global refs: 34, weak refs: 0\n</code></pre>\n<p>We added some additional logging in the code to surface non-daemon threads and it logged thread: <code>nettyClientUtils-2-1,5,main</code> as non daemon. However, I dont see this thread in the thread dump.\nHow can I identify what is blocking this process from exiting?</p>\n"},{"tags":["java","json","clojure","sqlkorma"],"answers":[{"tags":[],"owner":{"account_id":5215671,"reputation":14,"user_id":4170708,"display_name":"sujoy saha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1420452788,"creation_date":1420452788,"answer_id":27777330,"question_id":27771096,"body_markdown":"As the datatype of :error_json column is &quot;json&quot; in postgres database so you have to typecast it into &quot;string&quot; from &quot;PGobject json&quot;. \r\n\r\nYes you can use toString to change the type.\r\n\r\nbelow is the code snippet: \r\n\r\n    (map (fn [value] (update-in value [:error_json] #(.toString %))) (get-all-bre-errors))  ","title":"converting json object to string in clojure","body":"<p>As the datatype of :error_json column is \"json\" in postgres database so you have to typecast it into \"string\" from \"PGobject json\". </p>\n\n<p>Yes you can use toString to change the type.</p>\n\n<p>below is the code snippet: </p>\n\n<pre><code>(map (fn [value] (update-in value [:error_json] #(.toString %))) (get-all-bre-errors))  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2705676,"reputation":506,"user_id":2335334,"display_name":"Hezi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653584054,"creation_date":1653584054,"answer_id":72395382,"question_id":27771096,"body_markdown":"As an alternative to modifying the application code, you can modify your SQL query, like this:\r\n\r\n    SELECT id, jsonbValue::TEXT\r\n    FROM myTable\r\n\r\nAdding `::TEXT` will cast the jsonb to text.","title":"converting json object to string in clojure","body":"<p>As an alternative to modifying the application code, you can modify your SQL query, like this:</p>\n<pre><code>SELECT id, jsonbValue::TEXT\nFROM myTable\n</code></pre>\n<p>Adding <code>::TEXT</code> will cast the jsonb to text.</p>\n"}],"owner":{"account_id":5059644,"reputation":3,"user_id":4211010,"display_name":"lavanya gooty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27777330,"answer_count":2,"score":0,"last_activity_date":1653584054,"creation_date":1420410673,"question_id":27771096,"body_markdown":"I am trying to display a json object from a table to UI screen using clojure,sql korma and angularJS. I have a table with a column&#39;s data type as json.The data base is postgres.When I am trying to run the code, I am getting the an error.\r\n    My code to query the DB is below.\r\n    \r\n    &lt;!-- begin snippet: js hide: false --&gt;\r\n    \r\n    &lt;!-- language: lang-html --&gt;\r\n    \r\n    (ns error_api_transactions.models.bre_dve_errors_api_transactions\r\n      (:require [debug.logger :as logger])\r\n      (:use [korma.core]\r\n            [core.config.db]\r\n            [utils.gen_password]\r\n            [core.file-store]\r\n            [utils.uuid :as utils-uuid]))\r\n    \r\n    \r\n    (defentity bre_errors\r\n      (pk :id)\r\n      (table :bre_errors)\r\n      (database master-db))\r\n    \r\n    (defentity dve_errors\r\n      (pk :id)\r\n      (table :dve_errors)\r\n      (database master-db))\r\n    \r\n     (defentity vendor_detail\r\n      (pk :id)\r\n      (table :vendor)\r\n      (database master-db))\r\n    \r\n    \r\n        (defn get-all-bre-errors\r\n           ^{:Comments &quot;&quot;}\r\n           []\r\n          \r\n    \r\n          \r\n           \r\n           (select bre_errors\r\n                           (fields [:vendor_id :vendor_id]\r\n                                   [:error_json]\r\n                                   [:error_xml :error_xml]\r\n                                   [:input :input]\r\n                                   [:created_on :created_on]\r\n                                   [:updated_on :updated_on]\r\n                                   [:deleted_on :deleted_on]\r\n                                   [:po_number :po_number]\r\n                                   [:purchase_order_id :purchase_order_i])\r\n                           )\r\n    \r\n          )\r\n    \r\n    &lt;!-- end snippet --&gt;\r\n    \r\nError is:\r\n    com.fasterxml.jackson.core.JsonGenerationException: Cannot JSON encode object of class: class org.postgresql.util.PGobject: [&quot;Container Numbers in all nodes must be consistent&quot;]\r\n    \r\nI do not know if we can use any toString methods of java here to `enter code here`convert JSON to normal string.\r\nAny help is highly appreciated\r\n\r\n","title":"converting json object to string in clojure","body":"<p>I am trying to display a json object from a table to UI screen using clojure,sql korma and angularJS. I have a table with a column's data type as json.The data base is postgres.When I am trying to run the code, I am getting the an error.\n    My code to query the DB is below.</p>\n\n<pre><code><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>(ns error_api_transactions.models.bre_dve_errors_api_transactions\r\n  (:require [debug.logger :as logger])\r\n  (:use [korma.core]\r\n        [core.config.db]\r\n        [utils.gen_password]\r\n        [core.file-store]\r\n        [utils.uuid :as utils-uuid]))\r\n\r\n\r\n(defentity bre_errors\r\n  (pk :id)\r\n  (table :bre_errors)\r\n  (database master-db))\r\n\r\n(defentity dve_errors\r\n  (pk :id)\r\n  (table :dve_errors)\r\n  (database master-db))\r\n\r\n (defentity vendor_detail\r\n  (pk :id)\r\n  (table :vendor)\r\n  (database master-db))\r\n\r\n\r\n    (defn get-all-bre-errors\r\n       ^{:Comments \"\"}\r\n       []\r\n      \r\n\r\n      \r\n       \r\n       (select bre_errors\r\n                       (fields [:vendor_id :vendor_id]\r\n                               [:error_json]\r\n                               [:error_xml :error_xml]\r\n                               [:input :input]\r\n                               [:created_on :created_on]\r\n                               [:updated_on :updated_on]\r\n                               [:deleted_on :deleted_on]\r\n                               [:po_number :po_number]\r\n                               [:purchase_order_id :purchase_order_i])\r\n                       )\r\n\r\n      )</code></pre>\r\n</div>\r\n</div>\r\n\n</code></pre>\n\n<p>Error is:\n    com.fasterxml.jackson.core.JsonGenerationException: Cannot JSON encode object of class: class org.postgresql.util.PGobject: [\"Container Numbers in all nodes must be consistent\"]</p>\n\n<p>I do not know if we can use any toString methods of java here to <code>enter code here</code>convert JSON to normal string.\nAny help is highly appreciated</p>\n"},{"tags":["java","spring","eclipse","spring-boot","maven"],"comments":[{"owner":{"account_id":1657072,"reputation":1210,"user_id":1526322,"accept_rate":100,"display_name":"Knox"},"score":0,"creation_date":1653597047,"post_id":72395324,"comment_id":127896383,"body_markdown":"What&#39;s the question?","body":"What&#39;s the question?"},{"owner":{"account_id":12848357,"reputation":11,"user_id":9294047,"display_name":"Naman Sharma"},"score":0,"creation_date":1653634815,"post_id":72395324,"comment_id":127902796,"body_markdown":"@Knox Why is there a difference in representation of Maven Dependency?","body":"@Knox Why is there a difference in representation of Maven Dependency?"}],"owner":{"account_id":12848357,"reputation":11,"user_id":9294047,"display_name":"Naman Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653583742,"creation_date":1653583742,"question_id":72395324,"body_markdown":"I am observing a difference between how the dependencies are being displayed in eclipse &#39; Maven Dependencies &#39; folder. Although the M2_REPO translates to C:\\Users\\XYZ\\.m2\\repository only but why there is a difference in display structure.\r\n\r\nSide Note :- I am having some exception while running Project 1 while Project 2 is working fine both have similar set of dependencies that&#39;s why i was validating the dependency structure.\r\n\r\nProject 1\r\n\r\n    M2_REPO\\io\\github\\classgraph\\classgraph\\4.8.143\\classgraph-4.8.143.jar\r\n\r\nProject 2\r\n\r\n    C:\\Users\\XYZ\\.m2\\repository\\jakarta\\activation\\jakarta.activation-api\\1.2.2\\jakarta.activation-api-1.2.2.jar","title":"Difference In Maven Dependency Display Structure","body":"<p>I am observing a difference between how the dependencies are being displayed in eclipse ' Maven Dependencies ' folder. Although the M2_REPO translates to C:\\Users\\XYZ.m2\\repository only but why there is a difference in display structure.</p>\n<p>Side Note :- I am having some exception while running Project 1 while Project 2 is working fine both have similar set of dependencies that's why i was validating the dependency structure.</p>\n<p>Project 1</p>\n<pre><code>M2_REPO\\io\\github\\classgraph\\classgraph\\4.8.143\\classgraph-4.8.143.jar\n</code></pre>\n<p>Project 2</p>\n<pre><code>C:\\Users\\XYZ\\.m2\\repository\\jakarta\\activation\\jakarta.activation-api\\1.2.2\\jakarta.activation-api-1.2.2.jar\n</code></pre>\n"},{"tags":["java","spring","spring-boot","api","webclient"],"comments":[{"owner":{"account_id":4136921,"reputation":929,"user_id":3393379,"display_name":"thinkgruen"},"score":0,"creation_date":1653576296,"post_id":72393543,"comment_id":127889291,"body_markdown":"Are the other instructions dependent on the result? If not, I think that you can just proceed as normal. And If they are dependent, you can use operations such as doOnSuccess or zip it with another etc. Without knowing your use-case, it is hard to give any advice.","body":"Are the other instructions dependent on the result? If not, I think that you can just proceed as normal. And If they are dependent, you can use operations such as doOnSuccess or zip it with another etc. Without knowing your use-case, it is hard to give any advice."},{"owner":{"account_id":16387897,"reputation":3,"user_id":11837415,"display_name":"Veron"},"score":0,"creation_date":1653578563,"post_id":72393543,"comment_id":127890175,"body_markdown":"thank you @thinkgruen for the answer. Yes they are the other instructions dependent on the result and the problem these instructions runs before the result and i get errors","body":"thank you @thinkgruen for the answer. Yes they are the other instructions dependent on the result and the problem these instructions runs before the result and i get errors"},{"owner":{"account_id":4136921,"reputation":929,"user_id":3393379,"display_name":"thinkgruen"},"score":0,"creation_date":1653592708,"post_id":72393543,"comment_id":127894959,"body_markdown":"could you add a bit more code so that we can see how the calls are chained?","body":"could you add a bit more code so that we can see how the calls are chained?"}],"answers":[{"tags":[],"owner":{"account_id":20833547,"reputation":1212,"user_id":15302273,"display_name":"stacktrace2234"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1653583677,"creation_date":1653583677,"answer_id":72395309,"question_id":72393543,"body_markdown":"https://stackoverflow.com/questions/58750918/how-to-use-webclient-to-execute-synchronous-request\r\n\r\nAdd `.block()`\r\n\r\nSomething similar like this, I don&#39;t use flux too much, also can&#39;t test it:\r\n\r\n```\r\nMono&lt;ClientResponse&gt; clientResponse = webClientBuilder\r\n                .build()\r\n                .post()\r\n                .uri(societe.get(0)\r\n                        .getApi_login())\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .bodyValue(\r\n                        identify)\r\n                .exchange()\r\n                .block();\r\n```\r\n","title":"WebClient wait until you get a response of the request","body":"<p><a href=\"https://stackoverflow.com/questions/58750918/how-to-use-webclient-to-execute-synchronous-request\">How to use WebClient to execute synchronous request?</a></p>\n<p>Add <code>.block()</code></p>\n<p>Something similar like this, I don't use flux too much, also can't test it:</p>\n<pre><code>Mono&lt;ClientResponse&gt; clientResponse = webClientBuilder\n                .build()\n                .post()\n                .uri(societe.get(0)\n                        .getApi_login())\n                .contentType(MediaType.APPLICATION_JSON)\n                .bodyValue(\n                        identify)\n                .exchange()\n                .block();\n</code></pre>\n"}],"owner":{"account_id":16387897,"reputation":3,"user_id":11837415,"display_name":"Veron"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653583677,"creation_date":1653575765,"question_id":72393543,"body_markdown":"I make a request with webClient in spring boot here is the request above:\r\n\r\n    Mono&lt;ClientResponse&gt; clientResponse = webClientBuilder\r\n                    .build()\r\n                    .post()\r\n                    .uri(societe.get(0)\r\n                            .getApi_login())\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .bodyValue(\r\n                            identify)\r\n                    .exchange();\r\n\r\nmy question is how can i wait the result of the request before executing another instruction","title":"WebClient wait until you get a response of the request","body":"<p>I make a request with webClient in spring boot here is the request above:</p>\n<pre><code>Mono&lt;ClientResponse&gt; clientResponse = webClientBuilder\n                .build()\n                .post()\n                .uri(societe.get(0)\n                        .getApi_login())\n                .contentType(MediaType.APPLICATION_JSON)\n                .bodyValue(\n                        identify)\n                .exchange();\n</code></pre>\n<p>my question is how can i wait the result of the request before executing another instruction</p>\n"},{"tags":["java","objectmapper"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1653583525,"post_id":72395242,"comment_id":127891993,"body_markdown":"Call it like you call it now? It&#39;s not clear what the actual issue is.","body":"Call it like you call it now? It&#39;s not clear what the actual issue is."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1653583737,"post_id":72395242,"comment_id":127892063,"body_markdown":"(Noting that depending on context this can lead to weaker testing since you&#39;re not in control of what the API returns.)","body":"(Noting that depending on context this can lead to weaker testing since you&#39;re not in control of what the API returns.)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1653584544,"post_id":72395242,"comment_id":127892314,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":25398384,"reputation":1,"user_id":19208305,"display_name":"Ravi Pandey"},"score":0,"creation_date":1653662613,"post_id":72395242,"comment_id":127912447,"body_markdown":"@DaveNewton. issue is - I am working on application which in java and i got some other apllication which is in .net so from .net side i got the api link and i have to call all these data from .net side to my java side. so for that i implement all the Interface and method to get data. so in current scenerio i want to test api call from my code.","body":"@DaveNewton. issue is - I am working on application which in java and i got some other apllication which is in .net so from .net side i got the api link and i have to call all these data from .net side to my java side. so for that i implement all the Interface and method to get data. so in current scenerio i want to test api call from my code."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1653662925,"post_id":72395242,"comment_id":127912572,"body_markdown":"Okay, but what&#39;s the *issue*? What problem are you having?","body":"Okay, but what&#39;s the <i>issue</i>? What problem are you having?"}],"owner":{"account_id":25398384,"reputation":1,"user_id":19208305,"display_name":"Ravi Pandey"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653583418,"creation_date":1653583418,"question_id":72395242,"body_markdown":"I am working on Production application where i have to call microservice to getListOfData in my application. So there is any way to test my method which i wrote for taking data from get api call from another application without creating mock data. I want to call real Api for testing my code ?\r\n ","title":"Can I call api microservice from another server and test it in my local from my code?","body":"<p>I am working on Production application where i have to call microservice to getListOfData in my application. So there is any way to test my method which i wrote for taking data from get api call from another application without creating mock data. I want to call real Api for testing my code ?</p>\n"},{"tags":["java","android","xml","android-studio"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1653502215,"post_id":72382328,"comment_id":127870775,"body_markdown":"Look into logcat for error massage.","body":"Look into logcat for error massage."},{"owner":{"account_id":10942225,"reputation":2447,"user_id":8041634,"display_name":"shagberg"},"score":0,"creation_date":1653502408,"post_id":72382328,"comment_id":127870834,"body_markdown":"@Jens is correct - you need to post the specific error message from your logcat","body":"@Jens is correct - you need to post the specific error message from your logcat"},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1653524699,"post_id":72382328,"comment_id":127876241,"body_markdown":"what is `@drawable/trasera`, specifically?  It seems unhappy about that.","body":"what is <code>@drawable&#47;trasera</code>, specifically?  It seems unhappy about that."},{"owner":{"account_id":15920984,"reputation":49,"user_id":11488000,"display_name":"AlElM"},"score":0,"creation_date":1653558376,"post_id":72382328,"comment_id":127882938,"body_markdown":"@RyanM it&#39;s the first background image of the button. When I want to click on it(the Image Button), it will change to another picture. I still didn&#39;t make the onClickListener.","body":"@RyanM it&#39;s the first background image of the button. When I want to click on it(the Image Button), it will change to another picture. I still didn&#39;t make the onClickListener."},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1653558438,"post_id":72382328,"comment_id":127882958,"body_markdown":"No, I mean what is in that file?  I suspect it&#39;s related based on the error.","body":"No, I mean what is in that file?  I suspect it&#39;s related based on the error."},{"owner":{"account_id":15920984,"reputation":49,"user_id":11488000,"display_name":"AlElM"},"score":0,"creation_date":1653639379,"post_id":72382328,"comment_id":127904236,"body_markdown":"@RyanM it&#39;s a png image.","body":"@RyanM it&#39;s a png image."}],"answers":[{"tags":[],"owner":{"account_id":15750890,"reputation":529,"user_id":11365488,"display_name":"Elfnan Sherif"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653503416,"creation_date":1653503416,"answer_id":72382604,"question_id":72382328,"body_markdown":"try replacing\r\n\r\n    View v = convertView;\r\n            LayoutInflater inflater = (LayoutInflater) getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n            v = inflater.inflate(R.layout.grid_view_items, null);\r\n\r\nwith\r\n\r\n    View v = getApplicationContext().getLayoutInflater().inflate(R.layout.grid_view_items, null);","title":"Error inflating class ImageButton The app crashes","body":"<p>try replacing</p>\n<pre><code>View v = convertView;\n        LayoutInflater inflater = (LayoutInflater) getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n        v = inflater.inflate(R.layout.grid_view_items, null);\n</code></pre>\n<p>with</p>\n<pre><code>View v = getApplicationContext().getLayoutInflater().inflate(R.layout.grid_view_items, null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10942225,"reputation":2447,"user_id":8041634,"display_name":"shagberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653573108,"creation_date":1653573108,"answer_id":72392943,"question_id":72382328,"body_markdown":"It is likely that you do not have your drawable files for your cards in the proper drawable folder based on the API level you are running. For example, if the files are in `/drawable-26`, when you run your app on API 25 that would be the error you would get.\r\n\r\nIf the drawables for your cards are not specific to an API level, move them to the `/drawable` folder.","title":"Error inflating class ImageButton The app crashes","body":"<p>It is likely that you do not have your drawable files for your cards in the proper drawable folder based on the API level you are running. For example, if the files are in <code>/drawable-26</code>, when you run your app on API 25 that would be the error you would get.</p>\n<p>If the drawables for your cards are not specific to an API level, move them to the <code>/drawable</code> folder.</p>\n"}],"owner":{"account_id":15920984,"reputation":49,"user_id":11488000,"display_name":"AlElM"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653582923,"creation_date":1653501842,"question_id":72382328,"body_markdown":"I&#39;m making a small card game at the moment and for some reason anytime I try to open my second Activity, it crashes. With the error being the one mentioned in the title.\r\n\r\nI tried various ways and unfortunately it always gives me this error.\r\n\r\nThis is my latest code:\r\n\r\n```\r\npackage com.example.juegocartas3;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.ImageButton;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.Iterator;\r\nimport java.util.Random;\r\n\r\npublic class Adapter extends ArrayAdapter {\r\n\r\n    ArrayList&lt;Cartas&gt; barajaCartas = new ArrayList&lt;&gt;();\r\n    Random random;\r\n    Iterator itr = barajaCartas.iterator();\r\n    public Adapter(@NonNull Context context, int idLayout, @NonNull ArrayList&lt;Cartas&gt; objects) {\r\n        super(context, idLayout, objects);\r\n        barajaCartas = objects;\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return super.getCount();\r\n    }\r\n\r\n    @SuppressLint(&quot;InflateParams&quot;)\r\n    @NonNull\r\n    @Override\r\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\r\n\r\n        View v = convertView;\r\n        LayoutInflater inflater = (LayoutInflater) getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n        v = inflater.inflate(R.layout.grid_view_items, null);\r\n        ImageButton carta = v.findViewById(R.id.imageView);\r\n        carta.setImageResource(barajaCartas.get(position).getImagenCarta());\r\n        carta.setTag(barajaCartas.get(position).getPuntaje());\r\n\r\n        return v;\r\n    }\r\n}\r\n```\r\n\r\nAnd it says the error is in this line:\r\n\r\n```\r\nv = inflater.inflate(R.layout.grid_view_items, null);\r\n```\r\n\r\nAnd it doesn&#39;t make sense to me.\r\n\r\nThis are the rest of my classes that have to do with the Adapter\r\n\r\n```\r\npackage com.example.juegocartas3;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.ClipData;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.widget.GridLayout;\r\nimport android.widget.GridView;\r\nimport android.widget.ImageButton;\r\nimport android.widget.RelativeLayout;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.Random;\r\n\r\npublic class MainActivity2 extends AppCompatActivity {\r\n\r\n    GridView tablero;\r\n    ArrayList&lt;Cartas&gt; barajaCartas = new ArrayList&lt;&gt;();\r\n\r\n    /*ArrayList&lt;Integer&gt; myImageList = new ArrayList&lt;&gt;();*/\r\n\r\n    Random random;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        setContentView(R.layout.activity_main2);\r\n\r\n        tablero = (GridView) findViewById(R.id.contenedorGrid);\r\n        barajaCartas.add(new Cartas(this,R.drawable.asdecopas,1));\r\n        barajaCartas.add(new Cartas(this,R.drawable.asdeespadas,1));\r\n        barajaCartas.add(new Cartas(this,R.drawable.caballodebastos,11));\r\n        barajaCartas.add(new Cartas(this,R.drawable.caballodeespadas,11));\r\n        barajaCartas.add(new Cartas(this,R.drawable.dosdecopas,2));\r\n        barajaCartas.add(new Cartas(this,R.drawable.reydecopas,12));\r\n        barajaCartas.add(new Cartas(this,R.drawable.sotadeespadas,10));\r\n        barajaCartas.add(new Cartas(this,R.drawable.sotadeoros,0));\r\n        barajaCartas.add(new Cartas(this,R.drawable.tresbastos,3));\r\n\r\n        Adapter myAdapter = new Adapter (this,R.layout.grid_view_items,barajaCartas);\r\n        tablero.setAdapter(myAdapter);\r\n\r\n        Collections.shuffle(barajaCartas);\r\n\r\n    }\r\n\r\n    public void onClickCarta(View v) {\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy class of cards:\r\n\r\n```\r\npackage com.example.juegocartas3;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Context;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ImageView;\r\n\r\nimport androidx.annotation.DrawableRes;\r\nimport androidx.annotation.Nullable;\r\n\r\n@SuppressLint(&quot;AppCompatCustomView&quot;)\r\npublic class Cartas extends ImageButton {\r\n\r\n    @DrawableRes\r\n    int imagenCarta;\r\n    int puntaje;\r\n\r\n    public Cartas(Context context,@DrawableRes int imagenCarta, int puntaje) {\r\n        super(context);\r\n        this.imagenCarta = imagenCarta;\r\n        this.puntaje=puntaje;\r\n\r\n    }\r\n    @DrawableRes\r\n    public int getImagenCarta(){\r\n        return imagenCarta;\r\n    }\r\n\r\n    public void setImagenCarta() {\r\n        this.imagenCarta = imagenCarta;\r\n    }\r\n\r\n    public int getPuntaje() {\r\n        return puntaje;\r\n    }\r\n\r\n    public void setPuntaje(int puntaje) {\r\n        this.puntaje = puntaje;\r\n    }\r\n}\r\n\r\n```\r\nAnd the two xml (the second one being the one I wish to stick on the first):\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity2&quot;\r\n    android:id=&quot;@+id/contenedor&quot;&gt;\r\n\r\n    &lt;GridView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_marginStart=&quot;10sp&quot;\r\n        android:layout_marginLeft=&quot;10sp&quot;\r\n        android:layout_marginTop=&quot;150dp&quot;\r\n        android:layout_marginEnd=&quot;10sp&quot;\r\n        android:layout_marginRight=&quot;10sp&quot;\r\n        android:layout_marginBottom=&quot;10sp&quot;\r\n        android:numColumns=&quot;3&quot;\r\n        android:id=&quot;@+id/contenedorGrid&quot;\r\n        android:horizontalSpacing=&quot;10dp&quot;\r\n        tools:ignore=&quot;UselessParent&quot;&gt;\r\n    &lt;/GridView&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\nThe second one:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:id=&quot;@+id/grid_view_items&quot;&gt;\r\n\r\n    &lt;ImageButton\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/imageView&quot;\r\n        android:src=&quot;@drawable/trasera&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:onClick=&quot;onClickCarta&quot;\r\n        /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\nMaybe it&#39;s too much to ask but is something wrong with any of these classes?\r\nOr should I do things a different way?\r\n\r\nEdit: This is the error text:\r\n\r\n&gt; 2022-05-25 18:24:23.107 2988-2988/com.example.juegocartas3\r\n&gt; E/AndroidRuntime: FATAL EXCEPTION: main\r\n&gt;     android.view.InflateException: Binary XML file line #8: Error inflating class ImageButton\r\n&gt;         at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:704)\r\n&gt;         at android.view.LayoutInflater.rInflate(LayoutInflater.java:746)\r\n&gt;         at android.view.LayoutInflater.inflate(LayoutInflater.java:489)\r\n&gt;         at android.view.LayoutInflater.inflate(LayoutInflater.java:396)\r\n&gt;         at android.view.LayoutInflater.inflate(LayoutInflater.java:352)\r\n&gt;         at com.example.juegocartas3.Adapter.getView(Adapter.java:41)\r\n&gt;         at android.widget.AbsListView.obtainView(AbsListView.java:2271)\r\n&gt;         at android.widget.GridView.onMeasure(GridView.java:1030)\r\n&gt;         at android.view.View.measure(View.java:15172)\r\n&gt;         at android.widget.RelativeLayout.measureChildHorizontal(RelativeLayout.java:617)\r\n&gt;         at android.widget.RelativeLayout.onMeasure(RelativeLayout.java:399)\r\n&gt;         at android.view.View.measure(View.java:15172)\r\n&gt;         at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4816)\r\n&gt;         at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)\r\n&gt;         at androidx.appcompat.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:145)\r\n&gt;         at android.view.View.measure(View.java:15172)\r\n&gt;         at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4816)\r\n&gt;         at androidx.appcompat.widget.ActionBarOverlayLayout.onMeasure(ActionBarOverlayLayout.java:496)\r\n&gt;         at android.view.View.measure(View.java:15172)\r\n&gt;         at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4816)\r\n&gt;         at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)\r\n&gt;         at android.view.View.measure(View.java:15172)\r\n&gt;         at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4816)\r\n&gt;         at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1390)\r\n&gt;         at android.widget.LinearLayout.measureVertical(LinearLayout.java:681)\r\n&gt;         at android.widget.LinearLayout.onMeasure(LinearLayout.java:574)\r\n&gt;         at android.view.View.measure(View.java:15172)\r\n&gt;         at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4816)\r\n&gt;         at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)\r\n&gt;         at com.android.internal.policy.impl.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:2148)\r\n&gt;         at android.view.View.measure(View.java:15172)\r\n&gt;         at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:1850)\r\n&gt;         at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1102)\r\n&gt;         at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1275)\r\n&gt;         at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1000)\r\n&gt;         at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:4214)\r\n&gt;         at android.view.Choreographer$CallbackRecord.run(Choreographer.java:725)\r\n&gt;         at android.view.Choreographer.doCallbacks(Choreographer.java:555)\r\n&gt;         at android.view.Choreographer.doFrame(Choreographer.java:525)\r\n&gt;         at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:711)\r\n&gt;         at android.os.Handler.handleCallback(Handler.java:615)\r\n&gt;         at android.os.Handler.dispatchMessage(Handler.java:92)\r\n&gt;         at android.os.Looper.loop(Looper.java:137)\r\n&gt;         at android.app.ActivityThread.main(ActivityThread.java:4745)\r\n&gt;         at java.lang.reflect.Method.invokeNative(Native Method)\r\n&gt;         at java.lang.reflect.Method.invoke(Method.java:511)\r\n&gt;         at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)\r\n&gt;         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)\r\n&gt;         at dalvik.system.NativeStart.main(Native Method)\r\n&gt;      Caused by: android.content.res.Resources$NotFoundException: Resource is not a Drawable (color or path):\r\n&gt; TypedValue{t=0x1/d=0x7f0700a5 a=-1 r=0x7f0700a5}\r\n&gt;         at android.content.res.Resources.loadDrawable(Resources.java:1897)\r\n&gt;         at android.content.res.TypedArray.getDrawable(TypedArray.java:601)\r\n&gt;         at android.widget.ImageView.&lt;init&gt;(ImageView.java:120)\r\n&gt;         at android.widget.ImageButton.&lt;init&gt;(ImageButton.java:87)\r\n&gt;         at androidx.appcompat.widget.AppCompatImageButton.&lt;init&gt;(AppCompatImageButton.java:78)\r\n&gt;         at androidx.appcompat.widget.AppCompatImageButton.&lt;init&gt;(AppCompatImageButton.java:73)\r\n&gt;         at androidx.appcompat.app.AppCompatViewInflater.createImageButton(AppCompatViewInflater.java:226)\r\n&gt;     \tat androidx.appcompat.app.AppCompatViewInflater.create\r\n\r\nAnd this line is the one I was referring to earlier:\r\n\r\n&gt; at com.example.juegocartas3.Adapter.getView(Adapter.java:41)\r\n\r\n    v = inflater.inflate(R.layout.grid_view_items, null);\r\n\r\n","title":"Error inflating class ImageButton The app crashes","body":"<p>I'm making a small card game at the moment and for some reason anytime I try to open my second Activity, it crashes. With the error being the one mentioned in the title.</p>\n<p>I tried various ways and unfortunately it always gives me this error.</p>\n<p>This is my latest code:</p>\n<pre><code>package com.example.juegocartas3;\n\nimport android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.ImageButton;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Iterator;\nimport java.util.Random;\n\npublic class Adapter extends ArrayAdapter {\n\n    ArrayList&lt;Cartas&gt; barajaCartas = new ArrayList&lt;&gt;();\n    Random random;\n    Iterator itr = barajaCartas.iterator();\n    public Adapter(@NonNull Context context, int idLayout, @NonNull ArrayList&lt;Cartas&gt; objects) {\n        super(context, idLayout, objects);\n        barajaCartas = objects;\n    }\n\n    @Override\n    public int getCount() {\n        return super.getCount();\n    }\n\n    @SuppressLint(&quot;InflateParams&quot;)\n    @NonNull\n    @Override\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\n\n        View v = convertView;\n        LayoutInflater inflater = (LayoutInflater) getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n        v = inflater.inflate(R.layout.grid_view_items, null);\n        ImageButton carta = v.findViewById(R.id.imageView);\n        carta.setImageResource(barajaCartas.get(position).getImagenCarta());\n        carta.setTag(barajaCartas.get(position).getPuntaje());\n\n        return v;\n    }\n}\n</code></pre>\n<p>And it says the error is in this line:</p>\n<pre><code>v = inflater.inflate(R.layout.grid_view_items, null);\n</code></pre>\n<p>And it doesn't make sense to me.</p>\n<p>This are the rest of my classes that have to do with the Adapter</p>\n<pre><code>package com.example.juegocartas3;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.ClipData;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.widget.GridLayout;\nimport android.widget.GridView;\nimport android.widget.ImageButton;\nimport android.widget.RelativeLayout;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Random;\n\npublic class MainActivity2 extends AppCompatActivity {\n\n    GridView tablero;\n    ArrayList&lt;Cartas&gt; barajaCartas = new ArrayList&lt;&gt;();\n\n    /*ArrayList&lt;Integer&gt; myImageList = new ArrayList&lt;&gt;();*/\n\n    Random random;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_main2);\n\n        tablero = (GridView) findViewById(R.id.contenedorGrid);\n        barajaCartas.add(new Cartas(this,R.drawable.asdecopas,1));\n        barajaCartas.add(new Cartas(this,R.drawable.asdeespadas,1));\n        barajaCartas.add(new Cartas(this,R.drawable.caballodebastos,11));\n        barajaCartas.add(new Cartas(this,R.drawable.caballodeespadas,11));\n        barajaCartas.add(new Cartas(this,R.drawable.dosdecopas,2));\n        barajaCartas.add(new Cartas(this,R.drawable.reydecopas,12));\n        barajaCartas.add(new Cartas(this,R.drawable.sotadeespadas,10));\n        barajaCartas.add(new Cartas(this,R.drawable.sotadeoros,0));\n        barajaCartas.add(new Cartas(this,R.drawable.tresbastos,3));\n\n        Adapter myAdapter = new Adapter (this,R.layout.grid_view_items,barajaCartas);\n        tablero.setAdapter(myAdapter);\n\n        Collections.shuffle(barajaCartas);\n\n    }\n\n    public void onClickCarta(View v) {\n\n    }\n\n}\n</code></pre>\n<p>My class of cards:</p>\n<pre><code>package com.example.juegocartas3;\n\nimport android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.graphics.drawable.Drawable;\nimport android.widget.ImageButton;\nimport android.widget.ImageView;\n\nimport androidx.annotation.DrawableRes;\nimport androidx.annotation.Nullable;\n\n@SuppressLint(&quot;AppCompatCustomView&quot;)\npublic class Cartas extends ImageButton {\n\n    @DrawableRes\n    int imagenCarta;\n    int puntaje;\n\n    public Cartas(Context context,@DrawableRes int imagenCarta, int puntaje) {\n        super(context);\n        this.imagenCarta = imagenCarta;\n        this.puntaje=puntaje;\n\n    }\n    @DrawableRes\n    public int getImagenCarta(){\n        return imagenCarta;\n    }\n\n    public void setImagenCarta() {\n        this.imagenCarta = imagenCarta;\n    }\n\n    public int getPuntaje() {\n        return puntaje;\n    }\n\n    public void setPuntaje(int puntaje) {\n        this.puntaje = puntaje;\n    }\n}\n\n</code></pre>\n<p>And the two xml (the second one being the one I wish to stick on the first):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity2&quot;\n    android:id=&quot;@+id/contenedor&quot;&gt;\n\n    &lt;GridView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_marginStart=&quot;10sp&quot;\n        android:layout_marginLeft=&quot;10sp&quot;\n        android:layout_marginTop=&quot;150dp&quot;\n        android:layout_marginEnd=&quot;10sp&quot;\n        android:layout_marginRight=&quot;10sp&quot;\n        android:layout_marginBottom=&quot;10sp&quot;\n        android:numColumns=&quot;3&quot;\n        android:id=&quot;@+id/contenedorGrid&quot;\n        android:horizontalSpacing=&quot;10dp&quot;\n        tools:ignore=&quot;UselessParent&quot;&gt;\n    &lt;/GridView&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>The second one:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/grid_view_items&quot;&gt;\n\n    &lt;ImageButton\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:id=&quot;@+id/imageView&quot;\n        android:src=&quot;@drawable/trasera&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:onClick=&quot;onClickCarta&quot;\n        /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>Maybe it's too much to ask but is something wrong with any of these classes?\nOr should I do things a different way?</p>\n<p>Edit: This is the error text:</p>\n<blockquote>\n<p>2022-05-25 18:24:23.107 2988-2988/com.example.juegocartas3\nE/AndroidRuntime: FATAL EXCEPTION: main\nandroid.view.InflateException: Binary XML file line #8: Error inflating class ImageButton\nat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:704)\nat android.view.LayoutInflater.rInflate(LayoutInflater.java:746)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:489)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:396)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:352)\nat com.example.juegocartas3.Adapter.getView(Adapter.java:41)\nat android.widget.AbsListView.obtainView(AbsListView.java:2271)\nat android.widget.GridView.onMeasure(GridView.java:1030)\nat android.view.View.measure(View.java:15172)\nat android.widget.RelativeLayout.measureChildHorizontal(RelativeLayout.java:617)\nat android.widget.RelativeLayout.onMeasure(RelativeLayout.java:399)\nat android.view.View.measure(View.java:15172)\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4816)\nat android.widget.FrameLayout.onMeasure(FrameLayout.java:310)\nat androidx.appcompat.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:145)\nat android.view.View.measure(View.java:15172)\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4816)\nat androidx.appcompat.widget.ActionBarOverlayLayout.onMeasure(ActionBarOverlayLayout.java:496)\nat android.view.View.measure(View.java:15172)\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4816)\nat android.widget.FrameLayout.onMeasure(FrameLayout.java:310)\nat android.view.View.measure(View.java:15172)\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4816)\nat android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1390)\nat android.widget.LinearLayout.measureVertical(LinearLayout.java:681)\nat android.widget.LinearLayout.onMeasure(LinearLayout.java:574)\nat android.view.View.measure(View.java:15172)\nat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4816)\nat android.widget.FrameLayout.onMeasure(FrameLayout.java:310)\nat com.android.internal.policy.impl.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:2148)\nat android.view.View.measure(View.java:15172)\nat android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:1850)\nat android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1102)\nat android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1275)\nat android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1000)\nat android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:4214)\nat android.view.Choreographer$CallbackRecord.run(Choreographer.java:725)\nat android.view.Choreographer.doCallbacks(Choreographer.java:555)\nat android.view.Choreographer.doFrame(Choreographer.java:525)\nat android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:711)\nat android.os.Handler.handleCallback(Handler.java:615)\nat android.os.Handler.dispatchMessage(Handler.java:92)\nat android.os.Looper.loop(Looper.java:137)\nat android.app.ActivityThread.main(ActivityThread.java:4745)\nat java.lang.reflect.Method.invokeNative(Native Method)\nat java.lang.reflect.Method.invoke(Method.java:511)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)\nat dalvik.system.NativeStart.main(Native Method)\nCaused by: android.content.res.Resources$NotFoundException: Resource is not a Drawable (color or path):\nTypedValue{t=0x1/d=0x7f0700a5 a=-1 r=0x7f0700a5}\nat android.content.res.Resources.loadDrawable(Resources.java:1897)\nat android.content.res.TypedArray.getDrawable(TypedArray.java:601)\nat android.widget.ImageView.(ImageView.java:120)\nat android.widget.ImageButton.(ImageButton.java:87)\nat androidx.appcompat.widget.AppCompatImageButton.(AppCompatImageButton.java:78)\nat androidx.appcompat.widget.AppCompatImageButton.(AppCompatImageButton.java:73)\nat androidx.appcompat.app.AppCompatViewInflater.createImageButton(AppCompatViewInflater.java:226)\nat androidx.appcompat.app.AppCompatViewInflater.create</p>\n</blockquote>\n<p>And this line is the one I was referring to earlier:</p>\n<blockquote>\n<p>at com.example.juegocartas3.Adapter.getView(Adapter.java:41)</p>\n</blockquote>\n<pre><code>v = inflater.inflate(R.layout.grid_view_items, null);\n</code></pre>\n"},{"tags":["java","spring-boot","jboss","spring-tool-suite","jboss-eap-7"],"answers":[{"tags":[],"owner":{"account_id":6573663,"reputation":1210,"user_id":5080644,"display_name":"YONGSOO KIM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568781073,"creation_date":1568781073,"answer_id":57985121,"question_id":57983317,"body_markdown":"There are some steps you need to do when you want to deploy format change from jar to war.\r\n\r\n **1. You need to make your main method extends &quot;SpringBootServletInitializer&quot;.**\r\n\r\n    \r\n    @SpringBootApplication\r\n    public class Application extends SpringBootServletInitializer {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n    \r\n    @Override \r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) { \r\n        return builder.sources(SpringBootSampleApplication.class); \r\n    }\r\n\r\nPlease check the newly implemented **&quot;configure&quot;** method.\r\n\r\n **2. Change the scope of embed servlet.**\r\n\r\nOnce you start using war, **you don&#39;t need to use default tomcat in springboot**.\r\nOpen your pom.xml file and change &amp; add this content.\r\n\r\n\r\n\r\n    &lt;dependency&gt; \r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; \r\n        &lt;scope&gt;provided&lt;/scope&gt; \r\n    &lt;/dependency&gt;\r\n\r\nYou need to check **&quot;scope&quot; is set &quot;provided&quot;**.\r\n\r\n\r\n **3. Package in &quot;war&quot;.**\r\n\r\nFinally, you need to package your application in war file.\r\nPlease open your pom.xml and change or add **&quot;packaging&quot;** value.\r\n\r\n\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n\r\nI hope my answer will help you.\r\nHave a nice day &amp; coding!","title":"Deployed WAR from STS (Spring Tool Suite) 3 on Jboss returning 404","body":"<p>There are some steps you need to do when you want to deploy format change from jar to war.</p>\n\n<p><strong>1. You need to make your main method extends \"SpringBootServletInitializer\".</strong></p>\n\n<pre><code>@SpringBootApplication\npublic class Application extends SpringBootServletInitializer {\n\npublic static void main(String[] args) {\n    SpringApplication.run(Application.class, args);\n    }\n}\n\n@Override \nprotected SpringApplicationBuilder configure(SpringApplicationBuilder builder) { \n    return builder.sources(SpringBootSampleApplication.class); \n}\n</code></pre>\n\n<p>Please check the newly implemented <strong>\"configure\"</strong> method.</p>\n\n<p><strong>2. Change the scope of embed servlet.</strong></p>\n\n<p>Once you start using war, <strong>you don't need to use default tomcat in springboot</strong>.\nOpen your pom.xml file and change &amp; add this content.</p>\n\n<pre><code>&lt;dependency&gt; \n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; \n    &lt;scope&gt;provided&lt;/scope&gt; \n&lt;/dependency&gt;\n</code></pre>\n\n<p>You need to check <strong>\"scope\" is set \"provided\"</strong>.</p>\n\n<p><strong>3. Package in \"war\".</strong></p>\n\n<p>Finally, you need to package your application in war file.\nPlease open your pom.xml and change or add <strong>\"packaging\"</strong> value.</p>\n\n<pre><code>&lt;packaging&gt;war&lt;/packaging&gt;\n</code></pre>\n\n<p>I hope my answer will help you.\nHave a nice day &amp; coding!</p>\n"},{"tags":[],"owner":{"account_id":5635530,"reputation":170,"user_id":4461138,"display_name":"Pravin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577885136,"creation_date":1577885136,"answer_id":59552920,"question_id":57983317,"body_markdown":"While deploying the spring boot war file in JBoss EAP you need to take care of few things like below.\r\n\r\nYou need to create jboss-deployment-structure.xml file inside src/main/webapp/WEB-INF folder.\r\n\r\n        &lt;jboss-deployment-structure&gt;\r\n        &lt;deployment&gt; \r\n            &lt;exclude-subsystems&gt;\r\n                &lt;subsystem name=&quot;jpa&quot; /&gt;\r\n            &lt;/exclude-subsystems&gt;\r\n             &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.example.com&lt;/groupId&gt;\r\n        &lt;artifactId&gt;projectname&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;projectname&lt;/name&gt;\r\n        &lt;description&gt;description&lt;/description&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;\r\n            &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; \r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt; \r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;module name=&quot;org.jboss.logging&quot; /&gt; \r\n                &lt;module name=&quot;javaee.api&quot; /&gt; \r\n            &lt;/exclusions&gt;  \r\n        &lt;/deployment&gt;\r\n    &lt;/jboss-deployment-structure&gt;  \r\n\r\nAfter that create jboss-web.xml file in directory src/main/webapp/WEB-INF as mentioned below.\r\n\r\n    &lt;jboss-web&gt;\r\n         &lt;context-root&gt;appname&lt;/context-root&gt;\r\n    &lt;/jboss-web&gt;\r\n\r\nAfter doing these changes build the project using &quot;mvn clean install&quot; and them locate the war file in the target folder and deploy that war file on JBoss EAP.\r\n\r\nTry to access the deployed war file using URL below, don&#39;t give the snapshot and version in the context.\r\n\r\nhttp://localhost:8080/gs-rest-service/greeting\r\n\r\nI hope this will help.","title":"Deployed WAR from STS (Spring Tool Suite) 3 on Jboss returning 404","body":"<p>While deploying the spring boot war file in JBoss EAP you need to take care of few things like below.</p>\n\n<p>You need to create jboss-deployment-structure.xml file inside src/main/webapp/WEB-INF folder.</p>\n\n<pre><code>    &lt;jboss-deployment-structure&gt;\n    &lt;deployment&gt; \n        &lt;exclude-subsystems&gt;\n            &lt;subsystem name=\"jpa\" /&gt;\n        &lt;/exclude-subsystems&gt;\n         &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example.com&lt;/groupId&gt;\n    &lt;artifactId&gt;projectname&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;projectname&lt;/name&gt;\n    &lt;description&gt;description&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; \n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt; \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n        &lt;exclusions&gt;\n            &lt;module name=\"org.jboss.logging\" /&gt; \n            &lt;module name=\"javaee.api\" /&gt; \n        &lt;/exclusions&gt;  \n    &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;  \n</code></pre>\n\n<p>After that create jboss-web.xml file in directory src/main/webapp/WEB-INF as mentioned below.</p>\n\n<pre><code>&lt;jboss-web&gt;\n     &lt;context-root&gt;appname&lt;/context-root&gt;\n&lt;/jboss-web&gt;\n</code></pre>\n\n<p>After doing these changes build the project using \"mvn clean install\" and them locate the war file in the target folder and deploy that war file on JBoss EAP.</p>\n\n<p>Try to access the deployed war file using URL below, don't give the snapshot and version in the context.</p>\n\n<p><a href=\"http://localhost:8080/gs-rest-service/greeting\" rel=\"nofollow noreferrer\">http://localhost:8080/gs-rest-service/greeting</a></p>\n\n<p>I hope this will help.</p>\n"}],"owner":{"account_id":11701245,"reputation":1,"user_id":8566224,"display_name":"Erunetha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653582826,"creation_date":1568764530,"question_id":57983317,"body_markdown":"I&#39;m trying to deploy a spring boot app into jboss using STS with the JBoss tools plugin.\r\n\r\nThe application runs fine if I run it as &quot;Spring Boot App&quot;, but it returns 404 when  I run it as &quot;Server&quot; on a Red Hat 7.2 using the EAP 7.2 with JBoss tolls on STS.\r\n\r\nThe version of STS I&#39;m using is 3.9.8.RELEASE\r\nThe version of the JBoss Tools plugin is 3.10.2.v20181101-1129\r\n\r\nThis is my POM file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;gs-rest-service&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.1.0&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\nThis is the override for the SpringApplicationBuilder:\r\n\r\n    import org.springframework.boot.builder.SpringApplicationBuilder;\r\n    import org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n    \r\n    public class SpringInitializer  extends SpringBootServletInitializer{\r\n    \r\n    \t@Override\r\n    \tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n    \t\treturn application.sources(Application.class);\r\n    \t}\r\n    }\r\n\r\n\r\nThis is my Controller class:\r\n\r\n    import java.util.concurrent.atomic.AtomicLong;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class GreetingController {\r\n    \r\n        private static final String template = &quot;Hello, %s!&quot;;\r\n        private final AtomicLong counter = new AtomicLong();\r\n    \r\n        @RequestMapping(&quot;/greeting&quot;)\r\n        public Greeting greeting(@RequestParam(value=&quot;name&quot;, defaultValue=&quot;World&quot;) String name) {\r\n            return new Greeting(counter.incrementAndGet(),\r\n                                String.format(template, name));\r\n        }\r\n    }\r\n\r\n\r\nAnd this is the main class:\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class Application {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\n\r\nAnd this is the greeting class....just in case:\r\n\r\n    public class Greeting {\r\n    \r\n        private final long id;\r\n        private final String content;\r\n    \r\n        public Greeting(long id, String content) {\r\n            this.id = id;\r\n            this.content = content;\r\n        }\r\n    \r\n        public long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getContent() {\r\n            return content;\r\n        }\r\n    }\r\n\r\nIf I right click on the project explorer, run as Spring Boot App, the application returns the right response when called like this:\r\n\r\nhttp://localhost:8080/greeting\r\n\r\n[Response when running as Spring Boot App][1]\r\n\r\nbut if I deploy it to Jboss it returns 404.\r\n\r\nWhen I run it as Server, the logs return this:\r\n\r\n    17:48:15,176 INFO  [javax.enterprise.resource.webcontainer.jsf.config] (ServerService Thread Pool -- 9) Inicializando Mojarra 2.3.5.SP2-redhat-00001 para el contexto &#39;/gs-rest-service-0.1.0&#39;\r\n    17:48:15,590 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 9) WFLYUT0021: Contexto de Web registrado: &#39;/gs-rest-service-0.1.0&#39; para el servidor &#39;default-server&#39;\r\n    17:48:15,609 INFO  [org.jboss.as.server] (DeploymentScanner-threads - 2) WFLYSRV0010: Implementado &quot;gs-rest-service-0.1.0.war&quot; (runtime-name : &quot;gs-rest-service-0.1.0.war&quot;)\r\n\r\nWhich I assume, changes my context to:\r\nhttp://localhost:8080/gs-rest-service-0.1.0/greeting\r\n\r\n[Response when running as Server on Jboss 7.2 EAP][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DauhH.png\r\n  [2]: https://i.stack.imgur.com/AzEpH.png","title":"Deployed WAR from STS (Spring Tool Suite) 3 on Jboss returning 404","body":"<p>I'm trying to deploy a spring boot app into jboss using STS with the JBoss tools plugin.</p>\n<p>The application runs fine if I run it as &quot;Spring Boot App&quot;, but it returns 404 when  I run it as &quot;Server&quot; on a Red Hat 7.2 using the EAP 7.2 with JBoss tolls on STS.</p>\n<p>The version of STS I'm using is 3.9.8.RELEASE\nThe version of the JBoss Tools plugin is 3.10.2.v20181101-1129</p>\n<p>This is my POM file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;gs-rest-service&lt;/artifactId&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is the override for the SpringApplicationBuilder:</p>\n<pre><code>import org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n\npublic class SpringInitializer  extends SpringBootServletInitializer{\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Application.class);\n    }\n}\n</code></pre>\n<p>This is my Controller class:</p>\n<pre><code>import java.util.concurrent.atomic.AtomicLong;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class GreetingController {\n\n    private static final String template = &quot;Hello, %s!&quot;;\n    private final AtomicLong counter = new AtomicLong();\n\n    @RequestMapping(&quot;/greeting&quot;)\n    public Greeting greeting(@RequestParam(value=&quot;name&quot;, defaultValue=&quot;World&quot;) String name) {\n        return new Greeting(counter.incrementAndGet(),\n                            String.format(template, name));\n    }\n}\n</code></pre>\n<p>And this is the main class:</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>And this is the greeting class....just in case:</p>\n<pre><code>public class Greeting {\n\n    private final long id;\n    private final String content;\n\n    public Greeting(long id, String content) {\n        this.id = id;\n        this.content = content;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public String getContent() {\n        return content;\n    }\n}\n</code></pre>\n<p>If I right click on the project explorer, run as Spring Boot App, the application returns the right response when called like this:</p>\n<p>http://localhost:8080/greeting</p>\n<p><a href=\"https://i.stack.imgur.com/DauhH.png\" rel=\"nofollow noreferrer\">Response when running as Spring Boot App</a></p>\n<p>but if I deploy it to Jboss it returns 404.</p>\n<p>When I run it as Server, the logs return this:</p>\n<pre><code>17:48:15,176 INFO  [javax.enterprise.resource.webcontainer.jsf.config] (ServerService Thread Pool -- 9) Inicializando Mojarra 2.3.5.SP2-redhat-00001 para el contexto '/gs-rest-service-0.1.0'\n17:48:15,590 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 9) WFLYUT0021: Contexto de Web registrado: '/gs-rest-service-0.1.0' para el servidor 'default-server'\n17:48:15,609 INFO  [org.jboss.as.server] (DeploymentScanner-threads - 2) WFLYSRV0010: Implementado &quot;gs-rest-service-0.1.0.war&quot; (runtime-name : &quot;gs-rest-service-0.1.0.war&quot;)\n</code></pre>\n<p>Which I assume, changes my context to:\nhttp://localhost:8080/gs-rest-service-0.1.0/greeting</p>\n<p><a href=\"https://i.stack.imgur.com/AzEpH.png\" rel=\"nofollow noreferrer\">Response when running as Server on Jboss 7.2 EAP</a></p>\n"},{"tags":["java","unit-of-work","enterprise","identity-map"],"answers":[{"tags":[],"owner":{"account_id":2909206,"reputation":5133,"user_id":2493852,"display_name":"Ariel Carrera"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1570629665,"creation_date":1570629665,"answer_id":58305918,"question_id":58238361,"body_markdown":"The unitOfWork requires a scope according to the duration of the business operation you need to manage.\r\nIf you have a business operation that extends to multiple requests but that you need to treat as a single unit of work, you must handle the instance with a consistent scope (for example, session).\r\n\r\nThe unit of work will track all the interactions with the database and confirm them by creating the transaction and making the changes in an optimal way (in a short-term database transaction).\r\n\r\nJPA / Hibernate by default implement this pattern so usually if you use them you don&#39;t have the need to implement it yourself.\r\nJPA / Hibernate also implements something like an Identity Map pattern in the first level cache. It saves a map of entities in its first level cache avoiding going to look for more than one time to the database for the duration of the session and the unit of work.\r\n\r\nAs the hibernate documentation says ([read me][1]):\r\n\r\n&gt; The most common pattern in a multi-user client / server application is\r\n&gt; session-per-request. In this model, a request from the client is sent\r\n&gt; to the server, where the Hibernate persistence layer runs. A new\r\n&gt; Hibernate Session is opened, and all database operations are executed\r\n&gt; in this unit of work. On completion of the work, and once the response\r\n&gt; for the client has been prepared, the session is flushed and closed.\r\n&gt; Use a single database transaction to serve the clients request,\r\n&gt; starting and committing it when you open and close the Session. The\r\n&gt; relationship between the two is one-to-one and this model is a perfect\r\n&gt; fit for many applications.\r\n\r\nSo, the scope of your IdentityMap should be tied to your business transaction and therefore to the status of your UnitOfWork that will track all changes during your business transaction.\r\n\r\nIf your application handles short transactions (eg. per request) this will be quite simple. If you have a long-term unit of work that spans multiple requests, your unitOfWork must live in the session scope and your identity map attached to it.\r\n\r\nIt will be key to manage a good lock policy with your database in such cases to avoid problems with concurrent changes (the entity read in a request could have been modified when the time of committing arrived more easily in such cases).\r\n\r\nA basic example of implementing the pattern in java is (without going deep into the scope issue): https://github.com/iluwatar/java-design-patterns/tree/master/unit-of-work\r\n\r\n  [1]: https://docs.jboss.org/hibernate/core/3.3/reference/en/html/transactions.html#transactions-basics-uow","title":"How to use UnitOfWork pattern together with IdentityMap pattern?","body":"<p>The unitOfWork requires a scope according to the duration of the business operation you need to manage.\nIf you have a business operation that extends to multiple requests but that you need to treat as a single unit of work, you must handle the instance with a consistent scope (for example, session).</p>\n\n<p>The unit of work will track all the interactions with the database and confirm them by creating the transaction and making the changes in an optimal way (in a short-term database transaction).</p>\n\n<p>JPA / Hibernate by default implement this pattern so usually if you use them you don't have the need to implement it yourself.\nJPA / Hibernate also implements something like an Identity Map pattern in the first level cache. It saves a map of entities in its first level cache avoiding going to look for more than one time to the database for the duration of the session and the unit of work.</p>\n\n<p>As the hibernate documentation says (<a href=\"https://docs.jboss.org/hibernate/core/3.3/reference/en/html/transactions.html#transactions-basics-uow\" rel=\"nofollow noreferrer\">read me</a>):</p>\n\n<blockquote>\n  <p>The most common pattern in a multi-user client / server application is\n  session-per-request. In this model, a request from the client is sent\n  to the server, where the Hibernate persistence layer runs. A new\n  Hibernate Session is opened, and all database operations are executed\n  in this unit of work. On completion of the work, and once the response\n  for the client has been prepared, the session is flushed and closed.\n  Use a single database transaction to serve the clients request,\n  starting and committing it when you open and close the Session. The\n  relationship between the two is one-to-one and this model is a perfect\n  fit for many applications.</p>\n</blockquote>\n\n<p>So, the scope of your IdentityMap should be tied to your business transaction and therefore to the status of your UnitOfWork that will track all changes during your business transaction.</p>\n\n<p>If your application handles short transactions (eg. per request) this will be quite simple. If you have a long-term unit of work that spans multiple requests, your unitOfWork must live in the session scope and your identity map attached to it.</p>\n\n<p>It will be key to manage a good lock policy with your database in such cases to avoid problems with concurrent changes (the entity read in a request could have been modified when the time of committing arrived more easily in such cases).</p>\n\n<p>A basic example of implementing the pattern in java is (without going deep into the scope issue): <a href=\"https://github.com/iluwatar/java-design-patterns/tree/master/unit-of-work\" rel=\"nofollow noreferrer\">https://github.com/iluwatar/java-design-patterns/tree/master/unit-of-work</a></p>\n"},{"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653582704,"creation_date":1571241172,"answer_id":58417293,"question_id":58238361,"body_markdown":"&gt; **Q: Is the `UnitOfWork` instance bounded by session?**\r\n\r\nIn Chapter 11 of Martin&#39;s book in question you read:\r\n\r\n&gt; “A Unit of Work keeps track of everything you do during a business transaction that can affect the database. When you’re done, it figures out everything that needs to be done to alter the database as a result of your work. [...]\r\n&gt;\r\n&gt; “As soon as you start doing something that may affect a database, you create a Unit of Work to keep track of the changes. Every time you create, change, or delete an object you tell the Unit of Work. You can also let it know about objects you’ve read so that it can check for inconsistent reads by verifying that none of the objects changed on the database during the business transaction.”\r\n\r\nSo, the `UnitOfWork` does not need to be bound to the session. The extent of the existence of the `UnitOfWork` instance depends on your design. In Martin&#39;s example in that same book, we can see that the UnitOfOWork instance is created per HTTP request (which I believe is the most classical use).\r\n\r\n    class UnitOfWorkServlet...\r\n    \r\n    &#160;&#160;&#160;final protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;throws ServletException, IOException {\r\n    &#160;&#160;&#160;&#160;&#160;&#160;try {\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;UnitOfWork.newCurrent();\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;handleGet(request, response);\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;UnitOfWork.getCurrent().commit();\r\n    &#160;&#160;&#160;&#160;&#160;&#160;} finally {\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;UnitOfWork.setCurrent(null);\r\n    &#160;&#160;&#160;&#160;&#160;&#160;}\r\n    &#160;&#160;&#160;}\r\n    \r\n    &#160;&#160;&#160;abstract void handleGet(HttpServletRequest request, HttpServletResponse response)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;throws ServletException, IOException; \r\n\r\n\r\nIn the JPA specification, the unit of work can be of two different natures: transaction-scoped persistence context, and extended-persistence context, but one can also handle it manually and get an application-managed unit of work ([see this other answer][1]). Which one you use depends on the use case. \r\n\r\n&gt; **Q: How many IdentityMap instances do we need?**\r\n\r\nMartin Fowler also answers that question in the book. In his section on `IdentityMap` there&#39;s an entire section about it.\r\n\r\nThe book reads:\r\n\r\n&gt; “Here the decision varies between one map per class and one map for the whole session.&quot;\r\n\r\nWhere you could understand the session as the `UnitOfWork` in this case. Later in the book he explains:\r\n\r\n&gt; “If you have multiple maps, the obvious route is one map per class or per table, which works well if your database schema and object models are the same. ”\r\n\r\nA few paragraphs later Martin explains where to put the `IdentityMap`:\r\n\r\n&gt; “Identity Maps need to be somewhere where they’re easy to find. They’re also tied to the process context you’re working in. You need to ensure that each session gets its own instance that’s isolated from any other session’s instance. Thus, you need to put the Identity Map on a session-specific object. If you’re using Unit of Work that’s by far the best place for the Identity Maps since the Unit of Work is the main place for keeping track of data coming in or out of the database. If you don’t have a Unit of Work, the best bet is a Registry that’s tied to the session.”\r\n\r\nSo, there you have it, if your `UnitOfWork` is bound to a request, then you will have one or more `IdentityMaps` in that instance of your `UnitOfWork`.\r\n\r\n\r\n&gt; **So, is the Unit of Work bounded by business transaction?**\r\n\r\nYes, it is. \r\n\r\nNow the extent of the &quot;business transaction&quot; could be short-lived, e.g. bound to the life of the HTTP request as in Martin Fowler&#39;s example above where the UnitOfWork seems to be bound to a thread-local variable per request. \r\n\r\nOr the &quot;business transaction&quot; could encompass multiple requests, e.g. in JPA there&#39;s a concept of an extended persistence context, where the persistent context in JPA corresponds to a `UnitOfWork` pattern. In an extended persistence context, the business transaction extends for a longer period of time. A classical example of this is a shopping cart: when the user starts putting items in her shopping cart a context/unit of work is created, and the context won&#39;t get cleared until the user checks out her shopping cart (committing the changes) or her session expires (discarding everything in the unit of work). \r\n\r\nNow, there is also the idea of application-managed context, which basically means, start your unit of work when you think it&#39;s appropriate and close it when you no longer need it. For example, suppose you have a desktop application and a small database with isolated concurrency (i.e. every user only manages his own data and never conflict with other user&#39;s data). Suppose that the user&#39;s data could perfectly fit in the computer&#39;s memory. In a case like that, you could start your `UnitOfWork` at the start of the application and use it as a sort of cache for your database. When appropriate, you can flush the UnitOfWork to disk, e.g. when the user clicks a save button, but still keep it alive. When the user closes the application, the UnitOfWork is discarded.\r\n\r\nSo, you can see there is a lot of nuances on what a &quot;business transaction&quot; actually means, or for how long the `UnitOfWork` should exist.\r\n\r\n**Multiple Units of Work**\r\n\r\nBased on the explanation so far, you can have multiple units of work for, among others, the following reasons:\r\n\r\n - One `UnitWork` per request, and if your application handles concurrent requests, then you would have multiple units of work instances at the same time.\r\n - One `UnitOfWork` per extended transaction, and so, tied to the user&#39;s session. If you have multiple users, you can have multiple units of work.\r\n\r\nHowever, besides these, I have found other reasons why you may want to spawn a new unit of work during the same &quot;business transaction&quot;.\r\n\r\nIt is not unusual that while you&#39;re executing a business transaction you may want to execute another totally independent one. For example, suppose that in order to place an order for the customer, the customer record must exist in the database, but if the customer record fails to be created (e.g. perhaps because another customer has same conflicting email), you still want to place the order in pending review status.\r\n\r\nSo, the problem you face here is that if you attempt to create the customer during the business transaction of placing an order and creating the customer fails, that contaminates your order transaction and your unit of work is forced to roll back everything. In a situation like this you may want to spawn a new unit of work and therefore a new, separate database transaction, to create the customer and if that separate unit of work fails to create the customer, this does not contaminate your order creation unit of work, allowing you to take measures to still persist your order without a customer in a pending review status.\r\n\r\nI believe JPA&#39;s concept of a &quot;context&quot; is a very good example of how to define a unit of work. I would suggest that you study [their specification](https://download.oracle.com/otndocs/jcp/persistence-2.0-fr-oth-JSpec/) particularly their section about the `EntityManager`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/10763047/697630","title":"How to use UnitOfWork pattern together with IdentityMap pattern?","body":"<blockquote>\n<p><strong>Q: Is the <code>UnitOfWork</code> instance bounded by session?</strong></p>\n</blockquote>\n<p>In Chapter 11 of Martin's book in question you read:</p>\n<blockquote>\n<p>“A Unit of Work keeps track of everything you do during a business transaction that can affect the database. When you’re done, it figures out everything that needs to be done to alter the database as a result of your work. [...]</p>\n<p>“As soon as you start doing something that may affect a database, you create a Unit of Work to keep track of the changes. Every time you create, change, or delete an object you tell the Unit of Work. You can also let it know about objects you’ve read so that it can check for inconsistent reads by verifying that none of the objects changed on the database during the business transaction.”</p>\n</blockquote>\n<p>So, the <code>UnitOfWork</code> does not need to be bound to the session. The extent of the existence of the <code>UnitOfWork</code> instance depends on your design. In Martin's example in that same book, we can see that the UnitOfOWork instance is created per HTTP request (which I believe is the most classical use).</p>\n<pre><code>class UnitOfWorkServlet...\n\n   final protected void doGet(HttpServletRequest request, HttpServletResponse response)\n         throws ServletException, IOException {\n      try {\n         UnitOfWork.newCurrent();\n         handleGet(request, response);\n         UnitOfWork.getCurrent().commit();\n      } finally {\n         UnitOfWork.setCurrent(null);\n      }\n   }\n\n   abstract void handleGet(HttpServletRequest request, HttpServletResponse response)\n         throws ServletException, IOException; \n</code></pre>\n<p>In the JPA specification, the unit of work can be of two different natures: transaction-scoped persistence context, and extended-persistence context, but one can also handle it manually and get an application-managed unit of work (<a href=\"https://stackoverflow.com/a/10763047/697630\">see this other answer</a>). Which one you use depends on the use case.</p>\n<blockquote>\n<p><strong>Q: How many IdentityMap instances do we need?</strong></p>\n</blockquote>\n<p>Martin Fowler also answers that question in the book. In his section on <code>IdentityMap</code> there's an entire section about it.</p>\n<p>The book reads:</p>\n<blockquote>\n<p>“Here the decision varies between one map per class and one map for the whole session.&quot;</p>\n</blockquote>\n<p>Where you could understand the session as the <code>UnitOfWork</code> in this case. Later in the book he explains:</p>\n<blockquote>\n<p>“If you have multiple maps, the obvious route is one map per class or per table, which works well if your database schema and object models are the same. ”</p>\n</blockquote>\n<p>A few paragraphs later Martin explains where to put the <code>IdentityMap</code>:</p>\n<blockquote>\n<p>“Identity Maps need to be somewhere where they’re easy to find. They’re also tied to the process context you’re working in. You need to ensure that each session gets its own instance that’s isolated from any other session’s instance. Thus, you need to put the Identity Map on a session-specific object. If you’re using Unit of Work that’s by far the best place for the Identity Maps since the Unit of Work is the main place for keeping track of data coming in or out of the database. If you don’t have a Unit of Work, the best bet is a Registry that’s tied to the session.”</p>\n</blockquote>\n<p>So, there you have it, if your <code>UnitOfWork</code> is bound to a request, then you will have one or more <code>IdentityMaps</code> in that instance of your <code>UnitOfWork</code>.</p>\n<blockquote>\n<p><strong>So, is the Unit of Work bounded by business transaction?</strong></p>\n</blockquote>\n<p>Yes, it is.</p>\n<p>Now the extent of the &quot;business transaction&quot; could be short-lived, e.g. bound to the life of the HTTP request as in Martin Fowler's example above where the UnitOfWork seems to be bound to a thread-local variable per request.</p>\n<p>Or the &quot;business transaction&quot; could encompass multiple requests, e.g. in JPA there's a concept of an extended persistence context, where the persistent context in JPA corresponds to a <code>UnitOfWork</code> pattern. In an extended persistence context, the business transaction extends for a longer period of time. A classical example of this is a shopping cart: when the user starts putting items in her shopping cart a context/unit of work is created, and the context won't get cleared until the user checks out her shopping cart (committing the changes) or her session expires (discarding everything in the unit of work).</p>\n<p>Now, there is also the idea of application-managed context, which basically means, start your unit of work when you think it's appropriate and close it when you no longer need it. For example, suppose you have a desktop application and a small database with isolated concurrency (i.e. every user only manages his own data and never conflict with other user's data). Suppose that the user's data could perfectly fit in the computer's memory. In a case like that, you could start your <code>UnitOfWork</code> at the start of the application and use it as a sort of cache for your database. When appropriate, you can flush the UnitOfWork to disk, e.g. when the user clicks a save button, but still keep it alive. When the user closes the application, the UnitOfWork is discarded.</p>\n<p>So, you can see there is a lot of nuances on what a &quot;business transaction&quot; actually means, or for how long the <code>UnitOfWork</code> should exist.</p>\n<p><strong>Multiple Units of Work</strong></p>\n<p>Based on the explanation so far, you can have multiple units of work for, among others, the following reasons:</p>\n<ul>\n<li>One <code>UnitWork</code> per request, and if your application handles concurrent requests, then you would have multiple units of work instances at the same time.</li>\n<li>One <code>UnitOfWork</code> per extended transaction, and so, tied to the user's session. If you have multiple users, you can have multiple units of work.</li>\n</ul>\n<p>However, besides these, I have found other reasons why you may want to spawn a new unit of work during the same &quot;business transaction&quot;.</p>\n<p>It is not unusual that while you're executing a business transaction you may want to execute another totally independent one. For example, suppose that in order to place an order for the customer, the customer record must exist in the database, but if the customer record fails to be created (e.g. perhaps because another customer has same conflicting email), you still want to place the order in pending review status.</p>\n<p>So, the problem you face here is that if you attempt to create the customer during the business transaction of placing an order and creating the customer fails, that contaminates your order transaction and your unit of work is forced to roll back everything. In a situation like this you may want to spawn a new unit of work and therefore a new, separate database transaction, to create the customer and if that separate unit of work fails to create the customer, this does not contaminate your order creation unit of work, allowing you to take measures to still persist your order without a customer in a pending review status.</p>\n<p>I believe JPA's concept of a &quot;context&quot; is a very good example of how to define a unit of work. I would suggest that you study <a href=\"https://download.oracle.com/otndocs/jcp/persistence-2.0-fr-oth-JSpec/\" rel=\"nofollow noreferrer\">their specification</a> particularly their section about the <code>EntityManager</code>.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1822,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":58417293,"answer_count":2,"score":5,"last_activity_date":1653582704,"creation_date":1570199376,"question_id":58238361,"body_markdown":"In Martin Fowler&#39;s book I read about `UnitOfWork` and `IdentityMap`  patterns.\r\n\r\nAuthor mentioned that it is a good idea to put identityMap inside the UnitOfWork. But how to do it ?\r\n\r\nAs far I understood `IdentityMap` is bounded by session but author doesn&#39;t mentioned it about `UnitOfWork`\r\n\r\n1. Is `UnitOfWork` instance bounded by session?\r\n\r\n2. Let&#39;s say we have client and order entities.\r\n\r\n      \r\n   \r\n\r\n        public clas Client{\r\n           \r\n             List&lt;Order&gt; orders;\r\n            ...\r\n        }\r\n\r\nand we got request to update client information(phone numeber) and add new order:\r\n\r\nHow many unitOfWork instances do wee need here? for each session? should we have separated instances for client and for order ?\r\n\r\nHow many IdentityMap instances do we need here ? for each instance ? should we have separated instances for client and for order ?\r\n\r\nHow many IdentityMap instances do we need for each unitOfWork instance ?\r\n\r\n\r\nWhat if we got 2 concurrent requests ?","title":"How to use UnitOfWork pattern together with IdentityMap pattern?","body":"<p>In Martin Fowler's book I read about <code>UnitOfWork</code> and <code>IdentityMap</code>  patterns.</p>\n\n<p>Author mentioned that it is a good idea to put identityMap inside the UnitOfWork. But how to do it ?</p>\n\n<p>As far I understood <code>IdentityMap</code> is bounded by session but author doesn't mentioned it about <code>UnitOfWork</code></p>\n\n<ol>\n<li><p>Is <code>UnitOfWork</code> instance bounded by session?</p></li>\n<li><p>Let's say we have client and order entities.</p>\n\n<pre><code>public clas Client{\n\n     List&lt;Order&gt; orders;\n    ...\n}\n</code></pre></li>\n</ol>\n\n<p>and we got request to update client information(phone numeber) and add new order:</p>\n\n<p>How many unitOfWork instances do wee need here? for each session? should we have separated instances for client and for order ?</p>\n\n<p>How many IdentityMap instances do we need here ? for each instance ? should we have separated instances for client and for order ?</p>\n\n<p>How many IdentityMap instances do we need for each unitOfWork instance ?</p>\n\n<p>What if we got 2 concurrent requests ?</p>\n"},{"tags":["java","mongodb","mongodb-query","spring-data","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":3189466,"reputation":22172,"user_id":2694184,"accept_rate":48,"display_name":"Gibbs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653580335,"creation_date":1653580335,"answer_id":72394617,"question_id":72393333,"body_markdown":"As per your mongo query, you need to match against `name` field but not on `id` field. That&#39;s the mistake\r\n\r\n    BasicDBObject filter = new BasicDBObject(&quot;$or&quot;, Arrays.asList\r\n        (new BasicDBObject(&quot;name&quot;, new BasicDBObject(&quot;$regex&quot;, &quot;^Ram&quot;))\r\n        .append(&quot;id&quot;, new //Here is the mistake\r\n               BasicDBObject(&quot;$regex&quot;, &quot;^Shyam&quot;))));\r\n\r\nIt should be\r\n\r\n\r\n        BasicDBObject filter = new BasicDBObject(&quot;$or&quot;, Arrays.asList\r\n            (new BasicDBObject(&quot;name&quot;, new BasicDBObject(&quot;$regex&quot;, &quot;^Ram&quot;))\r\n           .append(&quot;name&quot;, new BasicDBObject(&quot;$regex&quot;, &quot;^Shyam&quot;))));","title":"Fetch fields starting with 2 particular substring in mongodb using springboot?","body":"<p>As per your mongo query, you need to match against <code>name</code> field but not on <code>id</code> field. That's the mistake</p>\n<pre><code>BasicDBObject filter = new BasicDBObject(&quot;$or&quot;, Arrays.asList\n    (new BasicDBObject(&quot;name&quot;, new BasicDBObject(&quot;$regex&quot;, &quot;^Ram&quot;))\n    .append(&quot;id&quot;, new //Here is the mistake\n           BasicDBObject(&quot;$regex&quot;, &quot;^Shyam&quot;))));\n</code></pre>\n<p>It should be</p>\n<pre><code>    BasicDBObject filter = new BasicDBObject(&quot;$or&quot;, Arrays.asList\n        (new BasicDBObject(&quot;name&quot;, new BasicDBObject(&quot;$regex&quot;, &quot;^Ram&quot;))\n       .append(&quot;name&quot;, new BasicDBObject(&quot;$regex&quot;, &quot;^Shyam&quot;))));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25257291,"reputation":125,"user_id":19088797,"display_name":"Rishabh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653582481,"creation_date":1653582481,"answer_id":72395065,"question_id":72393333,"body_markdown":"I figured out. There is just one some thing as $or operator always take array \r\nIn my java code I have converted it into array but just forgot that there is no need to append . \r\n\r\nThe solution will be -- \r\n```\r\nBasicDBObject filter = new BasicDBObject(&quot;$or&quot;, Arrays.asList\r\n            (new BasicDBObject(&quot;name&quot;, new BasicDBObject(&quot;$regex&quot;, &quot;^Ram&quot;)),new BasicDbObject(&quot;name&quot;, new \r\n             BasicDBObject(&quot;$regex&quot;, &quot;^Shyam&quot;))));\r\n        collection.find(filter).forEach((Consumer&lt;Document&gt;) doc -&gt; {\r\n                 // some java function\r\n    }\r\n```","title":"Fetch fields starting with 2 particular substring in mongodb using springboot?","body":"<p>I figured out. There is just one some thing as $or operator always take array\nIn my java code I have converted it into array but just forgot that there is no need to append .</p>\n<p>The solution will be --</p>\n<pre><code>BasicDBObject filter = new BasicDBObject(&quot;$or&quot;, Arrays.asList\n            (new BasicDBObject(&quot;name&quot;, new BasicDBObject(&quot;$regex&quot;, &quot;^Ram&quot;)),new BasicDbObject(&quot;name&quot;, new \n             BasicDBObject(&quot;$regex&quot;, &quot;^Shyam&quot;))));\n        collection.find(filter).forEach((Consumer&lt;Document&gt;) doc -&gt; {\n                 // some java function\n    }\n</code></pre>\n"}],"owner":{"account_id":25257291,"reputation":125,"user_id":19088797,"display_name":"Rishabh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72395065,"answer_count":2,"score":1,"last_activity_date":1653582481,"creation_date":1653574815,"question_id":72393333,"body_markdown":"I&#39;m trying to find all the documents with first name starting with Ram or Shyam. \r\nI tried the following which actually worked in mongoDb\r\n```\r\ndb.collection.find({\r\n  $or: [\r\n    {\r\n      name: {\r\n        $regex: &quot;^Ram&quot;\r\n      }\r\n    },\r\n    {\r\n      &quot;name&quot;: {\r\n        &quot;$regex&quot;: &quot;^Shyam&quot;\r\n      }\r\n    }\r\n  ]\r\n})\r\n```\r\nI got around count of 4k documents with this find.\r\n\r\nNow when I tried to convert this mongo shell query into java. \r\nThings do work but only name starting with Shyam get filtered. As a result the count also decreases to 2k. \r\n\r\nCan someone please look at the below code and tell me why is it happening?\r\nWhy things are working in mongodb and not in java.\r\n\r\nJava Equivalent Code -- \r\n```\r\n        MongoDatabase database = mongoClient.getDatabase(&quot;Friends&quot;);\r\n        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;Friend&quot;);\r\n        BasicDBObject filter = new BasicDBObject(&quot;$or&quot;, Arrays.asList\r\n            (new BasicDBObject(&quot;name&quot;, new BasicDBObject(&quot;$regex&quot;, &quot;^Ram&quot;)).append(&quot;name&quot;, new \r\n             BasicDBObject(&quot;$regex&quot;, &quot;^Shyam&quot;))));\r\n        collection.find(filter).forEach((Consumer&lt;Document&gt;) doc -&gt; {\r\n                 // some java function\r\n    }\r\n\r\n```","title":"Fetch fields starting with 2 particular substring in mongodb using springboot?","body":"<p>I'm trying to find all the documents with first name starting with Ram or Shyam.\nI tried the following which actually worked in mongoDb</p>\n<pre><code>db.collection.find({\n  $or: [\n    {\n      name: {\n        $regex: &quot;^Ram&quot;\n      }\n    },\n    {\n      &quot;name&quot;: {\n        &quot;$regex&quot;: &quot;^Shyam&quot;\n      }\n    }\n  ]\n})\n</code></pre>\n<p>I got around count of 4k documents with this find.</p>\n<p>Now when I tried to convert this mongo shell query into java.\nThings do work but only name starting with Shyam get filtered. As a result the count also decreases to 2k.</p>\n<p>Can someone please look at the below code and tell me why is it happening?\nWhy things are working in mongodb and not in java.</p>\n<p>Java Equivalent Code --</p>\n<pre><code>        MongoDatabase database = mongoClient.getDatabase(&quot;Friends&quot;);\n        MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;Friend&quot;);\n        BasicDBObject filter = new BasicDBObject(&quot;$or&quot;, Arrays.asList\n            (new BasicDBObject(&quot;name&quot;, new BasicDBObject(&quot;$regex&quot;, &quot;^Ram&quot;)).append(&quot;name&quot;, new \n             BasicDBObject(&quot;$regex&quot;, &quot;^Shyam&quot;))));\n        collection.find(filter).forEach((Consumer&lt;Document&gt;) doc -&gt; {\n                 // some java function\n    }\n\n</code></pre>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":15656441,"reputation":11,"user_id":11296641,"display_name":"Daniel Castro Jara"},"score":0,"creation_date":1653504400,"post_id":72382723,"comment_id":127871491,"body_markdown":"@user16320675 because could be more that one person with that age and the idea is to return all the second youngest","body":"@user16320675 because could be more that one person with that age and the idea is to return all the second youngest"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1653504542,"post_id":72382723,"comment_id":127871543,"body_markdown":"Using sort to find a max is inefficient.","body":"Using sort to find a max is inefficient."},{"owner":{"account_id":15656441,"reputation":11,"user_id":11296641,"display_name":"Daniel Castro Jara"},"score":0,"creation_date":1653504699,"post_id":72382723,"comment_id":127871599,"body_markdown":"already edit the question to be clearer","body":"already edit the question to be clearer"},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1653581164,"post_id":72382723,"comment_id":127891188,"body_markdown":"Why is age an `Integer`? Do you intend to use `null` when age is unknown?","body":"Why is age an <code>Integer</code>? Do you intend to use <code>null</code> when age is unknown?"}],"answers":[{"tags":[],"owner":{"account_id":3881380,"reputation":829,"user_id":3213772,"display_name":"pushpavanthar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653540507,"creation_date":1653505572,"answer_id":72382965,"question_id":72382723,"body_markdown":"I prefer to find the list in a single parse of the array like this\r\n\r\n    public static List&lt;Persona&gt; segundoMayor(List&lt;Persona&gt; lista){\r\n        lista.sort(Comparator.comparing(Persona::getEdad));\r\n        Persona first = lista.get(0), second = null;\r\n        List&lt;Persona&gt; secondRankList = new ArrayList&lt;&gt;();\r\n        for(Persona persona: lista) {\r\n            if(second == null &amp;&amp; persona.getEdad() &gt; first.getEdad()) {\r\n                second = persona;\r\n            }\r\n            if(second != null &amp;&amp; second.getEdad().equals(persona.getEdad())) {\r\n                secondRankList.add(persona);\r\n            } else if(second != null &amp;&amp; !second.getEdad().equals(persona.getEdad())){\r\n                break;\r\n            }\r\n        }\r\n        return secondRankList;\r\n    }","title":"Return a list with the second youngest people in age Java","body":"<p>I prefer to find the list in a single parse of the array like this</p>\n<pre><code>public static List&lt;Persona&gt; segundoMayor(List&lt;Persona&gt; lista){\n    lista.sort(Comparator.comparing(Persona::getEdad));\n    Persona first = lista.get(0), second = null;\n    List&lt;Persona&gt; secondRankList = new ArrayList&lt;&gt;();\n    for(Persona persona: lista) {\n        if(second == null &amp;&amp; persona.getEdad() &gt; first.getEdad()) {\n            second = persona;\n        }\n        if(second != null &amp;&amp; second.getEdad().equals(persona.getEdad())) {\n            secondRankList.add(persona);\n        } else if(second != null &amp;&amp; !second.getEdad().equals(persona.getEdad())){\n            break;\n        }\n    }\n    return secondRankList;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1643900,"reputation":13042,"user_id":1515834,"accept_rate":82,"display_name":"Bobulous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653507020,"creation_date":1653505634,"answer_id":72382967,"question_id":72382723,"body_markdown":"I don&#39;t have my Java IDE setup at the moment, so consider this to be pseudo code (and write your own unit tests to check for bugs). But my solution would be to iterate the list of `Persona` objects to find the second-youngest age, then iterate the list again to find all objects with that age. Then you can add matching `Persona` objects to a collection, and/or print them out to the console.\r\n\r\n    int youngestAge = 1000, secondYoungestAge = 1000;\r\n    for (Persona p : listaPrueba) {\r\n        int edad = p.getEdad();\r\n        if (edad &lt; youngestAge) {\r\n            secondYoungestAge = youngestAge;\r\n            youngestAge = edad;\r\n        } else if (edad &lt; secondYoungestAge) {\r\n            secondYoungestAge = edad;\r\n        }\r\n    }\r\n\r\n    if (secondYoungestAge == 1000) {\r\n        throw new NoSuchElementException(&quot;No matching Persona!&quot;);\r\n    }\r\n\r\n    List&lt;Persona&gt; secondYoungestPersona = new ArrayList&lt;&gt;();\r\n    for (Persona p : listaPrueba) {\r\n        int edad = p.getEdad();\r\n        if (edad == secondYoungestAge) {\r\n            secondYoungestPersona.add(p);\r\n            // AND/OR write the name and age to console\r\n            System.out.print(p.getNombre() + &quot; &quot; + edad + &quot; &quot;);\r\n        }\r\n    }\r\n\r\nThis ought to be more efficient than using a `TreeMap` (sorted by age) or sorting the entire `ArrayList` (because you don&#39;t care about the order of the rest of the items, you just care about the second-youngest items). But if you need to be sure, then carefully write a JMH benchmark to test the three approaches.","title":"Return a list with the second youngest people in age Java","body":"<p>I don't have my Java IDE setup at the moment, so consider this to be pseudo code (and write your own unit tests to check for bugs). But my solution would be to iterate the list of <code>Persona</code> objects to find the second-youngest age, then iterate the list again to find all objects with that age. Then you can add matching <code>Persona</code> objects to a collection, and/or print them out to the console.</p>\n<pre><code>int youngestAge = 1000, secondYoungestAge = 1000;\nfor (Persona p : listaPrueba) {\n    int edad = p.getEdad();\n    if (edad &lt; youngestAge) {\n        secondYoungestAge = youngestAge;\n        youngestAge = edad;\n    } else if (edad &lt; secondYoungestAge) {\n        secondYoungestAge = edad;\n    }\n}\n\nif (secondYoungestAge == 1000) {\n    throw new NoSuchElementException(&quot;No matching Persona!&quot;);\n}\n\nList&lt;Persona&gt; secondYoungestPersona = new ArrayList&lt;&gt;();\nfor (Persona p : listaPrueba) {\n    int edad = p.getEdad();\n    if (edad == secondYoungestAge) {\n        secondYoungestPersona.add(p);\n        // AND/OR write the name and age to console\n        System.out.print(p.getNombre() + &quot; &quot; + edad + &quot; &quot;);\n    }\n}\n</code></pre>\n<p>This ought to be more efficient than using a <code>TreeMap</code> (sorted by age) or sorting the entire <code>ArrayList</code> (because you don't care about the order of the rest of the items, you just care about the second-youngest items). But if you need to be sure, then carefully write a JMH benchmark to test the three approaches.</p>\n"},{"tags":[],"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653509041,"creation_date":1653509041,"answer_id":72383577,"question_id":72382723,"body_markdown":"Very intresting.  \r\nI wrote a solution with streams. Perhaps, it doesn&#39;t have the best performance but it has a high readability.\r\n\r\n```java\r\npublic static List&lt;Persona&gt; segundoMayor(final ArrayList&lt;Persona&gt; lista) {\r\n\r\n    // first, sort it by age\r\n    final var sorted = lista\r\n            .stream()\r\n            .sorted(Comparator.comparing(Persona::getEdad))\r\n            .toList();\r\n\r\n    // now, find the second youngest age\r\n    final int secondYoungestAge = sorted\r\n            .stream()\r\n            .map(Persona::getEdad)\r\n            .distinct()\r\n            .skip(1)\r\n            .findFirst()\r\n            .orElse(0);\r\n\r\n    // at the end: only take the youngest \r\n    // and second youngest with takeWhile (so we can reduce the iterations)\r\n    // and filter them for the second youngest age\r\n    return sorted\r\n            .stream()\r\n            .takeWhile(persona -&gt; persona.getEdad() &lt;= secondYoungestAge)\r\n            .filter(persona -&gt; persona.getEdad() == secondYoungestAge)\r\n            .toList();\r\n}\r\n\r\n```","title":"Return a list with the second youngest people in age Java","body":"<p>Very intresting.<br />\nI wrote a solution with streams. Perhaps, it doesn't have the best performance but it has a high readability.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;Persona&gt; segundoMayor(final ArrayList&lt;Persona&gt; lista) {\n\n    // first, sort it by age\n    final var sorted = lista\n            .stream()\n            .sorted(Comparator.comparing(Persona::getEdad))\n            .toList();\n\n    // now, find the second youngest age\n    final int secondYoungestAge = sorted\n            .stream()\n            .map(Persona::getEdad)\n            .distinct()\n            .skip(1)\n            .findFirst()\n            .orElse(0);\n\n    // at the end: only take the youngest \n    // and second youngest with takeWhile (so we can reduce the iterations)\n    // and filter them for the second youngest age\n    return sorted\n            .stream()\n            .takeWhile(persona -&gt; persona.getEdad() &lt;= secondYoungestAge)\n            .filter(persona -&gt; persona.getEdad() == secondYoungestAge)\n            .toList();\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653554564,"creation_date":1653553686,"answer_id":72388908,"question_id":72382723,"body_markdown":"A kind of mostly functional approach:\r\n\r\n````java\r\nprivate static List&lt;Persona&gt; segundoMayor(List&lt;Persona&gt; lista){\r\n    return lista\r\n        .stream()\r\n        .collect(Collectors.groupingBy(Persona::getEdad))\r\n        .entrySet()\r\n        .stream()\r\n        .sorted(Comparator.comparing(Entry::getKey))\r\n        .map(Entry::getValue)\r\n        .skip(1)\r\n        .findFirst()\r\n        .orElse(Collections.emptyList());  // or orElse(List.of());\r\n                                           // or orElsehrow();\r\n````\r\n\r\nBasically: \r\n* group by age into a `Map&lt;Integer, List&lt;Persona&gt;&gt;`\r\n* sort the groups by age\r\n* extract the `Persona` list for each age\r\n* skip the first list (so the second youngest is next)\r\n* get the first list left on the stream\r\n* if none is available, result in an empty list\r\n\r\nReplace `orElse` with `orElseThrow` to throw a `NoSuchElementException` instead of returning an empty list, in the case that the input list does not contain at least two `Persona` with different ages.\r\n\r\nThis probably is not be the most efficient way: creating maps for all ages, but, on the other side, sorting less elements (one entry per age).","title":"Return a list with the second youngest people in age Java","body":"<p>A kind of mostly functional approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static List&lt;Persona&gt; segundoMayor(List&lt;Persona&gt; lista){\n    return lista\n        .stream()\n        .collect(Collectors.groupingBy(Persona::getEdad))\n        .entrySet()\n        .stream()\n        .sorted(Comparator.comparing(Entry::getKey))\n        .map(Entry::getValue)\n        .skip(1)\n        .findFirst()\n        .orElse(Collections.emptyList());  // or orElse(List.of());\n                                           // or orElsehrow();\n</code></pre>\n<p>Basically:</p>\n<ul>\n<li>group by age into a <code>Map&lt;Integer, List&lt;Persona&gt;&gt;</code></li>\n<li>sort the groups by age</li>\n<li>extract the <code>Persona</code> list for each age</li>\n<li>skip the first list (so the second youngest is next)</li>\n<li>get the first list left on the stream</li>\n<li>if none is available, result in an empty list</li>\n</ul>\n<p>Replace <code>orElse</code> with <code>orElseThrow</code> to throw a <code>NoSuchElementException</code> instead of returning an empty list, in the case that the input list does not contain at least two <code>Persona</code> with different ages.</p>\n<p>This probably is not be the most efficient way: creating maps for all ages, but, on the other side, sorting less elements (one entry per age).</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653582069,"creation_date":1653582069,"answer_id":72394978,"question_id":72382723,"body_markdown":"Normally, one would use a heap to efficiently find the *n* smallest elements. \r\n\r\n* Create a heap with the *reverse* of the desired order (a max heap, in this case).\r\n* For each element,\r\n  * add the element to the heap;\r\n  * if the heap has more than *n* items, remove the top of the heap.\r\n\r\nWith this approach, if there are more than *n* ties for smallest element, you get the first *n* results that you looked at.\r\n\r\nThis case is a little different because you want to find an unconstrained number of elements that tie for the *nth* smallest attribute. That requires some extra steps.\r\n\r\nFirst, you can build a general-purpose &quot;top hits&quot; collector for use on with streams:\r\n\r\n```java\r\n/**\r\n * @param limit the maximum number of items to collect\r\n * @param order a function to establish item ordering\r\n * @param &lt;T&gt; the type of items to collect\r\n * @return a collector for a limited number of items ordered &lt;em&gt;last&lt;/em&gt;\r\n */\r\npublic static &lt;T&gt; Collector&lt;T, ?, List&lt;T&gt;&gt; top(int limit, Comparator&lt;? super T&gt; order) {\r\n    Objects.requireNonNull(order);\r\n    Supplier&lt;Queue&lt;T&gt;&gt; supplier = () -&gt; new PriorityQueue&lt;&gt;(order);\r\n    BiConsumer&lt;Queue&lt;T&gt;, T&gt; accumulator = (q, e) -&gt; {\r\n        q.add(e);\r\n        if (q.size() &gt; limit) q.remove();\r\n    };\r\n    BinaryOperator&lt;Queue&lt;T&gt;&gt; combiner = (q1, q2) -&gt; {\r\n        q2.forEach(e -&gt; accumulator.accept(q1, e));\r\n        return q1;\r\n    };\r\n    Function&lt;Queue&lt;T&gt;, List&lt;T&gt;&gt; finisher = q -&gt; {\r\n        List&lt;T&gt; list = new ArrayList&lt;&gt;(q.size());\r\n        while (!q.isEmpty()) list.add(q.remove());\r\n        Collections.reverse(list);\r\n        return list;\r\n    };\r\n    return Collector.of(supplier, accumulator, combiner, finisher);\r\n}\r\n\r\n/**\r\n * @param limit the maximum number of items to collect\r\n * @param order a function to establish item ordering\r\n * @param &lt;T&gt; the type of items to collect\r\n * @return a collector for a limited number of items ordered &lt;em&gt;first&lt;/em&gt;\r\n */\r\npublic static &lt;T&gt; Collector&lt;T, ?, List&lt;T&gt;&gt; bottom(int limit, Comparator&lt;? super T&gt; order) {\r\n    return top(limit, order.reversed());\r\n}\r\n```\r\n\r\nNow you can apply it to your case, with some extra processing. First, the age of each person is filtered, considering only distinct, non-null values. The second-lowest age, if it exists, is then used as a filter in a second pass over the input.\r\n\r\n```java\r\nList&lt;Persona&gt; secondYoungest(Collection&lt;Persona&gt; personas) {\r\n    List&lt;Integer&gt; youngest = personas.stream()\r\n        .map(Persona::getEdad)\r\n        .filter(Objects::nonNull)\r\n        .distinct()\r\n        .collect(bottom(2, Integer::compare));\r\n    if (youngest.size() != 2) {\r\n        throw new IllegalArgumentException(&quot;Second youngest age is undefined&quot;);\r\n    }\r\n    Integer age = youngest.get(1);\r\n    return personas.stream()\r\n        .filter(p -&gt; age.equals(p.getEdad()))\r\n        .collect(Collectors.toList());\r\n}\r\n```","title":"Return a list with the second youngest people in age Java","body":"<p>Normally, one would use a heap to efficiently find the <em>n</em> smallest elements.</p>\n<ul>\n<li>Create a heap with the <em>reverse</em> of the desired order (a max heap, in this case).</li>\n<li>For each element,\n<ul>\n<li>add the element to the heap;</li>\n<li>if the heap has more than <em>n</em> items, remove the top of the heap.</li>\n</ul>\n</li>\n</ul>\n<p>With this approach, if there are more than <em>n</em> ties for smallest element, you get the first <em>n</em> results that you looked at.</p>\n<p>This case is a little different because you want to find an unconstrained number of elements that tie for the <em>nth</em> smallest attribute. That requires some extra steps.</p>\n<p>First, you can build a general-purpose &quot;top hits&quot; collector for use on with streams:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * @param limit the maximum number of items to collect\n * @param order a function to establish item ordering\n * @param &lt;T&gt; the type of items to collect\n * @return a collector for a limited number of items ordered &lt;em&gt;last&lt;/em&gt;\n */\npublic static &lt;T&gt; Collector&lt;T, ?, List&lt;T&gt;&gt; top(int limit, Comparator&lt;? super T&gt; order) {\n    Objects.requireNonNull(order);\n    Supplier&lt;Queue&lt;T&gt;&gt; supplier = () -&gt; new PriorityQueue&lt;&gt;(order);\n    BiConsumer&lt;Queue&lt;T&gt;, T&gt; accumulator = (q, e) -&gt; {\n        q.add(e);\n        if (q.size() &gt; limit) q.remove();\n    };\n    BinaryOperator&lt;Queue&lt;T&gt;&gt; combiner = (q1, q2) -&gt; {\n        q2.forEach(e -&gt; accumulator.accept(q1, e));\n        return q1;\n    };\n    Function&lt;Queue&lt;T&gt;, List&lt;T&gt;&gt; finisher = q -&gt; {\n        List&lt;T&gt; list = new ArrayList&lt;&gt;(q.size());\n        while (!q.isEmpty()) list.add(q.remove());\n        Collections.reverse(list);\n        return list;\n    };\n    return Collector.of(supplier, accumulator, combiner, finisher);\n}\n\n/**\n * @param limit the maximum number of items to collect\n * @param order a function to establish item ordering\n * @param &lt;T&gt; the type of items to collect\n * @return a collector for a limited number of items ordered &lt;em&gt;first&lt;/em&gt;\n */\npublic static &lt;T&gt; Collector&lt;T, ?, List&lt;T&gt;&gt; bottom(int limit, Comparator&lt;? super T&gt; order) {\n    return top(limit, order.reversed());\n}\n</code></pre>\n<p>Now you can apply it to your case, with some extra processing. First, the age of each person is filtered, considering only distinct, non-null values. The second-lowest age, if it exists, is then used as a filter in a second pass over the input.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Persona&gt; secondYoungest(Collection&lt;Persona&gt; personas) {\n    List&lt;Integer&gt; youngest = personas.stream()\n        .map(Persona::getEdad)\n        .filter(Objects::nonNull)\n        .distinct()\n        .collect(bottom(2, Integer::compare));\n    if (youngest.size() != 2) {\n        throw new IllegalArgumentException(&quot;Second youngest age is undefined&quot;);\n    }\n    Integer age = youngest.get(1);\n    return personas.stream()\n        .filter(p -&gt; age.equals(p.getEdad()))\n        .collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":15656441,"reputation":11,"user_id":11296641,"display_name":"Daniel Castro Jara"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1653582069,"creation_date":1653504104,"question_id":72382723,"body_markdown":"The idea is to return the second youngest persons from an array Person type.\r\nI have this but don&#39;t know if it&#39;s the best solution, how do you see that approach? or what would be another good idea to resolve this. Thanks any suggestions\r\n\r\nthis is the class:\r\n\r\n\r\n    public class Persona {\r\n    \r\n        private String nombre;\r\n        private Integer edad;\r\n    \r\n        public String getNombre() {\r\n            return nombre;\r\n        }\r\n    \r\n        public void setNombre(String nombre) {\r\n            this.nombre = nombre;\r\n        }\r\n    \r\n        public Integer getEdad() {\r\n            return edad;\r\n        }\r\n    \r\n        public void setEdad(Integer edad) {\r\n            this.edad = edad;\r\n        }\r\n    \r\n        public Persona(String nombre, Integer edad) {\r\n            this.nombre = nombre;\r\n            this.edad = edad;\r\n        }\r\n    }\r\n\r\nand the method to make the return also a list with example values (I just sorted the list and then using a filter quit the people with the first value and then filter with the new first value to save only that values)\r\n\r\n    public static void main(String[] args) {\r\n            ArrayList&lt;Persona&gt; listaPrueba = new ArrayList&lt;Persona&gt;();\r\n            listaPrueba.add(new Persona(&quot;Patricia&quot;, 21));\r\n            listaPrueba.add(new Persona(&quot;Juan&quot;, 22));\r\n            listaPrueba.add(new Persona( &quot;Ana&quot;, 45));\r\n            listaPrueba.add(new Persona(&quot;John&quot;, 22));\r\n            listaPrueba.add(new Persona( &quot;Max&quot;, 21));\r\n            listaPrueba.add(new Persona(&quot;Peter&quot;, 50));\r\n    \r\n            segundoMayor(listaPrueba).stream().forEach(item -&gt; System.out.println(item.getNombre() + &quot; &quot; +item.getEdad()));\r\n        }\r\n\r\n    public static List&lt;Persona&gt; segundoMayor(ArrayList&lt;Persona&gt; lista){\r\n            lista.sort(Comparator.comparing(Persona::getEdad));\r\n            List&lt;Persona&gt; listaFiltrada = lista.stream().filter(item -&gt; !item.getEdad().equals(lista.get(0).getEdad())).collect(Collectors.toList());\r\n            return listaFiltrada.stream().filter(item -&gt; item.getEdad().equals(listaFiltrada.get(0).getEdad())).collect(Collectors.toList());\r\n        }\r\n\r\n**the output should be:**\r\n\r\n**Juan 22\r\nJohn 22**","title":"Return a list with the second youngest people in age Java","body":"<p>The idea is to return the second youngest persons from an array Person type.\nI have this but don't know if it's the best solution, how do you see that approach? or what would be another good idea to resolve this. Thanks any suggestions</p>\n<p>this is the class:</p>\n<pre><code>public class Persona {\n\n    private String nombre;\n    private Integer edad;\n\n    public String getNombre() {\n        return nombre;\n    }\n\n    public void setNombre(String nombre) {\n        this.nombre = nombre;\n    }\n\n    public Integer getEdad() {\n        return edad;\n    }\n\n    public void setEdad(Integer edad) {\n        this.edad = edad;\n    }\n\n    public Persona(String nombre, Integer edad) {\n        this.nombre = nombre;\n        this.edad = edad;\n    }\n}\n</code></pre>\n<p>and the method to make the return also a list with example values (I just sorted the list and then using a filter quit the people with the first value and then filter with the new first value to save only that values)</p>\n<pre><code>public static void main(String[] args) {\n        ArrayList&lt;Persona&gt; listaPrueba = new ArrayList&lt;Persona&gt;();\n        listaPrueba.add(new Persona(&quot;Patricia&quot;, 21));\n        listaPrueba.add(new Persona(&quot;Juan&quot;, 22));\n        listaPrueba.add(new Persona( &quot;Ana&quot;, 45));\n        listaPrueba.add(new Persona(&quot;John&quot;, 22));\n        listaPrueba.add(new Persona( &quot;Max&quot;, 21));\n        listaPrueba.add(new Persona(&quot;Peter&quot;, 50));\n\n        segundoMayor(listaPrueba).stream().forEach(item -&gt; System.out.println(item.getNombre() + &quot; &quot; +item.getEdad()));\n    }\n\npublic static List&lt;Persona&gt; segundoMayor(ArrayList&lt;Persona&gt; lista){\n        lista.sort(Comparator.comparing(Persona::getEdad));\n        List&lt;Persona&gt; listaFiltrada = lista.stream().filter(item -&gt; !item.getEdad().equals(lista.get(0).getEdad())).collect(Collectors.toList());\n        return listaFiltrada.stream().filter(item -&gt; item.getEdad().equals(listaFiltrada.get(0).getEdad())).collect(Collectors.toList());\n    }\n</code></pre>\n<p><strong>the output should be:</strong></p>\n<p><strong>Juan 22\nJohn 22</strong></p>\n"},{"tags":["java","ssl","ssl-certificate","java-11","tls1.3"],"answers":[{"tags":[],"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622195640,"creation_date":1622195640,"answer_id":67736694,"question_id":67720003,"body_markdown":"This is probably **not an answer** but for the sake of better reading I&#39;m using this. Below is my sample code for a TLS server using version 1.3 (source is taken from https://blog.gypsyengineer.com/en/security/an-example-of-tls-13-client-and-server-on-java.html).\r\n\r\nThe important fact is to have a keystore **and** a truststore available at startup of the server and use (I&#39;m binding them using &quot;System.setProperty&quot; instead of &quot;-Djavax.net...&quot;).\r\n\r\nMaybe this helps you in finding a solution on your own :-)\r\n\r\n    import javax.net.ssl.SSLServerSocket;\r\n    import javax.net.ssl.SSLServerSocketFactory;\r\n    import javax.net.ssl.SSLSocket;\r\n    import javax.net.ssl.SSLSocketFactory;\r\n    import java.io.*;\r\n    \r\n    /*\r\n     * Don&#39;t forget to set the following system properties when you run the class:\r\n     *\r\n     *     javax.net.ssl.keyStore\r\n     *     javax.net.ssl.keyStorePassword\r\n     *     javax.net.ssl.trustStore\r\n     *     javax.net.ssl.trustStorePassword\r\n     *\r\n     * More details can be found in JSSE docs.\r\n     *\r\n     * For example:\r\n     *\r\n     *     java -cp classes \\\r\n     *         -Djavax.net.ssl.keyStore=keystore \\\r\n     *         -Djavax.net.ssl.keyStorePassword=passphrase \\\r\n     *         -Djavax.net.ssl.trustStore=keystore \\\r\n     *         -Djavax.net.ssl.trustStorePassword=passphrase \\\r\n     *             com.gypsyengineer.tlsbunny.jsse.TLSv13Test\r\n     *\r\n     * For testing purposes, you can download the keystore file from\r\n     *\r\n     *     https://github.com/openjdk/jdk/tree/master/test/jdk/javax/net/ssl/etc\r\n     */\r\n    \r\n    public class TLSv13Test {\r\n        // source: https://blog.gypsyengineer.com/en/security/an-example-of-tls-13-client-and-server-on-java.html\r\n        private static final int delay = 1000; // in millis\r\n        private static final String[] protocols = new String[] {&quot;TLSv1.3&quot;};\r\n        private static final String[] cipher_suites = new String[] {&quot;TLS_AES_128_GCM_SHA256&quot;};\r\n        private static final String message =\r\n                &quot;Like most of life&#39;s problems, this one can be solved with bending!&quot;;\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            // system settings for keystores\r\n            System.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;keystores\\\\tls\\\\keystore&quot;);\r\n            System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;passphrase&quot;);\r\n            System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;keystores\\\\tls\\\\truststore&quot;);\r\n            System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;passphrase&quot;);\r\n            System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\r\n    \r\n            try (EchoServer server = EchoServer.create()) {\r\n                new Thread(server).start();\r\n                Thread.sleep(delay);\r\n    \r\n                try (SSLSocket socket = createSocket(&quot;localhost&quot;, server.port())) {\r\n                    InputStream is = new BufferedInputStream(socket.getInputStream());\r\n                    OutputStream os = new BufferedOutputStream(socket.getOutputStream());\r\n                    os.write(message.getBytes());\r\n                    os.flush();\r\n                    byte[] data = new byte[2048];\r\n                    int len = is.read(data);\r\n                    if (len &lt;= 0) {\r\n                        throw new IOException(&quot;no data received&quot;);\r\n                    }\r\n                    System.out.printf(&quot;client received %d bytes: %s%n&quot;,\r\n                            len, new String(data, 0, len));\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static SSLSocket createSocket(String host, int port) throws IOException {\r\n            SSLSocket socket = (SSLSocket) SSLSocketFactory.getDefault()\r\n                    .createSocket(host, port);\r\n            socket.setEnabledProtocols(protocols);\r\n            socket.setEnabledCipherSuites(cipher_suites);\r\n            return socket;\r\n        }\r\n    \r\n        public static class EchoServer implements Runnable, AutoCloseable {\r\n            private static final int FREE_PORT = 0;\r\n            private final SSLServerSocket sslServerSocket;\r\n            private EchoServer(SSLServerSocket sslServerSocket) {\r\n                this.sslServerSocket = sslServerSocket;\r\n            }\r\n    \r\n            public int port() {\r\n                return sslServerSocket.getLocalPort();\r\n            }\r\n    \r\n            @Override\r\n            public void close() throws IOException {\r\n                if (sslServerSocket != null &amp;&amp; !sslServerSocket.isClosed()) {\r\n                    sslServerSocket.close();\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void run() {\r\n                System.out.printf(&quot;server started on port %d%n&quot;, port());\r\n    \r\n                try (SSLSocket socket = (SSLSocket) sslServerSocket.accept()) {\r\n                    System.out.println(&quot;accepted&quot;);\r\n                    InputStream is = new BufferedInputStream(socket.getInputStream());\r\n                    OutputStream os = new BufferedOutputStream(socket.getOutputStream());\r\n                    byte[] data = new byte[2048];\r\n                    int len = is.read(data);\r\n                    if (len &lt;= 0) {\r\n                        throw new IOException(&quot;no data received&quot;);\r\n                    }\r\n                    System.out.printf(&quot;server received %d bytes: %s%n&quot;,\r\n                            len, new String(data, 0, len));\r\n                    os.write(data, 0, len);\r\n                    os.flush();\r\n                } catch (Exception e) {\r\n                    System.out.printf(&quot;exception: %s%n&quot;, e.getMessage());\r\n                }\r\n    \r\n                System.out.println(&quot;server stopped&quot;);\r\n            }\r\n    \r\n            public static EchoServer create() throws IOException {\r\n                return create(FREE_PORT);\r\n            }\r\n    \r\n            public static EchoServer create(int port) throws IOException {\r\n                SSLServerSocket socket = (SSLServerSocket)\r\n                        SSLServerSocketFactory.getDefault().createServerSocket(port);\r\n                socket.setEnabledProtocols(protocols);\r\n                socket.setEnabledCipherSuites(cipher_suites);\r\n                return new EchoServer(socket);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"TLS 1.3 server socket with Java 11 and self-signed certificates","body":"<p>This is probably <strong>not an answer</strong> but for the sake of better reading I'm using this. Below is my sample code for a TLS server using version 1.3 (source is taken from <a href=\"https://blog.gypsyengineer.com/en/security/an-example-of-tls-13-client-and-server-on-java.html\" rel=\"nofollow noreferrer\">https://blog.gypsyengineer.com/en/security/an-example-of-tls-13-client-and-server-on-java.html</a>).</p>\n<p>The important fact is to have a keystore <strong>and</strong> a truststore available at startup of the server and use (I'm binding them using &quot;System.setProperty&quot; instead of &quot;-Djavax.net...&quot;).</p>\n<p>Maybe this helps you in finding a solution on your own :-)</p>\n<pre><code>import javax.net.ssl.SSLServerSocket;\nimport javax.net.ssl.SSLServerSocketFactory;\nimport javax.net.ssl.SSLSocket;\nimport javax.net.ssl.SSLSocketFactory;\nimport java.io.*;\n\n/*\n * Don't forget to set the following system properties when you run the class:\n *\n *     javax.net.ssl.keyStore\n *     javax.net.ssl.keyStorePassword\n *     javax.net.ssl.trustStore\n *     javax.net.ssl.trustStorePassword\n *\n * More details can be found in JSSE docs.\n *\n * For example:\n *\n *     java -cp classes \\\n *         -Djavax.net.ssl.keyStore=keystore \\\n *         -Djavax.net.ssl.keyStorePassword=passphrase \\\n *         -Djavax.net.ssl.trustStore=keystore \\\n *         -Djavax.net.ssl.trustStorePassword=passphrase \\\n *             com.gypsyengineer.tlsbunny.jsse.TLSv13Test\n *\n * For testing purposes, you can download the keystore file from\n *\n *     https://github.com/openjdk/jdk/tree/master/test/jdk/javax/net/ssl/etc\n */\n\npublic class TLSv13Test {\n    // source: https://blog.gypsyengineer.com/en/security/an-example-of-tls-13-client-and-server-on-java.html\n    private static final int delay = 1000; // in millis\n    private static final String[] protocols = new String[] {&quot;TLSv1.3&quot;};\n    private static final String[] cipher_suites = new String[] {&quot;TLS_AES_128_GCM_SHA256&quot;};\n    private static final String message =\n            &quot;Like most of life's problems, this one can be solved with bending!&quot;;\n\n    public static void main(String[] args) throws Exception {\n        // system settings for keystores\n        System.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;keystores\\\\tls\\\\keystore&quot;);\n        System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;passphrase&quot;);\n        System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;keystores\\\\tls\\\\truststore&quot;);\n        System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;passphrase&quot;);\n        System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\n\n        try (EchoServer server = EchoServer.create()) {\n            new Thread(server).start();\n            Thread.sleep(delay);\n\n            try (SSLSocket socket = createSocket(&quot;localhost&quot;, server.port())) {\n                InputStream is = new BufferedInputStream(socket.getInputStream());\n                OutputStream os = new BufferedOutputStream(socket.getOutputStream());\n                os.write(message.getBytes());\n                os.flush();\n                byte[] data = new byte[2048];\n                int len = is.read(data);\n                if (len &lt;= 0) {\n                    throw new IOException(&quot;no data received&quot;);\n                }\n                System.out.printf(&quot;client received %d bytes: %s%n&quot;,\n                        len, new String(data, 0, len));\n            }\n        }\n    }\n\n    public static SSLSocket createSocket(String host, int port) throws IOException {\n        SSLSocket socket = (SSLSocket) SSLSocketFactory.getDefault()\n                .createSocket(host, port);\n        socket.setEnabledProtocols(protocols);\n        socket.setEnabledCipherSuites(cipher_suites);\n        return socket;\n    }\n\n    public static class EchoServer implements Runnable, AutoCloseable {\n        private static final int FREE_PORT = 0;\n        private final SSLServerSocket sslServerSocket;\n        private EchoServer(SSLServerSocket sslServerSocket) {\n            this.sslServerSocket = sslServerSocket;\n        }\n\n        public int port() {\n            return sslServerSocket.getLocalPort();\n        }\n\n        @Override\n        public void close() throws IOException {\n            if (sslServerSocket != null &amp;&amp; !sslServerSocket.isClosed()) {\n                sslServerSocket.close();\n            }\n        }\n\n        @Override\n        public void run() {\n            System.out.printf(&quot;server started on port %d%n&quot;, port());\n\n            try (SSLSocket socket = (SSLSocket) sslServerSocket.accept()) {\n                System.out.println(&quot;accepted&quot;);\n                InputStream is = new BufferedInputStream(socket.getInputStream());\n                OutputStream os = new BufferedOutputStream(socket.getOutputStream());\n                byte[] data = new byte[2048];\n                int len = is.read(data);\n                if (len &lt;= 0) {\n                    throw new IOException(&quot;no data received&quot;);\n                }\n                System.out.printf(&quot;server received %d bytes: %s%n&quot;,\n                        len, new String(data, 0, len));\n                os.write(data, 0, len);\n                os.flush();\n            } catch (Exception e) {\n                System.out.printf(&quot;exception: %s%n&quot;, e.getMessage());\n            }\n\n            System.out.println(&quot;server stopped&quot;);\n        }\n\n        public static EchoServer create() throws IOException {\n            return create(FREE_PORT);\n        }\n\n        public static EchoServer create(int port) throws IOException {\n            SSLServerSocket socket = (SSLServerSocket)\n                    SSLServerSocketFactory.getDefault().createServerSocket(port);\n            socket.setEnabledProtocols(protocols);\n            socket.setEnabledCipherSuites(cipher_suites);\n            return new EchoServer(socket);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622207768,"creation_date":1622207768,"answer_id":67739571,"question_id":67720003,"body_markdown":"I&#39;m using a second answer as the code is too long for pasting it in the first answer.\r\n\r\nYes, it is possible to run a TLS server using **temporary** trust- and keystores. I can&#39;t judge about any security issues this brings with it -so be care when using this code.\r\n\r\nTo get your code run out of the box I&#39;m using a RSA private key and self signed certificate - I stripped out the &quot;--- BEGIN ... END ---&quot; and left only the (Base64 encoded) part to get the key/certificate. Dont&#39;t worry, it is a **sample key**:\r\n\r\n    public static X509Certificate getcertificate() throws CertificateException {\r\n        String certificate = &quot;MIIDSzCCAjMCBFc5m4cwDQYJKoZIhvcNAQELBQAwajELMAkGA1UEBhMCVVMxCzAJ&quot; +\r\n                &quot;BgNVBAgMAkNBMRIwEAYDVQQHDAlDdXBlcnRpbm8xDjAMBgNVBAoMBUR1bW15MQ4w&quot; +\r\n                &quot;DAYDVQQLDAVEdW1teTEaMBgGA1UEAwwRZHVtbXkuZXhhbXBsZS5jb20wHhcNMTYw&quot; +\r\n                &quot;NTE2MTAwNjM4WhcNMjYwNTE2MTAwNjM4WjBqMQswCQYDVQQGEwJVUzELMAkGA1UE&quot; +\r\n                &quot;CAwCQ0ExEjAQBgNVBAcMCUN1cGVydGlubzEOMAwGA1UECgwFRHVtbXkxDjAMBgNV&quot; +\r\n                &quot;BAsMBUR1bW15MRowGAYDVQQDDBFkdW1teS5leGFtcGxlLmNvbTCCASIwDQYJKoZI&quot; +\r\n                &quot;hvcNAQEBBQADggEPADCCAQoCggEBAMkbQD5byG7xnyOWVzeIwbtHVPem/LJlXAHc&quot; +\r\n                &quot;WJwz8pZ75rGBnZmAtgunXU++yPTZZOgYTZpM+qQhrFy2Z1Di/vVzhlVpcOZBw1RB&quot; +\r\n                &quot;lI3s2uQYaWVtBtKtNELYWXEbhfxVJFBs5lLmsYJufVasMT+3XzBERuIEUV43JTKS&quot; +\r\n                &quot;5ttwkoVgYRX6KDrIj0hYA7ZmOB/y5E1BG2mLsSkX0SoTCpuhgYwlWO4kvYoGu9vH&quot; +\r\n                &quot;SfugUzQBqSiE1yN+Qfl3+76U23Pmbm/by9n3M3AoULxk2XnQmgBYtzViV0f1E3rr&quot; +\r\n                &quot;/77XvIydWLHB0kotpND+ZN4IvTwpr3v7Iy6wbofg+Ounvwf7MKMCAwEAATANBgkq&quot; +\r\n                &quot;hkiG9w0BAQsFAAOCAQEAWRWiibTf9UZAlXr+2ZmBMMMONpBOUaSbexLNs6MahBmj&quot; +\r\n                &quot;cdEwOQ+l5xAdV4xVEDoDhu0m1JeDXy6SXo7mYkM2l9u/uz7tRStuEiM+tbCDaclb&quot; +\r\n                &quot;W/H5QOdpiIx9uh86cEgBpk4xUO5vSaLI/9uSKgGkTNAFrjy3ME3wfc0cd5ntS8ca&quot; +\r\n                &quot;8xobcmQ59SYZb9Gi0u/YN9yro9RwGDL8O1Bmp9+9rn5hor/oOVGHlbz2MN43moSZ&quot; +\r\n                &quot;EiIfegW9OWiaWqIGqBOXvoEGp0exN+lhhmonI3zdYCB0jss2QYm3E1IWqZUkNOg3&quot; +\r\n                &quot;yulIxph3FYvF+cA/vTVlohq5VB3DsCrnkDmqbU2mlw==&quot;;\r\n        byte[] encodedCertificate = Base64.getDecoder().decode(certificate);\r\n        CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n        return (X509Certificate) certificateFactory.generateCertificate(new ByteArrayInputStream(encodedCertificate));\r\n    }\r\n\r\n    // don&#39;t worry, it is a sample rsa private key\r\n    public static PrivateKey getPrivateKey() throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n        String privateKeyPem = &quot;MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDJG0A+W8hu8Z8j&quot; +\r\n                &quot;llc3iMG7R1T3pvyyZVwB3FicM/KWe+axgZ2ZgLYLp11Pvsj02WToGE2aTPqkIaxc&quot; +\r\n                &quot;tmdQ4v71c4ZVaXDmQcNUQZSN7NrkGGllbQbSrTRC2FlxG4X8VSRQbOZS5rGCbn1W&quot; +\r\n                &quot;rDE/t18wREbiBFFeNyUykubbcJKFYGEV+ig6yI9IWAO2Zjgf8uRNQRtpi7EpF9Eq&quot; +\r\n                &quot;EwqboYGMJVjuJL2KBrvbx0n7oFM0AakohNcjfkH5d/u+lNtz5m5v28vZ9zNwKFC8&quot; +\r\n                &quot;ZNl50JoAWLc1YldH9RN66/++17yMnVixwdJKLaTQ/mTeCL08Ka97+yMusG6H4Pjr&quot; +\r\n                &quot;p78H+zCjAgMBAAECggEAMh7yEHiUiB39AQQPoZ4aVoANK5m5IgcD+sy9YtTJkXq4&quot; +\r\n                &quot;wKWirya2eEoShfTxJaDmtreT47BqySxBRmwJbM3eKDNOGAxq4GAke+PKT+LnnPB+&quot; +\r\n                &quot;mBInoKsdOsmr5PYsmvpnTgoODzxColTCNS8+KPidJyzlE6Bq3RXWVffpxGgWhFnT&quot; +\r\n                &quot;JM1MTpJJ/tKeZAUKOXbSU9T079gduPHTkrFeUnAt179ruSLov2Nbt8XhqDiY+pXm&quot; +\r\n                &quot;EjMb+Q8JlBJ1F82i43BR6w6fjdSReGUNs8NDbmjpMasuk2U1/t28Idnt3M07jDUP&quot; +\r\n                &quot;LGPrAeTZd/PLNpbflZMJoDT5SoCFycXNE3rHrsr8YQKBgQDveZzFcZctuYVd9iDd&quot; +\r\n                &quot;SNLS6a2MuSwLrEPtUXRC7QR8BO2OkEvqMD5tVv3+a0ZPQpNg+4KzaKdzbsTNifpY&quot; +\r\n                &quot;qjNzfydZ3CZzKlRVt/88icFxicWvI+fKiDdcGUt7agS4o9Ce+EkkqBySvVJB5Blz&quot; +\r\n                &quot;vKLNyMQsJb2y6jRTekl/iO2XIQKBgQDW+9j128OmtPBERMw0RKxS5KZEYIhvZ+kw&quot; +\r\n                &quot;lRe7D21o1d7MQx0zxKw58AWDW/epiVyno/FDuWmj2pQQ/oLpZl3ERg+hf3yUp48A&quot; +\r\n                &quot;MziyuI3+INni/+uMWR3RN6sp4IbebXb6itGAIOm7ljgYwFV9crpLd7GZz3wi3/iZ&quot; +\r\n                &quot;+zOVLl9DQwKBgQDXbYOGayUg0SAU4vG1n2loqyagzYO+DH4e44O/IRFDr/s0oMJq&quot; +\r\n                &quot;LnQ6UGO1mDNr4exK9nchhif9Q8xvSoyXbqVSZTS1NcKxH4c2hYtqnlITHWlkoNxH&quot; +\r\n                &quot;6jpC885fe4Q7xcJK//hsrX7m0sFI3TW4VB3xGYbAYENCzEW+QugTfs6dgQKBgQCi&quot; +\r\n                &quot;nB5QYOkNWID/8lXPFz6M+Jv2zlmEgsF0WOF5QUMNb++06vLUrGdk73MMF+0tlFO8&quot; +\r\n                &quot;DZo5Eq6gHH2wmQImTqKQCjpaepadzluw2A2DyWrFlM2aEN926hVOod/arhT1ezDq&quot; +\r\n                &quot;c0PhuYNxuz81IY3IdJYK7T8tyy3nJyfgOIycw1WVBwKBgQDQ+iZpSMp1wIqnIeNb&quot; +\r\n                &quot;zdlaVYXBu7d0tBlG/JGnPRlNVJkVpKd4woWtMwkqMGuAmmSkdjzhFYca9SWgzV1R&quot; +\r\n                &quot;gzQzf1GuClF8KO7drdyvKGNqDFhyuCgE9mXI34ovjNcva9u+aZGHxuEYlCTKA0cV&quot; +\r\n                &quot;UT/0leMkegvP/kFKOvzfYRBNFg==&quot;;\r\n        byte[] encodedPrivateKey = Base64.getDecoder().decode(privateKeyPem);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        PKCS8EncodedKeySpec pkcs8EncodedKeySpec = new PKCS8EncodedKeySpec(encodedPrivateKey);\r\n        return (PrivateKey) keyFactory.generatePrivate(pkcs8EncodedKeySpec);\r\n    }\r\n\r\nNow the code - paste it between &quot;//System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);&quot; and &quot;SSLServerSocket serverSocket = (SSLServerSocket) ctx.getServerSocketFactory().createServerSocket(PORT);&quot; and delete a code lines between. Paste in this code lines:\r\n\r\n        //Create a temp truststore with the server certificate\r\n        KeyStore ksTemp = KeyStore.getInstance(&quot;JKS&quot;);\r\n        ksTemp.load(null, null); //Initialize it\r\n        ksTemp.setCertificateEntry(&quot;Alias&quot;, getcertificate());\r\n        ByteArrayOutputStream bOut = new ByteArrayOutputStream();\r\n        // save the temp keystore\r\n        ksTemp.store(bOut, &quot;passphrase&quot;.toCharArray());\r\n        //Now create the keystore to be used by jsse\r\n        KeyStore keyStoreTs = KeyStore.getInstance(&quot;JKS&quot;);\r\n        keyStoreTs.load(new ByteArrayInputStream(bOut.toByteArray()), &quot;passphrase&quot;.toCharArray());\r\n\r\n        // now lets do the same with the keystore\r\n        KeyStore ksTemp2 = KeyStore.getInstance(&quot;JKS&quot;);\r\n        ksTemp2.load(null, null); //Initialize it\r\n        ksTemp2.setCertificateEntry(&quot;Alias&quot;, getcertificate());\r\n        ByteArrayOutputStream bOut2 = new ByteArrayOutputStream();\r\n        // save the temp keystore\r\n        ksTemp2.store(bOut2, &quot;passphrase&quot;.toCharArray());\r\n        //Now create the keystore to be used by jsse\r\n        KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n        keyStore.load(new ByteArrayInputStream(bOut2.toByteArray()), &quot;passphrase&quot;.toCharArray());\r\n        X509Certificate[] chain = new X509Certificate[1];\r\n        chain[0] = getcertificate();\r\n        keyStore.setKeyEntry(&quot;privateCert&quot;, getPrivateKey(), &quot;passphrase&quot;.toCharArray(), chain);\r\n\r\n        TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n        tmf.init(keyStoreTs);\r\n\r\n        KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n        kmf.init(keyStore, &quot;passphrase&quot;.toCharArray());\r\n\r\n        // create SSLContext to establish the secure connection\r\n        SSLContext ctx = SSLContext.getInstance(TLS_PROTOCOL);\r\n        ctx.init(kmf.getKeyManagers(), tmf.getTrustManagers(), null);\r\n\r\nAgain a warning: this is rough code - check yourself to get it secured!\r\n\r\nRunning the server and asking for a connection with `https://localhost:32333/` the server protocol shows:\r\n\r\n    Server started on port 32333\r\n    Accept new connection: /127.0.0.1:58640\r\n    Server received 375 bytes: GET / HTTP/1.1\r\n    Host: localhost:32333\r\n    User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:88.0) Gecko/20100101 Firefox/88.0\r\n    Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\r\n    Accept-Language: de,en-US;q=0.7,en;q=0.3\r\n    Accept-Encoding: gzip, deflate, br\r\n    Connection: keep-alive\r\n    Upgrade-Insecure-Requests: 1\r\n    Cache-Control: max-age=0\r\n    \r\n    \r\n    Accept new connection: /127.0.0.1:58642\r\n    Server received 331 bytes: GET /favicon.ico HTTP/1.1\r\n    Host: localhost:32333\r\n    User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:88.0) Gecko/20100101 Firefox/88.0\r\n    Accept: image/webp,*/*\r\n    Accept-Language: de,en-US;q=0.7,en;q=0.3\r\n    Accept-Encoding: gzip, deflate, br\r\n    Connection: keep-alive\r\n    Referer: https://localhost:32333/\r\n    Cache-Control: max-age=0\r\n\r\nMy browser (Firefox) shows this data:\r\n\r\n    GET / HTTP/1.1\r\n    Host: localhost:32333\r\n    User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:88.0) Gecko/20100101 Firefox/88.0\r\n    Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\r\n    Accept-Language: de,en-US;q=0.7,en;q=0.3\r\n    Accept-Encoding: gzip, deflate, br\r\n    Connection: keep-alive\r\n    Upgrade-Insecure-Requests: 1\r\n    Cache-Control: max-age=0\r\n\r\nWell, that should solve your problem. Happy weekend.","title":"TLS 1.3 server socket with Java 11 and self-signed certificates","body":"<p>I'm using a second answer as the code is too long for pasting it in the first answer.</p>\n<p>Yes, it is possible to run a TLS server using <strong>temporary</strong> trust- and keystores. I can't judge about any security issues this brings with it -so be care when using this code.</p>\n<p>To get your code run out of the box I'm using a RSA private key and self signed certificate - I stripped out the &quot;--- BEGIN ... END ---&quot; and left only the (Base64 encoded) part to get the key/certificate. Dont't worry, it is a <strong>sample key</strong>:</p>\n<pre><code>public static X509Certificate getcertificate() throws CertificateException {\n    String certificate = &quot;MIIDSzCCAjMCBFc5m4cwDQYJKoZIhvcNAQELBQAwajELMAkGA1UEBhMCVVMxCzAJ&quot; +\n            &quot;BgNVBAgMAkNBMRIwEAYDVQQHDAlDdXBlcnRpbm8xDjAMBgNVBAoMBUR1bW15MQ4w&quot; +\n            &quot;DAYDVQQLDAVEdW1teTEaMBgGA1UEAwwRZHVtbXkuZXhhbXBsZS5jb20wHhcNMTYw&quot; +\n            &quot;NTE2MTAwNjM4WhcNMjYwNTE2MTAwNjM4WjBqMQswCQYDVQQGEwJVUzELMAkGA1UE&quot; +\n            &quot;CAwCQ0ExEjAQBgNVBAcMCUN1cGVydGlubzEOMAwGA1UECgwFRHVtbXkxDjAMBgNV&quot; +\n            &quot;BAsMBUR1bW15MRowGAYDVQQDDBFkdW1teS5leGFtcGxlLmNvbTCCASIwDQYJKoZI&quot; +\n            &quot;hvcNAQEBBQADggEPADCCAQoCggEBAMkbQD5byG7xnyOWVzeIwbtHVPem/LJlXAHc&quot; +\n            &quot;WJwz8pZ75rGBnZmAtgunXU++yPTZZOgYTZpM+qQhrFy2Z1Di/vVzhlVpcOZBw1RB&quot; +\n            &quot;lI3s2uQYaWVtBtKtNELYWXEbhfxVJFBs5lLmsYJufVasMT+3XzBERuIEUV43JTKS&quot; +\n            &quot;5ttwkoVgYRX6KDrIj0hYA7ZmOB/y5E1BG2mLsSkX0SoTCpuhgYwlWO4kvYoGu9vH&quot; +\n            &quot;SfugUzQBqSiE1yN+Qfl3+76U23Pmbm/by9n3M3AoULxk2XnQmgBYtzViV0f1E3rr&quot; +\n            &quot;/77XvIydWLHB0kotpND+ZN4IvTwpr3v7Iy6wbofg+Ounvwf7MKMCAwEAATANBgkq&quot; +\n            &quot;hkiG9w0BAQsFAAOCAQEAWRWiibTf9UZAlXr+2ZmBMMMONpBOUaSbexLNs6MahBmj&quot; +\n            &quot;cdEwOQ+l5xAdV4xVEDoDhu0m1JeDXy6SXo7mYkM2l9u/uz7tRStuEiM+tbCDaclb&quot; +\n            &quot;W/H5QOdpiIx9uh86cEgBpk4xUO5vSaLI/9uSKgGkTNAFrjy3ME3wfc0cd5ntS8ca&quot; +\n            &quot;8xobcmQ59SYZb9Gi0u/YN9yro9RwGDL8O1Bmp9+9rn5hor/oOVGHlbz2MN43moSZ&quot; +\n            &quot;EiIfegW9OWiaWqIGqBOXvoEGp0exN+lhhmonI3zdYCB0jss2QYm3E1IWqZUkNOg3&quot; +\n            &quot;yulIxph3FYvF+cA/vTVlohq5VB3DsCrnkDmqbU2mlw==&quot;;\n    byte[] encodedCertificate = Base64.getDecoder().decode(certificate);\n    CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\n    return (X509Certificate) certificateFactory.generateCertificate(new ByteArrayInputStream(encodedCertificate));\n}\n\n// don't worry, it is a sample rsa private key\npublic static PrivateKey getPrivateKey() throws NoSuchAlgorithmException, InvalidKeySpecException {\n    String privateKeyPem = &quot;MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDJG0A+W8hu8Z8j&quot; +\n            &quot;llc3iMG7R1T3pvyyZVwB3FicM/KWe+axgZ2ZgLYLp11Pvsj02WToGE2aTPqkIaxc&quot; +\n            &quot;tmdQ4v71c4ZVaXDmQcNUQZSN7NrkGGllbQbSrTRC2FlxG4X8VSRQbOZS5rGCbn1W&quot; +\n            &quot;rDE/t18wREbiBFFeNyUykubbcJKFYGEV+ig6yI9IWAO2Zjgf8uRNQRtpi7EpF9Eq&quot; +\n            &quot;EwqboYGMJVjuJL2KBrvbx0n7oFM0AakohNcjfkH5d/u+lNtz5m5v28vZ9zNwKFC8&quot; +\n            &quot;ZNl50JoAWLc1YldH9RN66/++17yMnVixwdJKLaTQ/mTeCL08Ka97+yMusG6H4Pjr&quot; +\n            &quot;p78H+zCjAgMBAAECggEAMh7yEHiUiB39AQQPoZ4aVoANK5m5IgcD+sy9YtTJkXq4&quot; +\n            &quot;wKWirya2eEoShfTxJaDmtreT47BqySxBRmwJbM3eKDNOGAxq4GAke+PKT+LnnPB+&quot; +\n            &quot;mBInoKsdOsmr5PYsmvpnTgoODzxColTCNS8+KPidJyzlE6Bq3RXWVffpxGgWhFnT&quot; +\n            &quot;JM1MTpJJ/tKeZAUKOXbSU9T079gduPHTkrFeUnAt179ruSLov2Nbt8XhqDiY+pXm&quot; +\n            &quot;EjMb+Q8JlBJ1F82i43BR6w6fjdSReGUNs8NDbmjpMasuk2U1/t28Idnt3M07jDUP&quot; +\n            &quot;LGPrAeTZd/PLNpbflZMJoDT5SoCFycXNE3rHrsr8YQKBgQDveZzFcZctuYVd9iDd&quot; +\n            &quot;SNLS6a2MuSwLrEPtUXRC7QR8BO2OkEvqMD5tVv3+a0ZPQpNg+4KzaKdzbsTNifpY&quot; +\n            &quot;qjNzfydZ3CZzKlRVt/88icFxicWvI+fKiDdcGUt7agS4o9Ce+EkkqBySvVJB5Blz&quot; +\n            &quot;vKLNyMQsJb2y6jRTekl/iO2XIQKBgQDW+9j128OmtPBERMw0RKxS5KZEYIhvZ+kw&quot; +\n            &quot;lRe7D21o1d7MQx0zxKw58AWDW/epiVyno/FDuWmj2pQQ/oLpZl3ERg+hf3yUp48A&quot; +\n            &quot;MziyuI3+INni/+uMWR3RN6sp4IbebXb6itGAIOm7ljgYwFV9crpLd7GZz3wi3/iZ&quot; +\n            &quot;+zOVLl9DQwKBgQDXbYOGayUg0SAU4vG1n2loqyagzYO+DH4e44O/IRFDr/s0oMJq&quot; +\n            &quot;LnQ6UGO1mDNr4exK9nchhif9Q8xvSoyXbqVSZTS1NcKxH4c2hYtqnlITHWlkoNxH&quot; +\n            &quot;6jpC885fe4Q7xcJK//hsrX7m0sFI3TW4VB3xGYbAYENCzEW+QugTfs6dgQKBgQCi&quot; +\n            &quot;nB5QYOkNWID/8lXPFz6M+Jv2zlmEgsF0WOF5QUMNb++06vLUrGdk73MMF+0tlFO8&quot; +\n            &quot;DZo5Eq6gHH2wmQImTqKQCjpaepadzluw2A2DyWrFlM2aEN926hVOod/arhT1ezDq&quot; +\n            &quot;c0PhuYNxuz81IY3IdJYK7T8tyy3nJyfgOIycw1WVBwKBgQDQ+iZpSMp1wIqnIeNb&quot; +\n            &quot;zdlaVYXBu7d0tBlG/JGnPRlNVJkVpKd4woWtMwkqMGuAmmSkdjzhFYca9SWgzV1R&quot; +\n            &quot;gzQzf1GuClF8KO7drdyvKGNqDFhyuCgE9mXI34ovjNcva9u+aZGHxuEYlCTKA0cV&quot; +\n            &quot;UT/0leMkegvP/kFKOvzfYRBNFg==&quot;;\n    byte[] encodedPrivateKey = Base64.getDecoder().decode(privateKeyPem);\n    KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n    PKCS8EncodedKeySpec pkcs8EncodedKeySpec = new PKCS8EncodedKeySpec(encodedPrivateKey);\n    return (PrivateKey) keyFactory.generatePrivate(pkcs8EncodedKeySpec);\n}\n</code></pre>\n<p>Now the code - paste it between &quot;//System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);&quot; and &quot;SSLServerSocket serverSocket = (SSLServerSocket) ctx.getServerSocketFactory().createServerSocket(PORT);&quot; and delete a code lines between. Paste in this code lines:</p>\n<pre><code>    //Create a temp truststore with the server certificate\n    KeyStore ksTemp = KeyStore.getInstance(&quot;JKS&quot;);\n    ksTemp.load(null, null); //Initialize it\n    ksTemp.setCertificateEntry(&quot;Alias&quot;, getcertificate());\n    ByteArrayOutputStream bOut = new ByteArrayOutputStream();\n    // save the temp keystore\n    ksTemp.store(bOut, &quot;passphrase&quot;.toCharArray());\n    //Now create the keystore to be used by jsse\n    KeyStore keyStoreTs = KeyStore.getInstance(&quot;JKS&quot;);\n    keyStoreTs.load(new ByteArrayInputStream(bOut.toByteArray()), &quot;passphrase&quot;.toCharArray());\n\n    // now lets do the same with the keystore\n    KeyStore ksTemp2 = KeyStore.getInstance(&quot;JKS&quot;);\n    ksTemp2.load(null, null); //Initialize it\n    ksTemp2.setCertificateEntry(&quot;Alias&quot;, getcertificate());\n    ByteArrayOutputStream bOut2 = new ByteArrayOutputStream();\n    // save the temp keystore\n    ksTemp2.store(bOut2, &quot;passphrase&quot;.toCharArray());\n    //Now create the keystore to be used by jsse\n    KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\n    keyStore.load(new ByteArrayInputStream(bOut2.toByteArray()), &quot;passphrase&quot;.toCharArray());\n    X509Certificate[] chain = new X509Certificate[1];\n    chain[0] = getcertificate();\n    keyStore.setKeyEntry(&quot;privateCert&quot;, getPrivateKey(), &quot;passphrase&quot;.toCharArray(), chain);\n\n    TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n    tmf.init(keyStoreTs);\n\n    KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n    kmf.init(keyStore, &quot;passphrase&quot;.toCharArray());\n\n    // create SSLContext to establish the secure connection\n    SSLContext ctx = SSLContext.getInstance(TLS_PROTOCOL);\n    ctx.init(kmf.getKeyManagers(), tmf.getTrustManagers(), null);\n</code></pre>\n<p>Again a warning: this is rough code - check yourself to get it secured!</p>\n<p>Running the server and asking for a connection with <code>https://localhost:32333/</code> the server protocol shows:</p>\n<pre><code>Server started on port 32333\nAccept new connection: /127.0.0.1:58640\nServer received 375 bytes: GET / HTTP/1.1\nHost: localhost:32333\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:88.0) Gecko/20100101 Firefox/88.0\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\nAccept-Language: de,en-US;q=0.7,en;q=0.3\nAccept-Encoding: gzip, deflate, br\nConnection: keep-alive\nUpgrade-Insecure-Requests: 1\nCache-Control: max-age=0\n\n\nAccept new connection: /127.0.0.1:58642\nServer received 331 bytes: GET /favicon.ico HTTP/1.1\nHost: localhost:32333\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:88.0) Gecko/20100101 Firefox/88.0\nAccept: image/webp,*/*\nAccept-Language: de,en-US;q=0.7,en;q=0.3\nAccept-Encoding: gzip, deflate, br\nConnection: keep-alive\nReferer: https://localhost:32333/\nCache-Control: max-age=0\n</code></pre>\n<p>My browser (Firefox) shows this data:</p>\n<pre><code>GET / HTTP/1.1\nHost: localhost:32333\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:88.0) Gecko/20100101 Firefox/88.0\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\nAccept-Language: de,en-US;q=0.7,en;q=0.3\nAccept-Encoding: gzip, deflate, br\nConnection: keep-alive\nUpgrade-Insecure-Requests: 1\nCache-Control: max-age=0\n</code></pre>\n<p>Well, that should solve your problem. Happy weekend.</p>\n"},{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1622215078,"creation_date":1622214234,"answer_id":67741290,"question_id":67720003,"body_markdown":"Meta: I can&#39;t believe this isn&#39;t a dupe, but I can&#39;t find one.\r\n\r\nSSL/TLS authentication uses [public-key or asymmetric cryptography](https://en.wikipedia.org/wiki/Public-key_cryptography) not secret-key or symmetric. Instead of this\r\n\r\n        Key pk = new SecretKeySpec(TEST_KEY.getBytes(StandardCharsets.ISO_8859_1), &quot;RSA&quot;);\r\n        ks.setKeyEntry(&quot;test_key&quot;, pk, password, new Certificate[]\r\n        {\r\n            cert\r\n        });\r\n\r\ndo this\r\n\r\n        byte[] der = Base64.getDecoder().decode(TEST_KEY.replaceAll(&quot;-----(BEGIN|END) PRIVATE KEY-----\\r?\\n&quot;,&quot;&quot;).replaceAll(&quot;\\r?\\n&quot;,&quot;&quot;));\r\n        // or make these changes already in the value coded as Michael Fehr did\r\n        // or leave the internal breaks and use .getMimeDecoder() (but remove the BEGIN/END lines)\r\n        PrivateKey pk = KeyFactory.getInstance(&quot;RSA&quot;) .generatePrivate(new PKCS8EncodedKeySpec(der));\r\n        ks.setKeyEntry(&quot;test_key&quot;, pk, password, new Certificate[]{cert} );\r\n\r\nand then use that for `KeyManagerFactory.init` as you do now. You don&#39;t need to put the server&#39;s own cert in its TrustManager, you can just use `null` as the first argument to `SSLContext.init`, especially since you aren&#39;t asking for client auth. However, the _client(s) which connect to_ your server _do_ need this cert added to _their_ truststores; for curl you can just use `--cacert $pemfile` on the command line, but other clients will be different and may be more complicated. \r\n\r\nPS: the key and cert, and KeyManager and TrustManager if any, can be the same for 1.3 as for earlier protocols, except that DSA can no longer be used in 1.3; only the version and ciphersuites differ. However, [in 1.3 you have the _option_ of using a cert restricted to RSA-PSS](https://datatracker.ietf.org/doc/html/rfc8446#section-4.2.3) instead of plain RSA, and when creating from OpenSSL the keyfile also indicates this (although the key needn&#39;t be actually restricted).","title":"TLS 1.3 server socket with Java 11 and self-signed certificates","body":"<p>Meta: I can't believe this isn't a dupe, but I can't find one.</p>\n<p>SSL/TLS authentication uses <a href=\"https://en.wikipedia.org/wiki/Public-key_cryptography\" rel=\"nofollow noreferrer\">public-key or asymmetric cryptography</a> not secret-key or symmetric. Instead of this</p>\n<pre><code>    Key pk = new SecretKeySpec(TEST_KEY.getBytes(StandardCharsets.ISO_8859_1), &quot;RSA&quot;);\n    ks.setKeyEntry(&quot;test_key&quot;, pk, password, new Certificate[]\n    {\n        cert\n    });\n</code></pre>\n<p>do this</p>\n<pre><code>    byte[] der = Base64.getDecoder().decode(TEST_KEY.replaceAll(&quot;-----(BEGIN|END) PRIVATE KEY-----\\r?\\n&quot;,&quot;&quot;).replaceAll(&quot;\\r?\\n&quot;,&quot;&quot;));\n    // or make these changes already in the value coded as Michael Fehr did\n    // or leave the internal breaks and use .getMimeDecoder() (but remove the BEGIN/END lines)\n    PrivateKey pk = KeyFactory.getInstance(&quot;RSA&quot;) .generatePrivate(new PKCS8EncodedKeySpec(der));\n    ks.setKeyEntry(&quot;test_key&quot;, pk, password, new Certificate[]{cert} );\n</code></pre>\n<p>and then use that for <code>KeyManagerFactory.init</code> as you do now. You don't need to put the server's own cert in its TrustManager, you can just use <code>null</code> as the first argument to <code>SSLContext.init</code>, especially since you aren't asking for client auth. However, the <em>client(s) which connect to</em> your server <em>do</em> need this cert added to <em>their</em> truststores; for curl you can just use <code>--cacert $pemfile</code> on the command line, but other clients will be different and may be more complicated.</p>\n<p>PS: the key and cert, and KeyManager and TrustManager if any, can be the same for 1.3 as for earlier protocols, except that DSA can no longer be used in 1.3; only the version and ciphersuites differ. However, <a href=\"https://datatracker.ietf.org/doc/html/rfc8446#section-4.2.3\" rel=\"nofollow noreferrer\">in 1.3 you have the <em>option</em> of using a cert restricted to RSA-PSS</a> instead of plain RSA, and when creating from OpenSSL the keyfile also indicates this (although the key needn't be actually restricted).</p>\n"},{"tags":[],"owner":{"account_id":25391961,"reputation":1,"user_id":19208156,"display_name":"C-s-d-m"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653582062,"creation_date":1653582062,"answer_id":72394974,"question_id":67720003,"body_markdown":"For completeness, to add to @Michael Fehr answer, below is the working client side portion to go with it.\r\n\r\n*However, if anyone can list out the keytool or openssl steps to recreate a chained certificate like the one used, please respond to my post*, thanks and enjoy! \r\nThis is my first post appreciate any reps.\r\n\r\nIn TlsClient.java put this:\r\n\r\n    import java.io.BufferedInputStream;\r\n    import java.io.BufferedOutputStream;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.security.KeyFactory;\r\n    import java.security.KeyStore;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.PrivateKey;\r\n    import java.security.cert.CertificateException;\r\n    import java.security.cert.CertificateFactory;\r\n    import java.security.cert.X509Certificate;\r\n    import java.security.spec.InvalidKeySpecException;\r\n    import java.security.spec.PKCS8EncodedKeySpec;\r\n    import java.util.Base64;\r\n    \r\n    import javax.net.ssl.KeyManagerFactory;\r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.SSLSocket;\r\n    import javax.net.ssl.TrustManagerFactory;\r\n\r\n    public class TlsClient {\r\n\r\n    private static final String[] CIPHER_SUITES = new String[] {\r\n            &quot;TLS_AES_128_GCM_SHA256&quot;,\r\n            &quot;TLS_AES_256_GCM_SHA384&quot;\r\n    };\r\n    private static final int PORT = 32333;\r\n    private static final String TLS_PROTOCOL = &quot;TLSv1.3&quot;;\r\n\r\n    public static X509Certificate getcertificate() throws CertificateException {\r\n        String certificate = &quot;MIIDSzCCAjMCBFc5m4cwDQYJKoZIhvcNAQELBQAwajELMAkGA1UEBhMCVVMxCzAJ&quot; +\r\n                &quot;BgNVBAgMAkNBMRIwEAYDVQQHDAlDdXBlcnRpbm8xDjAMBgNVBAoMBUR1bW15MQ4w&quot; +\r\n                &quot;DAYDVQQLDAVEdW1teTEaMBgGA1UEAwwRZHVtbXkuZXhhbXBsZS5jb20wHhcNMTYw&quot; +\r\n                &quot;NTE2MTAwNjM4WhcNMjYwNTE2MTAwNjM4WjBqMQswCQYDVQQGEwJVUzELMAkGA1UE&quot; +\r\n                &quot;CAwCQ0ExEjAQBgNVBAcMCUN1cGVydGlubzEOMAwGA1UECgwFRHVtbXkxDjAMBgNV&quot; +\r\n                &quot;BAsMBUR1bW15MRowGAYDVQQDDBFkdW1teS5leGFtcGxlLmNvbTCCASIwDQYJKoZI&quot; +\r\n                &quot;hvcNAQEBBQADggEPADCCAQoCggEBAMkbQD5byG7xnyOWVzeIwbtHVPem/LJlXAHc&quot; +\r\n                &quot;WJwz8pZ75rGBnZmAtgunXU++yPTZZOgYTZpM+qQhrFy2Z1Di/vVzhlVpcOZBw1RB&quot; +\r\n                &quot;lI3s2uQYaWVtBtKtNELYWXEbhfxVJFBs5lLmsYJufVasMT+3XzBERuIEUV43JTKS&quot; +\r\n                &quot;5ttwkoVgYRX6KDrIj0hYA7ZmOB/y5E1BG2mLsSkX0SoTCpuhgYwlWO4kvYoGu9vH&quot; +\r\n                &quot;SfugUzQBqSiE1yN+Qfl3+76U23Pmbm/by9n3M3AoULxk2XnQmgBYtzViV0f1E3rr&quot; +\r\n                &quot;/77XvIydWLHB0kotpND+ZN4IvTwpr3v7Iy6wbofg+Ounvwf7MKMCAwEAATANBgkq&quot; +\r\n                &quot;hkiG9w0BAQsFAAOCAQEAWRWiibTf9UZAlXr+2ZmBMMMONpBOUaSbexLNs6MahBmj&quot; +\r\n                &quot;cdEwOQ+l5xAdV4xVEDoDhu0m1JeDXy6SXo7mYkM2l9u/uz7tRStuEiM+tbCDaclb&quot; +\r\n                &quot;W/H5QOdpiIx9uh86cEgBpk4xUO5vSaLI/9uSKgGkTNAFrjy3ME3wfc0cd5ntS8ca&quot; +\r\n                &quot;8xobcmQ59SYZb9Gi0u/YN9yro9RwGDL8O1Bmp9+9rn5hor/oOVGHlbz2MN43moSZ&quot; +\r\n                &quot;EiIfegW9OWiaWqIGqBOXvoEGp0exN+lhhmonI3zdYCB0jss2QYm3E1IWqZUkNOg3&quot; +\r\n                &quot;yulIxph3FYvF+cA/vTVlohq5VB3DsCrnkDmqbU2mlw==&quot;;\r\n        byte[] encodedCertificate = Base64.getDecoder().decode(certificate);\r\n        CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n        return (X509Certificate) certificateFactory.generateCertificate(new ByteArrayInputStream(encodedCertificate));\r\n    }\r\n\r\n    public static PrivateKey getPrivateKey() throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n        String privateKeyPem = &quot;MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDJG0A+W8hu8Z8j&quot; +\r\n                &quot;llc3iMG7R1T3pvyyZVwB3FicM/KWe+axgZ2ZgLYLp11Pvsj02WToGE2aTPqkIaxc&quot; +\r\n                &quot;tmdQ4v71c4ZVaXDmQcNUQZSN7NrkGGllbQbSrTRC2FlxG4X8VSRQbOZS5rGCbn1W&quot; +\r\n                &quot;rDE/t18wREbiBFFeNyUykubbcJKFYGEV+ig6yI9IWAO2Zjgf8uRNQRtpi7EpF9Eq&quot; +\r\n                &quot;EwqboYGMJVjuJL2KBrvbx0n7oFM0AakohNcjfkH5d/u+lNtz5m5v28vZ9zNwKFC8&quot; +\r\n                &quot;ZNl50JoAWLc1YldH9RN66/++17yMnVixwdJKLaTQ/mTeCL08Ka97+yMusG6H4Pjr&quot; +\r\n                &quot;p78H+zCjAgMBAAECggEAMh7yEHiUiB39AQQPoZ4aVoANK5m5IgcD+sy9YtTJkXq4&quot; +\r\n                &quot;wKWirya2eEoShfTxJaDmtreT47BqySxBRmwJbM3eKDNOGAxq4GAke+PKT+LnnPB+&quot; +\r\n                &quot;mBInoKsdOsmr5PYsmvpnTgoODzxColTCNS8+KPidJyzlE6Bq3RXWVffpxGgWhFnT&quot; +\r\n                &quot;JM1MTpJJ/tKeZAUKOXbSU9T079gduPHTkrFeUnAt179ruSLov2Nbt8XhqDiY+pXm&quot; +\r\n                &quot;EjMb+Q8JlBJ1F82i43BR6w6fjdSReGUNs8NDbmjpMasuk2U1/t28Idnt3M07jDUP&quot; +\r\n                &quot;LGPrAeTZd/PLNpbflZMJoDT5SoCFycXNE3rHrsr8YQKBgQDveZzFcZctuYVd9iDd&quot; +\r\n                &quot;SNLS6a2MuSwLrEPtUXRC7QR8BO2OkEvqMD5tVv3+a0ZPQpNg+4KzaKdzbsTNifpY&quot; +\r\n                &quot;qjNzfydZ3CZzKlRVt/88icFxicWvI+fKiDdcGUt7agS4o9Ce+EkkqBySvVJB5Blz&quot; +\r\n                &quot;vKLNyMQsJb2y6jRTekl/iO2XIQKBgQDW+9j128OmtPBERMw0RKxS5KZEYIhvZ+kw&quot; +\r\n                &quot;lRe7D21o1d7MQx0zxKw58AWDW/epiVyno/FDuWmj2pQQ/oLpZl3ERg+hf3yUp48A&quot; +\r\n                &quot;MziyuI3+INni/+uMWR3RN6sp4IbebXb6itGAIOm7ljgYwFV9crpLd7GZz3wi3/iZ&quot; +\r\n                &quot;+zOVLl9DQwKBgQDXbYOGayUg0SAU4vG1n2loqyagzYO+DH4e44O/IRFDr/s0oMJq&quot; +\r\n                &quot;LnQ6UGO1mDNr4exK9nchhif9Q8xvSoyXbqVSZTS1NcKxH4c2hYtqnlITHWlkoNxH&quot; +\r\n                &quot;6jpC885fe4Q7xcJK//hsrX7m0sFI3TW4VB3xGYbAYENCzEW+QugTfs6dgQKBgQCi&quot; +\r\n                &quot;nB5QYOkNWID/8lXPFz6M+Jv2zlmEgsF0WOF5QUMNb++06vLUrGdk73MMF+0tlFO8&quot; +\r\n                &quot;DZo5Eq6gHH2wmQImTqKQCjpaepadzluw2A2DyWrFlM2aEN926hVOod/arhT1ezDq&quot; +\r\n                &quot;c0PhuYNxuz81IY3IdJYK7T8tyy3nJyfgOIycw1WVBwKBgQDQ+iZpSMp1wIqnIeNb&quot; +\r\n                &quot;zdlaVYXBu7d0tBlG/JGnPRlNVJkVpKd4woWtMwkqMGuAmmSkdjzhFYca9SWgzV1R&quot; +\r\n                &quot;gzQzf1GuClF8KO7drdyvKGNqDFhyuCgE9mXI34ovjNcva9u+aZGHxuEYlCTKA0cV&quot; +\r\n                &quot;UT/0leMkegvP/kFKOvzfYRBNFg==&quot;;\r\n        byte[] encodedPrivateKey = Base64.getDecoder().decode(privateKeyPem);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        PKCS8EncodedKeySpec pkcs8EncodedKeySpec = new PKCS8EncodedKeySpec(encodedPrivateKey);\r\n        return (PrivateKey) keyFactory.generatePrivate(pkcs8EncodedKeySpec);\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        new TlsClient().start();\r\n    }\r\n\r\n    private void start() throws Exception {\r\n        System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\r\n\r\n        // String ksPw = &quot;canEdit&quot;;\r\n\r\n        // Create a temp truststore with the server certificate\r\n        KeyStore ksTemp = KeyStore.getInstance(&quot;JKS&quot;);\r\n        ksTemp.load(null, null); // Initialize it\r\n        ksTemp.setCertificateEntry(&quot;Alias&quot;, getcertificate());\r\n        ByteArrayOutputStream bOut = new ByteArrayOutputStream();\r\n        // save the temp keystore\r\n        ksTemp.store(bOut, &quot;passphrase&quot;.toCharArray());\r\n        // Now create the keystore to be used by jsse\r\n        KeyStore keyStoreTs = KeyStore.getInstance(&quot;JKS&quot;);\r\n        keyStoreTs.load(new ByteArrayInputStream(bOut.toByteArray()), &quot;passphrase&quot;.toCharArray());\r\n\r\n        // now lets do the same with the keystore\r\n        KeyStore ksTemp2 = KeyStore.getInstance(&quot;JKS&quot;);\r\n        ksTemp2.load(null, null); // Initialize it\r\n        ksTemp2.setCertificateEntry(&quot;Alias&quot;, getcertificate());\r\n        ByteArrayOutputStream bOut2 = new ByteArrayOutputStream();\r\n        // save the temp keystore\r\n        ksTemp2.store(bOut2, &quot;passphrase&quot;.toCharArray());\r\n        // Now create the keystore to be used by jsse\r\n        KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n        keyStore.load(new ByteArrayInputStream(bOut2.toByteArray()), &quot;passphrase&quot;.toCharArray());\r\n        X509Certificate[] chain = new X509Certificate[1];\r\n        chain[0] = getcertificate();\r\n        keyStore.setKeyEntry(&quot;privateCert&quot;, getPrivateKey(), &quot;passphrase&quot;.toCharArray(), chain);\r\n\r\n        TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n        tmf.init(keyStoreTs);\r\n\r\n        KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n        kmf.init(keyStore, &quot;passphrase&quot;.toCharArray());\r\n\r\n        // create SSLContext to establish the secure connection\r\n        SSLContext ctx = SSLContext.getInstance(TLS_PROTOCOL);\r\n        ctx.init(kmf.getKeyManagers(), tmf.getTrustManagers(), null);\r\n\r\n        // Socket connection.\r\n        SSLSocket socket = (SSLSocket) ctx.getSocketFactory().createSocket(&quot;localhost&quot;, PORT);\r\n        socket.setEnabledCipherSuites(CIPHER_SUITES);\r\n        socket.setEnabledProtocols(new String[] {\r\n                TLS_PROTOCOL });\r\n\r\n        System.out.println(&quot;Connected: &quot; + socket.isConnected());\r\n        Thread.sleep(1000);\r\n        InputStream is = new BufferedInputStream(socket.getInputStream());\r\n        OutputStream os = new BufferedOutputStream(socket.getOutputStream());\r\n        os.write(&quot;Hello World&quot;.getBytes());\r\n        os.flush();\r\n        byte[] data = new byte[2048];\r\n        int len = is.read(data);\r\n        if (len &lt;= 0) {\r\n            throw new IOException(&quot;No data received.&quot;);\r\n        }\r\n            System.out.printf(&quot;Client received %d bytes: %s%n&quot;, len, new String(data, 0, len));\r\n        }\r\n    }\r\n\r\n","title":"TLS 1.3 server socket with Java 11 and self-signed certificates","body":"<p>For completeness, to add to @Michael Fehr answer, below is the working client side portion to go with it.</p>\n<p><em>However, if anyone can list out the keytool or openssl steps to recreate a chained certificate like the one used, please respond to my post</em>, thanks and enjoy!\nThis is my first post appreciate any reps.</p>\n<p>In TlsClient.java put this:</p>\n<pre><code>import java.io.BufferedInputStream;\nimport java.io.BufferedOutputStream;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.security.KeyFactory;\nimport java.security.KeyStore;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.PrivateKey;\nimport java.security.cert.CertificateException;\nimport java.security.cert.CertificateFactory;\nimport java.security.cert.X509Certificate;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.PKCS8EncodedKeySpec;\nimport java.util.Base64;\n\nimport javax.net.ssl.KeyManagerFactory;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLSocket;\nimport javax.net.ssl.TrustManagerFactory;\n\npublic class TlsClient {\n\nprivate static final String[] CIPHER_SUITES = new String[] {\n        &quot;TLS_AES_128_GCM_SHA256&quot;,\n        &quot;TLS_AES_256_GCM_SHA384&quot;\n};\nprivate static final int PORT = 32333;\nprivate static final String TLS_PROTOCOL = &quot;TLSv1.3&quot;;\n\npublic static X509Certificate getcertificate() throws CertificateException {\n    String certificate = &quot;MIIDSzCCAjMCBFc5m4cwDQYJKoZIhvcNAQELBQAwajELMAkGA1UEBhMCVVMxCzAJ&quot; +\n            &quot;BgNVBAgMAkNBMRIwEAYDVQQHDAlDdXBlcnRpbm8xDjAMBgNVBAoMBUR1bW15MQ4w&quot; +\n            &quot;DAYDVQQLDAVEdW1teTEaMBgGA1UEAwwRZHVtbXkuZXhhbXBsZS5jb20wHhcNMTYw&quot; +\n            &quot;NTE2MTAwNjM4WhcNMjYwNTE2MTAwNjM4WjBqMQswCQYDVQQGEwJVUzELMAkGA1UE&quot; +\n            &quot;CAwCQ0ExEjAQBgNVBAcMCUN1cGVydGlubzEOMAwGA1UECgwFRHVtbXkxDjAMBgNV&quot; +\n            &quot;BAsMBUR1bW15MRowGAYDVQQDDBFkdW1teS5leGFtcGxlLmNvbTCCASIwDQYJKoZI&quot; +\n            &quot;hvcNAQEBBQADggEPADCCAQoCggEBAMkbQD5byG7xnyOWVzeIwbtHVPem/LJlXAHc&quot; +\n            &quot;WJwz8pZ75rGBnZmAtgunXU++yPTZZOgYTZpM+qQhrFy2Z1Di/vVzhlVpcOZBw1RB&quot; +\n            &quot;lI3s2uQYaWVtBtKtNELYWXEbhfxVJFBs5lLmsYJufVasMT+3XzBERuIEUV43JTKS&quot; +\n            &quot;5ttwkoVgYRX6KDrIj0hYA7ZmOB/y5E1BG2mLsSkX0SoTCpuhgYwlWO4kvYoGu9vH&quot; +\n            &quot;SfugUzQBqSiE1yN+Qfl3+76U23Pmbm/by9n3M3AoULxk2XnQmgBYtzViV0f1E3rr&quot; +\n            &quot;/77XvIydWLHB0kotpND+ZN4IvTwpr3v7Iy6wbofg+Ounvwf7MKMCAwEAATANBgkq&quot; +\n            &quot;hkiG9w0BAQsFAAOCAQEAWRWiibTf9UZAlXr+2ZmBMMMONpBOUaSbexLNs6MahBmj&quot; +\n            &quot;cdEwOQ+l5xAdV4xVEDoDhu0m1JeDXy6SXo7mYkM2l9u/uz7tRStuEiM+tbCDaclb&quot; +\n            &quot;W/H5QOdpiIx9uh86cEgBpk4xUO5vSaLI/9uSKgGkTNAFrjy3ME3wfc0cd5ntS8ca&quot; +\n            &quot;8xobcmQ59SYZb9Gi0u/YN9yro9RwGDL8O1Bmp9+9rn5hor/oOVGHlbz2MN43moSZ&quot; +\n            &quot;EiIfegW9OWiaWqIGqBOXvoEGp0exN+lhhmonI3zdYCB0jss2QYm3E1IWqZUkNOg3&quot; +\n            &quot;yulIxph3FYvF+cA/vTVlohq5VB3DsCrnkDmqbU2mlw==&quot;;\n    byte[] encodedCertificate = Base64.getDecoder().decode(certificate);\n    CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\n    return (X509Certificate) certificateFactory.generateCertificate(new ByteArrayInputStream(encodedCertificate));\n}\n\npublic static PrivateKey getPrivateKey() throws NoSuchAlgorithmException, InvalidKeySpecException {\n    String privateKeyPem = &quot;MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDJG0A+W8hu8Z8j&quot; +\n            &quot;llc3iMG7R1T3pvyyZVwB3FicM/KWe+axgZ2ZgLYLp11Pvsj02WToGE2aTPqkIaxc&quot; +\n            &quot;tmdQ4v71c4ZVaXDmQcNUQZSN7NrkGGllbQbSrTRC2FlxG4X8VSRQbOZS5rGCbn1W&quot; +\n            &quot;rDE/t18wREbiBFFeNyUykubbcJKFYGEV+ig6yI9IWAO2Zjgf8uRNQRtpi7EpF9Eq&quot; +\n            &quot;EwqboYGMJVjuJL2KBrvbx0n7oFM0AakohNcjfkH5d/u+lNtz5m5v28vZ9zNwKFC8&quot; +\n            &quot;ZNl50JoAWLc1YldH9RN66/++17yMnVixwdJKLaTQ/mTeCL08Ka97+yMusG6H4Pjr&quot; +\n            &quot;p78H+zCjAgMBAAECggEAMh7yEHiUiB39AQQPoZ4aVoANK5m5IgcD+sy9YtTJkXq4&quot; +\n            &quot;wKWirya2eEoShfTxJaDmtreT47BqySxBRmwJbM3eKDNOGAxq4GAke+PKT+LnnPB+&quot; +\n            &quot;mBInoKsdOsmr5PYsmvpnTgoODzxColTCNS8+KPidJyzlE6Bq3RXWVffpxGgWhFnT&quot; +\n            &quot;JM1MTpJJ/tKeZAUKOXbSU9T079gduPHTkrFeUnAt179ruSLov2Nbt8XhqDiY+pXm&quot; +\n            &quot;EjMb+Q8JlBJ1F82i43BR6w6fjdSReGUNs8NDbmjpMasuk2U1/t28Idnt3M07jDUP&quot; +\n            &quot;LGPrAeTZd/PLNpbflZMJoDT5SoCFycXNE3rHrsr8YQKBgQDveZzFcZctuYVd9iDd&quot; +\n            &quot;SNLS6a2MuSwLrEPtUXRC7QR8BO2OkEvqMD5tVv3+a0ZPQpNg+4KzaKdzbsTNifpY&quot; +\n            &quot;qjNzfydZ3CZzKlRVt/88icFxicWvI+fKiDdcGUt7agS4o9Ce+EkkqBySvVJB5Blz&quot; +\n            &quot;vKLNyMQsJb2y6jRTekl/iO2XIQKBgQDW+9j128OmtPBERMw0RKxS5KZEYIhvZ+kw&quot; +\n            &quot;lRe7D21o1d7MQx0zxKw58AWDW/epiVyno/FDuWmj2pQQ/oLpZl3ERg+hf3yUp48A&quot; +\n            &quot;MziyuI3+INni/+uMWR3RN6sp4IbebXb6itGAIOm7ljgYwFV9crpLd7GZz3wi3/iZ&quot; +\n            &quot;+zOVLl9DQwKBgQDXbYOGayUg0SAU4vG1n2loqyagzYO+DH4e44O/IRFDr/s0oMJq&quot; +\n            &quot;LnQ6UGO1mDNr4exK9nchhif9Q8xvSoyXbqVSZTS1NcKxH4c2hYtqnlITHWlkoNxH&quot; +\n            &quot;6jpC885fe4Q7xcJK//hsrX7m0sFI3TW4VB3xGYbAYENCzEW+QugTfs6dgQKBgQCi&quot; +\n            &quot;nB5QYOkNWID/8lXPFz6M+Jv2zlmEgsF0WOF5QUMNb++06vLUrGdk73MMF+0tlFO8&quot; +\n            &quot;DZo5Eq6gHH2wmQImTqKQCjpaepadzluw2A2DyWrFlM2aEN926hVOod/arhT1ezDq&quot; +\n            &quot;c0PhuYNxuz81IY3IdJYK7T8tyy3nJyfgOIycw1WVBwKBgQDQ+iZpSMp1wIqnIeNb&quot; +\n            &quot;zdlaVYXBu7d0tBlG/JGnPRlNVJkVpKd4woWtMwkqMGuAmmSkdjzhFYca9SWgzV1R&quot; +\n            &quot;gzQzf1GuClF8KO7drdyvKGNqDFhyuCgE9mXI34ovjNcva9u+aZGHxuEYlCTKA0cV&quot; +\n            &quot;UT/0leMkegvP/kFKOvzfYRBNFg==&quot;;\n    byte[] encodedPrivateKey = Base64.getDecoder().decode(privateKeyPem);\n    KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n    PKCS8EncodedKeySpec pkcs8EncodedKeySpec = new PKCS8EncodedKeySpec(encodedPrivateKey);\n    return (PrivateKey) keyFactory.generatePrivate(pkcs8EncodedKeySpec);\n}\n\npublic static void main(String[] args) throws Exception {\n    new TlsClient().start();\n}\n\nprivate void start() throws Exception {\n    System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\n\n    // String ksPw = &quot;canEdit&quot;;\n\n    // Create a temp truststore with the server certificate\n    KeyStore ksTemp = KeyStore.getInstance(&quot;JKS&quot;);\n    ksTemp.load(null, null); // Initialize it\n    ksTemp.setCertificateEntry(&quot;Alias&quot;, getcertificate());\n    ByteArrayOutputStream bOut = new ByteArrayOutputStream();\n    // save the temp keystore\n    ksTemp.store(bOut, &quot;passphrase&quot;.toCharArray());\n    // Now create the keystore to be used by jsse\n    KeyStore keyStoreTs = KeyStore.getInstance(&quot;JKS&quot;);\n    keyStoreTs.load(new ByteArrayInputStream(bOut.toByteArray()), &quot;passphrase&quot;.toCharArray());\n\n    // now lets do the same with the keystore\n    KeyStore ksTemp2 = KeyStore.getInstance(&quot;JKS&quot;);\n    ksTemp2.load(null, null); // Initialize it\n    ksTemp2.setCertificateEntry(&quot;Alias&quot;, getcertificate());\n    ByteArrayOutputStream bOut2 = new ByteArrayOutputStream();\n    // save the temp keystore\n    ksTemp2.store(bOut2, &quot;passphrase&quot;.toCharArray());\n    // Now create the keystore to be used by jsse\n    KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\n    keyStore.load(new ByteArrayInputStream(bOut2.toByteArray()), &quot;passphrase&quot;.toCharArray());\n    X509Certificate[] chain = new X509Certificate[1];\n    chain[0] = getcertificate();\n    keyStore.setKeyEntry(&quot;privateCert&quot;, getPrivateKey(), &quot;passphrase&quot;.toCharArray(), chain);\n\n    TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n    tmf.init(keyStoreTs);\n\n    KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n    kmf.init(keyStore, &quot;passphrase&quot;.toCharArray());\n\n    // create SSLContext to establish the secure connection\n    SSLContext ctx = SSLContext.getInstance(TLS_PROTOCOL);\n    ctx.init(kmf.getKeyManagers(), tmf.getTrustManagers(), null);\n\n    // Socket connection.\n    SSLSocket socket = (SSLSocket) ctx.getSocketFactory().createSocket(&quot;localhost&quot;, PORT);\n    socket.setEnabledCipherSuites(CIPHER_SUITES);\n    socket.setEnabledProtocols(new String[] {\n            TLS_PROTOCOL });\n\n    System.out.println(&quot;Connected: &quot; + socket.isConnected());\n    Thread.sleep(1000);\n    InputStream is = new BufferedInputStream(socket.getInputStream());\n    OutputStream os = new BufferedOutputStream(socket.getOutputStream());\n    os.write(&quot;Hello World&quot;.getBytes());\n    os.flush();\n    byte[] data = new byte[2048];\n    int len = is.read(data);\n    if (len &lt;= 0) {\n        throw new IOException(&quot;No data received.&quot;);\n    }\n        System.out.printf(&quot;Client received %d bytes: %s%n&quot;, len, new String(data, 0, len));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7598837,"reputation":673,"user_id":5764152,"display_name":"simdevmon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4285,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67741290,"answer_count":4,"score":1,"last_activity_date":1653582062,"creation_date":1622110193,"question_id":67720003,"body_markdown":"I want to create a simple TLS 1.3 server socket listener, which uses a self-signed certificate. \r\n\r\nFirst I created a RSA public / private key pair:\r\n\r\n    openssl req -x509 -newkey rsa:2048 -sha256 -days 9125 -nodes -keyout test.key -out test.crt\r\n\r\nI added the public and private key as a string in a simple Java program\r\n\r\n\tpublic class TlsServer\r\n\t{\r\n\r\n\t\tprivate static final String TEST_CRT = &quot;-----BEGIN CERTIFICATE-----\\n&quot;\r\n\t\t\t// ...\r\n\t\t\t+ &quot;-----END CERTIFICATE-----&quot;;\r\n\r\n\t\tprivate static final String TEST_KEY\r\n\t\t\t= &quot;-----BEGIN PRIVATE KEY-----\\n&quot;\r\n\t\t\t// ...\r\n\t\t\t+ &quot;-----END PRIVATE KEY-----&quot;;\r\n\r\n\t\tprivate static final int PORT = 32333;\r\n\r\n\t\tprivate static final String TLS_PROTOCOL = &quot;TLSv1.3&quot;;\r\n\r\n\t\tprivate static final String[] CIPHER_SUITES = new String[]\r\n\t\t{\r\n\t\t\t&quot;TLS_AES_128_GCM_SHA256&quot;,\r\n\t\t\t&quot;TLS_AES_256_GCM_SHA384&quot;\r\n\t\t};\r\n\r\n\t\tpublic static void main(String[] args) throws Exception\r\n\t\t{\r\n\t\t\tnew TlsServer().start();\r\n\t\t}\r\n\r\n\t\tprivate void start() throws Exception\r\n\t\t{\r\n\t\t\t//System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\r\n\r\n\t\t\tSSLContext ctx = SSLContext.getInstance(TLS_PROTOCOL);\r\n\r\n\t\t\t// Init Key Store.\r\n\t\t\tchar[] password = &quot;changeit&quot;.toCharArray();\r\n\t\t\tKeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\r\n\t\t\tks.load(null, password);\r\n\t\t\tCertificate cert = convertCertificate(TEST_CRT);\r\n\t\t\tks.setCertificateEntry(&quot;test_crt&quot;, cert);\r\n\t\t\tKey pk = new SecretKeySpec(TEST_KEY.getBytes(StandardCharsets.ISO_8859_1), &quot;RSA&quot;);\r\n\t\t\tks.setKeyEntry(&quot;test_key&quot;, pk, password, new Certificate[]\r\n\t\t\t{\r\n\t\t\t\tcert\r\n\t\t\t});\r\n\r\n\t\t\t// Init Key Manager Factory.\r\n\t\t\tKeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n\t\t\tkmf.init(ks, password);\r\n\r\n\t\t\t// Init Trust Manager Factory.\r\n\t\t\tTrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n\t\t\ttmf.init(ks);\r\n\r\n\t\t\tctx.init(kmf.getKeyManagers(), tmf.getTrustManagers(), null);\r\n\r\n\t\t\tSSLServerSocket serverSocket = (SSLServerSocket) ctx.getServerSocketFactory().createServerSocket(PORT);\r\n\t\t\tserverSocket.setNeedClientAuth(false);\r\n\t\t\tserverSocket.setEnabledProtocols(new String[]\r\n\t\t\t{\r\n\t\t\t\tTLS_PROTOCOL\r\n\t\t\t});\r\n\t\t\tserverSocket.setEnabledCipherSuites(CIPHER_SUITES);\r\n\r\n\t\t\tSystem.out.printf(&quot;Server started on port %d%n&quot;, PORT);\r\n\t\t\twhile (true)\r\n\t\t\t{\r\n\t\t\t\ttry (SSLSocket socket = (SSLSocket) serverSocket.accept())\r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(&quot;Accept new connection: &quot; + socket.getRemoteSocketAddress());\r\n\t\t\t\t\tInputStream is = new BufferedInputStream(socket.getInputStream());\r\n\t\t\t\t\tOutputStream os = new BufferedOutputStream(socket.getOutputStream());\r\n\t\t\t\t\tbyte[] data = new byte[2048];\r\n\t\t\t\t\tint len = is.read(data);\r\n\t\t\t\t\tif (len &lt;= 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthrow new IOException(&quot;No data received&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tSystem.out.printf(&quot;Server received %d bytes: %s%n&quot;, len, new String(data, 0, len));\r\n\t\t\t\t\tos.write(data, 0, len);\r\n\t\t\t\t\tos.flush();\r\n\t\t\t\t}\r\n\t\t\t\tcatch (Exception e)\r\n\t\t\t\t{\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate Certificate convertCertificate(String cert) throws CertificateException\r\n\t\t{\r\n\t\t\tInputStream in = new ByteArrayInputStream(cert.getBytes(StandardCharsets.ISO_8859_1));\r\n\t\t\tCertificateFactory certFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n\t\t\treturn certFactory.generateCertificate(in);\r\n\t\t}\r\n\t}\r\n\r\n\r\nJava Version\r\n\r\n    openjdk version &quot;11.0.11&quot; 2021-04-20\r\n    OpenJDK Runtime Environment AdoptOpenJDK-11.0.11+9 (build 11.0.11+9)\r\n    OpenJDK 64-Bit Server VM AdoptOpenJDK-11.0.11+9 (build 11.0.11+9, mixed mode)\r\n\r\n\r\nThe server starts and listens to the connection, but if I try to access the server with a client (e.g. curl, Chrome or a simple Java-Client), I get the following error:\r\n\r\n    Server started on port 32333\r\n\tAccept new connection: /0:0:0:0:0:0:0:1:49966\r\n\tjavax.net.ssl.SSLHandshakeException: No available authentication scheme\r\n\t\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n\t\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n\t\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:336)\r\n\t\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:292)\r\n\t\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:283)\r\n\t\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.onProduceCertificate(CertificateMessage.java:972)\r\n\t\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.produce(CertificateMessage.java:961)\r\n\t\tat java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436)\r\n\t\tat java.base/sun.security.ssl.ClientHello$T13ClientHelloConsumer.goServerHello(ClientHello.java:1234)\r\n\t\tat java.base/sun.security.ssl.ClientHello$T13ClientHelloConsumer.consume(ClientHello.java:1170)\r\n\t\tat java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.onClientHello(ClientHello.java:852)\r\n\t\tat java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.consume(ClientHello.java:813)\r\n\t\tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\r\n\t\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443)\r\n\t\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421)\r\n\t\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\r\n\t\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)\r\n\t\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1418)\r\n\t\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1324)\r\n\t\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:440)\r\n\t\tat java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:829)\r\n\t\tat java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:920)\r\n\t\tat java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)\r\n\t\tat java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:292)\r\n\t\tat java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:351)\r\n\t\tat java.base/java.io.FilterInputStream.read(FilterInputStream.java:107)\r\n\t\tat TlsServer.start(TlsServer.java:143)\r\n\t\tat TlsServer.main(TlsServer.java:95)\r\n\r\nThe debug output look like this:\r\n\r\n\tjavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.010 CEST|ServerHello.java:577|Produced ServerHello handshake message (\r\n\t&quot;ServerHello&quot;: {\r\n\t  &quot;server version&quot;      : &quot;TLSv1.2&quot;,\r\n\t  &quot;random&quot;              : &quot;78 B9 53 93 89 F9 8F 8C 2B 03 33 72 5D 21 4D A5 DC 42 59 CE 54 24 CD 75 9F 26 15 09 FB 53 91 00&quot;,\r\n\t  &quot;session id&quot;          : &quot;EC 09 75 BD 7F 00 40 CB 9F DC F4 BA FD 03 57 82 6C D0 6E 4C 2D FD 79 AA 07 91 86 A8 1C A8 99 38&quot;,\r\n\t  &quot;cipher suite&quot;        : &quot;TLS_AES_128_GCM_SHA256(0x1301)&quot;,\r\n\t  &quot;compression methods&quot; : &quot;00&quot;,\r\n\t  &quot;extensions&quot;          : [\r\n\t\t&quot;supported_versions (43)&quot;: {\r\n\t\t  &quot;selected version&quot;: [TLSv1.3]\r\n\t\t},\r\n\t\t&quot;key_share (51)&quot;: {\r\n\t\t  &quot;server_share&quot;: {\r\n\t\t\t&quot;named group&quot;: x25519\r\n\t\t\t&quot;key_exchange&quot;: {\r\n\t\t\t  0000: B3 C2 7D 1D 77 D1 CE 3F   1D C2 15 0A 3A 21 B5 3B  ....w..?....:!.;\r\n\t\t\t  0010: ED D0 BB 79 D1 C0 88 46   98 71 DD 2D 62 40 E1 1E  ...y...F.q.-b@..\r\n\t\t\t}\r\n\t\t  },\r\n\t\t}\r\n\t  ]\r\n\t}\r\n\t)\r\n\tjavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.010 CEST|SSLSocketOutputRecord.java:241|WRITE: TLS13 handshake, length = 122\r\n\tjavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.011 CEST|SSLSocketOutputRecord.java:255|Raw write (\r\n\t  0000: 16 03 03 00 7A 02 00 00   76 03 03 78 B9 53 93 89  ....z...v..x.S..\r\n\t  0010: F9 8F 8C 2B 03 33 72 5D   21 4D A5 DC 42 59 CE 54  ...+.3r]!M..BY.T\r\n\t  0020: 24 CD 75 9F 26 15 09 FB   53 91 00 20 EC 09 75 BD  $.u.&amp;...S.. ..u.\r\n\t  0030: 7F 00 40 CB 9F DC F4 BA   FD 03 57 82 6C D0 6E 4C  ..@.......W.l.nL\r\n\t  0040: 2D FD 79 AA 07 91 86 A8   1C A8 99 38 13 01 00 00  -.y........8....\r\n\t  0050: 2E 00 2B 00 02 03 04 00   33 00 24 00 1D 00 20 B3  ..+.....3.$... .\r\n\t  0060: C2 7D 1D 77 D1 CE 3F 1D   C2 15 0A 3A 21 B5 3B ED  ...w..?....:!.;.\r\n\t  0070: D0 BB 79 D1 C0 88 46 98   71 DD 2D 62 40 E1 1E     ..y...F.q.-b@..\r\n\t)\r\n\tjavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.017 CEST|SSLCipher.java:1840|KeyLimit read side: algorithm = AES/GCM/NOPADDING:KEYUPDATE\r\n\tcountdown value = 137438953472\r\n\tjavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.018 CEST|SSLCipher.java:1994|KeyLimit write side: algorithm = AES/GCM/NOPADDING:KEYUPDATE\r\n\tcountdown value = 137438953472\r\n\tjavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.018 CEST|SSLSocketOutputRecord.java:225|Raw write (\r\n\t  0000: 14 03 03 00 01 01                                  ......\r\n\t)\r\n\tjavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.019 CEST|ServerNameExtension.java:527|Ignore unavailable extension: server_name\r\n\tjavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.019 CEST|SSLExtensions.java:260|Ignore, context unavailable extension: server_name\r\n\tjavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.019 CEST|MaxFragExtension.java:469|Ignore unavailable max_fragment_length extension\r\n\tjavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.019 CEST|SSLExtensions.java:260|Ignore, context unavailable extension: max_fragment_length\r\n\tjavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.020 CEST|AlpnExtension.java:365|Ignore unavailable extension: application_layer_protocol_negotiation\r\n\tjavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.020 CEST|SSLExtensions.java:260|Ignore, context unavailable extension: application_layer_protocol_negotiation\r\n\tjavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.020 CEST|EncryptedExtensions.java:137|Produced EncryptedExtensions message (\r\n\t&quot;EncryptedExtensions&quot;: [\r\n\t  &quot;supported_groups (10)&quot;: {\r\n\t\t&quot;versions&quot;: [x25519, secp256r1, secp384r1, secp521r1, x448, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\r\n\t  }\r\n\t]\r\n\t)\r\n\tjavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.020 CEST|SSLSocketOutputRecord.java:241|WRITE: TLS13 handshake, length = 32\r\n\tjavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.028 CEST|SSLCipher.java:2036|Plaintext before ENCRYPTION (\r\n\t  0000: 08 00 00 1C 00 1A 00 0A   00 16 00 14 00 1D 00 17  ................\r\n\t  0010: 00 18 00 19 00 1E 01 00   01 01 01 02 01 03 01 04  ................\r\n\t  0020: 16 00 00 00 00 00 00 00   00 00 00 00 00 00 00 00  ................\r\n\t  0030: 00                                                 .\r\n\t)\r\n\tjavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.028 CEST|SSLSocketOutputRecord.java:255|Raw write (\r\n\t  0000: 17 03 03 00 41 7D 95 DC   2E 14 CB 2C B5 B3 D4 79  ....A......,...y\r\n\t  0010: 67 4C D6 01 7E 7C EE 31   58 A3 63 33 E1 30 0E 3C  gL.....1X.c3.0.&lt;\r\n\t  0020: FB 73 DD 85 57 95 36 B5   93 17 73 3A E6 2E 6C A9  .s..W.6...s:..l.\r\n\t  0030: A1 F0 49 15 93 28 39 A8   E3 ED D5 02 85 05 09 37  ..I..(9........7\r\n\t  0040: 28 3F B3 52 62 94                                  (?.Rb.\r\n\t)\r\n\tjavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.028 CEST|X509Authentication.java:295|No X.509 cert selected for EC\r\n\tjavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.029 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: ecdsa_secp256r1_sha256\r\n\tjavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.029 CEST|X509Authentication.java:295|No X.509 cert selected for EC\r\n\tjavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.029 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: ecdsa_secp384r1_sha384\r\n\tjavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.029 CEST|X509Authentication.java:295|No X.509 cert selected for EC\r\n\tjavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.029 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: ecdsa_secp521r1_sha512\r\n\tjavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.029 CEST|X509Authentication.java:295|No X.509 cert selected for RSA\r\n\tjavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.029 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: rsa_pss_rsae_sha256\r\n\tjavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.029 CEST|X509Authentication.java:295|No X.509 cert selected for RSA\r\n\tjavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.029 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: rsa_pss_rsae_sha384\r\n\tjavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.029 CEST|X509Authentication.java:295|No X.509 cert selected for RSA\r\n\tjavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.029 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: rsa_pss_rsae_sha512\r\n\tjavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.029 CEST|X509Authentication.java:295|No X.509 cert selected for RSASSA-PSS\r\n\tjavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.029 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: rsa_pss_pss_sha256\r\n\tjavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.029 CEST|X509Authentication.java:295|No X.509 cert selected for RSASSA-PSS\r\n\tjavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.029 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: rsa_pss_pss_sha384\r\n\tjavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.030 CEST|X509Authentication.java:295|No X.509 cert selected for RSASSA-PSS\r\n\tjavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.030 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: rsa_pss_pss_sha512\r\n\tjavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.030 CEST|X509Authentication.java:295|No X.509 cert selected for RSA\r\n\tjavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.030 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: rsa_pkcs1_sha256\r\n\tjavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.030 CEST|X509Authentication.java:295|No X.509 cert selected for RSA\r\n\tjavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.030 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: rsa_pkcs1_sha384\r\n\tjavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.030 CEST|X509Authentication.java:295|No X.509 cert selected for RSA\r\n\tjavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.030 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: rsa_pkcs1_sha512\r\n\tjavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.030 CEST|X509Authentication.java:295|No X.509 cert selected for EC\r\n\tjavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.030 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: ecdsa_sha1\r\n\tjavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.030 CEST|X509Authentication.java:295|No X.509 cert selected for RSA\r\n\tjavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.030 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: rsa_pkcs1_sha1\r\n\tjavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.030 CEST|CertificateMessage.java:1093|No available authentication scheme\r\n\tjavax.net.ssl|ERROR|01|main|2021-05-27 12:02:13.031 CEST|TransportContext.java:341|Fatal (HANDSHAKE_FAILURE): No available authentication scheme (\r\n\t&quot;throwable&quot; : {\r\n\t  javax.net.ssl.SSLHandshakeException: No available authentication scheme\r\n\t\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n\t\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n\t\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:336)\r\n\t\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:292)\r\n\t\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:283)\r\n\t\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.onProduceCertificate(CertificateMessage.java:972)\r\n\t\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.produce(CertificateMessage.java:961)\r\n\t\tat java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436)\r\n\t\tat java.base/sun.security.ssl.ClientHello$T13ClientHelloConsumer.goServerHello(ClientHello.java:1234)\r\n\t\tat java.base/sun.security.ssl.ClientHello$T13ClientHelloConsumer.consume(ClientHello.java:1170)\r\n\t\tat java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.onClientHello(ClientHello.java:852)\r\n\t\tat java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.consume(ClientHello.java:813)\r\n\t\tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\r\n\t\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443)\r\n\t\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421)\r\n\t\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\r\n\t\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)\r\n\t\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1418)\r\n\t\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1324)\r\n\t\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:440)\r\n\t\tat java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:829)\r\n\t\tat java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:920)\r\n\t\tat java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)\r\n\t\tat java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:292)\r\n\t\tat java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:351)\r\n\t\tat java.base/java.io.FilterInputStream.read(FilterInputStream.java:107)\r\n\t\tat TlsServer.start(TlsServer.java:143)\r\n\t\tat TlsServer.main(TlsServer.java:95)}\r\n\r\n\t)\r\n\tjavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.031 CEST|SSLSessionImpl.java:784|Invalidated session:  Session(1622109721099|SSL_NULL_WITH_NULL_NULL)\r\n\tjavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.031 CEST|SSLSessionImpl.java:784|Invalidated session:  Session(1622109733001|TLS_AES_128_GCM_SHA256)\r\n\tjavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.031 CEST|SSLSocketOutputRecord.java:71|WRITE: TLS13 alert(handshake_failure), length = 2\r\n\tjavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.031 CEST|SSLCipher.java:2036|Plaintext before ENCRYPTION (\r\n\t  0000: 02 28 15 00 00 00 00 00   00 00 00 00 00 00 00 00  .(..............\r\n\t  0010: 00 00 00                                           ...\r\n\t)\r\n\tjavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.032 CEST|SSLSocketOutputRecord.java:85|Raw write (\r\n\t  0000: 17 03 03 00 23 96 86 5D   95 12 6A 81 E7 77 F0 B5  ....#..]..j..w..\r\n\t  0010: 45 7F F3 A4 98 D9 1B E6   FF C7 C1 BC 5F 1B B4 55  E..........._..U\r\n\t  0020: DD 5A FE B9 B1 98 47 CF                            .Z....G.\r\n\t)\r\n\tjavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.032 CEST|SSLSocketImpl.java:1638|close the underlying socket\r\n\tjavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.032 CEST|SSLSocketImpl.java:1657|close the SSL connection (initiative)\r\n\tjavax.net.ssl.SSLHandshakeException: No available authentication scheme\r\n\t\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n\t\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n\t\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:336)\r\n\t\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:292)\r\n\t\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:283)\r\n\t\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.onProduceCertificate(CertificateMessage.java:972)\r\n\t\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.produce(CertificateMessage.java:961)\r\n\t\tat java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436)\r\n\t\tat java.base/sun.security.ssl.ClientHello$T13ClientHelloConsumer.goServerHello(ClientHello.java:1234)\r\n\t\tat java.base/sun.security.ssl.ClientHello$T13ClientHelloConsumer.consume(ClientHello.java:1170)\r\n\t\tat java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.onClientHello(ClientHello.java:852)\r\n\t\tat java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.consume(ClientHello.java:813)\r\n\t\tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\r\n\t\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443)\r\n\t\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421)\r\n\t\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\r\n\t\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)\r\n\t\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1418)\r\n\t\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1324)\r\n\t\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:440)\r\n\t\tat java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:829)\r\n\t\tat java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:920)\r\n\t\tat java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)\r\n\t\tat java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:292)\r\n\t\tat java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:351)\r\n\t\tat java.base/java.io.FilterInputStream.read(FilterInputStream.java:107)\r\n\t\tat TlsServer.start(TlsServer.java:143)\r\n\t\tat TlsServer.main(TlsServer.java:95)\r\n\r\n\r\nDoes anyone know, if I miss something in the configuration?","title":"TLS 1.3 server socket with Java 11 and self-signed certificates","body":"<p>I want to create a simple TLS 1.3 server socket listener, which uses a self-signed certificate.</p>\n<p>First I created a RSA public / private key pair:</p>\n<pre><code>openssl req -x509 -newkey rsa:2048 -sha256 -days 9125 -nodes -keyout test.key -out test.crt\n</code></pre>\n<p>I added the public and private key as a string in a simple Java program</p>\n<pre><code>public class TlsServer\n{\n\n    private static final String TEST_CRT = &quot;-----BEGIN CERTIFICATE-----\\n&quot;\n        // ...\n        + &quot;-----END CERTIFICATE-----&quot;;\n\n    private static final String TEST_KEY\n        = &quot;-----BEGIN PRIVATE KEY-----\\n&quot;\n        // ...\n        + &quot;-----END PRIVATE KEY-----&quot;;\n\n    private static final int PORT = 32333;\n\n    private static final String TLS_PROTOCOL = &quot;TLSv1.3&quot;;\n\n    private static final String[] CIPHER_SUITES = new String[]\n    {\n        &quot;TLS_AES_128_GCM_SHA256&quot;,\n        &quot;TLS_AES_256_GCM_SHA384&quot;\n    };\n\n    public static void main(String[] args) throws Exception\n    {\n        new TlsServer().start();\n    }\n\n    private void start() throws Exception\n    {\n        //System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\n\n        SSLContext ctx = SSLContext.getInstance(TLS_PROTOCOL);\n\n        // Init Key Store.\n        char[] password = &quot;changeit&quot;.toCharArray();\n        KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\n        ks.load(null, password);\n        Certificate cert = convertCertificate(TEST_CRT);\n        ks.setCertificateEntry(&quot;test_crt&quot;, cert);\n        Key pk = new SecretKeySpec(TEST_KEY.getBytes(StandardCharsets.ISO_8859_1), &quot;RSA&quot;);\n        ks.setKeyEntry(&quot;test_key&quot;, pk, password, new Certificate[]\n        {\n            cert\n        });\n\n        // Init Key Manager Factory.\n        KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n        kmf.init(ks, password);\n\n        // Init Trust Manager Factory.\n        TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        tmf.init(ks);\n\n        ctx.init(kmf.getKeyManagers(), tmf.getTrustManagers(), null);\n\n        SSLServerSocket serverSocket = (SSLServerSocket) ctx.getServerSocketFactory().createServerSocket(PORT);\n        serverSocket.setNeedClientAuth(false);\n        serverSocket.setEnabledProtocols(new String[]\n        {\n            TLS_PROTOCOL\n        });\n        serverSocket.setEnabledCipherSuites(CIPHER_SUITES);\n\n        System.out.printf(&quot;Server started on port %d%n&quot;, PORT);\n        while (true)\n        {\n            try (SSLSocket socket = (SSLSocket) serverSocket.accept())\n            {\n                System.out.println(&quot;Accept new connection: &quot; + socket.getRemoteSocketAddress());\n                InputStream is = new BufferedInputStream(socket.getInputStream());\n                OutputStream os = new BufferedOutputStream(socket.getOutputStream());\n                byte[] data = new byte[2048];\n                int len = is.read(data);\n                if (len &lt;= 0)\n                {\n                    throw new IOException(&quot;No data received&quot;);\n                }\n                System.out.printf(&quot;Server received %d bytes: %s%n&quot;, len, new String(data, 0, len));\n                os.write(data, 0, len);\n                os.flush();\n            }\n            catch (Exception e)\n            {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    private Certificate convertCertificate(String cert) throws CertificateException\n    {\n        InputStream in = new ByteArrayInputStream(cert.getBytes(StandardCharsets.ISO_8859_1));\n        CertificateFactory certFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\n        return certFactory.generateCertificate(in);\n    }\n}\n</code></pre>\n<p>Java Version</p>\n<pre><code>openjdk version &quot;11.0.11&quot; 2021-04-20\nOpenJDK Runtime Environment AdoptOpenJDK-11.0.11+9 (build 11.0.11+9)\nOpenJDK 64-Bit Server VM AdoptOpenJDK-11.0.11+9 (build 11.0.11+9, mixed mode)\n</code></pre>\n<p>The server starts and listens to the connection, but if I try to access the server with a client (e.g. curl, Chrome or a simple Java-Client), I get the following error:</p>\n<pre><code>Server started on port 32333\nAccept new connection: /0:0:0:0:0:0:0:1:49966\njavax.net.ssl.SSLHandshakeException: No available authentication scheme\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:336)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:292)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:283)\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.onProduceCertificate(CertificateMessage.java:972)\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.produce(CertificateMessage.java:961)\n    at java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436)\n    at java.base/sun.security.ssl.ClientHello$T13ClientHelloConsumer.goServerHello(ClientHello.java:1234)\n    at java.base/sun.security.ssl.ClientHello$T13ClientHelloConsumer.consume(ClientHello.java:1170)\n    at java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.onClientHello(ClientHello.java:852)\n    at java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.consume(ClientHello.java:813)\n    at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421)\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1418)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1324)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:440)\n    at java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:829)\n    at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:920)\n    at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)\n    at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:292)\n    at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:351)\n    at java.base/java.io.FilterInputStream.read(FilterInputStream.java:107)\n    at TlsServer.start(TlsServer.java:143)\n    at TlsServer.main(TlsServer.java:95)\n</code></pre>\n<p>The debug output look like this:</p>\n<pre><code>javax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.010 CEST|ServerHello.java:577|Produced ServerHello handshake message (\n&quot;ServerHello&quot;: {\n  &quot;server version&quot;      : &quot;TLSv1.2&quot;,\n  &quot;random&quot;              : &quot;78 B9 53 93 89 F9 8F 8C 2B 03 33 72 5D 21 4D A5 DC 42 59 CE 54 24 CD 75 9F 26 15 09 FB 53 91 00&quot;,\n  &quot;session id&quot;          : &quot;EC 09 75 BD 7F 00 40 CB 9F DC F4 BA FD 03 57 82 6C D0 6E 4C 2D FD 79 AA 07 91 86 A8 1C A8 99 38&quot;,\n  &quot;cipher suite&quot;        : &quot;TLS_AES_128_GCM_SHA256(0x1301)&quot;,\n  &quot;compression methods&quot; : &quot;00&quot;,\n  &quot;extensions&quot;          : [\n    &quot;supported_versions (43)&quot;: {\n      &quot;selected version&quot;: [TLSv1.3]\n    },\n    &quot;key_share (51)&quot;: {\n      &quot;server_share&quot;: {\n        &quot;named group&quot;: x25519\n        &quot;key_exchange&quot;: {\n          0000: B3 C2 7D 1D 77 D1 CE 3F   1D C2 15 0A 3A 21 B5 3B  ....w..?....:!.;\n          0010: ED D0 BB 79 D1 C0 88 46   98 71 DD 2D 62 40 E1 1E  ...y...F.q.-b@..\n        }\n      },\n    }\n  ]\n}\n)\njavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.010 CEST|SSLSocketOutputRecord.java:241|WRITE: TLS13 handshake, length = 122\njavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.011 CEST|SSLSocketOutputRecord.java:255|Raw write (\n  0000: 16 03 03 00 7A 02 00 00   76 03 03 78 B9 53 93 89  ....z...v..x.S..\n  0010: F9 8F 8C 2B 03 33 72 5D   21 4D A5 DC 42 59 CE 54  ...+.3r]!M..BY.T\n  0020: 24 CD 75 9F 26 15 09 FB   53 91 00 20 EC 09 75 BD  $.u.&amp;...S.. ..u.\n  0030: 7F 00 40 CB 9F DC F4 BA   FD 03 57 82 6C D0 6E 4C  ..@.......W.l.nL\n  0040: 2D FD 79 AA 07 91 86 A8   1C A8 99 38 13 01 00 00  -.y........8....\n  0050: 2E 00 2B 00 02 03 04 00   33 00 24 00 1D 00 20 B3  ..+.....3.$... .\n  0060: C2 7D 1D 77 D1 CE 3F 1D   C2 15 0A 3A 21 B5 3B ED  ...w..?....:!.;.\n  0070: D0 BB 79 D1 C0 88 46 98   71 DD 2D 62 40 E1 1E     ..y...F.q.-b@..\n)\njavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.017 CEST|SSLCipher.java:1840|KeyLimit read side: algorithm = AES/GCM/NOPADDING:KEYUPDATE\ncountdown value = 137438953472\njavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.018 CEST|SSLCipher.java:1994|KeyLimit write side: algorithm = AES/GCM/NOPADDING:KEYUPDATE\ncountdown value = 137438953472\njavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.018 CEST|SSLSocketOutputRecord.java:225|Raw write (\n  0000: 14 03 03 00 01 01                                  ......\n)\njavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.019 CEST|ServerNameExtension.java:527|Ignore unavailable extension: server_name\njavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.019 CEST|SSLExtensions.java:260|Ignore, context unavailable extension: server_name\njavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.019 CEST|MaxFragExtension.java:469|Ignore unavailable max_fragment_length extension\njavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.019 CEST|SSLExtensions.java:260|Ignore, context unavailable extension: max_fragment_length\njavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.020 CEST|AlpnExtension.java:365|Ignore unavailable extension: application_layer_protocol_negotiation\njavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.020 CEST|SSLExtensions.java:260|Ignore, context unavailable extension: application_layer_protocol_negotiation\njavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.020 CEST|EncryptedExtensions.java:137|Produced EncryptedExtensions message (\n&quot;EncryptedExtensions&quot;: [\n  &quot;supported_groups (10)&quot;: {\n    &quot;versions&quot;: [x25519, secp256r1, secp384r1, secp521r1, x448, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\n  }\n]\n)\njavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.020 CEST|SSLSocketOutputRecord.java:241|WRITE: TLS13 handshake, length = 32\njavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.028 CEST|SSLCipher.java:2036|Plaintext before ENCRYPTION (\n  0000: 08 00 00 1C 00 1A 00 0A   00 16 00 14 00 1D 00 17  ................\n  0010: 00 18 00 19 00 1E 01 00   01 01 01 02 01 03 01 04  ................\n  0020: 16 00 00 00 00 00 00 00   00 00 00 00 00 00 00 00  ................\n  0030: 00                                                 .\n)\njavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.028 CEST|SSLSocketOutputRecord.java:255|Raw write (\n  0000: 17 03 03 00 41 7D 95 DC   2E 14 CB 2C B5 B3 D4 79  ....A......,...y\n  0010: 67 4C D6 01 7E 7C EE 31   58 A3 63 33 E1 30 0E 3C  gL.....1X.c3.0.&lt;\n  0020: FB 73 DD 85 57 95 36 B5   93 17 73 3A E6 2E 6C A9  .s..W.6...s:..l.\n  0030: A1 F0 49 15 93 28 39 A8   E3 ED D5 02 85 05 09 37  ..I..(9........7\n  0040: 28 3F B3 52 62 94                                  (?.Rb.\n)\njavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.028 CEST|X509Authentication.java:295|No X.509 cert selected for EC\njavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.029 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: ecdsa_secp256r1_sha256\njavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.029 CEST|X509Authentication.java:295|No X.509 cert selected for EC\njavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.029 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: ecdsa_secp384r1_sha384\njavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.029 CEST|X509Authentication.java:295|No X.509 cert selected for EC\njavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.029 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: ecdsa_secp521r1_sha512\njavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.029 CEST|X509Authentication.java:295|No X.509 cert selected for RSA\njavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.029 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: rsa_pss_rsae_sha256\njavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.029 CEST|X509Authentication.java:295|No X.509 cert selected for RSA\njavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.029 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: rsa_pss_rsae_sha384\njavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.029 CEST|X509Authentication.java:295|No X.509 cert selected for RSA\njavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.029 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: rsa_pss_rsae_sha512\njavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.029 CEST|X509Authentication.java:295|No X.509 cert selected for RSASSA-PSS\njavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.029 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: rsa_pss_pss_sha256\njavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.029 CEST|X509Authentication.java:295|No X.509 cert selected for RSASSA-PSS\njavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.029 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: rsa_pss_pss_sha384\njavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.030 CEST|X509Authentication.java:295|No X.509 cert selected for RSASSA-PSS\njavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.030 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: rsa_pss_pss_sha512\njavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.030 CEST|X509Authentication.java:295|No X.509 cert selected for RSA\njavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.030 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: rsa_pkcs1_sha256\njavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.030 CEST|X509Authentication.java:295|No X.509 cert selected for RSA\njavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.030 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: rsa_pkcs1_sha384\njavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.030 CEST|X509Authentication.java:295|No X.509 cert selected for RSA\njavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.030 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: rsa_pkcs1_sha512\njavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.030 CEST|X509Authentication.java:295|No X.509 cert selected for EC\njavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.030 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: ecdsa_sha1\njavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.030 CEST|X509Authentication.java:295|No X.509 cert selected for RSA\njavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.030 CEST|CertificateMessage.java:1083|Unavailable authentication scheme: rsa_pkcs1_sha1\njavax.net.ssl|WARNING|01|main|2021-05-27 12:02:13.030 CEST|CertificateMessage.java:1093|No available authentication scheme\njavax.net.ssl|ERROR|01|main|2021-05-27 12:02:13.031 CEST|TransportContext.java:341|Fatal (HANDSHAKE_FAILURE): No available authentication scheme (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLHandshakeException: No available authentication scheme\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:336)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:292)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:283)\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.onProduceCertificate(CertificateMessage.java:972)\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.produce(CertificateMessage.java:961)\n    at java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436)\n    at java.base/sun.security.ssl.ClientHello$T13ClientHelloConsumer.goServerHello(ClientHello.java:1234)\n    at java.base/sun.security.ssl.ClientHello$T13ClientHelloConsumer.consume(ClientHello.java:1170)\n    at java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.onClientHello(ClientHello.java:852)\n    at java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.consume(ClientHello.java:813)\n    at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421)\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1418)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1324)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:440)\n    at java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:829)\n    at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:920)\n    at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)\n    at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:292)\n    at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:351)\n    at java.base/java.io.FilterInputStream.read(FilterInputStream.java:107)\n    at TlsServer.start(TlsServer.java:143)\n    at TlsServer.main(TlsServer.java:95)}\n\n)\njavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.031 CEST|SSLSessionImpl.java:784|Invalidated session:  Session(1622109721099|SSL_NULL_WITH_NULL_NULL)\njavax.net.ssl|ALL|01|main|2021-05-27 12:02:13.031 CEST|SSLSessionImpl.java:784|Invalidated session:  Session(1622109733001|TLS_AES_128_GCM_SHA256)\njavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.031 CEST|SSLSocketOutputRecord.java:71|WRITE: TLS13 alert(handshake_failure), length = 2\njavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.031 CEST|SSLCipher.java:2036|Plaintext before ENCRYPTION (\n  0000: 02 28 15 00 00 00 00 00   00 00 00 00 00 00 00 00  .(..............\n  0010: 00 00 00                                           ...\n)\njavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.032 CEST|SSLSocketOutputRecord.java:85|Raw write (\n  0000: 17 03 03 00 23 96 86 5D   95 12 6A 81 E7 77 F0 B5  ....#..]..j..w..\n  0010: 45 7F F3 A4 98 D9 1B E6   FF C7 C1 BC 5F 1B B4 55  E..........._..U\n  0020: DD 5A FE B9 B1 98 47 CF                            .Z....G.\n)\njavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.032 CEST|SSLSocketImpl.java:1638|close the underlying socket\njavax.net.ssl|DEBUG|01|main|2021-05-27 12:02:13.032 CEST|SSLSocketImpl.java:1657|close the SSL connection (initiative)\njavax.net.ssl.SSLHandshakeException: No available authentication scheme\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:336)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:292)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:283)\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.onProduceCertificate(CertificateMessage.java:972)\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.produce(CertificateMessage.java:961)\n    at java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436)\n    at java.base/sun.security.ssl.ClientHello$T13ClientHelloConsumer.goServerHello(ClientHello.java:1234)\n    at java.base/sun.security.ssl.ClientHello$T13ClientHelloConsumer.consume(ClientHello.java:1170)\n    at java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.onClientHello(ClientHello.java:852)\n    at java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.consume(ClientHello.java:813)\n    at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421)\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1418)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1324)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:440)\n    at java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:829)\n    at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:920)\n    at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)\n    at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:292)\n    at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:351)\n    at java.base/java.io.FilterInputStream.read(FilterInputStream.java:107)\n    at TlsServer.start(TlsServer.java:143)\n    at TlsServer.main(TlsServer.java:95)\n</code></pre>\n<p>Does anyone know, if I miss something in the configuration?</p>\n"},{"tags":["java","eclipse","jpa"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1653578908,"post_id":72394018,"comment_id":127890317,"body_markdown":"Show us where the class is, too.","body":"Show us where the class is, too."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1653583035,"post_id":72394018,"comment_id":127891836,"body_markdown":"Perhaps &quot;in a different package&quot; is why they&#39;re not found?","body":"Perhaps &quot;in a different package&quot; is why they&#39;re not found?"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1653583512,"post_id":72394018,"comment_id":127891987,"body_markdown":"My advice, just turn these JPA validations off, as far as I can remember they never really worked properly always showing these kind of unknown annoying errors. It is usually some weird behavior based on which plugins you have installed in your Eclipse. Google &quot;eclipse jpa validator bug&quot; and you will see. You are better off without it.","body":"My advice, just turn these JPA validations off, as far as I can remember they never really worked properly always showing these kind of unknown annoying errors. It is usually some weird behavior based on which plugins you have installed in your Eclipse. Google &quot;eclipse jpa validator bug&quot; and you will see. You are better off without it."},{"owner":{"account_id":907715,"reputation":3063,"user_id":942261,"accept_rate":88,"display_name":"DaveB"},"score":0,"creation_date":1653643430,"post_id":72394018,"comment_id":127905537,"body_markdown":"@JorgeCampos yes this is what I am trying to do but I cannot find the Validation setting for this error, there is no definition for &#39;Type Class Could Not Be Found&#39; so I cannot turn it off","body":"@JorgeCampos yes this is what I am trying to do but I cannot find the Validation setting for this error, there is no definition for &#39;Type Class Could Not Be Found&#39; so I cannot turn it off"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1653690849,"post_id":72394018,"comment_id":127920598,"body_markdown":"I was referring to the entire thing, Window -&gt; Preferences -&gt; Validation search for JPA Validator and disable it both manual/build... if you are on a mac... the Preferences menu is not under it","body":"I was referring to the entire thing, Window -&gt; Preferences -&gt; Validation search for JPA Validator and disable it both manual/build... if you are on a mac... the Preferences menu is not under it"}],"owner":{"account_id":907715,"reputation":3063,"user_id":942261,"accept_rate":88,"display_name":"DaveB"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653581851,"creation_date":1653577773,"question_id":72394018,"body_markdown":"I am getting this annoying JPA validation error in Eclipse but cannot find where it defined anywhere, when the class is opened no error shows. But they do appear in the package explorer/problems tab.\r\n\r\nHeres an example of where CurrencyType.class is defined...\r\n\r\n\r\n    /**\r\n     * UserSubscription\r\n     * \r\n     */\r\n    @Entity\r\n    @Table(name = &quot;user_subscriptions&quot;, schema = &quot;public&quot;)\r\n    @SqlResultSetMapping(name = &quot;userSubsWithCount&quot;,\r\n    \tentities = {@EntityResult(entityClass = UserSubscription.class)},\r\n    \tcolumns = {@ColumnResult(name = &quot;TOTALCOUNT&quot;)}\r\n    )\r\n    @TypeDefs({\r\n    \t@TypeDef(name=&quot;currency_enum&quot;,typeClass=CurrencyType.class),\r\n    \t@TypeDef(name=&quot;sub_option_enum&quot;,typeClass=SubscriptionOptionType.class),\r\n    \t@TypeDef(name=&quot;sub_state_enum&quot;,typeClass=SubscriptionStateType.class)\r\n    })\r\n    public class UserSubscription implements java.io.Serializable {\r\n\r\nAnd the class itself (in a different package but same .jar)\r\n\r\n    public class CurrencyType extends org.hibernate.type.EnumType&lt;Currency&gt; {\r\n    \t \r\n        /**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \r\n    \t@Override\r\n        public Object nullSafeGet(ResultSet rs, String[] names, SharedSessionContractImplementor session, Object owner) throws SQLException{\r\n            try{\r\n            \tCurrency type = Currency.valueOf(rs.getString(names[0]).toUpperCase());\r\n            \tif(type == null){\r\n            \t\tSystem.err.println(&quot;CurrencyConvertor: Null returned from CurrencyConvertor.valueOf, pgObject.getValue() = &quot; + rs.toString());\r\n            \t}else{\r\n            \t\treturn type;\r\n            \t}\r\n            }catch(Exception e){\r\n            \te.printStackTrace();\r\n            }\r\n            \r\n            System.err.println(&quot;CurrencyConvertor: Returning null!: &quot;+rs.getString(names[0]));\r\n    \r\n            return null;\r\n        }\r\n    \r\n    \t@Override\r\n    \tpublic void nullSafeSet(\r\n                PreparedStatement st,\r\n                Object value,\r\n                int index,\r\n                SharedSessionContractImplementor session)\r\n                throws HibernateException, SQLException {\r\n            st.setObject(\r\n                index,\r\n                value != null ?\r\n                    ((Currency) value).name().toLowerCase() :\r\n                    null,\r\n                Types.OTHER\r\n            );\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f3YCH.png","title":"How to resolve Eclipse &#39;Type Class &quot;X&quot; could not be found&#39;","body":"<p>I am getting this annoying JPA validation error in Eclipse but cannot find where it defined anywhere, when the class is opened no error shows. But they do appear in the package explorer/problems tab.</p>\n<p>Heres an example of where CurrencyType.class is defined...</p>\n<pre><code>/**\n * UserSubscription\n * \n */\n@Entity\n@Table(name = &quot;user_subscriptions&quot;, schema = &quot;public&quot;)\n@SqlResultSetMapping(name = &quot;userSubsWithCount&quot;,\n    entities = {@EntityResult(entityClass = UserSubscription.class)},\n    columns = {@ColumnResult(name = &quot;TOTALCOUNT&quot;)}\n)\n@TypeDefs({\n    @TypeDef(name=&quot;currency_enum&quot;,typeClass=CurrencyType.class),\n    @TypeDef(name=&quot;sub_option_enum&quot;,typeClass=SubscriptionOptionType.class),\n    @TypeDef(name=&quot;sub_state_enum&quot;,typeClass=SubscriptionStateType.class)\n})\npublic class UserSubscription implements java.io.Serializable {\n</code></pre>\n<p>And the class itself (in a different package but same .jar)</p>\n<pre><code>public class CurrencyType extends org.hibernate.type.EnumType&lt;Currency&gt; {\n     \n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n\n\n    @Override\n    public Object nullSafeGet(ResultSet rs, String[] names, SharedSessionContractImplementor session, Object owner) throws SQLException{\n        try{\n            Currency type = Currency.valueOf(rs.getString(names[0]).toUpperCase());\n            if(type == null){\n                System.err.println(&quot;CurrencyConvertor: Null returned from CurrencyConvertor.valueOf, pgObject.getValue() = &quot; + rs.toString());\n            }else{\n                return type;\n            }\n        }catch(Exception e){\n            e.printStackTrace();\n        }\n        \n        System.err.println(&quot;CurrencyConvertor: Returning null!: &quot;+rs.getString(names[0]));\n\n        return null;\n    }\n\n    @Override\n    public void nullSafeSet(\n            PreparedStatement st,\n            Object value,\n            int index,\n            SharedSessionContractImplementor session)\n            throws HibernateException, SQLException {\n        st.setObject(\n            index,\n            value != null ?\n                ((Currency) value).name().toLowerCase() :\n                null,\n            Types.OTHER\n        );\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/f3YCH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f3YCH.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":332120,"reputation":4862,"user_id":657224,"accept_rate":17,"display_name":"Mike"},"score":0,"creation_date":1568581292,"post_id":57948128,"comment_id":102309256,"body_markdown":"If the default tomcat home page loads and the startup scripts are failing, it sounds like you already have an instance of tomcat running.","body":"If the default tomcat home page loads and the startup scripts are failing, it sounds like you already have an instance of tomcat running."},{"owner":{"account_id":16697479,"reputation":1,"user_id":12068250,"display_name":"eszu"},"score":0,"creation_date":1568583271,"post_id":57948128,"comment_id":102309577,"body_markdown":"Tomcat page with information &quot;If you&#39;re seeing this, you&#39;ve successfully installed Tomcat. Congratulations!&quot; shows up only when i run bat files in cmd. Any other/standard way to run tomcat just fail and any page never shows up. Also as i said earlier there is only one record of Tomcat service in Services and it&#39;s always stopped.","body":"Tomcat page with information &quot;If you&#39;re seeing this, you&#39;ve successfully installed Tomcat. Congratulations!&quot; shows up only when i run bat files in cmd. Any other/standard way to run tomcat just fail and any page never shows up. Also as i said earlier there is only one record of Tomcat service in Services and it&#39;s always stopped."},{"owner":{"account_id":16632557,"reputation":109,"user_id":12020088,"display_name":"EfficiencyOverflow"},"score":0,"creation_date":1568583713,"post_id":57948128,"comment_id":102309651,"body_markdown":"Are the service and the bat files in cmd launched with the same windows user, and does they share the same environment variables (JAVA_HOME, CATALINA_HOME, PATH, etc...) ?","body":"Are the service and the bat files in cmd launched with the same windows user, and does they share the same environment variables (JAVA_HOME, CATALINA_HOME, PATH, etc...) ?"}],"answers":[{"tags":[],"owner":{"account_id":699650,"reputation":16447,"user_id":1299005,"display_name":"Mark Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568747764,"creation_date":1568747764,"answer_id":57980698,"question_id":57948128,"body_markdown":"This sounds like https://bz.apache.org/bugzilla/show_bug.cgi?id=63625\r\n\r\nYou can either wait for the next round of Tomcat releases that will ship with Commons Daemon 1.2.1 or\r\n\r\n - download Commons Daemon 1.2.1 from https://commons.apache.org/proper/commons-daemon/download_daemon.cgi - you&#39;ll want commons-daemon-1.2.1-bin.zip\r\n - extract prunsrv.exe and prunmgr.exe and rename them to tomcat9.exe and tomcat9w.exe  and replace the 1.2.0 versions in your Tomcat install","title":"How to start Tomcat service properly?","body":"<p>This sounds like <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=63625\" rel=\"nofollow noreferrer\">https://bz.apache.org/bugzilla/show_bug.cgi?id=63625</a></p>\n\n<p>You can either wait for the next round of Tomcat releases that will ship with Commons Daemon 1.2.1 or</p>\n\n<ul>\n<li>download Commons Daemon 1.2.1 from <a href=\"https://commons.apache.org/proper/commons-daemon/download_daemon.cgi\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-daemon/download_daemon.cgi</a> - you'll want commons-daemon-1.2.1-bin.zip</li>\n<li>extract prunsrv.exe and prunmgr.exe and rename them to tomcat9.exe and tomcat9w.exe  and replace the 1.2.0 versions in your Tomcat install</li>\n</ul>\n"}],"owner":{"account_id":16697479,"reputation":1,"user_id":12068250,"display_name":"eszu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653581838,"creation_date":1568581077,"question_id":57948128,"body_markdown":"Tomcat (checked on 9 and 8.5) do not start after installation (in JRE path folder of my java12 installation is provided).\r\n\r\nI&#39;ve checked stackoverflow before posting this.\r\n\r\n1. Using Tomcat9.exe generate &quot;Apache Commons Daemon Service Runner has stopped working&quot; error with &quot;Cancel&quot; option.\r\n2. Using Tomcat9w.exe start config window in which there is written &quot;Service Status: Stopped&quot;. Clicking &quot;Start&quot; button shows bar that disappear when loaded to the half and no message shows up.\r\n3. Using Services provided by Windows I can find tomcat service but any attempt to run it give me &quot;Windows could not start the Apache Tomcat 9.0 Tomcat9 service on Local Computer. Error 1067: The process terminated unexpectedly.&quot;\r\n4. Using command line to run catalina.bat or startup.bat does not start service (checked in Services provided by Windows and in Tomcat9w) but in this case trying &quot;http://localhost8080&quot; actually works fine showing tomcat page (those are the only cases it&#39;s working).\r\n5. I&#39;ve checked every path and home stuff and also checked what&#39;s in registry editor - every thing looks fine. Log files (catalina and commons-daemon log files do not provide any errors, only information that things starting or running etc. Also I found no error sign in other log files)\r\n6. Configuration looks fine.\r\n\r\nI hope to run Tomcat as it should work. Thanks.","title":"How to start Tomcat service properly?","body":"<p>Tomcat (checked on 9 and 8.5) do not start after installation (in JRE path folder of my java12 installation is provided).</p>\n<p>I've checked stackoverflow before posting this.</p>\n<ol>\n<li>Using Tomcat9.exe generate &quot;Apache Commons Daemon Service Runner has stopped working&quot; error with &quot;Cancel&quot; option.</li>\n<li>Using Tomcat9w.exe start config window in which there is written &quot;Service Status: Stopped&quot;. Clicking &quot;Start&quot; button shows bar that disappear when loaded to the half and no message shows up.</li>\n<li>Using Services provided by Windows I can find tomcat service but any attempt to run it give me &quot;Windows could not start the Apache Tomcat 9.0 Tomcat9 service on Local Computer. Error 1067: The process terminated unexpectedly.&quot;</li>\n<li>Using command line to run catalina.bat or startup.bat does not start service (checked in Services provided by Windows and in Tomcat9w) but in this case trying &quot;http://localhost8080&quot; actually works fine showing tomcat page (those are the only cases it's working).</li>\n<li>I've checked every path and home stuff and also checked what's in registry editor - every thing looks fine. Log files (catalina and commons-daemon log files do not provide any errors, only information that things starting or running etc. Also I found no error sign in other log files)</li>\n<li>Configuration looks fine.</li>\n</ol>\n<p>I hope to run Tomcat as it should work. Thanks.</p>\n"},{"tags":["java","spring","spring-boot","camunda"],"answers":[{"tags":[],"owner":{"account_id":16712173,"reputation":43,"user_id":12079164,"display_name":"NoFace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1569850035,"creation_date":1569850035,"answer_id":58168898,"question_id":57973114,"body_markdown":"We solved it by using Asynchronus Continuation. \r\nA very good video about can be found here: \r\nhttps://www.youtube.com/watch?v=Nx4I8lNMUs0","title":"Is it possible to make Camunda Webapps (Spring-boot stand alone) update .bpmn through Tasklist via DB or Rest","body":"<p>We solved it by using Asynchronus Continuation. \nA very good video about can be found here: \n<a href=\"https://www.youtube.com/watch?v=Nx4I8lNMUs0\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=Nx4I8lNMUs0</a></p>\n"}],"owner":{"account_id":16712173,"reputation":43,"user_id":12079164,"display_name":"NoFace"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58168898,"answer_count":1,"score":1,"last_activity_date":1653581739,"creation_date":1568719041,"question_id":57973114,"body_markdown":"We are trying to deploy Camundas webapplications as standalone spring-boot application and also deploy .bpmn diagram and engine in another stand alone Spring-boot application. But only connect the two SB-apps via a shared DB or REST-calls, and still be able to update the task through Camundas webapplications.\r\n\r\nWe have managed to deploy them and connect them to a file based H2 database. So now we can do rest-calls to the .bpmn Spring-boot app and submit forms etc. and then make it show in the Webapps-tasklist/cockpit.\r\n\r\nThe problem is that if we try to submit the form through the tasklist, we get an error that it’s trying to look for a javaclass (which we have implemented in the engine-SB-application but not in the Webapplications-SB-application).\r\nIs there any way to make it so that we can use the web-apps-tools and submit the form from there (without changing that the .bpmn diagram uses java-classes)?\r\nEither through making the webapps update the database, or maybe through REST-calls?","title":"Is it possible to make Camunda Webapps (Spring-boot stand alone) update .bpmn through Tasklist via DB or Rest","body":"<p>We are trying to deploy Camundas webapplications as standalone spring-boot application and also deploy .bpmn diagram and engine in another stand alone Spring-boot application. But only connect the two SB-apps via a shared DB or REST-calls, and still be able to update the task through Camundas webapplications.</p>\n<p>We have managed to deploy them and connect them to a file based H2 database. So now we can do rest-calls to the .bpmn Spring-boot app and submit forms etc. and then make it show in the Webapps-tasklist/cockpit.</p>\n<p>The problem is that if we try to submit the form through the tasklist, we get an error that it’s trying to look for a javaclass (which we have implemented in the engine-SB-application but not in the Webapplications-SB-application).\nIs there any way to make it so that we can use the web-apps-tools and submit the form from there (without changing that the .bpmn diagram uses java-classes)?\nEither through making the webapps update the database, or maybe through REST-calls?</p>\n"},{"tags":["java","wildfly","event-listener","jbpm"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622638471,"creation_date":1622638471,"answer_id":67805499,"question_id":67805428,"body_markdown":"classes with v59 are emitted by __javac v15__ (or javac v16 and up, if using the `--release 15` switch). A `java` that complains about class files being higher than v52 is __java v8__.\r\n\r\nIn other words, you&#39;ve compiled code to class files targeted at java 15, and are trying to run these on a java 8, and obviously that square peg does not fit into that round hole.\r\n\r\nYou have 3 available solutions:\r\n\r\n* Upgrade the java to java15 or up. That&#39;d be the java running in that cloud / workbench thing.\r\n* Downgrade the java you&#39;re compiling with back down to jdk8. If the class file was e.g. produced on your workmachine, either learn how you configure which java is the default target, or if using an IDE edit the project settings, or if you can&#39;t figure any of this out, just uninstall it all and ensure only a java8 is installed. Not recommended.\r\n* Configure the build script (and, depending on how you&#39;ve set things up, your IDE configuration) that you want to target java8. If you&#39;re using `javac` on the command line, this boils down to adding a `--release 8` option when compiling. Find the equivalent of that for maven, gradle, eclipse, intellij - whatever you are using.\r\n\r\nAny one of these options will fix your problem. The list is exhaustive.\r\n","title":"How to fix this version of the Java Runtime only recognizes class file versions up to 52.0 in jbpm","body":"<p>classes with v59 are emitted by <strong>javac v15</strong> (or javac v16 and up, if using the <code>--release 15</code> switch). A <code>java</code> that complains about class files being higher than v52 is <strong>java v8</strong>.</p>\n<p>In other words, you've compiled code to class files targeted at java 15, and are trying to run these on a java 8, and obviously that square peg does not fit into that round hole.</p>\n<p>You have 3 available solutions:</p>\n<ul>\n<li>Upgrade the java to java15 or up. That'd be the java running in that cloud / workbench thing.</li>\n<li>Downgrade the java you're compiling with back down to jdk8. If the class file was e.g. produced on your workmachine, either learn how you configure which java is the default target, or if using an IDE edit the project settings, or if you can't figure any of this out, just uninstall it all and ensure only a java8 is installed. Not recommended.</li>\n<li>Configure the build script (and, depending on how you've set things up, your IDE configuration) that you want to target java8. If you're using <code>javac</code> on the command line, this boils down to adding a <code>--release 8</code> option when compiling. Find the equivalent of that for maven, gradle, eclipse, intellij - whatever you are using.</li>\n</ul>\n<p>Any one of these options will fix your problem. The list is exhaustive.</p>\n"},{"tags":[],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653580885,"creation_date":1653580885,"answer_id":72394742,"question_id":67805428,"body_markdown":"I had the same issue. I was creating the docker image with java 11 version and trying to deploy it with java 11 on Kubernetes using kubectl commands. \r\n\r\nHow I fixed it: I need to create the docker image again with java 8 version  afterthat I moved this image to docker hub and deploy it on Kubernetes.","title":"How to fix this version of the Java Runtime only recognizes class file versions up to 52.0 in jbpm","body":"<p>I had the same issue. I was creating the docker image with java 11 version and trying to deploy it with java 11 on Kubernetes using kubectl commands.</p>\n<p>How I fixed it: I need to create the docker image again with java 8 version  afterthat I moved this image to docker hub and deploy it on Kubernetes.</p>\n"}],"owner":{"account_id":21807349,"reputation":11,"user_id":16105370,"display_name":"javar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7090,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1653580885,"creation_date":1622638199,"question_id":67805428,"body_markdown":"I created a custom process listener for my jbpm and deployed the jar in artifact and built and deployed in project setting and gave deployment.xml resolver type as reflection and package name . classname in identifier\r\ni&#39;m stuck with this error when i try to build and deploy the jar in the project please help me guys. \r\n\r\n\r\n[The error i&#39;m facing][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pqopX.png","title":"How to fix this version of the Java Runtime only recognizes class file versions up to 52.0 in jbpm","body":"<p>I created a custom process listener for my jbpm and deployed the jar in artifact and built and deployed in project setting and gave deployment.xml resolver type as reflection and package name . classname in identifier\ni'm stuck with this error when i try to build and deploy the jar in the project please help me guys.</p>\n<p><a href=\"https://i.stack.imgur.com/pqopX.png\" rel=\"nofollow noreferrer\">The error i'm facing</a></p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":192576,"reputation":33947,"user_id":433790,"display_name":"ridgerunner"},"score":1,"creation_date":1309660085,"post_id":6560672,"comment_id":7732781,"body_markdown":"For starters, you need to escape the `[]` square brackets which are metacharacters in a regex.","body":"For starters, you need to escape the <code>[]</code> square brackets which are metacharacters in a regex."}],"answers":[{"tags":[],"owner":{"account_id":414580,"reputation":8014,"user_id":788883,"accept_rate":100,"display_name":"hoipolloi"},"down_vote_count":0,"up_vote_count":199,"is_accepted":true,"score":199,"last_activity_date":1542835401,"creation_date":1309658763,"answer_id":6560685,"question_id":6560672,"body_markdown":"You&#39;re on the right track. Now you just need to extract the desired group, as follows:\r\n\r\n    final Pattern pattern = Pattern.compile(&quot;&lt;tag&gt;(.+?)&lt;/tag&gt;&quot;, Pattern.DOTALL);\r\n    final Matcher matcher = pattern.matcher(&quot;&lt;tag&gt;String I want to extract&lt;/tag&gt;&quot;);\r\n    matcher.find();\r\n    System.out.println(matcher.group(1)); // Prints String I want to extract\r\n\r\nIf you want to extract multiple hits, try this:\r\n\r\n    public static void main(String[] args) {\r\n    \tfinal String str = &quot;&lt;tag&gt;apple&lt;/tag&gt;&lt;b&gt;hello&lt;/b&gt;&lt;tag&gt;orange&lt;/tag&gt;&lt;tag&gt;pear&lt;/tag&gt;&quot;;\r\n    \tSystem.out.println(Arrays.toString(getTagValues(str).toArray())); // Prints [apple, orange, pear]\r\n    }\r\n    \r\n    private static final Pattern TAG_REGEX = Pattern.compile(&quot;&lt;tag&gt;(.+?)&lt;/tag&gt;&quot;, Pattern.DOTALL);\r\n    \r\n    private static List&lt;String&gt; getTagValues(final String str) {\r\n    \tfinal List&lt;String&gt; tagValues = new ArrayList&lt;String&gt;();\r\n    \tfinal Matcher matcher = TAG_REGEX.matcher(str);\r\n    \twhile (matcher.find()) {\r\n    \t\ttagValues.add(matcher.group(1));\r\n    \t}\r\n    \treturn tagValues;\r\n    }\r\n\r\nHowever, I agree that regular expressions are not the best answer here. I&#39;d use XPath to find elements I&#39;m interested in. See [The Java XPath API][1] for more info.\r\n\r\n\r\n  [1]: http://www.ibm.com/developerworks/library/x-javaxpathapi/index.html#listing1","title":"Java regex to extract text between tags","body":"<p>You're on the right track. Now you just need to extract the desired group, as follows:</p>\n\n<pre><code>final Pattern pattern = Pattern.compile(\"&lt;tag&gt;(.+?)&lt;/tag&gt;\", Pattern.DOTALL);\nfinal Matcher matcher = pattern.matcher(\"&lt;tag&gt;String I want to extract&lt;/tag&gt;\");\nmatcher.find();\nSystem.out.println(matcher.group(1)); // Prints String I want to extract\n</code></pre>\n\n<p>If you want to extract multiple hits, try this:</p>\n\n<pre><code>public static void main(String[] args) {\n    final String str = \"&lt;tag&gt;apple&lt;/tag&gt;&lt;b&gt;hello&lt;/b&gt;&lt;tag&gt;orange&lt;/tag&gt;&lt;tag&gt;pear&lt;/tag&gt;\";\n    System.out.println(Arrays.toString(getTagValues(str).toArray())); // Prints [apple, orange, pear]\n}\n\nprivate static final Pattern TAG_REGEX = Pattern.compile(\"&lt;tag&gt;(.+?)&lt;/tag&gt;\", Pattern.DOTALL);\n\nprivate static List&lt;String&gt; getTagValues(final String str) {\n    final List&lt;String&gt; tagValues = new ArrayList&lt;String&gt;();\n    final Matcher matcher = TAG_REGEX.matcher(str);\n    while (matcher.find()) {\n        tagValues.add(matcher.group(1));\n    }\n    return tagValues;\n}\n</code></pre>\n\n<p>However, I agree that regular expressions are not the best answer here. I'd use XPath to find elements I'm interested in. See <a href=\"http://www.ibm.com/developerworks/library/x-javaxpathapi/index.html#listing1\" rel=\"noreferrer\">The Java XPath API</a> for more info.</p>\n"},{"tags":[],"owner":{"account_id":162054,"reputation":3671,"user_id":383277,"accept_rate":88,"display_name":"Shirik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1309658801,"creation_date":1309658801,"answer_id":6560686,"question_id":6560672,"body_markdown":"I prefix this reply with &quot;you shouldn&#39;t use a regular expression to parse XML -- it&#39;s only going to result in edge cases that don&#39;t work right, and a forever-increasing-in-complexity regex while you try to fix it.&quot;\r\n\r\nThat being said, you need to proceed by matching the string and grabbing the group you want:\r\n\r\n    if (m.matches())\r\n    {\r\n       String result = m.group(1);\r\n       // do something with result\r\n    }","title":"Java regex to extract text between tags","body":"<p>I prefix this reply with \"you shouldn't use a regular expression to parse XML -- it's only going to result in edge cases that don't work right, and a forever-increasing-in-complexity regex while you try to fix it.\"</p>\n\n<p>That being said, you need to proceed by matching the string and grabbing the group you want:</p>\n\n<pre><code>if (m.matches())\n{\n   String result = m.group(1);\n   // do something with result\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39274,"reputation":6968,"user_id":113173,"accept_rate":75,"display_name":"jdc0589"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1309715988,"creation_date":1309659035,"answer_id":6560694,"question_id":6560672,"body_markdown":"To be quite honest, regular expressions are not the best idea for this type of parsing. The regular expression you posted will probably work great for simple cases, but if things get more complex you are going to have huge problems (same reason why you cant reliably parse HTML with regular expressions). I know you probably don&#39;t want to hear this, I know I didn&#39;t when I asked the same type of questions, but string parsing became WAY more reliable for me after I stopped trying to use regular expressions for everything.\r\n\r\n[jTopas][1] is an AWESOME tokenizer that makes it quite easy to write parsers by hand (I STRONGLY suggest jtopas over the standard java scanner/etc.. libraries). If you want to see jtopas in action, [here][2] are some parsers I wrote using jTopas to parse [this][3] type of file \r\n\r\n**If you are parsing XML files, you should be using an xml parser library. Dont do it youself unless you are just doing it for fun, there are plently of proven options out there**\r\n\r\n  [1]: http://jtopas.sourceforge.net/jtopas/index.html\r\n  [2]: https://github.com/jdc0589/jTranslate/tree/master/src/jtranslate/parser\r\n  [3]: https://github.com/jdc0589/jTranslate/blob/master/test/testGrammars/parseTest.jtg","title":"Java regex to extract text between tags","body":"<p>To be quite honest, regular expressions are not the best idea for this type of parsing. The regular expression you posted will probably work great for simple cases, but if things get more complex you are going to have huge problems (same reason why you cant reliably parse HTML with regular expressions). I know you probably don't want to hear this, I know I didn't when I asked the same type of questions, but string parsing became WAY more reliable for me after I stopped trying to use regular expressions for everything.</p>\n\n<p><a href=\"http://jtopas.sourceforge.net/jtopas/index.html\">jTopas</a> is an AWESOME tokenizer that makes it quite easy to write parsers by hand (I STRONGLY suggest jtopas over the standard java scanner/etc.. libraries). If you want to see jtopas in action, <a href=\"https://github.com/jdc0589/jTranslate/tree/master/src/jtranslate/parser\">here</a> are some parsers I wrote using jTopas to parse <a href=\"https://github.com/jdc0589/jTranslate/blob/master/test/testGrammars/parseTest.jtg\">this</a> type of file </p>\n\n<p><strong>If you are parsing XML files, you should be using an xml parser library. Dont do it youself unless you are just doing it for fun, there are plently of proven options out there</strong></p>\n"},{"tags":[],"owner":{"account_id":3674984,"reputation":29,"user_id":3061271,"display_name":"Bibhuti Agarwal"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1386158613,"creation_date":1386158613,"answer_id":20374876,"question_id":6560672,"body_markdown":"\t\tfinal Pattern pattern = Pattern.compile(&quot;tag\\\\](.+?)\\\\[/tag&quot;);\r\n\t\tfinal Matcher matcher = pattern.matcher(&quot;[tag]String I want to extract[/tag]&quot;);\r\n\t\tmatcher.find();\r\n\t\tSystem.out.println(matcher.group(1));","title":"Java regex to extract text between tags","body":"<pre><code>    final Pattern pattern = Pattern.compile(\"tag\\\\](.+?)\\\\[/tag\");\n    final Matcher matcher = pattern.matcher(\"[tag]String I want to extract[/tag]\");\n    matcher.find();\n    System.out.println(matcher.group(1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":211632,"reputation":1403,"user_id":463918,"display_name":"Gorky"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1560423838,"creation_date":1441241393,"answer_id":32365349,"question_id":6560672,"body_markdown":"A generic,simpler and a bit primitive approach to find tag, attribute and value\r\n\r\n        Pattern pattern = Pattern.compile(&quot;&lt;(\\\\w+)( +.+)*&gt;((.*))&lt;/\\\\1&gt;&quot;);\r\n        System.out.println(pattern.matcher(&quot;&lt;asd&gt; TEST&lt;/asd&gt;&quot;).find());\r\n        System.out.println(pattern.matcher(&quot;&lt;asd TEST&lt;/asd&gt;&quot;).find());\r\n        System.out.println(pattern.matcher(&quot;&lt;asd attr=&#39;3&#39;&gt; TEST&lt;/asd&gt;&quot;).find());\r\n        System.out.println(pattern.matcher(&quot;&lt;asd&gt; &lt;x&gt;TEST&lt;x&gt;asd&gt;&quot;).find());\r\n        System.out.println(&quot;-------&quot;);\r\n        Matcher matcher = pattern.matcher(&quot;&lt;as x&gt; TEST&lt;/as&gt;&quot;);\r\n        if (matcher.find()) {\r\n            for (int i = 0; i &lt;= matcher.groupCount(); i++) {\r\n                System.out.println(i + &quot;:&quot; + matcher.group(i));\r\n            }\r\n        }","title":"Java regex to extract text between tags","body":"<p>A generic,simpler and a bit primitive approach to find tag, attribute and value</p>\n\n<pre><code>    Pattern pattern = Pattern.compile(\"&lt;(\\\\w+)( +.+)*&gt;((.*))&lt;/\\\\1&gt;\");\n    System.out.println(pattern.matcher(\"&lt;asd&gt; TEST&lt;/asd&gt;\").find());\n    System.out.println(pattern.matcher(\"&lt;asd TEST&lt;/asd&gt;\").find());\n    System.out.println(pattern.matcher(\"&lt;asd attr='3'&gt; TEST&lt;/asd&gt;\").find());\n    System.out.println(pattern.matcher(\"&lt;asd&gt; &lt;x&gt;TEST&lt;x&gt;asd&gt;\").find());\n    System.out.println(\"-------\");\n    Matcher matcher = pattern.matcher(\"&lt;as x&gt; TEST&lt;/as&gt;\");\n    if (matcher.find()) {\n        for (int i = 0; i &lt;= matcher.groupCount(); i++) {\n            System.out.println(i + \":\" + matcher.group(i));\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6363599,"reputation":421,"user_id":4938289,"display_name":"Heriberto Rivera"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1512386693,"creation_date":1445631124,"answer_id":33310649,"question_id":6560672,"body_markdown":"Try this:\r\n    \r\n    Pattern p = Pattern.compile(?&lt;=\\\\&lt;(any_tag)\\\\&gt;)(\\\\s*.*\\\\s*)(?=\\\\&lt;\\\\/(any_tag)\\\\&gt;);\r\n    Matcher m = p.matcher(anyString);\r\n\r\nFor example: \r\n\r\n    String str = &quot;&lt;TR&gt; &lt;TD&gt;1Q Ene&lt;/TD&gt; &lt;TD&gt;3.08%&lt;/TD&gt; &lt;/TR&gt;&quot;;\r\n    Pattern p = Pattern.compile(&quot;(?&lt;=\\\\&lt;TD\\\\&gt;)(\\\\s*.*\\\\s*)(?=\\\\&lt;\\\\/TD\\\\&gt;)&quot;);\r\n    Matcher m = p.matcher(str);\r\n    while(m.find()){\r\n       Log.e(&quot;Regex&quot;,&quot; Regex result: &quot; + m.group())       \r\n    }\r\n\r\nOutput:\r\n\r\n10 Ene\r\n\r\n3.08%","title":"Java regex to extract text between tags","body":"<p>Try this:</p>\n\n<pre><code>Pattern p = Pattern.compile(?&lt;=\\\\&lt;(any_tag)\\\\&gt;)(\\\\s*.*\\\\s*)(?=\\\\&lt;\\\\/(any_tag)\\\\&gt;);\nMatcher m = p.matcher(anyString);\n</code></pre>\n\n<p>For example: </p>\n\n<pre><code>String str = \"&lt;TR&gt; &lt;TD&gt;1Q Ene&lt;/TD&gt; &lt;TD&gt;3.08%&lt;/TD&gt; &lt;/TR&gt;\";\nPattern p = Pattern.compile(\"(?&lt;=\\\\&lt;TD\\\\&gt;)(\\\\s*.*\\\\s*)(?=\\\\&lt;\\\\/TD\\\\&gt;)\");\nMatcher m = p.matcher(str);\nwhile(m.find()){\n   Log.e(\"Regex\",\" Regex result: \" + m.group())       \n}\n</code></pre>\n\n<p>Output:</p>\n\n<p>10 Ene</p>\n\n<p>3.08%</p>\n"},{"tags":[],"owner":{"account_id":7178466,"reputation":141,"user_id":5483433,"display_name":"Shubham Khurana"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1500907125,"creation_date":1500907125,"answer_id":45283413,"question_id":6560672,"body_markdown":"\t\tString s = &quot;&lt;B&gt;&lt;G&gt;Test&lt;/G&gt;&lt;/B&gt;&lt;C&gt;Test1&lt;/C&gt;&quot;;\r\n\t\t\r\n\t\tString pattern =&quot;\\\\&lt;(.+)\\\\&gt;([^\\\\&lt;\\\\&gt;]+)\\\\&lt;\\\\/\\\\1\\\\&gt;&quot;;\r\n\r\n\t\t   int count = 0;\r\n\r\n\t\t    Pattern p = Pattern.compile(pattern);\r\n\t\t    Matcher m =  p.matcher(s);\r\n\t\t    while(m.find())\r\n\t\t    {\r\n\t\t        System.out.println(m.group(2));\r\n\t\t        count++;\r\n\t\t    }\r\n","title":"Java regex to extract text between tags","body":"<pre><code>    String s = \"&lt;B&gt;&lt;G&gt;Test&lt;/G&gt;&lt;/B&gt;&lt;C&gt;Test1&lt;/C&gt;\";\n\n    String pattern =\"\\\\&lt;(.+)\\\\&gt;([^\\\\&lt;\\\\&gt;]+)\\\\&lt;\\\\/\\\\1\\\\&gt;\";\n\n       int count = 0;\n\n        Pattern p = Pattern.compile(pattern);\n        Matcher m =  p.matcher(s);\n        while(m.find())\n        {\n            System.out.println(m.group(2));\n            count++;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25396942,"reputation":1,"user_id":19207067,"display_name":"Marryam Shahzad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653580878,"creation_date":1653580878,"answer_id":72394739,"question_id":6560672,"body_markdown":"This works for me, use in your main method below Scanner input. Works for Hackerrank &quot;Tag Content Extractor&quot; also.\r\n\r\n      boolean matchFound = false;\r\n            Pattern r = Pattern.compile(&quot;&lt;(.+)&gt;([^&lt;]+)&lt;/\\\\1&gt;&quot;);\r\n            Matcher m = r.matcher(line);\r\n\r\n            while (m.find()) {\r\n                System.out.println(m.group(2));\r\n                matchFound = true;\r\n            }\r\n            if ( ! matchFound) {\r\n                System.out.println(&quot;None&quot;);\r\n            }\r\n\t\t\t\r\n\t\t\ttestCases--;","title":"Java regex to extract text between tags","body":"<p>This works for me, use in your main method below Scanner input. Works for Hackerrank &quot;Tag Content Extractor&quot; also.</p>\n<pre><code>  boolean matchFound = false;\n        Pattern r = Pattern.compile(&quot;&lt;(.+)&gt;([^&lt;]+)&lt;/\\\\1&gt;&quot;);\n        Matcher m = r.matcher(line);\n\n        while (m.find()) {\n            System.out.println(m.group(2));\n            matchFound = true;\n        }\n        if ( ! matchFound) {\n            System.out.println(&quot;None&quot;);\n        }\n        \n        testCases--;\n</code></pre>\n"}],"owner":{"account_id":414840,"reputation":7479,"user_id":789294,"accept_rate":83,"display_name":"b10hazard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200910,"favorite_count":0,"down_vote_count":0,"up_vote_count":90,"accepted_answer_id":6560685,"answer_count":8,"score":90,"last_activity_date":1653580878,"creation_date":1309658514,"question_id":6560672,"body_markdown":"I have a file with some custom tags and I&#39;d like to write a regular expression to extract the string between the tags.  For example if my tag is:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    [customtag]String I want to extract[/customtag]\r\n\r\nHow would I write a regular expression to extract only the string between the tags.  This code seems like a step in the right direction:\r\n\r\n    Pattern p = Pattern.compile(&quot;[customtag](.+?)[/customtag]&quot;);\r\n    Matcher m = p.matcher(&quot;[customtag]String I want to extract[/customtag]&quot;);\r\n\r\nNot sure what to do next.  Any ideas?  Thanks.\r\n\r\n","title":"Java regex to extract text between tags","body":"<p>I have a file with some custom tags and I'd like to write a regular expression to extract the string between the tags.  For example if my tag is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[customtag]String I want to extract[/customtag]\n</code></pre>\n\n<p>How would I write a regular expression to extract only the string between the tags.  This code seems like a step in the right direction:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"[customtag](.+?)[/customtag]\");\nMatcher m = p.matcher(\"[customtag]String I want to extract[/customtag]\");\n</code></pre>\n\n<p>Not sure what to do next.  Any ideas?  Thanks.</p>\n"},{"tags":["java","scala","apache-spark","kubernetes","pyspark"],"answers":[{"tags":[],"owner":{"account_id":283749,"reputation":9631,"user_id":581442,"accept_rate":95,"display_name":"Benjamin Tan Wei Hao"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653580438,"creation_date":1653580438,"answer_id":72394628,"question_id":72391610,"body_markdown":"Could you try the following `Dockerfile`:\r\n\r\n```Dockerfile\r\nFROM datamechanics/spark:3.1.1-hadoop-3.2.0-java-8-scala-2.12-python-3.8-dm17\r\nUSER root\r\nWORKDIR /app\r\nCOPY main.py .\r\n```\r\n\r\nAnd then try deploying the `SparkApplication`:\r\n\r\n```yaml\r\napiVersion: sparkoperator.k8s.io/v1beta2\r\nkind: SparkApplication\r\nmetadata:\r\n  name: sparky-pi\r\n  namespace: spark\r\nspec:\r\n  type: Python\r\n  mode: cluster\r\n  pythonVersion: &quot;3&quot;\r\n  image: &lt;YOUR_IMAGE_GOES_HERE&gt;:latest\r\n  mainApplicationFile: local:///app/main.py\r\n  sparkVersion: &quot;3.1.1&quot;\r\n  restartPolicy:\r\n    type: OnFailure\r\n    onFailureRetries: 3\r\n    onFailureRetryInterval: 10\r\n    onSubmissionFailureRetries: 5\r\n    onSubmissionFailureRetryInterval: 20\r\n  driver:\r\n    cores: 1\r\n    coreLimit: &quot;1200m&quot;\r\n    memory: &quot;512m&quot;\r\n    labels:\r\n      version: 3.1.1\r\n    serviceAccount: spark\r\n  executor:\r\n    serviceAccount: spark\r\n    cores: 1\r\n    instances: 1\r\n    memory: &quot;512m&quot;\r\n    labels:\r\n      version: 3.1.1\r\n```\r\n\r\nI ran this on my Kubernetes cluster and was able to get:\r\n\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Iq5pE.png\r\n\r\n\r\nI think here the base image `datamechanics/spark:3.1.1-hadoop-3.2.0-java-8-scala-2.12-python-3.8-dm17` is key. Props to the folks who put it together! \r\n\r\nSource: https://towardsdatascience.com/optimized-docker-images-for-apache-spark-now-public-on-dockerhub-1f9f8fed1665","title":"ClassCast Exception Encountered When Trying To Connect To Delta Lake From Spark K8s Operator","body":"<p>Could you try the following <code>Dockerfile</code>:</p>\n<pre><code>FROM datamechanics/spark:3.1.1-hadoop-3.2.0-java-8-scala-2.12-python-3.8-dm17\nUSER root\nWORKDIR /app\nCOPY main.py .\n</code></pre>\n<p>And then try deploying the <code>SparkApplication</code>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: sparkoperator.k8s.io/v1beta2\nkind: SparkApplication\nmetadata:\n  name: sparky-pi\n  namespace: spark\nspec:\n  type: Python\n  mode: cluster\n  pythonVersion: &quot;3&quot;\n  image: &lt;YOUR_IMAGE_GOES_HERE&gt;:latest\n  mainApplicationFile: local:///app/main.py\n  sparkVersion: &quot;3.1.1&quot;\n  restartPolicy:\n    type: OnFailure\n    onFailureRetries: 3\n    onFailureRetryInterval: 10\n    onSubmissionFailureRetries: 5\n    onSubmissionFailureRetryInterval: 20\n  driver:\n    cores: 1\n    coreLimit: &quot;1200m&quot;\n    memory: &quot;512m&quot;\n    labels:\n      version: 3.1.1\n    serviceAccount: spark\n  executor:\n    serviceAccount: spark\n    cores: 1\n    instances: 1\n    memory: &quot;512m&quot;\n    labels:\n      version: 3.1.1\n</code></pre>\n<p>I ran this on my Kubernetes cluster and was able to get:</p>\n<p><a href=\"https://i.stack.imgur.com/Iq5pE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Iq5pE.png\" alt=\"\" /></a></p>\n<p>I think here the base image <code>datamechanics/spark:3.1.1-hadoop-3.2.0-java-8-scala-2.12-python-3.8-dm17</code> is key. Props to the folks who put it together!</p>\n<p>Source: <a href=\"https://towardsdatascience.com/optimized-docker-images-for-apache-spark-now-public-on-dockerhub-1f9f8fed1665\" rel=\"nofollow noreferrer\">https://towardsdatascience.com/optimized-docker-images-for-apache-spark-now-public-on-dockerhub-1f9f8fed1665</a></p>\n"}],"owner":{"account_id":25395301,"reputation":43,"user_id":19205660,"display_name":"Varun Mallya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72394628,"answer_count":1,"score":4,"last_activity_date":1653580438,"creation_date":1653567031,"question_id":72391610,"body_markdown":"Have a simple program as shown below\r\n```\r\nimport pyspark\r\n\r\nbuilder = (\r\n    pyspark.sql.SparkSession.builder.appName(&quot;MyApp&quot;)\r\n    .config(&quot;spark.sql.extensions&quot;, &quot;io.delta.sql.DeltaSparkSessionExtension&quot;)\r\n    .config(\r\n        &quot;spark.sql.catalog.spark_catalog&quot;,\r\n        &quot;org.apache.spark.sql.delta.catalog.DeltaCatalog&quot;,\r\n    )\r\n)\r\n\r\nspark = builder.getOrCreate()\r\n\r\nspark._jsc.hadoopConfiguration().set(\r\n    &quot;fs.gs.impl&quot;, &quot;com.google.cloud.hadoop.fs.gcs.GoogleHadoopFileSystem&quot;\r\n)\r\nspark._jsc.hadoopConfiguration().set(\r\n    &quot;fs.AbstractFileSystem.gs.impl&quot;, &quot;com.google.cloud.hadoop.fs.gcs.GoogleHadoopFS&quot;\r\n)\r\n\r\ndf = spark.read.format(&quot;delta&quot;).load(\r\n    &quot;gs://org/delta/bronze/mongodb/registration/audits&quot;\r\n)\r\nprint(df.show())\r\n```\r\nThis is packaged into a container using the below Dockerfile\r\n```\r\nFROM varunmallya/spark-pi:3.2.1\r\nUSER root\r\nADD gcs-connector-hadoop2-latest.jar $SPARK_HOME/jars\r\nWORKDIR /app\r\nCOPY main.py .\r\n```\r\nThis app is then deployed as a SparkApplication on k8s using the [spark-on-k8s](https://github.com/GoogleCloudPlatform/spark-on-k8s-operator/blob/master/docs/user-guide.md#specifying-deployment-mode) operator\r\n\r\nI expected to see 20 rows of data but instead got this exception\r\n```\r\njava.lang.ClassCastException: cannot assign instance of java.lang.invoke.SerializedLambda to field org.apache.spark.sql.catalyst.expressions.ScalaUDF.f of type scala.Function1 in instance of org.apache.spark.sql.catalyst.expressions.ScalaUDF\r\n```\r\nHowever when I run this in local jupyter notebook I can see the desired. I have added the necessary package - *io.delta:delta-core_2.12:1.2.0* via the crd and have also ensured the *gcs-connector-hadoop2-latest.jar* is made available. \r\n\r\nWhat could the issue be?","title":"ClassCast Exception Encountered When Trying To Connect To Delta Lake From Spark K8s Operator","body":"<p>Have a simple program as shown below</p>\n<pre><code>import pyspark\n\nbuilder = (\n    pyspark.sql.SparkSession.builder.appName(&quot;MyApp&quot;)\n    .config(&quot;spark.sql.extensions&quot;, &quot;io.delta.sql.DeltaSparkSessionExtension&quot;)\n    .config(\n        &quot;spark.sql.catalog.spark_catalog&quot;,\n        &quot;org.apache.spark.sql.delta.catalog.DeltaCatalog&quot;,\n    )\n)\n\nspark = builder.getOrCreate()\n\nspark._jsc.hadoopConfiguration().set(\n    &quot;fs.gs.impl&quot;, &quot;com.google.cloud.hadoop.fs.gcs.GoogleHadoopFileSystem&quot;\n)\nspark._jsc.hadoopConfiguration().set(\n    &quot;fs.AbstractFileSystem.gs.impl&quot;, &quot;com.google.cloud.hadoop.fs.gcs.GoogleHadoopFS&quot;\n)\n\ndf = spark.read.format(&quot;delta&quot;).load(\n    &quot;gs://org/delta/bronze/mongodb/registration/audits&quot;\n)\nprint(df.show())\n</code></pre>\n<p>This is packaged into a container using the below Dockerfile</p>\n<pre><code>FROM varunmallya/spark-pi:3.2.1\nUSER root\nADD gcs-connector-hadoop2-latest.jar $SPARK_HOME/jars\nWORKDIR /app\nCOPY main.py .\n</code></pre>\n<p>This app is then deployed as a SparkApplication on k8s using the <a href=\"https://github.com/GoogleCloudPlatform/spark-on-k8s-operator/blob/master/docs/user-guide.md#specifying-deployment-mode\" rel=\"nofollow noreferrer\">spark-on-k8s</a> operator</p>\n<p>I expected to see 20 rows of data but instead got this exception</p>\n<pre><code>java.lang.ClassCastException: cannot assign instance of java.lang.invoke.SerializedLambda to field org.apache.spark.sql.catalyst.expressions.ScalaUDF.f of type scala.Function1 in instance of org.apache.spark.sql.catalyst.expressions.ScalaUDF\n</code></pre>\n<p>However when I run this in local jupyter notebook I can see the desired. I have added the necessary package - <em>io.delta:delta-core_2.12:1.2.0</em> via the crd and have also ensured the <em>gcs-connector-hadoop2-latest.jar</em> is made available.</p>\n<p>What could the issue be?</p>\n"},{"tags":["java","loops","math","numbers"],"comments":[{"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"score":0,"creation_date":1653491908,"post_id":72380184,"comment_id":127866897,"body_markdown":"hint1 - where are you using value1 and value2? hint2 - with this - while(i &lt;=0), how many times do you think your loop would run?","body":"hint1 - where are you using value1 and value2? hint2 - with this - while(i &lt;=0), how many times do you think your loop would run?"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1653492107,"post_id":72380184,"comment_id":127866979,"body_markdown":"Also you do not need to declare a `new Scanner` every time you take an input, just declare it once and keep using it.","body":"Also you do not need to declare a <code>new Scanner</code> every time you take an input, just declare it once and keep using it."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653580267,"creation_date":1653504286,"answer_id":72382752,"question_id":72380184,"body_markdown":"With your current approach here are some observations.\r\n- You only need one Scanner.\r\n- You are testing `i` for parity where you should be testing the input range&lt;br&gt;\r\n   e.g should be something like:\r\n            \r\n            while (value1 &lt;= value2) {\r\n                if (value1 % 2 == 1) {\r\n                   sumOdd = sumOdd + value1;\r\n- don&#39;t forget to increment `value1`\r\n- When printing, don&#39;t label each sum with just `sum`. Use a descriptive name            \r\n\r\n**Alternative approach**\r\n\r\nWith a little math you can do this in `O(1)` time.\r\n\r\n- For the sum of `1 thru n` values, `n(n+1)/2)` will give the sum\r\n- Similarly for `k thru n` values, `(n-k+1)(n+k)/2` will give the sum of those values.\r\n- now consider a range of numbers like `2 3 4 5 6`.  The total number of even values is `3` which are `2, 4, and 6`.  This is true even if you have `1 2 3 4 5 6 7`.\r\n- for any even value `s`, the next one lower is `((s-1)`. So if `s = 4` would be `3`\r\n- for any odd value  `s`, the next lower one would be `(s-1)|1`.  So for `s == 4`, `(s-1) = 3 and 3|1 == 3`. The `OR` simply sets the low order bit to make the value odd or let it stay odd.  \r\n- Similarly for any value `e`, `e|1` will be either the same odd value or the next highest.\r\n\r\nNow there is enough information to compute the sum of the `even` and `odd` values between `s and e`. \r\n\r\n\r\n\r\nFor given int e and int s;\r\n```\r\nint totalSum = ((e+s)*(e-s+1))/2;\r\ne = (e|1);\r\ns = (s-1)|1;\r\nint evenCount = (e-s)/2;\r\nint sumEven = ((e - s + 1) * (evenCount))/2;\r\nint sumOdd = totalSum - sumEven;\r\n```\r\nHere is how to verify it.\r\n- compute the even and odd sums using an `IntStream` of the ranges, filtering out even and odd values as appropriate\r\n- next use the above methods for computing the same values.\r\n- compare corresponding sums and report any discrepancies.\r\n```\r\nRandom rnd = new Random();\r\nfor (int i = 0; i &lt; 200000; i++) {\r\n\tint s = rnd.nextInt(200) +100;\r\n\tint e = rnd.nextInt(500) + s;\r\n\tint compEven = IntStream.rangeClosed(s, e)\r\n\t\t\t.filter(r -&gt; r % 2 == 0).sum();\r\n\tint compOdd = IntStream.rangeClosed(s, e)\r\n\t\t\t.filter(r -&gt; r % 2 == 1).sum();\r\n\t\r\n\tint totalSum = (e + s) * (e - s + 1) / 2;\r\n\te |= 1;\r\n\ts = (s - 1) | 1;\r\n\tint evenCount = (e - s + 1) / 2;\r\n\tint evenSum = ((e + s) * evenCount) / 2;\r\n\tint oddSum = totalSum - evenSum;\r\n\tif (evenSum != compEven || oddSum != compOdd) {\r\n\t\tSystem.out.println(&quot;Oops - sums don&#39;t match&quot;);\r\n\t}\r\n}\r\n```\r\nNote: depending on the range you may need to use long or BigInteger types to avoid overflow.","title":"Addition of odd and even numbers from range of L1 and L2 provided by user input","body":"<p>With your current approach here are some observations.</p>\n<ul>\n<li><p>You only need one Scanner.</p>\n</li>\n<li><p>You are testing <code>i</code> for parity where you should be testing the input range<br>\ne.g should be something like:</p>\n<pre><code>      while (value1 &lt;= value2) {\n          if (value1 % 2 == 1) {\n             sumOdd = sumOdd + value1;\n</code></pre>\n</li>\n<li><p>don't forget to increment <code>value1</code></p>\n</li>\n<li><p>When printing, don't label each sum with just <code>sum</code>. Use a descriptive name</p>\n</li>\n</ul>\n<p><strong>Alternative approach</strong></p>\n<p>With a little math you can do this in <code>O(1)</code> time.</p>\n<ul>\n<li>For the sum of <code>1 thru n</code> values, <code>n(n+1)/2)</code> will give the sum</li>\n<li>Similarly for <code>k thru n</code> values, <code>(n-k+1)(n+k)/2</code> will give the sum of those values.</li>\n<li>now consider a range of numbers like <code>2 3 4 5 6</code>.  The total number of even values is <code>3</code> which are <code>2, 4, and 6</code>.  This is true even if you have <code>1 2 3 4 5 6 7</code>.</li>\n<li>for any even value <code>s</code>, the next one lower is <code>((s-1)</code>. So if <code>s = 4</code> would be <code>3</code></li>\n<li>for any odd value  <code>s</code>, the next lower one would be <code>(s-1)|1</code>.  So for <code>s == 4</code>, <code>(s-1) = 3 and 3|1 == 3</code>. The <code>OR</code> simply sets the low order bit to make the value odd or let it stay odd.</li>\n<li>Similarly for any value <code>e</code>, <code>e|1</code> will be either the same odd value or the next highest.</li>\n</ul>\n<p>Now there is enough information to compute the sum of the <code>even</code> and <code>odd</code> values between <code>s and e</code>.</p>\n<p>For given int e and int s;</p>\n<pre><code>int totalSum = ((e+s)*(e-s+1))/2;\ne = (e|1);\ns = (s-1)|1;\nint evenCount = (e-s)/2;\nint sumEven = ((e - s + 1) * (evenCount))/2;\nint sumOdd = totalSum - sumEven;\n</code></pre>\n<p>Here is how to verify it.</p>\n<ul>\n<li>compute the even and odd sums using an <code>IntStream</code> of the ranges, filtering out even and odd values as appropriate</li>\n<li>next use the above methods for computing the same values.</li>\n<li>compare corresponding sums and report any discrepancies.</li>\n</ul>\n<pre><code>Random rnd = new Random();\nfor (int i = 0; i &lt; 200000; i++) {\n    int s = rnd.nextInt(200) +100;\n    int e = rnd.nextInt(500) + s;\n    int compEven = IntStream.rangeClosed(s, e)\n            .filter(r -&gt; r % 2 == 0).sum();\n    int compOdd = IntStream.rangeClosed(s, e)\n            .filter(r -&gt; r % 2 == 1).sum();\n    \n    int totalSum = (e + s) * (e - s + 1) / 2;\n    e |= 1;\n    s = (s - 1) | 1;\n    int evenCount = (e - s + 1) / 2;\n    int evenSum = ((e + s) * evenCount) / 2;\n    int oddSum = totalSum - evenSum;\n    if (evenSum != compEven || oddSum != compOdd) {\n        System.out.println(&quot;Oops - sums don't match&quot;);\n    }\n}\n</code></pre>\n<p>Note: depending on the range you may need to use long or BigInteger types to avoid overflow.</p>\n"}],"owner":{"account_id":25387974,"reputation":1,"user_id":19199497,"display_name":"Oryctes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72382752,"answer_count":1,"score":0,"last_activity_date":1653580267,"creation_date":1653491522,"question_id":72380184,"body_markdown":"I&#39;m struggling with this task.\r\nUser is providing numbers L1 and L2. Add all odd numbers from range L1,L2 and all even numbers from this range and display the sums. I have to make it in 3 ways, using: for, while and do while loops.\r\nMy for loop works perfectly, but while is displaying some higher scores.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class PPO4b {\r\n    \r\n        public static void main(String[] args) {\r\n            \r\n            Scanner value1Check = new Scanner(System.in);\r\n            System.out.println(&quot;Provide first value: &quot;);\r\n            int value1 = value1Check.nextInt();\r\n            \r\n            Scanner value2Check = new Scanner(System.in);\r\n            System.out.println(&quot;Provide second value: &quot;);\r\n            int value2 = value2Check.nextInt();\r\n    \r\n            int sumOdd = 0;\r\n            int sumEven = 0;\r\n            int i = 0;\r\n    \r\n            while (i &lt;= 0) {\r\n                if (i % 2 == 1) {\r\n                    sumOdd = sumOdd + i;\r\n                } else {\r\n                    sumEven = sumEven + i;\r\n                }\r\n                i = i + 1;\r\n            }\r\n            System.out.println(&quot;Sum is equal to: &quot; + sumEven);\r\n            System.out.println(&quot;Sum is equal to: &quot; + sumOdd);\r\n        }\r\n    }\r\n     ","title":"Addition of odd and even numbers from range of L1 and L2 provided by user input","body":"<p>I'm struggling with this task.\nUser is providing numbers L1 and L2. Add all odd numbers from range L1,L2 and all even numbers from this range and display the sums. I have to make it in 3 ways, using: for, while and do while loops.\nMy for loop works perfectly, but while is displaying some higher scores.</p>\n<pre><code>import java.util.Scanner;\n\npublic class PPO4b {\n\n    public static void main(String[] args) {\n        \n        Scanner value1Check = new Scanner(System.in);\n        System.out.println(&quot;Provide first value: &quot;);\n        int value1 = value1Check.nextInt();\n        \n        Scanner value2Check = new Scanner(System.in);\n        System.out.println(&quot;Provide second value: &quot;);\n        int value2 = value2Check.nextInt();\n\n        int sumOdd = 0;\n        int sumEven = 0;\n        int i = 0;\n\n        while (i &lt;= 0) {\n            if (i % 2 == 1) {\n                sumOdd = sumOdd + i;\n            } else {\n                sumEven = sumEven + i;\n            }\n            i = i + 1;\n        }\n        System.out.println(&quot;Sum is equal to: &quot; + sumEven);\n        System.out.println(&quot;Sum is equal to: &quot; + sumOdd);\n    }\n}\n \n</code></pre>\n"},{"tags":["java","eclipse","selenium-webdriver","testng","testng-dataprovider"],"comments":[{"owner":{"account_id":17935792,"reputation":33,"user_id":13032145,"display_name":"AutoAlex"},"score":0,"creation_date":1653641771,"post_id":72394541,"comment_id":127904991,"body_markdown":"Ive been trying to find ways to fix it, adding a thread.sleep does fix it, but i think ultimately it might be an issue in the test environment.","body":"Ive been trying to find ways to fix it, adding a thread.sleep does fix it, but i think ultimately it might be an issue in the test environment."},{"owner":{"account_id":471893,"reputation":8441,"user_id":879977,"display_name":"niharika_neo"},"score":0,"creation_date":1653819047,"post_id":72394541,"comment_id":127939886,"body_markdown":"are you running your cases in parallel?  Paste the testng suite xml or specify how ar you triggering your cases.","body":"are you running your cases in parallel?  Paste the testng suite xml or specify how ar you triggering your cases."},{"owner":{"account_id":17935792,"reputation":33,"user_id":13032145,"display_name":"AutoAlex"},"score":0,"creation_date":1653839914,"post_id":72394541,"comment_id":127944239,"body_markdown":"Thanks for replying @niharika_neo, I have solved the problem by using a different website, the one i used here had a lightning quick refresh which broke my test, I found it by trial/error","body":"Thanks for replying @niharika_neo, I have solved the problem by using a different website, the one i used here had a lightning quick refresh which broke my test, I found it by trial/error"}],"owner":{"account_id":17935792,"reputation":33,"user_id":13032145,"display_name":"AutoAlex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653580070,"creation_date":1653580012,"question_id":72394541,"body_markdown":"The code in the &quot;basePageNavigation&quot; @Test is running fine on the first data set, but when the method is ran the second time, the first line in it:\r\n\r\ndriver.get(prop.getProperty(&quot;url&quot;));\r\n\r\nis ignored, and thus the test fails on the first findElement method called. When I run this in debug mode having a breakpoint at that line, it works fine. Code:\r\n\r\n    package Academy;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.testng.annotations.AfterTest;\r\n    import org.testng.annotations.BeforeTest;\r\n    import org.testng.annotations.DataProvider;\r\n    import org.testng.annotations.Test;\r\n    \r\n    import pageObjects.ForgotPassword;\r\n    import pageObjects.Landingpage;\r\n    import pageObjects.Loginpage;\r\n    import resources.base;\r\n    \r\n    public class Homepage extends base{\r\n    \t\r\n    \tpublic static Logger log = LogManager.getLogger(Homepage.class.getName());\r\n    \tpublic WebDriver driver;\r\n    \t\r\n    \t@BeforeTest\r\n    \tpublic void initialize() throws IOException\r\n    \t{\r\n    \t\tdriver=initializeDriver();\r\n    \t\tlog.info(&quot;Driver initialized&quot;);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Test(dataProvider=&quot;getData&quot;)\r\n    \tpublic void basePageNavigation(String username, String password, String text) throws IOException\r\n    \t{\r\n    \t\tdriver.get(prop.getProperty(&quot;url&quot;));\r\n    \t\tLandingpage l=new Landingpage(driver);\r\n    \t\tLoginpage lp = l.getLogin();\r\n    \t\tlp.getEmail().sendKeys(username);\r\n    \t\tlp.getPassword().sendKeys(password);\r\n    \t\t\r\n    \t\tlp.getLoginBtn().click();\r\n    \t\tForgotPassword fp = lp.forgotPassword();\r\n    \t\tfp.getEmail().sendKeys(&quot;test&quot;);\r\n    \t\tfp.nextButton().click();\r\n    \t}\r\n    \t\r\n    \t@DataProvider\r\n    \tpublic Object[][] getData()\r\n    \t{\r\n    \t\t//Row (first value) stands for how many different data types the test will run\r\n    \t\t//Column (second value) stands for how many values are parsed per test\r\n    \t\t\r\n    \t\tObject[][] data = new Object[2][3];\r\n    \r\n    \t\t// First row\r\n    \t\tdata[0][0] = &quot;nonResabc@qa.com&quot;;\r\n    \t\tdata[0][1] = &quot;12345&quot;;\r\n    \t\tdata[0][2] = &quot;Non Restricted User&quot;;\r\n    \t\t\r\n    \t\t//Second Row\r\n    \t\tdata[1][0] = &quot;Resabc@qa.com&quot;;\r\n    \t\tdata[1][1] = &quot;34567&quot;;\r\n    \t\tdata[1][2] = &quot;Restricted User&quot;;\r\n    \t\t\r\n    \t\treturn data;\r\n    \t}\r\n    \t\r\n    \t@AfterTest\r\n    \tpublic void tearDown()\r\n    \t{\r\n    \t\tdriver.close();\r\n    \t}\r\n    }\r\n\r\n","title":"driver.get is ignored on second data set of Testng test","body":"<p>The code in the &quot;basePageNavigation&quot; @Test is running fine on the first data set, but when the method is ran the second time, the first line in it:</p>\n<p>driver.get(prop.getProperty(&quot;url&quot;));</p>\n<p>is ignored, and thus the test fails on the first findElement method called. When I run this in debug mode having a breakpoint at that line, it works fine. Code:</p>\n<pre><code>package Academy;\n\nimport java.io.IOException;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.openqa.selenium.WebDriver;\nimport org.testng.annotations.AfterTest;\nimport org.testng.annotations.BeforeTest;\nimport org.testng.annotations.DataProvider;\nimport org.testng.annotations.Test;\n\nimport pageObjects.ForgotPassword;\nimport pageObjects.Landingpage;\nimport pageObjects.Loginpage;\nimport resources.base;\n\npublic class Homepage extends base{\n    \n    public static Logger log = LogManager.getLogger(Homepage.class.getName());\n    public WebDriver driver;\n    \n    @BeforeTest\n    public void initialize() throws IOException\n    {\n        driver=initializeDriver();\n        log.info(&quot;Driver initialized&quot;);\n        \n    }\n    \n    @Test(dataProvider=&quot;getData&quot;)\n    public void basePageNavigation(String username, String password, String text) throws IOException\n    {\n        driver.get(prop.getProperty(&quot;url&quot;));\n        Landingpage l=new Landingpage(driver);\n        Loginpage lp = l.getLogin();\n        lp.getEmail().sendKeys(username);\n        lp.getPassword().sendKeys(password);\n        \n        lp.getLoginBtn().click();\n        ForgotPassword fp = lp.forgotPassword();\n        fp.getEmail().sendKeys(&quot;test&quot;);\n        fp.nextButton().click();\n    }\n    \n    @DataProvider\n    public Object[][] getData()\n    {\n        //Row (first value) stands for how many different data types the test will run\n        //Column (second value) stands for how many values are parsed per test\n        \n        Object[][] data = new Object[2][3];\n\n        // First row\n        data[0][0] = &quot;nonResabc@qa.com&quot;;\n        data[0][1] = &quot;12345&quot;;\n        data[0][2] = &quot;Non Restricted User&quot;;\n        \n        //Second Row\n        data[1][0] = &quot;Resabc@qa.com&quot;;\n        data[1][1] = &quot;34567&quot;;\n        data[1][2] = &quot;Restricted User&quot;;\n        \n        return data;\n    }\n    \n    @AfterTest\n    public void tearDown()\n    {\n        driver.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring","innodb"],"comments":[{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1653512318,"post_id":72375898,"comment_id":127873901,"body_markdown":"One is using `id`, one is using `frozen_code`?  Please provide `SHOW CREATE TABLE`.","body":"One is using <code>id</code>, one is using <code>frozen_code</code>?  Please provide <code>SHOW CREATE TABLE</code>."},{"owner":{"account_id":22758866,"reputation":1,"user_id":16917993,"display_name":"chunlaiqingke"},"score":0,"creation_date":1653529180,"post_id":72375898,"comment_id":127876774,"body_markdown":"i add a picture","body":"i add a picture"},{"owner":{"account_id":22758866,"reputation":1,"user_id":16917993,"display_name":"chunlaiqingke"},"score":0,"creation_date":1653529508,"post_id":72375898,"comment_id":127876823,"body_markdown":"table structure in front of detail","body":"table structure in front of detail"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1653536758,"post_id":72375898,"comment_id":127877896,"body_markdown":"How many rows in the table?","body":"How many rows in the table?"},{"owner":{"account_id":22758866,"reputation":1,"user_id":16917993,"display_name":"chunlaiqingke"},"score":0,"creation_date":1653549605,"post_id":72375898,"comment_id":127880317,"body_markdown":"@RickJames 1239884 rows","body":"@RickJames 1239884 rows"}],"answers":[{"tags":[],"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653579902,"creation_date":1653530227,"answer_id":72385878,"question_id":72375898,"body_markdown":"`frozen_code` is not indexed, so `UPDATE ... WHERE frozen_code = &#39;...&#39;;` will scan the entire table, bumping into the lock that the other transaction has (or will have).\r\n\r\nSuggest adding `INDEX(frozen_code)`.\r\n\r\n**More**\r\n\r\nI think, but am not sure, that this is happening (without the index):\r\n\r\nXaction 2 (frozen_code) starts  \r\nXaction 2 locks rows as it scans for the row(s) to Update  \r\nXaction 1 starts and tries to lock the one row it needs  \r\nDeadlock occurs and one of the transactions is rolled back.  \r\nXaction ROLLBACK (for the loser)  \r\nXaction finish and COMMIT (for the winner)\r\n\r\nWith the index, the two transactions might not collide over any rows, and all works smoothly.","title":"why this deadlock happened ? that is different record","body":"<p><code>frozen_code</code> is not indexed, so <code>UPDATE ... WHERE frozen_code = '...';</code> will scan the entire table, bumping into the lock that the other transaction has (or will have).</p>\n<p>Suggest adding <code>INDEX(frozen_code)</code>.</p>\n<p><strong>More</strong></p>\n<p>I think, but am not sure, that this is happening (without the index):</p>\n<p>Xaction 2 (frozen_code) starts<br />\nXaction 2 locks rows as it scans for the row(s) to Update<br />\nXaction 1 starts and tries to lock the one row it needs<br />\nDeadlock occurs and one of the transactions is rolled back.<br />\nXaction ROLLBACK (for the loser)<br />\nXaction finish and COMMIT (for the winner)</p>\n<p>With the index, the two transactions might not collide over any rows, and all works smoothly.</p>\n"}],"owner":{"account_id":22758866,"reputation":1,"user_id":16917993,"display_name":"chunlaiqingke"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653579902,"creation_date":1653474348,"question_id":72375898,"body_markdown":"show create table\r\n\r\n[enter image description here][1]\r\n\r\nwhy this deadlock happened ? that is different record, primary index\r\n\r\nI see this two transaction locked different record on primary index\r\n\r\n0x00122963\r\n0x00122951\r\n0x00122964\r\n\r\nI also see these records in same page ,but it is none business of it\r\n\r\nit is trouble me all day.\r\nit is prod problem , i need help\r\n\r\nhere is detail\r\n\r\n\r\n```\r\nCREATE TABLE `exchange_task_transfer` (\r\n  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,\r\n  `transfer_tx_id` varchar(64) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;划转业务唯一流水号&#39;,\r\n  `exchange_tx_id` varchar(64) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;兑换唯一标识符&#39;,\r\n  `biz_req_id` varchar(64) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;请求划转业务系统的请求流水号，成功处理后更新&#39;,\r\n  `from_account_id` varchar(32) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;划出账户ID&#39;,\r\n  `from_account_type` varchar(32) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;划出账户类型&#39;,\r\n  `to_account_id` varchar(32) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;划入账户ID&#39;,\r\n  `to_account_type` varchar(32) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;划入账户类型&#39;,\r\n  `transfer_coin` varchar(10) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;划转币种&#39;,\r\n  `transfer_amount` decimal(38,18) NOT NULL DEFAULT &#39;0.000000000000000000&#39; COMMENT &#39;划转数量&#39;,\r\n  `transfer_fee` decimal(38,18) NOT NULL DEFAULT &#39;0.000000000000000000&#39; COMMENT &#39;划转业务收取的手续费数量&#39;,\r\n  `remark` varchar(200) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;被拒绝原因&#39;,\r\n  `task_index` int(4) NOT NULL DEFAULT &#39;1&#39; COMMENT &#39;划转业务执行序号&#39;,\r\n  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\r\n  `transfer_status` varchar(20) NOT NULL DEFAULT &#39;init&#39;,\r\n  `from_user_id` varchar(15) NOT NULL DEFAULT &#39;0&#39; COMMENT &#39;划出用户id&#39;,\r\n  `to_user_id` varchar(15) NOT NULL DEFAULT &#39;0&#39; COMMENT &#39;划入账户用户ID&#39;,\r\n  `retry_time` int(5) NOT NULL DEFAULT &#39;0&#39; COMMENT &#39;补偿次数&#39;,\r\n  `source_code` varchar(32) NOT NULL DEFAULT &#39;bybit&#39; COMMENT &#39;兑换请求来源，默认是用户主动兑换bybit，碎币兑换small_asset&#39;,\r\n  `frozen_status` varchar(64) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;冻结状态&#39;,\r\n  `frozen_code` varchar(64) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;冻结流水号&#39;,\r\n  `un_frozen_code` varchar(64) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;解冻流水号&#39;,\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `transfer_tx_id` (`transfer_tx_id`),\r\n  KEY `idx_exchange_task_transfer_exchange_tx_id_IDX` (`exchange_tx_id`,`task_index`) USING BTREE\r\n) ENGINE=InnoDB AUTO_INCREMENT=2409 DEFAULT CHARSET=utf8mb4\r\n\r\n*************************** 1. row ***************************\r\n  Type: InnoDB\r\n  Name: \r\nStatus: \r\n=====================================\r\n2022-05-25 03:50:14 2ae599f8f700 INNODB MONITOR OUTPUT\r\n=====================================\r\nPer second averages calculated from the last 19 seconds\r\n-----------------\r\nBACKGROUND THREAD\r\n-----------------\r\nsrv_master_thread loops: 36852555 srv_active, 0 srv_shutdown, 17 srv_idle\r\nsrv_master_thread log flush and writes: 0\r\n----------\r\nSEMAPHORES\r\n----------\r\nOS WAIT ARRAY INFO: reservation count 78334946\r\nOS WAIT ARRAY INFO: signal count 404800837\r\nMutex spin waits 54895628542, rounds 65302310425, OS waits 2053849\r\nRW-shared spins 1311851594, rounds 6685693174, OS waits 40412148\r\nRW-excl spins 929838569, rounds 5006233092, OS waits 34882625\r\nSpin rounds per wait: -69.55 mutex, 5.10 RW-shared, 5.38 RW-excl\r\n------------------------\r\nLATEST DETECTED DEADLOCK\r\n------------------------\r\n2022-05-23 20:19:50 2ae56c610700\r\n*** (1) TRANSACTION:\r\nTRANSACTION 146745554645, ACTIVE 0 sec starting index read\r\nmysql tables in use 1, locked 1\r\nLOCK WAIT 9 lock struct(s), heap size 376, 6 row lock(s), undo log entries 3\r\nMySQL thread id 49574537, OS thread handle 0x2ab71af45700, query id 197705807172 10.1.91.91 user_bybit007 updating\r\nUPDATE exchange_task_transfer  SET transfer_tx_id=&#39;919122838671294378384223232003&#39;,\r\nexchange_tx_id=&#39;91912283867129437838422323200&#39;,\r\nbiz_req_id=&#39;1019191129437857549545472&#39;,\r\nsource_code=&#39;bybit&#39;,\r\nfrom_account_id=&#39;system&#39;,\r\nfrom_account_type=&#39;90&#39;,\r\nfrom_user_id=&#39;system&#39;,\r\nto_account_id=&#39;2283867&#39;,\r\nto_account_type=&#39;1&#39;,\r\nto_user_id=&#39;2283867&#39;,\r\ntransfer_coin=&#39;BTC&#39;,\r\ntransfer_amount=0.136179360000000000,\r\ntransfer_fee=0.000000000000000000,\r\ntransfer_status=&#39;processing&#39;,\r\nfrozen_status=&#39;&#39;,\r\nremark=&#39;finance transfer processing, requestId:202205237027554273304088101013867&#39;,\r\ntask_index=3,\r\nretry_time=1,\r\nfrozen_code=&#39;&#39;,\r\nun_frozen_code=&#39;&#39;,\r\ncreated_at=&#39;2022-05-23 20:19:49&#39;,\r\nupdated_at=&#39;2022-05-23 20:19:50.115&#39;  WHERE id=1190243\r\n*** (1) WAITING FOR THIS LOCK TO BE GRANTED:\r\nRECORD LOCKS space id 583 page no 42899 n bits 18 index `PRIMARY` of table `bybitprod`.`exchange_task_transfer` trx id 146745554645 lock_mode X locks rec but not gap waiting\r\nRecord lock, heap no 18 PHYSICAL RECORD: n_fields 25; compact format; info bits 0\r\n 0: len=4; bufptr=0x2abe91749423; hex= 00122963; asc   )c;;\r\n 1: len=6; bufptr=0x2abe91749427; hex= 00222ab77563; asc  &quot;* uc;;\r\n 2: len=7; bufptr=0x2abe9174942d; hex= 8b00044007011d; asc    @   ;;\r\n 3: len=30; bufptr=0x2abe91749434; hex= 393139313232383338363731323934333738333834323233323332303033; asc 919122838671294378384223232003;;\r\n 4: len=29; bufptr=0x2abe91749452; hex= 3931393132323833383637313239343337383338343232333233323030; asc 91912283867129437838422323200;;\r\n 5: len=0; bufptr=0x2abe9174946f; hex= ; asc ;;\r\n 6: len=6; bufptr=0x2abe9174946f; hex= 73797374656d; asc system;;\r\n 7: len=2; bufptr=0x2abe91749475; hex= 3930; asc 90;;\r\n 8: len=7; bufptr=0x2abe91749477; hex= 32323833383637; asc 2283867;;\r\n 9: len=1; bufptr=0x2abe9174947e; hex= 31; asc 1;;\r\n 10: len=3; bufptr=0x2abe9174947f; hex= 425443; asc BTC;;\r\n 11: len=17; bufptr=0x2abe91749482; hex= 800000000000000000081deea000000000; asc                  ;;\r\n 12: len=17; bufptr=0x2abe91749493; hex= 8000000000000000000000000000000000; asc                  ;;\r\n 13: len=30; bufptr=0x2abe917494a4; hex= e8b4a2e58aa1e58892e8bdacefbc8ce58591e585a5e5b881e7a78de79a84; asc                               ; (total 51 bytes);\r\n 14: len=4; bufptr=0x2abe917494d7; hex= 80000003; asc     ;;\r\n 15: len=4; bufptr=0x2abe917494db; hex= 628bec65; asc b  e;;\r\n 16: len=4; bufptr=0x2abe917494df; hex= 628bec65; asc b  e;;\r\n 17: len=4; bufptr=0x2abe917494e3; hex= 696e6974; asc init;;\r\n 18: len=6; bufptr=0x2abe917494e7; hex= 73797374656d; asc system;;\r\n 19: len=7; bufptr=0x2abe917494ed; hex= 32323833383637; asc 2283867;;\r\n 20: len=4; bufptr=0x2abe917494f4; hex= 80000000; asc     ;;\r\n 21: len=5; bufptr=0x2abe917494f8; hex= 6279626974; asc bybit;;\r\n 22: len=0; bufptr=0x2abe917494fd; hex= ; asc ;;\r\n 23: len=0; bufptr=0x2abe917494fd; hex= ; asc ;;\r\n 24: len=0; bufptr=0x2abe917494fd; hex= ; asc ;;\r\n\r\n*** (2) TRANSACTION:\r\nTRANSACTION 146745552073, ACTIVE 1 sec fetching rows\r\nmysql tables in use 1, locked 1\r\nLOCK WAIT 25427 lock struct(s), heap size 376, 1215668 row lock(s)\r\nMySQL thread id 49574547, OS thread handle 0x2ae5d36da700, query id 197705802508 10.1.207.206 user_bybit007 Searching rows for update\r\nupdate exchange_task_transfer set frozen_status = &#39;lock&#39;, remark=&#39;资产冻结成功&#39; where frozen_code = &#39;20720615640769129437730200764416XDC_LOCK&#39;\r\n*** (2) HOLDS THE LOCK(S):\r\nRECORD LOCKS space id 583 page no 42899 n bits 2 index `PRIMARY` of table `bybitprod`.`exchange_task_transfer` trx id 146745552073 lock_mode X\r\nRecord lock, heap no 2 PHYSICAL RECORD: n_fields 25; compact format; info bits 0\r\n 0: len=4; bufptr=0x2abe9174808d; hex= 00122951; asc   )Q;;\r\n 1: len=6; bufptr=0x2abe91748091; hex= 00222ab72957; asc  &quot;* )W;;\r\n 2: len=7; bufptr=0x2abe91748097; hex= 2000a0c01c306d; asc      0m;;\r\n 3: len=30; bufptr=0x2abe9174809e; hex= 323037323036313536343037363931323934333737333032303037363434; asc 207206156407691294377302007644; (total 34 bytes);\r\n 4: len=30; bufptr=0x2abe917480c0; hex= 323037323036313536343037363931323934333737333032303037363434; asc 207206156407691294377302007644; (total 32 bytes);\r\n 5: len=0; bufptr=0x2abe917480e0; hex= ; asc ;;\r\n 6: len=8; bufptr=0x2abe917480e0; hex= 3135363430373730; asc 15640770;;\r\n 7: len=1; bufptr=0x2abe917480e8; hex= 32; asc 2;;\r\n 8: len=8; bufptr=0x2abe917480e9; hex= 3230393633363638; asc 20963668;;\r\n 9: len=1; bufptr=0x2abe917480f1; hex= 32; asc 2;;\r\n 10: len=3; bufptr=0x2abe917480f2; hex= 4c5443; asc LTC;;\r\n 11: len=17; bufptr=0x2abe917480f5; hex= 80000000000000000000d9e31000000000; asc                  ;;\r\n 12: len=17; bufptr=0x2abe91748106; hex= 8000000000000000000000000000000000; asc                  ;;\r\n 13: len=18; bufptr=0x2abe91748117; hex= e8b584e4baa7e586bbe7bb93e68890e58a9f; asc                   ;;\r\n 14: len=4; bufptr=0x2abe91748129; hex= 80000001; asc     ;;\r\n 15: len=4; bufptr=0x2abe9174812d; hex= 628bec55; asc b  U;;\r\n 16: len=4; bufptr=0x2abe91748131; hex= 628bec5d; asc b  ];;\r\n 17: len=4; bufptr=0x2abe91748135; hex= 696e6974; asc init;;\r\n 18: len=8; bufptr=0x2abe91748139; hex= 3135363430373639; asc 15640769;;\r\n 19: len=8; bufptr=0x2abe91748141; hex= 3230393633363637; asc 20963667;;\r\n 20: len=4; bufptr=0x2abe91748149; hex= 80000000; asc     ;;\r\n 21: len=11; bufptr=0x2abe9174814d; hex= 736d616c6c5f6173736574; asc small_asset;;\r\n 22: len=4; bufptr=0x2abe91748158; hex= 6c6f636b; asc lock;;\r\n 23: len=30; bufptr=0x2abe9174815c; hex= 323037323036313536343037363931323934333737333032303037363434; asc 207206156407691294377302007644; (total 40 bytes);\r\n 24: len=30; bufptr=0x2abe91748184; hex= 323037323036313536343037363931323934333737333032303037363434; asc 207206156407691294377302007644; (total 47 bytes);\r\n\r\n[bitmap0 of 16 bytes in hex: fc ff 1f 00 00 00 00 00 00 00 00 00 00 00 00 00 ]\r\n*** (2) WAITING FOR THIS LOCK TO BE GRANTED:\r\nRECORD LOCKS space id 583 page no 42899 n bits 22 index `PRIMARY` of table `bybitprod`.`exchange_task_transfer` trx id 146745552073 lock_mode X waiting\r\nRecord lock, heap no 22 PHYSICAL RECORD: n_fields 25; compact format; info bits 0\r\n 0: len=4; bufptr=0x2abe9174986e; hex= 00122964; asc   )d;;\r\n 1: len=6; bufptr=0x2abe91749872; hex= 00222ab776d5; asc  &quot;* v ;;\r\n 2: len=7; bufptr=0x2abe91749878; hex= 0b004dc03104b6; asc   M 1  ;;\r\n 3: len=30; bufptr=0x2abe9174987f; hex= 393139313232383338363731323934333738333834323233323332303032; asc 919122838671294378384223232002;;\r\n 4: len=29; bufptr=0x2abe9174989d; hex= 3931393132323833383637313239343337383338343232333233323030; asc 91912283867129437838422323200;;\r\n 5: len=25; bufptr=0x2abe917498ba; hex= 31303139313931313239343337383537343236393732363732; asc 1019191129437857426972672;;\r\n 6: len=8; bufptr=0x2abe917498d3; hex= 3230393633363638; asc 20963668;;\r\n 7: len=1; bufptr=0x2abe917498db; hex= 32; asc 2;;\r\n 8: len=6; bufptr=0x2abe917498dc; hex= 73797374656d; asc system;;\r\n 9: len=2; bufptr=0x2abe917498e2; hex= 3930; asc 90;;\r\n 10: len=3; bufptr=0x2abe917498e4; hex= 425443; asc BTC;;\r\n 11: len=17; bufptr=0x2abe917498e7; hex= 8000000000000000000820031600000000; asc                  ;;\r\n 12: len=17; bufptr=0x2abe917498f8; hex= 8000000000000000000002147600000000; asc             v    ;;\r\n 13: len=30; bufptr=0x2abe91749909; hex= 66696e616e6365207472616e736665722070726f63657373696e672c2072; asc finance transfer processing, r; (total 72 bytes);\r\n 14: len=4; bufptr=0x2abe91749951; hex= 80000002; asc     ;;\r\n 15: len=4; bufptr=0x2abe91749955; hex= 628bec65; asc b  e;;\r\n 16: len=4; bufptr=0x2abe91749959; hex= 628bec66; asc b  f;;\r\n 17: len=10; bufptr=0x2abe9174995d; hex= 70726f63657373696e67; asc processing;;\r\n 18: len=8; bufptr=0x2abe91749967; hex= 3230393633363637; asc 20963667;;\r\n 19: len=6; bufptr=0x2abe9174996f; hex= 73797374656d; asc system;;\r\n 20: len=4; bufptr=0x2abe91749975; hex= 80000001; asc     ;;\r\n 21: len=5; bufptr=0x2abe91749979; hex= 6279626974; asc bybit;;\r\n 22: len=0; bufptr=0x2abe9174997e; hex= ; asc ;;\r\n 23: len=0; bufptr=0x2abe9174997e; hex= ; asc ;;\r\n 24: len=0; bufptr=0x2abe9174997e; hex= ; asc ;;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gimDp.jpg","title":"why this deadlock happened ? that is different record","body":"<p>show create table</p>\n<p><a href=\"https://i.stack.imgur.com/gimDp.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>why this deadlock happened ? that is different record, primary index</p>\n<p>I see this two transaction locked different record on primary index</p>\n<p>0x00122963\n0x00122951\n0x00122964</p>\n<p>I also see these records in same page ,but it is none business of it</p>\n<p>it is trouble me all day.\nit is prod problem , i need help</p>\n<p>here is detail</p>\n<pre><code>CREATE TABLE `exchange_task_transfer` (\n  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,\n  `transfer_tx_id` varchar(64) NOT NULL DEFAULT '' COMMENT '划转业务唯一流水号',\n  `exchange_tx_id` varchar(64) NOT NULL DEFAULT '' COMMENT '兑换唯一标识符',\n  `biz_req_id` varchar(64) NOT NULL DEFAULT '' COMMENT '请求划转业务系统的请求流水号，成功处理后更新',\n  `from_account_id` varchar(32) NOT NULL DEFAULT '' COMMENT '划出账户ID',\n  `from_account_type` varchar(32) NOT NULL DEFAULT '' COMMENT '划出账户类型',\n  `to_account_id` varchar(32) NOT NULL DEFAULT '' COMMENT '划入账户ID',\n  `to_account_type` varchar(32) NOT NULL DEFAULT '' COMMENT '划入账户类型',\n  `transfer_coin` varchar(10) NOT NULL DEFAULT '' COMMENT '划转币种',\n  `transfer_amount` decimal(38,18) NOT NULL DEFAULT '0.000000000000000000' COMMENT '划转数量',\n  `transfer_fee` decimal(38,18) NOT NULL DEFAULT '0.000000000000000000' COMMENT '划转业务收取的手续费数量',\n  `remark` varchar(200) NOT NULL DEFAULT '' COMMENT '被拒绝原因',\n  `task_index` int(4) NOT NULL DEFAULT '1' COMMENT '划转业务执行序号',\n  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  `transfer_status` varchar(20) NOT NULL DEFAULT 'init',\n  `from_user_id` varchar(15) NOT NULL DEFAULT '0' COMMENT '划出用户id',\n  `to_user_id` varchar(15) NOT NULL DEFAULT '0' COMMENT '划入账户用户ID',\n  `retry_time` int(5) NOT NULL DEFAULT '0' COMMENT '补偿次数',\n  `source_code` varchar(32) NOT NULL DEFAULT 'bybit' COMMENT '兑换请求来源，默认是用户主动兑换bybit，碎币兑换small_asset',\n  `frozen_status` varchar(64) NOT NULL DEFAULT '' COMMENT '冻结状态',\n  `frozen_code` varchar(64) NOT NULL DEFAULT '' COMMENT '冻结流水号',\n  `un_frozen_code` varchar(64) NOT NULL DEFAULT '' COMMENT '解冻流水号',\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `transfer_tx_id` (`transfer_tx_id`),\n  KEY `idx_exchange_task_transfer_exchange_tx_id_IDX` (`exchange_tx_id`,`task_index`) USING BTREE\n) ENGINE=InnoDB AUTO_INCREMENT=2409 DEFAULT CHARSET=utf8mb4\n\n*************************** 1. row ***************************\n  Type: InnoDB\n  Name: \nStatus: \n=====================================\n2022-05-25 03:50:14 2ae599f8f700 INNODB MONITOR OUTPUT\n=====================================\nPer second averages calculated from the last 19 seconds\n-----------------\nBACKGROUND THREAD\n-----------------\nsrv_master_thread loops: 36852555 srv_active, 0 srv_shutdown, 17 srv_idle\nsrv_master_thread log flush and writes: 0\n----------\nSEMAPHORES\n----------\nOS WAIT ARRAY INFO: reservation count 78334946\nOS WAIT ARRAY INFO: signal count 404800837\nMutex spin waits 54895628542, rounds 65302310425, OS waits 2053849\nRW-shared spins 1311851594, rounds 6685693174, OS waits 40412148\nRW-excl spins 929838569, rounds 5006233092, OS waits 34882625\nSpin rounds per wait: -69.55 mutex, 5.10 RW-shared, 5.38 RW-excl\n------------------------\nLATEST DETECTED DEADLOCK\n------------------------\n2022-05-23 20:19:50 2ae56c610700\n*** (1) TRANSACTION:\nTRANSACTION 146745554645, ACTIVE 0 sec starting index read\nmysql tables in use 1, locked 1\nLOCK WAIT 9 lock struct(s), heap size 376, 6 row lock(s), undo log entries 3\nMySQL thread id 49574537, OS thread handle 0x2ab71af45700, query id 197705807172 10.1.91.91 user_bybit007 updating\nUPDATE exchange_task_transfer  SET transfer_tx_id='919122838671294378384223232003',\nexchange_tx_id='91912283867129437838422323200',\nbiz_req_id='1019191129437857549545472',\nsource_code='bybit',\nfrom_account_id='system',\nfrom_account_type='90',\nfrom_user_id='system',\nto_account_id='2283867',\nto_account_type='1',\nto_user_id='2283867',\ntransfer_coin='BTC',\ntransfer_amount=0.136179360000000000,\ntransfer_fee=0.000000000000000000,\ntransfer_status='processing',\nfrozen_status='',\nremark='finance transfer processing, requestId:202205237027554273304088101013867',\ntask_index=3,\nretry_time=1,\nfrozen_code='',\nun_frozen_code='',\ncreated_at='2022-05-23 20:19:49',\nupdated_at='2022-05-23 20:19:50.115'  WHERE id=1190243\n*** (1) WAITING FOR THIS LOCK TO BE GRANTED:\nRECORD LOCKS space id 583 page no 42899 n bits 18 index `PRIMARY` of table `bybitprod`.`exchange_task_transfer` trx id 146745554645 lock_mode X locks rec but not gap waiting\nRecord lock, heap no 18 PHYSICAL RECORD: n_fields 25; compact format; info bits 0\n 0: len=4; bufptr=0x2abe91749423; hex= 00122963; asc   )c;;\n 1: len=6; bufptr=0x2abe91749427; hex= 00222ab77563; asc  &quot;* uc;;\n 2: len=7; bufptr=0x2abe9174942d; hex= 8b00044007011d; asc    @   ;;\n 3: len=30; bufptr=0x2abe91749434; hex= 393139313232383338363731323934333738333834323233323332303033; asc 919122838671294378384223232003;;\n 4: len=29; bufptr=0x2abe91749452; hex= 3931393132323833383637313239343337383338343232333233323030; asc 91912283867129437838422323200;;\n 5: len=0; bufptr=0x2abe9174946f; hex= ; asc ;;\n 6: len=6; bufptr=0x2abe9174946f; hex= 73797374656d; asc system;;\n 7: len=2; bufptr=0x2abe91749475; hex= 3930; asc 90;;\n 8: len=7; bufptr=0x2abe91749477; hex= 32323833383637; asc 2283867;;\n 9: len=1; bufptr=0x2abe9174947e; hex= 31; asc 1;;\n 10: len=3; bufptr=0x2abe9174947f; hex= 425443; asc BTC;;\n 11: len=17; bufptr=0x2abe91749482; hex= 800000000000000000081deea000000000; asc                  ;;\n 12: len=17; bufptr=0x2abe91749493; hex= 8000000000000000000000000000000000; asc                  ;;\n 13: len=30; bufptr=0x2abe917494a4; hex= e8b4a2e58aa1e58892e8bdacefbc8ce58591e585a5e5b881e7a78de79a84; asc                               ; (total 51 bytes);\n 14: len=4; bufptr=0x2abe917494d7; hex= 80000003; asc     ;;\n 15: len=4; bufptr=0x2abe917494db; hex= 628bec65; asc b  e;;\n 16: len=4; bufptr=0x2abe917494df; hex= 628bec65; asc b  e;;\n 17: len=4; bufptr=0x2abe917494e3; hex= 696e6974; asc init;;\n 18: len=6; bufptr=0x2abe917494e7; hex= 73797374656d; asc system;;\n 19: len=7; bufptr=0x2abe917494ed; hex= 32323833383637; asc 2283867;;\n 20: len=4; bufptr=0x2abe917494f4; hex= 80000000; asc     ;;\n 21: len=5; bufptr=0x2abe917494f8; hex= 6279626974; asc bybit;;\n 22: len=0; bufptr=0x2abe917494fd; hex= ; asc ;;\n 23: len=0; bufptr=0x2abe917494fd; hex= ; asc ;;\n 24: len=0; bufptr=0x2abe917494fd; hex= ; asc ;;\n\n*** (2) TRANSACTION:\nTRANSACTION 146745552073, ACTIVE 1 sec fetching rows\nmysql tables in use 1, locked 1\nLOCK WAIT 25427 lock struct(s), heap size 376, 1215668 row lock(s)\nMySQL thread id 49574547, OS thread handle 0x2ae5d36da700, query id 197705802508 10.1.207.206 user_bybit007 Searching rows for update\nupdate exchange_task_transfer set frozen_status = 'lock', remark='资产冻结成功' where frozen_code = '20720615640769129437730200764416XDC_LOCK'\n*** (2) HOLDS THE LOCK(S):\nRECORD LOCKS space id 583 page no 42899 n bits 2 index `PRIMARY` of table `bybitprod`.`exchange_task_transfer` trx id 146745552073 lock_mode X\nRecord lock, heap no 2 PHYSICAL RECORD: n_fields 25; compact format; info bits 0\n 0: len=4; bufptr=0x2abe9174808d; hex= 00122951; asc   )Q;;\n 1: len=6; bufptr=0x2abe91748091; hex= 00222ab72957; asc  &quot;* )W;;\n 2: len=7; bufptr=0x2abe91748097; hex= 2000a0c01c306d; asc      0m;;\n 3: len=30; bufptr=0x2abe9174809e; hex= 323037323036313536343037363931323934333737333032303037363434; asc 207206156407691294377302007644; (total 34 bytes);\n 4: len=30; bufptr=0x2abe917480c0; hex= 323037323036313536343037363931323934333737333032303037363434; asc 207206156407691294377302007644; (total 32 bytes);\n 5: len=0; bufptr=0x2abe917480e0; hex= ; asc ;;\n 6: len=8; bufptr=0x2abe917480e0; hex= 3135363430373730; asc 15640770;;\n 7: len=1; bufptr=0x2abe917480e8; hex= 32; asc 2;;\n 8: len=8; bufptr=0x2abe917480e9; hex= 3230393633363638; asc 20963668;;\n 9: len=1; bufptr=0x2abe917480f1; hex= 32; asc 2;;\n 10: len=3; bufptr=0x2abe917480f2; hex= 4c5443; asc LTC;;\n 11: len=17; bufptr=0x2abe917480f5; hex= 80000000000000000000d9e31000000000; asc                  ;;\n 12: len=17; bufptr=0x2abe91748106; hex= 8000000000000000000000000000000000; asc                  ;;\n 13: len=18; bufptr=0x2abe91748117; hex= e8b584e4baa7e586bbe7bb93e68890e58a9f; asc                   ;;\n 14: len=4; bufptr=0x2abe91748129; hex= 80000001; asc     ;;\n 15: len=4; bufptr=0x2abe9174812d; hex= 628bec55; asc b  U;;\n 16: len=4; bufptr=0x2abe91748131; hex= 628bec5d; asc b  ];;\n 17: len=4; bufptr=0x2abe91748135; hex= 696e6974; asc init;;\n 18: len=8; bufptr=0x2abe91748139; hex= 3135363430373639; asc 15640769;;\n 19: len=8; bufptr=0x2abe91748141; hex= 3230393633363637; asc 20963667;;\n 20: len=4; bufptr=0x2abe91748149; hex= 80000000; asc     ;;\n 21: len=11; bufptr=0x2abe9174814d; hex= 736d616c6c5f6173736574; asc small_asset;;\n 22: len=4; bufptr=0x2abe91748158; hex= 6c6f636b; asc lock;;\n 23: len=30; bufptr=0x2abe9174815c; hex= 323037323036313536343037363931323934333737333032303037363434; asc 207206156407691294377302007644; (total 40 bytes);\n 24: len=30; bufptr=0x2abe91748184; hex= 323037323036313536343037363931323934333737333032303037363434; asc 207206156407691294377302007644; (total 47 bytes);\n\n[bitmap0 of 16 bytes in hex: fc ff 1f 00 00 00 00 00 00 00 00 00 00 00 00 00 ]\n*** (2) WAITING FOR THIS LOCK TO BE GRANTED:\nRECORD LOCKS space id 583 page no 42899 n bits 22 index `PRIMARY` of table `bybitprod`.`exchange_task_transfer` trx id 146745552073 lock_mode X waiting\nRecord lock, heap no 22 PHYSICAL RECORD: n_fields 25; compact format; info bits 0\n 0: len=4; bufptr=0x2abe9174986e; hex= 00122964; asc   )d;;\n 1: len=6; bufptr=0x2abe91749872; hex= 00222ab776d5; asc  &quot;* v ;;\n 2: len=7; bufptr=0x2abe91749878; hex= 0b004dc03104b6; asc   M 1  ;;\n 3: len=30; bufptr=0x2abe9174987f; hex= 393139313232383338363731323934333738333834323233323332303032; asc 919122838671294378384223232002;;\n 4: len=29; bufptr=0x2abe9174989d; hex= 3931393132323833383637313239343337383338343232333233323030; asc 91912283867129437838422323200;;\n 5: len=25; bufptr=0x2abe917498ba; hex= 31303139313931313239343337383537343236393732363732; asc 1019191129437857426972672;;\n 6: len=8; bufptr=0x2abe917498d3; hex= 3230393633363638; asc 20963668;;\n 7: len=1; bufptr=0x2abe917498db; hex= 32; asc 2;;\n 8: len=6; bufptr=0x2abe917498dc; hex= 73797374656d; asc system;;\n 9: len=2; bufptr=0x2abe917498e2; hex= 3930; asc 90;;\n 10: len=3; bufptr=0x2abe917498e4; hex= 425443; asc BTC;;\n 11: len=17; bufptr=0x2abe917498e7; hex= 8000000000000000000820031600000000; asc                  ;;\n 12: len=17; bufptr=0x2abe917498f8; hex= 8000000000000000000002147600000000; asc             v    ;;\n 13: len=30; bufptr=0x2abe91749909; hex= 66696e616e6365207472616e736665722070726f63657373696e672c2072; asc finance transfer processing, r; (total 72 bytes);\n 14: len=4; bufptr=0x2abe91749951; hex= 80000002; asc     ;;\n 15: len=4; bufptr=0x2abe91749955; hex= 628bec65; asc b  e;;\n 16: len=4; bufptr=0x2abe91749959; hex= 628bec66; asc b  f;;\n 17: len=10; bufptr=0x2abe9174995d; hex= 70726f63657373696e67; asc processing;;\n 18: len=8; bufptr=0x2abe91749967; hex= 3230393633363637; asc 20963667;;\n 19: len=6; bufptr=0x2abe9174996f; hex= 73797374656d; asc system;;\n 20: len=4; bufptr=0x2abe91749975; hex= 80000001; asc     ;;\n 21: len=5; bufptr=0x2abe91749979; hex= 6279626974; asc bybit;;\n 22: len=0; bufptr=0x2abe9174997e; hex= ; asc ;;\n 23: len=0; bufptr=0x2abe9174997e; hex= ; asc ;;\n 24: len=0; bufptr=0x2abe9174997e; hex= ; asc ;;\n</code></pre>\n"},{"tags":["java","database","hibernate","orm","nhibernate-mapping"],"answers":[{"tags":[],"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596662225,"creation_date":1596662225,"answer_id":63273641,"question_id":63273433,"body_markdown":"There is no need to have this method. What this is instead is a convenience method that allows for quickly adding a course to the `List&lt;Course&gt;` of courses belonging to an instructor object. \r\n\r\nWhat this does is to initialize the list if not already present, set the `Course` object to the list of courses as well as set the `Instructor` object to the passed in `Course` object.\r\n\r\nYou could very well replace this method with the following code and still achieve the same results:\r\n\r\n```\r\npublic class Instructor {\r\n\r\n// misc stuff here\r\n\r\nSet&lt;Course&gt; courses = new HashSet&lt;&gt;();\r\n//standard getters/setters\r\n\r\n}\r\n```\r\n\r\nAnd then the desired calling point you could simply do this:\r\n\r\n```\r\nCourse course = new Course();\r\ncourse.setTitle(&quot;My Title&quot;);\r\ncourse.setIntructor(instructor);\r\n\r\ninstructor.getCourses().add(course);\r\n```\r\n\r\nWhat the above do is essentially what your method does with the exception of not initializing the list object.","title":"Why do we need a helper method inside @OneToMany annotated side in hibernate?","body":"<p>There is no need to have this method. What this is instead is a convenience method that allows for quickly adding a course to the <code>List&lt;Course&gt;</code> of courses belonging to an instructor object.</p>\n<p>What this does is to initialize the list if not already present, set the <code>Course</code> object to the list of courses as well as set the <code>Instructor</code> object to the passed in <code>Course</code> object.</p>\n<p>You could very well replace this method with the following code and still achieve the same results:</p>\n<pre><code>public class Instructor {\n\n// misc stuff here\n\nSet&lt;Course&gt; courses = new HashSet&lt;&gt;();\n//standard getters/setters\n\n}\n</code></pre>\n<p>And then the desired calling point you could simply do this:</p>\n<pre><code>Course course = new Course();\ncourse.setTitle(&quot;My Title&quot;);\ncourse.setIntructor(instructor);\n\ninstructor.getCourses().add(course);\n</code></pre>\n<p>What the above do is essentially what your method does with the exception of not initializing the list object.</p>\n"},{"tags":[],"owner":{"account_id":5908569,"reputation":526,"user_id":4649524,"accept_rate":75,"display_name":"alibttb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596662453,"creation_date":1596662453,"answer_id":63273684,"question_id":63273433,"body_markdown":"The method just checks if the list is null and creates it if it&#39;s not there you can leave this out using:\r\n\r\n```\r\n@OneToMany(mappedBy =&quot;instructor&quot; ,\r\ncascade= {CascadeType.DETACH,\r\nCascadeType.MERGE,\r\nCascadeType.PERSIST,\r\nCascadeType.REFRESH}) \r\n    private List&lt;Course&gt; courses = new ArrayList&lt;&gt;();\r\n```\r\n\r\nThe other thing that it does is add reference to the course that makes sure the relation is bidirectional where the course reference the instructor and vise versa.\r\n\r\nyou can take this out and make these checks in a service method.\r\n\r\nto answer your question, you can make the same class without it, but you&#39;ll have to do those things somewhere else, this design works, but it&#39;s bad design, `addCourse` should be a service method, putting it there makes you&#39;re pojo entity somthing that has logic and control, but the logic of the method is right.\r\n\r\n","title":"Why do we need a helper method inside @OneToMany annotated side in hibernate?","body":"<p>The method just checks if the list is null and creates it if it's not there you can leave this out using:</p>\n<pre><code>@OneToMany(mappedBy =&quot;instructor&quot; ,\ncascade= {CascadeType.DETACH,\nCascadeType.MERGE,\nCascadeType.PERSIST,\nCascadeType.REFRESH}) \n    private List&lt;Course&gt; courses = new ArrayList&lt;&gt;();\n</code></pre>\n<p>The other thing that it does is add reference to the course that makes sure the relation is bidirectional where the course reference the instructor and vise versa.</p>\n<p>you can take this out and make these checks in a service method.</p>\n<p>to answer your question, you can make the same class without it, but you'll have to do those things somewhere else, this design works, but it's bad design, <code>addCourse</code> should be a service method, putting it there makes you're pojo entity somthing that has logic and control, but the logic of the method is right.</p>\n"},{"tags":[],"owner":{"account_id":15254736,"reputation":11,"user_id":11006905,"display_name":"Olena Dirych"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653579828,"creation_date":1653579828,"answer_id":72394492,"question_id":63273433,"body_markdown":"Vlad Mihalcea says both sides (parent and child) should be in sync so not breaking Domain Model consistency and avoiding state transition bugs:\r\nhttps://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/","title":"Why do we need a helper method inside @OneToMany annotated side in hibernate?","body":"<p>Vlad Mihalcea says both sides (parent and child) should be in sync so not breaking Domain Model consistency and avoiding state transition bugs:\n<a href=\"https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/</a></p>\n"}],"owner":{"account_id":17323025,"reputation":1344,"user_id":12547954,"display_name":"Hasindu Dahanayake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1653579828,"creation_date":1596661273,"question_id":63273433,"body_markdown":"Here I have two entity classes called Course and Instructor which follows bi directional one to many relationship.Source code is given below.I need to know **what&#39;s the need of the addCourse() method in the Instructor class and can&#39;t we create the class without it?**\r\n\r\n\r\nSource code.\r\n\r\n\r\n**Instructor class**\r\n```\r\n@Entity\r\n@Table(name=&quot;Instructor&quot;)\r\n\r\npublic class Instructor {\r\n\t\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy =GenerationType.IDENTITY )\r\n\t@Column(name=&quot;id&quot;)\r\n\tprivate int id;\r\n\r\n\t@Column(name=&quot;first_name&quot;)\r\n\tprivate String firtName;\r\n\t\r\n\t@Column(name=&quot;last_name&quot;)\r\n\tprivate String lastName;\r\n\t\r\n\t@Column(name=&quot;email&quot;)\r\n\tprivate String email;\r\n\t\r\n\t\r\n\t\r\n\t@OneToMany(mappedBy =&quot;instructor&quot; ,cascade= {CascadeType.DETACH,CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REFRESH}) \r\n\tprivate List&lt;Course&gt; courses;\r\n\r\n\r\n    //Getters and Setters + Constructors + toString() method\r\n\r\n\t\r\n\tpublic void addCourse(Course tempCourse) {//Helper method\r\n\t\tif(courses == null) {\r\n\t\t\tcourses = new ArrayList&lt;&gt;();\r\n\t\t}\r\n\t\tcourses.add(tempCourse);\r\n\t\ttempCourse.setInstructor(this);\r\n\t}\r\n\r\n}\r\n```\r\n**Course class**\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;course&quot;)\r\npublic class Course {\r\n\t@Id\r\n\t@Column(name = &quot;id&quot;)\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate int id;\r\n\t\r\n\t@Column(name=&quot;title&quot;)\r\n\tprivate String title;\r\n\t\r\n    @ManyToOne(cascade ={CascadeType.DETACH,CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REFRESH} )\r\n\t@JoinColumn(name=&quot;instructor_id&quot;)\r\n\tprivate Instructor instructor;\r\n\t\r\n\t//Getters and Setters + Constructors + toString() method\t\r\n\r\n\t\r\n}\r\n```\r\n","title":"Why do we need a helper method inside @OneToMany annotated side in hibernate?","body":"<p>Here I have two entity classes called Course and Instructor which follows bi directional one to many relationship.Source code is given below.I need to know <strong>what's the need of the addCourse() method in the Instructor class and can't we create the class without it?</strong></p>\n<p>Source code.</p>\n<p><strong>Instructor class</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;Instructor&quot;)\n\npublic class Instructor {\n    \n\n    @Id\n    @GeneratedValue(strategy =GenerationType.IDENTITY )\n    @Column(name=&quot;id&quot;)\n    private int id;\n\n    @Column(name=&quot;first_name&quot;)\n    private String firtName;\n    \n    @Column(name=&quot;last_name&quot;)\n    private String lastName;\n    \n    @Column(name=&quot;email&quot;)\n    private String email;\n    \n    \n    \n    @OneToMany(mappedBy =&quot;instructor&quot; ,cascade= {CascadeType.DETACH,CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REFRESH}) \n    private List&lt;Course&gt; courses;\n\n\n    //Getters and Setters + Constructors + toString() method\n\n    \n    public void addCourse(Course tempCourse) {//Helper method\n        if(courses == null) {\n            courses = new ArrayList&lt;&gt;();\n        }\n        courses.add(tempCourse);\n        tempCourse.setInstructor(this);\n    }\n\n}\n</code></pre>\n<p><strong>Course class</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;course&quot;)\npublic class Course {\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    @Column(name=&quot;title&quot;)\n    private String title;\n    \n    @ManyToOne(cascade ={CascadeType.DETACH,CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REFRESH} )\n    @JoinColumn(name=&quot;instructor_id&quot;)\n    private Instructor instructor;\n    \n    //Getters and Setters + Constructors + toString() method    \n\n    \n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","https","keystore"],"answers":[{"tags":[],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653579357,"creation_date":1653578951,"answer_id":72394294,"question_id":72393702,"body_markdown":"I solved a compareable problem by setting those properties programatically. This mean, you could check if the key-store file exists before you start your application with \r\n```SpringApplication.run(MyApplication.class, args);```\r\n\r\nDepending on whether the key-store exists or not you could build a new args-array, which includes the old args and your ssl setting.","title":"spring boot - use https only if ssl.key-store file exists","body":"<p>I solved a compareable problem by setting those properties programatically. This mean, you could check if the key-store file exists before you start your application with\n<code>SpringApplication.run(MyApplication.class, args);</code></p>\n<p>Depending on whether the key-store exists or not you could build a new args-array, which includes the old args and your ssl setting.</p>\n"}],"owner":{"account_id":1553950,"reputation":1291,"user_id":1445660,"accept_rate":38,"display_name":"Rony Tesler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72394294,"answer_count":1,"score":1,"last_activity_date":1653579357,"creation_date":1653576375,"question_id":72393702,"body_markdown":"I added these lines to application.properties:\r\n\r\n    server.ssl.key-store: keystore.p12\r\n    server.ssl.key-store-password: 111111\r\n    server.ssl.keyStoreType: PKCS12\r\n    server.ssl.keyAlias: tomcat\r\n\r\nHow do I use HTTPS only if the server.ssl.key-store file exists? Otherwise, I want to use HTTP.\r\n\r\n","title":"spring boot - use https only if ssl.key-store file exists","body":"<p>I added these lines to application.properties:</p>\n<pre><code>server.ssl.key-store: keystore.p12\nserver.ssl.key-store-password: 111111\nserver.ssl.keyStoreType: PKCS12\nserver.ssl.keyAlias: tomcat\n</code></pre>\n<p>How do I use HTTPS only if the server.ssl.key-store file exists? Otherwise, I want to use HTTP.</p>\n"},{"tags":["java","spring","spring-restcontroller"],"comments":[{"owner":{"account_id":7245329,"reputation":1460,"user_id":5527433,"display_name":"David Florez"},"score":0,"creation_date":1496779588,"post_id":44397400,"comment_id":75797655,"body_markdown":"Possible duplicate of [AngularJS Formdata file array upload](https://stackoverflow.com/questions/33920248/angularjs-formdata-file-array-upload)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/33920248/angularjs-formdata-file-array-upload\">AngularJS Formdata file array upload</a>"}],"answers":[{"tags":[],"owner":{"account_id":8614990,"reputation":1175,"user_id":6452215,"display_name":"Uday"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1496795294,"creation_date":1496795294,"answer_id":44401675,"question_id":44397400,"body_markdown":"Your method signature is incorrect. \r\n\r\n**@RequestBody** annotation parameters maps to the HTTP request body.\r\n\r\n**@RequestParam** annotation parameters maps to the specific Servlet request parameters. \r\n\r\nUse the following:\r\n\r\n    public @ResponseBody String handleFileUpload(@RequestParam MultipartFile file)\r\n\r\nIf you are sending multiple, then use array:\r\n\r\n    public @ResponseBody String handleFileUpload(@RequestParam MultipartFile[[] file)","title":"Receiving uploaded file from client , rest","body":"<p>Your method signature is incorrect. </p>\n\n<p><strong>@RequestBody</strong> annotation parameters maps to the HTTP request body.</p>\n\n<p><strong>@RequestParam</strong> annotation parameters maps to the specific Servlet request parameters. </p>\n\n<p>Use the following:</p>\n\n<pre><code>public @ResponseBody String handleFileUpload(@RequestParam MultipartFile file)\n</code></pre>\n\n<p>If you are sending multiple, then use array:</p>\n\n<pre><code>public @ResponseBody String handleFileUpload(@RequestParam MultipartFile[[] file)\n</code></pre>\n"}],"owner":{"account_id":7128939,"reputation":1633,"user_id":5450916,"accept_rate":73,"display_name":"filemonczyk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44401675,"answer_count":1,"score":1,"last_activity_date":1653579048,"creation_date":1496773963,"question_id":44397400,"body_markdown":"I am sending to backend a file, this is the upload code: \r\n\r\n    export class FileUploadComponent {\r\n    \r\n      @Input() multiple: boolean = false;\r\n      @ViewChild(&#39;fileInput&#39;) inputEl: ElementRef;\r\n    \r\n      constructor(private http: Http) {}\r\n    \r\n      upload() {\r\n        let inputEl: HTMLInputElement = this.inputEl.nativeElement;\r\n        let fileCount: number = inputEl.files.length;\r\n        let formData = new FormData();\r\n        if (fileCount &gt; 0) { // a file was selected\r\n          for (let i = 0; i &lt; fileCount; i++) {\r\n            formData.append(&#39;file[]&#39;, inputEl.files.item(i));\r\n          }\r\n          this.http\r\n            .post(&#39;http://localhost:8080/upload&#39;, formData).toPromise().then(() =&gt; console.log(&#39;success&#39;)).catch(() =&gt; console.log(&#39;error&#39;));\r\n        }\r\n      }\r\n    }\r\n\r\nNow on the backendside I&#39;d like to receive it via controller, but I don&#39;t know how to map the file property, following gives null&#39;s:\r\n\r\n     public @ResponseBody String handleFileUpload(@RequestBody MultipartFile file)","title":"Receiving uploaded file from client , rest","body":"<p>I am sending to backend a file, this is the upload code:</p>\n<pre><code>export class FileUploadComponent {\n\n  @Input() multiple: boolean = false;\n  @ViewChild('fileInput') inputEl: ElementRef;\n\n  constructor(private http: Http) {}\n\n  upload() {\n    let inputEl: HTMLInputElement = this.inputEl.nativeElement;\n    let fileCount: number = inputEl.files.length;\n    let formData = new FormData();\n    if (fileCount &gt; 0) { // a file was selected\n      for (let i = 0; i &lt; fileCount; i++) {\n        formData.append('file[]', inputEl.files.item(i));\n      }\n      this.http\n        .post('http://localhost:8080/upload', formData).toPromise().then(() =&gt; console.log('success')).catch(() =&gt; console.log('error'));\n    }\n  }\n}\n</code></pre>\n<p>Now on the backendside I'd like to receive it via controller, but I don't know how to map the file property, following gives null's:</p>\n<pre><code> public @ResponseBody String handleFileUpload(@RequestBody MultipartFile file)\n</code></pre>\n"},{"tags":["java","gitlab","gitlab-ci","jacoco"],"comments":[{"owner":{"account_id":3165565,"reputation":2256,"user_id":2675670,"accept_rate":67,"display_name":"Richard"},"score":0,"creation_date":1653578204,"post_id":72381020,"comment_id":127890042,"body_markdown":"What does the console output look like?","body":"What does the console output look like?"}],"answers":[{"tags":[],"owner":{"account_id":3165565,"reputation":2256,"user_id":2675670,"accept_rate":67,"display_name":"Richard"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1653578978,"creation_date":1653578978,"answer_id":72394302,"question_id":72381020,"body_markdown":"In order to get `./gradlew test` to output a summary of test coverage, I needed to add [`gradle-jacoco-log`][1] to my project.\r\n\r\n```gradle\r\nplugins {\r\n  id &#39;org.barfuin.gradle.jacocolog&#39; version &#39;2.0.0&#39;\r\n}\r\n\r\ntest {\r\n  finalizedBy jacocoTestReport\r\n}\r\n\r\njacocoTestReport {\r\n  dependsOn test\r\n}\r\n```\r\n\r\nWhich gives me the following console output:\r\n\r\n```bash\r\n&gt; Task :jacocoLogTestCoverage\r\nTest Coverage:\r\n    - Class Coverage: 100%\r\n    - Method Coverage: 83.6%\r\n    - Branch Coverage: 75%\r\n    - Line Coverage: 85.5%\r\n    - Instruction Coverage: 83.1%\r\n    - Complexity Coverage: 82.5%\r\n```\r\n\r\nI can then choose to report `Instruction Coverage` to GitLab by adding the following to `.gitlab-ci.yml`:\r\n\r\n```yaml\r\ntest:\r\n  stage: test\r\n  script: gradle check\r\n  coverage: &#39;/    - Instruction Coverage: ([0-9.]+)%/&#39;\r\n```\r\n\r\n  [1]: https://gitlab.com/barfuin/gradle-jacoco-log/-/blob/master/README.md","title":"GitLab CI&amp;CD test coverage with jacoco","body":"<p>In order to get <code>./gradlew test</code> to output a summary of test coverage, I needed to add <a href=\"https://gitlab.com/barfuin/gradle-jacoco-log/-/blob/master/README.md\" rel=\"nofollow noreferrer\"><code>gradle-jacoco-log</code></a> to my project.</p>\n<pre><code>plugins {\n  id 'org.barfuin.gradle.jacocolog' version '2.0.0'\n}\n\ntest {\n  finalizedBy jacocoTestReport\n}\n\njacocoTestReport {\n  dependsOn test\n}\n</code></pre>\n<p>Which gives me the following console output:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>&gt; Task :jacocoLogTestCoverage\nTest Coverage:\n    - Class Coverage: 100%\n    - Method Coverage: 83.6%\n    - Branch Coverage: 75%\n    - Line Coverage: 85.5%\n    - Instruction Coverage: 83.1%\n    - Complexity Coverage: 82.5%\n</code></pre>\n<p>I can then choose to report <code>Instruction Coverage</code> to GitLab by adding the following to <code>.gitlab-ci.yml</code>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>test:\n  stage: test\n  script: gradle check\n  coverage: '/    - Instruction Coverage: ([0-9.]+)%/'\n</code></pre>\n"}],"owner":{"account_id":24893532,"reputation":121,"user_id":18765109,"display_name":"Dmytro Klopov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5179,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72394302,"answer_count":1,"score":1,"last_activity_date":1653578978,"creation_date":1653494946,"question_id":72381020,"body_markdown":"In GitLab 15.0 test coverage feature in settings project will be removed.\r\n\r\nGitLab offers to parse test coverage with ```coverage``` keyword in ```.gitlab-ci.yml```\r\n\r\nAll requirements are met:\r\n\r\n 1. Defined as single-quoted string.\r\n 2. A regular expression starts and ends with the / character.\r\n\r\nWhy test-coverage badge is still showing ```unknown```?\r\n\r\n```\r\ntest:\r\n  stage: test\r\n  script: gradle check\r\n  coverage: &#39;/Total.*?([0-9]{1,3})%./&#39;\r\n  cache:\r\n    key: &quot;$CI_COMMIT_REF_NAME&quot;\r\n    policy: pull\r\n    paths:\r\n      - build\r\n      - .gradle\r\n  artifacts:\r\n    when: always\r\n    reports:\r\n      junit: build/test-results/test/**/TEST-*.xml\r\n\r\n```","title":"GitLab CI&amp;CD test coverage with jacoco","body":"<p>In GitLab 15.0 test coverage feature in settings project will be removed.</p>\n<p>GitLab offers to parse test coverage with <code>coverage</code> keyword in <code>.gitlab-ci.yml</code></p>\n<p>All requirements are met:</p>\n<ol>\n<li>Defined as single-quoted string.</li>\n<li>A regular expression starts and ends with the / character.</li>\n</ol>\n<p>Why test-coverage badge is still showing <code>unknown</code>?</p>\n<pre><code>test:\n  stage: test\n  script: gradle check\n  coverage: '/Total.*?([0-9]{1,3})%./'\n  cache:\n    key: &quot;$CI_COMMIT_REF_NAME&quot;\n    policy: pull\n    paths:\n      - build\n      - .gradle\n  artifacts:\n    when: always\n    reports:\n      junit: build/test-results/test/**/TEST-*.xml\n\n</code></pre>\n"},{"tags":["java","rmi","classnotfoundexception","rmiregistry"],"comments":[{"owner":{"account_id":2283896,"reputation":1509,"user_id":2008394,"accept_rate":57,"display_name":"Erik Karlstrand"},"score":0,"creation_date":1596718499,"post_id":63283814,"comment_id":111905068,"body_markdown":"The tutorial states that you should start the server by running this command `java -classpath classDir example.hello.Server &amp;` but it looks like you&#39;ve omitted the `example.hello.` part.","body":"The tutorial states that you should start the server by running this command <code>java -classpath classDir example.hello.Server &amp;</code> but it looks like you&#39;ve omitted the <code>example.hello.</code> part."},{"owner":{"display_name":"user6697988"},"score":0,"creation_date":1596718829,"post_id":63283814,"comment_id":111905252,"body_markdown":"Yeah, that didn&#39;t work and I was instructed by my lecturer to remove the package stuff, hence removing the example.hello. piece. It didn&#39;t work in either case. However I have found a solution by accident and ill post it now.","body":"Yeah, that didn&#39;t work and I was instructed by my lecturer to remove the package stuff, hence removing the example.hello. piece. It didn&#39;t work in either case. However I have found a solution by accident and ill post it now."}],"answers":[{"tags":[],"owner":{"display_name":"user6697988"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596718876,"creation_date":1596718876,"answer_id":63284181,"question_id":63283814,"body_markdown":"You have to run the command rmiregistry &amp; in the folder the code is compiled into. In this case, &quot;files&quot;\r\n\r\nthe &quot;getting started&quot; tutorial didn&#39;t mention that.","title":"Constantly receive java.lang.ClassNotFoundException","body":"<p>You have to run the command rmiregistry &amp; in the folder the code is compiled into. In this case, &quot;files&quot;</p>\n<p>the &quot;getting started&quot; tutorial didn't mention that.</p>\n"}],"owner":{"display_name":"user6697988"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653578669,"creation_date":1596717524,"question_id":63283814,"body_markdown":"I am very new to Java and the RMI system. I am following a tutorial but I am unsure why I keep getting the following errors[1]\r\n  [1]: https://i.stack.imgur.com/xeYTn.png\r\nI have attached the code (taken directly from the tutorial here: https://docs.oracle.com/javase/1.5.0/docs/guide/rmi/hello/hello-world.html)\r\n\r\nI have tried:\r\n\r\n- removing any lines with &#39;package&#39;\r\n- changing classpath variables\r\n- reinstalling java and javac\r\n- setting classpath in the &#39;rmiregistry &amp;&#39; command\r\n\r\nAny help would be appreciated\r\n\r\nedit: forgot to attach the code.\r\nHello.java\r\n```\r\nimport java.rmi.Remote;\r\nimport java.rmi.RemoteException;\r\n\r\npublic interface Hello extends Remote {\r\n    String sayHello() throws RemoteException;\r\n}\r\n```\r\n\r\nClient.java\r\n```\r\nimport java.rmi.registry.LocateRegistry;\r\nimport java.rmi.registry.Registry;\r\n\r\npublic class Client {\r\n\r\n    private Client() {\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String host = (args.length &lt; 1) ? null : args[0];\r\n        try {\r\n            Registry registry = LocateRegistry.getRegistry(host);\r\n            Hello stub = (Hello) registry.lookup(&quot;Hello&quot;);\r\n            String response = stub.sayHello();\r\n            System.out.println(&quot;response: &quot; + response);\r\n        } catch (Exception e) {\r\n            System.err.println(&quot;Client exception: &quot; + e.toString());\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nServer.java\r\n```\r\nimport java.rmi.registry.Registry;\r\nimport java.rmi.registry.LocateRegistry;\r\nimport java.rmi.Remote;\r\nimport java.rmi.RemoteException;\r\nimport java.rmi.server.UnicastRemoteObject;\r\n\r\npublic class Server implements Hello {\r\n\r\n    public Server() {\r\n    }\r\n\r\n    public String sayHello() {\r\n        return &quot;Hello, world!&quot;;\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n\r\n        try {\r\n            Server obj = new Server();\r\n            Hello stub = (Hello) UnicastRemoteObject.exportObject((Remote) obj, 0);\r\n\r\n            // Bind the remote object&#39;s stub in the registry\r\n            Registry registry = LocateRegistry.getRegistry();\r\n            registry.bind(&quot;Hello&quot;, stub);\r\n\r\n            System.err.println(&quot;Server ready&quot;);\r\n        } catch (Exception e) {\r\n            System.err.println(&quot;Server exception: &quot; + e.toString());\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```","title":"Constantly receive java.lang.ClassNotFoundException","body":"<p>I am very new to Java and the RMI system. I am following a tutorial but I am unsure why I keep getting the following errors[1]\n[1]: <a href=\"https://i.stack.imgur.com/xeYTn.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/xeYTn.png</a>\nI have attached the code (taken directly from the tutorial here: <a href=\"https://docs.oracle.com/javase/1.5.0/docs/guide/rmi/hello/hello-world.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/1.5.0/docs/guide/rmi/hello/hello-world.html</a>)</p>\n<p>I have tried:</p>\n<ul>\n<li>removing any lines with 'package'</li>\n<li>changing classpath variables</li>\n<li>reinstalling java and javac</li>\n<li>setting classpath in the 'rmiregistry &amp;' command</li>\n</ul>\n<p>Any help would be appreciated</p>\n<p>edit: forgot to attach the code.\nHello.java</p>\n<pre><code>import java.rmi.Remote;\nimport java.rmi.RemoteException;\n\npublic interface Hello extends Remote {\n    String sayHello() throws RemoteException;\n}\n</code></pre>\n<p>Client.java</p>\n<pre><code>import java.rmi.registry.LocateRegistry;\nimport java.rmi.registry.Registry;\n\npublic class Client {\n\n    private Client() {\n    }\n\n    public static void main(String[] args) {\n\n        String host = (args.length &lt; 1) ? null : args[0];\n        try {\n            Registry registry = LocateRegistry.getRegistry(host);\n            Hello stub = (Hello) registry.lookup(&quot;Hello&quot;);\n            String response = stub.sayHello();\n            System.out.println(&quot;response: &quot; + response);\n        } catch (Exception e) {\n            System.err.println(&quot;Client exception: &quot; + e.toString());\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Server.java</p>\n<pre><code>import java.rmi.registry.Registry;\nimport java.rmi.registry.LocateRegistry;\nimport java.rmi.Remote;\nimport java.rmi.RemoteException;\nimport java.rmi.server.UnicastRemoteObject;\n\npublic class Server implements Hello {\n\n    public Server() {\n    }\n\n    public String sayHello() {\n        return &quot;Hello, world!&quot;;\n    }\n\n    public static void main(String args[]) {\n\n        try {\n            Server obj = new Server();\n            Hello stub = (Hello) UnicastRemoteObject.exportObject((Remote) obj, 0);\n\n            // Bind the remote object's stub in the registry\n            Registry registry = LocateRegistry.getRegistry();\n            registry.bind(&quot;Hello&quot;, stub);\n\n            System.err.println(&quot;Server ready&quot;);\n        } catch (Exception e) {\n            System.err.println(&quot;Server exception: &quot; + e.toString());\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":1,"creation_date":1653535181,"post_id":72386292,"comment_id":127877690,"body_markdown":"You can&#39;t. A map is a collection of key/value pairs. One value per key. The common approach is to define a class and store instances of that class as the value.","body":"You can&#39;t. A map is a collection of key/value pairs. One value per key. The common approach is to define a class and store instances of that class as the value."}],"answers":[{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653578570,"creation_date":1653536754,"answer_id":72386462,"question_id":72386292,"body_markdown":"One way would be to create another class:\r\n\r\n    class Account {\r\n       private String accountNumber;\r\n       private String pin;\r\n       private String accountOwner;\r\n       private long balance;\r\n\r\nand so on.   [1]    \r\n\r\nSo, you could  have a `Map &lt;String, Account&gt;` .  \r\n\r\n    Account account = map.get(card);\r\n    String accountNum = account.getNum ();\r\n    String pin = account.getPin ();\r\n\r\n\r\n\r\n\r\n[1] The number on the card would not normally be the same as the account number. That way, if the card is stolen, the card can be canceled without changing the account number.\r\n\r\n","title":"Java HashMap - How to Create third parameters to store my user amount","body":"<p>One way would be to create another class:</p>\n<pre><code>class Account {\n   private String accountNumber;\n   private String pin;\n   private String accountOwner;\n   private long balance;\n</code></pre>\n<p>and so on.   [1]</p>\n<p>So, you could  have a <code>Map &lt;String, Account&gt;</code> .</p>\n<pre><code>Account account = map.get(card);\nString accountNum = account.getNum ();\nString pin = account.getPin ();\n</code></pre>\n<p>[1] The number on the card would not normally be the same as the account number. That way, if the card is stolen, the card can be canceled without changing the account number.</p>\n"},{"tags":[],"owner":{"account_id":24172193,"reputation":61,"user_id":18134116,"display_name":"Dhruv Maindola"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653538592,"creation_date":1653538592,"answer_id":72386622,"question_id":72386292,"body_markdown":"You cannot have multiple values corresponding to a single key. What you can however do is have a nested Hashmap. In that map you can have further user details , such as user name , user address , user balance and so on.\r\n\r\n    Map&lt;String, HashMap&lt;String,String&gt;&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;123456789&quot; , new HashMap&lt;&gt;());\r\n        map.put(&quot;987654321&quot; , new HashMap&lt;&gt;());\r\n        map.get(&quot;123456789&quot;).put(&quot;pin number&quot; , &quot;123456&quot;);\r\n        map.get(&quot;123456789&quot;).put(&quot;phone number&quot; , &quot;0000000000&quot;);\r\n        map.get(&quot;123456789&quot;).put(&quot;name&quot; , &quot;xyz&quot;);\r\n        map.get(&quot;123456789&quot;).put(&quot;balance&quot; , &quot;20000&quot;);\r\n        map.get(&quot;987654321&quot;).put(&quot;pin number&quot; , &quot;654321&quot;);\r\n        map.get(&quot;987654321&quot;).put(&quot;phone number&quot; , &quot;1111111111&quot;);\r\n        map.get(&quot;987654321&quot;).put(&quot;name&quot; , &quot;zyx&quot;);\r\n        map.get(&quot;987654321&quot;).put(&quot;balance&quot; , &quot;10000&quot;);\r\nSo the map looks like this -&gt; \r\n\r\n{123456789 = { pin number = 123456, balance = 20000 , name = xyz , phone number = 0000000000} , 987654321 = { pin number = 654321 , balance = 10000 , name = zyx, phone number = 1111111111}}\r\n\r\nNow for each account number you can store multiple types of values.\r\nTo get values corresponding to account number use,\r\n\r\n     String actualPin = map.get(card).get(&quot;pin number&quot;);\r\n\r\n**map.get(card)** will return you the map corresponding to that card account number. And inside that map you can get all of the values you want via the String keys inside that map.\r\nHope this helps.\r\n","title":"Java HashMap - How to Create third parameters to store my user amount","body":"<p>You cannot have multiple values corresponding to a single key. What you can however do is have a nested Hashmap. In that map you can have further user details , such as user name , user address , user balance and so on.</p>\n<pre><code>Map&lt;String, HashMap&lt;String,String&gt;&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;123456789&quot; , new HashMap&lt;&gt;());\n    map.put(&quot;987654321&quot; , new HashMap&lt;&gt;());\n    map.get(&quot;123456789&quot;).put(&quot;pin number&quot; , &quot;123456&quot;);\n    map.get(&quot;123456789&quot;).put(&quot;phone number&quot; , &quot;0000000000&quot;);\n    map.get(&quot;123456789&quot;).put(&quot;name&quot; , &quot;xyz&quot;);\n    map.get(&quot;123456789&quot;).put(&quot;balance&quot; , &quot;20000&quot;);\n    map.get(&quot;987654321&quot;).put(&quot;pin number&quot; , &quot;654321&quot;);\n    map.get(&quot;987654321&quot;).put(&quot;phone number&quot; , &quot;1111111111&quot;);\n    map.get(&quot;987654321&quot;).put(&quot;name&quot; , &quot;zyx&quot;);\n    map.get(&quot;987654321&quot;).put(&quot;balance&quot; , &quot;10000&quot;);\n</code></pre>\n<p>So the map looks like this -&gt;</p>\n<p>{123456789 = { pin number = 123456, balance = 20000 , name = xyz , phone number = 0000000000} , 987654321 = { pin number = 654321 , balance = 10000 , name = zyx, phone number = 1111111111}}</p>\n<p>Now for each account number you can store multiple types of values.\nTo get values corresponding to account number use,</p>\n<pre><code> String actualPin = map.get(card).get(&quot;pin number&quot;);\n</code></pre>\n<p><strong>map.get(card)</strong> will return you the map corresponding to that card account number. And inside that map you can get all of the values you want via the String keys inside that map.\nHope this helps.</p>\n"}],"owner":{"account_id":25391750,"reputation":7,"user_id":19202588,"display_name":"Mastery mind"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72386622,"answer_count":2,"score":0,"last_activity_date":1653578570,"creation_date":1653534963,"question_id":72386292,"body_markdown":"I&#39;m learning how to use a hashmap. I am trying to build an ATM program that can store the user&#39;s initial amount so that when I want to deposit or withdraw or check my balance, I can do it. Below is my code.\r\n```\r\nimport java.util.*;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\t// write your code here\r\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;123456789&quot;, &quot;123456&quot;);\r\n        map.put(&quot;987654321&quot;, &quot;654321&quot;);\r\n\r\n        boolean valid = false;\r\n        Scanner in = new Scanner(System.in);\r\n        while(!valid) {\r\n            System.out.println(&quot;Enter Your Card Number&quot;);\r\n            String card = in.next();\r\n            System.out.println(&quot;Enter Your Pin Number&quot;);\r\n            String pin = in.next();\r\n            String actualPin = map.get(card);\r\n            valid = pin.equals(actualPin);\r\n            if (!valid) {\r\n                System.out.println(&quot;Wrong Card Number or Pin Number&quot;);\r\n                System.out.println(&quot;Try Again&quot;);\r\n            } else {\r\n                System.out.println(&quot;Congratulations on logging in&quot;);\r\n                Scanner question = new Scanner(System.in);\r\n                System.out.println(&quot;Press 1 to Withdraw&quot;);\r\n                System.out.println(&quot;Press 2 to Deposit&quot;);\r\n                System.out.println(&quot;Press 3 to Check Amount&quot;);\r\n                String operation = question.next();\r\n                switch(operation) {\r\n                    case &quot;1&quot;:\r\n                        System.out.println(&quot;How much would you like to withdraw&quot;);\r\n                        break;\r\n                    case &quot;2&quot;:\r\n                        System.out.println(&quot;How much would like to deposit?&quot;);\r\n                        break;\r\n                    case &quot;3&quot;:\r\n                        System.out.println(&quot;Here is your total amount in your bank&quot;);\r\n                        break;\r\n                    default:\r\n                        System.out.println(&quot;Press 4 to exit&quot;);\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n```\r\nMy question is how do I store an amount for my users in their ATM? I have tried to add another parameter in the hashmap, but it can only accept 2 parameters. ","title":"Java HashMap - How to Create third parameters to store my user amount","body":"<p>I'm learning how to use a hashmap. I am trying to build an ATM program that can store the user's initial amount so that when I want to deposit or withdraw or check my balance, I can do it. Below is my code.</p>\n<pre><code>import java.util.*;\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n    // write your code here\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;123456789&quot;, &quot;123456&quot;);\n        map.put(&quot;987654321&quot;, &quot;654321&quot;);\n\n        boolean valid = false;\n        Scanner in = new Scanner(System.in);\n        while(!valid) {\n            System.out.println(&quot;Enter Your Card Number&quot;);\n            String card = in.next();\n            System.out.println(&quot;Enter Your Pin Number&quot;);\n            String pin = in.next();\n            String actualPin = map.get(card);\n            valid = pin.equals(actualPin);\n            if (!valid) {\n                System.out.println(&quot;Wrong Card Number or Pin Number&quot;);\n                System.out.println(&quot;Try Again&quot;);\n            } else {\n                System.out.println(&quot;Congratulations on logging in&quot;);\n                Scanner question = new Scanner(System.in);\n                System.out.println(&quot;Press 1 to Withdraw&quot;);\n                System.out.println(&quot;Press 2 to Deposit&quot;);\n                System.out.println(&quot;Press 3 to Check Amount&quot;);\n                String operation = question.next();\n                switch(operation) {\n                    case &quot;1&quot;:\n                        System.out.println(&quot;How much would you like to withdraw&quot;);\n                        break;\n                    case &quot;2&quot;:\n                        System.out.println(&quot;How much would like to deposit?&quot;);\n                        break;\n                    case &quot;3&quot;:\n                        System.out.println(&quot;Here is your total amount in your bank&quot;);\n                        break;\n                    default:\n                        System.out.println(&quot;Press 4 to exit&quot;);\n                }\n            }\n        }\n\n    }\n}\n</code></pre>\n<p>My question is how do I store an amount for my users in their ATM? I have tried to add another parameter in the hashmap, but it can only accept 2 parameters.</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":25391750,"reputation":7,"user_id":19202588,"display_name":"Mastery mind"},"score":0,"creation_date":1653573443,"post_id":72393006,"comment_id":127888189,"body_markdown":"I&#39;m thinking of putting a while loop but I&#39;m not sure where should I add it.","body":"I&#39;m thinking of putting a while loop but I&#39;m not sure where should I add it."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1653576353,"post_id":72393006,"comment_id":127889312,"body_markdown":"Consider modeling your data rather than just using a Map as a container for it.","body":"Consider modeling your data rather than just using a Map as a container for it."},{"owner":{"account_id":25391750,"reputation":7,"user_id":19202588,"display_name":"Mastery mind"},"score":0,"creation_date":1653576488,"post_id":72393006,"comment_id":127889359,"body_markdown":"@vsfDawg Sorry I don&#39;t really get you. Do you mean by adding data to an array or ArrayList?","body":"@vsfDawg Sorry I don&#39;t really get you. Do you mean by adding data to an array or ArrayList?"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1653577586,"post_id":72393006,"comment_id":127889770,"body_markdown":"No, designing classes to hold the data.  e.g. Account, Card, etc.  A Map of Accounts keyed on the account number makes sense.  A Map of Cards keyed on Card ID makes sense.  This is tangent to your issue - which is how to get the input from the user.","body":"No, designing classes to hold the data.  e.g. Account, Card, etc.  A Map of Accounts keyed on the account number makes sense.  A Map of Cards keyed on Card ID makes sense.  This is tangent to your issue - which is how to get the input from the user."},{"owner":{"account_id":25391750,"reputation":7,"user_id":19202588,"display_name":"Mastery mind"},"score":0,"creation_date":1653579057,"post_id":72393006,"comment_id":127890371,"body_markdown":"@vsfDawg thank you for your kind explanation. I finally got it.","body":"@vsfDawg thank you for your kind explanation. I finally got it."}],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653578310,"creation_date":1653578310,"answer_id":72394144,"question_id":72393006,"body_markdown":"Basically, you need to wrap the login process in a loop.  For example\r\n\r\n    private Account login() {\r\n      Account account = null;\r\n      while (null == account) {\r\n        String cardNumber = promptForString(&quot;Enter card number: &quot;);\r\n        String pin = promptForString(in, &quot;Enter pin: &quot;);\r\n        account = findAccount(in, cardNumber, pin);\r\n      }\r\n      return account;\r\n    }\r\n\r\n    /**\r\n     * Emit the prompt and read in a String response from the Scanner\r\n     */\r\n    private String promptForString(Scanner in, String prompt) { ... }\r\n\r\n    /**\r\n     * Find the Account matching the card/pin provided.  Returns null if the\r\n     * credentials do not match an Account\r\n     */\r\n    private Account findAccount(String cardNumber, String pin) { ... }\r\n\r\n\r\n","title":"Java How to prompt user input is incorrect java.lang.NullPointerException","body":"<p>Basically, you need to wrap the login process in a loop.  For example</p>\n<pre><code>private Account login() {\n  Account account = null;\n  while (null == account) {\n    String cardNumber = promptForString(&quot;Enter card number: &quot;);\n    String pin = promptForString(in, &quot;Enter pin: &quot;);\n    account = findAccount(in, cardNumber, pin);\n  }\n  return account;\n}\n\n/**\n * Emit the prompt and read in a String response from the Scanner\n */\nprivate String promptForString(Scanner in, String prompt) { ... }\n\n/**\n * Find the Account matching the card/pin provided.  Returns null if the\n * credentials do not match an Account\n */\nprivate Account findAccount(String cardNumber, String pin) { ... }\n</code></pre>\n"}],"owner":{"account_id":25391750,"reputation":7,"user_id":19202588,"display_name":"Mastery mind"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653578310,"creation_date":1653573397,"question_id":72393006,"body_markdown":"I&#39;m learning how to use a hashmap. I am trying to build an ATM program that can store the user&#39;s initial amount so that when I want to deposit or withdraw or check my balance. Below is my code.\r\n```\r\nimport java.util.*;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\t// write your code here\r\n        Map&lt;String, HashMap&lt;String, String&gt;&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;123456789&quot;, new HashMap&lt;&gt;());\r\n        map.put(&quot;987654321&quot;, new HashMap&lt;&gt;());\r\n        map.get(&quot;123456789&quot;).put(&quot;pin number&quot; , &quot;123456&quot;);\r\n        map.get(&quot;123456789&quot;).put(&quot;phone number&quot; , &quot;0123456789&quot;);\r\n        map.get(&quot;123456789&quot;).put(&quot;name&quot; , &quot;Thomas&quot;);\r\n        map.get(&quot;123456789&quot;).put(&quot;balance&quot; , &quot;50000&quot;);\r\n\r\n        boolean valid = false;\r\n        Scanner in = new Scanner(System.in);\r\n        while(!valid) {\r\n            System.out.println(&quot;Enter Your Card Number&quot;);\r\n            String card = in.next();\r\n            System.out.println(&quot;Enter Your Pin Number&quot;);\r\n            String pin = in.next();\r\n            String actualPin = map.get(card).get(&quot;pin number&quot;);\r\n            valid = pin.equals(actualPin);\r\n            if (!valid) {\r\n                System.out.println(&quot;Wrong Card Number or Pin Number&quot;);\r\n                System.out.println(&quot;Try Again&quot;);\r\n            } \r\n        }\r\n\r\n    }\r\n}\r\n```\r\nMy question is how do I fix  java.lang.NullPointerException issues? I entered my card number and pin correctly my above code will work but when I&#39;m wrong then java.lang.NullPointerException. How do I prompt the user for the card and pin again? ","title":"Java How to prompt user input is incorrect java.lang.NullPointerException","body":"<p>I'm learning how to use a hashmap. I am trying to build an ATM program that can store the user's initial amount so that when I want to deposit or withdraw or check my balance. Below is my code.</p>\n<pre><code>import java.util.*;\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n    // write your code here\n        Map&lt;String, HashMap&lt;String, String&gt;&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;123456789&quot;, new HashMap&lt;&gt;());\n        map.put(&quot;987654321&quot;, new HashMap&lt;&gt;());\n        map.get(&quot;123456789&quot;).put(&quot;pin number&quot; , &quot;123456&quot;);\n        map.get(&quot;123456789&quot;).put(&quot;phone number&quot; , &quot;0123456789&quot;);\n        map.get(&quot;123456789&quot;).put(&quot;name&quot; , &quot;Thomas&quot;);\n        map.get(&quot;123456789&quot;).put(&quot;balance&quot; , &quot;50000&quot;);\n\n        boolean valid = false;\n        Scanner in = new Scanner(System.in);\n        while(!valid) {\n            System.out.println(&quot;Enter Your Card Number&quot;);\n            String card = in.next();\n            System.out.println(&quot;Enter Your Pin Number&quot;);\n            String pin = in.next();\n            String actualPin = map.get(card).get(&quot;pin number&quot;);\n            valid = pin.equals(actualPin);\n            if (!valid) {\n                System.out.println(&quot;Wrong Card Number or Pin Number&quot;);\n                System.out.println(&quot;Try Again&quot;);\n            } \n        }\n\n    }\n}\n</code></pre>\n<p>My question is how do I fix  java.lang.NullPointerException issues? I entered my card number and pin correctly my above code will work but when I'm wrong then java.lang.NullPointerException. How do I prompt the user for the card and pin again?</p>\n"},{"tags":["java","spring","spring-mvc","cve"],"comments":[{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1653578353,"post_id":72394082,"comment_id":127890099,"body_markdown":"*The article merely states `Older, unsupported versions are also affected` but no mention on how to fix those. Spring website doesn&#39;t mention a fix.* - that&#39;s what unsupported means.","body":"<i>The article merely states <code>Older, unsupported versions are also affected</code> but no mention on how to fix those. Spring website doesn&#39;t mention a fix.</i> - that&#39;s what unsupported means."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1653578391,"post_id":72394082,"comment_id":127890113,"body_markdown":"I frankly don&#39;t have an answer, but &quot;unsupported&quot; means &quot;we no longer maintain or give support to those&quot; so while the developers may decide to backport a fix out of kindness, there&#39;s no guarantee they will, nor that they provide workarounds/fixes/instructions about them. So I&#39;m afraid the general answer for these cases would be &quot;find some good java dev that can try to understand how the issue affects your older version and try to backport a fix&quot;","body":"I frankly don&#39;t have an answer, but &quot;unsupported&quot; means &quot;we no longer maintain or give support to those&quot; so while the developers may decide to backport a fix out of kindness, there&#39;s no guarantee they will, nor that they provide workarounds/fixes/instructions about them. So I&#39;m afraid the general answer for these cases would be &quot;find some good java dev that can try to understand how the issue affects your older version and try to backport a fix&quot;"},{"owner":{"account_id":2007211,"reputation":581,"user_id":1796748,"accept_rate":40,"display_name":"yonikawa"},"score":0,"creation_date":1653580322,"post_id":72394082,"comment_id":127890837,"body_markdown":"@FedericoklezCulloca - in that case switching to apache is the easiest option I guess. Thanks for the response.","body":"@FedericoklezCulloca - in that case switching to apache is the easiest option I guess. Thanks for the response."},{"owner":{"account_id":2007211,"reputation":581,"user_id":1796748,"accept_rate":40,"display_name":"yonikawa"},"score":0,"creation_date":1653580770,"post_id":72394082,"comment_id":127891026,"body_markdown":"@tevemadar -  Sorry I didn&#39;t catch that part. lol. Recently there were other bugs identified and they did mention some fixes for older versions as well. Was expecting the same here too.","body":"@tevemadar -  Sorry I didn&#39;t catch that part. lol. Recently there were other bugs identified and they did mention some fixes for older versions as well. Was expecting the same here too."}],"owner":{"account_id":2007211,"reputation":581,"user_id":1796748,"accept_rate":40,"display_name":"yonikawa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653578122,"creation_date":1653578051,"question_id":72394082,"body_markdown":"This issue was brought up recently but there are no mention anywhere on how to fix it in older spring versions. (&lt; 5.x) other than upgrade to latest Spring jar. Currently our web-app is using `4.1.5`.\r\n\r\nThe article merely states `Older, unsupported versions are also affected` but no mention on how to fix those. Spring website doesn&#39;t mention a fix. \r\n\r\nUpgrade to latest spring is not an option for now. If no other solutions to this problem, another approach will be to replace `Spring MultipartFile`  with `Apache Commons File Upload`.\r\n\r\n[CVE 22970][1]\r\n\r\n\r\n  [1]: https://tanzu.vmware.com/security/cve-2022-22970","title":"CVE-2022-22970 - Spring Framework DoS via Data Binding to MultipartFile or Servlet Part","body":"<p>This issue was brought up recently but there are no mention anywhere on how to fix it in older spring versions. (&lt; 5.x) other than upgrade to latest Spring jar. Currently our web-app is using <code>4.1.5</code>.</p>\n<p>The article merely states <code>Older, unsupported versions are also affected</code> but no mention on how to fix those. Spring website doesn't mention a fix.</p>\n<p>Upgrade to latest spring is not an option for now. If no other solutions to this problem, another approach will be to replace <code>Spring MultipartFile</code>  with <code>Apache Commons File Upload</code>.</p>\n<p><a href=\"https://tanzu.vmware.com/security/cve-2022-22970\" rel=\"nofollow noreferrer\">CVE 22970</a></p>\n"},{"tags":["java","json","validation"],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653578052,"creation_date":1653576509,"answer_id":72393738,"question_id":72392947,"body_markdown":"You have to map this json to any java class something like:\r\n\r\n    class Foo{\r\n    \tString a;\r\n        String b;\r\n    }\r\n\r\n&amp; then calling :\r\n\r\n    Foo foo=new ObjectMapper().readValue(&quot;{ \\&quot;a1\\&quot; : \\&quot;valueA\\&quot;, \\&quot;b\\&quot; : \\&quot;valueB\\&quot;}&quot;,Foo.class);\r\n\r\nwill give you exception as \r\n\r\n    Unrecognized field &quot;a1&quot;","title":"How to validate keys of a json in java","body":"<p>You have to map this json to any java class something like:</p>\n<pre><code>class Foo{\n    String a;\n    String b;\n}\n</code></pre>\n<p>&amp; then calling :</p>\n<pre><code>Foo foo=new ObjectMapper().readValue(&quot;{ \\&quot;a1\\&quot; : \\&quot;valueA\\&quot;, \\&quot;b\\&quot; : \\&quot;valueB\\&quot;}&quot;,Foo.class);\n</code></pre>\n<p>will give you exception as</p>\n<pre><code>Unrecognized field &quot;a1&quot;\n</code></pre>\n"}],"owner":{"account_id":4838196,"reputation":101,"user_id":9715520,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1653579580,"accepted_answer_id":72393738,"answer_count":1,"score":-1,"last_activity_date":1653578052,"creation_date":1653573124,"question_id":72392947,"body_markdown":"Let&#39;s assume valid json is\r\n\r\n    {\r\n      &quot;a&quot;: &quot;valueA&quot;,\r\n      &quot;b&quot;: &quot;valueB&quot;\r\n    }\r\n\r\nIs there a neat way in java to validate the keys of json so that if the following is processed it fails with a message stating a particular key(in this case &#39;a1&#39;) is not a supported key/wrong key\r\n\r\n    {\r\n      &quot;a1&quot;: &quot;valueA&quot;, //wrong key a1 instead of a\r\n      &quot;b&quot;: &quot;valueB&quot;\r\n    }\r\n\r\n\r\n\r\n","title":"How to validate keys of a json in java","body":"<p>Let's assume valid json is</p>\n<pre><code>{\n  &quot;a&quot;: &quot;valueA&quot;,\n  &quot;b&quot;: &quot;valueB&quot;\n}\n</code></pre>\n<p>Is there a neat way in java to validate the keys of json so that if the following is processed it fails with a message stating a particular key(in this case 'a1') is not a supported key/wrong key</p>\n<pre><code>{\n  &quot;a1&quot;: &quot;valueA&quot;, //wrong key a1 instead of a\n  &quot;b&quot;: &quot;valueB&quot;\n}\n</code></pre>\n"},{"tags":["java","arrays","xml","android-studio","logic"],"answers":[{"tags":[],"owner":{"account_id":12870578,"reputation":489,"user_id":9309181,"display_name":"Aymen Ben Salah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653511418,"creation_date":1653511418,"answer_id":72383946,"question_id":72383849,"body_markdown":"Hello if i undrestand you want to create multiple imgs with random positions so you have to instantiate every imga lik&#233; this :\r\n```\r\nImageView i = ImageView(contexte);\r\ni.x=somex;\r\ni.y=somey","title":"How to shuffle/randomize ImageView on Android Studio Using Java?","body":"<p>Hello if i undrestand you want to create multiple imgs with random positions so you have to instantiate every imga liké this :</p>\n<pre><code>ImageView i = ImageView(contexte);\ni.x=somex;\ni.y=somey\n</code></pre>\n"}],"owner":{"account_id":25390453,"reputation":1,"user_id":19201538,"display_name":"Chunchunmaru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1653577881,"creation_date":1653510829,"question_id":72383849,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nThis is the app, in xml every image have ID and I instantiate them on Main Java file using ImageView img = findByID(R.id.imgViewOnXml), but I can&#39;t randomize their position can someone help me how can I store them in an array, I&#39;m having a trouble\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rMZEr.jpg","title":"How to shuffle/randomize ImageView on Android Studio Using Java?","body":"<p><a href=\"https://i.stack.imgur.com/rMZEr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rMZEr.jpg\" alt=\"enter image description here\" /></a></p>\n<p>This is the app, in xml every image have ID and I instantiate them on Main Java file using ImageView img = findByID(R.id.imgViewOnXml), but I can't randomize their position can someone help me how can I store them in an array, I'm having a trouble</p>\n"},{"tags":["java","android","class","loading"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1527630844,"post_id":50593369,"comment_id":88196319,"body_markdown":"Note that what you are describing violates the Play Store developer distribution rules, which bans this sort of dynamic code loading (where the code does not come from the Play Store itself).","body":"Note that what you are describing violates the Play Store developer distribution rules, which bans this sort of dynamic code loading (where the code does not come from the Play Store itself)."},{"owner":{"account_id":4346924,"reputation":323,"user_id":5112735,"accept_rate":8,"display_name":"Andrean"},"score":0,"creation_date":1527660998,"post_id":50593369,"comment_id":88204154,"body_markdown":"I know, I don&#39;t want to publish that. It&#39;s for personal use.","body":"I know, I don&#39;t want to publish that. It&#39;s for personal use."}],"answers":[{"tags":[],"owner":{"account_id":5345001,"reputation":2521,"user_id":4260786,"display_name":"Suhaib Roomy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527634237,"creation_date":1527634237,"answer_id":50594064,"question_id":50593369,"body_markdown":"Here is how you can load jar and call a method on any of its classes\r\n\r\n    URLClassLoader child = new URLClassLoader(jarPath.toURL(), this.getClass().getClassLoader());\r\n    Class classToLoad = Class.forName(&quot;yourPackage.yourClass&quot;, true, child);\r\n    Method method = classToLoad.getDeclaredMethod(&quot;myMethod&quot;);\r\n    Object instance = classToLoad.newInstance();\r\n    Object result = method.invoke(instance);","title":"Android - dynamically load JAR file generated on Java","body":"<p>Here is how you can load jar and call a method on any of its classes</p>\n\n<pre><code>URLClassLoader child = new URLClassLoader(jarPath.toURL(), this.getClass().getClassLoader());\nClass classToLoad = Class.forName(\"yourPackage.yourClass\", true, child);\nMethod method = classToLoad.getDeclaredMethod(\"myMethod\");\nObject instance = classToLoad.newInstance();\nObject result = method.invoke(instance);\n</code></pre>\n"}],"owner":{"account_id":4346924,"reputation":323,"user_id":5112735,"accept_rate":8,"display_name":"Andrean"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653577254,"creation_date":1527630010,"question_id":50593369,"body_markdown":"I want to load Java classes dynamically on Android application.\r\n\r\nI have the .jar file and I can create the .dex file on that jar with command dx. Then, how can I use them to load the classes i need in an Android application ?\r\nI would to use them like:\r\n\r\n    DynamicLoadedClassJar obj = new DynamicLoadedClassInJar()\r\n    ...\r\n    DynamicLoadedClassInJar obj = (DynamicLoadedClassInJar) ...\r\n\r\nAll I have is .jar file and I can generate .dex file (but I don&#39;t know how to use them).\r\nCan you give me a snippet of code for this? Thank you","title":"Android - dynamically load JAR file generated on Java","body":"<p>I want to load Java classes dynamically on Android application.</p>\n<p>I have the .jar file and I can create the .dex file on that jar with command dx. Then, how can I use them to load the classes i need in an Android application ?\nI would to use them like:</p>\n<pre><code>DynamicLoadedClassJar obj = new DynamicLoadedClassInJar()\n...\nDynamicLoadedClassInJar obj = (DynamicLoadedClassInJar) ...\n</code></pre>\n<p>All I have is .jar file and I can generate .dex file (but I don't know how to use them).\nCan you give me a snippet of code for this? Thank you</p>\n"},{"tags":["java","android","keyboard","dialog","settings"],"answers":[{"tags":[],"owner":{"account_id":25184281,"reputation":51,"user_id":19025384,"display_name":"Felipe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653577139,"creation_date":1653577139,"answer_id":72393874,"question_id":72354797,"body_markdown":"After some more research I found the answer using an InputMethodManager object and the showInputMethodPicker() method in Java:\r\n\r\n    InputMethodManager inputMethodManager = (InputMethodManager) getApplicationContext().getSystemService(INPUT_METHOD_SERVICE);\r\n    inputMethodManager.showInputMethodPicker();","title":"Android app - show &quot;Change Keyboard&quot; settings dialog","body":"<p>After some more research I found the answer using an InputMethodManager object and the showInputMethodPicker() method in Java:</p>\n<pre><code>InputMethodManager inputMethodManager = (InputMethodManager) getApplicationContext().getSystemService(INPUT_METHOD_SERVICE);\ninputMethodManager.showInputMethodPicker();\n</code></pre>\n"}],"owner":{"account_id":25184281,"reputation":51,"user_id":19025384,"display_name":"Felipe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653577139,"creation_date":1653339815,"question_id":72354797,"body_markdown":"I am developing an android app in Java that needs to be set up as a keyboard. \r\n\r\nI want to have a button that when the user presses my app shows the following dialog box:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is a quick settings dialog box to allow the user to choose the input method (keyboard) it wants to use from now on. It is a default Android setting that is accessible to any user. \r\n\r\nNormally this setting shows up when you press the following shortcut next to the android navigation bar when a keyboard is opened:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBut in the context I am working on, this option is not visible to the user. So I want my app to be able to show this setting to the user when it presses a button.\r\n\r\nI know an app that does this exact thing, so I know that it is possible. However, I don&#39;t know how to code a button that displays a system dialog box like this one.\r\n\r\nCould you please help me?\r\n\r\nThanks in advance!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hdop0.png\r\n  [2]: https://i.stack.imgur.com/RjFd9.png","title":"Android app - show &quot;Change Keyboard&quot; settings dialog","body":"<p>I am developing an android app in Java that needs to be set up as a keyboard.</p>\n<p>I want to have a button that when the user presses my app shows the following dialog box:</p>\n<p><a href=\"https://i.stack.imgur.com/hdop0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hdop0.png\" alt=\"enter image description here\" /></a></p>\n<p>This is a quick settings dialog box to allow the user to choose the input method (keyboard) it wants to use from now on. It is a default Android setting that is accessible to any user.</p>\n<p>Normally this setting shows up when you press the following shortcut next to the android navigation bar when a keyboard is opened:</p>\n<p><a href=\"https://i.stack.imgur.com/RjFd9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RjFd9.png\" alt=\"enter image description here\" /></a></p>\n<p>But in the context I am working on, this option is not visible to the user. So I want my app to be able to show this setting to the user when it presses a button.</p>\n<p>I know an app that does this exact thing, so I know that it is possible. However, I don't know how to code a button that displays a system dialog box like this one.</p>\n<p>Could you please help me?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","amazon-web-services","quickfixj","apache-mina","proxy-protocol"],"comments":[{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":0,"creation_date":1653595774,"post_id":72393831,"comment_id":127895958,"body_markdown":"Don&#39;t have any experience with AWS but did you look at QFJ&#39;s proxy settings?","body":"Don&#39;t have any experience with AWS but did you look at QFJ&#39;s proxy settings?"},{"owner":{"account_id":2215389,"reputation":143,"user_id":1956150,"accept_rate":0,"display_name":"Rimash Mohomed"},"score":0,"creation_date":1653766675,"post_id":72393831,"comment_id":127933089,"body_markdown":"@ChristophJohn Found `SocketAcceptProtocol` and possible values for the configuration are SOCKET, VM_PIPE and PROXY. Did try the configuration with PROXY and there was no difference( I am not sure whether the configuration is related to proxy protocol or not) \n\nAnd noticed certain methods doesnt handle `PROXY` in ProxyFactory [https://github.com/quickfix-j/quickfixj/blob/895224da1a05055bc99d936920d1e1ed7edc9935/quickfixj-core/src/main/java/quickfix/mina/ProtocolFactory.java]","body":"@ChristophJohn Found <code>SocketAcceptProtocol</code> and possible values for the configuration are SOCKET, VM_PIPE and PROXY. Did try the configuration with PROXY and there was no difference( I am not sure whether the configuration is related to proxy protocol or not)   And noticed certain methods doesnt handle <code>PROXY</code> in ProxyFactory [<a href=\"https://github.com/quickfix-j/quickfixj/blob/895224da1a05055bc99d936920d1e1ed7edc9935/quickfixj-core/src/main/java/quickfix/mina/ProtocolFactory.java]\" rel=\"nofollow noreferrer\">github.com/quickfix-j/quickfixj/blob/&hellip;</a>"},{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":0,"creation_date":1653902779,"post_id":72393831,"comment_id":127956476,"body_markdown":"OK, back to your original question. What means &quot;#2 Able to deliver the IP information but it requires application support.&quot;. Are you able to establish connections with this configuration? If yes, what is the open problem? Thanks.","body":"OK, back to your original question. What means &quot;#2 Able to deliver the IP information but it requires application support.&quot;. Are you able to establish connections with this configuration? If yes, what is the open problem? Thanks."},{"owner":{"account_id":2215389,"reputation":143,"user_id":1956150,"accept_rate":0,"display_name":"Rimash Mohomed"},"score":0,"creation_date":1653947602,"post_id":72393831,"comment_id":127970702,"body_markdown":"Enabled proxy protocol in AWS load balancer (where the original client IP is masked) and able to establish connection with proxy protocol header information, which  is captured using a tcpdump and extracted using wireshark. \n\nNow the open problem is to read the proxy protocol from the FIX server. as the fix connection is created using quickfixj library, is there any way to config the library to read the proxy protocol header","body":"Enabled proxy protocol in AWS load balancer (where the original client IP is masked) and able to establish connection with proxy protocol header information, which  is captured using a tcpdump and extracted using wireshark.   Now the open problem is to read the proxy protocol from the FIX server. as the fix connection is created using quickfixj library, is there any way to config the library to read the proxy protocol header"},{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":1,"creation_date":1653981713,"post_id":72393831,"comment_id":127976300,"body_markdown":"So when you establish the connection with QFJ it only recognizes the masked IP? There is no config way to do it but maybe you could create a MINA filter that provides this information. Maybe there even already is such a filter. Am not very familiar with the proxy stuff.","body":"So when you establish the connection with QFJ it only recognizes the masked IP? There is no config way to do it but maybe you could create a MINA filter that provides this information. Maybe there even already is such a filter. Am not very familiar with the proxy stuff."},{"owner":{"account_id":2215389,"reputation":143,"user_id":1956150,"accept_rate":0,"display_name":"Rimash Mohomed"},"score":0,"creation_date":1653989685,"post_id":72393831,"comment_id":127979276,"body_markdown":"Yes it identifies the masked IP even when there the original IP information available in proxy headers, This is the protocol referring to https://www.haproxy.org/download/1.8/doc/proxy-protocol.txt","body":"Yes it identifies the masked IP even when there the original IP information available in proxy headers, This is the protocol referring to <a href=\"https://www.haproxy.org/download/1.8/doc/proxy-protocol.txt\" rel=\"nofollow noreferrer\">haproxy.org/download/1.8/doc/proxy-protocol.txt</a>"},{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":1,"creation_date":1654006580,"post_id":72393831,"comment_id":127986167,"body_markdown":"I searched around a little. I could imagine that you could add this functionality as a MINA filter based on this: https://gist.github.com/codingtony/a8684c9ffa08ad56899f94d3b6c2a040 You then would need to add the filter to the QFJ filter chain. This *could* work. Never tested this myself. But if it worked it would be good to contribute it to the QFJ code base.","body":"I searched around a little. I could imagine that you could add this functionality as a MINA filter based on this: <a href=\"https://gist.github.com/codingtony/a8684c9ffa08ad56899f94d3b6c2a040\" rel=\"nofollow noreferrer\">gist.github.com/codingtony/a8684c9ffa08ad56899f94d3b6c2a040</a> You then would need to add the filter to the QFJ filter chain. This <i>could</i> work. Never tested this myself. But if it worked it would be good to contribute it to the QFJ code base."},{"owner":{"account_id":2215389,"reputation":143,"user_id":1956150,"accept_rate":0,"display_name":"Rimash Mohomed"},"score":1,"creation_date":1654008296,"post_id":72393831,"comment_id":127986999,"body_markdown":"thanks for the directions, will try and update","body":"thanks for the directions, will try and update"},{"owner":{"account_id":2215389,"reputation":143,"user_id":1956150,"accept_rate":0,"display_name":"Rimash Mohomed"},"score":0,"creation_date":1654637365,"post_id":72393831,"comment_id":128137341,"body_markdown":"@ChristophJohn It worked. Preparing a PR for quickfixj","body":"@ChristophJohn It worked. Preparing a PR for quickfixj"}],"owner":{"account_id":2215389,"reputation":143,"user_id":1956150,"accept_rate":0,"display_name":"Rimash Mohomed"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653576970,"creation_date":1653576970,"question_id":72393831,"body_markdown":"Running a [FIX][1] server behind a AWS load balancer, The Load balancer is located outside the application VPC.\r\n\r\nNeed to allow/dissalow connections based on client IP. \r\n\r\nAs client connection are through load balancer, only the load balancer IP is visible to the application. In order to get the client IP have tried below options,\r\n\r\n 1. Enable IP preservation in load the balancer\r\n 2. Enable proxy protocol in the load balancer\r\n\r\n#1 didn&#39;t work as the load balancer is outside the application VPC.\r\n#2 Able to deliver the IP information but it requires application support.\r\n\r\nIs there any other options available? \r\n\r\nif not, how can i support proxy protocol for Java FIX application (written using qucikfixj)\r\n\r\n\r\n  [1]: https://www.onixs.biz/fix-protocol.html#:~:text=The%20Financial%20Information%20eXchange%20(FIX,entities%20including%20trade%20allocation%2C%20order","title":"How to capture client information in a application behind AWS load balancer","body":"<p>Running a [FIX][1] server behind a AWS load balancer, The Load balancer is located outside the application VPC.</p>\n<p>Need to allow/dissalow connections based on client IP.</p>\n<p>As client connection are through load balancer, only the load balancer IP is visible to the application. In order to get the client IP have tried below options,</p>\n<ol>\n<li>Enable IP preservation in load the balancer</li>\n<li>Enable proxy protocol in the load balancer</li>\n</ol>\n<p>#1 didn't work as the load balancer is outside the application VPC.\n#2 Able to deliver the IP information but it requires application support.</p>\n<p>Is there any other options available?</p>\n<p>if not, how can i support proxy protocol for Java FIX application (written using qucikfixj)</p>\n<p>[1]: https://www.onixs.biz/fix-protocol.html#:~:text=The%20Financial%20Information%20eXchange%20(FIX,entities%20including%20trade%20allocation%2C%20order</p>\n"},{"tags":["java","spring","postgresql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1653542734,"post_id":72387015,"comment_id":127878745,"body_markdown":"Your controller does not have PostMapping - see https://howtodoinjava.com/spring5/webmvc/controller-getmapping-postmapping/","body":"Your controller does not have PostMapping - see <a href=\"https://howtodoinjava.com/spring5/webmvc/controller-getmapping-postmapping/\" rel=\"nofollow noreferrer\">howtodoinjava.com/spring5/webmvc/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8777939,"reputation":56,"user_id":6562577,"display_name":"Kizoku-Dev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653547876,"creation_date":1653547876,"answer_id":72387851,"question_id":72387015,"body_markdown":"Actually you don’t have any @PostMapping in your controller so when spring is routing your request it only finds the @GetMapping at the requested path and it’s why it throws a 405 error.\r\n\r\nAll the Request Mappings should be in a controller, not in a service . You can make many differents controllers if you want.","title":"Encountered this problem/error while learning SpringBoot (Java, Hibernate, PostgreSql, JSON)","body":"<p>Actually you don’t have any @PostMapping in your controller so when spring is routing your request it only finds the @GetMapping at the requested path and it’s why it throws a 405 error.</p>\n<p>All the Request Mappings should be in a controller, not in a service . You can make many differents controllers if you want.</p>\n"}],"owner":{"account_id":17332634,"reputation":11,"user_id":12555327,"display_name":"brxdn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653576943,"creation_date":1653542290,"question_id":72387015,"body_markdown":"I&#39;m currently learning SpringBoot using Hibernate and PostgreSql. I recently encountered this problem when trying to run my POST request. Any help would be greatly appreciated!\r\n```\r\n{\r\n  &quot;timestamp&quot;: &quot;2022-05-26T05:12:32.040+00:00&quot;,\r\n  &quot;status&quot;: 405,\r\n  &quot;error&quot;: &quot;Method Not Allowed&quot;,\r\n  &quot;path&quot;: &quot;/api/v1/student&quot;\r\n}\r\n```\r\n&gt;Process finished with exit code 130 (interrupted by signal 2: SIGINT)\r\n\r\n&gt;2022-05-26 01:00:29.650  WARN 68743 --- [nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; not supported]\r\n\r\nJSON:\r\n```\r\nPOST http://localhost:8080/api/v1/student\r\nContent-Type: application/json\r\n\r\n{\r\n  &quot;name&quot;: &quot;Bilal&quot;,\r\n  &quot;email&quot;: &quot;bilal.ahmed@gmail.com&quot;,\r\n  &quot;dob&quot;: &quot;1995-12-17&quot;\r\n}\r\n``` \r\nStudent.java\r\n```\r\npackage com.example.demo.student;\r\n\r\nimport javax.persistence.*;\r\nimport java.time.LocalDate;\r\nimport java.time.Period;\r\n\r\n@Entity\r\n@Table\r\npublic class Student {\r\n    @Id\r\n    @SequenceGenerator(name = &quot;student_sequence&quot;, sequenceName = &quot;student_sequence&quot;, allocationSize = 1)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;student_sequence&quot;)\r\n    private Long id;\r\n    private String name;\r\n    private String email;\r\n    private LocalDate dob;\r\n    @Transient\r\n    private Integer age;\r\n\r\n    public Student() {\r\n    }\r\n\r\n    public Student(Long id, String name, String email, LocalDate dob) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.email = email;\r\n        this.dob = dob;\r\n    }\r\n\r\n    public Student(String name, String email, LocalDate dob) {\r\n        this.name = name;\r\n        this.email = email;\r\n        this.dob = dob;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public LocalDate getDob() {\r\n        return dob;\r\n    }\r\n\r\n    public Integer getAge() {\r\n        return Period.between(this.dob, LocalDate.now()).getYears();\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Student{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                &quot;, dob=&quot; + dob +\r\n                &quot;, age=&quot; + age +\r\n                &#39;}&#39;;\r\n    }\r\n} \r\n```\r\nStudentConfig.java\r\n```\r\npackage com.example.demo.student;\r\n\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\n\r\nimport static java.time.Month.*;\r\n\r\n@Configuration\r\npublic class StudentConfig {\r\n\r\n    @Bean\r\n    CommandLineRunner commandLineRunner(StudentRepository repository) {\r\n        return args -&gt; {\r\n            Student mariam = new Student(&quot;Mariam&quot;, &quot;mariam.jamal@gmail.com&quot;, LocalDate.of(2000, JANUARY, 5));\r\n            Student alex = new Student(&quot;Alex&quot;, &quot;alex@gmail.com&quot;, LocalDate.of(2004, JANUARY, 5));\r\n            repository.saveAll(List.of(mariam, alex));\r\n        };\r\n    }\r\n}\r\n```\r\nStudentController.java\r\n```\r\npackage com.example.demo.student;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;api/v1/student&quot;)\r\npublic class StudentController {\r\n\r\n    private final StudentService studentService;\r\n\r\n    @Autowired\r\n    public StudentController(StudentService studentService) {\r\n        this.studentService = studentService;\r\n    }\r\n\r\n    @GetMapping\r\n    public List&lt;Student&gt; getStudents() {\r\n        return studentService.getStudents();\r\n    }\r\n\r\n    public void registerNewStudent(@RequestBody Student student) {\r\n        studentService.addNewStudent(student);\r\n    }\r\n}\r\n```\r\nStudentRepository.java\r\n```\r\npackage com.example.demo.student;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface StudentRepository extends JpaRepository&lt;Student, Long&gt; {\r\n\r\n}\r\n```\r\n\r\nStudentService.java\r\n```\r\npackage com.example.demo.student;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\n\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class StudentService {\r\n\r\n    private final StudentRepository studentRepository;\r\n\r\n    @Autowired\r\n    public StudentService(StudentRepository studentRepository) {\r\n        this.studentRepository = studentRepository;\r\n    }\r\n\r\n    public List&lt;Student&gt; getStudents() {\r\n        return studentRepository.findAll();\r\n    }\r\n\r\n    @PostMapping\r\n    public void addNewStudent(Student student) {\r\n        System.out.println(student);\r\n    }\r\n}\r\n```\r\n\r\nSo I added PostMapping to the controller and now I get &lt;Response body is empty&gt; when I run the POST request for the payload. Any idea?\r\n\r\n\r\n**EDIT: NEVERMIND I GOT IT TO WORK THANK YOU!**\r\n","title":"Encountered this problem/error while learning SpringBoot (Java, Hibernate, PostgreSql, JSON)","body":"<p>I'm currently learning SpringBoot using Hibernate and PostgreSql. I recently encountered this problem when trying to run my POST request. Any help would be greatly appreciated!</p>\n<pre><code>{\n  &quot;timestamp&quot;: &quot;2022-05-26T05:12:32.040+00:00&quot;,\n  &quot;status&quot;: 405,\n  &quot;error&quot;: &quot;Method Not Allowed&quot;,\n  &quot;path&quot;: &quot;/api/v1/student&quot;\n}\n</code></pre>\n<blockquote>\n<p>Process finished with exit code 130 (interrupted by signal 2: SIGINT)</p>\n</blockquote>\n<blockquote>\n<p>2022-05-26 01:00:29.650  WARN 68743 --- [nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]</p>\n</blockquote>\n<p>JSON:</p>\n<pre><code>POST http://localhost:8080/api/v1/student\nContent-Type: application/json\n\n{\n  &quot;name&quot;: &quot;Bilal&quot;,\n  &quot;email&quot;: &quot;bilal.ahmed@gmail.com&quot;,\n  &quot;dob&quot;: &quot;1995-12-17&quot;\n}\n</code></pre>\n<p>Student.java</p>\n<pre><code>package com.example.demo.student;\n\nimport javax.persistence.*;\nimport java.time.LocalDate;\nimport java.time.Period;\n\n@Entity\n@Table\npublic class Student {\n    @Id\n    @SequenceGenerator(name = &quot;student_sequence&quot;, sequenceName = &quot;student_sequence&quot;, allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;student_sequence&quot;)\n    private Long id;\n    private String name;\n    private String email;\n    private LocalDate dob;\n    @Transient\n    private Integer age;\n\n    public Student() {\n    }\n\n    public Student(Long id, String name, String email, LocalDate dob) {\n        this.id = id;\n        this.name = name;\n        this.email = email;\n        this.dob = dob;\n    }\n\n    public Student(String name, String email, LocalDate dob) {\n        this.name = name;\n        this.email = email;\n        this.dob = dob;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public LocalDate getDob() {\n        return dob;\n    }\n\n    public Integer getAge() {\n        return Period.between(this.dob, LocalDate.now()).getYears();\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Student{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, email='&quot; + email + '\\'' +\n                &quot;, dob=&quot; + dob +\n                &quot;, age=&quot; + age +\n                '}';\n    }\n} \n</code></pre>\n<p>StudentConfig.java</p>\n<pre><code>package com.example.demo.student;\n\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport java.time.LocalDate;\nimport java.util.List;\n\nimport static java.time.Month.*;\n\n@Configuration\npublic class StudentConfig {\n\n    @Bean\n    CommandLineRunner commandLineRunner(StudentRepository repository) {\n        return args -&gt; {\n            Student mariam = new Student(&quot;Mariam&quot;, &quot;mariam.jamal@gmail.com&quot;, LocalDate.of(2000, JANUARY, 5));\n            Student alex = new Student(&quot;Alex&quot;, &quot;alex@gmail.com&quot;, LocalDate.of(2004, JANUARY, 5));\n            repository.saveAll(List.of(mariam, alex));\n        };\n    }\n}\n</code></pre>\n<p>StudentController.java</p>\n<pre><code>package com.example.demo.student;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;api/v1/student&quot;)\npublic class StudentController {\n\n    private final StudentService studentService;\n\n    @Autowired\n    public StudentController(StudentService studentService) {\n        this.studentService = studentService;\n    }\n\n    @GetMapping\n    public List&lt;Student&gt; getStudents() {\n        return studentService.getStudents();\n    }\n\n    public void registerNewStudent(@RequestBody Student student) {\n        studentService.addNewStudent(student);\n    }\n}\n</code></pre>\n<p>StudentRepository.java</p>\n<pre><code>package com.example.demo.student;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface StudentRepository extends JpaRepository&lt;Student, Long&gt; {\n\n}\n</code></pre>\n<p>StudentService.java</p>\n<pre><code>package com.example.demo.student;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.bind.annotation.PostMapping;\n\nimport java.util.List;\n\n@Service\npublic class StudentService {\n\n    private final StudentRepository studentRepository;\n\n    @Autowired\n    public StudentService(StudentRepository studentRepository) {\n        this.studentRepository = studentRepository;\n    }\n\n    public List&lt;Student&gt; getStudents() {\n        return studentRepository.findAll();\n    }\n\n    @PostMapping\n    public void addNewStudent(Student student) {\n        System.out.println(student);\n    }\n}\n</code></pre>\n<p>So I added PostMapping to the controller and now I get  when I run the POST request for the payload. Any idea?</p>\n<p><strong>EDIT: NEVERMIND I GOT IT TO WORK THANK YOU!</strong></p>\n"},{"tags":["java","sockets","deflate"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1653576191,"post_id":72389225,"comment_id":127889248,"body_markdown":"Compression algorithms maintain typically extensive internal state. When you have finished compressing you should call `finish()` or possibly and more simply just `close()` to signal the compression algorithms that any partial blocks need to be finalized. `flush()` is used to move any *buffered* data to the underlying stream, but the compression algorithms will still maintain their internal compression state after call to `flush()`.","body":"Compression algorithms maintain typically extensive internal state. When you have finished compressing you should call <code>finish()</code> or possibly and more simply just <code>close()</code> to signal the compression algorithms that any partial blocks need to be finalized. <code>flush()</code> is used to move any <i>buffered</i> data to the underlying stream, but the compression algorithms will still maintain their internal compression state after call to <code>flush()</code>."}],"owner":{"account_id":21625271,"reputation":169,"user_id":15949695,"display_name":"hua"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653576057,"creation_date":1653555221,"question_id":72389225,"body_markdown":"There are two classes in my code:\r\n\r\n    public class ClientHandler {\r\n        private Socket socket;\r\n        private DeflaterOutputStream deflaterOutputStream;\r\n        private BufferedReader bufferedReader;\r\n    \r\n        public ClientHandler(Socket socket) throws IOException {\r\n            this.socket = socket;\r\n            bufferedReader = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n            deflaterOutputStream = new DeflaterOutputStream(socket.getOutputStream());\r\n            StringBuilder stringBuilder = new StringBuilder();\r\n    \r\n            for (int i = 0; i &lt; 100000; i++) {\r\n                stringBuilder.append(String.format(&quot;%d\\n&quot;, i));\r\n            }\r\n    \r\n            deflaterOutputStream.write(&quot;start\\n&quot;.getBytes());\r\n            deflaterOutputStream.write(stringBuilder.toString().getBytes());\r\n            deflaterOutputStream.write(&quot;end\\n&quot;.getBytes());\r\n            deflaterOutputStream.flush();\r\n    \r\n            String dataFromClient = bufferedReader.readLine();\r\n            System.out.println(dataFromClient);\r\n        }\r\n    }\r\n\r\n    public class Client {\r\n        private Socket socket;\r\n        private InflaterInputStream inflaterInputStream;\r\n        private BufferedReader bufferedReader;\r\n        private BufferedWriter bufferedWriter;\r\n    \r\n        public Client(Socket socket) throws IOException{\r\n            this.socket = socket;\r\n            bufferedWriter = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\r\n            inflaterInputStream = new InflaterInputStream(socket.getInputStream());\r\n            bufferedReader = new BufferedReader(new InputStreamReader(inflaterInputStream));\r\n\r\n            int receiveCount = 0;\r\n            while (socket.isConnected()) {\r\n                String messageFromServer;\r\n                if ((messageFromServer = bufferedReader.readLine()) != null &amp;&amp; messageFromServer.equals(&quot;start&quot;)) {\r\n                    while ((messageFromServer = bufferedReader.readLine()) != null &amp;&amp; !messageFromServer.equals(&quot;end&quot;)){\r\n                        System.out.println(messageFromServer);\r\n                    }\r\n                    receiveCount++;\r\n                    System.out.println(&quot;I get &quot; + receiveCount + &quot; times data.&quot;);\r\n                    bufferedWriter.write(&quot;I get data.\\n&quot;);\r\n                    bufferedWriter.flush();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAfter executing the above code, the terminal of ClientHandler shows nothing, and the terminal of Client shows:\r\n```\r\n0\r\n1\r\n2\r\n...\r\n98787\r\n98788\r\n```\r\n\r\nSo my first question is: **Why does the Client only accept 0 to 98788? Where is the remaining numbers after 98788? I am already doing a `flush()`.** In my previous experience, when I use `BufferedWriter bufferedWriter = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));` and do `bufferedWriter.flush();`, it can indeed send all of the data to the Client.\r\n\r\nI tried to replace `flush()` to `finish()`, and now the Client can receive 0 to 99999 numbers. \r\nSo my second question is: **What is the difference between flush() and finish()?** I have read [DeflaterOutputStream](https://docs.oracle.com/javase/7/docs/api/java/util/zip/DeflaterOutputStream.html), but do not understand what the difference is.\r\n\r\nOk, now, I can send whole data by socket, But I put some code in ClientHandler below:\r\n```\r\n    deflaterOutputStream.write(&quot;start\\n&quot;.getBytes());\r\n    deflaterOutputStream.write(stringBuilder.toString().getBytes());\r\n    deflaterOutputStream.write(&quot;end\\n&quot;.getBytes());\r\n    deflaterOutputStream.finish();\r\n```\r\nAfter execute, it throws a exeception: &quot;write beyond end of stream&quot;. I can&#39;t send data after I do `finish()`. \r\n\r\nI thought I could re-declare `deflaterOutputStream` in this code above. After I add a re-declare of `deflaterOutputStream` , Client can accept the first part of 0 to 99999, too. But the terminal shows:\r\n```\r\n0\r\n1\r\n2\r\n...\r\n99998\r\n99999\r\nI get 1 times data.\r\n```\r\nClient just can accept data before clientHandler does `finish()` once. This is my third question: **How can I send data to client more than once?**","title":"How to compress data using deflaterOutputStream by socket in Java","body":"<p>There are two classes in my code:</p>\n<pre><code>public class ClientHandler {\n    private Socket socket;\n    private DeflaterOutputStream deflaterOutputStream;\n    private BufferedReader bufferedReader;\n\n    public ClientHandler(Socket socket) throws IOException {\n        this.socket = socket;\n        bufferedReader = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n        deflaterOutputStream = new DeflaterOutputStream(socket.getOutputStream());\n        StringBuilder stringBuilder = new StringBuilder();\n\n        for (int i = 0; i &lt; 100000; i++) {\n            stringBuilder.append(String.format(&quot;%d\\n&quot;, i));\n        }\n\n        deflaterOutputStream.write(&quot;start\\n&quot;.getBytes());\n        deflaterOutputStream.write(stringBuilder.toString().getBytes());\n        deflaterOutputStream.write(&quot;end\\n&quot;.getBytes());\n        deflaterOutputStream.flush();\n\n        String dataFromClient = bufferedReader.readLine();\n        System.out.println(dataFromClient);\n    }\n}\n\npublic class Client {\n    private Socket socket;\n    private InflaterInputStream inflaterInputStream;\n    private BufferedReader bufferedReader;\n    private BufferedWriter bufferedWriter;\n\n    public Client(Socket socket) throws IOException{\n        this.socket = socket;\n        bufferedWriter = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\n        inflaterInputStream = new InflaterInputStream(socket.getInputStream());\n        bufferedReader = new BufferedReader(new InputStreamReader(inflaterInputStream));\n\n        int receiveCount = 0;\n        while (socket.isConnected()) {\n            String messageFromServer;\n            if ((messageFromServer = bufferedReader.readLine()) != null &amp;&amp; messageFromServer.equals(&quot;start&quot;)) {\n                while ((messageFromServer = bufferedReader.readLine()) != null &amp;&amp; !messageFromServer.equals(&quot;end&quot;)){\n                    System.out.println(messageFromServer);\n                }\n                receiveCount++;\n                System.out.println(&quot;I get &quot; + receiveCount + &quot; times data.&quot;);\n                bufferedWriter.write(&quot;I get data.\\n&quot;);\n                bufferedWriter.flush();\n            }\n        }\n    }\n}\n</code></pre>\n<p>After executing the above code, the terminal of ClientHandler shows nothing, and the terminal of Client shows:</p>\n<pre><code>0\n1\n2\n...\n98787\n98788\n</code></pre>\n<p>So my first question is: <strong>Why does the Client only accept 0 to 98788? Where is the remaining numbers after 98788? I am already doing a <code>flush()</code>.</strong> In my previous experience, when I use <code>BufferedWriter bufferedWriter = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));</code> and do <code>bufferedWriter.flush();</code>, it can indeed send all of the data to the Client.</p>\n<p>I tried to replace <code>flush()</code> to <code>finish()</code>, and now the Client can receive 0 to 99999 numbers.\nSo my second question is: <strong>What is the difference between flush() and finish()?</strong> I have read <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/zip/DeflaterOutputStream.html\" rel=\"nofollow noreferrer\">DeflaterOutputStream</a>, but do not understand what the difference is.</p>\n<p>Ok, now, I can send whole data by socket, But I put some code in ClientHandler below:</p>\n<pre><code>    deflaterOutputStream.write(&quot;start\\n&quot;.getBytes());\n    deflaterOutputStream.write(stringBuilder.toString().getBytes());\n    deflaterOutputStream.write(&quot;end\\n&quot;.getBytes());\n    deflaterOutputStream.finish();\n</code></pre>\n<p>After execute, it throws a exeception: &quot;write beyond end of stream&quot;. I can't send data after I do <code>finish()</code>.</p>\n<p>I thought I could re-declare <code>deflaterOutputStream</code> in this code above. After I add a re-declare of <code>deflaterOutputStream</code> , Client can accept the first part of 0 to 99999, too. But the terminal shows:</p>\n<pre><code>0\n1\n2\n...\n99998\n99999\nI get 1 times data.\n</code></pre>\n<p>Client just can accept data before clientHandler does <code>finish()</code> once. This is my third question: <strong>How can I send data to client more than once?</strong></p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","reactive-programming","dynamodb-queries"],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653575979,"creation_date":1653575979,"answer_id":72393601,"question_id":72388376,"body_markdown":"When calling\r\n\r\n    SdkPublisher&lt;Page&lt;Customer&gt;&gt; query = secindex.query(QueryEnhancedRequest.builder().queryConditional(queryconditional)).limit(2).build()\r\n\r\nthe `limit(2)` is being called on the `PagePublisher` being the result of `DynamoDbAsyncIndex#query` result. In order to provide the `QueryEnhancedRequest#limit` you should call the `limit` on the `QueryEnhancedRequest.Builder`:\r\n\r\n    secindex.query(QueryEnhancedRequest.builder().queryConditional(queryconditional).limit(2).build())\r\n\r\nOn the other hand, the `PagePublisher.create(query)` result will be a publisher emitting flattened items from the query result pages, i.e., emitting all pages items as a sequence of results.\r\nTo set the limit of emitted `Page`s, you should set the `limit` over the query result `SdkPublisher&lt;Page&lt;Customer&gt;&gt;`:\r\n\r\n    Flux.from(PagePublisher.create(query.limit(5)).items())","title":"Limiting the records per page and the number of pages in DynamoDB","body":"<p>When calling</p>\n<pre><code>SdkPublisher&lt;Page&lt;Customer&gt;&gt; query = secindex.query(QueryEnhancedRequest.builder().queryConditional(queryconditional)).limit(2).build()\n</code></pre>\n<p>the <code>limit(2)</code> is being called on the <code>PagePublisher</code> being the result of <code>DynamoDbAsyncIndex#query</code> result. In order to provide the <code>QueryEnhancedRequest#limit</code> you should call the <code>limit</code> on the <code>QueryEnhancedRequest.Builder</code>:</p>\n<pre><code>secindex.query(QueryEnhancedRequest.builder().queryConditional(queryconditional).limit(2).build())\n</code></pre>\n<p>On the other hand, the <code>PagePublisher.create(query)</code> result will be a publisher emitting flattened items from the query result pages, i.e., emitting all pages items as a sequence of results.\nTo set the limit of emitted <code>Page</code>s, you should set the <code>limit</code> over the query result <code>SdkPublisher&lt;Page&lt;Customer&gt;&gt;</code>:</p>\n<pre><code>Flux.from(PagePublisher.create(query.limit(5)).items())\n</code></pre>\n"}],"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":895,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72393601,"answer_count":1,"score":1,"last_activity_date":1653575979,"creation_date":1653550769,"question_id":72388376,"body_markdown":"I am using `DynamoDBEnchancedAsyncClient` to query `DynamoDB` using `GSI` and `pagination`. Below is the code that I am using to achieve the same. I am tying to limit the number of items per page and number of pages sent to the subscriber of the `Flux`\r\n\r\n    DynamoDBAsyncIndex&lt;Customer&gt; secindex= dynamodbasyncenhancedclient.table(Customer, Customer_Schema).index(GSI_INDEX_NAME)\r\n    \r\n    SdkPublisher&lt;Page&lt;Customer&gt;&gt; query = secindex.query(QueryEnhancedRequest.builder().queryConditional(queryconditional)).limit(2).build()\r\n    \r\n    Flux.from(PagePublisher.create(query).items().limit(5))\r\n\r\nFew observations that I made are\r\n\r\nThe limit(2) in the `QueryEnhancedRequest` limits the number of items per page to 2. I checked it by subscribing to the `SDKPublisher`.\r\n\r\n 1. However I want to limit the pages that are sent to the subscriber of the Flux above , but `limit(5)` is not giving the desired result. Is there any way to limit the number of pages that are emitted from the above `flux`?\r\n\r\n 2. Is there any way to limit the number of pages that are fetched from the `DDB` for a particular query request?\r\n\r\n\r\n","title":"Limiting the records per page and the number of pages in DynamoDB","body":"<p>I am using <code>DynamoDBEnchancedAsyncClient</code> to query <code>DynamoDB</code> using <code>GSI</code> and <code>pagination</code>. Below is the code that I am using to achieve the same. I am tying to limit the number of items per page and number of pages sent to the subscriber of the <code>Flux</code></p>\n<pre><code>DynamoDBAsyncIndex&lt;Customer&gt; secindex= dynamodbasyncenhancedclient.table(Customer, Customer_Schema).index(GSI_INDEX_NAME)\n\nSdkPublisher&lt;Page&lt;Customer&gt;&gt; query = secindex.query(QueryEnhancedRequest.builder().queryConditional(queryconditional)).limit(2).build()\n\nFlux.from(PagePublisher.create(query).items().limit(5))\n</code></pre>\n<p>Few observations that I made are</p>\n<p>The limit(2) in the <code>QueryEnhancedRequest</code> limits the number of items per page to 2. I checked it by subscribing to the <code>SDKPublisher</code>.</p>\n<ol>\n<li><p>However I want to limit the pages that are sent to the subscriber of the Flux above , but <code>limit(5)</code> is not giving the desired result. Is there any way to limit the number of pages that are emitted from the above <code>flux</code>?</p>\n</li>\n<li><p>Is there any way to limit the number of pages that are fetched from the <code>DDB</code> for a particular query request?</p>\n</li>\n</ol>\n"},{"tags":["java","chromium-embedded"],"answers":[{"tags":[],"owner":{"account_id":1735496,"reputation":1778,"user_id":1588163,"accept_rate":74,"display_name":"clapas"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1653575220,"creation_date":1485719863,"answer_id":41925316,"question_id":41872128,"body_markdown":"You need to attach a load handler to the CEF Client and call `CefBrowser::executeJavaScript(String code)` inside the handler, e.g.:\r\n\r\n    cefClient.addLoadHandler(new LoadHandler());\r\n    ...\r\n    class LoadHandler extends CefLoadHandlerAdapter {\r\n        @Override\r\n        public void onLoadEnd(CefBrowser browser, int frameId, int status) {\r\n            String jscode = &quot;var x = document.getElementsByClassName(&#39;example&#39;)&quot;;\r\n            browser.executeJavaScript(jscode);\r\n        }\r\n    }\r\n\r\nUPDATE\r\n\r\nThen if you want to receive events from the browser script in  your Java code, you need to register a call `cefQuery` with `CefBrowser::executeJavaScript(String code)`, passing all necessary data in a single argument, and receive it with a message router, e.g:\r\n\r\n    CefMessageRouter msgRouter = CefMessageRouter.create();\r\n    msgRouter.addHandler(new MessageRouterHandler(), true);\r\n    cefClient.addMessageRouter(msgRouter);\r\n    ...\r\n    browser.executeJavaScript(&quot;cefQuery({request: &#39;Hello World&#39;})&quot;);\r\n    ...\r\n    class MessageRouterHandler extends CefMessageRouterHandlerAdapter {\r\n        @Override\r\n        public boolean onQuery(CefBrowser browser, long query_id, String request, boolean persistent, CefQueryCallback callback) {\r\n            System.out.println(request); // prints &quot;Hello World&quot;\r\n            \r\n            return true;\r\n        }\r\n    }","title":"Java CEF - Is it possible to access DOM document and elements of loaded page?","body":"<p>You need to attach a load handler to the CEF Client and call <code>CefBrowser::executeJavaScript(String code)</code> inside the handler, e.g.:</p>\n<pre><code>cefClient.addLoadHandler(new LoadHandler());\n...\nclass LoadHandler extends CefLoadHandlerAdapter {\n    @Override\n    public void onLoadEnd(CefBrowser browser, int frameId, int status) {\n        String jscode = &quot;var x = document.getElementsByClassName('example')&quot;;\n        browser.executeJavaScript(jscode);\n    }\n}\n</code></pre>\n<p>UPDATE</p>\n<p>Then if you want to receive events from the browser script in  your Java code, you need to register a call <code>cefQuery</code> with <code>CefBrowser::executeJavaScript(String code)</code>, passing all necessary data in a single argument, and receive it with a message router, e.g:</p>\n<pre><code>CefMessageRouter msgRouter = CefMessageRouter.create();\nmsgRouter.addHandler(new MessageRouterHandler(), true);\ncefClient.addMessageRouter(msgRouter);\n...\nbrowser.executeJavaScript(&quot;cefQuery({request: 'Hello World'})&quot;);\n...\nclass MessageRouterHandler extends CefMessageRouterHandlerAdapter {\n    @Override\n    public boolean onQuery(CefBrowser browser, long query_id, String request, boolean persistent, CefQueryCallback callback) {\n        System.out.println(request); // prints &quot;Hello World&quot;\n        \n        return true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":544350,"reputation":3313,"user_id":913766,"accept_rate":85,"display_name":"Arthur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3213,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":41925316,"answer_count":1,"score":1,"last_activity_date":1653575220,"creation_date":1485428770,"question_id":41872128,"body_markdown":"I&#39;ve built java-cef from https://bitbucket.org/chromiumembedded/java-cef/overview , but I still can&#39;t find any info in docs and javadocs about how to access DOM document and elements of loaded page.\r\n\r\nI need to access elements by something like `document.getElementsByClassName(&quot;example&quot;);`, `document.getElementsByTagName(&quot;div&quot;);`.\r\n\r\nSomething like in JSoup - https://jsoup.org/cookbook/extracting-data/selector-syntax :\r\n\r\n    File input = new File(&quot;/tmp/input.html&quot;);\r\n    Document doc = Jsoup.parse(input, &quot;UTF-8&quot;, &quot;http://example.com/&quot;);\r\n    \r\n    Elements links = doc.select(&quot;a[href]&quot;); // a with href\r\n    Elements pngs = doc.select(&quot;img[src$=.png]&quot;);\r\n\r\nIs there same functional in Java-CEF?\r\n\r\nThank you!","title":"Java CEF - Is it possible to access DOM document and elements of loaded page?","body":"<p>I've built java-cef from <a href=\"https://bitbucket.org/chromiumembedded/java-cef/overview\" rel=\"nofollow noreferrer\">https://bitbucket.org/chromiumembedded/java-cef/overview</a> , but I still can't find any info in docs and javadocs about how to access DOM document and elements of loaded page.</p>\n\n<p>I need to access elements by something like <code>document.getElementsByClassName(\"example\");</code>, <code>document.getElementsByTagName(\"div\");</code>.</p>\n\n<p>Something like in JSoup - <a href=\"https://jsoup.org/cookbook/extracting-data/selector-syntax\" rel=\"nofollow noreferrer\">https://jsoup.org/cookbook/extracting-data/selector-syntax</a> :</p>\n\n<pre><code>File input = new File(\"/tmp/input.html\");\nDocument doc = Jsoup.parse(input, \"UTF-8\", \"http://example.com/\");\n\nElements links = doc.select(\"a[href]\"); // a with href\nElements pngs = doc.select(\"img[src$=.png]\");\n</code></pre>\n\n<p>Is there same functional in Java-CEF?</p>\n\n<p>Thank you!</p>\n"},{"tags":["java","rounding","numeric","bigdecimal"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":4,"creation_date":1653567130,"post_id":72391513,"comment_id":127885744,"body_markdown":"It&#39;s not rounding `0.45`, it&#39;s rounding `0.4545...`. That&#39;s closer to `0.5` than `0.4` no matter what the rounding mode is. You can truncate that to get `0.4`, but that&#39;s a different matter.","body":"It&#39;s not rounding <code>0.45</code>, it&#39;s rounding <code>0.4545...</code>. That&#39;s closer to <code>0.5</code> than <code>0.4</code> no matter what the rounding mode is. You can truncate that to get <code>0.4</code>, but that&#39;s a different matter."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1653575022,"creation_date":1653567766,"answer_id":72391758,"question_id":72391513,"body_markdown":"[`HALF_EVEN`][1]:\r\n\r\n&gt; round towards the &quot;nearest neighbor&quot; unless both neighbors are equidistant, in which case, round towards the even neighbor.\r\n\r\nSo it is needed to first decide whether both neighbours are equidistant.\r\n\r\n&gt; so when looking at the first two digits after the decimal point...\r\n\r\nThat&#39;s not sufficient to determine whether the value is equidistant is equidistant to both neighbours, which in this case is 0.4 and 0.5. We need to look at one more digit in this case.\r\n\r\nIn the case of 5/11, 5/11 is closer to 0.5 (distance = 0.045454545...) than to 0.4 (distance = 0.0545454...), so &quot;round towards the even neighbor&quot; is not applied, and &quot;round towards the &#39;nearest neighbor&#39;&quot; *is*.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/math/RoundingMode.html#HALF_EVEN","title":"Why does RoundingMode.HALF_EVEN in BigDecimal division round 0.45 to 0.5?","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/math/RoundingMode.html#HALF_EVEN\" rel=\"nofollow noreferrer\"><code>HALF_EVEN</code></a>:</p>\n<blockquote>\n<p>round towards the &quot;nearest neighbor&quot; unless both neighbors are equidistant, in which case, round towards the even neighbor.</p>\n</blockquote>\n<p>So it is needed to first decide whether both neighbours are equidistant.</p>\n<blockquote>\n<p>so when looking at the first two digits after the decimal point...</p>\n</blockquote>\n<p>That's not sufficient to determine whether the value is equidistant is equidistant to both neighbours, which in this case is 0.4 and 0.5. We need to look at one more digit in this case.</p>\n<p>In the case of 5/11, 5/11 is closer to 0.5 (distance = 0.045454545...) than to 0.4 (distance = 0.0545454...), so &quot;round towards the even neighbor&quot; is not applied, and &quot;round towards the 'nearest neighbor'&quot; <em>is</em>.</p>\n"}],"owner":{"account_id":523310,"reputation":121,"user_id":1632998,"display_name":"Sebastian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":626,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72391758,"answer_count":1,"score":1,"last_activity_date":1653575022,"creation_date":1653566545,"question_id":72391513,"body_markdown":"The rounding mode `HALF_EVEN` is supposed to round a (decimal) number ending in 5 to the closest *even* less precise number (e.g., 4.5 is rounded to 4, whereas 5.5 is rounded to 6).\r\n\r\nNow, it seems that Java&#39;s division of `BigDecimal` is not obeying that rule; the following code gets it to round 0.45 to 0.5:\r\n\r\n```\r\nimport java.math.*;\r\n\r\nclass Round {\r\n\tpublic static void main(String[] args) {\r\n\t\tBigDecimal five = BigDecimal.valueOf(5);\r\n\t\tBigDecimal eleven = BigDecimal.valueOf(11);\r\n\t\tBigDecimal x = five.divide(eleven, 1, RoundingMode.HALF_EVEN);\r\n\t\tSystem.out.println(x);\r\n\t}\r\n}\r\n```\r\nOutput `0.5`\r\nNote that 5/11 = 0.4545454545... so when looking at the first two digits after the decimal point, 0.45, we clearly would want to see that rounded to the nearest even neighbor, i.e. to 0.40, not 0.50.\r\n\r\nCan anyone explain this?\r\n\r\n\r\n(In case it matters, I&#39;m running `java -version` = openjdk version &quot;11.0.15&quot; 2022-04-19)\r\n\r\n\r\n### Note:\r\n\r\n 1. This is not about rounding *before* getting a value into the BigDecimal; indeed\r\n   the result is unchanged when using the string constructor\r\n   ```\r\n        BigDecimal five = new BigDecimal(&quot;5&quot;);\r\n\t\tBigDecimal eleven = new BigDecimal(&quot;11&quot;);\r\n\t\tBigDecimal x = five.divide(eleven, 1, RoundingMode.HALF_EVEN);\r\n   ```\r\n 2. It also doesn&#39;t depend on the scale at which we round (as long as scale is odd), and you can scale the number up (e.g., round 500/11).","title":"Why does RoundingMode.HALF_EVEN in BigDecimal division round 0.45 to 0.5?","body":"<p>The rounding mode <code>HALF_EVEN</code> is supposed to round a (decimal) number ending in 5 to the closest <em>even</em> less precise number (e.g., 4.5 is rounded to 4, whereas 5.5 is rounded to 6).</p>\n<p>Now, it seems that Java's division of <code>BigDecimal</code> is not obeying that rule; the following code gets it to round 0.45 to 0.5:</p>\n<pre><code>import java.math.*;\n\nclass Round {\n    public static void main(String[] args) {\n        BigDecimal five = BigDecimal.valueOf(5);\n        BigDecimal eleven = BigDecimal.valueOf(11);\n        BigDecimal x = five.divide(eleven, 1, RoundingMode.HALF_EVEN);\n        System.out.println(x);\n    }\n}\n</code></pre>\n<p>Output <code>0.5</code>\nNote that 5/11 = 0.4545454545... so when looking at the first two digits after the decimal point, 0.45, we clearly would want to see that rounded to the nearest even neighbor, i.e. to 0.40, not 0.50.</p>\n<p>Can anyone explain this?</p>\n<p>(In case it matters, I'm running <code>java -version</code> = openjdk version &quot;11.0.15&quot; 2022-04-19)</p>\n<h3>Note:</h3>\n<ol>\n<li>This is not about rounding <em>before</em> getting a value into the BigDecimal; indeed\nthe result is unchanged when using the string constructor</li>\n</ol>\n<pre><code>     BigDecimal five = new BigDecimal(&quot;5&quot;);\n     BigDecimal eleven = new BigDecimal(&quot;11&quot;);\n     BigDecimal x = five.divide(eleven, 1, RoundingMode.HALF_EVEN);\n</code></pre>\n<ol start=\"2\">\n<li>It also doesn't depend on the scale at which we round (as long as scale is odd), and you can scale the number up (e.g., round 500/11).</li>\n</ol>\n"},{"tags":["java","json","fastjson"],"answers":[{"tags":[],"owner":{"account_id":20261253,"reputation":373,"user_id":14859549,"display_name":"Frank Yang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653574564,"creation_date":1653574564,"answer_id":72393272,"question_id":72393153,"body_markdown":"You can&#39;t cast an `ArrayList` to a `LinkedList` so you have to create a `LinkedList`. Try `new LinkedList&lt;String&gt;(JSON.parseArray(str, String.class))`. This creates a LinkedList containing all the elements of the JSON array. If the list does not have to be exactly a `LinkedList`, you can also try just using the `List` interface.","title":"How to change json string to LinkedList when using fastjson in Java?","body":"<p>You can't cast an <code>ArrayList</code> to a <code>LinkedList</code> so you have to create a <code>LinkedList</code>. Try <code>new LinkedList&lt;String&gt;(JSON.parseArray(str, String.class))</code>. This creates a LinkedList containing all the elements of the JSON array. If the list does not have to be exactly a <code>LinkedList</code>, you can also try just using the <code>List</code> interface.</p>\n"}],"owner":{"account_id":3624157,"reputation":209,"user_id":3022220,"display_name":"Rebecca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72393272,"answer_count":1,"score":0,"last_activity_date":1653574564,"creation_date":1653574021,"question_id":72393153,"body_markdown":"I want to change the string into LinkedList&lt;String&gt;,I write the code but it happen in to a exception,`java.util.ArrayList cannot be cast to java.util.LinkedList`,How to fix it?\r\n\r\n    LinkedList&lt;String&gt; names=new LinkedList&lt;String&gt;();\r\n        names.add(&quot;a&quot;);\r\n        names.add(&quot;b&quot;);\r\n        String str=JSON.toJSONString(names);\r\n        System.out.println(str);\r\n        System.out.println((LinkedList&lt;String&gt;)JSON.parseArray(str,String.class));","title":"How to change json string to LinkedList when using fastjson in Java?","body":"<p>I want to change the string into LinkedList,I write the code but it happen in to a exception,<code>java.util.ArrayList cannot be cast to java.util.LinkedList</code>,How to fix it?</p>\n<pre><code>LinkedList&lt;String&gt; names=new LinkedList&lt;String&gt;();\n    names.add(&quot;a&quot;);\n    names.add(&quot;b&quot;);\n    String str=JSON.toJSONString(names);\n    System.out.println(str);\n    System.out.println((LinkedList&lt;String&gt;)JSON.parseArray(str,String.class));\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1653572931,"post_id":72392695,"comment_id":127887999,"body_markdown":"Fundamentally, you&#39;re using two different operators: one is an integer-based operator, the other is a double-based operator. I&#39;m not surprised that the results are different - just as 16 / 3.0 isn&#39;t the same as 16 / 3.","body":"Fundamentally, you&#39;re using two different operators: one is an integer-based operator, the other is a double-based operator. I&#39;m not surprised that the results are different - just as 16 / 3.0 isn&#39;t the same as 16 / 3."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1653573068,"post_id":72392695,"comment_id":127888047,"body_markdown":"Note that you don&#39;t need the `Math.pow` call here - `(int) (988530483551494950L % 1000000007d)` and `(int) (988530483551494950L % 1000000007)` give the same results as shown (which differ from each other in the same way, of course).","body":"Note that you don&#39;t need the <code>Math.pow</code> call here - <code>(int) (988530483551494950L % 1000000007d)</code> and <code>(int) (988530483551494950L % 1000000007)</code> give the same results as shown (which differ from each other in the same way, of course)."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":2,"creation_date":1653573370,"post_id":72392695,"comment_id":127888165,"body_markdown":"`num` is promoted to double and `System.out.printf(&quot;%f%n&quot;, (double)num);` prints `988530483551494910.0` so the issue seems to be in that conversion.","body":"<code>num</code> is promoted to double and <code>System.out.printf(&quot;%f%n&quot;, (double)num);</code> prints <code>988530483551494910.0</code> so the issue seems to be in that conversion."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653573467,"creation_date":1653573467,"answer_id":72393024,"question_id":72392695,"body_markdown":"Numeric promotion is applied when you use `%` with a `long` and a `double` operand. The `long` is converted to a `double`, and then the remainder operation is carried out.\r\n\r\nHowever, `double` cannot represent the value 988530483551494950 precisely. The closest representation represents the value 988530483551494912 (See the [conversion here][1]).\r\n\r\nAnd indeed, the remainder of 988530483551494912 divided by 10000000007 is 631781580 - the &quot;wrong&quot; answer you got.\r\n\r\n\r\n  [1]: https://www.binaryconvert.com/result_double.html?decimal=057056056053051048052056051053053049052057052057053048","title":"Incorrect modulo result with double","body":"<p>Numeric promotion is applied when you use <code>%</code> with a <code>long</code> and a <code>double</code> operand. The <code>long</code> is converted to a <code>double</code>, and then the remainder operation is carried out.</p>\n<p>However, <code>double</code> cannot represent the value 988530483551494950 precisely. The closest representation represents the value 988530483551494912 (See the <a href=\"https://www.binaryconvert.com/result_double.html?decimal=057056056053051048052056051053053049052057052057053048\" rel=\"nofollow noreferrer\">conversion here</a>).</p>\n<p>And indeed, the remainder of 988530483551494912 divided by 10000000007 is 631781580 - the &quot;wrong&quot; answer you got.</p>\n"},{"tags":[],"owner":{"account_id":23091688,"reputation":21,"user_id":18573620,"display_name":"WOSAJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653574251,"creation_date":1653574251,"answer_id":72393208,"question_id":72392695,"body_markdown":"The `%` operator works differently with integers and decimals. In In your code, `r2` is the result of the operator for integers, and `r1` is for decimals (Result of `Math#pow` is `double`). If you want `r1 == r2`, then:\r\n\r\n - Make num a double type.\r\n - Cast Math.pow(10, 9) + 7 to int or long\r\n - Make `1000000007` a double type (`1000000007d`)\r\n\r\n*(Use **one** of these solutions)*\r\n\r\nI hope I helped you.","title":"Incorrect modulo result with double","body":"<p>The <code>%</code> operator works differently with integers and decimals. In In your code, <code>r2</code> is the result of the operator for integers, and <code>r1</code> is for decimals (Result of <code>Math#pow</code> is <code>double</code>). If you want <code>r1 == r2</code>, then:</p>\n<ul>\n<li>Make num a double type.</li>\n<li>Cast Math.pow(10, 9) + 7 to int or long</li>\n<li>Make <code>1000000007</code> a double type (<code>1000000007d</code>)</li>\n</ul>\n<p><em>(Use <strong>one</strong> of these solutions)</em></p>\n<p>I hope I helped you.</p>\n"}],"owner":{"account_id":1021562,"reputation":26350,"user_id":1031769,"accept_rate":78,"display_name":"Searene"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72393024,"answer_count":2,"score":1,"last_activity_date":1653574251,"creation_date":1653572101,"question_id":72392695,"body_markdown":"My code is as follows (Java):\r\n\r\n```java\r\nlong num = 988530483551494950L;\r\nint r1 = (int) (num % (Math.pow(10, 9) + 7));\r\nint r2 = (int) (num % 1000000007);\r\nSystem.out.println(r1); // 631781580\r\nSystem.out.println(r2); // 631781618\r\n```\r\n\r\n`r1` and `r2` should be the same, but they are not, why? Is it because `Math.pow(10, 9) + 7` is a `double`? If so, why does the `double` type cause the problem? The `double` isn&#39;t a fraction, shouldn&#39;t the result be consistent?","title":"Incorrect modulo result with double","body":"<p>My code is as follows (Java):</p>\n<pre class=\"lang-java prettyprint-override\"><code>long num = 988530483551494950L;\nint r1 = (int) (num % (Math.pow(10, 9) + 7));\nint r2 = (int) (num % 1000000007);\nSystem.out.println(r1); // 631781580\nSystem.out.println(r2); // 631781618\n</code></pre>\n<p><code>r1</code> and <code>r2</code> should be the same, but they are not, why? Is it because <code>Math.pow(10, 9) + 7</code> is a <code>double</code>? If so, why does the <code>double</code> type cause the problem? The <code>double</code> isn't a fraction, shouldn't the result be consistent?</p>\n"},{"tags":["java","android","kotlin","kotlin-multiplatform","kmm"],"answers":[{"tags":[],"owner":{"account_id":4399745,"reputation":73368,"user_id":3585796,"display_name":"Phil Dukhov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653574238,"creation_date":1653574238,"answer_id":72393203,"question_id":72393012,"body_markdown":"You can create a common wrapper for this type.\r\n\r\nCommon code:\r\n```\r\nexpect class CustomDataType\r\n```\r\nAndroid code:\r\n```\r\nactual typealias CustomDataType = android.package.name.CustomDataType\r\n```\r\n\r\nSometimes it&#39;s impossible to use `typealias` because of different API, in this case you can store it in a property:\r\n\r\n```\r\nactual class CustomDataType(val native: android.package.name.CustomDataType)\r\n```","title":"Passing Android / iOS specific arguments in Actual / Expect classes in Kotlin Mutliplatform project","body":"<p>You can create a common wrapper for this type.</p>\n<p>Common code:</p>\n<pre><code>expect class CustomDataType\n</code></pre>\n<p>Android code:</p>\n<pre><code>actual typealias CustomDataType = android.package.name.CustomDataType\n</code></pre>\n<p>Sometimes it's impossible to use <code>typealias</code> because of different API, in this case you can store it in a property:</p>\n<pre><code>actual class CustomDataType(val native: android.package.name.CustomDataType)\n</code></pre>\n"}],"owner":{"account_id":2668168,"reputation":45,"user_id":2306077,"accept_rate":25,"display_name":"kumarz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72393203,"answer_count":1,"score":1,"last_activity_date":1653574238,"creation_date":1653573413,"question_id":72393012,"body_markdown":"So I&#39;m trying to integrate KMM module into an already existing android app. I&#39;m exposing a class from common KMM module into the Android project, which looks something like this (please ignore the syntax, it&#39;s written just for reference of what I&#39;m doing) - \r\n\r\n\r\n```\r\n// Common KMM Module\r\nimport CustomDataType // THIS DOES NOT WORK COS IT&quot;S AN ANDROID MODULE AND NOT MULTIPLATFORM\r\nobject CommonHandler {\r\n    fun init(args: CustomDataType) { // ??? How can I receive custome Data type here ?????\r\n        println(&quot;test init of Mission Handler&quot;)\r\n        AndroidModule.init(args); // How can I pass into the android KMM module\r\n    }\r\n}\r\n\r\nexpect object AndroidModule {\r\n  fun init(args: CustomDataType)\r\n}\r\n\r\n// ANDROID KMM Module \r\n\r\nimport CustomDataType; // I can import the data type here though\r\nactual object AndroidModule {\r\n    actual fun init(args: CustomDataType)\r\n}\r\n\r\n\r\n// MAIN ANDROID APP\r\n\r\nimport CommonHandler;\r\n\r\nfun someAndroidMethod(){\r\n    CommonHandler.init(CustomDataType)\r\n}\r\n```\r\n\r\nThe android method would get called frequently through the app, and the idea is to pass this event across to KMM for further processing ( like filtering, extracting data, and updating DB), but am unable to figure how to pass it to common KMM module. I&#39;m a web developer who recently started KMM, so my knowledge is very limited. Kindly help, thanks in advance!\r\n    ","title":"Passing Android / iOS specific arguments in Actual / Expect classes in Kotlin Mutliplatform project","body":"<p>So I'm trying to integrate KMM module into an already existing android app. I'm exposing a class from common KMM module into the Android project, which looks something like this (please ignore the syntax, it's written just for reference of what I'm doing) -</p>\n<pre><code>// Common KMM Module\nimport CustomDataType // THIS DOES NOT WORK COS IT&quot;S AN ANDROID MODULE AND NOT MULTIPLATFORM\nobject CommonHandler {\n    fun init(args: CustomDataType) { // ??? How can I receive custome Data type here ?????\n        println(&quot;test init of Mission Handler&quot;)\n        AndroidModule.init(args); // How can I pass into the android KMM module\n    }\n}\n\nexpect object AndroidModule {\n  fun init(args: CustomDataType)\n}\n\n// ANDROID KMM Module \n\nimport CustomDataType; // I can import the data type here though\nactual object AndroidModule {\n    actual fun init(args: CustomDataType)\n}\n\n\n// MAIN ANDROID APP\n\nimport CommonHandler;\n\nfun someAndroidMethod(){\n    CommonHandler.init(CustomDataType)\n}\n</code></pre>\n<p>The android method would get called frequently through the app, and the idea is to pass this event across to KMM for further processing ( like filtering, extracting data, and updating DB), but am unable to figure how to pass it to common KMM module. I'm a web developer who recently started KMM, so my knowledge is very limited. Kindly help, thanks in advance!</p>\n"},{"tags":["java","android","variables","request","android-volley"],"comments":[{"owner":{"account_id":25380644,"reputation":11,"user_id":19193089,"display_name":"Alessandro Cecchini"},"score":0,"creation_date":1653598598,"post_id":72392958,"comment_id":127896824,"body_markdown":"@a_local_nobody it kinda does but I still can&#39;t figure out how to apply the solutions to my problem.","body":"@a_local_nobody it kinda does but I still can&#39;t figure out how to apply the solutions to my problem."}],"owner":{"account_id":25380644,"reputation":11,"user_id":19193089,"display_name":"Alessandro Cecchini"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1654033111,"answer_count":0,"score":1,"last_activity_date":1653573523,"creation_date":1653573164,"question_id":72392958,"body_markdown":"I have a boolean function called `isAlreadyInDatabase(String email, String password)` which checks if an email address and a password are already present on a database (an excel file).\r\n\r\nTo do so, the method creates an `EmailAndPasswordGet` object and calls a `checkEmailAndPassword(email, password)` method. Here&#39;s the code:\r\n\r\n\r\n    public boolean isAlreadyInDatabase(String email, String password) {\r\n        return new EmailAndPasswordGet(context).checkEmailAndPassword(email, password);\r\n    }\r\n\r\nNow the `EmailAndPasswordGet` code:\r\n\r\n    public class EmailAndPasswordGet {\r\n    private final Context context;\r\n\r\n    private String email;\r\n    private String password;\r\n\r\n    private static boolean successful;\r\n\r\n    private final JsonObjectRequest validEmailAndPasswordRequest = new JsonObjectRequest(Request.Method.GET, Costanti.URL_DB, null, response -&gt; {\r\n        try {\r\n            JSONArray array = response.getJSONArray(&quot;values&quot;);\r\n            for (int i = 1; i &lt; array.length(); i++) {\r\n                JSONArray row = array.getJSONArray(i);\r\n                if (row.get(4).equals(email) &amp;&amp; row.get(5).equals(password)) {\r\n                    System.out.println(&quot;Match found!&quot;);\r\n                    successful = true;\r\n                    \r\n                    break;\r\n                }\r\n            }\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }, null);\r\n\r\n    public EmailAndPasswordGet(Context context) {\r\n        this.context = context;\r\n        successful = false;\r\n    }\r\n\r\n    public boolean checkEmailAndPassword(String email, String password) {\r\n        this.email = email;\r\n        this.password = password;\r\n\r\n        Volley.newRequestQueue(context)\r\n                .add(validEmailAndPasswordRequest\r\n                        .setRetryPolicy(\r\n                                new DefaultRetryPolicy(\r\n                                        Costanti.SOCKET_TIME_OUT,\r\n                                        0,\r\n                                        DefaultRetryPolicy.DEFAULT_BACKOFF_MULT)));\r\n\r\n        System.out.println(&quot;Match: &quot; + successful);\r\n\r\n        return successful;\r\n    }\r\n\r\nI used a boolean variable `successful` to know if something went wrong or if a match was found.\r\n\r\nNow the problem: when I try to run my application (correct email and password) the console outputs this:\r\n\r\n```\r\nI/System.out: Match: false\r\nI/System.out: Match found!\r\n```\r\n\r\nTheoretically, the `Match found!` message should appear **before** the other one. As you can see by the code when the request is running, it should output `Match found!`, change `successful = true` and then output `Match: true`. This doesn&#39;t happen.\r\n\r\nAs demonstrated the match is found, but then it just returns `false` which is not right. The only thing that comes to mind is that the `successful` variable just doesn&#39;t work between scopes or the request is delayed somehow so that it doesn&#39;t update the variable properly. I have no idea.\r\n\r\nSo what&#39;s wrong? Am I missing something on how requests work? Does the variable work this way? I just wanna know if a match was found or not, how can I do it?\r\n\r\nForgive me if I wrote the question badly, first time around here!\r\n\r\nHave a great day, thank you! :)","title":"Variable not changing properly when called in a Volley JsonObjectRequest","body":"<p>I have a boolean function called <code>isAlreadyInDatabase(String email, String password)</code> which checks if an email address and a password are already present on a database (an excel file).</p>\n<p>To do so, the method creates an <code>EmailAndPasswordGet</code> object and calls a <code>checkEmailAndPassword(email, password)</code> method. Here's the code:</p>\n<pre><code>public boolean isAlreadyInDatabase(String email, String password) {\n    return new EmailAndPasswordGet(context).checkEmailAndPassword(email, password);\n}\n</code></pre>\n<p>Now the <code>EmailAndPasswordGet</code> code:</p>\n<pre><code>public class EmailAndPasswordGet {\nprivate final Context context;\n\nprivate String email;\nprivate String password;\n\nprivate static boolean successful;\n\nprivate final JsonObjectRequest validEmailAndPasswordRequest = new JsonObjectRequest(Request.Method.GET, Costanti.URL_DB, null, response -&gt; {\n    try {\n        JSONArray array = response.getJSONArray(&quot;values&quot;);\n        for (int i = 1; i &lt; array.length(); i++) {\n            JSONArray row = array.getJSONArray(i);\n            if (row.get(4).equals(email) &amp;&amp; row.get(5).equals(password)) {\n                System.out.println(&quot;Match found!&quot;);\n                successful = true;\n                \n                break;\n            }\n        }\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n}, null);\n\npublic EmailAndPasswordGet(Context context) {\n    this.context = context;\n    successful = false;\n}\n\npublic boolean checkEmailAndPassword(String email, String password) {\n    this.email = email;\n    this.password = password;\n\n    Volley.newRequestQueue(context)\n            .add(validEmailAndPasswordRequest\n                    .setRetryPolicy(\n                            new DefaultRetryPolicy(\n                                    Costanti.SOCKET_TIME_OUT,\n                                    0,\n                                    DefaultRetryPolicy.DEFAULT_BACKOFF_MULT)));\n\n    System.out.println(&quot;Match: &quot; + successful);\n\n    return successful;\n}\n</code></pre>\n<p>I used a boolean variable <code>successful</code> to know if something went wrong or if a match was found.</p>\n<p>Now the problem: when I try to run my application (correct email and password) the console outputs this:</p>\n<pre><code>I/System.out: Match: false\nI/System.out: Match found!\n</code></pre>\n<p>Theoretically, the <code>Match found!</code> message should appear <strong>before</strong> the other one. As you can see by the code when the request is running, it should output <code>Match found!</code>, change <code>successful = true</code> and then output <code>Match: true</code>. This doesn't happen.</p>\n<p>As demonstrated the match is found, but then it just returns <code>false</code> which is not right. The only thing that comes to mind is that the <code>successful</code> variable just doesn't work between scopes or the request is delayed somehow so that it doesn't update the variable properly. I have no idea.</p>\n<p>So what's wrong? Am I missing something on how requests work? Does the variable work this way? I just wanna know if a match was found or not, how can I do it?</p>\n<p>Forgive me if I wrote the question badly, first time around here!</p>\n<p>Have a great day, thank you! :)</p>\n"},{"tags":["java","hibernate","session"],"answers":[{"tags":[],"owner":{"account_id":2812,"reputation":13739,"user_id":3973,"accept_rate":67,"display_name":"Binil Thomas"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1288300450,"creation_date":1288300450,"answer_id":4047209,"question_id":4047175,"body_markdown":"The documentation asks you not to override `save` yourself, but to use the variant of `save` which takes two arguments. See the [JavaDocs][1] for more details.\r\n\r\n    YourEntity entity = // ..\r\n    entity.setFoo(foo);\r\n    entity.setBar(bar);\r\n    //..\r\n    session.save(entity, theIDYouWantToUse);\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.6/javadocs/org/hibernate/Session.html#save(java.lang.String, java.lang.Object)","title":"Save new object with Hibernate using supplied ID","body":"<p>The documentation asks you not to override <code>save</code> yourself, but to use the variant of <code>save</code> which takes two arguments. See the [JavaDocs][1] for more details.</p>\n\n<pre><code>YourEntity entity = // ..\nentity.setFoo(foo);\nentity.setBar(bar);\n//..\nsession.save(entity, theIDYouWantToUse);\n</code></pre>\n\n<p>[1]: <a href=\"http://docs.jboss.org/hibernate/core/3.6/javadocs/org/hibernate/Session.html#save(java.lang.String\" rel=\"noreferrer\">http://docs.jboss.org/hibernate/core/3.6/javadocs/org/hibernate/Session.html#save(java.lang.String</a>, java.lang.Object)</p>\n"},{"tags":[],"owner":{"account_id":2492491,"reputation":61,"user_id":2169684,"display_name":"alkimisticus"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1367829211,"creation_date":1367829211,"answer_id":16394895,"question_id":4047175,"body_markdown":"Use session.replicate \r\n\r\n    YourEntity entity = // ..\r\n    entity.setId(yourId);\r\n    entity.setBar(bar);\r\n    //..\r\n    session.replicate(entity,ReplicationMode.EXCEPTION);\r\n\r\n","title":"Save new object with Hibernate using supplied ID","body":"<p>Use session.replicate </p>\n\n<pre><code>YourEntity entity = // ..\nentity.setId(yourId);\nentity.setBar(bar);\n//..\nsession.replicate(entity,ReplicationMode.EXCEPTION);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401940,"reputation":13996,"user_id":768795,"display_name":"Thomas W"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1367831188,"creation_date":1367830822,"answer_id":16395293,"question_id":4047175,"body_markdown":"Specify `assigned` as the generator on the ID column.\r\n\r\nhttp://docs.jboss.org/hibernate/orm/3.3/reference/en/html/mapping.html#mapping-declaration-id-generator\r\n\r\nNote that for this to perform well, it helps to have a _nullable version property_. Hibernate then treats &#39;null&#39; version values as being unsaved.\r\n\r\n    &lt;id name=&quot;id&quot; type=&quot;int&quot;&gt;\r\n        &lt;generator class=&quot;assigned&quot; /&gt;\r\n    &lt;/id&gt;\r\n    &lt;version name=&quot;version&quot; type=&quot;int&quot;&gt;\r\n\r\n    public class Person {\r\n        // ID;    assigned, SPEC.\r\n        public int getId();\r\n        public void setId (int id);\r\n        // Version;  NOTE -- must be nullable!\r\n        public Integer getVersion();\r\n        public void setVersion (Integer version);\r\n    }\r\n\r\nHope this helps.\r\n","title":"Save new object with Hibernate using supplied ID","body":"<p>Specify <code>assigned</code> as the generator on the ID column.</p>\n\n<p><a href=\"http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/mapping.html#mapping-declaration-id-generator\" rel=\"nofollow\">http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/mapping.html#mapping-declaration-id-generator</a></p>\n\n<p>Note that for this to perform well, it helps to have a <em>nullable version property</em>. Hibernate then treats 'null' version values as being unsaved.</p>\n\n<pre><code>&lt;id name=\"id\" type=\"int\"&gt;\n    &lt;generator class=\"assigned\" /&gt;\n&lt;/id&gt;\n&lt;version name=\"version\" type=\"int\"&gt;\n\npublic class Person {\n    // ID;    assigned, SPEC.\n    public int getId();\n    public void setId (int id);\n    // Version;  NOTE -- must be nullable!\n    public Integer getVersion();\n    public void setVersion (Integer version);\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":4360386,"reputation":534,"user_id":3557680,"display_name":"Christian G&#252;rtler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403789627,"creation_date":1403789627,"answer_id":24431992,"question_id":4047175,"body_markdown":"For now `replicate(Object object, ReplicationMode replicationMode)` seems to be an acceptable and the preferred way. You may want to play a little with the different values for `ReplicationMode` to suit your needs.","title":"Save new object with Hibernate using supplied ID","body":"<p>For now <code>replicate(Object object, ReplicationMode replicationMode)</code> seems to be an acceptable and the preferred way. You may want to play a little with the different values for <code>ReplicationMode</code> to suit your needs.</p>\n"},{"tags":[],"owner":{"account_id":6747745,"reputation":173,"user_id":5198820,"display_name":"Vinit Bhardwaj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485071018,"creation_date":1485071018,"answer_id":41788528,"question_id":4047175,"body_markdown":"Use save method of hibernate:-\r\nsave(String entityName,Object object)\r\nFor more information kindly follow:-\r\nhttp://docs.jboss.org/hibernate/core/3.6/javadocs/org/hibernate/Session.html#save(java.lang.String, java.lang.Object)\r\n\r\nNote:- Do not use GeneratedValue of any type on above of your Primary key\r\n@GeneratedValue(strategy=GenerationType.IDENTITY)                  ","title":"Save new object with Hibernate using supplied ID","body":"<p>Use save method of hibernate:-\nsave(String entityName,Object object)\nFor more information kindly follow:-\n<a href=\"http://docs.jboss.org/hibernate/core/3.6/javadocs/org/hibernate/Session.html#save(java.lang.String\" rel=\"nofollow noreferrer\">http://docs.jboss.org/hibernate/core/3.6/javadocs/org/hibernate/Session.html#save(java.lang.String</a>, java.lang.Object)</p>\n\n<p>Note:- Do not use GeneratedValue of any type on above of your Primary key\n@GeneratedValue(strategy=GenerationType.IDENTITY)                  </p>\n"},{"tags":[],"owner":{"account_id":465839,"reputation":6552,"user_id":870207,"accept_rate":0,"display_name":"teknopaul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653573280,"creation_date":1653573280,"answer_id":72392978,"question_id":4047175,"body_markdown":"You can write your own ID generator, that defers to a Hibernate generator when you don&#39;t have an ID set.\r\n\r\n        &lt;id column=&quot;MyEntity&quot; name=&quot;id&quot; type=&quot;long&quot;&gt;\r\n            &lt;generator class=&quot;com.me.MySequenceStyleGenerator&quot;&gt;\r\n                &lt;param name=&quot;sequence_name&quot;&gt;MY_SEQUENCE&lt;/param&gt;\r\n                &lt;param name=&quot;increment_size&quot;&gt;1000&lt;/param&gt;\r\n                &lt;param name=&quot;optimizer&quot;&gt;pooled&lt;/param&gt;\r\n            &lt;/generator&gt;\r\n            ...\r\n\r\npublic class MySequenceStyleGenerator extends org.hibernate.id.enhanced.SequenceStyleGenerator {\r\n\r\n    public Serializable generate(SessionImplementor session, Object entity) throws HibernateException {\r\n        if (entity instanceof MyEntity) {\r\n            MyEntity myEntity = (MyEntity) entity;\r\n            if (myEntity.isUseMyId()) {  // this is a transient field\r\n                return myEntity.getId(); // this is an id you generated\r\n            }\r\n        }\r\n        return super.generate(session, entity);\r\n    }\r\n}\r\n","title":"Save new object with Hibernate using supplied ID","body":"<p>You can write your own ID generator, that defers to a Hibernate generator when you don't have an ID set.</p>\n<pre><code>    &lt;id column=&quot;MyEntity&quot; name=&quot;id&quot; type=&quot;long&quot;&gt;\n        &lt;generator class=&quot;com.me.MySequenceStyleGenerator&quot;&gt;\n            &lt;param name=&quot;sequence_name&quot;&gt;MY_SEQUENCE&lt;/param&gt;\n            &lt;param name=&quot;increment_size&quot;&gt;1000&lt;/param&gt;\n            &lt;param name=&quot;optimizer&quot;&gt;pooled&lt;/param&gt;\n        &lt;/generator&gt;\n        ...\n</code></pre>\n<p>public class MySequenceStyleGenerator extends org.hibernate.id.enhanced.SequenceStyleGenerator {</p>\n<pre><code>public Serializable generate(SessionImplementor session, Object entity) throws HibernateException {\n    if (entity instanceof MyEntity) {\n        MyEntity myEntity = (MyEntity) entity;\n        if (myEntity.isUseMyId()) {  // this is a transient field\n            return myEntity.getId(); // this is an id you generated\n        }\n    }\n    return super.generate(session, entity);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":169582,"reputation":540,"user_id":395751,"display_name":"iryndin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23599,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":4047209,"answer_count":6,"score":8,"last_activity_date":1653573280,"creation_date":1288300080,"question_id":4047175,"body_markdown":"I want to save some Objects to database with predefined IDs using Hibernate. Is it possible to do it using save method of Hibernate session? \r\n\r\nI know there are following workarounds:\r\n\r\n1) execute SQL script with necessary insert statements: \r\n\r\n    insert into MyObj(id,name) values (100,&#39;aaa&#39;), (101,&#39;bbb&#39;);\r\n\r\n2) use SQL query in Hibernate:\r\n\r\n    public static boolean createObj(Long id, String name) {\r\n      Session session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n      if (session.get(MyObj.class, id) == null) {        \r\n        session.beginTransaction();\r\n        SQLQuery sqlQuery = session.createSQLQuery\r\n          (&quot;insert into myobj(id,name) values(?,?)&quot;);\r\n        sqlQuery.setLong(0, id);\r\n        sqlQuery.setString(1, name);\r\n        sqlQuery.executeUpdate();\r\n        session.getTransaction().commit();\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\nBut: is it possible to do without SQLQuery? \r\n\r\nIn Hibernate reference in section [11.2. Making objects persistent][1] there is example of code: \r\n\r\n&gt; Alternatively, you can assign the\r\n&gt; identifier using an overloaded version\r\n&gt; of save().\r\n\r\n    DomesticCat pk = new DomesticCat();\r\n    pk.setColor(Color.TABBY);\r\n    pk.setSex(&#39;F&#39;);\r\n    pk.setName(&quot;PK&quot;);\r\n    pk.setKittens( new HashSet() );\r\n    pk.addKitten(fritz);\r\n    sess.save( pk, new Long(1234) );\r\n\r\nBut I couldn&#39;t find example of how to do this. \r\n\r\nSo, is it possible to save new objects with supplied IDs to database with Hibernate not using SQL query? If yes then how? \r\nAnd how to overload session method save() as mentioned in Hibernate reference? \r\n\r\nThanks!\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html/objectstate.html#objectstate-makingpersistent","title":"Save new object with Hibernate using supplied ID","body":"<p>I want to save some Objects to database with predefined IDs using Hibernate. Is it possible to do it using save method of Hibernate session? </p>\n\n<p>I know there are following workarounds:</p>\n\n<p>1) execute SQL script with necessary insert statements: </p>\n\n<pre><code>insert into MyObj(id,name) values (100,'aaa'), (101,'bbb');\n</code></pre>\n\n<p>2) use SQL query in Hibernate:</p>\n\n<pre><code>public static boolean createObj(Long id, String name) {\n  Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n  if (session.get(MyObj.class, id) == null) {        \n    session.beginTransaction();\n    SQLQuery sqlQuery = session.createSQLQuery\n      (\"insert into myobj(id,name) values(?,?)\");\n    sqlQuery.setLong(0, id);\n    sqlQuery.setString(1, name);\n    sqlQuery.executeUpdate();\n    session.getTransaction().commit();\n    return true;\n  } else {\n    return false;\n  }\n}\n</code></pre>\n\n<p>But: is it possible to do without SQLQuery? </p>\n\n<p>In Hibernate reference in section <a href=\"http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html/objectstate.html#objectstate-makingpersistent\" rel=\"noreferrer\">11.2. Making objects persistent</a> there is example of code: </p>\n\n<blockquote>\n  <p>Alternatively, you can assign the\n  identifier using an overloaded version\n  of save().</p>\n</blockquote>\n\n<pre><code>DomesticCat pk = new DomesticCat();\npk.setColor(Color.TABBY);\npk.setSex('F');\npk.setName(\"PK\");\npk.setKittens( new HashSet() );\npk.addKitten(fritz);\nsess.save( pk, new Long(1234) );\n</code></pre>\n\n<p>But I couldn't find example of how to do this. </p>\n\n<p>So, is it possible to save new objects with supplied IDs to database with Hibernate not using SQL query? If yes then how? \nAnd how to overload session method save() as mentioned in Hibernate reference? </p>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-boot","web-applications","module"],"owner":{"account_id":24115404,"reputation":51,"user_id":18085368,"display_name":"Bambatrack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1181,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1653573172,"creation_date":1648028039,"question_id":71584840,"body_markdown":"I&#39;m trying to build a multi module application with one parent POM and different submodules.\r\nThe main submodule (entrypoint) is a web app with his own application.properties, and it uses other modules as libraries. The structure is like this:\r\n\r\n```\r\n-parent project\r\n  |\r\n  |- webapp\r\n  |     |- src/main/java/..\r\n  |     |- src/main/resources/application.properties\r\n  |\r\n  |- submodule\r\n        |- src/main/java/...\r\n        |- src/main/resources/submodule.properties\r\n```\r\n\r\nIn the submodule, the configuration class is like this:\r\n\r\n   \r\n\r\n     package com.project.submodule.conf;\r\n    \r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.PropertySource;\r\n    \r\n    @Configuration\r\n    @PropertySource(value = &quot;classpath:submodule.properties&quot; )\r\n    public class SubModuleConfig{\r\n    \r\n    }\r\n\r\nbut it still can&#39;t take the correct properties, as i have some ConditionalOnProperty that basically work idependently of the properties that i&#39;ve set in the submodules. If i set the same property on the webapp project (in application.properties) then, they are correctly taken and ConditionalOnProperty works as expected. How can i do?\r\n\r\n\r\n----------\r\n\r\n\r\n--- EDIT ---\r\n\r\nIt seems that the properties are correclty loaded from submodules AFTER the ConditionalOnProperty is evaluated. So ConditionalOnProperty evaluates basing on the application.properties (which are for some reason loaded first and not togheter with submodule.properties), then submodule.properties load but at this point the conditionalOnProperty was already evaluated not taking into account submodule.properties. Is there a way to specify the correct property loading flow?","title":"Multi module spring project not taking application.properties","body":"<p>I'm trying to build a multi module application with one parent POM and different submodules.\nThe main submodule (entrypoint) is a web app with his own application.properties, and it uses other modules as libraries. The structure is like this:</p>\n<pre><code>-parent project\n  |\n  |- webapp\n  |     |- src/main/java/..\n  |     |- src/main/resources/application.properties\n  |\n  |- submodule\n        |- src/main/java/...\n        |- src/main/resources/submodule.properties\n</code></pre>\n<p>In the submodule, the configuration class is like this:</p>\n<pre><code> package com.project.submodule.conf;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.PropertySource;\n\n@Configuration\n@PropertySource(value = &quot;classpath:submodule.properties&quot; )\npublic class SubModuleConfig{\n\n}\n</code></pre>\n<p>but it still can't take the correct properties, as i have some ConditionalOnProperty that basically work idependently of the properties that i've set in the submodules. If i set the same property on the webapp project (in application.properties) then, they are correctly taken and ConditionalOnProperty works as expected. How can i do?</p>\n<hr />\n<p>--- EDIT ---</p>\n<p>It seems that the properties are correclty loaded from submodules AFTER the ConditionalOnProperty is evaluated. So ConditionalOnProperty evaluates basing on the application.properties (which are for some reason loaded first and not togheter with submodule.properties), then submodule.properties load but at this point the conditionalOnProperty was already evaluated not taking into account submodule.properties. Is there a way to specify the correct property loading flow?</p>\n"},{"tags":["java","multithreading","thread-safety"],"owner":{"account_id":21064198,"reputation":349,"user_id":15481917,"display_name":"Orl13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653572985,"creation_date":1653572985,"question_id":72392920,"body_markdown":"I would like to implement a frame where you can press a button to make a call, and then either the respondent, the manager or the director would respond to the call, and it would output on the screen who answered the call.\r\n\r\nIf an employee is not available, I would like to show on the console. So for example if respondent and manager are not available, I would like the output to look like this:\r\n\r\n```\r\nRespondent busy. Forwarding to manager.\r\nManager busy. Forwarding to Director.\r\nDirector answered the call.\r\n```\r\n\r\nWith my implementations these messages are shown, but they are all showed instantly. I would like to set some waiting time between the messages, like:\r\n\r\n*shows message*: &quot;Manager is busy. Forwarding to director&quot;\r\n*waits 2 seconds*\r\n*shows message*: &quot;Director answered the call&quot; \r\n\r\nCallHandler.java:\r\n```import java.util.ArrayList;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class CallHandler implements Runnable{\r\n\r\n    private ArrayList&lt;Employee&gt; employees = new ArrayList&lt;&gt;();\r\n    private MyFrame view;\r\n\r\n    public CallHandler(){\r\n        employees.add(new Respondent());\r\n\r\n        employees.add(new Manager());\r\n\r\n        employees.add(new Director());\r\n\r\n        view = new MyFrame(this);\r\n    }\r\n\r\n    public void dispatchCall() throws InterruptedException {\r\n        boolean dialing = true;\r\n        while(dialing) {\r\n            for (Employee employee : getAvailableEmployees()) {\r\n                Status status = employee.call();\r\n                if (status == Status.ANSWERED) {\r\n                    (new Thread(employee)).start();\r\n                    sendMessage(employee.getClass().getName() + &quot; has answered the call.&quot;);\r\n                    dialing = false;\r\n                    break;\r\n                }\r\n                sendMessage(employee.getClass().getName() + &quot; is busy. You will be redirected to the next available employee.&quot;);\r\n            }\r\n            if (dialing)\r\n                sendMessage(&quot;No one is available at the moment. Please wait...&quot;);\r\n        }\r\n    }\r\n    private void sendMessage(String msg) throws InterruptedException {\r\n        view.addMessage(msg);\r\n    }\r\n    private ArrayList&lt;Employee&gt; getAvailableEmployees(){\r\n        return employees.stream().filter(Employee::isFree).collect(Collectors.toCollection(ArrayList::new));\r\n    }\r\n\r\n    public static void main(String args[]){\r\n        CallHandler handler = new CallHandler();\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try{\r\n            Thread.sleep(TimeUnit.SECONDS.toMillis(1));\r\n        } catch (InterruptedException e) {\r\n            System.out.println(&quot;Call got interrupted&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nMyFrame.java\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.time.LocalTime;\r\nimport java.util.ArrayList;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class MyFrame extends JFrame implements Runnable {\r\n\r\n    private static final int WIDTH = 800;\r\n    private static final int HEIGHT = 500;\r\n    private static final int PANEL_WIDTH = 600;\r\n    private static final int PANEL_HEIGHT = 290;\r\n\r\n    private final JPanel panel = new JPanel();\r\n    private final ArrayList&lt;JLabel&gt; labels = new ArrayList&lt;&gt;();\r\n    private int rowIndex = 0;\r\n    private static final int ROWS = 17;\r\n    private CallHandler handler = null;\r\n\r\n    private Timer timer;\r\n    MyFrame(CallHandler callHandler) {\r\n        handler = callHandler;\r\n        this.setLayout(null);\r\n        setVisible(true);\r\n        setSize(WIDTH, HEIGHT);\r\n\r\n        add(panel);\r\n        panel.setLayout(new BoxLayout(panel, BoxLayout.PAGE_AXIS));\r\n        panel.setBackground(Color.GREEN);\r\n        panel.setBounds(100, 50, PANEL_WIDTH, PANEL_HEIGHT);\r\n\r\n        JButton btn = new JButton(&quot;Make call&quot;);\r\n        btn.setBounds(350, 370, 100, 80);\r\n        btn.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                try {\r\n                    handler.dispatchCall();\r\n                } catch (InterruptedException ex) {\r\n                    throw new RuntimeException(ex);\r\n                }\r\n            }\r\n\r\n        });\r\n        this.add(btn);\r\n        initiateRows();\r\n\r\n    }\r\n    public void addMessage(String msg) throws InterruptedException {\r\n        if (rowIndex &lt; ROWS) {\r\n            getLabel(rowIndex).setText(msg);\r\n            rowIndex++;\r\n        } else {\r\n            System.out.println(&quot;removing first component&quot;);\r\n            removeComponent(0);\r\n            addRow(msg);\r\n        }\r\n        panel.updateUI();\r\n//        Thread.sleep(1000);\r\n\r\n    }\r\n\r\n    private void initiateRows() {\r\n        for (int i = 0; i &lt; ROWS; i++) {\r\n            addRow(&quot;&quot;);\r\n        }\r\n    }\r\n\r\n    private void addRow(String msg) {\r\n        JLabel label = new JLabel(msg);\r\n        label.setAlignmentX(Component.CENTER_ALIGNMENT);\r\n        labels.add(label);\r\n        panel.add(label);\r\n    }\r\n\r\n    private JLabel getLabel(int i) {\r\n        return (JLabel) panel.getComponent(i);\r\n    }\r\n\r\n    private void removeComponent(int i) {\r\n        panel.remove(i);\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        MyFrame f = new MyFrame(new CallHandler());\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try{\r\n            Thread.sleep(TimeUnit.SECONDS.toMillis(1));\r\n        } catch (InterruptedException e) {\r\n            System.out.println(&quot;Call got interrupted&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"Java Threading: make GUI wait before showing each message when receiving multiple messages instantly","body":"<p>I would like to implement a frame where you can press a button to make a call, and then either the respondent, the manager or the director would respond to the call, and it would output on the screen who answered the call.</p>\n<p>If an employee is not available, I would like to show on the console. So for example if respondent and manager are not available, I would like the output to look like this:</p>\n<pre><code>Respondent busy. Forwarding to manager.\nManager busy. Forwarding to Director.\nDirector answered the call.\n</code></pre>\n<p>With my implementations these messages are shown, but they are all showed instantly. I would like to set some waiting time between the messages, like:</p>\n<p><em>shows message</em>: &quot;Manager is busy. Forwarding to director&quot;\n<em>waits 2 seconds</em>\n<em>shows message</em>: &quot;Director answered the call&quot;</p>\n<p>CallHandler.java:</p>\n<pre><code>import java.util.concurrent.TimeUnit;\nimport java.util.stream.Collectors;\n\npublic class CallHandler implements Runnable{\n\n    private ArrayList&lt;Employee&gt; employees = new ArrayList&lt;&gt;();\n    private MyFrame view;\n\n    public CallHandler(){\n        employees.add(new Respondent());\n\n        employees.add(new Manager());\n\n        employees.add(new Director());\n\n        view = new MyFrame(this);\n    }\n\n    public void dispatchCall() throws InterruptedException {\n        boolean dialing = true;\n        while(dialing) {\n            for (Employee employee : getAvailableEmployees()) {\n                Status status = employee.call();\n                if (status == Status.ANSWERED) {\n                    (new Thread(employee)).start();\n                    sendMessage(employee.getClass().getName() + &quot; has answered the call.&quot;);\n                    dialing = false;\n                    break;\n                }\n                sendMessage(employee.getClass().getName() + &quot; is busy. You will be redirected to the next available employee.&quot;);\n            }\n            if (dialing)\n                sendMessage(&quot;No one is available at the moment. Please wait...&quot;);\n        }\n    }\n    private void sendMessage(String msg) throws InterruptedException {\n        view.addMessage(msg);\n    }\n    private ArrayList&lt;Employee&gt; getAvailableEmployees(){\n        return employees.stream().filter(Employee::isFree).collect(Collectors.toCollection(ArrayList::new));\n    }\n\n    public static void main(String args[]){\n        CallHandler handler = new CallHandler();\n    }\n\n    @Override\n    public void run() {\n        try{\n            Thread.sleep(TimeUnit.SECONDS.toMillis(1));\n        } catch (InterruptedException e) {\n            System.out.println(&quot;Call got interrupted&quot;);\n        }\n    }\n}\n\n</code></pre>\n<p>MyFrame.java</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.time.LocalTime;\nimport java.util.ArrayList;\nimport java.util.concurrent.TimeUnit;\n\npublic class MyFrame extends JFrame implements Runnable {\n\n    private static final int WIDTH = 800;\n    private static final int HEIGHT = 500;\n    private static final int PANEL_WIDTH = 600;\n    private static final int PANEL_HEIGHT = 290;\n\n    private final JPanel panel = new JPanel();\n    private final ArrayList&lt;JLabel&gt; labels = new ArrayList&lt;&gt;();\n    private int rowIndex = 0;\n    private static final int ROWS = 17;\n    private CallHandler handler = null;\n\n    private Timer timer;\n    MyFrame(CallHandler callHandler) {\n        handler = callHandler;\n        this.setLayout(null);\n        setVisible(true);\n        setSize(WIDTH, HEIGHT);\n\n        add(panel);\n        panel.setLayout(new BoxLayout(panel, BoxLayout.PAGE_AXIS));\n        panel.setBackground(Color.GREEN);\n        panel.setBounds(100, 50, PANEL_WIDTH, PANEL_HEIGHT);\n\n        JButton btn = new JButton(&quot;Make call&quot;);\n        btn.setBounds(350, 370, 100, 80);\n        btn.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                try {\n                    handler.dispatchCall();\n                } catch (InterruptedException ex) {\n                    throw new RuntimeException(ex);\n                }\n            }\n\n        });\n        this.add(btn);\n        initiateRows();\n\n    }\n    public void addMessage(String msg) throws InterruptedException {\n        if (rowIndex &lt; ROWS) {\n            getLabel(rowIndex).setText(msg);\n            rowIndex++;\n        } else {\n            System.out.println(&quot;removing first component&quot;);\n            removeComponent(0);\n            addRow(msg);\n        }\n        panel.updateUI();\n//        Thread.sleep(1000);\n\n    }\n\n    private void initiateRows() {\n        for (int i = 0; i &lt; ROWS; i++) {\n            addRow(&quot;&quot;);\n        }\n    }\n\n    private void addRow(String msg) {\n        JLabel label = new JLabel(msg);\n        label.setAlignmentX(Component.CENTER_ALIGNMENT);\n        labels.add(label);\n        panel.add(label);\n    }\n\n    private JLabel getLabel(int i) {\n        return (JLabel) panel.getComponent(i);\n    }\n\n    private void removeComponent(int i) {\n        panel.remove(i);\n    }\n\n    public static void main(String args[]) {\n        MyFrame f = new MyFrame(new CallHandler());\n    }\n\n    @Override\n    public void run() {\n        try{\n            Thread.sleep(TimeUnit.SECONDS.toMillis(1));\n        } catch (InterruptedException e) {\n            System.out.println(&quot;Call got interrupted&quot;);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","json","parsing"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1653572943,"post_id":72392647,"comment_id":127888001,"body_markdown":"Take a look at [How to parse JSON in Java](https://stackoverflow.com/q/2591098/12567365) - there are currently 59 answers there - and probably many other similar questions, which may also help. Otherwise, you can [edit] your question to show us your code, what you have tried, and where you are stuck. Don&#39;t forget to take the [tour] and read [ask] for more background and guidance.","body":"Take a look at <a href=\"https://stackoverflow.com/q/2591098/12567365\">How to parse JSON in Java</a> - there are currently 59 answers there - and probably many other similar questions, which may also help. Otherwise, you can <a href=\"https://stackoverflow.com/posts/72392647/edit\">edit</a> your question to show us your code, what you have tried, and where you are stuck. Don&#39;t forget to take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for more background and guidance."}],"answers":[{"tags":[],"owner":{"account_id":23654355,"reputation":63,"user_id":17682864,"display_name":"Senti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653572702,"creation_date":1653572702,"answer_id":72392863,"question_id":72392647,"body_markdown":"You could use a [JsonObject][1] to parse the data out of your JSON. An easy way is to safe the data in an `arrayList` and after that you can do whatever you want with it.\r\n\r\nthe following code could help you with this I think:\r\n\r\n                                public void onResponse(JSONArray response) {\r\n                                for (int i=0; i&lt;response.length(); ++i) {\r\n                                    String info = &quot;&quot;;\r\n                                    JSONObject o = null;\r\n                                    try {\r\n                                        info += response.getJSONObject(i).getString(&quot;answer&quot;);\r\n                                        responsList.add(info);\r\n                                    } catch (JSONException e) {\r\n                                        e.printStackTrace();\r\n                                    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/json/JsonObject.html","title":"Use a json in a java class","body":"<p>You could use a <a href=\"https://docs.oracle.com/javaee/7/api/javax/json/JsonObject.html\" rel=\"nofollow noreferrer\">JsonObject</a> to parse the data out of your JSON. An easy way is to safe the data in an <code>arrayList</code> and after that you can do whatever you want with it.</p>\n<p>the following code could help you with this I think:</p>\n<pre><code>                            public void onResponse(JSONArray response) {\n                            for (int i=0; i&lt;response.length(); ++i) {\n                                String info = &quot;&quot;;\n                                JSONObject o = null;\n                                try {\n                                    info += response.getJSONObject(i).getString(&quot;answer&quot;);\n                                    responsList.add(info);\n                                } catch (JSONException e) {\n                                    e.printStackTrace();\n                                }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10097618,"reputation":69,"user_id":7462495,"display_name":"Nikolay Rogchev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1653572784,"creation_date":1653572784,"answer_id":72392882,"question_id":72392647,"body_markdown":"Maybe [JsonCreator][1] can help you fine tune how you deserialize the object\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jsoncreator.htm","title":"Use a json in a java class","body":"<p>Maybe <a href=\"https://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jsoncreator.htm\" rel=\"nofollow noreferrer\">JsonCreator</a> can help you fine tune how you deserialize the object</p>\n"},{"tags":[],"owner":{"account_id":23256531,"reputation":580,"user_id":17343501,"display_name":"AhmedSHA256"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1653572955,"creation_date":1653572955,"answer_id":72392912,"question_id":72392647,"body_markdown":"You can use [GSON][1], it is a powerful tool made by Google which helps you to easily work with JSON. You can use its methods like `toJson()` and `fromJson()` and it will create a Java object as you desire.\r\n\r\n\r\n  [1]: https://github.com/google/gson","title":"Use a json in a java class","body":"<p>You can use <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">GSON</a>, it is a powerful tool made by Google which helps you to easily work with JSON. You can use its methods like <code>toJson()</code> and <code>fromJson()</code> and it will create a Java object as you desire.</p>\n"}],"owner":{"account_id":25396834,"reputation":1,"user_id":19206970,"display_name":"Rafael Bidetti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1653573950,"answer_count":3,"score":-1,"last_activity_date":1653572955,"creation_date":1653571881,"question_id":72392647,"body_markdown":"I am trying to use this JSON data in a java class to retrieve data like: question1 and its answers:\r\n```{\r\n    &quot;questions&quot;: [\r\n        {\r\n            &quot;question1&quot;: &quot;Nos exemplos abaixo, pode-se nomear vari&#225;veis:&quot;,\r\n            &quot;answers&quot;: [\r\n                {\r\n                    &quot;answer1&quot;: &quot;&amp;Alexandre&quot;\r\n                },\r\n                {\r\n                    &quot;answer2&quot;: &quot;65Alexandre&quot;\r\n                },\r\n                {\r\n                    &quot;answer3&quot;: &quot;professor alexandre&quot;\r\n                },\r\n                {\r\n                    &quot;answer4&quot;: &quot; profAlexandre&quot;\r\n                }\r\n            ],\r\n            &quot;certa&quot;: &quot;D&quot;\r\n        },\r\n        {\r\n            &quot;question2&quot;: &quot;Como &#233; poss&#237;vel adicionar um coment&#225;rio ao c&#243;digo em Python? &quot;,\r\n            &quot;answers&quot;: [\r\n                {\r\n                    &quot;answer&quot;: &quot;//&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;#&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;/&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;--&quot;\r\n                }\r\n            ],\r\n            &quot;certa&quot;: &quot;B&quot;\r\n        },\r\n        {\r\n            &quot;question3&quot;: &quot;Assinale a alternativa que demonstre o c&#243;digo que leia dois valores e some-os, em python :&quot;,\r\n            &quot;answers&quot;: [\r\n                {\r\n                    &quot;answer&quot;: &quot;x1 = int(input(&#39;Digite um valor: &#39;))\\nx2 = int(input(&#39;Digite outro valor: &#39;))\\np = x1 + x2\\nprint(&#39;A some entre {} e {}, resulta em {}&#39;.format(x1, x2, p)) &quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;x1 = input(&#39;Digite um valor: &#39;))\\nx2 = input(&#39;Digite outro valor: &#39;))\\np = x1 + x2\\nprint(&#39;A some entre {} e {}, resulta em {}&#39;.format(x1, x2, p))&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;public class x {\\n    public static void main(String args[]) {\\n        System.out.println(&#39;Ol&#225; Mundo!&#39;);\\n    }\\n}&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;public class perguntas {\\n    public static void main(String args[]) {\\n        int x1;\\n        int x2;\\n        int p;\\n        p = x1 + x2;\\n        System.out.println(p);\\n    }\\n }&quot;\r\n                }\r\n            ],\r\n            &quot;certa&quot;: &quot;A&quot;\r\n        },\r\n        {\r\n            &quot;question4&quot;: &quot;Escolha a alternativa que demonstre o c&#243;digo, em python, que leia um n&#250;mero e escreva seu dobro e seu triplo :&quot;,\r\n            &quot;answers&quot;: [\r\n                {\r\n                    &quot;answer&quot;: &quot;n = int(input(&#39;Digite um valor: &#39;))\\ndobro = n * 2\\ntriplo = n * 3\\nprint(&#39;O dobro do valor digitado equivale a {}&#39;.format(dobro))\\nprint(&#39;O triplo do valor escrito vale {}&#39;.format(triplo))&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;n = str(input(&#39;Digite um valor: &#39;))\\ndobro = n * 4\\n triplo = n * 7\\nprint(&#39;O dobro do valor digitado equivale a {}&#39;.format(dobro))\\nprint(&#39;O triplo do valor escrito vale {}&#39;.format(triplo))&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;import javax.swing.JOptionPane;\\npublic class perguntas2 {\\n    public static void main (String args[]) {\\n        int num;\\n        num = Integer.parseInt(JOptionPane.showInputDialog(null, &#39;Digite um valor: &#39;));\\n        int dobro;\\n        int triplo;\\n        dobro = num * 2;        \\n triplo = num * 3;\\n       JOptionPane.showMessageDialog(null, &#39;O dobro do n&#250;mero digitado &#233; &#39;  + dobro + &#39;e o triplo &#233; &#39; + triplo);\\n    }\\n } &quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;public class olamund {\\n    public static  void main (String args[]){\\n        int n1;\\n        int n2;\\n        System.out.println(&#39;Ol&#225; mundo!&#39;); \\n    }\\n}&quot;\r\n                }\r\n            ],\r\n            &quot;certa&quot;: &quot;A&quot;\r\n        },\r\n        {\r\n            &quot;question5&quot;: &quot;Como ser&#225; mostrado o resultado do c&#243;digo em Python a seguir: \\np = float(input(&#39;Qual &#233; o pre&#231;o do produto? R$ &#39;)) \\nd = p-(p*5/100) \\nprint(&#39;O produto que custava R${:.2f}, na promo&#231;&#227;o com desconto de 5% vai custar R${:.2f}&#39;.format(p,d)) &quot;,\r\n            &quot;answers&quot;: [\r\n                {\r\n                    &quot;answer&quot;: &quot;N&#227;o mostrar&#225; nenhum resultado  &quot;\r\n                    \r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;Um resultado com 3 n&#250;meros ap&#243;s o ponto  &quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;Um resultado com 2 n&#250;meros ap&#243;s o ponto &quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;O c&#225;lculo errado do desconto&quot;\r\n                }\r\n            ],\r\n            &quot;certa&quot;: &quot;C&quot;\r\n        },\r\n        {\r\n            &quot;question6&quot;: &quot;Qual ser&#225; o resultado do c&#243;digo em Python a seguir: \\nnome = input(&#39;Qual o seu nome? &#39;) \\nprint(nome) &quot;,\r\n            &quot;answers&quot;: [\r\n                {\r\n                    &quot;answer&quot;: &quot;O c&#243;digo n&#227;o ir&#225; funcionar pois falta “;” no final de cada linha.  &quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;O c&#243;digo n&#227;o ir&#225; mostrar o nome digitado pelo usu&#225;rio.  &quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;O usu&#225;rio n&#227;o conseguira digitar o nome. &quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;O c&#243;digo ir&#225; mostrar o nome digitado pelo usu&#225;rio.  &quot;\r\n                }\r\n            ],\r\n            &quot;certa&quot;: &quot;D&quot;\r\n        },\r\n        {\r\n            &quot;question7&quot;: &quot;Assinale a alternativa que possui p c&#243;digo, em python, que escolha dois n&#250;meros aleat&#243;rios que some-os ou multiplique-os, no caso se o usu&#225;rio digitar &#39;s&#39;, ele far&#225; a soma, sen&#227;o ele apertar&#225; &#39;m&#39;, que multiplicar&#225; os n&#250;meros.&quot;,\r\n            &quot;answers&quot;: [\r\n                {\r\n                    &quot;answer&quot;: &quot;import random\\nn1 = random.randint(0, 100)\\nn2 = random.randint(0, 100)\\ns = n1 + n2\\nm = n1 * n2\\nresultado = (input(&#39;Digite (s) para somar dois valores ou (m) para mutiplicar: &#39;))\\nif (resultado == &#39;s&#39;):\\n    print(f&#39;{n1} + {n2} = {s}&#39;)\\nelse : #(m)\\n    print(f&#39;{n1} * {n2} = {m}&#39;)&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;import javax.swing.*;\\nimport java.util.Random;\\npublic class p4 {\\n    public static void main (String[] args) {\\n        Random r =  new Random();\\n        int s, m, resultado;\\n        int n1 = r.nextInt(99)+1;\\n        int n2 = r.nextInt(99)+1;\\n        s = n1 + n2;\\n        m = n1 * n2;\\n        resultado = Integer.parseInt(JOptionPane.showInputDialog(null, &#39;Digite 1 para somar dois valores ou 2 para multiplic&#225;-los&#39;));\\n        if (resultado == 1) {\\n            JOptionPane.showMessageDialog(null, &#39;A soma de &#39; + n1 + &#39; + &#39; + n2 + &#39; &#233; igual a &#39; + s);\\n        }\\n        else {\\n            JOptionPane.showMessageDialog(null, &#39;O produto de &#39; + n1 + &#39; * &#39; + n2 + &#39; &#233; igual a&#39; + m);\\n        }\\n    }\\n}&quot;\r\n                     \r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;import random\\n\\nn = 10\\nfor i in range(100):\\n    print(n)&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;import numpy\\n\\ni = 150\\nif i = True\\n   print(&#39;Acertou!&#39;)&quot;\r\n                }\r\n            ],\r\n            &quot;certa&quot;: &quot;A&quot;\r\n        },\r\n        {\r\n            &quot;question8&quot;: &quot;Quantas vezes a letra a &#233; impressa pelos seguintes comandos?\\n\\nfrase = &#39;Vou arrasar na prova!&#39;\\nfor i in range(len(frase)):\\n    if i % 2 == 0:\\n        print(frase[i])&quot;,\r\n            &quot;answers&quot;: [\r\n                {\r\n                    &quot;answer&quot;: &quot;0&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;1&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;2&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;3&quot;\r\n                }\r\n            ],\r\n            &quot;certa&quot;: &quot;B&quot;\r\n        },\r\n        {\r\n            &quot;question9&quot;: &quot;O que &#233; impresso pelo trecho de c&#243;digo a seguir?\\n uma_lista = [1, 3, 5]\\nprint(uma_lista * 3)&quot;,\r\n            \r\n            &quot;answers&quot;: [\r\n                {\r\n                    &quot;answer&quot;: &quot;[1, 3, 5, 1, 3, 5, 1, 3, 5]&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;[1, 1, 1, 3, 3, 3, 5, 5, 5]&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;[3, 9, 15]&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;[1, 3, 5, 3]&quot;\r\n                }\r\n            ],\r\n            &quot;certa&quot;: &quot;A&quot;\r\n        },\r\n        {\r\n            &quot;question10&quot;: &quot;Qual valor &#233; exibido pelo seguinte comando: \\nprint(int(53.785))&quot;,\r\n            &quot;answers&quot;: [\r\n                {\r\n                    &quot;answer&quot;: &quot;Nada, &#233; produzido um erro de execu&#231;&#227;o.&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;53&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;54&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;53.785&quot;\r\n                }\r\n            ],\r\n            &quot;certa&quot;: &quot;B&quot;\r\n        },\r\n        {\r\n            &quot;question11&quot;: &quot;O que o seguinte c&#243;digo imprime? \\nif (4 + 5 == 10):\\n    print(&#39;Verdadeiro&#39;)\\nelse:\\n    print(&#39;Falso&#39;)&quot;,\r\n            &quot;answers&quot;: [\r\n                {\r\n                    &quot;answer&quot;: &quot;Nada&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;Verdadeiro\\nFalso&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;Verdadeiro&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;Falso&quot;\r\n                }\r\n            ],\r\n            &quot;certa&quot;: &quot;D&quot;\r\n        },\r\n        {\r\n            &quot;question12&quot;: &quot;O que o seguinte c&#243;digo imprimir&#225; se x = 3, y = 5 e z = 2? \\nif x &lt; y and x &lt; z:\\n    print(&#39;a&#39;)\\nelif y &lt; x and y &lt; z:\\n    print(&#39;b&#39;)\\nelse:\\n    print(&#39;c&#39;)&quot;,\r\n            &quot;answers&quot;: [\r\n                {\r\n                    &quot;answer&quot;: &quot;a&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;b&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;c&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;Nada&quot;\r\n                }\r\n            ],\r\n            &quot;certa&quot;: &quot;C&quot;\r\n        },\r\n        {\r\n            &quot;question13&quot;: &quot;O tipo atribu&#237;do a vari&#225;vel x ser&#225;: \\nx = input(&#39;x: &#39;)&quot;,\r\n            &quot;answers&quot;: [\r\n                {\r\n                    &quot;answer&quot;: &quot;String&quot;,\r\n                    &quot;correct&quot;: true\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;Int&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;Float&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;Boolean&quot;\r\n                }\r\n            ],\r\n            &quot;certa&quot;: &quot;A&quot;\r\n        },\r\n        {\r\n            &quot;question14&quot;: &quot;O que &#233; impresso pelo trecho de c&#243;digo a seguir?\\n\\numa_lista = [3, 67, &#39;gato&#39;, [56, 57, &#39;gato&#39;], [ ], 3.14, False]\\nprint(3.14 in uma_lista, end=&#39; &#39;)\\nprint(57 in uma_lista)&quot;,\r\n            &quot;answers&quot;: [\r\n                {\r\n                    &quot;answer&quot;: &quot;False False&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;False True&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;True False&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;True True&quot;\r\n                }\r\n            ],\r\n            &quot;certa&quot;: &quot;C&quot;\r\n        },\r\n        {\r\n            &quot;question15&quot;: &quot;Na linguagem de programa&#231;&#227;o Python, o m&#233;todo que permite verificar se uma string come&#231;a com alguns caracteres &#233; o:&quot;,\r\n            &quot;answers&quot;: [\r\n                {\r\n                    &quot;answer&quot;: &quot;return&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;startswith&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;len&quot;\r\n                },\r\n                {\r\n                    &quot;answer&quot;: &quot;count&quot;\r\n                }\r\n            ],\r\n            &quot;certa&quot;: &quot;B&quot;\r\n        }\r\n    ]\r\n    \r\n}\r\n```\r\n\r\nI haven&#39;t found the best way to rescue this data yet, so if anyone knows any way to rescue this data in an efficient and optimized way it will be of great help.\r\n\r\nBut I am not able to pull up a particular question or answers, I have only been able to pull that so far: **{&quot;answers&quot;:[{&quot;answer&quot;:&quot;&amp;Alexandre&quot;},{&quot;answer&quot;:&quot;65Alexandre&quot;},{&quot;answer&quot;:&quot;professor alexandre&quot;},{&quot;answer&quot;:&quot; profAlexandre&quot;}],&quot;question1&quot;:&quot;Nos exemplos abaixo, pode-se nomear vari&#225;veis:&quot;,&quot;certa&quot;:&quot;D&quot;}** I used iterator to get this informations!\r\n\r\nThanks,\r\nRafael Bidetti","title":"Use a json in a java class","body":"<p>I am trying to use this JSON data in a java class to retrieve data like: question1 and its answers:</p>\n<pre><code>    &quot;questions&quot;: [\n        {\n            &quot;question1&quot;: &quot;Nos exemplos abaixo, pode-se nomear variáveis:&quot;,\n            &quot;answers&quot;: [\n                {\n                    &quot;answer1&quot;: &quot;&amp;Alexandre&quot;\n                },\n                {\n                    &quot;answer2&quot;: &quot;65Alexandre&quot;\n                },\n                {\n                    &quot;answer3&quot;: &quot;professor alexandre&quot;\n                },\n                {\n                    &quot;answer4&quot;: &quot; profAlexandre&quot;\n                }\n            ],\n            &quot;certa&quot;: &quot;D&quot;\n        },\n        {\n            &quot;question2&quot;: &quot;Como é possível adicionar um comentário ao código em Python? &quot;,\n            &quot;answers&quot;: [\n                {\n                    &quot;answer&quot;: &quot;//&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;#&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;/&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;--&quot;\n                }\n            ],\n            &quot;certa&quot;: &quot;B&quot;\n        },\n        {\n            &quot;question3&quot;: &quot;Assinale a alternativa que demonstre o código que leia dois valores e some-os, em python :&quot;,\n            &quot;answers&quot;: [\n                {\n                    &quot;answer&quot;: &quot;x1 = int(input('Digite um valor: '))\\nx2 = int(input('Digite outro valor: '))\\np = x1 + x2\\nprint('A some entre {} e {}, resulta em {}'.format(x1, x2, p)) &quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;x1 = input('Digite um valor: '))\\nx2 = input('Digite outro valor: '))\\np = x1 + x2\\nprint('A some entre {} e {}, resulta em {}'.format(x1, x2, p))&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;public class x {\\n    public static void main(String args[]) {\\n        System.out.println('Olá Mundo!');\\n    }\\n}&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;public class perguntas {\\n    public static void main(String args[]) {\\n        int x1;\\n        int x2;\\n        int p;\\n        p = x1 + x2;\\n        System.out.println(p);\\n    }\\n }&quot;\n                }\n            ],\n            &quot;certa&quot;: &quot;A&quot;\n        },\n        {\n            &quot;question4&quot;: &quot;Escolha a alternativa que demonstre o código, em python, que leia um número e escreva seu dobro e seu triplo :&quot;,\n            &quot;answers&quot;: [\n                {\n                    &quot;answer&quot;: &quot;n = int(input('Digite um valor: '))\\ndobro = n * 2\\ntriplo = n * 3\\nprint('O dobro do valor digitado equivale a {}'.format(dobro))\\nprint('O triplo do valor escrito vale {}'.format(triplo))&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;n = str(input('Digite um valor: '))\\ndobro = n * 4\\n triplo = n * 7\\nprint('O dobro do valor digitado equivale a {}'.format(dobro))\\nprint('O triplo do valor escrito vale {}'.format(triplo))&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;import javax.swing.JOptionPane;\\npublic class perguntas2 {\\n    public static void main (String args[]) {\\n        int num;\\n        num = Integer.parseInt(JOptionPane.showInputDialog(null, 'Digite um valor: '));\\n        int dobro;\\n        int triplo;\\n        dobro = num * 2;        \\n triplo = num * 3;\\n       JOptionPane.showMessageDialog(null, 'O dobro do número digitado é '  + dobro + 'e o triplo é ' + triplo);\\n    }\\n } &quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;public class olamund {\\n    public static  void main (String args[]){\\n        int n1;\\n        int n2;\\n        System.out.println('Olá mundo!'); \\n    }\\n}&quot;\n                }\n            ],\n            &quot;certa&quot;: &quot;A&quot;\n        },\n        {\n            &quot;question5&quot;: &quot;Como será mostrado o resultado do código em Python a seguir: \\np = float(input('Qual é o preço do produto? R$ ')) \\nd = p-(p*5/100) \\nprint('O produto que custava R${:.2f}, na promoção com desconto de 5% vai custar R${:.2f}'.format(p,d)) &quot;,\n            &quot;answers&quot;: [\n                {\n                    &quot;answer&quot;: &quot;Não mostrará nenhum resultado  &quot;\n                    \n                },\n                {\n                    &quot;answer&quot;: &quot;Um resultado com 3 números após o ponto  &quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;Um resultado com 2 números após o ponto &quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;O cálculo errado do desconto&quot;\n                }\n            ],\n            &quot;certa&quot;: &quot;C&quot;\n        },\n        {\n            &quot;question6&quot;: &quot;Qual será o resultado do código em Python a seguir: \\nnome = input('Qual o seu nome? ') \\nprint(nome) &quot;,\n            &quot;answers&quot;: [\n                {\n                    &quot;answer&quot;: &quot;O código não irá funcionar pois falta “;” no final de cada linha.  &quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;O código não irá mostrar o nome digitado pelo usuário.  &quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;O usuário não conseguira digitar o nome. &quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;O código irá mostrar o nome digitado pelo usuário.  &quot;\n                }\n            ],\n            &quot;certa&quot;: &quot;D&quot;\n        },\n        {\n            &quot;question7&quot;: &quot;Assinale a alternativa que possui p código, em python, que escolha dois números aleatórios que some-os ou multiplique-os, no caso se o usuário digitar 's', ele fará a soma, senão ele apertará 'm', que multiplicará os números.&quot;,\n            &quot;answers&quot;: [\n                {\n                    &quot;answer&quot;: &quot;import random\\nn1 = random.randint(0, 100)\\nn2 = random.randint(0, 100)\\ns = n1 + n2\\nm = n1 * n2\\nresultado = (input('Digite (s) para somar dois valores ou (m) para mutiplicar: '))\\nif (resultado == 's'):\\n    print(f'{n1} + {n2} = {s}')\\nelse : #(m)\\n    print(f'{n1} * {n2} = {m}')&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;import javax.swing.*;\\nimport java.util.Random;\\npublic class p4 {\\n    public static void main (String[] args) {\\n        Random r =  new Random();\\n        int s, m, resultado;\\n        int n1 = r.nextInt(99)+1;\\n        int n2 = r.nextInt(99)+1;\\n        s = n1 + n2;\\n        m = n1 * n2;\\n        resultado = Integer.parseInt(JOptionPane.showInputDialog(null, 'Digite 1 para somar dois valores ou 2 para multiplicá-los'));\\n        if (resultado == 1) {\\n            JOptionPane.showMessageDialog(null, 'A soma de ' + n1 + ' + ' + n2 + ' é igual a ' + s);\\n        }\\n        else {\\n            JOptionPane.showMessageDialog(null, 'O produto de ' + n1 + ' * ' + n2 + ' é igual a' + m);\\n        }\\n    }\\n}&quot;\n                     \n                },\n                {\n                    &quot;answer&quot;: &quot;import random\\n\\nn = 10\\nfor i in range(100):\\n    print(n)&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;import numpy\\n\\ni = 150\\nif i = True\\n   print('Acertou!')&quot;\n                }\n            ],\n            &quot;certa&quot;: &quot;A&quot;\n        },\n        {\n            &quot;question8&quot;: &quot;Quantas vezes a letra a é impressa pelos seguintes comandos?\\n\\nfrase = 'Vou arrasar na prova!'\\nfor i in range(len(frase)):\\n    if i % 2 == 0:\\n        print(frase[i])&quot;,\n            &quot;answers&quot;: [\n                {\n                    &quot;answer&quot;: &quot;0&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;1&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;2&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;3&quot;\n                }\n            ],\n            &quot;certa&quot;: &quot;B&quot;\n        },\n        {\n            &quot;question9&quot;: &quot;O que é impresso pelo trecho de código a seguir?\\n uma_lista = [1, 3, 5]\\nprint(uma_lista * 3)&quot;,\n            \n            &quot;answers&quot;: [\n                {\n                    &quot;answer&quot;: &quot;[1, 3, 5, 1, 3, 5, 1, 3, 5]&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;[1, 1, 1, 3, 3, 3, 5, 5, 5]&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;[3, 9, 15]&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;[1, 3, 5, 3]&quot;\n                }\n            ],\n            &quot;certa&quot;: &quot;A&quot;\n        },\n        {\n            &quot;question10&quot;: &quot;Qual valor é exibido pelo seguinte comando: \\nprint(int(53.785))&quot;,\n            &quot;answers&quot;: [\n                {\n                    &quot;answer&quot;: &quot;Nada, é produzido um erro de execução.&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;53&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;54&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;53.785&quot;\n                }\n            ],\n            &quot;certa&quot;: &quot;B&quot;\n        },\n        {\n            &quot;question11&quot;: &quot;O que o seguinte código imprime? \\nif (4 + 5 == 10):\\n    print('Verdadeiro')\\nelse:\\n    print('Falso')&quot;,\n            &quot;answers&quot;: [\n                {\n                    &quot;answer&quot;: &quot;Nada&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;Verdadeiro\\nFalso&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;Verdadeiro&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;Falso&quot;\n                }\n            ],\n            &quot;certa&quot;: &quot;D&quot;\n        },\n        {\n            &quot;question12&quot;: &quot;O que o seguinte código imprimirá se x = 3, y = 5 e z = 2? \\nif x &lt; y and x &lt; z:\\n    print('a')\\nelif y &lt; x and y &lt; z:\\n    print('b')\\nelse:\\n    print('c')&quot;,\n            &quot;answers&quot;: [\n                {\n                    &quot;answer&quot;: &quot;a&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;b&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;c&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;Nada&quot;\n                }\n            ],\n            &quot;certa&quot;: &quot;C&quot;\n        },\n        {\n            &quot;question13&quot;: &quot;O tipo atribuído a variável x será: \\nx = input('x: ')&quot;,\n            &quot;answers&quot;: [\n                {\n                    &quot;answer&quot;: &quot;String&quot;,\n                    &quot;correct&quot;: true\n                },\n                {\n                    &quot;answer&quot;: &quot;Int&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;Float&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;Boolean&quot;\n                }\n            ],\n            &quot;certa&quot;: &quot;A&quot;\n        },\n        {\n            &quot;question14&quot;: &quot;O que é impresso pelo trecho de código a seguir?\\n\\numa_lista = [3, 67, 'gato', [56, 57, 'gato'], [ ], 3.14, False]\\nprint(3.14 in uma_lista, end=' ')\\nprint(57 in uma_lista)&quot;,\n            &quot;answers&quot;: [\n                {\n                    &quot;answer&quot;: &quot;False False&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;False True&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;True False&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;True True&quot;\n                }\n            ],\n            &quot;certa&quot;: &quot;C&quot;\n        },\n        {\n            &quot;question15&quot;: &quot;Na linguagem de programação Python, o método que permite verificar se uma string começa com alguns caracteres é o:&quot;,\n            &quot;answers&quot;: [\n                {\n                    &quot;answer&quot;: &quot;return&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;startswith&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;len&quot;\n                },\n                {\n                    &quot;answer&quot;: &quot;count&quot;\n                }\n            ],\n            &quot;certa&quot;: &quot;B&quot;\n        }\n    ]\n    \n}\n</code></pre>\n<p>I haven't found the best way to rescue this data yet, so if anyone knows any way to rescue this data in an efficient and optimized way it will be of great help.</p>\n<p>But I am not able to pull up a particular question or answers, I have only been able to pull that so far: <strong>{&quot;answers&quot;:[{&quot;answer&quot;:&quot;&amp;Alexandre&quot;},{&quot;answer&quot;:&quot;65Alexandre&quot;},{&quot;answer&quot;:&quot;professor alexandre&quot;},{&quot;answer&quot;:&quot; profAlexandre&quot;}],&quot;question1&quot;:&quot;Nos exemplos abaixo, pode-se nomear variáveis:&quot;,&quot;certa&quot;:&quot;D&quot;}</strong> I used iterator to get this informations!</p>\n<p>Thanks,\nRafael Bidetti</p>\n"},{"tags":["java","maven","sts"],"comments":[{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1653580210,"post_id":72392903,"comment_id":127890808,"body_markdown":"Could you add the important part of your pom.xml please, otherwise we can&#39;t help you.","body":"Could you add the important part of your pom.xml please, otherwise we can&#39;t help you."},{"owner":{"account_id":25024408,"reputation":11,"user_id":18882778,"display_name":"Ritu"},"score":1,"creation_date":1653634351,"post_id":72392903,"comment_id":127902679,"body_markdown":"hi @ThiloSchwarz i resolved the error this happens becaiuse settings.xml is pointing to wrong location","body":"hi @ThiloSchwarz i resolved the error this happens becaiuse settings.xml is pointing to wrong location"}],"owner":{"account_id":25024408,"reputation":11,"user_id":18882778,"display_name":"Ritu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":691,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653572918,"creation_date":1653572918,"question_id":72392903,"body_markdown":"whenever i am importing an application into my STS workspace it is showing the error\r\n\r\ni did mvn clean install same error i got, tried with maven update it is also failing and did google stuff also. There they are saying to add a relative path because parent is pointinf to artifact ID which is not present in my local.\r\n\r\n[INFO] Scanning for projects...\r\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\r\n[FATAL] Non-resolvable parent POM for com.test.tdpa:tdpa-tap-user-web:2.1.0-SNAPSHOT: Could not find artifact com.test.tpa:ap-web-parent-pom:pom:0.0.1-SNAPSHOT and &#39;parent.relativePath&#39; points at wrong local POM @ line 12, column 10\r\n @ \r\n[ERROR] The build could not read 1 project -&gt; [Help 1]\r\n[ERROR]   \r\n[ERROR]   The project com.test.tpa:tpa-ap-user-web:2.1.0-SNAPSHOT (C:\\Users\\rrajput8\\git\\tpa-ap-user-web\\pom.xml) has 1 error\r\n[ERROR]     Non-resolvable parent POM for com.test.tpa:tpa-ap-user-web:2.1.0-SNAPSHOT: Could not find artifact com.test.tpa:ap-web-parent-pom:pom:0.0.1-SNAPSHOT and &#39;parent.relativePath&#39; points at wrong local POM @ line 12, column 10 -&gt; [Help 2]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\r\n[ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException\r\n\r\n","title":"Non-resolvable parent POM in pom.xml","body":"<p>whenever i am importing an application into my STS workspace it is showing the error</p>\n<p>i did mvn clean install same error i got, tried with maven update it is also failing and did google stuff also. There they are saying to add a relative path because parent is pointinf to artifact ID which is not present in my local.</p>\n<p>[INFO] Scanning for projects...\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\n[FATAL] Non-resolvable parent POM for com.test.tdpa:tdpa-tap-user-web:2.1.0-SNAPSHOT: Could not find artifact com.test.tpa:ap-web-parent-pom:pom:0.0.1-SNAPSHOT and 'parent.relativePath' points at wrong local POM @ line 12, column 10\n@\n[ERROR] The build could not read 1 project -&gt; [Help 1]\n[ERROR]<br />\n[ERROR]   The project com.test.tpa:tpa-ap-user-web:2.1.0-SNAPSHOT (C:\\Users\\rrajput8\\git\\tpa-ap-user-web\\pom.xml) has 1 error\n[ERROR]     Non-resolvable parent POM for com.test.tpa:tpa-ap-user-web:2.1.0-SNAPSHOT: Could not find artifact com.test.tpa:ap-web-parent-pom:pom:0.0.1-SNAPSHOT and 'parent.relativePath' points at wrong local POM @ line 12, column 10 -&gt; [Help 2]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException</a>\n[ERROR] [Help 2] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException</a></p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653571848,"creation_date":1653571848,"answer_id":72392640,"question_id":72391974,"body_markdown":"**Try this, it worked for me!**\r\n\r\n    mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Dspring.profiles.active=something&quot;\r\n\r\n**Check if this article throws some light !** \r\n\r\nhttps://stackoverflow.com/questions/36217949/maven-spring-boot-run-debug-with-arguments ","title":"Springboot, use application-{profile}.properties","body":"<p><strong>Try this, it worked for me!</strong></p>\n<pre><code>mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Dspring.profiles.active=something&quot;\n</code></pre>\n<p><strong>Check if this article throws some light !</strong></p>\n<p><a href=\"https://stackoverflow.com/questions/36217949/maven-spring-boot-run-debug-with-arguments\">Maven spring boot run debug with arguments</a></p>\n"},{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653572780,"creation_date":1653572207,"answer_id":72392726,"question_id":72391974,"body_markdown":"Yeah, if you&#39;re running with the spring-boot plugin, you have to pass the profile with `-Dspring-boot.run.profiles`, try \r\n\r\n    mvn spring-boot:run -Dspring-boot.run.profiles=local\r\n\r\n","title":"Springboot, use application-{profile}.properties","body":"<p>Yeah, if you're running with the spring-boot plugin, you have to pass the profile with <code>-Dspring-boot.run.profiles</code>, try</p>\n<pre><code>mvn spring-boot:run -Dspring-boot.run.profiles=local\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11372996,"reputation":1224,"user_id":8635168,"display_name":"samivic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653572232,"creation_date":1653572232,"answer_id":72392735,"question_id":72391974,"body_markdown":"In the **same path** as the existing **application.properties** file, you can create 2 environment files:\r\n\r\n    application-local.properties\r\n    application-server.properties\r\n\r\nto call local you can run this command:\r\n\r\n    $ java –jar -Dspring.profiles.active=local app.jar\r\n\r\nor, you can directly call it in the application.properties file:\r\n\r\n    spring.profiles.active=local\r\n\r\n","title":"Springboot, use application-{profile}.properties","body":"<p>In the <strong>same path</strong> as the existing <strong>application.properties</strong> file, you can create 2 environment files:</p>\n<pre><code>application-local.properties\napplication-server.properties\n</code></pre>\n<p>to call local you can run this command:</p>\n<pre><code>$ java –jar -Dspring.profiles.active=local app.jar\n</code></pre>\n<p>or, you can directly call it in the application.properties file:</p>\n<pre><code>spring.profiles.active=local\n</code></pre>\n"}],"owner":{"account_id":3649743,"reputation":1729,"user_id":3042207,"accept_rate":42,"display_name":"Fabrizio Stellato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1350,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72392726,"answer_count":3,"score":2,"last_activity_date":1653572780,"creation_date":1653568830,"question_id":72391974,"body_markdown":"I have created 2 files under src/main/resources:\r\n\r\n - application.properties\r\n - application-local.properties\r\n\r\nThe first one has properties that take values from env variables, while the latter has fixed values.\r\n\r\nAccording to specific [here][1], I&#39;ve launched spring boot in such way:\r\n\r\n    mvn spring-boot:run -Dspring.profiles.active=local\r\n\r\nHowever no effects are produced and application-local.properties seems to be ignored.\r\n\r\nAny hints?\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config","title":"Springboot, use application-{profile}.properties","body":"<p>I have created 2 files under src/main/resources:</p>\n<ul>\n<li>application.properties</li>\n<li>application-local.properties</li>\n</ul>\n<p>The first one has properties that take values from env variables, while the latter has fixed values.</p>\n<p>According to specific <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">here</a>, I've launched spring boot in such way:</p>\n<pre><code>mvn spring-boot:run -Dspring.profiles.active=local\n</code></pre>\n<p>However no effects are produced and application-local.properties seems to be ignored.</p>\n<p>Any hints?</p>\n"},{"tags":["java","android","threetenbp","threetenabp"],"answers":[{"tags":[],"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1483606852,"creation_date":1483606852,"answer_id":41480812,"question_id":41480485,"body_markdown":"Well, one straightforward way is to get milliseconds since epoch and create the Date from that:\r\n\r\n    long epochMilli = zonedDateTime.toInstant().toEpochMilli();\r\n    Date date = new Date(epochMilli);\r\n\r\nFeel free to point out if there&#39;s some preferable way.","title":"How to convert ZonedDateTime/OffsetDateTime to Date using ThreeTenABP?","body":"<p>Well, one straightforward way is to get milliseconds since epoch and create the Date from that:</p>\n\n<pre><code>long epochMilli = zonedDateTime.toInstant().toEpochMilli();\nDate date = new Date(epochMilli);\n</code></pre>\n\n<p>Feel free to point out if there's some preferable way.</p>\n"},{"tags":[],"owner":{"account_id":17393,"reputation":61637,"user_id":38896,"accept_rate":80,"display_name":"JodaStephen"},"down_vote_count":1,"up_vote_count":20,"is_accepted":true,"score":19,"last_activity_date":1540837323,"creation_date":1483638224,"answer_id":41491442,"question_id":41480485,"body_markdown":"See `DateTimeUtils` which handles the methods added to classes like `java.util.Date`:\r\nhttp://www.threeten.org/threetenbp/apidocs/org/threeten/bp/DateTimeUtils.html\r\n\r\nEdit: using that, the complete code would be:\r\n\r\n    DateTimeUtils.toDate(zonedDateTime.toInstant())","title":"How to convert ZonedDateTime/OffsetDateTime to Date using ThreeTenABP?","body":"<p>See <code>DateTimeUtils</code> which handles the methods added to classes like <code>java.util.Date</code>:\n<a href=\"http://www.threeten.org/threetenbp/apidocs/org/threeten/bp/DateTimeUtils.html\" rel=\"noreferrer\">http://www.threeten.org/threetenbp/apidocs/org/threeten/bp/DateTimeUtils.html</a></p>\n\n<p>Edit: using that, the complete code would be:</p>\n\n<pre><code>DateTimeUtils.toDate(zonedDateTime.toInstant())\n</code></pre>\n"}],"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64200,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":41491442,"answer_count":2,"score":27,"last_activity_date":1653572532,"creation_date":1483605634,"question_id":41480485,"body_markdown":"Using the [ThreeTen Android Backport][1] library, what is the simplest way to convert a `ZonedDateTime` or `OffsetDateTime` into an old-school `java.util.Date` instance?\r\n\r\nIf I had full Java 8 libs at my disposal, this of course would be the way to do it ([as in this question][2]):\r\n\r\n    Date.from(zonedDateTime.toInstant());\r\n\r\nBut I cannot use that on Android; specifically [`Date.from(Instant instant)`][3] is missing.\r\n\r\n\r\n  [1]: https://github.com/JakeWharton/ThreeTenABP\r\n  [2]: https://stackoverflow.com/questions/32274369/how-to-convert-zoneddatetime-to-date\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#from-java.time.Instant-","title":"How to convert ZonedDateTime/OffsetDateTime to Date using ThreeTenABP?","body":"<p>Using the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\">ThreeTen Android Backport</a> library, what is the simplest way to convert a <code>ZonedDateTime</code> or <code>OffsetDateTime</code> into an old-school <code>java.util.Date</code> instance?</p>\n\n<p>If I had full Java 8 libs at my disposal, this of course would be the way to do it (<a href=\"https://stackoverflow.com/questions/32274369/how-to-convert-zoneddatetime-to-date\">as in this question</a>):</p>\n\n<pre><code>Date.from(zonedDateTime.toInstant());\n</code></pre>\n\n<p>But I cannot use that on Android; specifically <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#from-java.time.Instant-\" rel=\"noreferrer\"><code>Date.from(Instant instant)</code></a> is missing.</p>\n"},{"tags":["java","unit-testing","junit","environment-variables"],"comments":[{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":1,"creation_date":1653571628,"post_id":72392532,"comment_id":127887477,"body_markdown":"There&#39;s nothing really Lambda or AWS specific here. You just need to set that environment variable to a different value on your system that is running the unit test. If you want to do that in code, instead of in the script/command that you use to run your tests, then look at this: https://stackoverflow.com/questions/318239/how-do-i-set-environment-variables-from-java","body":"There&#39;s nothing really Lambda or AWS specific here. You just need to set that environment variable to a different value on your system that is running the unit test. If you want to do that in code, instead of in the script/command that you use to run your tests, then look at this: <a href=\"https://stackoverflow.com/questions/318239/how-do-i-set-environment-variables-from-java\" title=\"how do i set environment variables from java\">stackoverflow.com/questions/318239/&hellip;</a>"},{"owner":{"account_id":9030717,"reputation":706,"user_id":6728433,"display_name":"S.S."},"score":0,"creation_date":1653571812,"post_id":72392532,"comment_id":127887540,"body_markdown":"Good point, thanks for the link! I found the answer here: https://stackoverflow.com/questions/8168884/how-to-test-code-dependent-on-environment-variables-using-junit (was linked to in the link you provided)","body":"Good point, thanks for the link! I found the answer here: <a href=\"https://stackoverflow.com/questions/8168884/how-to-test-code-dependent-on-environment-variables-using-junit\" title=\"how to test code dependent on environment variables using junit\">stackoverflow.com/questions/8168884/&hellip;</a> (was linked to in the link you provided)"},{"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1653572889,"post_id":72392532,"comment_id":127887979,"body_markdown":"Does this answer your question? [How to test code dependent on environment variables using JUnit?](https://stackoverflow.com/questions/8168884/how-to-test-code-dependent-on-environment-variables-using-junit)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8168884/how-to-test-code-dependent-on-environment-variables-using-junit\">How to test code dependent on environment variables using JUnit?</a>"}],"answers":[{"tags":[],"owner":{"account_id":9030717,"reputation":706,"user_id":6728433,"display_name":"S.S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653571868,"creation_date":1653571868,"answer_id":72392643,"question_id":72392532,"body_markdown":"As Mark pointed out in his comment, my question isn&#39;t specific to AWS or Lambda. \r\n\r\nIf you want to set the value of environment variable specifically for testing, this post explains how to do it: https://stackoverflow.com/questions/8168884/how-to-test-code-dependent-on-environment-variables-using-junit","title":"Overwrite environment variable in Java Lambda function","body":"<p>As Mark pointed out in his comment, my question isn't specific to AWS or Lambda.</p>\n<p>If you want to set the value of environment variable specifically for testing, this post explains how to do it: <a href=\"https://stackoverflow.com/questions/8168884/how-to-test-code-dependent-on-environment-variables-using-junit\">How to test code dependent on environment variables using JUnit?</a></p>\n"}],"owner":{"account_id":9030717,"reputation":706,"user_id":6728433,"display_name":"S.S."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2035,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72392643,"answer_count":1,"score":1,"last_activity_date":1653572389,"creation_date":1653571293,"question_id":72392532,"body_markdown":"I have a class for my AWS Lambda handler, and it relies on environment variables for things like what region, bucket name, etc. For example:\r\n\r\n```\r\npublic class SomethingCoolLambda {\r\n  @NonNull private final String region = System.getenv(&quot;AWS_REGION&quot;);\r\n  @NonNull private final String outputBucket = System.getenv(&quot;OUTPUT_BUCKET&quot;);\r\n\r\n  public void eventHandler(@NonNull final ScheduledEvent event, @NonNull final Context context) {\r\n\r\n      // Do cool stuff here, for example:\r\n\r\n     final CoolQuery coolQuery =\r\n        CoolQuery.builder()\r\n            .targetBucket(outputBucket)\r\n            .sqsClient(SqsClient.builder().region(Region.of(region)).build())\r\n            .build();\r\n  }\r\n}\r\n  \r\n```\r\n\r\nThis works great. The problem is I&#39;m writing an integration test and the test needs to use a different bucket instead of the live bucket. \r\n\r\nIs there a way to instantiate or trigger `SomethingCoolLambda()` in a way where I can pass in an alternative bucket name instead of relying on the provided environment variable&#39;s value?\r\n\r\nI want to avoid modifying the `SomethingCoolLambda` class, if possible.","title":"Overwrite environment variable in Java Lambda function","body":"<p>I have a class for my AWS Lambda handler, and it relies on environment variables for things like what region, bucket name, etc. For example:</p>\n<pre><code>public class SomethingCoolLambda {\n  @NonNull private final String region = System.getenv(&quot;AWS_REGION&quot;);\n  @NonNull private final String outputBucket = System.getenv(&quot;OUTPUT_BUCKET&quot;);\n\n  public void eventHandler(@NonNull final ScheduledEvent event, @NonNull final Context context) {\n\n      // Do cool stuff here, for example:\n\n     final CoolQuery coolQuery =\n        CoolQuery.builder()\n            .targetBucket(outputBucket)\n            .sqsClient(SqsClient.builder().region(Region.of(region)).build())\n            .build();\n  }\n}\n  \n</code></pre>\n<p>This works great. The problem is I'm writing an integration test and the test needs to use a different bucket instead of the live bucket.</p>\n<p>Is there a way to instantiate or trigger <code>SomethingCoolLambda()</code> in a way where I can pass in an alternative bucket name instead of relying on the provided environment variable's value?</p>\n<p>I want to avoid modifying the <code>SomethingCoolLambda</code> class, if possible.</p>\n"},{"tags":["java","checkstyle"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1653436204,"post_id":72370542,"comment_id":127851155,"body_markdown":"IIRC there’s nothing for this by default; perhaps someone has written one.","body":"IIRC there’s nothing for this by default; perhaps someone has written one."}],"answers":[{"tags":[],"owner":{"account_id":156734,"reputation":26697,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653572040,"creation_date":1653524543,"answer_id":72385425,"question_id":72370542,"body_markdown":"I ended up adding a simple `RegexpMultiline` module which should work for now thought it may not catch all cases:\r\n\r\n```xml\r\n&lt;!-- Enforces blank lines after block-closing curly braces (with exceptions). --&gt;\r\n&lt;module name=&quot;RegexpMultiline&quot;&gt;\r\n    &lt;property name=&quot;format&quot; value=&quot;}\\n(?![ \\t]*(else|case|catch|finally|[})]|\\*)|$)&quot;/&gt;\r\n&lt;/module&gt;\r\n\r\n```","title":"Checkstyle: enforce empty line after close curly / before return","body":"<p>I ended up adding a simple <code>RegexpMultiline</code> module which should work for now thought it may not catch all cases:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- Enforces blank lines after block-closing curly braces (with exceptions). --&gt;\n&lt;module name=&quot;RegexpMultiline&quot;&gt;\n    &lt;property name=&quot;format&quot; value=&quot;}\\n(?![ \\t]*(else|case|catch|finally|[})]|\\*)|$)&quot;/&gt;\n&lt;/module&gt;\n\n</code></pre>\n"}],"owner":{"account_id":156734,"reputation":26697,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72385425,"answer_count":1,"score":1,"last_activity_date":1653572040,"creation_date":1653435630,"question_id":72370542,"body_markdown":"Looking for a Checkstyle rule to enforce empty lines in some situations:\r\n\r\n**Empty Line After Close Curly**\r\n\r\n```java\r\nif (something)\r\n{\r\n    // not important\r\n}\r\ndoSomethingElse();\r\n```\r\n\r\n**Empty Line Before Return**\r\n\r\n```java\r\nfinal var result = doSomething();\r\nreturn result;\r\n```\r\n","title":"Checkstyle: enforce empty line after close curly / before return","body":"<p>Looking for a Checkstyle rule to enforce empty lines in some situations:</p>\n<p><strong>Empty Line After Close Curly</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>if (something)\n{\n    // not important\n}\ndoSomethingElse();\n</code></pre>\n<p><strong>Empty Line Before Return</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>final var result = doSomething();\nreturn result;\n</code></pre>\n"},{"tags":["java","linux","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1557927739,"post_id":56147352,"comment_id":98930986,"body_markdown":"Please update to 2.0.15, and share any log messages you get. Consider also sharing your .pdfbox.cache file. (in your user directory)","body":"Please update to 2.0.15, and share any log messages you get. Consider also sharing your .pdfbox.cache file. (in your user directory)"},{"owner":{"account_id":1347084,"reputation":130,"user_id":1287612,"display_name":"Gentleman"},"score":1,"creation_date":1558447001,"post_id":56147352,"comment_id":99098576,"body_markdown":"Sorry, It was my mistake. I was using 1.8.* version.","body":"Sorry, It was my mistake. I was using 1.8.* version."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1558451312,"post_id":56147352,"comment_id":99101419,"body_markdown":"The 1.8 version had many flaws with fonts. Which is why that was much improved in 2.0.*.","body":"The 1.8 version had many flaws with fonts. Which is why that was much improved in 2.0.*."}],"owner":{"account_id":1347084,"reputation":130,"user_id":1287612,"display_name":"Gentleman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653571798,"creation_date":1557916732,"question_id":56147352,"body_markdown":"I am having an issue while converting PDF to Tiff on linux system(Windows is working fine), I feel few fonts are not loaded/found.\r\n\r\nI am attaching the original PDF file and output Tiff file. You can see the difference in the fonts of PDF and output tiff.\r\n\r\n[Original PDFfile][1]\r\n\r\n[Converted Tiff][2]\r\n\r\n  [1]: https://drive.google.com/open?id=1kk8pUyo2ExJRI_iizGR6-ceQRkvveSXb\r\n  [2]: https://drive.google.com/open?id=1_0fTf8GKBHNiPOzjtERSEALdmhjTts_a\r\n\r\n\r\nYou can clearly see the difference in 2 files. Is there any font which is missing on the linux(same is working fine with other PDF tools)? ","title":"Converting PDF to Tiff using PDFBox 2.0.14 on linux font issue","body":"<p>I am having an issue while converting PDF to Tiff on linux system(Windows is working fine), I feel few fonts are not loaded/found.</p>\n\n<p>I am attaching the original PDF file and output Tiff file. You can see the difference in the fonts of PDF and output tiff.</p>\n\n<p><a href=\"https://drive.google.com/open?id=1kk8pUyo2ExJRI_iizGR6-ceQRkvveSXb\" rel=\"nofollow noreferrer\">Original PDFfile</a></p>\n\n<p><a href=\"https://drive.google.com/open?id=1_0fTf8GKBHNiPOzjtERSEALdmhjTts_a\" rel=\"nofollow noreferrer\">Converted Tiff</a></p>\n\n<p>You can clearly see the difference in 2 files. Is there any font which is missing on the linux(same is working fine with other PDF tools)? </p>\n"},{"tags":["java","numbers","rounding"],"comments":[{"owner":{"account_id":100551,"reputation":29438,"user_id":270986,"display_name":"Mark Dickinson"},"score":1,"creation_date":1653569605,"post_id":72392140,"comment_id":127886682,"body_markdown":"Sounds like you simply want to round to the nearest multiple of 0.5. Is that correct?","body":"Sounds like you simply want to round to the nearest multiple of 0.5. Is that correct?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1653569639,"post_id":72392140,"comment_id":127886701,"body_markdown":"I don&#39;t understand what the &quot;1 or 2&quot;, &quot;3, 4, 6 or 7&quot; or &quot;8 or 9&quot; mean. Likewise &quot;If number is closer to 0&quot; - closer to 0 than what? Some examples would be really helpful here, along with a rewording to make it as clear as possible.","body":"I don&#39;t understand what the &quot;1 or 2&quot;, &quot;3, 4, 6 or 7&quot; or &quot;8 or 9&quot; mean. Likewise &quot;If number is closer to 0&quot; - closer to 0 than what? Some examples would be really helpful here, along with a rewording to make it as clear as possible."}],"answers":[{"tags":[],"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653570122,"creation_date":1653570122,"answer_id":72392258,"question_id":72392140,"body_markdown":"I assume that you are looking at numbers in the range 0.0 to 1.0. You could work with the range boundaries you give. If num &lt; 0.3 return 0.0, or if num &lt; 0.8 return 0.5, otherwise return 1.0","title":"Java custom rounding of double","body":"<p>I assume that you are looking at numbers in the range 0.0 to 1.0. You could work with the range boundaries you give. If num &lt; 0.3 return 0.0, or if num &lt; 0.8 return 0.5, otherwise return 1.0</p>\n"}],"owner":{"account_id":25396410,"reputation":1,"user_id":19206604,"display_name":"EAG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653570449,"answer_count":1,"score":0,"last_activity_date":1653571679,"creation_date":1653569538,"question_id":72392140,"body_markdown":"I need to do a custom rounding that works that way:\r\n- If number is closer to 0, it is rounded down (1 or 2)\r\n- If number is closer to 0.5, it is rounded to 0.5 (3, 4, 6 or 7)\r\n- If number is closer to 1, it is rounded up (8 or 9)\r\n  \r\n What would be the best approach to this problem?\r\n\r\nEdit: this question was already answered in &quot;Java round to nearest .5&quot;. Thanks for the answers.","title":"Java custom rounding of double","body":"<p>I need to do a custom rounding that works that way:</p>\n<ul>\n<li>If number is closer to 0, it is rounded down (1 or 2)</li>\n<li>If number is closer to 0.5, it is rounded to 0.5 (3, 4, 6 or 7)</li>\n<li>If number is closer to 1, it is rounded up (8 or 9)</li>\n</ul>\n<p>What would be the best approach to this problem?</p>\n<p>Edit: this question was already answered in &quot;Java round to nearest .5&quot;. Thanks for the answers.</p>\n"},{"tags":["java","spring","spring-boot","gradle","build"],"comments":[{"owner":{"account_id":907854,"reputation":15741,"user_id":942391,"accept_rate":57,"display_name":"Sumit Singh"},"score":0,"creation_date":1653548701,"post_id":72378620,"comment_id":127880066,"body_markdown":"facing same issue.\nadding dep from dir, preventing loading for property files from active project.","body":"facing same issue. adding dep from dir, preventing loading for property files from active project."}],"answers":[{"tags":[],"owner":{"account_id":907854,"reputation":15741,"user_id":942391,"accept_rate":57,"display_name":"Sumit Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653571266,"creation_date":1653571266,"answer_id":72392526,"question_id":72378620,"body_markdown":"Found the issue:\r\nin my case the lib jar contained `spring.components` under META-INF dir\r\nwhich messes with the startup of the application.\r\n\r\nIf you check you classes under `@ComponentScan(basePackege= &quot;your-packge&quot;)` will also be not getting configured because of the above issue.\r\n\r\nUse lib without spring application.","title":"Dependent jar not able to locate the resolve a property value from application.yml file","body":"<p>Found the issue:\nin my case the lib jar contained <code>spring.components</code> under META-INF dir\nwhich messes with the startup of the application.</p>\n<p>If you check you classes under <code>@ComponentScan(basePackege= &quot;your-packge&quot;)</code> will also be not getting configured because of the above issue.</p>\n<p>Use lib without spring application.</p>\n"}],"owner":{"account_id":5415704,"reputation":11,"user_id":4310902,"display_name":"Vicky Km"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653571266,"creation_date":1653485562,"question_id":72378620,"body_markdown":"I have a gradle project which requires two local jars as dependency. I am adding them using fileTree\r\n\r\n&gt;implementation fileTree(dir: &#39;..//libs&#39;, include: &#39;*.jar&#39;)\r\n\r\nThe problem I am facing is , **the dependent jar requires a property value from the application.yml file available in the main project**. And I am getting this error, even though I have the property available in my application.yml file located in the resources folder.\r\n\r\n \r\n&gt;java.lang.IllegalArgumentException: Could not resolve placeholder &#39;test.key&#39; in value &quot;${test.key}&quot;\r\n\r\nIs there any way to give the property file location to my dependent jar? Or any other ways to make this work?","title":"Dependent jar not able to locate the resolve a property value from application.yml file","body":"<p>I have a gradle project which requires two local jars as dependency. I am adding them using fileTree</p>\n<blockquote>\n<p>implementation fileTree(dir: '..//libs', include: '*.jar')</p>\n</blockquote>\n<p>The problem I am facing is , <strong>the dependent jar requires a property value from the application.yml file available in the main project</strong>. And I am getting this error, even though I have the property available in my application.yml file located in the resources folder.</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Could not resolve placeholder 'test.key' in value &quot;${test.key}&quot;</p>\n</blockquote>\n<p>Is there any way to give the property file location to my dependent jar? Or any other ways to make this work?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8679,"page":1313,"page_size":100}
