{"items":[{"tags":["java","email-validation"],"answers":[{"tags":[],"owner":{"account_id":1442071,"reputation":8707,"user_id":1361901,"display_name":"Joseph Larson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645654493,"creation_date":1645654493,"answer_id":71244673,"question_id":71244579,"body_markdown":"Let&#39;s look at your list:\r\n\r\n - It contains at least one character.\r\n - It contains only alphanumeric characters, underscores(‘_’), periods(‘.’), and dashes(‘-’).\r\n - An underscore, a period, or a dash must always be followed by one or more alphanumeric characters.\r\n - The first character must be alphanumeric.\r\n\r\nAs you say, 1, 2, and 4 are easy. Here&#39;s what I would do. My first line would check length and return false if incorrect. I would then iterate over the characters. Inside the loop;\r\n\r\n - set boolean lastWasSpecial = false.\r\n - Check that it&#39;s a legal character (condition 2)\r\n - If index == 0, check that it&#39;s alphanumeric (condition 4)\r\n - If it&#39;s one of the specials:\r\n    - If lastWasSpecial is set, return false\r\n    - Set lastWasSpecial = true;\r\n - else set lastWasSpecial = false again\r\n\r\nShould be about 10 lines of easily-readable code.\r\n","title":"An underscore, a dot and a dash must always be followed by one or more alphanumeric characters without using Regex","body":"<p>Let's look at your list:</p>\n<ul>\n<li>It contains at least one character.</li>\n<li>It contains only alphanumeric characters, underscores(‘_’), periods(‘.’), and dashes(‘-’).</li>\n<li>An underscore, a period, or a dash must always be followed by one or more alphanumeric characters.</li>\n<li>The first character must be alphanumeric.</li>\n</ul>\n<p>As you say, 1, 2, and 4 are easy. Here's what I would do. My first line would check length and return false if incorrect. I would then iterate over the characters. Inside the loop;</p>\n<ul>\n<li>set boolean lastWasSpecial = false.</li>\n<li>Check that it's a legal character (condition 2)</li>\n<li>If index == 0, check that it's alphanumeric (condition 4)</li>\n<li>If it's one of the specials:\n<ul>\n<li>If lastWasSpecial is set, return false</li>\n<li>Set lastWasSpecial = true;</li>\n</ul>\n</li>\n<li>else set lastWasSpecial = false again</li>\n</ul>\n<p>Should be about 10 lines of easily-readable code.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645659699,"creation_date":1645655357,"answer_id":71244779,"question_id":71244579,"body_markdown":"# local-part\r\n\r\nFYI, the portion of the address before the COMMERCIAL AT sign (`@`) is called a [local-part][1].\r\n\r\n# Avoid `char`\r\n\r\nYour code using the `char` will break when encountering characters outside the [BMP][2]. As a 16-bit value, `char` cannot represent most characters. \r\n\r\n# Code points\r\n\r\nUse code points instead, when working with individual characters. A code point is the number assigned permanently to each of the over 140,000 characters defined in Unicode. \r\n\r\n    int[] codePoints = localPart.codePoints().toArray() ;\r\n\r\nDefine a array, list, or set of your acceptable punctuation characters. \r\n\r\n    int codePoint = &quot;-&quot;.codePointAt( 0 ) ;  // Annoying zero-based index counting. \r\n\r\nTo  verify that every punctuation character encountered is followed by a letter/digit, first make sure the punctuation mark is not the last character. If not, then look ahead on the array for the following code point. Test if that code point [is a letter or digit][3].  \r\n\r\n    if( Character.isLetterOrDigit( codePoints[ i + 1 ] ) ) { … }\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Email_address#Local-part\r\n  [2]: https://en.wikipedia.org/wiki/Plane_(Unicode)#Basic_Multilingual_Plane\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#isLetterOrDigit(int)","title":"An underscore, a dot and a dash must always be followed by one or more alphanumeric characters without using Regex","body":"<h1>local-part</h1>\n<p>FYI, the portion of the address before the COMMERCIAL AT sign (<code>@</code>) is called a <a href=\"https://en.wikipedia.org/wiki/Email_address#Local-part\" rel=\"nofollow noreferrer\">local-part</a>.</p>\n<h1>Avoid <code>char</code></h1>\n<p>Your code using the <code>char</code> will break when encountering characters outside the <a href=\"https://en.wikipedia.org/wiki/Plane_(Unicode)#Basic_Multilingual_Plane\" rel=\"nofollow noreferrer\">BMP</a>. As a 16-bit value, <code>char</code> cannot represent most characters.</p>\n<h1>Code points</h1>\n<p>Use code points instead, when working with individual characters. A code point is the number assigned permanently to each of the over 140,000 characters defined in Unicode.</p>\n<pre><code>int[] codePoints = localPart.codePoints().toArray() ;\n</code></pre>\n<p>Define a array, list, or set of your acceptable punctuation characters.</p>\n<pre><code>int codePoint = &quot;-&quot;.codePointAt( 0 ) ;  // Annoying zero-based index counting. \n</code></pre>\n<p>To  verify that every punctuation character encountered is followed by a letter/digit, first make sure the punctuation mark is not the last character. If not, then look ahead on the array for the following code point. Test if that code point <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#isLetterOrDigit(int)\" rel=\"nofollow noreferrer\">is a letter or digit</a>.</p>\n<pre><code>if( Character.isLetterOrDigit( codePoints[ i + 1 ] ) ) { … }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645655591,"creation_date":1645655591,"answer_id":71244809,"question_id":71244579,"body_markdown":"The algorithm can be optimised, but I tried to change just some lines and to use the same code style. I added the explanation in the comments.\r\n```java\r\npublic static boolean isAlphanumeric(char c) {\r\n    return Character.isLetterOrDigit(c);\r\n}\r\n\r\npublic static boolean isValidPrefixChar(char preChar) {\r\n    char[] prefixChar = new char[]{&#39;-&#39;, &#39;.&#39;, &#39;_&#39;};\r\n\r\n    for (int i = 0; i &lt; prefixChar.length; i++) {\r\n        if (prefixChar[i] == preChar) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\npublic static boolean isValidPrefix(String emailPrefix) {\r\n    boolean result = false;\r\n\r\n    // To check if first character is alphanumeric\r\n    if (isAlphanumeric(emailPrefix.charAt(0)) &amp;&amp; emailPrefix.length() &gt; 1) {\r\n        // this boolean is set to true when the next char has to be alphanumeric\r\n        boolean nextHasToBeAlphaNumeric = false;\r\n\r\n        // the for loop start from 1 because char 0 has been already checked\r\n        for (int i = 1; i &lt; emailPrefix.length(); i++) {\r\n            // If email prefix respects all conditions, change result to true\r\n            char character = emailPrefix.charAt(i);\r\n            if (isValidPrefixChar(character)) {\r\n                // the previous char is &#39;.&#39;, &#39;_&#39;, &#39;-&#39; then you cannot have two valid prefix char together\r\n                if (nextHasToBeAlphaNumeric) {\r\n                    result = false;\r\n                    break;\r\n                } else {\r\n                    // the next char has to be alphanumeric\r\n                    result = true;\r\n                    nextHasToBeAlphaNumeric = true;\r\n                }\r\n            } else if (isAlphanumeric(character)) {\r\n                result = true;\r\n                nextHasToBeAlphaNumeric = false;\r\n            } else {\r\n                result = false;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\n```\r\n","title":"An underscore, a dot and a dash must always be followed by one or more alphanumeric characters without using Regex","body":"<p>The algorithm can be optimised, but I tried to change just some lines and to use the same code style. I added the explanation in the comments.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isAlphanumeric(char c) {\n    return Character.isLetterOrDigit(c);\n}\n\npublic static boolean isValidPrefixChar(char preChar) {\n    char[] prefixChar = new char[]{'-', '.', '_'};\n\n    for (int i = 0; i &lt; prefixChar.length; i++) {\n        if (prefixChar[i] == preChar) {\n            return true;\n        }\n    }\n    return false;\n}\n\npublic static boolean isValidPrefix(String emailPrefix) {\n    boolean result = false;\n\n    // To check if first character is alphanumeric\n    if (isAlphanumeric(emailPrefix.charAt(0)) &amp;&amp; emailPrefix.length() &gt; 1) {\n        // this boolean is set to true when the next char has to be alphanumeric\n        boolean nextHasToBeAlphaNumeric = false;\n\n        // the for loop start from 1 because char 0 has been already checked\n        for (int i = 1; i &lt; emailPrefix.length(); i++) {\n            // If email prefix respects all conditions, change result to true\n            char character = emailPrefix.charAt(i);\n            if (isValidPrefixChar(character)) {\n                // the previous char is '.', '_', '-' then you cannot have two valid prefix char together\n                if (nextHasToBeAlphaNumeric) {\n                    result = false;\n                    break;\n                } else {\n                    // the next char has to be alphanumeric\n                    result = true;\n                    nextHasToBeAlphaNumeric = true;\n                }\n            } else if (isAlphanumeric(character)) {\n                result = true;\n                nextHasToBeAlphaNumeric = false;\n            } else {\n                result = false;\n                break;\n            }\n        }\n    }\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":21956224,"reputation":3,"user_id":16234751,"display_name":"zhuchini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1776,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71244673,"answer_count":3,"score":0,"last_activity_date":1645659699,"creation_date":1645653818,"question_id":71244579,"body_markdown":"I&#39;m working on a school assignment that validates emails without using Regex. The premise of this exercise is to learn about methods and to practice our critical thinking. I understand that the code can be reduced to fewer lines.\r\n\r\nRight now, I need to check all conditions for the prefix of an email (The characters before &#39;@&#39;):\r\n\r\n - It contains at least one character.\r\n - It contains only alphanumeric characters, underscores(‘_’), periods(‘.’), and dashes(‘-’).\r\n - **An underscore, a period, or a dash must always be followed by one or more alphanumeric characters.**\r\n - The first character must be alphanumeric.\r\n\r\nExamples of valid prefixes are: “abc-d”, “abc.def”, “abc”, “abc_def”.  \r\nExamples of invalid prefixes are: “abc-”, “abc..d”, “.abc”, “abc#def”.\r\n\r\nI&#39;m having a hard time figuring out the third condition. So far, I have these methods that meet the other conditions.\r\n\r\n    public static boolean isAlphanumeric(char c) {\r\n\t\treturn Character.isLetterOrDigit(c);\r\n\t}\r\n\r\n    public static boolean isValidPrefixChar(char preChar) {\r\n\t\tchar[] prefixChar = new char[] {&#39;-&#39;, &#39;.&#39;, &#39;_&#39;};\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; prefixChar.length; i++) {\r\n\t\t\tif (prefixChar[i] == preChar) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else if (isAlphanumeric(preChar)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n    public static boolean isValidPrefix(String emailPrefix) {\r\n\t\tboolean result = false;\r\n\t\t\r\n\t\t// To check if first character is alphanumeric\r\n\t\tif (isAlphanumeric(emailPrefix.charAt(0)) &amp;&amp; emailPrefix.length() &gt; 1) {\r\n\t\t\tfor (int i = 0; i &lt; emailPrefix.length(); i++) {\r\n\t\t\t\t// If email prefix respects all conditions, change result to true\r\n\t\t\t\tif (isValidPrefixChar(emailPrefix.charAt(i))) {\r\n\t\t\t\t\tresult = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}","title":"An underscore, a dot and a dash must always be followed by one or more alphanumeric characters without using Regex","body":"<p>I'm working on a school assignment that validates emails without using Regex. The premise of this exercise is to learn about methods and to practice our critical thinking. I understand that the code can be reduced to fewer lines.</p>\n<p>Right now, I need to check all conditions for the prefix of an email (The characters before '@'):</p>\n<ul>\n<li>It contains at least one character.</li>\n<li>It contains only alphanumeric characters, underscores(‘_’), periods(‘.’), and dashes(‘-’).</li>\n<li><strong>An underscore, a period, or a dash must always be followed by one or more alphanumeric characters.</strong></li>\n<li>The first character must be alphanumeric.</li>\n</ul>\n<p>Examples of valid prefixes are: “abc-d”, “abc.def”, “abc”, “abc_def”.<br />\nExamples of invalid prefixes are: “abc-”, “abc..d”, “.abc”, “abc#def”.</p>\n<p>I'm having a hard time figuring out the third condition. So far, I have these methods that meet the other conditions.</p>\n<pre><code>public static boolean isAlphanumeric(char c) {\n    return Character.isLetterOrDigit(c);\n}\n\npublic static boolean isValidPrefixChar(char preChar) {\n    char[] prefixChar = new char[] {'-', '.', '_'};\n    \n    for (int i = 0; i &lt; prefixChar.length; i++) {\n        if (prefixChar[i] == preChar) {\n            return true;\n        } else if (isAlphanumeric(preChar)) {\n            return true;\n        }\n    }\n    return false;\n}\n\npublic static boolean isValidPrefix(String emailPrefix) {\n    boolean result = false;\n    \n    // To check if first character is alphanumeric\n    if (isAlphanumeric(emailPrefix.charAt(0)) &amp;&amp; emailPrefix.length() &gt; 1) {\n        for (int i = 0; i &lt; emailPrefix.length(); i++) {\n            // If email prefix respects all conditions, change result to true\n            if (isValidPrefixChar(emailPrefix.charAt(i))) {\n                result = true;\n            } else {\n                result = false;\n                break;\n            }\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":1,"creation_date":1346459014,"post_id":12223882,"comment_id":16378645,"body_markdown":"You should really just use `Executors.newFixedThreadPool(numThreads).invokeAll(...)`","body":"You should really just use <code>Executors.newFixedThreadPool(numThreads).invokeAll(...)</code>"},{"owner":{"account_id":1310289,"reputation":10185,"user_id":1258409,"accept_rate":56,"display_name":"JackWM"},"score":0,"creation_date":1346476798,"post_id":12223882,"comment_id":16380627,"body_markdown":"@veer Why? I only run at most 10 threads.","body":"@veer Why? I only run at most 10 threads."}],"answers":[{"tags":[],"owner":{"account_id":42557,"reputation":3130,"user_id":124007,"accept_rate":45,"display_name":"JimN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346458953,"creation_date":1346458953,"answer_id":12223922,"question_id":12223882,"body_markdown":"The main thread will need to wait for the worker threads to complete before getting the results.  One way to do this is for the main thread to wait for each worker thread to terminate before attempting to read the result.  A thread terminates when its run() method completes.\r\n\r\nFor example:\r\n\r\n    for (int i = 0; i &lt; workers.length; i++) {\r\n      worker.join(); // wait for worker thread to terminate\r\n      Result result = results[i]; // get the worker thread&#39;s result\r\n      // process the result here...\r\n    }\r\n\r\nYou still have to arrange for the worker thread&#39;s result to be inserted into the result[] array somehow.  As one possibility, you could do this by passing the array and an index into each worker thread and having the worker thread assign the result before terminating.","title":"In Java, how to pass the objects back to Main thread from worker threads?","body":"<p>The main thread will need to wait for the worker threads to complete before getting the results.  One way to do this is for the main thread to wait for each worker thread to terminate before attempting to read the result.  A thread terminates when its run() method completes.</p>\n\n<p>For example:</p>\n\n<pre><code>for (int i = 0; i &lt; workers.length; i++) {\n  worker.join(); // wait for worker thread to terminate\n  Result result = results[i]; // get the worker thread's result\n  // process the result here...\n}\n</code></pre>\n\n<p>You still have to arrange for the worker thread's result to be inserted into the result[] array somehow.  As one possibility, you could do this by passing the array and an index into each worker thread and having the worker thread assign the result before terminating.</p>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1346459344,"creation_date":1346459026,"answer_id":12223929,"question_id":12223882,"body_markdown":"Why don&#39;t you use [`Callable`s][1] and an [`ExecutorService`][2]?\r\n\r\n\r\n\r\n    main(String[] args) {\r\n\r\n      String[] inputs;\r\n      Future&lt;Result&gt;[] results;\r\n    \r\n      for (int i = 0; i &lt; inputs.length; i++) {\r\n        results[i] = executor.submit(new Worker(inputs[i]);\r\n      } \r\n      for (int i = 0; i &lt; inputs.length; i++) {\r\n        Result r = results[i].get();\r\n        // do something with the result\r\n      }\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html","title":"In Java, how to pass the objects back to Main thread from worker threads?","body":"<p>Why don't you use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html\" rel=\"noreferrer\"><code>Callable</code>s</a> and an <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"noreferrer\"><code>ExecutorService</code></a>?</p>\n\n<pre><code>main(String[] args) {\n\n  String[] inputs;\n  Future&lt;Result&gt;[] results;\n\n  for (int i = 0; i &lt; inputs.length; i++) {\n    results[i] = executor.submit(new Worker(inputs[i]);\n  } \n  for (int i = 0; i &lt; inputs.length; i++) {\n    Result r = results[i].get();\n    // do something with the result\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346459320,"creation_date":1346459320,"answer_id":12223954,"question_id":12223882,"body_markdown":"Some typical solutions would be:\r\n\r\n - Hold the result in the worker thread&#39;s instance (be it `Runnable` or `Thread`). This is similar to the use of the `Future` interface.\r\n - Use a `BlockingQueue` that the worker threads are constructed with which they can place their result into.\r\n - Simple use the `ExecutorService` and `Callable` interfaces to get a `Future` which can be asked for the result.","title":"In Java, how to pass the objects back to Main thread from worker threads?","body":"<p>Some typical solutions would be:</p>\n\n<ul>\n<li>Hold the result in the worker thread's instance (be it <code>Runnable</code> or <code>Thread</code>). This is similar to the use of the <code>Future</code> interface.</li>\n<li>Use a <code>BlockingQueue</code> that the worker threads are constructed with which they can place their result into.</li>\n<li>Simple use the <code>ExecutorService</code> and <code>Callable</code> interfaces to get a <code>Future</code> which can be asked for the result.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346459945,"creation_date":1346459945,"answer_id":12223999,"question_id":12223882,"body_markdown":"It looks like your goal is to perform the computation in parallel, then once all results are available to the main thread, it can continue and use them.\r\n\r\nIf that&#39;s the case, implement your parallel computation as a [`Callable`][1] rather than a thread. Pass this collection of tasks to the [`invokeAll()`][2] method of an `ExecutorService`. This method will block until all the tasks have been completed, and then your main thread can continue.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html#invokeAll%28java.util.Collection%29","title":"In Java, how to pass the objects back to Main thread from worker threads?","body":"<p>It looks like your goal is to perform the computation in parallel, then once all results are available to the main thread, it can continue and use them.</p>\n\n<p>If that's the case, implement your parallel computation as a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html\" rel=\"nofollow\"><code>Callable</code></a> rather than a thread. Pass this collection of tasks to the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html#invokeAll%28java.util.Collection%29\" rel=\"nofollow\"><code>invokeAll()</code></a> method of an <code>ExecutorService</code>. This method will block until all the tasks have been completed, and then your main thread can continue.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1346460216,"creation_date":1346460216,"answer_id":12224016,"question_id":12223882,"body_markdown":"@Thilo&#39;s and @Erickson&#39;s answers are the best one.  There are existing APIs that do this kind of thing simply and reliably.\r\n\r\nBut if you want to persist with your current approach of doing it by hand, then the following change to you code may be sufficient:\r\n\r\n    for (int i = 0; i &lt; numThreads; i++) {\r\n        results[i] = new Result();\r\n        ...\r\n        workers[i] = new WorkerThread(i, inputs[i], results[i]);\r\n        workers[i].start();\r\n    }\r\n\r\n    ...\r\n\r\n    public void run() {\r\n        Result tmp = Processor.process(input);\r\n        this.result.updateFrom(tmp);\r\n        // ... where the updateFrom method copies the state of tmp into\r\n        // the Result object that was passed from the main thread.\r\n    }\r\n\r\nAnother approach is to replace `Result[]` in the main program with `Result[][]` and pass a `Result[0]` to the child thread that can be updated with the result object.  (A light-weight holder).\r\n\r\nHowever, there us an **Important Gotcha** when you are implementing this at a low level is that the main thread needs to call Thread.join on all of the child threads before attempting to retrieve the results.  If you don&#39;t, there is a risk that the main thread will *occasionally* see stale values in the Result objects.  The `join` also ensures that the `main` thread doesn&#39;t try to access a Result before the corresponding child thread has completed it.\r\n","title":"In Java, how to pass the objects back to Main thread from worker threads?","body":"<p>@Thilo's and @Erickson's answers are the best one.  There are existing APIs that do this kind of thing simply and reliably.</p>\n\n<p>But if you want to persist with your current approach of doing it by hand, then the following change to you code may be sufficient:</p>\n\n<pre><code>for (int i = 0; i &lt; numThreads; i++) {\n    results[i] = new Result();\n    ...\n    workers[i] = new WorkerThread(i, inputs[i], results[i]);\n    workers[i].start();\n}\n\n...\n\npublic void run() {\n    Result tmp = Processor.process(input);\n    this.result.updateFrom(tmp);\n    // ... where the updateFrom method copies the state of tmp into\n    // the Result object that was passed from the main thread.\n}\n</code></pre>\n\n<p>Another approach is to replace <code>Result[]</code> in the main program with <code>Result[][]</code> and pass a <code>Result[0]</code> to the child thread that can be updated with the result object.  (A light-weight holder).</p>\n\n<p>However, there us an <strong>Important Gotcha</strong> when you are implementing this at a low level is that the main thread needs to call Thread.join on all of the child threads before attempting to retrieve the results.  If you don't, there is a risk that the main thread will <em>occasionally</em> see stale values in the Result objects.  The <code>join</code> also ensures that the <code>main</code> thread doesn't try to access a Result before the corresponding child thread has completed it.</p>\n"},{"tags":[],"owner":{"account_id":1795714,"reputation":59,"user_id":1635151,"display_name":"codeDisaster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346492285,"creation_date":1346492285,"answer_id":12226637,"question_id":12223882,"body_markdown":"I think I have a better solution, why don&#39;t you make your worker threads pass the result into a linkedListBlockingQueue, which is passed to them, after they are done, and your main function picks the results up from the queue like this\r\n\r\n    while(true){linkedListBlockingQueue.take(); \r\n        //todo: fil in the task you want it to do\r\n        //if a specific kind of object is returned/countdownlatch is finished exit\r\n    }","title":"In Java, how to pass the objects back to Main thread from worker threads?","body":"<p>I think I have a better solution, why don't you make your worker threads pass the result into a linkedListBlockingQueue, which is passed to them, after they are done, and your main function picks the results up from the queue like this</p>\n\n<pre><code>while(true){linkedListBlockingQueue.take(); \n    //todo: fil in the task you want it to do\n    //if a specific kind of object is returned/countdownlatch is finished exit\n}\n</code></pre>\n"}],"owner":{"account_id":1310289,"reputation":10185,"user_id":1258409,"accept_rate":56,"display_name":"JackWM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10423,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":12223929,"answer_count":6,"score":2,"last_activity_date":1645659696,"creation_date":1346458477,"question_id":12223882,"body_markdown":"In Java, how to pass the objects back to Main thread from worker threads? Take the following codes as an example:\r\n     \r\n      main(String[] args) {\r\n\r\n        String[] inputs;\r\n        Result[] results;\r\n        Thread[] workers = new WorkerThread[numThreads];\r\n\r\n        for (int i = 0; i &lt; numThreads; i++) {\r\n            workers[i] = new WorkerThread(i, inputs[i], results[i]);\r\n            workers[i].start();\r\n        } \r\n\r\n        ....\r\n      }\r\n      ....\r\n \r\n    class WorkerThread extends Thread {\r\n        String input;\r\n        int name;\r\n        Result result;\r\n\r\n        WorkerThread(int name, String input, Result result) {\r\n            super(name+&quot;&quot;);\r\n            this.name = name;\r\n            this.input = input;\r\n            this.result = result;\r\n        }\r\n\r\n        public void run() {\r\n            result  = Processor.process(input);\r\n        }\r\n    }\r\n\r\nHow to pass the `result` back to `main`&#39;s `results[i]` ?\r\n\r\nHow about passing `this` to `WorkerThread`, \r\n\r\n    workers[i] = new WorkerThread(i, inputs[i], results[i], this);\r\n\r\nso that it could\r\n\r\n    mainThread.reults[i] = Processor.process(inputs[i]);\r\n","title":"In Java, how to pass the objects back to Main thread from worker threads?","body":"<p>In Java, how to pass the objects back to Main thread from worker threads? Take the following codes as an example:</p>\n\n<pre><code>  main(String[] args) {\n\n    String[] inputs;\n    Result[] results;\n    Thread[] workers = new WorkerThread[numThreads];\n\n    for (int i = 0; i &lt; numThreads; i++) {\n        workers[i] = new WorkerThread(i, inputs[i], results[i]);\n        workers[i].start();\n    } \n\n    ....\n  }\n  ....\n\nclass WorkerThread extends Thread {\n    String input;\n    int name;\n    Result result;\n\n    WorkerThread(int name, String input, Result result) {\n        super(name+\"\");\n        this.name = name;\n        this.input = input;\n        this.result = result;\n    }\n\n    public void run() {\n        result  = Processor.process(input);\n    }\n}\n</code></pre>\n\n<p>How to pass the <code>result</code> back to <code>main</code>'s <code>results[i]</code> ?</p>\n\n<p>How about passing <code>this</code> to <code>WorkerThread</code>, </p>\n\n<pre><code>workers[i] = new WorkerThread(i, inputs[i], results[i], this);\n</code></pre>\n\n<p>so that it could</p>\n\n<pre><code>mainThread.reults[i] = Processor.process(inputs[i]);\n</code></pre>\n"},{"tags":["java","singleton","non-thread-safe"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1645655282,"post_id":71244614,"comment_id":125933572,"body_markdown":"Why should this be forbidden? The annotation is [documented](https://jcip.net/annotations/doc/net/jcip/annotations/NotThreadSafe.html) as: _This annotation primarily exists for clarifying the non-thread-safety of a class_. If you are using this singleton from multiple threads it is your job to ensure thread safety.","body":"Why should this be forbidden? The annotation is <a href=\"https://jcip.net/annotations/doc/net/jcip/annotations/NotThreadSafe.html\" rel=\"nofollow noreferrer\">documented</a> as: <i>This annotation primarily exists for clarifying the non-thread-safety of a class</i>. If you are using this singleton from multiple threads it is your job to ensure thread safety."}],"answers":[{"tags":[],"owner":{"account_id":24281583,"reputation":168,"user_id":18228017,"display_name":"Cayman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645659215,"creation_date":1645659215,"answer_id":71245280,"question_id":71244614,"body_markdown":"NonThreadSafe means that if different threads are accessing the value at the same time you can get inconsistent results. that annotation clarifies that the class is not thread-safe.\r\n\r\nIf you try to create a singleton of the class but different threads are accessing to it at the same time it makes no difference\r\n\r\nRemember that a singleton is only one instance globally. If you create a singleton in order to access the non thread safe class it means that only one instance would access the class. \r\n\r\nSo... if you are not using threads you are safe to use the class. If you are using threads make sure to access in a way that you don&#39;t work on the same data simultaneously ","title":"Java class annotated with non thread safe","body":"<p>NonThreadSafe means that if different threads are accessing the value at the same time you can get inconsistent results. that annotation clarifies that the class is not thread-safe.</p>\n<p>If you try to create a singleton of the class but different threads are accessing to it at the same time it makes no difference</p>\n<p>Remember that a singleton is only one instance globally. If you create a singleton in order to access the non thread safe class it means that only one instance would access the class.</p>\n<p>So... if you are not using threads you are safe to use the class. If you are using threads make sure to access in a way that you don't work on the same data simultaneously</p>\n"}],"owner":{"account_id":9929881,"reputation":1,"user_id":7350239,"display_name":"tired_SDE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1645659215,"creation_date":1645654113,"question_id":71244614,"body_markdown":"I have a java class that represents AWSSecretManager client with annotation @NonThreadSafe, am I allowed to use Singleton to get a single instance of that class?","title":"Java class annotated with non thread safe","body":"<p>I have a java class that represents AWSSecretManager client with annotation @NonThreadSafe, am I allowed to use Singleton to get a single instance of that class?</p>\n"},{"tags":["java","tomcat","visual-studio-code"],"comments":[{"owner":{"account_id":14914321,"reputation":15846,"user_id":10768653,"display_name":"Leo Zhu"},"score":0,"creation_date":1562056575,"post_id":56841450,"comment_id":100247490,"body_markdown":"if you don&#39;t use task,could you deploy successfully?","body":"if you don&#39;t use task,could you deploy successfully?"},{"owner":{"account_id":1619369,"reputation":193,"user_id":1496280,"display_name":"danieltc07"},"score":1,"creation_date":1562075503,"post_id":56841450,"comment_id":100258080,"body_markdown":"Yes, I have to go to the generated WAR file, right-click and &quot;Run on Tomcat Server&quot;.","body":"Yes, I have to go to the generated WAR file, right-click and &quot;Run on Tomcat Server&quot;."},{"owner":{"account_id":14914321,"reputation":15846,"user_id":10768653,"display_name":"Leo Zhu"},"score":0,"creation_date":1562136890,"post_id":56841450,"comment_id":100277905,"body_markdown":"have you try to `cd` to the generated war file,then depoy the .war  in  task `command` ?","body":"have you try to <code>cd</code> to the generated war file,then depoy the .war  in  task <code>command</code> ?"},{"owner":{"account_id":1619369,"reputation":193,"user_id":1496280,"display_name":"danieltc07"},"score":0,"creation_date":1562167463,"post_id":56841450,"comment_id":100295413,"body_markdown":"Yes, it doesnt work. Even a simple command to start tomcat without args (&quot;command&quot;: &quot;adashen.vscode-tomcat:tomcat.server.start&quot;)  returning the same error..","body":"Yes, it doesnt work. Even a simple command to start tomcat without args (&quot;command&quot;: &quot;adashen.vscode-tomcat:tomcat.server.start&quot;)  returning the same error.."}],"answers":[{"tags":[],"owner":{"account_id":5811009,"reputation":21,"user_id":4588923,"display_name":"scrub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569973377,"creation_date":1569971056,"answer_id":58193347,"question_id":56841450,"body_markdown":"It could look something like this. \r\n\r\n        {\r\n            &quot;label&quot;: &quot;Run&quot;,\r\n            &quot;command&quot;: &quot;${command:tomcat.war.run}&quot;,\r\n            &quot;problemMatcher&quot;: []\r\n        }\r\n\r\nAfter a good bit of searching for my own use, I got help from here: https://stackoverflow.com/a/57470981/4588923\r\n\r\nI have not yet found a way to supply the .war file as an argument and it work.\r\n\r\nAnd althought the call works from tasks.json, I think the main issue is the extension does not support doing such. Perhaps a feature request is in order.","title":"How to create a vs-code task to deploy WAR file on tomcat extension?","body":"<p>It could look something like this. </p>\n\n<pre><code>    {\n        \"label\": \"Run\",\n        \"command\": \"${command:tomcat.war.run}\",\n        \"problemMatcher\": []\n    }\n</code></pre>\n\n<p>After a good bit of searching for my own use, I got help from here: <a href=\"https://stackoverflow.com/a/57470981/4588923\">https://stackoverflow.com/a/57470981/4588923</a></p>\n\n<p>I have not yet found a way to supply the .war file as an argument and it work.</p>\n\n<p>And althought the call works from tasks.json, I think the main issue is the extension does not support doing such. Perhaps a feature request is in order.</p>\n"},{"tags":[],"owner":{"account_id":10843488,"reputation":11,"user_id":7973911,"display_name":"Arthur Freitas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585983189,"creation_date":1585983189,"answer_id":61024731,"question_id":56841450,"body_markdown":"After reading the [source code][1], i think it could work if the method accepted the file path as a String or if you manage to pass the &#39;vscode.Uri&#39; object as a parameter to the &#39;tomcat.war.run&#39; command.\r\n\r\nThis was the best i could came up for the entire process, but you still have to pick the .war manually every time you run this task:\r\n\r\n    {\r\n        &quot;version&quot;: &quot;2.0.0&quot;,\r\n        &quot;tasks&quot;: [\r\n            {\r\n                &quot;label&quot;: &quot;compile&quot;,\r\n                &quot;type&quot;: &quot;shell&quot;,\r\n                &quot;command&quot;: &quot;mvn compile&quot;,\r\n                &quot;problemMatcher&quot;: []  \r\n            },\r\n            {\r\n                &quot;label&quot;: &quot;package&quot;,\r\n                &quot;type&quot;: &quot;shell&quot;,\r\n                &quot;command&quot;: &quot;mvn package&quot;,\r\n                &quot;dependsOn&quot;: [&quot;compile&quot;],\r\n                &quot;problemMatcher&quot;: []\r\n            },\r\n            {\r\n                &quot;label&quot;: &quot;Run WAR&quot;,\r\n                &quot;command&quot;: &quot;${input:runWar}&quot;,\r\n                &quot;dependsOn&quot;: [&quot;package&quot;],\r\n                &quot;problemMatcher&quot;: []\r\n            }\r\n        ],\r\n        &quot;inputs&quot;: [\r\n            {\r\n                &quot;id&quot;: &quot;runWar&quot;,\r\n                &quot;type&quot;: &quot;command&quot;,\r\n                &quot;command&quot;: &quot;tomcat.war.run&quot;\r\n    //          ,&quot;args&quot;: { DOESNT WORK =/\r\n    //              &quot;uri&quot; : {&quot;fsPath&quot; : &quot;${workspaceFolder}/target/ROOT.war&quot;}\r\n    //          }\r\n            }\r\n        ]\r\n    }\r\n\r\n\r\n  [1]: https://github.com/adashen/vscode-tomcat/blob/3b1c628aaf559ef2639f616211be60914d321f4f/src/Tomcat/TomcatController.ts#L181","title":"How to create a vs-code task to deploy WAR file on tomcat extension?","body":"<p>After reading the <a href=\"https://github.com/adashen/vscode-tomcat/blob/3b1c628aaf559ef2639f616211be60914d321f4f/src/Tomcat/TomcatController.ts#L181\" rel=\"nofollow noreferrer\">source code</a>, i think it could work if the method accepted the file path as a String or if you manage to pass the 'vscode.Uri' object as a parameter to the 'tomcat.war.run' command.</p>\n\n<p>This was the best i could came up for the entire process, but you still have to pick the .war manually every time you run this task:</p>\n\n<pre><code>{\n    \"version\": \"2.0.0\",\n    \"tasks\": [\n        {\n            \"label\": \"compile\",\n            \"type\": \"shell\",\n            \"command\": \"mvn compile\",\n            \"problemMatcher\": []  \n        },\n        {\n            \"label\": \"package\",\n            \"type\": \"shell\",\n            \"command\": \"mvn package\",\n            \"dependsOn\": [\"compile\"],\n            \"problemMatcher\": []\n        },\n        {\n            \"label\": \"Run WAR\",\n            \"command\": \"${input:runWar}\",\n            \"dependsOn\": [\"package\"],\n            \"problemMatcher\": []\n        }\n    ],\n    \"inputs\": [\n        {\n            \"id\": \"runWar\",\n            \"type\": \"command\",\n            \"command\": \"tomcat.war.run\"\n//          ,\"args\": { DOESNT WORK =/\n//              \"uri\" : {\"fsPath\" : \"${workspaceFolder}/target/ROOT.war\"}\n//          }\n        }\n    ]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7816549,"reputation":1,"user_id":5911072,"display_name":"JackG22"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645658795,"creation_date":1645658795,"answer_id":71245222,"question_id":56841450,"body_markdown":"RedHat has developed a VSCode extension that helps with configuring and deploying a tomcat server within VSCode.  Seems a lot better then others I have tried.\r\n\r\n[VSCode Blog Post][1]\r\n\r\n[Community Server Connection VSCode Extension][2]\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-tomcat-jetty\r\n  [2]: https://marketplace.visualstudio.com/items?itemName=redhat.vscode-community-server-connector","title":"How to create a vs-code task to deploy WAR file on tomcat extension?","body":"<p>RedHat has developed a VSCode extension that helps with configuring and deploying a tomcat server within VSCode.  Seems a lot better then others I have tried.</p>\n<p><a href=\"https://code.visualstudio.com/docs/java/java-tomcat-jetty\" rel=\"nofollow noreferrer\">VSCode Blog Post</a></p>\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=redhat.vscode-community-server-connector\" rel=\"nofollow noreferrer\">Community Server Connection VSCode Extension</a></p>\n"}],"owner":{"account_id":1619369,"reputation":193,"user_id":1496280,"display_name":"danieltc07"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1645658795,"creation_date":1562009608,"question_id":56841450,"body_markdown":"I&#39;m migrating from Eclipse to VS-Code and I&#39;m trying to make the deploy process quickly. I want to create a vs-code task to deploy WAR files.\r\nI&#39;m using the command **adashen.vscode-tomcat:tomcat.war.run** but it doesn&#39;t seen to work.\r\n\r\nI&#39;m using Tomcat for Visual Studio Code extension v.0.11.1.\r\n\r\nMy tasks.json look like this:\r\n\r\n    {\r\n        // See https://go.microsoft.com/fwlink/?LinkId=733558\r\n        // for the documentation about the tasks.json format\r\n        &quot;version&quot;: &quot;2.0.0&quot;,\r\n        &quot;tasks&quot;: [\r\n            {\r\n                &quot;label&quot;: &quot;Build&quot;,\r\n                &quot;type&quot;: &quot;shell&quot;,\r\n                &quot;command&quot;: &quot;gradlew clean build&quot;,\r\n                &quot;group&quot;: {\r\n                    &quot;kind&quot;: &quot;build&quot;,\r\n                    &quot;isDefault&quot;: true\r\n                }\r\n            },\r\n            {\r\n                &quot;label&quot;: &quot;Deploy&quot;,\r\n                &quot;type&quot;: &quot;shell&quot;,\r\n                &quot;command&quot;: &quot;adashen.vscode-tomcat:tomcat.war.run&quot;,\r\n                &quot;args&quot;: [&quot;${workspaceFolder}\\\\build\\\\libs\\\\SMEWeb-0.0.1-SNAPSHOT.war&quot;]\r\n            }\r\n        ]\r\n    }\r\n\r\nAfter execute getting the follow erro:\r\n\r\n&gt; &gt; Executing task in folder SMEWeb: adashen.vscode-tomcat:tomcat.war.run\r\n&gt; C:\\WorkspaceGit\\sme\\SMEWeb\\build\\libs\\SMEWeb-0.0.1-SNAPSHOT.war &lt;\r\n&gt; \r\n&gt; The filename, directory name or volume label syntax is incorrect.\r\n&gt; \r\n&gt; The terminal process command &#39;C:\\Windows\\system32\\cmd.exe /d /c\r\n&gt; adashen.vscode-tomcat:tomcat.war.run\r\n&gt; C:\\WorkspaceGit\\sme\\SMEWeb\\build\\libs\\SMEWeb-0.0.1-SNAPSHOT.war&#39;\r\n&gt; failed to launch (exit code: 1)\r\n&gt; \r\n&gt; Terminal will be reused by tasks, press any key to close it.\r\n\r\nDoes any one have a clue?\r\nThanks","title":"How to create a vs-code task to deploy WAR file on tomcat extension?","body":"<p>I'm migrating from Eclipse to VS-Code and I'm trying to make the deploy process quickly. I want to create a vs-code task to deploy WAR files.\nI'm using the command <strong>adashen.vscode-tomcat:tomcat.war.run</strong> but it doesn't seen to work.</p>\n\n<p>I'm using Tomcat for Visual Studio Code extension v.0.11.1.</p>\n\n<p>My tasks.json look like this:</p>\n\n<pre><code>{\n    // See https://go.microsoft.com/fwlink/?LinkId=733558\n    // for the documentation about the tasks.json format\n    \"version\": \"2.0.0\",\n    \"tasks\": [\n        {\n            \"label\": \"Build\",\n            \"type\": \"shell\",\n            \"command\": \"gradlew clean build\",\n            \"group\": {\n                \"kind\": \"build\",\n                \"isDefault\": true\n            }\n        },\n        {\n            \"label\": \"Deploy\",\n            \"type\": \"shell\",\n            \"command\": \"adashen.vscode-tomcat:tomcat.war.run\",\n            \"args\": [\"${workspaceFolder}\\\\build\\\\libs\\\\SMEWeb-0.0.1-SNAPSHOT.war\"]\n        }\n    ]\n}\n</code></pre>\n\n<p>After execute getting the follow erro:</p>\n\n<blockquote>\n  <blockquote>\n    <p>Executing task in folder SMEWeb: adashen.vscode-tomcat:tomcat.war.run\n    C:\\WorkspaceGit\\sme\\SMEWeb\\build\\libs\\SMEWeb-0.0.1-SNAPSHOT.war &lt;</p>\n  </blockquote>\n  \n  <p>The filename, directory name or volume label syntax is incorrect.</p>\n  \n  <p>The terminal process command 'C:\\Windows\\system32\\cmd.exe /d /c\n  adashen.vscode-tomcat:tomcat.war.run\n  C:\\WorkspaceGit\\sme\\SMEWeb\\build\\libs\\SMEWeb-0.0.1-SNAPSHOT.war'\n  failed to launch (exit code: 1)</p>\n  \n  <p>Terminal will be reused by tasks, press any key to close it.</p>\n</blockquote>\n\n<p>Does any one have a clue?\nThanks</p>\n"},{"tags":["java","logging","console","console-application"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1645660145,"post_id":71245189,"comment_id":125934817,"body_markdown":"If the background process can write to the console at any time, then you cannot avoid this.  In ancient mainframe console systems, where the console was both a printed continuous log _and_ the operator&#39;s input device, there was a &quot;REQUEST&quot; button which the operator had to press in order to type something in.  That button opened the console for input, blocking any pending output.","body":"If the background process can write to the console at any time, then you cannot avoid this.  In ancient mainframe console systems, where the console was both a printed continuous log <i>and</i> the operator&#39;s input device, there was a &quot;REQUEST&quot; button which the operator had to press in order to type something in.  That button opened the console for input, blocking any pending output."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1645660302,"post_id":71245189,"comment_id":125934856,"body_markdown":"A &quot;proper&quot; console handler would have a window akin to the consoles you see in Chat applications (or Javascript debuggers).  An input area where you type and an output area where the system writes messages.","body":"A &quot;proper&quot; console handler would have a window akin to the consoles you see in Chat applications (or Javascript debuggers).  An input area where you type and an output area where the system writes messages."},{"owner":{"account_id":16489566,"reputation":55,"user_id":11913872,"display_name":"Noah Till"},"score":0,"creation_date":1645660319,"post_id":71245189,"comment_id":125934860,"body_markdown":"Can&#39;t I just read what the user already typed, delete everything the user wrote including &quot;&gt; &quot;, print the output and put anything back in place?","body":"Can&#39;t I just read what the user already typed, delete everything the user wrote including &quot;&gt; &quot;, print the output and put anything back in place?"},{"owner":{"account_id":16489566,"reputation":55,"user_id":11913872,"display_name":"Noah Till"},"score":0,"creation_date":1645660387,"post_id":71245189,"comment_id":125934882,"body_markdown":"Problem with this is, that this application runns on linux without a user interface, so I don&#39;t really have that. If there is a way to imitate that in console based enviroments please tell me. @JimGarrison","body":"Problem with this is, that this application runns on linux without a user interface, so I don&#39;t really have that. If there is a way to imitate that in console based enviroments please tell me. @JimGarrison"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1645660398,"post_id":71245189,"comment_id":125934887,"body_markdown":"That&#39;s really not possible without low-level hardware control of the terminal.  This is not something you can accomplish in Java.","body":"That&#39;s really not possible without low-level hardware control of the terminal.  This is not something you can accomplish in Java."},{"owner":{"account_id":16489566,"reputation":55,"user_id":11913872,"display_name":"Noah Till"},"score":0,"creation_date":1645660507,"post_id":71245189,"comment_id":125934914,"body_markdown":"But wait @JimGarrison how do minecraft servers (which run on java) accomplish that? They don&#39;t have this issue","body":"But wait @JimGarrison how do minecraft servers (which run on java) accomplish that? They don&#39;t have this issue"},{"owner":{"account_id":16489566,"reputation":55,"user_id":11913872,"display_name":"Noah Till"},"score":0,"creation_date":1645660582,"post_id":71245189,"comment_id":125934933,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/242344/discussion-between-noah-till-and-jim-garrison).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/242344/discussion-between-noah-till-and-jim-garrison\">continue this discussion in chat</a>."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1645660671,"post_id":71245189,"comment_id":125934956,"body_markdown":"It&#39;s not ALL Java. There&#39;s quite a bit of C++ and C# as well.","body":"It&#39;s not ALL Java. There&#39;s quite a bit of C++ and C# as well."},{"owner":{"account_id":16489566,"reputation":55,"user_id":11913872,"display_name":"Noah Till"},"score":0,"creation_date":1645661271,"post_id":71245189,"comment_id":125935063,"body_markdown":"guess I&#39;ll be using log4j than. Thanks for your help","body":"guess I&#39;ll be using log4j than. Thanks for your help"}],"owner":{"account_id":16489566,"reputation":55,"user_id":11913872,"display_name":"Noah Till"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645658565,"creation_date":1645658565,"question_id":71245189,"body_markdown":"I&#39;m trying to write a propper console handler for my Java application so that I can handle commands while the application is running in the background. My problem is, that I don&#39;t know how to put what the user wrote on the end of the console like you see in every other console application.\r\n\r\nImagine we have something like this\r\n\r\n    [24.02.2022 00:11:08 FINE]: Logger initialized!\r\n    [24.02.2022 00:11:08 INFO]: Logger initialized!\r\n    [24.02.2022 00:11:08 INFO]: Logger initialized! AGAIN\r\n    &gt; \r\n\r\nNow I write for example &quot;help&quot; to get the menu from the console but in the same moment the console prints out something new and just puts the message behind what I just wrote, when I continue writing it looks all really messed up.\r\n\r\n    [24.02.2022 00:11:08 FINE]: Logger initialized!\r\n    [24.02.2022 00:11:08 INFO]: Logger initialized!\r\n    [24.02.2022 00:11:08 INFO]: Logger initialized! AGAIN\r\n    &gt; he\r\n    [24.02.2022 00:11:08 INFO]: Logger initialized! AGAIN\r\n    &gt; lp\r\n\r\nOr I didn&#39;t sent the command yet. Of course I&#39;m getting a smililar outcome.\r\n\r\n\r\nHere my handler:\r\n\r\n```java\r\n @Override\r\n    public void publish(LogRecord record) {\r\n        System.out.print(&quot;\\b\\b&quot;);\r\n        System.out.print(this.getFormatter().format(record));\r\n        System.out.print(YukiLogFormatter.ANSI_RESET + &quot;&gt; &quot;);\r\n    }\r\n```\r\n\r\nThe &quot;\\b\\b&quot; is to remove the &quot;&gt; &quot; which should indicate that you can write a command here.","title":"How to write a propper console handler in Java?","body":"<p>I'm trying to write a propper console handler for my Java application so that I can handle commands while the application is running in the background. My problem is, that I don't know how to put what the user wrote on the end of the console like you see in every other console application.</p>\n<p>Imagine we have something like this</p>\n<pre><code>[24.02.2022 00:11:08 FINE]: Logger initialized!\n[24.02.2022 00:11:08 INFO]: Logger initialized!\n[24.02.2022 00:11:08 INFO]: Logger initialized! AGAIN\n&gt; \n</code></pre>\n<p>Now I write for example &quot;help&quot; to get the menu from the console but in the same moment the console prints out something new and just puts the message behind what I just wrote, when I continue writing it looks all really messed up.</p>\n<pre><code>[24.02.2022 00:11:08 FINE]: Logger initialized!\n[24.02.2022 00:11:08 INFO]: Logger initialized!\n[24.02.2022 00:11:08 INFO]: Logger initialized! AGAIN\n&gt; he\n[24.02.2022 00:11:08 INFO]: Logger initialized! AGAIN\n&gt; lp\n</code></pre>\n<p>Or I didn't sent the command yet. Of course I'm getting a smililar outcome.</p>\n<p>Here my handler:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Override\n    public void publish(LogRecord record) {\n        System.out.print(&quot;\\b\\b&quot;);\n        System.out.print(this.getFormatter().format(record));\n        System.out.print(YukiLogFormatter.ANSI_RESET + &quot;&gt; &quot;);\n    }\n</code></pre>\n<p>The &quot;\\b\\b&quot; is to remove the &quot;&gt; &quot; which should indicate that you can write a command here.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":5,"creation_date":1645658211,"post_id":71245123,"comment_id":125934294,"body_markdown":"What about `3+-4` (= -1)?  That should be valid as well.  You have to distinguish between binary operators, two of which cannot appear together, and _unary_ operators.  This is actually a subtle problem, since some situations are ambiguous.  Another example is `3-+4`, which is also equal to -1.","body":"What about <code>3+-4</code> (= -1)?  That should be valid as well.  You have to distinguish between binary operators, two of which cannot appear together, and <i>unary</i> operators.  This is actually a subtle problem, since some situations are ambiguous.  Another example is <code>3-+4</code>, which is also equal to -1."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":3,"creation_date":1645658325,"post_id":71245123,"comment_id":125934335,"body_markdown":"Any reasonable implementation will also allow `3+--4` and `3----2`, which are perfectly well-formed expressions. This isn&#39;t about exceptions for specific sequences of characters; this is about understanding how we as humans parse that expression and writing a program to do the same.","body":"Any reasonable implementation will also allow <code>3+--4</code> and <code>3----2</code>, which are perfectly well-formed expressions. This isn&#39;t about exceptions for specific sequences of characters; this is about understanding how we as humans parse that expression and writing a program to do the same."},{"owner":{"account_id":24124619,"reputation":3,"user_id":18293831,"display_name":"MonKeyLAb_vlad"},"score":0,"creation_date":1645658623,"post_id":71245123,"comment_id":125934418,"body_markdown":"Jim Garrison, it is true too","body":"Jim Garrison, it is true too"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1645658866,"post_id":71245123,"comment_id":125934485,"body_markdown":"I don&#39;t know why you&#39;re being asked to do this. Compilers don&#39;t. You don&#39;t need to check for this case specifically. It will just come out as a syntax error from your parser, as it won&#39;t be able to find a valid continuation from the first operator.","body":"I don&#39;t know why you&#39;re being asked to do this. Compilers don&#39;t. You don&#39;t need to check for this case specifically. It will just come out as a syntax error from your parser, as it won&#39;t be able to find a valid continuation from the first operator."}],"owner":{"account_id":24124619,"reputation":3,"user_id":18293831,"display_name":"MonKeyLAb_vlad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645658213,"creation_date":1645657881,"question_id":71245123,"body_markdown":"&gt; Check the correctness of the entered expression (there should not be 2 signs of mathematical operations in a row, for example, the expression `3+*4` is not allowed, at the same time, the expression `4*-7` is valid)\r\n\r\nI have to add a 2 character exception for `*-` and `/-` in this code\r\n\r\n    public class Main extends Boolean{\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            String expressionText = scanner.nextLine();\r\n            List&lt;Lexeme&gt; lexemes = lexAnalyze(expressionText);\r\n            LexemeBuffer lexemeBuffer = new LexemeBuffer(lexemes);\r\n            System.out.println(expr(lexemeBuffer));\r\n        }\r\n    \r\n        public enum LexemeType {\r\n            LEFT_BRACKET, RIGHT_BRACKET,\r\n            OP_PLUS, OP_MINUS, OP_MUL, OP_DIV,\r\n            NUMBER,\r\n            EOF;\r\n        }\r\n    \r\n        public static class Lexeme {\r\n            LexemeType type;\r\n            String value;\r\n    \r\n            public Lexeme(LexemeType type, String value) {\r\n                this.type = type;\r\n                this.value = value;\r\n            }\r\n    \r\n            public Lexeme(LexemeType type, Character value) {\r\n                this.type = type;\r\n                this.value = value.toString();\r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n        public static class LexemeBuffer {\r\n            private int pos;\r\n    \r\n            public List&lt;Lexeme&gt; lexemes;\r\n    \r\n            public LexemeBuffer(List&lt;Lexeme&gt; lexemes) {\r\n                this.lexemes = lexemes;\r\n            }\r\n    \r\n            public Lexeme next() {\r\n                return lexemes.get(pos++);\r\n            }\r\n    \r\n            public void back() {\r\n                pos--;\r\n            }\r\n    \r\n            public int getPos() {\r\n                return pos;\r\n            }\r\n        }\r\n    \r\n        public\r\n    \r\n     \r\n    \r\n        static List&lt;Lexeme&gt; lexAnalyze(String expText) {\r\n                    Boolean bool = new Boolean();\r\n                    ArrayList&lt;Lexeme&gt; lexemes = new ArrayList&lt;&gt;();\r\n                    int pos = 0;\r\n                    while (pos&lt; expText.length()) {\r\n                        char c = expText.charAt(pos);\r\n                        switch (c) {\r\n                            case &#39;(&#39;:\r\n                                lexemes.add(new Lexeme(LexemeType.LEFT_BRACKET, c));\r\n                                pos++;\r\n                                continue;\r\n                            case &#39;)&#39;:\r\n                                lexemes.add(new Lexeme(LexemeType.RIGHT_BRACKET, c));\r\n                                pos++;\r\n                                continue;\r\n                            case &#39;+&#39;:\r\n                                lexemes.add(new Lexeme(LexemeType.OP_PLUS, c));\r\n                                pos++;\r\n                                continue;\r\n                            case &#39;-&#39;:\r\n                                lexemes.add(new Lexeme(LexemeType.OP_MINUS, c));\r\n                                pos++;\r\n                                continue;\r\n                            case &#39;*&#39;:\r\n                                lexemes.add(new Lexeme(LexemeType.OP_MUL, c));\r\n                                pos++;\r\n                                continue;\r\n                            case &#39;/&#39;:\r\n                                lexemes.add(new Lexeme(LexemeType.OP_DIV, c));\r\n                                pos++;\r\n                                continue;\r\n                            default:\r\n                                if (c &lt;= &#39;9&#39; &amp;&amp; c &gt;= &#39;0&#39;) {\r\n                                    StringBuilder sb = new StringBuilder();\r\n                                    do {\r\n                                        sb.append(c);\r\n                                        pos++;\r\n                                        if (pos &gt;= expText.length()) {\r\n                                            break;\r\n                                        }\r\n                                        c = expText.charAt(pos);\r\n                                    } while (c &lt;= &#39;9&#39; &amp;&amp; c &gt;= &#39;0&#39;);\r\n                                    lexemes.add(new Lexeme(LexemeType.NUMBER, sb.toString()));\r\n                                } else {\r\n                                    if (c != &#39; &#39;) {\r\n                                        System.out.println(&quot;Error&quot;);\r\n                                        bool.bool = false;\r\n                                        System.out.println(bool.bool);\r\n                                    }\r\n                                    pos++;\r\n                                }\r\n                        }\r\n                    }\r\n                    lexemes.add(new Lexeme(LexemeType.EOF, &quot;&quot;));\r\n                    return lexemes;\r\n                }\r\n            \r\n                public static int expr(LexemeBuffer lexemes) {\r\n                    Lexeme lexeme = lexemes.next();\r\n                    if (lexeme.type == LexemeType.EOF) {\r\n                        return 0;\r\n                    } else {\r\n                        lexemes.back();\r\n                        return plusminus(lexemes);\r\n                    }\r\n                }\r\n            \r\n                public static int plusminus(LexemeBuffer lexemes) {\r\n                Boolean bool = new Boolean();\r\n                    int value = multdiv(lexemes);\r\n                    while (true) {\r\n                        Lexeme lexeme = lexemes.next();\r\n                        switch (lexeme.type) {\r\n                            case OP_PLUS:\r\n                                value += multdiv(lexemes);\r\n                                break;\r\n                            case OP_MINUS:\r\n                                value -= multdiv(lexemes);\r\n                                break;\r\n                            case EOF:\r\n                            case RIGHT_BRACKET:\r\n                                lexemes.back();\r\n                                return value;\r\n                            default:\r\n                                System.out.println(&quot;Error&quot;);\r\n                                bool.bool = false;\r\n                                System.out.println(bool.bool);\r\n                        }\r\n                    }\r\n                }\r\n            \r\n                public static int multdiv(LexemeBuffer lexemes) {\r\n                    Boolean bool = new Boolean();\r\n                    int value = factor(lexemes);\r\n                    while (true) {\r\n                        Lexeme lexeme = lexemes.next();\r\n                        switch (lexeme.type) {\r\n                            case OP_MUL:\r\n                                value *= factor(lexemes);\r\n                                break;\r\n                            case OP_DIV:\r\n                                value /= factor(lexemes);\r\n                                break;\r\n                            case EOF:\r\n                            case RIGHT_BRACKET:\r\n                            case OP_PLUS:\r\n                            case OP_MINUS:\r\n                                lexemes.back();\r\n                                return value;\r\n                            default:\r\n                                System.out.println(&quot;Error&quot;);\r\n                                bool.bool = false;\r\n                                System.out.println(bool.bool);\r\n                        }\r\n                    }\r\n                }\r\n            \r\n                public static int factor(LexemeBuffer lexemes) {\r\n                    Boolean bool = new Boolean();\r\n                    Lexeme lexeme = lexemes.next();\r\n                    switch (lexeme.type) {\r\n                        case NUMBER:\r\n                            return Integer.parseInt(lexeme.value);\r\n                        case LEFT_BRACKET:\r\n                            int value = plusminus(lexemes);\r\n                            lexeme = lexemes.next();\r\n                            if (lexeme.type != LexemeType.RIGHT_BRACKET) {\r\n                                System.out.println(&quot;Error&quot;);\r\n                                bool.bool = false;\r\n                                System.out.println(bool.bool);\r\n                            }else {\r\n                                bool.bool=true;\r\n                                System.out.println(bool.bool);\r\n                                return value;\r\n                            }\r\n                        default:\r\n                            System.out.println(&quot;Error&quot;);\r\n                            bool.bool = false;\r\n                            System.out.println(bool.bool);\r\n            \r\n                    }\r\n                    return 0;\r\n                }\r\n            \r\n            \r\n            }\r\n\r\n","title":"How to make it possible to have 2 adjacent operators?","body":"<blockquote>\n<p>Check the correctness of the entered expression (there should not be 2 signs of mathematical operations in a row, for example, the expression <code>3+*4</code> is not allowed, at the same time, the expression <code>4*-7</code> is valid)</p>\n</blockquote>\n<p>I have to add a 2 character exception for <code>*-</code> and <code>/-</code> in this code</p>\n<pre><code>public class Main extends Boolean{\n\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        String expressionText = scanner.nextLine();\n        List&lt;Lexeme&gt; lexemes = lexAnalyze(expressionText);\n        LexemeBuffer lexemeBuffer = new LexemeBuffer(lexemes);\n        System.out.println(expr(lexemeBuffer));\n    }\n\n    public enum LexemeType {\n        LEFT_BRACKET, RIGHT_BRACKET,\n        OP_PLUS, OP_MINUS, OP_MUL, OP_DIV,\n        NUMBER,\n        EOF;\n    }\n\n    public static class Lexeme {\n        LexemeType type;\n        String value;\n\n        public Lexeme(LexemeType type, String value) {\n            this.type = type;\n            this.value = value;\n        }\n\n        public Lexeme(LexemeType type, Character value) {\n            this.type = type;\n            this.value = value.toString();\n        }\n\n\n    }\n\n    public static class LexemeBuffer {\n        private int pos;\n\n        public List&lt;Lexeme&gt; lexemes;\n\n        public LexemeBuffer(List&lt;Lexeme&gt; lexemes) {\n            this.lexemes = lexemes;\n        }\n\n        public Lexeme next() {\n            return lexemes.get(pos++);\n        }\n\n        public void back() {\n            pos--;\n        }\n\n        public int getPos() {\n            return pos;\n        }\n    }\n\n    public\n\n \n\n    static List&lt;Lexeme&gt; lexAnalyze(String expText) {\n                Boolean bool = new Boolean();\n                ArrayList&lt;Lexeme&gt; lexemes = new ArrayList&lt;&gt;();\n                int pos = 0;\n                while (pos&lt; expText.length()) {\n                    char c = expText.charAt(pos);\n                    switch (c) {\n                        case '(':\n                            lexemes.add(new Lexeme(LexemeType.LEFT_BRACKET, c));\n                            pos++;\n                            continue;\n                        case ')':\n                            lexemes.add(new Lexeme(LexemeType.RIGHT_BRACKET, c));\n                            pos++;\n                            continue;\n                        case '+':\n                            lexemes.add(new Lexeme(LexemeType.OP_PLUS, c));\n                            pos++;\n                            continue;\n                        case '-':\n                            lexemes.add(new Lexeme(LexemeType.OP_MINUS, c));\n                            pos++;\n                            continue;\n                        case '*':\n                            lexemes.add(new Lexeme(LexemeType.OP_MUL, c));\n                            pos++;\n                            continue;\n                        case '/':\n                            lexemes.add(new Lexeme(LexemeType.OP_DIV, c));\n                            pos++;\n                            continue;\n                        default:\n                            if (c &lt;= '9' &amp;&amp; c &gt;= '0') {\n                                StringBuilder sb = new StringBuilder();\n                                do {\n                                    sb.append(c);\n                                    pos++;\n                                    if (pos &gt;= expText.length()) {\n                                        break;\n                                    }\n                                    c = expText.charAt(pos);\n                                } while (c &lt;= '9' &amp;&amp; c &gt;= '0');\n                                lexemes.add(new Lexeme(LexemeType.NUMBER, sb.toString()));\n                            } else {\n                                if (c != ' ') {\n                                    System.out.println(&quot;Error&quot;);\n                                    bool.bool = false;\n                                    System.out.println(bool.bool);\n                                }\n                                pos++;\n                            }\n                    }\n                }\n                lexemes.add(new Lexeme(LexemeType.EOF, &quot;&quot;));\n                return lexemes;\n            }\n        \n            public static int expr(LexemeBuffer lexemes) {\n                Lexeme lexeme = lexemes.next();\n                if (lexeme.type == LexemeType.EOF) {\n                    return 0;\n                } else {\n                    lexemes.back();\n                    return plusminus(lexemes);\n                }\n            }\n        \n            public static int plusminus(LexemeBuffer lexemes) {\n            Boolean bool = new Boolean();\n                int value = multdiv(lexemes);\n                while (true) {\n                    Lexeme lexeme = lexemes.next();\n                    switch (lexeme.type) {\n                        case OP_PLUS:\n                            value += multdiv(lexemes);\n                            break;\n                        case OP_MINUS:\n                            value -= multdiv(lexemes);\n                            break;\n                        case EOF:\n                        case RIGHT_BRACKET:\n                            lexemes.back();\n                            return value;\n                        default:\n                            System.out.println(&quot;Error&quot;);\n                            bool.bool = false;\n                            System.out.println(bool.bool);\n                    }\n                }\n            }\n        \n            public static int multdiv(LexemeBuffer lexemes) {\n                Boolean bool = new Boolean();\n                int value = factor(lexemes);\n                while (true) {\n                    Lexeme lexeme = lexemes.next();\n                    switch (lexeme.type) {\n                        case OP_MUL:\n                            value *= factor(lexemes);\n                            break;\n                        case OP_DIV:\n                            value /= factor(lexemes);\n                            break;\n                        case EOF:\n                        case RIGHT_BRACKET:\n                        case OP_PLUS:\n                        case OP_MINUS:\n                            lexemes.back();\n                            return value;\n                        default:\n                            System.out.println(&quot;Error&quot;);\n                            bool.bool = false;\n                            System.out.println(bool.bool);\n                    }\n                }\n            }\n        \n            public static int factor(LexemeBuffer lexemes) {\n                Boolean bool = new Boolean();\n                Lexeme lexeme = lexemes.next();\n                switch (lexeme.type) {\n                    case NUMBER:\n                        return Integer.parseInt(lexeme.value);\n                    case LEFT_BRACKET:\n                        int value = plusminus(lexemes);\n                        lexeme = lexemes.next();\n                        if (lexeme.type != LexemeType.RIGHT_BRACKET) {\n                            System.out.println(&quot;Error&quot;);\n                            bool.bool = false;\n                            System.out.println(bool.bool);\n                        }else {\n                            bool.bool=true;\n                            System.out.println(bool.bool);\n                            return value;\n                        }\n                    default:\n                        System.out.println(&quot;Error&quot;);\n                        bool.bool = false;\n                        System.out.println(bool.bool);\n        \n                }\n                return 0;\n            }\n        \n        \n        }\n</code></pre>\n"},{"tags":["java","google-cloud-firestore","apache-beam","apache-beam-io"],"answers":[{"tags":[],"owner":{"account_id":284307,"reputation":4946,"user_id":582333,"display_name":"robertwb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645658189,"creation_date":1645658189,"answer_id":71245148,"question_id":71163275,"body_markdown":"I agree, this is not the most convenient API (and I don&#39;t see a better one at the moment). It seems to be designed for modifying existing documents, not creating new ones.\r\n\r\nI think it would make sense to have a higher-level transform; I filed https://issues.apache.org/jira/browse/BEAM-13994 . In the meantime, you could do something like\r\n\r\n```\r\nclass FirestoreWrite extends PTransform&lt;PCollection&lt;Map&lt;String, Object&gt;&gt;, PDone&gt; {\r\n  private String projectId;  // Auto-infer from environment\r\n  private String database = &quot;(defaut)&quot;;\r\n  private String collection;\r\n  \r\n  public PDone expand(PCollection&lt;Map&lt;String, Object&gt;&gt; data) {\r\n    return data\r\n        .apply(ParDo.of(new DoFn() {\r\n          @ProcessElement\r\n          public void processElement(ProcessContext c) {\r\n            builder = Document\r\n                .newBuilder()\r\n                .setName(&quot;projects/&quot; + projectId + &quot;/databases/&quot; + database + &quot;/documents/&quot; + collection + &quot;/&quot; + randomDocumentId());\r\n            // [loop over data setting values from c.element()]\r\n            c.output(builder.build());\r\n          }\r\n        }))\r\n        .apply(new CreateUpdateOperation())\r\n        .apply(FirestoreIO.v1().write().batchWrite().build());\r\n  }\r\n}\r\n```\r\n\r\nwhich would be generally re-usable and likely worth contributing to Beam.","title":"Add document to Firestore from Beam with auto generated ID","body":"<p>I agree, this is not the most convenient API (and I don't see a better one at the moment). It seems to be designed for modifying existing documents, not creating new ones.</p>\n<p>I think it would make sense to have a higher-level transform; I filed <a href=\"https://issues.apache.org/jira/browse/BEAM-13994\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/BEAM-13994</a> . In the meantime, you could do something like</p>\n<pre><code>class FirestoreWrite extends PTransform&lt;PCollection&lt;Map&lt;String, Object&gt;&gt;, PDone&gt; {\n  private String projectId;  // Auto-infer from environment\n  private String database = &quot;(defaut)&quot;;\n  private String collection;\n  \n  public PDone expand(PCollection&lt;Map&lt;String, Object&gt;&gt; data) {\n    return data\n        .apply(ParDo.of(new DoFn() {\n          @ProcessElement\n          public void processElement(ProcessContext c) {\n            builder = Document\n                .newBuilder()\n                .setName(&quot;projects/&quot; + projectId + &quot;/databases/&quot; + database + &quot;/documents/&quot; + collection + &quot;/&quot; + randomDocumentId());\n            // [loop over data setting values from c.element()]\n            c.output(builder.build());\n          }\n        }))\n        .apply(new CreateUpdateOperation())\n        .apply(FirestoreIO.v1().write().batchWrite().build());\n  }\n}\n</code></pre>\n<p>which would be generally re-usable and likely worth contributing to Beam.</p>\n"}],"owner":{"account_id":5144764,"reputation":336,"user_id":4121056,"accept_rate":75,"display_name":"S&#246;ren Henning"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71245148,"answer_count":1,"score":0,"last_activity_date":1645658189,"creation_date":1645121249,"question_id":71163275,"body_markdown":"I would like to use Apache Beam Java with the recently published Firestore connector to add new documents to a Firestore collection. While I thought that this should be a relatively easy task, the need for creating `com.google.firestore.v1.Document` objects seem to make things a bit more difficult. I was using [this blog post on *Using Firestore and Apache Beam for data processing*](https://cloud.google.com/blog/topics/developers-practitioners/using-firestore-and-apache-beam-data-processing) as a starting point.\r\n\r\nWhat I actually only want is to write is a simple transformation, mapping `MyClass` objects to Firestore documents, which are then added to a Firestore collection.\r\n\r\nWhat I now ended up with is a Beam `SimpleFunction`, which maps `MyClass` objects to `Documents`:\r\n\r\n```java\r\npublic static class Mapper extends SimpleFunction&lt;MyClass, Document&gt; {\r\n\r\n    @Override\r\n    public Document apply(final MyClass record) {\r\n      final String project = &quot;my-project&quot;;\r\n      final String database = &quot;(default)&quot;;\r\n      final String collection = &quot;my-collection&quot;;\r\n      final String documentId = someUnecessaryIdComputation();\r\n      return Document\r\n          .newBuilder()\r\n          .setName(&quot;projects/&quot; + project + &quot;/databases/&quot; + database + &quot;/documents/&quot; + collection\r\n              + &quot;/&quot; + documentId)\r\n          .putFields(&quot;key&quot;,\r\n              Value.newBuilder().setStringValue(record.getValue()).build())\r\n          // ...\r\n          .build();\r\n    }\r\n\r\n  }\r\n```\r\n\r\nand a `DoFn` transforming these `Document`s to `Write` objects with configured `update` (can probably be also simplified to a `SimpleFunction` but was copied from the blog post):\r\n\r\n```java\r\nprivate static final class CreateUpdateOperation extends DoFn&lt;Document, Write&gt; {\r\n\r\n    @ProcessElement\r\n    public void processElement(ProcessContext c) {\r\n      final Write write = Write.newBuilder()\r\n          .setUpdate(c.element())\r\n          .build();\r\n      c.output(write);\r\n    }\r\n  }\r\n```\r\n\r\nI&#39;m using these two functions in my pipeline as follows:\r\n\r\n```java\r\npipeline.apply(MapElements.via(new Mapper()))\r\n  .apply(ParDo.of(new CreateUpdateOperation()))\r\n  .apply(FirestoreIO.v1().write().batchWrite().build());\r\n```\r\n\r\nThe major disadvantages here are:\r\n * I have to specify a document ID and can not use an auto-generated one as with the [&quot;plain&quot; Java SDK](https://cloud.google.com/firestore/docs/samples/firestore-data-set-id-random-collection)\r\n * I have to specify the project ID and the database name although they should be available. At least for the Java SDK, I have don&#39;t have to set them.\r\n\r\nIs there any way to add documents using the Firestore connector without explicitly setting document ID, project ID and database?","title":"Add document to Firestore from Beam with auto generated ID","body":"<p>I would like to use Apache Beam Java with the recently published Firestore connector to add new documents to a Firestore collection. While I thought that this should be a relatively easy task, the need for creating <code>com.google.firestore.v1.Document</code> objects seem to make things a bit more difficult. I was using <a href=\"https://cloud.google.com/blog/topics/developers-practitioners/using-firestore-and-apache-beam-data-processing\" rel=\"nofollow noreferrer\">this blog post on <em>Using Firestore and Apache Beam for data processing</em></a> as a starting point.</p>\n<p>What I actually only want is to write is a simple transformation, mapping <code>MyClass</code> objects to Firestore documents, which are then added to a Firestore collection.</p>\n<p>What I now ended up with is a Beam <code>SimpleFunction</code>, which maps <code>MyClass</code> objects to <code>Documents</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class Mapper extends SimpleFunction&lt;MyClass, Document&gt; {\n\n    @Override\n    public Document apply(final MyClass record) {\n      final String project = &quot;my-project&quot;;\n      final String database = &quot;(default)&quot;;\n      final String collection = &quot;my-collection&quot;;\n      final String documentId = someUnecessaryIdComputation();\n      return Document\n          .newBuilder()\n          .setName(&quot;projects/&quot; + project + &quot;/databases/&quot; + database + &quot;/documents/&quot; + collection\n              + &quot;/&quot; + documentId)\n          .putFields(&quot;key&quot;,\n              Value.newBuilder().setStringValue(record.getValue()).build())\n          // ...\n          .build();\n    }\n\n  }\n</code></pre>\n<p>and a <code>DoFn</code> transforming these <code>Document</code>s to <code>Write</code> objects with configured <code>update</code> (can probably be also simplified to a <code>SimpleFunction</code> but was copied from the blog post):</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final class CreateUpdateOperation extends DoFn&lt;Document, Write&gt; {\n\n    @ProcessElement\n    public void processElement(ProcessContext c) {\n      final Write write = Write.newBuilder()\n          .setUpdate(c.element())\n          .build();\n      c.output(write);\n    }\n  }\n</code></pre>\n<p>I'm using these two functions in my pipeline as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>pipeline.apply(MapElements.via(new Mapper()))\n  .apply(ParDo.of(new CreateUpdateOperation()))\n  .apply(FirestoreIO.v1().write().batchWrite().build());\n</code></pre>\n<p>The major disadvantages here are:</p>\n<ul>\n<li>I have to specify a document ID and can not use an auto-generated one as with the <a href=\"https://cloud.google.com/firestore/docs/samples/firestore-data-set-id-random-collection\" rel=\"nofollow noreferrer\">&quot;plain&quot; Java SDK</a></li>\n<li>I have to specify the project ID and the database name although they should be available. At least for the Java SDK, I have don't have to set them.</li>\n</ul>\n<p>Is there any way to add documents using the Firestore connector without explicitly setting document ID, project ID and database?</p>\n"},{"tags":["java","netbeans-12"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1645431053,"post_id":71202984,"comment_id":125860362,"body_markdown":"It&#39;s unclear what you&#39;re describing. Is Netbeans itself showing you this message or is this the output of running *your* code? If it&#39;s about your code, then maybe make sure that the path you use is not `null`? Also, [edit] your question to include your code.","body":"It&#39;s unclear what you&#39;re describing. Is Netbeans itself showing you this message or is this the output of running <i>your</i> code? If it&#39;s about your code, then maybe make sure that the path you use is not <code>null</code>? Also, <a href=\"https://stackoverflow.com/posts/71202984/edit\">edit</a> your question to include your code."},{"owner":{"account_id":5961807,"reputation":27,"user_id":4686752,"accept_rate":0,"display_name":"Maqsood Alam"},"score":0,"creation_date":1645431888,"post_id":71202984,"comment_id":125860627,"body_markdown":"Before Running the project itself I am getting this notification I have added detailed Exception Please look that. I have not set any Path","body":"Before Running the project itself I am getting this notification I have added detailed Exception Please look that. I have not set any Path"}],"owner":{"account_id":5961807,"reputation":27,"user_id":4686752,"accept_rate":0,"display_name":"Maqsood Alam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":686,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645657831,"creation_date":1645430737,"question_id":71202984,"body_markdown":"My java version 17.0.2; Java HotSpot(TM) 64-Bit Server VM 17.0.2+8-LTS-86. getting unexpected exception in NetBeans12.6 cannot invoke java.nio.file.path.startswith(java.nio.file.path) because path is null. Before Running the project itself am getting this error\r\nDetailed Exception:\r\n\r\n```\r\nCannot invoke &quot;java.nio.file.Path.startsWith(java.nio.file.Path)&quot; because &quot;path&quot; is null\r\n\tat org.netbeans.modules.gradle.GradleModuleFileCache21$CachedArtifactVersion.&lt;init&gt;(GradleModuleFileCache21.java:143)\r\n\tat org.netbeans.modules.gradle.GradleModuleFileCache21.resolveCachedArtifactVersion(GradleModuleFileCache21.java:225)\r\n\tat org.netbeans.modules.gradle.api.GradleProjects.getJavadoc(GradleProjects.java:74)\r\n\tat org.netbeans.modules.gradle.java.queries.GradleSourceForRepository.findJavadoc(GradleSourceForRepository.java:83)\r\n\tat org.netbeans.api.java.queries.JavadocForBinaryQuery.findJavadoc(JavadocForBinaryQuery.java:62)\r\n\tat org.netbeans.modules.javadoc.search.JavadocRegistry.readRoots(JavadocRegistry.java:153)\r\n\tat org.netbeans.modules.javadoc.search.JavadocRegistry.getDocRoots(JavadocRegistry.java:106)\r\n\tat org.netbeans.modules.javadoc.search.IndexBuilder.refreshIndex(IndexBuilder.java:159)\r\n\tat org.netbeans.modules.javadoc.search.IndexBuilder.run(IndexBuilder.java:105)\r\n\tat org.openide.util.RequestProcessor$Task.run(RequestProcessor.java:1418)\r\n\tat org.netbeans.modules.openide.util.GlobalLookup.execute(GlobalLookup.java:45)\r\n\tat org.openide.util.lookup.Lookups.executeWith(Lookups.java:278)\r\n[catch] at org.openide.util.RequestProcessor$Processor.run(RequestProcessor.java:2033)\r\n```","title":"Unexpected Exception in Netbeans 12.6","body":"<p>My java version 17.0.2; Java HotSpot(TM) 64-Bit Server VM 17.0.2+8-LTS-86. getting unexpected exception in NetBeans12.6 cannot invoke java.nio.file.path.startswith(java.nio.file.path) because path is null. Before Running the project itself am getting this error\nDetailed Exception:</p>\n<pre><code>Cannot invoke &quot;java.nio.file.Path.startsWith(java.nio.file.Path)&quot; because &quot;path&quot; is null\n    at org.netbeans.modules.gradle.GradleModuleFileCache21$CachedArtifactVersion.&lt;init&gt;(GradleModuleFileCache21.java:143)\n    at org.netbeans.modules.gradle.GradleModuleFileCache21.resolveCachedArtifactVersion(GradleModuleFileCache21.java:225)\n    at org.netbeans.modules.gradle.api.GradleProjects.getJavadoc(GradleProjects.java:74)\n    at org.netbeans.modules.gradle.java.queries.GradleSourceForRepository.findJavadoc(GradleSourceForRepository.java:83)\n    at org.netbeans.api.java.queries.JavadocForBinaryQuery.findJavadoc(JavadocForBinaryQuery.java:62)\n    at org.netbeans.modules.javadoc.search.JavadocRegistry.readRoots(JavadocRegistry.java:153)\n    at org.netbeans.modules.javadoc.search.JavadocRegistry.getDocRoots(JavadocRegistry.java:106)\n    at org.netbeans.modules.javadoc.search.IndexBuilder.refreshIndex(IndexBuilder.java:159)\n    at org.netbeans.modules.javadoc.search.IndexBuilder.run(IndexBuilder.java:105)\n    at org.openide.util.RequestProcessor$Task.run(RequestProcessor.java:1418)\n    at org.netbeans.modules.openide.util.GlobalLookup.execute(GlobalLookup.java:45)\n    at org.openide.util.lookup.Lookups.executeWith(Lookups.java:278)\n[catch] at org.openide.util.RequestProcessor$Processor.run(RequestProcessor.java:2033)\n</code></pre>\n"},{"tags":["java","rabbitmq"],"comments":[{"owner":{"account_id":13300553,"reputation":111,"user_id":9602180,"display_name":"Tryliom"},"score":0,"creation_date":1527496623,"post_id":50562203,"comment_id":88134871,"body_markdown":"Give the full stack trace error","body":"Give the full stack trace error"},{"owner":{"account_id":13300553,"reputation":111,"user_id":9602180,"display_name":"Tryliom"},"score":0,"creation_date":1527498840,"post_id":50562203,"comment_id":88136099,"body_markdown":"When you created the connection, do you have an error on this or at the creation of a channel ?","body":"When you created the connection, do you have an error on this or at the creation of a channel ?"},{"owner":{"account_id":10052002,"reputation":135,"user_id":7431532,"display_name":"DoctorMckay"},"score":0,"creation_date":1527498986,"post_id":50562203,"comment_id":88136194,"body_markdown":"Based on the debugger the line that gives me the error is the one that creates the connection:\nConnection conn = factory.newConnection();","body":"Based on the debugger the line that gives me the error is the one that creates the connection: Connection conn = factory.newConnection();"},{"owner":{"account_id":13300553,"reputation":111,"user_id":9602180,"display_name":"Tryliom"},"score":0,"creation_date":1527499273,"post_id":50562203,"comment_id":88136349,"body_markdown":"So verify the informations you give like the host and port (It isn&#39;t localhost for the host ?)","body":"So verify the informations you give like the host and port (It isn&#39;t localhost for the host ?)"},{"owner":{"account_id":10052002,"reputation":135,"user_id":7431532,"display_name":"DoctorMckay"},"score":0,"creation_date":1527499371,"post_id":50562203,"comment_id":88136395,"body_markdown":"I&#39;ve written &quot;myIp&quot; there because I have my server&#39;s real ip in my code.","body":"I&#39;ve written &quot;myIp&quot; there because I have my server&#39;s real ip in my code."},{"owner":{"account_id":1693949,"reputation":715,"user_id":1555772,"accept_rate":90,"display_name":"rajesh6115"},"score":0,"creation_date":1527578303,"post_id":50562203,"comment_id":88166024,"body_markdown":"factory.useSslProtocol(); this line may cause issue. ssl is a big mesh in java!!!!","body":"factory.useSslProtocol(); this line may cause issue. ssl is a big mesh in java!!!!"},{"owner":{"account_id":4783629,"reputation":2581,"user_id":3864737,"accept_rate":75,"display_name":"Olivier"},"score":1,"creation_date":1527579936,"post_id":50562203,"comment_id":88166995,"body_markdown":"Do you have access to the RabbitMQ server? If so, could you retrieve the logs - make sure that you have a queue connected to exchange amq.rabbitmq.log, binding &quot;#&quot; to get all log messages.","body":"Do you have access to the RabbitMQ server? If so, could you retrieve the logs - make sure that you have a queue connected to exchange amq.rabbitmq.log, binding &quot;#&quot; to get all log messages."},{"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"score":0,"creation_date":1527597253,"post_id":50562203,"comment_id":88178251,"body_markdown":"You need to first try this without TLS/SSL. If that works, follow the instructions in this guide: https://www.rabbitmq.com/troubleshooting-ssl.html","body":"You need to first try this without TLS/SSL. If that works, follow the instructions in this guide: <a href=\"https://www.rabbitmq.com/troubleshooting-ssl.html\" rel=\"nofollow noreferrer\">rabbitmq.com/troubleshooting-ssl.html</a>"},{"owner":{"account_id":10052002,"reputation":135,"user_id":7431532,"display_name":"DoctorMckay"},"score":0,"creation_date":1527666968,"post_id":50562203,"comment_id":88207631,"body_markdown":"I do have access to the server.  I&#39;m configuring both the client and the server.\n\nThe connection is working without TLS/SSL.  I&#39;ll try following that guide.","body":"I do have access to the server.  I&#39;m configuring both the client and the server.  The connection is working without TLS/SSL.  I&#39;ll try following that guide."}],"answers":[{"tags":[],"owner":{"account_id":9220797,"reputation":624,"user_id":6850323,"display_name":"em_bo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588963692,"creation_date":1588963692,"answer_id":61686006,"question_id":50562203,"body_markdown":"I don&#39;t know if this applies to your situation, but I recently resolved a similar situation while testing RabbitMQ 3.8.3, and the cause was that the key I was referencing was password-protected, but I had failed to provide the password in the RabbitMQ config, like this:\r\n\r\n    ssl_options.password = password\r\n\r\nUnfortunately there was absolutely nothing in the RabbitMQ logs about this, even with the log level set to debug. When testing via various clients, a connection was established, but RabbitMQ immediately sent a connection reset. ","title":"RabbitMQ Connection reset","body":"<p>I don't know if this applies to your situation, but I recently resolved a similar situation while testing RabbitMQ 3.8.3, and the cause was that the key I was referencing was password-protected, but I had failed to provide the password in the RabbitMQ config, like this:</p>\n\n<pre><code>ssl_options.password = password\n</code></pre>\n\n<p>Unfortunately there was absolutely nothing in the RabbitMQ logs about this, even with the log level set to debug. When testing via various clients, a connection was established, but RabbitMQ immediately sent a connection reset. </p>\n"},{"tags":[],"owner":{"account_id":15557006,"reputation":1504,"user_id":11756421,"display_name":"DistantBlue"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590090713,"creation_date":1590090713,"answer_id":61942742,"question_id":50562203,"body_markdown":"I had the same issue right here: https://stackoverflow.com/questions/61941965/rabbitmq-connection-reset-exception. Solution for Windows was to add backslash in rabbit config file for paths to certs and key.","title":"RabbitMQ Connection reset","body":"<p>I had the same issue right here: <a href=\"https://stackoverflow.com/questions/61941965/rabbitmq-connection-reset-exception\">RabbitMQ Connection reset Exception</a>. Solution for Windows was to add backslash in rabbit config file for paths to certs and key.</p>\n"},{"tags":[],"owner":{"account_id":9051012,"reputation":1,"user_id":6741177,"display_name":"GreenMachine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645657595,"creation_date":1645657595,"answer_id":71245082,"question_id":50562203,"body_markdown":"I had this exact same error and my issue was in the rabbitmq.conf file. I was trying to use a JKS file for the following ssl options. Generating my own self signed .pem files was able to help fix this. I followed this guide pretty closely https://www.codetd.com/en/article/12031242.\r\n\r\n```\r\nssl_options.cacertfile = /etc/rabbitmq/ca_certificate.pem\r\nssl_options.certfile   = /etc/rabbitmq/server_certificate.pem\r\nssl_options.keyfile    = /etc/rabbitmq/server_key.pem\r\n```","title":"RabbitMQ Connection reset","body":"<p>I had this exact same error and my issue was in the rabbitmq.conf file. I was trying to use a JKS file for the following ssl options. Generating my own self signed .pem files was able to help fix this. I followed this guide pretty closely <a href=\"https://www.codetd.com/en/article/12031242\" rel=\"nofollow noreferrer\">https://www.codetd.com/en/article/12031242</a>.</p>\n<pre><code>ssl_options.cacertfile = /etc/rabbitmq/ca_certificate.pem\nssl_options.certfile   = /etc/rabbitmq/server_certificate.pem\nssl_options.keyfile    = /etc/rabbitmq/server_key.pem\n</code></pre>\n"}],"owner":{"account_id":10052002,"reputation":135,"user_id":7431532,"display_name":"DoctorMckay"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10442,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1645657595,"creation_date":1527496425,"question_id":50562203,"body_markdown":"I&#39;m trying to connect a simple RabbitMQ using java code to my server (which is executing the RabbitMQ service).\r\nExecuting the following code ([source here][1]) gives me the  **java.net.SocketException: Connection Reset** exception.\r\n\r\n    import java.io.*;\r\n    import java.security.*;\r\n    \r\n    \r\n    import com.rabbitmq.client.*;\r\n    \r\n    public class test\r\n    {\r\n        public static void main(String[] args) throws Exception\r\n        {\r\n    \r\n            ConnectionFactory factory = new ConnectionFactory();\r\n            factory.setHost(&quot;myIP&quot;);  //myIP is just dummy text, I have a real IP there\r\n            factory.setPort(5672);\r\n            factory.setUsername(&quot;admin&quot;);\r\n            factory.setPassword(&quot;sesgo&quot;);\r\n            factory.setVirtualHost(&quot;vSESGO&quot;);\r\n    \r\n            factory.useSslProtocol();\r\n    \r\n            Connection conn = factory.newConnection();\r\n            Channel channel = conn.createChannel();\r\n    \r\n            channel.queueDeclare(&quot;rabbitmq-java-test&quot;, false, true, true, null);\r\n            channel.basicPublish(&quot;&quot;, &quot;rabbitmq-java-test&quot;, null, &quot;Hello, World&quot;.getBytes());\r\n    \r\n    \r\n            GetResponse chResponse = channel.basicGet(&quot;rabbitmq-java-test&quot;, false);\r\n            if(chResponse == null) {\r\n                System.out.println(&quot;No message retrieved&quot;);\r\n            } else {\r\n                byte[] body = chResponse.getBody();\r\n                System.out.println(&quot;Recieved: &quot; + new String(body));\r\n            }\r\n    \r\n    \r\n            channel.close();\r\n            conn.close();\r\n        }\r\n    }\r\n\r\nI&#39;ve looked for an answer online and I&#39;ve already tried:\r\n\r\n 1. Verifying the server has the port I&#39;m connecting to opened.\r\n 2. Verifying the client does not block my connection with firewalls, etc.\r\n 3. Creating a new Virtual Host on RabbitMQ and giving permissions to it.\r\n 4. Verifying iptables is not blocking me at the server side.\r\n\r\nNothing seems to work, any ideas?\r\n\r\nFull stacktrace here:\r\n\r\n    This trust manager trusts every certificate, effectively disabling peer verification. This is convenient for local development but prone to man-in-the-middle attacks. Please see http://www.rabbitmq.com/ssl.html#validating-cerficates to learn more about peer certificate validation.\r\n    Exception in thread &quot;main&quot; java.net.SocketException: Connection reset\r\n     at java.net.SocketInputStream.read(Unknown Source)\r\n     at java.net.SocketInputStream.read(Unknown Source)\r\n     at sun.security.ssl.InputRecord.readFully(Unknown Source)\r\n     at sun.security.ssl.InputRecord.read(Unknown Source)\r\n     at sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\r\n     at sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\r\n     at sun.security.ssl.SSLSocketImpl.writeRecord(Unknown Source)\r\n     at sun.security.ssl.AppOutputStream.write(Unknown Source)\r\n     at java.io.BufferedOutputStream.flushBuffer(Unknown Source)\r\n     at java.io.BufferedOutputStream.flush(Unknown Source)\r\n     at java.io.DataOutputStream.flush(Unknown Source)\r\n     at com.rabbitmq.client.impl.SocketFrameHandler.sendHeader(SocketFrameHandler.java:147)\r\n     at com.rabbitmq.client.impl.SocketFrameHandler.sendHeader(SocketFrameHandler.java:153)\r\n     at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:294)\r\n     at com.rabbitmq.client.impl.recovery.RecoveryAwareAMQConnectionFactory.newConnection(RecoveryAwareAMQConnectionFactory.java:63)\r\n     at com.rabbitmq.client.impl.recovery.AutorecoveringConnection.init(AutorecoveringConnection.java:99)\r\n     at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:921)\r\n     at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:880)\r\n     at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:838)\r\n     at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:990)\r\n     at test.main(test.java:25)\r\n\r\n  [1]: https://www.rabbitmq.com/ssl.html#connecting-without-validating","title":"RabbitMQ Connection reset","body":"<p>I'm trying to connect a simple RabbitMQ using java code to my server (which is executing the RabbitMQ service).\nExecuting the following code (<a href=\"https://www.rabbitmq.com/ssl.html#connecting-without-validating\" rel=\"noreferrer\">source here</a>) gives me the  <strong>java.net.SocketException: Connection Reset</strong> exception.</p>\n\n<pre><code>import java.io.*;\nimport java.security.*;\n\n\nimport com.rabbitmq.client.*;\n\npublic class test\n{\n    public static void main(String[] args) throws Exception\n    {\n\n        ConnectionFactory factory = new ConnectionFactory();\n        factory.setHost(\"myIP\");  //myIP is just dummy text, I have a real IP there\n        factory.setPort(5672);\n        factory.setUsername(\"admin\");\n        factory.setPassword(\"sesgo\");\n        factory.setVirtualHost(\"vSESGO\");\n\n        factory.useSslProtocol();\n\n        Connection conn = factory.newConnection();\n        Channel channel = conn.createChannel();\n\n        channel.queueDeclare(\"rabbitmq-java-test\", false, true, true, null);\n        channel.basicPublish(\"\", \"rabbitmq-java-test\", null, \"Hello, World\".getBytes());\n\n\n        GetResponse chResponse = channel.basicGet(\"rabbitmq-java-test\", false);\n        if(chResponse == null) {\n            System.out.println(\"No message retrieved\");\n        } else {\n            byte[] body = chResponse.getBody();\n            System.out.println(\"Recieved: \" + new String(body));\n        }\n\n\n        channel.close();\n        conn.close();\n    }\n}\n</code></pre>\n\n<p>I've looked for an answer online and I've already tried:</p>\n\n<ol>\n<li>Verifying the server has the port I'm connecting to opened.</li>\n<li>Verifying the client does not block my connection with firewalls, etc.</li>\n<li>Creating a new Virtual Host on RabbitMQ and giving permissions to it.</li>\n<li>Verifying iptables is not blocking me at the server side.</li>\n</ol>\n\n<p>Nothing seems to work, any ideas?</p>\n\n<p>Full stacktrace here:</p>\n\n<pre><code>This trust manager trusts every certificate, effectively disabling peer verification. This is convenient for local development but prone to man-in-the-middle attacks. Please see http://www.rabbitmq.com/ssl.html#validating-cerficates to learn more about peer certificate validation.\nException in thread \"main\" java.net.SocketException: Connection reset\n at java.net.SocketInputStream.read(Unknown Source)\n at java.net.SocketInputStream.read(Unknown Source)\n at sun.security.ssl.InputRecord.readFully(Unknown Source)\n at sun.security.ssl.InputRecord.read(Unknown Source)\n at sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\n at sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\n at sun.security.ssl.SSLSocketImpl.writeRecord(Unknown Source)\n at sun.security.ssl.AppOutputStream.write(Unknown Source)\n at java.io.BufferedOutputStream.flushBuffer(Unknown Source)\n at java.io.BufferedOutputStream.flush(Unknown Source)\n at java.io.DataOutputStream.flush(Unknown Source)\n at com.rabbitmq.client.impl.SocketFrameHandler.sendHeader(SocketFrameHandler.java:147)\n at com.rabbitmq.client.impl.SocketFrameHandler.sendHeader(SocketFrameHandler.java:153)\n at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:294)\n at com.rabbitmq.client.impl.recovery.RecoveryAwareAMQConnectionFactory.newConnection(RecoveryAwareAMQConnectionFactory.java:63)\n at com.rabbitmq.client.impl.recovery.AutorecoveringConnection.init(AutorecoveringConnection.java:99)\n at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:921)\n at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:880)\n at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:838)\n at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:990)\n at test.main(test.java:25)\n</code></pre>\n"},{"tags":["java","inheritance","quarkus","lombok"],"answers":[{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645657337,"creation_date":1645576576,"answer_id":71230022,"question_id":71228822,"body_markdown":"Maybe there is a better way, but you can create a constructor inside your `Notification` class which has the type as parameter and then manually create an all args constructor for your `Email` class. Lombok will use this constructor for the builder instead of generating one.\r\n\r\n    public class Notification {\r\n    \r\n        private final String type;\r\n    \r\n        protected Notification(String type) {\r\n            this.type = type;\r\n        }\r\n    }\r\n\r\n    @Builder\r\n    public class Email extends Notification {\r\n    \r\n        private String test;\r\n    \r\n        private Email(String test) {\r\n            super(&quot;EMAIL&quot;);\r\n            this.test = test;\r\n        }\r\n    }\r\n\r\n---\r\n\r\n`@SuperBuilder` is a bit more complex to work with, but the idea is the same. You can still write parts of the code that is normally generated by lombok yourself and change its behavior with your own code.\r\n\r\nSo you implement the `build` method yourself and set the `type` to `EMAIL`.\r\n\r\n    @SuperBuilder(toBuilder = true)\r\n    public class Email extends Notification {\r\n    \r\n        private String test;\r\n    \r\n        public static class EmailBuilderImpl extends EmailBuilder&lt;Email, EmailBuilderImpl&gt; {\r\n            /* Make sure the value is never accidently set to something other than `EMAIL`*/\r\n            @Override\r\n            public EmailBuilderImpl type(String type) {\r\n                if (!type.equals(&quot;EMAIL&quot;)) {\r\n                    throw new UnsupportedOperationException();\r\n                }\r\n                return super.type(type);\r\n            }\r\n    \r\n            public Email build() {\r\n                return new Email(type(&quot;EMAIL&quot;));\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Define default value for inherited class using lombok","body":"<p>Maybe there is a better way, but you can create a constructor inside your <code>Notification</code> class which has the type as parameter and then manually create an all args constructor for your <code>Email</code> class. Lombok will use this constructor for the builder instead of generating one.</p>\n<pre><code>public class Notification {\n\n    private final String type;\n\n    protected Notification(String type) {\n        this.type = type;\n    }\n}\n\n@Builder\npublic class Email extends Notification {\n\n    private String test;\n\n    private Email(String test) {\n        super(&quot;EMAIL&quot;);\n        this.test = test;\n    }\n}\n</code></pre>\n<hr />\n<p><code>@SuperBuilder</code> is a bit more complex to work with, but the idea is the same. You can still write parts of the code that is normally generated by lombok yourself and change its behavior with your own code.</p>\n<p>So you implement the <code>build</code> method yourself and set the <code>type</code> to <code>EMAIL</code>.</p>\n<pre><code>@SuperBuilder(toBuilder = true)\npublic class Email extends Notification {\n\n    private String test;\n\n    public static class EmailBuilderImpl extends EmailBuilder&lt;Email, EmailBuilderImpl&gt; {\n        /* Make sure the value is never accidently set to something other than `EMAIL`*/\n        @Override\n        public EmailBuilderImpl type(String type) {\n            if (!type.equals(&quot;EMAIL&quot;)) {\n                throw new UnsupportedOperationException();\n            }\n            return super.type(type);\n        }\n\n        public Email build() {\n            return new Email(type(&quot;EMAIL&quot;));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17940452,"reputation":383,"user_id":16946039,"display_name":"Hugo Vinhal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":961,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71230022,"answer_count":1,"score":1,"last_activity_date":1645657337,"creation_date":1645567125,"question_id":71228822,"body_markdown":"So I am developing a notification service which, for now, only has a ```Notification``` and an ```Email``` entity, where Email extends Notification.\r\n\r\nThe ```Notification``` entity has a column named ```type``` which stores the type of the notification (ie: EMAIL, MESSAGE, PUSH, etc) and I want to know if there is a way to define a default value for the ```type``` column for each of the childs of ```Notification``` while using lombok.\r\n\r\nI see that a common practice is to set the type on the constructor, like this:\r\n\r\n```\r\npublic Email() {\r\n    setType(&quot;EMAIL&quot;);\r\n}\r\n```\r\nBut I am using the builder from lombok to instatiate ```Email```, like this:\r\n\r\n```\r\npublic static Email fromEmailRequest(final EmailRequest emailRequest) {\r\n        if (Objects.isNull(emailRequest)) {\r\n            return Email.builder().build();\r\n        }\r\n        Set&lt;String&gt; set = new LinkedHashSet&lt;&gt;(emailRequest.getRecipients());\r\n        return Email.builder()\r\n                .content(emailRequest.getContent())\r\n                .recipients(Lists.newArrayList(set))\r\n                .sender(emailRequest.getSender())\r\n                .subject(emailRequest.getSubject())\r\n                .type(NotificationTypeEnum.EMAIL)\r\n                .build();\r\n}\r\n```\r\n\r\nThe approach I am using now sets the type in the request DTO mapper, but I think this logic should be somewhere in the entities. ","title":"Define default value for inherited class using lombok","body":"<p>So I am developing a notification service which, for now, only has a <code>Notification</code> and an <code>Email</code> entity, where Email extends Notification.</p>\n<p>The <code>Notification</code> entity has a column named <code>type</code> which stores the type of the notification (ie: EMAIL, MESSAGE, PUSH, etc) and I want to know if there is a way to define a default value for the <code>type</code> column for each of the childs of <code>Notification</code> while using lombok.</p>\n<p>I see that a common practice is to set the type on the constructor, like this:</p>\n<pre><code>public Email() {\n    setType(&quot;EMAIL&quot;);\n}\n</code></pre>\n<p>But I am using the builder from lombok to instatiate <code>Email</code>, like this:</p>\n<pre><code>public static Email fromEmailRequest(final EmailRequest emailRequest) {\n        if (Objects.isNull(emailRequest)) {\n            return Email.builder().build();\n        }\n        Set&lt;String&gt; set = new LinkedHashSet&lt;&gt;(emailRequest.getRecipients());\n        return Email.builder()\n                .content(emailRequest.getContent())\n                .recipients(Lists.newArrayList(set))\n                .sender(emailRequest.getSender())\n                .subject(emailRequest.getSubject())\n                .type(NotificationTypeEnum.EMAIL)\n                .build();\n}\n</code></pre>\n<p>The approach I am using now sets the type in the request DTO mapper, but I think this logic should be somewhere in the entities.</p>\n"},{"tags":["java","maven","jar","gson"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1645654648,"post_id":71244560,"comment_id":125933393,"body_markdown":"Your configuration for creating a JAR with dependencies looks incomplete. Please have a look at [the answers of this question](https://stackoverflow.com/q/574594).","body":"Your configuration for creating a JAR with dependencies looks incomplete. Please have a look at <a href=\"https://stackoverflow.com/q/574594\">the answers of this question</a>."},{"owner":{"account_id":24358794,"reputation":11,"user_id":18293494,"display_name":"geikov"},"score":0,"creation_date":1645658734,"post_id":71244560,"comment_id":125934447,"body_markdown":"@Marcono1234 yeah that definitely worked, don&#39;t know why i did not tried that before, thank you so much.","body":"@Marcono1234 yeah that definitely worked, don&#39;t know why i did not tried that before, thank you so much."}],"owner":{"account_id":24358794,"reputation":11,"user_id":18293494,"display_name":"geikov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645700956,"answer_count":0,"score":0,"last_activity_date":1645656231,"creation_date":1645653714,"question_id":71244560,"body_markdown":"I am trying to use the gson library on a project, which I execute via `java -jar`, the problem I encountered is that the gson dependency is not being added to it.\r\n\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;es.batoipop&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Chat&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;name&gt;Chat&lt;/name&gt;\r\n    &lt;url&gt;https://www.example.com&lt;/url&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;!-- Build an executable JAR --&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                            &lt;mainClass&gt;es.batoipop.App&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThe error I get is this one:  \r\n[![][1]][1]\r\n\r\nThis has never happened before, and I have been searching for a while but I have not found nothing to solve it\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dqGsw.png","title":"Gson dependency not being added to generated jar","body":"<p>I am trying to use the gson library on a project, which I execute via <code>java -jar</code>, the problem I encountered is that the gson dependency is not being added to it.</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;es.batoipop&lt;/groupId&gt;\n    &lt;artifactId&gt;Chat&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;Chat&lt;/name&gt;\n    &lt;url&gt;https://www.example.com&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.8&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;!-- Build an executable JAR --&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;es.batoipop.App&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The error I get is this one:<br />\n<a href=\"https://i.stack.imgur.com/dqGsw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dqGsw.png\" alt=\"\" /></a></p>\n<p>This has never happened before, and I have been searching for a while but I have not found nothing to solve it</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":284307,"reputation":4946,"user_id":582333,"display_name":"robertwb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645656124,"creation_date":1645656124,"answer_id":71244870,"question_id":71171215,"body_markdown":"A streaming pipeline will keep trying rather than completing in a failed state. You could publish the message from within the DoFn itself.","title":"How to get the Pipeline status in Dataflow with multiple ParDo using Apache Bean Java","body":"<p>A streaming pipeline will keep trying rather than completing in a failed state. You could publish the message from within the DoFn itself.</p>\n"}],"owner":{"account_id":13600901,"reputation":435,"user_id":9811614,"display_name":"hepzi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645656124,"creation_date":1645176943,"question_id":71171215,"body_markdown":"Pipeline contain multiple ParDo functions(Refer below code).Need to send the Failed message to pubsub topic when Dataflow pipeline ParDo function failed. Tried with PipelineResults we are not able to get the status. Any centralized logic to implement status when dataflow pipeline failed?\r\nKindly suggest me the idea to resolve the issue.\r\n\r\n    public class PubMessage {\r\n            public static final Logger LOG = LoggerFactory.getLogger(PubMessage.class.getName());\r\n    \tpublic static void main(String[] args) {\r\n    \t\tPipelineOption options = PipelineOptionsFactory.fromArgs(args).as(PipelineOption.class);\r\n    \r\n    \t\tPipeline pipeline = Pipeline.create(options);\r\n\r\n    \t\tPCollection&lt;String&gt; input = pipeline.apply(&quot;Read Dummy File&quot;, new ReadDummyFile(options.getDummyFilepath()));\r\n    \r\n    \t\tPublish Pubsub Message to Topic\r\n    \t\tinput.apply(&quot;Pardo&quot;, ParDo.of(new msg(options.getPath()))).apply(&quot;Publish Pubsub Message&quot;,PubsubIO.writeMessages().to(options.getTopic()));\r\n\r\n    \t\t// Publish second message to Topic\t\t\r\n    \t\tString print_topic = options.getTopic();\r\n    \t\tinput.apply(&quot;Pardo&quot;, ParDo.of(new msgSecond(&quot;Read text&quot;).apply(&quot;Publish Pubsub Message&quot;,PubsubIO.writeMessages().to(options.getTopic()));\r\n\r\n\r\n    \t\tPipelineResult p = pipeline.run();\r\n        if (PipelineResult.State.FAILED.equals(p.waitUntilFinish())) {\r\n            throw new RuntimeException(&quot;Pipeline failed for unknown reason&quot;);\r\n            // send pubsub msg\r\n        }\r\n\r\n\r\nmsg\r\n\r\n    public class msg extends DoFn&lt;String, PubsubMessage&gt; {\r\n    \t@ProcessElement\r\n    \tpublic void processElement(ProcessContext c) {\r\n    \t\t//get the value sending msg to topic\r\n    \t\tc.output(message);\r\n    \t}\r\n    }\t\r\n    \t\r\n    msgSecond\r\n    \t\r\n       public class msgSecondextends DoFn&lt;String, PubsubMessage&gt; {\r\n        \t@ProcessElement\r\n        \tpublic void processElement(ProcessContext c) {\r\n        \t\t//get the value sending msg to topic\r\n        \t\tc.output(message);\r\n        \t}\r\n        }\r\n\r\n\t\t\t  \r\n\t\t\r\n\t\t","title":"How to get the Pipeline status in Dataflow with multiple ParDo using Apache Bean Java","body":"<p>Pipeline contain multiple ParDo functions(Refer below code).Need to send the Failed message to pubsub topic when Dataflow pipeline ParDo function failed. Tried with PipelineResults we are not able to get the status. Any centralized logic to implement status when dataflow pipeline failed?\nKindly suggest me the idea to resolve the issue.</p>\n<pre><code>public class PubMessage {\n        public static final Logger LOG = LoggerFactory.getLogger(PubMessage.class.getName());\n    public static void main(String[] args) {\n        PipelineOption options = PipelineOptionsFactory.fromArgs(args).as(PipelineOption.class);\n\n        Pipeline pipeline = Pipeline.create(options);\n\n        PCollection&lt;String&gt; input = pipeline.apply(&quot;Read Dummy File&quot;, new ReadDummyFile(options.getDummyFilepath()));\n\n        Publish Pubsub Message to Topic\n        input.apply(&quot;Pardo&quot;, ParDo.of(new msg(options.getPath()))).apply(&quot;Publish Pubsub Message&quot;,PubsubIO.writeMessages().to(options.getTopic()));\n\n        // Publish second message to Topic      \n        String print_topic = options.getTopic();\n        input.apply(&quot;Pardo&quot;, ParDo.of(new msgSecond(&quot;Read text&quot;).apply(&quot;Publish Pubsub Message&quot;,PubsubIO.writeMessages().to(options.getTopic()));\n\n\n        PipelineResult p = pipeline.run();\n    if (PipelineResult.State.FAILED.equals(p.waitUntilFinish())) {\n        throw new RuntimeException(&quot;Pipeline failed for unknown reason&quot;);\n        // send pubsub msg\n    }\n</code></pre>\n<p>msg</p>\n<pre><code>public class msg extends DoFn&lt;String, PubsubMessage&gt; {\n    @ProcessElement\n    public void processElement(ProcessContext c) {\n        //get the value sending msg to topic\n        c.output(message);\n    }\n}   \n    \nmsgSecond\n    \n   public class msgSecondextends DoFn&lt;String, PubsubMessage&gt; {\n        @ProcessElement\n        public void processElement(ProcessContext c) {\n            //get the value sending msg to topic\n            c.output(message);\n        }\n    }\n\n          \n    \n    \n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645656059,"creation_date":1645656059,"answer_id":71244866,"question_id":71244821,"body_markdown":"Your problem is right here...\r\n\r\n    public void setRandomNum(double randomNumber) {\r\n        this.randomNum = randomNum;\r\n    }\r\n\r\nYou pass in `randomNumber`, but you assign `randomNum` to itself\r\n\r\nIt should be...\r\n\r\n    public void setRandomNum(double randomNumber) {\r\n        this.randomNum = randomNumber;\r\n    }\r\n","title":"GuessingGame Math.random - Create a guessing game where the c","body":"<p>Your problem is right here...</p>\n<pre><code>public void setRandomNum(double randomNumber) {\n    this.randomNum = randomNum;\n}\n</code></pre>\n<p>You pass in <code>randomNumber</code>, but you assign <code>randomNum</code> to itself</p>\n<p>It should be...</p>\n<pre><code>public void setRandomNum(double randomNumber) {\n    this.randomNum = randomNumber;\n}\n</code></pre>\n"}],"owner":{"account_id":24358986,"reputation":1,"user_id":18293657,"display_name":"Lucas Torres"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645912993,"answer_count":1,"score":0,"last_activity_date":1645656059,"creation_date":1645655703,"question_id":71244821,"body_markdown":"I am creating an Instantiable Class Guessing Game app where computer comes up with a random number and the user guesses (output winner or loser), however there is something not working on my code, it only returns me Winner if userInput = 0.\r\n\r\nI have added a System.out.println as check the random number generated and confirm if the code was working properly.\r\n\r\nCould you please help me?\r\n\r\n# Guessing Game Class Code\r\n\r\n    public class GuessingGame {\r\n    \r\n    //define variable\r\n        private int randomNum;\r\n        private int userInput;\r\n        private String msg;\r\n    \r\n        //Constructor method\r\n    \r\n        public void GuessingGame(){\r\n            randomNum = 0;\r\n            userInput = 0 ;\r\n            msg = &quot;&quot;;\r\n        }\r\n        //set method\r\n        public void setRandomNum(double randomNumber){\r\n            this.randomNum = randomNum;\r\n        }\r\n        public void setUserInput(int userInput){\r\n            this.userInput = userInput;\r\n        }\r\n    \r\n        // compute method\r\n        public void computeMsg() {\r\n            if (randomNum == userInput) {\r\n                msg = &quot;Winner&quot;;\r\n            } else {\r\n                msg = &quot;Loser&quot;;\r\n            }\r\n        }\r\n            //get method\r\n            public String getMsg(){\r\n                return msg;\r\n            }\r\n        }\r\n\r\n# Guessing Game App Class Code\r\n    \r\n    import javax.swing.*;\r\n    \r\n    public class GuessingGameApp {\r\n        public static void main(String[] args) {\r\n            //declare variables\r\n            int randomNum = (int) (Math.random() * 20);\r\n            int userInput;\r\n            String msg;\r\n    \r\n            //declare and create objects\r\n            GuessingGame c;\r\n            c = new GuessingGame();\r\n            System.out.println(randomNum);\r\n    \r\n            userInput = Integer.parseInt(JOptionPane.showInputDialog(null, &quot;Enter a guess&quot;));\r\n    \r\n            //set\r\n            c.setRandomNum(randomNum);\r\n            c.setUserInput(userInput);\r\n    \r\n            //compute\r\n            c.computeMsg();\r\n    \r\n            //get\r\n            msg = c.getMsg();\r\n    \r\n            //output\r\n            JOptionPane.showMessageDialog(null, msg);\r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"GuessingGame Math.random - Create a guessing game where the c","body":"<p>I am creating an Instantiable Class Guessing Game app where computer comes up with a random number and the user guesses (output winner or loser), however there is something not working on my code, it only returns me Winner if userInput = 0.</p>\n<p>I have added a System.out.println as check the random number generated and confirm if the code was working properly.</p>\n<p>Could you please help me?</p>\n<h1>Guessing Game Class Code</h1>\n<pre><code>public class GuessingGame {\n\n//define variable\n    private int randomNum;\n    private int userInput;\n    private String msg;\n\n    //Constructor method\n\n    public void GuessingGame(){\n        randomNum = 0;\n        userInput = 0 ;\n        msg = &quot;&quot;;\n    }\n    //set method\n    public void setRandomNum(double randomNumber){\n        this.randomNum = randomNum;\n    }\n    public void setUserInput(int userInput){\n        this.userInput = userInput;\n    }\n\n    // compute method\n    public void computeMsg() {\n        if (randomNum == userInput) {\n            msg = &quot;Winner&quot;;\n        } else {\n            msg = &quot;Loser&quot;;\n        }\n    }\n        //get method\n        public String getMsg(){\n            return msg;\n        }\n    }\n</code></pre>\n<h1>Guessing Game App Class Code</h1>\n<pre><code>import javax.swing.*;\n\npublic class GuessingGameApp {\n    public static void main(String[] args) {\n        //declare variables\n        int randomNum = (int) (Math.random() * 20);\n        int userInput;\n        String msg;\n\n        //declare and create objects\n        GuessingGame c;\n        c = new GuessingGame();\n        System.out.println(randomNum);\n\n        userInput = Integer.parseInt(JOptionPane.showInputDialog(null, &quot;Enter a guess&quot;));\n\n        //set\n        c.setRandomNum(randomNum);\n        c.setUserInput(userInput);\n\n        //compute\n        c.computeMsg();\n\n        //get\n        msg = c.getMsg();\n\n        //output\n        JOptionPane.showMessageDialog(null, msg);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data","jpql"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1646766490,"post_id":71240853,"comment_id":126203849,"body_markdown":"if you want the message id and list of messageReply instances, why not just query on MessageReply and their associated message id? &quot;select m.id, mr from Message m left join m.replies mr where mr.sentByUser = :userId&quot;. This query will return multiple MessageReply instances for the same message ID that you then would need to build your own collection for - you can build Message instances from the data yourself, or just return a map of Ids and MesageReply sets - but the advantage is that it doesn&#39;t limit your object model to alway have to filter these collections by a particular user.","body":"if you want the message id and list of messageReply instances, why not just query on MessageReply and their associated message id? &quot;select m.id, mr from Message m left join m.replies mr where mr.sentByUser = :userId&quot;. This query will return multiple MessageReply instances for the same message ID that you then would need to build your own collection for - you can build Message instances from the data yourself, or just return a map of Ids and MesageReply sets - but the advantage is that it doesn&#39;t limit your object model to alway have to filter these collections by a particular user."}],"answers":[{"tags":[],"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645655419,"creation_date":1645654928,"answer_id":71244726,"question_id":71240853,"body_markdown":"You can try to use hibernate [@Filter](https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#pc-filter).\r\n\r\n1. You should correct your entity mapping in the following way:\r\n\r\n``` java\r\npublic class Message {\r\n    @Id\r\n    private UUID id;\r\n    \r\n    @OneToMany(mappedBy = &quot;message&quot;)\r\n    @Filter(\r\n        name=&quot;messagesForUser&quot;,\r\n        condition=&quot;user_id = :userId&quot;\r\n    )\r\n    private Set&lt;MessageReply&gt; replies;\r\n}\r\n```\r\n\r\n2. You should correct your query:\r\n\r\n``` java\r\n@Query(&quot;select m from Message m left join fetch m.replies where m.id = :messageId&quot;)\r\nOptional&lt;Message&gt; getMessage(UUID messageId);\r\n```\r\n\r\n3. And then you can use it in the following way:\r\n\r\n``` java\r\nentityManager\r\n    .unwrap(Session.class)\r\n    .enableFilter(&quot;messagesForUser&quot;)\r\n    .setParameter(&quot;userId&quot;, userId);\r\n\r\nOptional&lt;Message&gt; message = yourRepo.getMessage(messageId);\r\n```\r\n\r\nP.S. As it&#39;s stated in the hibernate documentation:\r\n\r\n&gt; Filters apply to entity queries, *but not to direct fetching*.\r\n\r\nTherefore, in the following example, the filter is not taken into consideration when fetching an entity from the Persistence Context.\r\n\r\n``` java\r\nentityManager\r\n    .unwrap(Session.class)\r\n    .enableFilter(&quot;messagesForUser&quot;)\r\n    .setParameter(&quot;userId&quot;, userId);\r\n\r\nMessage message = entityManager.find(Message.class, messageId);\r\n```","title":"Filter assosciated collection in JPA query","body":"<p>You can try to use hibernate <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#pc-filter\" rel=\"nofollow noreferrer\">@Filter</a>.</p>\n<ol>\n<li>You should correct your entity mapping in the following way:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class Message {\n    @Id\n    private UUID id;\n    \n    @OneToMany(mappedBy = &quot;message&quot;)\n    @Filter(\n        name=&quot;messagesForUser&quot;,\n        condition=&quot;user_id = :userId&quot;\n    )\n    private Set&lt;MessageReply&gt; replies;\n}\n</code></pre>\n<ol start=\"2\">\n<li>You should correct your query:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;select m from Message m left join fetch m.replies where m.id = :messageId&quot;)\nOptional&lt;Message&gt; getMessage(UUID messageId);\n</code></pre>\n<ol start=\"3\">\n<li>And then you can use it in the following way:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>entityManager\n    .unwrap(Session.class)\n    .enableFilter(&quot;messagesForUser&quot;)\n    .setParameter(&quot;userId&quot;, userId);\n\nOptional&lt;Message&gt; message = yourRepo.getMessage(messageId);\n</code></pre>\n<p>P.S. As it's stated in the hibernate documentation:</p>\n<blockquote>\n<p>Filters apply to entity queries, <em>but not to direct fetching</em>.</p>\n</blockquote>\n<p>Therefore, in the following example, the filter is not taken into consideration when fetching an entity from the Persistence Context.</p>\n<pre class=\"lang-java prettyprint-override\"><code>entityManager\n    .unwrap(Session.class)\n    .enableFilter(&quot;messagesForUser&quot;)\n    .setParameter(&quot;userId&quot;, userId);\n\nMessage message = entityManager.find(Message.class, messageId);\n</code></pre>\n"}],"owner":{"account_id":6138978,"reputation":2133,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":917,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645655419,"creation_date":1645634505,"question_id":71240853,"body_markdown":"Given the following domain model\r\n\r\n    Message ---&lt; MessageReply &gt;--- User\r\n\r\nOr in terms of the entity classes\r\n```java\r\npublic class Message {\r\n    @Id\r\n    private UUID id;\r\n    \r\n    @OneToMany(mappedBy = &quot;message&quot;)\r\n    private Set&lt;MessageReply&gt; replies;\r\n}\r\n    \r\npublic class MessageReply {\r\n    @Id\r\n    private UUID id;\r\n    \r\n    @ManyToOne(optional = false)\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User sentByUser;\r\n    \r\n    @ManyToOne(optional = false)\r\n    @JoinColumn(name = &quot;message_id&quot;)\r\n    private Message message;\r\n}\r\n```\r\n\r\nI&#39;m trying to write a JPQL query that returns a message by ID along with any replies sent by a particular user. Ideally, I would like the replies to be eagerly loaded. If the message doesn&#39;t have any replies it should be returned, so I need to use a left-join to the the replies.\r\n\r\nIn my Spring Data repository, I&#39;ve tried various options e.g.\r\n\r\n```java\r\n@Query(&quot;from Message m &quot; +\r\n    &quot;left join fetch m.replies mr on mr.user.id = :userId &quot; +\r\n    &quot;where m.id = :messageId&quot;)\r\nOptional&lt;Message&gt; getMessage(UUID userId, UUID messageId);\r\n```\r\n\r\nThe attempt above yields an error\r\n\r\n&gt; with-clause not allowed on fetched associations; use filters\r\n\r\nI&#39;ve also tried moving the user predicate to the where clause, but I either get nothing returned, or the message is returned with replies from all users.\r\n\r\nIs it even possible to filter associated collections in the query itself? If not, I guess I&#39;ll post-process the result of the query to remove replies from other users.","title":"Filter assosciated collection in JPA query","body":"<p>Given the following domain model</p>\n<pre><code>Message ---&lt; MessageReply &gt;--- User\n</code></pre>\n<p>Or in terms of the entity classes</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Message {\n    @Id\n    private UUID id;\n    \n    @OneToMany(mappedBy = &quot;message&quot;)\n    private Set&lt;MessageReply&gt; replies;\n}\n    \npublic class MessageReply {\n    @Id\n    private UUID id;\n    \n    @ManyToOne(optional = false)\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User sentByUser;\n    \n    @ManyToOne(optional = false)\n    @JoinColumn(name = &quot;message_id&quot;)\n    private Message message;\n}\n</code></pre>\n<p>I'm trying to write a JPQL query that returns a message by ID along with any replies sent by a particular user. Ideally, I would like the replies to be eagerly loaded. If the message doesn't have any replies it should be returned, so I need to use a left-join to the the replies.</p>\n<p>In my Spring Data repository, I've tried various options e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;from Message m &quot; +\n    &quot;left join fetch m.replies mr on mr.user.id = :userId &quot; +\n    &quot;where m.id = :messageId&quot;)\nOptional&lt;Message&gt; getMessage(UUID userId, UUID messageId);\n</code></pre>\n<p>The attempt above yields an error</p>\n<blockquote>\n<p>with-clause not allowed on fetched associations; use filters</p>\n</blockquote>\n<p>I've also tried moving the user predicate to the where clause, but I either get nothing returned, or the message is returned with replies from all users.</p>\n<p>Is it even possible to filter associated collections in the query itself? If not, I guess I'll post-process the result of the query to remove replies from other users.</p>\n"},{"tags":["java"],"owner":{"account_id":22306351,"reputation":15,"user_id":16673362,"display_name":"JSO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1645655204,"creation_date":1645655204,"question_id":71244760,"body_markdown":"I am trying to create a version of the card game &quot;War.&quot; If the human player has the higher rank, he/she wins, and if the computer draws the higher rank, it wins.\r\n\r\nThe first part of the application uses a class called Dealer, which contains the method drawCards(). Here is the code I&#39;ve made thus far\r\n\r\n    import java.util.Random;\r\n    public class Dealer\r\n    {\r\n    \r\n    public void drawCards()\r\n    {\r\n    \t\tCard computerCard = new Card();\r\n    \t\tCard playerCard = new Card();\r\n    \t\tWar2 warGame = new War2();\r\n    \t\tint compSuitNum = (int)(Math.random() * 100) % 4 + 1;\r\n    \t\tint playerSuitNum = (int)(Math.random() * 100) % 4 + 1;\r\n    \t\tString computerSuit = &quot;Spades&quot;;\r\n    \t\tString playerSuit = &quot;Spades&quot;;\r\n    \t\tString result;\r\n    \t\t\r\n    \t\tif(compSuitNum == 1 &amp;&amp; playerSuitNum == 1)\r\n    \t\t\tcompSuitNum = 4;\r\n    \t\t\r\n    \t\tif(compSuitNum == 2 &amp;&amp; playerSuitNum == 2)\r\n    \t\t\tcompSuitNum = 3;\r\n    \t\t\r\n    \t\tif(compSuitNum == 3 &amp;&amp; playerSuitNum == 3)\r\n    \t\t\tcompSuitNum = 2;\r\n    \t\t\r\n    \t\tif(compSuitNum == 4 &amp;&amp; playerSuitNum == 4)\r\n    \t\t\tcompSuitNum = 1;\r\n    \t\t\r\n    \t\tswitch(compSuitNum)\r\n    \t\t{\r\n    \t\t\tcase 1:\r\n    \t\t\t\tcomputerSuit = &quot;Spades&quot;;\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase 2:\r\n    \t\t\t\tcomputerSuit = &quot;Hearts&quot;;\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase 3:\r\n    \t\t\t\tcomputerSuit = &quot;Clubs&quot;;\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase 4:\r\n    \t\t\t\tcomputerSuit = &quot;Diamonds&quot;;\r\n    \t\t\t\tbreak;\r\n    \t\t}\r\n    \t\t\r\n    \t\tswitch(playerSuitNum)\r\n    \t\t{\r\n    \t\t\tcase 1:\r\n    \t\t\t\tplayerSuit = &quot;Spades&quot;;\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase 2:\r\n    \t\t\t\tplayerSuit = &quot;Hearts&quot;;\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase 3:\r\n    \t\t\t\tplayerSuit = &quot;Clubs&quot;;\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase 4:\r\n    \t\t\t\tplayerSuit = &quot;Diamonds&quot;;\r\n    \t\t\t\tbreak;\r\n    \t\t}\r\n    \t\t\r\n    \t\tcomputerCard.setSuit(computerSuit);\r\n    \t\tcomputerCard.setRank((int)(Math.random() * 100) % 13 + 1);\r\n    \t\tString computerCardSuit = computerCard.getSuit();\r\n    \t\tint computerCardRank = computerCard.getRank();\r\n    \t\t\r\n    \t\tplayerCard.setSuit(playerSuit);\r\n    \t\tplayerCard.setRank((int)(Math.random() * 100) % 13 + 1);\r\n    \t\tString playerCardSuit = playerCard.getSuit();\r\n    \t\tint playerCardRank = playerCard.getRank();\r\n    \t\t\r\n    \t\tif(computerCardRank &gt; playerCardRank)\r\n    \t\t\tresult = &quot;Computer wins&quot;;\r\n    \t\telse\r\n    \t\t\tif(playerCardRank &gt; computerCardRank)\r\n    \t\t\t\tresult = &quot;Player wins&quot;;\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\tresult = &quot;Tie&quot;;\r\n    \t\t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Computer Player\\t\\tHuman Player\\t\\tResult&quot;);\r\n    \t\tSystem.out.println(computerCardRank + &quot; of &quot; + computerCardSuit + &quot;\\t\\t&quot; + \r\n    \t\t\tplayerCardRank + &quot; of &quot; + playerCardSuit + &quot;\\t\\t&quot; + result);\r\n    \t\t\t\r\n    \t\tif(playerCardRank == computerCardRank)\r\n    \t\t\twarGame.warCall();\r\n    \t\t\r\n    \t}\r\n\r\nThe best I have been able to come up with is a series of &quot;if&quot; statements. This ensures that the player and computer never draw the same suit. However, the problem is that the player and computer also never draw the same suit but different rank (which is okay). The current code changes the suit of one of the cards if the same suit is drawn. What I&#39;d like to accomplish is making sure both the same suit and the same rank are not drawn twice for the player and computer. \r\n\r\nThanks.","title":"Creating a card game and ensuring that the same card is not drawn twice","body":"<p>I am trying to create a version of the card game &quot;War.&quot; If the human player has the higher rank, he/she wins, and if the computer draws the higher rank, it wins.</p>\n<p>The first part of the application uses a class called Dealer, which contains the method drawCards(). Here is the code I've made thus far</p>\n<pre><code>import java.util.Random;\npublic class Dealer\n{\n\npublic void drawCards()\n{\n        Card computerCard = new Card();\n        Card playerCard = new Card();\n        War2 warGame = new War2();\n        int compSuitNum = (int)(Math.random() * 100) % 4 + 1;\n        int playerSuitNum = (int)(Math.random() * 100) % 4 + 1;\n        String computerSuit = &quot;Spades&quot;;\n        String playerSuit = &quot;Spades&quot;;\n        String result;\n        \n        if(compSuitNum == 1 &amp;&amp; playerSuitNum == 1)\n            compSuitNum = 4;\n        \n        if(compSuitNum == 2 &amp;&amp; playerSuitNum == 2)\n            compSuitNum = 3;\n        \n        if(compSuitNum == 3 &amp;&amp; playerSuitNum == 3)\n            compSuitNum = 2;\n        \n        if(compSuitNum == 4 &amp;&amp; playerSuitNum == 4)\n            compSuitNum = 1;\n        \n        switch(compSuitNum)\n        {\n            case 1:\n                computerSuit = &quot;Spades&quot;;\n                break;\n            case 2:\n                computerSuit = &quot;Hearts&quot;;\n                break;\n            case 3:\n                computerSuit = &quot;Clubs&quot;;\n                break;\n            case 4:\n                computerSuit = &quot;Diamonds&quot;;\n                break;\n        }\n        \n        switch(playerSuitNum)\n        {\n            case 1:\n                playerSuit = &quot;Spades&quot;;\n                break;\n            case 2:\n                playerSuit = &quot;Hearts&quot;;\n                break;\n            case 3:\n                playerSuit = &quot;Clubs&quot;;\n                break;\n            case 4:\n                playerSuit = &quot;Diamonds&quot;;\n                break;\n        }\n        \n        computerCard.setSuit(computerSuit);\n        computerCard.setRank((int)(Math.random() * 100) % 13 + 1);\n        String computerCardSuit = computerCard.getSuit();\n        int computerCardRank = computerCard.getRank();\n        \n        playerCard.setSuit(playerSuit);\n        playerCard.setRank((int)(Math.random() * 100) % 13 + 1);\n        String playerCardSuit = playerCard.getSuit();\n        int playerCardRank = playerCard.getRank();\n        \n        if(computerCardRank &gt; playerCardRank)\n            result = &quot;Computer wins&quot;;\n        else\n            if(playerCardRank &gt; computerCardRank)\n                result = &quot;Player wins&quot;;\n            else\n            {\n                result = &quot;Tie&quot;;\n            }\n        \n        System.out.println(&quot;Computer Player\\t\\tHuman Player\\t\\tResult&quot;);\n        System.out.println(computerCardRank + &quot; of &quot; + computerCardSuit + &quot;\\t\\t&quot; + \n            playerCardRank + &quot; of &quot; + playerCardSuit + &quot;\\t\\t&quot; + result);\n            \n        if(playerCardRank == computerCardRank)\n            warGame.warCall();\n        \n    }\n</code></pre>\n<p>The best I have been able to come up with is a series of &quot;if&quot; statements. This ensures that the player and computer never draw the same suit. However, the problem is that the player and computer also never draw the same suit but different rank (which is okay). The current code changes the suit of one of the cards if the same suit is drawn. What I'd like to accomplish is making sure both the same suit and the same rank are not drawn twice for the player and computer.</p>\n<p>Thanks.</p>\n"},{"tags":["java","unit-testing","junit","spring-data-jpa","nativequery"],"answers":[{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645654193,"creation_date":1645654193,"answer_id":71244628,"question_id":71244307,"body_markdown":"When you execute this row\r\n```java\r\nuserRepository.deletePlantById(1, 5);\r\n```\r\nyou are deleting the user plants in the database, but the object `user` has still the list of user plants inside.\r\n\r\nIn order to check that the deletion has been done correctly, you have to execute a query to find the user plants by the user id. I assume the interface `UserPlantRepository` exists.\r\n```java\r\n@Test\r\nvoid givenPlantIdAndUserIdShouldDeletePlantOfThatIdFromUserPlants() {\r\n   userRepository.deletePlantById(1, 5);\r\n   assertTrue(userPlantRepository.findByUserId(1)).isEmpty()\r\n}\r\n```\r\n\r\n","title":"JUnit testing native queries annotated with @Modifying","body":"<p>When you execute this row</p>\n<pre class=\"lang-java prettyprint-override\"><code>userRepository.deletePlantById(1, 5);\n</code></pre>\n<p>you are deleting the user plants in the database, but the object <code>user</code> has still the list of user plants inside.</p>\n<p>In order to check that the deletion has been done correctly, you have to execute a query to find the user plants by the user id. I assume the interface <code>UserPlantRepository</code> exists.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid givenPlantIdAndUserIdShouldDeletePlantOfThatIdFromUserPlants() {\n   userRepository.deletePlantById(1, 5);\n   assertTrue(userPlantRepository.findByUserId(1)).isEmpty()\n}\n</code></pre>\n"}],"owner":{"account_id":22276945,"reputation":23,"user_id":16505940,"display_name":"ma_po"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1614,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71244628,"answer_count":1,"score":0,"last_activity_date":1645654193,"creation_date":1645652103,"question_id":71244307,"body_markdown":"I&#39;m making a SpringBoot app where I have two classes with many-to-many relationship: User and Plant. I&#39;m using a MySQL database, where I have tables *users*, *plants* and a joined table for the two classes *user_plants*. \r\n\r\nI then have a UserRepository interface, where I defined a method for deleting entries from the *user_plants* table:\r\n``` \r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n\r\n    @Modifying\r\n    @Query(value = &quot;DELETE FROM user_plants WHERE user_id = ?1 AND plant_id = ?2&quot;, nativeQuery = true)\r\n    void deletePlantById(int userId, int plantId);\r\n}\r\n ```\r\n\r\nThis method is later used in UserService class:\r\n ```\r\n@Service\r\npublic class UserService {\r\n   private final UserRepository userRepository;\r\n\r\n    @Autowired\r\n    public UserService(UserRepository userRepository){\r\n        this.userRepository = userRepository;   }\r\n\r\n    @Transactional\r\n    public void deletePlant(int userId, int plantId){\r\n        userRepository.deletePlantById(userId, plantId);\r\n    }}\r\n ```\r\n\r\nI have recently started learning about unit tests and I&#39;m trying to write a unit test for UserRepository. I managed to successfully test all of the default JpaRepository methods, such as *getById*, *findAll* etc. However, the test for the method implemented by me always fails.\r\n ```\r\n@DataJpaTest\r\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\nclass UserRepositoryTest {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n    private User user;\r\n\r\n    @BeforeEach\r\n    public void setUp(){\r\n        Set&lt;Plant&gt; plantsSet = new LinkedHashSet&lt;&gt;();\r\n        plantsSet.add(new Plant(5, &quot;Monstera&quot;));\r\n        user = new User(1, &quot;Alice&quot;, plantsSet);\r\n        userRepository.save(user);\r\n    }\r\n\r\n    @AfterEach\r\n    public void clean(){\r\n        userRepository.deleteAll();\r\n        user = null;\r\n    }\r\n\r\n    @Test\r\n    void givenPlantIdAndUserIdShouldDeletePlantOfThatIdFromUserPlants() {\r\n        userRepository.deletePlantById(1, 5);\r\n        assertTrue(user.getOwnedPlants().isEmpty());\r\n    }\r\n ```\r\nI tested this method manually and I could see that it works correctly - changes to the database were made the way that I wanted. So why does the test fail? How should I go about writing it?","title":"JUnit testing native queries annotated with @Modifying","body":"<p>I'm making a SpringBoot app where I have two classes with many-to-many relationship: User and Plant. I'm using a MySQL database, where I have tables <em>users</em>, <em>plants</em> and a joined table for the two classes <em>user_plants</em>.</p>\n<p>I then have a UserRepository interface, where I defined a method for deleting entries from the <em>user_plants</em> table:</p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n\n    @Modifying\n    @Query(value = &quot;DELETE FROM user_plants WHERE user_id = ?1 AND plant_id = ?2&quot;, nativeQuery = true)\n    void deletePlantById(int userId, int plantId);\n}\n</code></pre>\n<p>This method is later used in UserService class:</p>\n<pre><code>@Service\npublic class UserService {\n  private final UserRepository userRepository;\n\n   @Autowired\n   public UserService(UserRepository userRepository){\n       this.userRepository = userRepository;   }\n\n   @Transactional\n   public void deletePlant(int userId, int plantId){\n       userRepository.deletePlantById(userId, plantId);\n   }}\n</code></pre>\n<p>I have recently started learning about unit tests and I'm trying to write a unit test for UserRepository. I managed to successfully test all of the default JpaRepository methods, such as <em>getById</em>, <em>findAll</em> etc. However, the test for the method implemented by me always fails.</p>\n<pre><code>@DataJpaTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\nclass UserRepositoryTest {\n\n   @Autowired\n   private UserRepository userRepository;\n   private User user;\n\n   @BeforeEach\n   public void setUp(){\n       Set&lt;Plant&gt; plantsSet = new LinkedHashSet&lt;&gt;();\n       plantsSet.add(new Plant(5, &quot;Monstera&quot;));\n       user = new User(1, &quot;Alice&quot;, plantsSet);\n       userRepository.save(user);\n   }\n\n   @AfterEach\n   public void clean(){\n       userRepository.deleteAll();\n       user = null;\n   }\n\n   @Test\n   void givenPlantIdAndUserIdShouldDeletePlantOfThatIdFromUserPlants() {\n       userRepository.deletePlantById(1, 5);\n       assertTrue(user.getOwnedPlants().isEmpty());\n   }\n</code></pre>\n<p>I tested this method manually and I could see that it works correctly - changes to the database were made the way that I wanted. So why does the test fail? How should I go about writing it?</p>\n"},{"tags":["java","io","client-server","outputstream","bytearrayoutputstream"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1645508173,"post_id":71216220,"comment_id":125883201,"body_markdown":"`ByteArrayOutputStream` *is* &#39;dynamically changing&#39;. What is your actual question?","body":"<code>ByteArrayOutputStream</code> <i>is</i> &#39;dynamically changing&#39;. What is your actual question?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1645508546,"post_id":71216220,"comment_id":125883284,"body_markdown":"It&#39;s an output stream. Write to it. But does this code really produce this output? It looks exactly the same as your previous, working, version except for the unused `ByteArrayOutputStream`.","body":"It&#39;s an output stream. Write to it. But does this code really produce this output? It looks exactly the same as your previous, working, version except for the unused <code>ByteArrayOutputStream</code>."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1645508901,"post_id":71216220,"comment_id":125883357,"body_markdown":"Your previous code printed everything the server sent. So does this code, it being the same. I don&#39;t understand what you&#39;re asking. Nor what `ByteArrayOutputStream` has to do with it. You don&#39;t need it, you have other working code.","body":"Your previous code printed everything the server sent. So does this code, it being the same. I don&#39;t understand what you&#39;re asking. Nor what <code>ByteArrayOutputStream</code> has to do with it. You don&#39;t need it, you have other working code."},{"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"score":0,"creation_date":1645514301,"post_id":71216220,"comment_id":125884561,"body_markdown":"Write to the Output stream, read from the input stream. Simple as that.","body":"Write to the Output stream, read from the input stream. Simple as that."}],"answers":[{"tags":[],"owner":{"account_id":23670727,"reputation":256,"user_id":17697525,"display_name":"math-chen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645509909,"creation_date":1645508629,"answer_id":71216423,"question_id":71216220,"body_markdown":"You didn&#39;t send the user data to the server. Just modify `TCPClient` like this:\r\n```\r\npackage tcpclient;\r\n\r\nimport java.net.*;\r\nimport java.io.*;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\npublic class TCPClient\r\n{\r\n    public TCPClient()\r\n    {}\r\n\r\n    public byte[] askServer(String hostname, int port, byte[] toServerBytes) throws IOException\r\n    {\r\n        Socket clientSocket = new Socket(hostname, port);\r\n\r\n        byte[] bufferSize = new byte[1000];\r\n\r\n        //send message to the server\r\n        clientSocket.getOutputStream().write(toServerBytes);\r\n\r\n        // Query response\r\n        String response;\r\n        // Length of response\r\n        int responseLength;\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        while((responseLength = clientSocket.getInputStream().read(bufferSize)) != -1)\r\n        {\r\n            response = new String(bufferSize, 0, responseLength, StandardCharsets.UTF_8);\r\n            sb.append(response);\r\n        }\r\n\r\n        clientSocket.close();\r\n        return sb.toString().getBytes();\r\n    }\r\n```","title":"how to implement ByteArrayOutputStream?","body":"<p>You didn't send the user data to the server. Just modify <code>TCPClient</code> like this:</p>\n<pre><code>package tcpclient;\n\nimport java.net.*;\nimport java.io.*;\nimport java.nio.charset.StandardCharsets;\n\npublic class TCPClient\n{\n    public TCPClient()\n    {}\n\n    public byte[] askServer(String hostname, int port, byte[] toServerBytes) throws IOException\n    {\n        Socket clientSocket = new Socket(hostname, port);\n\n        byte[] bufferSize = new byte[1000];\n\n        //send message to the server\n        clientSocket.getOutputStream().write(toServerBytes);\n\n        // Query response\n        String response;\n        // Length of response\n        int responseLength;\n        StringBuilder sb = new StringBuilder();\n\n        while((responseLength = clientSocket.getInputStream().read(bufferSize)) != -1)\n        {\n            response = new String(bufferSize, 0, responseLength, StandardCharsets.UTF_8);\n            sb.append(response);\n        }\n\n        clientSocket.close();\n        return sb.toString().getBytes();\n    }\n</code></pre>\n"}],"owner":{"account_id":21577809,"reputation":25,"user_id":16930689,"display_name":"Dyson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71216423,"answer_count":1,"score":0,"last_activity_date":1645653818,"creation_date":1645506825,"question_id":71216220,"body_markdown":"I need help with implementing an byteArrayOutputStream that stores the output from the server, which I can then read from and print. Does anyone know how to do this? Any help would be much appreciated. \r\n\r\nTCPAsk: \r\n\r\n    import java.net.*;\r\n    import java.io.*;\r\n    import tcpclient.TCPClient;\r\n    \r\n    public class TCPAsk {\r\n        /*\r\n         * Usage: explain how to use the program, then exit with failure status\r\n         */\r\n        private static void usage() {\r\n            System.err.println(&quot;Usage: TCPAsk host port &lt;data to server&gt;&quot;);\r\n            System.exit(1);\r\n        }\r\n    \r\n        /*\r\n         * Main program. Parse arguments on command line and call TCPClient\r\n         */\r\n        public static void main( String[] args) {\r\n            String hostname = null;\r\n            int port = 0;\r\n            byte[] userInputBytes = new byte[0];\r\n    \r\n            try {\r\n                // Get mandatory command line arguments: hostname and port number\r\n                int argindex = 0;\r\n                hostname = args[argindex++];\r\n                port = Integer.parseInt(args[argindex++]);\r\n    \r\n                // Remaining arguments, if any, are string to send to server\r\n                if (argindex &lt; args.length) {\r\n                    // Collect remaining arguments into a string with single space as separator\r\n                    StringBuilder builder = new StringBuilder();\r\n                    boolean first = true;\r\n                    while (argindex &lt; args.length) {\r\n                        if (first)\r\n                            first = false;\r\n                        else\r\n                            builder.append(&quot; &quot;);\r\n                        builder.append(args[argindex++]);\r\n                    }\r\n                    builder.append(&quot;\\n&quot;);\r\n                    userInputBytes = builder.toString().getBytes();\r\n                }\r\n            } catch (ArrayIndexOutOfBoundsException | NumberFormatException ex) {\r\n                // Exceeded array while parsing command line, or could\r\n                // not convert port number argument to integer -- tell user\r\n                // how to use the program\r\n                usage();\r\n            }\r\n    \r\n            try {\r\n                TCPClient tcpClient = new tcpclient.TCPClient();\r\n                byte[] serverBytes  = tcpClient.askServer(hostname, port, userInputBytes);\r\n                String serverOutput = new String(serverBytes);\r\n                System.out.printf(&quot;%s:%d says:\\n%s&quot;, hostname, port, serverOutput);\r\n            } catch(IOException ex) {\r\n                System.err.println(ex);\r\n                System.exit(1);\r\n            }\r\n        }\r\n    }\r\n\r\nEdit: my code is now working and it is similar to the answer (TCPClient) given below with some minor additions. ByteArrayOutputStream is not needed. ","title":"how to implement ByteArrayOutputStream?","body":"<p>I need help with implementing an byteArrayOutputStream that stores the output from the server, which I can then read from and print. Does anyone know how to do this? Any help would be much appreciated.</p>\n<p>TCPAsk:</p>\n<pre><code>import java.net.*;\nimport java.io.*;\nimport tcpclient.TCPClient;\n\npublic class TCPAsk {\n    /*\n     * Usage: explain how to use the program, then exit with failure status\n     */\n    private static void usage() {\n        System.err.println(&quot;Usage: TCPAsk host port &lt;data to server&gt;&quot;);\n        System.exit(1);\n    }\n\n    /*\n     * Main program. Parse arguments on command line and call TCPClient\n     */\n    public static void main( String[] args) {\n        String hostname = null;\n        int port = 0;\n        byte[] userInputBytes = new byte[0];\n\n        try {\n            // Get mandatory command line arguments: hostname and port number\n            int argindex = 0;\n            hostname = args[argindex++];\n            port = Integer.parseInt(args[argindex++]);\n\n            // Remaining arguments, if any, are string to send to server\n            if (argindex &lt; args.length) {\n                // Collect remaining arguments into a string with single space as separator\n                StringBuilder builder = new StringBuilder();\n                boolean first = true;\n                while (argindex &lt; args.length) {\n                    if (first)\n                        first = false;\n                    else\n                        builder.append(&quot; &quot;);\n                    builder.append(args[argindex++]);\n                }\n                builder.append(&quot;\\n&quot;);\n                userInputBytes = builder.toString().getBytes();\n            }\n        } catch (ArrayIndexOutOfBoundsException | NumberFormatException ex) {\n            // Exceeded array while parsing command line, or could\n            // not convert port number argument to integer -- tell user\n            // how to use the program\n            usage();\n        }\n\n        try {\n            TCPClient tcpClient = new tcpclient.TCPClient();\n            byte[] serverBytes  = tcpClient.askServer(hostname, port, userInputBytes);\n            String serverOutput = new String(serverBytes);\n            System.out.printf(&quot;%s:%d says:\\n%s&quot;, hostname, port, serverOutput);\n        } catch(IOException ex) {\n            System.err.println(ex);\n            System.exit(1);\n        }\n    }\n}\n</code></pre>\n<p>Edit: my code is now working and it is similar to the answer (TCPClient) given below with some minor additions. ByteArrayOutputStream is not needed.</p>\n"},{"tags":["java","swing","user-interface","resize","gridbaglayout"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1351037727,"post_id":13040747,"comment_id":17706598,"body_markdown":"You&#39;d need to use a different layout manager other then grid bag layout, as it&#39;s honoring the preferred size where it can. Off the top of my head, I can&#39;t recommend one.  The issue at hand is how to determine the &quot;aspect ratio&quot;","body":"You&#39;d need to use a different layout manager other then grid bag layout, as it&#39;s honoring the preferred size where it can. Off the top of my head, I can&#39;t recommend one.  The issue at hand is how to determine the &quot;aspect ratio&quot;"},{"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"score":0,"creation_date":1351151267,"post_id":13040747,"comment_id":17743541,"body_markdown":"Take a look at my updated answer.","body":"Take a look at my updated answer."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1351157515,"post_id":13040747,"comment_id":17746307,"body_markdown":"one difference between your&#39;s and @GuillaumePolet s is that you actively short-circuit the self-sizing of the label: the general rule is to never-ever call [any of the setXXSize methods](http://stackoverflow.com/a/7229519/203657). That said: an image has-a _fixed size_, if you want to scale it, you have to implement that scaling yourself","body":"one difference between your&#39;s and @GuillaumePolet s is that you actively short-circuit the self-sizing of the label: the general rule is to never-ever call <a href=\"http://stackoverflow.com/a/7229519/203657\">any of the setXXSize methods</a>. That said: an image has-a <i>fixed size</i>, if you want to scale it, you have to implement that scaling yourself"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1351157947,"post_id":13040747,"comment_id":17746515,"body_markdown":"looking again, some problems: a) imageLabel.setIcon(ImageIcon) is _not_ overriding label.setIcon(Icon) b) in swing, override paintComponent _not_ paint","body":"looking again, some problems: a) imageLabel.setIcon(ImageIcon) is <i>not</i> overriding label.setIcon(Icon) b) in swing, override paintComponent <i>not</i> paint"},{"owner":{"account_id":1382404,"reputation":3228,"user_id":1315125,"accept_rate":75,"display_name":"Igor L."},"score":0,"creation_date":1382444707,"post_id":13040747,"comment_id":28953976,"body_markdown":"Have you solved this? Feel free to answer your own question","body":"Have you solved this? Feel free to answer your own question"}],"answers":[{"tags":[],"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1351151220,"creation_date":1351063656,"answer_id":13044598,"question_id":13040747,"body_markdown":" 1. `JFrame.setVisible(true)` should be the last line you call.\r\n 2. `GridBagLayout` can adapt the size of your components according to the frame size, as long as you use `weightx/weighty` and `fill`\r\n\r\nUPDATE:\r\n\r\n 1. Forget about setting preferred size, this is just going down the path to GUI-problems\r\n 2. If you use LayoutManager&#39;s (and it is a very good idea), forget about calling setSize()/setBounds()/setLocation(), the LayoutManager&#39;s will override them anyway\r\n 3. You need to take care of the resizing of the image in order to maintain the  original image ratio\r\n 4. If you use weightx/weighty, you should also use `anchor` and/or `fill`\r\n 5. Use `frame.pack()` to size properly your frame\r\n 6. Use `setExtendedState()` to maximize a frame\r\n\r\nBtw, an [SSCCE](http://sscce.org) means that you make a runnable example for others, this includes changing local path to images to online URL&#39;s (see the example below).\r\n\r\nWith the following snippet, everything seems to work ok:\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.TextField;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    \r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextPane;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.text.DefaultStyledDocument;\r\n    import javax.swing.text.StyledDocument;\r\n    \r\n    public class DraftGUI implements MouseListener {\r\n    \r\n    \tprivate static final String IMAGE_URL = &quot;http://images.paramountbusinessjets.com/space/spaceshuttle.jpg&quot;;\r\n    \tprivate JPanel jpPack;\r\n    \tprivate JPanel jpCards;\r\n    \tprivate JPanel jpInfo;\r\n    \tprivate JPanel jpChat;\r\n    \tprivate TextField tf;\r\n    \tprivate StyledDocument doc;\r\n    \tprivate JTextPane tp;\r\n    \tprivate JScrollPane sp;\r\n    \r\n    \t@Override\r\n    \tpublic void mousePressed(MouseEvent e) {\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void mouseReleased(MouseEvent e) {\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void mouseEntered(MouseEvent e) {\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void mouseExited(MouseEvent e) {\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void mouseClicked(MouseEvent e) {\r\n    \t}\r\n    \r\n    \tpublic DraftGUI() throws MalformedURLException {\r\n    \r\n    \t\tfinal JFrame frame = new JFrame(&quot;Draft&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t// set the content pane, we&#39;ll add everything to it and then add it to the frame\r\n    \t\tJPanel contentPane = new JPanel();\r\n    \t\tcontentPane.setLayout(new GridBagLayout());\r\n    \r\n    \t\t// creates some panels with some default values for now\r\n    \t\tJPanel jpCards = new JPanel(new BorderLayout());\r\n    \t\tjpCards.setBackground(Color.BLUE);\r\n    \r\n    \t\tJPanel jpInfo = new JPanel();\r\n    \t\tjpInfo.setBackground(Color.GREEN);\r\n    \r\n    \t\tJPanel jpPack = new JPanel(new GridBagLayout());\r\n    \t\tjpPack.setBackground(Color.RED);\r\n    \r\n    \t\t// grab some info to make the JTextPane and make it scroll\r\n    \t\ttf = new TextField();\r\n    \t\tdoc = new DefaultStyledDocument();\r\n    \t\ttp = new JTextPane(doc);\r\n    \t\ttp.setEditable(false);\r\n    \t\tsp = new JScrollPane(tp);\r\n    \r\n    \t\t// adding the quantities to the chat panel\r\n    \t\tJPanel jpChat = new JPanel();\r\n    \t\tjpChat.setLayout(new BorderLayout());\r\n    \t\tjpChat.add(&quot;North&quot;, tf);\r\n    \t\tjpChat.add(&quot;Center&quot;, sp);\r\n    \r\n    \t\t// a new GridBagConstraints used to set the properties/location of the panels\r\n    \t\tGridBagConstraints c = new GridBagConstraints();\r\n    \r\n    \t\t// adding some panels to the content pane\r\n    \t\t// set it to start from the top left of the quadrant if it&#39;s too small\r\n    \t\tc.anchor = GridBagConstraints.FIRST_LINE_START;\r\n    \t\tc.fill = GridBagConstraints.BOTH; // set it to fill both vertically and horizontally\r\n    \t\tc.gridx = 0; // set it to quadrant x=0 and\r\n    \t\tc.gridy = 0; // set it to quadrant y=0\r\n    \t\tc.weightx = 0.7;\r\n    \t\tc.weighty = 0.3;\r\n    \t\tcontentPane.add(jpCards, c);\r\n    \r\n    \t\tc.gridx = 1;\r\n    \t\tc.gridy = 0;\r\n    \t\tc.weightx = 0.3;\r\n    \t\tc.weighty = 0.3;\r\n    \t\tcontentPane.add(jpInfo, c);\r\n    \r\n    \t\tc.gridx = 0;\r\n    \t\tc.gridy = 1;\r\n    \t\tc.weightx = 0.7;\r\n    \t\tc.weighty = 0.7;\r\n    \t\tcontentPane.add(jpPack, c);\r\n    \r\n    \t\tc.gridx = 1;\r\n    \t\tc.gridy = 1;\r\n    \t\tc.weightx = 0.3;\r\n    \t\tc.weighty = 0.7;\r\n    \t\tcontentPane.add(jpChat, c);\r\n    \r\n    \t\t// set some necessary values\r\n    \t\tframe.setContentPane(contentPane);\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \r\n    \t\t// This code works for adding an Image\r\n    \t\t// need to learn how to specify a path not dependent on the specific users&#39;s machine\r\n    \t\t// this is not a high priority for now though\r\n    \t\tGridBagConstraints d = new GridBagConstraints();\r\n    \t\td.weightx = 1.0;\r\n    \t\td.weighty = 1.0;\r\n    \t\td.fill = GridBagConstraints.BOTH;\r\n    \t\td.gridx = 0;\r\n    \t\td.gridy = 0;\r\n    \t\tImageLabel imageLabel1 = new ImageLabel(new ImageIcon(new URL(IMAGE_URL)));\r\n    \t\tjpPack.add(imageLabel1, d);\r\n    \t\tImageLabel imageLabel2 = new ImageLabel(new ImageIcon(new URL(IMAGE_URL)));\r\n    \t\td.gridx++;\r\n    \t\tjpPack.add(imageLabel2, d);\r\n    \r\n    \t\tImageLabel imageLabel3 = new ImageLabel(new ImageIcon(new URL(IMAGE_URL)));\r\n    \t\td.gridy++;\r\n    \t\tjpPack.add(imageLabel3, d);\r\n    \r\n    \t\timageLabel1.addMouseListener(this);\r\n    \t\timageLabel2.addMouseListener(this);\r\n    \t\timageLabel3.addMouseListener(this);\r\n    \t\tframe.pack();\r\n    \t\t// 223, 310 are the aspect values for a card image, width, height\r\n    \t\t// these need to be maintained as the GUI size changes\r\n                frame.setExtendedState(frame.getExtendedState() | JFrame.MAXIMIZED_BOTH);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tnew DraftGUI();\r\n    \t\t\t\t} catch (MalformedURLException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tpublic static class ImageLabel extends JPanel {\r\n    \t\tprivate static int counter = 1;\r\n    \t\tprivate ImageIcon icon;\r\n    \t\tprivate int id = counter++;\r\n    \r\n    \t\tpublic ImageLabel(ImageIcon icon) {\r\n    \t\t\tsuper();\r\n    \t\t\tsetOpaque(false);\r\n    \t\t\tthis.icon = icon;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic Dimension getPreferredSize() {\r\n    \t\t\treturn new Dimension(icon.getIconWidth(), icon.getIconHeight());\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tprotected void paintComponent(Graphics g) {\r\n    \t\t\tsuper.paintComponent(g);\r\n    \t\t\tdouble zoom = Math.min((double) getWidth() / icon.getIconWidth(), (double) getHeight() / icon.getIconHeight());\r\n    \t\t\tint width = (int) (zoom * icon.getIconWidth());\r\n    \t\t\tint height = (int) (zoom * icon.getIconHeight());\r\n    \t\t\tg.drawImage(icon.getImage(), (getWidth() - width) / 2, (getHeight() - height) / 2, width, height, this);\r\n    \t\t\tg.setFont(g.getFont().deriveFont(36.0f));\r\n    \t\t\tg.drawString(String.valueOf(id), getWidth() / 2, getHeight() / 2);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Resize components on frame resize Java","body":"<ol>\n<li><code>JFrame.setVisible(true)</code> should be the last line you call.</li>\n<li><code>GridBagLayout</code> can adapt the size of your components according to the frame size, as long as you use <code>weightx/weighty</code> and <code>fill</code></li>\n</ol>\n\n<p>UPDATE:</p>\n\n<ol>\n<li>Forget about setting preferred size, this is just going down the path to GUI-problems</li>\n<li>If you use LayoutManager's (and it is a very good idea), forget about calling setSize()/setBounds()/setLocation(), the LayoutManager's will override them anyway</li>\n<li>You need to take care of the resizing of the image in order to maintain the  original image ratio</li>\n<li>If you use weightx/weighty, you should also use <code>anchor</code> and/or <code>fill</code></li>\n<li>Use <code>frame.pack()</code> to size properly your frame</li>\n<li>Use <code>setExtendedState()</code> to maximize a frame</li>\n</ol>\n\n<p>Btw, an <a href=\"http://sscce.org\" rel=\"nofollow\">SSCCE</a> means that you make a runnable example for others, this includes changing local path to images to online URL's (see the example below).</p>\n\n<p>With the following snippet, everything seems to work ok:</p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.TextField;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextPane;\nimport javax.swing.SwingUtilities;\nimport javax.swing.text.DefaultStyledDocument;\nimport javax.swing.text.StyledDocument;\n\npublic class DraftGUI implements MouseListener {\n\n    private static final String IMAGE_URL = \"http://images.paramountbusinessjets.com/space/spaceshuttle.jpg\";\n    private JPanel jpPack;\n    private JPanel jpCards;\n    private JPanel jpInfo;\n    private JPanel jpChat;\n    private TextField tf;\n    private StyledDocument doc;\n    private JTextPane tp;\n    private JScrollPane sp;\n\n    @Override\n    public void mousePressed(MouseEvent e) {\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent e) {\n    }\n\n    @Override\n    public void mouseExited(MouseEvent e) {\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n    }\n\n    public DraftGUI() throws MalformedURLException {\n\n        final JFrame frame = new JFrame(\"Draft\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        // set the content pane, we'll add everything to it and then add it to the frame\n        JPanel contentPane = new JPanel();\n        contentPane.setLayout(new GridBagLayout());\n\n        // creates some panels with some default values for now\n        JPanel jpCards = new JPanel(new BorderLayout());\n        jpCards.setBackground(Color.BLUE);\n\n        JPanel jpInfo = new JPanel();\n        jpInfo.setBackground(Color.GREEN);\n\n        JPanel jpPack = new JPanel(new GridBagLayout());\n        jpPack.setBackground(Color.RED);\n\n        // grab some info to make the JTextPane and make it scroll\n        tf = new TextField();\n        doc = new DefaultStyledDocument();\n        tp = new JTextPane(doc);\n        tp.setEditable(false);\n        sp = new JScrollPane(tp);\n\n        // adding the quantities to the chat panel\n        JPanel jpChat = new JPanel();\n        jpChat.setLayout(new BorderLayout());\n        jpChat.add(\"North\", tf);\n        jpChat.add(\"Center\", sp);\n\n        // a new GridBagConstraints used to set the properties/location of the panels\n        GridBagConstraints c = new GridBagConstraints();\n\n        // adding some panels to the content pane\n        // set it to start from the top left of the quadrant if it's too small\n        c.anchor = GridBagConstraints.FIRST_LINE_START;\n        c.fill = GridBagConstraints.BOTH; // set it to fill both vertically and horizontally\n        c.gridx = 0; // set it to quadrant x=0 and\n        c.gridy = 0; // set it to quadrant y=0\n        c.weightx = 0.7;\n        c.weighty = 0.3;\n        contentPane.add(jpCards, c);\n\n        c.gridx = 1;\n        c.gridy = 0;\n        c.weightx = 0.3;\n        c.weighty = 0.3;\n        contentPane.add(jpInfo, c);\n\n        c.gridx = 0;\n        c.gridy = 1;\n        c.weightx = 0.7;\n        c.weighty = 0.7;\n        contentPane.add(jpPack, c);\n\n        c.gridx = 1;\n        c.gridy = 1;\n        c.weightx = 0.3;\n        c.weighty = 0.7;\n        contentPane.add(jpChat, c);\n\n        // set some necessary values\n        frame.setContentPane(contentPane);\n        frame.setLocationByPlatform(true);\n\n        // This code works for adding an Image\n        // need to learn how to specify a path not dependent on the specific users's machine\n        // this is not a high priority for now though\n        GridBagConstraints d = new GridBagConstraints();\n        d.weightx = 1.0;\n        d.weighty = 1.0;\n        d.fill = GridBagConstraints.BOTH;\n        d.gridx = 0;\n        d.gridy = 0;\n        ImageLabel imageLabel1 = new ImageLabel(new ImageIcon(new URL(IMAGE_URL)));\n        jpPack.add(imageLabel1, d);\n        ImageLabel imageLabel2 = new ImageLabel(new ImageIcon(new URL(IMAGE_URL)));\n        d.gridx++;\n        jpPack.add(imageLabel2, d);\n\n        ImageLabel imageLabel3 = new ImageLabel(new ImageIcon(new URL(IMAGE_URL)));\n        d.gridy++;\n        jpPack.add(imageLabel3, d);\n\n        imageLabel1.addMouseListener(this);\n        imageLabel2.addMouseListener(this);\n        imageLabel3.addMouseListener(this);\n        frame.pack();\n        // 223, 310 are the aspect values for a card image, width, height\n        // these need to be maintained as the GUI size changes\n            frame.setExtendedState(frame.getExtendedState() | JFrame.MAXIMIZED_BOTH);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    new DraftGUI();\n                } catch (MalformedURLException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    public static class ImageLabel extends JPanel {\n        private static int counter = 1;\n        private ImageIcon icon;\n        private int id = counter++;\n\n        public ImageLabel(ImageIcon icon) {\n            super();\n            setOpaque(false);\n            this.icon = icon;\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(icon.getIconWidth(), icon.getIconHeight());\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            double zoom = Math.min((double) getWidth() / icon.getIconWidth(), (double) getHeight() / icon.getIconHeight());\n            int width = (int) (zoom * icon.getIconWidth());\n            int height = (int) (zoom * icon.getIconHeight());\n            g.drawImage(icon.getImage(), (getWidth() - width) / 2, (getHeight() - height) / 2, width, height, this);\n            g.setFont(g.getFont().deriveFont(36.0f));\n            g.drawString(String.valueOf(id), getWidth() / 2, getHeight() / 2);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6314293,"reputation":21,"user_id":6317238,"display_name":"Ilan Granot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645653568,"creation_date":1645653568,"answer_id":71244531,"question_id":13040747,"body_markdown":"I suggest this way to resize the contents of a window\r\n\r\n    JPanel jPanel = new JPanel(new BorderLayout()); // Create a panel that contains the elements you want to resize, in this example I use BorderLayout as the layout manager\r\n    jPanel.add(somePanel, BorderLayout.NORTH);\r\n            // this will resize the con\r\n            this.addComponentListener(new ComponentAdapter() {\r\n                @Override\r\n                public void componentResized(ComponentEvent e) {\r\n                    somePanel.setSize(e.getComponent().getSize());\r\n                    jPanel.paintComponents(getGraphics());\r\n                }\r\n            });","title":"Resize components on frame resize Java","body":"<p>I suggest this way to resize the contents of a window</p>\n<pre><code>JPanel jPanel = new JPanel(new BorderLayout()); // Create a panel that contains the elements you want to resize, in this example I use BorderLayout as the layout manager\njPanel.add(somePanel, BorderLayout.NORTH);\n        // this will resize the con\n        this.addComponentListener(new ComponentAdapter() {\n            @Override\n            public void componentResized(ComponentEvent e) {\n                somePanel.setSize(e.getComponent().getSize());\n                jPanel.paintComponents(getGraphics());\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":1910690,"reputation":604,"user_id":1724590,"accept_rate":36,"display_name":"Michael Yousef"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28486,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1645653568,"creation_date":1351034137,"question_id":13040747,"body_markdown":"I&#39;m having some trouble trying to resize the components in my GUI when I resize the GUI. Right now, when I resize the GUI, the size of the components don&#39;t change, they keep to the static size I set them to. When I resize the GUI passed the minimum size needed to display them, they are no longer displayed. I want them to resize and maintain an aspect ratio when the GUI is resized.\r\n\r\nHere&#39;s the code I have for the GUI:\r\n\r\n    import java.applet.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.awt.image.BufferedImage;\r\n    import java.awt.image.ImageObserver;\r\n    import java.io.*;\r\n    import java.net.*;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.*;\r\n    import javax.swing.border.Border;\r\n    import javax.swing.text.*;\r\n    import javax.swing.text.html.*;\r\n\r\n    public class DraftGUI implements MouseListener {\r\n\t\r\n\tprivate JPanel jpPack;\r\n\tprivate JPanel jpCards;\r\n\tprivate JPanel jpInfo;\r\n\tprivate JPanel jpChat;\r\n\tprivate TextField tf;\r\n\tprivate StyledDocument doc;\r\n\tprivate JTextPane tp;\r\n\tprivate JScrollPane sp;\r\n\t\r\n\tpublic void mousePressed(MouseEvent e) {\r\n\t}\r\n\r\n\tpublic void mouseReleased(MouseEvent e) {\r\n\t}\r\n\r\n\tpublic void mouseEntered(MouseEvent e) {\r\n        }\r\n\r\n        public void mouseExited(MouseEvent e) {\r\n        }\r\n\r\n\tpublic void mouseClicked(MouseEvent e) {\r\n\t\te.getComponent().setVisible(false);\r\n\t}\r\n\t\r\n    private Client client;\r\n    \r\n\r\n    public GUI(Client client) throws IOException {\r\n    \t\r\n    \tJFrame frame = new JFrame(&quot;Draft&quot;);\r\n    \t\r\n    \t//set the size to fullscreen to start\r\n    \tframe.setSize(Toolkit.getDefaultToolkit().getScreenSize().width, Toolkit.getDefaultToolkit().getScreenSize().height);\r\n\r\n    \t//set the content pane, we&#39;ll add everything to it and then add it to the frame\r\n        JPanel contentPane = new JPanel();\r\n\t\tcontentPane.setSize(Toolkit.getDefaultToolkit().getScreenSize().width, Toolkit.getDefaultToolkit().getScreenSize().height);\r\n        contentPane.setLayout(new GridBagLayout());\r\n\r\n        //creates some panels with some default values for now\r\n        JPanel jpCards = new JPanel(new BorderLayout());\r\n        jpCards.setOpaque(true); //ensures it paints every pixel\r\n        jpCards.setBackground(Color.BLUE);\r\n\r\n        JPanel jpInfo = new JPanel();\r\n        jpInfo.setOpaque(true);\r\n        jpInfo.setBackground(Color.GREEN);\r\n\r\n        JPanel jpPack = new JPanel(new GridBagLayout());\r\n        jpPack.setOpaque(true);\r\n        jpPack.setBackground(Color.RED);\r\n        \r\n        //grab some info to make the JTextPane and make it scroll\r\n        this.client = client;\r\n        tf = new TextField();\r\n\t\tdoc = new DefaultStyledDocument();\r\n\t\ttp = new JTextPane(doc);\r\n\t\ttp.setEditable(false);\r\n\t\ttf.addActionListener(this.client);\r\n\t\tsp = new JScrollPane(tp);\r\n\r\n\t\t//adding the quantities to the chat panel\r\n        JPanel jpChat = new JPanel();\r\n        jpChat.setLayout(new BorderLayout());\r\n        jpChat.add(&quot;North&quot;, tf);\r\n        jpChat.add(&quot;Center&quot;, sp);\r\n\r\n        //a new GridBagConstraints used to set the properties/location of the panels\r\n        GridBagConstraints c = new GridBagConstraints(); \r\n        \r\n        //adding some panels to the content pane\r\n        //set it to start from the top left of the quadrant if it&#39;s too small\r\n        c.anchor = GridBagConstraints.FIRST_LINE_START; \r\n        c.fill = GridBagConstraints.BOTH; //set it to fill both vertically and horizontally\r\n        c.gridx = 0; //set it to quadrant x=0 and\r\n        c.gridy = 0; //set it to quadrant y=0\r\n        c.weightx = 0.7;\r\n        c.weighty = 0.3;\r\n        contentPane.add(jpCards, c);\r\n\r\n        c.gridx = 1;\r\n        c.gridy = 0;\r\n        c.weightx = 0.3;\r\n        c.weighty = 0.3;\r\n        contentPane.add(jpInfo, c);\r\n\r\n        c.gridx = 0;\r\n        c.gridy = 1;\r\n        c.weightx = 0.7;\r\n        c.weighty = 0.7;\r\n        contentPane.add(jpPack, c);\r\n        \r\n        c.gridx = 1;\r\n        c.gridy = 1;\r\n        c.weightx = 0.3;\r\n        c.weighty = 0.7;\r\n        contentPane.add(jpChat, c);\r\n        \r\n        //set some necessary values \r\n        frame.setContentPane(contentPane);\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n        \r\n        //This code works for adding an Image\r\n        //need to learn how to specify a path not dependent on the specific users&#39;s machine\r\n        //this is not a high priority for now though\r\n        GridBagConstraints d = new GridBagConstraints();\r\n        d.gridx = 0;\r\n        d.gridy = 0;\r\n        \r\n        ImageLabel imageLabel1 = new ImageLabel(&quot;path-to-file&quot;);\r\n\r\n        imageLabel1.setPreferredSize(new Dimension(223, 310));\r\n        jpPack.add(imageLabel1, d);\r\n        \r\n        ImageLabel imageLabel2 = new ImageLabel(&quot;path-to-file&quot;);\r\n        imageLabel2.setPreferredSize(new Dimension(223, 310));\r\n        ImageLabel imageLabel3 = new ImageLabel(&quot;path-to-file&quot;);\r\n        imageLabel3.setPreferredSize(new Dimension(223, 310));\r\n        d.gridx = 1;\r\n        jpPack.add(imageLabel2, d);\r\n        d.gridy = 1;\r\n        jpPack.add(imageLabel3, d);\r\n        \r\n        imageLabel1.addMouseListener(this);\r\n        imageLabel2.addMouseListener(this);\r\n        imageLabel3.addMouseListener(this);\r\n        \r\n        //223, 310 are the aspect values for a card image, width, height\r\n        //these need to be maintained as the GUI size changes\r\n        \r\n        }\r\n\t\r\n    }\r\n\r\n\r\n    class ImageLabel extends JLabel {\r\n\t   Image image;\r\n\t   ImageObserver imageObserver; \r\n\r\n\t   // constructor with filename\t\t\r\n\t   ImageLabel(String filename) {\r\n\t\t  ImageIcon icon = new ImageIcon(filename);\r\n\t\t  image = icon.getImage();\r\n\t\t  imageObserver = icon.getImageObserver();\r\n\t   }\r\n\r\n\t   // constructor with icon\r\n\t   ImageLabel(ImageIcon icon) {\r\n\t\t  image = icon.getImage();\r\n\t\t  imageObserver = icon.getImageObserver();\r\n\t   }\r\n\r\n\t   // overload setIcon method\r\n\t   void setIcon(ImageIcon icon) {\r\n\t\t  image = icon.getImage();\r\n\t\t  imageObserver = icon.getImageObserver();\r\n\t   }\r\n\r\n\t   // overload paint()\r\n\t   public void paint( Graphics g ) {\r\n\t\t   super.paint( g );\r\n\t\t   g.drawImage(image,  0 , 0 , getWidth() , getHeight() , imageObserver);\r\n\t\t   \r\n\t   }\r\n\t   \r\n\t}\r\n\r\n\r\nFor some reason, there&#39;s no default resizing property for the frame&#39;s components, so when the frame resizes, the components don&#39;t do anything. I&#39;m not sure what I&#39;m doing wrong or missed, but clearly I left something out.\r\n\r\nAlso, if anyone knows, the ImageLabels are taking up extra space around them. The padding is set to 0 by default, so I&#39;m not sure why it&#39;s creating like a border around them.\r\n\r\nThanks.\r\n\r\nEDIT for Guillaume:\r\n\r\nI know a main is necessary if I want to run it as a standalone, it&#39;s currently part of another application and gets called separately from within it. It was probably not the best decision to post it without a main for completeness, but whatever, it can&#39;t be that big of a problem.\r\n\r\nYour code took out the portion where the picture was actually displayed. &quot;path-to-file&quot; was supposed to be replaced by an actual image file path, so you would display the image. It&#39;s hard to actually see the issue at hand when it&#39;s simply text in there.\r\n\r\nWhen you have the image displayed correctly, and you try to resize the entire GUI, you will notice that the image doesn&#39;t shrink. It keeps to its preferred size and has issues when it becomes smaller than it. In my code, it stops displaying the picture completely when it can&#39;t display at least the preferred size. In your code, it cuts off part of the picture when it shrinks. \r\n\r\nWhat I want is for it to actually resize the JLabel containing the picture, so that as the GUI resizes, so will the image. It&#39;s necessary that the image shrinks accordingly for my program. The user will eventually have functionality based on clicking the images, so displaying only some images or portions of them simply won&#39;t do.\r\n\r\nPlease try your code/my code again and reproduce the issue I&#39;m having, testing with pictures, so that we can find a correct solution. Thanks.","title":"Resize components on frame resize Java","body":"<p>I'm having some trouble trying to resize the components in my GUI when I resize the GUI. Right now, when I resize the GUI, the size of the components don't change, they keep to the static size I set them to. When I resize the GUI passed the minimum size needed to display them, they are no longer displayed. I want them to resize and maintain an aspect ratio when the GUI is resized.</p>\n\n<p>Here's the code I have for the GUI:</p>\n\n<pre><code>import java.applet.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.awt.image.BufferedImage;\nimport java.awt.image.ImageObserver;\nimport java.io.*;\nimport java.net.*;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\nimport javax.swing.border.Border;\nimport javax.swing.text.*;\nimport javax.swing.text.html.*;\n\npublic class DraftGUI implements MouseListener {\n\nprivate JPanel jpPack;\nprivate JPanel jpCards;\nprivate JPanel jpInfo;\nprivate JPanel jpChat;\nprivate TextField tf;\nprivate StyledDocument doc;\nprivate JTextPane tp;\nprivate JScrollPane sp;\n\npublic void mousePressed(MouseEvent e) {\n}\n\npublic void mouseReleased(MouseEvent e) {\n}\n\npublic void mouseEntered(MouseEvent e) {\n    }\n\n    public void mouseExited(MouseEvent e) {\n    }\n\npublic void mouseClicked(MouseEvent e) {\n    e.getComponent().setVisible(false);\n}\n\nprivate Client client;\n\n\npublic GUI(Client client) throws IOException {\n\n    JFrame frame = new JFrame(\"Draft\");\n\n    //set the size to fullscreen to start\n    frame.setSize(Toolkit.getDefaultToolkit().getScreenSize().width, Toolkit.getDefaultToolkit().getScreenSize().height);\n\n    //set the content pane, we'll add everything to it and then add it to the frame\n    JPanel contentPane = new JPanel();\n    contentPane.setSize(Toolkit.getDefaultToolkit().getScreenSize().width, Toolkit.getDefaultToolkit().getScreenSize().height);\n    contentPane.setLayout(new GridBagLayout());\n\n    //creates some panels with some default values for now\n    JPanel jpCards = new JPanel(new BorderLayout());\n    jpCards.setOpaque(true); //ensures it paints every pixel\n    jpCards.setBackground(Color.BLUE);\n\n    JPanel jpInfo = new JPanel();\n    jpInfo.setOpaque(true);\n    jpInfo.setBackground(Color.GREEN);\n\n    JPanel jpPack = new JPanel(new GridBagLayout());\n    jpPack.setOpaque(true);\n    jpPack.setBackground(Color.RED);\n\n    //grab some info to make the JTextPane and make it scroll\n    this.client = client;\n    tf = new TextField();\n    doc = new DefaultStyledDocument();\n    tp = new JTextPane(doc);\n    tp.setEditable(false);\n    tf.addActionListener(this.client);\n    sp = new JScrollPane(tp);\n\n    //adding the quantities to the chat panel\n    JPanel jpChat = new JPanel();\n    jpChat.setLayout(new BorderLayout());\n    jpChat.add(\"North\", tf);\n    jpChat.add(\"Center\", sp);\n\n    //a new GridBagConstraints used to set the properties/location of the panels\n    GridBagConstraints c = new GridBagConstraints(); \n\n    //adding some panels to the content pane\n    //set it to start from the top left of the quadrant if it's too small\n    c.anchor = GridBagConstraints.FIRST_LINE_START; \n    c.fill = GridBagConstraints.BOTH; //set it to fill both vertically and horizontally\n    c.gridx = 0; //set it to quadrant x=0 and\n    c.gridy = 0; //set it to quadrant y=0\n    c.weightx = 0.7;\n    c.weighty = 0.3;\n    contentPane.add(jpCards, c);\n\n    c.gridx = 1;\n    c.gridy = 0;\n    c.weightx = 0.3;\n    c.weighty = 0.3;\n    contentPane.add(jpInfo, c);\n\n    c.gridx = 0;\n    c.gridy = 1;\n    c.weightx = 0.7;\n    c.weighty = 0.7;\n    contentPane.add(jpPack, c);\n\n    c.gridx = 1;\n    c.gridy = 1;\n    c.weightx = 0.3;\n    c.weighty = 0.7;\n    contentPane.add(jpChat, c);\n\n    //set some necessary values \n    frame.setContentPane(contentPane);\n    frame.setLocationByPlatform(true);\n    frame.setVisible(true);\n\n    //This code works for adding an Image\n    //need to learn how to specify a path not dependent on the specific users's machine\n    //this is not a high priority for now though\n    GridBagConstraints d = new GridBagConstraints();\n    d.gridx = 0;\n    d.gridy = 0;\n\n    ImageLabel imageLabel1 = new ImageLabel(\"path-to-file\");\n\n    imageLabel1.setPreferredSize(new Dimension(223, 310));\n    jpPack.add(imageLabel1, d);\n\n    ImageLabel imageLabel2 = new ImageLabel(\"path-to-file\");\n    imageLabel2.setPreferredSize(new Dimension(223, 310));\n    ImageLabel imageLabel3 = new ImageLabel(\"path-to-file\");\n    imageLabel3.setPreferredSize(new Dimension(223, 310));\n    d.gridx = 1;\n    jpPack.add(imageLabel2, d);\n    d.gridy = 1;\n    jpPack.add(imageLabel3, d);\n\n    imageLabel1.addMouseListener(this);\n    imageLabel2.addMouseListener(this);\n    imageLabel3.addMouseListener(this);\n\n    //223, 310 are the aspect values for a card image, width, height\n    //these need to be maintained as the GUI size changes\n\n    }\n\n}\n\n\nclass ImageLabel extends JLabel {\n   Image image;\n   ImageObserver imageObserver; \n\n   // constructor with filename     \n   ImageLabel(String filename) {\n      ImageIcon icon = new ImageIcon(filename);\n      image = icon.getImage();\n      imageObserver = icon.getImageObserver();\n   }\n\n   // constructor with icon\n   ImageLabel(ImageIcon icon) {\n      image = icon.getImage();\n      imageObserver = icon.getImageObserver();\n   }\n\n   // overload setIcon method\n   void setIcon(ImageIcon icon) {\n      image = icon.getImage();\n      imageObserver = icon.getImageObserver();\n   }\n\n   // overload paint()\n   public void paint( Graphics g ) {\n       super.paint( g );\n       g.drawImage(image,  0 , 0 , getWidth() , getHeight() , imageObserver);\n\n   }\n\n}\n</code></pre>\n\n<p>For some reason, there's no default resizing property for the frame's components, so when the frame resizes, the components don't do anything. I'm not sure what I'm doing wrong or missed, but clearly I left something out.</p>\n\n<p>Also, if anyone knows, the ImageLabels are taking up extra space around them. The padding is set to 0 by default, so I'm not sure why it's creating like a border around them.</p>\n\n<p>Thanks.</p>\n\n<p>EDIT for Guillaume:</p>\n\n<p>I know a main is necessary if I want to run it as a standalone, it's currently part of another application and gets called separately from within it. It was probably not the best decision to post it without a main for completeness, but whatever, it can't be that big of a problem.</p>\n\n<p>Your code took out the portion where the picture was actually displayed. \"path-to-file\" was supposed to be replaced by an actual image file path, so you would display the image. It's hard to actually see the issue at hand when it's simply text in there.</p>\n\n<p>When you have the image displayed correctly, and you try to resize the entire GUI, you will notice that the image doesn't shrink. It keeps to its preferred size and has issues when it becomes smaller than it. In my code, it stops displaying the picture completely when it can't display at least the preferred size. In your code, it cuts off part of the picture when it shrinks. </p>\n\n<p>What I want is for it to actually resize the JLabel containing the picture, so that as the GUI resizes, so will the image. It's necessary that the image shrinks accordingly for my program. The user will eventually have functionality based on clicking the images, so displaying only some images or portions of them simply won't do.</p>\n\n<p>Please try your code/my code again and reproduce the issue I'm having, testing with pictures, so that we can find a correct solution. Thanks.</p>\n"},{"tags":["java","generics","serialization","jackson"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1645594846,"post_id":71231455,"comment_id":125910356,"body_markdown":"I doubt you can, considering they&#39;re mapped by `Class`. You&#39;ll probably need to inspect the type in the serializer and [delegate to the default](https://www.baeldung.com/jackson-call-default-serializer-from-custom-serializer) if it&#39;s not supported.","body":"I doubt you can, considering they&#39;re mapped by <code>Class</code>. You&#39;ll probably need to inspect the type in the serializer and <a href=\"https://www.baeldung.com/jackson-call-default-serializer-from-custom-serializer\" rel=\"nofollow noreferrer\">delegate to the default</a> if it&#39;s not supported."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1645595425,"post_id":71231455,"comment_id":125910461,"body_markdown":"It&#39;ll still be tricky getting the parameterized type at runtime. If it&#39;s stored in a field, you might be able to get it via `ContextualSerializer`.","body":"It&#39;ll still be tricky getting the parameterized type at runtime. If it&#39;s stored in a field, you might be able to get it via <code>ContextualSerializer</code>."}],"answers":[{"tags":[],"owner":{"account_id":214595,"reputation":4260,"user_id":468661,"accept_rate":90,"display_name":"Alex Pritchard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645653348,"creation_date":1645653348,"answer_id":71244491,"question_id":71231455,"body_markdown":"Thanks to the comment by @shmosel, I&#39;ve identified that the following solution appears to allow us to intercept the serializer assignment by using a `SerializerModifier`.\r\n\r\n```\r\n  public static class MapSerializerModifier extends BeanSerializerModifier {\r\n    @Override\r\n    public JsonSerializer&lt;?&gt; modifyMapSerializer(SerializationConfig config, MapType valueType, BeanDescription beanDesc, JsonSerializer serializer) {\r\n        if(valueType.getKeyType().getRawClass().equals(String.class) &amp;&amp;\r\n                valueType.getContentType().getRawClass().equals(String.class)) {\r\n          return new MapSerializer();\r\n        }\r\n      return serializer;\r\n    }\r\n  }\r\n```\r\n\r\nThen instead of registering the `MapSerializer` directly in the module, you register the modifier instead:\r\n\r\n```\r\n    SimpleModule maskModule = new SimpleModule();\r\n    maskModule.setSerializerModifier(new MapSerializerModifier());\r\n    om.registerModule(maskModule);\r\n```\r\n\r\nNow the modifier gets checked for each Map and either returns the custom serializer or the default serializer depending on the object&#39;s type properties.\r\n\r\n","title":"How do you restrict custom ObjectMapper serializer to specific generic type","body":"<p>Thanks to the comment by @shmosel, I've identified that the following solution appears to allow us to intercept the serializer assignment by using a <code>SerializerModifier</code>.</p>\n<pre><code>  public static class MapSerializerModifier extends BeanSerializerModifier {\n    @Override\n    public JsonSerializer&lt;?&gt; modifyMapSerializer(SerializationConfig config, MapType valueType, BeanDescription beanDesc, JsonSerializer serializer) {\n        if(valueType.getKeyType().getRawClass().equals(String.class) &amp;&amp;\n                valueType.getContentType().getRawClass().equals(String.class)) {\n          return new MapSerializer();\n        }\n      return serializer;\n    }\n  }\n</code></pre>\n<p>Then instead of registering the <code>MapSerializer</code> directly in the module, you register the modifier instead:</p>\n<pre><code>    SimpleModule maskModule = new SimpleModule();\n    maskModule.setSerializerModifier(new MapSerializerModifier());\n    om.registerModule(maskModule);\n</code></pre>\n<p>Now the modifier gets checked for each Map and either returns the custom serializer or the default serializer depending on the object's type properties.</p>\n"}],"owner":{"account_id":214595,"reputation":4260,"user_id":468661,"accept_rate":90,"display_name":"Alex Pritchard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71244491,"answer_count":1,"score":1,"last_activity_date":1645653348,"creation_date":1645591211,"question_id":71231455,"body_markdown":"I would like to use a custom serializer for Maps, but only if they are &lt;String, String&gt; maps. I attempted to register a `StdSerializer&lt;Map,String, String&gt;&gt;` following the advice in [this post](https://stackoverflow.com/questions/45281738/jackson-serializer-register-simplemodule-with-generics) like so:\r\n\r\n```\r\n    ObjectMapper om = new ObjectMapper();\r\n    SimpleModule maskModule = new SimpleModule();\r\n    JavaType mapType =\r\n        om.getTypeFactory().constructMapLikeType(Map.class, String.class, String.class);\r\n    maskModule.addSerializer(new MapSerializer(mapType));\r\n    om.registerModule(maskModule);\r\n```\r\n\r\nMy Serializer looks as follows:\r\n\r\n```\r\n  public static class MapSerializer extends StdSerializer&lt;Map&lt;String, String&gt;&gt; {\r\n\r\n    MapSerializer(JavaType type) {\r\n      super(type);\r\n    }\r\n\r\n    @Override\r\n    public void serialize(\r\n        Map&lt;String, String&gt; value, JsonGenerator gen, SerializerProvider serializers)\r\n        throws IOException {\r\n      gen.writeStartObject();\r\n      for (Map.Entry&lt;String, String&gt; entry : value.entrySet()) {\r\n          gen.writeStringField(entry.getKey(), doOtherStuff(entry.getValue()));\r\n      }\r\n      gen.writeEndObject();\r\n    }\r\n  }\r\n```\r\n\r\nThis works fine on `Map&lt;String, String&gt;` objects, but unfortunately it also gets called for other maps as well. How does one restrict a custom serializer to specific generic types?","title":"How do you restrict custom ObjectMapper serializer to specific generic type","body":"<p>I would like to use a custom serializer for Maps, but only if they are &lt;String, String&gt; maps. I attempted to register a <code>StdSerializer&lt;Map,String, String&gt;&gt;</code> following the advice in <a href=\"https://stackoverflow.com/questions/45281738/jackson-serializer-register-simplemodule-with-generics\">this post</a> like so:</p>\n<pre><code>    ObjectMapper om = new ObjectMapper();\n    SimpleModule maskModule = new SimpleModule();\n    JavaType mapType =\n        om.getTypeFactory().constructMapLikeType(Map.class, String.class, String.class);\n    maskModule.addSerializer(new MapSerializer(mapType));\n    om.registerModule(maskModule);\n</code></pre>\n<p>My Serializer looks as follows:</p>\n<pre><code>  public static class MapSerializer extends StdSerializer&lt;Map&lt;String, String&gt;&gt; {\n\n    MapSerializer(JavaType type) {\n      super(type);\n    }\n\n    @Override\n    public void serialize(\n        Map&lt;String, String&gt; value, JsonGenerator gen, SerializerProvider serializers)\n        throws IOException {\n      gen.writeStartObject();\n      for (Map.Entry&lt;String, String&gt; entry : value.entrySet()) {\n          gen.writeStringField(entry.getKey(), doOtherStuff(entry.getValue()));\n      }\n      gen.writeEndObject();\n    }\n  }\n</code></pre>\n<p>This works fine on <code>Map&lt;String, String&gt;</code> objects, but unfortunately it also gets called for other maps as well. How does one restrict a custom serializer to specific generic types?</p>\n"},{"tags":["java","apache-spark","apache-spark-sql","rdd"],"answers":[{"tags":[],"owner":{"account_id":7617363,"reputation":21,"user_id":5776379,"display_name":"Giridhar Bhageshpur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645653186,"creation_date":1645639512,"answer_id":71242020,"question_id":71239129,"body_markdown":"So I got the solution to the above question by the following code\r\n\r\n```\r\n\r\nDataset&lt;Row&gt; df = sc.read().json(&quot;/Users/g.bhageshpur/Downloads/spark-master/examples/src/main/examples/src/main/resources/people.json&quot;);\r\n\r\ndf.createOrReplaceTempView(&quot;people&quot;);\r\n\r\nDataset&lt;Row&gt; dfpeople = sc.sql(&quot;select * from people where name=&#39;Michael&#39;&quot;);\r\n\r\nsc.sqlContext().dropTempTable(&quot;people&quot;);\r\n\r\ndfpeople.createOrReplaceTempView(&quot;people&quot;);\r\n\r\n```","title":"Using createOrReplaceTempView to replace a temp view not working as expected","body":"<p>So I got the solution to the above question by the following code</p>\n<pre><code>\nDataset&lt;Row&gt; df = sc.read().json(&quot;/Users/g.bhageshpur/Downloads/spark-master/examples/src/main/examples/src/main/resources/people.json&quot;);\n\ndf.createOrReplaceTempView(&quot;people&quot;);\n\nDataset&lt;Row&gt; dfpeople = sc.sql(&quot;select * from people where name='Michael'&quot;);\n\nsc.sqlContext().dropTempTable(&quot;people&quot;);\n\ndfpeople.createOrReplaceTempView(&quot;people&quot;);\n\n</code></pre>\n"}],"owner":{"account_id":7617363,"reputation":21,"user_id":5776379,"display_name":"Giridhar Bhageshpur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71242020,"answer_count":1,"score":1,"last_activity_date":1645653186,"creation_date":1645627815,"question_id":71239129,"body_markdown":"I have a dataset something similar to this \r\n\r\n```\r\n{&quot;name&quot;: &quot;Michael&quot;, &quot;age&quot;: &quot;30&quot;, &quot;producta1&quot;: &quot;blah1&quot;, &quot;producta3&quot;: &quot;blah2&quot;}\r\n{&quot;name&quot;: &quot;Michael&quot;, &quot;age&quot;: &quot;31&quot;, &quot;producta1&quot;: &quot;blah3&quot;, &quot;producta3&quot;: &quot;blah4&quot;}\r\n{&quot;name&quot;: &quot;Michael&quot;, &quot;age&quot;: &quot;30&quot;, &quot;producta1&quot;: &quot;blah5&quot;, &quot;producta3&quot;: &quot;blah6&quot;}\r\n{&quot;name&quot;: &quot;Andy&quot;, &quot;age&quot;: &quot;28&quot;, &quot;producta1&quot;: &quot;blah5&quot;, &quot;producta3&quot;: &quot;blah6&quot;}\r\n{&quot;name&quot;: &quot;Andy&quot;, &quot;age&quot;: &quot;28&quot;, &quot;producta1&quot;: &quot;blah5&quot;, &quot;producta3&quot;: &quot;blah6&quot;}\r\n{&quot;name&quot;: &quot;Andy&quot;, &quot;age&quot;: &quot;28&quot;, &quot;producta1&quot;: &quot;blah5&quot;, &quot;producta3&quot;: &quot;blah6&quot;}\r\n{&quot;name&quot;: &quot;Justin&quot;, &quot;age&quot;: &quot;12&quot;, &quot;producta1&quot;: &quot;blah5&quot;, &quot;producta3&quot;: &quot;blah6&quot;}\r\n{&quot;name&quot;: &quot;Justin&quot;, &quot;age&quot;: &quot;12&quot;, &quot;producta1&quot;: &quot;blah5&quot;, &quot;producta3&quot;: &quot;blah6&quot;}\r\n```\r\n\r\nMy spark code is\r\n\r\n```\r\nSparkSession sc = SparkSession.builder().appName(&quot;example app&quot;).config(&quot;spark.master&quot;,&quot;local&quot;).getOrCreate();\r\n\r\nDataset&lt;Row&gt; df = sc.read().json(&quot;/Users/g.bhageshpur/Downloads/spark-master/examples/src/main/examples/src/main/resources/people.json&quot;);\r\n\r\ndf.createOrReplaceTempView(&quot;people&quot;);\r\n\r\nDataset&lt;Row&gt; dfpeople = sc.sql(&quot;select * from people where name=&#39;Michael&#39;&quot;);\r\n\r\ndfpeople.createOrReplaceTempView(&quot;people&quot;);\r\n\r\n```\r\n\r\nI am trying to replace the people view by calling createOrReplaceTempView\r\n\r\nbut i get the following error as below \r\n\r\n```\r\nRecursive view `people` detected (cycle: `people` -&gt; `people`)\r\n\r\n```\r\n\r\nHow do I replace the view in spark?\r\n","title":"Using createOrReplaceTempView to replace a temp view not working as expected","body":"<p>I have a dataset something similar to this</p>\n<pre><code>{&quot;name&quot;: &quot;Michael&quot;, &quot;age&quot;: &quot;30&quot;, &quot;producta1&quot;: &quot;blah1&quot;, &quot;producta3&quot;: &quot;blah2&quot;}\n{&quot;name&quot;: &quot;Michael&quot;, &quot;age&quot;: &quot;31&quot;, &quot;producta1&quot;: &quot;blah3&quot;, &quot;producta3&quot;: &quot;blah4&quot;}\n{&quot;name&quot;: &quot;Michael&quot;, &quot;age&quot;: &quot;30&quot;, &quot;producta1&quot;: &quot;blah5&quot;, &quot;producta3&quot;: &quot;blah6&quot;}\n{&quot;name&quot;: &quot;Andy&quot;, &quot;age&quot;: &quot;28&quot;, &quot;producta1&quot;: &quot;blah5&quot;, &quot;producta3&quot;: &quot;blah6&quot;}\n{&quot;name&quot;: &quot;Andy&quot;, &quot;age&quot;: &quot;28&quot;, &quot;producta1&quot;: &quot;blah5&quot;, &quot;producta3&quot;: &quot;blah6&quot;}\n{&quot;name&quot;: &quot;Andy&quot;, &quot;age&quot;: &quot;28&quot;, &quot;producta1&quot;: &quot;blah5&quot;, &quot;producta3&quot;: &quot;blah6&quot;}\n{&quot;name&quot;: &quot;Justin&quot;, &quot;age&quot;: &quot;12&quot;, &quot;producta1&quot;: &quot;blah5&quot;, &quot;producta3&quot;: &quot;blah6&quot;}\n{&quot;name&quot;: &quot;Justin&quot;, &quot;age&quot;: &quot;12&quot;, &quot;producta1&quot;: &quot;blah5&quot;, &quot;producta3&quot;: &quot;blah6&quot;}\n</code></pre>\n<p>My spark code is</p>\n<pre><code>SparkSession sc = SparkSession.builder().appName(&quot;example app&quot;).config(&quot;spark.master&quot;,&quot;local&quot;).getOrCreate();\n\nDataset&lt;Row&gt; df = sc.read().json(&quot;/Users/g.bhageshpur/Downloads/spark-master/examples/src/main/examples/src/main/resources/people.json&quot;);\n\ndf.createOrReplaceTempView(&quot;people&quot;);\n\nDataset&lt;Row&gt; dfpeople = sc.sql(&quot;select * from people where name='Michael'&quot;);\n\ndfpeople.createOrReplaceTempView(&quot;people&quot;);\n\n</code></pre>\n<p>I am trying to replace the people view by calling createOrReplaceTempView</p>\n<p>but i get the following error as below</p>\n<pre><code>Recursive view `people` detected (cycle: `people` -&gt; `people`)\n\n</code></pre>\n<p>How do I replace the view in spark?</p>\n"},{"tags":["java","file","javafx","fxml"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1645640531,"post_id":71241419,"comment_id":125928858,"body_markdown":"Please edit your question and include the code for the class which loads the .fxml file, so we can run it and see the results ourselves.","body":"Please edit your question and include the code for the class which loads the .fxml file, so we can run it and see the results ourselves."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1645641729,"post_id":71241419,"comment_id":125929319,"body_markdown":"Also provide sample test data.","body":"Also provide sample test data."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1645642489,"post_id":71241419,"comment_id":125929621,"body_markdown":"I recommend using a lambda rather than PropertyValueFactory. You can Google search for more info on that if you want. Though that is not your actual issue here.","body":"I recommend using a lambda rather than PropertyValueFactory. You can Google search for more info on that if you want. Though that is not your actual issue here."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1645651764,"post_id":71241419,"comment_id":125932624,"body_markdown":"Your model is implemented incorrectly, particularly with respect to the `setXXX` methods. See, e.g. https://docs.oracle.com/javafx/2/binding/jfxpub-binding.htm. You should not create new `Property` instances.","body":"Your model is implemented incorrectly, particularly with respect to the <code>setXXX</code> methods. See, e.g. <a href=\"https://docs.oracle.com/javafx/2/binding/jfxpub-binding.htm\" rel=\"nofollow noreferrer\">docs.oracle.com/javafx/2/binding/jfxpub-binding.htm</a>. You should not create new <code>Property</code> instances."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1645652680,"post_id":71241419,"comment_id":125932889,"body_markdown":"The code works fine, despite the error with the `setXXX()` methods (since these are never called it doesn&#39;t matter). The problem is you made the cells so small, the text is not visible. Remove the cell size setting, or set it to something reasonable.","body":"The code works fine, despite the error with the <code>setXXX()</code> methods (since these are never called it doesn&#39;t matter). The problem is you made the cells so small, the text is not visible. Remove the cell size setting, or set it to something reasonable."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645653102,"creation_date":1645653102,"answer_id":71244462,"question_id":71241419,"body_markdown":"There&#39;s nothing wrong with any of the controller code. You can&#39;t see the data because you made the cells too small for the text to be visible. Remove the `fixedCellSize = &quot;4.0&quot;` from the FXML file (or at least set it to something reasonable).\r\n\r\nAs an aside, the `setXXX` methods in the model class are incorrect, and if they were ever called, your table would break. You should not create new `Property` instances (it&#39;s recommended to make these final). So you should have something like\r\n\r\n    public class CompareValue {\r\n        private final SimpleStringProperty  itemName = new SimpleStringProperty();\r\n        // ...\r\n        \r\n        public CompareValue() {\r\n            \r\n        }\r\n        public CompareValue( String name, double pKit, double pFabricator ) {\r\n            setItemName(name);\r\n            setPriceOfKit(pKit);\r\n            setPriceOfFabricator(pFabricator);\r\n        }\r\n        \r\n        public final void setItemName( String a ) {\r\n            this.itemNameProperty().set(a);\r\n        }\r\n        \r\n        public final. String getItemName() {\r\n            return this.itemNameProperty().get();\r\n        }\r\n    \r\n        public SimpleStringProperty itemNameProperty() {\r\n            return this.itemName;\r\n        }\r\n    \r\n        // etc...    \r\n    }\r\n\r\n","title":"PropertyValueFactory not filling my TableView","body":"<p>There's nothing wrong with any of the controller code. You can't see the data because you made the cells too small for the text to be visible. Remove the <code>fixedCellSize = &quot;4.0&quot;</code> from the FXML file (or at least set it to something reasonable).</p>\n<p>As an aside, the <code>setXXX</code> methods in the model class are incorrect, and if they were ever called, your table would break. You should not create new <code>Property</code> instances (it's recommended to make these final). So you should have something like</p>\n<pre><code>public class CompareValue {\n    private final SimpleStringProperty  itemName = new SimpleStringProperty();\n    // ...\n    \n    public CompareValue() {\n        \n    }\n    public CompareValue( String name, double pKit, double pFabricator ) {\n        setItemName(name);\n        setPriceOfKit(pKit);\n        setPriceOfFabricator(pFabricator);\n    }\n    \n    public final void setItemName( String a ) {\n        this.itemNameProperty().set(a);\n    }\n    \n    public final. String getItemName() {\n        return this.itemNameProperty().get();\n    }\n\n    public SimpleStringProperty itemNameProperty() {\n        return this.itemName;\n    }\n\n    // etc...    \n}\n</code></pre>\n"}],"owner":{"account_id":24356387,"reputation":11,"user_id":18291492,"display_name":"GrrOink"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645653102,"creation_date":1645636734,"question_id":71241419,"body_markdown":"I&#39;m having an issue where my TableView will not fill the table but information, but it DOES create the number of rows equal to the size of the List that I am passing into the Table when I call .setItems(). The Object class that I&#39;m using has the correctly formatted naming conventions for the PropertyValueFactory (i believe) and I&#39;m not sure why it wont load the information into the Table.\r\n\r\nHere is my Controller, where I am uploading a .csv file, parsing through it and adding the information to the List &#39;formatted&#39;, which I pass at the end in .setItems().\r\n\r\n```\r\npublic class ItemListViewController {\r\n\t@FXML\r\n\tprivate Button fileUploadButton;\r\n\r\n\t@FXML\r\n\tprivate TableView&lt;CompareValue&gt; infoTable;\r\n\r\n\t@FXML\r\n\tprivate AnchorPane mainPane;\r\n\r\n\t@FXML\r\n\tprivate Button homeButton;\r\n\t\r\n    @FXML\r\n    private TableColumn&lt;CompareValue, Double&gt; kitCostCol;\r\n\r\n    @FXML\r\n    private TableColumn&lt;CompareValue, String&gt; itemNameCol;\r\n    \r\n    @FXML\r\n    private TableColumn&lt;CompareValue, Double&gt; fabCostCol;\r\n    \r\n    @FXML\r\n    private TableColumn&lt;CompareValue, Double&gt; diffCol;\r\n\r\n\t@FXML\r\n\tvoid loadFile(ActionEvent event) throws Exception {\r\n\t\tFileChooser fc = new FileChooser();\r\n\t\tFile selFile = fc.showOpenDialog(null);\r\n\t\tScanner f;\r\n\t\t//List&lt;CompareValue&gt; itemList = new ArrayList&lt;CompareValue&gt;();\r\n\t\tObservableList&lt;CompareValue&gt; formatted = FXCollections.observableArrayList();\r\n\t\t\r\n\t\titemNameCol.setCellValueFactory(cellData -&gt; cellData.getValue().itemNameProperty());\r\n\t\tfabCostCol.setCellValueFactory(new PropertyValueFactory&lt;CompareValue, Double&gt;(&quot;priceOfFabricator&quot;));\r\n\t\tkitCostCol.setCellValueFactory(new PropertyValueFactory&lt;CompareValue, Double&gt;(&quot;priceOfKit&quot;));\r\n\t\t\r\n\t\tif ( selFile != null ) {\r\n\t\t\tf = new Scanner(selFile);\r\n\t\t\tf.nextLine();\t\t\t\t\t\t\t\t\t\t// Skips over the first line since its not of any use\r\n\t\t\tString curLine = &quot;&quot;;\r\n\t\t\tString[] split;\r\n\t\t\twhile ( f.hasNextLine() ) {\r\n\t\t\t\tcurLine = f.nextLine();\r\n\t\t\t\tsplit = curLine.split(&quot;,&quot;);\r\n\t\t\t\tformatted.add(new CompareValue(split[0], Double.parseDouble(split[2]), Double.parseDouble(split[1])));\r\n\t\t\t}\r\n\t\t\tfor ( CompareValue a : formatted ) {\r\n\t\t\t\tSystem.out.println(a.getItemName()+&quot;. &quot;+a.getPriceOfKit());\r\n\t\t\t}\r\n\t\t\tinfoTable.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);\r\n\t\t\tinfoTable.setItems(formatted);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;File is not valid&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nAs a note, the List DOES contain all of the information that I want to pass, I checked by printing all of the values.\r\n\r\nHere is the CompareValue class:\r\n```\r\npublic class CompareValue {\r\n\tpublic SimpleStringProperty  itemName = new SimpleStringProperty();\r\n\tpublic SimpleDoubleProperty priceOfKit = new SimpleDoubleProperty();\r\n\tpublic SimpleDoubleProperty priceOfFabricator = new SimpleDoubleProperty();\r\n\tpublic SimpleDoubleProperty priceDifference = new SimpleDoubleProperty();\r\n\t\r\n\tpublic CompareValue() {\r\n\t\t\r\n\t}\r\n\tpublic CompareValue( String name, double pKit, double pFabricator ) {\r\n\t\tthis.itemName = new SimpleStringProperty(name);\r\n\t\tthis.priceOfKit = new SimpleDoubleProperty(pKit);\r\n\t\tthis.priceOfFabricator = new SimpleDoubleProperty(pFabricator);\r\n\t}\r\n\t\r\n\tpublic void setItemName( String a ) {\r\n\t\tthis.itemName = new SimpleStringProperty(a);\r\n\t}\r\n\tpublic void setPriceOfKit( double a ) {\r\n\t\tthis.priceOfKit = new SimpleDoubleProperty(a);\r\n\t}\r\n\tpublic void setPriceOfFabricator( double a ) {\r\n\t\tthis.priceOfFabricator = new SimpleDoubleProperty(a);\r\n\t}\r\n\t\r\n\tpublic String getItemName() {\r\n\t\treturn this.itemName.get();\r\n\t}\r\n\tpublic double getPriceOfKit() {\r\n\t\treturn this.priceOfKit.get();\r\n\t}\r\n\tpublic double getPriceOfFabricator() {\r\n\t\treturn this.priceOfFabricator.get();\r\n\t}\r\n\r\n\tpublic SimpleStringProperty itemNameProperty() {\r\n\t\treturn this.itemName;\r\n\t}\r\n\t\r\n\tpublic SimpleDoubleProperty priceOfKitProperty() {\r\n\t\treturn this.priceOfKit;\r\n\t}\r\n\t\r\n\tpublic SimpleDoubleProperty priceOfFabricatorProperty() {\r\n\t\treturn this.priceOfFabricator;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Item Name: &quot; + this.itemName +&quot;. Kit Price: &quot; + this.priceOfKit + &quot;. Price of Fab: &quot; + this.priceOfFabricator;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nAnd here is the .fxml file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.text.*?&gt;\r\n&lt;?import javafx.scene.control.*?&gt;\r\n&lt;?import java.lang.*?&gt;\r\n&lt;?import javafx.scene.layout.*?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n\r\n&lt;AnchorPane fx:id=&quot;mainPane&quot; minHeight=&quot;720.0&quot; minWidth=&quot;1280.0&quot; xmlns=&quot;http://javafx.com/javafx/8&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.controller.ItemListViewController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;TableView fx:id=&quot;infoTable&quot; editable=&quot;true&quot; fixedCellSize=&quot;4.0&quot; layoutX=&quot;40.0&quot; layoutY=&quot;128.0&quot; prefHeight=&quot;545.0&quot; prefWidth=&quot;895.0&quot;&gt;\r\n        &lt;columns&gt;\r\n          &lt;TableColumn fx:id=&quot;itemNameCol&quot; prefWidth=&quot;470.0&quot; /&gt;\r\n          &lt;TableColumn fx:id=&quot;fabCostCol&quot; minWidth=&quot;0.0&quot; prefWidth=&quot;128.0&quot; /&gt;\r\n            &lt;TableColumn fx:id=&quot;kitCostCol&quot; prefWidth=&quot;135.0&quot; /&gt;\r\n            &lt;TableColumn fx:id=&quot;diffCol&quot; prefWidth=&quot;161.0&quot; /&gt;\r\n        &lt;/columns&gt;\r\n      &lt;/TableView&gt;\r\n      &lt;Text layoutX=&quot;272.0&quot; layoutY=&quot;89.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Data Table Information Loaded:&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;31.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Text&gt;\r\n      &lt;Button fx:id=&quot;homeButton&quot; layoutX=&quot;972.0&quot; layoutY=&quot;648.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#goToHomePage&quot; text=&quot;Home&quot; /&gt;\r\n      &lt;Button fx:id=&quot;fileUploadButton&quot; layoutX=&quot;966.0&quot; layoutY=&quot;582.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#loadFile&quot; text=&quot;Select .CSV file&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\nAny help is appreciated :)\r\n\r\nEDIT: This is the code from the class that loads in the .fxml file\r\n```\r\npublic class MainViewController {\r\n\r\n    @FXML\r\n    private Button tableButton;\r\n\r\n    @FXML\r\n    private Button generateButton;\r\n\r\n    @FXML\r\n    private AnchorPane mainpane;\r\n    @FXML\r\n    void goToTableView(ActionEvent event) throws Exception {\r\n    \tURL url = new File(&quot;src/application/view/ItemListView.fxml&quot;).toURI().toURL();\t\t\t\t\t\t\t//Switches the fxml file to the RoleView.fxml file\r\n        mainpane = FXMLLoader.load(url);// pane you are GOING TO\r\n        Scene scene = new Scene(mainpane);// pane you are GOING TO show\r\n        Stage window = (Stage) ((Node)event.getSource()).getScene().getWindow();// pane you are ON\r\n        window.setScene(scene);\r\n        window.show();\r\n    }\r\n}\r\n```\r\n\r\nSample data:\r\n```\r\nItem Name, Price of Fab., Price of Kit\r\nProfessional Killstreak Air Strike Kit, 1.40, 6.75\r\nProfessional Killstreak Ambassador Kit, 7.96, 14.39\r\nProfessional Killstreak Amputator Kit, 0.06, 5.26\r\nProfessional Killstreak Apoco-Fists Kit, 0.06, 6.22\r\nProfessional Killstreak Atomizer Kit, 0.07, 5.18\r\nProfessional Killstreak AWPer Hand Kit, 13.03, 19.50\r\nProfessional Killstreak Axtinguisher Kit, 0.36, 5.75\r\nProfessional Killstreak Baby Face&#39;s Blaster Kit, 0.80, 6.46\r\nProfessional Killstreak Back Scatter Kit, 0.10, 5.00\r\n...\r\n(159 lines)\r\n\r\n```\r\n\r\nI&#39;ve already tried using lambda notation and it has not worked for me","title":"PropertyValueFactory not filling my TableView","body":"<p>I'm having an issue where my TableView will not fill the table but information, but it DOES create the number of rows equal to the size of the List that I am passing into the Table when I call .setItems(). The Object class that I'm using has the correctly formatted naming conventions for the PropertyValueFactory (i believe) and I'm not sure why it wont load the information into the Table.</p>\n<p>Here is my Controller, where I am uploading a .csv file, parsing through it and adding the information to the List 'formatted', which I pass at the end in .setItems().</p>\n<pre><code>public class ItemListViewController {\n    @FXML\n    private Button fileUploadButton;\n\n    @FXML\n    private TableView&lt;CompareValue&gt; infoTable;\n\n    @FXML\n    private AnchorPane mainPane;\n\n    @FXML\n    private Button homeButton;\n    \n    @FXML\n    private TableColumn&lt;CompareValue, Double&gt; kitCostCol;\n\n    @FXML\n    private TableColumn&lt;CompareValue, String&gt; itemNameCol;\n    \n    @FXML\n    private TableColumn&lt;CompareValue, Double&gt; fabCostCol;\n    \n    @FXML\n    private TableColumn&lt;CompareValue, Double&gt; diffCol;\n\n    @FXML\n    void loadFile(ActionEvent event) throws Exception {\n        FileChooser fc = new FileChooser();\n        File selFile = fc.showOpenDialog(null);\n        Scanner f;\n        //List&lt;CompareValue&gt; itemList = new ArrayList&lt;CompareValue&gt;();\n        ObservableList&lt;CompareValue&gt; formatted = FXCollections.observableArrayList();\n        \n        itemNameCol.setCellValueFactory(cellData -&gt; cellData.getValue().itemNameProperty());\n        fabCostCol.setCellValueFactory(new PropertyValueFactory&lt;CompareValue, Double&gt;(&quot;priceOfFabricator&quot;));\n        kitCostCol.setCellValueFactory(new PropertyValueFactory&lt;CompareValue, Double&gt;(&quot;priceOfKit&quot;));\n        \n        if ( selFile != null ) {\n            f = new Scanner(selFile);\n            f.nextLine();                                       // Skips over the first line since its not of any use\n            String curLine = &quot;&quot;;\n            String[] split;\n            while ( f.hasNextLine() ) {\n                curLine = f.nextLine();\n                split = curLine.split(&quot;,&quot;);\n                formatted.add(new CompareValue(split[0], Double.parseDouble(split[2]), Double.parseDouble(split[1])));\n            }\n            for ( CompareValue a : formatted ) {\n                System.out.println(a.getItemName()+&quot;. &quot;+a.getPriceOfKit());\n            }\n            infoTable.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);\n            infoTable.setItems(formatted);\n        }\n        else {\n            System.out.println(&quot;File is not valid&quot;);\n        }\n    }\n}\n</code></pre>\n<p>As a note, the List DOES contain all of the information that I want to pass, I checked by printing all of the values.</p>\n<p>Here is the CompareValue class:</p>\n<pre><code>public class CompareValue {\n    public SimpleStringProperty  itemName = new SimpleStringProperty();\n    public SimpleDoubleProperty priceOfKit = new SimpleDoubleProperty();\n    public SimpleDoubleProperty priceOfFabricator = new SimpleDoubleProperty();\n    public SimpleDoubleProperty priceDifference = new SimpleDoubleProperty();\n    \n    public CompareValue() {\n        \n    }\n    public CompareValue( String name, double pKit, double pFabricator ) {\n        this.itemName = new SimpleStringProperty(name);\n        this.priceOfKit = new SimpleDoubleProperty(pKit);\n        this.priceOfFabricator = new SimpleDoubleProperty(pFabricator);\n    }\n    \n    public void setItemName( String a ) {\n        this.itemName = new SimpleStringProperty(a);\n    }\n    public void setPriceOfKit( double a ) {\n        this.priceOfKit = new SimpleDoubleProperty(a);\n    }\n    public void setPriceOfFabricator( double a ) {\n        this.priceOfFabricator = new SimpleDoubleProperty(a);\n    }\n    \n    public String getItemName() {\n        return this.itemName.get();\n    }\n    public double getPriceOfKit() {\n        return this.priceOfKit.get();\n    }\n    public double getPriceOfFabricator() {\n        return this.priceOfFabricator.get();\n    }\n\n    public SimpleStringProperty itemNameProperty() {\n        return this.itemName;\n    }\n    \n    public SimpleDoubleProperty priceOfKitProperty() {\n        return this.priceOfKit;\n    }\n    \n    public SimpleDoubleProperty priceOfFabricatorProperty() {\n        return this.priceOfFabricator;\n    }\n    \n    @Override\n    public String toString() {\n        return &quot;Item Name: &quot; + this.itemName +&quot;. Kit Price: &quot; + this.priceOfKit + &quot;. Price of Fab: &quot; + this.priceOfFabricator;\n    }\n    \n}\n</code></pre>\n<p>And here is the .fxml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.text.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import java.lang.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane fx:id=&quot;mainPane&quot; minHeight=&quot;720.0&quot; minWidth=&quot;1280.0&quot; xmlns=&quot;http://javafx.com/javafx/8&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.controller.ItemListViewController&quot;&gt;\n   &lt;children&gt;\n      &lt;TableView fx:id=&quot;infoTable&quot; editable=&quot;true&quot; fixedCellSize=&quot;4.0&quot; layoutX=&quot;40.0&quot; layoutY=&quot;128.0&quot; prefHeight=&quot;545.0&quot; prefWidth=&quot;895.0&quot;&gt;\n        &lt;columns&gt;\n          &lt;TableColumn fx:id=&quot;itemNameCol&quot; prefWidth=&quot;470.0&quot; /&gt;\n          &lt;TableColumn fx:id=&quot;fabCostCol&quot; minWidth=&quot;0.0&quot; prefWidth=&quot;128.0&quot; /&gt;\n            &lt;TableColumn fx:id=&quot;kitCostCol&quot; prefWidth=&quot;135.0&quot; /&gt;\n            &lt;TableColumn fx:id=&quot;diffCol&quot; prefWidth=&quot;161.0&quot; /&gt;\n        &lt;/columns&gt;\n      &lt;/TableView&gt;\n      &lt;Text layoutX=&quot;272.0&quot; layoutY=&quot;89.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Data Table Information Loaded:&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;31.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Text&gt;\n      &lt;Button fx:id=&quot;homeButton&quot; layoutX=&quot;972.0&quot; layoutY=&quot;648.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#goToHomePage&quot; text=&quot;Home&quot; /&gt;\n      &lt;Button fx:id=&quot;fileUploadButton&quot; layoutX=&quot;966.0&quot; layoutY=&quot;582.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#loadFile&quot; text=&quot;Select .CSV file&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Any help is appreciated :)</p>\n<p>EDIT: This is the code from the class that loads in the .fxml file</p>\n<pre><code>public class MainViewController {\n\n    @FXML\n    private Button tableButton;\n\n    @FXML\n    private Button generateButton;\n\n    @FXML\n    private AnchorPane mainpane;\n    @FXML\n    void goToTableView(ActionEvent event) throws Exception {\n        URL url = new File(&quot;src/application/view/ItemListView.fxml&quot;).toURI().toURL();                           //Switches the fxml file to the RoleView.fxml file\n        mainpane = FXMLLoader.load(url);// pane you are GOING TO\n        Scene scene = new Scene(mainpane);// pane you are GOING TO show\n        Stage window = (Stage) ((Node)event.getSource()).getScene().getWindow();// pane you are ON\n        window.setScene(scene);\n        window.show();\n    }\n}\n</code></pre>\n<p>Sample data:</p>\n<pre><code>Item Name, Price of Fab., Price of Kit\nProfessional Killstreak Air Strike Kit, 1.40, 6.75\nProfessional Killstreak Ambassador Kit, 7.96, 14.39\nProfessional Killstreak Amputator Kit, 0.06, 5.26\nProfessional Killstreak Apoco-Fists Kit, 0.06, 6.22\nProfessional Killstreak Atomizer Kit, 0.07, 5.18\nProfessional Killstreak AWPer Hand Kit, 13.03, 19.50\nProfessional Killstreak Axtinguisher Kit, 0.36, 5.75\nProfessional Killstreak Baby Face's Blaster Kit, 0.80, 6.46\nProfessional Killstreak Back Scatter Kit, 0.10, 5.00\n...\n(159 lines)\n\n</code></pre>\n<p>I've already tried using lambda notation and it has not worked for me</p>\n"},{"tags":["java","android","compiler-errors","long-integer","mobile-development"],"comments":[{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":1,"creation_date":1645652889,"post_id":71244401,"comment_id":125932948,"body_markdown":"`reduction(149361408L, 37822859361L)`","body":"<code>reduction(149361408L, 37822859361L)</code>"}],"answers":[{"tags":[],"owner":{"account_id":24281583,"reputation":168,"user_id":18228017,"display_name":"Cayman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645652895,"creation_date":1645652895,"answer_id":71244425,"question_id":71244401,"body_markdown":"Add an &quot;L&quot; to the number so you indicate is a Long\r\n\r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n          System.out.println(reduction(149361408, 37822859361L));\r\n        }\r\n        static long reduction(long a, long b){\r\n            if(b==0) return a;\r\n            return reduction(b, a%b);\r\n        }\r\n    }","title":"integer number too large .error , what can I do","body":"<p>Add an &quot;L&quot; to the number so you indicate is a Long</p>\n<pre><code>public class MyClass {\n    public static void main(String args[]) {\n      System.out.println(reduction(149361408, 37822859361L));\n    }\n    static long reduction(long a, long b){\n        if(b==0) return a;\n        return reduction(b, a%b);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24358677,"reputation":1,"user_id":18293399,"display_name":"Khairou Boumatrag"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":586,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1645652895,"creation_date":1645652687,"question_id":71244401,"body_markdown":"I am doing a function that return the GCD of two long number, and when I tried this example I get this error &quot;integer number too large&quot; although I tried with too number less than the max of long value\r\n```\r\npublic class MyClass {\r\n    public static void main(String args[]) {\r\n      System.out.println(reduction(149361408, 37822859361));\r\n    }\r\n    static long reduction(long a, long b){\r\n        if(b==0) return a;\r\n        return reduction(b, a%b);\r\n    }\r\n}\r\n```","title":"integer number too large .error , what can I do","body":"<p>I am doing a function that return the GCD of two long number, and when I tried this example I get this error &quot;integer number too large&quot; although I tried with too number less than the max of long value</p>\n<pre><code>public class MyClass {\n    public static void main(String args[]) {\n      System.out.println(reduction(149361408, 37822859361));\n    }\n    static long reduction(long a, long b){\n        if(b==0) return a;\n        return reduction(b, a%b);\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","if-statement","switch-statement"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1645648863,"post_id":71243534,"comment_id":125931682,"body_markdown":"Objects don&#39;t know where they&#39;re referenced unless you tell them. Can you pass the index into the constructor?","body":"Objects don&#39;t know where they&#39;re referenced unless you tell them. Can you pass the index into the constructor?"},{"owner":{"account_id":12074979,"reputation":129,"user_id":8828811,"display_name":"Aliics"},"score":0,"creation_date":1645650473,"post_id":71243534,"comment_id":125932199,"body_markdown":"Maybe it&#39;s just for the example, but you seem to have `index` already as a variable in your if statements. Couldn&#39;t just use this value?","body":"Maybe it&#39;s just for the example, but you seem to have <code>index</code> already as a variable in your if statements. Couldn&#39;t just use this value?"},{"owner":{"account_id":22916483,"reputation":1,"user_id":17053008,"display_name":"Nikolai L Paulsen"},"score":0,"creation_date":1645652565,"post_id":71243534,"comment_id":125932870,"body_markdown":"Yes, it&#39;s just for example. I edited the question now. I don&#39;t know how I would write such an if statement... so...","body":"Yes, it&#39;s just for example. I edited the question now. I don&#39;t know how I would write such an if statement... so..."}],"owner":{"account_id":22916483,"reputation":1,"user_id":17053008,"display_name":"Nikolai L Paulsen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":589,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645652484,"creation_date":1645647443,"question_id":71243534,"body_markdown":"I have this method called setMonster(), in a class called &#39;AssetSetter&#39; in a package called &#39;main&#39;, which creates new monsters based on information in another class from a different package called &#39;MON_GreenSlime&#39;. \r\n\r\nSetMonster() inside of the AssetSetter class looks like this(the list is much longer in reality but you get the jig):\r\n\r\n```\r\npublic void setMonster(){\r\n\r\n        gp.monster[0] = new MON_GreenSlime(gp);\r\n        gp.monster[0].worldX = gp.tileSize * 26;\r\n        gp.monster[0].worldY = gp.tileSize * 20;\r\n\r\n        gp.monster[1] = new MON_GreenSlime(gp);\r\n        gp.monster[1].worldX = gp.tileSize * 22;\r\n        gp.monster[1].worldY = gp.tileSize * 18;\r\n\r\n        gp.monster[2] = new MON_GreenSlime(gp);\r\n        gp.monster[2].worldX = gp.tileSize * 24;\r\n        gp.monster[2].worldY = gp.tileSize * 17;\r\n\r\n    }\r\n```\r\n\r\nSo inside of the MON_GreenSlime class I have a method called setAction() which sets AI movement to the monster. Inside this setAction() I want to make an if statement that checks the index of the gp.monster[] from the m as its condition. Something along the lines of this(if this would work)\r\n\r\n````\r\nif (gp.monster[index] index == 0){\r\n  //do something\r\n} \r\n\r\nelse if (gp.monster[index] index == 1){\r\n  //do something\r\n}\r\n\r\n//And so on... (The index is just as an example) Like I explained, I don&#39;t know how I would write such an if statement\r\n````\r\n\r\nThe individual monsters AI movement is controlled by it&#39;s default x and y location, therefore when I create more than 1 monster I feel like I need some sort of if or switch statement to treat each array index individually.\r\n\r\nSomeone please let me know if you know of a simple solution :) I&#39;m pretty new to Java, so go easy on me if its obvious","title":"How do I write an if-statement that checks the index of an array?","body":"<p>I have this method called setMonster(), in a class called 'AssetSetter' in a package called 'main', which creates new monsters based on information in another class from a different package called 'MON_GreenSlime'.</p>\n<p>SetMonster() inside of the AssetSetter class looks like this(the list is much longer in reality but you get the jig):</p>\n<pre><code>public void setMonster(){\n\n        gp.monster[0] = new MON_GreenSlime(gp);\n        gp.monster[0].worldX = gp.tileSize * 26;\n        gp.monster[0].worldY = gp.tileSize * 20;\n\n        gp.monster[1] = new MON_GreenSlime(gp);\n        gp.monster[1].worldX = gp.tileSize * 22;\n        gp.monster[1].worldY = gp.tileSize * 18;\n\n        gp.monster[2] = new MON_GreenSlime(gp);\n        gp.monster[2].worldX = gp.tileSize * 24;\n        gp.monster[2].worldY = gp.tileSize * 17;\n\n    }\n</code></pre>\n<p>So inside of the MON_GreenSlime class I have a method called setAction() which sets AI movement to the monster. Inside this setAction() I want to make an if statement that checks the index of the gp.monster[] from the m as its condition. Something along the lines of this(if this would work)</p>\n<pre><code>if (gp.monster[index] index == 0){\n  //do something\n} \n\nelse if (gp.monster[index] index == 1){\n  //do something\n}\n\n//And so on... (The index is just as an example) Like I explained, I don't know how I would write such an if statement\n</code></pre>\n<p>The individual monsters AI movement is controlled by it's default x and y location, therefore when I create more than 1 monster I feel like I need some sort of if or switch statement to treat each array index individually.</p>\n<p>Someone please let me know if you know of a simple solution :) I'm pretty new to Java, so go easy on me if its obvious</p>\n"},{"tags":["java","inheritance","polymorphism"],"comments":[{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1645652204,"post_id":71244242,"comment_id":125932762,"body_markdown":"`H` is the class that implements the `setY(...)` method.  but `three` is of class `G` - so if you want to call the method, you need to tell the compiler to treat it like an `H` (otherwise it will not find it) - it&#39;s not the same as `setX(..)` since this method is inherited from the parent class (`G`) and it&#39;s automatically inherited from `H` class.","body":"<code>H</code> is the class that implements the <code>setY(...)</code> method.  but <code>three</code> is of class <code>G</code> - so if you want to call the method, you need to tell the compiler to treat it like an <code>H</code> (otherwise it will not find it) - it&#39;s not the same as <code>setX(..)</code> since this method is inherited from the parent class (<code>G</code>) and it&#39;s automatically inherited from <code>H</code> class."}],"answers":[{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645652443,"creation_date":1645652012,"answer_id":71244294,"question_id":71244242,"body_markdown":"`three` is known at compile time to be reference to a `G`. The type of `three` does not reflect that the referenced object might actually be an `H`.\r\n\r\nA `G` has no method `setY` and therefore you cannot call `setY` on a `G` reference.\r\n\r\nYou can force a runtime check that the referenced `G` is really an `H`; if the check succeeds then you can call `setY`. And if the check fails, you&#39;ll get an exception. Which is what you&#39;re doing with the cast. \r\n\r\nYou might object that &quot;it&#39;s obvious&quot; that the object in this case is really an `H`, and it does look that way to a human reader.  In other cases, though, it&#39;s not so simple - the language rules cater for the general case.\r\n\r\nAlso, why declare `three` as a reference to a `G` if you want to treat it like an `H`?  Declare it as an `H`. Most other contexts that need a `G` will accept it as such.  It all comes down to the intent of the programmer (and I see this is just an example to explore the language, so there&#39;s nothing really to go on to say what would be &#39;right&#39;).","title":"Why Do I Need To Cast This Method Java","body":"<p><code>three</code> is known at compile time to be reference to a <code>G</code>. The type of <code>three</code> does not reflect that the referenced object might actually be an <code>H</code>.</p>\n<p>A <code>G</code> has no method <code>setY</code> and therefore you cannot call <code>setY</code> on a <code>G</code> reference.</p>\n<p>You can force a runtime check that the referenced <code>G</code> is really an <code>H</code>; if the check succeeds then you can call <code>setY</code>. And if the check fails, you'll get an exception. Which is what you're doing with the cast.</p>\n<p>You might object that &quot;it's obvious&quot; that the object in this case is really an <code>H</code>, and it does look that way to a human reader.  In other cases, though, it's not so simple - the language rules cater for the general case.</p>\n<p>Also, why declare <code>three</code> as a reference to a <code>G</code> if you want to treat it like an <code>H</code>?  Declare it as an <code>H</code>. Most other contexts that need a <code>G</code> will accept it as such.  It all comes down to the intent of the programmer (and I see this is just an example to explore the language, so there's nothing really to go on to say what would be 'right').</p>\n"}],"owner":{"account_id":24358532,"reputation":3,"user_id":18293266,"display_name":"Isaac Castillo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645654199,"accepted_answer_id":71244294,"answer_count":1,"score":0,"last_activity_date":1645652443,"creation_date":1645651594,"question_id":71244242,"body_markdown":"I&#39;m learning about inheritance and polymorphism right now and I understand it except for this. Why do I need to cast three.setY() shouldn&#39;t it already have access to it since I&#39;m creating an H object that inherits from the G class. \r\n\r\nLine 8 is the syntax error.\r\n\r\n```java\r\npublic class WS2\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        G three = new H();\r\n        System.out.println(three);\r\n        three.setX(8);\r\n        three.setY(21); // Syntax Error -&gt; ((H) three).setY()\r\n        System.out.println(three);\r\n    }\r\n}\r\n\r\nclass G\r\n{\r\n    private int x;\r\n    \r\n    public G()\r\n    {\r\n        x = 3;\r\n    }\r\n    \r\n    public void setX(int val)\r\n    {\r\n        x = val;\r\n    }\r\n    \r\n    public String toString()\r\n    {\r\n        return &quot;&quot; + x;\r\n    }\r\n}\r\n\r\nclass H extends G\r\n{\r\n    private int y;\r\n    \r\n    public H()\r\n    {\r\n        y = 4;\r\n    }\r\n    \r\n    public void setY(int val)\r\n    {\r\n        y = val;\r\n    }\r\n    \r\n    public String toString()\r\n    {\r\n        return &quot;&quot; + y + &quot; &quot; + super.toString();\r\n    }\r\n}\r\n","title":"Why Do I Need To Cast This Method Java","body":"<p>I'm learning about inheritance and polymorphism right now and I understand it except for this. Why do I need to cast three.setY() shouldn't it already have access to it since I'm creating an H object that inherits from the G class.</p>\n<p>Line 8 is the syntax error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WS2\n{\n    public static void main(String[] args)\n    {\n        G three = new H();\n        System.out.println(three);\n        three.setX(8);\n        three.setY(21); // Syntax Error -&gt; ((H) three).setY()\n        System.out.println(three);\n    }\n}\n\nclass G\n{\n    private int x;\n    \n    public G()\n    {\n        x = 3;\n    }\n    \n    public void setX(int val)\n    {\n        x = val;\n    }\n    \n    public String toString()\n    {\n        return &quot;&quot; + x;\n    }\n}\n\nclass H extends G\n{\n    private int y;\n    \n    public H()\n    {\n        y = 4;\n    }\n    \n    public void setY(int val)\n    {\n        y = val;\n    }\n    \n    public String toString()\n    {\n        return &quot;&quot; + y + &quot; &quot; + super.toString();\n    }\n}\n</code></pre>\n"},{"tags":["java","unit-testing","mockito","java-7","argument-matcher"],"answers":[{"tags":[],"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1505809868,"creation_date":1505809285,"answer_id":46295402,"question_id":46294693,"body_markdown":"In my opinion you can get away with just the basic `anyList()` method with additional generics information:\r\n\r\n    Mockito.doReturn(&quot;1&quot;).when(classMock).name(ArgumentMatchers.eq(1)\r\n    \t\t\t\t, ArgumentMatchers.&lt;List&lt;String&gt;&gt;anyList());\r\n\r\nThis worked for me and also remember to add the `ArgumentMatcher` for the first int variable otherwise Mockito will fail.\r\n\r\n","title":"Mockito anyListOf() List&lt;List&lt;String&gt;&gt;","body":"<p>In my opinion you can get away with just the basic <code>anyList()</code> method with additional generics information:</p>\n\n<pre><code>Mockito.doReturn(\"1\").when(classMock).name(ArgumentMatchers.eq(1)\n                , ArgumentMatchers.&lt;List&lt;String&gt;&gt;anyList());\n</code></pre>\n\n<p>This worked for me and also remember to add the <code>ArgumentMatcher</code> for the first int variable otherwise Mockito will fail.</p>\n"},{"tags":[],"owner":{"account_id":1295346,"reputation":4152,"user_id":1246547,"display_name":"Philzen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645652185,"creation_date":1645623943,"answer_id":71238047,"question_id":46294693,"body_markdown":"There are two approaches to this:\r\n\r\n1. simply casting on `any()` acts as a sufficient type hint:\r\n\r\n~~~java\r\nMockito.doReturn(&quot;1&quot;)\r\n    .when(classMock)\r\n    .name(eq(1), (List&lt;List&lt;String&gt;&gt;) any());\r\n~~~\r\n\r\n2. providing additional generics information to `anyList()`.  \r\nThis is basically the same approach as [below answer](https://stackoverflow.com/questions/46294693/mockito-anylistof-listliststring#46295402), only a little more concise as the alias `Mockito` is used, which maps to the `ArgumentMatcher` implementation.\r\n\r\n~~~java\r\nMockito.doReturn(&quot;1&quot;)\r\n    .when(classMock)\r\n    .name(eq(1), Mockito.&lt;List&lt;String&gt;&gt; anyList());\r\n~~~  \r\n\r\n---\r\n\r\nThere are subtle but notable differences between the two. Imagine `name()` had the following two overloads:\r\n\r\n~~~java\r\n// Overload A (target of this test)\r\nString name(int id, Object entities) {...}\r\n\r\n// Overload B (not targeted in this test)\r\nString name(int id, List&lt;CustomMapImpl&gt; entities) {...}\r\n~~~\r\n\r\nWhen the second argument becomes `null` in the code under test, approach 1. will also properly match overload A, while approach 2. **will resolve to overload B**. In order match that specific case with generics it would need to be explicitly defined using a different ArgumentMatcher:\r\n\r\n~~~java\r\nMockito.doReturn(null)\r\n    .when(classMock)\r\n    .name(eq(1), Mockito.&lt;List&lt;List&lt;String&gt;&gt;&gt;isNull());\r\n~~~ ","title":"Mockito anyListOf() List&lt;List&lt;String&gt;&gt;","body":"<p>There are two approaches to this:</p>\n<ol>\n<li>simply casting on <code>any()</code> acts as a sufficient type hint:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Mockito.doReturn(&quot;1&quot;)\n    .when(classMock)\n    .name(eq(1), (List&lt;List&lt;String&gt;&gt;) any());\n</code></pre>\n<ol start=\"2\">\n<li>providing additional generics information to <code>anyList()</code>.<br />\nThis is basically the same approach as <a href=\"https://stackoverflow.com/questions/46294693/mockito-anylistof-listliststring#46295402\">below answer</a>, only a little more concise as the alias <code>Mockito</code> is used, which maps to the <code>ArgumentMatcher</code> implementation.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Mockito.doReturn(&quot;1&quot;)\n    .when(classMock)\n    .name(eq(1), Mockito.&lt;List&lt;String&gt;&gt; anyList());\n</code></pre>\n<hr />\n<p>There are subtle but notable differences between the two. Imagine <code>name()</code> had the following two overloads:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Overload A (target of this test)\nString name(int id, Object entities) {...}\n\n// Overload B (not targeted in this test)\nString name(int id, List&lt;CustomMapImpl&gt; entities) {...}\n</code></pre>\n<p>When the second argument becomes <code>null</code> in the code under test, approach 1. will also properly match overload A, while approach 2. <strong>will resolve to overload B</strong>. In order match that specific case with generics it would need to be explicitly defined using a different ArgumentMatcher:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mockito.doReturn(null)\n    .when(classMock)\n    .name(eq(1), Mockito.&lt;List&lt;List&lt;String&gt;&gt;&gt;isNull());\n</code></pre>\n"}],"owner":{"account_id":8285451,"reputation":89,"user_id":6228678,"display_name":"Ganymed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19467,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":46295402,"answer_count":2,"score":4,"last_activity_date":1645652185,"creation_date":1505806766,"question_id":46294693,"body_markdown":"I&#39;m using `mockito-core:2.8.47` and `Java 7` and want to use in a when and verify `anyListOf` or some other any method.\r\nMy Problem is, if I just use `anyList` it says: \r\n\r\n&gt; The method name( int, List &lt; List &lt; String &gt; &gt;) in the type Y is not  \r\n&gt; applicable for the arguments ( int, List &lt; Object &gt; )\r\n\r\nHow can I fix this?\r\n\r\n`ArgumentMatchers.anyListOf(ArgumentMatchers.anyListOf( String.class ) )` doesn&#39;t work...\r\n\r\n","title":"Mockito anyListOf() List&lt;List&lt;String&gt;&gt;","body":"<p>I'm using <code>mockito-core:2.8.47</code> and <code>Java 7</code> and want to use in a when and verify <code>anyListOf</code> or some other any method.\nMy Problem is, if I just use <code>anyList</code> it says: </p>\n\n<blockquote>\n  <p>The method name( int, List &lt; List &lt; String > >) in the type Y is not<br>\n  applicable for the arguments ( int, List &lt; Object > )</p>\n</blockquote>\n\n<p>How can I fix this?</p>\n\n<p><code>ArgumentMatchers.anyListOf(ArgumentMatchers.anyListOf( String.class ) )</code> doesn't work...</p>\n"},{"tags":["java","akka"],"answers":[{"tags":[],"owner":{"account_id":181329,"reputation":4496,"user_id":415251,"accept_rate":83,"display_name":"David Ogren"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645652099,"creation_date":1645652099,"answer_id":71244305,"question_id":71241446,"body_markdown":"See the docs on Timers: https://doc.akka.io/docs/akka/current/actors.html#timers-scheduled-messages\r\n\r\nIn short, mixin the Timers trait. Then you can use `timers` to access the API. You&#39;ll receive messages in response to the timers firing. \r\n\r\n```\r\nclass MyActor extends Actor with Timers {\r\n  import MyActor._\r\n  timers.startSingleTimer(TickKey, FirstTick, 500.millis)\r\n\r\n  def receive = {\r\n    case FirstTick =&gt;\r\n      // do something useful here\r\n      timers.startTimerWithFixedDelay(TickKey, Tick, 1.second)\r\n    case Tick =&gt;\r\n    // do something useful here\r\n  }\r\n}\r\n``` ","title":"Timed behaviors in Akka classic?","body":"<p>See the docs on Timers: <a href=\"https://doc.akka.io/docs/akka/current/actors.html#timers-scheduled-messages\" rel=\"nofollow noreferrer\">https://doc.akka.io/docs/akka/current/actors.html#timers-scheduled-messages</a></p>\n<p>In short, mixin the Timers trait. Then you can use <code>timers</code> to access the API. You'll receive messages in response to the timers firing.</p>\n<pre><code>class MyActor extends Actor with Timers {\n  import MyActor._\n  timers.startSingleTimer(TickKey, FirstTick, 500.millis)\n\n  def receive = {\n    case FirstTick =&gt;\n      // do something useful here\n      timers.startTimerWithFixedDelay(TickKey, Tick, 1.second)\n    case Tick =&gt;\n    // do something useful here\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":9197165,"reputation":1053,"user_id":12156208,"display_name":"r4bb1t"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71244305,"answer_count":1,"score":0,"last_activity_date":1645652099,"creation_date":1645636818,"question_id":71241446,"body_markdown":"I am working with Akka classic, and have to setup timed behaviors - in Akka typed, I could do this using `Behaviors.withTimers` how do I accomplish this in Akka classic? It seems like we can create an actor in Akka using \r\n\r\n```java\r\npublic static Props props() {\r\n    return Props.create(actor.class, () -&gt; new actor());\r\n}\r\n```\r\nHow do I use timers in this kind of initialization?","title":"Timed behaviors in Akka classic?","body":"<p>I am working with Akka classic, and have to setup timed behaviors - in Akka typed, I could do this using <code>Behaviors.withTimers</code> how do I accomplish this in Akka classic? It seems like we can create an actor in Akka using</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Props props() {\n    return Props.create(actor.class, () -&gt; new actor());\n}\n</code></pre>\n<p>How do I use timers in this kind of initialization?</p>\n"},{"tags":["java","spring-boot","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645651876,"creation_date":1645651876,"answer_id":71244276,"question_id":71244102,"body_markdown":"`ProducerRecord`s are logged directly by the template, not the container (which logs `ConsumerRecord`s).\r\n\r\nWe don&#39;t currently have a utility for `ProducerRecords`.\r\n\r\nI opened an issue https://github.com/spring-projects/spring-kafka/issues/2132","title":"Spring-Kafka ReplyingKafkaTemplate logs full details instead of metadata only when reply times out","body":"<p><code>ProducerRecord</code>s are logged directly by the template, not the container (which logs <code>ConsumerRecord</code>s).</p>\n<p>We don't currently have a utility for <code>ProducerRecords</code>.</p>\n<p>I opened an issue <a href=\"https://github.com/spring-projects/spring-kafka/issues/2132\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-kafka/issues/2132</a></p>\n"}],"owner":{"account_id":4383379,"reputation":423,"user_id":3574368,"accept_rate":100,"display_name":"mslissap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645651876,"creation_date":1645650775,"question_id":71244102,"body_markdown":"I am using ReplyingKafkaTemplate to get a synchronous response. When this times out waiting on a response, the entire payload is logged instead of only the metadata, though I have set the option to only log metadata. I am using spring boot 2.6.2, spring-kafka 2.8.1. \r\n\r\nWhat am I missing to get this to only log metadata?\r\n\r\nI have tried setting the spring property in application.properties:\r\n```\r\nspring.kafka.listener.only-log-record-metadata=true\r\n```\r\n\r\nI have tried setting it directly on the beans:\r\n```\r\nrepliesContainer.getContainerProperties().setOnlyLogRecordMetadata(true);\r\n```\r\n\r\nI have tried adding this Customizer class I found here:\r\nhttps://github.com/spring-projects/spring-kafka/issues/1659\r\n```\r\n@Component\r\npublic class Customizer {\r\n\r\n    Customizer(AbstractKafkaListenerContainerFactory&lt;?, ?, ?&gt; factory) {\r\n        factory.getContainerProperties().setOnlyLogRecordMetadata(true);\r\n    }\r\n}\r\n```\r\n\r\nRegardless of these attempts, the full payload is still being logged when the reply times out.","title":"Spring-Kafka ReplyingKafkaTemplate logs full details instead of metadata only when reply times out","body":"<p>I am using ReplyingKafkaTemplate to get a synchronous response. When this times out waiting on a response, the entire payload is logged instead of only the metadata, though I have set the option to only log metadata. I am using spring boot 2.6.2, spring-kafka 2.8.1.</p>\n<p>What am I missing to get this to only log metadata?</p>\n<p>I have tried setting the spring property in application.properties:</p>\n<pre><code>spring.kafka.listener.only-log-record-metadata=true\n</code></pre>\n<p>I have tried setting it directly on the beans:</p>\n<pre><code>repliesContainer.getContainerProperties().setOnlyLogRecordMetadata(true);\n</code></pre>\n<p>I have tried adding this Customizer class I found here:\n<a href=\"https://github.com/spring-projects/spring-kafka/issues/1659\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-kafka/issues/1659</a></p>\n<pre><code>@Component\npublic class Customizer {\n\n    Customizer(AbstractKafkaListenerContainerFactory&lt;?, ?, ?&gt; factory) {\n        factory.getContainerProperties().setOnlyLogRecordMetadata(true);\n    }\n}\n</code></pre>\n<p>Regardless of these attempts, the full payload is still being logged when the reply times out.</p>\n"},{"tags":["java","spring-boot","elasticsearch","google-cloud-platform","connection"],"answers":[{"tags":[],"owner":{"account_id":3188714,"reputation":1014,"user_id":2693608,"display_name":"ezer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645651870,"creation_date":1645651870,"answer_id":71244273,"question_id":71243548,"body_markdown":"looks like similar question was already answered (older version of netty, but pretty much the same) see: https://stackoverflow.com/questions/41263143/unsupported-http-type-netty3-when-trying-to-start-embedded-elasticsearch-node","title":"How to connect elasticsearch 7.16.3 with Springboot v2.1.0.RELEASE","body":"<p>looks like similar question was already answered (older version of netty, but pretty much the same) see: <a href=\"https://stackoverflow.com/questions/41263143/unsupported-http-type-netty3-when-trying-to-start-embedded-elasticsearch-node\">Unsupported http.type [netty3] when trying to start embedded elasticsearch node</a></p>\n"}],"owner":{"account_id":22887134,"reputation":1,"user_id":17027846,"display_name":"Habibur Rahman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645651870,"creation_date":1645647514,"question_id":71243548,"body_markdown":"I am new in Elasticsearch. I have a Spring boot application (v2.1.0). I have setup my Elasticsearch in Google cloud with docker which has security integrated.\r\nBut I can&#39;t connect my Elasticsearch from Spring boot application. \r\n\r\nHere are my **elasticsearch**\r\n\r\n    {\r\n      &quot;name&quot; : &quot;elasticsearch&quot;,\r\n      &quot;cluster_name&quot; : &quot;docker-cluster&quot;,\r\n      &quot;cluster_uuid&quot; : &quot;abc..&quot;,\r\n      &quot;version&quot; : {\r\n        &quot;number&quot; : &quot;7.16.3&quot;,\r\n        &quot;build_flavor&quot; : &quot;default&quot;,\r\n        &quot;build_type&quot; : &quot;docker&quot;,\r\n        &quot;build_hash&quot; : &quot;4e6e...&quot;,\r\n        &quot;build_date&quot; : &quot;2022-01-06T23:43:02.825887787Z&quot;,\r\n        &quot;build_snapshot&quot; : false,\r\n        &quot;lucene_version&quot; : &quot;8.10.1&quot;,\r\n        &quot;minimum_wire_compatibility_version&quot; : &quot;6.8.0&quot;,\r\n        &quot;minimum_index_compatibility_version&quot; : &quot;6.0.0-beta1&quot;\r\n      },\r\n      &quot;tagline&quot; : &quot;You Know, for Search&quot;\r\n    }\r\n\r\nand **Elasticsearch** nodes is\r\n\r\n    {\r\n      &quot;_nodes&quot; : {\r\n        &quot;total&quot; : 1,\r\n        &quot;successful&quot; : 1,\r\n        &quot;failed&quot; : 0\r\n      },\r\n      &quot;cluster_name&quot; : &quot;docker-cluster&quot;,\r\n      &quot;nodes&quot; : {\r\n        &quot;2QcM7hAsT2-VZD-hh5_OkQ&quot; : {\r\n          &quot;name&quot; : &quot;elasticsearch&quot;,\r\n          &quot;transport_address&quot; : &quot;0.0.0.0:9300&quot;,\r\n          &quot;host&quot; : &quot;0.0.0.0&quot;,\r\n          &quot;ip&quot; : &quot;0.0.0.0&quot;,\r\n          &quot;version&quot; : &quot;7.16.3&quot;,\r\n          &quot;build_flavor&quot; : &quot;default&quot;,\r\n          &quot;build_type&quot; : &quot;docker&quot;,\r\n          &quot;build_hash&quot; : &quot;4e6e...&quot;,\r\n          &quot;roles&quot; : [\r\n            &quot;data&quot;,\r\n            &quot;data_cold&quot;,\r\n            &quot;data_content&quot;,\r\n            &quot;data_frozen&quot;,\r\n            &quot;data_hot&quot;,\r\n            &quot;data_warm&quot;,\r\n            &quot;ingest&quot;,\r\n            &quot;master&quot;,\r\n            &quot;ml&quot;,\r\n            &quot;remote_cluster_client&quot;,\r\n            &quot;transform&quot;\r\n          ],\r\n          &quot;attributes&quot; : {\r\n            &quot;ml.machine_memory&quot; : &quot;1073741824&quot;,\r\n            &quot;xpack.installed&quot; : &quot;true&quot;,\r\n            &quot;transform.node&quot; : &quot;true&quot;,\r\n            &quot;ml.max_open_jobs&quot; : &quot;512&quot;,\r\n            &quot;ml.max_jvm_size&quot; : &quot;536870912&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n**Dependencies**\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.16.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;transport&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.16.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n **application.properties**\r\n\r\n    #Elastic\r\n    spring.data.elasticsearch.cluster-name=docker-cluster\r\n    spring.data.elasticsearch.cluster-nodes=elasticsearch_ip_address:9200\r\n\r\n**Customer.java**\r\n\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import org.springframework.data.annotation.Id;\r\n    import org.springframework.data.elasticsearch.annotations.Document;\r\n\r\n    @Document(indexName = &quot;customer&quot;,type = &quot;customer&quot;,shards = 2)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Customer {\r\n     @Id\r\n     private String id;\r\n     private String firstname;\r\n     private String lastname;\r\n     private int age;\r\n    }\r\n\r\n**CustomerService.java**\r\n\r\n    import com.jitsoft.hurraayy.elasticsearch.documents.Customer;\r\n    import com.jitsoft.hurraayy.elasticsearch.repository.CustomerRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import java.util.List;\r\n\r\n    @RestController\r\n    public class CustomerService {\r\n     @Autowired\r\n     private CustomerRepository repository;\r\n\r\n     @PostMapping(&quot;/saveCustomer&quot;)\r\n     public int saveCustomer(@RequestBody List&lt;Customer&gt; customers){\r\n        repository.saveAll(customers);\r\n        return customers.size();\r\n     }\r\n     @GetMapping(&quot;/findAll&quot;)\r\n     public Iterable&lt;Customer&gt; findAllCustomers(){\r\n        return repository.findAll();\r\n     }\r\n    }\r\n\r\n**CustomerRepository.java**\r\n\r\n    import com.jitsoft.hurraayy.elasticsearch.documents.Customer;\r\n    import org.springframework.data.elasticsearch.repository.ElasticsearchRepository;\r\n\r\n    public interface CustomerRepository extends ElasticsearchRepository&lt;Customer,String&gt; {\r\n\r\n    }\r\n\r\n**Whenever I run the application I got the below error,**\r\n\r\n    org.springframework.context.ApplicationContextException: Unable to start web server;         nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:155) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:540) ~[spring-context-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n    Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:125) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:86) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:152) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\t... 8 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;servletEndpointRegistrar&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/endpoint/web/ServletEndpointManagementContextConfiguration$WebMvcServletEndpointManagementContextConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar]: Factory method &#39;servletEndpointRegistrar&#39; threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;healthEndpoint&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Unsatisfied dependency expressed through method &#39;healthEndpoint&#39; parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;healthIndicatorRegistry&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthIndicatorAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.health.HealthIndicatorRegistry]: Factory method &#39;healthIndicatorRegistry&#39; threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.actuate.autoconfigure.elasticsearch.ElasticSearchClientHealthIndicatorAutoConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;elasticsearchClient&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.elasticsearch.client.transport.TransportClient]: Factory method &#39;elasticsearchClient&#39; threw exception; nested exception is java.lang.IllegalStateException: Unsupported transport.type [netty4]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:625) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:605) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1288) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:236) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5098) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1429) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1419) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\t\r\n\t... 13 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar]: Factory method &#39;servletEndpointRegistrar&#39; threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;healthEndpoint&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Unsatisfied dependency expressed through method &#39;healthEndpoint&#39; parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;healthIndicatorRegistry&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthIndicatorAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.health.HealthIndicatorRegistry]: Factory method &#39;healthIndicatorRegistry&#39; threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.actuate.autoconfigure.elasticsearch.ElasticSearchClientHealthIndicatorAutoConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;elasticsearchClient&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.elasticsearch.client.transport.TransportClient]: Factory method &#39;elasticsearchClient&#39; threw exception; nested exception is java.lang.IllegalStateException: Unsupported transport.type [netty4]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:620) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\t... 53 common frames omitted\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;healthEndpoint&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Unsatisfied dependency expressed through method &#39;healthEndpoint&#39; parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;healthIndicatorRegistry&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthIndicatorAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.health.HealthIndicatorRegistry]: Factory method &#39;healthIndicatorRegistry&#39; threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.actuate.autoconfigure.elasticsearch.ElasticSearchClientHealthIndicatorAutoConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;elasticsearchClient&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.elasticsearch.client.transport.TransportClient]: Factory method &#39;elasticsearchClient&#39; threw exception; nested exception is java.lang.IllegalStateException: Unsupported transport.type [netty4]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:767) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:508) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1288) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\t\r\n\t... 54 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;healthIndicatorRegistry&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthIndicatorAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.health.HealthIndicatorRegistry]: Factory method &#39;healthIndicatorRegistry&#39; threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.actuate.autoconfigure.elasticsearch.ElasticSearchClientHealthIndicatorAutoConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;elasticsearchClient&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.elasticsearch.client.transport.TransportClient]: Factory method &#39;elasticsearchClient&#39; threw exception; nested exception is java.lang.IllegalStateException: Unsupported transport.type [netty4]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:625) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:605) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1288) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\t\r\n\t... 79 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.health.HealthIndicatorRegistry]: Factory method &#39;healthIndicatorRegistry&#39; threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.actuate.autoconfigure.elasticsearch.ElasticSearchClientHealthIndicatorAutoConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;elasticsearchClient&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.elasticsearch.client.transport.TransportClient]: Factory method &#39;elasticsearchClient&#39; threw exception; nested exception is java.lang.IllegalStateException: Unsupported transport.type [netty4]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:620) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\t... 93 common frames omitted\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.actuate.autoconfigure.elasticsearch.ElasticSearchClientHealthIndicatorAutoConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;elasticsearchClient&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.elasticsearch.client.transport.TransportClient]: Factory method &#39;elasticsearchClient&#39; threw exception; nested exception is java.lang.IllegalStateException: Unsupported transport.type [netty4]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:767) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1308) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\t\r\n\t... 94 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;elasticsearchClient&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.elasticsearch.client.transport.TransportClient]: Factory method &#39;elasticsearchClient&#39; threw exception; nested exception is java.lang.IllegalStateException: Unsupported transport.type [netty4]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:625) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:455) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1288) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\t\r\n\t... 127 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.elasticsearch.client.transport.TransportClient]: Factory method &#39;elasticsearchClient&#39; threw exception; nested exception is java.lang.IllegalStateException: Unsupported transport.type [netty4]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:620) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\r\n\t... 144 common frames omitted\r\n    Caused by: java.lang.IllegalStateException: Unsupported transport.type [netty4]\r\n\tat org.elasticsearch.common.network.NetworkModule.getTransportSupplier(NetworkModule.java:241) ~[elasticsearch-7.16.3.jar:7.16.3]\r\n\tat org.elasticsearch.client.transport.TransportClient.buildTemplate(TransportClient.java:234) ~[elasticsearch-7.16.3.jar:7.16.3]\r\n\t\r\n\t... 145 common frames omitted\r\n\r\n\r\n    Process finished with exit code 1\r\n\r\nI have remove some error due to character limitations.\r\n\r\n***What I can assume it is version related problem. Can someone help me to get out of this with proper description?***\r\n","title":"How to connect elasticsearch 7.16.3 with Springboot v2.1.0.RELEASE","body":"<p>I am new in Elasticsearch. I have a Spring boot application (v2.1.0). I have setup my Elasticsearch in Google cloud with docker which has security integrated.\nBut I can't connect my Elasticsearch from Spring boot application.</p>\n<p>Here are my <strong>elasticsearch</strong></p>\n<pre><code>{\n  &quot;name&quot; : &quot;elasticsearch&quot;,\n  &quot;cluster_name&quot; : &quot;docker-cluster&quot;,\n  &quot;cluster_uuid&quot; : &quot;abc..&quot;,\n  &quot;version&quot; : {\n    &quot;number&quot; : &quot;7.16.3&quot;,\n    &quot;build_flavor&quot; : &quot;default&quot;,\n    &quot;build_type&quot; : &quot;docker&quot;,\n    &quot;build_hash&quot; : &quot;4e6e...&quot;,\n    &quot;build_date&quot; : &quot;2022-01-06T23:43:02.825887787Z&quot;,\n    &quot;build_snapshot&quot; : false,\n    &quot;lucene_version&quot; : &quot;8.10.1&quot;,\n    &quot;minimum_wire_compatibility_version&quot; : &quot;6.8.0&quot;,\n    &quot;minimum_index_compatibility_version&quot; : &quot;6.0.0-beta1&quot;\n  },\n  &quot;tagline&quot; : &quot;You Know, for Search&quot;\n}\n</code></pre>\n<p>and <strong>Elasticsearch</strong> nodes is</p>\n<pre><code>{\n  &quot;_nodes&quot; : {\n    &quot;total&quot; : 1,\n    &quot;successful&quot; : 1,\n    &quot;failed&quot; : 0\n  },\n  &quot;cluster_name&quot; : &quot;docker-cluster&quot;,\n  &quot;nodes&quot; : {\n    &quot;2QcM7hAsT2-VZD-hh5_OkQ&quot; : {\n      &quot;name&quot; : &quot;elasticsearch&quot;,\n      &quot;transport_address&quot; : &quot;0.0.0.0:9300&quot;,\n      &quot;host&quot; : &quot;0.0.0.0&quot;,\n      &quot;ip&quot; : &quot;0.0.0.0&quot;,\n      &quot;version&quot; : &quot;7.16.3&quot;,\n      &quot;build_flavor&quot; : &quot;default&quot;,\n      &quot;build_type&quot; : &quot;docker&quot;,\n      &quot;build_hash&quot; : &quot;4e6e...&quot;,\n      &quot;roles&quot; : [\n        &quot;data&quot;,\n        &quot;data_cold&quot;,\n        &quot;data_content&quot;,\n        &quot;data_frozen&quot;,\n        &quot;data_hot&quot;,\n        &quot;data_warm&quot;,\n        &quot;ingest&quot;,\n        &quot;master&quot;,\n        &quot;ml&quot;,\n        &quot;remote_cluster_client&quot;,\n        &quot;transform&quot;\n      ],\n      &quot;attributes&quot; : {\n        &quot;ml.machine_memory&quot; : &quot;1073741824&quot;,\n        &quot;xpack.installed&quot; : &quot;true&quot;,\n        &quot;transform.node&quot; : &quot;true&quot;,\n        &quot;ml.max_open_jobs&quot; : &quot;512&quot;,\n        &quot;ml.max_jvm_size&quot; : &quot;536870912&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p><strong>Dependencies</strong></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\n        &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\n        &lt;version&gt;7.16.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n        &lt;artifactId&gt;transport&lt;/artifactId&gt;\n        &lt;version&gt;7.16.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>#Elastic\nspring.data.elasticsearch.cluster-name=docker-cluster\nspring.data.elasticsearch.cluster-nodes=elasticsearch_ip_address:9200\n</code></pre>\n<p><strong>Customer.java</strong></p>\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.elasticsearch.annotations.Document;\n\n@Document(indexName = &quot;customer&quot;,type = &quot;customer&quot;,shards = 2)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Customer {\n @Id\n private String id;\n private String firstname;\n private String lastname;\n private int age;\n}\n</code></pre>\n<p><strong>CustomerService.java</strong></p>\n<pre><code>import com.jitsoft.hurraayy.elasticsearch.documents.Customer;\nimport com.jitsoft.hurraayy.elasticsearch.repository.CustomerRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\nimport java.util.List;\n\n@RestController\npublic class CustomerService {\n @Autowired\n private CustomerRepository repository;\n\n @PostMapping(&quot;/saveCustomer&quot;)\n public int saveCustomer(@RequestBody List&lt;Customer&gt; customers){\n    repository.saveAll(customers);\n    return customers.size();\n }\n @GetMapping(&quot;/findAll&quot;)\n public Iterable&lt;Customer&gt; findAllCustomers(){\n    return repository.findAll();\n }\n}\n</code></pre>\n<p><strong>CustomerRepository.java</strong></p>\n<pre><code>import com.jitsoft.hurraayy.elasticsearch.documents.Customer;\nimport org.springframework.data.elasticsearch.repository.ElasticsearchRepository;\n\npublic interface CustomerRepository extends ElasticsearchRepository&lt;Customer,String&gt; {\n\n}\n</code></pre>\n<p><strong>Whenever I run the application I got the below error,</strong></p>\n<pre><code>org.springframework.context.ApplicationContextException: Unable to start web server;         nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:155) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:540) ~[spring-context-5.1.2.RELEASE.jar:5.1.2.RELEASE]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:125) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:86) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:152) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\n... 8 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'servletEndpointRegistrar' defined in class path resource [org/springframework/boot/actuate/autoconfigure/endpoint/web/ServletEndpointManagementContextConfiguration$WebMvcServletEndpointManagementContextConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar]: Factory method 'servletEndpointRegistrar' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'healthEndpoint' defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Unsatisfied dependency expressed through method 'healthEndpoint' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthIndicatorRegistry' defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthIndicatorAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.health.HealthIndicatorRegistry]: Factory method 'healthIndicatorRegistry' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.actuate.autoconfigure.elasticsearch.ElasticSearchClientHealthIndicatorAutoConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'elasticsearchClient' defined in class path resource [org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.elasticsearch.client.transport.TransportClient]: Factory method 'elasticsearchClient' threw exception; nested exception is java.lang.IllegalStateException: Unsupported transport.type [netty4]\nat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:625) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:605) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1288) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\nat org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:236) ~[spring-boot-2.1.0.RELEASE.jar:2.1.0.RELEASE]\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5098) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1429) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1419) ~[tomcat-embed-core-9.0.12.jar:9.0.12]\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n\n... 13 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar]: Factory method 'servletEndpointRegistrar' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'healthEndpoint' defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Unsatisfied dependency expressed through method 'healthEndpoint' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthIndicatorRegistry' defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthIndicatorAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.health.HealthIndicatorRegistry]: Factory method 'healthIndicatorRegistry' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.actuate.autoconfigure.elasticsearch.ElasticSearchClientHealthIndicatorAutoConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'elasticsearchClient' defined in class path resource [org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.elasticsearch.client.transport.TransportClient]: Factory method 'elasticsearchClient' threw exception; nested exception is java.lang.IllegalStateException: Unsupported transport.type [netty4]\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\nat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:620) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n... 53 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'healthEndpoint' defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Unsatisfied dependency expressed through method 'healthEndpoint' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthIndicatorRegistry' defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthIndicatorAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.health.HealthIndicatorRegistry]: Factory method 'healthIndicatorRegistry' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.actuate.autoconfigure.elasticsearch.ElasticSearchClientHealthIndicatorAutoConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'elasticsearchClient' defined in class path resource [org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.elasticsearch.client.transport.TransportClient]: Factory method 'elasticsearchClient' threw exception; nested exception is java.lang.IllegalStateException: Unsupported transport.type [netty4]\nat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:767) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:508) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1288) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n\n... 54 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthIndicatorRegistry' defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthIndicatorAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.health.HealthIndicatorRegistry]: Factory method 'healthIndicatorRegistry' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.actuate.autoconfigure.elasticsearch.ElasticSearchClientHealthIndicatorAutoConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'elasticsearchClient' defined in class path resource [org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.elasticsearch.client.transport.TransportClient]: Factory method 'elasticsearchClient' threw exception; nested exception is java.lang.IllegalStateException: Unsupported transport.type [netty4]\nat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:625) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:605) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1288) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n\n... 79 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.health.HealthIndicatorRegistry]: Factory method 'healthIndicatorRegistry' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.actuate.autoconfigure.elasticsearch.ElasticSearchClientHealthIndicatorAutoConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'elasticsearchClient' defined in class path resource [org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.elasticsearch.client.transport.TransportClient]: Factory method 'elasticsearchClient' threw exception; nested exception is java.lang.IllegalStateException: Unsupported transport.type [netty4]\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\nat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:620) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n... 93 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.actuate.autoconfigure.elasticsearch.ElasticSearchClientHealthIndicatorAutoConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'elasticsearchClient' defined in class path resource [org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.elasticsearch.client.transport.TransportClient]: Factory method 'elasticsearchClient' threw exception; nested exception is java.lang.IllegalStateException: Unsupported transport.type [netty4]\nat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:767) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\nat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1308) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n\n... 94 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'elasticsearchClient' defined in class path resource [org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.elasticsearch.client.transport.TransportClient]: Factory method 'elasticsearchClient' threw exception; nested exception is java.lang.IllegalStateException: Unsupported transport.type [netty4]\nat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:625) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:455) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1288) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n\n... 127 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.elasticsearch.client.transport.TransportClient]: Factory method 'elasticsearchClient' threw exception; nested exception is java.lang.IllegalStateException: Unsupported transport.type [netty4]\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\nat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:620) ~[spring-beans-5.1.2.RELEASE.jar:5.1.2.RELEASE]\n... 144 common frames omitted\nCaused by: java.lang.IllegalStateException: Unsupported transport.type [netty4]\nat org.elasticsearch.common.network.NetworkModule.getTransportSupplier(NetworkModule.java:241) ~[elasticsearch-7.16.3.jar:7.16.3]\nat org.elasticsearch.client.transport.TransportClient.buildTemplate(TransportClient.java:234) ~[elasticsearch-7.16.3.jar:7.16.3]\n\n... 145 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>I have remove some error due to character limitations.</p>\n<p><em><strong>What I can assume it is version related problem. Can someone help me to get out of this with proper description?</strong></em></p>\n"},{"tags":["java","spring","spring-integration"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1645629741,"post_id":71235389,"comment_id":125923985,"body_markdown":"Have just ran your application and it does not fail. I also check in debug after cleaning up the `metadata-store.properties`: it still brings all the entries via that `UrlResource`. My Java is 17. That&#39;s from where that `URL.openConnection()` for the `InputStream` comes from.","body":"Have just ran your application and it does not fail. I also check in debug after cleaning up the <code>metadata-store.properties</code>: it still brings all the entries via that <code>UrlResource</code>. My Java is 17. That&#39;s from where that <code>URL.openConnection()</code> for the <code>InputStream</code> comes from."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1645645425,"post_id":71235389,"comment_id":125930623,"body_markdown":"Right. Tested with Java 8 and I got the same error. Works with Java 14 though.","body":"Right. Tested with Java 8 and I got the same error. Works with Java 14 though."}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645651741,"creation_date":1645651741,"answer_id":71244254,"question_id":71235389,"body_markdown":"So, looks like that www.reutersagency.com doesn&#39;t like some `User-Agent` HTTP header values. For example it returns `403` for my default `Java/1.8.0_251`, but at the same time it is OK for `Java/17.0.1` or `Java/8`, `Java/20`. But still doesn&#39;t work for `Java/1.8` or `1.6`, `1.7` etc. `Java/11` is OK, too. \r\n\r\nSo, I suggest to upgrade to a newer Java anyway. Looks like Java 8 is already out of support on that RSS server.","title":"Accessing RSS feed with URL is working but URLResource is giving 403 forbidden error","body":"<p>So, looks like that <a href=\"http://www.reutersagency.com\" rel=\"nofollow noreferrer\">www.reutersagency.com</a> doesn't like some <code>User-Agent</code> HTTP header values. For example it returns <code>403</code> for my default <code>Java/1.8.0_251</code>, but at the same time it is OK for <code>Java/17.0.1</code> or <code>Java/8</code>, <code>Java/20</code>. But still doesn't work for <code>Java/1.8</code> or <code>1.6</code>, <code>1.7</code> etc. <code>Java/11</code> is OK, too.</p>\n<p>So, I suggest to upgrade to a newer Java anyway. Looks like Java 8 is already out of support on that RSS server.</p>\n"}],"owner":{"account_id":14230288,"reputation":241,"user_id":10279724,"display_name":"pjsagar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645651741,"creation_date":1645612826,"question_id":71235389,"body_markdown":"I am trying to fetch rss feed but it is giving error when feed is accessed using org.springframework.core.io.URLResource class. I am using latest spring boot version 2.6.3. Am attaching sample code as well and GH repo.\r\n\r\n```\r\n\r\n@EnableIntegration\r\n@Configuration\r\npublic class IntegrationRssFetch {\r\n\r\n  @Value(&quot;https://www.reutersagency.com/feed/?post_type=reuters-best&quot;)\r\n  private UrlResource urlResource;\r\n\r\n  @Value(&quot;https://www.reutersagency.com/feed/?post_type=reuters-best&quot;)\r\n  private URL url;\r\n\r\n  @Bean\r\n  public MetadataStore metadataStore() {\r\n    PropertiesPersistingMetadataStore metadataStore = new PropertiesPersistingMetadataStore();\r\n    metadataStore.setBaseDirectory(&quot;src/main/resources&quot;);\r\n    return metadataStore;\r\n  }\r\n\r\n  @Bean\r\n  public MessageChannel rssOutputChannel() {\r\n    return MessageChannels.direct(&quot;rss_feed_flow&quot;).get();\r\n  }\r\n\r\n  @Bean\r\n  public IntegrationFlow feedFlow() {\r\n    return IntegrationFlows\r\n        .from(Feed.inboundAdapter(this.urlResource, &quot;feedTest&quot;)\r\n                .metadataStore(metadataStore()),\r\n            e -&gt; e.poller(p -&gt; p.fixedDelay(100)))\r\n        .channel(&quot;rss_feed_flow&quot;)\r\n        .get();\r\n  }\r\n\r\n  @Bean\r\n  public IntegrationFlow rssReadFlow() {\r\n    return IntegrationFlows\r\n        .from(&quot;rss_feed_flow&quot;)\r\n        .handle(message -&gt; {\r\n          SyndEntry entry = (SyndEntry) message.getPayload();\r\n          System.out.println(entry.getTitle());\r\n        })\r\n        .get();\r\n  }\r\n\r\n}\r\n```\r\n\r\nFollowing is stack trace of error\r\n```\r\n2022-02-23 15:46:51.181 ERROR 14352 --- [   scheduling-1] o.s.integration.handler.LoggingHandler   : org.springframework.messaging.MessagingException: Failed to retrieve feed for &#39;FeedEntryMessageSource{feedUrl=null, feedResource=URL [https://www.reutersagency.com/feed/?post_type=reuters-best], metadataKey=&#39;feedTest&#39;, lastTime=-1}&#39;; nested exception is java.io.IOException: Server returned HTTP response code: 403 for URL: https://www.reutersagency.com/feed/?post_type=reuters-best\r\n\tat org.springframework.integration.feed.inbound.FeedEntryMessageSource.getFeed(FeedEntryMessageSource.java:234)\r\n\tat org.springframework.integration.feed.inbound.FeedEntryMessageSource.populateEntryList(FeedEntryMessageSource.java:201)\r\n\tat org.springframework.integration.feed.inbound.FeedEntryMessageSource.doReceive(FeedEntryMessageSource.java:176)\r\n\tat org.springframework.integration.feed.inbound.FeedEntryMessageSource.doReceive(FeedEntryMessageSource.java:57)\r\n\tat org.springframework.integration.endpoint.AbstractMessageSource.receive(AbstractMessageSource.java:142)\r\n\tat org.springframework.integration.endpoint.SourcePollingChannelAdapter.receiveMessage(SourcePollingChannelAdapter.java:212)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:444)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.pollForMessage(AbstractPollingEndpoint.java:413)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$4(AbstractPollingEndpoint.java:348)\r\n\tat org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57)\r\n\tat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\r\n\tat org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:55)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$5(AbstractPollingEndpoint.java:341)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.io.IOException: Server returned HTTP response code: 403 for URL: https://www.reutersagency.com/feed/?post_type=reuters-best\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1894)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1492)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:263)\r\n\tat org.springframework.core.io.UrlResource.getInputStream(UrlResource.java:186)\r\n\tat org.springframework.integration.feed.inbound.FeedEntryMessageSource.getFeed(FeedEntryMessageSource.java:224)\r\n\t... 21 more\r\n```\r\n\r\nLink to GH [https://github.com/pinkeshsagar-harptec/code-sample/tree/main/rssfeedissue][1]\r\n\r\n\r\n  [1]: https://github.com/pinkeshsagar-harptec/code-sample/tree/main/rssfeedissue","title":"Accessing RSS feed with URL is working but URLResource is giving 403 forbidden error","body":"<p>I am trying to fetch rss feed but it is giving error when feed is accessed using org.springframework.core.io.URLResource class. I am using latest spring boot version 2.6.3. Am attaching sample code as well and GH repo.</p>\n<pre><code>\n@EnableIntegration\n@Configuration\npublic class IntegrationRssFetch {\n\n  @Value(&quot;https://www.reutersagency.com/feed/?post_type=reuters-best&quot;)\n  private UrlResource urlResource;\n\n  @Value(&quot;https://www.reutersagency.com/feed/?post_type=reuters-best&quot;)\n  private URL url;\n\n  @Bean\n  public MetadataStore metadataStore() {\n    PropertiesPersistingMetadataStore metadataStore = new PropertiesPersistingMetadataStore();\n    metadataStore.setBaseDirectory(&quot;src/main/resources&quot;);\n    return metadataStore;\n  }\n\n  @Bean\n  public MessageChannel rssOutputChannel() {\n    return MessageChannels.direct(&quot;rss_feed_flow&quot;).get();\n  }\n\n  @Bean\n  public IntegrationFlow feedFlow() {\n    return IntegrationFlows\n        .from(Feed.inboundAdapter(this.urlResource, &quot;feedTest&quot;)\n                .metadataStore(metadataStore()),\n            e -&gt; e.poller(p -&gt; p.fixedDelay(100)))\n        .channel(&quot;rss_feed_flow&quot;)\n        .get();\n  }\n\n  @Bean\n  public IntegrationFlow rssReadFlow() {\n    return IntegrationFlows\n        .from(&quot;rss_feed_flow&quot;)\n        .handle(message -&gt; {\n          SyndEntry entry = (SyndEntry) message.getPayload();\n          System.out.println(entry.getTitle());\n        })\n        .get();\n  }\n\n}\n</code></pre>\n<p>Following is stack trace of error</p>\n<pre><code>2022-02-23 15:46:51.181 ERROR 14352 --- [   scheduling-1] o.s.integration.handler.LoggingHandler   : org.springframework.messaging.MessagingException: Failed to retrieve feed for 'FeedEntryMessageSource{feedUrl=null, feedResource=URL [https://www.reutersagency.com/feed/?post_type=reuters-best], metadataKey='feedTest', lastTime=-1}'; nested exception is java.io.IOException: Server returned HTTP response code: 403 for URL: https://www.reutersagency.com/feed/?post_type=reuters-best\n    at org.springframework.integration.feed.inbound.FeedEntryMessageSource.getFeed(FeedEntryMessageSource.java:234)\n    at org.springframework.integration.feed.inbound.FeedEntryMessageSource.populateEntryList(FeedEntryMessageSource.java:201)\n    at org.springframework.integration.feed.inbound.FeedEntryMessageSource.doReceive(FeedEntryMessageSource.java:176)\n    at org.springframework.integration.feed.inbound.FeedEntryMessageSource.doReceive(FeedEntryMessageSource.java:57)\n    at org.springframework.integration.endpoint.AbstractMessageSource.receive(AbstractMessageSource.java:142)\n    at org.springframework.integration.endpoint.SourcePollingChannelAdapter.receiveMessage(SourcePollingChannelAdapter.java:212)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:444)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.pollForMessage(AbstractPollingEndpoint.java:413)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$4(AbstractPollingEndpoint.java:348)\n    at org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57)\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\n    at org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:55)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$5(AbstractPollingEndpoint.java:341)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.io.IOException: Server returned HTTP response code: 403 for URL: https://www.reutersagency.com/feed/?post_type=reuters-best\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1894)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1492)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:263)\n    at org.springframework.core.io.UrlResource.getInputStream(UrlResource.java:186)\n    at org.springframework.integration.feed.inbound.FeedEntryMessageSource.getFeed(FeedEntryMessageSource.java:224)\n    ... 21 more\n</code></pre>\n<p>Link to GH <a href=\"https://github.com/pinkeshsagar-harptec/code-sample/tree/main/rssfeedissue\" rel=\"nofollow noreferrer\">https://github.com/pinkeshsagar-harptec/code-sample/tree/main/rssfeedissue</a></p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":20780824,"reputation":29180,"user_id":15261315,"display_name":"Chris"},"score":1,"creation_date":1645651330,"post_id":71244156,"comment_id":125932486,"body_markdown":"In `getHighRain`, why do you start at index `1` and skip the first element in that array?","body":"In <code>getHighRain</code>, why do you start at index <code>1</code> and skip the first element in that array?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":4,"creation_date":1645651375,"post_id":71244156,"comment_id":125932502,"body_markdown":"Java doesn&#39;t use indentation for control structures. You need a block after your if condition to contain the following two lines. Learn to use the debugger, stepping through your code would have shown you the problem.","body":"Java doesn&#39;t use indentation for control structures. You need a block after your if condition to contain the following two lines. Learn to use the debugger, stepping through your code would have shown you the problem."}],"answers":[{"tags":[],"owner":{"account_id":20780824,"reputation":29180,"user_id":15261315,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645651518,"creation_date":1645651518,"answer_id":71244230,"question_id":71244156,"body_markdown":"It appears you&#39;ve essentially typoed.\r\n\r\n```\r\n    for (int index = 1; index &lt; rainFall.length; index++) {\r\n        if (rainFall[index] &gt; high)\r\n            high = rainFall[index];\r\n            highIndex = index + 1;\r\n    }\r\n```\r\n\r\nYour indentation suggests `highIndex = index + 1;` should only be executed if the condition is true, but because you don&#39;t use braces, this condition is executed on _every_ iteration through the loop.\r\n\r\nPerhaps you meant to write:\r\n\r\n```\r\n    for (int index = 1; index &lt; rainFall.length; index++) {\r\n        if (rainFall[index] &gt; high) {\r\n            high = rainFall[index];\r\n            highIndex = index + 1;\r\n        }\r\n    }\r\n```\r\n\r\nIndentation is very useful to human beings reading your code, but it means nothing to the machine in Java.\r\n\r\nYou also likely meant to start at the beginning of the array, which is index `0`.\r\n\r\n```\r\n    for (int index = 0; index &lt; rainFall.length; index++) {\r\n        if (rainFall[index] &gt; high) {\r\n            high = rainFall[index];\r\n            highIndex = index + 1;\r\n        }\r\n    }\r\n```","title":"Java array: Finding index always returns the highest","body":"<p>It appears you've essentially typoed.</p>\n<pre><code>    for (int index = 1; index &lt; rainFall.length; index++) {\n        if (rainFall[index] &gt; high)\n            high = rainFall[index];\n            highIndex = index + 1;\n    }\n</code></pre>\n<p>Your indentation suggests <code>highIndex = index + 1;</code> should only be executed if the condition is true, but because you don't use braces, this condition is executed on <em>every</em> iteration through the loop.</p>\n<p>Perhaps you meant to write:</p>\n<pre><code>    for (int index = 1; index &lt; rainFall.length; index++) {\n        if (rainFall[index] &gt; high) {\n            high = rainFall[index];\n            highIndex = index + 1;\n        }\n    }\n</code></pre>\n<p>Indentation is very useful to human beings reading your code, but it means nothing to the machine in Java.</p>\n<p>You also likely meant to start at the beginning of the array, which is index <code>0</code>.</p>\n<pre><code>    for (int index = 0; index &lt; rainFall.length; index++) {\n        if (rainFall[index] &gt; high) {\n            high = rainFall[index];\n            highIndex = index + 1;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":24240777,"reputation":47,"user_id":18193192,"display_name":"LaddieMawery"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71244230,"answer_count":1,"score":0,"last_activity_date":1645651518,"creation_date":1645651108,"question_id":71244156,"body_markdown":"Part of one of our assignments was to generate an array and then find the sum, average, lowest, and highest values. I have all of those working, but our teacher has asked us instead to return the index of the highest and lowest values plus one (to coincide with a month number). \r\n\r\nThe issue I&#39;m running into is that trying to return the index it always returns the highest value.\r\n\r\n\r\n```\r\npublic double getHighRain()\r\n{\r\n    double high = 0.0;\r\n    double highIndex = 0.0;\r\n    \r\n    for(int index = 1; index &lt; rainFall.length; index++)\r\n    {\r\n        if (rainFall[index] &gt; high)\r\n            high = rainFall[index];\r\n            highIndex = index + 1;\r\n    }\r\n        //return high;\r\n        return highIndex;\r\n}\r\n/**\r\n * Method uses enhanced for loop to calculate the lowest amount of rainfall\r\n * @return \r\n */\r\npublic double getLowRain()\r\n{\r\n    double low = rainFall[0];\r\n    double lowIndex = 0.0;\r\n    \r\n    for(int index = 1; index &lt; rainFall.length; index++)\r\n    {\r\n        if (rainFall[index] &lt; low)\r\n            low = rainFall[index];\r\n            lowIndex = index + 1;\r\n    }\r\n        //return low;\r\n        return lowIndex;\r\n}\r\n```","title":"Java array: Finding index always returns the highest","body":"<p>Part of one of our assignments was to generate an array and then find the sum, average, lowest, and highest values. I have all of those working, but our teacher has asked us instead to return the index of the highest and lowest values plus one (to coincide with a month number).</p>\n<p>The issue I'm running into is that trying to return the index it always returns the highest value.</p>\n<pre><code>public double getHighRain()\n{\n    double high = 0.0;\n    double highIndex = 0.0;\n    \n    for(int index = 1; index &lt; rainFall.length; index++)\n    {\n        if (rainFall[index] &gt; high)\n            high = rainFall[index];\n            highIndex = index + 1;\n    }\n        //return high;\n        return highIndex;\n}\n/**\n * Method uses enhanced for loop to calculate the lowest amount of rainfall\n * @return \n */\npublic double getLowRain()\n{\n    double low = rainFall[0];\n    double lowIndex = 0.0;\n    \n    for(int index = 1; index &lt; rainFall.length; index++)\n    {\n        if (rainFall[index] &lt; low)\n            low = rainFall[index];\n            lowIndex = index + 1;\n    }\n        //return low;\n        return lowIndex;\n}\n</code></pre>\n"},{"tags":["java","android","mifare"],"comments":[{"owner":{"account_id":1800275,"reputation":2596,"user_id":1638798,"display_name":"Thibaut"},"score":0,"creation_date":1682727751,"post_id":68101753,"comment_id":134266271,"body_markdown":"Hello, do you have a link for the interface library and the demo for mifare? Thanks a lot of you can","body":"Hello, do you have a link for the interface library and the demo for mifare? Thanks a lot of you can"}],"answers":[{"tags":[],"owner":{"account_id":9712566,"reputation":371,"user_id":7203924,"display_name":"Ali Mert &#214;zdemir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624460525,"creation_date":1624459914,"answer_id":68102193,"question_id":68101753,"body_markdown":"You should import pax device library. Than you will be able to read Mifare card with custom APDU commands like you have already did for public android mobile phone. \r\n\r\nNFC is not provided out of the box in PAX devices unlike mobile android phones.\r\n\r\nAs you already know, PAX A920 is a kind of Point of Sale device and it has customized Android OS developed by PAX Global. So if you don&#39;t have device specific libraries, you should contact PAX support in order to get platform specific libraries. \r\n\r\nThen you can read Mifare card from Contactless Card Reader Interface of device with sending custom APDU commands over a method provided by pax device library. ","title":"How to read mifare 4k card number on PAX A920","body":"<p>You should import pax device library. Than you will be able to read Mifare card with custom APDU commands like you have already did for public android mobile phone.</p>\n<p>NFC is not provided out of the box in PAX devices unlike mobile android phones.</p>\n<p>As you already know, PAX A920 is a kind of Point of Sale device and it has customized Android OS developed by PAX Global. So if you don't have device specific libraries, you should contact PAX support in order to get platform specific libraries.</p>\n<p>Then you can read Mifare card from Contactless Card Reader Interface of device with sending custom APDU commands over a method provided by pax device library.</p>\n"}],"owner":{"account_id":16242221,"reputation":1,"user_id":11728251,"display_name":"ady"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":816,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645651301,"creation_date":1624458296,"question_id":68101753,"body_markdown":"i&#39;m developing an app that should run on PAX A920. I have imported the library to interface with the reader of the device but i can&#39;t read the MIFARE 4k card. The device dosen&#39;t detect it. I have also founded a demo developed for the device that contains all the functionality but still not detecting the card when open the contactless. The device doesn&#39;t support NFC. Has anyone worked with this device? \r\n\r\nThanks","title":"How to read mifare 4k card number on PAX A920","body":"<p>i'm developing an app that should run on PAX A920. I have imported the library to interface with the reader of the device but i can't read the MIFARE 4k card. The device dosen't detect it. I have also founded a demo developed for the device that contains all the functionality but still not detecting the card when open the contactless. The device doesn't support NFC. Has anyone worked with this device?</p>\n<p>Thanks</p>\n"},{"tags":["java","math","random"],"comments":[{"owner":{"account_id":6164765,"reputation":1,"user_id":4805137,"display_name":"David Rans"},"score":0,"creation_date":1429378899,"post_id":29720611,"comment_id":47575780,"body_markdown":"[This answer][1] has what you&#39;re looking for.\r\n\r\n\r\n  [1]: http://stackoverflow.com/a/929781/4805137","body":"[This answer][1] has what you&#39;re looking for.        [1]: <a href=\"http://stackoverflow.com/a/929781/4805137\">stackoverflow.com/a/929781/4805137</a>"},{"owner":{"account_id":202296,"reputation":9898,"user_id":449288,"accept_rate":71,"display_name":"gioele"},"score":0,"creation_date":1429378999,"post_id":29720611,"comment_id":47575824,"body_markdown":"possible duplicate of [Calculating the distance between two points](http://stackoverflow.com/questions/929773/calculating-the-distance-between-two-points)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/929773/calculating-the-distance-between-two-points\">Calculating the distance between two points</a>"},{"owner":{"account_id":2529002,"reputation":13456,"user_id":2197700,"accept_rate":80,"display_name":"Anubian Noob"},"score":0,"creation_date":1429379051,"post_id":29720611,"comment_id":47575851,"body_markdown":"That&#39;s not a duplicate of this.","body":"That&#39;s not a duplicate of this."},{"owner":{"account_id":677225,"reputation":6228,"user_id":676877,"display_name":"Brett Okken"},"score":3,"creation_date":1429383232,"post_id":29720611,"comment_id":47577389,"body_markdown":"I&#39;m voting to close this question as off-topic because it is a geometry problem, not a coding/software problem.","body":"I&#39;m voting to close this question as off-topic because it is a geometry problem, not a coding/software problem."}],"answers":[{"tags":[],"owner":{"account_id":2529002,"reputation":13456,"user_id":2197700,"accept_rate":80,"display_name":"Anubian Noob"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1429379472,"creation_date":1429379135,"answer_id":29720708,"question_id":29720611,"body_markdown":"Let&#39;s solve in polar form.\r\n\r\nWe&#39;ll need these doubles `distance`, `x1`, and `y1`.\r\n\r\nFirst, we want the angle in radians:\r\n\r\n    double angle = Math.random()*2*Math.PI;\r\n\r\nThen we want to get the x and y offsets from our point:\r\n\r\n    double xOff = Math.cos(angle)*distance;\r\n    double yOff = Math.sin(angle)*distance;\r\n\r\nThen we add these to our first point:\r\n\r\n    double x2 = x1 + xOff;\r\n    double y2 = y1 + yOff;\r\n\r\nThis will get you a point a certain `distance` away from your first point.","title":"How to chose a random point at a certain distance to a reference point","body":"<p>Let's solve in polar form.</p>\n\n<p>We'll need these doubles <code>distance</code>, <code>x1</code>, and <code>y1</code>.</p>\n\n<p>First, we want the angle in radians:</p>\n\n<pre><code>double angle = Math.random()*2*Math.PI;\n</code></pre>\n\n<p>Then we want to get the x and y offsets from our point:</p>\n\n<pre><code>double xOff = Math.cos(angle)*distance;\ndouble yOff = Math.sin(angle)*distance;\n</code></pre>\n\n<p>Then we add these to our first point:</p>\n\n<pre><code>double x2 = x1 + xOff;\ndouble y2 = y1 + yOff;\n</code></pre>\n\n<p>This will get you a point a certain <code>distance</code> away from your first point.</p>\n"}],"owner":{"account_id":6000501,"reputation":105,"user_id":4713929,"accept_rate":83,"display_name":"wtrclr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":742,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":29720708,"answer_count":1,"score":2,"last_activity_date":1645651265,"creation_date":1429378578,"question_id":29720611,"body_markdown":"I have point __A__ (`pointA = (x1, y1)`) and I need to choose a random point __B__ (`pointB = (x2, y2)`) such that the distance between the __A__ and __B__ is equal to __K__.","title":"How to chose a random point at a certain distance to a reference point","body":"<p>I have point <strong>A</strong> (<code>pointA = (x1, y1)</code>) and I need to choose a random point <strong>B</strong> (<code>pointB = (x2, y2)</code>) such that the distance between the <strong>A</strong> and <strong>B</strong> is equal to <strong>K</strong>.</p>\n"},{"tags":["java","nullpointerexception","equals","coding-style"],"comments":[{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":1,"creation_date":1302778321,"post_id":5661936,"comment_id":6459862,"body_markdown":"using the *@NotNull* annotation everywhere surely helps.  So does using empty strings and empty arrays, instead of null string and null arrays to represent something that is &quot;empty&quot;.  An empty string is a string that contains no character.  An empty array is an array made of zero element.  &quot;null&quot; and NPEs are exceedingly rare in our codebase, where the *@NotNull* annotation is used in every single class we have :)","body":"using the <i>@NotNull</i> annotation everywhere surely helps.  So does using empty strings and empty arrays, instead of null string and null arrays to represent something that is &quot;empty&quot;.  An empty string is a string that contains no character.  An empty array is an array made of zero element.  &quot;null&quot; and NPEs are exceedingly rare in our codebase, where the <i>@NotNull</i> annotation is used in every single class we have :)"},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":1,"creation_date":1302778404,"post_id":5661936,"comment_id":6459890,"body_markdown":"in addition to that, the concept of &quot;equality&quot; over mutable object doesn&#39;t make much sense.  Make your objects immutable.  Forbid null.  Everything will be smoother.","body":"in addition to that, the concept of &quot;equality&quot; over mutable object doesn&#39;t make much sense.  Make your objects immutable.  Forbid null.  Everything will be smoother."},{"owner":{"account_id":17529,"reputation":153981,"user_id":39321,"accept_rate":80,"display_name":"Svish"},"score":1,"creation_date":1302779146,"post_id":5661936,"comment_id":6460087,"body_markdown":"Of course, and I would if I could! Problem is that in this case these things *can* be non-existent. For example, not all addresses have a letter, so it should be null. On the matter of immutability, I totally agree, but unfortunately it&#39;s not my choice. If it was up to me, it would be.","body":"Of course, and I would if I could! Problem is that in this case these things <i>can</i> be non-existent. For example, not all addresses have a letter, so it should be null. On the matter of immutability, I totally agree, but unfortunately it&#39;s not my choice. If it was up to me, it would be."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1302777584,"creation_date":1302777584,"answer_id":5661975,"question_id":5661936,"body_markdown":"You can use a helper method like\r\n\r\n    public static boolean isEqual(Object o1, Object o2) {\r\n        return o1 == o2 || (o1 != null &amp;&amp; o1.equals(o2));\r\n    }","title":"Clean way of avoiding NullPointerException in equals checks","body":"<p>You can use a helper method like</p>\n\n<pre><code>public static boolean isEqual(Object o1, Object o2) {\n    return o1 == o2 || (o1 != null &amp;&amp; o1.equals(o2));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162425,"reputation":148009,"user_id":383861,"display_name":"bdoughan"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1366838172,"creation_date":1302777594,"answer_id":5661978,"question_id":5661936,"body_markdown":"You could do the following:\r\n\r\n    public boolean equals(Object obj) \r\n    {\r\n        if (this == obj) {\r\n            return true;\r\n        }\r\n    \r\n        if (obj == null) {\r\n            return false;\r\n        }\r\n    \r\n        if (getClass() != obj.getClass()) {\r\n            return false;\r\n        }\r\n    \r\n        Address other = (Address) obj;\r\n    \r\n        return equals(this.getStreet(),other.getStreet())\r\n            &amp;&amp; equals(this.getStreetNumber(), other.getStreetNumber())\r\n            &amp;&amp; equals(this.getStreetLetter(), other.getStreetLetter())\r\n            &amp;&amp; equals(this.getTown(), other.getTown());\r\n    }\r\n    \r\n    private boolean equals(Object control, Object test) {\r\n        if(null == control) {\r\n            return null == test;\r\n        }\r\n        return control.equals(test);\r\n    }\r\n\r\nJava 7 introduced built-in support for this use case with the java.util.Objects class see:\r\n\r\n  - [java.utils.Objects.equals(Object, Object)][1]\r\n  - [java.utils.Objects.deepEquals(Object, Object)][2]\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#equals%28java.lang.Object,%20java.lang.Object%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#deepEquals%28java.lang.Object,%20java.lang.Object%29","title":"Clean way of avoiding NullPointerException in equals checks","body":"<p>You could do the following:</p>\n\n<pre><code>public boolean equals(Object obj) \n{\n    if (this == obj) {\n        return true;\n    }\n\n    if (obj == null) {\n        return false;\n    }\n\n    if (getClass() != obj.getClass()) {\n        return false;\n    }\n\n    Address other = (Address) obj;\n\n    return equals(this.getStreet(),other.getStreet())\n        &amp;&amp; equals(this.getStreetNumber(), other.getStreetNumber())\n        &amp;&amp; equals(this.getStreetLetter(), other.getStreetLetter())\n        &amp;&amp; equals(this.getTown(), other.getTown());\n}\n\nprivate boolean equals(Object control, Object test) {\n    if(null == control) {\n        return null == test;\n    }\n    return control.equals(test);\n}\n</code></pre>\n\n<p>Java 7 introduced built-in support for this use case with the java.util.Objects class see:</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#equals%28java.lang.Object,%20java.lang.Object%29\" rel=\"noreferrer\">java.utils.Objects.equals(Object, Object)</a></li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#deepEquals%28java.lang.Object,%20java.lang.Object%29\" rel=\"noreferrer\">java.utils.Objects.deepEquals(Object, Object)</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1302777662,"creation_date":1302777662,"answer_id":5661991,"question_id":5661936,"body_markdown":"There is no really clean way to do that; the best option is probably to have your IDE generate the code for you. Eclipse can do it via the Source -&gt; Generate hashCode() and equals() context menu.","title":"Clean way of avoiding NullPointerException in equals checks","body":"<p>There is no really clean way to do that; the best option is probably to have your IDE generate the code for you. Eclipse can do it via the Source -> Generate hashCode() and equals() context menu.</p>\n"},{"tags":[],"owner":{"account_id":355084,"reputation":611,"user_id":693820,"accept_rate":90,"display_name":"Carlos Daniel Gadea Omelchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1302777756,"creation_date":1302777756,"answer_id":5662007,"question_id":5661936,"body_markdown":"I&#39;d consider defining some of the equals methods as static class methods, like say for the Street objects. This way you don&#39;t ever attempt to call the .equals() method on a null.\r\n\r\nA sample function might look like:\r\n\r\n    public static boolean equals(Object one, Object two)\r\n\r\nAlso, it&#39;s good practice to put checks like\r\n\r\n    if (obj == null)\r\n       return false;\r\n\r\nat the very beginning of a function.","title":"Clean way of avoiding NullPointerException in equals checks","body":"<p>I'd consider defining some of the equals methods as static class methods, like say for the Street objects. This way you don't ever attempt to call the .equals() method on a null.</p>\n\n<p>A sample function might look like:</p>\n\n<pre><code>public static boolean equals(Object one, Object two)\n</code></pre>\n\n<p>Also, it's good practice to put checks like</p>\n\n<pre><code>if (obj == null)\n   return false;\n</code></pre>\n\n<p>at the very beginning of a function.</p>\n"},{"tags":[],"owner":{"account_id":38718,"reputation":10894,"user_id":111313,"display_name":"Jared Russell"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1302778097,"creation_date":1302777780,"answer_id":5662010,"question_id":5661936,"body_markdown":"[Google Guava][1] provides [Objects.equal(Object, Object)][2] which checks for equality while taking into consideration that either of the parameters might be null:\r\n\r\n    ...\r\n    return Objects.equal(this.getStreet(), other.getStreet())\r\n        &amp;&amp; Objects.equal(this.getStreetNumber(), other.getStreetNumber())\r\n        &amp;&amp; Objects.equal(this.getStreetLetter(), other.getStreetLetter())\r\n        &amp;&amp; Objects.equal(this.getTown(), other.getTown());\r\n\r\nIt&#39;s also worth pointing out that Objects has other helper methods for implementing  [hashCode()][3] and [toString()][4].\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/\r\n  [2]: http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/base/Objects.html#equal(java.lang.Object,%20java.lang.Object)\r\n  [3]: http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/base/Objects.html#hashCode%28java.lang.Object...%29\r\n  [4]: http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/base/Objects.html#toStringHelper%28java.lang.Object%29","title":"Clean way of avoiding NullPointerException in equals checks","body":"<p><a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Google Guava</a> provides <a href=\"http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/base/Objects.html#equal(java.lang.Object,%20java.lang.Object)\" rel=\"noreferrer\">Objects.equal(Object, Object)</a> which checks for equality while taking into consideration that either of the parameters might be null:</p>\n\n<pre><code>...\nreturn Objects.equal(this.getStreet(), other.getStreet())\n    &amp;&amp; Objects.equal(this.getStreetNumber(), other.getStreetNumber())\n    &amp;&amp; Objects.equal(this.getStreetLetter(), other.getStreetLetter())\n    &amp;&amp; Objects.equal(this.getTown(), other.getTown());\n</code></pre>\n\n<p>It's also worth pointing out that Objects has other helper methods for implementing  <a href=\"http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/base/Objects.html#hashCode%28java.lang.Object...%29\" rel=\"noreferrer\">hashCode()</a> and <a href=\"http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/base/Objects.html#toStringHelper%28java.lang.Object%29\" rel=\"noreferrer\">toString()</a>.</p>\n"},{"tags":[],"owner":{"account_id":336440,"reputation":5114,"user_id":664080,"display_name":"moritz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1302777862,"creation_date":1302777862,"answer_id":5662032,"question_id":5661936,"body_markdown":"You can use [Objects.equal](http://guava-ibraries.googlecode.com/svn/trunk/javadoc/com/google/common/base/Objects.html) from Googles guava or the [EqualsBuilder](http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/builder/EqualsBuilder.html) from apache commons","title":"Clean way of avoiding NullPointerException in equals checks","body":"<p>You can use <a href=\"http://guava-ibraries.googlecode.com/svn/trunk/javadoc/com/google/common/base/Objects.html\" rel=\"nofollow\">Objects.equal</a> from Googles guava or the <a href=\"http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/builder/EqualsBuilder.html\" rel=\"nofollow\">EqualsBuilder</a> from apache commons</p>\n"},{"tags":[],"owner":{"account_id":219576,"reputation":687,"user_id":476569,"accept_rate":50,"display_name":"kliu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1302777991,"creation_date":1302777991,"answer_id":5662063,"question_id":5661936,"body_markdown":"I have a helper class Checker w/ a static method:\r\n\r\n     public static boolean isEquals(final Object o1, final Object o2) {\r\n            return o1 == null ? o2 == null : o1.equals(o2);\r\n     }\r\n\r\nso, in the equals method,\r\n\r\n     return Checker.isEquals(this.getStreet(), other.getStreet())\r\n            &amp;&amp; Checker.isEquals(this.getStreetNumber(), other.getStreetNumber())\r\n            &amp;&amp; Checker.isEquals(this.getStreetLetter(), other.getStreetLetter())\r\n            &amp;&amp; Checker.isEquals(this.getTown(), other.getTown());","title":"Clean way of avoiding NullPointerException in equals checks","body":"<p>I have a helper class Checker w/ a static method:</p>\n\n<pre><code> public static boolean isEquals(final Object o1, final Object o2) {\n        return o1 == null ? o2 == null : o1.equals(o2);\n }\n</code></pre>\n\n<p>so, in the equals method,</p>\n\n<pre><code> return Checker.isEquals(this.getStreet(), other.getStreet())\n        &amp;&amp; Checker.isEquals(this.getStreetNumber(), other.getStreetNumber())\n        &amp;&amp; Checker.isEquals(this.getStreetLetter(), other.getStreetLetter())\n        &amp;&amp; Checker.isEquals(this.getTown(), other.getTown());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":33597,"reputation":1926,"user_id":94159,"accept_rate":83,"display_name":"Ian Gilham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1302785779,"creation_date":1302785779,"answer_id":5663567,"question_id":5661936,"body_markdown":"[Apache Commons Lang][1] provides the [EqualsBuilder][2] helper class for equality comparissons. There is also one for hash codes.\r\n\r\n    return new EqualsBuilder()\r\n    .append(this.getStreet(), other.getStreet())\r\n    .append(this.getStreetNumber(), other.getStreetNumber()\r\n    .append(this.getStreetLetter(), other.getStreetLetter())\r\n    .append(this.getTown(), other.getTown())).isEquals();\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/\r\n  [2]: http://commons.apache.org/lang/api-2.6/index.html","title":"Clean way of avoiding NullPointerException in equals checks","body":"<p><a href=\"http://commons.apache.org/lang/\" rel=\"nofollow\">Apache Commons Lang</a> provides the <a href=\"http://commons.apache.org/lang/api-2.6/index.html\" rel=\"nofollow\">EqualsBuilder</a> helper class for equality comparissons. There is also one for hash codes.</p>\n\n<pre><code>return new EqualsBuilder()\n.append(this.getStreet(), other.getStreet())\n.append(this.getStreetNumber(), other.getStreetNumber()\n.append(this.getStreetLetter(), other.getStreetLetter())\n.append(this.getTown(), other.getTown())).isEquals();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6235075,"reputation":7453,"user_id":4850646,"accept_rate":83,"display_name":"Lucas Basquerotto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645647391,"creation_date":1645647391,"answer_id":71243521,"question_id":5661936,"body_markdown":"You can use `java.util.Objects.equals(a, b)` if you want an **official** way (built-in).\r\n\r\n*(There is already a mention to it in one of the answers, but more as a sidenote)*\r\n\r\nChange:\r\n\r\n    this.getStreet().equals(other.getStreet())\r\n\r\nTo:\r\n\r\n    Objects.equals(this.getStreet(), other.getStreet())","title":"Clean way of avoiding NullPointerException in equals checks","body":"<p>You can use <code>java.util.Objects.equals(a, b)</code> if you want an <strong>official</strong> way (built-in).</p>\n<p><em>(There is already a mention to it in one of the answers, but more as a sidenote)</em></p>\n<p>Change:</p>\n<pre><code>this.getStreet().equals(other.getStreet())\n</code></pre>\n<p>To:</p>\n<pre><code>Objects.equals(this.getStreet(), other.getStreet())\n</code></pre>\n"}],"owner":{"account_id":17529,"reputation":153981,"user_id":39321,"accept_rate":80,"display_name":"Svish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20158,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":5661975,"answer_count":9,"score":24,"last_activity_date":1645651005,"creation_date":1302777350,"question_id":5661936,"body_markdown":"I have an address object that I want to create an equals method for. I could have made this quite simple by doing something like the following (shortened a bit):\r\n\r\n    public boolean equals(Object obj) \r\n    {\r\n        if (this == obj)\r\n            return true;\r\n\r\n        if (obj == null)\r\n            return false;\r\n\r\n        if (getClass() != obj.getClass())\r\n            return false;\r\n\r\n        Address other = (Address) obj;\r\n\r\n        return this.getStreet().equals(other.getStreet())\r\n            &amp;&amp; this.getStreetNumber().equals(other.getStreetNumber())\r\n            &amp;&amp; this.getStreetLetter().equals(other.getStreetLetter())\r\n            &amp;&amp; this.getTown().equals(other.getTown());\r\n    }\r\n\r\nProblem is, some of these might be null. I will in other words get a `NullPointerException` if there is no street letter in this address.\r\n\r\nHow can I write this in a clean way while taking null values into account?","title":"Clean way of avoiding NullPointerException in equals checks","body":"<p>I have an address object that I want to create an equals method for. I could have made this quite simple by doing something like the following (shortened a bit):</p>\n\n<pre><code>public boolean equals(Object obj) \n{\n    if (this == obj)\n        return true;\n\n    if (obj == null)\n        return false;\n\n    if (getClass() != obj.getClass())\n        return false;\n\n    Address other = (Address) obj;\n\n    return this.getStreet().equals(other.getStreet())\n        &amp;&amp; this.getStreetNumber().equals(other.getStreetNumber())\n        &amp;&amp; this.getStreetLetter().equals(other.getStreetLetter())\n        &amp;&amp; this.getTown().equals(other.getTown());\n}\n</code></pre>\n\n<p>Problem is, some of these might be null. I will in other words get a <code>NullPointerException</code> if there is no street letter in this address.</p>\n\n<p>How can I write this in a clean way while taking null values into account?</p>\n"},{"tags":["java","spring-boot","jsp","tomcat","servlets"],"comments":[{"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"score":0,"creation_date":1645648873,"post_id":71243729,"comment_id":125931685,"body_markdown":"@Metroids ...............","body":"@Metroids ..............."}],"answers":[{"tags":[],"owner":{"account_id":15769823,"reputation":145,"user_id":11379189,"display_name":"Michele Verriello"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645650922,"creation_date":1645650922,"answer_id":71244130,"question_id":71243729,"body_markdown":"I think you build the project as WAR, in this case the right way is to start the application in a servlet container(such as Tomcat), and not run as java application.","title":"404 not found error shows when i run as java application","body":"<p>I think you build the project as WAR, in this case the right way is to start the application in a servlet container(such as Tomcat), and not run as java application.</p>\n"}],"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1645714336,"answer_count":1,"score":1,"last_activity_date":1645650922,"creation_date":1645648544,"question_id":71243729,"body_markdown":"[![enter image description here][1]][1]\r\nhere is my servlet class\r\n\r\n    package login.example;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    \r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import javax.servlet.http.HttpSession;\r\n    \r\n    @WebServlet(name = &quot;LogoutServlet&quot;, urlPatterns = {&quot;/LogoutServlet&quot;})\r\n    public class LogoutServlet extends HttpServlet {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tpublic LogoutServlet() {\r\n    \t}\r\n    \r\n    \tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n    \r\n    \t\tPrintWriter out = response.getWriter();\r\n    \t\tresponse.setContentType(&quot;text/html&quot;);\r\n    \t\tHttpSession session = request.getSession();\r\n    \t\tsession.invalidate();\r\n    \r\n    \t\tout.println(&quot;Thank you,you are successfully logged out&quot;);\r\n    \t\tout.close();\r\n    \t}\r\n\r\nhere is web.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0.39&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n\r\n}\r\n\r\nin springboot project i have to run as java application but it gives 404 error,while when i run as  run on server it totally works..what should i do?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PJ6D0.png","title":"404 not found error shows when i run as java application","body":"<p><a href=\"https://i.stack.imgur.com/PJ6D0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PJ6D0.png\" alt=\"enter image description here\" /></a>\nhere is my servlet class</p>\n<pre><code>package login.example;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpSession;\n\n@WebServlet(name = &quot;LogoutServlet&quot;, urlPatterns = {&quot;/LogoutServlet&quot;})\npublic class LogoutServlet extends HttpServlet {\n\n    private static final long serialVersionUID = 1L;\n\n    public LogoutServlet() {\n    }\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\n\n        PrintWriter out = response.getWriter();\n        response.setContentType(&quot;text/html&quot;);\n        HttpSession session = request.getSession();\n        session.invalidate();\n\n        out.println(&quot;Thank you,you are successfully logged out&quot;);\n        out.close();\n    }\n</code></pre>\n<p>here is web.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n    &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;6.0.39&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n                &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n                &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n                &lt;version&gt;2.1&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p>}</p>\n<p>in springboot project i have to run as java application but it gives 404 error,while when i run as  run on server it totally works..what should i do?</p>\n"},{"tags":["java","scope","cdi"],"answers":[{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1309828564,"creation_date":1309778515,"answer_id":6570780,"question_id":6565047,"body_markdown":"My understanding is that scope refers to where an object may be accessed from, while context enumerates the objects that can be accessed from some particular point in program execution. (That is, we talk about the scope of an object, and the context at some particular point in program execution.)\r\n\r\nMathematically speaking, both describe the can-access relation, but look at it in different directions.\r\n\r\n","title":"The difference between context and scope","body":"<p>My understanding is that scope refers to where an object may be accessed from, while context enumerates the objects that can be accessed from some particular point in program execution. (That is, we talk about the scope of an object, and the context at some particular point in program execution.)</p>\n\n<p>Mathematically speaking, both describe the can-access relation, but look at it in different directions.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1309817479,"creation_date":1309817479,"answer_id":6576454,"question_id":6565047,"body_markdown":"Each scope has a separate context.\r\n\r\nThe context is a container for beans which have been defined with the respective scope.\r\n\r\nThat&#39;s why context implementations carry the name of the scope - `ApplicationContext`, `DependentContext`, `RequestContext`, etc.\r\n\r\nThis is an implementation detail actually - as a user of CDI you should only know about scopes (because you define it for your beans), and the implementation decides where to place those beans and how to manage their lifecycle.","title":"The difference between context and scope","body":"<p>Each scope has a separate context.</p>\n\n<p>The context is a container for beans which have been defined with the respective scope.</p>\n\n<p>That's why context implementations carry the name of the scope - <code>ApplicationContext</code>, <code>DependentContext</code>, <code>RequestContext</code>, etc.</p>\n\n<p>This is an implementation detail actually - as a user of CDI you should only know about scopes (because you define it for your beans), and the implementation decides where to place those beans and how to manage their lifecycle.</p>\n"},{"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1309829576,"creation_date":1309829576,"answer_id":6577302,"question_id":6565047,"body_markdown":"First, we have concepts in our heads like applications, sessions, requests. Let&#39;s use the session concept in the following examples.\r\n\r\nIf we consider that a piece of execution is serving for a particular session, we&#39;ll say the session is part of the context of the execution; or, it is *the* session context of the execution.\r\n\r\nA session has some variables, e.g. `userName`; we&#39;ll say the session is the scope of these variables.\r\n\r\nSince both are pointing to the same session, it can get confusing. For example,\r\n\r\n    get the userName from the session context\r\n    get the userName from the session scope\r\n\r\nboth sound fine, because we are talking about an execution on a variable.\r\n\r\nThe following example is intelligible per the definition of scope\r\n\r\n    the scope of the injected bean is Session\r\n\r\nbut we don&#39;t have problem understanding what&#39;s really going on. If we want to, we can expand it till it&#39;s based on basic usages of words; we don&#39;t do that because it will be very verbose.\r\n\r\nAn author faces the difficult task of packing the words succinctly yet expecting readers somehow understand the complex meaning. Texts about context and scope usually appear to be gibberish to those who haven&#39;t understood the concepts.\r\n\r\nAPI names are even more difficult to come up with, because codes are not English sentences. `Context` or `Scope` are pretty much interchangeable. If there&#39;s only one object representing a session, the class probably should be named just `Session`. If we split the part about variable manipulation, that part can be called `SessionScope`. However, the meaning of `SessionContext` is too elusive, the best we can tell, from the name alone, is that it is about something of a session - &quot;context&quot; here is pretty much an expletive. \r\n\r\n","title":"The difference between context and scope","body":"<p>First, we have concepts in our heads like applications, sessions, requests. Let's use the session concept in the following examples.</p>\n\n<p>If we consider that a piece of execution is serving for a particular session, we'll say the session is part of the context of the execution; or, it is <em>the</em> session context of the execution.</p>\n\n<p>A session has some variables, e.g. <code>userName</code>; we'll say the session is the scope of these variables.</p>\n\n<p>Since both are pointing to the same session, it can get confusing. For example,</p>\n\n<pre><code>get the userName from the session context\nget the userName from the session scope\n</code></pre>\n\n<p>both sound fine, because we are talking about an execution on a variable.</p>\n\n<p>The following example is intelligible per the definition of scope</p>\n\n<pre><code>the scope of the injected bean is Session\n</code></pre>\n\n<p>but we don't have problem understanding what's really going on. If we want to, we can expand it till it's based on basic usages of words; we don't do that because it will be very verbose.</p>\n\n<p>An author faces the difficult task of packing the words succinctly yet expecting readers somehow understand the complex meaning. Texts about context and scope usually appear to be gibberish to those who haven't understood the concepts.</p>\n\n<p>API names are even more difficult to come up with, because codes are not English sentences. <code>Context</code> or <code>Scope</code> are pretty much interchangeable. If there's only one object representing a session, the class probably should be named just <code>Session</code>. If we split the part about variable manipulation, that part can be called <code>SessionScope</code>. However, the meaning of <code>SessionContext</code> is too elusive, the best we can tell, from the name alone, is that it is about something of a session - \"context\" here is pretty much an expletive. </p>\n"}],"owner":{"account_id":108510,"reputation":26313,"user_id":287976,"accept_rate":92,"display_name":"brandizzi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3883,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":6576454,"answer_count":3,"score":12,"last_activity_date":1645650358,"creation_date":1309721211,"question_id":6565047,"body_markdown":"Studying JSR-299, I read section 5.1 of the [Weld reference][1] which explains how scopes work in CDI. Apparently, context is a concept closely related to scope. The difference is not clear in my mind and I feel tempted to even use the words interchangeably.\r\n\r\nWhat is the difference between scope and context? What is the relationship between the two concepts?\r\n\r\n  [1]: http://docs.jboss.org/weld/reference/1.1.0.Final/en-US/pdf/weld-reference.pdf","title":"The difference between context and scope","body":"<p>Studying JSR-299, I read section 5.1 of the <a href=\"http://docs.jboss.org/weld/reference/1.1.0.Final/en-US/pdf/weld-reference.pdf\" rel=\"nofollow noreferrer\">Weld reference</a> which explains how scopes work in CDI. Apparently, context is a concept closely related to scope. The difference is not clear in my mind and I feel tempted to even use the words interchangeably.</p>\n<p>What is the difference between scope and context? What is the relationship between the two concepts?</p>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1645650388,"post_id":71243693,"comment_id":125932163,"body_markdown":"Check this https://stackoverflow.com/questions/31640563/how-do-i-change-a-tab-background-color-when-using-tablayout","body":"Check this <a href=\"https://stackoverflow.com/questions/31640563/how-do-i-change-a-tab-background-color-when-using-tablayout\" title=\"how do i change a tab background color when using tablayout\">stackoverflow.com/questions/31640563/&hellip;</a>"},{"owner":{"account_id":24322440,"reputation":1,"user_id":18262570,"display_name":"Mustafa Saleem"},"score":0,"creation_date":1645728340,"post_id":71243693,"comment_id":125954739,"body_markdown":"thanks..but i dont want change when i select tab! i want each tab have backgroud color when i ran app","body":"thanks..but i dont want change when i select tab! i want each tab have backgroud color when i ran app"}],"owner":{"account_id":24322440,"reputation":1,"user_id":18262570,"display_name":"Mustafa Saleem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645650263,"creation_date":1645648331,"question_id":71243693,"body_markdown":"\r\n[![enter image description here][1]][1]\r\n\r\nhere is my xml code but it is didnt work like pic\r\n\r\n    &lt;com.google.android.material.tabs.TabLayout\r\n        android:id=&quot;@+id/tabLayout&quot;\r\n        android:layout_width=&quot;406dp&quot;\r\n        android:layout_height=&quot;94dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:background=&quot;@color/teal_200&quot;\r\n        app:tabSelectedTextColor=&quot;@color/black&quot;\r\n        app:tabTextColor=&quot;@color/purple_200&quot;\r\n        app:tabMode=&quot;scrollable&quot; &gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dyvXa.jpg","title":"How can i change the background color for each tabs in android","body":"<p><a href=\"https://i.stack.imgur.com/dyvXa.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dyvXa.jpg\" alt=\"enter image description here\" /></a></p>\n<p>here is my xml code but it is didnt work like pic</p>\n<pre><code>&lt;com.google.android.material.tabs.TabLayout\n    android:id=&quot;@+id/tabLayout&quot;\n    android:layout_width=&quot;406dp&quot;\n    android:layout_height=&quot;94dp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    android:background=&quot;@color/teal_200&quot;\n    app:tabSelectedTextColor=&quot;@color/black&quot;\n    app:tabTextColor=&quot;@color/purple_200&quot;\n    app:tabMode=&quot;scrollable&quot; &gt;\n</code></pre>\n"},{"tags":["java","graphql"],"comments":[{"owner":{"account_id":16101391,"reputation":117,"user_id":11622060,"display_name":"Logan_on"},"score":0,"creation_date":1574070339,"post_id":58906119,"comment_id":104085491,"body_markdown":"@Andreas Larson","body":"@Andreas Larson"}],"answers":[{"tags":[],"owner":{"account_id":6457927,"reputation":173,"user_id":5002696,"display_name":"Stefano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574597525,"creation_date":1574597525,"answer_id":59017517,"question_id":58906119,"body_markdown":"Have you registered it via         RuntimeWiring?\r\n\r\nTake a look here: https://stackoverflow.com/questions/46034801/custom-scalar-in-graphql-java","title":"GraphQL Error: Expected a user-defined GraphQL scalar type with name &#39;FileUpload&#39; but found none","body":"<p>Have you registered it via         RuntimeWiring?</p>\n\n<p>Take a look here: <a href=\"https://stackoverflow.com/questions/46034801/custom-scalar-in-graphql-java\">Custom Scalar in Graphql-java</a></p>\n"},{"tags":[],"owner":{"account_id":9829323,"reputation":1,"user_id":7281513,"display_name":"Diego Gutierrez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645650229,"creation_date":1645650229,"answer_id":71244009,"question_id":58906119,"body_markdown":"You have to extend **GraphQLScalarType** in your MyScalars class","title":"GraphQL Error: Expected a user-defined GraphQL scalar type with name &#39;FileUpload&#39; but found none","body":"<p>You have to extend <strong>GraphQLScalarType</strong> in your MyScalars class</p>\n"}],"owner":{"account_id":16101391,"reputation":117,"user_id":11622060,"display_name":"Logan_on"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3923,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1645650229,"creation_date":1574032534,"question_id":58906119,"body_markdown":"for several days I have been trying to implement the upload file in Java-GraphQL. I found this topic: https://stackoverflow.com/questions/57372259/how-to-upload-files-with-graphql-java#autocomment104062852  I implemented second solutions. \r\n```\r\npublic class FileUpload {\r\n    private String contentType;\r\n    private byte[] content;\r\n\r\n    public FileUpload(String contentType, byte[] content) {\r\n        this.contentType = contentType;\r\n        this.content = content;\r\n    }\r\n\r\n    public String getContentType() {\r\n        return contentType;\r\n    }\r\n\r\n    public byte[] getContent() {\r\n        return content;\r\n    }\r\n}\r\n```\r\n```\r\npublic class MyScalars {\r\n    public static final GraphQLScalarType FileUpload = new GraphQLScalarType(\r\n        &quot;FileUpload&quot;,\r\n        &quot;A file part in a multipart request&quot;,\r\n        new Coercing&lt;FileUpload, Void&gt;() {\r\n\r\n            @Override\r\n            public Void serialize(Object dataFetcherResult) {\r\n                throw new CoercingSerializeException(&quot;Upload is an input-only type&quot;);\r\n            }\r\n\r\n            @Override\r\n            public FileUpload parseValue(Object input) {\r\n                if (input instanceof Part) {\r\n                    Part part = (Part) input;\r\n                    try {\r\n                        String contentType = part.getContentType();\r\n                        byte[] content = new byte[part.getInputStream().available()];\r\n                        part.delete();\r\n                        return new FileUpload(contentType, content);\r\n\r\n                    } catch (IOException e) {\r\n                        throw new CoercingParseValueException(&quot;Couldn&#39;t read content of the uploaded file&quot;);\r\n                    }\r\n                } else if (null == input) {\r\n                    return null;\r\n                } else {\r\n                    throw new CoercingParseValueException(\r\n                            &quot;Expected type &quot; + Part.class.getName() + &quot; but was &quot; + input.getClass().getName());\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public FileUpload parseLiteral(Object input) {\r\n                throw new CoercingParseLiteralException(\r\n                        &quot;Must use variables to specify Upload values&quot;);\r\n            }\r\n    });\r\n}\r\n```\r\n```\r\npublic class FileUploadResolver implements GraphQLMutationResolver {\r\n\r\n    public Boolean uploadFile(FileUpload fileUpload) {\r\n\r\n        String fileContentType = fileUpload.getContentType();\r\n        byte[] fileContent = fileUpload.getContent();\r\n\r\n        // Do something in order to persist the file :)\r\n\r\n\r\n        return true;\r\n    }\r\n}\r\n```\r\n```\r\nscalar FileUpload\r\n\r\ntype Mutation {\r\n    uploadFile(fileUpload: FileUpload): Boolean\r\n}\r\n```\r\n\r\nI get this error during compilation:\r\n\r\nCaused by: com.coxautodev.graphql.tools.SchemaClassScannerError: Expected a user-defined GraphQL scalar type with name &#39;FileUpload&#39; but found none!\r\n\r\n","title":"GraphQL Error: Expected a user-defined GraphQL scalar type with name &#39;FileUpload&#39; but found none","body":"<p>for several days I have been trying to implement the upload file in Java-GraphQL. I found this topic: <a href=\"https://stackoverflow.com/questions/57372259/how-to-upload-files-with-graphql-java#autocomment104062852\">How to upload files with graphql-java?</a>  I implemented second solutions. </p>\n\n<pre><code>public class FileUpload {\n    private String contentType;\n    private byte[] content;\n\n    public FileUpload(String contentType, byte[] content) {\n        this.contentType = contentType;\n        this.content = content;\n    }\n\n    public String getContentType() {\n        return contentType;\n    }\n\n    public byte[] getContent() {\n        return content;\n    }\n}\n</code></pre>\n\n<pre><code>public class MyScalars {\n    public static final GraphQLScalarType FileUpload = new GraphQLScalarType(\n        \"FileUpload\",\n        \"A file part in a multipart request\",\n        new Coercing&lt;FileUpload, Void&gt;() {\n\n            @Override\n            public Void serialize(Object dataFetcherResult) {\n                throw new CoercingSerializeException(\"Upload is an input-only type\");\n            }\n\n            @Override\n            public FileUpload parseValue(Object input) {\n                if (input instanceof Part) {\n                    Part part = (Part) input;\n                    try {\n                        String contentType = part.getContentType();\n                        byte[] content = new byte[part.getInputStream().available()];\n                        part.delete();\n                        return new FileUpload(contentType, content);\n\n                    } catch (IOException e) {\n                        throw new CoercingParseValueException(\"Couldn't read content of the uploaded file\");\n                    }\n                } else if (null == input) {\n                    return null;\n                } else {\n                    throw new CoercingParseValueException(\n                            \"Expected type \" + Part.class.getName() + \" but was \" + input.getClass().getName());\n                }\n            }\n\n            @Override\n            public FileUpload parseLiteral(Object input) {\n                throw new CoercingParseLiteralException(\n                        \"Must use variables to specify Upload values\");\n            }\n    });\n}\n</code></pre>\n\n<pre><code>public class FileUploadResolver implements GraphQLMutationResolver {\n\n    public Boolean uploadFile(FileUpload fileUpload) {\n\n        String fileContentType = fileUpload.getContentType();\n        byte[] fileContent = fileUpload.getContent();\n\n        // Do something in order to persist the file :)\n\n\n        return true;\n    }\n}\n</code></pre>\n\n<pre><code>scalar FileUpload\n\ntype Mutation {\n    uploadFile(fileUpload: FileUpload): Boolean\n}\n</code></pre>\n\n<p>I get this error during compilation:</p>\n\n<p>Caused by: com.coxautodev.graphql.tools.SchemaClassScannerError: Expected a user-defined GraphQL scalar type with name 'FileUpload' but found none!</p>\n"},{"tags":["java","arrays","sorting","processing"],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1645632200,"creation_date":1645632200,"answer_id":71240310,"question_id":71240135,"body_markdown":"This should be resolved without 2D array.\r\n\r\nIf the dimensions of the field are known 4x4, then possibly the loop should run from 0 to 4 something like this:\r\n```java\r\nvoid draw() {\r\n  background(0);\r\n  pushMatrix();\r\n  translate(pixelsize/2, pixelsize/2);\r\n  for (int x = 0; x &lt; 4; x++) {\r\n    for (int y = 0; y &lt; 4; y++) {\r\n      pushMatrix();\r\n      translate(pixelsize * x, pixelsize * y);\r\n      image(images[4 * x + y], 0, 0, pixelsize, pixelsize);\r\n      popMatrix();\r\n    }\r\n  }\r\n  popMatrix();\r\n}\r\n```","title":"display array sorted","body":"<p>This should be resolved without 2D array.</p>\n<p>If the dimensions of the field are known 4x4, then possibly the loop should run from 0 to 4 something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void draw() {\n  background(0);\n  pushMatrix();\n  translate(pixelsize/2, pixelsize/2);\n  for (int x = 0; x &lt; 4; x++) {\n    for (int y = 0; y &lt; 4; y++) {\n      pushMatrix();\n      translate(pixelsize * x, pixelsize * y);\n      image(images[4 * x + y], 0, 0, pixelsize, pixelsize);\n      popMatrix();\n    }\n  }\n  popMatrix();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4826604,"reputation":833,"user_id":3895938,"accept_rate":61,"display_name":"Cyrill"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645632555,"creation_date":1645632555,"answer_id":71240400,"question_id":71240135,"body_markdown":"Based on the latest answer – this is my code – working perfectly!\r\n\r\n    float pixelamount = 4;\r\n    float pixelsize;\r\n    \r\n    PImage[] images = new PImage [16];\r\n    \r\n    void setup() {\r\n      size(1080, 1080);\r\n      pixelsize = width/pixelamount;\r\n      for (int i = 0; i &lt; images.length; i++) {\r\n        images[i] = loadImage(i + &quot;.png&quot;);\r\n      }\r\n      imageMode(CENTER);\r\n    }\r\n    \r\n    void draw() {\r\n      background(0);\r\n      pushMatrix();\r\n      translate(pixelsize/2, pixelsize/2);\r\n      for (int x = 0; x &lt; pixelamount; x++) {\r\n        for (int y = 0; y &lt; pixelamount; y++) {\r\n          pushMatrix();\r\n          translate(pixelsize * x, pixelsize * y);\r\n          image(images[x + y * int(pixelamount)], 0, 0, pixelsize, pixelsize);\r\n          popMatrix();\r\n        }\r\n      }\r\n      popMatrix();\r\n    }\r\n\r\n","title":"display array sorted","body":"<p>Based on the latest answer – this is my code – working perfectly!</p>\n<pre><code>float pixelamount = 4;\nfloat pixelsize;\n\nPImage[] images = new PImage [16];\n\nvoid setup() {\n  size(1080, 1080);\n  pixelsize = width/pixelamount;\n  for (int i = 0; i &lt; images.length; i++) {\n    images[i] = loadImage(i + &quot;.png&quot;);\n  }\n  imageMode(CENTER);\n}\n\nvoid draw() {\n  background(0);\n  pushMatrix();\n  translate(pixelsize/2, pixelsize/2);\n  for (int x = 0; x &lt; pixelamount; x++) {\n    for (int y = 0; y &lt; pixelamount; y++) {\n      pushMatrix();\n      translate(pixelsize * x, pixelsize * y);\n      image(images[x + y * int(pixelamount)], 0, 0, pixelsize, pixelsize);\n      popMatrix();\n    }\n  }\n  popMatrix();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645633705,"creation_date":1645633705,"answer_id":71240672,"question_id":71240135,"body_markdown":"Alex is correct. \r\nCyrill, you&#39;re on the right track but seem to get confused between 3 ways at looking at your data:\r\n\r\n 1. The images array is a 1D array (indices 0 to 15)\r\n 2. The for loop is nested therefore you need to convert 2D indices to 1D. You are right: `x+y*width` would give you the correct array index, but in this case `width` is not the full width of your sketch in pixels but the width of the grid (i.e. the number of columns in the 4x4 grid: 4)\r\n 3. You are getting a null pointer pointer because you&#39;re trying to access elements in a 1D array as if it&#39;s 2D.\r\n\r\nSomething like this should work:\r\n```java\r\nfloat pixelamount = 4;\r\nfloat pixelsize;\r\n\r\nPImage[] images = new PImage [16];\r\n\r\nvoid setup() {\r\n  size(1080, 1080);\r\n  pixelsize = width/pixelamount;\r\n  for (int i = 0; i &lt; images.length; i++) {\r\n    images[i] = loadImage(i + &quot;.png&quot;);\r\n  }\r\n  //imageMode(CENTER);\r\n}\r\n\r\nvoid draw() {\r\n  background(0);\r\n  pushMatrix();\r\n  translate(pixelsize/2, pixelsize/2);\r\n  for (int x = 0; x &lt; pixelamount; x++) {\r\n    for (int y = 0; y &lt; pixelamount; y++) {\r\n      pushMatrix();\r\n      translate(pixelsize*x, pixelsize*y);\r\n      image(images[x + y * pixelamount], 0, 0, pixelsize, pixelsize);\r\n      popMatrix();\r\n    }\r\n  }\r\n  popMatrix();\r\n}\r\n```\r\n\r\nIf you want to loop with a single for loop (instead of a nested for loop) which would match how you store your data you can use this formula to go from 1D index to 2D indices:\r\n\r\n    x = index % gridColumns\r\n    y = index / gridColumns\r\n\r\n(Bare in mind these are integers (so in other languages (like Python/JS/etc.) you&#39;d pay attention to the division operation))\r\n\r\nHere&#39;s a basic example to illustrate this:\r\n\r\n```java\r\nsize(1080, 1080);\r\ntextAlign(CENTER, CENTER);\r\ntextFont(createFont(&quot;Courier New Bold&quot;, 12));\r\n\r\nint pixelAmount = 4;\r\nint pixelSize = width/pixelAmount;\r\n\r\nint gridColumns = 4;\r\n\r\n// iterate once\r\nfor(int i = 0; i &lt; 16; i++){\r\n  // calculate 2D grid indices\r\n  int xIndex = i % gridColumns;\r\n  int yIndex = i / gridColumns;\r\n  // convert from index to pixel size\r\n  int x = xIndex * pixelSize;\r\n  int y = yIndex * pixelSize;\r\n  // render debug data\r\n  String debugText = &quot;1D index:&quot; +  i + \r\n                     &quot;\\n2D indices:[&quot; + xIndex + &quot;][&quot; + yIndex + &quot;]&quot; +\r\n                     &quot;\\nx, y pixels::&quot; +  x + &quot;,&quot; + y;\r\n  \r\n  fill(255);\r\n  rect(x, y, pixelSize, pixelSize);\r\n  fill(0);\r\n  text(debugText, x + pixelSize / 2, y + pixelSize / 2);\r\n  \r\n}\r\n```\r\n\r\nHere&#39;s the same example as the above using a 2D array and nested loops:\r\n\r\n```java\r\nsize(1080, 1080);\r\ntextAlign(CENTER, CENTER);\r\ntextFont(createFont(&quot;Courier New Bold&quot;, 12));\r\n\r\nint pixelAmount = 4;\r\nint pixelSize = width/pixelAmount;\r\n\r\nint[][] grid = new int[pixelAmount][pixelAmount];\r\n\r\n// mimick image loading (storing 1D index)\r\nint index = 0;\r\nfor(int y = 0; y &lt; pixelAmount; y++)\r\n  for(int x = 0; x &lt; pixelAmount; x++)\r\n    grid[x][y] = index++;\r\n\r\n// mimick reading 2D array data\r\nfor(int y = 0; y &lt; pixelAmount; y++){\r\n  for(int x = 0; x &lt; pixelAmount; x++){\r\n    \r\n    int xPixels = x * pixelSize;\r\n    int yPixels = y * pixelSize;\r\n    \r\n    // manually copute index\r\n    // index = x + y * pixelAmount;\r\n    // or retrieve stored index\r\n    index = grid[x][y];\r\n    \r\n    String debugText = &quot;1D index:&quot; +  index + &quot;.png&quot; +\r\n                     &quot;\\n2D indices:[&quot; + x + &quot;][&quot; + y + &quot;]&quot; +\r\n                     &quot;\\nx, y pixels::&quot; +  xPixels + &quot;,&quot; + yPixels;\r\n  \r\n  fill(255);\r\n  rect(xPixels, yPixels, pixelSize, pixelSize);\r\n  fill(0);\r\n  text(debugText, xPixels + pixelSize / 2, yPixels + pixelSize / 2);\r\n  }\r\n}\r\n```\r\n\r\nMy answer is more for the sake of completeness: displaying both 1D/2D ways at looking at the data.\r\n\r\n\r\n ","title":"display array sorted","body":"<p>Alex is correct.\nCyrill, you're on the right track but seem to get confused between 3 ways at looking at your data:</p>\n<ol>\n<li>The images array is a 1D array (indices 0 to 15)</li>\n<li>The for loop is nested therefore you need to convert 2D indices to 1D. You are right: <code>x+y*width</code> would give you the correct array index, but in this case <code>width</code> is not the full width of your sketch in pixels but the width of the grid (i.e. the number of columns in the 4x4 grid: 4)</li>\n<li>You are getting a null pointer pointer because you're trying to access elements in a 1D array as if it's 2D.</li>\n</ol>\n<p>Something like this should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>float pixelamount = 4;\nfloat pixelsize;\n\nPImage[] images = new PImage [16];\n\nvoid setup() {\n  size(1080, 1080);\n  pixelsize = width/pixelamount;\n  for (int i = 0; i &lt; images.length; i++) {\n    images[i] = loadImage(i + &quot;.png&quot;);\n  }\n  //imageMode(CENTER);\n}\n\nvoid draw() {\n  background(0);\n  pushMatrix();\n  translate(pixelsize/2, pixelsize/2);\n  for (int x = 0; x &lt; pixelamount; x++) {\n    for (int y = 0; y &lt; pixelamount; y++) {\n      pushMatrix();\n      translate(pixelsize*x, pixelsize*y);\n      image(images[x + y * pixelamount], 0, 0, pixelsize, pixelsize);\n      popMatrix();\n    }\n  }\n  popMatrix();\n}\n</code></pre>\n<p>If you want to loop with a single for loop (instead of a nested for loop) which would match how you store your data you can use this formula to go from 1D index to 2D indices:</p>\n<pre><code>x = index % gridColumns\ny = index / gridColumns\n</code></pre>\n<p>(Bare in mind these are integers (so in other languages (like Python/JS/etc.) you'd pay attention to the division operation))</p>\n<p>Here's a basic example to illustrate this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>size(1080, 1080);\ntextAlign(CENTER, CENTER);\ntextFont(createFont(&quot;Courier New Bold&quot;, 12));\n\nint pixelAmount = 4;\nint pixelSize = width/pixelAmount;\n\nint gridColumns = 4;\n\n// iterate once\nfor(int i = 0; i &lt; 16; i++){\n  // calculate 2D grid indices\n  int xIndex = i % gridColumns;\n  int yIndex = i / gridColumns;\n  // convert from index to pixel size\n  int x = xIndex * pixelSize;\n  int y = yIndex * pixelSize;\n  // render debug data\n  String debugText = &quot;1D index:&quot; +  i + \n                     &quot;\\n2D indices:[&quot; + xIndex + &quot;][&quot; + yIndex + &quot;]&quot; +\n                     &quot;\\nx, y pixels::&quot; +  x + &quot;,&quot; + y;\n  \n  fill(255);\n  rect(x, y, pixelSize, pixelSize);\n  fill(0);\n  text(debugText, x + pixelSize / 2, y + pixelSize / 2);\n  \n}\n</code></pre>\n<p>Here's the same example as the above using a 2D array and nested loops:</p>\n<pre class=\"lang-java prettyprint-override\"><code>size(1080, 1080);\ntextAlign(CENTER, CENTER);\ntextFont(createFont(&quot;Courier New Bold&quot;, 12));\n\nint pixelAmount = 4;\nint pixelSize = width/pixelAmount;\n\nint[][] grid = new int[pixelAmount][pixelAmount];\n\n// mimick image loading (storing 1D index)\nint index = 0;\nfor(int y = 0; y &lt; pixelAmount; y++)\n  for(int x = 0; x &lt; pixelAmount; x++)\n    grid[x][y] = index++;\n\n// mimick reading 2D array data\nfor(int y = 0; y &lt; pixelAmount; y++){\n  for(int x = 0; x &lt; pixelAmount; x++){\n    \n    int xPixels = x * pixelSize;\n    int yPixels = y * pixelSize;\n    \n    // manually copute index\n    // index = x + y * pixelAmount;\n    // or retrieve stored index\n    index = grid[x][y];\n    \n    String debugText = &quot;1D index:&quot; +  index + &quot;.png&quot; +\n                     &quot;\\n2D indices:[&quot; + x + &quot;][&quot; + y + &quot;]&quot; +\n                     &quot;\\nx, y pixels::&quot; +  xPixels + &quot;,&quot; + yPixels;\n  \n  fill(255);\n  rect(xPixels, yPixels, pixelSize, pixelSize);\n  fill(0);\n  text(debugText, xPixels + pixelSize / 2, yPixels + pixelSize / 2);\n  }\n}\n</code></pre>\n<p>My answer is more for the sake of completeness: displaying both 1D/2D ways at looking at the data.</p>\n"}],"owner":{"account_id":4826604,"reputation":833,"user_id":3895938,"accept_rate":61,"display_name":"Cyrill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71240310,"answer_count":3,"score":3,"last_activity_date":1645650078,"creation_date":1645631503,"question_id":71240135,"body_markdown":"Suppose I have a two-dimensional grid of pixels (4 by 4 pixels) - and I have an image the size of my sketch that has been cut into 16 parts. \r\nNow I load all 16 parts into an array. I want to map this array onto the 2D grid in turn, so that my overall image is put together again correctly. That is, top left image 0.png and bottom right image 16.png.\r\n\r\nI just can&#39;t find the formula that allows me to do this. For example, I know that with `x+y*width` you can run trough all pixels – from top left to bottom right - so I tried that. Without `*width` it doesn&#39;t sit together properly - with `x+y*width`- ArrayIndexOutOfBoundsException (for sure).\r\n\r\nSo I thought I needed a 2D array - but with  `images[x][y]` i get a NullPointerException. I attached you an image of what I am trying to create:\r\n\r\n[![the grid with the sliced images –&#160;16][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/ogLmA.jpg\r\n\r\n\r\nThis is my code so far –&#160;without the 2D Array…\r\n\r\n    float pixelamount = 4;\r\n    float pixelsize;\r\n    \r\n    PImage[] images = new PImage [16];\r\n    \r\n    void setup() {\r\n      size(1080, 1080);\r\n      pixelsize = width/pixelamount;\r\n      for (int i = 0; i &lt; images.length; i++) {\r\n        images[i] = loadImage(i + &quot;.png&quot;);\r\n      }\r\n      imageMode(CENTER);\r\n    }\r\n    \r\n    void draw() {\r\n      background(0);\r\n      pushMatrix();\r\n      translate(pixelsize/2, pixelsize/2);\r\n      for (int x = 0; x &lt; pixelamount; x++) {\r\n        for (int y = 0; y &lt; pixelamount; y++) {\r\n          pushMatrix();\r\n          translate(pixelsize*x, pixelsize*y);\r\n          image(images[x+y], 0, 0, pixelsize, pixelsize);\r\n          popMatrix();\r\n        }\r\n      }\r\n      popMatrix();\r\n    }\r\n\r\nAs I said – in the line `image(images[x+y], 0, 0, pixelsize, pixelsize);` I just do not get the math right. Do I need a 2D Array to solve this? Or something totally different?\r\n","title":"display array sorted","body":"<p>Suppose I have a two-dimensional grid of pixels (4 by 4 pixels) - and I have an image the size of my sketch that has been cut into 16 parts.\nNow I load all 16 parts into an array. I want to map this array onto the 2D grid in turn, so that my overall image is put together again correctly. That is, top left image 0.png and bottom right image 16.png.</p>\n<p>I just can't find the formula that allows me to do this. For example, I know that with <code>x+y*width</code> you can run trough all pixels – from top left to bottom right - so I tried that. Without <code>*width</code> it doesn't sit together properly - with <code>x+y*width</code>- ArrayIndexOutOfBoundsException (for sure).</p>\n<p>So I thought I needed a 2D array - but with  <code>images[x][y]</code> i get a NullPointerException. I attached you an image of what I am trying to create:</p>\n<p><a href=\"https://i.stack.imgur.com/ogLmA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ogLmA.jpg\" alt=\"the grid with the sliced images – 16\" /></a></p>\n<p>This is my code so far – without the 2D Array…</p>\n<pre><code>float pixelamount = 4;\nfloat pixelsize;\n\nPImage[] images = new PImage [16];\n\nvoid setup() {\n  size(1080, 1080);\n  pixelsize = width/pixelamount;\n  for (int i = 0; i &lt; images.length; i++) {\n    images[i] = loadImage(i + &quot;.png&quot;);\n  }\n  imageMode(CENTER);\n}\n\nvoid draw() {\n  background(0);\n  pushMatrix();\n  translate(pixelsize/2, pixelsize/2);\n  for (int x = 0; x &lt; pixelamount; x++) {\n    for (int y = 0; y &lt; pixelamount; y++) {\n      pushMatrix();\n      translate(pixelsize*x, pixelsize*y);\n      image(images[x+y], 0, 0, pixelsize, pixelsize);\n      popMatrix();\n    }\n  }\n  popMatrix();\n}\n</code></pre>\n<p>As I said – in the line <code>image(images[x+y], 0, 0, pixelsize, pixelsize);</code> I just do not get the math right. Do I need a 2D Array to solve this? Or something totally different?</p>\n"},{"tags":["java","swing","user-interface","jtable"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645610151,"post_id":71234446,"comment_id":125915384,"body_markdown":"For [example](https://stackoverflow.com/questions/13677850/add-background-image-in-jtable/13678077#13678077)","body":"For <a href=\"https://stackoverflow.com/questions/13677850/add-background-image-in-jtable/13678077#13678077\">example</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1645610362,"post_id":71234446,"comment_id":125915497,"body_markdown":"Consider providing a [mcve] which demonstrates your issue","body":"Consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which demonstrates your issue"},{"owner":{"account_id":24350872,"reputation":3,"user_id":18286705,"display_name":"TriageONE"},"score":0,"creation_date":1645643558,"post_id":71234446,"comment_id":125929988,"body_markdown":"@MadProgrammer I&#39;ve updated the question. There is a fully self contained scratch file ready to run OOTB provided now","body":"@MadProgrammer I&#39;ve updated the question. There is a fully self contained scratch file ready to run OOTB provided now"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645649581,"post_id":71234446,"comment_id":125931918,"body_markdown":"I had issues when ever I used your `JTable` extensions, I would suggest not doing that and make better use of the custom renderer support and the table model itself","body":"I had issues when ever I used your <code>JTable</code> extensions, I would suggest not doing that and make better use of the custom renderer support and the table model itself"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645650025,"creation_date":1645650025,"answer_id":71243983,"question_id":71234446,"body_markdown":"While playing around with your code, I had issues when ever I used your `JTable` extensions...\r\n\r\n    JTable table = new JTable(model) {\r\n        @Override\r\n        public boolean isCellEditable(int row, int column) {\r\n            //all cells false\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public Class&lt;?&gt; getColumnClass(int column) {\r\n            //Removing &#39;ImageIcon.class&#39; and replacing it with &#39;Object.class&#39; makes the table transparent, however does not display the image.\r\n            //Keeping this now allows us to put in images into the table, but removes the red square from the background and makes the table opaque\r\n            return ImageIcon.class;\r\n        }\r\n    };\r\n\r\nThis kind of makes me cringe anyway.\r\n\r\nIf you want to change the class type of the cell, then you really should be doing this from the `TableModel`, that&#39;s its responsibility.\r\n\r\nI&#39;d also, personally, supply my own `TableCellRenderer`, this way I gain full control over it&#39;s functionality directly\r\n\r\nFor example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Image;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.LinkedList;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.Icon;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.table.DefaultTableCellRenderer;\r\n    import javax.swing.table.DefaultTableModel;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        Object[][] data = new Object[32][32];\r\n                        String[] names = new String[32];\r\n                        DefaultTableModel model = new DefaultTableModel(data, names) {\r\n                            @Override\r\n                            public Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n                                return Icon.class;\r\n                            }\r\n\r\n                            @Override\r\n                            public boolean isCellEditable(int row, int column) {\r\n                                return false;\r\n                            }                        \r\n                        };\r\n\r\n                        JTable table = new JTable(model);\r\n                        table.setOpaque(false);\r\n\r\n                        table.setDefaultRenderer(Icon.class, new TransparentTableCellRenderer());\r\n\r\n                        JScrollPane scrollPane = new JScrollPane(table);\r\n                        scrollPane.setOpaque(false);\r\n                        scrollPane.getViewport().setOpaque(false);\r\n\r\n                        LinkedList&lt;String&gt; selectedCells = new LinkedList&lt;&gt;();\r\n\r\n                        BufferedImage img = new BufferedImage(100, 100, BufferedImage.TYPE_INT_RGB);\r\n                        Graphics2D g2d = img.createGraphics();\r\n                        g2d.setColor(Color.RED);\r\n                        g2d.fillRect(0, 0, 100, 100);\r\n                        g2d.dispose();\r\n\r\n                        Icon icon = new ImageIcon(img);\r\n\r\n                        table.addMouseListener(new MouseAdapter() {\r\n                            @Override\r\n                            public void mouseClicked(MouseEvent e) {\r\n                                int row = table.rowAtPoint(e.getPoint());\r\n                                int col = table.columnAtPoint(e.getPoint());\r\n\r\n                                String string = row + &quot;|&quot; + col;\r\n\r\n                                if (selectedCells.contains(string)) {\r\n                                    //cell was already selected, deselect it\r\n                                    selectedCells.remove(string);\r\n                                    table.setValueAt(null, row, col);\r\n                                    System.out.println(&quot;Removed Cell &quot; + string);\r\n                                } else {\r\n                                    //cell was not selected\r\n                                    selectedCells.add(string);\r\n                                    table.setValueAt(icon, row, col);\r\n                                    System.out.println(&quot;Added Cell &quot; + string);\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                        JFrame frame = new JFrame();\r\n                        // Supply your own back ground image\r\n                        frame.setContentPane(new BackgroundPane(ImageIO.read(Main.class.getResource(&quot;/images/Mando01.jpeg&quot;))));\r\n                        frame.add(scrollPane);\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TransparentTableCellRenderer extends DefaultTableCellRenderer {\r\n\r\n            @Override\r\n            public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n                super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\r\n                setOpaque(false);\r\n                if (value instanceof Icon) {\r\n                    setIcon((Icon)value);\r\n                } else {\r\n                    setIcon(null);\r\n                }\r\n                return this;\r\n            }\r\n\r\n        }\r\n\r\n        public class BackgroundPane extends JPanel {\r\n\r\n            private Image background;\r\n\r\n            public BackgroundPane(Image background) {\r\n                setLayout(new BorderLayout());\r\n                this.background = background;\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return background == null ? new Dimension(200, 200) : new Dimension(background.getWidth(this), background.getHeight(this));\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.drawImage(background, 0, 0, this);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KW5LN.jpg","title":"JTable becomes opaque even if specified otherwise, because of DefaultTableModel getColumnClass overrides","body":"<p>While playing around with your code, I had issues when ever I used your <code>JTable</code> extensions...</p>\n<pre><code>JTable table = new JTable(model) {\n    @Override\n    public boolean isCellEditable(int row, int column) {\n        //all cells false\n        return false;\n    }\n\n    @Override\n    public Class&lt;?&gt; getColumnClass(int column) {\n        //Removing 'ImageIcon.class' and replacing it with 'Object.class' makes the table transparent, however does not display the image.\n        //Keeping this now allows us to put in images into the table, but removes the red square from the background and makes the table opaque\n        return ImageIcon.class;\n    }\n};\n</code></pre>\n<p>This kind of makes me cringe anyway.</p>\n<p>If you want to change the class type of the cell, then you really should be doing this from the <code>TableModel</code>, that's its responsibility.</p>\n<p>I'd also, personally, supply my own <code>TableCellRenderer</code>, this way I gain full control over it's functionality directly</p>\n<p>For example...</p>\n<p><a href=\"https://i.stack.imgur.com/KW5LN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KW5LN.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Image;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.LinkedList;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.Icon;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.table.DefaultTableCellRenderer;\nimport javax.swing.table.DefaultTableModel;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    Object[][] data = new Object[32][32];\n                    String[] names = new String[32];\n                    DefaultTableModel model = new DefaultTableModel(data, names) {\n                        @Override\n                        public Class&lt;?&gt; getColumnClass(int columnIndex) {\n                            return Icon.class;\n                        }\n\n                        @Override\n                        public boolean isCellEditable(int row, int column) {\n                            return false;\n                        }                        \n                    };\n\n                    JTable table = new JTable(model);\n                    table.setOpaque(false);\n\n                    table.setDefaultRenderer(Icon.class, new TransparentTableCellRenderer());\n\n                    JScrollPane scrollPane = new JScrollPane(table);\n                    scrollPane.setOpaque(false);\n                    scrollPane.getViewport().setOpaque(false);\n\n                    LinkedList&lt;String&gt; selectedCells = new LinkedList&lt;&gt;();\n\n                    BufferedImage img = new BufferedImage(100, 100, BufferedImage.TYPE_INT_RGB);\n                    Graphics2D g2d = img.createGraphics();\n                    g2d.setColor(Color.RED);\n                    g2d.fillRect(0, 0, 100, 100);\n                    g2d.dispose();\n\n                    Icon icon = new ImageIcon(img);\n\n                    table.addMouseListener(new MouseAdapter() {\n                        @Override\n                        public void mouseClicked(MouseEvent e) {\n                            int row = table.rowAtPoint(e.getPoint());\n                            int col = table.columnAtPoint(e.getPoint());\n\n                            String string = row + &quot;|&quot; + col;\n\n                            if (selectedCells.contains(string)) {\n                                //cell was already selected, deselect it\n                                selectedCells.remove(string);\n                                table.setValueAt(null, row, col);\n                                System.out.println(&quot;Removed Cell &quot; + string);\n                            } else {\n                                //cell was not selected\n                                selectedCells.add(string);\n                                table.setValueAt(icon, row, col);\n                                System.out.println(&quot;Added Cell &quot; + string);\n                            }\n                        }\n                    });\n\n                    JFrame frame = new JFrame();\n                    // Supply your own back ground image\n                    frame.setContentPane(new BackgroundPane(ImageIO.read(Main.class.getResource(&quot;/images/Mando01.jpeg&quot;))));\n                    frame.add(scrollPane);\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class TransparentTableCellRenderer extends DefaultTableCellRenderer {\n\n        @Override\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n            super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\n            setOpaque(false);\n            if (value instanceof Icon) {\n                setIcon((Icon)value);\n            } else {\n                setIcon(null);\n            }\n            return this;\n        }\n\n    }\n\n    public class BackgroundPane extends JPanel {\n\n        private Image background;\n\n        public BackgroundPane(Image background) {\n            setLayout(new BorderLayout());\n            this.background = background;\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return background == null ? new Dimension(200, 200) : new Dimension(background.getWidth(this), background.getHeight(this));\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.drawImage(background, 0, 0, this);\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24350872,"reputation":3,"user_id":18286705,"display_name":"TriageONE"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71243983,"answer_count":1,"score":0,"last_activity_date":1645650025,"creation_date":1645608866,"question_id":71234446,"body_markdown":"My project requires that a table be drawn as transparent to reveal an image underneath. When I override the function `getColumnClass` in `DefaultTableModel`, it seems like `table.setOpaque(false)` no longer does anything. I need each cell to only draw images within, which works fine. Here is the table model: \r\n```\r\nJTable table = new JTable(model) {\r\n            @Override\r\n            public boolean isCellEditable(int row, int column) {\r\n                //all cells false\r\n                return false;\r\n            }\r\n            @Override\r\n            public Class&lt;?&gt; getColumnClass(int column) {\r\n                return ImageIcon.class;\r\n            }\r\n        };\r\n```\r\nThere is a small portion of the table visible while scrolling, but the moment the table updates when I move it around or click on it, it becomes opaque. \r\n\r\nI have a simple goal, where i am to overlay a translucent image in a cell, over an image underneath the table, as if like a selection. The image would toggle off and on and is handled in this mouse adapter: \r\n\r\n```\r\n@Override\r\npublic void mouseClicked(MouseEvent e) {\r\n\tint row = table.rowAtPoint(e.getPoint());//get mouse-selected row\r\n\tint col = table.columnAtPoint(e.getPoint());//get mouse-selected col\r\n\r\n\tString string = row+&quot;|&quot;+col;\r\n\r\n\tif(selectedCells.contains(string)){\r\n\t\r\n\t\t//cell was already selected, deselect it\r\n\t\tselectedCells.remove(string);\r\n\t\ttable.setValueAt(null, row, col);\r\n\t\tSystem.out.println(&quot;Removed Cell &quot; + string);\r\n\t\t\r\n\t} else {\r\n\t\r\n\t\t//cell was not selected\r\n\t\tselectedCells.add(string);\r\n\t\ttable.setValueAt(PrimaryWindow.selection, row, col);\r\n\t\tSystem.out.println(&quot;Added Cell &quot; + string);\r\n\t}\r\n}\r\n```\r\nI paint the image underneath by overriding the panel the table is in, which looks like this: \r\n```\r\nJPanel background = new JPanel( new BorderLayout() )\r\n        {\r\n            @Override\r\n            protected void paintComponent(Graphics g)\r\n            {\r\n                super.paintComponent(g);\r\n\r\n                g.drawImage(icon.getImage(), 0, 0, scale*32, scale*32, this);\r\n            }\r\n        };\r\n```\r\nAnd then add the table in above: `background.add(table);`\r\n\r\nI do have this set:\r\n```\r\nDefaultTableCellRenderer renderer = (DefaultTableCellRenderer)table.getDefaultRenderer(Object.class);\r\n        renderer.setOpaque(false);\r\n```\r\nAnd this set: \r\n```\r\ntable.setOpaque(false);\r\n```\r\n[Here is what the wrong, but current output looks like after clicking a bunch of places][1]\r\n\r\n[Here is what it looks like if i remove the custom renderer][2]\r\n\r\n[Here is what it should look like (i made it in paint)][3]\r\n\r\nSimply clicking the mouse does put an image inside the table at the cell I click, which is exactly what I want, as well as removing it upon clicking the same spot again. However, it is useless until I can see what is underneath. How can I have the table be transparent, and also display my images over the panel underneath? \r\n\r\nEDIT:\r\nHere is a scratch file with the problem in full display. Replace the  \r\n\r\n```\r\nimport javax.swing.*;\r\nimport javax.swing.table.DefaultTableCellRenderer;\r\nimport javax.swing.table.DefaultTableModel;\r\nimport java.awt.*;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport java.awt.image.BufferedImage;\r\nimport java.util.LinkedList;\r\n\r\nclass Scratch {\r\n\r\n    static LinkedList&lt;String&gt; selectedCells = new LinkedList&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame();\r\n        frame.setSize(512,512);\r\n\r\n        //Make a red square\r\n        BufferedImage image = new BufferedImage(1,1, BufferedImage.TYPE_4BYTE_ABGR);\r\n        image.setRGB(0,0, Color.RED.getRGB());\r\n\r\n        //Scale it to the size of the window\r\n        ImageIcon icon = new ImageIcon(image.getScaledInstance(512, 512, 1));\r\n\r\n        image.setRGB(0,0, new Color(0x49000000, true).getRGB());\r\n\r\n        ImageIcon selection =  new ImageIcon(image.getScaledInstance(16, 16, 1));\r\n\r\n        Object[][] data = new Object[32][32];\r\n        String[] names = new String[32];\r\n        DefaultTableModel model = new DefaultTableModel(data, names);\r\n\r\n\r\n        JTable table = new JTable(model) {\r\n            @Override\r\n            public boolean isCellEditable(int row, int column) {\r\n                //all cells false\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public Class&lt;?&gt; getColumnClass(int column) {\r\n                //Removing &#39;ImageIcon.class&#39; and replacing it with &#39;Object.class&#39; makes the table transparent, however does not display the image.\r\n                //Keeping this now allows us to put in images into the table, but removes the red square from the background and makes the table opaque\r\n                return ImageIcon.class;\r\n            }\r\n        };\r\n        //Set the entire table to transparent\r\n        table.setOpaque(false);\r\n        //Set the renderer to transparent also\r\n        DefaultTableCellRenderer renderer = (DefaultTableCellRenderer)table.getDefaultRenderer(Object.class);\r\n        renderer.setOpaque(false);\r\n\r\n        MouseListener tableMouseListener = new MouseAdapter() {\r\n\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n                int row = table.rowAtPoint(e.getPoint());\r\n                int col = table.columnAtPoint(e.getPoint());\r\n\r\n                String string = row+&quot;|&quot;+col;\r\n\r\n                if(selectedCells.contains(string)){\r\n                    //cell was already selected, deselect it\r\n                    selectedCells.remove(string);\r\n                    table.setValueAt(null, row, col);\r\n                    System.out.println(&quot;Removed Cell &quot; + string);\r\n                }else{\r\n                    //cell was not selected\r\n                    selectedCells.add(string);\r\n                    table.setValueAt(selection, row, col);\r\n                    System.out.println(&quot;Added Cell &quot; + string);\r\n                }\r\n                System.out.println(selectedCells);\r\n            }\r\n        };\r\n\r\n\r\n        table.addMouseListener(tableMouseListener);\r\n        table.setName(&quot;name&quot;);\r\n\r\n        JPanel background = new JPanel( new BorderLayout() )\r\n        {\r\n            @Override\r\n            protected void paintComponent(Graphics g)\r\n            {\r\n                super.paintComponent(g);\r\n\r\n                g.drawImage(icon.getImage(), 0, 0, 512, 512, this);\r\n            }\r\n        };\r\n        background.setSize(512,512);\r\n        frame.add(background);\r\n        background.add(table);\r\n\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Bukcl.png\r\n  [2]: https://i.stack.imgur.com/Ot3IB.png\r\n  [3]: https://i.stack.imgur.com/iiaWB.png","title":"JTable becomes opaque even if specified otherwise, because of DefaultTableModel getColumnClass overrides","body":"<p>My project requires that a table be drawn as transparent to reveal an image underneath. When I override the function <code>getColumnClass</code> in <code>DefaultTableModel</code>, it seems like <code>table.setOpaque(false)</code> no longer does anything. I need each cell to only draw images within, which works fine. Here is the table model:</p>\n<pre><code>JTable table = new JTable(model) {\n            @Override\n            public boolean isCellEditable(int row, int column) {\n                //all cells false\n                return false;\n            }\n            @Override\n            public Class&lt;?&gt; getColumnClass(int column) {\n                return ImageIcon.class;\n            }\n        };\n</code></pre>\n<p>There is a small portion of the table visible while scrolling, but the moment the table updates when I move it around or click on it, it becomes opaque.</p>\n<p>I have a simple goal, where i am to overlay a translucent image in a cell, over an image underneath the table, as if like a selection. The image would toggle off and on and is handled in this mouse adapter:</p>\n<pre><code>@Override\npublic void mouseClicked(MouseEvent e) {\n    int row = table.rowAtPoint(e.getPoint());//get mouse-selected row\n    int col = table.columnAtPoint(e.getPoint());//get mouse-selected col\n\n    String string = row+&quot;|&quot;+col;\n\n    if(selectedCells.contains(string)){\n    \n        //cell was already selected, deselect it\n        selectedCells.remove(string);\n        table.setValueAt(null, row, col);\n        System.out.println(&quot;Removed Cell &quot; + string);\n        \n    } else {\n    \n        //cell was not selected\n        selectedCells.add(string);\n        table.setValueAt(PrimaryWindow.selection, row, col);\n        System.out.println(&quot;Added Cell &quot; + string);\n    }\n}\n</code></pre>\n<p>I paint the image underneath by overriding the panel the table is in, which looks like this:</p>\n<pre><code>JPanel background = new JPanel( new BorderLayout() )\n        {\n            @Override\n            protected void paintComponent(Graphics g)\n            {\n                super.paintComponent(g);\n\n                g.drawImage(icon.getImage(), 0, 0, scale*32, scale*32, this);\n            }\n        };\n</code></pre>\n<p>And then add the table in above: <code>background.add(table);</code></p>\n<p>I do have this set:</p>\n<pre><code>DefaultTableCellRenderer renderer = (DefaultTableCellRenderer)table.getDefaultRenderer(Object.class);\n        renderer.setOpaque(false);\n</code></pre>\n<p>And this set:</p>\n<pre><code>table.setOpaque(false);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Bukcl.png\" rel=\"nofollow noreferrer\">Here is what the wrong, but current output looks like after clicking a bunch of places</a></p>\n<p><a href=\"https://i.stack.imgur.com/Ot3IB.png\" rel=\"nofollow noreferrer\">Here is what it looks like if i remove the custom renderer</a></p>\n<p><a href=\"https://i.stack.imgur.com/iiaWB.png\" rel=\"nofollow noreferrer\">Here is what it should look like (i made it in paint)</a></p>\n<p>Simply clicking the mouse does put an image inside the table at the cell I click, which is exactly what I want, as well as removing it upon clicking the same spot again. However, it is useless until I can see what is underneath. How can I have the table be transparent, and also display my images over the panel underneath?</p>\n<p>EDIT:\nHere is a scratch file with the problem in full display. Replace the</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.table.DefaultTableCellRenderer;\nimport javax.swing.table.DefaultTableModel;\nimport java.awt.*;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.image.BufferedImage;\nimport java.util.LinkedList;\n\nclass Scratch {\n\n    static LinkedList&lt;String&gt; selectedCells = new LinkedList&lt;&gt;();\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        frame.setSize(512,512);\n\n        //Make a red square\n        BufferedImage image = new BufferedImage(1,1, BufferedImage.TYPE_4BYTE_ABGR);\n        image.setRGB(0,0, Color.RED.getRGB());\n\n        //Scale it to the size of the window\n        ImageIcon icon = new ImageIcon(image.getScaledInstance(512, 512, 1));\n\n        image.setRGB(0,0, new Color(0x49000000, true).getRGB());\n\n        ImageIcon selection =  new ImageIcon(image.getScaledInstance(16, 16, 1));\n\n        Object[][] data = new Object[32][32];\n        String[] names = new String[32];\n        DefaultTableModel model = new DefaultTableModel(data, names);\n\n\n        JTable table = new JTable(model) {\n            @Override\n            public boolean isCellEditable(int row, int column) {\n                //all cells false\n                return false;\n            }\n\n            @Override\n            public Class&lt;?&gt; getColumnClass(int column) {\n                //Removing 'ImageIcon.class' and replacing it with 'Object.class' makes the table transparent, however does not display the image.\n                //Keeping this now allows us to put in images into the table, but removes the red square from the background and makes the table opaque\n                return ImageIcon.class;\n            }\n        };\n        //Set the entire table to transparent\n        table.setOpaque(false);\n        //Set the renderer to transparent also\n        DefaultTableCellRenderer renderer = (DefaultTableCellRenderer)table.getDefaultRenderer(Object.class);\n        renderer.setOpaque(false);\n\n        MouseListener tableMouseListener = new MouseAdapter() {\n\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                int row = table.rowAtPoint(e.getPoint());\n                int col = table.columnAtPoint(e.getPoint());\n\n                String string = row+&quot;|&quot;+col;\n\n                if(selectedCells.contains(string)){\n                    //cell was already selected, deselect it\n                    selectedCells.remove(string);\n                    table.setValueAt(null, row, col);\n                    System.out.println(&quot;Removed Cell &quot; + string);\n                }else{\n                    //cell was not selected\n                    selectedCells.add(string);\n                    table.setValueAt(selection, row, col);\n                    System.out.println(&quot;Added Cell &quot; + string);\n                }\n                System.out.println(selectedCells);\n            }\n        };\n\n\n        table.addMouseListener(tableMouseListener);\n        table.setName(&quot;name&quot;);\n\n        JPanel background = new JPanel( new BorderLayout() )\n        {\n            @Override\n            protected void paintComponent(Graphics g)\n            {\n                super.paintComponent(g);\n\n                g.drawImage(icon.getImage(), 0, 0, 512, 512, this);\n            }\n        };\n        background.setSize(512,512);\n        frame.add(background);\n        background.add(table);\n\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","scala","apache-spark"],"comments":[{"owner":{"account_id":1476224,"reputation":31485,"user_id":1386551,"accept_rate":74,"display_name":"blackbishop"},"score":2,"creation_date":1642153159,"post_id":70708430,"comment_id":125000310,"body_markdown":"You&#39;re using a non-partitioned window. You need to partition by department: `Window.partitionBy(&quot;lib_dep&quot;).orderBy(&quot;date&quot;)`","body":"You&#39;re using a non-partitioned window. You need to partition by department: <code>Window.partitionBy(&quot;lib_dep&quot;).orderBy(&quot;date&quot;)</code>"},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1642154981,"post_id":70708430,"comment_id":125000948,"body_markdown":"Oups!!! It&#39;s ok. Sorry !\nPut this as an answer if you want, so that I can accept it, for the 10 points you deserve.","body":"Oups!!! It&#39;s ok. Sorry ! Put this as an answer if you want, so that I can accept it, for the 10 points you deserve."}],"answers":[{"tags":[],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645648705,"creation_date":1645648705,"answer_id":71243760,"question_id":70708430,"body_markdown":"@blackbishop in comments found that\r\n\r\nI was using a non-partitioned window. \r\nI needed to partition by department: `Window.partitionBy(&quot;lib_dep&quot;).orderBy(&quot;date&quot;)`","title":"A lag function honors how data are sorted, but crosses a group, and this I do not want: I must be mistunderstanding how window and lag functions work","body":"<p>@blackbishop in comments found that</p>\n<p>I was using a non-partitioned window.\nI needed to partition by department: <code>Window.partitionBy(&quot;lib_dep&quot;).orderBy(&quot;date&quot;)</code></p>\n"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71243760,"answer_count":1,"score":1,"last_activity_date":1645648705,"creation_date":1642152325,"question_id":70708430,"body_markdown":"I&#39;m doing a covid data extraction and I would like to compare for each French department (`dep` and `lib_dep`: code and name), the rate of people who are hospitalized a day (`hosp`) on the number cases known 5 days before.\r\n\r\nFor that, I&#39;m running this script, from a dataset ready in a  variable named `synthese`:\r\n\r\n```scala\r\nimport org.apache.spark.sql.expressions.Window\r\nimport org.apache.spark.sql.expressions.WindowSpec\r\n\r\nval w:WindowSpec = Window.orderBy(&quot;dep&quot;, &quot;date&quot;);\r\nvar cas_relatif_hospitalisation = lag(&quot;cas&quot;, 5).over(w);\r\n\r\nsynthese = synthese.withColumn(&quot;cas_relatif_hospitalisation&quot;,\r\n    cas_relatif_hospitalisation)\r\n\r\nsynthese.select(&quot;date&quot;, &quot;lib_dep&quot;, &quot;populationDepartementale&quot;, &quot;tx_incid&quot;, &quot;cas&quot;, \r\n   &quot;cas_relatif_hospitalisation&quot;, &quot;hosp&quot;, &quot;rea&quot;).show(1000, true)\r\n```\r\n\r\nHere is a part of the results I&#39;m receiving:\r\n\r\n|      date|lib_dep|populationDepartementale|        tx_incid|    cas|cas_relatif_hospitalisation|hosp|rea|\r\n|----------|-------|------------------------|----------------|-------|---------------------------|----|---|\r\n|2022-01-02|    Ain|                  647634|1578.03806957859|10220.0|                     6809.0| 106| 15|\r\n|2022-01-03|    Ain|                  647634|1879.58079320501|12173.0|                     7852.0| 109| 15|\r\n|2022-01-04|    Ain|                  647634|2104.10149858057|13627.0|                     8977.0|  97| 10|\r\n|2022-01-05|    Ain|                  647634|2241.24940064388|14515.0|                     9864.0| 112| 10|\r\n|2022-01-06|    Ain|                  647634|2332.12320478572|15104.0|                     9935.0| 118| 11|\r\n|2022-01-07|    Ain|                  647634|2473.83762967022|16021.0|                    10220.0| 116| 11|\r\n|2022-01-08|    Ain|                  647634|2696.83616077205|__17466.0__|                    12173.0| 112| 13|\r\n|2022-01-09|    Ain|                  647634|2743.11025869352|17765.0|                    13627.0| 112| 13|\r\n|2022-01-10|    __Ain__|                  647634|2800.34401138586|__18136.0__|                    14515.0| 122| 13|\r\n|2022-01-11|    Ain|                  647634|            null|   null|                    15104.0| 139| 13|\r\n|2022-01-12|    Ain|                  647634|            null|   null|                    16021.0| 147| 13|\r\n|2022-01-13|    Ain|                  647634|            null|   null|                    __17466.0__| 143| 11|\r\n|2020-03-18|  Aisne|                  533316|            null|   null|                    17765.0|  41| 10|\r\n|2020-03-19|  __Aisne (!!!)__|                  533316|            null|   null|                    __18136.0 (!!!)__|  43| 15|\r\n|2020-03-20|  Aisne|                  533316|            null|   null|                       null|  52| 19|\r\n|2020-03-21|  Aisne|                  533316|            null|   null|                       null|  61| 20|\r\n|2020-03-22|  Aisne|                  533316|            null|   null|                       null|  69| 21|\r\n\r\nWhen I see the `cas_relatif_hospitalisation` (D-5 value of `cas`) of 2022-01-13 (YMD) for the _Ain_ department, it has the value I&#39;m willing: the content of `cas` column for 2022-01-08.\r\n\r\nBut when I see the `cas_relatif_hospitalisation` value that comes soon after, as the department has now changed and became _Aisne_, I notice that the D-5 value for (_Aisne_, 2020-03-19) is the one of (_Ain_, 2022-01-10). And it&#39;s not what I was expecting...\r\n\r\nYes, spark goes five record back. Following the good order.  \r\nBut for me, the department was a bound, a frontier that `lag` function shouldn&#39;t have crossed, and I was expecting a null value. But it did.\r\n\r\nWhat am I doing wrong, or misunderstanding about `lag` and `window` functions usage?","title":"A lag function honors how data are sorted, but crosses a group, and this I do not want: I must be mistunderstanding how window and lag functions work","body":"<p>I'm doing a covid data extraction and I would like to compare for each French department (<code>dep</code> and <code>lib_dep</code>: code and name), the rate of people who are hospitalized a day (<code>hosp</code>) on the number cases known 5 days before.</p>\n<p>For that, I'm running this script, from a dataset ready in a  variable named <code>synthese</code>:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import org.apache.spark.sql.expressions.Window\nimport org.apache.spark.sql.expressions.WindowSpec\n\nval w:WindowSpec = Window.orderBy(&quot;dep&quot;, &quot;date&quot;);\nvar cas_relatif_hospitalisation = lag(&quot;cas&quot;, 5).over(w);\n\nsynthese = synthese.withColumn(&quot;cas_relatif_hospitalisation&quot;,\n    cas_relatif_hospitalisation)\n\nsynthese.select(&quot;date&quot;, &quot;lib_dep&quot;, &quot;populationDepartementale&quot;, &quot;tx_incid&quot;, &quot;cas&quot;, \n   &quot;cas_relatif_hospitalisation&quot;, &quot;hosp&quot;, &quot;rea&quot;).show(1000, true)\n</code></pre>\n<p>Here is a part of the results I'm receiving:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>date</th>\n<th>lib_dep</th>\n<th>populationDepartementale</th>\n<th>tx_incid</th>\n<th>cas</th>\n<th>cas_relatif_hospitalisation</th>\n<th>hosp</th>\n<th>rea</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2022-01-02</td>\n<td>Ain</td>\n<td>647634</td>\n<td>1578.03806957859</td>\n<td>10220.0</td>\n<td>6809.0</td>\n<td>106</td>\n<td>15</td>\n</tr>\n<tr>\n<td>2022-01-03</td>\n<td>Ain</td>\n<td>647634</td>\n<td>1879.58079320501</td>\n<td>12173.0</td>\n<td>7852.0</td>\n<td>109</td>\n<td>15</td>\n</tr>\n<tr>\n<td>2022-01-04</td>\n<td>Ain</td>\n<td>647634</td>\n<td>2104.10149858057</td>\n<td>13627.0</td>\n<td>8977.0</td>\n<td>97</td>\n<td>10</td>\n</tr>\n<tr>\n<td>2022-01-05</td>\n<td>Ain</td>\n<td>647634</td>\n<td>2241.24940064388</td>\n<td>14515.0</td>\n<td>9864.0</td>\n<td>112</td>\n<td>10</td>\n</tr>\n<tr>\n<td>2022-01-06</td>\n<td>Ain</td>\n<td>647634</td>\n<td>2332.12320478572</td>\n<td>15104.0</td>\n<td>9935.0</td>\n<td>118</td>\n<td>11</td>\n</tr>\n<tr>\n<td>2022-01-07</td>\n<td>Ain</td>\n<td>647634</td>\n<td>2473.83762967022</td>\n<td>16021.0</td>\n<td>10220.0</td>\n<td>116</td>\n<td>11</td>\n</tr>\n<tr>\n<td>2022-01-08</td>\n<td>Ain</td>\n<td>647634</td>\n<td>2696.83616077205</td>\n<td><strong>17466.0</strong></td>\n<td>12173.0</td>\n<td>112</td>\n<td>13</td>\n</tr>\n<tr>\n<td>2022-01-09</td>\n<td>Ain</td>\n<td>647634</td>\n<td>2743.11025869352</td>\n<td>17765.0</td>\n<td>13627.0</td>\n<td>112</td>\n<td>13</td>\n</tr>\n<tr>\n<td>2022-01-10</td>\n<td><strong>Ain</strong></td>\n<td>647634</td>\n<td>2800.34401138586</td>\n<td><strong>18136.0</strong></td>\n<td>14515.0</td>\n<td>122</td>\n<td>13</td>\n</tr>\n<tr>\n<td>2022-01-11</td>\n<td>Ain</td>\n<td>647634</td>\n<td>null</td>\n<td>null</td>\n<td>15104.0</td>\n<td>139</td>\n<td>13</td>\n</tr>\n<tr>\n<td>2022-01-12</td>\n<td>Ain</td>\n<td>647634</td>\n<td>null</td>\n<td>null</td>\n<td>16021.0</td>\n<td>147</td>\n<td>13</td>\n</tr>\n<tr>\n<td>2022-01-13</td>\n<td>Ain</td>\n<td>647634</td>\n<td>null</td>\n<td>null</td>\n<td><strong>17466.0</strong></td>\n<td>143</td>\n<td>11</td>\n</tr>\n<tr>\n<td>2020-03-18</td>\n<td>Aisne</td>\n<td>533316</td>\n<td>null</td>\n<td>null</td>\n<td>17765.0</td>\n<td>41</td>\n<td>10</td>\n</tr>\n<tr>\n<td>2020-03-19</td>\n<td><strong>Aisne (!!!)</strong></td>\n<td>533316</td>\n<td>null</td>\n<td>null</td>\n<td><strong>18136.0 (!!!)</strong></td>\n<td>43</td>\n<td>15</td>\n</tr>\n<tr>\n<td>2020-03-20</td>\n<td>Aisne</td>\n<td>533316</td>\n<td>null</td>\n<td>null</td>\n<td>null</td>\n<td>52</td>\n<td>19</td>\n</tr>\n<tr>\n<td>2020-03-21</td>\n<td>Aisne</td>\n<td>533316</td>\n<td>null</td>\n<td>null</td>\n<td>null</td>\n<td>61</td>\n<td>20</td>\n</tr>\n<tr>\n<td>2020-03-22</td>\n<td>Aisne</td>\n<td>533316</td>\n<td>null</td>\n<td>null</td>\n<td>null</td>\n<td>69</td>\n<td>21</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>When I see the <code>cas_relatif_hospitalisation</code> (D-5 value of <code>cas</code>) of 2022-01-13 (YMD) for the <em>Ain</em> department, it has the value I'm willing: the content of <code>cas</code> column for 2022-01-08.</p>\n<p>But when I see the <code>cas_relatif_hospitalisation</code> value that comes soon after, as the department has now changed and became <em>Aisne</em>, I notice that the D-5 value for (<em>Aisne</em>, 2020-03-19) is the one of (<em>Ain</em>, 2022-01-10). And it's not what I was expecting...</p>\n<p>Yes, spark goes five record back. Following the good order.<br />\nBut for me, the department was a bound, a frontier that <code>lag</code> function shouldn't have crossed, and I was expecting a null value. But it did.</p>\n<p>What am I doing wrong, or misunderstanding about <code>lag</code> and <code>window</code> functions usage?</p>\n"},{"tags":["java","spring","cassandra","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":275520,"reputation":416,"user_id":568441,"display_name":"Dr. Benedict Porkins"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1645648634,"creation_date":1645648634,"answer_id":71243748,"question_id":70365880,"body_markdown":"I had the same issue with a Spring Boot and Cassandra running in a Docker container.\r\n\r\nmake sure your `local-datacenter` value in the Spring Boot application.yml matches the value of the running Cassandra.\r\n\r\nTo find it, drop into the container and look for `cassandra-rackdc.properties` file. Mine was in `/opt//dse/resources/cassandra/conf/`.\r\n\r\n\r\n    # These properties are used with GossipingPropertyFileSnitch and will\r\n    # indicate the rack and dc for this node\r\n    dc=dc1\r\n    rack=rack1","title":"Spring cassandra No node was available to execute the query","body":"<p>I had the same issue with a Spring Boot and Cassandra running in a Docker container.</p>\n<p>make sure your <code>local-datacenter</code> value in the Spring Boot application.yml matches the value of the running Cassandra.</p>\n<p>To find it, drop into the container and look for <code>cassandra-rackdc.properties</code> file. Mine was in <code>/opt//dse/resources/cassandra/conf/</code>.</p>\n<pre><code># These properties are used with GossipingPropertyFileSnitch and will\n# indicate the rack and dc for this node\ndc=dc1\nrack=rack1\n</code></pre>\n"}],"owner":{"account_id":15521882,"reputation":372,"user_id":11564329,"display_name":"Alexey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3554,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1645648634,"creation_date":1639580492,"question_id":70365880,"body_markdown":"I&#39;m writing integration tests for my Cassandra database, I use testcontainers 1.16.2 with Spring boot 2.6.1 and there&#39;s strange behaviour: the result of tests depends on which order they are being executed.\r\n\r\nThis is my application.yml:\r\n```\r\nspring:\r\n  data:\r\n    cassandra:\r\n      keyspace-name: test_keyspace\r\n      contact-points: localhost\r\n      schema-action: create_if_not_exists\r\n      port: 9042\r\n      local-datacenter: datacenter1\r\n  jpa:\r\n    database-platform: org.apache.cassandra.cql.jdbc.CassandraDriver\r\n```\r\nCassandra config\r\n```\r\n@Configuration\r\n@EnableCassandraRepositories(basePackages = { BASE_PACKAGE })\r\npublic class CassandraConfig {\r\n\r\n    @Value(&quot;${spring.data.cassandra.contact-points}&quot;)\r\n    private String contactPoints;\r\n    @Value(&quot;${spring.data.cassandra.keyspace-name}&quot;)\r\n    private String keyspaceName;\r\n    @Value(&quot;${spring.data.cassandra.local-datacenter}&quot;)\r\n    private String datacenterName;\r\n    @Value(&quot;${spring.data.cassandra.port}&quot;)\r\n    private int port;\r\n\r\n    @Bean\r\n    public CqlSessionFactoryBean session() {\r\n        CqlSessionFactoryBean session = new CqlSessionFactoryBean();\r\n        session.setContactPoints(contactPoints);\r\n        session.setKeyspaceName(keyspaceName);\r\n        session.setLocalDatacenter(datacenterName);\r\n        session.setPort(port);\r\n        return session;\r\n    }\r\n\r\n    @Bean\r\n    public SessionFactoryFactoryBean sessionFactory(CqlSession session, CassandraConverter converter) {\r\n        SessionFactoryFactoryBean sessionFactory = new SessionFactoryFactoryBean();\r\n        sessionFactory.setSession(session);\r\n        sessionFactory.setConverter(converter);\r\n        sessionFactory.setSchemaAction(SchemaAction.NONE);\r\n\r\n        return sessionFactory;\r\n    }\r\n\r\n    @Bean\r\n    public CassandraMappingContext mappingContext(CqlSession cqlSession) {\r\n        CassandraMappingContext mappingContext = new CassandraMappingContext();\r\n        mappingContext.setUserTypeResolver(new SimpleUserTypeResolver(cqlSession));\r\n        return mappingContext;\r\n    }\r\n\r\n    @Bean\r\n    public CassandraConverter converter(CassandraMappingContext mappingContext) {\r\n        return new MappingCassandraConverter(mappingContext);\r\n    }\r\n\r\n    @Bean\r\n    public CassandraOperations cassandraTemplate(SessionFactory sessionFactory, CassandraConverter converter) {\r\n        return new CassandraTemplate(sessionFactory, converter);\r\n    }\r\n}\r\n```\r\nService\r\n```\r\n@Service\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class PersonService {\r\n\r\n    private final PersonRepository repository;\r\n\r\n    @Transactional\r\n    @SneakyThrows\r\n    public UUID createPerson(Person person) {\r\n        UUID id = UUID.randomUUID();\r\n        Person entity = new Person();\r\n        entity.setId(id);\r\n        entity.setName(person.getName());\r\n        Person saved = repository.save(entity);\r\n        return saved.getId();\r\n    }\r\n}\r\n```\r\n\r\nAnd this is my integration test\r\n\r\n```\r\n\r\n@Testcontainers\r\n@SpringBootTest\r\n@ContextConfiguration(initializers = {IntegrationTest.PropertiesInitializer.class})\r\n@Slf4j\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class IntegrationTest {\r\n\r\n    private static final String KEYSPACE_NAME = &quot;test_keyspace&quot;;\r\n\r\n    @Container\r\n    public static CassandraContainer&lt;?&gt; CASSANDRA = new CassandraContainer&lt;&gt;(&quot;cassandra:4.0.1&quot;)\r\n            .withExposedPorts(9042)\r\n            .withLogConsumer(new Slf4jLogConsumer(log))\r\n            .withReuse(true);\r\n\r\n    private static void executeStartQueries(Cluster cluster) {\r\n        try (Session session = cluster.connect()) {\r\n            session.execute(&quot;&quot;&quot;\r\n                    CREATE KEYSPACE IF NOT EXISTS %s WITH replication =\r\n                     {&#39;class&#39;:&#39;SimpleStrategy&#39;,&#39;replication_factor&#39;:&#39;1&#39;};\r\n                     &quot;&quot;&quot;.formatted(KEYSPACE_NAME));\r\n            session.execute(&quot;&quot;&quot;\r\n                    CREATE TABLE IF NOT EXISTS  %s.Person (id uuid PRIMARY KEY, name text);\r\n                    &quot;&quot;&quot;.formatted(KEYSPACE_NAME));\r\n        }\r\n    }\r\n\r\n    public static class PropertiesInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n\r\n        @Override\r\n        public void initialize(ConfigurableApplicationContext applicationContext) {\r\n            TestPropertyValues.of(\r\n                    &quot;spring.data.cassandra.port=&quot; + CASSANDRA.getMappedPort(9042)\r\n            ).applyTo(applicationContext.getEnvironment());\r\n            executeStartQueries(CASSANDRA.getCluster());\r\n        }\r\n    }\r\n\r\n    @Test\r\n    void createPerson_Success() {\r\n        UUID personId = service.createPerson(new Person().setName(&quot;name&quot;));\r\n        assertNotNull(personId);\r\n    }\r\n}\r\n```\r\nI also have other test classes. And if they run first, I have such exception and tests fail:\r\n```\r\nQuery; CQL [INSERT INTO person (name,id) VALUES (?,?)]; No node was available to execute the query; nested exception is com.datastax.oss.driver.api.core.NoNodeAvailableException: No node was available to execute the query\r\norg.springframework.data.cassandra.CassandraConnectionFailureException: Query; CQL [INSERT INTO person (name,id) VALUES (?,?)]; No node was available to execute the query; nested exception is com.datastax.oss.driver.api.core.NoNodeAvailableException: No node was available to execute the query\r\n\tat app//org.springframework.data.cassandra.core.cql.CassandraExceptionTranslator.translate(CassandraExceptionTranslator.java:137)\r\n\tat app//org.springframework.data.cassandra.core.cql.CassandraAccessor.translate(CassandraAccessor.java:422)\r\n\tat app//org.springframework.data.cassandra.core.cql.CqlTemplate.translateException(CqlTemplate.java:764)\r\n\tat app//org.springframework.data.cassandra.core.cql.CqlTemplate.query(CqlTemplate.java:545)\r\n\tat app//org.springframework.data.cassandra.core.CassandraTemplate.doExecute(CassandraTemplate.java:959)\r\n\tat app//org.springframework.data.cassandra.core.CassandraTemplate.doExecute(CassandraTemplate.java:947)\r\n\tat app//org.springframework.data.cassandra.core.CassandraTemplate.executeSave(CassandraTemplate.java:898)\r\n\tat app//org.springframework.data.cassandra.core.CassandraTemplate.executeSave(CassandraTemplate.java:889)\r\n\tat app//org.springframework.data.cassandra.core.CassandraTemplate.doInsert(CassandraTemplate.java:700)\r\n\tat app//org.springframework.data.cassandra.core.CassandraTemplate.doInsert(CassandraTemplate.java:683)\r\n\tat app//org.springframework.data.cassandra.core.CassandraTemplate.insert(CassandraTemplate.java:664)\r\n\tat app//org.springframework.data.cassandra.repository.support.SimpleCassandraRepository.save(SimpleCassandraRepository.java:96)\r\n\tat java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.1/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:638)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)\r\n\tat app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat app//org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat app//org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat app//org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat app/jdk.proxy3/jdk.proxy3.$Proxy144.save(Unknown Source)\r\n\tat app//com.pepsico.shelfIntelligence.service.impl.ModelMetadataServiceImpl.createModelMetadata(ModelMetadataServiceImpl.java:46)\r\n\tat app//com.pepsico.shelfIntelligence.service.ModelMetadataServiceImplTest.getModelMetadata_Success(ModelMetadataServiceImplTest.java:197)\r\n\tat java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.1/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat app//org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat app//org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat app//org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat app//org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.1/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.1/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\tat java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.1/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: com.datastax.oss.driver.api.core.NoNodeAvailableException: No node was available to execute the query\r\n\tat app//com.datastax.oss.driver.api.core.NoNodeAvailableException.copy(NoNodeAvailableException.java:40)\r\n\tat app//com.datastax.oss.driver.internal.core.util.concurrent.CompletableFutures.getUninterruptibly(CompletableFutures.java:149)\r\n\tat app//com.datastax.oss.driver.internal.core.cql.CqlPrepareSyncProcessor.process(CqlPrepareSyncProcessor.java:59)\r\n\tat app//com.datastax.oss.driver.internal.core.cql.CqlPrepareSyncProcessor.process(CqlPrepareSyncProcessor.java:31)\r\n\tat app//com.datastax.oss.driver.internal.core.session.DefaultSession.execute(DefaultSession.java:230)\r\n\tat app//com.datastax.oss.driver.api.core.cql.SyncCqlSession.prepare(SyncCqlSession.java:206)\r\n\tat app//org.springframework.data.cassandra.core.CassandraTemplate$PreparedStatementHandler.createPreparedStatement(CassandraTemplate.java:1082)\r\n\tat app//org.springframework.data.cassandra.core.cql.CqlTemplate.query(CqlTemplate.java:531)\r\n\t... 113 more\r\n\r\n\r\n```\r\nI have tried to debug my application, and I see that while executing this test, docker container with database is created, it has my keyspace and my table, I can execute queries. Also I tried to check my bean &quot;CqlSessionFactoryBean&quot; and it&#39;s connected to the right host/port/keyspace. So, I have no ideas why it is happening. If Spring executes this test class first, all tests are passed. But if another class first, this one fails Any ideas?","title":"Spring cassandra No node was available to execute the query","body":"<p>I'm writing integration tests for my Cassandra database, I use testcontainers 1.16.2 with Spring boot 2.6.1 and there's strange behaviour: the result of tests depends on which order they are being executed.</p>\n<p>This is my application.yml:</p>\n<pre><code>spring:\n  data:\n    cassandra:\n      keyspace-name: test_keyspace\n      contact-points: localhost\n      schema-action: create_if_not_exists\n      port: 9042\n      local-datacenter: datacenter1\n  jpa:\n    database-platform: org.apache.cassandra.cql.jdbc.CassandraDriver\n</code></pre>\n<p>Cassandra config</p>\n<pre><code>@Configuration\n@EnableCassandraRepositories(basePackages = { BASE_PACKAGE })\npublic class CassandraConfig {\n\n    @Value(&quot;${spring.data.cassandra.contact-points}&quot;)\n    private String contactPoints;\n    @Value(&quot;${spring.data.cassandra.keyspace-name}&quot;)\n    private String keyspaceName;\n    @Value(&quot;${spring.data.cassandra.local-datacenter}&quot;)\n    private String datacenterName;\n    @Value(&quot;${spring.data.cassandra.port}&quot;)\n    private int port;\n\n    @Bean\n    public CqlSessionFactoryBean session() {\n        CqlSessionFactoryBean session = new CqlSessionFactoryBean();\n        session.setContactPoints(contactPoints);\n        session.setKeyspaceName(keyspaceName);\n        session.setLocalDatacenter(datacenterName);\n        session.setPort(port);\n        return session;\n    }\n\n    @Bean\n    public SessionFactoryFactoryBean sessionFactory(CqlSession session, CassandraConverter converter) {\n        SessionFactoryFactoryBean sessionFactory = new SessionFactoryFactoryBean();\n        sessionFactory.setSession(session);\n        sessionFactory.setConverter(converter);\n        sessionFactory.setSchemaAction(SchemaAction.NONE);\n\n        return sessionFactory;\n    }\n\n    @Bean\n    public CassandraMappingContext mappingContext(CqlSession cqlSession) {\n        CassandraMappingContext mappingContext = new CassandraMappingContext();\n        mappingContext.setUserTypeResolver(new SimpleUserTypeResolver(cqlSession));\n        return mappingContext;\n    }\n\n    @Bean\n    public CassandraConverter converter(CassandraMappingContext mappingContext) {\n        return new MappingCassandraConverter(mappingContext);\n    }\n\n    @Bean\n    public CassandraOperations cassandraTemplate(SessionFactory sessionFactory, CassandraConverter converter) {\n        return new CassandraTemplate(sessionFactory, converter);\n    }\n}\n</code></pre>\n<p>Service</p>\n<pre><code>@Service\n@Slf4j\n@RequiredArgsConstructor\npublic class PersonService {\n\n    private final PersonRepository repository;\n\n    @Transactional\n    @SneakyThrows\n    public UUID createPerson(Person person) {\n        UUID id = UUID.randomUUID();\n        Person entity = new Person();\n        entity.setId(id);\n        entity.setName(person.getName());\n        Person saved = repository.save(entity);\n        return saved.getId();\n    }\n}\n</code></pre>\n<p>And this is my integration test</p>\n<pre><code>\n@Testcontainers\n@SpringBootTest\n@ContextConfiguration(initializers = {IntegrationTest.PropertiesInitializer.class})\n@Slf4j\n@ActiveProfiles(&quot;test&quot;)\npublic class IntegrationTest {\n\n    private static final String KEYSPACE_NAME = &quot;test_keyspace&quot;;\n\n    @Container\n    public static CassandraContainer&lt;?&gt; CASSANDRA = new CassandraContainer&lt;&gt;(&quot;cassandra:4.0.1&quot;)\n            .withExposedPorts(9042)\n            .withLogConsumer(new Slf4jLogConsumer(log))\n            .withReuse(true);\n\n    private static void executeStartQueries(Cluster cluster) {\n        try (Session session = cluster.connect()) {\n            session.execute(&quot;&quot;&quot;\n                    CREATE KEYSPACE IF NOT EXISTS %s WITH replication =\n                     {'class':'SimpleStrategy','replication_factor':'1'};\n                     &quot;&quot;&quot;.formatted(KEYSPACE_NAME));\n            session.execute(&quot;&quot;&quot;\n                    CREATE TABLE IF NOT EXISTS  %s.Person (id uuid PRIMARY KEY, name text);\n                    &quot;&quot;&quot;.formatted(KEYSPACE_NAME));\n        }\n    }\n\n    public static class PropertiesInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n\n        @Override\n        public void initialize(ConfigurableApplicationContext applicationContext) {\n            TestPropertyValues.of(\n                    &quot;spring.data.cassandra.port=&quot; + CASSANDRA.getMappedPort(9042)\n            ).applyTo(applicationContext.getEnvironment());\n            executeStartQueries(CASSANDRA.getCluster());\n        }\n    }\n\n    @Test\n    void createPerson_Success() {\n        UUID personId = service.createPerson(new Person().setName(&quot;name&quot;));\n        assertNotNull(personId);\n    }\n}\n</code></pre>\n<p>I also have other test classes. And if they run first, I have such exception and tests fail:</p>\n<pre><code>Query; CQL [INSERT INTO person (name,id) VALUES (?,?)]; No node was available to execute the query; nested exception is com.datastax.oss.driver.api.core.NoNodeAvailableException: No node was available to execute the query\norg.springframework.data.cassandra.CassandraConnectionFailureException: Query; CQL [INSERT INTO person (name,id) VALUES (?,?)]; No node was available to execute the query; nested exception is com.datastax.oss.driver.api.core.NoNodeAvailableException: No node was available to execute the query\n    at app//org.springframework.data.cassandra.core.cql.CassandraExceptionTranslator.translate(CassandraExceptionTranslator.java:137)\n    at app//org.springframework.data.cassandra.core.cql.CassandraAccessor.translate(CassandraAccessor.java:422)\n    at app//org.springframework.data.cassandra.core.cql.CqlTemplate.translateException(CqlTemplate.java:764)\n    at app//org.springframework.data.cassandra.core.cql.CqlTemplate.query(CqlTemplate.java:545)\n    at app//org.springframework.data.cassandra.core.CassandraTemplate.doExecute(CassandraTemplate.java:959)\n    at app//org.springframework.data.cassandra.core.CassandraTemplate.doExecute(CassandraTemplate.java:947)\n    at app//org.springframework.data.cassandra.core.CassandraTemplate.executeSave(CassandraTemplate.java:898)\n    at app//org.springframework.data.cassandra.core.CassandraTemplate.executeSave(CassandraTemplate.java:889)\n    at app//org.springframework.data.cassandra.core.CassandraTemplate.doInsert(CassandraTemplate.java:700)\n    at app//org.springframework.data.cassandra.core.CassandraTemplate.doInsert(CassandraTemplate.java:683)\n    at app//org.springframework.data.cassandra.core.CassandraTemplate.insert(CassandraTemplate.java:664)\n    at app//org.springframework.data.cassandra.repository.support.SimpleCassandraRepository.save(SimpleCassandraRepository.java:96)\n    at java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.1/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\n    at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n    at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n    at app//org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)\n    at app//org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\n    at app//org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:638)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)\n    at app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at app//org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at app//org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at app//org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at app/jdk.proxy3/jdk.proxy3.$Proxy144.save(Unknown Source)\n    at app//com.pepsico.shelfIntelligence.service.impl.ModelMetadataServiceImpl.createModelMetadata(ModelMetadataServiceImpl.java:46)\n    at app//com.pepsico.shelfIntelligence.service.ModelMetadataServiceImplTest.getModelMetadata_Success(ModelMetadataServiceImplTest.java:197)\n    at java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.1/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.1/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.1/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.1/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: com.datastax.oss.driver.api.core.NoNodeAvailableException: No node was available to execute the query\n    at app//com.datastax.oss.driver.api.core.NoNodeAvailableException.copy(NoNodeAvailableException.java:40)\n    at app//com.datastax.oss.driver.internal.core.util.concurrent.CompletableFutures.getUninterruptibly(CompletableFutures.java:149)\n    at app//com.datastax.oss.driver.internal.core.cql.CqlPrepareSyncProcessor.process(CqlPrepareSyncProcessor.java:59)\n    at app//com.datastax.oss.driver.internal.core.cql.CqlPrepareSyncProcessor.process(CqlPrepareSyncProcessor.java:31)\n    at app//com.datastax.oss.driver.internal.core.session.DefaultSession.execute(DefaultSession.java:230)\n    at app//com.datastax.oss.driver.api.core.cql.SyncCqlSession.prepare(SyncCqlSession.java:206)\n    at app//org.springframework.data.cassandra.core.CassandraTemplate$PreparedStatementHandler.createPreparedStatement(CassandraTemplate.java:1082)\n    at app//org.springframework.data.cassandra.core.cql.CqlTemplate.query(CqlTemplate.java:531)\n    ... 113 more\n\n\n</code></pre>\n<p>I have tried to debug my application, and I see that while executing this test, docker container with database is created, it has my keyspace and my table, I can execute queries. Also I tried to check my bean &quot;CqlSessionFactoryBean&quot; and it's connected to the right host/port/keyspace. So, I have no ideas why it is happening. If Spring executes this test class first, all tests are passed. But if another class first, this one fails Any ideas?</p>\n"},{"tags":["java","android","admob"],"answers":[{"tags":[],"owner":{"account_id":1281375,"reputation":32668,"user_id":1957401,"accept_rate":72,"display_name":"Viral Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459318297,"creation_date":1459318297,"answer_id":36301001,"question_id":36300930,"body_markdown":"&gt; in single apk, can I use two different admob ad_id ?\r\n\r\nYes, you can use as many ad unit ids as you want in an app. Also from different accounts. \r\n\r\nBut, you should refrain from using separate accounts unless you have a valid justification. Google normally does not allow multiple accounts for a single developer.","title":"in single apk, can I use two different admob ad_id?","body":"<blockquote>\n  <p>in single apk, can I use two different admob ad_id ?</p>\n</blockquote>\n\n<p>Yes, you can use as many ad unit ids as you want in an app. Also from different accounts. </p>\n\n<p>But, you should refrain from using separate accounts unless you have a valid justification. Google normally does not allow multiple accounts for a single developer.</p>\n"},{"tags":[],"owner":{"account_id":8049723,"reputation":68,"user_id":6068712,"display_name":"byDavid360"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459331403,"creation_date":1459331403,"answer_id":36305223,"question_id":36300930,"body_markdown":"You can use 2 of course, but I recommend you to use one Ad ID(if you only want to use banners, if you want to use banners and interstitial, then use 2 Ad ID.\r\nThats because if you upload a lot of Apps, and every app has only one Ad ID, you will be able to study your apps and know which one of them is performing the best with eCPM\r\nThats my suggestion as a Android Developer.","title":"in single apk, can I use two different admob ad_id?","body":"<p>You can use 2 of course, but I recommend you to use one Ad ID(if you only want to use banners, if you want to use banners and interstitial, then use 2 Ad ID.\nThats because if you upload a lot of Apps, and every app has only one Ad ID, you will be able to study your apps and know which one of them is performing the best with eCPM\nThats my suggestion as a Android Developer.</p>\n"},{"tags":[],"owner":{"account_id":24358240,"reputation":1,"user_id":18293022,"display_name":"Fidelis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645648434,"creation_date":1645648434,"answer_id":71243709,"question_id":36300930,"body_markdown":"How will you remove one of the admob account when you find out that your app is running on two different account.","title":"in single apk, can I use two different admob ad_id?","body":"<p>How will you remove one of the admob account when you find out that your app is running on two different account.</p>\n"}],"owner":{"account_id":5150850,"reputation":54,"user_id":4125501,"display_name":"umesh_sarkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2320,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1645648434,"creation_date":1459317987,"question_id":36300930,"body_markdown":"in single apk, can I use two different `admob` ad_id ?\r\n\r\nI mean, I have an app, in that app banner ad and interstellar ad is there so could I put ad banner with ad unitid of `admob` account A  and Interstellar ad `unitid` of `admob` account b in single apk?","title":"in single apk, can I use two different admob ad_id?","body":"<p>in single apk, can I use two different <code>admob</code> ad_id ?</p>\n\n<p>I mean, I have an app, in that app banner ad and interstellar ad is there so could I put ad banner with ad unitid of <code>admob</code> account A  and Interstellar ad <code>unitid</code> of <code>admob</code> account b in single apk?</p>\n"},{"tags":["java","android","retrofit2"],"comments":[{"owner":{"account_id":7787481,"reputation":9066,"user_id":5891747,"display_name":"Android Geek"},"score":0,"creation_date":1645676167,"post_id":71243278,"comment_id":125937369,"body_markdown":"Remove `/` from `@GET(&quot;/curated&quot;)` just write `@GET(&quot;curated&quot;)`","body":"Remove <code>&#47;</code> from <code>@GET(&quot;&#47;curated&quot;)</code> just write <code>@GET(&quot;curated&quot;)</code>"},{"owner":{"account_id":19934790,"reputation":1,"user_id":14607727,"display_name":"cxk5137"},"score":0,"creation_date":1645703392,"post_id":71243278,"comment_id":125944986,"body_markdown":"If i do that the url becomes this:  https://api.pexels.com/curated/?page=1&amp;per_page=14","body":"If i do that the url becomes this:  <a href=\"https://api.pexels.com/curated/?page=1&amp;per_page=14\" rel=\"nofollow noreferrer\">api.pexels.com/curated/?page=1&amp;per_page=14</a>"},{"owner":{"account_id":19934790,"reputation":1,"user_id":14607727,"display_name":"cxk5137"},"score":0,"creation_date":1645741229,"post_id":71243278,"comment_id":125958705,"body_markdown":"So basically when I write `@GET(&quot;curated&quot;)` I get `/`to the end for some reason. If I put the `/` to the beginning of curated then `v1` gets deleted.","body":"So basically when I write <code>@GET(&quot;curated&quot;)</code> I get <code>&#47;</code>to the end for some reason. If I put the <code>&#47;</code> to the beginning of curated then <code>v1</code> gets deleted."}],"owner":{"account_id":19934790,"reputation":1,"user_id":14607727,"display_name":"cxk5137"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645647929,"creation_date":1645646208,"question_id":71243278,"body_markdown":"I am trying to integrate my application with Pexels API by using Retrofit and GSON but without success. I keep getting 404 error and therefore I am getting a null pointer exception on the console. \r\n\r\nThis is the working api:\r\nhttps://api.pexels.com/v1/curated?page=1&amp;per_page=14\r\n\r\n```\r\npublic class ApiClient {\r\n\r\n    public static final String API_KEY = &quot;xxxxxxxxxx&quot;;\r\n    public static final String BASE_URL = &quot;https://api.pexels.com/v1/&quot;;\r\n    public static Retrofit retrofit = null;\r\n\r\n\r\n    public static Retrofit getClient(){\r\n        if(retrofit == null) {\r\n            retrofit = new Retrofit.Builder()\r\n                    .baseUrl(BASE_URL)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .build();\r\n        }\r\n        return retrofit;\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\npublic interface ApiInterface {\r\n\r\n    @Headers({&quot;Authorization: &quot; + ApiClient.API_KEY})\r\n    @GET(&quot;/curated&quot;)\r\n    Call&lt;ExplorePageModelResponse&gt;getExplorePagePhotos(\r\n            @Query(&quot;page&quot;) int page,\r\n            @Query(&quot;per_page&quot;) int per_page\r\n    );\r\n\r\n\r\n}\r\n```\r\nThis is the service class that communicates with the pexels api. The response body is empty...\r\n\r\n```\r\n\r\npublic class ExplorePageService implements ItemListContract.Model&lt;ExplorePageModelPhotos&gt; {\r\n\r\n    private final String TAG = &quot;ExplorePageService&quot;;\r\n    private int pageNo = 1;\r\n    private final int PER_PAGE = 14;\r\n\r\n    @Override\r\n    public void getExploreItemList(OnFinishedListener&lt;ExplorePageModelPhotos&gt; onFinishedListener, int pageNo) {\r\n\r\n        ApiInterface apiService = ApiClient.getClient().create(ApiInterface.class);\r\n        Call&lt;ExplorePageModelResponse&gt; call = apiService.getExplorePagePhotos(1, PER_PAGE);\r\n\r\n        call.enqueue(new Callback&lt;ExplorePageModelResponse&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;ExplorePageModelResponse&gt; call, Response&lt;ExplorePageModelResponse&gt; response) {\r\n\r\n                List&lt;ExplorePageModelPhotos&gt; list = response.body().getExplorePageModelPhotos();\r\n\r\n                onFinishedListener.onFinished(list);\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;ExplorePageModelResponse&gt; call, Throwable t) {\r\n                Log.e(TAG, t.toString());\r\n                onFinishedListener.onFailure(t);\r\n\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis is the api response: \r\n\r\nResponse{protocol=h2, code=404, message=, url=https://api.pexels.com/curated?page=1&amp;per_page=14}\r\n\r\nI must be doing something wrong in the ApiInterface part since it&#39;s all working on the postman side but couldn&#39;t figure out. Thanks.\r\n\r\n","title":"Android Pexels Api integration error using retrofit. Getting 404 error","body":"<p>I am trying to integrate my application with Pexels API by using Retrofit and GSON but without success. I keep getting 404 error and therefore I am getting a null pointer exception on the console.</p>\n<p>This is the working api:\n<a href=\"https://api.pexels.com/v1/curated?page=1&amp;per_page=14\" rel=\"nofollow noreferrer\">https://api.pexels.com/v1/curated?page=1&amp;per_page=14</a></p>\n<pre><code>public class ApiClient {\n\n    public static final String API_KEY = &quot;xxxxxxxxxx&quot;;\n    public static final String BASE_URL = &quot;https://api.pexels.com/v1/&quot;;\n    public static Retrofit retrofit = null;\n\n\n    public static Retrofit getClient(){\n        if(retrofit == null) {\n            retrofit = new Retrofit.Builder()\n                    .baseUrl(BASE_URL)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build();\n        }\n        return retrofit;\n    }\n\n\n\n}\n</code></pre>\n<pre><code>public interface ApiInterface {\n\n    @Headers({&quot;Authorization: &quot; + ApiClient.API_KEY})\n    @GET(&quot;/curated&quot;)\n    Call&lt;ExplorePageModelResponse&gt;getExplorePagePhotos(\n            @Query(&quot;page&quot;) int page,\n            @Query(&quot;per_page&quot;) int per_page\n    );\n\n\n}\n</code></pre>\n<p>This is the service class that communicates with the pexels api. The response body is empty...</p>\n<pre><code>\npublic class ExplorePageService implements ItemListContract.Model&lt;ExplorePageModelPhotos&gt; {\n\n    private final String TAG = &quot;ExplorePageService&quot;;\n    private int pageNo = 1;\n    private final int PER_PAGE = 14;\n\n    @Override\n    public void getExploreItemList(OnFinishedListener&lt;ExplorePageModelPhotos&gt; onFinishedListener, int pageNo) {\n\n        ApiInterface apiService = ApiClient.getClient().create(ApiInterface.class);\n        Call&lt;ExplorePageModelResponse&gt; call = apiService.getExplorePagePhotos(1, PER_PAGE);\n\n        call.enqueue(new Callback&lt;ExplorePageModelResponse&gt;() {\n            @Override\n            public void onResponse(Call&lt;ExplorePageModelResponse&gt; call, Response&lt;ExplorePageModelResponse&gt; response) {\n\n                List&lt;ExplorePageModelPhotos&gt; list = response.body().getExplorePageModelPhotos();\n\n                onFinishedListener.onFinished(list);\n\n            }\n\n            @Override\n            public void onFailure(Call&lt;ExplorePageModelResponse&gt; call, Throwable t) {\n                Log.e(TAG, t.toString());\n                onFinishedListener.onFailure(t);\n\n            }\n        });\n\n\n    }\n\n}\n</code></pre>\n<p>This is the api response:</p>\n<p>Response{protocol=h2, code=404, message=, url=https://api.pexels.com/curated?page=1&amp;per_page=14}</p>\n<p>I must be doing something wrong in the ApiInterface part since it's all working on the postman side but couldn't figure out. Thanks.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645647579,"creation_date":1645647579,"answer_id":71243560,"question_id":71243509,"body_markdown":"It&#39;s a static member, which means you can use this:\r\n\r\n    @FirstAnnotation.List({\r\n        @FirstAnnotation(...),\r\n        @FirstAnnotation(...)\r\n    })\r\n    private MyType myField;\r\n\r\nYou can make this even easier by annotating `FirstAnnotation` with `@Repeatable(FirstAnnotation.List.class)`. That way, you can omit the explicit list:\r\n\r\n    @FirstAnnotation(...)\r\n    @FirstAnnotation(...)\r\n    private MyType myField;\r\n\r\nAs for these three fields, see https://javaee.github.io/tutorial/bean-validation-advanced001.html and https://docs.jboss.org/hibernate/validator/5.1/reference/en-US/html/validator-customconstraints.html.","title":"Purpose of defining an Annotation inside an Annotation in Java","body":"<p>It's a static member, which means you can use this:</p>\n<pre><code>@FirstAnnotation.List({\n    @FirstAnnotation(...),\n    @FirstAnnotation(...)\n})\nprivate MyType myField;\n</code></pre>\n<p>You can make this even easier by annotating <code>FirstAnnotation</code> with <code>@Repeatable(FirstAnnotation.List.class)</code>. That way, you can omit the explicit list:</p>\n<pre><code>@FirstAnnotation(...)\n@FirstAnnotation(...)\nprivate MyType myField;\n</code></pre>\n<p>As for these three fields, see <a href=\"https://javaee.github.io/tutorial/bean-validation-advanced001.html\" rel=\"nofollow noreferrer\">https://javaee.github.io/tutorial/bean-validation-advanced001.html</a> and <a href=\"https://docs.jboss.org/hibernate/validator/5.1/reference/en-US/html/validator-customconstraints.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/validator/5.1/reference/en-US/html/validator-customconstraints.html</a>.</p>\n"}],"owner":{"account_id":18774284,"reputation":65,"user_id":13690435,"display_name":"Coop Weisbach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71243560,"answer_count":1,"score":1,"last_activity_date":1645647579,"creation_date":1645647340,"question_id":71243509,"body_markdown":"I&#39;m a Java developer going through the code base at the company I work for trying to look for advanced language syntax I&#39;m unfamiliar with. I stumbled across a folder of constraint annotations that all contain annotation definitions within themselves like follows...\r\n\r\n    @Constraint(validatedBy=MyValidator.class)\r\n    @Target(FIELD)\r\n    @Retention(RetentionPolicy.RUNTIME)    \r\n    @Documented\r\n    public @interface FirstAnnotation{ \r\n        Class&lt;?&gt;[] groups() default{};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n        String message() default &quot;Default message&quot;;\r\n\r\n        @Target({FIELD, ANNOTATION_TYPE})\r\n        @Retention(RetentionPolicy.RUNTIME)\r\n        @Documented\r\n        @interface List {\r\n            FirstAnnotation[] value();\r\n        }\r\n    }\r\nCan someone enlighten me as to the purpose of this and how it would be exercised? I get that it is a list of the FirstAnnotation as the value, but not sure what a use case for this would be and how you could use the List annotation. I&#39;m also curious if someone could shine a light on why the groups(), payload(), and message() are required?\r\n\r\n","title":"Purpose of defining an Annotation inside an Annotation in Java","body":"<p>I'm a Java developer going through the code base at the company I work for trying to look for advanced language syntax I'm unfamiliar with. I stumbled across a folder of constraint annotations that all contain annotation definitions within themselves like follows...</p>\n<pre><code>@Constraint(validatedBy=MyValidator.class)\n@Target(FIELD)\n@Retention(RetentionPolicy.RUNTIME)    \n@Documented\npublic @interface FirstAnnotation{ \n    Class&lt;?&gt;[] groups() default{};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n    String message() default &quot;Default message&quot;;\n\n    @Target({FIELD, ANNOTATION_TYPE})\n    @Retention(RetentionPolicy.RUNTIME)\n    @Documented\n    @interface List {\n        FirstAnnotation[] value();\n    }\n}\n</code></pre>\n<p>Can someone enlighten me as to the purpose of this and how it would be exercised? I get that it is a list of the FirstAnnotation as the value, but not sure what a use case for this would be and how you could use the List annotation. I'm also curious if someone could shine a light on why the groups(), payload(), and message() are required?</p>\n"},{"tags":["java","scala","akka","prometheus","monitoring"],"comments":[{"owner":{"account_id":12992309,"reputation":694,"user_id":9391162,"display_name":"AMK"},"score":0,"creation_date":1655999586,"post_id":71241798,"comment_id":128470557,"body_markdown":"Hey! I want to add cinnamon to my project, but I don&#39;t find it anywhere on maven repos or elsewhere. If you have, would you please send the link?","body":"Hey! I want to add cinnamon to my project, but I don&#39;t find it anywhere on maven repos or elsewhere. If you have, would you please send the link?"},{"owner":{"account_id":4248689,"reputation":171,"user_id":3476509,"display_name":"user3476509"},"score":0,"creation_date":1656598106,"post_id":71241798,"comment_id":128616426,"body_markdown":"@AMK follow this article: https://medium.com/akka-scala/akka-monitor-your-applications-with-lightbend-telemetry-prometheus-and-grafana-dashboard-1b7353e281c1","body":"@AMK follow this article: <a href=\"https://medium.com/akka-scala/akka-monitor-your-applications-with-lightbend-telemetry-prometheus-and-grafana-dashboard-1b7353e281c1\" rel=\"nofollow noreferrer\">medium.com/akka-scala/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":430698,"reputation":7180,"user_id":4803842,"display_name":"Ivan Stanislavciuc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645647560,"creation_date":1645647232,"answer_id":71243487,"question_id":71241798,"body_markdown":"The problem is that cinnamon starts a separate http server for prometheus metrics and uses the same port when second actor system boots. The port is configured via `cinnamon.prometheus.http-server.port` but you cannot just change it in `application.conf` file because it will be shared between different actor systems and the port will be reused again. \r\n\r\nYou should just use a single actor system. There is no real reason of having multiple ones. However, if this is outside of your control, you could do the following for actor systems you start. \r\n\r\nYou need to change default behavior of loading configuration. One way to do it is following.\r\n\r\n```scala\r\nimport akka.actor.ActorSystem\r\nimport com.typesafe.config.{Config, ConfigFactory}\r\nimport scala.jdk.CollectionConverters._\r\n\r\ndef overriddenConfig(map: Map[String, String]): Config = {\r\n  ConfigFactory.parseMap(map.asJava).withFallback(ConfigFactory.load())\r\n}\r\n```\r\n\r\nNow you can start actor systems in following way \r\n\r\n```scala\r\nActorSystem(&quot;system1&quot;, overriddenConfig(Map(&quot;cinnamon.prometheus.http-server.port&quot; -&gt; &quot;9091&quot;)))\r\nActorSystem(&quot;system2&quot;, overriddenConfig(Map(&quot;cinnamon.prometheus.http-server.port&quot; -&gt; &quot;9092&quot;)))\r\n```\r\n\r\nThe other option is to split configuration files for each actor system and each actor system would load from different file. I will leave the code out but it can be done via `ConfigFactory` methods. \r\n\r\nAlso please note that this approach will require Prometheus to read metrics from multiple http endpoints, each representing separate actor system. ","title":"Enable Prometheus on multiple ActorSystems in the same JVM","body":"<p>The problem is that cinnamon starts a separate http server for prometheus metrics and uses the same port when second actor system boots. The port is configured via <code>cinnamon.prometheus.http-server.port</code> but you cannot just change it in <code>application.conf</code> file because it will be shared between different actor systems and the port will be reused again.</p>\n<p>You should just use a single actor system. There is no real reason of having multiple ones. However, if this is outside of your control, you could do the following for actor systems you start.</p>\n<p>You need to change default behavior of loading configuration. One way to do it is following.</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import akka.actor.ActorSystem\nimport com.typesafe.config.{Config, ConfigFactory}\nimport scala.jdk.CollectionConverters._\n\ndef overriddenConfig(map: Map[String, String]): Config = {\n  ConfigFactory.parseMap(map.asJava).withFallback(ConfigFactory.load())\n}\n</code></pre>\n<p>Now you can start actor systems in following way</p>\n<pre class=\"lang-scala prettyprint-override\"><code>ActorSystem(&quot;system1&quot;, overriddenConfig(Map(&quot;cinnamon.prometheus.http-server.port&quot; -&gt; &quot;9091&quot;)))\nActorSystem(&quot;system2&quot;, overriddenConfig(Map(&quot;cinnamon.prometheus.http-server.port&quot; -&gt; &quot;9092&quot;)))\n</code></pre>\n<p>The other option is to split configuration files for each actor system and each actor system would load from different file. I will leave the code out but it can be done via <code>ConfigFactory</code> methods.</p>\n<p>Also please note that this approach will require Prometheus to read metrics from multiple http endpoints, each representing separate actor system.</p>\n"}],"owner":{"account_id":4248689,"reputation":171,"user_id":3476509,"display_name":"user3476509"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71243487,"answer_count":1,"score":0,"last_activity_date":1645647560,"creation_date":1645638536,"question_id":71241798,"body_markdown":"I&#39;m trying to monitor my Akka system with Prometheus and Grafana from Lightbend Telemetry. My configuration looks like\r\n\r\n    cinnamon {\r\n    akka.actors = {\r\n    default-by-class {\r\n      includes = &quot;/user/*&quot;\r\n      report-by = class\r\n    }\r\n      }\r\n      }\r\n    cinnamon.prometheus {\r\n          exporters += http-server\r\n        }\r\n\r\nWith one ActorSystem everything works fine, but as soon as I instantiate another one I get the WARN and nothing works anymore.\r\n\r\n    [info] [WARN] [02/23/2022 11:47:30.051] [main] [PrometheusHttpServer] Could not start Prometheus HTTP server. Is there already a server running on this port? (This can happen when running multiple actor systems in the same JVM.)\r\n\r\nI was wondering how to run Prometheus with multiple ActorSystems on the same JVM.\r\nAnyone can help me ?","title":"Enable Prometheus on multiple ActorSystems in the same JVM","body":"<p>I'm trying to monitor my Akka system with Prometheus and Grafana from Lightbend Telemetry. My configuration looks like</p>\n<pre><code>cinnamon {\nakka.actors = {\ndefault-by-class {\n  includes = &quot;/user/*&quot;\n  report-by = class\n}\n  }\n  }\ncinnamon.prometheus {\n      exporters += http-server\n    }\n</code></pre>\n<p>With one ActorSystem everything works fine, but as soon as I instantiate another one I get the WARN and nothing works anymore.</p>\n<pre><code>[info] [WARN] [02/23/2022 11:47:30.051] [main] [PrometheusHttpServer] Could not start Prometheus HTTP server. Is there already a server running on this port? (This can happen when running multiple actor systems in the same JVM.)\n</code></pre>\n<p>I was wondering how to run Prometheus with multiple ActorSystems on the same JVM.\nAnyone can help me ?</p>\n"},{"tags":["java","selenium","cucumber","cucumber-java"],"comments":[{"owner":{"account_id":15622261,"reputation":1672,"user_id":11270766,"display_name":"Gaj Julije"},"score":0,"creation_date":1645277836,"post_id":71185312,"comment_id":125830952,"body_markdown":"So much question here: proj structure, where are your feature folder and what is their name. pom.xml. Why do you need @RunWith(Cucumber.class) ? Try answer as much as you can so someone can help you.","body":"So much question here: proj structure, where are your feature folder and what is their name. pom.xml. Why do you need @RunWith(Cucumber.class) ? Try answer as much as you can so someone can help you."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":1,"creation_date":1645304669,"post_id":71185312,"comment_id":125837154,"body_markdown":"The `glue` takes a package name. Not a class name.","body":"The <code>glue</code> takes a package name. Not a class name."}],"answers":[{"tags":[],"owner":{"account_id":24288139,"reputation":1,"user_id":18233595,"display_name":"MartyParty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645441921,"creation_date":1645441921,"answer_id":71205322,"question_id":71185312,"body_markdown":"I think that your @CucumberOptions are not correct and that&#39;s why the steps are not found","title":"Getting &quot;io.cucumber.junit.UndefinedStepException&quot;, while using the same step defination given in trace snippet","body":"<p>I think that your @CucumberOptions are not correct and that's why the steps are not found</p>\n"},{"tags":[],"owner":{"account_id":24228666,"reputation":1,"user_id":18182764,"display_name":"KZala"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645647436,"creation_date":1645647436,"answer_id":71243531,"question_id":71185312,"body_markdown":"glue = &quot;stepdefination2&quot; here you need to specify package name under which stepdefinations class files are available. Avoid giving same name for package&amp;class file.","title":"Getting &quot;io.cucumber.junit.UndefinedStepException&quot;, while using the same step defination given in trace snippet","body":"<p>glue = &quot;stepdefination2&quot; here you need to specify package name under which stepdefinations class files are available. Avoid giving same name for package&amp;class file.</p>\n"}],"owner":{"account_id":16027360,"reputation":13,"user_id":11567278,"display_name":"Prashant Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":785,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645647436,"creation_date":1645276149,"question_id":71185312,"body_markdown":"i have created a cucumber class and trying to modified, while doing so its continously showing the &quot;io.cucumber.junit.UndefinedStepException&quot; again and again when i try to run. I have tried with the steps showing in trace snippet but again the result is same. Here below is the code i am trying \r\n\r\n//feature_file\r\nFeature: Application login \r\n\r\nScenario: Home page default login\r\nGiven user navigate to login page\r\nWhen user login into application with &quot;abhishek&quot; and password &quot;abhi234&quot;\r\nThen home page appears\r\nAnd objects showed are &quot;true&quot;\r\n\r\nScenario: Home page default login\r\nGiven user navigate to login page\r\nWhen user login into application with &quot;Amit&quot; and password &quot;amit345&quot;\r\nThen home page appears\r\nAnd objects showed are &quot;false&quot;\r\n\r\n//stepdefination\r\n\r\n    public class stepdefination2 {\r\n    \r\n    \t\t@Given(&quot;^user navigate to login page$&quot;)\r\n    \t\tpublic void navigate() {\r\n    \t\t    System.out.println(&quot;welcome&quot;);\r\n    \t\t    throw new io.cucumber.java.PendingException();\r\n    \t\t}\r\n    \t\t@When(&quot;user login into application with {string} and password {string}&quot;)\r\n    \t\tpublic void user_login(String arg1, String arg2) {\r\n    \t\t    System.out.println(arg1);\r\n    \t\t    System.out.println(arg2);\r\n    \t\t    throw new io.cucumber.java.PendingException();\r\n    \t\t}\r\n    \t\t@Then(&quot;^home page appears$&quot;)\r\n    \t\tpublic void home_page() {\r\n    \t\t    System.out.println(&quot;homepage&quot;);\r\n    \t\t    throw new io.cucumber.java.PendingException();\r\n    \t\t}\r\n    \t\t@Then(&quot;objects showed are {string}&quot;)\r\n    \t\tpublic void objects(String obj) {\r\n    \t\t    System.out.println(&quot;objects appeared&quot;);\r\n    \t\t    throw new io.cucumber.java.PendingException();\r\n    \t\t}\r\n    }\r\n\r\n//Runner\r\n\t\r\n    @RunWith(Cucumber.class)\r\n    \t@CucumberOptions(\r\n    \t\t\tfeatures =  &quot;src/test/java/nfeature&quot;,\r\n    \t\t\tglue = &quot;stepdefination2&quot;\r\n    \t\t\t)\r\n    \tpublic class  TestRun2{\r\n    \t\tpublic void success() {\r\n    \t\tSystem.out.println(&quot;test run successfully&quot;);\r\n    \t}\r\n    \t}\t","title":"Getting &quot;io.cucumber.junit.UndefinedStepException&quot;, while using the same step defination given in trace snippet","body":"<p>i have created a cucumber class and trying to modified, while doing so its continously showing the &quot;io.cucumber.junit.UndefinedStepException&quot; again and again when i try to run. I have tried with the steps showing in trace snippet but again the result is same. Here below is the code i am trying</p>\n<p>//feature_file\nFeature: Application login</p>\n<p>Scenario: Home page default login\nGiven user navigate to login page\nWhen user login into application with &quot;abhishek&quot; and password &quot;abhi234&quot;\nThen home page appears\nAnd objects showed are &quot;true&quot;</p>\n<p>Scenario: Home page default login\nGiven user navigate to login page\nWhen user login into application with &quot;Amit&quot; and password &quot;amit345&quot;\nThen home page appears\nAnd objects showed are &quot;false&quot;</p>\n<p>//stepdefination</p>\n<pre><code>public class stepdefination2 {\n\n        @Given(&quot;^user navigate to login page$&quot;)\n        public void navigate() {\n            System.out.println(&quot;welcome&quot;);\n            throw new io.cucumber.java.PendingException();\n        }\n        @When(&quot;user login into application with {string} and password {string}&quot;)\n        public void user_login(String arg1, String arg2) {\n            System.out.println(arg1);\n            System.out.println(arg2);\n            throw new io.cucumber.java.PendingException();\n        }\n        @Then(&quot;^home page appears$&quot;)\n        public void home_page() {\n            System.out.println(&quot;homepage&quot;);\n            throw new io.cucumber.java.PendingException();\n        }\n        @Then(&quot;objects showed are {string}&quot;)\n        public void objects(String obj) {\n            System.out.println(&quot;objects appeared&quot;);\n            throw new io.cucumber.java.PendingException();\n        }\n}\n</code></pre>\n<p>//Runner</p>\n<pre><code>@RunWith(Cucumber.class)\n    @CucumberOptions(\n            features =  &quot;src/test/java/nfeature&quot;,\n            glue = &quot;stepdefination2&quot;\n            )\n    public class  TestRun2{\n        public void success() {\n        System.out.println(&quot;test run successfully&quot;);\n    }\n    }   \n</code></pre>\n"},{"tags":["java","android","multithreading","service","android-camera"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645647395,"creation_date":1645647395,"answer_id":71243524,"question_id":71242806,"body_markdown":"Background services cannot access the camera.  Forground services can only if you specify the camera service type.  And yours is definitely a background service.  This was added back in Android 11.","title":"How Can I take pictures in a new Thread which is created in a service?","body":"<p>Background services cannot access the camera.  Forground services can only if you specify the camera service type.  And yours is definitely a background service.  This was added back in Android 11.</p>\n"}],"owner":{"account_id":22061779,"reputation":117,"user_id":16324327,"display_name":"Ahmad Malik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71243524,"answer_count":1,"score":0,"last_activity_date":1645647395,"creation_date":1645643504,"question_id":71242806,"body_markdown":"I am taking pictures in a background service, by creating a new thread.\r\nThe issue is camera.takePicture is not executed. service starts, stops and iterates correctly just takePicture is not executed.\r\nIt shows \r\n **W/Camera-JNI: callback on dead camera object**\r\nin the logcat in each iteration.\r\n\r\n**Here is My CameraService class**\r\n```\r\npackage com.flynn.pictureseverysecond;\r\n\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.Service;\r\nimport android.content.Intent;\r\nimport android.graphics.SurfaceTexture;\r\nimport android.hardware.Camera;\r\nimport android.net.Uri;\r\nimport android.os.Environment;\r\nimport android.os.Handler;\r\nimport android.os.IBinder;\r\nimport android.os.Looper;\r\nimport android.util.Log;\r\n\r\nimport androidx.annotation.Nullable;\r\n\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\n\r\npublic class CameraService extends Service implements Info {\r\n    public static final int MEDIA_TYPE_IMAGE = 1;\r\n\r\n    volatile boolean running = true;\r\n\r\n    private Camera mCamera;\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        Log.i(TAG, &quot;onStartCommand: service started&quot;);\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                Log.i(TAG, &quot;run: Thread still alive&quot;);\r\n                while (running) {\r\n                    mCamera = Util.getCameraInstance();\r\n                    Log.i(TAG, &quot;run: created camera instance&quot;);\r\n                    if (mCamera != null) {\r\n                        try {\r\n                            mCamera.setPreviewTexture(new SurfaceTexture(0));\r\n                            mCamera.startPreview();\r\n                            Log.i(TAG, &quot;run: preview set&quot;);\r\n                            mCamera.takePicture(null, null, new Camera.PictureCallback() {\r\n\r\n                                @Override\r\n                                public void onPictureTaken(byte[] data, Camera camera) {\r\n                                    Log.i(TAG, &quot;onPictureTaken: here&quot;);\r\n                                    File pictureFile = getOutputMediaFile(MEDIA_TYPE_IMAGE);\r\n                                    if (pictureFile == null) {\r\n                                        Log.e(TAG, &quot;onPictureTaken: cannot create media files check Permissions&quot;);\r\n                                        return;\r\n                                    }\r\n                                    try {\r\n                                        Log.i(TAG, &quot;onPictureTaken: arrived&quot;);\r\n                                        FileOutputStream fos = new FileOutputStream(pictureFile);\r\n                                        fos.write(data);\r\n                                        fos.close();\r\n                                    } catch (FileNotFoundException e) {\r\n                                        Log.e(TAG, &quot;onPictureTaken: File not found&quot; + e.getMessage());\r\n                                    } catch (IOException e) {\r\n                                        Log.e(TAG, &quot;onPictureTaken: Error Accessing File &quot; + e.getMessage());\r\n                                    }\r\n                                }\r\n                            });\r\n                            releaseCamera();\r\n                            Thread.sleep(3000);\r\n                        } catch (IOException | InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }).start();\r\n        return super.onStartCommand(intent, flags, startId);\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        Log.i(TAG, &quot;onDestroy: cam service ending....&quot;);\r\n        running = false;\r\n        super.onDestroy();\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n    private static Uri getOutputMediaFileUri(int type) {\r\n        return Uri.fromFile(getOutputMediaFile(type));\r\n    }\r\n\r\n    private static File getOutputMediaFile(int type) {\r\n        Log.i(TAG, &quot;getOutputMediaFile: inside&quot;);\r\n        File storageDir = new File(Environment.getExternalStoragePublicDirectory(\r\n                Environment.DIRECTORY_PICTURES), &quot;fuckrey&quot;);\r\n        Log.i(TAG, &quot;getOutputMediaFile: dir created&quot;);\r\n        if (!storageDir.exists()) {\r\n            if (!storageDir.mkdirs()) {\r\n                Log.e(TAG, &quot;getOutputMediaFile: Failed to create directory&quot;);\r\n                return null;\r\n            }\r\n        }\r\n\r\n        @SuppressLint(&quot;SimpleDateFormat&quot;)\r\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n        File mediaFile;\r\n        if (type == MEDIA_TYPE_IMAGE) {\r\n            mediaFile = new File(storageDir.getPath() + File.separator + &quot;IMG_&quot; + timeStamp + &quot;.jpg&quot;);\r\n        } else {\r\n            Log.i(TAG, &quot;getOutputMediaFile: returning null&quot;);\r\n            return null;\r\n        }\r\n\r\n        Log.i(TAG, &quot;getOutputMediaFile: properly returning&quot;);\r\n        return mediaFile;\r\n    }\r\n\r\n\r\n        private void releaseCamera () {\r\n            if (mCamera != null) {\r\n                mCamera.release();        // release the camera for other applications\r\n                mCamera = null;\r\n            }\r\n        }\r\n\r\n}\r\n```\r\nPlease Help me, what is wrong with my code?","title":"How Can I take pictures in a new Thread which is created in a service?","body":"<p>I am taking pictures in a background service, by creating a new thread.\nThe issue is camera.takePicture is not executed. service starts, stops and iterates correctly just takePicture is not executed.\nIt shows\n<strong>W/Camera-JNI: callback on dead camera object</strong>\nin the logcat in each iteration.</p>\n<p><strong>Here is My CameraService class</strong></p>\n<pre><code>package com.flynn.pictureseverysecond;\n\n\nimport android.annotation.SuppressLint;\nimport android.app.Service;\nimport android.content.Intent;\nimport android.graphics.SurfaceTexture;\nimport android.hardware.Camera;\nimport android.net.Uri;\nimport android.os.Environment;\nimport android.os.Handler;\nimport android.os.IBinder;\nimport android.os.Looper;\nimport android.util.Log;\n\nimport androidx.annotation.Nullable;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\n\npublic class CameraService extends Service implements Info {\n    public static final int MEDIA_TYPE_IMAGE = 1;\n\n    volatile boolean running = true;\n\n    private Camera mCamera;\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        Log.i(TAG, &quot;onStartCommand: service started&quot;);\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                Log.i(TAG, &quot;run: Thread still alive&quot;);\n                while (running) {\n                    mCamera = Util.getCameraInstance();\n                    Log.i(TAG, &quot;run: created camera instance&quot;);\n                    if (mCamera != null) {\n                        try {\n                            mCamera.setPreviewTexture(new SurfaceTexture(0));\n                            mCamera.startPreview();\n                            Log.i(TAG, &quot;run: preview set&quot;);\n                            mCamera.takePicture(null, null, new Camera.PictureCallback() {\n\n                                @Override\n                                public void onPictureTaken(byte[] data, Camera camera) {\n                                    Log.i(TAG, &quot;onPictureTaken: here&quot;);\n                                    File pictureFile = getOutputMediaFile(MEDIA_TYPE_IMAGE);\n                                    if (pictureFile == null) {\n                                        Log.e(TAG, &quot;onPictureTaken: cannot create media files check Permissions&quot;);\n                                        return;\n                                    }\n                                    try {\n                                        Log.i(TAG, &quot;onPictureTaken: arrived&quot;);\n                                        FileOutputStream fos = new FileOutputStream(pictureFile);\n                                        fos.write(data);\n                                        fos.close();\n                                    } catch (FileNotFoundException e) {\n                                        Log.e(TAG, &quot;onPictureTaken: File not found&quot; + e.getMessage());\n                                    } catch (IOException e) {\n                                        Log.e(TAG, &quot;onPictureTaken: Error Accessing File &quot; + e.getMessage());\n                                    }\n                                }\n                            });\n                            releaseCamera();\n                            Thread.sleep(3000);\n                        } catch (IOException | InterruptedException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                }\n            }\n        }).start();\n        return super.onStartCommand(intent, flags, startId);\n    }\n\n    @Override\n    public void onDestroy() {\n        Log.i(TAG, &quot;onDestroy: cam service ending....&quot;);\n        running = false;\n        super.onDestroy();\n    }\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n    private static Uri getOutputMediaFileUri(int type) {\n        return Uri.fromFile(getOutputMediaFile(type));\n    }\n\n    private static File getOutputMediaFile(int type) {\n        Log.i(TAG, &quot;getOutputMediaFile: inside&quot;);\n        File storageDir = new File(Environment.getExternalStoragePublicDirectory(\n                Environment.DIRECTORY_PICTURES), &quot;fuckrey&quot;);\n        Log.i(TAG, &quot;getOutputMediaFile: dir created&quot;);\n        if (!storageDir.exists()) {\n            if (!storageDir.mkdirs()) {\n                Log.e(TAG, &quot;getOutputMediaFile: Failed to create directory&quot;);\n                return null;\n            }\n        }\n\n        @SuppressLint(&quot;SimpleDateFormat&quot;)\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\n        File mediaFile;\n        if (type == MEDIA_TYPE_IMAGE) {\n            mediaFile = new File(storageDir.getPath() + File.separator + &quot;IMG_&quot; + timeStamp + &quot;.jpg&quot;);\n        } else {\n            Log.i(TAG, &quot;getOutputMediaFile: returning null&quot;);\n            return null;\n        }\n\n        Log.i(TAG, &quot;getOutputMediaFile: properly returning&quot;);\n        return mediaFile;\n    }\n\n\n        private void releaseCamera () {\n            if (mCamera != null) {\n                mCamera.release();        // release the camera for other applications\n                mCamera = null;\n            }\n        }\n\n}\n</code></pre>\n<p>Please Help me, what is wrong with my code?</p>\n"},{"tags":["java","android","tree","uri"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1645600160,"post_id":71230204,"comment_id":125911567,"body_markdown":"Try to list the content of the tree.","body":"Try to list the content of the tree."},{"owner":{"account_id":22622433,"reputation":115,"user_id":16800976,"display_name":"J. M."},"score":0,"creation_date":1645601647,"post_id":71230204,"comment_id":125912010,"body_markdown":"Its for the main tree though, if by some chance the main folder gets deleted i want to recreate it.","body":"Its for the main tree though, if by some chance the main folder gets deleted i want to recreate it."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1645602397,"post_id":71230204,"comment_id":125912234,"body_markdown":"We know. List the contents of the main tree was the idea. And suggested ;-)","body":"We know. List the contents of the main tree was the idea. And suggested ;-)"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1645602869,"post_id":71230204,"comment_id":125912399,"body_markdown":"`a tree uri from use folder,` I wonder what you mean with &#39;from use folder&#39;. Never heard talking like that.","body":"<code>a tree uri from use folder,</code> I wonder what you mean with &#39;from use folder&#39;. Never heard talking like that."},{"owner":{"account_id":22622433,"reputation":115,"user_id":16800976,"display_name":"J. M."},"score":0,"creation_date":1645627371,"post_id":71230204,"comment_id":125922786,"body_markdown":"@blackapps I see the work around, but that only works if theres no contents anf folders not there  but user could delete contents and not folder. Ive decided to use getName() if it equals folder name. Sorry for my unpolitical correctness though it saves data space ww, i meant OPEN_DOCUMENT_TREE.","body":"@blackapps I see the work around, but that only works if theres no contents anf folders not there  but user could delete contents and not folder. Ive decided to use getName() if it equals folder name. Sorry for my unpolitical correctness though it saves data space ww, i meant OPEN_DOCUMENT_TREE."}],"answers":[{"tags":[],"owner":{"account_id":17547045,"reputation":1,"user_id":12728105,"display_name":"Gustavo Liz&#225;rraga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645584016,"creation_date":1645584016,"answer_id":71230748,"question_id":71230204,"body_markdown":"Did you try to do something like that? with the **findFile()** method?\r\n\r\n```\r\nUri treeUri = uri;\r\nDocumentFile root = DocumentFile.fromTreeUri(this, treeUri);\r\nif (root.findFile(&quot;Foldername&quot;) == null) { //create folder }\r\n```","title":"How do I find if a root uri tree exist?","body":"<p>Did you try to do something like that? with the <strong>findFile()</strong> method?</p>\n<pre><code>Uri treeUri = uri;\nDocumentFile root = DocumentFile.fromTreeUri(this, treeUri);\nif (root.findFile(&quot;Foldername&quot;) == null) { //create folder }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645602731,"creation_date":1645602731,"answer_id":71233095,"question_id":71230204,"body_markdown":"Try to list the content of the tree.\r\n\r\nIf the tree does not exist anymore you will get an exception or a null cursor.","title":"How do I find if a root uri tree exist?","body":"<p>Try to list the content of the tree.</p>\n<p>If the tree does not exist anymore you will get an exception or a null cursor.</p>\n"}],"owner":{"account_id":22622433,"reputation":115,"user_id":16800976,"display_name":"J. M."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645647235,"creation_date":1645578362,"question_id":71230204,"body_markdown":"I get a tree uri from OPEN_DOCUMENT_TREE, and want to know if folder exsist in case user deleted. I tried doc == null from treeUri and single, and also exists but they dont they both show not null when folder is deleted.\r\nThanks","title":"How do I find if a root uri tree exist?","body":"<p>I get a tree uri from OPEN_DOCUMENT_TREE, and want to know if folder exsist in case user deleted. I tried doc == null from treeUri and single, and also exists but they dont they both show not null when folder is deleted.\nThanks</p>\n"},{"tags":["java","xml","servlets","servlet-filters"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1645646577,"post_id":71243329,"comment_id":125930953,"body_markdown":"`properties.load(PluginFactory.class.getResourceAsStream(&quot;/plugins.properties&quot;));`\nMake sure that the resource is correct. Where did you put the `plugins.properties`?","body":"<code>properties.load(PluginFactory.class.getResourceAsStream(&quot;&#47;pl&zwnj;&#8203;ugins.properties&quot;));</code> Make sure that the resource is correct. Where did you put the <code>plugins.properties</code>?"},{"owner":{"account_id":21987718,"reputation":15,"user_id":16261693,"display_name":"yilopa"},"score":0,"creation_date":1645646832,"post_id":71243329,"comment_id":125931029,"body_markdown":"it&#39;s inside of conf package where I store conf files`teste.pluginSession.RegisterSession=@teste.pluginSession.RegisterSession@`","body":"it&#39;s inside of conf package where I store conf files<code>teste.pluginSession.RegisterSession=@teste.pluginSessio&zwnj;&#8203;n.RegisterSession@</code>"},{"owner":{"account_id":21987718,"reputation":15,"user_id":16261693,"display_name":"yilopa"},"score":0,"creation_date":1645647018,"post_id":71243329,"comment_id":125931093,"body_markdown":"when I check Tomcat logs, somehow it doesn&#39;t recognize the class `teste.pluginSession.PluginFactory`","body":"when I check Tomcat logs, somehow it doesn&#39;t recognize the class <code>teste.pluginSession.PluginFactory</code>"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1645647305,"post_id":71243329,"comment_id":125931187,"body_markdown":"It&#39;s not the class that cannot be found but the resource. The stack trace clearly shows that line 12 of the class, the one that&#39;s calling `properties.load`, is part of the stack trace. It causes an NPE, which can only occur if the resource cannot be found. Where in the built WAR file is the resource found? In `WEB-INF`, `META-INF`, or `WEB-INF/classes/META-INF`?","body":"It&#39;s not the class that cannot be found but the resource. The stack trace clearly shows that line 12 of the class, the one that&#39;s calling <code>properties.load</code>, is part of the stack trace. It causes an NPE, which can only occur if the resource cannot be found. Where in the built WAR file is the resource found? In <code>WEB-INF</code>, <code>META-INF</code>, or <code>WEB-INF&#47;classes&#47;META-INF</code>?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1645647406,"post_id":71243329,"comment_id":125931228,"body_markdown":"Side note: you can get rid of the casts by adding method generics to the `getPlugin` method: `public static &lt;T&gt; T getPlugin(Class&lt;T&gt; iface) throws ...`. The body can perform a safe cast: `iface.cast(Class.forName(classNameVerdadeiro).newInstance())`.","body":"Side note: you can get rid of the casts by adding method generics to the <code>getPlugin</code> method: <code>public static &lt;T&gt; T getPlugin(Class&lt;T&gt; iface) throws ...</code>. The body can perform a safe cast: <code>iface.cast(Class.forName(classNameVerdadeiro).newInstance())</code>&zwnj;&#8203;."},{"owner":{"account_id":21987718,"reputation":15,"user_id":16261693,"display_name":"yilopa"},"score":0,"creation_date":1645647703,"post_id":71243329,"comment_id":125931319,"body_markdown":"when I compile with Ant, in WEB-INF only appears classes.","body":"when I compile with Ant, in WEB-INF only appears classes."}],"owner":{"account_id":21987718,"reputation":15,"user_id":16261693,"display_name":"yilopa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2736,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645646473,"creation_date":1645646473,"question_id":71243329,"body_markdown":"I&#39;m doing a project of user management web application for school and when I deploy to Tomcat I got this error. \r\n\r\n**Additional:** On `web.xml` Intellij cannot recognize class `UserFilter` when I try to add `&lt;filter&gt;`. I have a class called UserFilter with the right path.\r\n\r\n\r\n\r\n\r\n    HTTP Status 500 - Filter execution threw an exception\r\n    type Exception report\r\n    \r\n    message Filter execution threw an exception\r\n    \r\n    description The server encountered an internal error that prevented it from fulfilling this request.\r\n    \r\n    exception\r\n    \r\n    javax.servlet.ServletException: Filter execution threw an exception\r\n    root cause\r\n    \r\n    java.lang.ExceptionInInitializerError\r\n    \tteste.web.SecurityFilter.openSession(SecurityFilter.java:26)\r\n    \tteste.web.SecurityFilter.doFilter(SecurityFilter.java:19)\r\n    root cause\r\n    \r\n    java.lang.NullPointerException\r\n    \tjava.util.Properties$LineReader.readLine(Properties.java:434)\r\n    \tjava.util.Properties.load0(Properties.java:353)\r\n    \tjava.util.Properties.load(Properties.java:341)\r\n    \tteste.pluginSession.PluginFactory.&lt;clinit&gt;(PluginFactory.java:12)\r\n    \tteste.web.SecurityFilter.openSession(SecurityFilter.java:26)\r\n    \tteste.web.SecurityFilter.doFilter(SecurityFilter.java:19)\r\n    note The full stack trace of the root cause is available in the Apache Tomcat/9.0.0.M6 logs.\r\n    \r\n    Apache Tomcat/9.0.0.M6\r\n\r\n\r\n**SecurityFilter.java**\r\n\r\n    package teste.web;\r\n    \r\n    import javax.servlet.*;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    \r\n    import teste.pluginSession.*;\r\n    \r\n    public class  SecurityFilter implements Filter {\r\n    \r\n        @Override\r\n        public void init (FilterConfig filterConfig) throws ServletException{\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void doFilter (ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException{\r\n            HttpServletResponse response = (HttpServletResponse) servletResponse;\r\n            openSession (servletRequest,filterChain, response);\r\n        }\r\n    \r\n        private void openSession(ServletRequest servletRequest, FilterChain filterChain, HttpServletResponse response) throws IOException, ServletException{\r\n            RegisterSession plugin = null;\r\n    \r\n            try {\r\n                plugin = (RegisterSession) PluginFactory.getPlugin(RegisterSession.class);\r\n                plugin.openSession(servletRequest,filterChain,response);\r\n            } catch (ClassNotFoundException e){\r\n                e.printStackTrace();\r\n            }catch (IllegalAccessException e){\r\n                e.printStackTrace();\r\n            }catch (InstantiationException e){\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void destroy() {\r\n    \r\n        }\r\n    }\r\n\r\n**PluginFactory**\r\n\r\n    package teste.pluginSession;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.Properties;\r\n    \r\n    public class PluginFactory\r\n    {\r\n        static Properties properties = new Properties();\r\n        static\r\n        {\r\n            try {\r\n                properties.load(PluginFactory.class.getResourceAsStream(&quot;/plugins.properties&quot;));\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public static Object getPlugin(Class iface) throws ClassNotFoundException, IllegalAccessException, InstantiationException\r\n        {\r\n            String classNameVerdadeiro = properties.getProperty(iface.getName());\r\n            return Class.forName(classNameVerdadeiro).newInstance();\r\n        }\r\n    }\r\n\r\n**web.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app version=&quot;2.4&quot;\r\n             xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;  &gt;\r\n    \r\n    \r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;UserFilter&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;teste.web.UserFilter&lt;/filter-class&gt;\r\n        &lt;/filter&gt;\r\n    \r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;UserFilter&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/user/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n    \r\n    \r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;SecurityFilter&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;teste.web.SecurityFilter&lt;/filter-class&gt;\r\n        &lt;/filter&gt;\r\n    \r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;SecurityFilter&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n    \r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;LoginServlet&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;teste.web.LoginServlet&lt;/servlet-class&gt;\r\n        &lt;/servlet&gt;\r\n    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;LoginServlet&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/login&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n    \r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;LogoutServlet&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;teste.web.LogoutServlet&lt;/servlet-class&gt;\r\n        &lt;/servlet&gt;\r\n    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;LogoutServlet&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/logout&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;Rest&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;teste.web.RestServlet&lt;/servlet-class&gt;\r\n        &lt;/servlet&gt;\r\n    \r\n    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;Rest&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/soa&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n    \r\n    \r\n        &lt;error-page&gt;\r\n            &lt;error-code&gt;404&lt;/error-code&gt;\r\n            &lt;location&gt;/errors/erro404.jsp&lt;/location&gt;\r\n        &lt;/error-page&gt;\r\n    \r\n        &lt;!--START FILES--&gt;\r\n        &lt;welcome-file-list&gt;\r\n            &lt;welcome-file&gt;login.jsp&lt;/welcome-file&gt;\r\n        &lt;/welcome-file-list&gt;\r\n    \r\n    \r\n    &lt;/web-app&gt;\r\n\r\n**login.jsp**\r\n\r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n    &lt;%@ page import=&quot;teste.web.LoginServlet&quot; %&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css&quot;&gt;\r\n    \r\n        &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n    \r\n        &lt;script src=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;title&gt;Login&lt;/title&gt;\r\n        &lt;style&gt;\r\n            .login-form {\r\n            border: hidden;\r\n                padding: 20px;\r\n                position: fixed;\r\n                left: 50%;\r\n                top: 50%;\r\n                transform: translate(-50%, -50%);\r\n            }\r\n            .form-group{\r\n                padding-left:40px;\r\n                padding-right:40px;\r\n            }\r\n            h3{\r\n                text-align: center;\r\n            }\r\n    \r\n            body{\r\n                background-color: darkslateblue;\r\n            }\r\n        &lt;/style&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;div class=&quot;container&quot; style=&quot;text-align:center;color:white;transform: translate(0%, 400%);&quot;&gt;\r\n        &lt;h2&gt;&lt;strong&gt;Soft&lt;/strong&gt;Ware&lt;/h2&gt;\r\n    &lt;/div&gt;\r\n    \r\n    &lt;div class=&quot;container login-form&quot;&gt;\r\n        &lt;div class=&quot;panel panel-default&quot;&gt;\r\n            &lt;div class=&quot;panel-body&quot;&gt;\r\n                &lt;form class=&quot;form-horizontal&quot; action=&quot;&lt;%=request.getContextPath()%&gt;/login&quot; method=&quot;POST&quot;&gt;\r\n                    &lt;div class=&quot;input-group&quot; style=&quot;padding-bottom: 10px;&quot;&gt;\r\n                        &lt;span class=&quot;input-group-addon&quot;&gt;&lt;i class=&quot;glyphicon glyphicon-user&quot;&gt;&lt;/i&gt;&lt;/span&gt;\r\n                        &lt;input id=&quot;username&quot; class=&quot;form-control&quot; placeholder=&quot;Username&quot; type=&quot;text&quot; name=&quot;username&quot;&gt;\r\n                    &lt;/div&gt;\r\n    \r\n                    &lt;div class=&quot;input-group&quot;&gt;\r\n                        &lt;span class=&quot;input-group-addon&quot;&gt;&lt;i class=&quot;glyphicon glyphicon-lock&quot;&gt;&lt;/i&gt;&lt;/span&gt;\r\n                        &lt;input id=&quot;password&quot; class=&quot;form-control&quot; placeholder=&quot;Password&quot; type=&quot;password&quot; name=&quot;password&quot;&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot; style=&quot;text-align: center;padding-top: 10px;&quot;&gt;\r\n                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot; onclick=&quot;&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-ok&quot;&gt;&lt;/span&gt;  Submeter&lt;/button&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/form&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nMany thanks!\r\n","title":"javax.servlet.ServletException: Filter execution threw an exception - java.lang.ExceptionInInitializerError","body":"<p>I'm doing a project of user management web application for school and when I deploy to Tomcat I got this error.</p>\n<p><strong>Additional:</strong> On <code>web.xml</code> Intellij cannot recognize class <code>UserFilter</code> when I try to add <code>&lt;filter&gt;</code>. I have a class called UserFilter with the right path.</p>\n<pre><code>HTTP Status 500 - Filter execution threw an exception\ntype Exception report\n\nmessage Filter execution threw an exception\n\ndescription The server encountered an internal error that prevented it from fulfilling this request.\n\nexception\n\njavax.servlet.ServletException: Filter execution threw an exception\nroot cause\n\njava.lang.ExceptionInInitializerError\n    teste.web.SecurityFilter.openSession(SecurityFilter.java:26)\n    teste.web.SecurityFilter.doFilter(SecurityFilter.java:19)\nroot cause\n\njava.lang.NullPointerException\n    java.util.Properties$LineReader.readLine(Properties.java:434)\n    java.util.Properties.load0(Properties.java:353)\n    java.util.Properties.load(Properties.java:341)\n    teste.pluginSession.PluginFactory.&lt;clinit&gt;(PluginFactory.java:12)\n    teste.web.SecurityFilter.openSession(SecurityFilter.java:26)\n    teste.web.SecurityFilter.doFilter(SecurityFilter.java:19)\nnote The full stack trace of the root cause is available in the Apache Tomcat/9.0.0.M6 logs.\n\nApache Tomcat/9.0.0.M6\n</code></pre>\n<p><strong>SecurityFilter.java</strong></p>\n<pre><code>package teste.web;\n\nimport javax.servlet.*;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\nimport teste.pluginSession.*;\n\npublic class  SecurityFilter implements Filter {\n\n    @Override\n    public void init (FilterConfig filterConfig) throws ServletException{\n\n    }\n\n    @Override\n    public void doFilter (ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException{\n        HttpServletResponse response = (HttpServletResponse) servletResponse;\n        openSession (servletRequest,filterChain, response);\n    }\n\n    private void openSession(ServletRequest servletRequest, FilterChain filterChain, HttpServletResponse response) throws IOException, ServletException{\n        RegisterSession plugin = null;\n\n        try {\n            plugin = (RegisterSession) PluginFactory.getPlugin(RegisterSession.class);\n            plugin.openSession(servletRequest,filterChain,response);\n        } catch (ClassNotFoundException e){\n            e.printStackTrace();\n        }catch (IllegalAccessException e){\n            e.printStackTrace();\n        }catch (InstantiationException e){\n            e.printStackTrace();\n        }\n\n    }\n\n\n    @Override\n    public void destroy() {\n\n    }\n}\n</code></pre>\n<p><strong>PluginFactory</strong></p>\n<pre><code>package teste.pluginSession;\n\nimport java.io.IOException;\nimport java.util.Properties;\n\npublic class PluginFactory\n{\n    static Properties properties = new Properties();\n    static\n    {\n        try {\n            properties.load(PluginFactory.class.getResourceAsStream(&quot;/plugins.properties&quot;));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static Object getPlugin(Class iface) throws ClassNotFoundException, IllegalAccessException, InstantiationException\n    {\n        String classNameVerdadeiro = properties.getProperty(iface.getName());\n        return Class.forName(classNameVerdadeiro).newInstance();\n    }\n}\n</code></pre>\n<p><strong>web.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app version=&quot;2.4&quot;\n         xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;  &gt;\n\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;UserFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;teste.web.UserFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;UserFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/user/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;SecurityFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;teste.web.SecurityFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;SecurityFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;LoginServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;teste.web.LoginServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;LoginServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/login&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;LogoutServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;teste.web.LogoutServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;LogoutServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/logout&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;Rest&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;teste.web.RestServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Rest&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/soa&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n\n\n    &lt;error-page&gt;\n        &lt;error-code&gt;404&lt;/error-code&gt;\n        &lt;location&gt;/errors/erro404.jsp&lt;/location&gt;\n    &lt;/error-page&gt;\n\n    &lt;!--START FILES--&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;login.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n\n\n&lt;/web-app&gt;\n</code></pre>\n<p><strong>login.jsp</strong></p>\n<pre><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\n&lt;%@ page import=&quot;teste.web.LoginServlet&quot; %&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css&quot;&gt;\n\n    &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js&quot;&gt;&lt;/script&gt;\n\n    &lt;script src=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\n    &lt;title&gt;Login&lt;/title&gt;\n    &lt;style&gt;\n        .login-form {\n        border: hidden;\n            padding: 20px;\n            position: fixed;\n            left: 50%;\n            top: 50%;\n            transform: translate(-50%, -50%);\n        }\n        .form-group{\n            padding-left:40px;\n            padding-right:40px;\n        }\n        h3{\n            text-align: center;\n        }\n\n        body{\n            background-color: darkslateblue;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=&quot;container&quot; style=&quot;text-align:center;color:white;transform: translate(0%, 400%);&quot;&gt;\n    &lt;h2&gt;&lt;strong&gt;Soft&lt;/strong&gt;Ware&lt;/h2&gt;\n&lt;/div&gt;\n\n&lt;div class=&quot;container login-form&quot;&gt;\n    &lt;div class=&quot;panel panel-default&quot;&gt;\n        &lt;div class=&quot;panel-body&quot;&gt;\n            &lt;form class=&quot;form-horizontal&quot; action=&quot;&lt;%=request.getContextPath()%&gt;/login&quot; method=&quot;POST&quot;&gt;\n                &lt;div class=&quot;input-group&quot; style=&quot;padding-bottom: 10px;&quot;&gt;\n                    &lt;span class=&quot;input-group-addon&quot;&gt;&lt;i class=&quot;glyphicon glyphicon-user&quot;&gt;&lt;/i&gt;&lt;/span&gt;\n                    &lt;input id=&quot;username&quot; class=&quot;form-control&quot; placeholder=&quot;Username&quot; type=&quot;text&quot; name=&quot;username&quot;&gt;\n                &lt;/div&gt;\n\n                &lt;div class=&quot;input-group&quot;&gt;\n                    &lt;span class=&quot;input-group-addon&quot;&gt;&lt;i class=&quot;glyphicon glyphicon-lock&quot;&gt;&lt;/i&gt;&lt;/span&gt;\n                    &lt;input id=&quot;password&quot; class=&quot;form-control&quot; placeholder=&quot;Password&quot; type=&quot;password&quot; name=&quot;password&quot;&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;form-group&quot; style=&quot;text-align: center;padding-top: 10px;&quot;&gt;\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot; onclick=&quot;&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-ok&quot;&gt;&lt;/span&gt;  Submeter&lt;/button&gt;\n                &lt;/div&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Many thanks!</p>\n"},{"tags":["java","serialization","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645644667,"creation_date":1645644303,"answer_id":71242947,"question_id":71241038,"body_markdown":"&gt; As far as I see\r\n\r\nUnclear what examples you are finding, but Kafka stores bytes. `StringSerializer` is only one of [many Serializer interfaces available](https://github.com/apache/kafka/tree/3.1/clients/src/main/java/org/apache/kafka/common/serialization) and takes a (UTF-8) string to bytes. \r\n\r\n&gt; do some easy binding to structured data (e.g. a list or map)\r\n\r\nConfluent and Apicurio, for example, provide Avro and/or Protobuf serializers for binary serialization of Java objects that integrate with their Schema Registry products. \r\n\r\n&gt; serializing/deserializing it manually (e.g. in using JSON)?\r\n\r\nThere is already a built-in [`JsonSerializer`](https://github.com/apache/kafka/blob/3.1/connect/json/src/main/java/org/apache/kafka/connect/json/JsonSerializer.java) based on Jackson for Kafka clients to use or build into a Serde in Streams. (requires a dependency on `connect-api`, not just `kafka-clients`).\r\n\r\nSpring-Kafka also has its own [`JsonSerializer`](https://docs.spring.io/spring-kafka/api/org/springframework/kafka/support/serializer/JsonSerializer.html) class. \r\n","title":"Kafka: produce/consume structured data","body":"<blockquote>\n<p>As far as I see</p>\n</blockquote>\n<p>Unclear what examples you are finding, but Kafka stores bytes. <code>StringSerializer</code> is only one of <a href=\"https://github.com/apache/kafka/tree/3.1/clients/src/main/java/org/apache/kafka/common/serialization\" rel=\"nofollow noreferrer\">many Serializer interfaces available</a> and takes a (UTF-8) string to bytes.</p>\n<blockquote>\n<p>do some easy binding to structured data (e.g. a list or map)</p>\n</blockquote>\n<p>Confluent and Apicurio, for example, provide Avro and/or Protobuf serializers for binary serialization of Java objects that integrate with their Schema Registry products.</p>\n<blockquote>\n<p>serializing/deserializing it manually (e.g. in using JSON)?</p>\n</blockquote>\n<p>There is already a built-in <a href=\"https://github.com/apache/kafka/blob/3.1/connect/json/src/main/java/org/apache/kafka/connect/json/JsonSerializer.java\" rel=\"nofollow noreferrer\"><code>JsonSerializer</code></a> based on Jackson for Kafka clients to use or build into a Serde in Streams. (requires a dependency on <code>connect-api</code>, not just <code>kafka-clients</code>).</p>\n<p>Spring-Kafka also has its own <a href=\"https://docs.spring.io/spring-kafka/api/org/springframework/kafka/support/serializer/JsonSerializer.html\" rel=\"nofollow noreferrer\"><code>JsonSerializer</code></a> class.</p>\n"},{"tags":[],"owner":{"account_id":24241266,"reputation":71,"user_id":18193599,"display_name":"Lars"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645646302,"creation_date":1645646302,"answer_id":71243297,"question_id":71241038,"body_markdown":"I think what you&#39;re looking for is the Streams API: https://kafka.apache.org/documentation/streams/\r\n\r\nThere are some great explanations if you&#39;re new to Kafka, which gives a nice introduction to the whole domain.\r\n\r\nI suspect you will eventually end up with at the &quot;Data Type and Serialization&quot; section here: https://kafka.apache.org/31/documentation/streams/developer-guide/datatypes.html, so when you feel comfortable with the topic go look at that.","title":"Kafka: produce/consume structured data","body":"<p>I think what you're looking for is the Streams API: <a href=\"https://kafka.apache.org/documentation/streams/\" rel=\"nofollow noreferrer\">https://kafka.apache.org/documentation/streams/</a></p>\n<p>There are some great explanations if you're new to Kafka, which gives a nice introduction to the whole domain.</p>\n<p>I suspect you will eventually end up with at the &quot;Data Type and Serialization&quot; section here: <a href=\"https://kafka.apache.org/31/documentation/streams/developer-guide/datatypes.html\" rel=\"nofollow noreferrer\">https://kafka.apache.org/31/documentation/streams/developer-guide/datatypes.html</a>, so when you feel comfortable with the topic go look at that.</p>\n"}],"owner":{"account_id":117317,"reputation":11245,"user_id":307297,"accept_rate":62,"display_name":"chris01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71242947,"answer_count":2,"score":1,"last_activity_date":1645646302,"creation_date":1645635239,"question_id":71241038,"body_markdown":"I am new to Kafka and testing it with Java.\r\n\r\nAs far I see the messages I produce/consume with Kafka are strings.\r\n\r\nIs there some possiblity to do some easy binding to structured data (e.g. a list or map) or is the best way to do so in serializing/deserializing it manually (e.g. in using JSON)?","title":"Kafka: produce/consume structured data","body":"<p>I am new to Kafka and testing it with Java.</p>\n<p>As far I see the messages I produce/consume with Kafka are strings.</p>\n<p>Is there some possiblity to do some easy binding to structured data (e.g. a list or map) or is the best way to do so in serializing/deserializing it manually (e.g. in using JSON)?</p>\n"},{"tags":["java","maven","dependency-injection","cucumber"],"comments":[{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":0,"creation_date":1485972260,"post_id":41985002,"comment_id":71150887,"body_markdown":"Is there a restriction of having step or hook classes without extending the base classes. The code you have added is pretty standard. It should work if you cut-paste this method to another class or a new class which does not extend another step or hook class.","body":"Is there a restriction of having step or hook classes without extending the base classes. The code you have added is pretty standard. It should work if you cut-paste this method to another class or a new class which does not extend another step or hook class."},{"owner":{"account_id":10156650,"reputation":31,"user_id":7501545,"display_name":"Jes&#250;s"},"score":0,"creation_date":1486024660,"post_id":41985002,"comment_id":71171569,"body_markdown":"For reusing same step definitions someone created a Class CommonSteps and included it in the glue path. So its definitions are available for all feature files in the test. However, moving this method to another class which does not extend another step of hook class does not work.","body":"For reusing same step definitions someone created a Class CommonSteps and included it in the glue path. So its definitions are available for all feature files in the test. However, moving this method to another class which does not extend another step of hook class does not work."},{"owner":{"account_id":7203312,"reputation":1453,"user_id":5499829,"accept_rate":100,"display_name":"tom"},"score":0,"creation_date":1486812649,"post_id":41985002,"comment_id":71514224,"body_markdown":"In which class is the method located?","body":"In which class is the method located?"},{"owner":{"account_id":7470769,"reputation":1333,"user_id":5678845,"accept_rate":100,"display_name":"Roberto Pegoraro"},"score":0,"creation_date":1493234614,"post_id":41985002,"comment_id":74334030,"body_markdown":"Possible duplicate of [Cucumber class extending step definitions and hooks](http://stackoverflow.com/questions/34771928/cucumber-class-extending-step-definitions-and-hooks)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/34771928/cucumber-class-extending-step-definitions-and-hooks\">Cucumber class extending step definitions and hooks</a>"}],"answers":[{"tags":[],"owner":{"account_id":10411107,"reputation":49,"user_id":7676467,"display_name":"Mohit Sharma"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1488967531,"creation_date":1488967531,"answer_id":42668289,"question_id":41985002,"body_markdown":"Cucumber creates a new instance of all classes defining stepdefs before each scenario.\r\nIt then invokes stepdef methods on *one* of those instances whenever it needs to run a step.\r\n\r\nIf you defined a stepdef method foo in class A and you have a class B extends A you&#39;d get an a and b instance.\r\nThe foo method would be available on both instances, and Cucumber would not be able to decide what instance to invoke the method on.\r\n\r\nThat&#39;s why we don&#39;t allow it.\r\n\r\nThe solution is to use composition instead of inheritance. You can achieve composition with dependency injection - Cucumber supports several popular DI frameworks.","title":"Cucumber: You&#39;re not allowed to extend classes that define step definitions or hooks","body":"<p>Cucumber creates a new instance of all classes defining stepdefs before each scenario.\nIt then invokes stepdef methods on <em>one</em> of those instances whenever it needs to run a step.</p>\n\n<p>If you defined a stepdef method foo in class A and you have a class B extends A you'd get an a and b instance.\nThe foo method would be available on both instances, and Cucumber would not be able to decide what instance to invoke the method on.</p>\n\n<p>That's why we don't allow it.</p>\n\n<p>The solution is to use composition instead of inheritance. You can achieve composition with dependency injection - Cucumber supports several popular DI frameworks.</p>\n"},{"tags":[],"owner":{"account_id":2928802,"reputation":1845,"user_id":2509595,"accept_rate":38,"display_name":"Tom Bunting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493371454,"creation_date":1493371454,"answer_id":43676658,"question_id":41985002,"body_markdown":"As has been stated, Cucumber does not allow you to extend step definition base classes.  I have just hit this error attempting to re-use a suite of step defs across two different integration test profiles (app is SpringBoot+Java8 but crucially, we write our Cucumber Step definitions in Groovy..).\r\n\r\nThe solution / workaround I found was to define the common, re-usable, annotated step definitions in a Groovy [trait][1], then have one or more concrete classes implement that trait and simply define / override any behaviour from the trait and most importantly, declare the Spring int-test profile I want to run with. This seems to work well.\r\n\r\n\r\n  [1]: http://docs.groovy-lang.org/next/html/documentation/core-traits.html","title":"Cucumber: You&#39;re not allowed to extend classes that define step definitions or hooks","body":"<p>As has been stated, Cucumber does not allow you to extend step definition base classes.  I have just hit this error attempting to re-use a suite of step defs across two different integration test profiles (app is SpringBoot+Java8 but crucially, we write our Cucumber Step definitions in Groovy..).</p>\n\n<p>The solution / workaround I found was to define the common, re-usable, annotated step definitions in a Groovy <a href=\"http://docs.groovy-lang.org/next/html/documentation/core-traits.html\" rel=\"nofollow noreferrer\">trait</a>, then have one or more concrete classes implement that trait and simply define / override any behaviour from the trait and most importantly, declare the Spring int-test profile I want to run with. This seems to work well.</p>\n"},{"tags":[],"owner":{"account_id":9779766,"reputation":211,"user_id":7248308,"display_name":"Nitish Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587029424,"creation_date":1587029424,"answer_id":61246983,"question_id":41985002,"body_markdown":"you can define your @Before or @After steps in stepdefinition and then add method in base class \r\n\r\nstepdefinition:\r\n\r\n       @After\r\n    public void after(Scenario scenario) {\r\n        this.scenario = scenario;\r\n    }\r\nbaseclass method:\r\n\r\n        public static Scenario scenario;\r\n\r\n        public Scenario tearDown(Scenario scenario){\r\n\r\n            if (scenario.isFailed()) {\r\n        final byte[] screenshot = ((TakesScreenshot)driver).getScreenshotAs(OutputType.BYTES);\r\n        scenario.embed(screenshot, &quot;image/png&quot;); \r\n       }\r\n     return scenario;\r\n     }","title":"Cucumber: You&#39;re not allowed to extend classes that define step definitions or hooks","body":"<p>you can define your @Before or @After steps in stepdefinition and then add method in base class </p>\n\n<p>stepdefinition:</p>\n\n<pre><code>   @After\npublic void after(Scenario scenario) {\n    this.scenario = scenario;\n}\n</code></pre>\n\n<p>baseclass method:</p>\n\n<pre><code>    public static Scenario scenario;\n\n    public Scenario tearDown(Scenario scenario){\n\n        if (scenario.isFailed()) {\n    final byte[] screenshot = ((TakesScreenshot)driver).getScreenshotAs(OutputType.BYTES);\n    scenario.embed(screenshot, \"image/png\"); \n   }\n return scenario;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3245632,"reputation":124,"user_id":2737314,"display_name":"Lucas"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1645646136,"creation_date":1645642856,"answer_id":71242684,"question_id":41985002,"body_markdown":"I had the same problem and solved it following the approach described here.\r\n\r\nUse PicoContainer to achieve dependency injection and share state.\r\n\r\nHere you can find the latest version considering the date of this post: https://mvnrepository.com/artifact/io.cucumber/cucumber-picocontainer/7.2.3\r\n\r\nYou just need to add the PicoContainer&#39;s dependency and that&#39;s it. No configuration is needed.\r\n\r\nI&#39;ve used constructor dependency injection. I don&#39;t know if PicoContainer supports other kinds of dependency injection, like a setter method or annotations.\r\n\r\nConsidering the classes that you have mentioned, when applying dependency injection they should be like the below example:\r\n\r\n    public class CommonScript {\r\n    }\r\n\r\n\r\n    public class CommonBase {\r\n        private final CommonScript commonScript;\r\n    \r\n        public CommonBase(CommonScript commonScript) {\r\n            this.commonScript = commonScript;\r\n        }\r\n    }\r\n\r\n\r\n    public class CommonSteps {\r\n        private final CommonBase commonBase;\r\n    \r\n        public CommonSteps(CommonBase commonBase) {\r\n            this.commonBase = commonBase;\r\n        }\r\n    }\r\n\r\nFollowing the above structure, you can:\r\n\r\n 1. create step definitions and reuse them in your *&quot;.feature&quot;*\r\n    files; \r\n 2. define hooks; \r\n 3. share state;\r\n\r\nReference:\r\n - https://cucumber.io/docs/cucumber/state/\r\n - https://cucumber.io/blog/bdd/polymorphic-step-definitions/","title":"Cucumber: You&#39;re not allowed to extend classes that define step definitions or hooks","body":"<p>I had the same problem and solved it following the approach described here.</p>\n<p>Use PicoContainer to achieve dependency injection and share state.</p>\n<p>Here you can find the latest version considering the date of this post: <a href=\"https://mvnrepository.com/artifact/io.cucumber/cucumber-picocontainer/7.2.3\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.cucumber/cucumber-picocontainer/7.2.3</a></p>\n<p>You just need to add the PicoContainer's dependency and that's it. No configuration is needed.</p>\n<p>I've used constructor dependency injection. I don't know if PicoContainer supports other kinds of dependency injection, like a setter method or annotations.</p>\n<p>Considering the classes that you have mentioned, when applying dependency injection they should be like the below example:</p>\n<pre><code>public class CommonScript {\n}\n\n\npublic class CommonBase {\n    private final CommonScript commonScript;\n\n    public CommonBase(CommonScript commonScript) {\n        this.commonScript = commonScript;\n    }\n}\n\n\npublic class CommonSteps {\n    private final CommonBase commonBase;\n\n    public CommonSteps(CommonBase commonBase) {\n        this.commonBase = commonBase;\n    }\n}\n</code></pre>\n<p>Following the above structure, you can:</p>\n<ol>\n<li>create step definitions and reuse them in your <em>&quot;.feature&quot;</em>\nfiles;</li>\n<li>define hooks;</li>\n<li>share state;</li>\n</ol>\n<p>Reference:</p>\n<ul>\n<li><a href=\"https://cucumber.io/docs/cucumber/state/\" rel=\"nofollow noreferrer\">https://cucumber.io/docs/cucumber/state/</a></li>\n<li><a href=\"https://cucumber.io/blog/bdd/polymorphic-step-definitions/\" rel=\"nofollow noreferrer\">https://cucumber.io/blog/bdd/polymorphic-step-definitions/</a></li>\n</ul>\n"}],"owner":{"account_id":10156650,"reputation":31,"user_id":7501545,"display_name":"Jes&#250;s"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11664,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1645646136,"creation_date":1485967188,"question_id":41985002,"body_markdown":"I have inherited from others a big project of testing whose main Java classes are CommonSteps, CommonBase and CommonScript. They are currently related in this way:\r\n\r\nCommonSteps extends CommonBase\r\n\r\nCommonBase extends CommonScript\r\n\r\nThe problem is with the next method when I try to run the project with `mvn clean install`:\r\n\r\n    @After\r\n    public void tearDown(Scenario scenario) {\r\n      if (scenario.isFailed()) {\r\n        // Take a screenshot...\r\n        final byte[] screenshot = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\r\n        scenario.embed(screenshot, &quot;image/png&quot;); // ... and embed it in the report.\r\n      }\r\n    }\r\n\r\nI get the error:\r\n\r\n&gt; cucumber.runtime.CucumberException: You&#39;re not allowed to extend classes that define step definitions or hooks: steps.CommonSteps extends class common.CommonBase.\r\n\r\nHow could I start working with dependency injection deleting everything related to inheritance?","title":"Cucumber: You&#39;re not allowed to extend classes that define step definitions or hooks","body":"<p>I have inherited from others a big project of testing whose main Java classes are CommonSteps, CommonBase and CommonScript. They are currently related in this way:</p>\n\n<p>CommonSteps extends CommonBase</p>\n\n<p>CommonBase extends CommonScript</p>\n\n<p>The problem is with the next method when I try to run the project with <code>mvn clean install</code>:</p>\n\n<pre><code>@After\npublic void tearDown(Scenario scenario) {\n  if (scenario.isFailed()) {\n    // Take a screenshot...\n    final byte[] screenshot = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\n    scenario.embed(screenshot, \"image/png\"); // ... and embed it in the report.\n  }\n}\n</code></pre>\n\n<p>I get the error:</p>\n\n<blockquote>\n  <p>cucumber.runtime.CucumberException: You're not allowed to extend classes that define step definitions or hooks: steps.CommonSteps extends class common.CommonBase.</p>\n</blockquote>\n\n<p>How could I start working with dependency injection deleting everything related to inheritance?</p>\n"},{"tags":["java","spring","buffer"],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1645645894,"creation_date":1645645894,"question_id":71243207,"body_markdown":"I want to collect multiple `DataBuffer` contents, and then output it as a `String`.\r\n\r\nIs it better from performance point of view to explicit write every buffer into a `StringBuilder`, or to write the into another `DataBuffer`?\r\n\r\n    class CollectingBuffer {\r\n       \tprivate StringBuilder sb = new StringBuilder();\r\n        private DataBuffer collect = BUFFER_FACTORY.allocateBuffer();\r\n        \r\n        //can be called multiple times\r\n        public void collect(org.springframework.core.io.buffer.DataBuffer buffer) {\r\n            sb.append(StandardCharsets.UTF_8.decode(buffer.asByteBuffer()));\r\n            collect.write(buffer);\r\n        }\r\n        \r\n        public String buildByBuffer() {\r\n            return StandardCharsets.UTF_8.decode(collect.asByteBuffer()).toString()\r\n        }\r\n        \r\n        public String buildByStringBuilder() {\r\n            return sb.build();\r\n        }\r\n    }\r\n\r\n","title":"How to collect multiple String DataBuffer to String?","body":"<p>I want to collect multiple <code>DataBuffer</code> contents, and then output it as a <code>String</code>.</p>\n<p>Is it better from performance point of view to explicit write every buffer into a <code>StringBuilder</code>, or to write the into another <code>DataBuffer</code>?</p>\n<pre><code>class CollectingBuffer {\n    private StringBuilder sb = new StringBuilder();\n    private DataBuffer collect = BUFFER_FACTORY.allocateBuffer();\n    \n    //can be called multiple times\n    public void collect(org.springframework.core.io.buffer.DataBuffer buffer) {\n        sb.append(StandardCharsets.UTF_8.decode(buffer.asByteBuffer()));\n        collect.write(buffer);\n    }\n    \n    public String buildByBuffer() {\n        return StandardCharsets.UTF_8.decode(collect.asByteBuffer()).toString()\n    }\n    \n    public String buildByStringBuilder() {\n        return sb.build();\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","maven","jitpack"],"comments":[{"owner":{"account_id":49251,"reputation":581,"user_id":146567,"accept_rate":45,"display_name":"Sam"},"score":0,"creation_date":1650967899,"post_id":71243185,"comment_id":127243896,"body_markdown":"That works for me in vscode. However, deliberately inserting a typo (e.g. compatiblez) reroduces your problem.","body":"That works for me in vscode. However, deliberately inserting a typo (e.g. compatiblez) reroduces your problem."}],"owner":{"account_id":22805042,"reputation":307,"user_id":16957185,"display_name":"Gumpf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645645743,"creation_date":1645645743,"question_id":71243185,"body_markdown":"Having some trouble with a Maven project I&#39;m making. I recently found a library I want to use distributed through Jitpack; I&#39;ve never heard of it, but it seemed fairly simple to add a Maven dependency with it, so I followed the example to get a pom.xml like this:\r\n\r\n```\r\n&lt;repositories&gt;\r\n\t&lt;repository&gt;\r\n\t    &lt;id&gt;jitpack.io&lt;/id&gt;\r\n\t    &lt;url&gt;https://jitpack.io&lt;/url&gt;\r\n\t&lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.github.IQSS&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;dataverse-client-java&lt;/artifactId&gt;\r\n\t    &lt;version&gt;dv14-12-compatible&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nI&#39;ve stripped out a lot, as everything else works just fine. Only when adding the above sections to the pom.xml does Eclipse complain that the artifact is missing. Here is the URL to the library I&#39;d like to use: https://github.com/IQSS/dataverse-client-java\r\n\r\nTo my knowledge I&#39;ve constructed the repository and dependency information correctly. Is on of them incorrect? Or have I neglect a step in adding this dependency? I have done nothing to the project except add the above entries to my pom.\r\n\r\nThanks!","title":"Maven + Jitpack Dependency Missing Artifact","body":"<p>Having some trouble with a Maven project I'm making. I recently found a library I want to use distributed through Jitpack; I've never heard of it, but it seemed fairly simple to add a Maven dependency with it, so I followed the example to get a pom.xml like this:</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;jitpack.io&lt;/id&gt;\n        &lt;url&gt;https://jitpack.io&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.IQSS&lt;/groupId&gt;\n        &lt;artifactId&gt;dataverse-client-java&lt;/artifactId&gt;\n        &lt;version&gt;dv14-12-compatible&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>I've stripped out a lot, as everything else works just fine. Only when adding the above sections to the pom.xml does Eclipse complain that the artifact is missing. Here is the URL to the library I'd like to use: <a href=\"https://github.com/IQSS/dataverse-client-java\" rel=\"nofollow noreferrer\">https://github.com/IQSS/dataverse-client-java</a></p>\n<p>To my knowledge I've constructed the repository and dependency information correctly. Is on of them incorrect? Or have I neglect a step in adding this dependency? I have done nothing to the project except add the above entries to my pom.</p>\n<p>Thanks!</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":1088632,"reputation":1422,"user_id":1083775,"accept_rate":60,"display_name":"samy"},"score":0,"creation_date":1634823647,"post_id":69661832,"comment_id":123134376,"body_markdown":"Hi Lina, please provide additional information about the version of Elasticsearch and java client you are using and also the structure of your documents that you are trying to find. The additional code around your query and how you are executing the query might also be relevant. Best samy","body":"Hi Lina, please provide additional information about the version of Elasticsearch and java client you are using and also the structure of your documents that you are trying to find. The additional code around your query and how you are executing the query might also be relevant. Best samy"},{"owner":{"account_id":21380244,"reputation":45,"user_id":15746284,"display_name":"Lina"},"score":0,"creation_date":1634825253,"post_id":69661832,"comment_id":123135191,"body_markdown":"Hi @samy, I added some info to my initial post, now I just get an Internal Server error... :(","body":"Hi @samy, I added some info to my initial post, now I just get an Internal Server error... :("},{"owner":{"account_id":1088632,"reputation":1422,"user_id":1083775,"accept_rate":60,"display_name":"samy"},"score":0,"creation_date":1634828945,"post_id":69661832,"comment_id":123136994,"body_markdown":"Hi Lina, what server error do you get? I recommend that you add as much information to your question as possible.","body":"Hi Lina, what server error do you get? I recommend that you add as much information to your question as possible."}],"answers":[{"tags":[],"owner":{"account_id":13259080,"reputation":236,"user_id":9574235,"display_name":"Abhishek Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645645699,"creation_date":1645645699,"answer_id":71243177,"question_id":69661832,"body_markdown":"Here is a sample code written for country index which is searching for data provided in map. Customize it according to your needs.\r\n\r\n    //using map for country\r\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;country&quot; , &quot;FRANCE&quot;);\r\n        map.put(&quot;countryCode&quot;, &quot;FR&quot;);\r\n        //List of should queries this will go in should clause of bool query\r\n        List&lt;Query&gt; shouldQueryList = new ArrayList&lt;&gt;();\r\n        for (Map.Entry&lt;String, String&gt; entry :map.entrySet()) {\r\n            //list of terms to match i.e value from map and all.\r\n            List&lt;FieldValue&gt; list = Arrays.asList(FieldValue.of(entry.getValue()), FieldValue.of(&quot;ALL&quot;));\r\n            //Terms query\r\n            Query query = new Query.Builder().terms(termsQueryBuilder -&gt; termsQueryBuilder\r\n                    .field(entry.getKey())\r\n                    .terms(termQueryField -&gt; termQueryField\r\n                            .value(list))).build();\r\n            shouldQueryList.add(query);\r\n        }\r\n\r\n        try {\r\n            //running search from elastic search java client 7.16.3\r\n            SearchResponse&lt;Country&gt; response = elasticsearchClient.search(searchRequest -&gt; searchRequest\r\n                            .query(qBuilder -&gt; qBuilder\r\n                                    .bool(boolQueryBuilder -&gt; boolQueryBuilder\r\n                                            //using should query list here\r\n                                            .should(shouldQueryList)))\r\n                    , Country.class);\r\n            response.hits().hits().forEach(a -&gt; {\r\n                //Print matching country name in console\r\n                System.out.println(a.source().getCountry());\r\n            });\r\n        } catch (IOException e) {\r\n            log.info(e.getMessage());\r\n        }\r\n\r\nAbove code will generate query like this : \r\n\r\n    {&quot;query&quot;:{&quot;bool&quot;:{&quot;should&quot;:[{&quot;terms&quot;:{&quot;country&quot;:[&quot;FRANCE&quot;,&quot;ALL&quot;]}},{&quot;terms&quot;:{&quot;countryCode&quot;:[&quot;FR&quot;,&quot;ALL&quot;]}}]}}}","title":"Java ElasticSearch API search multiple possible values","body":"<p>Here is a sample code written for country index which is searching for data provided in map. Customize it according to your needs.</p>\n<pre><code>//using map for country\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;country&quot; , &quot;FRANCE&quot;);\n    map.put(&quot;countryCode&quot;, &quot;FR&quot;);\n    //List of should queries this will go in should clause of bool query\n    List&lt;Query&gt; shouldQueryList = new ArrayList&lt;&gt;();\n    for (Map.Entry&lt;String, String&gt; entry :map.entrySet()) {\n        //list of terms to match i.e value from map and all.\n        List&lt;FieldValue&gt; list = Arrays.asList(FieldValue.of(entry.getValue()), FieldValue.of(&quot;ALL&quot;));\n        //Terms query\n        Query query = new Query.Builder().terms(termsQueryBuilder -&gt; termsQueryBuilder\n                .field(entry.getKey())\n                .terms(termQueryField -&gt; termQueryField\n                        .value(list))).build();\n        shouldQueryList.add(query);\n    }\n\n    try {\n        //running search from elastic search java client 7.16.3\n        SearchResponse&lt;Country&gt; response = elasticsearchClient.search(searchRequest -&gt; searchRequest\n                        .query(qBuilder -&gt; qBuilder\n                                .bool(boolQueryBuilder -&gt; boolQueryBuilder\n                                        //using should query list here\n                                        .should(shouldQueryList)))\n                , Country.class);\n        response.hits().hits().forEach(a -&gt; {\n            //Print matching country name in console\n            System.out.println(a.source().getCountry());\n        });\n    } catch (IOException e) {\n        log.info(e.getMessage());\n    }\n</code></pre>\n<p>Above code will generate query like this :</p>\n<pre><code>{&quot;query&quot;:{&quot;bool&quot;:{&quot;should&quot;:[{&quot;terms&quot;:{&quot;country&quot;:[&quot;FRANCE&quot;,&quot;ALL&quot;]}},{&quot;terms&quot;:{&quot;countryCode&quot;:[&quot;FR&quot;,&quot;ALL&quot;]}}]}}}\n</code></pre>\n"}],"owner":{"account_id":21380244,"reputation":45,"user_id":15746284,"display_name":"Lina"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":814,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645645699,"creation_date":1634818611,"question_id":69661832,"body_markdown":"I&#39;m searching in multiple fields, and I want to get results if the record matches a specific value (entry.getValue()) or the String &quot;ALL&quot;\r\n\r\nHere is my code, but it&#39;s not working.\r\n```\r\nSearchRequest searchRequest = new SearchRequest(MY_INDEX);\r\nfinal BoolQueryBuilder booleanQuery = QueryBuilders.boolQuery();\r\nsearchRequest.source().query(booleanQuery);\r\nfinal BoolQueryBuilder booleanQuery= QueryBuilders.boolQuery();\r\nfor (Map.Entry&lt;String, String&gt; entry : params.entrySet()) {\r\n        \t  booleanQuery.should(QueryBuilders.termsQuery(entry.getKey(), entry.getValue(), &quot;ALL&quot;);\r\n        }\r\n```\r\nI&#39;m using JDK 11 and ES 7.1","title":"Java ElasticSearch API search multiple possible values","body":"<p>I'm searching in multiple fields, and I want to get results if the record matches a specific value (entry.getValue()) or the String &quot;ALL&quot;</p>\n<p>Here is my code, but it's not working.</p>\n<pre><code>SearchRequest searchRequest = new SearchRequest(MY_INDEX);\nfinal BoolQueryBuilder booleanQuery = QueryBuilders.boolQuery();\nsearchRequest.source().query(booleanQuery);\nfinal BoolQueryBuilder booleanQuery= QueryBuilders.boolQuery();\nfor (Map.Entry&lt;String, String&gt; entry : params.entrySet()) {\n              booleanQuery.should(QueryBuilders.termsQuery(entry.getKey(), entry.getValue(), &quot;ALL&quot;);\n        }\n</code></pre>\n<p>I'm using JDK 11 and ES 7.1</p>\n"},{"tags":["java","logging","log4j","war"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1645642097,"post_id":71242500,"comment_id":125929452,"body_markdown":"Did you try to set `append` to `true`?","body":"Did you try to set <code>append</code> to <code>true</code>?"},{"owner":{"account_id":19657670,"reputation":31,"user_id":14389915,"display_name":"Muhammad Hassan"},"score":0,"creation_date":1645642233,"post_id":71242500,"comment_id":125929527,"body_markdown":"Yes, I did with WAR-A log4j configurations and it was working correctly as expected but the issue of not creating the new file after reaching 500KB was not fixed with this.","body":"Yes, I did with WAR-A log4j configurations and it was working correctly as expected but the issue of not creating the new file after reaching 500KB was not fixed with this."}],"owner":{"account_id":19657670,"reputation":31,"user_id":14389915,"display_name":"Muhammad Hassan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645645152,"creation_date":1645641981,"question_id":71242500,"body_markdown":"I have multiple WAR files (WAR-A, WAR-B and WAR-C) for which I want to have all logs into a single log file &quot;ABC.log&quot;. I have created three &quot;log4j.xml&quot; with the same configurations for each WAR file. Now, the log4j is working but it is writing all the logs in a very haphazard and non-organized manner. Means they are not in proper sequence. \r\n\r\nLogs of WAR-A and WAR-C are appearing at the start of the file while the logs of WAR-B are appearing at the end of the file. They should have to be in a sequence ideally. Also the new file is not creating up upon reaching the defined &quot;MaxFileSize&quot;. \r\n\r\nOne more thing, if I remove the &quot;log4j.xml&quot; configuration file from WAR-B then WAR-A and WAR-C logs are appearing in right manner. But, in this way I&#39;m losing the WAR-B logs coz I have removed the log4j.xml.\r\n\r\nMy log4j configurations are:\r\n\r\n\t&lt;!-- Appenders --&gt;\t\r\n\t\r\n\t&lt;appender name=&quot;RollingFileAppender&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\r\n\t\t&lt;param name=&quot;append&quot; value=&quot;false&quot; /&gt;\r\n\t\t&lt;param name=&quot;maxFileSize&quot; value=&quot;500KB&quot; /&gt;\r\n\t\t&lt;param name=&quot;maxBackupIndex&quot; value=&quot;50&quot; /&gt;\r\n\t\t&lt;param name=&quot;file&quot; value=&quot;c:/logs/ABC.log&quot; /&gt;\r\n\t\t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n\t\t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{2}:%L - %m%n&quot; /&gt;\r\n\t\t&lt;/layout&gt;\r\n\t&lt;/appender&gt;\r\n\r\n\t&lt;!-- Root Logger --&gt;\r\n\t&lt;root&gt;\r\n\t\t&lt;priority value=&quot;info&quot; /&gt;\r\n\t\t&lt;appender-ref ref=&quot;RollingFileAppender&quot; /&gt;\r\n\t&lt;/root&gt;\r\n\r\nFor the reference, I am using Wildfly 9.0.2 as my application server. Please share your thoughts how I can fix this issue. Any help would be really appreciated!","title":"How to config and sync logs of two WAR files in a single log file using log4j 1.2.7?","body":"<p>I have multiple WAR files (WAR-A, WAR-B and WAR-C) for which I want to have all logs into a single log file &quot;ABC.log&quot;. I have created three &quot;log4j.xml&quot; with the same configurations for each WAR file. Now, the log4j is working but it is writing all the logs in a very haphazard and non-organized manner. Means they are not in proper sequence.</p>\n<p>Logs of WAR-A and WAR-C are appearing at the start of the file while the logs of WAR-B are appearing at the end of the file. They should have to be in a sequence ideally. Also the new file is not creating up upon reaching the defined &quot;MaxFileSize&quot;.</p>\n<p>One more thing, if I remove the &quot;log4j.xml&quot; configuration file from WAR-B then WAR-A and WAR-C logs are appearing in right manner. But, in this way I'm losing the WAR-B logs coz I have removed the log4j.xml.</p>\n<p>My log4j configurations are:</p>\n<pre><code>&lt;!-- Appenders --&gt;  \n\n&lt;appender name=&quot;RollingFileAppender&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\n    &lt;param name=&quot;append&quot; value=&quot;false&quot; /&gt;\n    &lt;param name=&quot;maxFileSize&quot; value=&quot;500KB&quot; /&gt;\n    &lt;param name=&quot;maxBackupIndex&quot; value=&quot;50&quot; /&gt;\n    &lt;param name=&quot;file&quot; value=&quot;c:/logs/ABC.log&quot; /&gt;\n    &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n        &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{2}:%L - %m%n&quot; /&gt;\n    &lt;/layout&gt;\n&lt;/appender&gt;\n\n&lt;!-- Root Logger --&gt;\n&lt;root&gt;\n    &lt;priority value=&quot;info&quot; /&gt;\n    &lt;appender-ref ref=&quot;RollingFileAppender&quot; /&gt;\n&lt;/root&gt;\n</code></pre>\n<p>For the reference, I am using Wildfly 9.0.2 as my application server. Please share your thoughts how I can fix this issue. Any help would be really appreciated!</p>\n"},{"tags":["javascript","java","android"],"comments":[{"owner":{"display_name":"user5734311"},"score":1,"creation_date":1645643474,"post_id":71242768,"comment_id":125929955,"body_markdown":"Are you asking how to stream the android screen to a website? Please clarify. Also mind the [xy problem](https://xyproblem.info/)","body":"Are you asking how to stream the android screen to a website? Please clarify. Also mind the <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">xy problem</a>"},{"owner":{"account_id":20686862,"reputation":51,"user_id":18233830,"display_name":"Felipe Augusto Yakashin"},"score":0,"creation_date":1645643863,"post_id":71242768,"comment_id":125930097,"body_markdown":"Yes, but in my app I capture several images, but I don&#39;t know the best way to transmit them.","body":"Yes, but in my app I capture several images, but I don&#39;t know the best way to transmit them."},{"owner":{"account_id":20686862,"reputation":51,"user_id":18233830,"display_name":"Felipe Augusto Yakashin"},"score":0,"creation_date":1645643885,"post_id":71242768,"comment_id":125930105,"body_markdown":"I will adjust my question","body":"I will adjust my question"},{"owner":{"display_name":"user5734311"},"score":0,"creation_date":1645646049,"post_id":71242768,"comment_id":125930809,"body_markdown":"So you are capturing images because your goal is to stream the screen? Because you don&#39;t know how to actually create a video stream, right? Again, mind the [*xy problem*](https://xyproblem.info/) --- also, I found this: https://github.com/fyhertz/spydroid-ipcamera","body":"So you are capturing images because your goal is to stream the screen? Because you don&#39;t know how to actually create a video stream, right? Again, mind the <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\"><i>xy problem</i></a> --- also, I found this: <a href=\"https://github.com/fyhertz/spydroid-ipcamera\" rel=\"nofollow noreferrer\">github.com/fyhertz/spydroid-ipcamera</a>"},{"owner":{"account_id":20686862,"reputation":51,"user_id":18233830,"display_name":"Felipe Augusto Yakashin"},"score":0,"creation_date":1645704934,"post_id":71242768,"comment_id":125945520,"body_markdown":"Thanks, I had already seen this api, but I don&#39;t know how to start implementing it in the code I already have. I found it difficult to implement, so I opted to send the images to firebase storage and then list them. It worked, but the transition of the images was slow.","body":"Thanks, I had already seen this api, but I don&#39;t know how to start implementing it in the code I already have. I found it difficult to implement, so I opted to send the images to firebase storage and then list them. It worked, but the transition of the images was slow."},{"owner":{"account_id":20686862,"reputation":51,"user_id":18233830,"display_name":"Felipe Augusto Yakashin"},"score":0,"creation_date":1645705012,"post_id":71242768,"comment_id":125945547,"body_markdown":"I found this tutorial, but the person uses wowza in the middle to broadcast. https://www.androidhive.info/2014/06/android-streaming-live-camera-video-to-web-page/","body":"I found this tutorial, but the person uses wowza in the middle to broadcast. <a href=\"https://www.androidhive.info/2014/06/android-streaming-live-camera-video-to-web-page/\" rel=\"nofollow noreferrer\">androidhive.info/2014/06/&hellip;</a>"}],"owner":{"account_id":20686862,"reputation":51,"user_id":18233830,"display_name":"Felipe Augusto Yakashin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645643967,"creation_date":1645643319,"question_id":71242768,"body_markdown":"What is the fastest transfer to send an image from the android app to a php web system?\r\nI have tried sending the images to firebase storage and the url to realtime, and in the web interface I list these images to show them as a video. But this way the transitions are very slow.\r\nSo I ask what is the best way? Via retrofit? socket? Or another way of transfer that is faster than the one I showed you?\r\nIn short: I want to transmit the screen from android to a website, but the problem is that I capture several images one by one.\r\n\r\n    //TRANSFOMAR BITMAP EM ARRAY DE BYTES\r\n                        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n                        bitmap.compress(Bitmap.CompressFormat.JPEG, 5, baos);\r\n    \r\n                        byte[] dadosImagem = baos.toByteArray();\r\n    \r\n                        //criar nome unico de imagem\r\n                        //String nomeImagem = UUID.randomUUID().toString();\r\n    \r\n                        StorageReference imagemRef = storageReference\r\n                                .child(&quot;imagens&quot;)\r\n                                .child(&quot;screenshot&quot;)\r\n                                .child(idUser)\r\n                                .child(IMAGES_PRODUCED+&quot;.jpeg&quot;);\r\n    \r\n                        //fazer upload da imagem\r\n                        UploadTask uploadTask = imagemRef.putBytes(dadosImagem);\r\n    \r\n                        //se o upload foi feito com sucesso iremos inserir a URL da imagem no realtime\r\n                        uploadTask.addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                            @Override\r\n                            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n    \r\n                                //em versoes anteriores do a gente recuperava assim taskSnapshot.getDownloadUrl();\r\n                                //recuperar a url para inserir no realtime\r\n    \r\n                                imagemRef.getDownloadUrl().addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n                                    @Override\r\n                                    public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                                        //aqui temos a url da imagem\r\n                                        String url = task.getResult().toString();\r\n    \r\n                                        Log.d(&quot;TAG&quot;, IMAGES_PRODUCED + url);\r\n    \r\n                                        //grava a url recuperada da imagem no realtime\r\n                                        Imagem imagem = new Imagem();\r\n                                        imagem.setUrl(url);\r\n                                        imagem.setIdUsuario(idUser);\r\n                                        imagem.salvarImagem();\r\n\r\nsistema_web.php\r\n\r\nHere on the web site with php and js I list the url of the images that were registered in firebase realtime.\r\n\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\t\t\t\t\t\r\n    \r\n    \t\t\t\tfirebase.database().ref(&#39;screenshot/&#39;&lt;?=$_GET[&#39;idUserFirebase&#39;]?&gt;).on(&#39;value&#39;, (snapshot)=&gt;{\r\n    \r\n    \r\n    \t\t\t\t\tsnapshot.forEach(item =&gt; {\r\n    \r\n    \t\t\t\t\t\t//console.log(snapshot.val());\r\n    \r\n    \t\t\t\t\t\t//var img = document.querySelector(&quot;#screenshot&quot;);\r\n    \t\t\t\t\t\t//img.setAttribute(&#39;src&#39;, item.key);\r\n    \t\t\t\t\t\tlet chave = item.key;\r\n    \t\t\t\t\t\tlet dado = item.val();\t\t\t\t\t\t\r\n    \t\t\t\t\t\tconsole.log(chave, dado);\r\n    \r\n    \t\t\t\t\t\tvar img = document.querySelector(&quot;#screenshot&quot;);\r\n    \t\t\t\t\t\timg.setAttribute(&#39;src&#39;, dado);\r\n    \r\n    \t\t\t\t\t});\t\t\t\t\r\n    \t\t\t\t\t\r\n    \r\n    \t\t\t\t});\t\t\t\t  \r\n    \r\n    \t\t\t&lt;/script&gt;\r\n\r\n","title":"Faster way to transfer image from android to web interface","body":"<p>What is the fastest transfer to send an image from the android app to a php web system?\nI have tried sending the images to firebase storage and the url to realtime, and in the web interface I list these images to show them as a video. But this way the transitions are very slow.\nSo I ask what is the best way? Via retrofit? socket? Or another way of transfer that is faster than the one I showed you?\nIn short: I want to transmit the screen from android to a website, but the problem is that I capture several images one by one.</p>\n<pre><code>//TRANSFOMAR BITMAP EM ARRAY DE BYTES\n                    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n                    bitmap.compress(Bitmap.CompressFormat.JPEG, 5, baos);\n\n                    byte[] dadosImagem = baos.toByteArray();\n\n                    //criar nome unico de imagem\n                    //String nomeImagem = UUID.randomUUID().toString();\n\n                    StorageReference imagemRef = storageReference\n                            .child(&quot;imagens&quot;)\n                            .child(&quot;screenshot&quot;)\n                            .child(idUser)\n                            .child(IMAGES_PRODUCED+&quot;.jpeg&quot;);\n\n                    //fazer upload da imagem\n                    UploadTask uploadTask = imagemRef.putBytes(dadosImagem);\n\n                    //se o upload foi feito com sucesso iremos inserir a URL da imagem no realtime\n                    uploadTask.addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                        @Override\n                        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n\n                            //em versoes anteriores do a gente recuperava assim taskSnapshot.getDownloadUrl();\n                            //recuperar a url para inserir no realtime\n\n                            imagemRef.getDownloadUrl().addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n                                @Override\n                                public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n                                    //aqui temos a url da imagem\n                                    String url = task.getResult().toString();\n\n                                    Log.d(&quot;TAG&quot;, IMAGES_PRODUCED + url);\n\n                                    //grava a url recuperada da imagem no realtime\n                                    Imagem imagem = new Imagem();\n                                    imagem.setUrl(url);\n                                    imagem.setIdUsuario(idUser);\n                                    imagem.salvarImagem();\n</code></pre>\n<p>sistema_web.php</p>\n<p>Here on the web site with php and js I list the url of the images that were registered in firebase realtime.</p>\n<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;                 \n\n                firebase.database().ref('screenshot/'&lt;?=$_GET['idUserFirebase']?&gt;).on('value', (snapshot)=&gt;{\n\n\n                    snapshot.forEach(item =&gt; {\n\n                        //console.log(snapshot.val());\n\n                        //var img = document.querySelector(&quot;#screenshot&quot;);\n                        //img.setAttribute('src', item.key);\n                        let chave = item.key;\n                        let dado = item.val();                      \n                        console.log(chave, dado);\n\n                        var img = document.querySelector(&quot;#screenshot&quot;);\n                        img.setAttribute('src', dado);\n\n                    });             \n                    \n\n                });               \n\n            &lt;/script&gt;\n</code></pre>\n"},{"tags":["java","generics","jackson"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1645636230,"post_id":71241184,"comment_id":125927058,"body_markdown":"Does this answer your question? [Jackson - Deserialize using generic class](https://stackoverflow.com/questions/11664894/jackson-deserialize-using-generic-class)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11664894/jackson-deserialize-using-generic-class\">Jackson - Deserialize using generic class</a>"},{"owner":{"account_id":8195315,"reputation":365,"user_id":6168373,"display_name":"Tim Gustafson"},"score":0,"creation_date":1645637002,"post_id":71241184,"comment_id":125927401,"body_markdown":"I think the answer is &quot;no&quot;.  I&#39;m already creating a JavaType to decode the JSON data.  The problem isn&#39;t decoding; when I dump the decoded object to stdout, I see all the properties and data I expect.  The problem seems to be that Java doesn&#39;t see that Response&lt;T extends Results&gt; is the same as Response&lt;T extends Results&gt; when I call the callback method.","body":"I think the answer is &quot;no&quot;.  I&#39;m already creating a JavaType to decode the JSON data.  The problem isn&#39;t decoding; when I dump the decoded object to stdout, I see all the properties and data I expect.  The problem seems to be that Java doesn&#39;t see that Response&lt;T extends Results&gt; is the same as Response&lt;T extends Results&gt; when I call the callback method."}],"answers":[{"tags":[],"owner":{"account_id":8195315,"reputation":365,"user_id":6168373,"display_name":"Tim Gustafson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645643927,"creation_date":1645643927,"answer_id":71242882,"question_id":71241184,"body_markdown":"I was able to get this to work by casting the function parameter like this:\r\n\r\n    callbackEntry.method.handleResponse(\r\n        (concreteResponse.getClass()).cast(concreteResponse)\r\n    );\r\n\r\nThat shows a warning for an unchecked assignment, but it works.","title":"Jackson Decoding Generic Types","body":"<p>I was able to get this to work by casting the function parameter like this:</p>\n<pre><code>callbackEntry.method.handleResponse(\n    (concreteResponse.getClass()).cast(concreteResponse)\n);\n</code></pre>\n<p>That shows a warning for an unchecked assignment, but it works.</p>\n"}],"owner":{"account_id":8195315,"reputation":365,"user_id":6168373,"display_name":"Tim Gustafson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71242882,"answer_count":1,"score":0,"last_activity_date":1645643927,"creation_date":1645635840,"question_id":71241184,"body_markdown":"I am building a client/server application, and am encapsulating the request and response messages in generic Java classes that looks like this:\r\n\r\n    @SuperBuilder\r\n    @Jacksonized\r\n    @Getter\r\n    @Setter\r\n    public class AppResponse&lt;T extends AppResponse.Results&gt; {\r\n        public static final String SUCCESS_ATTRIBUTE = &quot;success&quot;;\r\n        public static final String MESSAGE_ATTRIBUTE = &quot;message&quot;;\r\n        public static final String REQUEST_ID_ATTRIBUTE = AppRequest.REQUEST_ID_ATTRIBUTE;\r\n        public static final String RESULTS_ATTRIBUTE = &quot;results&quot;;\r\n    \r\n        @JsonProperty(SUCCESS_ATTRIBUTE)\r\n        boolean success;\r\n    \r\n        @JsonProperty(MESSAGE_ATTRIBUTE)\r\n        String message;\r\n    \r\n        @JsonProperty(REQUEST_ID_ATTRIBUTE)\r\n        String requestID;\r\n    \r\n        @JsonProperty(RESULTS_ATTRIBUTE)\r\n        T results;\r\n    \r\n        @SuperBuilder\r\n        @Jacksonized\r\n        @Getter\r\n        @Setter\r\n        public static class Results {\r\n    \r\n        }\r\n    }\r\n\r\nThen I have one class that extends AppResponse.Results for each command response packet that can be sent over the wire.  For example:\r\n\r\n    @SuperBuilder\r\n    @Getter\r\n    @Setter\r\n    @Jacksonized\r\n    public class AppCreateForumPostResults extends AppResponse.Results {\r\n        @JsonProperty(&quot;id&quot;)\r\n        UUID id;\r\n    }\r\n\r\nSo when the server encodes this to JSON using Jackson, I get a JSON document that looks like this:\r\n\r\n    {\r\n      &quot;success&quot; : true,\r\n      &quot;requestID&quot; : &quot;eL55P4Sz&quot;,\r\n      &quot;results&quot; : {\r\n        &quot;id&quot; : &quot;0b48d389-2407-43c4-ad1b-ab52599c2d7f&quot;\r\n      }\r\n    }\r\n\r\nWhen the client application receives this message, it first decodes it to an ObjectNode:\r\n\r\n    objectNode = (ObjectNode) AppObjectMapper.OBJECT_MAPPER.readTree(message);\r\n\r\nIt then decodes that into a generic object, because it does not yet know what the concrete type for the generic is yet:\r\n\r\n    JavaType genericType = AppObjectMapper.OBJECT_MAPPER.getTypeFactory().constructParametricType(\r\n    \tAppResponse.class,\r\n    \tAppResponse.Results.class\r\n    );\r\n    \r\n    AppResponse&lt;AppResponse.Results&gt; genericResponse = AppObjectMapper.OBJECT_MAPPER.treeToValue(\r\n    \tobjectNode,\r\n    \tgenericType\r\n    );\r\n\r\nThen it consults a HashMap of requestIDs that have been sent to find out what kind of results class it should expect.  The HashMap is defined as:\r\n\r\n    private final Map&lt;String, CallbackEntry&lt;? extends AppResponse.Results&gt;&gt; callbacks = new HashMap&lt;&gt;();\r\n\r\nAnd CallbackEntry is defined as:\r\n\r\n    @Builder\r\n    @Value\r\n    public static class CallbackEntry&lt;T extends AppResponse.Results&gt; {\r\n    \tCallback&lt;T&gt; method;\r\n    \tClass&lt;T&gt; resultsClass;\r\n    }\r\n\r\nAnd finally Callback is defined as:\r\n\r\n    public interface Callback&lt;T extends AppResponse.Results&gt; {\r\n    \tvoid handleResponse(AppResponse&lt;T&gt; results);\r\n    }\r\n\r\nSo once we have found the requestID in the HashMap, we know what concrete class the results contain, and we can decode it:\r\n\r\n    CallbackEntry&lt;? extends AppResponse.Results&gt; callbackEntry = callbacks.get(genericResponse.getRequestID());\r\n    \r\n    callbacks.remove(genericResponse.getRequestID());\r\n    \r\n    JavaType concreteType = AppObjectMapper.OBJECT_MAPPER.getTypeFactory().constructParametricType(\r\n    \tAppResponse.class,\r\n    \tcallbackEntry.resultsClass\r\n    );\r\n    \r\n    AppResponse&lt;? extends AppResponse.Results&gt; concreteResponse = AppObjectMapper.OBJECT_MAPPER.treeToValue(\r\n    \tobjectNode,\r\n    \tconcreteType\r\n    );\r\n\r\nSo far, so good.  This all works exactly as expected.  If I print out the concreteResponse object, it has exactly the correct data in it.  However, when I go to actually call the callback method, I&#39;m getting an error.  The call looks like:\r\n\r\n    callbackEntry.method.handleResponse(concreteResponse);\r\n\r\nAnd the error I get on that line of code is:\r\n\r\n    [127,49] incompatible types: com.whatever.app.common.AppResponse&lt;capture#1 of ? extends com.whatever.app.common.AppResponse.Results&gt; cannot be converted to com.whatever.app.common.AppResponse&lt;capture#2 of ? extends com.whatever.app.common.AppResponse.Results&gt;\r\n\r\nI&#39;m a bit confused by the error message.  I&#39;m guessing it has to do somehow with the way in which the generics are being handled, but I just can&#39;t figure out what the correct incantation is to get this to go.  I&#39;ve done a bunch of Googling, and find similar errors here and there, but they generally are due to someone using ? instead of T, which (I think) is not the case here.\r\n\r\nSo, what am I missing?\r\n\r\nAny help is greatly appreciated!\r\n\r\n","title":"Jackson Decoding Generic Types","body":"<p>I am building a client/server application, and am encapsulating the request and response messages in generic Java classes that looks like this:</p>\n<pre><code>@SuperBuilder\n@Jacksonized\n@Getter\n@Setter\npublic class AppResponse&lt;T extends AppResponse.Results&gt; {\n    public static final String SUCCESS_ATTRIBUTE = &quot;success&quot;;\n    public static final String MESSAGE_ATTRIBUTE = &quot;message&quot;;\n    public static final String REQUEST_ID_ATTRIBUTE = AppRequest.REQUEST_ID_ATTRIBUTE;\n    public static final String RESULTS_ATTRIBUTE = &quot;results&quot;;\n\n    @JsonProperty(SUCCESS_ATTRIBUTE)\n    boolean success;\n\n    @JsonProperty(MESSAGE_ATTRIBUTE)\n    String message;\n\n    @JsonProperty(REQUEST_ID_ATTRIBUTE)\n    String requestID;\n\n    @JsonProperty(RESULTS_ATTRIBUTE)\n    T results;\n\n    @SuperBuilder\n    @Jacksonized\n    @Getter\n    @Setter\n    public static class Results {\n\n    }\n}\n</code></pre>\n<p>Then I have one class that extends AppResponse.Results for each command response packet that can be sent over the wire.  For example:</p>\n<pre><code>@SuperBuilder\n@Getter\n@Setter\n@Jacksonized\npublic class AppCreateForumPostResults extends AppResponse.Results {\n    @JsonProperty(&quot;id&quot;)\n    UUID id;\n}\n</code></pre>\n<p>So when the server encodes this to JSON using Jackson, I get a JSON document that looks like this:</p>\n<pre><code>{\n  &quot;success&quot; : true,\n  &quot;requestID&quot; : &quot;eL55P4Sz&quot;,\n  &quot;results&quot; : {\n    &quot;id&quot; : &quot;0b48d389-2407-43c4-ad1b-ab52599c2d7f&quot;\n  }\n}\n</code></pre>\n<p>When the client application receives this message, it first decodes it to an ObjectNode:</p>\n<pre><code>objectNode = (ObjectNode) AppObjectMapper.OBJECT_MAPPER.readTree(message);\n</code></pre>\n<p>It then decodes that into a generic object, because it does not yet know what the concrete type for the generic is yet:</p>\n<pre><code>JavaType genericType = AppObjectMapper.OBJECT_MAPPER.getTypeFactory().constructParametricType(\n    AppResponse.class,\n    AppResponse.Results.class\n);\n\nAppResponse&lt;AppResponse.Results&gt; genericResponse = AppObjectMapper.OBJECT_MAPPER.treeToValue(\n    objectNode,\n    genericType\n);\n</code></pre>\n<p>Then it consults a HashMap of requestIDs that have been sent to find out what kind of results class it should expect.  The HashMap is defined as:</p>\n<pre><code>private final Map&lt;String, CallbackEntry&lt;? extends AppResponse.Results&gt;&gt; callbacks = new HashMap&lt;&gt;();\n</code></pre>\n<p>And CallbackEntry is defined as:</p>\n<pre><code>@Builder\n@Value\npublic static class CallbackEntry&lt;T extends AppResponse.Results&gt; {\n    Callback&lt;T&gt; method;\n    Class&lt;T&gt; resultsClass;\n}\n</code></pre>\n<p>And finally Callback is defined as:</p>\n<pre><code>public interface Callback&lt;T extends AppResponse.Results&gt; {\n    void handleResponse(AppResponse&lt;T&gt; results);\n}\n</code></pre>\n<p>So once we have found the requestID in the HashMap, we know what concrete class the results contain, and we can decode it:</p>\n<pre><code>CallbackEntry&lt;? extends AppResponse.Results&gt; callbackEntry = callbacks.get(genericResponse.getRequestID());\n\ncallbacks.remove(genericResponse.getRequestID());\n\nJavaType concreteType = AppObjectMapper.OBJECT_MAPPER.getTypeFactory().constructParametricType(\n    AppResponse.class,\n    callbackEntry.resultsClass\n);\n\nAppResponse&lt;? extends AppResponse.Results&gt; concreteResponse = AppObjectMapper.OBJECT_MAPPER.treeToValue(\n    objectNode,\n    concreteType\n);\n</code></pre>\n<p>So far, so good.  This all works exactly as expected.  If I print out the concreteResponse object, it has exactly the correct data in it.  However, when I go to actually call the callback method, I'm getting an error.  The call looks like:</p>\n<pre><code>callbackEntry.method.handleResponse(concreteResponse);\n</code></pre>\n<p>And the error I get on that line of code is:</p>\n<pre><code>[127,49] incompatible types: com.whatever.app.common.AppResponse&lt;capture#1 of ? extends com.whatever.app.common.AppResponse.Results&gt; cannot be converted to com.whatever.app.common.AppResponse&lt;capture#2 of ? extends com.whatever.app.common.AppResponse.Results&gt;\n</code></pre>\n<p>I'm a bit confused by the error message.  I'm guessing it has to do somehow with the way in which the generics are being handled, but I just can't figure out what the correct incantation is to get this to go.  I've done a bunch of Googling, and find similar errors here and there, but they generally are due to someone using ? instead of T, which (I think) is not the case here.</p>\n<p>So, what am I missing?</p>\n<p>Any help is greatly appreciated!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1645641881,"post_id":71242471,"comment_id":125929375,"body_markdown":"You need to loop through the elements of your list and check each one using `endsWith`.","body":"You need to loop through the elements of your list and check each one using <code>endsWith</code>."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1645642896,"post_id":71242471,"comment_id":125929781,"body_markdown":"`lastDigitsClient.contains(lastFour)` is always true... I dont think you typed that correctly","body":"<code>lastDigitsClient.contains(lastFour)</code> is always true... I dont think you typed that correctly"},{"owner":{"account_id":21812429,"reputation":1,"user_id":16109768,"display_name":"Raphael Weber"},"score":0,"creation_date":1645644765,"post_id":71242471,"comment_id":125930410,"body_markdown":"Thanks buddy! I use the example of Idle_Mind it worked!","body":"Thanks buddy! I use the example of Idle_Mind it worked!"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645643085,"creation_date":1645643085,"answer_id":71242722,"question_id":71242471,"body_markdown":"You can use `.filter()` to get all values in a list that match a condition\r\n\r\n```\r\nfinal String lastFour = &quot;2222&quot;;\r\nSystem.out.println(&quot;Lista de Propostas: &quot; + proposta);\r\nOptional&lt;String&gt; opt = proposta.stream().filter(s -&gt; s.endsWith(lastFour)).findFirst();\r\nif (opt.isPresent()) {\r\n  System.out.println(&quot;ULTIMOS DIGITOS : TRUE&quot;);\r\n}\r\n```","title":"Find and print a string using a piece of other string","body":"<p>You can use <code>.filter()</code> to get all values in a list that match a condition</p>\n<pre><code>final String lastFour = &quot;2222&quot;;\nSystem.out.println(&quot;Lista de Propostas: &quot; + proposta);\nOptional&lt;String&gt; opt = proposta.stream().filter(s -&gt; s.endsWith(lastFour)).findFirst();\nif (opt.isPresent()) {\n  System.out.println(&quot;ULTIMOS DIGITOS : TRUE&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645643314,"creation_date":1645643314,"answer_id":71242765,"question_id":71242471,"body_markdown":"For a simple approach, I would expect something more like:\r\n\r\n    ArrayList&lt;String&gt; proposta = new ArrayList&lt;String&gt;();\r\n    proposta.add(&quot;213141441414&quot;);\r\n    proposta.add(&quot;515151551&quot;);\r\n    proposta.add(&quot;2626262662&quot;);\r\n    proposta.add(&quot;26262627373&quot;);\r\n    proposta.add(&quot;7373632525&quot;);\r\n    proposta.add(&quot;1515252&quot;);\r\n    proposta.add(&quot;262636474&quot;);\r\n    proposta.add(&quot;11414142222&quot;);\r\n    \r\n    String match = &quot;&quot;;\r\n    boolean matchFound = false;\r\n    \r\n    String lastFour = &quot;2222&quot;;\r\n    for(String s : proposta) {\r\n      if(s.endsWith(lastFour)) {\r\n        match = s;\r\n        matchFound = true;\r\n        break;\r\n      }\r\n    }\r\n    \r\n    if (matchFound) {\r\n      System.out.println(&quot;match = &quot; + match);\r\n    }\r\n    else {\r\n      System.out.println(&quot;No match found.&quot;);\r\n    }\r\n\r\n","title":"Find and print a string using a piece of other string","body":"<p>For a simple approach, I would expect something more like:</p>\n<pre><code>ArrayList&lt;String&gt; proposta = new ArrayList&lt;String&gt;();\nproposta.add(&quot;213141441414&quot;);\nproposta.add(&quot;515151551&quot;);\nproposta.add(&quot;2626262662&quot;);\nproposta.add(&quot;26262627373&quot;);\nproposta.add(&quot;7373632525&quot;);\nproposta.add(&quot;1515252&quot;);\nproposta.add(&quot;262636474&quot;);\nproposta.add(&quot;11414142222&quot;);\n\nString match = &quot;&quot;;\nboolean matchFound = false;\n\nString lastFour = &quot;2222&quot;;\nfor(String s : proposta) {\n  if(s.endsWith(lastFour)) {\n    match = s;\n    matchFound = true;\n    break;\n  }\n}\n\nif (matchFound) {\n  System.out.println(&quot;match = &quot; + match);\n}\nelse {\n  System.out.println(&quot;No match found.&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2075909,"reputation":2169,"user_id":1849261,"accept_rate":78,"display_name":"4EACH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645643897,"creation_date":1645643897,"answer_id":71242878,"question_id":71242471,"body_markdown":"You can use streams API \r\n\r\n\r\n    List&lt;String&gt; strings = Arrays.asList(\r\n            &quot;213141441414&quot;,\r\n            &quot;515151551&quot;,\r\n            &quot;2626262662&quot;,\r\n            &quot;26262627373&quot;,\r\n            &quot;7373632525&quot;,\r\n            &quot;1515252&quot;,\r\n            &quot;262636474&quot;,\r\n            &quot;11414142222&quot;\r\n    );\r\n    String lastFour = &quot;2222&quot;;\r\n    strings.stream().filter(s -&gt; s.endsWith(lastFour)).forEach(System.out::println);\r\n\r\n","title":"Find and print a string using a piece of other string","body":"<p>You can use streams API</p>\n<pre><code>List&lt;String&gt; strings = Arrays.asList(\n        &quot;213141441414&quot;,\n        &quot;515151551&quot;,\n        &quot;2626262662&quot;,\n        &quot;26262627373&quot;,\n        &quot;7373632525&quot;,\n        &quot;1515252&quot;,\n        &quot;262636474&quot;,\n        &quot;11414142222&quot;\n);\nString lastFour = &quot;2222&quot;;\nstrings.stream().filter(s -&gt; s.endsWith(lastFour)).forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":21812429,"reputation":1,"user_id":16109768,"display_name":"Raphael Weber"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":71242765,"answer_count":3,"score":-4,"last_activity_date":1645643897,"creation_date":1645641793,"question_id":71242471,"body_markdown":"I have the following code\r\n\r\n    \tArrayList&lt;String&gt; proposta = new ArrayList&lt;String&gt;();\r\n\t\tString propostaString = &quot;&quot;;\r\n\t\tproposta.add(&quot;213141441414&quot;);\r\n\t\tproposta.add(&quot;515151551&quot;);\r\n\t\tproposta.add(&quot;2626262662&quot;);\r\n\t\tproposta.add(&quot;26262627373&quot;);\r\n\t\tproposta.add(&quot;7373632525&quot;);\r\n\t\tproposta.add(&quot;1515252&quot;);\r\n\t\tproposta.add(&quot;262636474&quot;);\r\n\t\tproposta.add(&quot;11414142222&quot;);\r\n\t\tString entrada = proposta.toString();\r\n\t\t\r\n\t\tString lastDigitsClient = &quot;2222&quot;;\r\n\t\tString lastFour = &quot;2222&quot;;\r\n\t\tboolean Equal = false;\r\n\t\tif(lastDigitsClient.contains(lastFour)) {\r\n\t\t\tEqual=true;\r\n\t\t\tSystem.out.println(&quot;ULTIMOS DIGITOS : TRUE = &quot; +Equal);\r\n\t\t\tSystem.out.println(&quot;Lista de Propostas: &quot; +entrada);\r\n\r\n\t\t}\r\n\r\n\r\nI want to print the proposta 11414142222 using the value of lastDigitsClient, how could I do it?","title":"Find and print a string using a piece of other string","body":"<p>I have the following code</p>\n<pre><code>    ArrayList&lt;String&gt; proposta = new ArrayList&lt;String&gt;();\n    String propostaString = &quot;&quot;;\n    proposta.add(&quot;213141441414&quot;);\n    proposta.add(&quot;515151551&quot;);\n    proposta.add(&quot;2626262662&quot;);\n    proposta.add(&quot;26262627373&quot;);\n    proposta.add(&quot;7373632525&quot;);\n    proposta.add(&quot;1515252&quot;);\n    proposta.add(&quot;262636474&quot;);\n    proposta.add(&quot;11414142222&quot;);\n    String entrada = proposta.toString();\n    \n    String lastDigitsClient = &quot;2222&quot;;\n    String lastFour = &quot;2222&quot;;\n    boolean Equal = false;\n    if(lastDigitsClient.contains(lastFour)) {\n        Equal=true;\n        System.out.println(&quot;ULTIMOS DIGITOS : TRUE = &quot; +Equal);\n        System.out.println(&quot;Lista de Propostas: &quot; +entrada);\n\n    }\n</code></pre>\n<p>I want to print the proposta 11414142222 using the value of lastDigitsClient, how could I do it?</p>\n"},{"tags":["java","oop","design-patterns","double-dispatch"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1645577345,"post_id":71229342,"comment_id":125907576,"body_markdown":"It solves the double-dispatch problem, but not by *being* double-dispatch. It still relies on all types being present at compile time. Very handy thing, though.","body":"It solves the double-dispatch problem, but not by <i>being</i> double-dispatch. It still relies on all types being present at compile time. Very handy thing, though."},{"owner":{"account_id":4229977,"reputation":2712,"user_id":3462509,"accept_rate":67,"display_name":"Solaxun"},"score":0,"creation_date":1645579342,"post_id":71229342,"comment_id":125907891,"body_markdown":"@BasilBourque I didn&#39;t think it was relevant.  The question was more about the pattern conceptually, not the specific usage of it in Crafting Interpreters. That said, I will add the link for those curious.. it&#39;s a fantastic resource.","body":"@BasilBourque I didn&#39;t think it was relevant.  The question was more about the pattern conceptually, not the specific usage of it in Crafting Interpreters. That said, I will add the link for those curious.. it&#39;s a fantastic resource."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1645579529,"post_id":71229342,"comment_id":125907919,"body_markdown":"I suggest linking to Wikipedia page on [*Double Dispatch*](https://en.wikipedia.org/wiki/Double_dispatch) if it agrees with your definition. If not in agreement, considering explaining.","body":"I suggest linking to Wikipedia page on <a href=\"https://en.wikipedia.org/wiki/Double_dispatch\" rel=\"nofollow noreferrer\"><i>Double Dispatch</i></a> if it agrees with your definition. If not in agreement, considering explaining."},{"owner":{"account_id":4229977,"reputation":2712,"user_id":3462509,"accept_rate":67,"display_name":"Solaxun"},"score":0,"creation_date":1645580095,"post_id":71229342,"comment_id":125907990,"body_markdown":"@BasilBourque well I mean even the first sentence of the wiki kind of makes my point: &quot;dispatches a function call to different concrete functions depending on the runtime types of two objects involved in the call&quot;.  The visitor pattern dispatches on one runtime type (the one implementing accept), not two, right?  The second is a static dispatch and picks a method to call.  To me, that&#39;s really single dispatch.. just single dispatch that is extensible.","body":"@BasilBourque well I mean even the first sentence of the wiki kind of makes my point: &quot;dispatches a function call to different concrete functions depending on the runtime types of two objects involved in the call&quot;.  The visitor pattern dispatches on one runtime type (the one implementing accept), not two, right?  The second is a static dispatch and picks a method to call.  To me, that&#39;s really single dispatch.. just single dispatch that is extensible."}],"answers":[{"tags":[],"owner":{"account_id":1455702,"reputation":15682,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645643624,"creation_date":1645643624,"answer_id":71242824,"question_id":71229342,"body_markdown":"The comment from @user207421 is spot on. If a language does not natively support double dispatch, no design pattern can alter the language to make it so. A pattern merely provides an alternative which may solve some of the problems that double dispatch would be applied to in another language.\r\n\r\nPeople learning the Visitor Pattern who already have an understanding of double dispatch may be assisted by explanations such as, &quot;Visitor solves a similar set of problems to those solved by double dispatch&quot;. Unfortunately, that explanation is often reduced to, &quot;Visitor implements double dispatch&quot; which is not true.\r\n\r\nThe fact you&#39;ve recognized this means you have a solid understanding of both concepts already.","title":"Visitor Pattern and Double Dispatch","body":"<p>The comment from @user207421 is spot on. If a language does not natively support double dispatch, no design pattern can alter the language to make it so. A pattern merely provides an alternative which may solve some of the problems that double dispatch would be applied to in another language.</p>\n<p>People learning the Visitor Pattern who already have an understanding of double dispatch may be assisted by explanations such as, &quot;Visitor solves a similar set of problems to those solved by double dispatch&quot;. Unfortunately, that explanation is often reduced to, &quot;Visitor implements double dispatch&quot; which is not true.</p>\n<p>The fact you've recognized this means you have a solid understanding of both concepts already.</p>\n"}],"owner":{"account_id":4229977,"reputation":2712,"user_id":3462509,"accept_rate":67,"display_name":"Solaxun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71242824,"answer_count":1,"score":3,"last_activity_date":1645643624,"creation_date":1645570607,"question_id":71229342,"body_markdown":"I know this is well trodden territory but I have a specific question... I promise.\r\n\r\nHaving spent very little time in the statically typed, object oriented world, I recently came across this design pattern while reading [Crafting Interpreters](https://craftinginterpreters.com/representing-code.html#implementing-syntax-trees).  While I understand this pattern allows for extensible *behavior* (methods) on a set of well defined existing *types* (classes), I don&#39;t quite get the characterization of it as a solution to the double dispatch problem, at least not without some additional assumptions.  I see it more as making a tradeoff to the [expression problem](https://en.wikipedia.org/wiki/Expression_problem), where you trade closed types for open methods.\r\n\r\nIn most of the examples I&#39;ve seen, you end up with something like this (shamelessly stolen from the awesome [Clojure Design Patterns](http://mishadoff.com/blog/clojure-design-patterns/#episode-4-visitor))\r\n\r\n```java\r\npublic interface Visitor {\r\n  void visit(Activity a);\r\n  void visit(Message m);\r\n}\r\n\r\npublic class PDFVisitor implements Visitor {\r\n  @Override\r\n  public void visit(Activity a) {\r\n    PDFExporter.export(a);\r\n  }\r\n\r\n  @Override\r\n  public void visit(Message m) {\r\n    PDFExporter.export(m);\r\n  }\r\n}\r\n\r\npublic abstract class Item {\r\n  abstract void accept(Visitor v);\r\n}\r\n\r\nclass Message extends Item {\r\n  @Override\r\n  void accept(Visitor v) {\r\n    v.visit(this);\r\n  }\r\n}\r\n\r\nclass Activity extends Item {\r\n  @Override\r\n  void accept(Visitor v) {\r\n    v.visit(this);\r\n  }\r\n}\r\n\r\nItem i = new Message();\r\nVisitor v = new PDFVisitor(); \r\ni.accept(v);\r\n```\r\n\r\nHere we have a set of types (Message and Activity) which are presumably closed or infrequently changing, and a set of methods which we want to be open for extension (the Visitors).  Now where I get confused is that in most examples, they will show how you can implement other visitors without touching existing classes, e.g. something like this:\r\n\r\n```java\r\npublic class XMLVisitor implements Visitor {\r\n  @Override\r\n  public void visit(Activity a) {\r\n    XMLExporter.export(a);\r\n  }\r\n\r\n  @Override\r\n  public void visit(Message m) {\r\n    XMLExporter.export(m);\r\n  }\r\n}\r\n```\r\nand then make some hand-waivy allusion to this being &quot;double dispatch&quot;, which it is not. \r\n Here `accept` dynamically dispatches on the subtype of `Item`, but within `accept` the `visit` methods statically dispatch to the passed in visitor via method overloading. So we have single dispatch on `Item`, and then the &quot;second&quot; static dispatch within `accept` is really about selecting a behavior (method) to call with that `Item` type.  There is only one &quot;type&quot; being dispatched on, not two - the second is a behavior.\r\n\r\nWhen I think of double dispatch, I think of a function that dispatches on the type of two arguments. One behavior, two types.\r\n\r\n    export(Activity,XML)\r\n    export(Activity,PDF)\r\n    export(Message,XML)\r\n    export(Message,PDF)\r\n\r\nTo me this is subtly different to the visitor pattern which allows any set of behaviors to be extended to existing classes, but those behaviors don&#39;t necessarily all represent the same behavior like in the four `export` examples above - they can be anything. If we add another Visitor it may represent exporting, but it could just as well not.  From the API layer you&#39;re just calling `accept` methods and trusting that the passed in Visitor does what you want, whatever that may be.\r\n\r\nAm I looking at this the wrong way?\r\n\r\n","title":"Visitor Pattern and Double Dispatch","body":"<p>I know this is well trodden territory but I have a specific question... I promise.</p>\n<p>Having spent very little time in the statically typed, object oriented world, I recently came across this design pattern while reading <a href=\"https://craftinginterpreters.com/representing-code.html#implementing-syntax-trees\" rel=\"nofollow noreferrer\">Crafting Interpreters</a>.  While I understand this pattern allows for extensible <em>behavior</em> (methods) on a set of well defined existing <em>types</em> (classes), I don't quite get the characterization of it as a solution to the double dispatch problem, at least not without some additional assumptions.  I see it more as making a tradeoff to the <a href=\"https://en.wikipedia.org/wiki/Expression_problem\" rel=\"nofollow noreferrer\">expression problem</a>, where you trade closed types for open methods.</p>\n<p>In most of the examples I've seen, you end up with something like this (shamelessly stolen from the awesome <a href=\"http://mishadoff.com/blog/clojure-design-patterns/#episode-4-visitor\" rel=\"nofollow noreferrer\">Clojure Design Patterns</a>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Visitor {\n  void visit(Activity a);\n  void visit(Message m);\n}\n\npublic class PDFVisitor implements Visitor {\n  @Override\n  public void visit(Activity a) {\n    PDFExporter.export(a);\n  }\n\n  @Override\n  public void visit(Message m) {\n    PDFExporter.export(m);\n  }\n}\n\npublic abstract class Item {\n  abstract void accept(Visitor v);\n}\n\nclass Message extends Item {\n  @Override\n  void accept(Visitor v) {\n    v.visit(this);\n  }\n}\n\nclass Activity extends Item {\n  @Override\n  void accept(Visitor v) {\n    v.visit(this);\n  }\n}\n\nItem i = new Message();\nVisitor v = new PDFVisitor(); \ni.accept(v);\n</code></pre>\n<p>Here we have a set of types (Message and Activity) which are presumably closed or infrequently changing, and a set of methods which we want to be open for extension (the Visitors).  Now where I get confused is that in most examples, they will show how you can implement other visitors without touching existing classes, e.g. something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class XMLVisitor implements Visitor {\n  @Override\n  public void visit(Activity a) {\n    XMLExporter.export(a);\n  }\n\n  @Override\n  public void visit(Message m) {\n    XMLExporter.export(m);\n  }\n}\n</code></pre>\n<p>and then make some hand-waivy allusion to this being &quot;double dispatch&quot;, which it is not.\nHere <code>accept</code> dynamically dispatches on the subtype of <code>Item</code>, but within <code>accept</code> the <code>visit</code> methods statically dispatch to the passed in visitor via method overloading. So we have single dispatch on <code>Item</code>, and then the &quot;second&quot; static dispatch within <code>accept</code> is really about selecting a behavior (method) to call with that <code>Item</code> type.  There is only one &quot;type&quot; being dispatched on, not two - the second is a behavior.</p>\n<p>When I think of double dispatch, I think of a function that dispatches on the type of two arguments. One behavior, two types.</p>\n<pre><code>export(Activity,XML)\nexport(Activity,PDF)\nexport(Message,XML)\nexport(Message,PDF)\n</code></pre>\n<p>To me this is subtly different to the visitor pattern which allows any set of behaviors to be extended to existing classes, but those behaviors don't necessarily all represent the same behavior like in the four <code>export</code> examples above - they can be anything. If we add another Visitor it may represent exporting, but it could just as well not.  From the API layer you're just calling <code>accept</code> methods and trusting that the passed in Visitor does what you want, whatever that may be.</p>\n<p>Am I looking at this the wrong way?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":291949,"reputation":4846,"user_id":594406,"accept_rate":29,"display_name":"Katona"},"score":0,"creation_date":1376503250,"post_id":18237222,"comment_id":26741090,"body_markdown":"I don&#39;t know if it&#39;s helpful or not, but if you remove the annotation `@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;mimeType&quot;)\n` from `AbstractBookmarkJsonModel` then you will have only one `mimeType` in your json","body":"I don&#39;t know if it&#39;s helpful or not, but if you remove the annotation <code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;mimeType&quot;) </code> from <code>AbstractBookmarkJsonModel</code> then you will have only one <code>mimeType</code> in your json"}],"answers":[{"tags":[],"owner":{"account_id":291949,"reputation":4846,"user_id":594406,"accept_rate":29,"display_name":"Katona"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1376505061,"creation_date":1376504212,"answer_id":18239284,"question_id":18237222,"body_markdown":"This behaviour is caused by the annotations placed on class `AbstractBookmarkJsonModel`:\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;mimeType&quot;)\r\n    @JsonSubTypes({\r\n        @JsonSubTypes.Type(value = ImageBookmarkJsonModel.class, name = &quot;image/jpeg&quot;),\r\n        @JsonSubTypes.Type(value = EpubBookmarkJsonModel.class, name = &quot;application/epub+zip&quot;)\r\n    })\r\n\r\n`@JsonTypeInfo` tells Jackson to serialize the logical type name (`JsonTypeInfo.Id.NAME`) as a property (`JsonTypeInfo.As.PROPERTY`) with name `mimeType` (`property = &quot;mimeType&quot;`). With `@JsonSubTypes.Type` you assign the logical name `application/epub+zip`  to `EpubBookmarkJsonModel`.\r\n\r\nWhen it comes to serialization, Jackson serializes the logical name as a property `mimeType = &quot;application/epub+zip&quot;` then the properties of the object among them \r\n`mimeType` which happens to have the same value as the logical name `application/epub+zip` (assigned in the constructor).\r\n\r\nI think `mimeType` should be changed to `objectType` in the `@JsonTypeInfo` annotation or even better to remove the `mimeType` field since Jackson will take care of that through type info serialization.","title":"Duplicate JSON Field with Jackson","body":"<p>This behaviour is caused by the annotations placed on class <code>AbstractBookmarkJsonModel</code>:</p>\n\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = \"mimeType\")\n@JsonSubTypes({\n    @JsonSubTypes.Type(value = ImageBookmarkJsonModel.class, name = \"image/jpeg\"),\n    @JsonSubTypes.Type(value = EpubBookmarkJsonModel.class, name = \"application/epub+zip\")\n})\n</code></pre>\n\n<p><code>@JsonTypeInfo</code> tells Jackson to serialize the logical type name (<code>JsonTypeInfo.Id.NAME</code>) as a property (<code>JsonTypeInfo.As.PROPERTY</code>) with name <code>mimeType</code> (<code>property = \"mimeType\"</code>). With <code>@JsonSubTypes.Type</code> you assign the logical name <code>application/epub+zip</code>  to <code>EpubBookmarkJsonModel</code>.</p>\n\n<p>When it comes to serialization, Jackson serializes the logical name as a property <code>mimeType = \"application/epub+zip\"</code> then the properties of the object among them \n<code>mimeType</code> which happens to have the same value as the logical name <code>application/epub+zip</code> (assigned in the constructor).</p>\n\n<p>I think <code>mimeType</code> should be changed to <code>objectType</code> in the <code>@JsonTypeInfo</code> annotation or even better to remove the <code>mimeType</code> field since Jackson will take care of that through type info serialization.</p>\n"},{"tags":[],"owner":{"account_id":52399,"reputation":730,"user_id":156574,"display_name":"ZacharyP"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1400517986,"creation_date":1400517986,"answer_id":23743058,"question_id":18237222,"body_markdown":"I was having this exact same problem with the duplicate output.  I found a solution that did not involve another property, and allowed me to not remove the original property.  First, I set the visible flag to true for JsonTypeInfo. Then, I added a JsonIgnore annotation to the property declaration and the getter (but not the setter).  This is so far outputting the JSON correctly with only one key for the type property.\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, visible = true, property = &quot;mimeType&quot;)\r\n    @JsonSubTypes({\r\n        @JsonSubTypes.Type(value = ImageBookmarkJsonModel.class, name = &quot;image/jpeg&quot;),\r\n        @JsonSubTypes.Type(value = EpubBookmarkJsonModel.class, name = &quot;application/epub+zip&quot;)\r\n    })\r\n    public abstract class AbstractBookmarkJsonModel extends AbstractJsonModel {\r\n        @JsonIgnore\r\n        @JsonProperty(&quot;mimeType&quot;)\r\n        protected String mimeType;\r\n\r\n        @JsonIgnore\r\n        @JsonProperty(&quot;mimeType&quot;)\r\n        public String getMimeType() {\r\n            return mimeType;\r\n        }\r\n\r\n        @JsonProperty(&quot;mimeType&quot;)\r\n        public void setMimeType(String mimeType) {\r\n            this.mimeType = mimeType;\r\n        }\r\n\r\n    }\r\n\r\nTo note, this is with fasterxml jackson jackson-databind 2.1.1\r\n        \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Duplicate JSON Field with Jackson","body":"<p>I was having this exact same problem with the duplicate output.  I found a solution that did not involve another property, and allowed me to not remove the original property.  First, I set the visible flag to true for JsonTypeInfo. Then, I added a JsonIgnore annotation to the property declaration and the getter (but not the setter).  This is so far outputting the JSON correctly with only one key for the type property.</p>\n\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, visible = true, property = \"mimeType\")\n@JsonSubTypes({\n    @JsonSubTypes.Type(value = ImageBookmarkJsonModel.class, name = \"image/jpeg\"),\n    @JsonSubTypes.Type(value = EpubBookmarkJsonModel.class, name = \"application/epub+zip\")\n})\npublic abstract class AbstractBookmarkJsonModel extends AbstractJsonModel {\n    @JsonIgnore\n    @JsonProperty(\"mimeType\")\n    protected String mimeType;\n\n    @JsonIgnore\n    @JsonProperty(\"mimeType\")\n    public String getMimeType() {\n        return mimeType;\n    }\n\n    @JsonProperty(\"mimeType\")\n    public void setMimeType(String mimeType) {\n        this.mimeType = mimeType;\n    }\n\n}\n</code></pre>\n\n<p>To note, this is with fasterxml jackson jackson-databind 2.1.1</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6100969,"reputation":816,"user_id":4760014,"display_name":"Thomas Vaughan"},"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1443560436,"creation_date":1443449645,"answer_id":32825241,"question_id":18237222,"body_markdown":"I solved this by using the `JsonTypeInfo.As.EXISTING_PROPERTY` in the @JsonTypeInfo annotation.\r\n\r\nThe project is open source, check it out here: [ANS.java][1]\r\n\r\n\r\n  [1]: https://github.com/washingtonpost/ans-schema/blob/master/src/main/java/com/washingtonpost/arc/ans/v0_3/model/ANS.java","title":"Duplicate JSON Field with Jackson","body":"<p>I solved this by using the <code>JsonTypeInfo.As.EXISTING_PROPERTY</code> in the @JsonTypeInfo annotation.</p>\n\n<p>The project is open source, check it out here: <a href=\"https://github.com/washingtonpost/ans-schema/blob/master/src/main/java/com/washingtonpost/arc/ans/v0_3/model/ANS.java\">ANS.java</a></p>\n"},{"tags":[],"owner":{"account_id":10064166,"reputation":77,"user_id":8122274,"display_name":"Fedulov Oleg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643615417,"creation_date":1643198275,"answer_id":70863083,"question_id":18237222,"body_markdown":"This case probably just with legacy versions of jacson lib\r\nand it&#39;s simply resolved by moving yours `@JsonProperty(value = &quot;Your_CUSTOM_Name&quot;)` from fields to getters.","title":"Duplicate JSON Field with Jackson","body":"<p>This case probably just with legacy versions of jacson lib\nand it's simply resolved by moving yours <code>@JsonProperty(value = &quot;Your_CUSTOM_Name&quot;)</code> from fields to getters.</p>\n"},{"tags":[],"owner":{"account_id":3735272,"reputation":21,"user_id":3106348,"display_name":"bmel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645643567,"creation_date":1645640854,"answer_id":71242289,"question_id":18237222,"body_markdown":"Had the same problem. We&#39;re using Lombok, and I got this work with @JsonProperty access:\r\n\r\n```\r\n  @Getter\r\n  @Setter\r\n  @JsonProperty(access = JsonProperty.Access.WRITE_ONLY) // Prevents duplication when serializing to JSON (subtype discriminator property)\r\n  private RuleType ruleType;\r\n```\r\n\r\nI like this solution, since:\r\n\r\n - No dependency on another lib\r\n - Did not have to change my data model\r\n - Works with Lombok (less clutter)\r\n \r\nAnd yes, need visible=true so that the property will get populated. In our case, it&#39;s an Enum with some behavior dispatching, so we certainly need it for our purposes, and it&#39;s great to be able to use it for Json subtype discrimination as well.\r\n\r\n```\r\n@JsonTypeInfo(\r\n  use = JsonTypeInfo.Id.NAME,\r\n  property = &quot;ruleType&quot;,\r\n  visible = true)\r\n```","title":"Duplicate JSON Field with Jackson","body":"<p>Had the same problem. We're using Lombok, and I got this work with @JsonProperty access:</p>\n<pre><code>  @Getter\n  @Setter\n  @JsonProperty(access = JsonProperty.Access.WRITE_ONLY) // Prevents duplication when serializing to JSON (subtype discriminator property)\n  private RuleType ruleType;\n</code></pre>\n<p>I like this solution, since:</p>\n<ul>\n<li>No dependency on another lib</li>\n<li>Did not have to change my data model</li>\n<li>Works with Lombok (less clutter)</li>\n</ul>\n<p>And yes, need visible=true so that the property will get populated. In our case, it's an Enum with some behavior dispatching, so we certainly need it for our purposes, and it's great to be able to use it for Json subtype discrimination as well.</p>\n<pre><code>@JsonTypeInfo(\n  use = JsonTypeInfo.Id.NAME,\n  property = &quot;ruleType&quot;,\n  visible = true)\n</code></pre>\n"}],"owner":{"display_name":"user372743"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31414,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"answer_count":5,"score":57,"last_activity_date":1645643567,"creation_date":1376497620,"question_id":18237222,"body_markdown":"I am using Jackson for JSON (de)serialization in conjunction with Spring. However I am having an issue with a field being twice in some cases.\r\n\r\nI have an abstract class: \r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;mimeType&quot;)\r\n    @JsonSubTypes({\r\n    \t@JsonSubTypes.Type(value = ImageBookmarkJsonModel.class, name = &quot;image/jpeg&quot;),\r\n    \t@JsonSubTypes.Type(value = EpubBookmarkJsonModel.class, name = &quot;application/epub+zip&quot;)\r\n    })\r\n    public abstract class AbstractBookmarkJsonModel extends AbstractJsonModel {\r\n    \tprotected String mimeType;\r\n        // Removed other fields for brevity\r\n    \r\n    \tpublic String getMimeType() {\r\n    \t\treturn mimeType;\r\n    \t}\r\n    \r\n    \tpublic void setMimeType(String mimeType) {\r\n    \t\tthis.mimeType = mimeType;\r\n    \t}\r\n\r\n        @Override\r\n        public String toString() {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n    \r\n            try {\r\n                return mapper.writeValueAsString(this);\r\n            } catch (IOException e) {\r\n                throw new IllegalStateException(&quot;Cannot convert object of type &quot; + this.getClass().toString() + &quot; to JSON&quot;, e);\r\n            }\r\n        }\r\n    }\r\n\r\nAnd a concrete class extend the abstract:\r\n\r\n    public class EpubBookmarkJsonModel extends AbstractBookmarkJsonModel {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n        // Removed other fields for brevity\r\n    \r\n    \tpublic EpubBookmarkJsonModel() {\r\n    \t\tthis.mimeType = &quot;application/epub+zip&quot;;\r\n    \t}\r\n    }\r\n\r\nThe problem is that when I serialize this JSON, I get a duplicate `mimeType` field:\r\n\r\n    {\r\n      &quot;mimeType&quot;: &quot;application/epub+zip&quot;,\r\n      &quot;mimeType&quot;: &quot;application/epub+zip&quot;,\r\n      &quot;userId&quot;: 24,\r\n      &quot;acid&quot;: &quot;ACID-000000000029087&quot;,\r\n      &quot;added&quot;: &quot;2013-08-14T12:02:17Z&quot;,\r\n      &quot;epubBookmarkId&quot;: 34,\r\n      &quot;cfi&quot;: &quot;epubcfi(/6/4!/2/68)&quot;,\r\n      &quot;context&quot;: &quot;CONTEXT&quot;\r\n    }\r\n\r\nI have tried using the recommendation of [previous][1] [answers][2] to use the `@JsonAutoDetect` annotation to specify that only fields on a class should be used as well as setting the same on the `ObjectMapper`, however this does not fix the problem.\r\n\r\nAnnotation:\r\n\r\n    @JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY, getterVisibility = JsonAutoDetect.Visibility.NONE,\r\n    \t\tsetterVisibility = JsonAutoDetect.Visibility.NONE, creatorVisibility = JsonAutoDetect.Visibility.NONE,\r\n    \t\tisGetterVisibility = JsonAutoDetect.Visibility.NONE)\r\n\r\nObjectMapper:\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n\t\tmapper.getSerializationConfig().getDefaultVisibilityChecker()\r\n\t\t\t\t.withFieldVisibility(JsonAutoDetect.Visibility.ANY)\r\n\t\t\t\t.withGetterVisibility(JsonAutoDetect.Visibility.NONE)\r\n\t\t\t\t.withSetterVisibility(JsonAutoDetect.Visibility.NONE)\r\n\t\t\t\t.withCreatorVisibility(JsonAutoDetect.Visibility.NONE);\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13262662/duplicate-json-property-when-converting-java-object-to-json-string-using-jackson\r\n  [2]: https://stackoverflow.com/questions/7105745/how-to-specify-jackson-to-only-use-fields-preferably-globally","title":"Duplicate JSON Field with Jackson","body":"<p>I am using Jackson for JSON (de)serialization in conjunction with Spring. However I am having an issue with a field being twice in some cases.</p>\n\n<p>I have an abstract class: </p>\n\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = \"mimeType\")\n@JsonSubTypes({\n    @JsonSubTypes.Type(value = ImageBookmarkJsonModel.class, name = \"image/jpeg\"),\n    @JsonSubTypes.Type(value = EpubBookmarkJsonModel.class, name = \"application/epub+zip\")\n})\npublic abstract class AbstractBookmarkJsonModel extends AbstractJsonModel {\n    protected String mimeType;\n    // Removed other fields for brevity\n\n    public String getMimeType() {\n        return mimeType;\n    }\n\n    public void setMimeType(String mimeType) {\n        this.mimeType = mimeType;\n    }\n\n    @Override\n    public String toString() {\n        ObjectMapper mapper = new ObjectMapper();\n\n        try {\n            return mapper.writeValueAsString(this);\n        } catch (IOException e) {\n            throw new IllegalStateException(\"Cannot convert object of type \" + this.getClass().toString() + \" to JSON\", e);\n        }\n    }\n}\n</code></pre>\n\n<p>And a concrete class extend the abstract:</p>\n\n<pre><code>public class EpubBookmarkJsonModel extends AbstractBookmarkJsonModel {\n    private static final long serialVersionUID = 1L;\n    // Removed other fields for brevity\n\n    public EpubBookmarkJsonModel() {\n        this.mimeType = \"application/epub+zip\";\n    }\n}\n</code></pre>\n\n<p>The problem is that when I serialize this JSON, I get a duplicate <code>mimeType</code> field:</p>\n\n<pre><code>{\n  \"mimeType\": \"application/epub+zip\",\n  \"mimeType\": \"application/epub+zip\",\n  \"userId\": 24,\n  \"acid\": \"ACID-000000000029087\",\n  \"added\": \"2013-08-14T12:02:17Z\",\n  \"epubBookmarkId\": 34,\n  \"cfi\": \"epubcfi(/6/4!/2/68)\",\n  \"context\": \"CONTEXT\"\n}\n</code></pre>\n\n<p>I have tried using the recommendation of <a href=\"https://stackoverflow.com/questions/13262662/duplicate-json-property-when-converting-java-object-to-json-string-using-jackson\">previous</a> <a href=\"https://stackoverflow.com/questions/7105745/how-to-specify-jackson-to-only-use-fields-preferably-globally\">answers</a> to use the <code>@JsonAutoDetect</code> annotation to specify that only fields on a class should be used as well as setting the same on the <code>ObjectMapper</code>, however this does not fix the problem.</p>\n\n<p>Annotation:</p>\n\n<pre><code>@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY, getterVisibility = JsonAutoDetect.Visibility.NONE,\n        setterVisibility = JsonAutoDetect.Visibility.NONE, creatorVisibility = JsonAutoDetect.Visibility.NONE,\n        isGetterVisibility = JsonAutoDetect.Visibility.NONE)\n</code></pre>\n\n<p>ObjectMapper:</p>\n\n<pre><code>    ObjectMapper mapper = new ObjectMapper();\n    mapper.getSerializationConfig().getDefaultVisibilityChecker()\n            .withFieldVisibility(JsonAutoDetect.Visibility.ANY)\n            .withGetterVisibility(JsonAutoDetect.Visibility.NONE)\n            .withSetterVisibility(JsonAutoDetect.Visibility.NONE)\n            .withCreatorVisibility(JsonAutoDetect.Visibility.NONE);\n</code></pre>\n"},{"tags":["java","sql","spring-boot","jpa","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645639812,"creation_date":1645639812,"answer_id":71242077,"question_id":71241741,"body_markdown":"You should be using `${...}` expressions and not `#{...}` expressions.  `${...}` are regular variable expressions while `#{...}` expressions are for system/internationalization properties.\r\n\r\n    &lt;tr th:each=&quot;mobile: ${listMobiles}&quot;&gt;\r\n      &lt;td th:text=&quot;${mobile.modelNum}&quot;&gt;&lt;/td&gt;\r\n      &lt;td th:text=&quot;${mobile.companyName}&quot;&gt;&lt;/td&gt;\r\n      &lt;td th:text=&quot;${mobile.price}&quot;&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;","title":"why thymeleaf does not render data in table properly","body":"<p>You should be using <code>${...}</code> expressions and not <code>#{...}</code> expressions.  <code>${...}</code> are regular variable expressions while <code>#{...}</code> expressions are for system/internationalization properties.</p>\n<pre><code>&lt;tr th:each=&quot;mobile: ${listMobiles}&quot;&gt;\n  &lt;td th:text=&quot;${mobile.modelNum}&quot;&gt;&lt;/td&gt;\n  &lt;td th:text=&quot;${mobile.companyName}&quot;&gt;&lt;/td&gt;\n  &lt;td th:text=&quot;${mobile.price}&quot;&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645643451,"creation_date":1645639872,"answer_id":71242091,"question_id":71241741,"body_markdown":"i have replace \r\n\r\n \r\n\r\n         &lt;td th:text=&quot;#{mobile.modelNum}&quot;&gt;&lt;/td&gt;\r\n                        &lt;td th:text=&quot;#{mobile.companyName}&quot;&gt;&lt;/td&gt;\r\n                        &lt;td th:text=&quot;#{mobile.price}&quot;&gt;&lt;/td&gt;\r\n          &lt;td th:text=&quot;#{mobile.price}&quot;&gt;&lt;/td&gt;\r\n\r\n\r\nwith\r\n       \r\n\r\n     &lt;td th:text=&quot;${mobile.modelNum}&quot;&gt;&lt;/td&gt;\r\n                        &lt;td th:text=&quot;${mobile.companyName}&quot;&gt;&lt;/td&gt;\r\n                        &lt;td th:text=&quot;${mobile.price}&quot;&gt;&lt;/td&gt;\r\n          &lt;td th:text=&quot;${mobile.price}&quot;&gt;&lt;/td&gt;\r\n\r\n\r\n","title":"why thymeleaf does not render data in table properly","body":"<p>i have replace</p>\n<pre><code>     &lt;td th:text=&quot;#{mobile.modelNum}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;#{mobile.companyName}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;#{mobile.price}&quot;&gt;&lt;/td&gt;\n      &lt;td th:text=&quot;#{mobile.price}&quot;&gt;&lt;/td&gt;\n</code></pre>\n<p>with</p>\n<pre><code> &lt;td th:text=&quot;${mobile.modelNum}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${mobile.companyName}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${mobile.price}&quot;&gt;&lt;/td&gt;\n      &lt;td th:text=&quot;${mobile.price}&quot;&gt;&lt;/td&gt;\n</code></pre>\n"}],"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71242077,"answer_count":2,"score":0,"last_activity_date":1645643451,"creation_date":1645638270,"question_id":71241741,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oRVH7.png\r\n\r\n\r\ndata in table is not shown properly...here is my html page in template\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n    \txmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    \r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot; /&gt;\r\n    &lt;title&gt;Insert title here&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \r\n    \t&lt;form th:action=&quot;@{/indexone}&quot;&gt;\r\n    \t\tFilter &lt;input type=&quot;text&quot; name=&quot;keyword&quot; id=&quot;keyword&quot; size=&quot;50&quot;\r\n    \t\t\tth:value=&quot;${keyword}&quot; required /&gt; &amp;nbsp; &lt;input type=&quot;submit&quot;\r\n    \t\t\tvalue=&quot;Search&quot;&gt;&lt;/input&gt; &amp;nbsp;\r\n    \r\n    \t&lt;/form&gt;\r\n    \r\n    \r\n    \t&lt;table border=&quot;2&quot;&gt;\r\n    \t\t&lt;thead&gt;\r\n    \r\n    \t\t&lt;tr&gt;\r\n    \t\t\t&lt;th&gt;modelNum&lt;/th&gt;\r\n    \t\t\t&lt;th&gt;companyName&lt;/th&gt;\r\n    \t\t\t&lt;th&gt;price&lt;/th&gt;\r\n    \t\t&lt;/tr&gt;\r\n    \t\t&lt;/thead&gt;\r\n    \r\n    \t\t&lt;tbody&gt;\r\n    \t\t\t&lt;tr th:each=&quot;mobile:${listMobiles}&quot;&gt;\r\n    \t\t\t\t&lt;td th:text=&quot;#{mobile.modelNum}&quot;&gt;&lt;/td&gt;\r\n    \t\t\t\t&lt;td th:text=&quot;#{mobile.companyName}&quot;&gt;&lt;/td&gt;\r\n    \t\t\t\t&lt;td th:text=&quot;#{mobile.price}&quot;&gt;&lt;/td&gt;\r\n    \t\t\t&lt;/tr&gt;\r\n    \t\t&lt;/tbody&gt;\r\n    \t&lt;/table&gt;\r\n    &lt;/body&gt;\r\n    \r\n    &lt;/html&gt;\r\n\r\n\r\nMobileRepository\r\n\r\n    package login.example;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    \r\n    public interface MobileRepository extends JpaRepository&lt;Mobile, String&gt; {\r\n    \r\n    \t@Query(&quot;SELECT mobile FROM Mobile mobile  WHERE CONCAT(mobile.modelNum,&#39; &#39;,mobile.companyName,&#39; &#39;,mobile.price) LIKE %?1%&quot;)\r\n    \tpublic List&lt;Mobile&gt; search(String keyword);\r\n    \t\r\n    }\r\n\r\n\r\nHere is MobileService\r\n\r\n    package login.example;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    \r\n    @Service\r\n    public class MobileService {\r\n    \r\n    \t@Autowired\r\n    \tprivate MobileRepository repo;\r\n    \tpublic List&lt;Mobile&gt; listAll(String keyword) {\r\n    \t\tif (keyword != null) {\r\n    \t\t\treturn repo.search(keyword);\r\n    \r\n    \t\t}else\r\n    \t\treturn repo.findAll();\r\n    \t}\r\n    \r\n    }\r\n\r\nhere is mobileController\r\n\r\n    package login.example;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.data.repository.query.Param;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    @Controller\r\n    public class MobileController {\r\n    \t@Autowired\r\n    \tprivate MobileService service;\r\n    \t\r\n    \t@RequestMapping(&quot;/indexone&quot;)\r\n    \tpublic String viewHomePage(Model model, @Param(&quot;keyword&quot;) String keyword) {\r\n    \t\tList&lt;Mobile&gt; listMobiles = service.listAll(keyword);\r\n    \t\tmodel.addAttribute(&quot;listMobiles&quot;, listMobiles);\r\n    \t\tmodel.addAttribute(&quot;keyword&quot;, keyword);\r\n    \t\treturn &quot;indexone.html&quot;;\r\n    \t}\r\n    }\r\n\r\n\r\nmy mobile table is not rendering well..what should i do to render table from mysql properly..searching is working well even after that..data is not rendered..what is this problem trying to say?it does not give exception..\r\n\r\n","title":"why thymeleaf does not render data in table properly","body":"<p><a href=\"https://i.stack.imgur.com/oRVH7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oRVH7.png\" alt=\"enter image description here\" /></a></p>\n<p>data in table is not shown properly...here is my html page in template</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&gt;\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n    xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot; /&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;form th:action=&quot;@{/indexone}&quot;&gt;\n        Filter &lt;input type=&quot;text&quot; name=&quot;keyword&quot; id=&quot;keyword&quot; size=&quot;50&quot;\n            th:value=&quot;${keyword}&quot; required /&gt; &amp;nbsp; &lt;input type=&quot;submit&quot;\n            value=&quot;Search&quot;&gt;&lt;/input&gt; &amp;nbsp;\n\n    &lt;/form&gt;\n\n\n    &lt;table border=&quot;2&quot;&gt;\n        &lt;thead&gt;\n\n        &lt;tr&gt;\n            &lt;th&gt;modelNum&lt;/th&gt;\n            &lt;th&gt;companyName&lt;/th&gt;\n            &lt;th&gt;price&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;/thead&gt;\n\n        &lt;tbody&gt;\n            &lt;tr th:each=&quot;mobile:${listMobiles}&quot;&gt;\n                &lt;td th:text=&quot;#{mobile.modelNum}&quot;&gt;&lt;/td&gt;\n                &lt;td th:text=&quot;#{mobile.companyName}&quot;&gt;&lt;/td&gt;\n                &lt;td th:text=&quot;#{mobile.price}&quot;&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>MobileRepository</p>\n<pre><code>package login.example;\n\nimport java.util.List;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\n\npublic interface MobileRepository extends JpaRepository&lt;Mobile, String&gt; {\n\n    @Query(&quot;SELECT mobile FROM Mobile mobile  WHERE CONCAT(mobile.modelNum,' ',mobile.companyName,' ',mobile.price) LIKE %?1%&quot;)\n    public List&lt;Mobile&gt; search(String keyword);\n    \n}\n</code></pre>\n<p>Here is MobileService</p>\n<pre><code>package login.example;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Service\npublic class MobileService {\n\n    @Autowired\n    private MobileRepository repo;\n    public List&lt;Mobile&gt; listAll(String keyword) {\n        if (keyword != null) {\n            return repo.search(keyword);\n\n        }else\n        return repo.findAll();\n    }\n\n}\n</code></pre>\n<p>here is mobileController</p>\n<pre><code>package login.example;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\n@Controller\npublic class MobileController {\n    @Autowired\n    private MobileService service;\n    \n    @RequestMapping(&quot;/indexone&quot;)\n    public String viewHomePage(Model model, @Param(&quot;keyword&quot;) String keyword) {\n        List&lt;Mobile&gt; listMobiles = service.listAll(keyword);\n        model.addAttribute(&quot;listMobiles&quot;, listMobiles);\n        model.addAttribute(&quot;keyword&quot;, keyword);\n        return &quot;indexone.html&quot;;\n    }\n}\n</code></pre>\n<p>my mobile table is not rendering well..what should i do to render table from mysql properly..searching is working well even after that..data is not rendered..what is this problem trying to say?it does not give exception..</p>\n"},{"tags":["java","json","file","directory","path"],"answers":[{"tags":[],"owner":{"account_id":1928650,"reputation":894,"user_id":1738539,"accept_rate":0,"display_name":"user1738539"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645643326,"creation_date":1645643326,"answer_id":71242769,"question_id":71242441,"body_markdown":"You will need to deserialize the JSON string into object. You can use a library like jackson `ObjectMapper`\r\n\r\n\r\n```\r\nclass Directory {\r\n\r\n   private String ruta;\r\n   private int periodo;\r\n   private List&lt;String&gt; archivos;\r\n\r\n   // getters and setters\r\n}\r\n```\r\nor use a record (java 14+)\r\n```\r\npublic record Directory(String ruta, int periodo, List&lt;String&gt; archivos) {}\r\n\r\n```\r\n\r\n```\r\npublic record Input(List&lt;Directory&gt; Directorios) {}\r\n```\r\n\r\nIn your main function you can do this now.\r\n```\r\n// triple quote text block is java 13+\r\nString jsonString = &quot;&quot;&quot;\r\n{\r\n    &quot;Directorios&quot;:[\r\n        {\r\n            &quot;ruta&quot;: &quot;C:\\\\Users\\\\erick\\\\Desktop\\\\prueba&quot;,\r\n            &quot;periodo&quot;: 15,\r\n            &quot;archivos&quot;:[&quot;yyyy-mm-dd_reportesdetalles_1.csv, yyyy-mm-dd_reportesdetalles_2.csv&quot;]\r\n        },\r\n        {\r\n            &quot;ruta&quot;: &quot;C:\\\\Users\\\\erick\\\\Desktop\\\\test&quot;,\r\n            &quot;periodo&quot;: 20,\r\n            &quot;archivos&quot;:[&quot;yyyy-mm-dd_test_1.csv, yyyy-mm-dd_test_2.csv&quot;]\r\n        }\r\n    ]\r\n}\r\n&quot;&quot;&quot;;\r\nList&lt;Directory&gt; directories = new com.fasterxml.jackson.databind.ObjectMapper().readValue(jsonString, Input.class).getDirectorios();\r\n\r\nfor (Directory d : directories) {\r\n   File ruta = new File(d.getRuta());\r\n   ImprimirFicheros1(ruta, 0);\r\n}\r\n```\r\n","title":"How to list folders and files from different paths stored in a json file - Java","body":"<p>You will need to deserialize the JSON string into object. You can use a library like jackson <code>ObjectMapper</code></p>\n<pre><code>class Directory {\n\n   private String ruta;\n   private int periodo;\n   private List&lt;String&gt; archivos;\n\n   // getters and setters\n}\n</code></pre>\n<p>or use a record (java 14+)</p>\n<pre><code>public record Directory(String ruta, int periodo, List&lt;String&gt; archivos) {}\n\n</code></pre>\n<pre><code>public record Input(List&lt;Directory&gt; Directorios) {}\n</code></pre>\n<p>In your main function you can do this now.</p>\n<pre><code>// triple quote text block is java 13+\nString jsonString = &quot;&quot;&quot;\n{\n    &quot;Directorios&quot;:[\n        {\n            &quot;ruta&quot;: &quot;C:\\\\Users\\\\erick\\\\Desktop\\\\prueba&quot;,\n            &quot;periodo&quot;: 15,\n            &quot;archivos&quot;:[&quot;yyyy-mm-dd_reportesdetalles_1.csv, yyyy-mm-dd_reportesdetalles_2.csv&quot;]\n        },\n        {\n            &quot;ruta&quot;: &quot;C:\\\\Users\\\\erick\\\\Desktop\\\\test&quot;,\n            &quot;periodo&quot;: 20,\n            &quot;archivos&quot;:[&quot;yyyy-mm-dd_test_1.csv, yyyy-mm-dd_test_2.csv&quot;]\n        }\n    ]\n}\n&quot;&quot;&quot;;\nList&lt;Directory&gt; directories = new com.fasterxml.jackson.databind.ObjectMapper().readValue(jsonString, Input.class).getDirectorios();\n\nfor (Directory d : directories) {\n   File ruta = new File(d.getRuta());\n   ImprimirFicheros1(ruta, 0);\n}\n</code></pre>\n"}],"owner":{"account_id":12291205,"reputation":33,"user_id":8968483,"display_name":"Erick Pro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":886,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71242769,"answer_count":1,"score":0,"last_activity_date":1645643326,"creation_date":1645641642,"question_id":71242441,"body_markdown":"I want to list all the folders and files from different paths stored in a json file in order to delete them later with a filter. In the folowing code I list the folders using the FILE class and only one path.\r\n\r\n    public class Depurador {\r\n       public static void main(String[] args) {\r\n       File ruta = new File(&quot;C:\\\\Users\\\\erick\\\\Desktop\\\\prueba&quot;);\r\n       ImprimirFicheros1(ruta, 0);\r\n    }\r\n    \r\n    public static void ImprimirFicheros1(File file, int nivelArbol){\r\n       for(int i = 0; i &lt; nivelArbol; i++){\r\n           System.out.print(&quot;-&quot;);\r\n       }\r\n       System.out.println(file.getName());\r\n       \r\n       if(file.isDirectory()){\r\n           File[] listaFicheros = file.listFiles();\r\n           for(File fichero : listaFicheros){\r\n               ImprimirFicheros1(fichero, nivelArbol + 2);\r\n           }\r\n       }\r\n    }\r\n\r\n\r\nI would like to list all the folders and files from this json file and not only from one path.\r\n\r\n\r\n    {\r\n        &quot;Directorios&quot;:[\r\n            {\r\n                &quot;ruta&quot;: &quot;C:\\\\Users\\\\erick\\\\Desktop\\\\prueba&quot;,\r\n                &quot;periodo&quot;: 15,\r\n                &quot;archivos&quot;:[&quot;yyyy-mm-dd_reportesdetalles_1.csv, yyyy-mm-dd_reportesdetalles_2.csv&quot;]\r\n            },\r\n            {\r\n                &quot;ruta&quot;: &quot;C:\\\\Users\\\\erick\\\\Desktop\\\\test&quot;,\r\n                &quot;periodo&quot;: 20,\r\n                &quot;archivos&quot;:[&quot;yyyy-mm-dd_test_1.csv, yyyy-mm-dd_test_2.csv&quot;]\r\n            }\r\n        ]\r\n    }\r\n\r\n\r\n","title":"How to list folders and files from different paths stored in a json file - Java","body":"<p>I want to list all the folders and files from different paths stored in a json file in order to delete them later with a filter. In the folowing code I list the folders using the FILE class and only one path.</p>\n<pre><code>public class Depurador {\n   public static void main(String[] args) {\n   File ruta = new File(&quot;C:\\\\Users\\\\erick\\\\Desktop\\\\prueba&quot;);\n   ImprimirFicheros1(ruta, 0);\n}\n\npublic static void ImprimirFicheros1(File file, int nivelArbol){\n   for(int i = 0; i &lt; nivelArbol; i++){\n       System.out.print(&quot;-&quot;);\n   }\n   System.out.println(file.getName());\n   \n   if(file.isDirectory()){\n       File[] listaFicheros = file.listFiles();\n       for(File fichero : listaFicheros){\n           ImprimirFicheros1(fichero, nivelArbol + 2);\n       }\n   }\n}\n</code></pre>\n<p>I would like to list all the folders and files from this json file and not only from one path.</p>\n<pre><code>{\n    &quot;Directorios&quot;:[\n        {\n            &quot;ruta&quot;: &quot;C:\\\\Users\\\\erick\\\\Desktop\\\\prueba&quot;,\n            &quot;periodo&quot;: 15,\n            &quot;archivos&quot;:[&quot;yyyy-mm-dd_reportesdetalles_1.csv, yyyy-mm-dd_reportesdetalles_2.csv&quot;]\n        },\n        {\n            &quot;ruta&quot;: &quot;C:\\\\Users\\\\erick\\\\Desktop\\\\test&quot;,\n            &quot;periodo&quot;: 20,\n            &quot;archivos&quot;:[&quot;yyyy-mm-dd_test_1.csv, yyyy-mm-dd_test_2.csv&quot;]\n        }\n    ]\n}\n</code></pre>\n"},{"tags":["java","iterator"],"comments":[{"owner":{"account_id":14626,"reputation":2286,"user_id":30297,"accept_rate":92,"display_name":"chillysapien"},"score":0,"creation_date":1229426374,"post_id":371026,"comment_id":199810,"body_markdown":"Is there a reason you can&#39;t just &quot;add 1&quot;, in the classic fashion? Just of interest","body":"Is there a reason you can&#39;t just &quot;add 1&quot;, in the classic fashion? Just of interest"},{"owner":{"account_id":10005,"reputation":19934,"user_id":18722,"accept_rate":94,"display_name":"cretzel"},"score":0,"creation_date":1229427678,"post_id":371026,"comment_id":199829,"body_markdown":"It&#39;s a framework that requires me to write an iterator","body":"It&#39;s a framework that requires me to write an iterator"},{"owner":{"account_id":14839398,"reputation":394,"user_id":10716650,"display_name":"Martin of Hessle"},"score":0,"creation_date":1552650634,"post_id":371026,"comment_id":97101790,"body_markdown":"Clarity trumps breviety everytime and there are a numerous Range classes available out that include iteration.","body":"Clarity trumps breviety everytime and there are a numerous Range classes available out that include iteration."}],"answers":[{"tags":[],"owner":{"account_id":18835,"reputation":82190,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"down_vote_count":8,"up_vote_count":12,"is_accepted":true,"score":4,"last_activity_date":1229426534,"creation_date":1229426534,"answer_id":371034,"question_id":371026,"body_markdown":"Straight-forward implementation of your homework:\r\n\r\n    List&lt;Integer&gt; ints = new ArrayList&lt;Integer&gt;();\r\n    for (int i = 0; i &lt; count; i++) {\r\n        ints.add(first + i);\r\n    }\r\n\r\n","title":"Shortest way to get an Iterator over a range of Integers in Java","body":"<p>Straight-forward implementation of your homework:</p>\n\n<pre><code>List&lt;Integer&gt; ints = new ArrayList&lt;Integer&gt;();\nfor (int i = 0; i &lt; count; i++) {\n    ints.add(first + i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1229426914,"creation_date":1229426914,"answer_id":371043,"question_id":371026,"body_markdown":"Untested. Mapping that onto &quot;min, count&quot; is left as an exercise for the reader.\r\n\r\n    public class IntRangeIterator implements Iterator&lt;Integer&gt; {\r\n      private int nextValue;\r\n      private final int max;\r\n      public IntRangeIterator(int min, int max) {\r\n        if (min &gt; max) {\r\n          throw new IllegalArgumentException(&quot;min must be &lt;= max&quot;);\r\n        }\r\n        this.nextValue = min;\r\n        this.max = max;\r\n      }\r\n      \r\n      public boolean hasNext() {\r\n        return nextValue &lt;= max;\r\n      }\r\n      \r\n      public Integer next() {\r\n        if (!hasNext()) {\r\n          throw new NoSuchElementException();\r\n        }\r\n        return Integer.valueOf(nextValue++);\r\n      }\r\n      \r\n      public void remove() {\r\n        throw new UnsupportedOperationException();\r\n      }\r\n    }","title":"Shortest way to get an Iterator over a range of Integers in Java","body":"<p>Untested. Mapping that onto \"min, count\" is left as an exercise for the reader.</p>\n\n<pre><code>public class IntRangeIterator implements Iterator&lt;Integer&gt; {\n  private int nextValue;\n  private final int max;\n  public IntRangeIterator(int min, int max) {\n    if (min &gt; max) {\n      throw new IllegalArgumentException(\"min must be &lt;= max\");\n    }\n    this.nextValue = min;\n    this.max = max;\n  }\n\n  public boolean hasNext() {\n    return nextValue &lt;= max;\n  }\n\n  public Integer next() {\n    if (!hasNext()) {\n      throw new NoSuchElementException();\n    }\n    return Integer.valueOf(nextValue++);\n  }\n\n  public void remove() {\n    throw new UnsupportedOperationException();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1229427009,"creation_date":1229427009,"answer_id":371044,"question_id":371026,"body_markdown":"If you actually want the shortest amount of code, then Bombe&#39;s answer is fine. However, it sucks memory for no good reason. If you want to implement it yourself, it would be something like:\r\n\r\n    import java.util.*;\r\n    \r\n    public class IntegerRange implements Iterator&lt;Integer&gt;\r\n    {\r\n        private final int start;\r\n        private final int count;\r\n    \r\n        private int position = -1;\r\n    \r\n        public IntegerRange(int start, int count)\r\n        {\r\n            this.start = start;\r\n            this.count = count;\r\n        }\r\n    \r\n        public boolean hasNext()\r\n        {\r\n            return position+1 &lt; count;\r\n        }\r\n    \r\n        public Integer next()\r\n        {\r\n            if (position+1 &gt;= count)\r\n            {\r\n                throw new NoSuchElementException();\r\n            }\r\n            position++;\r\n            return start + position;\r\n        }\r\n    \r\n        public void remove()\r\n        {\r\n            throw new UnsupportedOperationException();\r\n        }\r\n    }","title":"Shortest way to get an Iterator over a range of Integers in Java","body":"<p>If you actually want the shortest amount of code, then Bombe's answer is fine. However, it sucks memory for no good reason. If you want to implement it yourself, it would be something like:</p>\n\n<pre><code>import java.util.*;\n\npublic class IntegerRange implements Iterator&lt;Integer&gt;\n{\n    private final int start;\n    private final int count;\n\n    private int position = -1;\n\n    public IntegerRange(int start, int count)\n    {\n        this.start = start;\n        this.count = count;\n    }\n\n    public boolean hasNext()\n    {\n        return position+1 &lt; count;\n    }\n\n    public Integer next()\n    {\n        if (position+1 &gt;= count)\n        {\n            throw new NoSuchElementException();\n        }\n        position++;\n        return start + position;\n    }\n\n    public void remove()\n    {\n        throw new UnsupportedOperationException();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2961,"reputation":70821,"user_id":4203,"accept_rate":90,"display_name":"Hank Gay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1229430931,"creation_date":1229428741,"answer_id":371091,"question_id":371026,"body_markdown":"It&#39;s generally considered good style to pass around `Collection` and friends instead of `Iterator` (see [this FAQ entry](http://java.sun.com/j2se/1.4.2/docs/guide/collections/designfaq.html#8)), so I&#39;d recommend something like\r\n\r\n    public final class IntegerRange implements Set&lt;Integer&gt; {\r\n            final LinkedHashSet&lt;Integer&gt; backingList;\r\n            public IntegerRange(final int start, final int count) {\r\n                    backingList = new LinkedHashSet(count, 1.0f);\r\n                    for (int i=0; i &lt; count; i++) {\r\n                            backingList.set(i, start + i);\r\n                    }       \r\n            }       \r\n            /** Insert a bunch of delegation methods here */\r\n    }\r\n\r\nand then just use `.iterator()` when you need to pass an `Iterator` to whatever framework you&#39;re using.\r\n\r\nUPDATE: Obviously, this code isn&#39;t lazy. If you can&#39;t afford the extra memory overhead of storing (potentially) 2^32-1 `Integer`s, you should use a different solution. Also, nothing about the type guarantees the range will be sorted (even though it is, based on the implementation). If you need to guarantee sorting, you could look into implementing [SortedSet](http://java.sun.com/j2se/1.4.2/docs/api/java/util/SortedSet.html) and backing it with a [TreeSet](http://java.sun.com/j2se/1.4.2/docs/api/java/util/TreeSet.html), but it will take longer to build the range. Honestly, if you are that concerned with getting the details right, it might be worth your effort to look for a library. Tapestry has an [internal version](http://tapestry.apache.org/tapestry5/apidocs/org/apache/tapestry5/internal/util/IntegerRange.html), for instance.","title":"Shortest way to get an Iterator over a range of Integers in Java","body":"<p>It's generally considered good style to pass around <code>Collection</code> and friends instead of <code>Iterator</code> (see <a href=\"http://java.sun.com/j2se/1.4.2/docs/guide/collections/designfaq.html#8\" rel=\"nofollow noreferrer\">this FAQ entry</a>), so I'd recommend something like</p>\n\n<pre><code>public final class IntegerRange implements Set&lt;Integer&gt; {\n        final LinkedHashSet&lt;Integer&gt; backingList;\n        public IntegerRange(final int start, final int count) {\n                backingList = new LinkedHashSet(count, 1.0f);\n                for (int i=0; i &lt; count; i++) {\n                        backingList.set(i, start + i);\n                }       \n        }       \n        /** Insert a bunch of delegation methods here */\n}\n</code></pre>\n\n<p>and then just use <code>.iterator()</code> when you need to pass an <code>Iterator</code> to whatever framework you're using.</p>\n\n<p>UPDATE: Obviously, this code isn't lazy. If you can't afford the extra memory overhead of storing (potentially) 2^32-1 <code>Integer</code>s, you should use a different solution. Also, nothing about the type guarantees the range will be sorted (even though it is, based on the implementation). If you need to guarantee sorting, you could look into implementing <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/SortedSet.html\" rel=\"nofollow noreferrer\">SortedSet</a> and backing it with a <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/TreeSet.html\" rel=\"nofollow noreferrer\">TreeSet</a>, but it will take longer to build the range. Honestly, if you are that concerned with getting the details right, it might be worth your effort to look for a library. Tapestry has an <a href=\"http://tapestry.apache.org/tapestry5/apidocs/org/apache/tapestry5/internal/util/IntegerRange.html\" rel=\"nofollow noreferrer\">internal version</a>, for instance.</p>\n"},{"tags":[],"owner":{"account_id":413802,"reputation":4492,"user_id":787643,"accept_rate":77,"display_name":"Saintali"},"down_vote_count":0,"up_vote_count":80,"is_accepted":false,"score":80,"last_activity_date":1645643101,"creation_date":1311677340,"answer_id":6828887,"question_id":371026,"body_markdown":"This implementation does not have a memory footprint.\r\n\r\n    /**\r\n     * @param begin inclusive\r\n     * @param end exclusive\r\n     * @return list of integers from begin to end\r\n     */\r\n    public static List&lt;Integer&gt; range(final int begin, final int end) {\r\n        return new AbstractList&lt;Integer&gt;() {\r\n                @Override\r\n                public Integer get(int index) {\r\n                    return begin + index;\r\n                }\r\n    \r\n                @Override\r\n                public int size() {\r\n                    return end - begin;\r\n                }\r\n            };\r\n    }\r\n\r\n\r\nEdit:\r\n-----\r\n\r\nIn Java 8 and later you can simply say:\r\n\r\n    IntStream.range(begin, end).iterator()          // returns PrimitiveIterator.OfInt\r\n\r\nor if you need the boxed version: \r\n\r\n    IntStream.range(begin, end).boxed().iterator()  // returns Iterator&lt;Integer&gt;","title":"Shortest way to get an Iterator over a range of Integers in Java","body":"<p>This implementation does not have a memory footprint.</p>\n<pre><code>/**\n * @param begin inclusive\n * @param end exclusive\n * @return list of integers from begin to end\n */\npublic static List&lt;Integer&gt; range(final int begin, final int end) {\n    return new AbstractList&lt;Integer&gt;() {\n            @Override\n            public Integer get(int index) {\n                return begin + index;\n            }\n\n            @Override\n            public int size() {\n                return end - begin;\n            }\n        };\n}\n</code></pre>\n<h2>Edit:</h2>\n<p>In Java 8 and later you can simply say:</p>\n<pre><code>IntStream.range(begin, end).iterator()          // returns PrimitiveIterator.OfInt\n</code></pre>\n<p>or if you need the boxed version:</p>\n<pre><code>IntStream.range(begin, end).boxed().iterator()  // returns Iterator&lt;Integer&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":915122,"reputation":345,"user_id":948083,"display_name":"Lee"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1320080223,"creation_date":1320078453,"answer_id":7956576,"question_id":371026,"body_markdown":"An example using the guava framework.  Note that this will not materialize the set (although you have to read the ContiguousSet implementation to verify that).\r\n\r\n \r\n    import com.google.common.collect.ContiguousSet;\r\n    import com.google.common.collect.DiscreteDomain;\r\n    import com.google.common.collect.DiscreteDomains;\r\n\r\n    class RangeIterator { \r\n \r\n        public Iterator&lt;Integer&gt; range(int start, int length) {\r\n            assert length &gt; 0;\r\n            Range&lt;Integer&gt; dim_range = Ranges.closedOpen(start, start + length);\r\n            DiscreteDomain&lt;Integer&gt; ints = DiscreteDomains.integers();\r\n            ContiguousSet&lt;Integer&gt; dim = dim_range.asSet(ints);\r\n            return dim.iterator();\r\n        }\r\n    }","title":"Shortest way to get an Iterator over a range of Integers in Java","body":"<p>An example using the guava framework.  Note that this will not materialize the set (although you have to read the ContiguousSet implementation to verify that).</p>\n\n<pre><code>import com.google.common.collect.ContiguousSet;\nimport com.google.common.collect.DiscreteDomain;\nimport com.google.common.collect.DiscreteDomains;\n\nclass RangeIterator { \n\n    public Iterator&lt;Integer&gt; range(int start, int length) {\n        assert length &gt; 0;\n        Range&lt;Integer&gt; dim_range = Ranges.closedOpen(start, start + length);\n        DiscreteDomain&lt;Integer&gt; ints = DiscreteDomains.integers();\n        ContiguousSet&lt;Integer&gt; dim = dim_range.asSet(ints);\n        return dim.iterator();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":254135,"reputation":3720,"user_id":533317,"display_name":"btpka3"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1461151038,"creation_date":1461151038,"answer_id":36742140,"question_id":371026,"body_markdown":"A sample using stream API in java 8: \r\n\r\n    int first = 0;\r\n    int count = 10;\r\n    Iterator&lt;Integer&gt; it = IntStream.range(first, first + count).iterator();\r\n    while (it.hasNext()) {\r\n        System.out.println(it.next());\r\n    }\r\n\r\nWithout iterator, it could be:\r\n\r\n    int first = 0;\r\n    int count = 10;\r\n    IntStream.range(first, first + count).forEach(i -&gt; System.out.println(i));","title":"Shortest way to get an Iterator over a range of Integers in Java","body":"<p>A sample using stream API in java 8: </p>\n\n<pre><code>int first = 0;\nint count = 10;\nIterator&lt;Integer&gt; it = IntStream.range(first, first + count).iterator();\nwhile (it.hasNext()) {\n    System.out.println(it.next());\n}\n</code></pre>\n\n<p>Without iterator, it could be:</p>\n\n<pre><code>int first = 0;\nint count = 10;\nIntStream.range(first, first + count).forEach(i -&gt; System.out.println(i));\n</code></pre>\n"}],"owner":{"account_id":10005,"reputation":19934,"user_id":18722,"accept_rate":94,"display_name":"cretzel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47858,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":371034,"answer_count":7,"score":34,"last_activity_date":1645643101,"creation_date":1229426182,"question_id":371026,"body_markdown":"What&#39;s the shortest way to get an Iterator over a range of Integers in Java? In other words, implement the following:\r\n\r\n    /** \r\n    * Returns an Iterator over the integers from first to first+count.\r\n    */\r\n    Iterator&lt;Integer&gt; iterator(Integer first, Integer count);\r\n\r\nSomething like\r\n\r\n    (first..first+count).iterator()","title":"Shortest way to get an Iterator over a range of Integers in Java","body":"<p>What's the shortest way to get an Iterator over a range of Integers in Java? In other words, implement the following:</p>\n\n<pre><code>/** \n* Returns an Iterator over the integers from first to first+count.\n*/\nIterator&lt;Integer&gt; iterator(Integer first, Integer count);\n</code></pre>\n\n<p>Something like</p>\n\n<pre><code>(first..first+count).iterator()\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"score":0,"creation_date":1645642852,"post_id":71242586,"comment_id":125929762,"body_markdown":"you need to update the `onClick` method for that button.","body":"you need to update the <code>onClick</code> method for that button."},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1645646887,"post_id":71242586,"comment_id":125931052,"body_markdown":"https://developer.android.com/guide","body":"<a href=\"https://developer.android.com/guide\" rel=\"nofollow noreferrer\">developer.android.com/guide</a>"},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1645646965,"post_id":71242586,"comment_id":125931081,"body_markdown":"... and please have a look at [TOUR], [ASK] and how to write a [MCVE]","body":"... and please have a look at <a href=\"https://stackoverflow.com/tour\">TOUR</a>, <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and how to write a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":24281583,"reputation":168,"user_id":18228017,"display_name":"Cayman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645642795,"creation_date":1645642795,"answer_id":71242670,"question_id":71242586,"body_markdown":"There you have a listener \r\n\r\n&quot;btnMore.setOnClickListener&quot;\r\n\r\nThat reacts to click \r\n\r\nThe function:\r\n&quot;public void onClick(View v)&quot;\r\n\r\nIs the code that is triggered when button its clicked \r\n\r\nSo you can change the code inside &quot;onClick&quot;","title":"Need help to change the button function","body":"<p>There you have a listener</p>\n<p>&quot;btnMore.setOnClickListener&quot;</p>\n<p>That reacts to click</p>\n<p>The function:\n&quot;public void onClick(View v)&quot;</p>\n<p>Is the code that is triggered when button its clicked</p>\n<p>So you can change the code inside &quot;onClick&quot;</p>\n"}],"owner":{"account_id":15878323,"reputation":11,"user_id":11456822,"display_name":"KaoKai232"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1645699798,"answer_count":1,"score":-1,"last_activity_date":1645642986,"creation_date":1645642404,"question_id":71242586,"body_markdown":"i know that my question is stupid a bit, but i really dont know the coding.\r\nI need help with source code which i found somewhere in network, i dont know coding well and all what i want to do is just change the button function to redirect for site which i want to put in code.\r\nBascially was used to showing some reward video ads, which i removed from code but have no idea how to change the button function.\r\nI will be very grateful for any help from your side.\r\nButton is called btnMore, below is main activity class and activity main.xml \r\nThanks for any help from your side.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private String[] Name_Item;\r\n    private int index;\r\n    private ImageButton btnMore;\r\n    private boolean detectNetwork ;\r\n    private    MyListData[] myListData ;\r\n    private  SharedPref sharedpref;\r\n    private final  Handler mHandler = new Handler();\r\n    Snackbar snackbar ;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        sharedpref = new SharedPref(this);\r\n        if(sharedpref.loadNightModeState()) {\r\n            setTheme(R.style.darktheme);\r\n        }\r\n        else  setTheme(R.style.AppTheme);\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        // Setup Custom Consent\r\n        // check font\r\n        FontControle fontControle= new FontControle(this);\r\n        fontControle.checked();\r\n\r\n\r\n        //toolbar\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n        toolbar.showOverflowMenu();\r\n\r\n\r\n\r\n\r\n\r\n        detectNetwork= new Utils(this).isConnectingToInternet();\r\n        LinearLayout showMore = findViewById(R.id.ShowMore);\r\n        btnMore= findViewById(R.id.btnShowMore);\r\n\r\n\r\n        Name_Item=getResources().getStringArray(R.array.Name_item);\r\n        index =sharedpref.LoadInt(&quot;index&quot;);\r\n        int maxindex = Integer.parseInt(getString(R.string.MaxIndex));\r\n\r\n        if (index== -1){\r\n            sharedpref.SaveInt(&quot;index&quot;,6);\r\n            index=6;\r\n            if (maxindex ==6) showMore.setVisibility(View.GONE);\r\n        }else if (index== maxindex) showMore.setVisibility(View.GONE);\r\n        //ads Banner\r\n        if (AdsConfig.ENABLE_ADMOB)\r\n            AdsBanner.newInstance(this).loadBannerAdView((FrameLayout) findViewById(R.id.layout_ad));\r\n        else\r\n            AdsBanner.newInstance(this).LoadBannerFbview( findViewById(R.id.ad_applovin));\r\n\r\n\r\n        Takeguide();\r\n\r\n        mHandler.postDelayed(mUpdateTimeTask, 200);\r\n        btnMore.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (detectNetwork) {\r\n                    new AlertDialog.Builder(MainActivity.this)\r\n                            .setTitle(&quot;Show More&quot;)\r\n                            .setMessage(&quot;Watch video ads for show more?&quot;)\r\n                            .setPositiveButton(android.R.string.yes, new DialogInterface.OnClickListener() {\r\n                                public void onClick(DialogInterface dialog, int which) {\r\n\r\n\r\n\r\n                                }\r\n                            })\r\n                            .setNegativeButton(android.R.string.no, new DialogInterface.OnClickListener() {\r\n                                public void onClick(DialogInterface dialog, int which) {\r\n                                   dialog.cancel();\r\n                                }\r\n                            })\r\n                            .setIcon(android.R.drawable.ic_dialog_alert)\r\n                            .show();\r\n\r\n                } else {\r\n                    snackBar(&quot;No Internet ,Enable wifi or connection network&quot;);\r\n                }\r\n            }});\r\n\r\n\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/toolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;?attr/colorPrimaryDark&quot;\r\n        android:elevation=&quot;4dp&quot;\r\n        android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark&quot;\r\n        android:transitionName=&quot;nameApp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;&lt;/androidx.appcompat.widget.Toolbar&gt;\r\n\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recyclerView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_weight=&quot;0.8&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/ads&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/ShowMore&quot;&gt;\r\n\r\n    &lt;/androidx.recyclerview.widget.RecyclerView&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/ShowMore&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:background=&quot;@drawable/backmore&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/toolbar&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;@string/MoreItemText&quot;\r\n            android:textColor=&quot;?attr/blue&quot;\r\n            android:textSize=&quot;14sp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            app:fontFamily=&quot;serif&quot; /&gt;\r\n\r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/btnShowMore&quot;\r\n            android:layout_width=&quot;35dp&quot;\r\n            android:layout_height=&quot;35dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:background=&quot;@drawable/gift&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Show&quot;\r\n            android:textColor=&quot;?attr/Black&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n        android:id=&quot;@+id/customSnac&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/ShowMore&quot;&gt;&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/ads&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;com.applovin.adview.AppLovinAdView\r\n            android:id=&quot;@+id/ad_applovin&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;bottom|center&quot;\r\n            android:gravity=&quot;center&quot; /&gt;\r\n\r\n        &lt;FrameLayout\r\n            android:id=&quot;@+id/layout_ad&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;?attr/Black&quot;&gt;\r\n\r\n        &lt;/FrameLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"Need help to change the button function","body":"<p>i know that my question is stupid a bit, but i really dont know the coding.\nI need help with source code which i found somewhere in network, i dont know coding well and all what i want to do is just change the button function to redirect for site which i want to put in code.\nBascially was used to showing some reward video ads, which i removed from code but have no idea how to change the button function.\nI will be very grateful for any help from your side.\nButton is called btnMore, below is main activity class and activity main.xml\nThanks for any help from your side.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate String[] Name_Item;\nprivate int index;\nprivate ImageButton btnMore;\nprivate boolean detectNetwork ;\nprivate    MyListData[] myListData ;\nprivate  SharedPref sharedpref;\nprivate final  Handler mHandler = new Handler();\nSnackbar snackbar ;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    sharedpref = new SharedPref(this);\n    if(sharedpref.loadNightModeState()) {\n        setTheme(R.style.darktheme);\n    }\n    else  setTheme(R.style.AppTheme);\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    // Setup Custom Consent\n    // check font\n    FontControle fontControle= new FontControle(this);\n    fontControle.checked();\n\n\n    //toolbar\n    Toolbar toolbar = findViewById(R.id.toolbar);\n    setSupportActionBar(toolbar);\n    toolbar.showOverflowMenu();\n\n\n\n\n\n    detectNetwork= new Utils(this).isConnectingToInternet();\n    LinearLayout showMore = findViewById(R.id.ShowMore);\n    btnMore= findViewById(R.id.btnShowMore);\n\n\n    Name_Item=getResources().getStringArray(R.array.Name_item);\n    index =sharedpref.LoadInt(&quot;index&quot;);\n    int maxindex = Integer.parseInt(getString(R.string.MaxIndex));\n\n    if (index== -1){\n        sharedpref.SaveInt(&quot;index&quot;,6);\n        index=6;\n        if (maxindex ==6) showMore.setVisibility(View.GONE);\n    }else if (index== maxindex) showMore.setVisibility(View.GONE);\n    //ads Banner\n    if (AdsConfig.ENABLE_ADMOB)\n        AdsBanner.newInstance(this).loadBannerAdView((FrameLayout) findViewById(R.id.layout_ad));\n    else\n        AdsBanner.newInstance(this).LoadBannerFbview( findViewById(R.id.ad_applovin));\n\n\n    Takeguide();\n\n    mHandler.postDelayed(mUpdateTimeTask, 200);\n    btnMore.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            if (detectNetwork) {\n                new AlertDialog.Builder(MainActivity.this)\n                        .setTitle(&quot;Show More&quot;)\n                        .setMessage(&quot;Watch video ads for show more?&quot;)\n                        .setPositiveButton(android.R.string.yes, new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog, int which) {\n\n\n\n                            }\n                        })\n                        .setNegativeButton(android.R.string.no, new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog, int which) {\n                               dialog.cancel();\n                            }\n                        })\n                        .setIcon(android.R.drawable.ic_dialog_alert)\n                        .show();\n\n            } else {\n                snackBar(&quot;No Internet ,Enable wifi or connection network&quot;);\n            }\n        }});\n\n\n\n&lt;androidx.appcompat.widget.Toolbar\n    android:id=&quot;@+id/toolbar&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;?attr/colorPrimaryDark&quot;\n    android:elevation=&quot;4dp&quot;\n    android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark&quot;\n    android:transitionName=&quot;nameApp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;&lt;/androidx.appcompat.widget.Toolbar&gt;\n\n\n&lt;androidx.recyclerview.widget.RecyclerView\n    android:id=&quot;@+id/recyclerView&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;0dp&quot;\n    android:layout_weight=&quot;0.8&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/ads&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;@+id/ShowMore&quot;&gt;\n\n&lt;/androidx.recyclerview.widget.RecyclerView&gt;\n\n&lt;LinearLayout\n    android:id=&quot;@+id/ShowMore&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;40dp&quot;\n    android:layout_gravity=&quot;center&quot;\n    android:background=&quot;@drawable/backmore&quot;\n    android:gravity=&quot;center&quot;\n    android:orientation=&quot;horizontal&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/toolbar&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;@string/MoreItemText&quot;\n        android:textColor=&quot;?attr/blue&quot;\n        android:textSize=&quot;14sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:fontFamily=&quot;serif&quot; /&gt;\n\n    &lt;ImageButton\n        android:id=&quot;@+id/btnShowMore&quot;\n        android:layout_width=&quot;35dp&quot;\n        android:layout_height=&quot;35dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:background=&quot;@drawable/gift&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;Show&quot;\n        android:textColor=&quot;?attr/Black&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n\n\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n    android:id=&quot;@+id/customSnac&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;@+id/ShowMore&quot;&gt;&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n\n&lt;LinearLayout\n    android:id=&quot;@+id/ads&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n    &lt;com.applovin.adview.AppLovinAdView\n        android:id=&quot;@+id/ad_applovin&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;bottom|center&quot;\n        android:gravity=&quot;center&quot; /&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/layout_ad&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;?attr/Black&quot;&gt;\n\n    &lt;/FrameLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</p>\n"},{"tags":["java","google-cloud-storage"],"answers":[{"tags":[],"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1634556325,"creation_date":1634556325,"answer_id":69615205,"question_id":69612407,"body_markdown":"The [delete object](https://cloud.google.com/storage/docs/json_api/v1/objects/delete) API call is synchronous (it doesn&#39;t return a jobId that you have to poll to know if the operation is done or not). Therefore, the standard library can&#39;t implement async call because it&#39;s sync.\r\n\r\nNodeJS best practice is to create async function when you perform API call. It&#39;s a language design not an API behavior. You can do the same in Java, Python and Go, but it&#39;s not out of the box, you need to create yourselves the concurrency.","title":"Is it possible to delete files from GCS async","body":"<p>The <a href=\"https://cloud.google.com/storage/docs/json_api/v1/objects/delete\" rel=\"nofollow noreferrer\">delete object</a> API call is synchronous (it doesn't return a jobId that you have to poll to know if the operation is done or not). Therefore, the standard library can't implement async call because it's sync.</p>\n<p>NodeJS best practice is to create async function when you perform API call. It's a language design not an API behavior. You can do the same in Java, Python and Go, but it's not out of the box, you need to create yourselves the concurrency.</p>\n"},{"tags":[],"owner":{"account_id":4481392,"reputation":9443,"user_id":3645370,"display_name":"David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645642939,"creation_date":1645642939,"answer_id":71242697,"question_id":69612407,"body_markdown":"[Guillaume&#39;s answer](https://stackoverflow.com/a/69615205/3645370) is technically correct in that the underlying HTTP API is synchronous, it sounds like you are looking for a way to make an async call within your code and let the call run in the background.\r\n\r\nThe `com.google.cloud.storage` API that you are using does not have this built in. You can always run the call in a background thread or using an Futures [as demonstrated in the answers here](https://stackoverflow.com/questions/1842734/how-to-asynchronously-call-a-method-in-java).\r\n\r\nYou can also access Google Cloud Storage using S3&#39;s Java library, which [does have a built in async API](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/asynchronous.html). Use the [migration guide](https://cloud.google.com/storage/docs/migrating) to use these libraries together. Note GCS does not support S3&#39;s Multiple object delete API so you can&#39;t use their `deleteObjects` method.\r\n\r\nNote that because the underlying HTTP API is synchronous, your application cannot quit while the delete calls are happening in a background thread.","title":"Is it possible to delete files from GCS async","body":"<p><a href=\"https://stackoverflow.com/a/69615205/3645370\">Guillaume's answer</a> is technically correct in that the underlying HTTP API is synchronous, it sounds like you are looking for a way to make an async call within your code and let the call run in the background.</p>\n<p>The <code>com.google.cloud.storage</code> API that you are using does not have this built in. You can always run the call in a background thread or using an Futures <a href=\"https://stackoverflow.com/questions/1842734/how-to-asynchronously-call-a-method-in-java\">as demonstrated in the answers here</a>.</p>\n<p>You can also access Google Cloud Storage using S3's Java library, which <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/asynchronous.html\" rel=\"nofollow noreferrer\">does have a built in async API</a>. Use the <a href=\"https://cloud.google.com/storage/docs/migrating\" rel=\"nofollow noreferrer\">migration guide</a> to use these libraries together. Note GCS does not support S3's Multiple object delete API so you can't use their <code>deleteObjects</code> method.</p>\n<p>Note that because the underlying HTTP API is synchronous, your application cannot quit while the delete calls are happening in a background thread.</p>\n"}],"owner":{"account_id":179362,"reputation":15005,"user_id":411965,"accept_rate":87,"display_name":"oshai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69615205,"answer_count":2,"score":1,"last_activity_date":1645642939,"creation_date":1634543002,"question_id":69612407,"body_markdown":"I am trying to delete many files from google cloud storage at once.  \r\nI am using the following code:\r\n```java\r\npublic List&lt;Boolean&gt; deleteObjects(List&lt;String&gt; fileParams) {\r\n      List&lt;BlobId&gt; blobs =\r\n          fileParams.stream()\r\n              .map(\r\n                  file -&gt; {\r\n                    logger.info(&quot;deleteObject: {}&quot;, file);\r\n                    return BlobId.of(bucketName, file);\r\n                  })\r\n              .collect(Collectors.toList());\r\n      return storage.delete(blobs);\r\n  }\r\n```\r\nThis call takes a very long time - I tried to delete 150k files and it took almost 1 hour.  \r\n\r\nI would like to run it as &quot;fire and forget&quot;.\r\n\r\nI saw in the [JS example][1] that the api is async by nature:\r\n```js\r\nawait storage.bucket(bucketName).file(fileName).delete();\r\n```\r\n\r\nI didn&#39;t find such example for Java, either with or without a batch.  \r\nI guess I can start a new thread and run it, but I wanted to know if the API supports something like that natively.  \r\n\r\n\r\nIs it possible to run an async command natively by the api?\r\n\r\n  [1]: https://cloud.google.com/storage/docs/deleting-objects#storage-delete-object-nodejs","title":"Is it possible to delete files from GCS async","body":"<p>I am trying to delete many files from google cloud storage at once.<br />\nI am using the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Boolean&gt; deleteObjects(List&lt;String&gt; fileParams) {\n      List&lt;BlobId&gt; blobs =\n          fileParams.stream()\n              .map(\n                  file -&gt; {\n                    logger.info(&quot;deleteObject: {}&quot;, file);\n                    return BlobId.of(bucketName, file);\n                  })\n              .collect(Collectors.toList());\n      return storage.delete(blobs);\n  }\n</code></pre>\n<p>This call takes a very long time - I tried to delete 150k files and it took almost 1 hour.</p>\n<p>I would like to run it as &quot;fire and forget&quot;.</p>\n<p>I saw in the <a href=\"https://cloud.google.com/storage/docs/deleting-objects#storage-delete-object-nodejs\" rel=\"nofollow noreferrer\">JS example</a> that the api is async by nature:</p>\n<pre class=\"lang-js prettyprint-override\"><code>await storage.bucket(bucketName).file(fileName).delete();\n</code></pre>\n<p>I didn't find such example for Java, either with or without a batch.<br />\nI guess I can start a new thread and run it, but I wanted to know if the API supports something like that natively.</p>\n<p>Is it possible to run an async command natively by the api?</p>\n"},{"tags":["java","scala","types","mockito"],"answers":[{"tags":[],"owner":{"account_id":3878295,"reputation":369,"user_id":3211617,"accept_rate":75,"display_name":"jo_wil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592392856,"creation_date":1494467096,"answer_id":43905168,"question_id":43904850,"body_markdown":"I solved this, but would love some insight into why this worked.\r\n\r\nI replaced _: RefreshRequest with any[RefreshRequest] I understand this I think.\r\n\r\nBut the imports have me tripped up.\r\n\r\nI imported\r\n\r\n    import org.mockito.ArgumentMatchers.any\r\n\r\nand thats when everything worked\r\n\r\nwhen I imported\r\n\r\n    import org.mockito.Matchers.any\r\n\r\nI got a error \r\n\r\n    value any is not a member of org.mockito.Matchers.any\r\n\r\nLooking at the docs for Matchers it is a subclass of Argument Matchers so how did it not have any?\r\n","title":"Mockito Scala overloaded method value thenReturn with alternatives","body":"<p>I solved this, but would love some insight into why this worked.</p>\n\n<p>I replaced _: RefreshRequest with any[RefreshRequest] I understand this I think.</p>\n\n<p>But the imports have me tripped up.</p>\n\n<p>I imported</p>\n\n<pre><code>import org.mockito.ArgumentMatchers.any\n</code></pre>\n\n<p>and thats when everything worked</p>\n\n<p>when I imported</p>\n\n<pre><code>import org.mockito.Matchers.any\n</code></pre>\n\n<p>I got a error </p>\n\n<pre><code>value any is not a member of org.mockito.Matchers.any\n</code></pre>\n\n<p>Looking at the docs for Matchers it is a subclass of Argument Matchers so how did it not have any?</p>\n"},{"tags":[],"owner":{"account_id":5949133,"reputation":1447,"user_id":4677752,"display_name":"ultrasecr.eth"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1533240946,"creation_date":1533240946,"answer_id":51661512,"question_id":43904850,"body_markdown":"If you use `mockito-scala` you can mix-in the trait `org.mockito.ArgumentMatchersSugar` and it will provide all the appropriate ones, furthermore, for `any` you don&#39;t need to specify the type anymore as the compiler will figure it out\r\n\r\nCheck https://github.com/mockito/mockito-scala for more info\r\n\r\nDisclaimer: I develop that library (but is part of the mockito suite anyway)","title":"Mockito Scala overloaded method value thenReturn with alternatives","body":"<p>If you use <code>mockito-scala</code> you can mix-in the trait <code>org.mockito.ArgumentMatchersSugar</code> and it will provide all the appropriate ones, furthermore, for <code>any</code> you don't need to specify the type anymore as the compiler will figure it out</p>\n\n<p>Check <a href=\"https://github.com/mockito/mockito-scala\" rel=\"nofollow noreferrer\">https://github.com/mockito/mockito-scala</a> for more info</p>\n\n<p>Disclaimer: I develop that library (but is part of the mockito suite anyway)</p>\n"},{"tags":[],"owner":{"account_id":2649309,"reputation":161,"user_id":2291393,"accept_rate":75,"display_name":"Julia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645642532,"creation_date":1645642532,"answer_id":71242615,"question_id":43904850,"body_markdown":"I had the same issue and the only thing that helped me is to extract parameter into variable. For some reason it worked:\r\n\r\n``` scala\r\nvar mockRefreshService = mock[RefreshService]\r\nval response = new RefreshResponse\r\nwhen(mockRefreshService.process(_: RefreshRequest)) \r\n    thenReturn(response)\r\n```","title":"Mockito Scala overloaded method value thenReturn with alternatives","body":"<p>I had the same issue and the only thing that helped me is to extract parameter into variable. For some reason it worked:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>var mockRefreshService = mock[RefreshService]\nval response = new RefreshResponse\nwhen(mockRefreshService.process(_: RefreshRequest)) \n    thenReturn(response)\n</code></pre>\n"}],"owner":{"account_id":3878295,"reputation":369,"user_id":3211617,"accept_rate":75,"display_name":"jo_wil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6754,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51661512,"answer_count":3,"score":2,"last_activity_date":1645642532,"creation_date":1494464589,"question_id":43904850,"body_markdown":"I am new to Scala and am writing some tests for Play app in Scala. The Play app has already been written in Java.\n\nI have a RefreshService that has one public method process\n\n    public RefreshResponse process(RefreshRequest request) throws Exception {\n        return this.oauthService.token(request.oauthUrl, request.clientId, request.clientSecret, request.refreshToken)\n            .thenCompose(oauthToken -&gt; this.processHelper(request.withOAuthToken(oauthToken)))\n            .get();\n    } \n\nWhere actions are defined in another package as a POJOs\n\nI have written my tests based on the Scala guides\n\nWhen trying to mock this service I used the following code\n\n    var mockRefreshService = mock[RefreshService]\n    when(mockRefreshService.process(_: RefreshRequest)) \n        thenReturn (new RefreshResponse)\n\nI get the following compiler error from Scala and cannot figure out how the types can be ambigous\n\n&gt;[error] /home/joey/Projects/sntdb/test/controllers/ApiControllerSpec.scala:31: overloaded method value thenReturn with alternatives:\n&gt;\n&gt;[error]   (x$1: actions.RefreshRequest =&gt; actions.RefreshResponse,x$2: actions.RefreshRequest =&gt; actions.RefreshResponse*)org.mockito.stubbing.OngoingStubbing[actions.RefreshRequest =&gt; actions.RefreshResponse] &lt;and&gt;\n&gt;\n&gt;[error]   (x$1: actions.RefreshRequest =&gt; actions.RefreshResponse)org.mockito.stubbing.OngoingStubbing[actions.RefreshRequest =&gt; actions.RefreshResponse]\n&gt;\n&gt;[error]  cannot be applied to (actions.RefreshResponse)\n&gt;\n&gt;[error]             when(mockRefreshService.process(_: RefreshRequest)) thenReturn (new RefreshResponse)\n\nIf anymore information is needed please let me know. Otherwise if anyone has any ideas it would be appreciated.\n","title":"Mockito Scala overloaded method value thenReturn with alternatives","body":"<p>I am new to Scala and am writing some tests for Play app in Scala. The Play app has already been written in Java.</p>\n<p>I have a RefreshService that has one public method process</p>\n<pre><code>public RefreshResponse process(RefreshRequest request) throws Exception {\n    return this.oauthService.token(request.oauthUrl, request.clientId, request.clientSecret, request.refreshToken)\n        .thenCompose(oauthToken -&gt; this.processHelper(request.withOAuthToken(oauthToken)))\n        .get();\n} \n</code></pre>\n<p>Where actions are defined in another package as a POJOs</p>\n<p>I have written my tests based on the Scala guides</p>\n<p>When trying to mock this service I used the following code</p>\n<pre><code>var mockRefreshService = mock[RefreshService]\nwhen(mockRefreshService.process(_: RefreshRequest)) \n    thenReturn (new RefreshResponse)\n</code></pre>\n<p>I get the following compiler error from Scala and cannot figure out how the types can be ambigous</p>\n<blockquote>\n<p>[error] /home/joey/Projects/sntdb/test/controllers/ApiControllerSpec.scala:31: overloaded method value thenReturn with alternatives:</p>\n<p>[error]   (x$1: actions.RefreshRequest =&gt; actions.RefreshResponse,x$2: actions.RefreshRequest =&gt; actions.RefreshResponse*)org.mockito.stubbing.OngoingStubbing[actions.RefreshRequest =&gt; actions.RefreshResponse] </p>\n<p>[error]   (x$1: actions.RefreshRequest =&gt; actions.RefreshResponse)org.mockito.stubbing.OngoingStubbing[actions.RefreshRequest =&gt; actions.RefreshResponse]</p>\n<p>[error]  cannot be applied to (actions.RefreshResponse)</p>\n<p>[error]             when(mockRefreshService.process(_: RefreshRequest)) thenReturn (new RefreshResponse)</p>\n</blockquote>\n<p>If anymore information is needed please let me know. Otherwise if anyone has any ideas it would be appreciated.</p>\n"},{"tags":["java","object","oop","constructor","static"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":2,"creation_date":1645639298,"post_id":71241946,"comment_id":125928345,"body_markdown":"Both use the same ArrayList. Debug and see it.","body":"Both use the same ArrayList. Debug and see it."}],"answers":[{"tags":[],"owner":{"account_id":269102,"reputation":8444,"user_id":558243,"accept_rate":84,"display_name":"Neeraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645641741,"creation_date":1645641741,"answer_id":71242463,"question_id":71241946,"body_markdown":"This is happening because you have marked deckOfCards a static, which means it is a class level variable.\r\nStop using static there and the problem will be solved.\r\n\r\nMore on static variable.\r\nhttps://beginnersbook.com/2013/04/java-static-class-block-methods-variables/#:~:text=Java%20Static%20Variables,the%20instances%20of%20the%20class.&amp;text=Static%20variables%20are%20also%20known%20as%20Class%20Variables.\r\n","title":"I am coding a card game in Java. The second object of the Hands class for player2 gives the player the same set of cards as player1, why?","body":"<p>This is happening because you have marked deckOfCards a static, which means it is a class level variable.\nStop using static there and the problem will be solved.</p>\n<p>More on static variable.\n<a href=\"https://beginnersbook.com/2013/04/java-static-class-block-methods-variables/#:%7E:text=Java%20Static%20Variables,the%20instances%20of%20the%20class.&amp;text=Static%20variables%20are%20also%20known%20as%20Class%20Variables\" rel=\"nofollow noreferrer\">https://beginnersbook.com/2013/04/java-static-class-block-methods-variables/#:~:text=Java%20Static%20Variables,the%20instances%20of%20the%20class.&amp;text=Static%20variables%20are%20also%20known%20as%20Class%20Variables</a>.</p>\n"}],"owner":{"account_id":22707690,"reputation":13,"user_id":16874099,"display_name":"Nour"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1063,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71242463,"answer_count":1,"score":0,"last_activity_date":1645641741,"creation_date":1645639177,"question_id":71241946,"body_markdown":"I am a beginner in programming, and it is my first question here. I have to code a card game, Gin Rummy, in Java. \r\n\r\nI created the Card class, Deck class, and Hands class. The deck class constructor initialize an Arraylist of 52 cards. At the start of the game each player has to draw 10 cards, so in the hands class constructor, the first 10 cards of the deck is drawn and added to an array list in the Hands class.\r\n\r\nWhen I check the the first players cards, it is true.\r\nThe cards left in the deck after player 1 draw 10 cards? true, cards are no longer there.\r\nPlayer 2 cards? Not true, player 2 cards are the first 10 cards of the 52 deck (the same as player 1).\r\nI spent hours trying to figure out what is wrong.\r\n\r\nI printed the cards deck after player 2 take, and the first 20 cards are actually drawn. I do not know why, when I create a second object of the Hand class, it does not take the next 10 cards, but take the cards that the first object, player 1, already took. \r\n\r\nThis the CardsDeck class: it adds 52 card set to the array list, which works well. \r\n\r\n  \r\n\r\n         public class CardsDeck {\r\n    \r\n        private final int totalCardsNumber = 52;\r\n    \r\n     private static List&lt;Card&gt; deckOfCards;\r\n    \r\n        public CardsDeck(){\r\n             deckOfCards = new ArrayList&lt;&gt;(totalCardsNumber);\r\n             int index=0;\r\n             for (int suit = 0; suit &lt;Card.Suit.values().length; suit++){\r\n                 for(int rank = 0; rank &lt;Card.Rank.values().length; rank++){\r\n                  deckOfCards.add(new Card(Card.Rank.values()[rank], Card.Suit.values()[suit]));\r\n                  index++;\r\n                 }\r\n             }\r\n            // Collections.shuffle(deckOfCards);\r\n            }\r\n    \r\n    \r\n        public void print(){\r\n            for (Card card: deckOfCards){ System.out.println(card);}\r\n            }\r\n        public void setDeckOfCards(List&lt;Card&gt; updatedDeckOfCards) { this.deckOfCards = new ArrayList&lt;&gt;(updatedDeckOfCards); }\r\n        protected static List&lt;Card&gt; getDeckOfCards() {\r\n            return deckOfCards;\r\n        }\r\n    \r\n    }\r\n\r\nThis is the Hands class:\r\n\r\n    public class CardsInHands extends CardsDeck{\r\n    \r\n     protected static List&lt;Card&gt; updatedCardList = new ArrayList&lt;&gt;(getDeckOfCards());\r\n        protected List&lt;Card&gt; playerCards = new ArrayList&lt;&gt;();\r\n    \r\n        public CardsInHands(){ \r\n            for (int i=0; i&lt;10; i++){\r\n               playerCards.add(getDeckOfCards().get(i)); \r\n               updatedCardList.remove(0); \r\n            }\r\n            setDeckOfCards(updatedCardList); \r\n    \r\n        }\r\n    \r\n    \r\n        public void printPlayerCards() {\r\n            for (Card card: playerCards){ System.out.print(card + &quot; - &quot;);}\r\n        }\r\n    \r\n    \r\n        public List&lt;Card&gt; getPlayerCards() {\r\n            return playerCards;\r\n        }\r\n        public void setPlayerCards(List&lt;Card&gt; playerCards) { this.playerCards = playerCards;}\r\n        public void removeCard(int cardIndex){ playerCards.remove(cardIndex);}\r\n        public void addCard(Card card){playerCards.add(card);}\r\n\r\nFor sake of completion, this is the Card class:\r\n\r\n      public class Card {\r\n        public enum Rank {\r\n            ACE(1),TWO(2), THREE(3), FOUR(4), FIVE(5),\r\n            SIX(6), SEVEN(7), EIGHT(8), NINE(9),\r\n            TEN(10),\r\n            JACK(10), QUEEN(10), KING(10);\r\n            int value;\r\n    \r\n            Rank(int value) { this.value = value; }\r\n            public int getValue() { return value; }\r\n        }\r\n    \r\n        public enum Suit {SPADES,HEARTS, CLUBS, DIAMONDS;}\r\n    \r\n        private final Rank rank;\r\n        private final Suit suit;\r\n    \r\n        public Card(Rank rank, Suit suit){\r\n            this.rank = rank;\r\n            this.suit = suit;\r\n        }\r\n    \r\n    \r\n        public Rank getRank() { return rank; }\r\n        public Suit getSuit() { return suit; }\r\n        public int getValue(){ return rank.getValue(); }\r\n    \r\n        public String toString(){\r\n            return this.rank+ &quot; of &quot; +this.suit;\r\n        }\r\n    }\r\n\r\nThis is the main method I test the code from:\r\n\r\n   \r\n\r\n     public class Runner {\r\n        public static void main(String[] args){\r\n        CardsDeck cards = new CardsDeck();\r\n        //cards.print();\r\n    \r\n    \r\n       CardsInHands playerOne = new CardsInHands();\r\n       //playerOne.printPlayerCards(); //prints first 10 cards of the deck\r\n       // cards.print(); //correct, first 10 cards are gone\r\n    \r\n       CardsInHands playerTwo = new CardsInHands();\r\n       playerTwo.printPlayerCards(); //shows same 10 cards of player 1!\r\n       //cards.print(); //correct, second set of 10 cards are gone\r\n    \r\n        }\r\n    }\r\n\r\nCould anyone tell me what I am doing wrong that makes the second object of Hands class not work properly? ","title":"I am coding a card game in Java. The second object of the Hands class for player2 gives the player the same set of cards as player1, why?","body":"<p>I am a beginner in programming, and it is my first question here. I have to code a card game, Gin Rummy, in Java.</p>\n<p>I created the Card class, Deck class, and Hands class. The deck class constructor initialize an Arraylist of 52 cards. At the start of the game each player has to draw 10 cards, so in the hands class constructor, the first 10 cards of the deck is drawn and added to an array list in the Hands class.</p>\n<p>When I check the the first players cards, it is true.\nThe cards left in the deck after player 1 draw 10 cards? true, cards are no longer there.\nPlayer 2 cards? Not true, player 2 cards are the first 10 cards of the 52 deck (the same as player 1).\nI spent hours trying to figure out what is wrong.</p>\n<p>I printed the cards deck after player 2 take, and the first 20 cards are actually drawn. I do not know why, when I create a second object of the Hand class, it does not take the next 10 cards, but take the cards that the first object, player 1, already took.</p>\n<p>This the CardsDeck class: it adds 52 card set to the array list, which works well.</p>\n<pre><code>     public class CardsDeck {\n\n    private final int totalCardsNumber = 52;\n\n private static List&lt;Card&gt; deckOfCards;\n\n    public CardsDeck(){\n         deckOfCards = new ArrayList&lt;&gt;(totalCardsNumber);\n         int index=0;\n         for (int suit = 0; suit &lt;Card.Suit.values().length; suit++){\n             for(int rank = 0; rank &lt;Card.Rank.values().length; rank++){\n              deckOfCards.add(new Card(Card.Rank.values()[rank], Card.Suit.values()[suit]));\n              index++;\n             }\n         }\n        // Collections.shuffle(deckOfCards);\n        }\n\n\n    public void print(){\n        for (Card card: deckOfCards){ System.out.println(card);}\n        }\n    public void setDeckOfCards(List&lt;Card&gt; updatedDeckOfCards) { this.deckOfCards = new ArrayList&lt;&gt;(updatedDeckOfCards); }\n    protected static List&lt;Card&gt; getDeckOfCards() {\n        return deckOfCards;\n    }\n\n}\n</code></pre>\n<p>This is the Hands class:</p>\n<pre><code>public class CardsInHands extends CardsDeck{\n\n protected static List&lt;Card&gt; updatedCardList = new ArrayList&lt;&gt;(getDeckOfCards());\n    protected List&lt;Card&gt; playerCards = new ArrayList&lt;&gt;();\n\n    public CardsInHands(){ \n        for (int i=0; i&lt;10; i++){\n           playerCards.add(getDeckOfCards().get(i)); \n           updatedCardList.remove(0); \n        }\n        setDeckOfCards(updatedCardList); \n\n    }\n\n\n    public void printPlayerCards() {\n        for (Card card: playerCards){ System.out.print(card + &quot; - &quot;);}\n    }\n\n\n    public List&lt;Card&gt; getPlayerCards() {\n        return playerCards;\n    }\n    public void setPlayerCards(List&lt;Card&gt; playerCards) { this.playerCards = playerCards;}\n    public void removeCard(int cardIndex){ playerCards.remove(cardIndex);}\n    public void addCard(Card card){playerCards.add(card);}\n</code></pre>\n<p>For sake of completion, this is the Card class:</p>\n<pre><code>  public class Card {\n    public enum Rank {\n        ACE(1),TWO(2), THREE(3), FOUR(4), FIVE(5),\n        SIX(6), SEVEN(7), EIGHT(8), NINE(9),\n        TEN(10),\n        JACK(10), QUEEN(10), KING(10);\n        int value;\n\n        Rank(int value) { this.value = value; }\n        public int getValue() { return value; }\n    }\n\n    public enum Suit {SPADES,HEARTS, CLUBS, DIAMONDS;}\n\n    private final Rank rank;\n    private final Suit suit;\n\n    public Card(Rank rank, Suit suit){\n        this.rank = rank;\n        this.suit = suit;\n    }\n\n\n    public Rank getRank() { return rank; }\n    public Suit getSuit() { return suit; }\n    public int getValue(){ return rank.getValue(); }\n\n    public String toString(){\n        return this.rank+ &quot; of &quot; +this.suit;\n    }\n}\n</code></pre>\n<p>This is the main method I test the code from:</p>\n<pre><code> public class Runner {\n    public static void main(String[] args){\n    CardsDeck cards = new CardsDeck();\n    //cards.print();\n\n\n   CardsInHands playerOne = new CardsInHands();\n   //playerOne.printPlayerCards(); //prints first 10 cards of the deck\n   // cards.print(); //correct, first 10 cards are gone\n\n   CardsInHands playerTwo = new CardsInHands();\n   playerTwo.printPlayerCards(); //shows same 10 cards of player 1!\n   //cards.print(); //correct, second set of 10 cards are gone\n\n    }\n}\n</code></pre>\n<p>Could anyone tell me what I am doing wrong that makes the second object of Hands class not work properly?</p>\n"},{"tags":["java","arrays","recursion"],"comments":[{"owner":{"account_id":1409397,"reputation":12315,"user_id":1336310,"accept_rate":90,"display_name":"Menno"},"score":0,"creation_date":1392471045,"post_id":21798202,"comment_id":32983618,"body_markdown":"http://stackoverflow.com/questions/2137755/how-do-i-reverse-an-int-array-in-java ?","body":"<a href=\"http://stackoverflow.com/questions/2137755/how-do-i-reverse-an-int-array-in-java\" title=\"how do i reverse an int array in java\">stackoverflow.com/questions/2137755/&hellip;</a> ?"},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":1,"creation_date":1392471143,"post_id":21798202,"comment_id":32983651,"body_markdown":"Recursion isn&#39;t an appropriate technique for this.","body":"Recursion isn&#39;t an appropriate technique for this."},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1392471222,"post_id":21798202,"comment_id":32983683,"body_markdown":"You could also add a parameter to your method which will hold the current value of the index. Then decrement the index at each call and stop the recursion when the index is 0.","body":"You could also add a parameter to your method which will hold the current value of the index. Then decrement the index at each call and stop the recursion when the index is 0."},{"owner":{"account_id":26075,"reputation":41643,"user_id":67566,"accept_rate":73,"display_name":"James Black"},"score":0,"creation_date":1392471266,"post_id":21798202,"comment_id":32983695,"body_markdown":"@T.J.Crowder - I expect it is homework","body":"@T.J.Crowder - I expect it is homework"},{"owner":{"account_id":3954502,"reputation":25,"user_id":3263540,"accept_rate":50,"display_name":"user3263540"},"score":0,"creation_date":1392471339,"post_id":21798202,"comment_id":32983723,"body_markdown":"@T.J.Crowder Its an assignment question actually, so i have to do this using recursion :(","body":"@T.J.Crowder Its an assignment question actually, so i have to do this using recursion :("},{"owner":{"account_id":3954502,"reputation":25,"user_id":3263540,"accept_rate":50,"display_name":"user3263540"},"score":0,"creation_date":1392471358,"post_id":21798202,"comment_id":32983730,"body_markdown":"@T.J.Crowder Yes, and m stuck here","body":"@T.J.Crowder Yes, and m stuck here"},{"owner":{"account_id":3954502,"reputation":25,"user_id":3263540,"accept_rate":50,"display_name":"user3263540"},"score":0,"creation_date":1392471390,"post_id":21798202,"comment_id":32983741,"body_markdown":"@Aquillo But i need to use recursion","body":"@Aquillo But i need to use recursion"},{"owner":{"account_id":3954502,"reputation":25,"user_id":3263540,"accept_rate":50,"display_name":"user3263540"},"score":0,"creation_date":1392471449,"post_id":21798202,"comment_id":32983755,"body_markdown":"@ZouZou hmm seems like a good option, but just thinking if i could do it without an additional param","body":"@ZouZou hmm seems like a good option, but just thinking if i could do it without an additional param"},{"owner":{"account_id":26075,"reputation":41643,"user_id":67566,"accept_rate":73,"display_name":"James Black"},"score":0,"creation_date":1392471503,"post_id":21798202,"comment_id":32983773,"body_markdown":"Why not try something simple such as add the first character to a string and return the string,  the remove it as you call the function again. Just go with some approach and show you have tried","body":"Why not try something simple such as add the first character to a string and return the string,  the remove it as you call the function again. Just go with some approach and show you have tried"},{"owner":{"account_id":3954502,"reputation":25,"user_id":3263540,"accept_rate":50,"display_name":"user3263540"},"score":0,"creation_date":1392471524,"post_id":21798202,"comment_id":32983778,"body_markdown":"@Aquillo Yeah, something like that, so..","body":"@Aquillo Yeah, something like that, so.."},{"owner":{"account_id":3954502,"reputation":25,"user_id":3263540,"accept_rate":50,"display_name":"user3263540"},"score":0,"creation_date":1392471754,"post_id":21798202,"comment_id":32983831,"body_markdown":"@JamesBlack so you are saying to have another method right? But i want this to be done in the same method.","body":"@JamesBlack so you are saying to have another method right? But i want this to be done in the same method."},{"owner":{"account_id":26075,"reputation":41643,"user_id":67566,"accept_rate":73,"display_name":"James Black"},"score":0,"creation_date":1392471940,"post_id":21798202,"comment_id":32983881,"body_markdown":"Look at http://stackoverflow.com/questions/4503656/in-java-removing-first-character-of-a-string for removing a character and charAt to get the first letter, and see what happens","body":"Look at <a href=\"http://stackoverflow.com/questions/4503656/in-java-removing-first-character-of-a-string\" title=\"in java removing first character of a string\">stackoverflow.com/questions/4503656/&hellip;</a> for removing a character and charAt to get the first letter, and see what happens"}],"answers":[{"tags":[],"owner":{"account_id":4018287,"reputation":482,"user_id":3309578,"display_name":"Sim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392473138,"creation_date":1392471757,"answer_id":21798328,"question_id":21798202,"body_markdown":"You can probably use [`System.arraycopy`][1]\r\n\r\n\r\n  [1]: http://www.tutorialspoint.com/java/lang/system_arraycopy.htm","title":"Method to print a char array in reverse order using recursion?","body":"<p>You can probably use <a href=\"http://www.tutorialspoint.com/java/lang/system_arraycopy.htm\" rel=\"nofollow\"><code>System.arraycopy</code></a></p>\n"},{"tags":[],"owner":{"account_id":4024306,"reputation":33,"user_id":3313307,"display_name":"Frank"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1392471773,"creation_date":1392471773,"answer_id":21798331,"question_id":21798202,"body_markdown":"As pointed out this isn&#180;t normaly be done recursive. So this solutions is not nice, but it works:\r\n\r\n    public class StringReverseOnCharArray {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\treverseRecursively(new char[] { &#39;a&#39;, &#39;b&#39;, &#39;c&#39; });\r\n    \t}\r\n    \r\n    \tprivate static void reverseRecursively(char[] myCharArr) {\r\n    \t\tif (myCharArr.length &gt; 0) {\r\n    \t\t\tSystem.out.println(myCharArr[myCharArr.length - 1]);\r\n    \t\t\tchar[] temp = new char[myCharArr.length - 1];\r\n    \t\t\tfor (int i = 0; i &lt; temp.length; i++) {\r\n    \t\t\t\ttemp[i] = myCharArr[i];\r\n    \t\t\t}\r\n    \r\n    \t\t\treverseRecursively(temp);\r\n    \t\t}\r\n    \t}\r\n    }","title":"Method to print a char array in reverse order using recursion?","body":"<p>As pointed out this isn´t normaly be done recursive. So this solutions is not nice, but it works:</p>\n\n<pre><code>public class StringReverseOnCharArray {\n\n    public static void main(String[] args) {\n        reverseRecursively(new char[] { 'a', 'b', 'c' });\n    }\n\n    private static void reverseRecursively(char[] myCharArr) {\n        if (myCharArr.length &gt; 0) {\n            System.out.println(myCharArr[myCharArr.length - 1]);\n            char[] temp = new char[myCharArr.length - 1];\n            for (int i = 0; i &lt; temp.length; i++) {\n                temp[i] = myCharArr[i];\n            }\n\n            reverseRecursively(temp);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1392473122,"creation_date":1392471979,"answer_id":21798363,"question_id":21798202,"body_markdown":"**Updated answer**:\r\n\r\nI think I misunderstood. If you *have* to use the function as declared and just fill in the `temp` bit, and you just have to **output** the array in reverse order (not actually change its contents), then it&#39;s simple: Just make `temp` a copy of `length - 1` characters of the array (perhaps using `System.arraycopy`) and pass the new, shorter array into the function. Don&#39;t do that if the array you receive is only one character long; that&#39;s your recursion termination condition (you always have to have something that stops the recursion, it should be one of the first things you think about when looking at doing something recursively).\r\n\r\n----\r\n\r\n**Original answer**:\r\n\r\nIt seems to me that an assignment telling you to use the wrong technique for a problem isn&#39;t a very useful assignment. There are all kinds of appropriate teaching exercises for recursion; this isn&#39;t one of them.\r\n\r\nBut let&#39;s look at the assignment:\r\n\r\nThe goal of recursion is basically to repeated do something, on a different part of the problem, until you&#39;re done with the problem as a whole. The better example would be looping through a tree structure.\r\n\r\nSo looking at this problem, your goal is to swap characters in an array until the array has been reversed. What&#39;s the thing that repeats here? Swapping characters.\r\n\r\nSo I&#39;d probably do it by having an index I pass into the function, and have the function swap the character at that index with the character at the `length - index` location (e.g., swap the first and last, then the second and second-to-last, etc.). Then have it call itself with `index + 1`.\r\n\r\nAll recursion fundamentally must have a &quot;stop&quot; condition: The point at which the function no longer calls itself. In your case, that would be `index &gt;= length_of_array / 2`.\r\n\r\nNote that I haven&#39;t posted code. Writing the code is the purpose of having assignments, of doing the course; it&#39;s an important part of learning.","title":"Method to print a char array in reverse order using recursion?","body":"<p><strong>Updated answer</strong>:</p>\n\n<p>I think I misunderstood. If you <em>have</em> to use the function as declared and just fill in the <code>temp</code> bit, and you just have to <strong>output</strong> the array in reverse order (not actually change its contents), then it's simple: Just make <code>temp</code> a copy of <code>length - 1</code> characters of the array (perhaps using <code>System.arraycopy</code>) and pass the new, shorter array into the function. Don't do that if the array you receive is only one character long; that's your recursion termination condition (you always have to have something that stops the recursion, it should be one of the first things you think about when looking at doing something recursively).</p>\n\n<hr>\n\n<p><strong>Original answer</strong>:</p>\n\n<p>It seems to me that an assignment telling you to use the wrong technique for a problem isn't a very useful assignment. There are all kinds of appropriate teaching exercises for recursion; this isn't one of them.</p>\n\n<p>But let's look at the assignment:</p>\n\n<p>The goal of recursion is basically to repeated do something, on a different part of the problem, until you're done with the problem as a whole. The better example would be looping through a tree structure.</p>\n\n<p>So looking at this problem, your goal is to swap characters in an array until the array has been reversed. What's the thing that repeats here? Swapping characters.</p>\n\n<p>So I'd probably do it by having an index I pass into the function, and have the function swap the character at that index with the character at the <code>length - index</code> location (e.g., swap the first and last, then the second and second-to-last, etc.). Then have it call itself with <code>index + 1</code>.</p>\n\n<p>All recursion fundamentally must have a \"stop\" condition: The point at which the function no longer calls itself. In your case, that would be <code>index &gt;= length_of_array / 2</code>.</p>\n\n<p>Note that I haven't posted code. Writing the code is the purpose of having assignments, of doing the course; it's an important part of learning.</p>\n"},{"tags":[],"owner":{"account_id":2344010,"reputation":6151,"user_id":2054731,"accept_rate":44,"display_name":"ArneHugo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392472150,"creation_date":1392472150,"answer_id":21798397,"question_id":21798202,"body_markdown":"Here&#39;s a solution.\r\n\r\n\tprivate static void reverseRecursively(char[] myCharArr, int next) {\r\n\t\tif (next &gt;= myCharArr.length)\r\n\t\t\treturn;\r\n\r\n\t\t// use recusion BEFORE printing in order to print in reversed order\r\n\t\treverseRecursively(myCharArr, next+1); \r\n\t\tSystem.out.println(myCharArr[next]);\r\n\t}\r\n    \r\nFirst call to the method should use 0 for the &quot;next&quot; index:\r\n\r\n        reverseRecursively(myCharArr, 0);","title":"Method to print a char array in reverse order using recursion?","body":"<p>Here's a solution.</p>\n\n<pre><code>private static void reverseRecursively(char[] myCharArr, int next) {\n    if (next &gt;= myCharArr.length)\n        return;\n\n    // use recusion BEFORE printing in order to print in reversed order\n    reverseRecursively(myCharArr, next+1); \n    System.out.println(myCharArr[next]);\n}\n</code></pre>\n\n<p>First call to the method should use 0 for the \"next\" index:</p>\n\n<pre><code>    reverseRecursively(myCharArr, 0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16376050,"reputation":1,"user_id":11828113,"display_name":"Aadhar Chandiwala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617869993,"creation_date":1617869993,"answer_id":66999970,"question_id":21798202,"body_markdown":"The Time Complexity of this will be O(n) and the space complexity will be O(1)    \r\n    \r\n    def revStr(a,b,str):\r\n      if(a-b&gt;len(str)):\r\n        return str\r\n\r\n      else:\r\n        str[a],str[b]=str[b],str[a] #Pythons way of replacing characters\r\n        return revStr(a+1,b-1,str)","title":"Method to print a char array in reverse order using recursion?","body":"<p>The Time Complexity of this will be O(n) and the space complexity will be O(1)</p>\n<pre><code>def revStr(a,b,str):\n  if(a-b&gt;len(str)):\n    return str\n\n  else:\n    str[a],str[b]=str[b],str[a] #Pythons way of replacing characters\n    return revStr(a+1,b-1,str)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17613369,"reputation":1,"user_id":12780947,"display_name":"Daksh Biswas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645641678,"creation_date":1645641678,"answer_id":71242452,"question_id":21798202,"body_markdown":"This Solution does not take a new argument and no need to create a new Char array.\r\n\r\n    class Solution {\r\n    int n=0;\r\n    public void reverseString(char[] c) {\r\n        if (n&gt;(c.length-1)/2) \r\n            return;\r\n        \r\n            char t = c[n];\r\n            c[n] = c[c.length-n-1];\r\n            c[c.length-n-1] = t;\r\n            n++;\r\n            reverseString(c);\r\n    }\r\n}","title":"Method to print a char array in reverse order using recursion?","body":"<p>This Solution does not take a new argument and no need to create a new Char array.</p>\n<pre><code>class Solution {\nint n=0;\npublic void reverseString(char[] c) {\n    if (n&gt;(c.length-1)/2) \n        return;\n    \n        char t = c[n];\n        c[n] = c[c.length-n-1];\n        c[c.length-n-1] = t;\n        n++;\n        reverseString(c);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":3954502,"reputation":25,"user_id":3263540,"accept_rate":50,"display_name":"user3263540"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5863,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":21798363,"answer_count":6,"score":1,"last_activity_date":1645641678,"creation_date":1392470963,"question_id":21798202,"body_markdown":"Hi i am trying to create a method to print a char array in reverse order using recursion?\r\n\r\nThis is what i have done so far:-\r\n\r\n    public class StringReverseOnCharArray {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\treverseRecursively(new char[]{&#39;a&#39;,&#39;b&#39;,&#39;c&#39;});\r\n    \t}\r\n    \t\t\r\n    \tprivate static void reverseRecursively(char[] myCharArr)\r\n    \t{\r\n    \t\tSystem.out.println(myCharArr[myCharArr.length-1]);\r\n    \t\tchar [] temp=\r\n    \t\t\t\t// what next??\r\n    \t\t\r\n    \t\treverseRecursively(temp);\r\n    \t}\r\n    \r\n    }\r\n\r\nI think a temp char array will do but what should i do to remove the last element from the original char array and create a temp? Or is there and other way of doing this?","title":"Method to print a char array in reverse order using recursion?","body":"<p>Hi i am trying to create a method to print a char array in reverse order using recursion?</p>\n\n<p>This is what i have done so far:-</p>\n\n<pre><code>public class StringReverseOnCharArray {\n\n    public static void main(String[] args) {\n        reverseRecursively(new char[]{'a','b','c'});\n    }\n\n    private static void reverseRecursively(char[] myCharArr)\n    {\n        System.out.println(myCharArr[myCharArr.length-1]);\n        char [] temp=\n                // what next??\n\n        reverseRecursively(temp);\n    }\n\n}\n</code></pre>\n\n<p>I think a temp char array will do but what should i do to remove the last element from the original char array and create a temp? Or is there and other way of doing this?</p>\n"},{"tags":["java","macos","jar","libgdx","apple-m1"],"comments":[{"owner":{"account_id":11556456,"reputation":247,"user_id":8467490,"display_name":"Kleo G"},"score":0,"creation_date":1679795997,"post_id":71242356,"comment_id":133784423,"body_markdown":"did you ever figure this out? i have this error now as well","body":"did you ever figure this out? i have this error now as well"}],"owner":{"account_id":24174558,"reputation":31,"user_id":18136139,"display_name":"Inter Ceptor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645641241,"creation_date":1645641241,"question_id":71242356,"body_markdown":"New project.\r\nI&#39;m trying to create a working .jar file - it doesn&#39;t work, it throws an error.\r\n\r\nMacOS M1\r\nJava 11 Zulu ARM 64\r\n\r\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home/\r\nexport PATH=$JAVA_HOME/bin:$PATH\r\n\r\nor\r\n\r\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-11.0.12.jdk/Contents/Home/\r\nexport PATH=$JAVA_HOME/bin:$PATH\r\n\r\nAndroid Gradle Plugin Vesrion - 4.2.2\r\nGradle Version - 6.9\r\n\r\nIf the version is increased, it gives a duplicate META-INF error:\r\n\r\n    nexus@MacBook-Pro-Igor imperialist % ./gradlew desktop:dist\r\n    &gt; Task :desktop:dist FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    *What went wrong:\r\n    Execution failed for task &#39;:desktop:dist&#39;.\r\n    &gt; Entry META-INF/INDEX.LIST is a duplicate but no duplicate handling strategy has been set. Please refer to https://docs.gradle.org/7.2/dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:duplicatesStrategy for details.\r\n    \r\n    * try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 6s\r\n    5 actionable tasks: 5 executed\r\n    nexus@MacBook-Pro-Igor imperialist %\r\n\r\n\r\n--------------------------------\r\n\r\nRun commands:\r\n./gradlew build\r\n./gradlew desktop:dist\r\n\r\nResult: BUILD SUCCESSFUL\r\n\r\n--------------------------------\r\n\r\nRun command: java -jar -XstartOnFirstThread desktop-1.0.jar\r\n\r\nResult:\r\n\r\n    nexus@MacBook-Pro-Igor libs % java -jar -XstartOnFirstThread desktop-1.0.jar \r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n    \tat org.lwjgl.system.Pointer$Default.&lt;clinit&gt;(Pointer.java:67)\r\n    \tat org.lwjgl.system.Callback.&lt;clinit&gt;(Callback.java:40)\r\n    \tat com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.initializeGlfw(Lwjgl3Application.java:84)\r\n    \tat com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.&lt;init&gt;(Lwjgl3Application.java:138)\r\n    \tat com.nexlab.a3.desktop.DesktopLauncher.main(DesktopLauncher.java:11)\r\n    Caused by: java.lang.UnsupportedOperationException: java.lang.VerifyError: Bad type on operand stack\r\n    Exception Details:\r\n      Location:\r\n        org/lwjgl/system/jni/JNINativeInterface.GetJavaVM(Lorg/lwjgl/PointerBuffer;)I @8: invokestatic\r\n      Reason:\r\n        Type &#39;org/lwjgl/PointerBuffer&#39; (current frame, stack[0]) is not assignable to &#39;org/lwjgl/system/CustomBuffer&#39;\r\n      Current Frame:\r\n        bci: @8\r\n        flags: { }\r\n        locals: { &#39;org/lwjgl/PointerBuffer&#39; }\r\n        stack: { &#39;org/lwjgl/PointerBuffer&#39;, integer }\r\n      Bytecode:\r\n        0000000: b200 0499 0008 2a04 b800 432a b800 44b8\r\n        0000010: 0045 ac                                \r\n      Stackmap Table:\r\n        same_frame(@11)\r\n    \r\n    \tat org.lwjgl.system.MemoryUtil.&lt;clinit&gt;(MemoryUtil.java:130)\r\n    \t... 5 more\r\n    Caused by: java.lang.VerifyError: Bad type on operand stack\r\n    Exception Details:\r\n      Location:\r\n        org/lwjgl/system/jni/JNINativeInterface.GetJavaVM(Lorg/lwjgl/PointerBuffer;)I @8: invokestatic\r\n      Reason:\r\n        Type &#39;org/lwjgl/PointerBuffer&#39; (current frame, stack[0]) is not assignable to &#39;org/lwjgl/system/CustomBuffer&#39;\r\n      Current Frame:\r\n        bci: @8\r\n        flags: { }\r\n        locals: { &#39;org/lwjgl/PointerBuffer&#39; }\r\n        stack: { &#39;org/lwjgl/PointerBuffer&#39;, integer }\r\n      Bytecode:\r\n        0000000: b200 0499 0008 2a04 b800 432a b800 44b8\r\n        0000010: 0045 ac                                \r\n      Stackmap Table:\r\n        same_frame(@11)\r\n    \r\n    \tat org.lwjgl.system.MemoryUtil.getMarkOffset(MemoryUtil.java:3013)\r\n    \tat org.lwjgl.system.MemoryUtil.&lt;clinit&gt;(MemoryUtil.java:115)\r\n    \t... 5 more\r\n    nexus@MacBook-Pro-Igor libs % \r\n\r\n--------------------------------\r\n\r\nOther changed settings:\r\n\r\nMain gradle set lwjgl3 - api &quot;com.badlogicgames.gdx:gdx-backend-lwjgl3:$gdxVersion&quot;\r\n\r\nGradle desktop - sourceCompatibility = 1.8\r\n\r\nAndroidManifest.xml - activity - android:exported=&quot;true&quot;\r\n\r\nDesktopLauncher.java:\r\n\r\n    package com.nexlab.a3.desktop;\r\n    \r\n    import com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application;\r\n    import com.badlogic.gdx.backends.lwjgl3.Lwjgl3ApplicationConfiguration;\r\n    import com.nexlab.a3.A3;\r\n    \r\n    public class DesktopLauncher {\r\n    \r\n    \tpublic static void main (String[] arg) {\r\n    \t\tLwjgl3ApplicationConfiguration config = new Lwjgl3ApplicationConfiguration();\r\n    \t\tnew Lwjgl3Application(new A3(), config);\r\n    \t}\r\n    }\r\n\r\nThe &quot;Start&quot; button in the IDE starts normally (there I also specify the parameter - -XstartOnFirstThread)","title":"LIBGDX, MacOS M1, Lwjgl3, - problem create .jar file","body":"<p>New project.\nI'm trying to create a working .jar file - it doesn't work, it throws an error.</p>\n<p>MacOS M1\nJava 11 Zulu ARM 64</p>\n<p>export JAVA_HOME=/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home/\nexport PATH=$JAVA_HOME/bin:$PATH</p>\n<p>or</p>\n<p>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-11.0.12.jdk/Contents/Home/\nexport PATH=$JAVA_HOME/bin:$PATH</p>\n<p>Android Gradle Plugin Vesrion - 4.2.2\nGradle Version - 6.9</p>\n<p>If the version is increased, it gives a duplicate META-INF error:</p>\n<pre><code>nexus@MacBook-Pro-Igor imperialist % ./gradlew desktop:dist\n&gt; Task :desktop:dist FAILED\n\nFAILURE: Build failed with an exception.\n\n*What went wrong:\nExecution failed for task ':desktop:dist'.\n&gt; Entry META-INF/INDEX.LIST is a duplicate but no duplicate handling strategy has been set. Please refer to https://docs.gradle.org/7.2/dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:duplicatesStrategy for details.\n\n* try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 6s\n5 actionable tasks: 5 executed\nnexus@MacBook-Pro-Igor imperialist %\n</code></pre>\n<hr />\n<p>Run commands:\n./gradlew build\n./gradlew desktop:dist</p>\n<p>Result: BUILD SUCCESSFUL</p>\n<hr />\n<p>Run command: java -jar -XstartOnFirstThread desktop-1.0.jar</p>\n<p>Result:</p>\n<pre><code>nexus@MacBook-Pro-Igor libs % java -jar -XstartOnFirstThread desktop-1.0.jar \nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n    at org.lwjgl.system.Pointer$Default.&lt;clinit&gt;(Pointer.java:67)\n    at org.lwjgl.system.Callback.&lt;clinit&gt;(Callback.java:40)\n    at com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.initializeGlfw(Lwjgl3Application.java:84)\n    at com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.&lt;init&gt;(Lwjgl3Application.java:138)\n    at com.nexlab.a3.desktop.DesktopLauncher.main(DesktopLauncher.java:11)\nCaused by: java.lang.UnsupportedOperationException: java.lang.VerifyError: Bad type on operand stack\nException Details:\n  Location:\n    org/lwjgl/system/jni/JNINativeInterface.GetJavaVM(Lorg/lwjgl/PointerBuffer;)I @8: invokestatic\n  Reason:\n    Type 'org/lwjgl/PointerBuffer' (current frame, stack[0]) is not assignable to 'org/lwjgl/system/CustomBuffer'\n  Current Frame:\n    bci: @8\n    flags: { }\n    locals: { 'org/lwjgl/PointerBuffer' }\n    stack: { 'org/lwjgl/PointerBuffer', integer }\n  Bytecode:\n    0000000: b200 0499 0008 2a04 b800 432a b800 44b8\n    0000010: 0045 ac                                \n  Stackmap Table:\n    same_frame(@11)\n\n    at org.lwjgl.system.MemoryUtil.&lt;clinit&gt;(MemoryUtil.java:130)\n    ... 5 more\nCaused by: java.lang.VerifyError: Bad type on operand stack\nException Details:\n  Location:\n    org/lwjgl/system/jni/JNINativeInterface.GetJavaVM(Lorg/lwjgl/PointerBuffer;)I @8: invokestatic\n  Reason:\n    Type 'org/lwjgl/PointerBuffer' (current frame, stack[0]) is not assignable to 'org/lwjgl/system/CustomBuffer'\n  Current Frame:\n    bci: @8\n    flags: { }\n    locals: { 'org/lwjgl/PointerBuffer' }\n    stack: { 'org/lwjgl/PointerBuffer', integer }\n  Bytecode:\n    0000000: b200 0499 0008 2a04 b800 432a b800 44b8\n    0000010: 0045 ac                                \n  Stackmap Table:\n    same_frame(@11)\n\n    at org.lwjgl.system.MemoryUtil.getMarkOffset(MemoryUtil.java:3013)\n    at org.lwjgl.system.MemoryUtil.&lt;clinit&gt;(MemoryUtil.java:115)\n    ... 5 more\nnexus@MacBook-Pro-Igor libs % \n</code></pre>\n<hr />\n<p>Other changed settings:</p>\n<p>Main gradle set lwjgl3 - api &quot;com.badlogicgames.gdx:gdx-backend-lwjgl3:$gdxVersion&quot;</p>\n<p>Gradle desktop - sourceCompatibility = 1.8</p>\n<p>AndroidManifest.xml - activity - android:exported=&quot;true&quot;</p>\n<p>DesktopLauncher.java:</p>\n<pre><code>package com.nexlab.a3.desktop;\n\nimport com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application;\nimport com.badlogic.gdx.backends.lwjgl3.Lwjgl3ApplicationConfiguration;\nimport com.nexlab.a3.A3;\n\npublic class DesktopLauncher {\n\n    public static void main (String[] arg) {\n        Lwjgl3ApplicationConfiguration config = new Lwjgl3ApplicationConfiguration();\n        new Lwjgl3Application(new A3(), config);\n    }\n}\n</code></pre>\n<p>The &quot;Start&quot; button in the IDE starts normally (there I also specify the parameter - -XstartOnFirstThread)</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645640987,"creation_date":1645640987,"answer_id":71242314,"question_id":71242229,"body_markdown":"The JavaDoc for `LinkedList` would be beneficial for you to read...\r\n\r\n&gt; change the value of the first element-value\r\n\r\n    list.element().setValue(-30.0)\r\n\r\n&gt; delete the last element completely\r\n\r\n    list.removeLast()","title":"Java change &quot;value&quot; element on a map.entry list","body":"<p>The JavaDoc for <code>LinkedList</code> would be beneficial for you to read...</p>\n<blockquote>\n<p>change the value of the first element-value</p>\n</blockquote>\n<pre><code>list.element().setValue(-30.0)\n</code></pre>\n<blockquote>\n<p>delete the last element completely</p>\n</blockquote>\n<pre><code>list.removeLast()\n</code></pre>\n"}],"owner":{"account_id":23857384,"reputation":35,"user_id":17860745,"display_name":"Gunnar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645640987,"creation_date":1645640535,"question_id":71242229,"body_markdown":"I have this hashmap which is a key-value of name of person, and their money:\r\n\r\n`dict = {Charlie=60.0, Ema=60.0, David=-20.0, Fred=-60.0, Gabe=-40.0}`\r\n\r\nI needed to sort this by its values, so I made it into a list using this:\r\n\r\n```\r\nthis.list = new LinkedList&lt;Map.Entry&lt;String, Double&gt;&gt;(this.dict.entrySet());\r\nlist.sort(new Comparator&lt;Map.Entry&lt;String, Double&gt;&gt;() {\r\n    @Override\r\n    public int compare(Map.Entry&lt;String, Double&gt; o1, Map.Entry&lt;String, Double&gt; o2) {\r\n        return o1.getValue().compareTo(o2.getValue());\r\n    }\r\n});\r\n\r\n```\r\nand it works perfectly, so now i have a list:\r\n`this.list = [Fred=-60.0, Gabe=-40.0, David=-20.0, Charlie=60.0, Ema=60.0]`\r\n\r\nWhat I need to do is to change the value of the first element-value, so the first element would be Fred=-30.0 for example.\r\nand also I need to delete the last element completely.\r\n\r\nIs this possible?\r\nI come from python, and trying to translate some code to Java :D","title":"Java change &quot;value&quot; element on a map.entry list","body":"<p>I have this hashmap which is a key-value of name of person, and their money:</p>\n<p><code>dict = {Charlie=60.0, Ema=60.0, David=-20.0, Fred=-60.0, Gabe=-40.0}</code></p>\n<p>I needed to sort this by its values, so I made it into a list using this:</p>\n<pre><code>this.list = new LinkedList&lt;Map.Entry&lt;String, Double&gt;&gt;(this.dict.entrySet());\nlist.sort(new Comparator&lt;Map.Entry&lt;String, Double&gt;&gt;() {\n    @Override\n    public int compare(Map.Entry&lt;String, Double&gt; o1, Map.Entry&lt;String, Double&gt; o2) {\n        return o1.getValue().compareTo(o2.getValue());\n    }\n});\n\n</code></pre>\n<p>and it works perfectly, so now i have a list:\n<code>this.list = [Fred=-60.0, Gabe=-40.0, David=-20.0, Charlie=60.0, Ema=60.0]</code></p>\n<p>What I need to do is to change the value of the first element-value, so the first element would be Fred=-30.0 for example.\nand also I need to delete the last element completely.</p>\n<p>Is this possible?\nI come from python, and trying to translate some code to Java :D</p>\n"},{"tags":["javascript","java","jsp","servlets"],"comments":[{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1645642008,"post_id":71242286,"comment_id":125929415,"body_markdown":"When you send a request to a JSP it sends HTML back to the client in the response. When the user clicks a button, you could use Angular&#39;s HttpClient to communicate with  \n your server.","body":"When you send a request to a JSP it sends HTML back to the client in the response. When the user clicks a button, you could use Angular&#39;s HttpClient to communicate with    your server."},{"owner":{"account_id":6160422,"reputation":651,"user_id":4802200,"accept_rate":62,"display_name":"imba22"},"score":0,"creation_date":1645647487,"post_id":71242286,"comment_id":125931250,"body_markdown":"@rickz thanks for taking time to answer this. Unfortunately this is a basic old school jsp java app and I cannot invoke using angular. Is there any other way you can think of to call java method from anchor tag click event","body":"@rickz thanks for taking time to answer this. Unfortunately this is a basic old school jsp java app and I cannot invoke using angular. Is there any other way you can think of to call java method from anchor tag click event"},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1645649103,"post_id":71242286,"comment_id":125931764,"body_markdown":"Angular uses XMLHttpRequest . You could use that directly or you could use fetch().","body":"Angular uses XMLHttpRequest . You could use that directly or you could use fetch()."},{"owner":{"account_id":6160422,"reputation":651,"user_id":4802200,"accept_rate":62,"display_name":"imba22"},"score":0,"creation_date":1645736533,"post_id":71242286,"comment_id":125957354,"body_markdown":"@TimMoore it does not, but thank you for taking time and trying.","body":"@TimMoore it does not, but thank you for taking time and trying."}],"owner":{"account_id":6160422,"reputation":651,"user_id":4802200,"accept_rate":62,"display_name":"imba22"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645807768,"answer_count":0,"score":0,"last_activity_date":1645640840,"creation_date":1645640840,"question_id":71242286,"body_markdown":"I have a jsp file which has a submit button. On clicking this the call goes out to a different angular app. I want to log which user is clicking the button. For this I am thinking of calling a javascript function. Inside the javascript function callJSFunction() I want to pass the username of the user and call a java function. Inside the java function I need to store the user details in th db. \r\nMy question is how can I call a java method (for logging) from the javascript. I am sure this a common use case for logging information in jsp. I am not sure how to achieve this? Any help is greatly appreciated.\r\n\r\n    &lt;A class=&quot;gridlink1&quot; id=&quot;portal&quot;\r\n    \ttitle=&quot;Go to portal for &lt;%= StringEscapeUtils.escapeHtml(resultBn.getName()) %&gt;&quot;\r\n    HREF=&quot;&lt;%= resultBn.getLink() %&gt;&quot; onclick = &quot;callJSFunction()&quot;&gt; &lt;%=resultBn.getID()%&gt;\r\n    &lt;/A&gt;\r\n    \r\n    function callJSFunction(){\r\n    \talert(&quot;hello&quot;); //palceholder\r\n    }","title":"calling java method from javascript in jsp class for Logging","body":"<p>I have a jsp file which has a submit button. On clicking this the call goes out to a different angular app. I want to log which user is clicking the button. For this I am thinking of calling a javascript function. Inside the javascript function callJSFunction() I want to pass the username of the user and call a java function. Inside the java function I need to store the user details in th db.\nMy question is how can I call a java method (for logging) from the javascript. I am sure this a common use case for logging information in jsp. I am not sure how to achieve this? Any help is greatly appreciated.</p>\n<pre><code>&lt;A class=&quot;gridlink1&quot; id=&quot;portal&quot;\n    title=&quot;Go to portal for &lt;%= StringEscapeUtils.escapeHtml(resultBn.getName()) %&gt;&quot;\nHREF=&quot;&lt;%= resultBn.getLink() %&gt;&quot; onclick = &quot;callJSFunction()&quot;&gt; &lt;%=resultBn.getID()%&gt;\n&lt;/A&gt;\n\nfunction callJSFunction(){\n    alert(&quot;hello&quot;); //palceholder\n}\n</code></pre>\n"},{"tags":["java","android","flutter","dart","ssl"],"owner":{"account_id":10591340,"reputation":135,"user_id":7801805,"display_name":"Mohammad Zakir Raza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":0,"score":8,"last_activity_date":1645640577,"creation_date":1645640577,"question_id":71242241,"body_markdown":"I am try to develop a flutter project using url_launcher plugin where i encounter with this issue\r\n\r\nE/chromium(11062): [ERROR:ssl_client_socket_impl.cc(980)] handshake failed; returned -1, SSL error code 1, net_error -202\r\n\r\nThe url i have used is &quot;https://see.ntc.net.np/results/grade/&quot; \r\nI have also used other url and all are working great but can figure it this url is not workin ","title":"ERROR:ssl_client_socket_impl.cc(980)] handshake failed; returned -1, SSL error code 1, net_error -202","body":"<p>I am try to develop a flutter project using url_launcher plugin where i encounter with this issue</p>\n<p>E/chromium(11062): [ERROR:ssl_client_socket_impl.cc(980)] handshake failed; returned -1, SSL error code 1, net_error -202</p>\n<p>The url i have used is &quot;https://see.ntc.net.np/results/grade/&quot;\nI have also used other url and all are working great but can figure it this url is not workin</p>\n"},{"tags":["java","append","overwrite"],"answers":[{"tags":[],"owner":{"account_id":1928650,"reputation":894,"user_id":1738539,"accept_rate":0,"display_name":"user1738539"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645640498,"creation_date":1645640498,"answer_id":71242215,"question_id":71242098,"body_markdown":"```\r\npublic static void overWriteFile(Object[] crypto) {\r\n    try {\r\n        PrintWriter wr = new PrintWriter(\r\n                new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;, false)));\r\n        for (int i = 0; i &lt; crypto.length; i++) wr.println(crypto[i]);\r\n        wr.close();\r\n    } catch (IOException e) {\r\n        System.out.println(&quot;There is an I/O error when writing.&quot;);\r\n    }\r\n}\r\n```","title":"overWriteFile(java.lang.String[], double[]) cannot be applied to &#39;(java.lang.String[])&#39; - Java","body":"<pre><code>public static void overWriteFile(Object[] crypto) {\n    try {\n        PrintWriter wr = new PrintWriter(\n                new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;, false)));\n        for (int i = 0; i &lt; crypto.length; i++) wr.println(crypto[i]);\n        wr.close();\n    } catch (IOException e) {\n        System.out.println(&quot;There is an I/O error when writing.&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24356729,"reputation":11,"user_id":18291775,"display_name":"Hello72646"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645640498,"creation_date":1645639912,"question_id":71242098,"body_markdown":"I am working on a project, and I am unable to proceed with it because of an error. \r\n\r\nI am attempting to overwrite a text file, using a method to scan through two arrays that hold specific crypto names. For example, in the section of my code removeCrypto(), which is option 4, I would type in BTC and it would remove BTC and the corresponding balance from the text file. \r\n\r\nHow can I make overWriteFile(line) work with both double and String?  \r\n\r\n[shows what is located in my .txt file][1]\r\n\r\n    public class Main {\r\n    static Scanner userInputInt = new Scanner(System.in);\r\n    static Scanner userInputString = new Scanner(System.in);\r\n    static Scanner userInputDouble = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        int userChoice = getUserChoice();\r\n        switch (userChoice) {\r\n            case 1:\r\n                viewWallet();\r\n                break;\r\n            case 2:\r\n                lookupBalance();\r\n                break;\r\n            case 3:\r\n                newEntry();\r\n                break;\r\n            case 4:\r\n                removeCrypto();\r\n                break;\r\n        }\r\n    }\r\n\r\n    // This method asks and returns what the user wants to do\r\n    public static int getUserChoice() {\r\n        System.out.println(&quot;****************************************************************&quot;);\r\n        System.out.println(&quot;****************************************************************&quot;);\r\n        System.out.println(&quot;************ Crypto Wallet **********&quot;);\r\n        System.out.println(&quot;****************************************************************&quot;);\r\n        System.out.println(&quot;****************************************************************&quot;);\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(&quot;What do you want to do?&quot;);\r\n        System.out.println(&quot;(1) View wallet&quot;);\r\n        System.out.println(&quot;(2) Look up the balance of a given crypto&quot;);\r\n        System.out.println(&quot;(3) Add new cryptos&quot;);\r\n        System.out.println(&quot;(4) Remove an existing crypto&quot;);\r\n        System.out.println(&quot;(5) Update wallet&quot;);\r\n        System.out.println(&quot;****************************************************************&quot;);\r\n        System.out.print(&quot;Please enter your choice (1, 2, 3, 4, or 5): &quot;);\r\n        return userInputInt.nextInt();\r\n        }\r\n \r\n \r\n\r\n    // This method is called for user choice 4\r\n    public static void removeCrypto() {\r\n        String[] cryptoName = readCryptoNames();\r\n        double[] cryptoBalance = readCryptoBalance();\r\n        String[] line =new String[cryptoName.length];\r\n\r\n        System.out.println(&quot;What is the name of the crypto you would like to remove? &quot;);\r\n        String cryptoNameTBF = userInputString.next();\r\n      //  System.out.println(&quot;Please enter the balance&quot;);\r\n       // double newBalance = Double.parseDouble(userInputDouble.next());\r\n\r\n       for (int i=0; i&lt;cryptoName.length;i++) {\r\n           if (cryptoName[i].equals(cryptoNameTBF)){\r\n              // cryptoBalance[i] = newBalance;\r\n           }\r\n       }\r\n       for (int i=0;i&lt;cryptoName.length;i++){\r\n         line[i] = cryptoName[i] + &quot;\\t&quot; + cryptoBalance[i];\r\n       }\r\n      overWriteFile(line); //CONTINUE HERE - HERE IS MY ISSUE\r\n    }\r\n\r\n    // This method reads and returns the crypto names from the file\r\n    public static String[] readCryptoNames() {\r\n\r\n        String[] temp = new String[100];\r\n        int lineNumber = 0;\r\n        try {\r\n\r\n            BufferedReader myFile = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;));\r\n            String sCurrentLine;\r\n            while ((sCurrentLine = myFile.readLine()) != null) {\r\n                String[] tokens = sCurrentLine.split(&quot;\\\\s+&quot;);\r\n                temp[lineNumber] = (tokens[0]);\r\n                lineNumber++;\r\n            }\r\n            myFile.close();\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Error reading crypto name: &quot; + e.getMessage());\r\n        }\r\n        String[] cryptoName = new String[lineNumber];\r\n        System.arraycopy(temp, 0, cryptoName, 0, lineNumber);\r\n        System.out.println(cryptoName);\r\n        return cryptoName;\r\n    }\r\n\r\n    // This method reads and returns the crypto balances from the file\r\n    public static double[] readCryptoBalance() {\r\n        double[] temp = new double[100];\r\n        int lineNumber = 0;\r\n        try {\r\n\r\n            BufferedReader myFile = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;));\r\n            String sCurrentLine;\r\n            while ((sCurrentLine = myFile.readLine()) != null) {\r\n                String[] tokens = sCurrentLine.split(&quot;\\\\s+&quot;);\r\n                temp[lineNumber] = Double.parseDouble(tokens[1]);\r\n                lineNumber++;\r\n            }\r\n            myFile.close();\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Error reading crypto balance: &quot; + e.getMessage());\r\n        }\r\n        double[] cryptoBalance = new double[lineNumber];\r\n        System.arraycopy(temp, 0, cryptoBalance, 0, lineNumber);\r\n        return cryptoBalance;\r\n    }\r\n\r\n    // This method adds a new entry to the file and at the end of the file\r\n    public static void appendFile(String cryptoName) {\r\n        try {\r\n            PrintWriter wr = new PrintWriter(new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;, true)));\r\n            wr.println(cryptoName);\r\n            wr.close();\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;There is an I/O error when writing.&quot;);\r\n        }\r\n    }\r\n\r\n    // This method takes all crypto names and balances and writes on the file from scratch\r\n    public static void overWriteFile(String[] cryptoName, double[] cryptoBalance) {\r\n        try {\r\n            PrintWriter wr = new PrintWriter(\r\n                    new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;, false)));\r\n            for (int i = 0; i &lt; cryptoName.length; i++) wr.println(cryptoName[i]);\r\n            wr.close();\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;There is an I/O error when writing.&quot;);\r\n        }\r\n        try {\r\n            PrintWriter wr = new PrintWriter(\r\n                    new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;, false)));\r\n            for (int i = 0; i &lt; cryptoBalance.length; i++) wr.println(cryptoBalance[i]);\r\n            wr.close();\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;There is an I/O error when writing.&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wSCz2.png","title":"overWriteFile(java.lang.String[], double[]) cannot be applied to &#39;(java.lang.String[])&#39; - Java","body":"<p>I am working on a project, and I am unable to proceed with it because of an error.</p>\n<p>I am attempting to overwrite a text file, using a method to scan through two arrays that hold specific crypto names. For example, in the section of my code removeCrypto(), which is option 4, I would type in BTC and it would remove BTC and the corresponding balance from the text file.</p>\n<p>How can I make overWriteFile(line) work with both double and String?</p>\n<p><a href=\"https://i.stack.imgur.com/wSCz2.png\" rel=\"nofollow noreferrer\">shows what is located in my .txt file</a></p>\n<pre><code>public class Main {\nstatic Scanner userInputInt = new Scanner(System.in);\nstatic Scanner userInputString = new Scanner(System.in);\nstatic Scanner userInputDouble = new Scanner(System.in);\n\npublic static void main(String[] args) {\n    int userChoice = getUserChoice();\n    switch (userChoice) {\n        case 1:\n            viewWallet();\n            break;\n        case 2:\n            lookupBalance();\n            break;\n        case 3:\n            newEntry();\n            break;\n        case 4:\n            removeCrypto();\n            break;\n    }\n}\n\n// This method asks and returns what the user wants to do\npublic static int getUserChoice() {\n    System.out.println(&quot;****************************************************************&quot;);\n    System.out.println(&quot;****************************************************************&quot;);\n    System.out.println(&quot;************ Crypto Wallet **********&quot;);\n    System.out.println(&quot;****************************************************************&quot;);\n    System.out.println(&quot;****************************************************************&quot;);\n    System.out.println(&quot;&quot;);\n    System.out.println(&quot;What do you want to do?&quot;);\n    System.out.println(&quot;(1) View wallet&quot;);\n    System.out.println(&quot;(2) Look up the balance of a given crypto&quot;);\n    System.out.println(&quot;(3) Add new cryptos&quot;);\n    System.out.println(&quot;(4) Remove an existing crypto&quot;);\n    System.out.println(&quot;(5) Update wallet&quot;);\n    System.out.println(&quot;****************************************************************&quot;);\n    System.out.print(&quot;Please enter your choice (1, 2, 3, 4, or 5): &quot;);\n    return userInputInt.nextInt();\n    }\n\n\n\n// This method is called for user choice 4\npublic static void removeCrypto() {\n    String[] cryptoName = readCryptoNames();\n    double[] cryptoBalance = readCryptoBalance();\n    String[] line =new String[cryptoName.length];\n\n    System.out.println(&quot;What is the name of the crypto you would like to remove? &quot;);\n    String cryptoNameTBF = userInputString.next();\n  //  System.out.println(&quot;Please enter the balance&quot;);\n   // double newBalance = Double.parseDouble(userInputDouble.next());\n\n   for (int i=0; i&lt;cryptoName.length;i++) {\n       if (cryptoName[i].equals(cryptoNameTBF)){\n          // cryptoBalance[i] = newBalance;\n       }\n   }\n   for (int i=0;i&lt;cryptoName.length;i++){\n     line[i] = cryptoName[i] + &quot;\\t&quot; + cryptoBalance[i];\n   }\n  overWriteFile(line); //CONTINUE HERE - HERE IS MY ISSUE\n}\n\n// This method reads and returns the crypto names from the file\npublic static String[] readCryptoNames() {\n\n    String[] temp = new String[100];\n    int lineNumber = 0;\n    try {\n\n        BufferedReader myFile = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;));\n        String sCurrentLine;\n        while ((sCurrentLine = myFile.readLine()) != null) {\n            String[] tokens = sCurrentLine.split(&quot;\\\\s+&quot;);\n            temp[lineNumber] = (tokens[0]);\n            lineNumber++;\n        }\n        myFile.close();\n    } catch (IOException e) {\n        System.out.println(&quot;Error reading crypto name: &quot; + e.getMessage());\n    }\n    String[] cryptoName = new String[lineNumber];\n    System.arraycopy(temp, 0, cryptoName, 0, lineNumber);\n    System.out.println(cryptoName);\n    return cryptoName;\n}\n\n// This method reads and returns the crypto balances from the file\npublic static double[] readCryptoBalance() {\n    double[] temp = new double[100];\n    int lineNumber = 0;\n    try {\n\n        BufferedReader myFile = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;));\n        String sCurrentLine;\n        while ((sCurrentLine = myFile.readLine()) != null) {\n            String[] tokens = sCurrentLine.split(&quot;\\\\s+&quot;);\n            temp[lineNumber] = Double.parseDouble(tokens[1]);\n            lineNumber++;\n        }\n        myFile.close();\n    } catch (IOException e) {\n        System.out.println(&quot;Error reading crypto balance: &quot; + e.getMessage());\n    }\n    double[] cryptoBalance = new double[lineNumber];\n    System.arraycopy(temp, 0, cryptoBalance, 0, lineNumber);\n    return cryptoBalance;\n}\n\n// This method adds a new entry to the file and at the end of the file\npublic static void appendFile(String cryptoName) {\n    try {\n        PrintWriter wr = new PrintWriter(new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;, true)));\n        wr.println(cryptoName);\n        wr.close();\n    } catch (IOException e) {\n        System.out.println(&quot;There is an I/O error when writing.&quot;);\n    }\n}\n\n// This method takes all crypto names and balances and writes on the file from scratch\npublic static void overWriteFile(String[] cryptoName, double[] cryptoBalance) {\n    try {\n        PrintWriter wr = new PrintWriter(\n                new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;, false)));\n        for (int i = 0; i &lt; cryptoName.length; i++) wr.println(cryptoName[i]);\n        wr.close();\n    } catch (IOException e) {\n        System.out.println(&quot;There is an I/O error when writing.&quot;);\n    }\n    try {\n        PrintWriter wr = new PrintWriter(\n                new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;, false)));\n        for (int i = 0; i &lt; cryptoBalance.length; i++) wr.println(cryptoBalance[i]);\n        wr.close();\n    } catch (IOException e) {\n        System.out.println(&quot;There is an I/O error when writing.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","windows","svn","version-control","tortoisesvn"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1645637688,"post_id":71241580,"comment_id":125927694,"body_markdown":"What have you tried? Can you share it with us?","body":"What have you tried? Can you share it with us?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1645638099,"post_id":71241580,"comment_id":125927866,"body_markdown":"Here&#39;s a useful link about SVNKit https://wiki.svnkit.com/Getting_Started_With_SVNKit","body":"Here&#39;s a useful link about SVNKit <a href=\"https://wiki.svnkit.com/Getting_Started_With_SVNKit\" rel=\"nofollow noreferrer\">wiki.svnkit.com/Getting_Started_With_SVNKit</a>"},{"owner":{"account_id":21731492,"reputation":216,"user_id":16040171,"display_name":"Barry"},"score":0,"creation_date":1645638350,"post_id":71241580,"comment_id":125927983,"body_markdown":"@hfontanez i added to the description my current idea","body":"@hfontanez i added to the description my current idea"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1645640764,"post_id":71241580,"comment_id":125928950,"body_markdown":"@bahrep I would agree that it might not be necessary, but _absolutely irrelevant_ doesn&#39;t seem to be right. You could use it to obtain that same information programmatically rather than manually. But, I digress.","body":"@bahrep I would agree that it might not be necessary, but <i>absolutely irrelevant</i> doesn&#39;t seem to be right. You could use it to obtain that same information programmatically rather than manually. But, I digress."},{"owner":{"account_id":397129,"reputation":30060,"user_id":761095,"accept_rate":91,"display_name":"bahrep"},"score":0,"creation_date":1645790814,"post_id":71241580,"comment_id":125969843,"body_markdown":"@hfontanez now I think that you are right. I&#39;ve just removed that comment. Thank you!","body":"@hfontanez now I think that you are right. I&#39;ve just removed that comment. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":397129,"reputation":30060,"user_id":761095,"accept_rate":91,"display_name":"bahrep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645640038,"creation_date":1645640038,"answer_id":71242129,"question_id":71241580,"body_markdown":"If you open the [Revision Log][1] dialog for `src` or `inputs` you will only see the commits that touched contents of these directories. The same applies to running [`svn log`][2].\r\n\r\n\r\n  [1]: https://tortoisesvn.net/docs/release/TortoiseSVN_en/tsvn-dug-showlog.html\r\n  [2]: https://svnbook.red-bean.com/en/1.8/svn.ref.svn.c.log.html","title":"TortoiseSVN: How to get a list of all revisions that update files in specific directories","body":"<p>If you open the <a href=\"https://tortoisesvn.net/docs/release/TortoiseSVN_en/tsvn-dug-showlog.html\" rel=\"nofollow noreferrer\">Revision Log</a> dialog for <code>src</code> or <code>inputs</code> you will only see the commits that touched contents of these directories. The same applies to running <a href=\"https://svnbook.red-bean.com/en/1.8/svn.ref.svn.c.log.html\" rel=\"nofollow noreferrer\"><code>svn log</code></a>.</p>\n"}],"owner":{"account_id":21731492,"reputation":216,"user_id":16040171,"display_name":"Barry"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645640038,"creation_date":1645637405,"question_id":71241580,"body_markdown":"Say I have a project with the following structure:\r\n\r\n    Some-Project\r\n    &gt; src\r\n    &gt; inputs\r\n    &gt; outputs\r\n    &gt; docs\r\n    &gt; libs\r\n\r\n\r\nHow can I get a list of all SVN revisions where updates are made to any code files in &#39;src&#39; or any input files in &#39;inputs&#39; using TortoiseSVN if possible?\r\n\r\n\r\nThe only thing I can think of is to go into the &#39;src&#39; and &#39;input&#39; folders individually then use TortoiseSVN -&gt; Show Log and then manually tally up the revisions but that is very inefficient.\r\n","title":"TortoiseSVN: How to get a list of all revisions that update files in specific directories","body":"<p>Say I have a project with the following structure:</p>\n<pre><code>Some-Project\n&gt; src\n&gt; inputs\n&gt; outputs\n&gt; docs\n&gt; libs\n</code></pre>\n<p>How can I get a list of all SVN revisions where updates are made to any code files in 'src' or any input files in 'inputs' using TortoiseSVN if possible?</p>\n<p>The only thing I can think of is to go into the 'src' and 'input' folders individually then use TortoiseSVN -&gt; Show Log and then manually tally up the revisions but that is very inefficient.</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":12382,"reputation":5758,"user_id":1215136,"display_name":"ilvar"},"score":0,"creation_date":1644532170,"post_id":71055776,"comment_id":125639119,"body_markdown":"Sounds like an SDK bug. Or rather a more fundamental clash between schema-less data storage API and strongly typed language.","body":"Sounds like an SDK bug. Or rather a more fundamental clash between schema-less data storage API and strongly typed language."},{"owner":{"account_id":333303,"reputation":117,"user_id":659107,"accept_rate":43,"display_name":"Zo the Relativist"},"score":0,"creation_date":1644534092,"post_id":71055776,"comment_id":125639579,"body_markdown":"@ilvar: the old API had you basically parsing JSON.  This is a &quot;feature&quot; in the new API","body":"@ilvar: the old API had you basically parsing JSON.  This is a &quot;feature&quot; in the new API"},{"owner":{"account_id":13259080,"reputation":236,"user_id":9574235,"display_name":"Abhishek Singh"},"score":1,"creation_date":1645625698,"post_id":71055776,"comment_id":125921973,"body_markdown":"@JerrySchirmer you can use Object.class when fetching data from different indexes.","body":"@JerrySchirmer you can use Object.class when fetching data from different indexes."},{"owner":{"account_id":333303,"reputation":117,"user_id":659107,"accept_rate":43,"display_name":"Zo the Relativist"},"score":1,"creation_date":1645637688,"post_id":71055776,"comment_id":125927696,"body_markdown":"@AbhishekSingh thank you.  Convert that to an answer and I&#39;ll accept it.","body":"@AbhishekSingh thank you.  Convert that to an answer and I&#39;ll accept it."}],"answers":[{"tags":[],"owner":{"account_id":13259080,"reputation":236,"user_id":9574235,"display_name":"Abhishek Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645639256,"creation_date":1645639256,"answer_id":71241969,"question_id":71055776,"body_markdown":"You can use Object.class while fetching data from different indexes as below. \r\n\r\n&lt;code&gt;val resp = client.msearch(searchRequest, Object.class)&lt;/code&gt;\r\n","title":"Syntax for msearch in new Elastic Java Api","body":"<p>You can use Object.class while fetching data from different indexes as below.</p>\n<p><code>val resp = client.msearch(searchRequest, Object.class)</code></p>\n"}],"owner":{"account_id":333303,"reputation":117,"user_id":659107,"accept_rate":43,"display_name":"Zo the Relativist"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71241969,"answer_count":1,"score":0,"last_activity_date":1645639256,"creation_date":1644435831,"question_id":71055776,"body_markdown":"I am migrating my existing code from the old Elasticsearch Java API to the Java API (so, &lt;a href=&quot;https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/index.html&quot;&gt;replacing RestHighLevelClient with ElasticsearchClient&lt;/a&gt;).\r\n\r\nThe new API (I&#39;m writing in Scala) basically works like:\r\n\r\n```\r\nval resp = client.msearch(searchRequest, Product.class)\r\nval products: List[Product] = resp.hits().hits()\r\n```\r\n\r\nBut the whole point of msearch is to submit many queries to the ES server in a single HTTP request, right?  And those queries don&#39;t necessarily have the same return schema.  \r\n\r\nWhat is the correct way to write this so that you have some base class Product, and then some subclass Product1 that is the return type of query #1, and some other subclass Product2 that is the return type of query #2?  Does the new API not support this?  The docs do not give clear guidance, and neither do the javadoc.","title":"Syntax for msearch in new Elastic Java Api","body":"<p>I am migrating my existing code from the old Elasticsearch Java API to the Java API (so, <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/index.html\" rel=\"nofollow noreferrer\">replacing RestHighLevelClient with ElasticsearchClient</a>).</p>\n<p>The new API (I'm writing in Scala) basically works like:</p>\n<pre><code>val resp = client.msearch(searchRequest, Product.class)\nval products: List[Product] = resp.hits().hits()\n</code></pre>\n<p>But the whole point of msearch is to submit many queries to the ES server in a single HTTP request, right?  And those queries don't necessarily have the same return schema.</p>\n<p>What is the correct way to write this so that you have some base class Product, and then some subclass Product1 that is the return type of query #1, and some other subclass Product2 that is the return type of query #2?  Does the new API not support this?  The docs do not give clear guidance, and neither do the javadoc.</p>\n"},{"tags":["java","constructor","default-value","default-constructor"],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645639223,"creation_date":1645637507,"answer_id":71241603,"question_id":71241538,"body_markdown":"That&#39;s an [instance initializer](https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html).\r\n\r\nIt&#39;s effectively a block of code that is inlined into the start of constructors (*), rather than being a constructor itself.\r\n\r\nSince this class has no explicit constructor, the compiler gives it a default constructor. Default constructors invoke `super()`, so the instance initializer is inlined into it.\r\n\r\nIt&#39;s effectively the same as:\r\n\r\n```\r\npublic abstract class Machinery {\r\n    protected String name=&quot;default Computer&quot;;\r\n    protected int weight=0;  \r\n    protected static int num_of_Machineries;\r\n    \r\n    //int counter=0;\r\n    static String kevo=&quot;     &quot;;\r\n\r\n    public Machinery() {\r\n        // Invoke the default super constructor.\r\n        super();\r\n\r\n        // Inline body of instance initializer.\r\n        num_of_Machineries++;\r\n        System.out.println(&quot;-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=&quot;);\r\n        System.out.println(&quot;Machinery construction call Baby!&quot;);\r\n        print(this);\r\n\r\n        // Rest of constructor body (which is empty).\r\n    }\r\n\r\n}\r\n```\r\n\r\nUnless you have a very good reason (**) to use an instance initializer (and I&#39;ll say you don&#39;t, if you don&#39;t know what one is), it is better to define an explicit constructor and put the code from the instance initializer in there.\r\n\r\nNote: you probably don&#39;t want to execute `print(this);` in the initializer/constructor: at the time this is executed, your instance isn&#39;t fully initialized, so this might have some unexpected effects.\r\n\r\n---\r\n\r\n(*) It is inlined into all constructors which (implicitly or explicitly) invoke `super(...);`. It is not inlined into constructors which invoke `this(...);`, because those have to (eventually) invoke a constructor invoking `super(...);`, and you only want the initializer code to be executed once.\r\n\r\n(**) The only good reason I can think of is to avoid having to duplicate code between two or more `super(...)`-invoking constructors; but even then, you can _often_ write it with methods. The only time where you really can&#39;t do it without an instance initializer is where there are multiple `super(...)`-invoking constructors which initialize co-dependent final fields. Rare, and probably a sign you should rethink the class.","title":"Member Function with no Signature or Name - Java","body":"<p>That's an <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\" rel=\"nofollow noreferrer\">instance initializer</a>.</p>\n<p>It's effectively a block of code that is inlined into the start of constructors (*), rather than being a constructor itself.</p>\n<p>Since this class has no explicit constructor, the compiler gives it a default constructor. Default constructors invoke <code>super()</code>, so the instance initializer is inlined into it.</p>\n<p>It's effectively the same as:</p>\n<pre><code>public abstract class Machinery {\n    protected String name=&quot;default Computer&quot;;\n    protected int weight=0;  \n    protected static int num_of_Machineries;\n    \n    //int counter=0;\n    static String kevo=&quot;     &quot;;\n\n    public Machinery() {\n        // Invoke the default super constructor.\n        super();\n\n        // Inline body of instance initializer.\n        num_of_Machineries++;\n        System.out.println(&quot;-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=&quot;);\n        System.out.println(&quot;Machinery construction call Baby!&quot;);\n        print(this);\n\n        // Rest of constructor body (which is empty).\n    }\n\n}\n</code></pre>\n<p>Unless you have a very good reason (**) to use an instance initializer (and I'll say you don't, if you don't know what one is), it is better to define an explicit constructor and put the code from the instance initializer in there.</p>\n<p>Note: you probably don't want to execute <code>print(this);</code> in the initializer/constructor: at the time this is executed, your instance isn't fully initialized, so this might have some unexpected effects.</p>\n<hr />\n<p>(*) It is inlined into all constructors which (implicitly or explicitly) invoke <code>super(...);</code>. It is not inlined into constructors which invoke <code>this(...);</code>, because those have to (eventually) invoke a constructor invoking <code>super(...);</code>, and you only want the initializer code to be executed once.</p>\n<p>(**) The only good reason I can think of is to avoid having to duplicate code between two or more <code>super(...)</code>-invoking constructors; but even then, you can <em>often</em> write it with methods. The only time where you really can't do it without an instance initializer is where there are multiple <code>super(...)</code>-invoking constructors which initialize co-dependent final fields. Rare, and probably a sign you should rethink the class.</p>\n"}],"owner":{"account_id":24356487,"reputation":15,"user_id":18291574,"display_name":"ObamaRules98"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71241603,"answer_count":1,"score":1,"last_activity_date":1645639223,"creation_date":1645637258,"question_id":71241538,"body_markdown":"So I&#39;m looking at a Java project for my university and the code we are working with has this syntax that I have never seen before: \r\n\r\n```\r\npublic abstract class Machinery {\r\n    protected String name=&quot;default Computer&quot;;\r\n    protected int weight=0;  \r\n    protected static int num_of_Machineries;\r\n    \r\n    //int counter=0;\r\n    static String kevo=&quot;     &quot;;\r\n    {\r\n        num_of_Machineries++;\r\n        System.out.println(&quot;-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=&quot;);\r\n        System.out.println(&quot;Machinery construction call Baby!&quot;);\r\n        print(this);\r\n    }\r\n\r\n}\r\n```\r\n\r\nFrom what I understand, this works like a default constructor. Can anyone confirm or deny my suspicions?","title":"Member Function with no Signature or Name - Java","body":"<p>So I'm looking at a Java project for my university and the code we are working with has this syntax that I have never seen before:</p>\n<pre><code>public abstract class Machinery {\n    protected String name=&quot;default Computer&quot;;\n    protected int weight=0;  \n    protected static int num_of_Machineries;\n    \n    //int counter=0;\n    static String kevo=&quot;     &quot;;\n    {\n        num_of_Machineries++;\n        System.out.println(&quot;-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=&quot;);\n        System.out.println(&quot;Machinery construction call Baby!&quot;);\n        print(this);\n    }\n\n}\n</code></pre>\n<p>From what I understand, this works like a default constructor. Can anyone confirm or deny my suspicions?</p>\n"},{"tags":["java","eclipse","maven","debian","corba"],"answers":[{"tags":[],"owner":{"account_id":4939543,"reputation":117,"user_id":3976689,"display_name":"Daniel Crisp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645639080,"creation_date":1645639080,"answer_id":71241917,"question_id":68488909,"body_markdown":"I&#39;d make a ticket within the csstudio github repo, someone there will more likely see it and be able to help you.","title":"CS-Studio 4.4.1, Debian 10, Startup errors: org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter for several jar files","body":"<p>I'd make a ticket within the csstudio github repo, someone there will more likely see it and be able to help you.</p>\n"}],"owner":{"account_id":382638,"reputation":11,"user_id":737994,"display_name":"Thiago"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645639080,"creation_date":1626973352,"question_id":68488909,"body_markdown":"As a beginner on CS-Studio (CSS) / Eclipse, I&#39;ve been struggling with how exactly to install/deploy/implement those jar files correctly, in such a way that CSS can run smoothly. So, funny stuff: if I simply start CSS, I get the following errors:\r\n```\r\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/orb-master.\r\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/maven-osgi-bundles-master.\r\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/TangORB-javacommon-jacorb_free-0.3-SNAPSHOT.jar.\r\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/maven-osgi-repository-1.0.0-SNAPSHOT.jar.\r\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/glassfish-corba-omgapi-4.2.4-javadoc.jar.\r\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/TangORB-jacorb_free-0.3-SNAPSHOT.jar.\r\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/apache-maven-3.8.1.\r\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/glassfish-corba-omgapi-4.2.4-sources.jar.\r\n```\r\nHowever, if I add the Maven `bin` folder to the PATH environment variable *before* starting CSS, I get no errors whatsoever.\r\n\r\nThese `.jar` files are inside the `plugins` folder in the cs-studio installation directory. So I assumed they are &#39;operational&#39;. \r\n\r\nAt the same time, there are some hidden folders `.../default/.metadata/.plugins/*` for some of those classes in my CSS project workspace. Most of them simply contains a `desktop.ini` file. (Actually I got this workspace from a previous colleague already with the required plugins. Though I believe some others are required).\r\n\r\nI believe the Maven bin path could be set in some ini or settings file from CSS, though I don&#39;t know which one or where. \r\n\r\nOr does anyone know a better way how to tackle these issues? \r\n\r\nCheers!","title":"CS-Studio 4.4.1, Debian 10, Startup errors: org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter for several jar files","body":"<p>As a beginner on CS-Studio (CSS) / Eclipse, I've been struggling with how exactly to install/deploy/implement those jar files correctly, in such a way that CSS can run smoothly. So, funny stuff: if I simply start CSS, I get the following errors:</p>\n<pre><code>SEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/orb-master.\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/maven-osgi-bundles-master.\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/TangORB-javacommon-jacorb_free-0.3-SNAPSHOT.jar.\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/maven-osgi-repository-1.0.0-SNAPSHOT.jar.\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/glassfish-corba-omgapi-4.2.4-javadoc.jar.\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/TangORB-jacorb_free-0.3-SNAPSHOT.jar.\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/apache-maven-3.8.1.\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/glassfish-corba-omgapi-4.2.4-sources.jar.\n</code></pre>\n<p>However, if I add the Maven <code>bin</code> folder to the PATH environment variable <em>before</em> starting CSS, I get no errors whatsoever.</p>\n<p>These <code>.jar</code> files are inside the <code>plugins</code> folder in the cs-studio installation directory. So I assumed they are 'operational'.</p>\n<p>At the same time, there are some hidden folders <code>.../default/.metadata/.plugins/*</code> for some of those classes in my CSS project workspace. Most of them simply contains a <code>desktop.ini</code> file. (Actually I got this workspace from a previous colleague already with the required plugins. Though I believe some others are required).</p>\n<p>I believe the Maven bin path could be set in some ini or settings file from CSS, though I don't know which one or where.</p>\n<p>Or does anyone know a better way how to tackle these issues?</p>\n<p>Cheers!</p>\n"},{"tags":["java","spring","cassandra","spring-data","spring-data-cassandra"],"answers":[{"tags":[],"owner":{"account_id":24281583,"reputation":168,"user_id":18228017,"display_name":"Cayman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645638986,"creation_date":1645638986,"answer_id":71241896,"question_id":71241592,"body_markdown":"My first approach would be going to:\r\n\r\nC:\\Users\\X\\.m2\\repository\\com\\google\\code\\findbugs\\jsr305\\3.0.2\r\n\r\nand delete: \r\n\r\njsr305-3.0.2.jar\r\n\r\nand then run a maven clean install or your goal\r\n\r\nSometimes the jars are downloaded corrupted","title":"Spring Data Cassandra - build fails when dependency is added","body":"<p>My first approach would be going to:</p>\n<p>C:\\Users\\X.m2\\repository\\com\\google\\code\\findbugs\\jsr305\\3.0.2</p>\n<p>and delete:</p>\n<p>jsr305-3.0.2.jar</p>\n<p>and then run a maven clean install or your goal</p>\n<p>Sometimes the jars are downloaded corrupted</p>\n"}],"owner":{"account_id":20707648,"reputation":177,"user_id":15205097,"display_name":"Charlie Clarke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71241896,"answer_count":1,"score":1,"last_activity_date":1645638986,"creation_date":1645637442,"question_id":71241592,"body_markdown":"I was following this guide https://www.baeldung.com/spring-data-cassandra-tutorial to try and get started with using Cassandra paired with spring boot, however, the Cassandra connector dependency:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.datastax.oss/java-driver-core --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.datastax.oss&lt;/groupId&gt;\r\n        &lt;artifactId&gt;java-driver-core&lt;/artifactId&gt;\r\n        &lt;version&gt;4.14.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nDoesn&#39;t seem to contain the necessary modules for adding an AbstractCassandraConfiguration. When adding spring-boot-starter-data-cassandra as a dependancy it gives me the required modules to add Cassandra configurations, but my build fails with the error:\r\n\r\n    java: error reading `C:\\Users\\X\\.m2\\repository\\com\\google\\code\\findbugs\\jsr305\\3.0.2\\jsr305-3.0.2.jar; zip END header not found`\r\n\r\nHere is my pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.3&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.morpheus&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;reportdbgateway&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;reportdbgateway&lt;/name&gt;\r\n    \t&lt;description&gt;Charlie&amp;apos;s software engineering assignment cassandra db gateway&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-cassandra&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n","title":"Spring Data Cassandra - build fails when dependency is added","body":"<p>I was following this guide <a href=\"https://www.baeldung.com/spring-data-cassandra-tutorial\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-cassandra-tutorial</a> to try and get started with using Cassandra paired with spring boot, however, the Cassandra connector dependency:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.datastax.oss/java-driver-core --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.datastax.oss&lt;/groupId&gt;\n    &lt;artifactId&gt;java-driver-core&lt;/artifactId&gt;\n    &lt;version&gt;4.14.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Doesn't seem to contain the necessary modules for adding an AbstractCassandraConfiguration. When adding spring-boot-starter-data-cassandra as a dependancy it gives me the required modules to add Cassandra configurations, but my build fails with the error:</p>\n<pre><code>java: error reading `C:\\Users\\X\\.m2\\repository\\com\\google\\code\\findbugs\\jsr305\\3.0.2\\jsr305-3.0.2.jar; zip END header not found`\n</code></pre>\n<p>Here is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.morpheus&lt;/groupId&gt;\n    &lt;artifactId&gt;reportdbgateway&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;reportdbgateway&lt;/name&gt;\n    &lt;description&gt;Charlie&amp;apos;s software engineering assignment cassandra db gateway&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-cassandra&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","implements"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1645638397,"post_id":71241692,"comment_id":125928000,"body_markdown":"&quot;Now, as those classes have some functions that can be called from other classes, i want to make those interface methods private inside each class.&quot; That sounds like a non-sequitur to me. Please clarify why you want the methods to be private.","body":"&quot;Now, as those classes have some functions that can be called from other classes, i want to make those interface methods private inside each class.&quot; That sounds like a non-sequitur to me. Please clarify why you want the methods to be private."},{"owner":{"account_id":20566260,"reputation":64,"user_id":15095544,"display_name":"Muhammad Zeeshan"},"score":0,"creation_date":1645640306,"post_id":71241692,"comment_id":125928761,"body_markdown":"@JonSkeet because these interface methods are writing information related to some data but they are called according to different conditions.  so i don&#39;t want them to be called mistakenly without fulfilling the conditions.","body":"@JonSkeet because these interface methods are writing information related to some data but they are called according to different conditions.  so i don&#39;t want them to be called mistakenly without fulfilling the conditions."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1645640402,"post_id":71241692,"comment_id":125928805,"body_markdown":"Sounds like they shouldn&#39;t be part of an interface then. If you don&#39;t want to be able to write `FlowControl x = new CustomerInfo(); x.writeData();`... then `CustomerInfo` shouldn&#39;t implement `FlowControl`.","body":"Sounds like they shouldn&#39;t be part of an interface then. If you don&#39;t want to be able to write <code>FlowControl x = new CustomerInfo(); x.writeData();</code>... then <code>CustomerInfo</code> shouldn&#39;t implement <code>FlowControl</code>."},{"owner":{"account_id":20566260,"reputation":64,"user_id":15095544,"display_name":"Muhammad Zeeshan"},"score":0,"creation_date":1645641021,"post_id":71241692,"comment_id":125929056,"body_markdown":"@JonSkeet thank you for shading light on it! Actually i have multiple classes and they process the data in similar ways so i though it would be a good idea to make them all implement an interface so the coding would be consistent. Nevertheless, Now i know i should change it.","body":"@JonSkeet thank you for shading light on it! Actually i have multiple classes and they process the data in similar ways so i though it would be a good idea to make them all implement an interface so the coding would be consistent. Nevertheless, Now i know i should change it."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645638406,"creation_date":1645638406,"answer_id":71241776,"question_id":71241692,"body_markdown":"You can&#39;t. Saying that `CustomerInfo implements FlowControl` literally says that `CustomerInfo` must have a public `writeData()` method. The only way for it _not_ to have that method public is for it not to implement the interface.\r\n\r\nIf you need a `FlowControl` within the `CustomerInfo` class, but not have it implement the interface and expose the method, make the `FlowControl` a field within the `CustomerInfo` class:\r\n\r\n```\r\npublic class CustomerInfo {\r\n  private final FlowControl myFlowControl = /* implement the interface as an anonymous class/lambda */;\r\n\r\n  // Rest of the class... use myFlowControl where you need it.\r\n}\r\n```\r\n\r\nThis is an example of [preferring composition over inheritance](https://stackoverflow.com/questions/49002/prefer-composition-over-inheritance). To put this another way: now `CustomerInfo` *has a* `FlowControl` (composition); not, `CustomerInfo` *is a* `FlowControl` (inheritance).","title":"How to make methods that are implemented in a class from an interface be private?","body":"<p>You can't. Saying that <code>CustomerInfo implements FlowControl</code> literally says that <code>CustomerInfo</code> must have a public <code>writeData()</code> method. The only way for it <em>not</em> to have that method public is for it not to implement the interface.</p>\n<p>If you need a <code>FlowControl</code> within the <code>CustomerInfo</code> class, but not have it implement the interface and expose the method, make the <code>FlowControl</code> a field within the <code>CustomerInfo</code> class:</p>\n<pre><code>public class CustomerInfo {\n  private final FlowControl myFlowControl = /* implement the interface as an anonymous class/lambda */;\n\n  // Rest of the class... use myFlowControl where you need it.\n}\n</code></pre>\n<p>This is an example of <a href=\"https://stackoverflow.com/questions/49002/prefer-composition-over-inheritance\">preferring composition over inheritance</a>. To put this another way: now <code>CustomerInfo</code> <em>has a</em> <code>FlowControl</code> (composition); not, <code>CustomerInfo</code> <em>is a</em> <code>FlowControl</code> (inheritance).</p>\n"},{"tags":[],"owner":{"account_id":2987419,"reputation":1969,"user_id":2535843,"accept_rate":76,"display_name":"Mahdi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645638655,"creation_date":1645638655,"answer_id":71241823,"question_id":71241692,"body_markdown":"As Andy mentioned, you cannot do this in Java. The only viable alternative that I can think of is using an abstract class &quot;FlowControl &quot; where you define these methods as &quot;protected&quot; and in &quot;CustomerInfo&quot; you extend the abstract &quot;FlowControl&quot;. by doing that, those methods will be protected and unavailable from outside.","title":"How to make methods that are implemented in a class from an interface be private?","body":"<p>As Andy mentioned, you cannot do this in Java. The only viable alternative that I can think of is using an abstract class &quot;FlowControl &quot; where you define these methods as &quot;protected&quot; and in &quot;CustomerInfo&quot; you extend the abstract &quot;FlowControl&quot;. by doing that, those methods will be protected and unavailable from outside.</p>\n"}],"owner":{"account_id":20566260,"reputation":64,"user_id":15095544,"display_name":"Muhammad Zeeshan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71241776,"answer_count":2,"score":0,"last_activity_date":1645638655,"creation_date":1645637991,"question_id":71241692,"body_markdown":"I have an interface &quot;**FlowControl**&quot; as it defines the methods should be implemented by those classes to process the data in correct order. Now, as those classes have some functions that can be called from other classes, i want to make those interface methods private inside each class. But doing so results in error in intellij. I am a beginner in java so please help me or is there any other better approach for achieving this?\r\n\r\n    public interface FlowControl{\r\n        void writeData();\r\n    }\r\n\r\n\r\n    public class CustomerInfo() implements FlowControl{\r\n        **private** void writeData(){\r\n            //Some functionality private to each class\r\n        }\r\n    }\r\n\r\n \r\n\r\n","title":"How to make methods that are implemented in a class from an interface be private?","body":"<p>I have an interface &quot;<strong>FlowControl</strong>&quot; as it defines the methods should be implemented by those classes to process the data in correct order. Now, as those classes have some functions that can be called from other classes, i want to make those interface methods private inside each class. But doing so results in error in intellij. I am a beginner in java so please help me or is there any other better approach for achieving this?</p>\n<pre><code>public interface FlowControl{\n    void writeData();\n}\n\n\npublic class CustomerInfo() implements FlowControl{\n    **private** void writeData(){\n        //Some functionality private to each class\n    }\n}\n</code></pre>\n"},{"tags":["java","json","jackson","deserialization"],"comments":[{"owner":{"account_id":1928650,"reputation":894,"user_id":1738539,"accept_rate":0,"display_name":"user1738539"},"score":1,"creation_date":1645635515,"post_id":71241026,"comment_id":125926712,"body_markdown":"Why do you have an `Exam` field in your `ExamUnit`?","body":"Why do you have an <code>Exam</code> field in your <code>ExamUnit</code>?"},{"owner":{"account_id":21956436,"reputation":178,"user_id":16234929,"display_name":"simplezarg"},"score":0,"creation_date":1645635644,"post_id":71241026,"comment_id":125926775,"body_markdown":"In reality these are JPA entities and I need bi-directionality (if I have an ExamUnit, I need cascaded access to its parent Exam). I&#39;ve omitted all the JPA annotations since they are not relevant to the question. I am not opposed to adding a `@JsonIgnore` to the exam field though, if you think thats is necessary for Jackson&#39;s sake.","body":"In reality these are JPA entities and I need bi-directionality (if I have an ExamUnit, I need cascaded access to its parent Exam). I&#39;ve omitted all the JPA annotations since they are not relevant to the question. I am not opposed to adding a <code>@JsonIgnore</code> to the exam field though, if you think thats is necessary for Jackson&#39;s sake."},{"owner":{"account_id":21956436,"reputation":178,"user_id":16234929,"display_name":"simplezarg"},"score":0,"creation_date":1645636018,"post_id":71241026,"comment_id":125926944,"body_markdown":"But FWIW the same exception arises even if I comment the exam field out.","body":"But FWIW the same exception arises even if I comment the exam field out."},{"owner":{"account_id":1928650,"reputation":894,"user_id":1738539,"accept_rate":0,"display_name":"user1738539"},"score":0,"creation_date":1645636537,"post_id":71241026,"comment_id":125927187,"body_markdown":"Ideally you should have a DTO layer. But aside from that, what if you try a `Set` (hashset?) or `List`","body":"Ideally you should have a DTO layer. But aside from that, what if you try a <code>Set</code> (hashset?) or <code>List</code>"},{"owner":{"account_id":21956436,"reputation":178,"user_id":16234929,"display_name":"simplezarg"},"score":0,"creation_date":1645637984,"post_id":71241026,"comment_id":125927823,"body_markdown":"Yep, same exact exception if I make it `Set&lt;ExamUnit&gt;` or `List&lt;ExamUnit&gt;`.","body":"Yep, same exact exception if I make it <code>Set&lt;ExamUnit&gt;</code> or <code>List&lt;ExamUnit&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645638452,"creation_date":1645638452,"answer_id":71241783,"question_id":71241026,"body_markdown":"In your ExamUnit class annotate your property `private Exam exam;` with `@JsonIgnore`","title":"Jackson JSON chokes when deserializing a Collection","body":"<p>In your ExamUnit class annotate your property <code>private Exam exam;</code> with <code>@JsonIgnore</code></p>\n"}],"owner":{"account_id":21956436,"reputation":178,"user_id":16234929,"display_name":"simplezarg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71241783,"answer_count":1,"score":0,"last_activity_date":1645638452,"creation_date":1645635207,"question_id":71241026,"body_markdown":"Java 11, Spring Boot 2.5 and Jackson 2.12 here. I have the following Java classes:\r\n```\r\n// using lombok annos to generate getters &amp; setters\r\n@Data\r\npublic class ExamUnit implements Comparable&lt;ExamUnit&gt; {\r\n\r\n    private Long id;\r\n    private String name;\r\n    private String displayName;\r\n    private Long order;\r\n    private Exam exam;\r\n\r\n    // compareTo, equals &amp; hashCode are necessary so that the TreeSet below sorts ExamUnits\r\n    // correctly, according to my needs\r\n    @Override\r\n    public int compareTo(ExamUnit other) {\r\n        if (this.equals(other)) {\r\n            return 0;\r\n        } else if (this.order &lt; other.order) {\r\n            return 1;\r\n        }\r\n\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        ExamUnit examUnit = (ExamUnit) o;\r\n        return Objects.equals(name, examUnit.name) &amp;&amp;\r\n                Objects.equals(displayName, examUnit.displayName) &amp;&amp;\r\n                Objects.equals(order, examUnit.order);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(name, displayName, order);\r\n    }\r\n}\r\n```\r\nand:\r\n```\r\n@Data\r\npublic class Exam {\r\n\r\n    private Long id;\r\n    private String name;\r\n    private String displayName;\r\n    private SortedSet&lt;ExamUnit&gt; units = new TreeSet&lt;&gt;();\r\n\r\n}\r\n```\r\n\r\nThen I have an &quot;exam&quot; JSON string:\r\n```\r\n{\r\n  &quot;id&quot;: 1,\r\n  &quot;name&quot;: &quot;science&quot;,\r\n  &quot;displayName&quot;: &quot;Science Exam&quot;,\r\n  &quot;units&quot;: [\r\n    {\r\n      &quot;id&quot;: 1,\r\n      &quot;name&quot;: &quot;chemistry&quot;,\r\n      &quot;displayName&quot;: &quot;Chemistry Unit&quot;,\r\n      &quot;order&quot;: 1\r\n    },\r\n    {\r\n      &quot;id&quot;: 2,\r\n      &quot;name&quot;: &quot;biology&quot;,\r\n      &quot;displayName&quot;: &quot;Biology Unit&quot;,\r\n      &quot;order&quot;: 2\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nThis is valid JSON, as you can verify yourself. And it does appear to follow the model of the Java types correctly.\r\n\r\nThen I have some code to read the string and deserialize it:\r\n```\r\n@Test\r\npublic void deserializeExamJson() {\r\n\r\n    String examJson = &quot;{\\n&quot; +\r\n            &quot;  \\&quot;id\\&quot;: 1,\\n&quot; +\r\n            &quot;  \\&quot;name\\&quot;: \\&quot;science\\&quot;,\\n&quot; +\r\n            &quot;  \\&quot;displayName\\&quot;: \\&quot;Science Exam\\&quot;,\\n&quot; +\r\n            &quot;  \\&quot;units\\&quot;: [\\n&quot; +\r\n            &quot;    {\\n&quot; +\r\n            &quot;      \\&quot;id\\&quot;: 1,\\n&quot; +\r\n            &quot;      \\&quot;name\\&quot;: \\&quot;chemistry\\&quot;,\\n&quot; +\r\n            &quot;      \\&quot;displayName\\&quot;: \\&quot;Chemistry Unit\\&quot;,\\n&quot; +\r\n            &quot;      \\&quot;order\\&quot;: 1\\n&quot; +\r\n            &quot;    },\\n&quot; +\r\n            &quot;    {\\n&quot; +\r\n            &quot;      \\&quot;id\\&quot;: 2,\\n&quot; +\r\n            &quot;      \\&quot;name\\&quot;: \\&quot;biology\\&quot;,\\n&quot; +\r\n            &quot;      \\&quot;displayName\\&quot;: \\&quot;Biology Unit\\&quot;,\\n&quot; +\r\n            &quot;      \\&quot;order\\&quot;: 2\\n&quot; +\r\n            &quot;    }\\n&quot; +\r\n            &quot;  ]\\n&quot; +\r\n            &quot;}&quot;;\r\n\r\n    Exam exam = null;\r\n    try {\r\n        exam = objectMapper.readValue(examJson, Exam.class);\r\n    } catch (JsonProcessingException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n\r\n    assertThat(exam.getName()).isEqualTo(&quot;science&quot;);\r\n\r\n}\r\n```\r\n\r\nWhen this test runs, it fails with:\r\n```\r\njava.lang.RuntimeException: com.fasterxml.jackson.databind.exc.MismatchedInputException: Unexpected token (START_OBJECT), expected VALUE_STRING: need JSON String that contains type id (for subtype of java.util.SortedSet)\r\n at [Source: (StringReader); line: 6, column: 5] (through reference chain: com.me.myapp.Exam[&quot;units&quot;])\r\n```","title":"Jackson JSON chokes when deserializing a Collection","body":"<p>Java 11, Spring Boot 2.5 and Jackson 2.12 here. I have the following Java classes:</p>\n<pre><code>// using lombok annos to generate getters &amp; setters\n@Data\npublic class ExamUnit implements Comparable&lt;ExamUnit&gt; {\n\n    private Long id;\n    private String name;\n    private String displayName;\n    private Long order;\n    private Exam exam;\n\n    // compareTo, equals &amp; hashCode are necessary so that the TreeSet below sorts ExamUnits\n    // correctly, according to my needs\n    @Override\n    public int compareTo(ExamUnit other) {\n        if (this.equals(other)) {\n            return 0;\n        } else if (this.order &lt; other.order) {\n            return 1;\n        }\n\n        return 0;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        ExamUnit examUnit = (ExamUnit) o;\n        return Objects.equals(name, examUnit.name) &amp;&amp;\n                Objects.equals(displayName, examUnit.displayName) &amp;&amp;\n                Objects.equals(order, examUnit.order);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(name, displayName, order);\n    }\n}\n</code></pre>\n<p>and:</p>\n<pre><code>@Data\npublic class Exam {\n\n    private Long id;\n    private String name;\n    private String displayName;\n    private SortedSet&lt;ExamUnit&gt; units = new TreeSet&lt;&gt;();\n\n}\n</code></pre>\n<p>Then I have an &quot;exam&quot; JSON string:</p>\n<pre><code>{\n  &quot;id&quot;: 1,\n  &quot;name&quot;: &quot;science&quot;,\n  &quot;displayName&quot;: &quot;Science Exam&quot;,\n  &quot;units&quot;: [\n    {\n      &quot;id&quot;: 1,\n      &quot;name&quot;: &quot;chemistry&quot;,\n      &quot;displayName&quot;: &quot;Chemistry Unit&quot;,\n      &quot;order&quot;: 1\n    },\n    {\n      &quot;id&quot;: 2,\n      &quot;name&quot;: &quot;biology&quot;,\n      &quot;displayName&quot;: &quot;Biology Unit&quot;,\n      &quot;order&quot;: 2\n    }\n  ]\n}\n</code></pre>\n<p>This is valid JSON, as you can verify yourself. And it does appear to follow the model of the Java types correctly.</p>\n<p>Then I have some code to read the string and deserialize it:</p>\n<pre><code>@Test\npublic void deserializeExamJson() {\n\n    String examJson = &quot;{\\n&quot; +\n            &quot;  \\&quot;id\\&quot;: 1,\\n&quot; +\n            &quot;  \\&quot;name\\&quot;: \\&quot;science\\&quot;,\\n&quot; +\n            &quot;  \\&quot;displayName\\&quot;: \\&quot;Science Exam\\&quot;,\\n&quot; +\n            &quot;  \\&quot;units\\&quot;: [\\n&quot; +\n            &quot;    {\\n&quot; +\n            &quot;      \\&quot;id\\&quot;: 1,\\n&quot; +\n            &quot;      \\&quot;name\\&quot;: \\&quot;chemistry\\&quot;,\\n&quot; +\n            &quot;      \\&quot;displayName\\&quot;: \\&quot;Chemistry Unit\\&quot;,\\n&quot; +\n            &quot;      \\&quot;order\\&quot;: 1\\n&quot; +\n            &quot;    },\\n&quot; +\n            &quot;    {\\n&quot; +\n            &quot;      \\&quot;id\\&quot;: 2,\\n&quot; +\n            &quot;      \\&quot;name\\&quot;: \\&quot;biology\\&quot;,\\n&quot; +\n            &quot;      \\&quot;displayName\\&quot;: \\&quot;Biology Unit\\&quot;,\\n&quot; +\n            &quot;      \\&quot;order\\&quot;: 2\\n&quot; +\n            &quot;    }\\n&quot; +\n            &quot;  ]\\n&quot; +\n            &quot;}&quot;;\n\n    Exam exam = null;\n    try {\n        exam = objectMapper.readValue(examJson, Exam.class);\n    } catch (JsonProcessingException e) {\n        throw new RuntimeException(e);\n    }\n\n    assertThat(exam.getName()).isEqualTo(&quot;science&quot;);\n\n}\n</code></pre>\n<p>When this test runs, it fails with:</p>\n<pre><code>java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.MismatchedInputException: Unexpected token (START_OBJECT), expected VALUE_STRING: need JSON String that contains type id (for subtype of java.util.SortedSet)\n at [Source: (StringReader); line: 6, column: 5] (through reference chain: com.me.myapp.Exam[&quot;units&quot;])\n</code></pre>\n"},{"tags":["java","php","android","json","retrofit"],"comments":[{"owner":{"account_id":7869117,"reputation":58320,"user_id":5947043,"display_name":"ADyson"},"score":0,"creation_date":1645634884,"post_id":71240836,"comment_id":125926413,"body_markdown":"you need to look at the error details provided to you in the onFailure call then, and see what the specific problem is. At the moment, your code just discards all that information and outputs a generic message, which is probably why you don&#39;t know what&#39;s going wrong. You need to log it somewhere.","body":"you need to look at the error details provided to you in the onFailure call then, and see what the specific problem is. At the moment, your code just discards all that information and outputs a generic message, which is probably why you don&#39;t know what&#39;s going wrong. You need to log it somewhere."},{"owner":{"account_id":7869117,"reputation":58320,"user_id":5947043,"display_name":"ADyson"},"score":1,"creation_date":1645634932,"post_id":71240836,"comment_id":125926438,"body_markdown":"Having said that, `&quot;http://192.168.2.107/&quot;` is clearly a local LAN URL. So unless you&#39;re connecting from a device which is on the same LAN as the server, then obviously it will never connect because the NAT/firewall on the router will prevent it.","body":"Having said that, <code>&quot;http:&#47;&#47;192.168.2.107&#47;&quot;</code> is clearly a local LAN URL. So unless you&#39;re connecting from a device which is on the same LAN as the server, then obviously it will never connect because the NAT/firewall on the router will prevent it."},{"owner":{"account_id":24355870,"reputation":11,"user_id":18291054,"display_name":"charbel karam"},"score":0,"creation_date":1645636397,"post_id":71240836,"comment_id":125927118,"body_markdown":"yes, the device I am connection from is connected to the local network, in addition, how should I log the error messages in onFailure?","body":"yes, the device I am connection from is connected to the local network, in addition, how should I log the error messages in onFailure?"},{"owner":{"account_id":7869117,"reputation":58320,"user_id":5947043,"display_name":"ADyson"},"score":0,"creation_date":1645636429,"post_id":71240836,"comment_id":125927138,"body_markdown":"You can log them however you wish... the important point is to make sure you have access to the info, for debugging","body":"You can log them however you wish... the important point is to make sure you have access to the info, for debugging"},{"owner":{"account_id":1247262,"reputation":1464,"user_id":1208445,"display_name":"Bimalesh Jha"},"score":0,"creation_date":1645637666,"post_id":71240836,"comment_id":125927675,"body_markdown":"Probably android network security policy is blocking a plain text http connection. Check this https://stackoverflow.com/questions/45940861/android-8-cleartext-http-traffic-not-permitted","body":"Probably android network security policy is blocking a plain text http connection. Check this <a href=\"https://stackoverflow.com/questions/45940861/android-8-cleartext-http-traffic-not-permitted\" title=\"android 8 cleartext http traffic not permitted\">stackoverflow.com/questions/45940861/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24355870,"reputation":11,"user_id":18291054,"display_name":"charbel karam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645638280,"creation_date":1645638280,"answer_id":71241746,"question_id":71240836,"body_markdown":"Resolved: android network security blocks HTTP request by default, to enable it add to Manifest.xml: \r\n``` \r\nandroid:usesCleartextTraffic=&quot;true&quot;\r\n```\r\n","title":"Cannot fetch JSON using retrofit in Android","body":"<p>Resolved: android network security blocks HTTP request by default, to enable it add to Manifest.xml:</p>\n<pre><code>android:usesCleartextTraffic=&quot;true&quot;\n</code></pre>\n"}],"owner":{"account_id":24355870,"reputation":11,"user_id":18291054,"display_name":"charbel karam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645638280,"creation_date":1645634459,"question_id":71240836,"body_markdown":"I have set up a XAMPP server on a virtual machine, and I&#39;ve set up a PHP code to return a very simple JSON object, the code is in android_connect/get_all_products\r\n\r\n```\r\n&lt;?php\r\n\r\n// array for JSON response\r\n$response = array();\r\n$response[&quot;name&quot;] = &quot;IPhone&quot;;\r\n\r\necho json_encode($response);\r\n?&gt;\r\n```\r\nAnd the code works, when I enter in my browser http://192.168.2.107/android_connect/get_all_products.php I get the correct JSON, even on an external machine on my network.\r\n\r\nBut I am unable to fetch it in an android application using Retrofit2.\r\n\r\nbelow is a POJO I created to represent the JSON:\r\n```\r\npublic class Results {\r\n\r\n    @SerializedName(&quot;name&quot;)\r\n    private String name;\r\n\r\n    public Results(String pid, String name) {\r\n\r\n        this.name = name;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n}\r\n```\r\nThis is the API interface:\r\n```\r\npublic interface Api {\r\n\r\n    String BASE_URL = &quot;http://192.168.2.107/&quot;;\r\n    @GET(&quot;android_connect/get_all_products.php&quot;)\r\n    Call&lt;Results&gt; displayName();\r\n}\r\n```\r\nAnd this is the retrofit client instance:\r\n```\r\npublic class RetrofitClient {\r\n\r\n    private static RetrofitClient instance = null;\r\n    private Api myApi;\r\n\r\n    private RetrofitClient() {\r\n        Retrofit retrofit = new Retrofit.Builder().baseUrl(Api.BASE_URL)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build();\r\n        myApi = retrofit.create(Api.class);\r\n    }\r\n\r\n    public static synchronized RetrofitClient getInstance() {\r\n        if (instance == null) {\r\n            instance = new RetrofitClient();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    public Api getMyApi() {\r\n        return myApi;\r\n    }\r\n}\r\n```\r\nand finaly this is the main activity code:\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    ListView superListView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        superListView = findViewById(R.id.superListView);\r\n\r\n        getSuperHeroes();\r\n    }\r\n\r\n    private void getSuperHeroes() {\r\n        Call&lt;Results&gt; call = RetrofitClient.getInstance().getMyApi().displayName();\r\n        call.enqueue(new Callback&lt;Results&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;Results&gt; call, Response&lt;Results&gt; response) {\r\n                Toast.makeText(getApplicationContext(), response.body().getName(), Toast.LENGTH_LONG).show();\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;Results&gt; call, Throwable t) {\r\n                Toast.makeText(getApplicationContext(), &quot;An error has occured&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n\r\n        });\r\n    }\r\n}\r\n```\r\nEverytime I get a toast saying An error has occured (as it means the call has failed somewhere)\r\n\r\nNOTES: I have added INTERNET permission in the manifest.xml file\r\nI have tried some variation of my code on an external server and it runs fine, seems like the problem happens when I try to connect to my server.\r\n\r\nThank you in advance, I am very new to android programing and I have an assignment to connect it to a php server.\r\n\r\nEDIT: as ADyson pointed, the throwable t in onFailure, gives the folowing message: cLEARTEXT communication to 192.168.2.107 not permitted by network security policy. What does that mean? and what should I do? \r\n\r\n","title":"Cannot fetch JSON using retrofit in Android","body":"<p>I have set up a XAMPP server on a virtual machine, and I've set up a PHP code to return a very simple JSON object, the code is in android_connect/get_all_products</p>\n<pre><code>&lt;?php\n\n// array for JSON response\n$response = array();\n$response[&quot;name&quot;] = &quot;IPhone&quot;;\n\necho json_encode($response);\n?&gt;\n</code></pre>\n<p>And the code works, when I enter in my browser <a href=\"http://192.168.2.107/android_connect/get_all_products.php\" rel=\"nofollow noreferrer\">http://192.168.2.107/android_connect/get_all_products.php</a> I get the correct JSON, even on an external machine on my network.</p>\n<p>But I am unable to fetch it in an android application using Retrofit2.</p>\n<p>below is a POJO I created to represent the JSON:</p>\n<pre><code>public class Results {\n\n    @SerializedName(&quot;name&quot;)\n    private String name;\n\n    public Results(String pid, String name) {\n\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n}\n</code></pre>\n<p>This is the API interface:</p>\n<pre><code>public interface Api {\n\n    String BASE_URL = &quot;http://192.168.2.107/&quot;;\n    @GET(&quot;android_connect/get_all_products.php&quot;)\n    Call&lt;Results&gt; displayName();\n}\n</code></pre>\n<p>And this is the retrofit client instance:</p>\n<pre><code>public class RetrofitClient {\n\n    private static RetrofitClient instance = null;\n    private Api myApi;\n\n    private RetrofitClient() {\n        Retrofit retrofit = new Retrofit.Builder().baseUrl(Api.BASE_URL)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build();\n        myApi = retrofit.create(Api.class);\n    }\n\n    public static synchronized RetrofitClient getInstance() {\n        if (instance == null) {\n            instance = new RetrofitClient();\n        }\n        return instance;\n    }\n\n    public Api getMyApi() {\n        return myApi;\n    }\n}\n</code></pre>\n<p>and finaly this is the main activity code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    ListView superListView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        superListView = findViewById(R.id.superListView);\n\n        getSuperHeroes();\n    }\n\n    private void getSuperHeroes() {\n        Call&lt;Results&gt; call = RetrofitClient.getInstance().getMyApi().displayName();\n        call.enqueue(new Callback&lt;Results&gt;() {\n            @Override\n            public void onResponse(Call&lt;Results&gt; call, Response&lt;Results&gt; response) {\n                Toast.makeText(getApplicationContext(), response.body().getName(), Toast.LENGTH_LONG).show();\n            }\n\n            @Override\n            public void onFailure(Call&lt;Results&gt; call, Throwable t) {\n                Toast.makeText(getApplicationContext(), &quot;An error has occured&quot;, Toast.LENGTH_LONG).show();\n            }\n\n        });\n    }\n}\n</code></pre>\n<p>Everytime I get a toast saying An error has occured (as it means the call has failed somewhere)</p>\n<p>NOTES: I have added INTERNET permission in the manifest.xml file\nI have tried some variation of my code on an external server and it runs fine, seems like the problem happens when I try to connect to my server.</p>\n<p>Thank you in advance, I am very new to android programing and I have an assignment to connect it to a php server.</p>\n<p>EDIT: as ADyson pointed, the throwable t in onFailure, gives the folowing message: cLEARTEXT communication to 192.168.2.107 not permitted by network security policy. What does that mean? and what should I do?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645638241,"creation_date":1645638241,"answer_id":71241736,"question_id":71237303,"body_markdown":"I assume that you are using Spring Boot&#39;s Devtools. They [enable the inclusion of binding errors by default](https://github.com/spring-projects/spring-boot/blob/7f71f71963477d43a6e5fbad6c8702f17a2fdf5e/spring-boot-project/spring-boot-devtools/src/main/java/org/springframework/boot/devtools/env/DevToolsPropertyDefaultsPostProcessor.java#L74). This is only done at development time to reduce the risk of information leakage in your application&#39;s error responses. If you&#39;re comfortable with this risk, you can enable the behaviour by adding `server.error.include-binding-errors = always` to `application.properties`.","title":"Spring Boot API does not return field errors in the builded version","body":"<p>I assume that you are using Spring Boot's Devtools. They <a href=\"https://github.com/spring-projects/spring-boot/blob/7f71f71963477d43a6e5fbad6c8702f17a2fdf5e/spring-boot-project/spring-boot-devtools/src/main/java/org/springframework/boot/devtools/env/DevToolsPropertyDefaultsPostProcessor.java#L74\" rel=\"nofollow noreferrer\">enable the inclusion of binding errors by default</a>. This is only done at development time to reduce the risk of information leakage in your application's error responses. If you're comfortable with this risk, you can enable the behaviour by adding <code>server.error.include-binding-errors = always</code> to <code>application.properties</code>.</p>\n"}],"owner":{"account_id":16051167,"reputation":13,"user_id":11585006,"display_name":"Ignace Mella"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71241736,"answer_count":1,"score":0,"last_activity_date":1645638241,"creation_date":1645620773,"question_id":71237303,"body_markdown":"I have a small issue, in development I created an API that also checks if the POST values are valid with annotation @Valid.\r\n\r\n    @PostMapping(&quot;/news&quot;)\r\n    @ResponseBody\r\n    public News add(@Valid @RequestBody News news){\r\n        return repository.save(news);\r\n    }\r\n\r\nWhen the fields are invalid, I get a return with the errors included, with the fields and defaultMessage.\r\n\r\nI have an entity with annotations like @NotBlank etc.\r\n\r\nOnce I build my project to a jar file, and I run my project with this file, I do not get those errors anymore included in the response.\r\n\r\nI was taking maybe this is because of development mode or something but I couldn&#39;t find anything online about it.","title":"Spring Boot API does not return field errors in the builded version","body":"<p>I have a small issue, in development I created an API that also checks if the POST values are valid with annotation @Valid.</p>\n<pre><code>@PostMapping(&quot;/news&quot;)\n@ResponseBody\npublic News add(@Valid @RequestBody News news){\n    return repository.save(news);\n}\n</code></pre>\n<p>When the fields are invalid, I get a return with the errors included, with the fields and defaultMessage.</p>\n<p>I have an entity with annotations like @NotBlank etc.</p>\n<p>Once I build my project to a jar file, and I run my project with this file, I do not get those errors anymore included in the response.</p>\n<p>I was taking maybe this is because of development mode or something but I couldn't find anything online about it.</p>\n"},{"tags":["java","data-structures","set"],"answers":[{"tags":[],"owner":{"display_name":"user4668606"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1426739821,"creation_date":1426739821,"answer_id":29137296,"question_id":29137250,"body_markdown":"Basically, a Set is just a Map that only holds keys. So you should inform yourself about mappingalgorithms. Note: the HashSet for example is actually just an adapter for the HashMap. the add-method of HashSet simply uses HashMap.put(value , SomeDummyValue).","title":"How to implement a Set Data Structure in Java?","body":"<p>Basically, a Set is just a Map that only holds keys. So you should inform yourself about mappingalgorithms. Note: the HashSet for example is actually just an adapter for the HashMap. the add-method of HashSet simply uses HashMap.put(value , SomeDummyValue).</p>\n"},{"tags":[],"owner":{"account_id":3913115,"reputation":1059,"user_id":3237814,"accept_rate":75,"display_name":"rns"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1426740308,"creation_date":1426739980,"answer_id":29137322,"question_id":29137250,"body_markdown":"Set internally implements a map.So each value in a set is just a key in map.So its uniqueness in maintained.\r\n\r\n[Here][1] is the link.So that you get clear idea how set works internally.\r\nAlso few stack Answers.\r\n[First][2] , [Second][3]\r\n\r\n\r\n  [1]: http://javahungry.blogspot.com/2013/08/how-sets-are-implemented-internally-in.html\r\n  [2]: https://stackoverflow.com/questions/1781868/internal-implementation-of-java-util-hashmap-and-hashset\r\n  [3]: https://stackoverflow.com/questions/4453476/hash-how-does-it-work-internally","title":"How to implement a Set Data Structure in Java?","body":"<p>Set internally implements a map.So each value in a set is just a key in map.So its uniqueness in maintained.</p>\n\n<p><a href=\"http://javahungry.blogspot.com/2013/08/how-sets-are-implemented-internally-in.html\" rel=\"noreferrer\">Here</a> is the link.So that you get clear idea how set works internally.\nAlso few stack Answers.\n<a href=\"https://stackoverflow.com/questions/1781868/internal-implementation-of-java-util-hashmap-and-hashset\">First</a> , <a href=\"https://stackoverflow.com/questions/4453476/hash-how-does-it-work-internally\">Second</a></p>\n"},{"tags":[],"owner":{"account_id":4258989,"reputation":738,"user_id":3483824,"display_name":"bitsabhi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484748558,"creation_date":1484748558,"answer_id":41721621,"question_id":29137250,"body_markdown":" Below is a code snippet to explain above answers\r\n    \r\n    public HashSet() { map = new HashMap&lt;&gt;(); }\r\n    private transient HashMap&lt;E,Object&gt; map;\r\n\r\n    // Dummy value to associate with an Object in the backing Map\r\n    private static final Object PRESENT = new Object();\r\n\r\n    public boolean add(E e) {\r\n        return map.put(e, PRESENT)==null;\r\n    }\r\n\r\n    // Since PRESENT is a constant, for all keys we have same value in backup HashMap called map.\r\n\r\n    public Iterator&lt;E&gt; iterator() {\r\n        return map.keySet().iterator();\r\n    }","title":"How to implement a Set Data Structure in Java?","body":"<p>Below is a code snippet to explain above answers</p>\n\n<pre><code>public HashSet() { map = new HashMap&lt;&gt;(); }\nprivate transient HashMap&lt;E,Object&gt; map;\n\n// Dummy value to associate with an Object in the backing Map\nprivate static final Object PRESENT = new Object();\n\npublic boolean add(E e) {\n    return map.put(e, PRESENT)==null;\n}\n\n// Since PRESENT is a constant, for all keys we have same value in backup HashMap called map.\n\npublic Iterator&lt;E&gt; iterator() {\n    return map.keySet().iterator();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9862940,"reputation":1,"user_id":7305282,"display_name":"Vicky Raj"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1580553362,"creation_date":1580553362,"answer_id":60016067,"question_id":29137250,"body_markdown":"    class HashSetBasicImpl&lt;K&gt; {\r\n    \r\n            static class Entry&lt;K&gt; {\r\n                private K key;\r\n                private Entry&lt;K&gt; next;\r\n    \r\n                Entry(K key) {\r\n                    key = key;\r\n                    next = null;\r\n                }\r\n            }\r\n    \r\n            private Entry&lt;K&gt;[] entries;\r\n    \r\n            public HashSetBasicImpl() {\r\n                // fixed size\r\n                map =new Entry[100];\r\n            }\r\n    \r\n            public boolean contains(K key) {\r\n                int idx = key.hashCode();\r\n                Entry&lt;K&gt; start = entries[idx];\r\n                while(start != null) {\r\n                    if(start.key == key) {\r\n                        return true;\r\n                    }\r\n                    start = start.next;\r\n                }\r\n                return  false;\r\n    \r\n            }\r\n    \r\n            public boolean add(K key) {\r\n    \r\n                Entry&lt;K&gt; entry = new Entry(key);\r\n                int idx = key.hashCode();\r\n    \r\n                // check if entry exists\r\n               if(contains(key)) {\r\n                   return false;\r\n               }\r\n                // add as first entry\r\n                start = entries[idx];\r\n                if(start == null) {\r\n                    entries[idx]= new Entry(key);\r\n                    return true;\r\n                }\r\n                // add as nth entry\r\n                Entry prev = null;\r\n                while(start != null) {\r\n                    prev = start;\r\n                    start = start.next;\r\n                }\r\n                prev.next = new Entry(key);\r\n                return true;\r\n            }\r\n    }","title":"How to implement a Set Data Structure in Java?","body":"<pre><code>class HashSetBasicImpl&lt;K&gt; {\n\n        static class Entry&lt;K&gt; {\n            private K key;\n            private Entry&lt;K&gt; next;\n\n            Entry(K key) {\n                key = key;\n                next = null;\n            }\n        }\n\n        private Entry&lt;K&gt;[] entries;\n\n        public HashSetBasicImpl() {\n            // fixed size\n            map =new Entry[100];\n        }\n\n        public boolean contains(K key) {\n            int idx = key.hashCode();\n            Entry&lt;K&gt; start = entries[idx];\n            while(start != null) {\n                if(start.key == key) {\n                    return true;\n                }\n                start = start.next;\n            }\n            return  false;\n\n        }\n\n        public boolean add(K key) {\n\n            Entry&lt;K&gt; entry = new Entry(key);\n            int idx = key.hashCode();\n\n            // check if entry exists\n           if(contains(key)) {\n               return false;\n           }\n            // add as first entry\n            start = entries[idx];\n            if(start == null) {\n                entries[idx]= new Entry(key);\n                return true;\n            }\n            // add as nth entry\n            Entry prev = null;\n            while(start != null) {\n                prev = start;\n                start = start.next;\n            }\n            prev.next = new Entry(key);\n            return true;\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3200009,"reputation":7174,"user_id":2702249,"accept_rate":57,"display_name":"Om Sao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645638110,"creation_date":1645638110,"answer_id":71241715,"question_id":29137250,"body_markdown":"**Short answer**: Map\r\n\r\n\r\n\r\n**Basics first**\r\n\r\nWhat are the features of Set datastructures?\r\n\r\n 1. Each element get stored only once.\r\n 2. Query for an item in Set should be fastest, i.e. in `O(1)`.\r\n 3. If an item to be inserted is already present in Set, then don&#39;t insert. If it&#39;s not present then insert.\r\n\r\nIf we look closely, which datastructure can implement it?\r\nAnswer is `Map`, because we just keep a record of which value present. And we can query in `O(1)` time.\r\n\r\n","title":"How to implement a Set Data Structure in Java?","body":"<p><strong>Short answer</strong>: Map</p>\n<p><strong>Basics first</strong></p>\n<p>What are the features of Set datastructures?</p>\n<ol>\n<li>Each element get stored only once.</li>\n<li>Query for an item in Set should be fastest, i.e. in <code>O(1)</code>.</li>\n<li>If an item to be inserted is already present in Set, then don't insert. If it's not present then insert.</li>\n</ol>\n<p>If we look closely, which datastructure can implement it?\nAnswer is <code>Map</code>, because we just keep a record of which value present. And we can query in <code>O(1)</code> time.</p>\n"}],"owner":{"account_id":2324687,"reputation":339,"user_id":2039484,"accept_rate":78,"display_name":"ArsenalRocks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28519,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":29137322,"answer_count":5,"score":11,"last_activity_date":1645638110,"creation_date":1426739545,"question_id":29137250,"body_markdown":"I have always wondered how would you implement a Set in Java. Can we implement it just like we implement a HashMap using a LinkedList and an object(Cell&lt;K,V&gt;) which holds a Key and Value? How would you handle the uniqueness part?","title":"How to implement a Set Data Structure in Java?","body":"<p>I have always wondered how would you implement a Set in Java. Can we implement it just like we implement a HashMap using a LinkedList and an object(Cell) which holds a Key and Value? How would you handle the uniqueness part?</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1645569209,"creation_date":1621777212,"answer_id":67660412,"question_id":67656436,"body_markdown":"You need to write your own Deserializer implementation to be able to access headers before the data payload\r\n\r\nOr...\r\n\r\n&gt; any way to not deserialize\r\n\r\nSet deserializer class to the ByteArrayDeserializer rather than the StringDeserializer. \r\n\r\nThen, do the deserialization manually, \r\n\r\n\r\n    for (ConsumerRecord&lt;byte[], byte[]&gt; consumerRecord : consumer.poll(Duration.ofSeconds(1))) {\r\n        for (Header header : consumerRecord.headers()) {\r\n           ...\r\n\r\n        }\r\n        String s = new String(consumerRecord.value(), &quot;UTF-8&quot;); // for example\r\n    }\r\n\r\n","title":"Kafka consumer - Reading message header before deserializing","body":"<p>You need to write your own Deserializer implementation to be able to access headers before the data payload</p>\n<p>Or...</p>\n<blockquote>\n<p>any way to not deserialize</p>\n</blockquote>\n<p>Set deserializer class to the ByteArrayDeserializer rather than the StringDeserializer.</p>\n<p>Then, do the deserialization manually,</p>\n<pre><code>for (ConsumerRecord&lt;byte[], byte[]&gt; consumerRecord : consumer.poll(Duration.ofSeconds(1))) {\n    for (Header header : consumerRecord.headers()) {\n       ...\n\n    }\n    String s = new String(consumerRecord.value(), &quot;UTF-8&quot;); // for example\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18626675,"reputation":131,"user_id":13575629,"display_name":"Pedro Henrique"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645638019,"creation_date":1645638019,"answer_id":71241700,"question_id":67656436,"body_markdown":"For the C# developers using the Confluent.Kafka library I pushed this solution from the context object:\r\n\r\n```\r\npublic class KafkaByteDeserializer : IDeserializer&lt;byte[]&gt;\r\n{\r\n        public static KafkaByteDeserializer Instance =&gt; new KafkaByteDeserializer();\r\n\r\n        public byte[] Deserialize(ReadOnlySpan&lt;byte&gt; data, bool isNull, SerializationContext context)\r\n        {\r\n            if (isNull || IsDeleteOperation(context.Headers))\r\n            {\r\n                return default;\r\n            }\r\n\r\n            return data.ToArray();\r\n        }\r\n\r\n        private bool IsDeleteOperation(Headers headers)\r\n        {\r\n            // Your logic checking for the delete operation...\r\n        }\r\n}\r\n```\r\n\r\n ","title":"Kafka consumer - Reading message header before deserializing","body":"<p>For the C# developers using the Confluent.Kafka library I pushed this solution from the context object:</p>\n<pre><code>public class KafkaByteDeserializer : IDeserializer&lt;byte[]&gt;\n{\n        public static KafkaByteDeserializer Instance =&gt; new KafkaByteDeserializer();\n\n        public byte[] Deserialize(ReadOnlySpan&lt;byte&gt; data, bool isNull, SerializationContext context)\n        {\n            if (isNull || IsDeleteOperation(context.Headers))\n            {\n                return default;\n            }\n\n            return data.ToArray();\n        }\n\n        private bool IsDeleteOperation(Headers headers)\n        {\n            // Your logic checking for the delete operation...\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":6905668,"reputation":35,"user_id":5303647,"display_name":"Amjad Khader"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7292,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1645638019,"creation_date":1621747723,"question_id":67656436,"body_markdown":"Is there any way to read message headers before deserializing? \r\n\r\nI have written the below code, but I am forced to deserializing here, any way to not deserialize?\r\n\r\n        while (true) {\r\n\r\n            ConsumerRecords&lt;String, String&gt; consumerRecords = consumer.poll(Duration.ofSeconds(1));\r\n            for (ConsumerRecord&lt;String, String&gt; consumerRecord : consumerRecords) {\r\n                for (Header header : consumerRecord.headers()) {\r\n                    if (header.key().equals(&quot;my header&quot;)) {\r\n                        String data = &quot;\\n New record received .. \\n&quot; +\r\n                                &quot; Value: &quot; + consumerRecord.value() +\r\n                                &quot; Topic: &quot; + consumerRecord.topic() +\r\n                                &quot; Header: &quot; + header.key() +\r\n                                &quot; Partition: &quot; + consumerRecord.partition();\r\n\r\n                        logger.info(data);\r\n                    }\r\n                }\r\n            }\r\n        }","title":"Kafka consumer - Reading message header before deserializing","body":"<p>Is there any way to read message headers before deserializing?</p>\n<p>I have written the below code, but I am forced to deserializing here, any way to not deserialize?</p>\n<pre><code>    while (true) {\n\n        ConsumerRecords&lt;String, String&gt; consumerRecords = consumer.poll(Duration.ofSeconds(1));\n        for (ConsumerRecord&lt;String, String&gt; consumerRecord : consumerRecords) {\n            for (Header header : consumerRecord.headers()) {\n                if (header.key().equals(&quot;my header&quot;)) {\n                    String data = &quot;\\n New record received .. \\n&quot; +\n                            &quot; Value: &quot; + consumerRecord.value() +\n                            &quot; Topic: &quot; + consumerRecord.topic() +\n                            &quot; Header: &quot; + header.key() +\n                            &quot; Partition: &quot; + consumerRecord.partition();\n\n                    logger.info(data);\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","interface","default-value"],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645631734,"creation_date":1645631173,"answer_id":71240039,"question_id":71239952,"body_markdown":"When you implement an interface you need to define all methods with exactly the same signature declared in the interface.\r\n\r\nSo the class\r\n```\r\n    public class AdultBookList implements BookService {\r\n\r\n         List&lt;Book&gt; search(int numberOfBooks, \r\n                           List&lt;Book&gt; sourceOneResultSet, \r\n                           List&lt;Book&gt; sourceTwoResultSet) {\r\n       .....\r\n     }\r\n }\r\n```\r\nis not a valid implementation of the interface `BookService` because the method search has a different signature.\r\n\r\nYou can solve it in different ways.\r\n\r\nFirst way is to overload the method search in the interface and provide also the method without the childLimitPages parameter. In the implementations you can throw an exception in the AdultBookList if you are calling the method with the childLimitPages. But I suggest you a more elegant way to solve it in the second way.\r\n\r\nSecond way is to replace all the parameters with an object wrapping them. In this object you can define default values, so when it is not explicitly set the value it takes the default value, so something like:\r\n\r\n\r\n    public interface BookService {\r\n        List&lt;Book&gt; search(SearchRequest request);\r\n    }\r\n\r\n    ...\r\n    public class SearchRequest {\r\n        // I replaced int with Integer to hold also null values\r\n        private Integer childLimitPages;\r\n\r\n        // Defining a default value\r\n        private int numberOfBooks = 10;\r\n        private List&lt;Book&gt; sourceOneResultSet;\r\n        private List&lt;Book&gt; sourceTwoResultSet;\r\n\r\n        ...\r\n    }\r\n\r\n\r\n","title":"Using interface correct in java","body":"<p>When you implement an interface you need to define all methods with exactly the same signature declared in the interface.</p>\n<p>So the class</p>\n<pre><code>    public class AdultBookList implements BookService {\n\n         List&lt;Book&gt; search(int numberOfBooks, \n                           List&lt;Book&gt; sourceOneResultSet, \n                           List&lt;Book&gt; sourceTwoResultSet) {\n       .....\n     }\n }\n</code></pre>\n<p>is not a valid implementation of the interface <code>BookService</code> because the method search has a different signature.</p>\n<p>You can solve it in different ways.</p>\n<p>First way is to overload the method search in the interface and provide also the method without the childLimitPages parameter. In the implementations you can throw an exception in the AdultBookList if you are calling the method with the childLimitPages. But I suggest you a more elegant way to solve it in the second way.</p>\n<p>Second way is to replace all the parameters with an object wrapping them. In this object you can define default values, so when it is not explicitly set the value it takes the default value, so something like:</p>\n<pre><code>public interface BookService {\n    List&lt;Book&gt; search(SearchRequest request);\n}\n\n...\npublic class SearchRequest {\n    // I replaced int with Integer to hold also null values\n    private Integer childLimitPages;\n\n    // Defining a default value\n    private int numberOfBooks = 10;\n    private List&lt;Book&gt; sourceOneResultSet;\n    private List&lt;Book&gt; sourceTwoResultSet;\n\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645632265,"creation_date":1645631951,"answer_id":71240247,"question_id":71239952,"body_markdown":"You could define the first argument as `Optional&lt;Integer&gt;` and assert that in the AdultBookService the value in the Optional is present.\r\n\r\n    public interface BookService {\r\n    \tList&lt;Book&gt; search(Optional&lt;Integer&gt; limit, int numberOfBooks, List&lt;Book&gt; sourceA, List&lt;Book&gt; sourceB);\r\n    }\r\n    \r\n    public class AdultBookList implements BookService {\r\n    \r\n    \tList&lt;Book&gt; search(Optional&lt;Integer&gt; limit, int numberOfBooks, List&lt;Book&gt; sourceA, List&lt;Book&gt; sourceB) {\r\n    \t}\r\n    }\r\n    \r\n    public class ChildrenBookList implements BookService {\r\n    \r\n    \tList&lt;Book&gt; search(Optional&lt;Integer&gt; childLimitPages, int numberOfBooks, List&lt;Book&gt; sourceA, List&lt;Book&gt; sourceB) {\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nI like my APIs to have optional arguments at the end. And to redirect the calls to an internal computation where the optionals are resolved. Like so:\r\n\r\n    public class AdultBookList implements BookService {\r\n    \r\n    \tList&lt;Book&gt; search(int numberOfBooks, List&lt;Book&gt; sourceA, List&lt;Book&gt; sourceB, Optional&lt;Integer&gt; limit) {\r\n    \t\tif (limit.isEmpty())\r\n    \t\t{\r\n    \t\t\tSystem.err.printf(&quot;The limit should have been set!&quot;);\r\n    \t\t\treturn Collections.emptyList();\r\n    \t\t}\r\n    \t\treturn internalSearch(numberOfBooks, sourceA, sourceB, limit.get());\r\n    \t}\r\n    \r\n    \tprivate List&lt;Book&gt; search(int numberOfBooks, List&lt;Book&gt; sourceA, List&lt;Book&gt; sourceB, int limit) {\r\n    \t\t\r\n    \t}\r\n    }","title":"Using interface correct in java","body":"<p>You could define the first argument as <code>Optional&lt;Integer&gt;</code> and assert that in the AdultBookService the value in the Optional is present.</p>\n<pre><code>public interface BookService {\n    List&lt;Book&gt; search(Optional&lt;Integer&gt; limit, int numberOfBooks, List&lt;Book&gt; sourceA, List&lt;Book&gt; sourceB);\n}\n\npublic class AdultBookList implements BookService {\n\n    List&lt;Book&gt; search(Optional&lt;Integer&gt; limit, int numberOfBooks, List&lt;Book&gt; sourceA, List&lt;Book&gt; sourceB) {\n    }\n}\n\npublic class ChildrenBookList implements BookService {\n\n    List&lt;Book&gt; search(Optional&lt;Integer&gt; childLimitPages, int numberOfBooks, List&lt;Book&gt; sourceA, List&lt;Book&gt; sourceB) {\n    }\n}\n</code></pre>\n<p>I like my APIs to have optional arguments at the end. And to redirect the calls to an internal computation where the optionals are resolved. Like so:</p>\n<pre><code>public class AdultBookList implements BookService {\n\n    List&lt;Book&gt; search(int numberOfBooks, List&lt;Book&gt; sourceA, List&lt;Book&gt; sourceB, Optional&lt;Integer&gt; limit) {\n        if (limit.isEmpty())\n        {\n            System.err.printf(&quot;The limit should have been set!&quot;);\n            return Collections.emptyList();\n        }\n        return internalSearch(numberOfBooks, sourceA, sourceB, limit.get());\n    }\n\n    private List&lt;Book&gt; search(int numberOfBooks, List&lt;Book&gt; sourceA, List&lt;Book&gt; sourceB, int limit) {\n        \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645637678,"creation_date":1645637678,"answer_id":71241641,"question_id":71239952,"body_markdown":"Define multiple methods on your interface.\r\n\r\nYou have two different behaviors, so you must offer two different methods. Instead of one `search` method, offer `searchForPageCount` and `searchByNumberOfBooks`.\r\n\r\n```java\r\npublic interface BookService {\r\n\r\n    List&lt;Book&gt; searchForPageCount ( int childLimitPages, int numberOfBooks, List&lt;Book&gt; sourceOneResultSet, List&lt;Book&gt; sourceTwoResultSet ) ;\r\n\r\n    List&lt;Book&gt; searchByNumberOfBooks ( int numberOfBooks, List&lt;Book&gt; sourceOneResultSet, List&lt;Book&gt; sourceTwoResultSet ) ;\r\n\r\n}\r\n```\r\n\r\n","title":"Using interface correct in java","body":"<p>Define multiple methods on your interface.</p>\n<p>You have two different behaviors, so you must offer two different methods. Instead of one <code>search</code> method, offer <code>searchForPageCount</code> and <code>searchByNumberOfBooks</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface BookService {\n\n    List&lt;Book&gt; searchForPageCount ( int childLimitPages, int numberOfBooks, List&lt;Book&gt; sourceOneResultSet, List&lt;Book&gt; sourceTwoResultSet ) ;\n\n    List&lt;Book&gt; searchByNumberOfBooks ( int numberOfBooks, List&lt;Book&gt; sourceOneResultSet, List&lt;Book&gt; sourceTwoResultSet ) ;\n\n}\n</code></pre>\n"}],"owner":{"account_id":2061472,"reputation":973,"user_id":1837898,"accept_rate":64,"display_name":"userit1985"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1645637678,"creation_date":1645630847,"question_id":71239952,"body_markdown":"Having this interface \r\n\r\n    public interface BookService {\r\n\r\n    List&lt;Book&gt; search(int childLimitPages, int numberOfBooks, List&lt;Book&gt; sourceOneResultSet, List&lt;Book&gt; sourceTwoResultSet);\r\n    }\r\n\r\n\r\nHaving 2 implementations when one does not use variable **int childLimitPages** in its implementation.\r\n\r\n\r\n     public class AdultBookList implements BookService {\r\n\r\n     // This won&#39;t work since there is missing variable, I am asking if there is other way to provide this ask\r\n         List&lt;Book&gt; search(int numberOfBooks, List&lt;Book&gt; sourceOneResultSet, List&lt;Book&gt; sourceTwoResultSet) {\r\n           .....\r\n         }\r\n     }\r\n\r\n     public class ChildrenBookList implements BookService {\r\n\r\n         List&lt;Book&gt; search(int childLimitPages, int numberOfBooks, List&lt;Book&gt; sourceOneResultSet, List&lt;Book&gt; sourceTwoResultSet) {\r\n           .....\r\n         }\r\n     }\r\n\r\nMy question how should I use it? Should I have 2 interface? Could I have default variable?\r\n\r\n","title":"Using interface correct in java","body":"<p>Having this interface</p>\n<pre><code>public interface BookService {\n\nList&lt;Book&gt; search(int childLimitPages, int numberOfBooks, List&lt;Book&gt; sourceOneResultSet, List&lt;Book&gt; sourceTwoResultSet);\n}\n</code></pre>\n<p>Having 2 implementations when one does not use variable <strong>int childLimitPages</strong> in its implementation.</p>\n<pre><code> public class AdultBookList implements BookService {\n\n // This won't work since there is missing variable, I am asking if there is other way to provide this ask\n     List&lt;Book&gt; search(int numberOfBooks, List&lt;Book&gt; sourceOneResultSet, List&lt;Book&gt; sourceTwoResultSet) {\n       .....\n     }\n }\n\n public class ChildrenBookList implements BookService {\n\n     List&lt;Book&gt; search(int childLimitPages, int numberOfBooks, List&lt;Book&gt; sourceOneResultSet, List&lt;Book&gt; sourceTwoResultSet) {\n       .....\n     }\n }\n</code></pre>\n<p>My question how should I use it? Should I have 2 interface? Could I have default variable?</p>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645634641,"creation_date":1645634641,"answer_id":71240892,"question_id":71240683,"body_markdown":"It looks like you want\r\n\r\n```\r\npublic static &lt;T extends Animal&gt; List&lt;T&gt; doSomeWork(List&lt;T&gt; animals){\r\n    List&lt;T&gt; newAnimals = new ArrayList&lt;&gt;();\r\n    return newAnimals;\r\n}","title":"Correct Generics using for List","body":"<p>It looks like you want</p>\n<pre><code>public static &lt;T extends Animal&gt; List&lt;T&gt; doSomeWork(List&lt;T&gt; animals){\n    List&lt;T&gt; newAnimals = new ArrayList&lt;&gt;();\n    return newAnimals;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645637367,"creation_date":1645636765,"answer_id":71241424,"question_id":71240683,"body_markdown":"```\r\npublic static List&lt;? extends Animal&gt; doSomeWork(List&lt;? extends Animal&gt; animals){\r\n  List&lt;? extends Animal&gt; newAnimals = new ArrayList&lt;&gt;();\r\n```\r\n\r\nEvery time you use a `? extends Animal`, it means a different type of &quot;something that is a subclass of `Animal`&quot;. So, the type of the parameter, the type of the return value and the type of the local variable are different: you can&#39;t add things from `animals` into `newAnimals` (or vice versa), and you can&#39;t return either `animals` or `newAnimals` from the method.\r\n\r\nAlso, that return type isn&#39;t &quot;List of a particular type of animal&quot;, it&#39;s &quot;List of a particular _but unknown_ type of animal&quot;. You can&#39;t get a `List&lt;Cat&gt;` back from that, you can only ever get a `List&lt;? extends Animal&gt;`.\r\n\r\nIf you want to indicate that they are the same, you need to declare a type variable, which you use in all of the declarations.\r\n\r\n```\r\npublic static &lt;T extends Animal&gt; List&lt;T&gt; doSomeWork(List&lt;T&gt; animals){\r\n  List&lt;T&gt; newAnimals = new ArrayList&lt;&gt;();\r\n```\r\n\r\nThis is still &quot;some subclass of `Animal`&quot;, but the fact they are all referred to by the `T` means these are the _same_ subclass; and the type that is returned is the same as the type you passed in.","title":"Correct Generics using for List","body":"<pre><code>public static List&lt;? extends Animal&gt; doSomeWork(List&lt;? extends Animal&gt; animals){\n  List&lt;? extends Animal&gt; newAnimals = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Every time you use a <code>? extends Animal</code>, it means a different type of &quot;something that is a subclass of <code>Animal</code>&quot;. So, the type of the parameter, the type of the return value and the type of the local variable are different: you can't add things from <code>animals</code> into <code>newAnimals</code> (or vice versa), and you can't return either <code>animals</code> or <code>newAnimals</code> from the method.</p>\n<p>Also, that return type isn't &quot;List of a particular type of animal&quot;, it's &quot;List of a particular <em>but unknown</em> type of animal&quot;. You can't get a <code>List&lt;Cat&gt;</code> back from that, you can only ever get a <code>List&lt;? extends Animal&gt;</code>.</p>\n<p>If you want to indicate that they are the same, you need to declare a type variable, which you use in all of the declarations.</p>\n<pre><code>public static &lt;T extends Animal&gt; List&lt;T&gt; doSomeWork(List&lt;T&gt; animals){\n  List&lt;T&gt; newAnimals = new ArrayList&lt;&gt;();\n</code></pre>\n<p>This is still &quot;some subclass of <code>Animal</code>&quot;, but the fact they are all referred to by the <code>T</code> means these are the <em>same</em> subclass; and the type that is returned is the same as the type you passed in.</p>\n"},{"tags":[],"owner":{"account_id":6808649,"reputation":87,"user_id":5239651,"display_name":"denis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645636898,"creation_date":1645636898,"answer_id":71241463,"question_id":71240683,"body_markdown":"Did it in such way:\r\n\r\n    public static &lt;T extends Animal&gt; List&lt;T&gt; doSomeWork(List&lt;T&gt; animals){\r\n        List&lt;T&gt; newAnimals = new ArrayList&lt;&gt;();\r\n        for (T a : animals){\r\n            Animal castedAnimal = (Animal)a;\r\n            newAnimals.add(a);\r\n        }\r\n        return newAnimals;\r\n    }\r\n\r\nI don&#39;t like this casting... But it works","title":"Correct Generics using for List","body":"<p>Did it in such way:</p>\n<pre><code>public static &lt;T extends Animal&gt; List&lt;T&gt; doSomeWork(List&lt;T&gt; animals){\n    List&lt;T&gt; newAnimals = new ArrayList&lt;&gt;();\n    for (T a : animals){\n        Animal castedAnimal = (Animal)a;\n        newAnimals.add(a);\n    }\n    return newAnimals;\n}\n</code></pre>\n<p>I don't like this casting... But it works</p>\n"}],"owner":{"account_id":6808649,"reputation":87,"user_id":5239651,"display_name":"denis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71240892,"answer_count":3,"score":0,"last_activity_date":1645637367,"creation_date":1645633751,"question_id":71240683,"body_markdown":"I have the next code:\r\n\r\n    class Cat extends Animal{}\r\n    \r\n    List&lt;Cat&gt; oldCats = getCats();\r\n    List&lt;Cat&gt; newCats = doSomeWork(oldCats);\r\n    \r\n    public static List&lt;? extends Animal&gt; doSomeWork(List&lt;? extends Animal&gt; animals){\r\n        List&lt;? extends Animal&gt; newAnimals = new ArrayList&lt;&gt;();\r\n        for(Animal a : animals){\r\n        \tnewAnimals.add(a);\r\n        }\r\n        return newAnimals;\r\n    }\r\n\r\n\r\nI have compilation error, that required type is not correct.\r\n\r\n    Required type:List&lt;Cat&gt;\r\n    Provided:List&lt;capture of ? extends Animal&gt;\r\n\r\nHow properly tune generics for List?","title":"Correct Generics using for List","body":"<p>I have the next code:</p>\n<pre><code>class Cat extends Animal{}\n\nList&lt;Cat&gt; oldCats = getCats();\nList&lt;Cat&gt; newCats = doSomeWork(oldCats);\n\npublic static List&lt;? extends Animal&gt; doSomeWork(List&lt;? extends Animal&gt; animals){\n    List&lt;? extends Animal&gt; newAnimals = new ArrayList&lt;&gt;();\n    for(Animal a : animals){\n        newAnimals.add(a);\n    }\n    return newAnimals;\n}\n</code></pre>\n<p>I have compilation error, that required type is not correct.</p>\n<pre><code>Required type:List&lt;Cat&gt;\nProvided:List&lt;capture of ? extends Animal&gt;\n</code></pre>\n<p>How properly tune generics for List?</p>\n"},{"tags":["java","unirest","intercom"],"comments":[{"owner":{"account_id":18591738,"reputation":270,"user_id":13548794,"display_name":"libanbn"},"score":0,"creation_date":1591281210,"post_id":62197117,"comment_id":110001862,"body_markdown":"If you print out the body when you get error 500, what do you get?","body":"If you print out the body when you get error 500, what do you get?"},{"owner":{"account_id":5200903,"reputation":77,"user_id":4160298,"display_name":"lazy"},"score":0,"creation_date":1591281452,"post_id":62197117,"comment_id":110001991,"body_markdown":"@libanbn this one {\n &quot;query&quot;:  {\n    &quot;operator&quot;: &quot;AND&quot;,\n    &quot;value&quot;: [\n       {\n\t\t&quot;field&quot;: &quot;updated_at&quot;,\n    \t&quot;operator&quot;: &quot;&gt;&quot;,\n    \t&quot;value&quot;: 1590278400\n\t  }, \n      {\n        &quot;field&quot;: &quot;source.delivered_as&quot;,\n        &quot;operator&quot;: &quot;=&quot;,\n        &quot;value&quot;: &quot;admin_initiated&quot;\n      }\n    ]\n  }\n}","body":"@libanbn this one {  &quot;query&quot;:  {     &quot;operator&quot;: &quot;AND&quot;,     &quot;value&quot;: [        { \t\t&quot;field&quot;: &quot;updated_at&quot;,     \t&quot;operator&quot;: &quot;&gt;&quot;,     \t&quot;value&quot;: 1590278400 \t  },        {         &quot;field&quot;: &quot;source.delivered_as&quot;,         &quot;operator&quot;: &quot;=&quot;,         &quot;value&quot;: &quot;admin_initiated&quot;       }     ]   } }"}],"answers":[{"tags":[],"owner":{"account_id":5200903,"reputation":77,"user_id":4160298,"display_name":"lazy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1591364976,"creation_date":1591364976,"answer_id":62216895,"question_id":62197117,"body_markdown":"The problem turns out to be my UNIX date long value wherein the correct value should be the Epoch seconds. So from `myDate.getTime()` I changed it to `myDate.toInstant().getEpochSecond()`.","title":"Unirest Java POST request for Intercom API return error 500","body":"<p>The problem turns out to be my UNIX date long value wherein the correct value should be the Epoch seconds. So from <code>myDate.getTime()</code> I changed it to <code>myDate.toInstant().getEpochSecond()</code>.</p>\n"}],"owner":{"account_id":5200903,"reputation":77,"user_id":4160298,"display_name":"lazy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62216895,"answer_count":1,"score":0,"last_activity_date":1645637205,"creation_date":1591280783,"question_id":62197117,"body_markdown":"I&#39;m currently trying to do a POST request on [Intercom API][1] using [unirest][2] for java and It returns a server error 500 but when I do the same request with Postman it returns my desired results.\r\n\r\nSample code:\r\n\r\n    Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n    headers.put(&quot;Accept&quot;, &quot;application/json&quot;);\r\n    headers.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    headers.put(&quot;Authorization&quot;, &quot;Bearer XXXXXXXXXXXXXXXXXXXXXXX&quot;);\r\n\r\n    HttpResponse response = Unirest\r\n                  .post(&quot;https://api.intercom.io/conversations/search&quot;)\r\n                  .headers(headers)\r\n                  .body(requestBody)\r\n                  .asObject(HashMap.class);\r\n\r\nThis is my request body\r\n\r\n    private Map&lt;String, Object&gt; getQueryValues(String field, String operator, Object value) {\r\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;field&quot;, field);\r\n        map.put(&quot;operator&quot;, operator);\r\n        map.put(&quot;value&quot;, value);\r\n\r\n        return map;\r\n    }\r\n\r\n    private Map&lt;String, Object&gt; getRequestBody() {\r\n        List&lt;Map&lt;String, Object&gt;&gt; value = new ArrayList&lt;&gt;();\r\n        value.add(getQueryValues(&quot;updated_at&quot;, &quot;&gt;&quot;, 1590278400));\r\n        value.add(getQueryValues(&quot;source.delivered_as&quot;, &quot;=&quot;, &quot;admin_initiated&quot;));\r\n\r\n        Map&lt;String, Object&gt; query = new HashMap&lt;&gt;();\r\n        query.put(&quot;operator&quot;, &quot;AND&quot;);\r\n        query.put(&quot;value&quot;, value);\r\n\r\n        Map&lt;String, Object&gt; requestBody = new HashMap&lt;&gt;();\r\n        requestBody.put(&quot;query&quot;, query);\r\n\r\n        return requestBody;\r\n    }\r\n\r\n\r\n  [1]: https://api.intercom.io/conversations/search\r\n  [2]: http://kong.github.io/unirest-java/","title":"Unirest Java POST request for Intercom API return error 500","body":"<p>I'm currently trying to do a POST request on <a href=\"https://api.intercom.io/conversations/search\" rel=\"nofollow noreferrer\">Intercom API</a> using <a href=\"http://kong.github.io/unirest-java/\" rel=\"nofollow noreferrer\">unirest</a> for java and It returns a server error 500 but when I do the same request with Postman it returns my desired results.</p>\n<p>Sample code:</p>\n<pre><code>Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\nheaders.put(&quot;Accept&quot;, &quot;application/json&quot;);\nheaders.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\nheaders.put(&quot;Authorization&quot;, &quot;Bearer XXXXXXXXXXXXXXXXXXXXXXX&quot;);\n\nHttpResponse response = Unirest\n              .post(&quot;https://api.intercom.io/conversations/search&quot;)\n              .headers(headers)\n              .body(requestBody)\n              .asObject(HashMap.class);\n</code></pre>\n<p>This is my request body</p>\n<pre><code>private Map&lt;String, Object&gt; getQueryValues(String field, String operator, Object value) {\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;field&quot;, field);\n    map.put(&quot;operator&quot;, operator);\n    map.put(&quot;value&quot;, value);\n\n    return map;\n}\n\nprivate Map&lt;String, Object&gt; getRequestBody() {\n    List&lt;Map&lt;String, Object&gt;&gt; value = new ArrayList&lt;&gt;();\n    value.add(getQueryValues(&quot;updated_at&quot;, &quot;&gt;&quot;, 1590278400));\n    value.add(getQueryValues(&quot;source.delivered_as&quot;, &quot;=&quot;, &quot;admin_initiated&quot;));\n\n    Map&lt;String, Object&gt; query = new HashMap&lt;&gt;();\n    query.put(&quot;operator&quot;, &quot;AND&quot;);\n    query.put(&quot;value&quot;, value);\n\n    Map&lt;String, Object&gt; requestBody = new HashMap&lt;&gt;();\n    requestBody.put(&quot;query&quot;, query);\n\n    return requestBody;\n}\n</code></pre>\n"},{"tags":["java","logging","log4j","log4j2"],"owner":{"account_id":3009975,"reputation":21,"user_id":2553710,"display_name":"user2553710"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645637150,"creation_date":1564979027,"question_id":57352178,"body_markdown":"I have implemented log4j2 to log my records each day in a new file. But on next day previous day file is getting new records and old records file is getting archived. Instead of creating a new file with today&#39;s date. Once I restart the server, a new file with today&#39;s date gets created.\r\n\r\n\r\n&lt;Configuration status=&quot;info&quot;&gt;\r\n\r\n\t&lt;Appenders&gt;\r\n\t\t&lt;RollingFile name=&quot;LogToRollingFile&quot;\r\n\t\t\tfileName=&quot;logs/validategoods/appHeader-${env:hostName}-${date:yyyy-MM-dd}.log&quot;\r\n\t\t\tfilePattern=&quot;logs/validategoods/${env:hostName}-${date:yyyy-MM}/appHeader-%d{yyyy-MM-dd}-%i.log.gz&quot;&gt;\r\n\r\n\t\t\t&lt;PatternLayout&gt;\r\n\t\t\t\t&lt;Pattern&gt;%d %p [%t] %m%n&lt;/Pattern&gt;\r\n\t\t\t\t&lt;!-- &lt;Pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/Pattern&gt; --&gt;\r\n\t\t\t&lt;/PatternLayout&gt;\r\n\t\t\t&lt;Policies&gt;\r\n\t\t\t\t&lt;TimeBasedTriggeringPolicy  interval=&quot;1&quot;/&gt;\r\n\t\t\t\t&lt;SizeBasedTriggeringPolicy size=&quot;100 MB&quot; /&gt;\r\n\r\n\t\t\t&lt;/Policies&gt;\r\n\t\t&lt;/RollingFile&gt;\r\n\r\n\t\t&lt;RollingFile name=&quot;LogToRollingFile1&quot;\r\n\t\t\tfileName=&quot;logs/validategoods/appPayload-${env:hostName}-${date:yyyy-MM-dd.HH-mm}.log&quot;\r\n\t\t\tfilePattern=&quot;logs/validategoods/${env:hostName}-${date:yyyy-MM}/appPayload-%d{yyyy-MM-dd}-%i.log.gz&quot;&gt;\r\n\t\t\t&lt;PatternLayout&gt;\r\n\t\t\t\t&lt;Pattern&gt;%d %p [%t] %m%n&lt;/Pattern&gt;\r\n\t\t\t&lt;/PatternLayout&gt;\r\n\t\t\t&lt;Policies&gt;\r\n\t\t\t\t&lt;TimeBasedTriggeringPolicy  interval=&quot;1&quot; /&gt;\r\n\t\t\t\t&lt;SizeBasedTriggeringPolicy size=&quot;100 MB&quot; /&gt;\r\n\r\n\t\t\t&lt;/Policies&gt;\r\n\t\t&lt;/RollingFile&gt;\r\n\t\t&lt;Async name=&quot;Async&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;LogToRollingFile&quot; /&gt; \r\n\t\t&lt;/Async&gt;\r\n\t\t&lt;Async name=&quot;Async&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;LogToRollingFile1&quot; /&gt;\r\n\t\t&lt;/Async&gt;\r\n\r\n\t&lt;/Appenders&gt;\r\n\r\n\t&lt;Loggers&gt;\r\n\t\t&lt;!-- avoid duplicated logs with additivity=false --&gt;\r\n\t\t&lt;Logger name=&quot;no.posten.header&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;LogToRollingFile&quot; /&gt;\r\n\t\t&lt;/Logger&gt;\r\n\t\t&lt;Logger name=&quot;no.posten.payload&quot; level=&quot;info&quot;\r\n\t\t\tadditivity=&quot;false&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;LogToRollingFile1&quot; /&gt;\r\n\t\t&lt;/Logger&gt;\r\n\t\t&lt;Root level=&quot;debug&quot;&gt;\r\n\r\n\t\t&lt;/Root&gt;\r\n\t&lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n\r\nI want to get a new file created each day without restarting the server.","title":"Rolling file is not creating the next day and previous day file is being written with new logs","body":"<p>I have implemented log4j2 to log my records each day in a new file. But on next day previous day file is getting new records and old records file is getting archived. Instead of creating a new file with today's date. Once I restart the server, a new file with today's date gets created.</p>\n\n<p></p>\n\n<pre><code>&lt;Appenders&gt;\n    &lt;RollingFile name=\"LogToRollingFile\"\n        fileName=\"logs/validategoods/appHeader-${env:hostName}-${date:yyyy-MM-dd}.log\"\n        filePattern=\"logs/validategoods/${env:hostName}-${date:yyyy-MM}/appHeader-%d{yyyy-MM-dd}-%i.log.gz\"&gt;\n\n        &lt;PatternLayout&gt;\n            &lt;Pattern&gt;%d %p [%t] %m%n&lt;/Pattern&gt;\n            &lt;!-- &lt;Pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/Pattern&gt; --&gt;\n        &lt;/PatternLayout&gt;\n        &lt;Policies&gt;\n            &lt;TimeBasedTriggeringPolicy  interval=\"1\"/&gt;\n            &lt;SizeBasedTriggeringPolicy size=\"100 MB\" /&gt;\n\n        &lt;/Policies&gt;\n    &lt;/RollingFile&gt;\n\n    &lt;RollingFile name=\"LogToRollingFile1\"\n        fileName=\"logs/validategoods/appPayload-${env:hostName}-${date:yyyy-MM-dd.HH-mm}.log\"\n        filePattern=\"logs/validategoods/${env:hostName}-${date:yyyy-MM}/appPayload-%d{yyyy-MM-dd}-%i.log.gz\"&gt;\n        &lt;PatternLayout&gt;\n            &lt;Pattern&gt;%d %p [%t] %m%n&lt;/Pattern&gt;\n        &lt;/PatternLayout&gt;\n        &lt;Policies&gt;\n            &lt;TimeBasedTriggeringPolicy  interval=\"1\" /&gt;\n            &lt;SizeBasedTriggeringPolicy size=\"100 MB\" /&gt;\n\n        &lt;/Policies&gt;\n    &lt;/RollingFile&gt;\n    &lt;Async name=\"Async\"&gt;\n        &lt;AppenderRef ref=\"LogToRollingFile\" /&gt; \n    &lt;/Async&gt;\n    &lt;Async name=\"Async\"&gt;\n        &lt;AppenderRef ref=\"LogToRollingFile1\" /&gt;\n    &lt;/Async&gt;\n\n&lt;/Appenders&gt;\n\n&lt;Loggers&gt;\n    &lt;!-- avoid duplicated logs with additivity=false --&gt;\n    &lt;Logger name=\"no.posten.header\" level=\"info\" additivity=\"false\"&gt;\n        &lt;AppenderRef ref=\"LogToRollingFile\" /&gt;\n    &lt;/Logger&gt;\n    &lt;Logger name=\"no.posten.payload\" level=\"info\"\n        additivity=\"false\"&gt;\n        &lt;AppenderRef ref=\"LogToRollingFile1\" /&gt;\n    &lt;/Logger&gt;\n    &lt;Root level=\"debug\"&gt;\n\n    &lt;/Root&gt;\n&lt;/Loggers&gt;\n</code></pre>\n\n<p></p>\n\n<p>I want to get a new file created each day without restarting the server.</p>\n"},{"tags":["java","loops","nested"],"answers":[{"tags":[],"owner":{"account_id":6799435,"reputation":776,"user_id":5953619,"accept_rate":45,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1461034999,"creation_date":1461034999,"answer_id":36707773,"question_id":36707713,"body_markdown":"I don&#39;t think `i` and `j` are necessary in that sense...\r\n\r\n    for (int i = 0; i &lt;= userNum; i++) {\r\n        for (int j = 0; j &lt; i; j++) {\r\n            System.out.print(&quot; &quot;);\r\n        }\r\n        System.out.println(i);\r\n    }\r\n        ","title":"Java Nested loops: Indent text","body":"<p>I don't think <code>i</code> and <code>j</code> are necessary in that sense...</p>\n\n<pre><code>for (int i = 0; i &lt;= userNum; i++) {\n    for (int j = 0; j &lt; i; j++) {\n        System.out.print(\" \");\n    }\n    System.out.println(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16396450,"reputation":189,"user_id":11843839,"display_name":"RobertB922"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1569336240,"creation_date":1569336240,"answer_id":58082876,"question_id":36707713,"body_markdown":"This is a little late but I am doing this same challenge in zybooks for school. The above code marked solved is a little off. Using that code places a space at the beginning of the iteration so it should look more like this so the &quot;whitespace&quot; doesn&#39;t differ and because &quot;int i&quot; and &quot;int j&quot; were already defined in the main string...\r\n\r\n    for (i = 0; i &lt; userNum; i++) {\r\n       for (j = 1; j &lt; i; j++) {\r\n          System.out.print(&quot; &quot;);\r\n       }\r\n       System.out.println(i);\r\n    }\r\nRemove the &quot;int&quot; from both &quot;i&quot; &amp; &quot;j&quot; because they have already been defined in your main string. You also have to make &quot;j = 1&quot; otherwise it will put a space before 0 which will have a whitespace difference. Hope this helps anyone else who comes across this challenge.\r\n    ","title":"Java Nested loops: Indent text","body":"<p>This is a little late but I am doing this same challenge in zybooks for school. The above code marked solved is a little off. Using that code places a space at the beginning of the iteration so it should look more like this so the \"whitespace\" doesn't differ and because \"int i\" and \"int j\" were already defined in the main string...</p>\n\n<pre><code>for (i = 0; i &lt; userNum; i++) {\n   for (j = 1; j &lt; i; j++) {\n      System.out.print(\" \");\n   }\n   System.out.println(i);\n}\n</code></pre>\n\n<p>Remove the \"int\" from both \"i\" &amp; \"j\" because they have already been defined in your main string. You also have to make \"j = 1\" otherwise it will put a space before 0 which will have a whitespace difference. Hope this helps anyone else who comes across this challenge.</p>\n"},{"tags":[],"owner":{"account_id":17890030,"reputation":1,"user_id":12996713,"display_name":"Sen GY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583198831,"creation_date":1583198831,"answer_id":60498842,"question_id":36707713,"body_markdown":"    for (i = 0; i &lt;= userNum; i++) {\r\n        for (j = 0; j &lt; i; j++) {\r\n                System.out.print(&quot; &quot;);  \r\n             }\r\n             System.out.println(i);\r\n          }","title":"Java Nested loops: Indent text","body":"<pre><code>for (i = 0; i &lt;= userNum; i++) {\n    for (j = 0; j &lt; i; j++) {\n            System.out.print(\" \");  \n         }\n         System.out.println(i);\n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22089048,"reputation":11,"user_id":16347372,"display_name":"SonOfGoose97"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625028499,"creation_date":1625028499,"answer_id":68188593,"question_id":36707713,"body_markdown":"So I actually ran the above codes in zybooks, and they didn&#39;t work because the relational operators didn&#39;t include the userNum, which threw off the result.\r\n\r\nTry this:\r\n\r\n\r\n      for (i = 0; i &lt;= userNum; ++i) {\r\n       for (j = 1; j &lt;= i; ++j) {\r\n         System.out.print(&quot; &quot;);\r\n       }\r\n       System.out.println(i);\r\n    }","title":"Java Nested loops: Indent text","body":"<p>So I actually ran the above codes in zybooks, and they didn't work because the relational operators didn't include the userNum, which threw off the result.</p>\n<p>Try this:</p>\n<pre><code>  for (i = 0; i &lt;= userNum; ++i) {\n   for (j = 1; j &lt;= i; ++j) {\n     System.out.print(&quot; &quot;);\n   }\n   System.out.println(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22982889,"reputation":21,"user_id":17109531,"display_name":"Amanpreet Singh"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1633725187,"creation_date":1633725187,"answer_id":69501441,"question_id":36707713,"body_markdown":"    for (i = 0; i &lt;= userNum; i++) {\r\n       for (j = 1; j &lt;= i; j++) {\r\n         System.out.print(&quot; &quot;);\r\n       }\r\n         System.out.println(i);\r\n       }","title":"Java Nested loops: Indent text","body":"<pre><code>for (i = 0; i &lt;= userNum; i++) {\n   for (j = 1; j &lt;= i; j++) {\n     System.out.print(&quot; &quot;);\n   }\n     System.out.println(i);\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20576391,"reputation":1,"user_id":15103475,"display_name":"NewCoder33"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636782413,"creation_date":1636782413,"answer_id":69951789,"question_id":36707713,"body_markdown":"After working on this problem myself for 1 and half hours, I got the code below to work correctly in zyBooks. After finishing the problem, I wanted to see what others did to solve this problem, and see that I made it more complicated than it should have been, oh well. I hope this may help anyone else that may have been thinking about the problem in the way I was thinking about it.\r\n\r\n        \r\n\r\n      userNum = scnr.nextInt();\r\n\r\n      /* Your solution goes here  */\r\n      \r\n      for (i = 0; i &lt;= userNum; ++i) {\r\n            System.out.println(i);\r\n         for (j = 0; j &lt;= i; ++j) {\r\n            if (i == userNum) {\r\n               System.out.print(&quot;&quot;);\r\n            }\r\n            else {\r\n               System.out.print(&quot; &quot;);\r\n               }\r\n         }\r\n      }\r\n         \r\n\r\n","title":"Java Nested loops: Indent text","body":"<p>After working on this problem myself for 1 and half hours, I got the code below to work correctly in zyBooks. After finishing the problem, I wanted to see what others did to solve this problem, and see that I made it more complicated than it should have been, oh well. I hope this may help anyone else that may have been thinking about the problem in the way I was thinking about it.</p>\n<pre><code>  userNum = scnr.nextInt();\n\n  /* Your solution goes here  */\n  \n  for (i = 0; i &lt;= userNum; ++i) {\n        System.out.println(i);\n     for (j = 0; j &lt;= i; ++j) {\n        if (i == userNum) {\n           System.out.print(&quot;&quot;);\n        }\n        else {\n           System.out.print(&quot; &quot;);\n           }\n     }\n  }\n     \n</code></pre>\n"},{"tags":[],"owner":{"account_id":24245990,"reputation":1,"user_id":18197713,"display_name":"Madeline Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644777412,"creation_date":1644777412,"answer_id":71103760,"question_id":36707713,"body_markdown":"&gt;This was successful when I input it in my zyBook assignment! \r\n\r\n    #include &lt;stdio.h&gt;\r\n    \r\n    int main(void) {\r\n        int userNum;\r\n        int i;\r\n        int j;\r\n    \r\n        scanf(&quot;%d&quot;, &amp;userNum);\r\n          \r\n        for (i=0; i&lt;=userNum; i++){\r\n           for (j=0; j&lt;i; j++){\r\n              printf(&quot; &quot;);\r\n           }\r\n           printf(&quot;%d\\n&quot;, i);\r\n        }\r\n    \r\n        return 0;\r\n    }","title":"Java Nested loops: Indent text","body":"<blockquote>\n<p>This was successful when I input it in my zyBook assignment!</p>\n</blockquote>\n<pre><code>#include &lt;stdio.h&gt;\n\nint main(void) {\n    int userNum;\n    int i;\n    int j;\n\n    scanf(&quot;%d&quot;, &amp;userNum);\n      \n    for (i=0; i&lt;=userNum; i++){\n       for (j=0; j&lt;i; j++){\n          printf(&quot; &quot;);\n       }\n       printf(&quot;%d\\n&quot;, i);\n    }\n\n    return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24356485,"reputation":1,"user_id":18291572,"display_name":"TK27"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1645637017,"creation_date":1645637017,"answer_id":71241488,"question_id":36707713,"body_markdown":"`enter code here` for (i = 0; i &lt; userNum; ++i) {\r\n`enter code here` System.out.println(i);\r\n`enter code here` for (j = 1; j &lt;=i; ++j) {\r\n`enter code here` System.out.print(&quot; &quot;);\r\n}\r\n`enter code here` System.out.print(&quot; &quot;);","title":"Java Nested loops: Indent text","body":"<p><code>enter code here</code> for (i = 0; i &lt; userNum; ++i) {\n<code>enter code here</code> System.out.println(i);\n<code>enter code here</code> for (j = 1; j &lt;=i; ++j) {\n<code>enter code here</code> System.out.print(&quot; &quot;);\n}\n<code>enter code here</code> System.out.print(&quot; &quot;);</p>\n"}],"owner":{"account_id":8276711,"reputation":51,"user_id":6222655,"display_name":"bryan callahan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75596,"favorite_count":0,"down_vote_count":4,"up_vote_count":5,"closed_date":1645645470,"accepted_answer_id":36707773,"answer_count":8,"score":1,"last_activity_date":1645637017,"creation_date":1461034618,"question_id":36707713,"body_markdown":"Can anybody help me solve this problem?\r\n\r\nPrint numbers 0, 1, 2, ..., userNum as shown, with each number indented by that number of spaces. For each printed line, print the leading spaces, then the number, and then a newline. Hint: Use i and j as loop variables (initialize i and j explicitly). Note: Avoid any other spaces like spaces after the printed number. Ex: userNum = 3 prints:\r\n\r\nThe code given is as follows:\r\n\r\n    public class NestedLoop {\r\n\r\n    public static void main (String [] args) {\r\n\r\n      int userNum  = 0;\r\n      int i = 0;\r\n      int j = 0;\r\n\r\n      /* Your solution goes here  */\r\n\r\n      return;\r\n    }\r\n    }\r\n\r\n\r\nAny suggestions would be appreciated. Thank you.","title":"Java Nested loops: Indent text","body":"<p>Can anybody help me solve this problem?</p>\n\n<p>Print numbers 0, 1, 2, ..., userNum as shown, with each number indented by that number of spaces. For each printed line, print the leading spaces, then the number, and then a newline. Hint: Use i and j as loop variables (initialize i and j explicitly). Note: Avoid any other spaces like spaces after the printed number. Ex: userNum = 3 prints:</p>\n\n<p>The code given is as follows:</p>\n\n<pre><code>public class NestedLoop {\n\npublic static void main (String [] args) {\n\n  int userNum  = 0;\n  int i = 0;\n  int j = 0;\n\n  /* Your solution goes here  */\n\n  return;\n}\n}\n</code></pre>\n\n<p>Any suggestions would be appreciated. Thank you.</p>\n"},{"tags":["java","encryption","cryptography","rsa","public-key-encryption"],"comments":[{"owner":{"account_id":899926,"reputation":5112,"user_id":1820553,"display_name":"kelalaka"},"score":0,"creation_date":1569341912,"post_id":58084195,"comment_id":102562872,"body_markdown":"Could you also post these values if you have still them? They can be interesting. Note: don&#39;t use them.","body":"Could you also post these values if you have still them? They can be interesting. Note: don&#39;t use them."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1593429194,"post_id":58084195,"comment_id":110768701,"body_markdown":"It means the key you generated using the code in the first part was not used in the code in the second part.","body":"It means the key you generated using the code in the first part was not used in the code in the second part."}],"answers":[{"tags":[],"owner":{"account_id":899926,"reputation":5112,"user_id":1820553,"display_name":"kelalaka"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1645636951,"creation_date":1569341849,"answer_id":58084456,"question_id":58084195,"body_markdown":"This is a warning against a security catastrophe.\r\n\r\nIn RSA, we expect that the composite modulus `n` has two prime factors close to `sqrt{n} `&lt;sup&gt;*&lt;/sup&gt;, otherwise, if one prime is small then one can easily factor your modulus into `n=p q` and drive your secret exponent`d` , BOOM.\r\n\r\nRun the key-gen, again. Also, prefer to use a public exponent `3, 5, 17, 257 or 65537`. This helps to have faster calculations. You [used 17489](https://www.wolframalpha.com/input/?i=17489+to+binary) which requires 4 multiplication however `65537` requires 2 - not counting the squaring.\r\n\r\nAlso, you should call\r\n\r\n    Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\r\n\r\nor \r\n\r\n    Cipher.getInstance(&quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;);\r\n\r\nnot \r\n\r\n    Cipher.getInstance(&quot;RSA&quot;);\r\n\r\nThis is insecure, malleable, and has many attacks.\r\n\r\nRSA is a trapdoor function. In encryption and signatures, it should never be used without proper padding.\r\n\r\n - For encryption, [PKCS1Padding][1] and [OAEP][2] can be used. OAEP is a better choice.\r\n - For signature use [RSA-PSS][3]\r\n\r\n**note that** [RSA Signing is Not RSA Decryption][4].\r\n\r\n**also note that:** Actually, it is not preferred to use RSA for encryption, in general, RSA is used for signatures. We combine symmetric and asymmetric encryption schemes in [Hybrid-Cryptosystem][5]. For example, one can use [Diffie-Hellman Key exchange][6] to establish a common key with [forward secrecy][7] so that the data can be encrypted with a symmetric encryption algorithm like AES which is much faster than any asymmetric cryptosystem. There is, also, [Key Encapsulation Mechanism][8] (KEM) and it is applicable to RSA, known as RSA-KEM which can be used to establish a key.\r\n\r\n---\r\n&lt;sub&gt;&lt;sup&gt;*&lt;/sup&gt;Keep in mind that if the primes are too close to each other then the Fermat Factoring is applicable&lt;/sub&gt;\r\n\r\n  [1]: https://en.wikipedia.org/wiki/PKCS_1\r\n  [2]: https://en.wikipedia.org/wiki/Optimal_asymmetric_encryption_padding\r\n  [3]: https://en.wikipedia.org/wiki/Probabilistic_signature_scheme\r\n  [4]: https://www.cs.cornell.edu/courses/cs5430/2015sp/notes/rsa_sign_vs_dec.php\r\n  [5]: https://en.wikipedia.org/wiki/Hybrid_cryptosystem\r\n  [6]: https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange\r\n  [7]: https://en.wikipedia.org/wiki/Forward_secrecy\r\n  [8]: https://en.wikipedia.org/wiki/Key_encapsulation","title":"Java RSA Cryptography: RSA modulus has a small prime factor","body":"<p>This is a warning against a security catastrophe.</p>\n<p>In RSA, we expect that the composite modulus <code>n</code> has two prime factors close to <code>sqrt{n} </code><sup>*</sup>, otherwise, if one prime is small then one can easily factor your modulus into <code>n=p q</code> and drive your secret exponent<code>d</code> , BOOM.</p>\n<p>Run the key-gen, again. Also, prefer to use a public exponent <code>3, 5, 17, 257 or 65537</code>. This helps to have faster calculations. You <a href=\"https://www.wolframalpha.com/input/?i=17489+to+binary\" rel=\"nofollow noreferrer\">used 17489</a> which requires 4 multiplication however <code>65537</code> requires 2 - not counting the squaring.</p>\n<p>Also, you should call</p>\n<pre><code>Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\n</code></pre>\n<p>or</p>\n<pre><code>Cipher.getInstance(&quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;);\n</code></pre>\n<p>not</p>\n<pre><code>Cipher.getInstance(&quot;RSA&quot;);\n</code></pre>\n<p>This is insecure, malleable, and has many attacks.</p>\n<p>RSA is a trapdoor function. In encryption and signatures, it should never be used without proper padding.</p>\n<ul>\n<li>For encryption, <a href=\"https://en.wikipedia.org/wiki/PKCS_1\" rel=\"nofollow noreferrer\">PKCS1Padding</a> and <a href=\"https://en.wikipedia.org/wiki/Optimal_asymmetric_encryption_padding\" rel=\"nofollow noreferrer\">OAEP</a> can be used. OAEP is a better choice.</li>\n<li>For signature use <a href=\"https://en.wikipedia.org/wiki/Probabilistic_signature_scheme\" rel=\"nofollow noreferrer\">RSA-PSS</a></li>\n</ul>\n<p><strong>note that</strong> <a href=\"https://www.cs.cornell.edu/courses/cs5430/2015sp/notes/rsa_sign_vs_dec.php\" rel=\"nofollow noreferrer\">RSA Signing is Not RSA Decryption</a>.</p>\n<p><strong>also note that:</strong> Actually, it is not preferred to use RSA for encryption, in general, RSA is used for signatures. We combine symmetric and asymmetric encryption schemes in <a href=\"https://en.wikipedia.org/wiki/Hybrid_cryptosystem\" rel=\"nofollow noreferrer\">Hybrid-Cryptosystem</a>. For example, one can use <a href=\"https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange\" rel=\"nofollow noreferrer\">Diffie-Hellman Key exchange</a> to establish a common key with <a href=\"https://en.wikipedia.org/wiki/Forward_secrecy\" rel=\"nofollow noreferrer\">forward secrecy</a> so that the data can be encrypted with a symmetric encryption algorithm like AES which is much faster than any asymmetric cryptosystem. There is, also, <a href=\"https://en.wikipedia.org/wiki/Key_encapsulation\" rel=\"nofollow noreferrer\">Key Encapsulation Mechanism</a> (KEM) and it is applicable to RSA, known as RSA-KEM which can be used to establish a key.</p>\n<hr />\n<p><sub><sup>*</sup>Keep in mind that if the primes are too close to each other then the Fermat Factoring is applicable</sub></p>\n"},{"tags":[],"owner":{"account_id":1717728,"reputation":706,"user_id":3042703,"display_name":"0xadecimal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1569346002,"creation_date":1569345324,"answer_id":58085271,"question_id":58084195,"body_markdown":"To add to @kelalakas full answer, you can see the bouncy castle code that results in the exception being thrown [here][1] - the relevant logic is:\r\n\r\n\r\n        // Hexadecimal value of the product of the 131 smallest odd primes from 3 to 743\r\n    private static final BigInteger SMALL_PRIMES_PRODUCT = new BigInteger(\r\n              &quot;8138e8a0fcf3a4e84a771d40fd305d7f4aa59306d7251de54d98af8fe95729a1f&quot;\r\n            + &quot;73d893fa424cd2edc8636a6c3285e022b0e3866a565ae8108eed8591cd4fe8d2&quot;\r\n            + &quot;ce86165a978d719ebf647f362d33fca29cd179fb42401cbaf3df0c614056f9c8&quot;\r\n            + &quot;f3cfd51e474afb6bc6974f78db8aba8e9e517fded658591ab7502bd41849462f&quot;,\r\n        16);\r\n\r\n    private static final BigInteger ONE = BigInteger.valueOf(1);\r\n\r\n        if (!modulus.gcd(SMALL_PRIMES_PRODUCT).equals(ONE))\r\n          {\r\n            throw new IllegalArgumentException(&quot;RSA modulus has a small prime factor&quot;);\r\n          }\r\n\r\nSo, looking at your code, the modulus you supply (```new BigInteger(publicKeyBytes) ```)  has common factor(s) with ```SMALL_PRIMES_PRODUCT```.\r\n\r\n\r\n  [1]: http://com.android.org.bouncycastle.crypto.params.RSAKeyParameters.validate","title":"Java RSA Cryptography: RSA modulus has a small prime factor","body":"<p>To add to @kelalakas full answer, you can see the bouncy castle code that results in the exception being thrown <a href=\"http://com.android.org.bouncycastle.crypto.params.RSAKeyParameters.validate\" rel=\"nofollow noreferrer\">here</a> - the relevant logic is:</p>\n\n<pre><code>    // Hexadecimal value of the product of the 131 smallest odd primes from 3 to 743\nprivate static final BigInteger SMALL_PRIMES_PRODUCT = new BigInteger(\n          \"8138e8a0fcf3a4e84a771d40fd305d7f4aa59306d7251de54d98af8fe95729a1f\"\n        + \"73d893fa424cd2edc8636a6c3285e022b0e3866a565ae8108eed8591cd4fe8d2\"\n        + \"ce86165a978d719ebf647f362d33fca29cd179fb42401cbaf3df0c614056f9c8\"\n        + \"f3cfd51e474afb6bc6974f78db8aba8e9e517fded658591ab7502bd41849462f\",\n    16);\n\nprivate static final BigInteger ONE = BigInteger.valueOf(1);\n\n    if (!modulus.gcd(SMALL_PRIMES_PRODUCT).equals(ONE))\n      {\n        throw new IllegalArgumentException(\"RSA modulus has a small prime factor\");\n      }\n</code></pre>\n\n<p>So, looking at your code, the modulus you supply (<code>new BigInteger(publicKeyBytes)</code>)  has common factor(s) with <code>SMALL_PRIMES_PRODUCT</code>.</p>\n"}],"owner":{"account_id":9080546,"reputation":39,"user_id":6760540,"display_name":"Dinura Seneviratne"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2554,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58084456,"answer_count":2,"score":1,"last_activity_date":1645636951,"creation_date":1569340829,"question_id":58084195,"body_markdown":"Trying to encrypt a message using RSA: I keep getting this error, but Im not sure what it means:\r\n\r\nCode to generate the key\r\n\r\n     \r\n        generator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n        RSAKeyGenParameterSpec kpgSpec = new RSAKeyGenParameterSpec(2048, BigInteger.valueOf(17489));\r\n        generator.initialize(kpgSpec);\r\n\r\n        KeyPair keyPair = generator.generateKeyPair();\r\n\r\n        publicKey = (RSAPublicKey) keyPair.getPublic();\r\n        privateKey = (RSAPrivateKey) keyPair.getPrivate();\r\n\r\nCode to Encrypt Messages\r\n\r\n    \r\n            RSAPublicKeySpec pubKeySpec = new RSAPublicKeySpec(new BigInteger(publicKeyBytes), BigInteger.valueOf(17489));\r\n\r\n        Cipher cipher;\r\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        PublicKey currentKey = (RSAPublicKey) keyFactory.generatePublic(pubKeySpec);\r\n        cipher = Cipher.getInstance(&quot;RSA&quot;);\r\n        cipher.init(Cipher.ENCRYPT_MODE, currentKey);\r\n        byte[] encryptedBytes = cipher.doFinal(data.getBytes());\r\n        encrypted = bytesToString(encryptedBytes);\r\nError:\r\n\r\n    W/System.err: java.lang.IllegalArgumentException: RSA modulus has a small prime factor\r\n    W/System.err:     at com.android.org.bouncycastle.crypto.params.RSAKeyParameters.validate(RSAKeyParameters.java:46)\r\n        at com.android.org.bouncycastle.crypto.params.RSAKeyParameters.&lt;init&gt;(RSAKeyParameters.java:28)\r\n        at com.android.org.bouncycastle.jcajce.provider.asymmetric.rsa.RSAUtil.generatePublicKeyParameter(RSAUtil.java:44)\r\n        at com.android.org.bouncycastle.jcajce.provider.asymmetric.rsa.CipherSpi.engineInit(CipherSpi.java:288)\r\n        at com.android.org.bouncycastle.jcajce.provider.asymmetric.rsa.CipherSpi.engineInit(CipherSpi.java:406)\r\n\r\n        \r\n\r\n","title":"Java RSA Cryptography: RSA modulus has a small prime factor","body":"<p>Trying to encrypt a message using RSA: I keep getting this error, but Im not sure what it means:</p>\n\n<p>Code to generate the key</p>\n\n<pre><code>    generator = KeyPairGenerator.getInstance(\"RSA\");\n    RSAKeyGenParameterSpec kpgSpec = new RSAKeyGenParameterSpec(2048, BigInteger.valueOf(17489));\n    generator.initialize(kpgSpec);\n\n    KeyPair keyPair = generator.generateKeyPair();\n\n    publicKey = (RSAPublicKey) keyPair.getPublic();\n    privateKey = (RSAPrivateKey) keyPair.getPrivate();\n</code></pre>\n\n<p>Code to Encrypt Messages</p>\n\n<pre><code>        RSAPublicKeySpec pubKeySpec = new RSAPublicKeySpec(new BigInteger(publicKeyBytes), BigInteger.valueOf(17489));\n\n    Cipher cipher;\n    KeyFactory keyFactory = KeyFactory.getInstance(\"RSA\");\n    PublicKey currentKey = (RSAPublicKey) keyFactory.generatePublic(pubKeySpec);\n    cipher = Cipher.getInstance(\"RSA\");\n    cipher.init(Cipher.ENCRYPT_MODE, currentKey);\n    byte[] encryptedBytes = cipher.doFinal(data.getBytes());\n    encrypted = bytesToString(encryptedBytes);\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>W/System.err: java.lang.IllegalArgumentException: RSA modulus has a small prime factor\nW/System.err:     at com.android.org.bouncycastle.crypto.params.RSAKeyParameters.validate(RSAKeyParameters.java:46)\n    at com.android.org.bouncycastle.crypto.params.RSAKeyParameters.&lt;init&gt;(RSAKeyParameters.java:28)\n    at com.android.org.bouncycastle.jcajce.provider.asymmetric.rsa.RSAUtil.generatePublicKeyParameter(RSAUtil.java:44)\n    at com.android.org.bouncycastle.jcajce.provider.asymmetric.rsa.CipherSpi.engineInit(CipherSpi.java:288)\n    at com.android.org.bouncycastle.jcajce.provider.asymmetric.rsa.CipherSpi.engineInit(CipherSpi.java:406)\n</code></pre>\n"},{"tags":["java","eclipse","filenotfoundexception"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1378776260,"post_id":18709334,"comment_id":27566762,"body_markdown":"@meewoK: thank you. It still boggles my mind that the original poster never read his own question, saw that it didn&#39;t make sense, and corrected it.","body":"@meewoK: thank you. It still boggles my mind that the original poster never read his own question, saw that it didn&#39;t make sense, and corrected it."},{"owner":{"account_id":3110321,"reputation":157,"user_id":2644085,"accept_rate":60,"display_name":"user2644085"},"score":0,"creation_date":1378776485,"post_id":18709334,"comment_id":27566806,"body_markdown":"no offense, but we all start somewhere... and it&#39;s my first class.","body":"no offense, but we all start somewhere... and it&#39;s my first class."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1378776817,"post_id":18709334,"comment_id":27566860,"body_markdown":"No offense taken, but please remember that compilers are strict and unforgiving. Your question was a bit on the sloppy side, and you will want to train yourself to have low tolerance for such. Also posting a decent question, one that&#39;s easy to read and understand shows that you are taking your problem, this site and our help seriously. I look forward to watching your improvement over time.","body":"No offense taken, but please remember that compilers are strict and unforgiving. Your question was a bit on the sloppy side, and you will want to train yourself to have low tolerance for such. Also posting a decent question, one that&#39;s easy to read and understand shows that you are taking your problem, this site and our help seriously. I look forward to watching your improvement over time."}],"answers":[{"tags":[],"owner":{"account_id":1864571,"reputation":23728,"user_id":1688441,"accept_rate":82,"display_name":"Menelaos"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1378775698,"creation_date":1378775698,"answer_id":18709348,"question_id":18709334,"body_markdown":"The file should be in contained within the root of your project.\r\n\r\nWhen you execute a project in eclipse, the working directory is the most top level of your project.\r\n\r\nRight click your project, click New&gt;File, and make a txt file called &quot;TheGame.txt&quot;.","title":"java.io.FileNotFoundException: (No such file or directory) when running from eclipse","body":"<p>The file should be in contained within the root of your project.</p>\n\n<p>When you execute a project in eclipse, the working directory is the most top level of your project.</p>\n\n<p>Right click your project, click New>File, and make a txt file called \"TheGame.txt\".</p>\n"},{"tags":[],"owner":{"account_id":4144371,"reputation":11,"user_id":3398579,"display_name":"dhara"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450423238,"creation_date":1394373145,"answer_id":22283023,"question_id":18709334,"body_markdown":"    // Save Image Code\r\n    btnsave = (ImageButton) findViewById(R.id.imageButton1);\r\n    btnsave.setOnClickListener(new View.OnClickListener(){\r\n    \r\n        @Override\r\n        public void onClick(View v){\r\n            //String state = Environment.getExternalStorageState();\r\n            URL url=null;\r\n    \t\ttry {\r\n    \t\t    url = new URL (testimage);\r\n    \t\t} catch (MalformedURLException e2) {\r\n    \t\t    // TODO Auto-generated catch block\r\n    \t\t    e2.printStackTrace();\r\n    \t\t} \r\n    \t\t\t\t\r\n    \t\ttry {\r\n    \t\t\tinput = url.openStream();\r\n    \t\t} catch (IOException e2) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te2.printStackTrace();\r\n    \t\t} \r\n    \t\t\t\t\r\n    \t\tString root = Environment.getExternalStorageDirectory().toString();\r\n                   \r\n            File newDir = new File(root + &quot;/KalyanPusti_Images&quot;);\r\n            newDir.mkdirs();\r\n                    \r\n            int n = 10000;\r\n            Random gen = new Random();\r\n            n = gen.nextInt(n);\r\n            String fotoname = tittle+&quot;.jpg&quot;;\r\n                    \r\n            File file = new File (newDir, fotoname);\r\n                   \r\n    \t\ttry {     \r\n    \t\t    File storagePath = Environment.getExternalStorageDirectory();\r\n    \t\t\tFileOutputStream output = new FileOutputStream (file);\r\n    \r\n    \t\t\ttry {         \r\n    \t\t\t    byte[] buffer = new byte[15000];         \r\n    \t\t\t    int bytesRead = 0;         \r\n    \t\t\t    while ((bytesRead = input.read(buffer, 0, buffer.length)) &gt;= 0){\r\n    \t\t\t        output.write(buffer, 0, bytesRead);         \r\n    \t\t\t    }  \r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t    // TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}   \r\n    \t\t\tfinally{         \r\n    \t\t\t    try {\r\n    \t\t\t\t    output.close();\r\n    \t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t    // TODO Auto-generated catch block\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}     \r\n    \t\t\t} \r\n            } catch (FileNotFoundException e1) {\r\n    \t\t    // TODO Auto-generated catch block\r\n    \t\t    e1.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\tfinally{     \r\n    \t\t    try {\r\n    \t\t\t    input.close();\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t    // TODO Auto-generated catch block\r\n    \t\t\t    e.printStackTrace();\r\n    \t\t\t} \r\n    \t\t}  \r\n    \t}  \r\n    });\t\r\n    \t\r\n    public File getTempFile(Context context, String url) {\r\n        File file =null;\r\n    \ttry {\r\n    \t    String fileName = Uri.parse(url).getLastPathSegment();\r\n    \t    file = File.createTempFile(fileName, null, context.getCacheDir());\r\n    \t} catch (IOException e) {\r\n    \t     // Error while creating file\r\n    \t}\r\n    \treturn file;\r\n    }\r\n    \t\t\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n    \tgetMenuInflater().inflate(R.menu.fullimage, menu);\r\n    \treturn true;\r\n    }\r\n","title":"java.io.FileNotFoundException: (No such file or directory) when running from eclipse","body":"<pre><code>// Save Image Code\nbtnsave = (ImageButton) findViewById(R.id.imageButton1);\nbtnsave.setOnClickListener(new View.OnClickListener(){\n\n    @Override\n    public void onClick(View v){\n        //String state = Environment.getExternalStorageState();\n        URL url=null;\n        try {\n            url = new URL (testimage);\n        } catch (MalformedURLException e2) {\n            // TODO Auto-generated catch block\n            e2.printStackTrace();\n        } \n\n        try {\n            input = url.openStream();\n        } catch (IOException e2) {\n            // TODO Auto-generated catch block\n            e2.printStackTrace();\n        } \n\n        String root = Environment.getExternalStorageDirectory().toString();\n\n        File newDir = new File(root + \"/KalyanPusti_Images\");\n        newDir.mkdirs();\n\n        int n = 10000;\n        Random gen = new Random();\n        n = gen.nextInt(n);\n        String fotoname = tittle+\".jpg\";\n\n        File file = new File (newDir, fotoname);\n\n        try {     \n            File storagePath = Environment.getExternalStorageDirectory();\n            FileOutputStream output = new FileOutputStream (file);\n\n            try {         \n                byte[] buffer = new byte[15000];         \n                int bytesRead = 0;         \n                while ((bytesRead = input.read(buffer, 0, buffer.length)) &gt;= 0){\n                    output.write(buffer, 0, bytesRead);         \n                }  \n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }   \n            finally{         \n                try {\n                    output.close();\n                } catch (IOException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }     \n            } \n        } catch (FileNotFoundException e1) {\n            // TODO Auto-generated catch block\n            e1.printStackTrace();\n        }\n\n        finally{     \n            try {\n                input.close();\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            } \n        }  \n    }  \n}); \n\npublic File getTempFile(Context context, String url) {\n    File file =null;\n    try {\n        String fileName = Uri.parse(url).getLastPathSegment();\n        file = File.createTempFile(fileName, null, context.getCacheDir());\n    } catch (IOException e) {\n         // Error while creating file\n    }\n    return file;\n}\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    getMenuInflater().inflate(R.menu.fullimage, menu);\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18957297,"reputation":881,"user_id":13833609,"display_name":"ABDERRAHMANE OUALI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645636872,"creation_date":1645636872,"answer_id":71241454,"question_id":18709334,"body_markdown":"You need to place it inside the `src` folder that&#39;s same as `new FileOutputStream(&quot;your-file-name.txt&quot;)`\r\n\r\n\r\n-&gt; and if it is inside a folder `new FileOutputStream(&quot;./your-folder-name/your-file-name.txt&quot;)`","title":"java.io.FileNotFoundException: (No such file or directory) when running from eclipse","body":"<p>You need to place it inside the <code>src</code> folder that's same as <code>new FileOutputStream(&quot;your-file-name.txt&quot;)</code></p>\n<p>-&gt; and if it is inside a folder <code>new FileOutputStream(&quot;./your-folder-name/your-file-name.txt&quot;)</code></p>\n"}],"owner":{"account_id":3110321,"reputation":157,"user_id":2644085,"accept_rate":60,"display_name":"user2644085"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65659,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"answer_count":3,"score":11,"last_activity_date":1645636872,"creation_date":1378775529,"question_id":18709334,"body_markdown":"I am writing to a file and want console output,\r\n\r\n    // TODO Create a game engine and call the runGame() method\r\n    public static void main(String[] args) throws Exception { \r\n    \tNewGame myGame = new TheGame().new NewGame();\r\n    \tmyGame.runGame();\r\n    \tPrintStream out = new PrintStream(new FileOutputStream(&quot;output.txt&quot;));\r\n    \tSystem.setOut(out);\r\n    }\r\n\r\nThis gives me console output, but it throws the following exception:\r\n\r\n    java.io.FileNotFoundException: TheGame.txt (No such file or directory)\r\n        at java.io.FileInputStream.open(Native Method)\r\n        at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\r\n        at game.main(TheGame.java:512)\r\n\r\nThe file does exist.","title":"java.io.FileNotFoundException: (No such file or directory) when running from eclipse","body":"<p>I am writing to a file and want console output,</p>\n\n<pre><code>// TODO Create a game engine and call the runGame() method\npublic static void main(String[] args) throws Exception { \n    NewGame myGame = new TheGame().new NewGame();\n    myGame.runGame();\n    PrintStream out = new PrintStream(new FileOutputStream(\"output.txt\"));\n    System.setOut(out);\n}\n</code></pre>\n\n<p>This gives me console output, but it throws the following exception:</p>\n\n<pre><code>java.io.FileNotFoundException: TheGame.txt (No such file or directory)\n    at java.io.FileInputStream.open(Native Method)\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\n    at game.main(TheGame.java:512)\n</code></pre>\n\n<p>The file does exist.</p>\n"},{"tags":["java","json","jackson","jsonschema"],"comments":[{"owner":{"account_id":6642040,"reputation":2057,"user_id":5127499,"accept_rate":100,"display_name":"Carsten"},"score":0,"creation_date":1587676109,"post_id":61387614,"comment_id":108612958,"body_markdown":"Your expected result is not equivalent to the given parts. Under `billing_address` there should be another `properties` before the `street_address`/`city`/`state` are being listed – but your intent is clear.","body":"Your expected result is not equivalent to the given parts. Under <code>billing_address</code> there should be another <code>properties</code> before the <code>street_address</code>/<code>city</code>/<code>state</code> are being listed – but your intent is clear."}],"answers":[{"tags":[],"owner":{"account_id":6642040,"reputation":2057,"user_id":5127499,"accept_rate":100,"display_name":"Carsten"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587679264,"creation_date":1587673469,"answer_id":61396340,"question_id":61387614,"body_markdown":"There are generators in both directions:\r\n\r\n- from POJO to Schema\r\n- from Schema to POJO\r\n\r\nYou seem to be interested in neither since what you want is:\r\n\r\n- from Schema (parts) to (single) Schema\r\n\r\n----\r\n\r\nI&#39;m afraid your chances of finding an existing solution may be small.  \r\nBut you should be able to do this yourself, especially if you can make a couple of simplifying assumptions:\r\n\r\n&gt;  1. Nowhere in your data model do you have properties with the name `$ref`.\r\n&gt;  2. All your schema parts are present on the classpath – for simplicity&#39;s sake: in the same package as the java class performing\r\n&gt; the merge of the separate schema part.\r\n&gt;  3. There is no circular reference to your main/entry schema from one of its referenced other schema parts.\r\n&gt;  4. It is acceptable to include the different parts in the entry schema&#39;s `definitions`.\r\n&gt;  5. The schema parts do not have overlapping `definitions`.\r\n\r\n----\r\n\r\nThe utility could look something like this then:\r\n```java\r\npublic class SchemaMerger {\r\n\r\n    private final ObjectMapper objectMapper = new ObjectMapper();\r\n    private final Map&lt;String, ObjectNode&gt; schemas = new HashMap&lt;&gt;();\r\n    private final List&lt;ObjectNode&gt; definitions = new ArrayList&lt;&gt;();\r\n\r\n    public String createConsolidatedSchema(String entrySchemaPath) throws IOException {\r\n        ObjectNode entrySchema = this.getSchemaWithResolvedParts(entrySchemaPath);\r\n        ObjectNode consolidatedSchema = this.objectMapper.createObjectNode().setAll(entrySchema);\r\n        ObjectNode definitionsNode = consolidatedSchema.with(&quot;definitions&quot;);\r\n        this.definitions.forEach(definitionsNode::setAll);\r\n        for (Map.Entry&lt;String, ObjectNode&gt; schemaPart : this.schemas.entrySet()) {\r\n            // include schema loaded from separate file in definitions\r\n            definitionsNode.set(schemaPart.getKey(), schemaPart.getValue().without(&quot;$schema&quot;));\r\n        }\r\n        return consolidatedSchema.toPrettyString();\r\n    }\r\n\r\n    private ObjectNode getSchemaWithResolvedParts(String schemaPath) throws IOException {\r\n        ObjectNode entrySchema = (ObjectNode) this.objectMapper.readTree(SchemaMerger.loadResource(schemaPath));\r\n        this.resolveExternalReferences(entrySchema);\r\n        JsonNode definitionsNode = entrySchema.get(&quot;definitions&quot;);\r\n        if (definitionsNode instanceof ObjectNode) {\r\n            this.definitions.add((ObjectNode) definitionsNode);\r\n            entrySchema.remove(&quot;definitions&quot;);\r\n        }\r\n        return entrySchema;\r\n    }\r\n\r\n    private void resolveExternalReferences(JsonNode schemaPart) throws IOException {\r\n        if (schemaPart instanceof ObjectNode || schemaPart instanceof ArrayNode) {\r\n            // recursively iterate over all nested nodes\r\n            for (JsonNode field : schemaPart) {\r\n                this.resolveExternalReferences(field);\r\n            }\r\n        }\r\n        if (!(schemaPart instanceof ObjectNode)) {\r\n            return;\r\n        }\r\n        JsonNode reference = schemaPart.get(&quot;$ref&quot;);\r\n        if (reference instanceof TextNode) {\r\n            String referenceValue = reference.textValue();\r\n            if (!referenceValue.startsWith(&quot;#&quot;)) {\r\n                // convert reference to separate file to entry in definitions\r\n                ((ObjectNode) schemaPart).put(&quot;$ref&quot;, &quot;#/definitions/&quot; + referenceValue);\r\n                if (!this.schemas.containsKey(referenceValue)) {\r\n                    this.schemas.put(referenceValue, this.getSchemaWithResolvedParts(referenceValue));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private static String loadResource(String resourcePath) throws IOException {\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n        try (InputStream inputStream = SchemaMerger.class.getResourceAsStream(resourcePath);\r\n                Scanner scanner = new Scanner(inputStream, StandardCharsets.UTF_8.name())) {\r\n            while (scanner.hasNext()) {\r\n                stringBuilder.append(scanner.nextLine()).append(&#39;\\n&#39;);\r\n            }\r\n        }\r\n        return stringBuilder.toString();\r\n    }\r\n}\r\n```\r\nCalling `new SchemaMerger().createConsolidatedSchema(&quot;customer.json&quot;)` results in the following schema being generated:\r\n```json\r\n{\r\n  &quot;$schema&quot; : &quot;http://json-schema.org/draft-07/schema#&quot;,\r\n  &quot;type&quot; : &quot;object&quot;,\r\n  &quot;properties&quot; : {\r\n    &quot;billing_address&quot; : {\r\n      &quot;$ref&quot; : &quot;#/definitions/address.json&quot;\r\n    }\r\n  },\r\n  &quot;definitions&quot; : {\r\n    &quot;address.json&quot; : {\r\n      &quot;type&quot; : &quot;object&quot;,\r\n      &quot;properties&quot; : {\r\n        &quot;street_address&quot; : {\r\n          &quot;type&quot; : &quot;string&quot;\r\n        },\r\n        &quot;city&quot; : {\r\n          &quot;type&quot; : &quot;string&quot;\r\n        },\r\n        &quot;state&quot; : {\r\n          &quot;type&quot; : &quot;string&quot;\r\n        }\r\n      },\r\n      &quot;required&quot; : [ &quot;street_address&quot;, &quot;city&quot;, &quot;state&quot; ]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis should give you a starting point from which to build what you need.","title":"Java: Deserialize composite JSON Schema with $ref to one single schema","body":"<p>There are generators in both directions:</p>\n\n<ul>\n<li>from POJO to Schema</li>\n<li>from Schema to POJO</li>\n</ul>\n\n<p>You seem to be interested in neither since what you want is:</p>\n\n<ul>\n<li>from Schema (parts) to (single) Schema</li>\n</ul>\n\n<hr>\n\n<p>I'm afraid your chances of finding an existing solution may be small.<br>\nBut you should be able to do this yourself, especially if you can make a couple of simplifying assumptions:</p>\n\n<blockquote>\n  <ol>\n  <li>Nowhere in your data model do you have properties with the name <code>$ref</code>.</li>\n  <li>All your schema parts are present on the classpath – for simplicity's sake: in the same package as the java class performing\n  the merge of the separate schema part.</li>\n  <li>There is no circular reference to your main/entry schema from one of its referenced other schema parts.</li>\n  <li>It is acceptable to include the different parts in the entry schema's <code>definitions</code>.</li>\n  <li>The schema parts do not have overlapping <code>definitions</code>.</li>\n  </ol>\n</blockquote>\n\n<hr>\n\n<p>The utility could look something like this then:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class SchemaMerger {\n\n    private final ObjectMapper objectMapper = new ObjectMapper();\n    private final Map&lt;String, ObjectNode&gt; schemas = new HashMap&lt;&gt;();\n    private final List&lt;ObjectNode&gt; definitions = new ArrayList&lt;&gt;();\n\n    public String createConsolidatedSchema(String entrySchemaPath) throws IOException {\n        ObjectNode entrySchema = this.getSchemaWithResolvedParts(entrySchemaPath);\n        ObjectNode consolidatedSchema = this.objectMapper.createObjectNode().setAll(entrySchema);\n        ObjectNode definitionsNode = consolidatedSchema.with(\"definitions\");\n        this.definitions.forEach(definitionsNode::setAll);\n        for (Map.Entry&lt;String, ObjectNode&gt; schemaPart : this.schemas.entrySet()) {\n            // include schema loaded from separate file in definitions\n            definitionsNode.set(schemaPart.getKey(), schemaPart.getValue().without(\"$schema\"));\n        }\n        return consolidatedSchema.toPrettyString();\n    }\n\n    private ObjectNode getSchemaWithResolvedParts(String schemaPath) throws IOException {\n        ObjectNode entrySchema = (ObjectNode) this.objectMapper.readTree(SchemaMerger.loadResource(schemaPath));\n        this.resolveExternalReferences(entrySchema);\n        JsonNode definitionsNode = entrySchema.get(\"definitions\");\n        if (definitionsNode instanceof ObjectNode) {\n            this.definitions.add((ObjectNode) definitionsNode);\n            entrySchema.remove(\"definitions\");\n        }\n        return entrySchema;\n    }\n\n    private void resolveExternalReferences(JsonNode schemaPart) throws IOException {\n        if (schemaPart instanceof ObjectNode || schemaPart instanceof ArrayNode) {\n            // recursively iterate over all nested nodes\n            for (JsonNode field : schemaPart) {\n                this.resolveExternalReferences(field);\n            }\n        }\n        if (!(schemaPart instanceof ObjectNode)) {\n            return;\n        }\n        JsonNode reference = schemaPart.get(\"$ref\");\n        if (reference instanceof TextNode) {\n            String referenceValue = reference.textValue();\n            if (!referenceValue.startsWith(\"#\")) {\n                // convert reference to separate file to entry in definitions\n                ((ObjectNode) schemaPart).put(\"$ref\", \"#/definitions/\" + referenceValue);\n                if (!this.schemas.containsKey(referenceValue)) {\n                    this.schemas.put(referenceValue, this.getSchemaWithResolvedParts(referenceValue));\n                }\n            }\n        }\n    }\n\n    private static String loadResource(String resourcePath) throws IOException {\n        StringBuilder stringBuilder = new StringBuilder();\n        try (InputStream inputStream = SchemaMerger.class.getResourceAsStream(resourcePath);\n                Scanner scanner = new Scanner(inputStream, StandardCharsets.UTF_8.name())) {\n            while (scanner.hasNext()) {\n                stringBuilder.append(scanner.nextLine()).append('\\n');\n            }\n        }\n        return stringBuilder.toString();\n    }\n}\n</code></pre>\n\n<p>Calling <code>new SchemaMerger().createConsolidatedSchema(\"customer.json\")</code> results in the following schema being generated:</p>\n\n<pre><code>{\n  \"$schema\" : \"http://json-schema.org/draft-07/schema#\",\n  \"type\" : \"object\",\n  \"properties\" : {\n    \"billing_address\" : {\n      \"$ref\" : \"#/definitions/address.json\"\n    }\n  },\n  \"definitions\" : {\n    \"address.json\" : {\n      \"type\" : \"object\",\n      \"properties\" : {\n        \"street_address\" : {\n          \"type\" : \"string\"\n        },\n        \"city\" : {\n          \"type\" : \"string\"\n        },\n        \"state\" : {\n          \"type\" : \"string\"\n        }\n      },\n      \"required\" : [ \"street_address\", \"city\", \"state\" ]\n    }\n  }\n}\n</code></pre>\n\n<p>This should give you a starting point from which to build what you need.</p>\n"},{"tags":[],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645636737,"creation_date":1645636737,"answer_id":71241420,"question_id":61387614,"body_markdown":"Refer: [this post][1]. I have posted a possible solution. \r\n\r\nThough, as mentioned, i have not yet tried it out myself.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/71241380/3883475","title":"Java: Deserialize composite JSON Schema with $ref to one single schema","body":"<p>Refer: <a href=\"https://stackoverflow.com/a/71241380/3883475\">this post</a>. I have posted a possible solution.</p>\n<p>Though, as mentioned, i have not yet tried it out myself.</p>\n"}],"owner":{"account_id":4547963,"reputation":564,"user_id":3693928,"display_name":"yevtsy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1301,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1645636737,"creation_date":1587646072,"question_id":61387614,"body_markdown":"According to the [Structuring a complex schema][1], it&#39;s possible to have the following relation:\r\n\r\n 1. Base JSON Schema (customer.json)\r\n```javascript\r\n{\r\n  &quot;$schema&quot;: &quot;http://json-schema.org/draft-07/schema#&quot;,\r\n  &quot;type&quot;: &quot;object&quot;,\r\n  &quot;properties&quot;: {\r\n    &quot;billing_address&quot;: { &quot;$ref&quot;: &quot;address.json&quot; }\r\n  }\r\n}\r\n\r\n```\r\n\r\n 2. Referenced JSON Schema (address.json)\r\n```javascript\r\n{\r\n  &quot;type&quot;: &quot;object&quot;,\r\n  &quot;properties&quot;: {\r\n    &quot;street_address&quot;: { &quot;type&quot;: &quot;string&quot; },\r\n    &quot;city&quot;:           { &quot;type&quot;: &quot;string&quot; },\r\n    &quot;state&quot;:          { &quot;type&quot;: &quot;string&quot; }\r\n  },\r\n  &quot;required&quot;: [&quot;street_address&quot;, &quot;city&quot;, &quot;state&quot;]\r\n}\r\n```\r\n\r\nThe key advantage of such an approach is reusability.\r\n\r\n**The issue** appears if I want to **compose these schemas into one**. For example, I need to generate a JSON file with dummy values for all supported fields.\r\n\r\nSo, I want to have this schema as a result:\r\n```\r\n{\r\n  &quot;$schema&quot;: &quot;http://json-schema.org/draft-07/schema#&quot;,\r\n  &quot;type&quot;: &quot;object&quot;,\r\n  &quot;properties&quot;: {\r\n    &quot;billing_address&quot;: { \r\n       &quot;street_address&quot;: { &quot;type&quot;: &quot;string&quot; },\r\n       &quot;city&quot;:           { &quot;type&quot;: &quot;string&quot; },\r\n       &quot;state&quot;:          { &quot;type&quot;: &quot;string&quot; }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nNote that all schemas are present in the classpath. \r\n\r\nI&#39;ve been searching for existing solutions on how to do it in Java.\r\nUnfortunately, most of the libraries solve the tasks of how to generate schema by POJO. But in this case, I need the reverse one\r\n\r\n  [1]: https://json-schema.org/understanding-json-schema/structuring.html","title":"Java: Deserialize composite JSON Schema with $ref to one single schema","body":"<p>According to the <a href=\"https://json-schema.org/understanding-json-schema/structuring.html\" rel=\"nofollow noreferrer\">Structuring a complex schema</a>, it's possible to have the following relation:</p>\n\n<ol>\n<li>Base JSON Schema (customer.json)</li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"billing_address\": { \"$ref\": \"address.json\" }\n  }\n}\n\n</code></pre>\n\n<ol start=\"2\">\n<li>Referenced JSON Schema (address.json)</li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n  \"type\": \"object\",\n  \"properties\": {\n    \"street_address\": { \"type\": \"string\" },\n    \"city\":           { \"type\": \"string\" },\n    \"state\":          { \"type\": \"string\" }\n  },\n  \"required\": [\"street_address\", \"city\", \"state\"]\n}\n</code></pre>\n\n<p>The key advantage of such an approach is reusability.</p>\n\n<p><strong>The issue</strong> appears if I want to <strong>compose these schemas into one</strong>. For example, I need to generate a JSON file with dummy values for all supported fields.</p>\n\n<p>So, I want to have this schema as a result:</p>\n\n<pre><code>{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"billing_address\": { \n       \"street_address\": { \"type\": \"string\" },\n       \"city\":           { \"type\": \"string\" },\n       \"state\":          { \"type\": \"string\" }\n    }\n  }\n}\n</code></pre>\n\n<p>Note that all schemas are present in the classpath. </p>\n\n<p>I've been searching for existing solutions on how to do it in Java.\nUnfortunately, most of the libraries solve the tasks of how to generate schema by POJO. But in this case, I need the reverse one</p>\n"},{"tags":["java","spring-boot","unit-testing","spring-data-jpa"],"owner":{"account_id":6207652,"reputation":693,"user_id":4835062,"accept_rate":75,"display_name":"benz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1494,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645636730,"creation_date":1645632399,"question_id":71240362,"body_markdown":"I am trying to test a method which accessing the database (create/save the report object). Currently I am getting the error below. \r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resourc\r\n\r\nI tried to add the following \r\n@EnableAutoConfiguration(exclude = { DataSourceAutoConfiguration.class })\r\nannotation but without seccuss. How can I test the createReport method in my case?\r\n\r\n**coding:**\r\n\r\n    @RequestMapping(&quot;/api/reports&quot;)\r\n    @RestController\r\n    public class ReportService {\r\n    \t@Autowired\r\n    \tprivate ReportRepository reportRepo;\r\n    \t@Autowired\r\n    \tprivate MonitorSystemRepository monitorSystemRepo;\r\n    \t@Autowired\r\n    \tprivate MonitorRepository monitorRepo;\r\n    \r\n    \r\n    \t\r\n    \t@PostMapping(&quot;create-report&quot;)\r\n    \t@ResponseStatus(HttpStatus.CREATED)\r\n    \tpublic Map&lt;String, Object&gt; createReport(@RequestBody DataBase dataBase) throws UnsupportedEncodingException, JAXBException {\r\n    \t\t\r\n    \t\tMap&lt;String, Object&gt; returnMap = new HashMap&lt;String, Object&gt;();\r\n    \t\t\r\n    \t\tMonitorSytemPK monitorSytemPK = new MonitorSytemPK();\r\n    \t\tMonitor monitor = monitorRepo.findByFunctId(Long.valueOf(functionId));\r\n    \t\tmonitorSytemPK.setMonitor(monitor);\r\n    \t\tMonitorSystem monitorSystem = monitorSystemRepo.findByMonitorSytemPK(monitorSytemPK);\r\n    \t\tif (monitorSystem != null) {\r\n    \t\t\tif (monitorSystem.getSystemId() != 0)\r\n    \t\t\t\treport.setSystemId(monitorSystem.getSystemId());\r\n    \r\n    \t\t\tif (monitorSystem.getMonitorSytemPK().getMonitor() != null)\r\n    \t\t\t\treport.setMonitorTypeId(\r\n    \t\t\t\t\t\tmonitorSystem.getMonitorSytemPK().getMonitor().getFunctionMonitoringTypeId());\r\n    \t\t}\r\n    \r\n    \r\n    \t\treportRepo.save(report);\r\n    \t\t\t\r\n    \t\t\r\n    \t\t\r\n    \t\treturn returnMap;\r\n    \t}\r\n    \r\n     }\r\n     \r\n    @RunWith(SpringRunner.class)\r\n    @DataJpaTest\r\n    @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n    public class ReportServiceTest {\r\n    \r\n    \t@Autowired\r\n    \tprivate ReportService reportService;\r\n    \r\n    \r\n    \t@Test\r\n    \tpublic void createReport() throws Exception {\r\n    \r\n    \t\tDataBase dataBase = new DataBase();\r\n    \t\tdataBase.setFunctionId(2);\r\n    \t\r\n    \t\tMap&lt;String, Object&gt; map = reportService.createReport(dataBase);\r\n    \t\tSystem.out.println(&quot;createReport has been called!&quot;);\r\n    \t\r\n    \t\tReport report = (Report) map.get(&quot;report&quot;);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n**Error:**\r\n\r\n    2022-02-23 16:47:15.022 ERROR 14968 --- [           main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6c25e6c4] to prepare test instance [de.cockpit.services.ReportServiceTest@4b3a45f1]\r\n    \r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132) ~[spring-test-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124) ~[spring-test-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43) ~[spring-boot-test-autoconfigure-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248) ~[spring-test-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-5.3.14.jar:5.3.14]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\r\n    \tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:na]\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658) ~[na:na]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:369) ~[na:na]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n    \tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541) ~[na:na]\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541) ~[na:na]\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n    \tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98) ~[.cp/:na]\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529) ~[.cp/:na]\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756) ~[.cp/:na]\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452) ~[.cp/:na]\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210) ~[.cp/:na]\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:121) ~[spring-boot-test-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-5.3.14.jar:5.3.14]\r\n    \t... 72 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \t... 92 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \t... 106 common frames omitted\r\n    Caused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n    \tat org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:252) ~[spring-boot-autoconfigure-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.initializeDataSourceBuilder(DataSourceProperties.java:193) ~[spring-boot-autoconfigure-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48) ~[spring-boot-autoconfigure-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90) ~[spring-boot-autoconfigure-2.6.2.jar:2.6.2]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \t... 107 common frames omitted\r\n\r\n\r\n\r\n","title":"Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resourc","body":"<p>I am trying to test a method which accessing the database (create/save the report object). Currently I am getting the error below.</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resourc\n</code></pre>\n<p>I tried to add the following\n@EnableAutoConfiguration(exclude = { DataSourceAutoConfiguration.class })\nannotation but without seccuss. How can I test the createReport method in my case?</p>\n<p><strong>coding:</strong></p>\n<pre><code>@RequestMapping(&quot;/api/reports&quot;)\n@RestController\npublic class ReportService {\n    @Autowired\n    private ReportRepository reportRepo;\n    @Autowired\n    private MonitorSystemRepository monitorSystemRepo;\n    @Autowired\n    private MonitorRepository monitorRepo;\n\n\n    \n    @PostMapping(&quot;create-report&quot;)\n    @ResponseStatus(HttpStatus.CREATED)\n    public Map&lt;String, Object&gt; createReport(@RequestBody DataBase dataBase) throws UnsupportedEncodingException, JAXBException {\n        \n        Map&lt;String, Object&gt; returnMap = new HashMap&lt;String, Object&gt;();\n        \n        MonitorSytemPK monitorSytemPK = new MonitorSytemPK();\n        Monitor monitor = monitorRepo.findByFunctId(Long.valueOf(functionId));\n        monitorSytemPK.setMonitor(monitor);\n        MonitorSystem monitorSystem = monitorSystemRepo.findByMonitorSytemPK(monitorSytemPK);\n        if (monitorSystem != null) {\n            if (monitorSystem.getSystemId() != 0)\n                report.setSystemId(monitorSystem.getSystemId());\n\n            if (monitorSystem.getMonitorSytemPK().getMonitor() != null)\n                report.setMonitorTypeId(\n                        monitorSystem.getMonitorSytemPK().getMonitor().getFunctionMonitoringTypeId());\n        }\n\n\n        reportRepo.save(report);\n            \n        \n        \n        return returnMap;\n    }\n\n }\n \n@RunWith(SpringRunner.class)\n@DataJpaTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\npublic class ReportServiceTest {\n\n    @Autowired\n    private ReportService reportService;\n\n\n    @Test\n    public void createReport() throws Exception {\n\n        DataBase dataBase = new DataBase();\n        dataBase.setFunctionId(2);\n    \n        Map&lt;String, Object&gt; map = reportService.createReport(dataBase);\n        System.out.println(&quot;createReport has been called!&quot;);\n    \n        Report report = (Report) map.get(&quot;report&quot;);\n\n    }\n\n}\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>2022-02-23 16:47:15.022 ERROR 14968 --- [           main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6c25e6c4] to prepare test instance [de.cockpit.services.ReportServiceTest@4b3a45f1]\n\njava.lang.IllegalStateException: Failed to load ApplicationContext\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132) ~[spring-test-5.3.14.jar:5.3.14]\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124) ~[spring-test-5.3.14.jar:5.3.14]\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.3.14.jar:5.3.14]\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.3.14.jar:5.3.14]\n    at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43) ~[spring-boot-test-autoconfigure-2.6.2.jar:2.6.2]\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248) ~[spring-test-5.3.14.jar:5.3.14]\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-5.3.14.jar:5.3.14]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:na]\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658) ~[na:na]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at java.base/java.util.Optional.orElseGet(Optional.java:369) ~[na:na]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541) ~[na:na]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541) ~[na:na]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98) ~[.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529) ~[.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756) ~[.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452) ~[.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210) ~[.cp/:na]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.14.jar:5.3.14]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.14.jar:5.3.14]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.14.jar:5.3.14]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:121) ~[spring-boot-test-2.6.2.jar:2.6.2]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.3.14.jar:5.3.14]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-5.3.14.jar:5.3.14]\n    ... 72 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.14.jar:5.3.14]\n    ... 92 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.14.jar:5.3.14]\n    ... 106 common frames omitted\nCaused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:252) ~[spring-boot-autoconfigure-2.6.2.jar:2.6.2]\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.initializeDataSourceBuilder(DataSourceProperties.java:193) ~[spring-boot-autoconfigure-2.6.2.jar:2.6.2]\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48) ~[spring-boot-autoconfigure-2.6.2.jar:2.6.2]\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90) ~[spring-boot-autoconfigure-2.6.2.jar:2.6.2]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.14.jar:5.3.14]\n    ... 107 common frames omitted\n</code></pre>\n"},{"tags":["java","json","serialization","json-deserialization"],"comments":[{"owner":{"account_id":3034219,"reputation":876,"user_id":2572685,"display_name":"Alexander Makarov"},"score":0,"creation_date":1601256530,"post_id":64094786,"comment_id":113340900,"body_markdown":"Is it one time task or you need to do it on periodic basis?","body":"Is it one time task or you need to do it on periodic basis?"},{"owner":{"account_id":1466631,"reputation":283,"user_id":3652852,"accept_rate":60,"display_name":"user1379280"},"score":0,"creation_date":1601257572,"post_id":64094786,"comment_id":113341073,"body_markdown":"@AlexanderMakarov Although i need it regularly , but what is the help for one time task ?","body":"@AlexanderMakarov Although i need it regularly , but what is the help for one time task ?"},{"owner":{"account_id":3034219,"reputation":876,"user_id":2572685,"display_name":"Alexander Makarov"},"score":0,"creation_date":1601258928,"post_id":64094786,"comment_id":113341287,"body_markdown":"if it&#39;s one time task, you may use tools such as Notepad++ to do the replacement; if it&#39;s regular requirement, you may write some automation on java or python","body":"if it&#39;s one time task, you may use tools such as Notepad++ to do the replacement; if it&#39;s regular requirement, you may write some automation on java or python"},{"owner":{"account_id":1466631,"reputation":283,"user_id":3652852,"accept_rate":60,"display_name":"user1379280"},"score":0,"creation_date":1601260728,"post_id":64094786,"comment_id":113341570,"body_markdown":"@AlexanderMakarov : oh that , no , It has be done in the program , not a one time task","body":"@AlexanderMakarov : oh that , no , It has be done in the program , not a one time task"}],"answers":[{"tags":[],"owner":{"account_id":3034219,"reputation":876,"user_id":2572685,"display_name":"Alexander Makarov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601261554,"creation_date":1601261554,"answer_id":64095355,"question_id":64094786,"body_markdown":"There are various ways to approach this task, i.e. implement as simple automation to replace tokens on your behalf that will perform following steps:\r\n\r\n 1. Create a map (Map, HashMap) that will have token - value pairs\r\n 2. Read json via json library; that&#39;s an example how to do it - https://www.baeldung.com/java-org-json\r\n 3. Iterate through json and replace a token via replace method of java string.\r\n\r\nAnother approach is to do a replacement via external tools such as gradle that has a dedicated plugin for that. There are a bunch of plugins that can do that in gradle repository - https://plugins.gradle.org/search?term=token+replacement, for example this one https://github.com/HexoMod-tools/gradle.replace.token.preprocessor.plugin","title":"how to resolve all references for a JSON schema in java","body":"<p>There are various ways to approach this task, i.e. implement as simple automation to replace tokens on your behalf that will perform following steps:</p>\n<ol>\n<li>Create a map (Map, HashMap) that will have token - value pairs</li>\n<li>Read json via json library; that's an example how to do it - <a href=\"https://www.baeldung.com/java-org-json\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-org-json</a></li>\n<li>Iterate through json and replace a token via replace method of java string.</li>\n</ol>\n<p>Another approach is to do a replacement via external tools such as gradle that has a dedicated plugin for that. There are a bunch of plugins that can do that in gradle repository - <a href=\"https://plugins.gradle.org/search?term=token+replacement\" rel=\"nofollow noreferrer\">https://plugins.gradle.org/search?term=token+replacement</a>, for example this one <a href=\"https://github.com/HexoMod-tools/gradle.replace.token.preprocessor.plugin\" rel=\"nofollow noreferrer\">https://github.com/HexoMod-tools/gradle.replace.token.preprocessor.plugin</a></p>\n"},{"tags":[],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645636601,"creation_date":1645636601,"answer_id":71241380,"question_id":64094786,"body_markdown":"Refer: [java-json-tools][1], project.\r\n\r\nThe `com.github.fge.jsonschema.core.load.RefResolver` class seems to have the functionality.\r\nRefer: [javadoc][2]\r\n\r\nI have not tried it yet, so cannot add more information.\r\n\r\n\r\n  [1]: https://github.com/java-json-tools/json-schema-core\r\n  [2]: https://java-json-tools.github.io/json-schema-core/1.2.x/com/github/fge/jsonschema/core/load/RefResolver.html","title":"how to resolve all references for a JSON schema in java","body":"<p>Refer: <a href=\"https://github.com/java-json-tools/json-schema-core\" rel=\"nofollow noreferrer\">java-json-tools</a>, project.</p>\n<p>The <code>com.github.fge.jsonschema.core.load.RefResolver</code> class seems to have the functionality.\nRefer: <a href=\"https://java-json-tools.github.io/json-schema-core/1.2.x/com/github/fge/jsonschema/core/load/RefResolver.html\" rel=\"nofollow noreferrer\">javadoc</a></p>\n<p>I have not tried it yet, so cannot add more information.</p>\n"}],"owner":{"account_id":1466631,"reputation":283,"user_id":3652852,"accept_rate":60,"display_name":"user1379280"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1895,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1645636601,"creation_date":1601255836,"question_id":64094786,"body_markdown":"I have a JSON schema , which has field like\r\n\r\n 1. $schema\r\n 2. $id\r\n 3. $ref\r\n 4. $merge\r\n\r\nex\r\n\r\n    {\r\n      **&quot;$schema&quot;**: &quot;http://json-schema.org/draft-07/schema#&quot;,\r\n      **&quot;$id&quot;**: &quot;./field_name_1.json&quot;,\r\n      &quot;field_name_title&quot;: &quot;some-title&quot;,\r\n      &quot;field_name_2&quot;: &quot;some value&quot;,\r\n      &quot;field_name_3&quot;: {\r\n        &quot;field_name_4&quot;: {\r\n          &quot;field_name_5&quot;: &quot;some value&quot;,\r\n          &quot;field_name_6&quot;: &quot;some value&quot;,\r\n          &quot;field_name_7&quot;: {\r\n            &quot;field_name_8&quot;: {\r\n              &quot;field_name_9&quot;: &quot;some value&quot;,\r\n              **&quot;$ref&quot;**: &quot;/json_file_1.json&quot;\r\n            },\r\n            &quot;field_name_&quot;: {\r\n              **&quot;$ref&quot;**: &quot;/json_file_2.json&quot;\r\n            }\r\n          },\r\n          &quot;field_name_10&quot;: false\r\n        }\r\n      },\r\n      &quot;field_name_11&quot;: &quot;some value&quot;,\r\n      &quot;field_name_12&quot;: &quot;some value&quot;,\r\n      &quot;field_name_13&quot;: {\r\n        &quot;field_name_14&quot;: {\r\n          **&quot;$ref&quot;**: &quot;/json_file_3.json&quot;\r\n        },\r\n        &quot;session_data&quot;: {\r\n          **&quot;$ref&quot;**: &quot;/json_file_4.json&quot;\r\n        },\r\n        &quot;event_payload&quot;: {\r\n          **&quot;$ref&quot;**: &quot;#/field_name_3/field_name_4&quot;\r\n        }\r\n      },\r\n      &quot;field_name_15&quot;: false\r\n    }\r\n\r\nhow to resolve all references in the schema , and make a complete JSON.\r\n\r\nMain goal is to map the resolved schema in to an entity and perform crud operation for schemas","title":"how to resolve all references for a JSON schema in java","body":"<p>I have a JSON schema , which has field like</p>\n<ol>\n<li>$schema</li>\n<li>$id</li>\n<li>$ref</li>\n<li>$merge</li>\n</ol>\n<p>ex</p>\n<pre><code>{\n  **&quot;$schema&quot;**: &quot;http://json-schema.org/draft-07/schema#&quot;,\n  **&quot;$id&quot;**: &quot;./field_name_1.json&quot;,\n  &quot;field_name_title&quot;: &quot;some-title&quot;,\n  &quot;field_name_2&quot;: &quot;some value&quot;,\n  &quot;field_name_3&quot;: {\n    &quot;field_name_4&quot;: {\n      &quot;field_name_5&quot;: &quot;some value&quot;,\n      &quot;field_name_6&quot;: &quot;some value&quot;,\n      &quot;field_name_7&quot;: {\n        &quot;field_name_8&quot;: {\n          &quot;field_name_9&quot;: &quot;some value&quot;,\n          **&quot;$ref&quot;**: &quot;/json_file_1.json&quot;\n        },\n        &quot;field_name_&quot;: {\n          **&quot;$ref&quot;**: &quot;/json_file_2.json&quot;\n        }\n      },\n      &quot;field_name_10&quot;: false\n    }\n  },\n  &quot;field_name_11&quot;: &quot;some value&quot;,\n  &quot;field_name_12&quot;: &quot;some value&quot;,\n  &quot;field_name_13&quot;: {\n    &quot;field_name_14&quot;: {\n      **&quot;$ref&quot;**: &quot;/json_file_3.json&quot;\n    },\n    &quot;session_data&quot;: {\n      **&quot;$ref&quot;**: &quot;/json_file_4.json&quot;\n    },\n    &quot;event_payload&quot;: {\n      **&quot;$ref&quot;**: &quot;#/field_name_3/field_name_4&quot;\n    }\n  },\n  &quot;field_name_15&quot;: false\n}\n</code></pre>\n<p>how to resolve all references in the schema , and make a complete JSON.</p>\n<p>Main goal is to map the resolved schema in to an entity and perform crud operation for schemas</p>\n"},{"tags":["java","spring","spring-boot","logging","logstash"],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645635948,"creation_date":1645635948,"answer_id":71241212,"question_id":71130584,"body_markdown":"You cannot override the `logger` in `CommonsRequestLoggingFilter` because it is final.\r\n\r\nYou have at least two options.\r\n\r\nThe first one is to create a new class that extends `AbstractRequestLoggingFilter` and use it instead of `CommonsRequestLoggingFilter`. In this new class you can do what you wish like :\r\n\r\n        org.slf4j.Logger yourLogger = LoggerFactory.getLogger(&quot;MyRequestLoggingFilter&quot;);\r\n        ...\r\n        @Override\r\n        protected void afterRequest(HttpServletRequest request, String message) {\r\n           yourLogger.debug(message, keyValue(&quot;foo&quot;,&quot;bar&quot;));\r\n        }\r\n\r\nTo continue to use everything as it is you can use `MDC`, to add new key/values to the logger. It is not the same thing, but it will log the values. You can, for example extend `CommonsRequestLoggingFilter` and put the values in MDC, or in each &quot;context&quot; add the values, so the logger will log them.\r\n\r\nExample if extending `CommonsRequestLoggingFilter`:\r\n\r\n    \r\n    \r\n        @Override\r\n        protected void afterRequest(HttpServletRequest request, String message) {\r\n           MDC.put(&quot;orderId&quot;, &quot;123&quot;);\r\n           super.afterRequest(request, message);\r\n           MDC.remove(&quot;orderId&quot;);\r\n        }\r\n\r\n\r\n\r\nIf using JSON logger the aspect will be more or less this one:\r\n\r\n    {\r\n      ...\r\n      &quot;message&quot;: &quot;Some message&quot;,\r\n      ...\r\n      &quot;orderId&quot;: &quot;123&quot;\r\n    }\r\n\r\nThe samples were taken from the next link, where you can also get more details: https://www.innoq.com/en/blog/structured-logging/","title":"CommonsRequestLoggingFilter usage with logstash StructuredArgument","body":"<p>You cannot override the <code>logger</code> in <code>CommonsRequestLoggingFilter</code> because it is final.</p>\n<p>You have at least two options.</p>\n<p>The first one is to create a new class that extends <code>AbstractRequestLoggingFilter</code> and use it instead of <code>CommonsRequestLoggingFilter</code>. In this new class you can do what you wish like :</p>\n<pre><code>    org.slf4j.Logger yourLogger = LoggerFactory.getLogger(&quot;MyRequestLoggingFilter&quot;);\n    ...\n    @Override\n    protected void afterRequest(HttpServletRequest request, String message) {\n       yourLogger.debug(message, keyValue(&quot;foo&quot;,&quot;bar&quot;));\n    }\n</code></pre>\n<p>To continue to use everything as it is you can use <code>MDC</code>, to add new key/values to the logger. It is not the same thing, but it will log the values. You can, for example extend <code>CommonsRequestLoggingFilter</code> and put the values in MDC, or in each &quot;context&quot; add the values, so the logger will log them.</p>\n<p>Example if extending <code>CommonsRequestLoggingFilter</code>:</p>\n<pre><code>    @Override\n    protected void afterRequest(HttpServletRequest request, String message) {\n       MDC.put(&quot;orderId&quot;, &quot;123&quot;);\n       super.afterRequest(request, message);\n       MDC.remove(&quot;orderId&quot;);\n    }\n</code></pre>\n<p>If using JSON logger the aspect will be more or less this one:</p>\n<pre><code>{\n  ...\n  &quot;message&quot;: &quot;Some message&quot;,\n  ...\n  &quot;orderId&quot;: &quot;123&quot;\n}\n</code></pre>\n<p>The samples were taken from the next link, where you can also get more details: <a href=\"https://www.innoq.com/en/blog/structured-logging/\" rel=\"nofollow noreferrer\">https://www.innoq.com/en/blog/structured-logging/</a></p>\n"}],"owner":{"account_id":3589103,"reputation":726,"user_id":2995560,"display_name":"Benoit Cuvelier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71241212,"answer_count":1,"score":2,"last_activity_date":1645635948,"creation_date":1644945077,"question_id":71130584,"body_markdown":"In my SpringBoot app I use CommonsRequestLoggingFilter to log all my incomming requests and it works fine : \r\n\r\n         CommonsRequestLoggingFilter filter = new CommonsRequestLoggingFilter() {\r\n            @Override\r\n            protected boolean shouldLog(HttpServletRequest request) {\r\n            }\r\n\r\n            @Override\r\n            protected void beforeRequest(HttpServletRequest request, String message) {\r\n            }\r\n\r\n            @Override\r\n            protected void afterRequest(HttpServletRequest request, String message) {\r\n                this.logger.debug(message);\r\n            }\r\n        };\r\n\r\nBut to make debugging easier in a Kibana environnement, i would to like to append several information to the core log. At other places in my code I use `StructuredArguments` like this and it works fine : \r\n\r\n    this.logger.debug(message, keyValue(&quot;foo&quot;,&quot;bar&quot;));\r\n\r\nBut inside CommonsRequestLoggingFilter the logger used is org.apache.commons.logging.Log, that is not letting me add any parameter to my log.\r\n\r\nIs there any way to override the logger used in CommonsRequestLoggingFilter ? Or other ideas ?\r\n\r\nThanks a lot","title":"CommonsRequestLoggingFilter usage with logstash StructuredArgument","body":"<p>In my SpringBoot app I use CommonsRequestLoggingFilter to log all my incomming requests and it works fine :</p>\n<pre><code>     CommonsRequestLoggingFilter filter = new CommonsRequestLoggingFilter() {\n        @Override\n        protected boolean shouldLog(HttpServletRequest request) {\n        }\n\n        @Override\n        protected void beforeRequest(HttpServletRequest request, String message) {\n        }\n\n        @Override\n        protected void afterRequest(HttpServletRequest request, String message) {\n            this.logger.debug(message);\n        }\n    };\n</code></pre>\n<p>But to make debugging easier in a Kibana environnement, i would to like to append several information to the core log. At other places in my code I use <code>StructuredArguments</code> like this and it works fine :</p>\n<pre><code>this.logger.debug(message, keyValue(&quot;foo&quot;,&quot;bar&quot;));\n</code></pre>\n<p>But inside CommonsRequestLoggingFilter the logger used is org.apache.commons.logging.Log, that is not letting me add any parameter to my log.</p>\n<p>Is there any way to override the logger used in CommonsRequestLoggingFilter ? Or other ideas ?</p>\n<p>Thanks a lot</p>\n"},{"tags":["java","regex","azure"],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645635823,"creation_date":1645606914,"answer_id":71233995,"question_id":71233702,"body_markdown":"**Solution 1**\r\n\r\nYou can use a single pattern for this, but you will need to check which group matched in the code to determine where the necessary details are captured.\r\n\r\nThe regex will look like\r\n```none\r\nabfss?://(?:([^@/]*)@(\\d{1,3}(?:\\.\\d{1,3}){3}:\\d+)/([^/]+)|([^/]+)@([^.]+)(\\.[^/]+))(?:/(.+))?\r\n```\r\nSee the [regex demo][1]. The `([^@/]*)@(\\d{1,3}(?:\\.\\d{1,3}){3}:\\d+)/([^/]+)` alternative allows capturing the file system, the IP address like part (with port number) after `@`, and the account name after a slash.\r\n\r\nThe [Java code][2] will look like\r\n```java\r\nimport java.util.*;\r\nimport java.util.regex.*;\r\n\r\nclass Test\r\n{\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\tPattern pattern = Pattern.compile(&quot;abfss?://(?:([^@/]*)@(\\\\d{1,3}(?:\\\\.\\\\d{1,3}){3}:\\\\d+)/([^/]+)|([^/]+)@([^.]+)(\\\\.[^/]+))(?:/(.+))?&quot;);\r\n\t\tString[] inputs = {\r\n\t\t    &quot;abfs://storage@myaccount.dfs.core.windows.net/selim/test.csv&quot;,\r\n\t\t    &quot;abfs://storage@127.0.0.1:10000/devstoreaccount1/selim/test.csv&quot;\r\n\t\t};\r\n\t\tfor (String s: inputs) {\r\n\t\t\tMatcher matcher = pattern.matcher(s);\r\n\t\t\tif (matcher.find()){\r\n\t\t\t\tif (matcher.group(5) != null) { // If original URL is found\r\n\t\t\t        String fileSystem = matcher.group(4); //storage\r\n\t\t\t        String accountName = matcher.group(5); //myaccount\r\n\t\t\t        String accountSuffix = matcher.group(6); //.dfs.core.windows.net\r\n\t\t\t        String relativePath = matcher.group(7); //selim/test.csv\r\n\t\t\t        System.out.println(s + &quot;:\\nfileSystem: &quot; + fileSystem + &quot;\\naccountName: &quot; + accountName + &quot;\\naccountSuffix: &#39;&quot; + accountSuffix + &quot;&#39;\\nrelativePath:&quot; + relativePath + &quot;\\n-----&quot;);\r\n\t\t\t\t} else { // we have an Azurite URL\r\n\t\t\t        String fileSystem = matcher.group(1); //storage\r\n\t\t\t        String accountName = matcher.group(3); //devstoreaccount1\r\n\t\t\t        String accountSuffix = &quot;&quot;; // empty (or do you need matcher.group(2) to get &quot;127.0.0.1:10000&quot;?)\r\n\t\t\t        String relativePath = matcher.group(7); //selim/test.csv\r\n\t\t\t        System.out.println(s + &quot;:\\nfileSystem: &quot; + fileSystem + &quot;\\naccountName: &quot; + accountName + &quot;\\naccountSuffix: &#39;&quot; + accountSuffix + &quot;&#39;\\nrelativePath:&quot; + relativePath + &quot;\\n-----&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nOutput:\r\n```none\r\nabfs://storage@myaccount.dfs.core.windows.net/selim/test.csv:\r\nfileSystem: storage\r\naccountName: myaccount\r\naccountSuffix: &#39;.dfs.core.windows.net&#39;\r\nrelativePath:selim/test.csv\r\n-----\r\nabfs://storage@127.0.0.1:10000/devstoreaccount1/selim/test.csv:\r\nfileSystem: storage\r\naccountName: devstoreaccount1\r\naccountSuffix: &#39;&#39;\r\nrelativePath:selim/test.csv\r\n```\r\n**Solution 2**\r\n\r\nYou can use two different regular expressions and if the first one does not find a match, the second will be tried. The first one:\r\n```none\r\nabfss?://([^@/]*)@(\\d{1,3}(?:\\.\\d{1,3}){3}:\\d+)/([^/]+)(?:/(.+))?\r\n```\r\nSee [this regex demo](https://regex101.com/r/KfRaNe/3). The second one:\r\n```none\r\nabfss?://([^/]+)@([^.]+)(\\.[^/]+)(?:/(.+))?\r\n```\r\nSee [this regex demo](https://regex101.com/r/KfRaNe/4). As this one also matches URLs of the first type, you need to make sure you run them in the fixed order.\r\n\r\nSee the [Java demo][3]:\r\n```java\r\nimport java.util.*;\r\nimport java.util.regex.*;\r\n\r\nclass Test\r\n{\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\tPattern pattern_azurite = Pattern.compile(&quot;abfss?://([^@/]*)@(\\\\d{1,3}(?:\\\\.\\\\d{1,3}){3}:\\\\d+)/([^/]+)(?:/(.+))?&quot;);\r\n\t\tPattern pattern_original = Pattern.compile(&quot;abfss?://([^/]+)@([^.]+)(\\\\.[^/]+)(?:/(.+))?&quot;);\r\n\t\tString[] inputs = {\r\n\t\t    &quot;abfs://storage@myaccount.dfs.core.windows.net/selim/test.csv&quot;,\r\n\t\t    &quot;abfs://storage@127.0.0.1:10000/devstoreaccount1/selim/test.csv&quot;,\r\n\t\t    &quot;http://www.blahblah.blah&quot;\r\n\t\t};\r\n\t\tfor (String s: inputs) {\r\n\t\t\tMap&lt;String, String&gt; result = null;\r\n\t\t\tMatcher matcher_azurite = pattern_azurite.matcher(s);\r\n\t\t\tif (matcher_azurite.find()){\r\n\t\t\t\tresult = parseMatchResult(matcher_azurite, new int[] {1, 3, -1, 4});\r\n\t\t\t} else {\r\n\t\t\t\tMatcher matcher_original = pattern_original.matcher(s);\r\n\t\t\t\tif (matcher_original.find()){\r\n\t\t\t\t\tresult = parseMatchResult(matcher_original, new int[] {1, 2, 3, 4});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (result != null) {                        // Now print\r\n\t\t\t\tfor (String key : result.keySet()) {\r\n\t\t\t        System.out.println(&quot;&#39;&quot; + key + &quot;&#39;: &#39;&quot; + result.get(key) + &quot;&#39;&quot;);\r\n\t\t\t    }\r\n\t\t\t    System.out.println(&quot;----------------&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;No match!&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\tpublic static Map&lt;String, String&gt; parseMatchResult(Matcher m, int[] indices) {\r\n\t\tMap&lt;String, String&gt; res = new HashMap&lt;String, String&gt;();\r\n\t    res.put(&quot;fileSystem&quot;, m.group(indices[0]));\r\n\t    res.put(&quot;accountName&quot;, m.group(indices[1]));\r\n\t    res.put(&quot;accountSuffix&quot;, indices[2] &gt; -1 ? m.group(indices[2]) : &quot;&quot;);\r\n\t    res.put(&quot;relativePath&quot;, m.group(indices[3]));\r\n\t    return res;\r\n\t}\r\n}\r\n```\r\nOutput:\r\n```none\r\n&#39;fileSystem&#39;: &#39;storage&#39;\r\n&#39;accountSuffix&#39;: &#39;.dfs.core.windows.net&#39;\r\n&#39;accountName&#39;: &#39;myaccount&#39;\r\n&#39;relativePath&#39;: &#39;selim/test.csv&#39;\r\n----------------\r\n&#39;fileSystem&#39;: &#39;storage&#39;\r\n&#39;accountSuffix&#39;: &#39;&#39;\r\n&#39;accountName&#39;: &#39;devstoreaccount1&#39;\r\n&#39;relativePath&#39;: &#39;selim/test.csv&#39;\r\n----------------\r\nNo match!\r\n```\r\n\r\n\r\n  [1]: https://regex101.com/r/KfRaNe/2\r\n  [2]: https://ideone.com/AMa1yM\r\n  [3]: https://ideone.com/tdHzQE","title":"Regex to parse Azure Data Lake Storage Gen2 URI for production and testing with Azurite","body":"<p><strong>Solution 1</strong></p>\n<p>You can use a single pattern for this, but you will need to check which group matched in the code to determine where the necessary details are captured.</p>\n<p>The regex will look like</p>\n<pre class=\"lang-none prettyprint-override\"><code>abfss?://(?:([^@/]*)@(\\d{1,3}(?:\\.\\d{1,3}){3}:\\d+)/([^/]+)|([^/]+)@([^.]+)(\\.[^/]+))(?:/(.+))?\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/KfRaNe/2\" rel=\"nofollow noreferrer\">regex demo</a>. The <code>([^@/]*)@(\\d{1,3}(?:\\.\\d{1,3}){3}:\\d+)/([^/]+)</code> alternative allows capturing the file system, the IP address like part (with port number) after <code>@</code>, and the account name after a slash.</p>\n<p>The <a href=\"https://ideone.com/AMa1yM\" rel=\"nofollow noreferrer\">Java code</a> will look like</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.regex.*;\n\nclass Test\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        Pattern pattern = Pattern.compile(&quot;abfss?://(?:([^@/]*)@(\\\\d{1,3}(?:\\\\.\\\\d{1,3}){3}:\\\\d+)/([^/]+)|([^/]+)@([^.]+)(\\\\.[^/]+))(?:/(.+))?&quot;);\n        String[] inputs = {\n            &quot;abfs://storage@myaccount.dfs.core.windows.net/selim/test.csv&quot;,\n            &quot;abfs://storage@127.0.0.1:10000/devstoreaccount1/selim/test.csv&quot;\n        };\n        for (String s: inputs) {\n            Matcher matcher = pattern.matcher(s);\n            if (matcher.find()){\n                if (matcher.group(5) != null) { // If original URL is found\n                    String fileSystem = matcher.group(4); //storage\n                    String accountName = matcher.group(5); //myaccount\n                    String accountSuffix = matcher.group(6); //.dfs.core.windows.net\n                    String relativePath = matcher.group(7); //selim/test.csv\n                    System.out.println(s + &quot;:\\nfileSystem: &quot; + fileSystem + &quot;\\naccountName: &quot; + accountName + &quot;\\naccountSuffix: '&quot; + accountSuffix + &quot;'\\nrelativePath:&quot; + relativePath + &quot;\\n-----&quot;);\n                } else { // we have an Azurite URL\n                    String fileSystem = matcher.group(1); //storage\n                    String accountName = matcher.group(3); //devstoreaccount1\n                    String accountSuffix = &quot;&quot;; // empty (or do you need matcher.group(2) to get &quot;127.0.0.1:10000&quot;?)\n                    String relativePath = matcher.group(7); //selim/test.csv\n                    System.out.println(s + &quot;:\\nfileSystem: &quot; + fileSystem + &quot;\\naccountName: &quot; + accountName + &quot;\\naccountSuffix: '&quot; + accountSuffix + &quot;'\\nrelativePath:&quot; + relativePath + &quot;\\n-----&quot;);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>abfs://storage@myaccount.dfs.core.windows.net/selim/test.csv:\nfileSystem: storage\naccountName: myaccount\naccountSuffix: '.dfs.core.windows.net'\nrelativePath:selim/test.csv\n-----\nabfs://storage@127.0.0.1:10000/devstoreaccount1/selim/test.csv:\nfileSystem: storage\naccountName: devstoreaccount1\naccountSuffix: ''\nrelativePath:selim/test.csv\n</code></pre>\n<p><strong>Solution 2</strong></p>\n<p>You can use two different regular expressions and if the first one does not find a match, the second will be tried. The first one:</p>\n<pre class=\"lang-none prettyprint-override\"><code>abfss?://([^@/]*)@(\\d{1,3}(?:\\.\\d{1,3}){3}:\\d+)/([^/]+)(?:/(.+))?\n</code></pre>\n<p>See <a href=\"https://regex101.com/r/KfRaNe/3\" rel=\"nofollow noreferrer\">this regex demo</a>. The second one:</p>\n<pre class=\"lang-none prettyprint-override\"><code>abfss?://([^/]+)@([^.]+)(\\.[^/]+)(?:/(.+))?\n</code></pre>\n<p>See <a href=\"https://regex101.com/r/KfRaNe/4\" rel=\"nofollow noreferrer\">this regex demo</a>. As this one also matches URLs of the first type, you need to make sure you run them in the fixed order.</p>\n<p>See the <a href=\"https://ideone.com/tdHzQE\" rel=\"nofollow noreferrer\">Java demo</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.regex.*;\n\nclass Test\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        Pattern pattern_azurite = Pattern.compile(&quot;abfss?://([^@/]*)@(\\\\d{1,3}(?:\\\\.\\\\d{1,3}){3}:\\\\d+)/([^/]+)(?:/(.+))?&quot;);\n        Pattern pattern_original = Pattern.compile(&quot;abfss?://([^/]+)@([^.]+)(\\\\.[^/]+)(?:/(.+))?&quot;);\n        String[] inputs = {\n            &quot;abfs://storage@myaccount.dfs.core.windows.net/selim/test.csv&quot;,\n            &quot;abfs://storage@127.0.0.1:10000/devstoreaccount1/selim/test.csv&quot;,\n            &quot;http://www.blahblah.blah&quot;\n        };\n        for (String s: inputs) {\n            Map&lt;String, String&gt; result = null;\n            Matcher matcher_azurite = pattern_azurite.matcher(s);\n            if (matcher_azurite.find()){\n                result = parseMatchResult(matcher_azurite, new int[] {1, 3, -1, 4});\n            } else {\n                Matcher matcher_original = pattern_original.matcher(s);\n                if (matcher_original.find()){\n                    result = parseMatchResult(matcher_original, new int[] {1, 2, 3, 4});\n                }\n            }\n            if (result != null) {                        // Now print\n                for (String key : result.keySet()) {\n                    System.out.println(&quot;'&quot; + key + &quot;': '&quot; + result.get(key) + &quot;'&quot;);\n                }\n                System.out.println(&quot;----------------&quot;);\n            } else {\n                System.out.println(&quot;No match!&quot;);\n            }\n            \n        }\n    }\n    public static Map&lt;String, String&gt; parseMatchResult(Matcher m, int[] indices) {\n        Map&lt;String, String&gt; res = new HashMap&lt;String, String&gt;();\n        res.put(&quot;fileSystem&quot;, m.group(indices[0]));\n        res.put(&quot;accountName&quot;, m.group(indices[1]));\n        res.put(&quot;accountSuffix&quot;, indices[2] &gt; -1 ? m.group(indices[2]) : &quot;&quot;);\n        res.put(&quot;relativePath&quot;, m.group(indices[3]));\n        return res;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>'fileSystem': 'storage'\n'accountSuffix': '.dfs.core.windows.net'\n'accountName': 'myaccount'\n'relativePath': 'selim/test.csv'\n----------------\n'fileSystem': 'storage'\n'accountSuffix': ''\n'accountName': 'devstoreaccount1'\n'relativePath': 'selim/test.csv'\n----------------\nNo match!\n</code></pre>\n"}],"owner":{"account_id":12139477,"reputation":752,"user_id":8863925,"display_name":"Selim Alawwa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71233995,"answer_count":1,"score":3,"last_activity_date":1645635823,"creation_date":1645605587,"question_id":71233702,"body_markdown":"In my Java application I am using Azure Data Lake Storage Gen2 for storage ([ABFS][1]).\r\nIn the class that handles the requests to the filesystem, I get a file path as an input and then use some regex to extract Azure connection info from it.\r\n\r\nThe [Azure Data Lake Storage Gen2 URI][2] is in the following format:\r\n\r\n    abfs[s]://&lt;file_system&gt;@&lt;account_name&gt;.dfs.core.windows.net/&lt;path&gt;/&lt;file_name&gt;\r\n\r\nI use the following regex `abfss?://([^/]+)@([^\\\\.]+)(\\\\.[^/]+)/?((.+)?)` to parse a given file path to extract:\r\n\r\n - fileSystem\r\n - accountName\r\n - accountSuffix\r\n - relativePath (path + file_name)\r\n\r\nBelow is just a test Java code with comments stating result/value in each variable after matching.\r\n\r\n    private void parsePath(String path) {\r\n        //path = abfs://storage@myaccount.dfs.core.windows.net/selim/test.csv\r\n        Pattern azurePathPattern = Pattern.compile(&quot;abfss?://([^/]+)@([^\\\\.]+)(\\\\.[^/]+)/?((.+)?)&quot;);\r\n        Matcher matcher = azurePathPattern.matcher(path);\r\n        if (matcher.find()) {\r\n            String fileSystem = matcher.group(1); //storage\r\n            String accountName = matcher.group(2); //myaccount\r\n            String accountSuffix = matcher.group(3); //.dfs.core.windows.net\r\n            //relativePath is &lt;path&gt;/&lt;file_name&gt;\r\n            String relativePath = matcher.group(4); //selim/test.csv\r\n        }\r\n    }\r\n\r\nThe problem is when I decided to use [Azurite][3] which is an Azure Storage API compatible server (emulator) that allow me to run unit tests against this emulator instead of against an actual Azure Server as recommended in the Microsoft [documentation][4].\r\n\r\nAzurite uses a different file URI than Azure so this makes my above Regex invalid for testing purposes. Azurite file URI is in the following format:\r\n\r\n    abfs[s]://&lt;file_system&gt;@&lt;local_ip&gt;:&lt;local_port&gt;/&lt;account_name&gt;/&lt;path&gt;/&lt;file_name&gt;\r\n\r\nAzurite default `account_name` is **devstoreaccount1** so here is an example path for a file on Azurite: \r\n\r\n    abfs://storage@127.0.0.1:10000/devstoreaccount1/selim/test.csv\r\n\r\nIf parsed by above regex this will be the output, causing incorrect api calls to Azurite server:\r\n\r\n - fileSystem: storage (correct)\r\n - accountName: 127 (incorrect, should be: **devstoreaccount1**)\r\n - accountSuffix: .0.0.1:10000 (incorrect, should be **empty string**)\r\n - relativePath: devstoreaccount1/selim/test.csv (incorrect, should be **selim/test.csv**)\r\n\r\nIs it possible to have a 1 regex that can handle both URIs or 2 regexes to solve this issue\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/storage/blobs/data-lake-storage-abfs-driver\r\n  [2]: https://learn.microsoft.com/en-us/azure/storage/blobs/data-lake-storage-introduction-abfs-uri\r\n  [3]: https://github.com/Azure/Azurite\r\n  [4]: https://learn.microsoft.com/en-us/azure/storage/common/storage-use-azurite?tabs=visual-studio","title":"Regex to parse Azure Data Lake Storage Gen2 URI for production and testing with Azurite","body":"<p>In my Java application I am using Azure Data Lake Storage Gen2 for storage (<a href=\"https://learn.microsoft.com/en-us/azure/storage/blobs/data-lake-storage-abfs-driver\" rel=\"nofollow noreferrer\">ABFS</a>).\nIn the class that handles the requests to the filesystem, I get a file path as an input and then use some regex to extract Azure connection info from it.</p>\n<p>The <a href=\"https://learn.microsoft.com/en-us/azure/storage/blobs/data-lake-storage-introduction-abfs-uri\" rel=\"nofollow noreferrer\">Azure Data Lake Storage Gen2 URI</a> is in the following format:</p>\n<pre><code>abfs[s]://&lt;file_system&gt;@&lt;account_name&gt;.dfs.core.windows.net/&lt;path&gt;/&lt;file_name&gt;\n</code></pre>\n<p>I use the following regex <code>abfss?://([^/]+)@([^\\\\.]+)(\\\\.[^/]+)/?((.+)?)</code> to parse a given file path to extract:</p>\n<ul>\n<li>fileSystem</li>\n<li>accountName</li>\n<li>accountSuffix</li>\n<li>relativePath (path + file_name)</li>\n</ul>\n<p>Below is just a test Java code with comments stating result/value in each variable after matching.</p>\n<pre><code>private void parsePath(String path) {\n    //path = abfs://storage@myaccount.dfs.core.windows.net/selim/test.csv\n    Pattern azurePathPattern = Pattern.compile(&quot;abfss?://([^/]+)@([^\\\\.]+)(\\\\.[^/]+)/?((.+)?)&quot;);\n    Matcher matcher = azurePathPattern.matcher(path);\n    if (matcher.find()) {\n        String fileSystem = matcher.group(1); //storage\n        String accountName = matcher.group(2); //myaccount\n        String accountSuffix = matcher.group(3); //.dfs.core.windows.net\n        //relativePath is &lt;path&gt;/&lt;file_name&gt;\n        String relativePath = matcher.group(4); //selim/test.csv\n    }\n}\n</code></pre>\n<p>The problem is when I decided to use <a href=\"https://github.com/Azure/Azurite\" rel=\"nofollow noreferrer\">Azurite</a> which is an Azure Storage API compatible server (emulator) that allow me to run unit tests against this emulator instead of against an actual Azure Server as recommended in the Microsoft <a href=\"https://learn.microsoft.com/en-us/azure/storage/common/storage-use-azurite?tabs=visual-studio\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>Azurite uses a different file URI than Azure so this makes my above Regex invalid for testing purposes. Azurite file URI is in the following format:</p>\n<pre><code>abfs[s]://&lt;file_system&gt;@&lt;local_ip&gt;:&lt;local_port&gt;/&lt;account_name&gt;/&lt;path&gt;/&lt;file_name&gt;\n</code></pre>\n<p>Azurite default <code>account_name</code> is <strong>devstoreaccount1</strong> so here is an example path for a file on Azurite:</p>\n<pre><code>abfs://storage@127.0.0.1:10000/devstoreaccount1/selim/test.csv\n</code></pre>\n<p>If parsed by above regex this will be the output, causing incorrect api calls to Azurite server:</p>\n<ul>\n<li>fileSystem: storage (correct)</li>\n<li>accountName: 127 (incorrect, should be: <strong>devstoreaccount1</strong>)</li>\n<li>accountSuffix: .0.0.1:10000 (incorrect, should be <strong>empty string</strong>)</li>\n<li>relativePath: devstoreaccount1/selim/test.csv (incorrect, should be <strong>selim/test.csv</strong>)</li>\n</ul>\n<p>Is it possible to have a 1 regex that can handle both URIs or 2 regexes to solve this issue</p>\n"},{"tags":["java","json","selenium-webdriver","jira-rest-api","jira-xray"],"comments":[{"owner":{"account_id":3396772,"reputation":1874,"user_id":2850180,"display_name":"S&#233;rgio"},"score":0,"creation_date":1645695829,"post_id":71239716,"comment_id":125942281,"body_markdown":"If the provided answer helped, can I kindly ask you to mark as correct? thanks in advance :)","body":"If the provided answer helped, can I kindly ask you to mark as correct? thanks in advance :)"}],"answers":[{"tags":[],"owner":{"account_id":3396772,"reputation":1874,"user_id":2850180,"display_name":"S&#233;rgio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645635701,"creation_date":1645635254,"answer_id":71241043,"question_id":71239716,"body_markdown":"Actually, the response is an array of JSON objects. Therefore you cannot parse it as JSON object.\r\nYou&#39;ll need to use the JSONArray class instead.\r\nExample:\r\n\r\n        String raw = &quot;[{\\&quot;id\\&quot;:100806,\\&quot;status\\&quot;:\\&quot;TODO\\&quot;,\\&quot;key\\&quot;:\\&quot;ST_MABC-1234\\&quot;,\\&quot;rank\\&quot;:1} ]&quot;;\r\n    \tSystem.out.println(raw);\r\n    \tJSONArray arr = new JSONArray(raw);\r\n    \tSystem.out.println( ((JSONObject)(arr.get(0))).get(&quot;id&quot;));","title":"JIRA Xray- Not a JSON Object error while making Rest API call to get Execution details","body":"<p>Actually, the response is an array of JSON objects. Therefore you cannot parse it as JSON object.\nYou'll need to use the JSONArray class instead.\nExample:</p>\n<pre><code>    String raw = &quot;[{\\&quot;id\\&quot;:100806,\\&quot;status\\&quot;:\\&quot;TODO\\&quot;,\\&quot;key\\&quot;:\\&quot;ST_MABC-1234\\&quot;,\\&quot;rank\\&quot;:1} ]&quot;;\n    System.out.println(raw);\n    JSONArray arr = new JSONArray(raw);\n    System.out.println( ((JSONObject)(arr.get(0))).get(&quot;id&quot;));\n</code></pre>\n"}],"owner":{"account_id":6987615,"reputation":69,"user_id":5357916,"accept_rate":0,"display_name":"Devkant Krishnatrey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71241043,"answer_count":1,"score":0,"last_activity_date":1645635701,"creation_date":1645629944,"question_id":71239716,"body_markdown":"Please help\r\nI am trying to fetch all tests associated with Execution in JIRA XRAY\r\n\r\nI am getting java.lang.IllegalStateException: Not a JSON Object error at step mentioned in last below(element.getAsJsonObject();)\r\n\r\n \r\n\r\n    String urlString=baseServerURL+&quot;/rest/raven/latest/api/testexec/&quot;+executionCycleKey+&quot;/test&quot;;\r\n        \t\t\tSystem.out.println(urlString);\r\n        \t\t\tHttpURLConnection con = getConnection(urlString, &quot;GET&quot;);\r\n        \t\t\tBufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n        \t\t\tString inputLine;\r\n        \t\t\tStringBuffer content = new StringBuffer();\r\n        \t\t\twhile ((inputLine = in.readLine()) != null) {\r\n        \t\t\t\tSystem.out.println(inputLine.toString());\r\n        \t\t\t\tcontent.append(inputLine);\r\n        \t\t\t}\r\n        \t\t\tin.close();\r\n        \t\t\tcon.disconnect();\r\n        \t\t\tGson g = new Gson();\r\n        \t\t\tJsonElement element = g.fromJson(content.toString(), JsonElement.class);\r\n        \t\t\tJsonObject jsonObj = element.getAsJsonObject();\r\n\r\n\r\nNote: inputLine prints as [{&quot;id&quot;:100806,&quot;status&quot;:&quot;TODO&quot;,&quot;key&quot;:&quot;ST_MABC-1234&quot;,&quot;rank&quot;:1}]","title":"JIRA Xray- Not a JSON Object error while making Rest API call to get Execution details","body":"<p>Please help\nI am trying to fetch all tests associated with Execution in JIRA XRAY</p>\n<p>I am getting java.lang.IllegalStateException: Not a JSON Object error at step mentioned in last below(element.getAsJsonObject();)</p>\n<pre><code>String urlString=baseServerURL+&quot;/rest/raven/latest/api/testexec/&quot;+executionCycleKey+&quot;/test&quot;;\n                System.out.println(urlString);\n                HttpURLConnection con = getConnection(urlString, &quot;GET&quot;);\n                BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n                String inputLine;\n                StringBuffer content = new StringBuffer();\n                while ((inputLine = in.readLine()) != null) {\n                    System.out.println(inputLine.toString());\n                    content.append(inputLine);\n                }\n                in.close();\n                con.disconnect();\n                Gson g = new Gson();\n                JsonElement element = g.fromJson(content.toString(), JsonElement.class);\n                JsonObject jsonObj = element.getAsJsonObject();\n</code></pre>\n<p>Note: inputLine prints as [{&quot;id&quot;:100806,&quot;status&quot;:&quot;TODO&quot;,&quot;key&quot;:&quot;ST_MABC-1234&quot;,&quot;rank&quot;:1}]</p>\n"},{"tags":["java","oracle"],"comments":[{"owner":{"account_id":18240753,"reputation":1164,"user_id":13277819,"display_name":"Pankaj Saini"},"score":1,"creation_date":1645676494,"post_id":71241152,"comment_id":125937403,"body_markdown":"Can you be more specific? What is the csv file format? What DDL you want to generate?","body":"Can you be more specific? What is the csv file format? What DDL you want to generate?"},{"owner":{"account_id":24356293,"reputation":1,"user_id":18291403,"display_name":"Syed"},"score":0,"creation_date":1645684373,"post_id":71241152,"comment_id":125938835,"body_markdown":"I have metadata CSV file I need to add this metadata into new database schema using java code i am unable to create the logic could you please help me","body":"I have metadata CSV file I need to add this metadata into new database schema using java code i am unable to create the logic could you please help me"},{"owner":{"account_id":7551181,"reputation":3744,"user_id":5732537,"display_name":"EdStevens"},"score":0,"creation_date":1645713612,"post_id":71241152,"comment_id":125948940,"body_markdown":"Can _you_ write code when you no nothing about the inputs or outputs?","body":"Can <i>you</i> write code when you no nothing about the inputs or outputs?"}],"owner":{"account_id":24356293,"reputation":1,"user_id":18291403,"display_name":"Syed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645635687,"creation_date":1645635687,"question_id":71241152,"body_markdown":"I need logic how to read CSV file and generate ddl command into database using java\r\n","title":"Import CSV file and generate ddl command into database using java","body":"<p>I need logic how to read CSV file and generate ddl command into database using java</p>\n"},{"tags":["java","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1645634264,"post_id":71239075,"comment_id":125926143,"body_markdown":"Between what versions are you attempting to upgrade? Also, where&#39;s that `record` reference defined?","body":"Between what versions are you attempting to upgrade? Also, where&#39;s that <code>record</code> reference defined?"},{"owner":{"account_id":2382240,"reputation":31,"user_id":3018172,"display_name":"user3018172"},"score":0,"creation_date":1645634610,"post_id":71239075,"comment_id":125926297,"body_markdown":"updating from java 8 to the latest java 17, so updated to the latest jooq 3.16, the record reference is being defined further up in the class containing this method, it&#39;s just a jooq Record object.","body":"updating from java 8 to the latest java 17, so updated to the latest jooq 3.16, the record reference is being defined further up in the class containing this method, it&#39;s just a jooq Record object."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1645634819,"post_id":71239075,"comment_id":125926382,"body_markdown":"OK, but what version are you updating *from*, and can you please show the exact type specification? I&#39;m assuming some raw types are involved, but I can&#39;t guess that...","body":"OK, but what version are you updating <i>from</i>, and can you please show the exact type specification? I&#39;m assuming some raw types are involved, but I can&#39;t guess that..."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1645635135,"post_id":71239075,"comment_id":125926533,"body_markdown":"I think the error is referring to the generic returned by `table.field(col)`  is not applicable for the set method.","body":"I think the error is referring to the generic returned by <code>table.field(col)</code>  is not applicable for the set method."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645635334,"creation_date":1645635334,"answer_id":71241067,"question_id":71239075,"body_markdown":"In order to answer why things used to work and no longer do, I&#39;ll need more info (see comments). You probably changed something else as well, including removed some raw type cast, etc.\r\n\r\nBut they aren&#39;t supposed to work. Look at the [`Record.set(Field&lt;T&gt;, T)`][1] and [`Fields.field(String)`][2] methods. The latter returns `Field&lt;?&gt;` with a wildcard. You can&#39;t just pass `Field&lt;?&gt;` and `boolean` to the `Record::set` method, the `T` types must match.\r\n\r\nHere&#39;s are possible workarounds for that particular call:\r\n\r\n```java\r\n// Using raw types\r\nrecord.set((Field) table.field(col), true);\r\n\r\n// Using unsafe casts\r\nrecord.set((Field&lt;Boolean&gt;) table.field(col), true);\r\n```\r\n\r\nI can&#39;t remember a jOOQ version where this wasn&#39;t required...\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Record.html#set(org.jooq.Field,T)\r\n  [2]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Fields.html#field(java.lang.String)","title":"Can no longer set &quot;annonymous&quot; record fields","body":"<p>In order to answer why things used to work and no longer do, I'll need more info (see comments). You probably changed something else as well, including removed some raw type cast, etc.</p>\n<p>But they aren't supposed to work. Look at the <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Record.html#set(org.jooq.Field,T)\" rel=\"nofollow noreferrer\"><code>Record.set(Field&lt;T&gt;, T)</code></a> and <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Fields.html#field(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Fields.field(String)</code></a> methods. The latter returns <code>Field&lt;?&gt;</code> with a wildcard. You can't just pass <code>Field&lt;?&gt;</code> and <code>boolean</code> to the <code>Record::set</code> method, the <code>T</code> types must match.</p>\n<p>Here's are possible workarounds for that particular call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Using raw types\nrecord.set((Field) table.field(col), true);\n\n// Using unsafe casts\nrecord.set((Field&lt;Boolean&gt;) table.field(col), true);\n</code></pre>\n<p>I can't remember a jOOQ version where this wasn't required...</p>\n"}],"owner":{"account_id":2382240,"reputation":31,"user_id":3018172,"display_name":"user3018172"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71241067,"answer_count":1,"score":1,"last_activity_date":1645635334,"creation_date":1645627624,"question_id":71239075,"body_markdown":"After updating Java and JOOQ a previously working function seems to run into a type casting error, specifically the lines record.set/with(or any version of setting a column) ...\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public void set_col_value(String col, String val, int options) {\r\n            final boolean optional = (options &amp; Optional_Value) != 0;\r\n            if (val == null) {\r\n                if (optional) {\r\n                    return;\r\n                }\r\n                throw new RuntimeException(&quot;missing value: &quot; + val);\r\n            }\r\n            final boolean as_bool = (options &amp; As_Boolean) != 0;\r\n            if (as_bool) {\r\n                if (val.equals(&quot;true&quot;)) {\r\n                    record.set(table.field(col), true);\r\n                } else if (val.equals(&quot;false&quot;)) {\r\n                    record.with(table.field(col), false);\r\n                } else {\r\n                    throw new RuntimeException(&quot;bad boolean value: &quot; + val);\r\n                }\r\n            } else {\r\n                record.with(table.field(col), val);\r\n            }\r\n        }\r\n\r\nthey give this error\r\n\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n        error: no suitable method found for set(Field&lt;CAP#1&gt;,boolean)\r\n                        record.set(table.field(col), true);\r\n        method Record.&lt;T#1&gt;set(Field&lt;T#1&gt;,T#1) is not applicable\r\n          (inference variable T#1 has incompatible bounds\r\n            equality constraints: CAP#2\r\n            lower bounds: Boolean)\r\n        method Record.&lt;T#2,U&gt;set(Field&lt;T#2&gt;,U,Converter&lt;? extends T#2,? super U&gt;) is not applicable\r\n          (cannot infer type-variable(s) T#2,U\r\n            (actual and formal argument lists differ in length))\r\n      where T#1,T#2,U are type-variables:\r\n        T#1 extends Object declared in method &lt;T#1&gt;set(Field&lt;T#1&gt;,T#1)\r\n        T#2 extends Object declared in method &lt;T#2,U&gt;set(Field&lt;T#2&gt;,U,Converter&lt;? extends T#2,? super U&gt;)U extends Object declared in method &lt;T#2,U&gt;set(Field&lt;T#2&gt;,U,Converter&lt;? extends T#2,? super U&gt;)\r\n      where CAP#1,CAP#2 are fresh type-variables:\r\n        CAP#1 extends Object from capture of ?\r\n        CAP#2 extends Object from capture of ?\r\n\r\n\r\n\r\n","title":"Can no longer set &quot;annonymous&quot; record fields","body":"<p>After updating Java and JOOQ a previously working function seems to run into a type casting error, specifically the lines record.set/with(or any version of setting a column) ...</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void set_col_value(String col, String val, int options) {\n        final boolean optional = (options &amp; Optional_Value) != 0;\n        if (val == null) {\n            if (optional) {\n                return;\n            }\n            throw new RuntimeException(&quot;missing value: &quot; + val);\n        }\n        final boolean as_bool = (options &amp; As_Boolean) != 0;\n        if (as_bool) {\n            if (val.equals(&quot;true&quot;)) {\n                record.set(table.field(col), true);\n            } else if (val.equals(&quot;false&quot;)) {\n                record.with(table.field(col), false);\n            } else {\n                throw new RuntimeException(&quot;bad boolean value: &quot; + val);\n            }\n        } else {\n            record.with(table.field(col), val);\n        }\n    }\n</code></pre>\n<p>they give this error</p>\n<pre class=\"lang-none prettyprint-override\"><code>    error: no suitable method found for set(Field&lt;CAP#1&gt;,boolean)\n                    record.set(table.field(col), true);\n    method Record.&lt;T#1&gt;set(Field&lt;T#1&gt;,T#1) is not applicable\n      (inference variable T#1 has incompatible bounds\n        equality constraints: CAP#2\n        lower bounds: Boolean)\n    method Record.&lt;T#2,U&gt;set(Field&lt;T#2&gt;,U,Converter&lt;? extends T#2,? super U&gt;) is not applicable\n      (cannot infer type-variable(s) T#2,U\n        (actual and formal argument lists differ in length))\n  where T#1,T#2,U are type-variables:\n    T#1 extends Object declared in method &lt;T#1&gt;set(Field&lt;T#1&gt;,T#1)\n    T#2 extends Object declared in method &lt;T#2,U&gt;set(Field&lt;T#2&gt;,U,Converter&lt;? extends T#2,? super U&gt;)U extends Object declared in method &lt;T#2,U&gt;set(Field&lt;T#2&gt;,U,Converter&lt;? extends T#2,? super U&gt;)\n  where CAP#1,CAP#2 are fresh type-variables:\n    CAP#1 extends Object from capture of ?\n    CAP#2 extends Object from capture of ?\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","pageobjects","page-factory"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1645639675,"post_id":71240314,"comment_id":125928520,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645635167,"creation_date":1645635167,"answer_id":71241020,"question_id":71240314,"body_markdown":"In the _`pageBase`_ pageobject as you are casting the [WebDriver](https://stackoverflow.com/a/48080871/7429447) instance you need to remove the keywords:\r\n\r\n- _public_\r\n- _static_\r\n\r\nEffectively, instead of:\r\n\r\n\tpublic static WebDriver driver;\r\n\r\nyour line of code will be:\r\n\r\n\tWebDriver driver;\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\nReferences\r\n----------\r\nYou can find a couple of relevant detailed discussions in:\r\n\r\n- [How to wait for invisibility of an element through PageFactory using Selenium and Java](https://stackoverflow.com/a/54670978/7429447)","title":"How to handle alert message within PageObjects","body":"<p>In the <em><code>pageBase</code></em> pageobject as you are casting the <a href=\"https://stackoverflow.com/a/48080871/7429447\">WebDriver</a> instance you need to remove the keywords:</p>\n<ul>\n<li><em>public</em></li>\n<li><em>static</em></li>\n</ul>\n<p>Effectively, instead of:</p>\n<pre><code>public static WebDriver driver;\n</code></pre>\n<p>your line of code will be:</p>\n<pre><code>WebDriver driver;\n</code></pre>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant detailed discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/54670978/7429447\">How to wait for invisibility of an element through PageFactory using Selenium and Java</a></li>\n</ul>\n"}],"owner":{"account_id":24355561,"reputation":1,"user_id":18290806,"display_name":"Mohamed hakim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645635167,"creation_date":1645632223,"question_id":71240314,"body_markdown":"Code trials:\r\n\r\n    package Pages;\r\n    import org.openqa.selenium.Alert;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.support.PageFactory;\r\n    import org.openqa.selenium.support.ui.Select;\r\n    public class pageBase {\r\n    \tpublic static WebDriver driver;\r\n    \t\r\n    \tpublic pageBase(WebDriver driver) {\r\n    \t\tPageFactory.initElements(driver, this);\r\n    \t}\r\n    \tpublic static void AcceptAlert() {\r\n    \t\tAlert alert = driver.switchTo().alert();\r\n    \t\talert.accept();\r\n    \t}\r\n    }\r\n\r\nTest page:\r\n    \t\r\n    public void SignUp(String user_name,String password) throws InterruptedException {\r\n    \tSet_UserName(user_name);\r\n    \tSet_Password(password);\r\n    \tclick_SignupBtn();\r\n    \tThread.sleep(3000);\r\n    \tAcceptAlert();\r\n    }\r\n    \r\nError:\r\n```    \t\r\njava.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.switchTo()&quot; because &quot;Pages.pageBase.driver&quot; is null\r\n```\r\n","title":"How to handle alert message within PageObjects","body":"<p>Code trials:</p>\n<pre><code>package Pages;\nimport org.openqa.selenium.Alert;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.PageFactory;\nimport org.openqa.selenium.support.ui.Select;\npublic class pageBase {\n    public static WebDriver driver;\n    \n    public pageBase(WebDriver driver) {\n        PageFactory.initElements(driver, this);\n    }\n    public static void AcceptAlert() {\n        Alert alert = driver.switchTo().alert();\n        alert.accept();\n    }\n}\n</code></pre>\n<p>Test page:</p>\n<pre><code>public void SignUp(String user_name,String password) throws InterruptedException {\n    Set_UserName(user_name);\n    Set_Password(password);\n    click_SignupBtn();\n    Thread.sleep(3000);\n    AcceptAlert();\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.switchTo()&quot; because &quot;Pages.pageBase.driver&quot; is null\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8427,"page":1565,"page_size":100}
