{"items":[{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"display_name":"user6490462"},"score":0,"creation_date":1508783930,"post_id":46896112,"comment_id":80739627,"body_markdown":"If i understand you correctly, you may have to cancel the request you start in `onStop` or `onPause` .","body":"If i understand you correctly, you may have to cancel the request you start in <code>onStop</code> or <code>onPause</code> ."},{"owner":{"account_id":7512762,"reputation":1553,"user_id":5707212,"display_name":"Dmitri Borohhov"},"score":0,"creation_date":1508785112,"post_id":46896112,"comment_id":80740292,"body_markdown":"Not really. I added some code to illustrate.","body":"Not really. I added some code to illustrate."},{"owner":{"account_id":1541213,"reputation":1526,"user_id":2489403,"display_name":"amrro"},"score":0,"creation_date":1508786484,"post_id":46896112,"comment_id":80741036,"body_markdown":"You could use `EventListener` and implement it with some custom class, and trigger what you want with `onEvent()`","body":"You could use <code>EventListener</code> and implement it with some custom class, and trigger what you want with <code>onEvent()</code>"},{"owner":{"account_id":7512762,"reputation":1553,"user_id":5707212,"display_name":"Dmitri Borohhov"},"score":0,"creation_date":1508831715,"post_id":46896112,"comment_id":80756773,"body_markdown":"EventListener will tringger an asyncronous operation, I am specifically asking if there is any way to avoid that.","body":"EventListener will tringger an asyncronous operation, I am specifically asking if there is any way to avoid that."}],"answers":[{"comments":[{"owner":{"account_id":1541213,"reputation":1526,"user_id":2489403,"display_name":"amrro"},"score":1,"creation_date":1509443568,"post_id":47021042,"comment_id":81011142,"body_markdown":"I missed that, thanks. \nSince my answer is not related anymore, I deleted it.","body":"I missed that, thanks.  Since my answer is not related anymore, I deleted it."}],"tags":[],"owner":{"account_id":18367,"reputation":1449,"user_id":42037,"display_name":"Dutch Masters"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1509385460,"creation_date":1509384557,"answer_id":47021042,"question_id":46896112,"body_markdown":"You can synchronously load data, because a `DocumentReference.get()` returns a `Task`.\r\nSo you can just wait on that task. \r\n\r\nIf I do something like:\r\n\r\n        val task: Task&lt;DocumentSnapshot&gt; = docRef.get()\r\n\r\nthen I can wait for it to complete by doing \r\n\r\n    val snap: DocumentSnapshot = Tasks.await(task)\r\n\r\nThis is useful when piplining other operations together after the get() with continuations which may take a little while:\r\n\r\n\r\n val task: Task&lt;DocumentSnapshot&gt; = docRef.get().continueWith(executor, continuation)\r\n\r\nAbove, I am running a continuation on a separate executor, and I can wait for it all to complete with `Tasks.await(task)`.\r\n\r\nSee [https://developers.google.com/android/guides/tasks][1]\r\n\r\nNote: You can&#39;t call Tasks.await() on your main thread. The Tasks API specifically checks for this condition and will throw an exception.\r\n\r\nThere is another way to run synchronously, using transactions.\r\nSee [this question.][2]\r\n\r\n\r\n  [1]: https://developers.google.com/android/guides/tasks\r\n  [2]: https://stackoverflow.com/questions/46634746/firestore-runtransaction-and-offline-work","title":"Firebase Firestore retrieve data Synchronously/without callbacks","body":"<p>You can synchronously load data, because a <code>DocumentReference.get()</code> returns a <code>Task</code>.\nSo you can just wait on that task. </p>\n\n<p>If I do something like:</p>\n\n<pre><code>    val task: Task&lt;DocumentSnapshot&gt; = docRef.get()\n</code></pre>\n\n<p>then I can wait for it to complete by doing </p>\n\n<pre><code>val snap: DocumentSnapshot = Tasks.await(task)\n</code></pre>\n\n<p>This is useful when piplining other operations together after the get() with continuations which may take a little while:</p>\n\n<p>val task: Task = docRef.get().continueWith(executor, continuation)</p>\n\n<p>Above, I am running a continuation on a separate executor, and I can wait for it all to complete with <code>Tasks.await(task)</code>.</p>\n\n<p>See <a href=\"https://developers.google.com/android/guides/tasks\" rel=\"noreferrer\">https://developers.google.com/android/guides/tasks</a></p>\n\n<p>Note: You can't call Tasks.await() on your main thread. The Tasks API specifically checks for this condition and will throw an exception.</p>\n\n<p>There is another way to run synchronously, using transactions.\nSee <a href=\"https://stackoverflow.com/questions/46634746/firestore-runtransaction-and-offline-work\">this question.</a></p>\n"},{"comments":[{"owner":{"account_id":6713397,"reputation":139,"user_id":5176003,"accept_rate":100,"display_name":"Adam R. Turner"},"score":0,"creation_date":1536239841,"post_id":50509775,"comment_id":91359099,"body_markdown":"I tested this yesterday but it didn&#39;t halt code execution or make it synchronous.","body":"I tested this yesterday but it didn&#39;t halt code execution or make it synchronous."}],"tags":[],"owner":{"account_id":4442210,"reputation":5,"user_id":3616506,"display_name":"GN Reddy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527166271,"creation_date":1527165730,"answer_id":50509775,"question_id":46896112,"body_markdown":"Your can do something like this on the **main thread**...\r\n\r\n\r\n    YourObject yourObject = (YourObject)new RunInBackground().\r\n                              execute(&quot;someCollection&quot;,&quot;someDocument&quot;).get()\r\n\r\nAnd the **background thread** is...\r\n\r\n    public class RunInBackground extends AsyncTask {\r\n\r\n      @Override\r\n      protected Object doInBackground(Object[] objects) {\r\n        \r\n        Task&lt;DocumentSnapshot&gt; documentSnapshotTask = FirebaseFirestore.getInstance().\r\n                 collection((String) objects[0]).document((String) objects[1]).get();\r\n        \r\n        YourObject obj=null;\r\n\r\n        try {\r\n            DocumentSnapshot documentSnapshot = Tasks.await(documentSnapshotTask);\r\n\r\n            obj = new YourObject();\r\n            obj.setter(documentSnapshot.get(&quot;your field&quot;));\r\n\r\n        } catch (ExecutionException e) {\r\n            e.printStackTrace();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return obj;\r\n      }\r\n    }","title":"Firebase Firestore retrieve data Synchronously/without callbacks","body":"<p>Your can do something like this on the <strong>main thread</strong>...</p>\n\n<pre><code>YourObject yourObject = (YourObject)new RunInBackground().\n                          execute(\"someCollection\",\"someDocument\").get()\n</code></pre>\n\n<p>And the <strong>background thread</strong> is...</p>\n\n<pre><code>public class RunInBackground extends AsyncTask {\n\n  @Override\n  protected Object doInBackground(Object[] objects) {\n\n    Task&lt;DocumentSnapshot&gt; documentSnapshotTask = FirebaseFirestore.getInstance().\n             collection((String) objects[0]).document((String) objects[1]).get();\n\n    YourObject obj=null;\n\n    try {\n        DocumentSnapshot documentSnapshot = Tasks.await(documentSnapshotTask);\n\n        obj = new YourObject();\n        obj.setter(documentSnapshot.get(\"your field\"));\n\n    } catch (ExecutionException e) {\n        e.printStackTrace();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n\n    return obj;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10038794,"reputation":802,"user_id":8229399,"display_name":"philoopher97"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670613154,"creation_date":1670601140,"answer_id":74745383,"question_id":46896112,"body_markdown":"If you are using Kotlin, add an extension function:\r\n\r\n```kotlin\r\nprivate suspend fun &lt;TResult&gt; Task&lt;TResult&gt;.await(): TResult? {\r\n   return try {\r\n       Tasks.await(this)\r\n   } catch (e: Exception) {\r\n       null\r\n   }\r\n}\r\n```\r\n\r\nNow you can do\r\n```kotlin\r\nval snapshot = fireStore.collection(USER_ROOT_PATH).document(documentPath)?.get()?.await()\r\n```","title":"Firebase Firestore retrieve data Synchronously/without callbacks","body":"<p>If you are using Kotlin, add an extension function:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private suspend fun &lt;TResult&gt; Task&lt;TResult&gt;.await(): TResult? {\n   return try {\n       Tasks.await(this)\n   } catch (e: Exception) {\n       null\n   }\n}\n</code></pre>\n<p>Now you can do</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val snapshot = fireStore.collection(USER_ROOT_PATH).document(documentPath)?.get()?.await()\n</code></pre>\n"}],"owner":{"account_id":7512762,"reputation":1553,"user_id":5707212,"display_name":"Dmitri Borohhov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11361,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":47021042,"answer_count":3,"score":16,"last_activity_date":1670613154,"creation_date":1508783291,"question_id":46896112,"body_markdown":"I am using Cloud Firestore in a separate thread in my Android app, so I don&#39;t want to use listeners `OnSuccessListener` and `OnFailureListener` to run in yet another thread. Can I just make my thread wait for the result (and catch any exceptions if needed)?\r\n\r\nCurrently the code for querying is something like this:\r\n\r\n    FirebaseFirestore.getInstance().collection(&quot;someCollection&quot;).get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n        @Override\r\n        public void onSuccess(QuerySnapshot documentSnapshots) {\r\n             // do something on the UI thread with the retrieved data\r\n             }\r\n        });\r\n\r\nWhat I&#39;d like to have:\r\n\r\n    FirebaseFirestore.getInstance().collection(&quot;someCollection&quot;).getAndWaitForResult();\r\n    //Block the thread and wait for result, no callbacks. \r\n    //getAndWaitForResult() is not a real function, just something to describe my intention.\r\n\r\nI used to work with Parse Server before, and it was quite trivial there.\r\n","title":"Firebase Firestore retrieve data Synchronously/without callbacks","body":"<p>I am using Cloud Firestore in a separate thread in my Android app, so I don't want to use listeners <code>OnSuccessListener</code> and <code>OnFailureListener</code> to run in yet another thread. Can I just make my thread wait for the result (and catch any exceptions if needed)?</p>\n\n<p>Currently the code for querying is something like this:</p>\n\n<pre><code>FirebaseFirestore.getInstance().collection(\"someCollection\").get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n    @Override\n    public void onSuccess(QuerySnapshot documentSnapshots) {\n         // do something on the UI thread with the retrieved data\n         }\n    });\n</code></pre>\n\n<p>What I'd like to have:</p>\n\n<pre><code>FirebaseFirestore.getInstance().collection(\"someCollection\").getAndWaitForResult();\n//Block the thread and wait for result, no callbacks. \n//getAndWaitForResult() is not a real function, just something to describe my intention.\n</code></pre>\n\n<p>I used to work with Parse Server before, and it was quite trivial there.</p>\n"},{"tags":["java","selenium-webdriver","page-factory"],"owner":{"account_id":26488734,"reputation":1,"user_id":20126885,"display_name":"JH DR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":867,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670612805,"creation_date":1665125588,"question_id":73983444,"body_markdown":"Help I don&#39;t know what is wrong with my code\r\n\r\n**Displayed Error**\r\n\r\n```\r\nFAILED: test.RegistrationForUserAccount.RegisterUser\r\njava.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null\r\n```\r\n\r\n\r\n```\r\npublic class BrowserStartAndLandSite {\r\n\t\r\n\tpublic static WebDriver driver;\r\n\t\r\n\tpublic WebDriver StartBrowserWithSite() throws IOException {\r\n\t\t\r\n\t\tProperties obj = new Properties();\r\n\t\tFileInputStream objfile = new FileInputStream(System.getProperty(&quot;user.dir&quot;)+&quot;\\\\src\\\\main\\\\java\\\\resources\\\\browser.properties&quot;);\r\n\t\tobj.load(objfile);\r\n\t\tString browser = obj.getProperty(&quot;browser_name&quot;);\r\n\t\tString url = obj.getProperty(&quot;urlOfSite&quot;);\r\n\t\t\r\n\t\tif(browser.equalsIgnoreCase(&quot;chrome&quot;)) {\r\n\t\t\tWebDriverManager.chromedriver().setup();\r\n\t\t\tdriver = new ChromeDriver();\r\n\t\t\tdriver.get(url);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\telse if(browser.equalsIgnoreCase(&quot;firefox&quot;)) {\r\n\t\t\tWebDriverManager.firefoxdriver().setup();\r\n\t\t\tdriver = new FirefoxDriver();\r\n\t\t\tdriver.get(url);\r\n\t\t}\r\n\t\t\r\n\t\telse if(browser.equalsIgnoreCase(&quot;edge&quot;)) {\r\n\t\t\tWebDriverManager.edgedriver().setup();\r\n\t\t\tdriver = new EdgeDriver();\r\n\t\t\tdriver.get(url);\r\n\t\t}\r\n\t\t\r\n\t\treturn driver;\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\npublic class LandingSite {\r\n\t\r\n\tWebDriver driver;\r\n\t\r\n\tpublic LandingSite(WebDriver driver) {\r\n\t\tthis.driver = driver;\r\n\t\tPageFactory.initElements(driver, this);\r\n\t}\r\n\t\r\n\t@FindBy(xpath=&quot;//a[@class=&#39;login&#39;]&quot;)\r\n\tWebElement signInButton;\r\n\t\r\n\t\r\n\tpublic void ClickSignIn() {\r\n\t\tsignInButton.click();\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\npublic class RegistrationForUserAccount extends BrowserStartAndLandSite {\r\n\t\r\n\t@Test\r\n\tpublic void RegisterUser() throws IOException {\r\n\t\t\r\n\t\t\r\n\t\tLandingSite ls = new LandingSite(driver);\r\n\t\tls.ClickSignIn();\r\n\t}\r\n\r\n}\r\n```","title":"java.lang.NullPointerException: Cannot invoke&quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot;because&quot;this.searchContext&quot;is null","body":"<p>Help I don't know what is wrong with my code</p>\n<p><strong>Displayed Error</strong></p>\n<pre><code>FAILED: test.RegistrationForUserAccount.RegisterUser\njava.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null\n</code></pre>\n<pre><code>public class BrowserStartAndLandSite {\n    \n    public static WebDriver driver;\n    \n    public WebDriver StartBrowserWithSite() throws IOException {\n        \n        Properties obj = new Properties();\n        FileInputStream objfile = new FileInputStream(System.getProperty(&quot;user.dir&quot;)+&quot;\\\\src\\\\main\\\\java\\\\resources\\\\browser.properties&quot;);\n        obj.load(objfile);\n        String browser = obj.getProperty(&quot;browser_name&quot;);\n        String url = obj.getProperty(&quot;urlOfSite&quot;);\n        \n        if(browser.equalsIgnoreCase(&quot;chrome&quot;)) {\n            WebDriverManager.chromedriver().setup();\n            driver = new ChromeDriver();\n            driver.get(url);\n        }\n        \n        \n        else if(browser.equalsIgnoreCase(&quot;firefox&quot;)) {\n            WebDriverManager.firefoxdriver().setup();\n            driver = new FirefoxDriver();\n            driver.get(url);\n        }\n        \n        else if(browser.equalsIgnoreCase(&quot;edge&quot;)) {\n            WebDriverManager.edgedriver().setup();\n            driver = new EdgeDriver();\n            driver.get(url);\n        }\n        \n        return driver;\n    }\n\n}\n\n\n\npublic class LandingSite {\n    \n    WebDriver driver;\n    \n    public LandingSite(WebDriver driver) {\n        this.driver = driver;\n        PageFactory.initElements(driver, this);\n    }\n    \n    @FindBy(xpath=&quot;//a[@class='login']&quot;)\n    WebElement signInButton;\n    \n    \n    public void ClickSignIn() {\n        signInButton.click();\n    }\n\n}\n\n\n\n\n\npublic class RegistrationForUserAccount extends BrowserStartAndLandSite {\n    \n    @Test\n    public void RegisterUser() throws IOException {\n        \n        \n        LandingSite ls = new LandingSite(driver);\n        ls.ClickSignIn();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","python","arrays"],"comments":[{"owner":{"account_id":8415,"reputation":41343,"user_id":15154,"accept_rate":88,"display_name":"John Fouhy"},"score":0,"creation_date":1233707567,"post_id":508657,"comment_id":323858,"body_markdown":"Incidentally, you can get floating point infinity in python as `float(&#39;inf&#39;)`.  It behaves more-or-less as you would expect – most operations just give you inf, and a few give you nan.","body":"Incidentally, you can get floating point infinity in python as <code>float(&#39;inf&#39;)</code>.  It behaves more-or-less as you would expect – most operations just give you inf, and a few give you nan."},{"owner":{"account_id":11975,"reputation":1033912,"user_id":23354,"accept_rate":100,"display_name":"Marc Gravell"},"score":0,"creation_date":1259238147,"post_id":508657,"comment_id":1691505,"body_markdown":"(merged with an earlier question; kept this as the master as a: the OP still exists, b: the question is better-phrased, and c: to avoid lots of necromancers)","body":"(merged with an earlier question; kept this as the master as a: the OP still exists, b: the question is better-phrased, and c: to avoid lots of necromancers)"}],"answers":[{"comments":[{"owner":{"display_name":"doekman"},"score":0,"creation_date":1225778050,"post_id":261008,"comment_id":118428,"body_markdown":"Can I initialize it a given number of rows and columns like in C?","body":"Can I initialize it a given number of rows and columns like in C?"},{"owner":{"account_id":4350,"reputation":84002,"user_id":6491,"display_name":"gimel"},"score":0,"creation_date":1225778570,"post_id":261008,"comment_id":118440,"body_markdown":"Mutable objects (e.g. list) can change - so initialization is not always relevant. In numpy, an Array has a Shape (dimensions) that can be modified without changing the data.","body":"Mutable objects (e.g. list) can change - so initialization is not always relevant. In numpy, an Array has a Shape (dimensions) that can be modified without changing the data."},{"owner":{"account_id":6358,"reputation":386102,"user_id":10661,"accept_rate":91,"display_name":"S.Lott"},"score":1,"creation_date":1225801001,"post_id":261008,"comment_id":118824,"body_markdown":"@Popper: Yes.  zeros( (3,4) ) will create a 3x4 array of zeros.","body":"@Popper: Yes.  zeros( (3,4) ) will create a 3x4 array of zeros."}],"tags":[],"owner":{"account_id":4350,"reputation":84002,"user_id":6491,"display_name":"gimel"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670612494,"creation_date":1225777679,"answer_id":261008,"question_id":508657,"body_markdown":"For numeric data, [Numpy Arrays][1]:\r\n\r\n    &gt;&gt;&gt; matrix1 = array(([0,1],[1,3]))\r\n    &gt;&gt;&gt; print matrix1\r\n    [[0 1]\r\n    [1 3]]\r\n\r\nFor general data (e.g. strings), you can use a list of lists, list of tuples, ...\r\n\r\n    matrix2 = [[&#39;a&#39;,&#39;b&#39;], [&#39;x&#39;,&#39;y&#39;]]\r\n\r\n  [1]: https://numpy.org/","title":"Multidimensional array in Python","body":"<p>For numeric data, <a href=\"https://numpy.org/\" rel=\"nofollow noreferrer\">Numpy Arrays</a>:</p>\n<pre><code>&gt;&gt;&gt; matrix1 = array(([0,1],[1,3]))\n&gt;&gt;&gt; print matrix1\n[[0 1]\n[1 3]]\n</code></pre>\n<p>For general data (e.g. strings), you can use a list of lists, list of tuples, ...</p>\n<pre><code>matrix2 = [['a','b'], ['x','y']]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3021,"reputation":403278,"user_id":4279,"accept_rate":94,"display_name":"jfs"},"score":0,"creation_date":1254254005,"post_id":261084,"comment_id":1346824,"body_markdown":"There is no need to use tuple. `numpy.empty([1])` works as well.","body":"There is no need to use tuple. <code>numpy.empty([1])</code> works as well."},{"owner":{"account_id":3021,"reputation":403278,"user_id":4279,"accept_rate":94,"display_name":"jfs"},"score":0,"creation_date":1254254454,"post_id":261084,"comment_id":1346851,"body_markdown":"The simple &quot;random&quot; number generator: `noise = lambda: numpy.empty([1])[0]`","body":"The simple &quot;random&quot; number generator: <code>noise = lambda: numpy.empty([1])[0]</code>"},{"owner":{"account_id":1597,"reputation":107426,"user_id":2140,"accept_rate":81,"display_name":"Barry Wark"},"score":0,"creation_date":1254255521,"post_id":261084,"comment_id":1346937,"body_markdown":"True, any iterable (list, tuple, etc.) works as the dimensions argument. Your &quot;random&quot; number generator relies on the uninitialized memory being &quot;random&quot; and should *never* be used as a source of randomness for anything that maters (e.g. cryptography).","body":"True, any iterable (list, tuple, etc.) works as the dimensions argument. Your &quot;random&quot; number generator relies on the uninitialized memory being &quot;random&quot; and should <i>never</i> be used as a source of randomness for anything that maters (e.g. cryptography)."},{"owner":{"account_id":3021,"reputation":403278,"user_id":4279,"accept_rate":94,"display_name":"jfs"},"score":0,"creation_date":1254361712,"post_id":261084,"comment_id":1354424,"body_markdown":"@Barry: True, that&#39;s why I&#39;ve put quotes around `random`","body":"@Barry: True, that&#39;s why I&#39;ve put quotes around <code>random</code>"},{"owner":{"account_id":1597,"reputation":107426,"user_id":2140,"accept_rate":81,"display_name":"Barry Wark"},"score":0,"creation_date":1254414286,"post_id":261084,"comment_id":1358192,"body_markdown":"@JFSebastian: I&#39;m sure you know the difference. Just wanted to make sure the Google did too, for posterity and all that.","body":"@JFSebastian: I&#39;m sure you know the difference. Just wanted to make sure the Google did too, for posterity and all that."},{"owner":{"account_id":3021,"reputation":403278,"user_id":4279,"accept_rate":94,"display_name":"jfs"},"score":0,"creation_date":1254860228,"post_id":261084,"comment_id":1383343,"body_markdown":"@Barry: For posterity it should be noted that `numpy.empty()` expects a sequence as the first argument (not just any iterable).","body":"@Barry: For posterity it should be noted that <code>numpy.empty()</code> expects a sequence as the first argument (not just any iterable)."}],"tags":[],"owner":{"account_id":1597,"reputation":107426,"user_id":2140,"accept_rate":81,"display_name":"Barry Wark"},"comment_count":6,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1670612496,"creation_date":1225780670,"answer_id":261084,"question_id":508657,"body_markdown":"If you restrict yourself to the Python standard library, then a list of lists is the closest construct:\r\n\r\n    arr = [[1,2],[3,4]]\r\n\r\ngives a 2d-like array. The rows can be accessed as `arr[i]` for `i` in `{0,..,len(arr}`, but column access is difficult.\r\n\r\nIf you are willing to add a library dependency, the [NumPy][1] package is what you really want. You can create a fixed-length array from a list of lists using:\r\n\r\n    import numpy\r\n    arr = numpy.array([[1,2],[3,4]])\r\n\r\nColumn access is the same as for the list-of-lists, but column access is easy: `arr[:,i]` for `i` in `{0,..,arr.shape[1]}` (the number of columns).\r\n\r\nIn fact NumPy arrays can be n-dimensional.\r\n\r\nEmpty arrays can be created with\r\n   \r\n\r\n    numpy.empty(shape)\r\n\r\nwhere `shape` is a tuple of size in each dimension; `shape=(1,3,2)` gives a 3-d array with size 1 in the first dimension, size 3 in the second dimension and 2 in the 3rd dimension.\r\n\r\nIf you want to store objects in a NumPy array, you can do that as well:\r\n\r\n  \r\n\r\n     arr = numpy.empty((1,), dtype=numpy.object)\r\n     arr[0] = &#39;abc&#39;\r\n\r\nFor more info on the NumPy project, check out the [NumPy homepage][2].\r\n\r\n\r\n  [1]: https://numpy.org\r\n  [2]: https://numpy.org","title":"Multidimensional array in Python","body":"<p>If you restrict yourself to the Python standard library, then a list of lists is the closest construct:</p>\n<pre><code>arr = [[1,2],[3,4]]\n</code></pre>\n<p>gives a 2d-like array. The rows can be accessed as <code>arr[i]</code> for <code>i</code> in <code>{0,..,len(arr}</code>, but column access is difficult.</p>\n<p>If you are willing to add a library dependency, the <a href=\"https://numpy.org\" rel=\"nofollow noreferrer\">NumPy</a> package is what you really want. You can create a fixed-length array from a list of lists using:</p>\n<pre><code>import numpy\narr = numpy.array([[1,2],[3,4]])\n</code></pre>\n<p>Column access is the same as for the list-of-lists, but column access is easy: <code>arr[:,i]</code> for <code>i</code> in <code>{0,..,arr.shape[1]}</code> (the number of columns).</p>\n<p>In fact NumPy arrays can be n-dimensional.</p>\n<p>Empty arrays can be created with</p>\n<pre><code>numpy.empty(shape)\n</code></pre>\n<p>where <code>shape</code> is a tuple of size in each dimension; <code>shape=(1,3,2)</code> gives a 3-d array with size 1 in the first dimension, size 3 in the second dimension and 2 in the 3rd dimension.</p>\n<p>If you want to store objects in a NumPy array, you can do that as well:</p>\n<pre><code> arr = numpy.empty((1,), dtype=numpy.object)\n arr[0] = 'abc'\n</code></pre>\n<p>For more info on the NumPy project, check out the <a href=\"https://numpy.org\" rel=\"nofollow noreferrer\">NumPy homepage</a>.</p>\n"},{"comments":[{"owner":{"account_id":3021,"reputation":403278,"user_id":4279,"accept_rate":94,"display_name":"jfs"},"score":4,"creation_date":1254253725,"post_id":261340,"comment_id":1346798,"body_markdown":"I&#39;d rather use: `[[0]*cols for _ in xrange(rows)]`","body":"I&#39;d rather use: <code>[[0]*cols for _ in xrange(rows)]</code>"},{"owner":{"account_id":4530,"reputation":16848,"user_id":6848,"accept_rate":80,"display_name":"Deestan"},"score":0,"creation_date":1330338293,"post_id":261340,"comment_id":11973180,"body_markdown":"@J.F.Sebastian Ya me too, really.  I just found the symmetry appealing at the time of writing this. :-)","body":"@J.F.Sebastian Ya me too, really.  I just found the symmetry appealing at the time of writing this. :-)"},{"owner":{"account_id":6227,"reputation":34861,"user_id":10396,"accept_rate":76,"display_name":"AShelly"},"score":0,"creation_date":1428371584,"post_id":261340,"comment_id":47125410,"body_markdown":"plus1 for the gotcha.","body":"plus1 for the gotcha."}],"tags":[],"owner":{"account_id":4530,"reputation":16848,"user_id":6848,"accept_rate":80,"display_name":"Deestan"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1225791630,"creation_date":1225791265,"answer_id":261340,"question_id":508657,"body_markdown":"To create a standard python array of arrays of arbitrary size:\r\n\r\n    a = [[0]*cols for _ in [0]*rows]\r\n\r\nIt is accessed like this:\r\n\r\n    a[0][1] = 5 # set cell at row 0, col 1 to 5\r\n\r\nA small python gotcha that&#39;s worth mentioning:  It is tempting to just type\r\n\r\n    a = [[0]*cols]*rows\r\n\r\nbut that&#39;ll copy the *same* column array to each row, resulting in unwanted behaviour.  Namely:\r\n\r\n    &gt;&gt;&gt; a[0][0] = 5\r\n    &gt;&gt;&gt; print a[1][0]\r\n    5\r\n\r\n","title":"Multidimensional array in Python","body":"<p>To create a standard python array of arrays of arbitrary size:</p>\n\n<pre><code>a = [[0]*cols for _ in [0]*rows]\n</code></pre>\n\n<p>It is accessed like this:</p>\n\n<pre><code>a[0][1] = 5 # set cell at row 0, col 1 to 5\n</code></pre>\n\n<p>A small python gotcha that's worth mentioning:  It is tempting to just type</p>\n\n<pre><code>a = [[0]*cols]*rows\n</code></pre>\n\n<p>but that'll copy the <em>same</em> column array to each row, resulting in unwanted behaviour.  Namely:</p>\n\n<pre><code>&gt;&gt;&gt; a[0][0] = 5\n&gt;&gt;&gt; print a[1][0]\n5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6358,"reputation":386102,"user_id":10661,"accept_rate":91,"display_name":"S.Lott"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1225800240,"creation_date":1225800240,"answer_id":261656,"question_id":508657,"body_markdown":"Multidimensional arrays are a little murky.  There are few reasons for using them and many reasons for thinking twice and using something else that more properly reflects what you&#39;re doing.  [Hint. your question was thin on context ;-) ]\r\n\r\nIf you&#39;re doing matrix math, then use `numpy`.\r\n\r\nHowever, some folks have worked with languages that force them to use multi-dimensional arrays because it&#39;s all they&#39;ve got.  If your as old as I am (I started programming in the 70&#39;s) then you may remember the days when multidimensional arrays were the only data structure you had.  Or, your experience may have limited you to languages where you had to morph your problem into multi-dimensional arrays.\r\n\r\nSay you have a collection *n* 3D points.  Each point has an x, y, z, and time value.  Is this an *n* x 4 array?  Or a 4 * *n* array?  Not really.  \r\n\r\nSince each point has 4 fixed values, this is more properly a list of tuples.\r\n\r\n    a = [ ( x, y, z, t ), ( x, y, z, t ), ... ]\r\n\r\nBetter still, we could represent this as a list of objects.\r\n\r\n    class Point( object ):\r\n        def __init__( self, x, y, z, t ):\r\n            self.x, self.y, self.z, self.t = x, y, z, t\r\n\r\n    a = [ Point(x,y,x,t), Point(x,y,z,t), ... ]\r\n","title":"Multidimensional array in Python","body":"<p>Multidimensional arrays are a little murky.  There are few reasons for using them and many reasons for thinking twice and using something else that more properly reflects what you're doing.  [Hint. your question was thin on context ;-) ]</p>\n\n<p>If you're doing matrix math, then use <code>numpy</code>.</p>\n\n<p>However, some folks have worked with languages that force them to use multi-dimensional arrays because it's all they've got.  If your as old as I am (I started programming in the 70's) then you may remember the days when multidimensional arrays were the only data structure you had.  Or, your experience may have limited you to languages where you had to morph your problem into multi-dimensional arrays.</p>\n\n<p>Say you have a collection <em>n</em> 3D points.  Each point has an x, y, z, and time value.  Is this an <em>n</em> x 4 array?  Or a 4 * <em>n</em> array?  Not really.  </p>\n\n<p>Since each point has 4 fixed values, this is more properly a list of tuples.</p>\n\n<pre><code>a = [ ( x, y, z, t ), ( x, y, z, t ), ... ]\n</code></pre>\n\n<p>Better still, we could represent this as a list of objects.</p>\n\n<pre><code>class Point( object ):\n    def __init__( self, x, y, z, t ):\n        self.x, self.y, self.z, self.t = x, y, z, t\n\na = [ Point(x,y,x,t), Point(x,y,z,t), ... ]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6648,"reputation":14544,"user_id":11265,"accept_rate":74,"display_name":"Matthew Trevor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1225870416,"creation_date":1225870416,"answer_id":264562,"question_id":508657,"body_markdown":"Another option is to use a dictionary:\r\n\r\n    &gt;&gt;&gt; from collections import defaultdict\r\n    &gt;&gt;&gt; array = defaultdict(int) # replace int with the default-factory you want\r\n    &gt;&gt;&gt; array[(0,0)]\r\n    0\r\n    &gt;&gt;&gt; array[(99,99)]\r\n    0\r\n\r\nYou&#39;ll need to keep track of the upper &amp; lower bounds as well.","title":"Multidimensional array in Python","body":"<p>Another option is to use a dictionary:</p>\n\n<pre><code>&gt;&gt;&gt; from collections import defaultdict\n&gt;&gt;&gt; array = defaultdict(int) # replace int with the default-factory you want\n&gt;&gt;&gt; array[(0,0)]\n0\n&gt;&gt;&gt; array[(99,99)]\n0\n</code></pre>\n\n<p>You'll need to keep track of the upper &amp; lower bounds as well.</p>\n"},{"tags":[],"owner":{"account_id":12480,"reputation":124586,"user_id":24587,"accept_rate":83,"display_name":"Georg Sch&#246;lly"},"comment_count":0,"down_vote_count":2,"up_vote_count":15,"is_accepted":true,"score":13,"last_activity_date":1259216811,"creation_date":1233691142,"answer_id":508677,"question_id":508657,"body_markdown":"You can create it using nested lists:\r\n\r\n    matrix = [[a,b],[c,d],[e,f]]\r\n\r\nIf it has to be dynamic it&#39;s more complicated, why not write a small class yourself?\r\n\r\n    class Matrix(object):\r\n        def __init__(self, rows, columns, default=0):\r\n            self.m = []\r\n            for i in range(rows):\r\n                self.m.append([default for j in range(columns)])\r\n        \r\n        def __getitem__(self, index):\r\n            return self.m[index]\r\n\r\nThis can be used like this:\r\n\r\n    m = Matrix(10,5)\r\n    m[3][6] = 7\r\n    print m[3][6] // -&gt; 7\r\n\r\nI&#39;m sure one could implement it much more efficient. :)\r\n\r\nIf you need multidimensional arrays you can either create an array and calculate the offset or you&#39;d use arrays in arrays in arrays, which can be pretty bad for memory. (Could be faster though…) I&#39;ve implemented the first idea like this:\r\n\r\n    class Matrix(object):\r\n        def __init__(self, *dims):\r\n            self._shortcuts = [i for i in self._create_shortcuts(dims)]\r\n            self._li = [None] * (self._shortcuts.pop())\r\n            self._shortcuts.reverse()\r\n        \r\n        def _create_shortcuts(self, dims):\r\n            dimList = list(dims)\r\n            dimList.reverse()\r\n            number = 1\r\n            yield 1\r\n            for i in dimList:\r\n                number *= i\r\n                yield number\r\n        \r\n        def _flat_index(self, index):\r\n            if len(index) != len(self._shortcuts):\r\n                raise TypeError()\r\n            \r\n            flatIndex = 0\r\n            for i, num in enumerate(index):\r\n                flatIndex += num * self._shortcuts[i]\r\n            return flatIndex\r\n            \r\n        def __getitem__(self, index):\r\n            return self._li[self._flat_index(index)]\r\n            \r\n        def __setitem__(self, index, value):\r\n            self._li[self._flat_index(index)] = value\r\n\r\nCan be used like this:\r\n\r\n    m = Matrix(4,5,2,6)\r\n    m[2,3,1,3] = &#39;x&#39;\r\n    m[2,3,1,3] // -&gt; &#39;x&#39;","title":"Multidimensional array in Python","body":"<p>You can create it using nested lists:</p>\n\n<pre><code>matrix = [[a,b],[c,d],[e,f]]\n</code></pre>\n\n<p>If it has to be dynamic it's more complicated, why not write a small class yourself?</p>\n\n<pre><code>class Matrix(object):\n    def __init__(self, rows, columns, default=0):\n        self.m = []\n        for i in range(rows):\n            self.m.append([default for j in range(columns)])\n\n    def __getitem__(self, index):\n        return self.m[index]\n</code></pre>\n\n<p>This can be used like this:</p>\n\n<pre><code>m = Matrix(10,5)\nm[3][6] = 7\nprint m[3][6] // -&gt; 7\n</code></pre>\n\n<p>I'm sure one could implement it much more efficient. :)</p>\n\n<p>If you need multidimensional arrays you can either create an array and calculate the offset or you'd use arrays in arrays in arrays, which can be pretty bad for memory. (Could be faster though…) I've implemented the first idea like this:</p>\n\n<pre><code>class Matrix(object):\n    def __init__(self, *dims):\n        self._shortcuts = [i for i in self._create_shortcuts(dims)]\n        self._li = [None] * (self._shortcuts.pop())\n        self._shortcuts.reverse()\n\n    def _create_shortcuts(self, dims):\n        dimList = list(dims)\n        dimList.reverse()\n        number = 1\n        yield 1\n        for i in dimList:\n            number *= i\n            yield number\n\n    def _flat_index(self, index):\n        if len(index) != len(self._shortcuts):\n            raise TypeError()\n\n        flatIndex = 0\n        for i, num in enumerate(index):\n            flatIndex += num * self._shortcuts[i]\n        return flatIndex\n\n    def __getitem__(self, index):\n        return self._li[self._flat_index(index)]\n\n    def __setitem__(self, index, value):\n        self._li[self._flat_index(index)] = value\n</code></pre>\n\n<p>Can be used like this:</p>\n\n<pre><code>m = Matrix(4,5,2,6)\nm[2,3,1,3] = 'x'\nm[2,3,1,3] // -&gt; 'x'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12256,"reputation":79165,"user_id":24039,"accept_rate":56,"display_name":"Simon"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1670612499,"creation_date":1233691221,"answer_id":508679,"question_id":508657,"body_markdown":"Take a look at [numpy][1]\r\n\r\nhere&#39;s a code snippet for you\r\n\r\n    import numpy as npy\r\n    \r\n    d = npy.zeros((len(x)+1, len(y)+1, len(x)+len(y)+3))\r\n    d[0][0][0] = 0 # although this is unnecessary since zeros initialises to zero\r\n    d[i][j][k] = npy.inf\r\n\r\nI don&#39;t think you need to be implementing a scientific application to justify the use of numpy.  It is faster and more flexible and you can store pretty much anything.  Given that I think it is probably better to try and justify *not* using it.  There are legitimate reasons, but it adds a great deal and costs very little so it deserves consideration.\r\n\r\nP.S. Are your array lengths right?  It looks like a pretty peculiar shaped matrix...\r\n\r\n  [1]: https://numpy.org//\r","title":"Multidimensional array in Python","body":"<p>Take a look at <a href=\"https://numpy.org//\" rel=\"nofollow noreferrer\">numpy</a></p>\n<p>here's a code snippet for you</p>\n<pre><code>import numpy as npy\n\nd = npy.zeros((len(x)+1, len(y)+1, len(x)+len(y)+3))\nd[0][0][0] = 0 # although this is unnecessary since zeros initialises to zero\nd[i][j][k] = npy.inf\n</code></pre>\n<p>I don't think you need to be implementing a scientific application to justify the use of numpy.  It is faster and more flexible and you can store pretty much anything.  Given that I think it is probably better to try and justify <em>not</em> using it.  There are legitimate reasons, but it adds a great deal and costs very little so it deserves consideration.</p>\n<p>P.S. Are your array lengths right?  It looks like a pretty peculiar shaped matrix...</p>\n"},{"tags":[],"owner":{"account_id":6474,"reputation":95175,"user_id":10897,"accept_rate":83,"display_name":"Martin Beckett"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1670612501,"creation_date":1233691238,"answer_id":508681,"question_id":508657,"body_markdown":"Probably not relevant for you but if you are doing serious matrix work see [numpy][1]\r\n\r\n  [1]: https://numpy.org/","title":"Multidimensional array in Python","body":"<p>Probably not relevant for you but if you are doing serious matrix work see <a href=\"https://numpy.org/\" rel=\"nofollow noreferrer\">numpy</a></p>\n"},{"comments":[{"owner":{"account_id":13289,"reputation":18333,"user_id":26592,"accept_rate":95,"display_name":"Sergey Golovchenko"},"score":0,"creation_date":1233693603,"post_id":508700,"comment_id":323109,"body_markdown":"Nice trick to store a multidimensional array. However things would get very messy when trying to iterate over elements say of a column, or a row, or even to be able to get the &#39;dimensions&#39;.","body":"Nice trick to store a multidimensional array. However things would get very messy when trying to iterate over elements say of a column, or a row, or even to be able to get the &#39;dimensions&#39;."},{"owner":{"account_id":24331,"reputation":2444,"user_id":61815,"accept_rate":89,"display_name":"paprika"},"score":0,"creation_date":1233697767,"post_id":508700,"comment_id":323356,"body_markdown":"Indeed.  If I were to use something like this, I&#39;d of course encapsulate this into a class and introduce methods for read/write access.  An instance variable would store the dimension of the array and the read/write methods would return a default value for unassigned elements (by catching KeyError).","body":"Indeed.  If I were to use something like this, I&#39;d of course encapsulate this into a class and introduce methods for read/write access.  An instance variable would store the dimension of the array and the read/write methods would return a default value for unassigned elements (by catching KeyError)."},{"owner":{"account_id":6358,"reputation":386102,"user_id":10661,"accept_rate":91,"display_name":"S.Lott"},"score":0,"creation_date":1233701172,"post_id":508700,"comment_id":323578,"body_markdown":"+1: dictionary is considerably simpler.  Iteration over dimensions is easy, not messy.  xRange = set( [ k[0] for k in d.keys() ] ), yRange = set( [ k[1] for k in d.keys() ] )","body":"+1: dictionary is considerably simpler.  Iteration over dimensions is easy, not messy.  xRange = set( [ k[0] for k in d.keys() ] ), yRange = set( [ k[1] for k in d.keys() ] )"},{"owner":{"account_id":13289,"reputation":18333,"user_id":26592,"accept_rate":95,"display_name":"Sergey Golovchenko"},"score":0,"creation_date":1233722595,"post_id":508700,"comment_id":324161,"body_markdown":"@S.Lott: what I mean by messy is that iteration that you suggest would only work if you have filled all the elements of this multidimensional array, however if you have &quot;gaps&quot; this simply wouldn&#39;t work. anyways +1 to paprika for an original solution.","body":"@S.Lott: what I mean by messy is that iteration that you suggest would only work if you have filled all the elements of this multidimensional array, however if you have &quot;gaps&quot; this simply wouldn&#39;t work. anyways +1 to paprika for an original solution."}],"tags":[],"owner":{"account_id":24331,"reputation":2444,"user_id":61815,"accept_rate":89,"display_name":"paprika"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1233691454,"creation_date":1233691454,"answer_id":508700,"question_id":508657,"body_markdown":"If you are OK using sparse arrays, you could use a dict to store your values.  Python&#39;s dicts allow you to use tuples as keys, as such, you could assign to and access elements of the &quot;sparse array&quot; (which is really a dict here) like this:\r\n\r\n    d = {}\r\n    d[0,2,7] = 123 # assign 123 to x=0, y=2, z=7\r\n    v = d[0,2,7]\r\n","title":"Multidimensional array in Python","body":"<p>If you are OK using sparse arrays, you could use a dict to store your values.  Python's dicts allow you to use tuples as keys, as such, you could assign to and access elements of the \"sparse array\" (which is really a dict here) like this:</p>\n\n<pre><code>d = {}\nd[0,2,7] = 123 # assign 123 to x=0, y=2, z=7\nv = d[0,2,7]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7094,"reputation":43646,"user_id":12166,"accept_rate":100,"display_name":"Rafał Dowgird"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1233696856,"creation_date":1233696856,"answer_id":508991,"question_id":508657,"body_markdown":"Here&#39;s a quick way to create a nested 3-dimensional list initialized with zeros:\r\n\r\n    # dim1, dim2, dim3 are the dimensions of the array\r\n    a =[[[0 for _ in range(dim1)] for _ in range(dim2)] for _ in range(dim1) ]\r\n    a[0][0][0] = 1\r\n\r\nthis is a list of lists of lists, a bit more flexible than an array, you can do:\r\n\r\n    a[0][0] = [1,2,3,4]\r\n\r\nto replace a whole row in the array, or even abuse it like that:\r\n\r\n    a[0] = &quot;Ouch&quot;\r\n    print a[0][0] #will print &quot;O&quot;, since strings are indexable the same way as lists\r\n    print a[0][0][0] #will raise an error, since &quot;O&quot; isn&#39;t indexable\r\n\r\nbut if you need performance, then I agree that numpy is the way to go.\r\n\r\nAlso, beware of:\r\n\r\n    a = [[[0] * 5]*5]*5]\r\n\r\nIf you try `a[0][0][0]=7` on the object above, you will see what&#39;s wrong with that.","title":"Multidimensional array in Python","body":"<p>Here's a quick way to create a nested 3-dimensional list initialized with zeros:</p>\n\n<pre><code># dim1, dim2, dim3 are the dimensions of the array\na =[[[0 for _ in range(dim1)] for _ in range(dim2)] for _ in range(dim1) ]\na[0][0][0] = 1\n</code></pre>\n\n<p>this is a list of lists of lists, a bit more flexible than an array, you can do:</p>\n\n<pre><code>a[0][0] = [1,2,3,4]\n</code></pre>\n\n<p>to replace a whole row in the array, or even abuse it like that:</p>\n\n<pre><code>a[0] = \"Ouch\"\nprint a[0][0] #will print \"O\", since strings are indexable the same way as lists\nprint a[0][0][0] #will raise an error, since \"O\" isn't indexable\n</code></pre>\n\n<p>but if you need performance, then I agree that numpy is the way to go.</p>\n\n<p>Also, beware of:</p>\n\n<pre><code>a = [[[0] * 5]*5]*5]\n</code></pre>\n\n<p>If you try <code>a[0][0][0]=7</code> on the object above, you will see what's wrong with that.</p>\n"},{"tags":[],"owner":{"account_id":6497,"reputation":2531,"user_id":2731698,"accept_rate":57,"display_name":"fabiopedrosa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1248795064,"creation_date":1248795064,"answer_id":1194934,"question_id":508657,"body_markdown":"I&#39;ve just stepped into a similar need and coded this:\r\n\r\n    def nDimensionsMatrix(dims, elem_count, ptr=[]):\r\n    \tif (dims &gt; 1):\r\n    \t\tfor i in range(elem_count[dims-1]):\r\n    \t\t\tempty = []\r\n    \t\t\tptr.append(empty)\r\n    \t\t\tnDimensionsMatrix(dims-1, elem_count, empty)\r\n    \t\treturn ptr\r\n    \telif dims == 1:\r\n    \t\tptr.extend([0 for i in range(elem_count[dims])])\r\n    \t\treturn ptr\r\n    \r\n    matrix = nDimensionsMatrix(3, (2,2,2))\r\n\r\nI&#39;m not looking at speed, only funcionality ;)\r\n\r\nI want to create a matrix with N dimensions and initialize with 0 (a *elem_count* number of elements in each dimension).\r\n\r\nHope its helps someone","title":"Multidimensional array in Python","body":"<p>I've just stepped into a similar need and coded this:</p>\n\n<pre><code>def nDimensionsMatrix(dims, elem_count, ptr=[]):\n    if (dims &gt; 1):\n        for i in range(elem_count[dims-1]):\n            empty = []\n            ptr.append(empty)\n            nDimensionsMatrix(dims-1, elem_count, empty)\n        return ptr\n    elif dims == 1:\n        ptr.extend([0 for i in range(elem_count[dims])])\n        return ptr\n\nmatrix = nDimensionsMatrix(3, (2,2,2))\n</code></pre>\n\n<p>I'm not looking at speed, only funcionality ;)</p>\n\n<p>I want to create a matrix with N dimensions and initialize with 0 (a <em>elem_count</em> number of elements in each dimension).</p>\n\n<p>Hope its helps someone</p>\n"},{"tags":[],"owner":{"display_name":"HenryJP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1254284824,"creation_date":1254252579,"answer_id":1494477,"question_id":508657,"body_markdown":"Easy, when using numpy:\r\n\r\n    b = ones((2,3,4)) # creates a 2x3x4 array containing all ones.\r\n\r\n&#39;ones&#39; can be replaced with &#39;zeros&#39;","title":"Multidimensional array in Python","body":"<p>Easy, when using numpy:</p>\n\n<pre><code>b = ones((2,3,4)) # creates a 2x3x4 array containing all ones.\n</code></pre>\n\n<p>'ones' can be replaced with 'zeros'</p>\n"}],"owner":{"account_id":22735,"reputation":4711,"user_id":56376,"accept_rate":77,"display_name":"Christian Stade-Schuldt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22303,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":508677,"answer_count":12,"score":10,"last_activity_date":1670612501,"creation_date":1233690877,"question_id":508657,"body_markdown":"I have a little Java problem I want to translate to Python. Therefor I need a multidimensional array. In Java it looks like:\r\n\t\r\n    double dArray[][][] = new double[x.length()+1][y.length()+1][x.length()+y.length()+3];\r\n    dArray[0][0][0] = 0;\r\n    dArray[0][0][1] = POSITIVE_INFINITY;\r\n\r\nFurther values will be created bei loops and written into the array.\r\n\r\nHow do I instantiate the array?\r\n\r\nPS: There is no matrix multiplication involved...","title":"Multidimensional array in Python","body":"<p>I have a little Java problem I want to translate to Python. Therefor I need a multidimensional array. In Java it looks like:</p>\n\n<pre><code>double dArray[][][] = new double[x.length()+1][y.length()+1][x.length()+y.length()+3];\ndArray[0][0][0] = 0;\ndArray[0][0][1] = POSITIVE_INFINITY;\n</code></pre>\n\n<p>Further values will be created bei loops and written into the array.</p>\n\n<p>How do I instantiate the array?</p>\n\n<p>PS: There is no matrix multiplication involved...</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1670600773,"post_id":74745281,"comment_id":131918240,"body_markdown":"Why did you use `ipcToMFPNameMap.getClass().getName()` in the first place? Why did you assume `getClass()` returns a map __key__ not the __class__ of the object (a map in this case)?","body":"Why did you use <code>ipcToMFPNameMap.getClass().getName()</code> in the first place? Why did you assume <code>getClass()</code> returns a map <b>key</b> not the <b>class</b> of the object (a map in this case)?"},{"owner":{"account_id":9696555,"reputation":191,"user_id":7192797,"display_name":"Njena"},"score":0,"creation_date":1670600933,"post_id":74745281,"comment_id":131918292,"body_markdown":"ipcToMFPNameMap is my map Object and I want to get manufacture price code from it and store it","body":"ipcToMFPNameMap is my map Object and I want to get manufacture price code from it and store it"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1670604168,"post_id":74745281,"comment_id":131919312,"body_markdown":"Did you not think you would have to pass the price code to the map in order to get the manufacturerPriceCode for _that particular price code_?","body":"Did you not think you would have to pass the price code to the map in order to get the manufacturerPriceCode for <i>that particular price code</i>?"}],"answers":[{"comments":[{"owner":{"account_id":9696555,"reputation":191,"user_id":7192797,"display_name":"Njena"},"score":0,"creation_date":1670640456,"post_id":74747274,"comment_id":131926361,"body_markdown":"String manufacturerPriceCodesName = ipcToMFPNameMap.get(priceCode).getName(); if do this way I got error 500 internal server error","body":"String manufacturerPriceCodesName = ipcToMFPNameMap.get(priceCode).getName(); if do this way I got error 500 internal server error"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1670846215,"post_id":74747274,"comment_id":131960060,"body_markdown":"The 500 is an HTTP error code.  The code snippet in question assumes that `priceCode` is a String and that `ipcToMFPNameMap` is a Map.  This is not making an HTTP request..  If you are deploying this code to a server and calling it and it returned 500 then you need to review the server log to try to get more insight.","body":"The 500 is an HTTP error code.  The code snippet in question assumes that <code>priceCode</code> is a String and that <code>ipcToMFPNameMap</code> is a Map.  This is not making an HTTP request..  If you are deploying this code to a server and calling it and it returned 500 then you need to review the server log to try to get more insight."}],"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670612330,"creation_date":1670612330,"answer_id":74747274,"question_id":74745281,"body_markdown":"Your Map contains `ManufacturerPriceCodes` objects keyed on their `priceCode` which is defined as a String.  So you can get the name of an item in the Map as follows (where `priceCode` is a String).  \r\n\r\n    String manufacturerPriceCodesName = ipcToMFPNameMap.get(priceCode).getName();\r\n\r\nThe `ManufacturerPricesCodes` appears to capture the price code as a String but `Item` has a `List&lt;ItemPriceCode&gt;`.  You&#39;ll have to figure out how to map back and forth.","title":"how to get a particular field value from map object using java","body":"<p>Your Map contains <code>ManufacturerPriceCodes</code> objects keyed on their <code>priceCode</code> which is defined as a String.  So you can get the name of an item in the Map as follows (where <code>priceCode</code> is a String).</p>\n<pre><code>String manufacturerPriceCodesName = ipcToMFPNameMap.get(priceCode).getName();\n</code></pre>\n<p>The <code>ManufacturerPricesCodes</code> appears to capture the price code as a String but <code>Item</code> has a <code>List&lt;ItemPriceCode&gt;</code>.  You'll have to figure out how to map back and forth.</p>\n"}],"owner":{"account_id":9696555,"reputation":191,"user_id":7192797,"display_name":"Njena"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1670612330,"creation_date":1670600546,"question_id":74745281,"body_markdown":"&gt; I am trying to set manufacture price code  ,that value is in my map\r\n&gt; object but when I want to get getName() from map object I am not able\r\n&gt; to get that particular value. If I use\r\n \r\n\r\n    ipcToMFPNameMap.getClass().getName()\r\n\r\n&gt; this line of code to get particular value I get &quot;java.util.HashMap&quot; in\r\n&gt; &gt; my manufacture price code filed for your reference I post my code what I tried to  get the particular result\r\n\r\n    private Item getItemManufacturerPriceCodes(Item item) {\r\n              List&lt;ItemPriceCode&gt; itemPriceCodes = item.getItemPriceCodes();\r\n              List&lt;String&gt; priceCodeList = new ArrayList&lt;String&gt;();\r\n              for (ItemPriceCode ipc : itemPriceCodes) {\r\n                  //get the string value from the list\r\n                   priceCodeList.add(ipc.getPriceCode());\r\n            }\r\n              //pass this string value in query\r\n              List&lt;ManufacturerPriceCodes&gt;mpc = manufacturerPriceCodesRepository.\r\n                     findByManufacturerIDAndPriceCodeInAndRecordDeleted(item.getManufacturerID(),priceCodeList,NOT_DELETED);\r\n              \r\n              //Convert list to map\r\n              Map&lt;String, ManufacturerPriceCodes&gt; ipcToMFPNameMap = mpc.stream().collect(\r\n                        Collectors.toMap(ManufacturerPriceCodes :: getPriceCode,Function.identity()));// Object\r\n    \r\n    \r\n    \r\n             for (ItemPriceCode ipcs : itemPriceCodes) {\r\n                  ipcs.setManufacturerPriceCode(ipcToMFPNameMap.getClass().getName());\r\n            }\r\n              item.getItemPriceCodes()\r\n              .removeIf(ipcs -&gt; DELETED.equals(ipcs.getRecordDeleted()));\r\n          return item;      \r\n          }\r\n\r\n&gt; I got this type of Result\r\n[![enter image description here][1]][1]\r\n\r\n\r\n&gt; But I want this this type of Result\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oKyUj.png\r\n  [2]: https://i.stack.imgur.com/n7Jgr.png\r\n\r\n&gt; I get issue exact at this point\r\n\r\n    ipcs.setManufacturerPriceCode(ipcToMFPNameMap.getClass().getName());\r\n\r\n&gt; my manufacture price code is a string type","title":"how to get a particular field value from map object using java","body":"<blockquote>\n<p>I am trying to set manufacture price code  ,that value is in my map\nobject but when I want to get getName() from map object I am not able\nto get that particular value. If I use</p>\n</blockquote>\n<pre><code>ipcToMFPNameMap.getClass().getName()\n</code></pre>\n<blockquote>\n<p>this line of code to get particular value I get &quot;java.util.HashMap&quot; in</p>\n<blockquote>\n<p>my manufacture price code filed for your reference I post my code what I tried to  get the particular result</p>\n</blockquote>\n</blockquote>\n<pre><code>private Item getItemManufacturerPriceCodes(Item item) {\n          List&lt;ItemPriceCode&gt; itemPriceCodes = item.getItemPriceCodes();\n          List&lt;String&gt; priceCodeList = new ArrayList&lt;String&gt;();\n          for (ItemPriceCode ipc : itemPriceCodes) {\n              //get the string value from the list\n               priceCodeList.add(ipc.getPriceCode());\n        }\n          //pass this string value in query\n          List&lt;ManufacturerPriceCodes&gt;mpc = manufacturerPriceCodesRepository.\n                 findByManufacturerIDAndPriceCodeInAndRecordDeleted(item.getManufacturerID(),priceCodeList,NOT_DELETED);\n          \n          //Convert list to map\n          Map&lt;String, ManufacturerPriceCodes&gt; ipcToMFPNameMap = mpc.stream().collect(\n                    Collectors.toMap(ManufacturerPriceCodes :: getPriceCode,Function.identity()));// Object\n\n\n\n         for (ItemPriceCode ipcs : itemPriceCodes) {\n              ipcs.setManufacturerPriceCode(ipcToMFPNameMap.getClass().getName());\n        }\n          item.getItemPriceCodes()\n          .removeIf(ipcs -&gt; DELETED.equals(ipcs.getRecordDeleted()));\n      return item;      \n      }\n</code></pre>\n<blockquote>\n<p>I got this type of Result\n<a href=\"https://i.stack.imgur.com/oKyUj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oKyUj.png\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n<blockquote>\n<p>But I want this this type of Result\n<a href=\"https://i.stack.imgur.com/n7Jgr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n7Jgr.png\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n<blockquote>\n<p>I get issue exact at this point</p>\n</blockquote>\n<pre><code>ipcs.setManufacturerPriceCode(ipcToMFPNameMap.getClass().getName());\n</code></pre>\n<blockquote>\n<p>my manufacture price code is a string type</p>\n</blockquote>\n"},{"tags":["java","model","jtable","tablemodel"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1670611383,"post_id":74746968,"comment_id":131921478,"body_markdown":"*&quot;I need to manage a data model with thousands of rows&quot;* -- wouldn&#39;t this amount of data be best handled by a database, with the GUI displaying &quot;chunks&quot; of data brought in from the database on an as-needed basis?","body":"<i>&quot;I need to manage a data model with thousands of rows&quot;</i> -- wouldn&#39;t this amount of data be best handled by a database, with the GUI displaying &quot;chunks&quot; of data brought in from the database on an as-needed basis?"},{"owner":{"account_id":27204292,"reputation":1,"user_id":20736094,"display_name":"DrSlamm"},"score":0,"creation_date":1670615114,"post_id":74746968,"comment_id":131922335,"body_markdown":"In effect, my Archive is the database, RAM-resident.  Iterators, filters, sorters, all I need.  Java is like a wet dream, only drier.","body":"In effect, my Archive is the database, RAM-resident.  Iterators, filters, sorters, all I need.  Java is like a wet dream, only drier."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1670619844,"post_id":74746968,"comment_id":131923415,"body_markdown":"That example uses hard coded data so you don&#39;t need to access a database or file to get the data and run the demo.  You should NOT attempt to create a &quot;dynamic&quot; 2D Array of all your data. The internal storage of the DefaultTableModel uses a Vector of Vectors to hold all the data. A Vector is dynamic so it is much more flexible to use than a 2D Array. So there are two approaches to load the data. 1) Create the Vector of Vectors manually and then create the DefaultTableModel using this Vector. For a complete example of this approach check out: https://stackoverflow.com/a/55635012/131872.","body":"That example uses hard coded data so you don&#39;t need to access a database or file to get the data and run the demo.  You should NOT attempt to create a &quot;dynamic&quot; 2D Array of all your data. The internal storage of the DefaultTableModel uses a Vector of Vectors to hold all the data. A Vector is dynamic so it is much more flexible to use than a 2D Array. So there are two approaches to load the data. 1) Create the Vector of Vectors manually and then create the DefaultTableModel using this Vector. For a complete example of this approach check out: <a href=\"https://stackoverflow.com/a/55635012/131872\">stackoverflow.com/a/55635012/131872</a>."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1670620229,"post_id":74746968,"comment_id":131923503,"body_markdown":"2) The other approach is to create a DefaultTableModel with only column headers and no row data. Then you can use the `addRow(...)` method of the DefaultTableModel to dynamically add one row of data at a time. See: https://stackoverflow.com/a/64248188/131872 for an example that uses the `addRow(...)` method.","body":"2) The other approach is to create a DefaultTableModel with only column headers and no row data. Then you can use the <code>addRow(...)</code> method of the DefaultTableModel to dynamically add one row of data at a time. See: <a href=\"https://stackoverflow.com/a/64248188/131872\">stackoverflow.com/a/64248188/131872</a> for an example that uses the <code>addRow(...)</code> method."},{"owner":{"account_id":27204292,"reputation":1,"user_id":20736094,"display_name":"DrSlamm"},"score":0,"creation_date":1671045958,"post_id":74746968,"comment_id":132015340,"body_markdown":"Thx to all, after a bit of wrangling I got my table model and renderers working adequately if not perfectly.  Having fun and this site is fantastic!","body":"Thx to all, after a bit of wrangling I got my table model and renderers working adequately if not perfectly.  Having fun and this site is fantastic!"}],"answers":[{"comments":[{"owner":{"account_id":27204292,"reputation":1,"user_id":20736094,"display_name":"DrSlamm"},"score":0,"creation_date":1670613442,"post_id":74747260,"comment_id":131921951,"body_markdown":"my data model is Object[][] rows.","body":"my data model is Object[][] rows."},{"owner":{"account_id":27204292,"reputation":1,"user_id":20736094,"display_name":"DrSlamm"},"score":0,"creation_date":1670613535,"post_id":74747260,"comment_id":131921978,"body_markdown":"Oh, I see now.  Lemme jump right on that","body":"Oh, I see now.  Lemme jump right on that"}],"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670612236,"creation_date":1670612236,"answer_id":74747260,"question_id":74746968,"body_markdown":"The initial code created an `Object[][]` array and you created a `String[][]` array, so, storing any non-String value will inevitably crash. You will need to create an `Object[][]` to support `Integer` and `Double` values as well. ","title":"How can I manage columns of varying data types in my JTable data model?","body":"<p>The initial code created an <code>Object[][]</code> array and you created a <code>String[][]</code> array, so, storing any non-String value will inevitably crash. You will need to create an <code>Object[][]</code> to support <code>Integer</code> and <code>Double</code> values as well.</p>\n"}],"owner":{"account_id":27204292,"reputation":1,"user_id":20736094,"display_name":"DrSlamm"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670612236,"creation_date":1670610234,"question_id":74746968,"body_markdown":"Here is sample code I found.  It works because the entire data structure is initialized in one statement.  \r\n```\t\tObject[] columnNames = {&quot;Type&quot;, &quot;Company&quot;, &quot;Shares&quot;, &quot;Price&quot;, &quot;Boolean&quot;};\r\n\t\tObject[][] data =\r\n\t\t{\r\n\t\t\t{&quot;Buy&quot;, &quot;IBM&quot;, new Integer(1000), new Double(80.5), Boolean.TRUE},\r\n\t\t\t{&quot;Sell&quot;, &quot;Dell&quot;, new Integer(2000), new Double(6.25), Boolean.FALSE},\r\n\t\t\t{&quot;Short Sell&quot;, &quot;Apple&quot;, new Integer(3000), new Double(7.35), Boolean.TRUE},\r\n\t\t\t{&quot;Buy&quot;, &quot;MicroSoft&quot;, new Integer(4000), new Double(27.50), Boolean.FALSE},\r\n\t\t\t{&quot;Short Sell&quot;, &quot;Cisco&quot;, new Integer(5000), new Double(20), Boolean.TRUE}\r\n\t\t};\r\n\r\n\t\tDefaultTableModel model = new DefaultTableModel(data, columnNames)\r\n\t\t{\r\n\t\t\tpublic Class getColumnClass(int column)\r\n\t\t\t{\r\n\t\t\t\treturn getValueAt(0, column).getClass();\r\n\t\t\t}\r\n\t\t};\r\n```\r\nI need to manage a data model with thousands of rows.  I have tried five different approaches for loading values (One String, four Integers, and one Double make up a row).  The only way I have been able to get the table to display at all is to treat everything as strings.  This would require a comparator for the Double column as natural String ordering doesn&#39;t cut it.\r\n\r\nBelow I have shown my latest attempt.  The crux of my problem is the ArrayStoreException that happens at the line indicated --&gt;\r\n\r\n\r\n```\r\nclass RankingsDataModel extends DefaultTableModel {\r\n    static final String s = &quot;&quot;;\r\n    static final Integer i = 0;\r\n    static final Double d = 0.0;\r\n    static String[] columnNames = { &quot;Key&quot;, &quot;Net IMPs&quot;, &quot;Count&quot;, &quot;Max IMPs&quot;, &quot;Min IMPs&quot;, &quot;Avg IMPs&quot; };\r\n    static int[] widths = new int[] { 16, 16, 16, 16, 16, 16  };\r\n    Object[][] rows = new Object[S.getCurrentArchive().partnerCensus.size() &gt; 9 ? S.getCurrentArchive().partnerCensus.size() : 9][getColumnCount()];\r\n    public int getColumnCount() { return columnNames.length; }\r\n    public int getRowCount() { return S.getCurrentArchive().partnerCensus.size()  &gt; 9 ? S.getCurrentArchive().partnerCensus.size() : 9; }\r\n    public String getColumnName(int col) { return columnNames[col]; }\r\n    public Object getValueAt(int row, int col) { return rows[row][col]; }\r\n    public Class getColumnClass(int c) { return c == 0 ? s.getClass() : c == 5 ? d.getClass() : i.getClass(); }\r\n    public boolean isCellEditable(int row, int col) { return false; }       \r\n}\r\n    class Row {\r\n        Integer net;\r\n        Integer count;\r\n        Integer max;\r\n        Integer min;\r\n        Double avg;\r\n    }\r\n\r\n    private void loadRankingsTable) {\r\n            int r = 0;\r\n            model.rows = new String[S.getCurrentArchive().partnerCensus.size()][6];\r\n            for (String p : S.getCurrentArchive().partnerCensus) {\r\n                PartnerDealFilter pf = new PartnerDealFilter(p); \r\n                addModelRow(pf, p, r++);\r\n            }\r\n    }\r\n    private void addModelRow(DealFilter f, String key, int r) {\r\n        Archive a = S.getCurrentArchive().getFilteredArchive(f);\r\n        Integer max = -24; Integer min = 24;\r\n        Integer count = 0;\r\n        for (DealNode dn : a.getDeals()) {\r\n            Integer imps = dn.getIMPsVsPar();\r\n            if (imps != null) {\r\n                count++;\r\n                if (imps &lt; min) min = imps;\r\n                if (imps &gt; max) max = imps;\r\n            }\r\n        }\r\n        String[] strings = { key };\r\n        Integer[] integers = { count, a.getNetIMPs(), max, min };\r\n        Double[] doubles = { a.getAvgIMPs() != null ? a.getAvgIMPs() : -24.01 };\r\n--&gt;     model.rows[r][0] = strings[0];\r\n        model.rows[r][1] = Integers[0]);\r\n        model.rows[r][2] = integers[1];\r\n        model.rows[r][3] = integers[2];\r\n        model.rows[r][4] = integers[3];\r\n        model.rows[r][5] = doubles[0];        \r\n    }\r\n\r\n```\r\n    \r\nPrevious attempts involved simpler efforts.  I cannot store my table data in the model.\r\nI know I am missing something simple.  Please help.\r\n\r\nI expected the data model to be loaded.  I received a java.lang.ArrayStoreException in the AWT EventQueue thread.","title":"How can I manage columns of varying data types in my JTable data model?","body":"<p>Here is sample code I found.  It works because the entire data structure is initialized in one statement.</p>\n<pre><code>        Object[][] data =\n        {\n            {&quot;Buy&quot;, &quot;IBM&quot;, new Integer(1000), new Double(80.5), Boolean.TRUE},\n            {&quot;Sell&quot;, &quot;Dell&quot;, new Integer(2000), new Double(6.25), Boolean.FALSE},\n            {&quot;Short Sell&quot;, &quot;Apple&quot;, new Integer(3000), new Double(7.35), Boolean.TRUE},\n            {&quot;Buy&quot;, &quot;MicroSoft&quot;, new Integer(4000), new Double(27.50), Boolean.FALSE},\n            {&quot;Short Sell&quot;, &quot;Cisco&quot;, new Integer(5000), new Double(20), Boolean.TRUE}\n        };\n\n        DefaultTableModel model = new DefaultTableModel(data, columnNames)\n        {\n            public Class getColumnClass(int column)\n            {\n                return getValueAt(0, column).getClass();\n            }\n        };\n</code></pre>\n<p>I need to manage a data model with thousands of rows.  I have tried five different approaches for loading values (One String, four Integers, and one Double make up a row).  The only way I have been able to get the table to display at all is to treat everything as strings.  This would require a comparator for the Double column as natural String ordering doesn't cut it.</p>\n<p>Below I have shown my latest attempt.  The crux of my problem is the ArrayStoreException that happens at the line indicated --&gt;</p>\n<pre><code>class RankingsDataModel extends DefaultTableModel {\n    static final String s = &quot;&quot;;\n    static final Integer i = 0;\n    static final Double d = 0.0;\n    static String[] columnNames = { &quot;Key&quot;, &quot;Net IMPs&quot;, &quot;Count&quot;, &quot;Max IMPs&quot;, &quot;Min IMPs&quot;, &quot;Avg IMPs&quot; };\n    static int[] widths = new int[] { 16, 16, 16, 16, 16, 16  };\n    Object[][] rows = new Object[S.getCurrentArchive().partnerCensus.size() &gt; 9 ? S.getCurrentArchive().partnerCensus.size() : 9][getColumnCount()];\n    public int getColumnCount() { return columnNames.length; }\n    public int getRowCount() { return S.getCurrentArchive().partnerCensus.size()  &gt; 9 ? S.getCurrentArchive().partnerCensus.size() : 9; }\n    public String getColumnName(int col) { return columnNames[col]; }\n    public Object getValueAt(int row, int col) { return rows[row][col]; }\n    public Class getColumnClass(int c) { return c == 0 ? s.getClass() : c == 5 ? d.getClass() : i.getClass(); }\n    public boolean isCellEditable(int row, int col) { return false; }       \n}\n    class Row {\n        Integer net;\n        Integer count;\n        Integer max;\n        Integer min;\n        Double avg;\n    }\n\n    private void loadRankingsTable) {\n            int r = 0;\n            model.rows = new String[S.getCurrentArchive().partnerCensus.size()][6];\n            for (String p : S.getCurrentArchive().partnerCensus) {\n                PartnerDealFilter pf = new PartnerDealFilter(p); \n                addModelRow(pf, p, r++);\n            }\n    }\n    private void addModelRow(DealFilter f, String key, int r) {\n        Archive a = S.getCurrentArchive().getFilteredArchive(f);\n        Integer max = -24; Integer min = 24;\n        Integer count = 0;\n        for (DealNode dn : a.getDeals()) {\n            Integer imps = dn.getIMPsVsPar();\n            if (imps != null) {\n                count++;\n                if (imps &lt; min) min = imps;\n                if (imps &gt; max) max = imps;\n            }\n        }\n        String[] strings = { key };\n        Integer[] integers = { count, a.getNetIMPs(), max, min };\n        Double[] doubles = { a.getAvgIMPs() != null ? a.getAvgIMPs() : -24.01 };\n--&gt;     model.rows[r][0] = strings[0];\n        model.rows[r][1] = Integers[0]);\n        model.rows[r][2] = integers[1];\n        model.rows[r][3] = integers[2];\n        model.rows[r][4] = integers[3];\n        model.rows[r][5] = doubles[0];        \n    }\n\n</code></pre>\n<p>Previous attempts involved simpler efforts.  I cannot store my table data in the model.\nI know I am missing something simple.  Please help.</p>\n<p>I expected the data model to be loaded.  I received a java.lang.ArrayStoreException in the AWT EventQueue thread.</p>\n"},{"tags":["java","mongodb"],"owner":{"account_id":3227749,"reputation":1860,"user_id":2723677,"accept_rate":61,"display_name":"mmar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670612191,"creation_date":1670612191,"question_id":74747253,"body_markdown":"I am trying to connect mongodb enterprise instance in my project with the below statements, but i am getting an connection error. any solution would be appreciated here.\r\n\r\n    try (MongoClient client = MongoClients.create(URI)) {\r\n         MongoIterable&lt;String&gt; dbNames = client.listDatabaseNames();\r\n         dbNames.forEach(name -&gt; System.out.println(name));\r\n         client.close();\r\n    } catch (MongoException ex) {\r\n         System.out.println(&quot;could not connect mongodb :&quot; + ex);\r\n    }\r\n\r\nand the error i get\r\n\r\n    com.mongodb.MongoSecurityException: Failed to login Subject\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.getSubject(SaslAuthenticator.java:202)\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.doAsSubject(SaslAuthenticator.java:281)\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.authenticate(SaslAuthenticator.java:59)\r\n\r\nBTW, i am using `implementation &#39;org.mongodb:mongodb-driver-sync:4.8.1&#39;`","title":"While connecting mongodb getting &#39;com.mongodb.MongoSecurityException: Failed to login Subject&#39;","body":"<p>I am trying to connect mongodb enterprise instance in my project with the below statements, but i am getting an connection error. any solution would be appreciated here.</p>\n<pre><code>try (MongoClient client = MongoClients.create(URI)) {\n     MongoIterable&lt;String&gt; dbNames = client.listDatabaseNames();\n     dbNames.forEach(name -&gt; System.out.println(name));\n     client.close();\n} catch (MongoException ex) {\n     System.out.println(&quot;could not connect mongodb :&quot; + ex);\n}\n</code></pre>\n<p>and the error i get</p>\n<pre><code>com.mongodb.MongoSecurityException: Failed to login Subject\n    at com.mongodb.internal.connection.SaslAuthenticator.getSubject(SaslAuthenticator.java:202)\n    at com.mongodb.internal.connection.SaslAuthenticator.doAsSubject(SaslAuthenticator.java:281)\n    at com.mongodb.internal.connection.SaslAuthenticator.authenticate(SaslAuthenticator.java:59)\n</code></pre>\n<p>BTW, i am using <code>implementation 'org.mongodb:mongodb-driver-sync:4.8.1'</code></p>\n"},{"tags":["java","spring","spring-boot","kotlin"],"owner":{"account_id":7695446,"reputation":598,"user_id":5830152,"accept_rate":75,"display_name":" J.Kennsy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670611813,"creation_date":1670611813,"question_id":74747188,"body_markdown":"I have been trying to create generic json patch mapper, which would:\r\n* take an `targetBean` and convert it to JsonNode\r\n* apply `patch` to it\r\n* convert patched JsonNode back to \r\n\r\nHere is my attempt, but now I&#39;m getting an error saying **Cannot use &#39;T&#39; as reified type parameter. Use a class instead.**\r\nThis error occurs on line where I do return \r\n\r\n&gt; ...treeToValue(patched, T::class.java\r\n\r\nCode:\r\n```\r\nimport com.fasterxml.jackson.databind.JsonNode\r\nimport com.fasterxml.jackson.module.kotlin.jacksonObjectMapper\r\nimport com.github.fge.jsonpatch.JsonPatch\r\nimport org.springframework.stereotype.Component\r\nimport java.util.function.BiFunction\r\n\r\n@Component\r\nclass JsonPatchMapper&lt;T&gt;: BiFunction&lt;T, JsonPatch, T&gt; {\r\n\r\n    private val objectMapper = jacksonObjectMapper()\r\n    \r\n    override fun apply(targetBean: T, patch: JsonPatch): T {\r\n        val target = objectMapper.convertValue(targetBean, JsonNode::class.java)\r\n        val patched = patch.apply(target)\r\n\r\n        return objectMapper.treeToValue(patched, T::class.java)\r\n    }\r\n}\r\n```\r\n\r\nAny help would be appreciated :)","title":"Creating generic JsonPatchMapper in Kotlin","body":"<p>I have been trying to create generic json patch mapper, which would:</p>\n<ul>\n<li>take an <code>targetBean</code> and convert it to JsonNode</li>\n<li>apply <code>patch</code> to it</li>\n<li>convert patched JsonNode back to</li>\n</ul>\n<p>Here is my attempt, but now I'm getting an error saying <strong>Cannot use 'T' as reified type parameter. Use a class instead.</strong>\nThis error occurs on line where I do return</p>\n<blockquote>\n<p>...treeToValue(patched, T::class.java</p>\n</blockquote>\n<p>Code:</p>\n<pre><code>import com.fasterxml.jackson.databind.JsonNode\nimport com.fasterxml.jackson.module.kotlin.jacksonObjectMapper\nimport com.github.fge.jsonpatch.JsonPatch\nimport org.springframework.stereotype.Component\nimport java.util.function.BiFunction\n\n@Component\nclass JsonPatchMapper&lt;T&gt;: BiFunction&lt;T, JsonPatch, T&gt; {\n\n    private val objectMapper = jacksonObjectMapper()\n    \n    override fun apply(targetBean: T, patch: JsonPatch): T {\n        val target = objectMapper.convertValue(targetBean, JsonNode::class.java)\n        val patched = patch.apply(target)\n\n        return objectMapper.treeToValue(patched, T::class.java)\n    }\n}\n</code></pre>\n<p>Any help would be appreciated :)</p>\n"},{"tags":["java","wait","notify"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1670520695,"post_id":74734136,"comment_id":131899251,"body_markdown":"But what&#39;s the error you are seeing? What specifically?","body":"But what&#39;s the error you are seeing? What specifically?"},{"owner":{"account_id":12091451,"reputation":3,"user_id":8837441,"display_name":"Enrique"},"score":0,"creation_date":1670520995,"post_id":74734136,"comment_id":131899348,"body_markdown":"The threads don&#39;t stop on the wait, or just execute 2 prints each thread and app still running but doing nothing, i really dont know how to do it, im literaly 5 hours with that code without understand nothing","body":"The threads don&#39;t stop on the wait, or just execute 2 prints each thread and app still running but doing nothing, i really dont know how to do it, im literaly 5 hours with that code without understand nothing"}],"answers":[{"tags":[],"owner":{"account_id":12091451,"reputation":3,"user_id":8837441,"display_name":"Enrique"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670610932,"creation_date":1670610932,"answer_id":74747057,"question_id":74734136,"body_markdown":"The error was, I was trying to make wait and notify in the wrong class, the Threads needs to be synchronized in methods deposit and extract, to be controlled. I left here the code if some one else need it.\r\n\r\n    package BPA;\r\n\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n\r\n    public class BPA {\r\n    public static void main(String[] args) {\r\n        Cuenta laCuenta = new Cuenta(40, 500);\r\n        Persona Ramon = new Persona(&quot;Ramon&quot;, laCuenta);\r\n        Persona Quique = new Persona(&quot;Quique&quot;, laCuenta);\r\n        Quique.start();\r\n        Ramon.start();\r\n        try {\r\n            Quique.join();\r\n            Ramon.join();\r\n        } catch (InterruptedException ex) {      \r\n         System.out.println(&quot;Interrupted&quot;);\r\n        }\r\n    }// END MAIN\r\n    }//END CLASS BPA\r\n\r\n\r\n\r\n\r\n     package BPA;\r\n    // @author Enrique\r\n\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n\r\n     public class Persona extends Thread {\r\n\r\n    String nombre;\r\n    private Cuenta cuenta;\r\n\r\n    public Persona(String nombre, Cuenta cuenta) {\r\n        this.nombre = nombre;\r\n        this.cuenta = cuenta;\r\n    }\r\n\r\n    @Override\r\n    public synchronized void run() {\r\n        while (true) {\r\n            cuenta.ingreso(nombre, cuenta);\r\n            cuenta.retiro(nombre, cuenta);\r\n            try {\r\n                sleep(1000);\r\n\r\n            } catch (Exception e) {\r\n                System.out.println(&quot; SLEEP QUITAR&quot;);\r\n            }\r\n            notifyAll();\r\n        }// END WHILE\r\n    }// END RUN\r\n    } // END CLASS PERSONA\r\n\r\n\r\n\r\n      package BPA;\r\n     // @author Enrique\r\n\r\n    import java.util.Random;\r\n\r\n    public class Cuenta {\r\n\r\n    private int saldo;\r\n    private int saldoMax = 500;\r\n    private int saldoMin = 1;\r\n\r\n    public Cuenta(int saldo, int saldoMax) {\r\n        this.saldo = saldo;\r\n        this.saldoMax = saldoMax;\r\n    }\r\n\r\n    public synchronized void retiro(String nombre, Cuenta cuenta) {\r\n        int dinero;\r\n        Random rnd = new Random();\r\n        dinero = (int) (rnd.nextDouble() * 350.0);\r\n        if ((saldo - dinero) &gt; saldoMin) {\r\n            this.saldo = this.saldo - dinero;\r\n            System.out.println(&quot;Name: &quot; + nombre + &quot; extract cash: &quot; + dinero + &quot; TOTAL CASH: &quot; + getSaldo());\r\n            notifyAll();\r\n        } else {\r\n            System.out.println(&quot;  ****  There isn&#39;t enough cash &quot; + nombre + &quot; tryed to extract: &quot; + dinero + &quot; Cash now: &quot; + getSaldo() + &quot; ****&quot;);\r\n            System.out.println(&quot; ---- &quot; + nombre + &quot; IS WAITING TO EXTRACT MORE MONEY ---- &quot;);\r\n            try {\r\n                wait();\r\n\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;SALE POR EL CATCH WAIT de QUITAR&quot;);\r\n            }\r\n        }\r\n    }// END METHOD QUITAR\r\n\r\n    public synchronized void ingreso(String nombre, Cuenta cuenta) {\r\n\r\n        int dinero;\r\n        Random rnd = new Random();\r\n        dinero = (int) (rnd.nextDouble() * 350.0);\r\n\r\n        if ((saldo + dinero) &lt; saldoMax) {\r\n            this.saldo = this.saldo + dinero;\r\n            System.out.println(&quot;Name: &quot; + nombre + &quot; deposit cash: &quot; + dinero + &quot; TOTAL CASH: &quot; + getSaldo());\r\n            notifyAll();\r\n        } else {\r\n            System.out.println(&quot; **** The account can&#39;t have more than 500 Euros. &quot; + nombre + &quot; tryed to deposit: &quot; + dinero + &quot; Cash now: &quot; + getSaldo() + &quot; ****&quot;);\r\n            System.out.println(&quot; ---- &quot; + nombre + &quot; IS WAITING TO DEPOSIT MORE MONEY ---- &quot;);\r\n            try {\r\n                wait();\r\n\r\n            } catch (Exception e) {\r\n                System.out.println(&quot; CATCH WAIT PONER&quot;);\r\n            }\r\n        }\r\n    }// END METHOD PONER\r\n\r\n    public int getSaldo() {\r\n        return saldo;\r\n    }\r\n    }// END CLASS CUENTA\r\n\r\n","title":"How to sync account in Java with two persons","body":"<p>The error was, I was trying to make wait and notify in the wrong class, the Threads needs to be synchronized in methods deposit and extract, to be controlled. I left here the code if some one else need it.</p>\n<pre><code>package BPA;\n\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class BPA {\npublic static void main(String[] args) {\n    Cuenta laCuenta = new Cuenta(40, 500);\n    Persona Ramon = new Persona(&quot;Ramon&quot;, laCuenta);\n    Persona Quique = new Persona(&quot;Quique&quot;, laCuenta);\n    Quique.start();\n    Ramon.start();\n    try {\n        Quique.join();\n        Ramon.join();\n    } catch (InterruptedException ex) {      \n     System.out.println(&quot;Interrupted&quot;);\n    }\n}// END MAIN\n}//END CLASS BPA\n\n\n\n\n package BPA;\n// @author Enrique\n\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\n public class Persona extends Thread {\n\nString nombre;\nprivate Cuenta cuenta;\n\npublic Persona(String nombre, Cuenta cuenta) {\n    this.nombre = nombre;\n    this.cuenta = cuenta;\n}\n\n@Override\npublic synchronized void run() {\n    while (true) {\n        cuenta.ingreso(nombre, cuenta);\n        cuenta.retiro(nombre, cuenta);\n        try {\n            sleep(1000);\n\n        } catch (Exception e) {\n            System.out.println(&quot; SLEEP QUITAR&quot;);\n        }\n        notifyAll();\n    }// END WHILE\n}// END RUN\n} // END CLASS PERSONA\n\n\n\n  package BPA;\n // @author Enrique\n\nimport java.util.Random;\n\npublic class Cuenta {\n\nprivate int saldo;\nprivate int saldoMax = 500;\nprivate int saldoMin = 1;\n\npublic Cuenta(int saldo, int saldoMax) {\n    this.saldo = saldo;\n    this.saldoMax = saldoMax;\n}\n\npublic synchronized void retiro(String nombre, Cuenta cuenta) {\n    int dinero;\n    Random rnd = new Random();\n    dinero = (int) (rnd.nextDouble() * 350.0);\n    if ((saldo - dinero) &gt; saldoMin) {\n        this.saldo = this.saldo - dinero;\n        System.out.println(&quot;Name: &quot; + nombre + &quot; extract cash: &quot; + dinero + &quot; TOTAL CASH: &quot; + getSaldo());\n        notifyAll();\n    } else {\n        System.out.println(&quot;  ****  There isn't enough cash &quot; + nombre + &quot; tryed to extract: &quot; + dinero + &quot; Cash now: &quot; + getSaldo() + &quot; ****&quot;);\n        System.out.println(&quot; ---- &quot; + nombre + &quot; IS WAITING TO EXTRACT MORE MONEY ---- &quot;);\n        try {\n            wait();\n\n        } catch (Exception e) {\n            System.out.println(&quot;SALE POR EL CATCH WAIT de QUITAR&quot;);\n        }\n    }\n}// END METHOD QUITAR\n\npublic synchronized void ingreso(String nombre, Cuenta cuenta) {\n\n    int dinero;\n    Random rnd = new Random();\n    dinero = (int) (rnd.nextDouble() * 350.0);\n\n    if ((saldo + dinero) &lt; saldoMax) {\n        this.saldo = this.saldo + dinero;\n        System.out.println(&quot;Name: &quot; + nombre + &quot; deposit cash: &quot; + dinero + &quot; TOTAL CASH: &quot; + getSaldo());\n        notifyAll();\n    } else {\n        System.out.println(&quot; **** The account can't have more than 500 Euros. &quot; + nombre + &quot; tryed to deposit: &quot; + dinero + &quot; Cash now: &quot; + getSaldo() + &quot; ****&quot;);\n        System.out.println(&quot; ---- &quot; + nombre + &quot; IS WAITING TO DEPOSIT MORE MONEY ---- &quot;);\n        try {\n            wait();\n\n        } catch (Exception e) {\n            System.out.println(&quot; CATCH WAIT PONER&quot;);\n        }\n    }\n}// END METHOD PONER\n\npublic int getSaldo() {\n    return saldo;\n}\n}// END CLASS CUENTA\n</code></pre>\n"}],"owner":{"account_id":12091451,"reputation":3,"user_id":8837441,"display_name":"Enrique"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670610932,"creation_date":1670520561,"question_id":74734136,"body_markdown":"You have 1 account, shared by 2 people, they need to extract and deposit money in the same account, methods deposit and extract must be synchronized, the max cash for the account must be 500 €, and the minimum cash must be 1€, the app must have only 3 classes Persona, Cuenta, BPA.\r\n\r\nIf one Thread can&#39;t deposit or extract must use wait, to wait the another thread, and use notify All, when the Thread stopped should continue, the app will need running until both Threads can&#39;t deposit and extract cash.\r\n\r\nThe threads don&#39;t stop on the wait, or just execute 2 prints each thread and app still running but doing nothing, i really don&#39;t know how to do it, I&#39;m literally 5 hours with that code without understand nothing\r\n\r\n\r\n```Java\r\npackage BPA;\r\n\r\n// @author Enrique\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n\r\npublic class BPA {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Cuenta laCuenta = new Cuenta(40, 500);\r\n\r\n        Persona Ramon = new Persona(&quot;Ramon&quot;, laCuenta);\r\n        Persona Quique = new Persona(&quot;Quique&quot;, laCuenta);\r\n\r\n        Quique.start();\r\n        Ramon.start();\r\n\r\n    }// END MAIN\r\n\r\n}//END CLASS BPA\r\n```\r\n\r\n```Java\r\n\r\npackage BPA;\r\n\r\n// @author Enrique\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n\r\npublic class Persona extends Thread {\r\n\r\n    String nombre;\r\n    private Cuenta cuenta;\r\n    private static Object cerrojo = new Object();\r\n\r\n    public Persona(String nombre, Cuenta cuenta) {\r\n        this.nombre = nombre;\r\n        this.cuenta = cuenta;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        synchronized (cerrojo) {\r\n            while (true) {\r\n                cuenta.deposit(nombre, cuenta);\r\n                cuenta.extract(nombre, cuenta);\r\n\r\n                try {\r\n                    // if(Persona.interrupted()){\r\n                    cerrojo.wait();\r\n                    System.out.println(&quot;STOPPED&quot;);\r\n                    // }\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                System.out.println(&quot;I&#39;M THE THREAD: &quot; + nombre);\r\n                cerrojo.notifyAll();\r\n            }\r\n       } // END SYNC\r\n    }// END RUN\r\n\r\n}// END CLASS PERSONA\r\n```\r\n\r\n```Java\r\n\r\npackage BPA;\r\n\r\n// @author Enrique\r\nimport java.util.Random;\r\n\r\npublic class Cuenta extends Thread {\r\n\r\n    private int saldo;\r\n    private int saldoMax = 500;\r\n    private int saldoMin = 1;\r\n\r\n    public Cuenta(int saldo, int saldoMax) {\r\n        this.saldo = saldo;\r\n        this.saldoMax = saldoMax;\r\n    }\r\n\r\n    public synchronized void extract(String nombre, Cuenta cuenta) {\r\n        //  while (true) {\r\n        int dinero;\r\n        Random rnd = new Random();\r\n        dinero = (int) (rnd.nextDouble() * 250.0);\r\n        if ((saldo - dinero) &gt; saldoMin) {\r\n            this.saldo = this.saldo - dinero;\r\n            System.out.println(&quot;Name: &quot; + nombre + &quot; extract cash: &quot; + dinero + &quot; TOTAL CASH: &quot; + getSaldo());\r\n        } else {\r\n            System.out.println(&quot;There isn&#39;t enough cash &quot; + nombre + &quot; tryed to extract: &quot; + dinero + &quot; Cash now: &quot; + getSaldo());\r\n            // try {\r\n            // miCuenta.wait();\r\n            // System.out.println(&quot;SE PARA EN EL WAIT DE QUITAR&quot;);\r\n            // } catch (Exception e) {\r\n            // System.out.println(&quot;SALE POR EL CATCH WAIT de QUITAR&quot;);\r\n            // }\r\n            try {\r\n                sleep(500);\r\n            } catch (Exception e) {\r\n                System.out.println(&quot; SLEEP QUITAR&quot;);\r\n            }\r\n        }\r\n        //  miCuenta.notify();\r\n        //  } //END while\r\n\r\n    }// END METHOD QUITAR\r\n\r\n    public synchronized void deposit(String nombre, Cuenta cuenta) {\r\n        //   while (true) {\r\n        int dinero;\r\n        Random rnd = new Random();\r\n        dinero = (int) (rnd.nextDouble() * 250.0);\r\n\r\n        if ((saldo + dinero) &lt; saldoMax) {\r\n            this.saldo = this.saldo + dinero;\r\n            System.out.println(&quot;Name: &quot; + nombre + &quot; deposit cash: &quot; + dinero + &quot; TOTAL CASH: &quot; + getSaldo());\r\n\r\n        } else {\r\n            System.out.println(&quot;The account can&#39;t have more than 500 Euros. &quot; + nombre + &quot; tryed to deposit: &quot; + dinero + &quot; Cash now: &quot; + getSaldo());\r\n                //  try {\r\n                //  miCuenta.wait();\r\n                //  System.out.println(&quot; WAIT PONER&quot;);\r\n                //   } catch (Exception e) {\r\n                //  System.out.println(&quot; CATCH WAIT PONER&quot;);\r\n                //   }\r\n            try {\r\n                sleep(500);\r\n            } catch (Exception e) {\r\n                System.out.println(&quot; SLEEP  PONER&quot;);\r\n            }\r\n        }\r\n        // miCuenta.notify();\r\n        // }// END while\r\n\r\n    }// END METHOD PONER\r\n\r\n        public int getSaldo() {\r\n        return saldo;\r\n    }\r\n\r\n\r\n}// END CLASS CUENTA\r\n\r\n```\r\n\r\n\r\nI can&#39;t make this app run as I want to do. ","title":"How to sync account in Java with two persons","body":"<p>You have 1 account, shared by 2 people, they need to extract and deposit money in the same account, methods deposit and extract must be synchronized, the max cash for the account must be 500 €, and the minimum cash must be 1€, the app must have only 3 classes Persona, Cuenta, BPA.</p>\n<p>If one Thread can't deposit or extract must use wait, to wait the another thread, and use notify All, when the Thread stopped should continue, the app will need running until both Threads can't deposit and extract cash.</p>\n<p>The threads don't stop on the wait, or just execute 2 prints each thread and app still running but doing nothing, i really don't know how to do it, I'm literally 5 hours with that code without understand nothing</p>\n<pre><code>package BPA;\n\n// @author Enrique\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class BPA {\n\n    public static void main(String[] args) {\n\n        Cuenta laCuenta = new Cuenta(40, 500);\n\n        Persona Ramon = new Persona(&quot;Ramon&quot;, laCuenta);\n        Persona Quique = new Persona(&quot;Quique&quot;, laCuenta);\n\n        Quique.start();\n        Ramon.start();\n\n    }// END MAIN\n\n}//END CLASS BPA\n</code></pre>\n<pre><code>\npackage BPA;\n\n// @author Enrique\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class Persona extends Thread {\n\n    String nombre;\n    private Cuenta cuenta;\n    private static Object cerrojo = new Object();\n\n    public Persona(String nombre, Cuenta cuenta) {\n        this.nombre = nombre;\n        this.cuenta = cuenta;\n    }\n\n    @Override\n    public void run() {\n        synchronized (cerrojo) {\n            while (true) {\n                cuenta.deposit(nombre, cuenta);\n                cuenta.extract(nombre, cuenta);\n\n                try {\n                    // if(Persona.interrupted()){\n                    cerrojo.wait();\n                    System.out.println(&quot;STOPPED&quot;);\n                    // }\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                System.out.println(&quot;I'M THE THREAD: &quot; + nombre);\n                cerrojo.notifyAll();\n            }\n       } // END SYNC\n    }// END RUN\n\n}// END CLASS PERSONA\n</code></pre>\n<pre><code>\npackage BPA;\n\n// @author Enrique\nimport java.util.Random;\n\npublic class Cuenta extends Thread {\n\n    private int saldo;\n    private int saldoMax = 500;\n    private int saldoMin = 1;\n\n    public Cuenta(int saldo, int saldoMax) {\n        this.saldo = saldo;\n        this.saldoMax = saldoMax;\n    }\n\n    public synchronized void extract(String nombre, Cuenta cuenta) {\n        //  while (true) {\n        int dinero;\n        Random rnd = new Random();\n        dinero = (int) (rnd.nextDouble() * 250.0);\n        if ((saldo - dinero) &gt; saldoMin) {\n            this.saldo = this.saldo - dinero;\n            System.out.println(&quot;Name: &quot; + nombre + &quot; extract cash: &quot; + dinero + &quot; TOTAL CASH: &quot; + getSaldo());\n        } else {\n            System.out.println(&quot;There isn't enough cash &quot; + nombre + &quot; tryed to extract: &quot; + dinero + &quot; Cash now: &quot; + getSaldo());\n            // try {\n            // miCuenta.wait();\n            // System.out.println(&quot;SE PARA EN EL WAIT DE QUITAR&quot;);\n            // } catch (Exception e) {\n            // System.out.println(&quot;SALE POR EL CATCH WAIT de QUITAR&quot;);\n            // }\n            try {\n                sleep(500);\n            } catch (Exception e) {\n                System.out.println(&quot; SLEEP QUITAR&quot;);\n            }\n        }\n        //  miCuenta.notify();\n        //  } //END while\n\n    }// END METHOD QUITAR\n\n    public synchronized void deposit(String nombre, Cuenta cuenta) {\n        //   while (true) {\n        int dinero;\n        Random rnd = new Random();\n        dinero = (int) (rnd.nextDouble() * 250.0);\n\n        if ((saldo + dinero) &lt; saldoMax) {\n            this.saldo = this.saldo + dinero;\n            System.out.println(&quot;Name: &quot; + nombre + &quot; deposit cash: &quot; + dinero + &quot; TOTAL CASH: &quot; + getSaldo());\n\n        } else {\n            System.out.println(&quot;The account can't have more than 500 Euros. &quot; + nombre + &quot; tryed to deposit: &quot; + dinero + &quot; Cash now: &quot; + getSaldo());\n                //  try {\n                //  miCuenta.wait();\n                //  System.out.println(&quot; WAIT PONER&quot;);\n                //   } catch (Exception e) {\n                //  System.out.println(&quot; CATCH WAIT PONER&quot;);\n                //   }\n            try {\n                sleep(500);\n            } catch (Exception e) {\n                System.out.println(&quot; SLEEP  PONER&quot;);\n            }\n        }\n        // miCuenta.notify();\n        // }// END while\n\n    }// END METHOD PONER\n\n        public int getSaldo() {\n        return saldo;\n    }\n\n\n}// END CLASS CUENTA\n\n</code></pre>\n<p>I can't make this app run as I want to do.</p>\n"},{"tags":["java","android","android-studio","error-handling","android-gradle-plugin"],"comments":[{"owner":{"account_id":9591845,"reputation":1778,"user_id":7122438,"accept_rate":83,"display_name":"Jacob Celestine"},"score":2,"creation_date":1533723856,"post_id":51744192,"comment_id":90448374,"body_markdown":"Click on bottom right corner icon in android studio(probably a smiling face) and uncheck the Power Save Mode. Did you do that or the system power save mode?","body":"Click on bottom right corner icon in android studio(probably a smiling face) and uncheck the Power Save Mode. Did you do that or the system power save mode?"},{"owner":{"account_id":12176013,"reputation":683,"user_id":9155610,"display_name":"Rajesh K"},"score":0,"creation_date":1533739884,"post_id":51744192,"comment_id":90459162,"body_markdown":"@JacobCelestine Thanks for the reply and sorry for the delayed response. Yes I have Disabled the Power saver and also my system/laptop is also not in power saver mode. Any other suggestion?","body":"@JacobCelestine Thanks for the reply and sorry for the delayed response. Yes I have Disabled the Power saver and also my system/laptop is also not in power saver mode. Any other suggestion?"},{"owner":{"account_id":9591845,"reputation":1778,"user_id":7122438,"accept_rate":83,"display_name":"Jacob Celestine"},"score":1,"creation_date":1533742300,"post_id":51744192,"comment_id":90460824,"body_markdown":"Try running inspection manually with Inspect Code on the Analyze menu","body":"Try running inspection manually with Inspect Code on the Analyze menu"},{"owner":{"account_id":12176013,"reputation":683,"user_id":9155610,"display_name":"Rajesh K"},"score":0,"creation_date":1533742380,"post_id":51744192,"comment_id":90460876,"body_markdown":"@JacobCelestine Tried it. But it shows that scanned x files and no errors found. Where as I have some errors in the code.","body":"@JacobCelestine Tried it. But it shows that scanned x files and no errors found. Where as I have some errors in the code."},{"owner":{"account_id":9591845,"reputation":1778,"user_id":7122438,"accept_rate":83,"display_name":"Jacob Celestine"},"score":1,"creation_date":1533742865,"post_id":51744192,"comment_id":90461187,"body_markdown":"Try this then:\nBACK UP your project.\nDelete all .iml files and .idea folder.\nRelaunch Android Studio and import your project.","body":"Try this then: BACK UP your project. Delete all .iml files and .idea folder. Relaunch Android Studio and import your project."},{"owner":{"account_id":12176013,"reputation":683,"user_id":9155610,"display_name":"Rajesh K"},"score":0,"creation_date":1533743024,"post_id":51744192,"comment_id":90461280,"body_markdown":"@JacobCelestine OK. Will try and update very soon.","body":"@JacobCelestine OK. Will try and update very soon."},{"owner":{"account_id":12176013,"reputation":683,"user_id":9155610,"display_name":"Rajesh K"},"score":0,"creation_date":1533744231,"post_id":51744192,"comment_id":90461984,"body_markdown":"@JacobCelestine It gives error &quot;app.iml&quot; not found.","body":"@JacobCelestine It gives error &quot;app.iml&quot; not found."},{"owner":{"account_id":9591845,"reputation":1778,"user_id":7122438,"accept_rate":83,"display_name":"Jacob Celestine"},"score":1,"creation_date":1533744683,"post_id":51744192,"comment_id":90462237,"body_markdown":"Rebuild the project. Build -&gt; Rebuild.","body":"Rebuild the project. Build -&gt; Rebuild."},{"owner":{"account_id":12176013,"reputation":683,"user_id":9155610,"display_name":"Rajesh K"},"score":0,"creation_date":1533745232,"post_id":51744192,"comment_id":90462529,"body_markdown":"This is the error which is given `Error:Failed to complete Gradle execution. Cause:\nWrite access is allowed from event dispatch thread only` @JacobCelestine","body":"This is the error which is given <code>Error:Failed to complete Gradle execution. Cause: Write access is allowed from event dispatch thread only</code> @JacobCelestine"},{"owner":{"account_id":9591845,"reputation":1778,"user_id":7122438,"accept_rate":83,"display_name":"Jacob Celestine"},"score":1,"creation_date":1533745314,"post_id":51744192,"comment_id":90462575,"body_markdown":"refer this: https://stackoverflow.com/questions/39828043/gradle-error-write-access-is-allowed-from-event-dispatch-thread-only-in-androi","body":"refer this: <a href=\"https://stackoverflow.com/questions/39828043/gradle-error-write-access-is-allowed-from-event-dispatch-thread-only-in-androi\" title=\"gradle error write access is allowed from event dispatch thread only in androi\">stackoverflow.com/questions/39828043/&hellip;</a>"},{"owner":{"account_id":12176013,"reputation":683,"user_id":9155610,"display_name":"Rajesh K"},"score":0,"creation_date":1533749972,"post_id":51744192,"comment_id":90465077,"body_markdown":"@JacobCelestine Now It is showing some errors such as repeated Variables but it is also showing errors for `android.os.Bundle` import and many other import also. But the situation is better than before.","body":"@JacobCelestine Now It is showing some errors such as repeated Variables but it is also showing errors for <code>android.os.Bundle</code> import and many other import also. But the situation is better than before."},{"owner":{"account_id":9591845,"reputation":1778,"user_id":7122438,"accept_rate":83,"display_name":"Jacob Celestine"},"score":1,"creation_date":1533750399,"post_id":51744192,"comment_id":90465258,"body_markdown":"that&#39;s out of this questions reach. You&#39;ll have to open another issue for those. Is your problem fixed? If yes I&#39;ll post the answer so can you just accept that?","body":"that&#39;s out of this questions reach. You&#39;ll have to open another issue for those. Is your problem fixed? If yes I&#39;ll post the answer so can you just accept that?"},{"owner":{"account_id":12176013,"reputation":683,"user_id":9155610,"display_name":"Rajesh K"},"score":0,"creation_date":1533752548,"post_id":51744192,"comment_id":90466429,"body_markdown":"@JacobCelestine Yes please post an Answer. You have helped me a lot till now. Will surely create a new Question and post the link. Please post an answer.","body":"@JacobCelestine Yes please post an Answer. You have helped me a lot till now. Will surely create a new Question and post the link. Please post an answer."},{"owner":{"account_id":9591845,"reputation":1778,"user_id":7122438,"accept_rate":83,"display_name":"Jacob Celestine"},"score":0,"creation_date":1533752994,"post_id":51744192,"comment_id":90466657,"body_markdown":"I&#39;ve posted an answer. Please accept and upvote it and close this issue. Thanks!","body":"I&#39;ve posted an answer. Please accept and upvote it and close this issue. Thanks!"}],"answers":[{"comments":[{"owner":{"account_id":12176013,"reputation":683,"user_id":9155610,"display_name":"Rajesh K"},"score":0,"creation_date":1533829808,"post_id":51753421,"comment_id":90501298,"body_markdown":"I have created a new question here https://stackoverflow.com/questions/51771307/android-studio-showing-imports-error Can you please help.","body":"I have created a new question here <a href=\"https://stackoverflow.com/questions/51771307/android-studio-showing-imports-error\" title=\"android studio showing imports error\">stackoverflow.com/questions/51771307/&hellip;</a> Can you please help."},{"owner":{"account_id":9591845,"reputation":1778,"user_id":7122438,"accept_rate":83,"display_name":"Jacob Celestine"},"score":0,"creation_date":1533838231,"post_id":51753421,"comment_id":90505569,"body_markdown":"I&#39;ll definitely take a look at it tomorrow :)","body":"I&#39;ll definitely take a look at it tomorrow :)"}],"tags":[],"owner":{"account_id":9591845,"reputation":1778,"user_id":7122438,"accept_rate":83,"display_name":"Jacob Celestine"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1533752954,"creation_date":1533752954,"answer_id":51753421,"question_id":51744192,"body_markdown":"Try running inspection manually with `Inspect Code` on the `Analyze` menu.\r\n\r\nIf that doesn&#39;t work then try doing this:\r\n\r\n 1. BACK UP your project.\r\n 2. Delete all .iml files and .idea folder.\r\n 3. Relaunch Android Studio and import your project","title":"Android Studio not showing Inline Error","body":"<p>Try running inspection manually with <code>Inspect Code</code> on the <code>Analyze</code> menu.</p>\n\n<p>If that doesn't work then try doing this:</p>\n\n<ol>\n<li>BACK UP your project.</li>\n<li>Delete all .iml files and .idea folder.</li>\n<li>Relaunch Android Studio and import your project</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19519736,"reputation":1,"user_id":14282212,"display_name":"Carlos Mazzoli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670610769,"creation_date":1670610769,"answer_id":74747038,"question_id":51744192,"body_markdown":"In my case, deactivate &quot;Power save mode&quot; solve the problem.\r\n\r\nIn menu &quot;File-&gt;Power Save Mode&quot; (just in the end of menu, preview to &quot;Exit&quot; option)\r\n\r\nSlds!","title":"Android Studio not showing Inline Error","body":"<p>In my case, deactivate &quot;Power save mode&quot; solve the problem.</p>\n<p>In menu &quot;File-&gt;Power Save Mode&quot; (just in the end of menu, preview to &quot;Exit&quot; option)</p>\n<p>Slds!</p>\n"}],"owner":{"account_id":12176013,"reputation":683,"user_id":9155610,"display_name":"Rajesh K"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":51753421,"answer_count":2,"score":0,"last_activity_date":1670610769,"creation_date":1533723417,"question_id":51744192,"body_markdown":"I am using Android Studio(3.0) to make an Android App. But suddenly the Android Studio has stopped showing inline errors where as there are still errors which are shown while building the app.\r\n\r\nTill now I have tried the below solution\r\n\r\n1) Clean Project\r\n\r\n2) Rebuild project\r\n\r\n3) Invalidate cache and restart\r\n\r\n4) Check if the power save mode is on\r\n\r\n5) Resync the Gradle\r\n\r\n6) Delete the .gradle and .idea folder\r\n\r\nBut none of them have been useful. This problem has started suddenly.\r\n\r\nAny help would be really appreciated.\r\n ","title":"Android Studio not showing Inline Error","body":"<p>I am using Android Studio(3.0) to make an Android App. But suddenly the Android Studio has stopped showing inline errors where as there are still errors which are shown while building the app.</p>\n\n<p>Till now I have tried the below solution</p>\n\n<p>1) Clean Project</p>\n\n<p>2) Rebuild project</p>\n\n<p>3) Invalidate cache and restart</p>\n\n<p>4) Check if the power save mode is on</p>\n\n<p>5) Resync the Gradle</p>\n\n<p>6) Delete the .gradle and .idea folder</p>\n\n<p>But none of them have been useful. This problem has started suddenly.</p>\n\n<p>Any help would be really appreciated.</p>\n"},{"tags":["java","json","jackson","yaml"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670610633,"creation_date":1670610633,"answer_id":74747017,"question_id":74743065,"body_markdown":"You can disable the [`YAMLGenerator.Feature#USE_NATIVE_OBJECT_ID`](https://fasterxml.github.io/jackson-dataformats-text/javadoc/yaml/2.12/com/fasterxml/jackson/dataformat/yaml/YAMLGenerator.Feature.html#USE_NATIVE_OBJECT_ID) yaml feature that is enabled by default for indicate types in the serialization. So in the construction of your `ObjectMapper` YAML_MAPPER mapper you can disable this feature like below obtaining the expected result:\r\n\r\n~~~\r\nObjectMapper YAML_MAPPER = YAMLMapper.builder()\r\n                .disable(YAMLGenerator.Feature.WRITE_DOC_START_MARKER) \r\n                .disable(YAMLGenerator.Feature.USE_NATIVE_TYPE_ID)\r\n                .build();\r\n~~~","title":"Unable to remove tag when serializing object to yaml using jackson-dataformat-yaml","body":"<p>You can disable the <a href=\"https://fasterxml.github.io/jackson-dataformats-text/javadoc/yaml/2.12/com/fasterxml/jackson/dataformat/yaml/YAMLGenerator.Feature.html#USE_NATIVE_OBJECT_ID\" rel=\"nofollow noreferrer\"><code>YAMLGenerator.Feature#USE_NATIVE_OBJECT_ID</code></a> yaml feature that is enabled by default for indicate types in the serialization. So in the construction of your <code>ObjectMapper</code> YAML_MAPPER mapper you can disable this feature like below obtaining the expected result:</p>\n<pre><code>ObjectMapper YAML_MAPPER = YAMLMapper.builder()\n                .disable(YAMLGenerator.Feature.WRITE_DOC_START_MARKER) \n                .disable(YAMLGenerator.Feature.USE_NATIVE_TYPE_ID)\n                .build();\n</code></pre>\n"}],"owner":{"account_id":88022,"reputation":26116,"user_id":243755,"accept_rate":60,"display_name":"zjffdu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74747017,"answer_count":1,"score":1,"last_activity_date":1670610660,"creation_date":1670588419,"question_id":74743065,"body_markdown":"I use jackson (jackson-databinder &amp; jackson-dataformat-yaml) to serialize polymorphism classes to both json and yaml. And I use one class property as type resolver. I can remove the class metadata info in json, but in yaml it still contain the class meta info in tag. How can I remove that. Here&#39;s my sample code:\r\n\r\n      @JsonTypeInfo(use = JsonTypeInfo.Id.NAME,\r\n          include = JsonTypeInfo.As.EXISTING_PROPERTY,\r\n          property = &quot;type&quot;)\r\n      @JsonSubTypes({\r\n          @Type(value = Car.class, name = &quot;car&quot;),\r\n          @Type(value = Truck.class, name = &quot;truck&quot;) })\r\n      public interface Vehicle {\r\n    \r\n    \r\n        String getName();\r\n      }\r\n    \r\n      @Value\r\n      public static class Car implements Vehicle {\r\n        String name;\r\n        String type = &quot;car&quot;;\r\n    \r\n        @JsonCreator\r\n        public Car(@JsonProperty(&quot;name&quot;) final String name) {\r\n          this.name = requireNonNull(name);\r\n        }\r\n      }\r\n    \r\n      @Value\r\n      public static class Truck implements Vehicle {\r\n        String name;\r\n        String type = &quot;truck&quot;;\r\n    \r\n        @JsonCreator\r\n        public Truck(@JsonProperty(&quot;name&quot;) final String name) {\r\n          this.name = requireNonNull(name);\r\n        }\r\n      }\r\n    \r\n      @Value\r\n      public static class Vehicles {\r\n        List&lt;Vehicle&gt; vehicles;\r\n    \r\n        @JsonCreator\r\n        public Vehicles(@JsonProperty(&quot;vehicles&quot;) final List&lt;Vehicle&gt; vehicles) {\r\n          super();\r\n          this.vehicles = requireNonNull(vehicles);\r\n        }\r\n      }\r\n\r\n\r\n      public static void main(String[] args) throws JsonProcessingException {\r\n        ObjectMapper MAPPER = new ObjectMapper();\r\n        ObjectMapper YAML_MAPPER = YAMLMapper.builder()\r\n            .disable(YAMLGenerator.Feature.WRITE_DOC_START_MARKER)\r\n            .build();\r\n    \r\n        final Vehicles vehicles = new Vehicles(ImmutableList.of(new Car(&quot;Dodge&quot;), new Truck(&quot;Scania&quot;)));\r\n        final String json = MAPPER.writerWithDefaultPrettyPrinter().writeValueAsString(vehicles);\r\n        System.out.println(json);\r\n    \r\n        final String yaml = YAML_MAPPER.writerWithDefaultPrettyPrinter().writeValueAsString(vehicles);\r\n        System.out.println(yaml);\r\n    \r\n      }\r\n\r\nAnd here&#39;s json and yaml output:\r\n\r\n    {\r\n      &quot;vehicles&quot; : [ {\r\n        &quot;name&quot; : &quot;Dodge&quot;,\r\n        &quot;type&quot; : &quot;car&quot;\r\n      }, {\r\n        &quot;name&quot; : &quot;Scania&quot;,\r\n        &quot;type&quot; : &quot;truck&quot;\r\n      } ]\r\n    }\r\n    vehicles:\r\n    - !&lt;car&gt;\r\n      name: &quot;Dodge&quot;\r\n      type: &quot;car&quot;\r\n    - !&lt;truck&gt;\r\n      name: &quot;Scania&quot;\r\n      type: &quot;truck&quot;\r\n\r\n\r\nThere&#39;s no class meta info in json output. But in yaml, there&#39;re still the tag which contains the class meta info. Is it possible to remove that in yaml as json? Thanks","title":"Unable to remove tag when serializing object to yaml using jackson-dataformat-yaml","body":"<p>I use jackson (jackson-databinder &amp; jackson-dataformat-yaml) to serialize polymorphism classes to both json and yaml. And I use one class property as type resolver. I can remove the class metadata info in json, but in yaml it still contain the class meta info in tag. How can I remove that. Here's my sample code:</p>\n<pre><code>  @JsonTypeInfo(use = JsonTypeInfo.Id.NAME,\n      include = JsonTypeInfo.As.EXISTING_PROPERTY,\n      property = &quot;type&quot;)\n  @JsonSubTypes({\n      @Type(value = Car.class, name = &quot;car&quot;),\n      @Type(value = Truck.class, name = &quot;truck&quot;) })\n  public interface Vehicle {\n\n\n    String getName();\n  }\n\n  @Value\n  public static class Car implements Vehicle {\n    String name;\n    String type = &quot;car&quot;;\n\n    @JsonCreator\n    public Car(@JsonProperty(&quot;name&quot;) final String name) {\n      this.name = requireNonNull(name);\n    }\n  }\n\n  @Value\n  public static class Truck implements Vehicle {\n    String name;\n    String type = &quot;truck&quot;;\n\n    @JsonCreator\n    public Truck(@JsonProperty(&quot;name&quot;) final String name) {\n      this.name = requireNonNull(name);\n    }\n  }\n\n  @Value\n  public static class Vehicles {\n    List&lt;Vehicle&gt; vehicles;\n\n    @JsonCreator\n    public Vehicles(@JsonProperty(&quot;vehicles&quot;) final List&lt;Vehicle&gt; vehicles) {\n      super();\n      this.vehicles = requireNonNull(vehicles);\n    }\n  }\n\n\n  public static void main(String[] args) throws JsonProcessingException {\n    ObjectMapper MAPPER = new ObjectMapper();\n    ObjectMapper YAML_MAPPER = YAMLMapper.builder()\n        .disable(YAMLGenerator.Feature.WRITE_DOC_START_MARKER)\n        .build();\n\n    final Vehicles vehicles = new Vehicles(ImmutableList.of(new Car(&quot;Dodge&quot;), new Truck(&quot;Scania&quot;)));\n    final String json = MAPPER.writerWithDefaultPrettyPrinter().writeValueAsString(vehicles);\n    System.out.println(json);\n\n    final String yaml = YAML_MAPPER.writerWithDefaultPrettyPrinter().writeValueAsString(vehicles);\n    System.out.println(yaml);\n\n  }\n</code></pre>\n<p>And here's json and yaml output:</p>\n<pre><code>{\n  &quot;vehicles&quot; : [ {\n    &quot;name&quot; : &quot;Dodge&quot;,\n    &quot;type&quot; : &quot;car&quot;\n  }, {\n    &quot;name&quot; : &quot;Scania&quot;,\n    &quot;type&quot; : &quot;truck&quot;\n  } ]\n}\nvehicles:\n- !&lt;car&gt;\n  name: &quot;Dodge&quot;\n  type: &quot;car&quot;\n- !&lt;truck&gt;\n  name: &quot;Scania&quot;\n  type: &quot;truck&quot;\n</code></pre>\n<p>There's no class meta info in json output. But in yaml, there're still the tag which contains the class meta info. Is it possible to remove that in yaml as json? Thanks</p>\n"},{"tags":["java","spring","mongodb","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":938578,"reputation":5229,"user_id":4657798,"display_name":"Miloš Milivojević"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1461252755,"creation_date":1461252755,"answer_id":36774240,"question_id":31019139,"body_markdown":"It shouldn&#39;t be possible, the documentation states that the collection field should be collection name, therefore not an expression:\r\nhttp://docs.spring.io/spring-data/data-mongodb/docs/current/api/org/springframework/data/mongodb/core/mapping/Document.html\r\n\r\nAs far as your other question is concerned - even if passing an expression was possible, I would recommend creating a new repository class - code duplication would not be bad and also your microservices may need to perform different queries and the single repository class approach would force you to keep query methods for all microservices within the same interface, which isn&#39;t very clean.\r\n\r\nTake a look at this video, they list some very interesting approaches: http://www.infoq.com/presentations/Micro-Services\r\n\r\n","title":"Specify MongoDb collection name at runtime in Spring boot","body":"<p>It shouldn't be possible, the documentation states that the collection field should be collection name, therefore not an expression:\n<a href=\"http://docs.spring.io/spring-data/data-mongodb/docs/current/api/org/springframework/data/mongodb/core/mapping/Document.html\" rel=\"nofollow\">http://docs.spring.io/spring-data/data-mongodb/docs/current/api/org/springframework/data/mongodb/core/mapping/Document.html</a></p>\n\n<p>As far as your other question is concerned - even if passing an expression was possible, I would recommend creating a new repository class - code duplication would not be bad and also your microservices may need to perform different queries and the single repository class approach would force you to keep query methods for all microservices within the same interface, which isn't very clean.</p>\n\n<p>Take a look at this video, they list some very interesting approaches: <a href=\"http://www.infoq.com/presentations/Micro-Services\" rel=\"nofollow\">http://www.infoq.com/presentations/Micro-Services</a></p>\n"},{"tags":[],"owner":{"account_id":9366757,"reputation":793,"user_id":8031498,"accept_rate":67,"display_name":"Steve Storck"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1606476326,"creation_date":1606476326,"answer_id":65036567,"question_id":31019139,"body_markdown":"This is a really old thread, but I will add some better information here in case someone else finds this discussion, because things are a bit more flexible than what the accepted answer claims.\r\n\r\nYou can use an expression for the collection name because spel is an acceptable way to resolve the collection name.  For example, if you have a property in your application.properties file like this:\r\n\r\n    mongo.collection.name = my_docs\r\n\r\nAnd if you create a spring bean for this property in your configuration class like this:\r\n\r\n    @Bean(&quot;myDocumentCollection&quot;)\r\n    public String mongoCollectionName(@Value(&quot;${mongo.collection.name}&quot;) final String collectionName) {\r\n        return collectionName\r\n    }\r\n\r\nThen you can use that as the collection name for a persistence document model like this:\r\n\r\n    @Document(collection = &quot;#{@myDocumentCollection}&quot;)\r\n    public class SomeModel {\r\n        @Id\r\n        private String id;\r\n        // other members and accessors/mutators\r\n        // omitted for brevity\r\n    }","title":"Specify MongoDb collection name at runtime in Spring boot","body":"<p>This is a really old thread, but I will add some better information here in case someone else finds this discussion, because things are a bit more flexible than what the accepted answer claims.</p>\n<p>You can use an expression for the collection name because spel is an acceptable way to resolve the collection name.  For example, if you have a property in your application.properties file like this:</p>\n<pre><code>mongo.collection.name = my_docs\n</code></pre>\n<p>And if you create a spring bean for this property in your configuration class like this:</p>\n<pre><code>@Bean(&quot;myDocumentCollection&quot;)\npublic String mongoCollectionName(@Value(&quot;${mongo.collection.name}&quot;) final String collectionName) {\n    return collectionName\n}\n</code></pre>\n<p>Then you can use that as the collection name for a persistence document model like this:</p>\n<pre><code>@Document(collection = &quot;#{@myDocumentCollection}&quot;)\npublic class SomeModel {\n    @Id\n    private String id;\n    // other members and accessors/mutators\n    // omitted for brevity\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4980140,"reputation":3385,"user_id":4005379,"accept_rate":64,"display_name":"Alferd Nobel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670610009,"creation_date":1670610009,"answer_id":74746929,"question_id":31019139,"body_markdown":"I used `@environment.getProperty()` to read from my `application.yml`. Like so :\r\n\r\n*application.yml:*\r\n\r\n    mongodb:\r\n      collections:\r\n        dwr-suffix: dwr\r\n\r\n*Model:*\r\n\r\n    @Document(&quot;Log-#{@environment.getProperty(&#39;mongodb.collections.dwr-suffix&#39;)}&quot;)\r\n    public class Log  {\r\n        @Id\r\n        String logId;\r\n        ...\r\n\r\n","title":"Specify MongoDb collection name at runtime in Spring boot","body":"<p>I used <code>@environment.getProperty()</code> to read from my <code>application.yml</code>. Like so :</p>\n<p><em>application.yml:</em></p>\n<pre><code>mongodb:\n  collections:\n    dwr-suffix: dwr\n</code></pre>\n<p><em>Model:</em></p>\n<pre><code>@Document(&quot;Log-#{@environment.getProperty('mongodb.collections.dwr-suffix')}&quot;)\npublic class Log  {\n    @Id\n    String logId;\n    ...\n</code></pre>\n"}],"owner":{"account_id":5587487,"reputation":307,"user_id":4427674,"accept_rate":75,"display_name":"sm-azure"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10149,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":36774240,"answer_count":3,"score":7,"last_activity_date":1670610009,"creation_date":1435127258,"question_id":31019139,"body_markdown":"I am trying to reuse my existing EmployeeRepository code (see below) in two different microservices to store data in two different collections (in the same database). \r\n\r\n    @Document(collection = &quot;employee&quot;)\r\n    public interface EmployeeRepository extends MongoRepository&lt;Employee, String&gt; \r\n\r\nIs it possible to modify `@Document(collection = &quot;employee&quot;)` to accept runtime parameters? For e.g. something like `@Document(collection = ${COLLECTION_NAME})`. \r\n\r\nWould you recommend this approach or should I create a new Repository?","title":"Specify MongoDb collection name at runtime in Spring boot","body":"<p>I am trying to reuse my existing EmployeeRepository code (see below) in two different microservices to store data in two different collections (in the same database). </p>\n\n<pre><code>@Document(collection = \"employee\")\npublic interface EmployeeRepository extends MongoRepository&lt;Employee, String&gt; \n</code></pre>\n\n<p>Is it possible to modify <code>@Document(collection = \"employee\")</code> to accept runtime parameters? For e.g. something like <code>@Document(collection = ${COLLECTION_NAME})</code>. </p>\n\n<p>Would you recommend this approach or should I create a new Repository?</p>\n"},{"tags":["java","windows","selenium","batch-file","jenkins"],"comments":[{"owner":{"account_id":3411706,"reputation":69943,"user_id":2861476,"display_name":"MC ND"},"score":0,"creation_date":1491319795,"post_id":43211445,"comment_id":73494806,"body_markdown":"Maybe [this](http://stackoverflow.com/a/25440709/2861476) could help.","body":"Maybe <a href=\"http://stackoverflow.com/a/25440709/2861476\">this</a> could help."},{"owner":{"account_id":1215900,"reputation":1981,"user_id":1183506,"accept_rate":100,"display_name":"mrfreester"},"score":0,"creation_date":1491322303,"post_id":43211445,"comment_id":73496545,"body_markdown":"Which directory do you run it from when you run it manually? Have you tried to have Jenkins change to that same directory before running the `.bat` file? My guess is this is a working directory issue with some other file than your `.bat` or `.jar` file.","body":"Which directory do you run it from when you run it manually? Have you tried to have Jenkins change to that same directory before running the <code>.bat</code> file? My guess is this is a working directory issue with some other file than your <code>.bat</code> or <code>.jar</code> file."},{"owner":{"account_id":6482733,"reputation":378,"user_id":5019251,"accept_rate":90,"display_name":"Shreyas SG"},"score":0,"creation_date":1491368217,"post_id":43211445,"comment_id":73514758,"body_markdown":"@mrfreester - I run it from C:/Desktop/QA directory, manually.. in jenkins, under configure build action, i have selected &#39;windows bat file&#39; and have given full path - C:/Desktop/QA/trigger.bat\nAlso, in the bat file, i am setting PATH and CLASSPATH values to C:/ProgramFiles/java/jdk1.7 and C:/Desktop/QA directories, respectively.","body":"@mrfreester - I run it from C:/Desktop/QA directory, manually.. in jenkins, under configure build action, i have selected &#39;windows bat file&#39; and have given full path - C:/Desktop/QA/trigger.bat Also, in the bat file, i am setting PATH and CLASSPATH values to C:/ProgramFiles/java/jdk1.7 and C:/Desktop/QA directories, respectively."},{"owner":{"account_id":1215900,"reputation":1981,"user_id":1183506,"accept_rate":100,"display_name":"mrfreester"},"score":1,"creation_date":1491402760,"post_id":43211445,"comment_id":73538465,"body_markdown":"@ShreyasSG try `Execute Windows Batch Command` instead for your build step. On the first line, put `cd C:/Desktop/QA/`. On your second line try `trigger.bat` or `C:\\Desktop\\QA\\trigger.bat`. Otherwise, you would probably have to figure out what in your script is trying to use the working directory. If that works I&#39;ll put it as an answer, let me know  :)","body":"@ShreyasSG try <code>Execute Windows Batch Command</code> instead for your build step. On the first line, put <code>cd C:&#47;Desktop&#47;QA&#47;</code>. On your second line try <code>trigger.bat</code> or <code>C:\\Desktop\\QA\\trigger.bat</code>. Otherwise, you would probably have to figure out what in your script is trying to use the working directory. If that works I&#39;ll put it as an answer, let me know  :)"},{"owner":{"account_id":1215900,"reputation":1981,"user_id":1183506,"accept_rate":100,"display_name":"mrfreester"},"score":0,"creation_date":1491403194,"post_id":43211445,"comment_id":73538856,"body_markdown":"Something to also consider, are all your dependencies on the Jenkins box? All the web drivers or other files you reference? Is there any more detail in the `cannot find the file` error you&#39;re seeing?","body":"Something to also consider, are all your dependencies on the Jenkins box? All the web drivers or other files you reference? Is there any more detail in the <code>cannot find the file</code> error you&#39;re seeing?"},{"owner":{"account_id":1215900,"reputation":1981,"user_id":1183506,"accept_rate":100,"display_name":"mrfreester"},"score":0,"creation_date":1491403612,"post_id":43211445,"comment_id":73539204,"body_markdown":"Another way to get around this probably would be [to look at this question/answer](http://stackoverflow.com/questions/320542/how-to-get-the-path-of-a-running-jar-file) instead of `.\\ ` in your java code to reference the `.jar` directory instead of the current working directory. This is because `.\\ ` won&#39;t necessarily be the directory your `.jar` file is in:)","body":"Another way to get around this probably would be <a href=\"http://stackoverflow.com/questions/320542/how-to-get-the-path-of-a-running-jar-file\">to look at this question/answer</a> instead of <code>.\\ </code> in your java code to reference the <code>.jar</code> directory instead of the current working directory. This is because <code>.\\ </code> won&#39;t necessarily be the directory your <code>.jar</code> file is in:)"},{"owner":{"account_id":6482733,"reputation":378,"user_id":5019251,"accept_rate":90,"display_name":"Shreyas SG"},"score":0,"creation_date":1491810077,"post_id":43211445,"comment_id":73699291,"body_markdown":"@mrfreester, Tried your 1st option above, was able to progress to an extent. I have page URLs on an excel sheet and that excel is referred by .jar file to launch browser and perform tests. Jenkins is just printing the excel URLs and not launching the browser. That means, Jenkins executed my .jar file ---- 2nd option - What do you mean by &quot;dependencies on Jenkin box&quot;? can you please elaborate? I&#39;m new to this :( ----- 3rd option - I am storing .jar file and excel file and everything in the same location.","body":"@mrfreester, Tried your 1st option above, was able to progress to an extent. I have page URLs on an excel sheet and that excel is referred by .jar file to launch browser and perform tests. Jenkins is just printing the excel URLs and not launching the browser. That means, Jenkins executed my .jar file ---- 2nd option - What do you mean by &quot;dependencies on Jenkin box&quot;? can you please elaborate? I&#39;m new to this :( ----- 3rd option - I am storing .jar file and excel file and everything in the same location."},{"owner":{"account_id":1215900,"reputation":1981,"user_id":1183506,"accept_rate":100,"display_name":"mrfreester"},"score":0,"creation_date":1491834746,"post_id":43211445,"comment_id":73716175,"body_markdown":"@ShreyasSG Basically everything on your local computer that your tests require to run also need to be on the machine Jenkins is running on, preferably in the same location. I&#39;m not sure what WebDrivers you&#39;re using, but you&#39;ll need those on the Jenkins machine as well if you&#39;re using them locally. Are you sure Jenkins is not launching the browser? Do you get an exception? If you run tests through Jenkins, you might not see the browser launch because it&#39;s as a different user on a different desktop, but that doesn&#39;t mean it&#39;s not running the test.","body":"@ShreyasSG Basically everything on your local computer that your tests require to run also need to be on the machine Jenkins is running on, preferably in the same location. I&#39;m not sure what WebDrivers you&#39;re using, but you&#39;ll need those on the Jenkins machine as well if you&#39;re using them locally. Are you sure Jenkins is not launching the browser? Do you get an exception? If you run tests through Jenkins, you might not see the browser launch because it&#39;s as a different user on a different desktop, but that doesn&#39;t mean it&#39;s not running the test."},{"owner":{"account_id":1215900,"reputation":1981,"user_id":1183506,"accept_rate":100,"display_name":"mrfreester"},"score":0,"creation_date":1491834794,"post_id":43211445,"comment_id":73716217,"body_markdown":"To test, you could add a `println` after you navigate to the url in your code. If you see that output you know the browser launched successfully, because it&#39;ll throw an exception if it fails.","body":"To test, you could add a <code>println</code> after you navigate to the url in your code. If you see that output you know the browser launched successfully, because it&#39;ll throw an exception if it fails."},{"owner":{"account_id":6482733,"reputation":378,"user_id":5019251,"accept_rate":90,"display_name":"Shreyas SG"},"score":0,"creation_date":1491844538,"post_id":43211445,"comment_id":73722605,"body_markdown":"The problem was with the installation of Jenkins. A devops engineer solved this for me. Had to install Tomcat and jenkins within that.\nHe said &quot;If Jenkins is installed as UI, it can&#39;t open another UI. Hence we should install .war file on a separate server which creates separate UI for jenkins, and my application UI (firefox) can be launched on the local&quot;.","body":"The problem was with the installation of Jenkins. A devops engineer solved this for me. Had to install Tomcat and jenkins within that. He said &quot;If Jenkins is installed as UI, it can&#39;t open another UI. Hence we should install .war file on a separate server which creates separate UI for jenkins, and my application UI (firefox) can be launched on the local&quot;."},{"owner":{"account_id":1215900,"reputation":1981,"user_id":1183506,"accept_rate":100,"display_name":"mrfreester"},"score":0,"creation_date":1491844730,"post_id":43211445,"comment_id":73722724,"body_markdown":"Sounds like this was 2 problems, the first was the issue with the working directory, and the 2nd, not related to the question, was with the Jenkins installation not setup to be able to open a browser. Glad you got it worked out :)","body":"Sounds like this was 2 problems, the first was the issue with the working directory, and the 2nd, not related to the question, was with the Jenkins installation not setup to be able to open a browser. Glad you got it worked out :)"},{"owner":{"account_id":13114408,"reputation":173,"user_id":9474164,"display_name":"helloworld9"},"score":0,"creation_date":1526499983,"post_id":43211445,"comment_id":87773882,"body_markdown":"You can also try following method mentioned at https://stackoverflow.com/questions/24733917/jenkins-cant-see-mapped-drive?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa","body":"You can also try following method mentioned at <a href=\"https://stackoverflow.com/questions/24733917/jenkins-cant-see-mapped-drive?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\" title=\"jenkins cant see mapped drive\">stackoverflow.com/questions/24733917/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":6482733,"reputation":378,"user_id":5019251,"accept_rate":90,"display_name":"Shreyas SG"},"score":0,"creation_date":1491368408,"post_id":43212611,"comment_id":73514838,"body_markdown":"Where to find path variable? In jenkins?\nIn bat file, i am setting PATH and CLASSPATH values to C:/ProgramFiles/java/jdk1.7 and C:/Desktop/QA directories, respectively.\nC:/Desktop/QA has all my files, bat, jar, excel...","body":"Where to find path variable? In jenkins? In bat file, i am setting PATH and CLASSPATH values to C:/ProgramFiles/java/jdk1.7 and C:/Desktop/QA directories, respectively. C:/Desktop/QA has all my files, bat, jar, excel..."}],"tags":[],"owner":{"account_id":10611690,"reputation":71,"user_id":7815438,"display_name":"Vidyasagar Gayakwad"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491322725,"creation_date":1491322725,"answer_id":43212611,"question_id":43211445,"body_markdown":" identify the current dir path where .bat file is placed  and append / add to system path variable. Once done then allow jenkin to execute .bat file.","title":"Jenkins | &quot;The system cannot find the file specified&quot;","body":"<p>identify the current dir path where .bat file is placed  and append / add to system path variable. Once done then allow jenkin to execute .bat file.</p>\n"},{"comments":[{"owner":{"account_id":6482733,"reputation":378,"user_id":5019251,"accept_rate":90,"display_name":"Shreyas SG"},"score":0,"creation_date":1491844602,"post_id":43326135,"comment_id":73722650,"body_markdown":"Thanks for your help @mrfreester. I followed some other alternative that worked for me.","body":"Thanks for your help @mrfreester. I followed some other alternative that worked for me."}],"tags":[],"owner":{"account_id":1215900,"reputation":1981,"user_id":1183506,"accept_rate":100,"display_name":"mrfreester"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491835198,"creation_date":1491835198,"answer_id":43326135,"question_id":43211445,"body_markdown":"This is an issue with your working directory being different when you&#39;re running on Jenkins.\r\n\r\nEasiest fix:\r\nExecute Windows Batch Command instead for your build step. On the first line, put `cd C:/Desktop/QA/` to change your working directory to match what you&#39;re doing locally. On your second line use `trigger.bat` or `C:\\Desktop\\QA\\trigger.bat`.\r\n\r\nMore robust fix:\r\nIn your java code, you&#39;re using `.\\ ` when referencing other files. This basically means current directory, which won&#39;t be what you want if you&#39;re in a different working directory. Instead, you can [look at this question/answer](https://stackoverflow.com/questions/320542/how-to-get-the-path-of-a-running-jar-file) which shows how to reference the directory where your `.jar` file is instead of the working directory. In summary do this:\r\n\r\n    return new File(MyClass.class.getProtectionDomain().getCodeSource()\r\n        .getLocation().toURI().getPath());","title":"Jenkins | &quot;The system cannot find the file specified&quot;","body":"<p>This is an issue with your working directory being different when you're running on Jenkins.</p>\n\n<p>Easiest fix:\nExecute Windows Batch Command instead for your build step. On the first line, put <code>cd C:/Desktop/QA/</code> to change your working directory to match what you're doing locally. On your second line use <code>trigger.bat</code> or <code>C:\\Desktop\\QA\\trigger.bat</code>.</p>\n\n<p>More robust fix:\nIn your java code, you're using <code>.\\</code> when referencing other files. This basically means current directory, which won't be what you want if you're in a different working directory. Instead, you can <a href=\"https://stackoverflow.com/questions/320542/how-to-get-the-path-of-a-running-jar-file\">look at this question/answer</a> which shows how to reference the directory where your <code>.jar</code> file is instead of the working directory. In summary do this:</p>\n\n<pre><code>return new File(MyClass.class.getProtectionDomain().getCodeSource()\n    .getLocation().toURI().getPath());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6482733,"reputation":378,"user_id":5019251,"accept_rate":90,"display_name":"Shreyas SG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1491844647,"creation_date":1491844647,"answer_id":43329234,"question_id":43211445,"body_markdown":"The problem was with the installation of Jenkins. A devops engineer solved this for me. Had to install Tomcat and jenkins within that. He said &quot;If Jenkins is installed as UI, it can&#39;t open another UI. Hence we should install .war file on a separate server which creates separate UI for jenkins, and my application UI (firefox) can be launched on the local&quot;.","title":"Jenkins | &quot;The system cannot find the file specified&quot;","body":"<p>The problem was with the installation of Jenkins. A devops engineer solved this for me. Had to install Tomcat and jenkins within that. He said \"If Jenkins is installed as UI, it can't open another UI. Hence we should install .war file on a separate server which creates separate UI for jenkins, and my application UI (firefox) can be launched on the local\".</p>\n"},{"tags":[],"owner":{"account_id":3289024,"reputation":49,"user_id":2767738,"display_name":"Amit Thakur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629351156,"creation_date":1629281135,"answer_id":68830346,"question_id":43211445,"body_markdown":"It seems while removing the files/folder or copy the files to remote server it may give below error message:\r\n```lang.java\r\nCaused: java.io.IOException: Cannot run program &quot;nohup&quot; (in directory &quot;C:\\Windows\\system32\\config\\systemprofile\\AppData\\Local\\Jenkins\\.jenkins\\workspace\\Test_ssh_Remove&quot;): CreateProcess error=2, The system cannot find the file specified\r\njava.io.IOException: CreateProcess error=2, The system cannot find the file specified\r\n```\r\nTo resolve this issue you must give relative path in source and target instead of absolute path as below. e.g. Here &quot;Program Files&quot; folder inside the C: drive on windows machine (Remote server).\r\n \r\n***Sample :***\r\n```lang.java\r\ndir(&#39;VueAPP&#39;) { // Go to Your Current Directory where build code present to copy at Remote server \r\n\r\n   sshRemove remote: remote, path: &quot;/Program Files/Apache24/htdocs/dist&quot;\r\n\r\n   sshPut remote: remote, from: &#39;dist&#39;, into: &#39;/Program Files/Apache24/htdocs/&#39;\r\n\r\n   sshPut remote: remote, from: &#39;index.html&#39;, into: &#39;/Program Files/Apache24/htdocs/&#39;\r\n\r\n}\r\n```","title":"Jenkins | &quot;The system cannot find the file specified&quot;","body":"<p>It seems while removing the files/folder or copy the files to remote server it may give below error message:</p>\n<pre><code>Caused: java.io.IOException: Cannot run program &quot;nohup&quot; (in directory &quot;C:\\Windows\\system32\\config\\systemprofile\\AppData\\Local\\Jenkins\\.jenkins\\workspace\\Test_ssh_Remove&quot;): CreateProcess error=2, The system cannot find the file specified\njava.io.IOException: CreateProcess error=2, The system cannot find the file specified\n</code></pre>\n<p>To resolve this issue you must give relative path in source and target instead of absolute path as below. e.g. Here &quot;Program Files&quot; folder inside the C: drive on windows machine (Remote server).</p>\n<p><em><strong>Sample :</strong></em></p>\n<pre><code>dir('VueAPP') { // Go to Your Current Directory where build code present to copy at Remote server \n\n   sshRemove remote: remote, path: &quot;/Program Files/Apache24/htdocs/dist&quot;\n\n   sshPut remote: remote, from: 'dist', into: '/Program Files/Apache24/htdocs/'\n\n   sshPut remote: remote, from: 'index.html', into: '/Program Files/Apache24/htdocs/'\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10531337,"reputation":81,"user_id":7760578,"display_name":"badar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633590815,"creation_date":1633590815,"answer_id":69476870,"question_id":43211445,"body_markdown":"For me, there was an extra space in the path of java &quot;C:\\Program Files\\Java\\jdk1.8.0_301/bin/java&quot; I updated and it worked. \r\nManage Jenkins -&gt; GLobal Tool Configuration -&gt; JDK","title":"Jenkins | &quot;The system cannot find the file specified&quot;","body":"<p>For me, there was an extra space in the path of java &quot;C:\\Program Files\\Java\\jdk1.8.0_301/bin/java&quot; I updated and it worked.\nManage Jenkins -&gt; GLobal Tool Configuration -&gt; JDK</p>\n"}],"owner":{"account_id":6482733,"reputation":378,"user_id":5019251,"accept_rate":90,"display_name":"Shreyas SG"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36500,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":43329234,"answer_count":5,"score":2,"last_activity_date":1670609991,"creation_date":1491319534,"question_id":43211445,"body_markdown":"I am using Jenkins to schedule my selenium/java automated tests (test scripts packaged into a `.jar` file).\r\n\r\nI have created a `.bat` file to trigger the `.jar` file and i am calling the `.bat` file from Jenkins.\r\n\r\nWhen I manually trigger the tests, by double clicking on `.bat` file, everything runs smoothly. But when I try to run the same through Jenkins, I am getting the following error for each test case:\r\n\r\n&gt;&quot;The system cannot find the file specified&quot;\r\n\r\nJenkins is calling the `.bat` file successfully, because I can see the test case name (which is present within `.jar` file) displayed on the jenkins console.\r\n\r\nIn my java code, I have used `.\\` to represent the &quot;current directory&quot; where my jar file is present along with an excel file which data drives the automation framework. Even the `.bat` file is present in the same location, and I have given fully qualified path on both `.bat` file and on jenkins.\r\n\r\nI can&#39;t hardcode and will have to use `./` in my java code. And I am running this on Windows Server (not my local machine).","title":"Jenkins | &quot;The system cannot find the file specified&quot;","body":"<p>I am using Jenkins to schedule my selenium/java automated tests (test scripts packaged into a <code>.jar</code> file).</p>\n\n<p>I have created a <code>.bat</code> file to trigger the <code>.jar</code> file and i am calling the <code>.bat</code> file from Jenkins.</p>\n\n<p>When I manually trigger the tests, by double clicking on <code>.bat</code> file, everything runs smoothly. But when I try to run the same through Jenkins, I am getting the following error for each test case:</p>\n\n<blockquote>\n  <p>\"The system cannot find the file specified\"</p>\n</blockquote>\n\n<p>Jenkins is calling the <code>.bat</code> file successfully, because I can see the test case name (which is present within <code>.jar</code> file) displayed on the jenkins console.</p>\n\n<p>In my java code, I have used <code>.\\</code> to represent the \"current directory\" where my jar file is present along with an excel file which data drives the automation framework. Even the <code>.bat</code> file is present in the same location, and I have given fully qualified path on both <code>.bat</code> file and on jenkins.</p>\n\n<p>I can't hardcode and will have to use <code>./</code> in my java code. And I am running this on Windows Server (not my local machine).</p>\n"},{"tags":["java","react-native","gradle","expo","eas"],"comments":[{"owner":{"account_id":3424565,"reputation":53,"user_id":2870728,"display_name":"Abramovick"},"score":1,"creation_date":1662479856,"post_id":73234451,"comment_id":130012921,"body_markdown":"Having the same issue, Did you manage to fix it?","body":"Having the same issue, Did you manage to fix it?"},{"owner":{"account_id":1153366,"reputation":696,"user_id":1779625,"accept_rate":0,"display_name":"Mashpy Rahman"},"score":1,"creation_date":1663059508,"post_id":73234451,"comment_id":130144188,"body_markdown":"I am also facing same problem. Anyone can help?","body":"I am also facing same problem. Anyone can help?"}],"answers":[{"tags":[],"owner":{"account_id":3319649,"reputation":2683,"user_id":2791142,"display_name":"Kirill Novikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670609792,"creation_date":1670609792,"answer_id":74746896,"question_id":73234451,"body_markdown":"Looks like you need to upgrade `expo-intent-launcher` package to version `10.2.0` \r\nhttps://github.com/expo/expo/blob/main/packages/expo-intent-launcher/CHANGELOG.md#1020--2022-04-18\r\n\r\nDetails why it happens in the PR: https://github.com/expo/expo/pull/16941","title":"expo eas build failing Could not target platform: &#39;Java SE 11&#39; using tool chain: &#39;JDK 8 (1.8)&#39;","body":"<p>Looks like you need to upgrade <code>expo-intent-launcher</code> package to version <code>10.2.0</code>\n<a href=\"https://github.com/expo/expo/blob/main/packages/expo-intent-launcher/CHANGELOG.md#1020--2022-04-18\" rel=\"nofollow noreferrer\">https://github.com/expo/expo/blob/main/packages/expo-intent-launcher/CHANGELOG.md#1020--2022-04-18</a></p>\n<p>Details why it happens in the PR: <a href=\"https://github.com/expo/expo/pull/16941\" rel=\"nofollow noreferrer\">https://github.com/expo/expo/pull/16941</a></p>\n"}],"owner":{"account_id":25124639,"reputation":51,"user_id":18972565,"display_name":"hand code 2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1670609792,"creation_date":1659609571,"question_id":73234451,"body_markdown":"I am building eas build and its failing after some time by showing this error\r\n\r\n* What went wrong:\r\n[stderr] \r\nExecution failed for task &#39;:expo-intent-launcher:compileReleaseJavaWithJavac&#39;.\r\n[stderr] \r\n&gt; Could not target platform: &#39;Java SE 11&#39; using tool chain: &#39;JDK 8 (1.8)&#39;.\r\n[stderr] \r\n* Try:\r\n[stderr] \r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n[stderr] \r\n* Get more help at https://help.gradle.org\r\n\r\nAnd when I add that library by yarn add expo-intent-launcher@specific_version then its showing build fail for next library .so is any way to find out which library will fail and ill add them before building .or any guidance on this please help thanks. ","title":"expo eas build failing Could not target platform: &#39;Java SE 11&#39; using tool chain: &#39;JDK 8 (1.8)&#39;","body":"<p>I am building eas build and its failing after some time by showing this error</p>\n<ul>\n<li>What went wrong:\n[stderr]\nExecution failed for task ':expo-intent-launcher:compileReleaseJavaWithJavac'.\n[stderr]</li>\n</ul>\n<blockquote>\n<p>Could not target platform: 'Java SE 11' using tool chain: 'JDK 8 (1.8)'.\n[stderr]</p>\n</blockquote>\n<ul>\n<li>Try:\n[stderr]\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n[stderr]</li>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>And when I add that library by yarn add expo-intent-launcher@specific_version then its showing build fail for next library .so is any way to find out which library will fail and ill add them before building .or any guidance on this please help thanks.</p>\n"},{"tags":["java","csv","client-server","import-csv"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1670610394,"post_id":74746878,"comment_id":131921208,"body_markdown":"`the GUI (program) freezes` This is almost always from trying to executing long running code on the GUI event thread.  Please show us how `importFromCSV` is called in relation to the GUI code.  To run a task as a background task, look at [SwingWorker](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html)","body":"<code>the GUI (program) freezes</code> This is almost always from trying to executing long running code on the GUI event thread.  Please show us how <code>importFromCSV</code> is called in relation to the GUI code.  To run a task as a background task, look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\">SwingWorker</a>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1670610887,"post_id":74746878,"comment_id":131921337,"body_markdown":"Read this: [The Java™ Tutorials - Lesson: Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/)","body":"Read this: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/\" rel=\"nofollow noreferrer\">The Java™ Tutorials - Lesson: Concurrency in Swing</a>"}],"owner":{"account_id":27204408,"reputation":1,"user_id":20736196,"display_name":"Nathan428"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670610867,"answer_count":0,"score":0,"last_activity_date":1670609689,"creation_date":1670609689,"question_id":74746878,"body_markdown":"I am creating a marketplace that users can import products into. I need to be able to import the CSV file through a network I/O so with a client-server functionality.\r\n\r\nCurrently when I import the CSV filepath the GUI (program) freezes and I believe it is trying to read something that is not there or something along those lines. \r\n\r\nClient:\r\n\r\n```\r\npublic void importFromCSV(String path) {\r\n    \r\n    try {\r\n        writer.write(path);\r\n        writer.flush();\r\n        int bytes = 0;\r\n        File file = new File(path);\r\n        FileInputStream fis = new FileInputStream(path);\r\n        \r\n        // send file size\r\n        dos.writeLong(file.length());\r\n        // break file into chunks\r\n        byte[] buffer = new byte[4 * 1024];\r\n        while ((bytes = fis.read(buffer)) != -1) {\r\n            dos.write(buffer, 0, bytes);\r\n            dos.flush();\r\n        }\r\n        fis.close();\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\n\r\nServer:\r\n\r\n```\r\npublic static void importCSV(Store store) {\r\n    try {\r\n        int bytes = 0;\r\n        System.out.println(&quot;about to read path&quot;);\r\n        String path = reader.readLine();\r\n        System.out.println(&quot;read path&quot;);\r\n        \r\n        FileOutputStream fos = new FileOutputStream(path);\r\n\r\n        long size = dis.readLong();     // read file size\r\n        byte[] buffer = new byte[4*1024];\r\n        while (size &gt; 0 &amp;&amp; (bytes = dis.read(buffer, 0, (int)Math.min(buffer.length, size))) != -1) {\r\n            fos.write(buffer, 0, bytes);\r\n            size -= bytes;      // read upto file size\r\n        }\r\n        fos.close();\r\n\r\n        store.setProducts(CSVFileWork.CSVToProducts(path));\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    System.out.println(store.getProducts().size());\r\n}\r\n```","title":"Importing a CSV file in Java","body":"<p>I am creating a marketplace that users can import products into. I need to be able to import the CSV file through a network I/O so with a client-server functionality.</p>\n<p>Currently when I import the CSV filepath the GUI (program) freezes and I believe it is trying to read something that is not there or something along those lines.</p>\n<p>Client:</p>\n<pre><code>public void importFromCSV(String path) {\n    \n    try {\n        writer.write(path);\n        writer.flush();\n        int bytes = 0;\n        File file = new File(path);\n        FileInputStream fis = new FileInputStream(path);\n        \n        // send file size\n        dos.writeLong(file.length());\n        // break file into chunks\n        byte[] buffer = new byte[4 * 1024];\n        while ((bytes = fis.read(buffer)) != -1) {\n            dos.write(buffer, 0, bytes);\n            dos.flush();\n        }\n        fis.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Server:</p>\n<pre><code>public static void importCSV(Store store) {\n    try {\n        int bytes = 0;\n        System.out.println(&quot;about to read path&quot;);\n        String path = reader.readLine();\n        System.out.println(&quot;read path&quot;);\n        \n        FileOutputStream fos = new FileOutputStream(path);\n\n        long size = dis.readLong();     // read file size\n        byte[] buffer = new byte[4*1024];\n        while (size &gt; 0 &amp;&amp; (bytes = dis.read(buffer, 0, (int)Math.min(buffer.length, size))) != -1) {\n            fos.write(buffer, 0, bytes);\n            size -= bytes;      // read upto file size\n        }\n        fos.close();\n\n        store.setProducts(CSVFileWork.CSVToProducts(path));\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    System.out.println(store.getProducts().size());\n}\n</code></pre>\n"},{"tags":["java","javafx","tableview"],"comments":[{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":0,"creation_date":1670585097,"post_id":74739395,"comment_id":131913247,"body_markdown":"When creating custom image add the `jdk.localedata` module as well","body":"When creating custom image add the <code>jdk.localedata</code> module as well"}],"answers":[{"comments":[{"owner":{"account_id":22586504,"reputation":11,"user_id":16770389,"display_name":"JONATAHAN RIOS"},"score":0,"creation_date":1670577109,"post_id":74740280,"comment_id":131910852,"body_markdown":"I appreciate your answer but this doesn&#39;t seem to solve my problem","body":"I appreciate your answer but this doesn&#39;t seem to solve my problem"},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1670577556,"post_id":74740280,"comment_id":131910970,"body_markdown":"Take a look at [this](https://stackoverflow.com/questions/10019050/couldnt-translate-date-to-spanish-with-localees-es)","body":"Take a look at <a href=\"https://stackoverflow.com/questions/10019050/couldnt-translate-date-to-spanish-with-localees-es\">this</a>"}],"tags":[],"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670572718,"creation_date":1670572718,"answer_id":74740280,"question_id":74739395,"body_markdown":"You can use `Locale.getDefault()` which, based on the documentation, it will use the locale of the JVM:\r\n\r\n&gt; Gets the current value of the default locale for this instance of the Java Virtual Machine.\r\nThe Java Virtual Machine sets the default locale during startup based on the host environment. It is used by many locale-sensitive methods if no locale is explicitly specified. It can be changed using the setDefault method.","title":"The language of the day is changed when executing the program in my .exe javafx","body":"<p>You can use <code>Locale.getDefault()</code> which, based on the documentation, it will use the locale of the JVM:</p>\n<blockquote>\n<p>Gets the current value of the default locale for this instance of the Java Virtual Machine.\nThe Java Virtual Machine sets the default locale during startup based on the host environment. It is used by many locale-sensitive methods if no locale is explicitly specified. It can be changed using the setDefault method.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":22586504,"reputation":11,"user_id":16770389,"display_name":"JONATAHAN RIOS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670609443,"creation_date":1670609443,"answer_id":74746833,"question_id":74739395,"body_markdown":"The answer was provided to me in the comments, as mentioned by mr mcwolf\r\nI needed to add the jdk.localedata module in the image","title":"The language of the day is changed when executing the program in my .exe javafx","body":"<p>The answer was provided to me in the comments, as mentioned by mr mcwolf\nI needed to add the jdk.localedata module in the image</p>\n"}],"owner":{"account_id":22586504,"reputation":11,"user_id":16770389,"display_name":"JONATAHAN RIOS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74746833,"answer_count":2,"score":-1,"last_activity_date":1670609443,"creation_date":1670565348,"question_id":74739395,"body_markdown":"My program runs everything correctly within the IDE with the language I chose, but when installing the program and running it on the computer, the language of the days changes to English, all this within the column\r\n\r\nThe method to change the format of the column is:\r\n`\r\n```\r\npublic void Formato_fecha_y_hora(){\r\n    Locale locale = new Locale(&quot;es&quot;, &quot;ES&quot;);\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy E&quot;).withLocale(locale);\r\n    Col_FEentrega.setCellFactory(tc -&gt; new TableCell&lt;&gt;() {\r\n        @Override\r\n        protected void updateItem(LocalDate date, boolean empty) {\r\n            super.updateItem(date, empty);\r\n            if (empty) {\r\n                setText(null);\r\n            } else {\r\n                setText(formatter.format(date));\r\n            }\r\n        }\r\n    });\r\n\r\n    DateTimeFormatter formato_hora = DateTimeFormatter.ofPattern(&quot;h:mm a&quot;);\r\n    Col_Hora_entrega.setCellFactory(tc -&gt; new TableCell&lt;&gt;() {\r\n        @Override\r\n        protected void updateItem(LocalTime Time, boolean empty) {\r\n            super.updateItem(Time, empty);\r\n            if (empty) {\r\n                setText(null);\r\n            } else {\r\n                setText(formato_hora.format(Time));\r\n            }\r\n        }\r\n    });\r\n}\r\n```\r\nTo make the installer use the following jpackage:\r\n\r\n`jpackage --type exe --input . --dest . --main-jar .\\Dulceria.jar --main-class com.example.dulceria.HelloApplication --module-path &quot;D:\\Program Files\\Java\\javafx-jmods-18&quot; --add-modules javafx.controls,javafx.fxml,java.sql,java.sql.rowset --win-shortcut --win-menu`\r\n\r\n\r\n\r\n[I get the following form in the .exe](https://i.stack.imgur.com/XVCwS.png)\r\n\r\n\r\n\r\n[I want the names of the days to look like this](https://i.stack.imgur.com/UFYII.png)","title":"The language of the day is changed when executing the program in my .exe javafx","body":"<p>My program runs everything correctly within the IDE with the language I chose, but when installing the program and running it on the computer, the language of the days changes to English, all this within the column</p>\n<p>The method to change the format of the column is:\n`</p>\n<pre><code>public void Formato_fecha_y_hora(){\n    Locale locale = new Locale(&quot;es&quot;, &quot;ES&quot;);\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy E&quot;).withLocale(locale);\n    Col_FEentrega.setCellFactory(tc -&gt; new TableCell&lt;&gt;() {\n        @Override\n        protected void updateItem(LocalDate date, boolean empty) {\n            super.updateItem(date, empty);\n            if (empty) {\n                setText(null);\n            } else {\n                setText(formatter.format(date));\n            }\n        }\n    });\n\n    DateTimeFormatter formato_hora = DateTimeFormatter.ofPattern(&quot;h:mm a&quot;);\n    Col_Hora_entrega.setCellFactory(tc -&gt; new TableCell&lt;&gt;() {\n        @Override\n        protected void updateItem(LocalTime Time, boolean empty) {\n            super.updateItem(Time, empty);\n            if (empty) {\n                setText(null);\n            } else {\n                setText(formato_hora.format(Time));\n            }\n        }\n    });\n}\n</code></pre>\n<p>To make the installer use the following jpackage:</p>\n<p><code>jpackage --type exe --input . --dest . --main-jar .\\Dulceria.jar --main-class com.example.dulceria.HelloApplication --module-path &quot;D:\\Program Files\\Java\\javafx-jmods-18&quot; --add-modules javafx.controls,javafx.fxml,java.sql,java.sql.rowset --win-shortcut --win-menu</code></p>\n<p><a href=\"https://i.stack.imgur.com/XVCwS.png\" rel=\"nofollow noreferrer\">I get the following form in the .exe</a></p>\n<p><a href=\"https://i.stack.imgur.com/UFYII.png\" rel=\"nofollow noreferrer\">I want the names of the days to look like this</a></p>\n"},{"tags":["java","spring-boot","graphql","graphql-java"],"owner":{"account_id":6085757,"reputation":1307,"user_id":4749871,"accept_rate":80,"display_name":"Ant&#243;nio Quadrado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670608916,"creation_date":1670606481,"question_id":74746363,"body_markdown":"I am using `graphql-java-kickstart` to implement a GraphQL api in a springboot application. One of my resolvers needs to fetch additional data before returning the final type. I am using a `DataLoader` to fetch this data. In order to avoid multiple additional queries to the database, I am using the method `dataLoader.loadMany(ids)` to fetch all records with one query.\r\n\r\nI want to test the resolver behavior mocking the `repository` response. In my test I have injected a `MockBean` for the repository and I am mocking its response with:\r\n\r\n`when(repository.findAllById(List.of(ids))).thenReturn(List.of(mockRecord);`\r\n\r\nThe data loader registry has the mock repository registered for the right type but I cannot make it return the response that I defined. The truth is that I cannot find which repository method the data loader is using to fetch the data but the repository being a `JpaRepository` the only method to fetch multiple objects from a list of ids is the `findAllById`. I have tried to follow the flow with breakpoints but I didn&#39;t manage to find where exactly the repository is being used and which method is being called.\r\n\r\nI am certainly missing something on how the data loader works and how I can mock the responses it gives. Does anyone has any clue what that might me? \r\n\r\nMany thanks\r\n\r\nUPDATE: Running the actual application and putting breakpoints in the class `SimpleJpaRepository` I can actually confirm that the repository method used to resolve the model is the `findAllById` what confuses me even more. If, when running the test, I have the right object (the mock) within the dataloader registry and a defined a return object for that mock&#39;s called method, why does it not work as expected?","title":"How to mock the response of a repository used by a DataLoader in a GraphQLResolver?","body":"<p>I am using <code>graphql-java-kickstart</code> to implement a GraphQL api in a springboot application. One of my resolvers needs to fetch additional data before returning the final type. I am using a <code>DataLoader</code> to fetch this data. In order to avoid multiple additional queries to the database, I am using the method <code>dataLoader.loadMany(ids)</code> to fetch all records with one query.</p>\n<p>I want to test the resolver behavior mocking the <code>repository</code> response. In my test I have injected a <code>MockBean</code> for the repository and I am mocking its response with:</p>\n<p><code>when(repository.findAllById(List.of(ids))).thenReturn(List.of(mockRecord);</code></p>\n<p>The data loader registry has the mock repository registered for the right type but I cannot make it return the response that I defined. The truth is that I cannot find which repository method the data loader is using to fetch the data but the repository being a <code>JpaRepository</code> the only method to fetch multiple objects from a list of ids is the <code>findAllById</code>. I have tried to follow the flow with breakpoints but I didn't manage to find where exactly the repository is being used and which method is being called.</p>\n<p>I am certainly missing something on how the data loader works and how I can mock the responses it gives. Does anyone has any clue what that might me?</p>\n<p>Many thanks</p>\n<p>UPDATE: Running the actual application and putting breakpoints in the class <code>SimpleJpaRepository</code> I can actually confirm that the repository method used to resolve the model is the <code>findAllById</code> what confuses me even more. If, when running the test, I have the right object (the mock) within the dataloader registry and a defined a return object for that mock's called method, why does it not work as expected?</p>\n"},{"tags":["javascript","java","express","https"],"owner":{"account_id":22240746,"reputation":23,"user_id":16475301,"display_name":"Nabin Shrestha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670608483,"creation_date":1670608483,"question_id":74746668,"body_markdown":"In Express.JS, creating a HTTPS server from a private key and certificate is quite simple:\r\n\r\n\r\n```\r\nvar fs = require(&#39;fs&#39;);\r\nvar http = require(&#39;http&#39;);\r\nvar https = require(&#39;https&#39;);\r\nvar privateKey  = fs.readFileSync(&#39;sslcert/server.key&#39;, &#39;utf8&#39;);\r\nvar certificate = fs.readFileSync(&#39;sslcert/server.crt&#39;, &#39;utf8&#39;);\r\n\r\nvar credentials = {key: privateKey, cert: certificate};\r\nvar express = require(&#39;express&#39;);\r\nvar app = express();\r\n\r\nvar httpsServer = https.createServer(credentials, app);\r\n```\r\n\r\nI was wondering if there is a Java equivalent of this code.\r\n\r\nI have been trying to look into creating a HTTPS Server in Java but I get confused with the whole keystore files. Could someone guide me thoroughly?","title":"Express.JS equivalent of Java&#39;s HTTPS Server","body":"<p>In Express.JS, creating a HTTPS server from a private key and certificate is quite simple:</p>\n<pre><code>var fs = require('fs');\nvar http = require('http');\nvar https = require('https');\nvar privateKey  = fs.readFileSync('sslcert/server.key', 'utf8');\nvar certificate = fs.readFileSync('sslcert/server.crt', 'utf8');\n\nvar credentials = {key: privateKey, cert: certificate};\nvar express = require('express');\nvar app = express();\n\nvar httpsServer = https.createServer(credentials, app);\n</code></pre>\n<p>I was wondering if there is a Java equivalent of this code.</p>\n<p>I have been trying to look into creating a HTTPS Server in Java but I get confused with the whole keystore files. Could someone guide me thoroughly?</p>\n"},{"tags":["java","variables","methods","scope","javaparser"],"comments":[{"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"score":0,"creation_date":1670610107,"post_id":74746614,"comment_id":131921128,"body_markdown":"Have a look here: https://stackoverflow.com/questions/6816951/can-i-get-information-about-the-local-variables-using-java-reflection","body":"Have a look here: <a href=\"https://stackoverflow.com/questions/6816951/can-i-get-information-about-the-local-variables-using-java-reflection\" title=\"can i get information about the local variables using java reflection\">stackoverflow.com/questions/6816951/&hellip;</a>"}],"owner":{"account_id":11493427,"reputation":147,"user_id":10156536,"display_name":"Aditi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670608160,"creation_date":1670608160,"question_id":74746614,"body_markdown":"I have a program that is like this :\r\n\r\n    class A {\r\n    String abc;\r\n\r\n    public void f1(){\r\n        String abc = &#39;test&#39;;\r\n        System.out.println(abc);   \r\n        if (true){\r\n              String abc = &#39;something else&#39;;\r\n              System.out.println(abc);   \r\n        }\r\n    }\r\n\r\n    public void f2(){\r\n        String abc = &#39;something else&#39;;\r\n        System.out.println(abc);   \r\n    }\r\n}\r\n\r\nNow as we can see here we have three different variable declarations of the string abc. I wish to make a dependency matrix which will have slots for all the three declarations , that point to different memory locations. Is there any way I could get the declarations for each variable name along with the parent class or method it belongs to? Or more precisely , can I get the scope of a variable ,I.E whether it is a class variable or a variable that belongs to a method ?\r\n\r\nI have tried using JavaParser but couldn’t find a suitable method that would do the same. Kindly help me out. Thanks a lot!!","title":"Find the actual scope of a variable declared multiple times in Java","body":"<p>I have a program that is like this :</p>\n<pre><code>class A {\nString abc;\n\npublic void f1(){\n    String abc = 'test';\n    System.out.println(abc);   \n    if (true){\n          String abc = 'something else';\n          System.out.println(abc);   \n    }\n}\n\npublic void f2(){\n    String abc = 'something else';\n    System.out.println(abc);   \n}\n</code></pre>\n<p>}</p>\n<p>Now as we can see here we have three different variable declarations of the string abc. I wish to make a dependency matrix which will have slots for all the three declarations , that point to different memory locations. Is there any way I could get the declarations for each variable name along with the parent class or method it belongs to? Or more precisely , can I get the scope of a variable ,I.E whether it is a class variable or a variable that belongs to a method ?</p>\n<p>I have tried using JavaParser but couldn’t find a suitable method that would do the same. Kindly help me out. Thanks a lot!!</p>\n"},{"tags":["java","code-coverage","jacoco","conditional-operator","test-coverage"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1670606811,"post_id":74746284,"comment_id":131920135,"body_markdown":"Are you sure that you accurately describe the actual code? I ask because when you call `functionToTest(Collections.emptyList())` the line `String p0 = filters.get(0)` should throw an `IndexOutOfBoundsException`.","body":"Are you sure that you accurately describe the actual code? I ask because when you call <code>functionToTest(Collections.emptyList())</code> the line <code>String p0 = filters.get(0)</code> should throw an <code>IndexOutOfBoundsException</code>."},{"owner":{"account_id":22387896,"reputation":113,"user_id":16600459,"display_name":"Pommepomme"},"score":0,"creation_date":1670607165,"post_id":74746284,"comment_id":131920255,"body_markdown":"Aaaaaah indeed, I have something else before\n```JAVA\nif (filters.isEmpty()) {\n      // return do stuff\n    }\np0 = filters.get(0) [......]\n```","body":"Aaaaaah indeed, I have something else before <code>JAVA if (filters.isEmpty()) {       &#47;&#47; return do stuff     } p0 = filters.get(0) [......] </code>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1670607450,"post_id":74746284,"comment_id":131920349,"body_markdown":"That explains the outcome. For full coverage of the ternaries you need to supply once one argument and once 10 arguments.","body":"That explains the outcome. For full coverage of the ternaries you need to supply once one argument and once 10 arguments."},{"owner":{"account_id":22387896,"reputation":113,"user_id":16600459,"display_name":"Pommepomme"},"score":0,"creation_date":1670607669,"post_id":74746284,"comment_id":131920425,"body_markdown":"Yep, I just focused on the yellow parts forgetting the `if empty` before.... My bad!","body":"Yep, I just focused on the yellow parts forgetting the <code>if empty</code> before.... My bad!"}],"answers":[{"tags":[],"owner":{"account_id":22387896,"reputation":113,"user_id":16600459,"display_name":"Pommepomme"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670607831,"creation_date":1670607831,"answer_id":74746575,"question_id":74746284,"body_markdown":"Solved, I was just dumb\r\n\r\nI forgot that I tested if the list was empty before, if it is, I return something else.","title":"Jacoco coverage over ternary operations","body":"<p>Solved, I was just dumb</p>\n<p>I forgot that I tested if the list was empty before, if it is, I return something else.</p>\n"}],"owner":{"account_id":22387896,"reputation":113,"user_id":16600459,"display_name":"Pommepomme"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74746575,"answer_count":1,"score":0,"last_activity_date":1670607831,"creation_date":1670606042,"question_id":74746284,"body_markdown":"I faced a frustrating problem with jacoco and ternary operations in Java.\r\nContext:\r\n\r\nI have a function which take a `List&lt;String&gt;`. The max filters this list can have is 10 and they can be set or not. I choosed to do ternary to fill the filters string.\r\n\r\nIn my JUnit test, I call twice this function: once with 10 filters and once with none. However, jacoco is still telling me that 1 of 2 branches is missed.\r\n\r\n*I voluntarily changed the names / returns of my functions to show only the global scheme*\r\n\r\n```JAVA\r\npublic void functionToTest(List&lt;String&gt; filters){\r\n    String p0 = filters.get(0);\r\n    String p1 = filters.size() &gt;= 2 ? filters.get(1) : &quot;&quot;;\r\n    String p2 = filters.size() &gt;= 3 ? filters.get(2) : &quot;&quot;;\r\n    String p3 = filters.size() &gt;= 4 ? filters.get(3) : &quot;&quot;;\r\n    String p4 = filters.size() &gt;= 5 ? filters.get(4) : &quot;&quot;;\r\n    String p5 = filters.size() &gt;= 6 ? filters.get(5) : &quot;&quot;;\r\n    String p6 = filters.size() &gt;= 7 ? filters.get(6) : &quot;&quot;;\r\n    String p7 = filters.size() &gt;= 8 ? filters.get(7) : &quot;&quot;;\r\n    String p8 = filters.size() &gt;= 9 ? filters.get(8) : &quot;&quot;;\r\n    String p9 = filters.size() &gt;= 10 ? filters.get(9) : &quot;&quot;;\r\n    \r\n    // Do stuff with filters\r\n}\r\n\r\n@Test\r\npublic void testFunction() {\r\n    List&lt;String&gt; filters = //instantiate 10 strings\r\n\r\n    // First call with no filters\r\n    functionToTest(Collections.emptyList());\r\n\r\n    // Second call with filters\r\n    functionToTest(filters);\r\n}\r\n\r\n```\r\n\r\nHere is the result of jacoco saying &quot;1 of 2 branches missed&quot; on yellow lines:\r\n\r\n![jacoco result][1]\r\n\r\nSo my question is: Is there a way to &quot;bypass&quot; or to deal with ternary operations and jacoco ?\r\n\r\nNB: I already know how to solve the coverage but it is ugly, see:\r\n\r\n```JAVA\r\nString p1 = &quot;&quot;\r\nif (filters.size() &gt;=2) {\r\n    p1 = filters.get(1);\r\n}\r\n// etc...\r\n```\r\n\r\n\r\n[1]: https://i.stack.imgur.com/72m9k.png","title":"Jacoco coverage over ternary operations","body":"<p>I faced a frustrating problem with jacoco and ternary operations in Java.\nContext:</p>\n<p>I have a function which take a <code>List&lt;String&gt;</code>. The max filters this list can have is 10 and they can be set or not. I choosed to do ternary to fill the filters string.</p>\n<p>In my JUnit test, I call twice this function: once with 10 filters and once with none. However, jacoco is still telling me that 1 of 2 branches is missed.</p>\n<p><em>I voluntarily changed the names / returns of my functions to show only the global scheme</em></p>\n<pre><code>public void functionToTest(List&lt;String&gt; filters){\n    String p0 = filters.get(0);\n    String p1 = filters.size() &gt;= 2 ? filters.get(1) : &quot;&quot;;\n    String p2 = filters.size() &gt;= 3 ? filters.get(2) : &quot;&quot;;\n    String p3 = filters.size() &gt;= 4 ? filters.get(3) : &quot;&quot;;\n    String p4 = filters.size() &gt;= 5 ? filters.get(4) : &quot;&quot;;\n    String p5 = filters.size() &gt;= 6 ? filters.get(5) : &quot;&quot;;\n    String p6 = filters.size() &gt;= 7 ? filters.get(6) : &quot;&quot;;\n    String p7 = filters.size() &gt;= 8 ? filters.get(7) : &quot;&quot;;\n    String p8 = filters.size() &gt;= 9 ? filters.get(8) : &quot;&quot;;\n    String p9 = filters.size() &gt;= 10 ? filters.get(9) : &quot;&quot;;\n    \n    // Do stuff with filters\n}\n\n@Test\npublic void testFunction() {\n    List&lt;String&gt; filters = //instantiate 10 strings\n\n    // First call with no filters\n    functionToTest(Collections.emptyList());\n\n    // Second call with filters\n    functionToTest(filters);\n}\n\n</code></pre>\n<p>Here is the result of jacoco saying &quot;1 of 2 branches missed&quot; on yellow lines:</p>\n<p><img src=\"https://i.stack.imgur.com/72m9k.png\" alt=\"jacoco result\" /></p>\n<p>So my question is: Is there a way to &quot;bypass&quot; or to deal with ternary operations and jacoco ?</p>\n<p>NB: I already know how to solve the coverage but it is ugly, see:</p>\n<pre><code>String p1 = &quot;&quot;\nif (filters.size() &gt;=2) {\n    p1 = filters.get(1);\n}\n// etc...\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":10808339,"reputation":1271,"user_id":7949704,"display_name":"Alejandro Gonzalez"},"score":0,"creation_date":1624291078,"post_id":68070683,"comment_id":120312675,"body_markdown":"can you share the complete code?","body":"can you share the complete code?"},{"owner":{"account_id":2149059,"reputation":3106,"user_id":1905965,"display_name":"Amin"},"score":0,"creation_date":1624300508,"post_id":68070683,"comment_id":120316248,"body_markdown":"Can you ping your phone from your pc terminal/command line? My router has an issues and when it happens I reboot the access point and everything starts to work","body":"Can you ping your phone from your pc terminal/command line? My router has an issues and when it happens I reboot the access point and everything starts to work"},{"owner":{"account_id":13514033,"reputation":31,"user_id":9749301,"display_name":"Mhb flh"},"score":0,"creation_date":1624352934,"post_id":68070683,"comment_id":120329261,"body_markdown":"https://stackoverflow.com/users/1905965/amin yes I can ping my phone","body":"<a href=\"https://stackoverflow.com/users/1905965/amin\">stackoverflow.com/users/1905965/amin</a> yes I can ping my phone"},{"owner":{"account_id":13514033,"reputation":31,"user_id":9749301,"display_name":"Mhb flh"},"score":0,"creation_date":1624353344,"post_id":68070683,"comment_id":120329415,"body_markdown":"https://stackoverflow.com/users/7949704/alejandro-gonzalez which part?","body":"<a href=\"https://stackoverflow.com/users/7949704/alejandro-gonzalez\">stackoverflow.com/users/7949704/alejandro-gonzalez</a> which part?"}],"answers":[{"tags":[],"owner":{"account_id":17183073,"reputation":380,"user_id":12438210,"display_name":"lance2k"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670607703,"creation_date":1670607703,"answer_id":74746550,"question_id":68070683,"body_markdown":"If you&#39;re using Wifi: Check properties, it should be set to Private to connect.","title":"Connection Error! java.net.socketTimedoutException:failed to connect to /192.168.1.6 (port : 80) from /192.168.1.7 (port : 53030) after 10000 ms","body":"<p>If you're using Wifi: Check properties, it should be set to Private to connect.</p>\n"}],"owner":{"account_id":13514033,"reputation":31,"user_id":9749301,"display_name":"Mhb flh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1670607703,"creation_date":1624289396,"question_id":68070683,"body_markdown":"I want to connect with my phone to my app database but I keep seeing this error:\r\n```\r\nConnection Error!  java.net.socketTimedoutException:failed to connect to /192.168.1.6 (port : 80) from /192.168.1.7 (port : 53030) after 10000 ms\r\n```\r\n\r\nthis is my API class\r\n```java\r\npublic class API {\r\n    private static final String BASE_URL = &quot;http://192.168.1.6/uni/&quot;;\r\n    public static Retrofit myRetrofit = null;\r\n    public static Retrofit getAPI() {\r\n        if (myRetrofit == null) {\r\n            myRetrofit = new Retrofit.Builder()\r\n                    .baseUrl(BASE_URL)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .build();\r\n        }\r\n        return myRetrofit;\r\n    }\r\n}\r\n```\r\nI check firewall and turn off window defender and antiVirus\r\nI check [this ][1] and [this one][2] but none of them solve my issue.\r\nI check the ports in httpd.conf and my app,  also I run my app in emulator and it works fine,  my phone is on the same network as my laptop, so can anyone help me???\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/50246726/java-net-connectexception-failed-to-connect-to-192-168-1-107-port-80-after-1\r\n  [2]: https://stackoverflow.com/questions/42618744/how-to-resolve-failed-to-connect-to-192-168-15-186-port-80-connect-failed-e\r\n","title":"Connection Error! java.net.socketTimedoutException:failed to connect to /192.168.1.6 (port : 80) from /192.168.1.7 (port : 53030) after 10000 ms","body":"<p>I want to connect with my phone to my app database but I keep seeing this error:</p>\n<pre><code>Connection Error!  java.net.socketTimedoutException:failed to connect to /192.168.1.6 (port : 80) from /192.168.1.7 (port : 53030) after 10000 ms\n</code></pre>\n<p>this is my API class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class API {\n    private static final String BASE_URL = &quot;http://192.168.1.6/uni/&quot;;\n    public static Retrofit myRetrofit = null;\n    public static Retrofit getAPI() {\n        if (myRetrofit == null) {\n            myRetrofit = new Retrofit.Builder()\n                    .baseUrl(BASE_URL)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build();\n        }\n        return myRetrofit;\n    }\n}\n</code></pre>\n<p>I check firewall and turn off window defender and antiVirus\nI check <a href=\"https://stackoverflow.com/questions/50246726/java-net-connectexception-failed-to-connect-to-192-168-1-107-port-80-after-1\">this </a> and <a href=\"https://stackoverflow.com/questions/42618744/how-to-resolve-failed-to-connect-to-192-168-15-186-port-80-connect-failed-e\">this one</a> but none of them solve my issue.\nI check the ports in httpd.conf and my app,  also I run my app in emulator and it works fine,  my phone is on the same network as my laptop, so can anyone help me???</p>\n"},{"tags":["java","android","android-fragments","fragment","bottomnavigationview"],"comments":[{"owner":{"account_id":15304634,"reputation":627,"user_id":11041834,"display_name":"krupa parekh"},"score":0,"creation_date":1670603024,"post_id":74745299,"comment_id":131918996,"body_markdown":"I will suggest you to implement bottomnavigation with the navigation component. It will get very easy to manage multiple fragments and backstacks of it","body":"I will suggest you to implement bottomnavigation with the navigation component. It will get very easy to manage multiple fragments and backstacks of it"}],"answers":[{"tags":[],"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670607639,"creation_date":1670607639,"answer_id":74746542,"question_id":74745299,"body_markdown":" Try this once you missed one default line    \r\n\r\n&gt; loadfrag(new Home(),false);\r\n\r\n    //Bottom Navigation&#39;s\r\n        BottomNavigationView bnv =findViewById(R.id.bottom_nav);\r\n        bnv.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                int id=item.getItemId();\r\n                if (id == R.id.home) {\r\n                   loadfrag(new Home(),false);\r\n                }else  if (id == R.id.search) {\r\n                    loadfrag(new search(),true);\r\n                }else  if (id == R.id.Fav) {\r\n                    loadfrag(new fav(),true);\r\n                }else  if (id == R.id.Cart) {\r\n                    loadfrag(new Cart(),true);\r\n                }else  if (id == R.id.User) {\r\n                    loadfrag(new Userprofile(),true);\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n       loadfrag(new Home(),false);\r\n    //My first fragment\r\n    bnv.setSelectedItemId(R.id.home);\r\n    }\r\n    //load_fragment method\r\n    public void loadfrag(Fragment fragment,Boolean flag){\r\n        FragmentManager fm=getSupportFragmentManager();\r\n        FragmentTransaction ft=fm.beginTransaction();\r\n        if (!flag) {\r\n            ft.add(R.id.container,fragment);\r\n        }else {\r\n            ft.replace(R.id.container,fragment);\r\n        }\r\n        ft.commit();\r\n    }","title":"In Bottom Navigation Fragment is not load for first time","body":"<p>Try this once you missed one default line</p>\n<blockquote>\n<p>loadfrag(new Home(),false);</p>\n</blockquote>\n<pre><code>//Bottom Navigation's\n    BottomNavigationView bnv =findViewById(R.id.bottom_nav);\n    bnv.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\n        @Override\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n            int id=item.getItemId();\n            if (id == R.id.home) {\n               loadfrag(new Home(),false);\n            }else  if (id == R.id.search) {\n                loadfrag(new search(),true);\n            }else  if (id == R.id.Fav) {\n                loadfrag(new fav(),true);\n            }else  if (id == R.id.Cart) {\n                loadfrag(new Cart(),true);\n            }else  if (id == R.id.User) {\n                loadfrag(new Userprofile(),true);\n            }\n            return true;\n        }\n    });\n   loadfrag(new Home(),false);\n//My first fragment\nbnv.setSelectedItemId(R.id.home);\n}\n//load_fragment method\npublic void loadfrag(Fragment fragment,Boolean flag){\n    FragmentManager fm=getSupportFragmentManager();\n    FragmentTransaction ft=fm.beginTransaction();\n    if (!flag) {\n        ft.add(R.id.container,fragment);\n    }else {\n        ft.replace(R.id.container,fragment);\n    }\n    ft.commit();\n}\n</code></pre>\n"}],"owner":{"account_id":27202145,"reputation":3,"user_id":20734256,"display_name":"Awais"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74746542,"answer_count":1,"score":0,"last_activity_date":1670607639,"creation_date":1670600597,"question_id":74745299,"body_markdown":"I have five fragments in main activity for Bottom_Navigation_view .When I load fragments/MainActivity for the first time. The first fragment (home) not shown for the first time, when I swipe to other three fragments and then get back to the my first fragment(home) then the data/fragment is shown\r\n\r\nI want to load first fragment(Home) for the first time user comes and Bottom Navigation/Main Activity loads\r\n\r\n\r\n```\r\n    //Bottom Navigation&#39;s\r\n    BottomNavigationView bnv =findViewById(R.id.bottom_nav);\r\n    bnv.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n        @Override\r\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n            int id=item.getItemId();\r\n            if (id == R.id.home) {\r\n               loadfrag(new Home(),false);\r\n            }else  if (id == R.id.search) {\r\n                loadfrag(new search(),true);\r\n            }else  if (id == R.id.Fav) {\r\n                loadfrag(new fav(),true);\r\n            }else  if (id == R.id.Cart) {\r\n                loadfrag(new Cart(),true);\r\n            }else  if (id == R.id.User) {\r\n                loadfrag(new Userprofile(),true);\r\n            }\r\n            return true;\r\n        }\r\n    });\r\n//My first fragment\r\nbnv.setSelectedItemId(R.id.home);\r\n}\r\n//load_fragment method\r\npublic void loadfrag(Fragment fragment,Boolean flag){\r\n    FragmentManager fm=getSupportFragmentManager();\r\n    FragmentTransaction ft=fm.beginTransaction();\r\n    if (!flag) {\r\n        ft.add(R.id.container,fragment);\r\n    }else {\r\n        ft.replace(R.id.container,fragment);\r\n    }\r\n    ft.commit();\r\n}\r\n```\r\n","title":"In Bottom Navigation Fragment is not load for first time","body":"<p>I have five fragments in main activity for Bottom_Navigation_view .When I load fragments/MainActivity for the first time. The first fragment (home) not shown for the first time, when I swipe to other three fragments and then get back to the my first fragment(home) then the data/fragment is shown</p>\n<p>I want to load first fragment(Home) for the first time user comes and Bottom Navigation/Main Activity loads</p>\n<pre><code>    //Bottom Navigation's\n    BottomNavigationView bnv =findViewById(R.id.bottom_nav);\n    bnv.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\n        @Override\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n            int id=item.getItemId();\n            if (id == R.id.home) {\n               loadfrag(new Home(),false);\n            }else  if (id == R.id.search) {\n                loadfrag(new search(),true);\n            }else  if (id == R.id.Fav) {\n                loadfrag(new fav(),true);\n            }else  if (id == R.id.Cart) {\n                loadfrag(new Cart(),true);\n            }else  if (id == R.id.User) {\n                loadfrag(new Userprofile(),true);\n            }\n            return true;\n        }\n    });\n//My first fragment\nbnv.setSelectedItemId(R.id.home);\n}\n//load_fragment method\npublic void loadfrag(Fragment fragment,Boolean flag){\n    FragmentManager fm=getSupportFragmentManager();\n    FragmentTransaction ft=fm.beginTransaction();\n    if (!flag) {\n        ft.add(R.id.container,fragment);\n    }else {\n        ft.replace(R.id.container,fragment);\n    }\n    ft.commit();\n}\n</code></pre>\n"},{"tags":["java","spring","spring-security","spring-security-oauth2"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1670617378,"post_id":74746485,"comment_id":131922829,"body_markdown":"and you have enabled debug logging and looked in the logs that tell you exactly why you are getting a 403?","body":"and you have enabled debug logging and looked in the logs that tell you exactly why you are getting a 403?"},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1670677669,"post_id":74746485,"comment_id":131931122,"body_markdown":"HttpSecurity calls to configure the http instance are usually chained, by calling  the method always on the original object you take the risk to loose the previous configuration setup, if any of the configuration method returns a new object...","body":"HttpSecurity calls to configure the http instance are usually chained, by calling  the method always on the original object you take the risk to loose the previous configuration setup, if any of the configuration method returns a new object..."}],"owner":{"account_id":18092811,"reputation":13,"user_id":15607572,"display_name":"StrahSvid19"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670607546,"creation_date":1670607274,"question_id":74746485,"body_markdown":"I am developing a small application with Spring Security configuration and JWT token-based authorization and encountered a problem - when using hasRole() or hasPermission() methods to differentiate access to requests, even if the authorized user has the roles that meet the restrictions, the request still returns a 403 code.\r\n\r\n\r\n**Implementing of UserDetails and UserDetailsService**\r\n\r\n```\r\n@RequiredArgsConstructor\r\npublic class UserDetailsImpl implements UserDetails {\r\n\r\n  private final User user;\r\n\r\n  @Override\r\n  public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n    return user.getRoles();\r\n  }\r\n\r\n  @Override\r\n  public String getPassword() {\r\n    return user.getPassword();\r\n  }\r\n\r\n  @Override\r\n  public String getUsername() {\r\n    return user.getUsername();\r\n  }\r\n\r\n  @Override\r\n  public boolean isAccountNonExpired() {\r\n    return user.getIsEnable();\r\n  }\r\n\r\n  @Override\r\n  public boolean isAccountNonLocked() {\r\n    return user.getIsEnable();\r\n  }\r\n\r\n  @Override\r\n  public boolean isCredentialsNonExpired() {\r\n    return user.getIsEnable();\r\n  }\r\n\r\n  @Override\r\n  public boolean isEnabled() {\r\n    return user.getIsEnable();\r\n  }\r\n}\r\n```\r\n\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class UserDetailsServiceImpl implements UserDetailsService {\r\n  private final UserRepository userRepository;\r\n\r\n  @Override\r\n  public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n    String exceptionMsg = String.format(&quot;User with username &#39;%s&#39; not found&quot;, username);\r\n    return new UserDetailsImpl(userRepository.findUserByUsername(username)\r\n            .orElseThrow(() -&gt; new UsernameNotFoundException(exceptionMsg)));\r\n  }\r\n}\r\n```\r\n\r\n**User entity and Roles**\r\n\r\n\r\n```\r\n@Entity(name = &quot;users&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode(of = {&quot;id&quot;, &quot;username&quot;})\r\npublic class User {\r\n  @Transient\r\n  private final String MAIL_REGEX =\r\n          &quot;^\\\\w+([\\\\.-]?\\\\w+)*@\\\\w+([\\\\.-]?\\\\w+)*(\\\\.\\\\w{2,3})+$&quot;;\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = IDENTITY)\r\n  private Long id;\r\n\r\n  @Column(unique = true, nullable = false)\r\n  @NotBlank(message = &quot;Username cannot be empty&quot;)\r\n  @NotNull(message = &quot;Username cannot be empty&quot;)\r\n  @Size(min = 1, max = 90)\r\n  private String username;\r\n\r\n  @Column(nullable = false)\r\n  @NotBlank(message = &quot;Password cannot be empty&quot;)\r\n  @NotNull(message = &quot;Password cannot be empty&quot;)\r\n  @Size(min = 8, max = 100)\r\n  private String password;\r\n\r\n  @Column(unique = true, nullable = false)\r\n  @Email(message = &quot;Invalid email address&quot;, regexp = MAIL_REGEX)\r\n  @NotBlank(message = &quot;Email cannot be empty&quot;)\r\n  private String email;\r\n\r\n  @ElementCollection(fetch = EAGER)\r\n  private Set&lt;Role&gt; roles = Set.of(Role.USER, Role.ADMIN, Role.SUPER_ADMIN);\r\n\r\n  @Column(nullable = false)\r\n  private Boolean isEnable = true;\r\n}\r\n```\r\n\r\n```\r\npublic enum Role implements GrantedAuthority {\r\n  USER, ADMIN, SUPER_ADMIN;\r\n\r\n  @Override\r\n  public String getAuthority() {\r\n    return name();\r\n  }\r\n}\r\n```\r\n\r\n\r\n\r\n**Security configuration**\r\n\r\n```\r\n@Configuration\r\npublic class SecurityConfig {\r\n  @Value(&quot;${jwt.public.key}&quot;)\r\n  RSAPublicKey publicKey;\r\n\r\n  @Value(&quot;${jwt.private.key}&quot;)\r\n  RSAPrivateKey privateKey;\r\n\r\n  @Bean\r\n  PasswordEncoder encoder() {\r\n    return new BCryptPasswordEncoder(10);\r\n  }\r\n\r\n  @Bean\r\n  public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    http.csrf().disable();\r\n    http.authorizeHttpRequests().requestMatchers(&quot;/login&quot;, &quot;/register&quot;).permitAll();\r\n    http.authorizeHttpRequests().requestMatchers(&quot;/hello&quot;).hasAuthority(&quot;USER&quot;);\r\n    http.httpBasic(Customizer.withDefaults());\r\n    http.oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\r\n    http.sessionManagement(session -&gt;\r\n            session.sessionCreationPolicy(STATELESS));\r\n    http.exceptionHandling()\r\n            .authenticationEntryPoint(new BearerTokenAuthenticationEntryPoint())\r\n            .accessDeniedHandler(new BearerTokenAccessDeniedHandler());\r\n\r\n    return http.build();\r\n  }\r\n\r\n  @Bean\r\n  JwtDecoder jwtDecoder() {\r\n    return NimbusJwtDecoder.withPublicKey(publicKey).build();\r\n  }\r\n\r\n  @Bean\r\n  JwtEncoder jwtEncoder() {\r\n    JWK jwk = new RSAKey.Builder(publicKey).privateKey(privateKey).build();\r\n    JWKSource&lt;SecurityContext&gt; jwkSource = new ImmutableJWKSet&lt;&gt;(new JWKSet(jwk));\r\n    return new NimbusJwtEncoder(jwkSource);\r\n  }\r\n}\r\n```\r\n\r\nIf I try to query the /hello path, it returns a forbidden error, despite the fact that the authorized user has all the possible roles. Can you tell me what could be the problem? A long time ago I did everything exactly as it is now and everything worked without errors.\r\n\r\n\r\n\r\n\r\nTried to add ROLE\\_ prefix, make roles without enum class with clear string format, applied both hasRole() and hasAuthority() methods","title":"Spring Security configuration with role-based access returns a 403 error","body":"<p>I am developing a small application with Spring Security configuration and JWT token-based authorization and encountered a problem - when using hasRole() or hasPermission() methods to differentiate access to requests, even if the authorized user has the roles that meet the restrictions, the request still returns a 403 code.</p>\n<p><strong>Implementing of UserDetails and UserDetailsService</strong></p>\n<pre><code>@RequiredArgsConstructor\npublic class UserDetailsImpl implements UserDetails {\n\n  private final User user;\n\n  @Override\n  public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n    return user.getRoles();\n  }\n\n  @Override\n  public String getPassword() {\n    return user.getPassword();\n  }\n\n  @Override\n  public String getUsername() {\n    return user.getUsername();\n  }\n\n  @Override\n  public boolean isAccountNonExpired() {\n    return user.getIsEnable();\n  }\n\n  @Override\n  public boolean isAccountNonLocked() {\n    return user.getIsEnable();\n  }\n\n  @Override\n  public boolean isCredentialsNonExpired() {\n    return user.getIsEnable();\n  }\n\n  @Override\n  public boolean isEnabled() {\n    return user.getIsEnable();\n  }\n}\n</code></pre>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class UserDetailsServiceImpl implements UserDetailsService {\n  private final UserRepository userRepository;\n\n  @Override\n  public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n    String exceptionMsg = String.format(&quot;User with username '%s' not found&quot;, username);\n    return new UserDetailsImpl(userRepository.findUserByUsername(username)\n            .orElseThrow(() -&gt; new UsernameNotFoundException(exceptionMsg)));\n  }\n}\n</code></pre>\n<p><strong>User entity and Roles</strong></p>\n<pre><code>@Entity(name = &quot;users&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@EqualsAndHashCode(of = {&quot;id&quot;, &quot;username&quot;})\npublic class User {\n  @Transient\n  private final String MAIL_REGEX =\n          &quot;^\\\\w+([\\\\.-]?\\\\w+)*@\\\\w+([\\\\.-]?\\\\w+)*(\\\\.\\\\w{2,3})+$&quot;;\n\n  @Id\n  @GeneratedValue(strategy = IDENTITY)\n  private Long id;\n\n  @Column(unique = true, nullable = false)\n  @NotBlank(message = &quot;Username cannot be empty&quot;)\n  @NotNull(message = &quot;Username cannot be empty&quot;)\n  @Size(min = 1, max = 90)\n  private String username;\n\n  @Column(nullable = false)\n  @NotBlank(message = &quot;Password cannot be empty&quot;)\n  @NotNull(message = &quot;Password cannot be empty&quot;)\n  @Size(min = 8, max = 100)\n  private String password;\n\n  @Column(unique = true, nullable = false)\n  @Email(message = &quot;Invalid email address&quot;, regexp = MAIL_REGEX)\n  @NotBlank(message = &quot;Email cannot be empty&quot;)\n  private String email;\n\n  @ElementCollection(fetch = EAGER)\n  private Set&lt;Role&gt; roles = Set.of(Role.USER, Role.ADMIN, Role.SUPER_ADMIN);\n\n  @Column(nullable = false)\n  private Boolean isEnable = true;\n}\n</code></pre>\n<pre><code>public enum Role implements GrantedAuthority {\n  USER, ADMIN, SUPER_ADMIN;\n\n  @Override\n  public String getAuthority() {\n    return name();\n  }\n}\n</code></pre>\n<p><strong>Security configuration</strong></p>\n<pre><code>@Configuration\npublic class SecurityConfig {\n  @Value(&quot;${jwt.public.key}&quot;)\n  RSAPublicKey publicKey;\n\n  @Value(&quot;${jwt.private.key}&quot;)\n  RSAPrivateKey privateKey;\n\n  @Bean\n  PasswordEncoder encoder() {\n    return new BCryptPasswordEncoder(10);\n  }\n\n  @Bean\n  public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http.csrf().disable();\n    http.authorizeHttpRequests().requestMatchers(&quot;/login&quot;, &quot;/register&quot;).permitAll();\n    http.authorizeHttpRequests().requestMatchers(&quot;/hello&quot;).hasAuthority(&quot;USER&quot;);\n    http.httpBasic(Customizer.withDefaults());\n    http.oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\n    http.sessionManagement(session -&gt;\n            session.sessionCreationPolicy(STATELESS));\n    http.exceptionHandling()\n            .authenticationEntryPoint(new BearerTokenAuthenticationEntryPoint())\n            .accessDeniedHandler(new BearerTokenAccessDeniedHandler());\n\n    return http.build();\n  }\n\n  @Bean\n  JwtDecoder jwtDecoder() {\n    return NimbusJwtDecoder.withPublicKey(publicKey).build();\n  }\n\n  @Bean\n  JwtEncoder jwtEncoder() {\n    JWK jwk = new RSAKey.Builder(publicKey).privateKey(privateKey).build();\n    JWKSource&lt;SecurityContext&gt; jwkSource = new ImmutableJWKSet&lt;&gt;(new JWKSet(jwk));\n    return new NimbusJwtEncoder(jwkSource);\n  }\n}\n</code></pre>\n<p>If I try to query the /hello path, it returns a forbidden error, despite the fact that the authorized user has all the possible roles. Can you tell me what could be the problem? A long time ago I did everything exactly as it is now and everything worked without errors.</p>\n<p>Tried to add ROLE_ prefix, make roles without enum class with clear string format, applied both hasRole() and hasAuthority() methods</p>\n"},{"tags":["java","unit-testing","serialization"],"answers":[{"comments":[{"owner":{"account_id":445785,"reputation":10573,"user_id":838434,"accept_rate":88,"display_name":"MaDa"},"score":1,"creation_date":1318405901,"post_id":7732472,"comment_id":9414758,"body_markdown":"What `ReflectionUtils` are you referring to?","body":"What <code>ReflectionUtils</code> are you referring to?"},{"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"score":0,"creation_date":1318424546,"post_id":7732472,"comment_id":9419641,"body_markdown":"None in particular. I think I&#39;ve seen a utility like that in some library somewhere, but I generally just write my own. Any way of creating an appropriately populated object will work. The point is that if you&#39;re going to test serialization, then you need to be serializing objects.","body":"None in particular. I think I&#39;ve seen a utility like that in some library somewhere, but I generally just write my own. Any way of creating an appropriately populated object will work. The point is that if you&#39;re going to test serialization, then you need to be serializing objects."},{"owner":{"account_id":445785,"reputation":10573,"user_id":838434,"accept_rate":88,"display_name":"MaDa"},"score":0,"creation_date":1318426773,"post_id":7732472,"comment_id":9420339,"body_markdown":"The problem is, such method cannot be trivially implemented without providing metadata on how to initialize the object. This is why I find your answer misleading, as it tricks into seemingly easy solution to the problem.","body":"The problem is, such method cannot be trivially implemented without providing metadata on how to initialize the object. This is why I find your answer misleading, as it tricks into seemingly easy solution to the problem."},{"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"score":0,"creation_date":1318466921,"post_id":7732472,"comment_id":9430497,"body_markdown":"Added a simple implementation. The worst part of it is having to deal with all the numeric types individually. It&#39;s not very hard. It&#39;s also only one possible way to get populated objects for tests. Actual approach would depend on what kind of test infrastructure you&#39;ve already built up.","body":"Added a simple implementation. The worst part of it is having to deal with all the numeric types individually. It&#39;s not very hard. It&#39;s also only one possible way to get populated objects for tests. Actual approach would depend on what kind of test infrastructure you&#39;ve already built up."},{"owner":{"account_id":445785,"reputation":10573,"user_id":838434,"accept_rate":88,"display_name":"MaDa"},"score":0,"creation_date":1318489958,"post_id":7732472,"comment_id":9433458,"body_markdown":"Great. Now you&#39;re showing plainly there&#39;s no magic behind your method, only hard work.","body":"Great. Now you&#39;re showing plainly there&#39;s no magic behind your method, only hard work."}],"tags":[],"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1318466790,"creation_date":1318367006,"answer_id":7732472,"question_id":7732259,"body_markdown":"If serialization is a key part of your app, then include the serialization in your tests. Something like:\r\n\r\n    @Test\r\n    public void aFooSerializesAndDeserializesCorrectly {\r\n        Foo fooBeforeSerialization = new Foo();\r\n        ReflectionUtils.randomlyPopulateFields(foo);\r\n        Foo fooAfterSerialization = Serializer.serializeAndDeserialize(foo);\r\n        assertThat(fooAfterSerialization, hasSameFieldValues(fooBeforeSerialization));\r\n    }\r\n\r\n**Edit:** A trivial implementation of `randomlyPopulateFields`:\r\n\r\n    public static void randomlyPopulateFields(final Object o) {\r\n        ReflectionUtils.doWithFields(o.getClass(), new ReflectionUtils.FieldCallback() {\r\n            public void doWith(Field field) throws IllegalArgumentException, IllegalAccessException {\r\n                ReflectionUtils.makeAccessible(field);\r\n                ReflectionUtils.setField(field, o, randomValueFor(field.getType()));\r\n            }\r\n\r\n            private Random r = new Random();\r\n            private Object randomValueFor(Class&lt;?&gt; type) {\r\n                if (type == String.class) {\r\n                    return String.valueOf(r.nextDouble());\r\n                } else if (type == Boolean.class || type == Boolean.TYPE) {\r\n                    return r.nextBoolean();\r\n                } else if (type == Byte.class || type == Byte.TYPE) {\r\n                    return (byte) r.nextInt();\r\n                } else if (type == Short.class || type == Short.TYPE) {\r\n                    return (short) r.nextInt();\r\n                } else if (type == Integer.class || type == Integer.TYPE) {\r\n                    return r.nextInt();\r\n                } else if (type == Long.class || type == Long.TYPE) {\r\n                    return (long) r.nextInt();\r\n                } else if (Number.class.isAssignableFrom(type) || type.isPrimitive()) {\r\n                    return Byte.valueOf(&quot;1234&quot;);\r\n                } else if (Date.class.isAssignableFrom(type)) {\r\n                    return new Date(r.nextLong());\r\n                } else {\r\n                    System.out.println(&quot;Sorry, I don&#39;t know how to generate values of type &quot; + type);\r\n                    return null;\r\n                }\r\n            }\r\n        });\r\n    }\r\n","title":"Unit Testing serializability for all classes in java project","body":"<p>If serialization is a key part of your app, then include the serialization in your tests. Something like:</p>\n\n<pre><code>@Test\npublic void aFooSerializesAndDeserializesCorrectly {\n    Foo fooBeforeSerialization = new Foo();\n    ReflectionUtils.randomlyPopulateFields(foo);\n    Foo fooAfterSerialization = Serializer.serializeAndDeserialize(foo);\n    assertThat(fooAfterSerialization, hasSameFieldValues(fooBeforeSerialization));\n}\n</code></pre>\n\n<p><strong>Edit:</strong> A trivial implementation of <code>randomlyPopulateFields</code>:</p>\n\n<pre><code>public static void randomlyPopulateFields(final Object o) {\n    ReflectionUtils.doWithFields(o.getClass(), new ReflectionUtils.FieldCallback() {\n        public void doWith(Field field) throws IllegalArgumentException, IllegalAccessException {\n            ReflectionUtils.makeAccessible(field);\n            ReflectionUtils.setField(field, o, randomValueFor(field.getType()));\n        }\n\n        private Random r = new Random();\n        private Object randomValueFor(Class&lt;?&gt; type) {\n            if (type == String.class) {\n                return String.valueOf(r.nextDouble());\n            } else if (type == Boolean.class || type == Boolean.TYPE) {\n                return r.nextBoolean();\n            } else if (type == Byte.class || type == Byte.TYPE) {\n                return (byte) r.nextInt();\n            } else if (type == Short.class || type == Short.TYPE) {\n                return (short) r.nextInt();\n            } else if (type == Integer.class || type == Integer.TYPE) {\n                return r.nextInt();\n            } else if (type == Long.class || type == Long.TYPE) {\n                return (long) r.nextInt();\n            } else if (Number.class.isAssignableFrom(type) || type.isPrimitive()) {\n                return Byte.valueOf(\"1234\");\n            } else if (Date.class.isAssignableFrom(type)) {\n                return new Date(r.nextLong());\n            } else {\n                System.out.println(\"Sorry, I don't know how to generate values of type \" + type);\n                return null;\n            }\n        }\n    });\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"score":0,"creation_date":1318424446,"post_id":7737466,"comment_id":9419605,"body_markdown":"You still haven&#39;t accounted for the magical [readObject and writeObject methods](http://java.sun.com/developer/technicalArticles/ALT/serialization/). If those get used, none of the rules that either of you have listed will apply.","body":"You still haven&#39;t accounted for the magical <a href=\"http://java.sun.com/developer/technicalArticles/ALT/serialization/\" rel=\"nofollow noreferrer\">readObject and writeObject methods</a>. If those get used, none of the rules that either of you have listed will apply."},{"owner":{"account_id":445785,"reputation":10573,"user_id":838434,"accept_rate":88,"display_name":"MaDa"},"score":0,"creation_date":1318426394,"post_id":7737466,"comment_id":9420228,"body_markdown":"@RyanStewart I was going to mention that my algorithm is only an approximation, but it slipped me. Thank you!","body":"@RyanStewart I was going to mention that my algorithm is only an approximation, but it slipped me. Thank you!"}],"tags":[],"owner":{"account_id":445785,"reputation":10573,"user_id":838434,"accept_rate":88,"display_name":"MaDa"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1318427447,"creation_date":1318409498,"answer_id":7737466,"question_id":7732259,"body_markdown":"&gt; 1) creating an object. 2) serializing and then 3) deserializing.\r\n\r\nThis list is not complete; you also need initialization. Consider the example:\r\n\r\n&lt;!-- language: language-java --&gt;\r\n\r\n\tclass CanBeSerialized implements Serializable {\r\n\t\tprivate String a; // serializable\r\n\t\tprivate Thread t; // not serializable\r\n\t}\r\n\r\n\tclass CannotBeSerialized implements Serializable {\r\n\t\tprivate String a;                // serializable\r\n\t\tprivate Thread t = new Thread(); // not serializable\r\n\t}\r\n\r\nYou can serialize and deserialize the first one, but you&#39;ll get `NotSerializableException` on the second. To complicate the matter further, if interfaces are used, you can never tell if a class will pass serialization, as it&#39;s the concrete object of the **class** behind this interface that will be streamed:\r\n\r\n&lt;!-- language: language-java --&gt;\r\n\r\n\tclass PerhapsCanBeSerializedButYouNeverKnow implements Serializable {\r\n\t\tprivate Runnable r; // interface type - who knows?\r\n\t}\r\n\r\nProvided that you could guarantee the following for **all your classes and classes used by your classes** to be tested:\r\n\r\n - default constructor exists,\r\n - no interface types in fields,\r\n\r\nthen you could automatically create and initialize them by reflection, and then test serialization. But that is a really hard condition, isn&#39;t it? Otherwise, proper initialization is down to manual work.\r\n\r\nYou could use reflection in a different way: iterating through a list of `Class` objects you want to check, getting the `Field[]` for them, and verifying if they&#39;re transient (`Field.getModifiers()`) or if they implement `Serializable` directly (`Field.getType().getInterfaces()`) or indirectly (via a super interface or class). Also, consider how deep you want to check, depending on how deep your serialization mechanism works.\r\n\r\nAs Ryan pointed out correctly, this static serialization check would fail if the code was evil enough:\r\n\r\n&lt;!-- language: language-java --&gt;\r\n\r\n\tclass SeeminglySerializable implements Serializable {\r\n\t    // ...\r\n            private void writeObject/readObject() {\r\n                 throw new NotSerializableException();\r\n            }\r\n\t}\r\n\r\nor just if `readObject()/writeObject()` were badly implemented. To test against this kind of problems, you need to actually test the serialization process, not the code behind it.","title":"Unit Testing serializability for all classes in java project","body":"<blockquote>\n  <p>1) creating an object. 2) serializing and then 3) deserializing.</p>\n</blockquote>\n\n<p>This list is not complete; you also need initialization. Consider the example:</p>\n\n<pre><code>class CanBeSerialized implements Serializable {\n    private String a; // serializable\n    private Thread t; // not serializable\n}\n\nclass CannotBeSerialized implements Serializable {\n    private String a;                // serializable\n    private Thread t = new Thread(); // not serializable\n}\n</code></pre>\n\n<p>You can serialize and deserialize the first one, but you'll get <code>NotSerializableException</code> on the second. To complicate the matter further, if interfaces are used, you can never tell if a class will pass serialization, as it's the concrete object of the <strong>class</strong> behind this interface that will be streamed:</p>\n\n<pre><code>class PerhapsCanBeSerializedButYouNeverKnow implements Serializable {\n    private Runnable r; // interface type - who knows?\n}\n</code></pre>\n\n<p>Provided that you could guarantee the following for <strong>all your classes and classes used by your classes</strong> to be tested:</p>\n\n<ul>\n<li>default constructor exists,</li>\n<li>no interface types in fields,</li>\n</ul>\n\n<p>then you could automatically create and initialize them by reflection, and then test serialization. But that is a really hard condition, isn't it? Otherwise, proper initialization is down to manual work.</p>\n\n<p>You could use reflection in a different way: iterating through a list of <code>Class</code> objects you want to check, getting the <code>Field[]</code> for them, and verifying if they're transient (<code>Field.getModifiers()</code>) or if they implement <code>Serializable</code> directly (<code>Field.getType().getInterfaces()</code>) or indirectly (via a super interface or class). Also, consider how deep you want to check, depending on how deep your serialization mechanism works.</p>\n\n<p>As Ryan pointed out correctly, this static serialization check would fail if the code was evil enough:</p>\n\n<pre><code>class SeeminglySerializable implements Serializable {\n    // ...\n        private void writeObject/readObject() {\n             throw new NotSerializableException();\n        }\n}\n</code></pre>\n\n<p>or just if <code>readObject()/writeObject()</code> were badly implemented. To test against this kind of problems, you need to actually test the serialization process, not the code behind it.</p>\n"},{"tags":[],"owner":{"account_id":2130100,"reputation":5379,"user_id":1891118,"accept_rate":100,"display_name":"Oleksii K."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656435995,"creation_date":1656435995,"answer_id":72790596,"question_id":7732259,"body_markdown":"Put the classes you want to test inside the method `initParameters()` and run the whole class as JUnit test.\r\n\r\n```java\r\nimport static org.junit.Assert.assertNotNull;\r\nimport static org.junit.Assert.fail;\r\nimport static java.lang.reflect.Modifier.FINAL;\r\nimport static java.lang.reflect.Modifier.STATIC;\r\nimport static java.lang.reflect.Modifier.TRANSIENT;\r\n\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.junit.runners.Parameterized;\r\n\r\nimport java.io.Serializable;\r\nimport java.lang.reflect.Field;\r\nimport java.lang.reflect.GenericArrayType;\r\nimport java.lang.reflect.ParameterizedType;\r\nimport java.lang.reflect.Type;\r\nimport java.util.Arrays;\r\nimport java.util.Collection;\r\nimport java.util.Comparator;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.TreeMap;\r\n\r\n@SuppressWarnings({&quot;rawtypes&quot;})\r\n@RunWith(Parameterized.class)\r\npublic class SerializableTest {\r\n    @Parameterized.Parameter\r\n    public Class clazz;\r\n\r\n    @Parameterized.Parameters(name = &quot;{0}&quot;)\r\n    public static Collection&lt;Object[]&gt; initParameters() {\r\n        return Arrays.asList(new Object[][]{\r\n                // TODO put your classes here\r\n                {YourClassOne.class},\r\n                {YourClassTwo.class},\r\n        });\r\n    }\r\n\r\n    @Test\r\n    @SuppressWarnings(&quot;Convert2Diamond&quot;)\r\n    public void testSerializableHierarchy() throws ReflectiveOperationException {\r\n        performTestSerializableHierarchy(new TreeMap&lt;Class, Boolean&gt;(new Comparator&lt;Class&gt;() {\r\n            @Override\r\n            public int compare(Class o1, Class o2) {\r\n                return o1.getName().compareTo(o2.getName());\r\n            }\r\n        }), new HashMap&lt;Long, Class&gt;(), clazz);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;ConstantConditions&quot;)\r\n    private void performTestSerializableHierarchy(Map&lt;Class, Boolean&gt; classes, Map&lt;Long, Class&gt; uids, Type type) throws IllegalAccessException {\r\n        if (type instanceof GenericArrayType) {\r\n            performTestSerializableHierarchy(classes, uids, ((GenericArrayType) type).getGenericComponentType());\r\n            return;\r\n        } else if (type instanceof ParameterizedType) {\r\n            performTestSerializableHierarchy(classes, uids, ((ParameterizedType) type).getRawType());\r\n\r\n            Type[] types = ((ParameterizedType) type).getActualTypeArguments();\r\n            for (Type parameterType : types) {\r\n                performTestSerializableHierarchy(classes, uids, parameterType);\r\n            }\r\n            return;\r\n        } else if (!(type instanceof Class)) {\r\n            fail(&quot;Invalid type: &quot; + type);\r\n            return;\r\n        }\r\n\r\n        Class clazz = (Class) type;\r\n\r\n        if (clazz.isPrimitive()) {\r\n            return;\r\n        }\r\n\r\n        if (clazz.isEnum()) {\r\n            return;\r\n        }\r\n\r\n        if (clazz.equals(String.class)) {\r\n            return;\r\n        }\r\n\r\n        if (clazz.isArray()) {\r\n            performTestSerializableHierarchy(classes, uids, clazz.getComponentType());\r\n            return;\r\n        }\r\n\r\n        if (Collection.class.isAssignableFrom(clazz)) {\r\n            return;\r\n        }\r\n\r\n        if (Map.class.isAssignableFrom(clazz)) {\r\n            return;\r\n        }\r\n\r\n        if (!Serializable.class.isAssignableFrom(clazz)) {\r\n            fail(clazz + &quot; does not implement &quot; + Serializable.class.getSimpleName());\r\n            return;\r\n        }\r\n\r\n        Boolean status = classes.get(clazz);\r\n        if (status == null) {\r\n            classes.put(clazz, false);\r\n        } else if (status) {\r\n            return;\r\n        }\r\n\r\n        Field uidField = null;\r\n\r\n        try {\r\n            uidField = clazz.getDeclaredField(&quot;serialVersionUID&quot;);\r\n        } catch (NoSuchFieldException ex) {\r\n            fail(clazz + &quot; does not declare field &#39;serialVersionUID&#39;&quot;);\r\n        }\r\n\r\n        assertNotNull(uidField);\r\n\r\n        if ((uidField.getModifiers() &amp; (STATIC | FINAL)) != (STATIC | FINAL) || !uidField.getType().equals(long.class)) {\r\n            fail(clazz + &quot; incorrectly declares field &#39;serialVersionUID&#39;&quot;);\r\n        }\r\n\r\n        uidField.setAccessible(true);\r\n        long uidValue = (long) uidField.get(null);\r\n        if (uidValue == ((int) uidValue)) {\r\n            fail(uidField + &quot; has invalid value: &quot; + uidValue);\r\n        }\r\n\r\n        Class existingClass = uids.get(uidValue);\r\n        if (existingClass != null &amp;&amp; !existingClass.equals(clazz)) {\r\n            fail(existingClass + &quot; has assigned &#39;serialVersionUID&#39; same value as &quot; + clazz);\r\n        }\r\n\r\n        for (Field field : clazz.getDeclaredFields()) {\r\n            if ((field.getModifiers() &amp; (STATIC | TRANSIENT)) == 0) {\r\n                performTestSerializableHierarchy(classes, uids, field.getGenericType());\r\n            }\r\n        }\r\n\r\n        classes.put(clazz, true);\r\n        uids.put(uidValue, clazz);\r\n    }\r\n}\r\n\r\n```","title":"Unit Testing serializability for all classes in java project","body":"<p>Put the classes you want to test inside the method <code>initParameters()</code> and run the whole class as JUnit test.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.junit.Assert.assertNotNull;\nimport static org.junit.Assert.fail;\nimport static java.lang.reflect.Modifier.FINAL;\nimport static java.lang.reflect.Modifier.STATIC;\nimport static java.lang.reflect.Modifier.TRANSIENT;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.junit.runners.Parameterized;\n\nimport java.io.Serializable;\nimport java.lang.reflect.Field;\nimport java.lang.reflect.GenericArrayType;\nimport java.lang.reflect.ParameterizedType;\nimport java.lang.reflect.Type;\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.Comparator;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.TreeMap;\n\n@SuppressWarnings({&quot;rawtypes&quot;})\n@RunWith(Parameterized.class)\npublic class SerializableTest {\n    @Parameterized.Parameter\n    public Class clazz;\n\n    @Parameterized.Parameters(name = &quot;{0}&quot;)\n    public static Collection&lt;Object[]&gt; initParameters() {\n        return Arrays.asList(new Object[][]{\n                // TODO put your classes here\n                {YourClassOne.class},\n                {YourClassTwo.class},\n        });\n    }\n\n    @Test\n    @SuppressWarnings(&quot;Convert2Diamond&quot;)\n    public void testSerializableHierarchy() throws ReflectiveOperationException {\n        performTestSerializableHierarchy(new TreeMap&lt;Class, Boolean&gt;(new Comparator&lt;Class&gt;() {\n            @Override\n            public int compare(Class o1, Class o2) {\n                return o1.getName().compareTo(o2.getName());\n            }\n        }), new HashMap&lt;Long, Class&gt;(), clazz);\n    }\n\n    @SuppressWarnings(&quot;ConstantConditions&quot;)\n    private void performTestSerializableHierarchy(Map&lt;Class, Boolean&gt; classes, Map&lt;Long, Class&gt; uids, Type type) throws IllegalAccessException {\n        if (type instanceof GenericArrayType) {\n            performTestSerializableHierarchy(classes, uids, ((GenericArrayType) type).getGenericComponentType());\n            return;\n        } else if (type instanceof ParameterizedType) {\n            performTestSerializableHierarchy(classes, uids, ((ParameterizedType) type).getRawType());\n\n            Type[] types = ((ParameterizedType) type).getActualTypeArguments();\n            for (Type parameterType : types) {\n                performTestSerializableHierarchy(classes, uids, parameterType);\n            }\n            return;\n        } else if (!(type instanceof Class)) {\n            fail(&quot;Invalid type: &quot; + type);\n            return;\n        }\n\n        Class clazz = (Class) type;\n\n        if (clazz.isPrimitive()) {\n            return;\n        }\n\n        if (clazz.isEnum()) {\n            return;\n        }\n\n        if (clazz.equals(String.class)) {\n            return;\n        }\n\n        if (clazz.isArray()) {\n            performTestSerializableHierarchy(classes, uids, clazz.getComponentType());\n            return;\n        }\n\n        if (Collection.class.isAssignableFrom(clazz)) {\n            return;\n        }\n\n        if (Map.class.isAssignableFrom(clazz)) {\n            return;\n        }\n\n        if (!Serializable.class.isAssignableFrom(clazz)) {\n            fail(clazz + &quot; does not implement &quot; + Serializable.class.getSimpleName());\n            return;\n        }\n\n        Boolean status = classes.get(clazz);\n        if (status == null) {\n            classes.put(clazz, false);\n        } else if (status) {\n            return;\n        }\n\n        Field uidField = null;\n\n        try {\n            uidField = clazz.getDeclaredField(&quot;serialVersionUID&quot;);\n        } catch (NoSuchFieldException ex) {\n            fail(clazz + &quot; does not declare field 'serialVersionUID'&quot;);\n        }\n\n        assertNotNull(uidField);\n\n        if ((uidField.getModifiers() &amp; (STATIC | FINAL)) != (STATIC | FINAL) || !uidField.getType().equals(long.class)) {\n            fail(clazz + &quot; incorrectly declares field 'serialVersionUID'&quot;);\n        }\n\n        uidField.setAccessible(true);\n        long uidValue = (long) uidField.get(null);\n        if (uidValue == ((int) uidValue)) {\n            fail(uidField + &quot; has invalid value: &quot; + uidValue);\n        }\n\n        Class existingClass = uids.get(uidValue);\n        if (existingClass != null &amp;&amp; !existingClass.equals(clazz)) {\n            fail(existingClass + &quot; has assigned 'serialVersionUID' same value as &quot; + clazz);\n        }\n\n        for (Field field : clazz.getDeclaredFields()) {\n            if ((field.getModifiers() &amp; (STATIC | TRANSIENT)) == 0) {\n                performTestSerializableHierarchy(classes, uids, field.getGenericType());\n            }\n        }\n\n        classes.put(clazz, true);\n        uids.put(uidValue, clazz);\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3461870,"reputation":16885,"user_id":2898715,"accept_rate":92,"display_name":"Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670607263,"creation_date":1670607263,"answer_id":74746484,"question_id":7732259,"body_markdown":"this unit test finds all the classes in `packageName` that are descendants of `Serializable`, and checks the declared properties of these classes to see if they are also descendants of `Serializable`.\r\n\r\nlibrary dependencies\r\n```gradle\r\ndependencies {\r\n    implementation &#39;io.github.classgraph:classgraph:4.8.151&#39;\r\n}\r\n```\r\n\r\nthe unit test\r\n```kotlin\r\nimport io.github.classgraph.ClassGraph\r\nimport org.junit.Test\r\nimport java.io.Serializable\r\nimport java.util.LinkedHashSet\r\nimport kotlin.reflect.KClass\r\nimport kotlin.reflect.full.declaredMemberProperties\r\nimport kotlin.reflect.full.isSubclassOf\r\nimport kotlin.reflect.jvm.javaField\r\n\r\nclass SerializableTest\r\n{\r\n    @Test\r\n    fun `all properties of Serializable descendants are also Serializable descendants`()\r\n    {\r\n        // change BuildConfig.APPLICATION_ID to be root package of your project, unless you are also android developer! :D\r\n        val packageName = BuildConfig.APPLICATION_ID\r\n\r\n        // this should be okay to keep it as it is as long as you put it in the same package as root of your project\r\n        val classLoader = SerializableTest::class.java.classLoader!!\r\n        val allClasses = tryGetClassesForPackage(packageName,classLoader)\r\n        val nonSerializableMembersOfSerializableSequence = allClasses\r\n            .asSequence()\r\n            .onEach { jClass -&gt; println(&quot;found class in package $packageName: $jClass&quot;) }\r\n            .filter { jClass -&gt; Serializable::class.java.isAssignableFrom(jClass) }\r\n            .onEach { serializableJClass -&gt; println(&quot;found Serializable subclass: $serializableJClass&quot;) }\r\n            .filter { serializableJClass -&gt; serializableJClass.kotlin.simpleName != null }\r\n            .onEach { serializableJClass -&gt; println(&quot;found non-anonymous Serializable subclass: $serializableJClass&quot;) }\r\n            .flatMap()\r\n            { serializableJClass -&gt;\r\n                serializableJClass.kotlin.simpleName\r\n                serializableJClass.kotlin.declaredMemberProperties.asSequence()\r\n                    .onEach { property -&gt; println(&quot;found property of Serializable subclass: ${property.name}&quot;) }\r\n                    .filter { property -&gt; property.javaField != null }\r\n                    .onEach { property -&gt; println(&quot;found java-field-backed property of Serializable subclass: ${property.name}&quot;) }\r\n                    .mapNotNull()\r\n                    { kProperty -&gt;\r\n                        val propertyClass = kProperty.returnType.classifier as? KClass&lt;*&gt;\r\n                        val isMemberNonSerializable = propertyClass?.isSubclassOf(Serializable::class) != true\r\n                        if (isMemberNonSerializable) serializableJClass.canonicalName to kProperty.name else null\r\n                    }\r\n            }\r\n        val nonSerializableMembersOfSerializable = nonSerializableMembersOfSerializableSequence.toSet()\r\n        nonSerializableMembersOfSerializable.onEach { serializableJClass -&gt;\r\n            val serializableClassName = serializableJClass.first\r\n            val nonSerializablePropertyName = serializableJClass.second\r\n            System.err.println(&quot;found Serializable subclass ($serializableClassName) with non-Serializable member: $nonSerializablePropertyName&quot;)\r\n        }\r\n        assert(nonSerializableMembersOfSerializable.isEmpty())\r\n    }\r\n\r\n    private fun tryGetClassesForPackage(packageName:String,loader:ClassLoader):Sequence&lt;Class&lt;*&gt;&gt;\r\n    {\r\n        return ClassGraph().acceptPackages(packageName).enableClassInfo().scan().use { scanResult -&gt;\r\n            scanResult.allClasses.names.asSequence().map { className -&gt; loader.loadClass(className) }\r\n        }\r\n    }\r\n}\r\n```","title":"Unit Testing serializability for all classes in java project","body":"<p>this unit test finds all the classes in <code>packageName</code> that are descendants of <code>Serializable</code>, and checks the declared properties of these classes to see if they are also descendants of <code>Serializable</code>.</p>\n<p>library dependencies</p>\n<pre><code>dependencies {\n    implementation 'io.github.classgraph:classgraph:4.8.151'\n}\n</code></pre>\n<p>the unit test</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import io.github.classgraph.ClassGraph\nimport org.junit.Test\nimport java.io.Serializable\nimport java.util.LinkedHashSet\nimport kotlin.reflect.KClass\nimport kotlin.reflect.full.declaredMemberProperties\nimport kotlin.reflect.full.isSubclassOf\nimport kotlin.reflect.jvm.javaField\n\nclass SerializableTest\n{\n    @Test\n    fun `all properties of Serializable descendants are also Serializable descendants`()\n    {\n        // change BuildConfig.APPLICATION_ID to be root package of your project, unless you are also android developer! :D\n        val packageName = BuildConfig.APPLICATION_ID\n\n        // this should be okay to keep it as it is as long as you put it in the same package as root of your project\n        val classLoader = SerializableTest::class.java.classLoader!!\n        val allClasses = tryGetClassesForPackage(packageName,classLoader)\n        val nonSerializableMembersOfSerializableSequence = allClasses\n            .asSequence()\n            .onEach { jClass -&gt; println(&quot;found class in package $packageName: $jClass&quot;) }\n            .filter { jClass -&gt; Serializable::class.java.isAssignableFrom(jClass) }\n            .onEach { serializableJClass -&gt; println(&quot;found Serializable subclass: $serializableJClass&quot;) }\n            .filter { serializableJClass -&gt; serializableJClass.kotlin.simpleName != null }\n            .onEach { serializableJClass -&gt; println(&quot;found non-anonymous Serializable subclass: $serializableJClass&quot;) }\n            .flatMap()\n            { serializableJClass -&gt;\n                serializableJClass.kotlin.simpleName\n                serializableJClass.kotlin.declaredMemberProperties.asSequence()\n                    .onEach { property -&gt; println(&quot;found property of Serializable subclass: ${property.name}&quot;) }\n                    .filter { property -&gt; property.javaField != null }\n                    .onEach { property -&gt; println(&quot;found java-field-backed property of Serializable subclass: ${property.name}&quot;) }\n                    .mapNotNull()\n                    { kProperty -&gt;\n                        val propertyClass = kProperty.returnType.classifier as? KClass&lt;*&gt;\n                        val isMemberNonSerializable = propertyClass?.isSubclassOf(Serializable::class) != true\n                        if (isMemberNonSerializable) serializableJClass.canonicalName to kProperty.name else null\n                    }\n            }\n        val nonSerializableMembersOfSerializable = nonSerializableMembersOfSerializableSequence.toSet()\n        nonSerializableMembersOfSerializable.onEach { serializableJClass -&gt;\n            val serializableClassName = serializableJClass.first\n            val nonSerializablePropertyName = serializableJClass.second\n            System.err.println(&quot;found Serializable subclass ($serializableClassName) with non-Serializable member: $nonSerializablePropertyName&quot;)\n        }\n        assert(nonSerializableMembersOfSerializable.isEmpty())\n    }\n\n    private fun tryGetClassesForPackage(packageName:String,loader:ClassLoader):Sequence&lt;Class&lt;*&gt;&gt;\n    {\n        return ClassGraph().acceptPackages(packageName).enableClassInfo().scan().use { scanResult -&gt;\n            scanResult.allClasses.names.asSequence().map { className -&gt; loader.loadClass(className) }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":809814,"reputation":401,"user_id":898728,"accept_rate":17,"display_name":"Ros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5485,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1670607263,"creation_date":1318365859,"question_id":7732259,"body_markdown":"I&#39;ve thousands of classes in our java project. Some of them implements serializable interface.  Now here&#39;s a problem.  It&#39;s possible someone can go in a class, add new variable that is neither transient nor serializable. Code compiles fine however process would blow up at runtime.\r\n\r\nTo illustrate this\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    class Foo implements Serializable {  .... // all good }\r\n\r\n    class Foo implements Serializable \r\n    {  \r\n        // OOps, executorService is not serializable.  It&#39;s not declared as transient either \r\n\r\n        private ExecutorService executorService = ..\r\n    }\r\n\r\nI&#39;m thinking about writing a unit test that would go thru all classes and ensure &quot;true serializability&quot;.   I&#39;ve read some discussions about serialing specific objects. i understand that process but it requires \r\n\r\n \r\n\r\n 1) creating an object.    \r\n 2) serializing and then   \r\n 3) deserializing.\r\n\r\n \r\n\r\nIs there more efficient and practical approach. perhaps to use reflection. Go thru all classes, if class has serializable then all attributes must be serializable or have transient keyword.. \r\n\r\nThoughts ?","title":"Unit Testing serializability for all classes in java project","body":"<p>I've thousands of classes in our java project. Some of them implements serializable interface.  Now here's a problem.  It's possible someone can go in a class, add new variable that is neither transient nor serializable. Code compiles fine however process would blow up at runtime.</p>\n\n<p>To illustrate this</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class Foo implements Serializable {  .... // all good }\n\nclass Foo implements Serializable \n{  \n    // OOps, executorService is not serializable.  It's not declared as transient either \n\n    private ExecutorService executorService = ..\n}\n</code></pre>\n\n<p>I'm thinking about writing a unit test that would go thru all classes and ensure \"true serializability\".   I've read some discussions about serialing specific objects. i understand that process but it requires </p>\n\n<p>1) creating an object.<br>\n 2) serializing and then<br>\n 3) deserializing.</p>\n\n<p>Is there more efficient and practical approach. perhaps to use reflection. Go thru all classes, if class has serializable then all attributes must be serializable or have transient keyword.. </p>\n\n<p>Thoughts ?</p>\n"},{"tags":["java","intellij-idea","cucumber","bdd"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1670608303,"post_id":74746445,"comment_id":131920590,"body_markdown":"Please share the [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve) on GitHub.","body":"Please share the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> on GitHub."},{"owner":{"account_id":5746949,"reputation":179,"user_id":4537922,"accept_rate":54,"display_name":"Shafiq Ahmed Khan"},"score":0,"creation_date":1670612099,"post_id":74746445,"comment_id":131921650,"body_markdown":"Please refer to: https://github.com/shafiqahmedkhan/APIFramework","body":"Please refer to: <a href=\"https://github.com/shafiqahmedkhan/APIFramework\" rel=\"nofollow noreferrer\">github.com/shafiqahmedkhan/APIFramework</a>"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1670621483,"post_id":74746445,"comment_id":131923783,"body_markdown":"Move resources to test root like this: https://i.imgur.com/iK5KUT5.png.","body":"Move resources to test root like this: <a href=\"https://i.imgur.com/iK5KUT5.png\" rel=\"nofollow noreferrer\">i.imgur.com/iK5KUT5.png</a>."},{"owner":{"account_id":5746949,"reputation":179,"user_id":4537922,"accept_rate":54,"display_name":"Shafiq Ahmed Khan"},"score":0,"creation_date":1670623743,"post_id":74746445,"comment_id":131924153,"body_markdown":"I have done this but my feature is still not running: https://imgur.com/a/wSj1tda","body":"I have done this but my feature is still not running: <a href=\"https://imgur.com/a/wSj1tda\" rel=\"nofollow noreferrer\">imgur.com/a/wSj1tda</a>"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1670626725,"post_id":74746445,"comment_id":131924670,"body_markdown":"Use this configuration: https://i.imgur.com/OR9qwut.png.","body":"Use this configuration: <a href=\"https://i.imgur.com/OR9qwut.png\" rel=\"nofollow noreferrer\">i.imgur.com/OR9qwut.png</a>."},{"owner":{"account_id":5746949,"reputation":179,"user_id":4537922,"accept_rate":54,"display_name":"Shafiq Ahmed Khan"},"score":0,"creation_date":1670627439,"post_id":74746445,"comment_id":131924801,"body_markdown":"So sorry I have tried that configuration but it does not work for me :-( https://imgur.com/4qLktVq","body":"So sorry I have tried that configuration but it does not work for me :-( <a href=\"https://imgur.com/4qLktVq\" rel=\"nofollow noreferrer\">imgur.com/4qLktVq</a>"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1670632267,"post_id":74746445,"comment_id":131925465,"body_markdown":"Make sure JDK is specified: https://i.imgur.com/DlTnCbE.png\nhttps://i.imgur.com/TiFtoZw.png\nhttps://i.imgur.com/tPYsa2l.png. See https://www.jetbrains.com/help/idea/sdk.html#define-sdk.","body":"Make sure JDK is specified: <a href=\"https://i.imgur.com/DlTnCbE.png\" rel=\"nofollow noreferrer\">i.imgur.com/DlTnCbE.png</a> <a href=\"https://i.imgur.com/TiFtoZw.png\" rel=\"nofollow noreferrer\">i.imgur.com/TiFtoZw.png</a> <a href=\"https://i.imgur.com/tPYsa2l.png\" rel=\"nofollow noreferrer\">i.imgur.com/tPYsa2l.png</a>. See <a href=\"https://www.jetbrains.com/help/idea/sdk.html#define-sdk\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/sdk.html#define-sdk</a>."},{"owner":{"account_id":5746949,"reputation":179,"user_id":4537922,"accept_rate":54,"display_name":"Shafiq Ahmed Khan"},"score":0,"creation_date":1670676598,"post_id":74746445,"comment_id":131930887,"body_markdown":"It&#39;s working now. Thank you so much. I have been stuck on this issue for days and I could not see any solutions anywhere online. Thanks again.","body":"It&#39;s working now. Thank you so much. I have been stuck on this issue for days and I could not see any solutions anywhere online. Thanks again."}],"owner":{"account_id":5746949,"reputation":179,"user_id":4537922,"accept_rate":54,"display_name":"Shafiq Ahmed Khan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670607004,"creation_date":1670607004,"question_id":74746445,"body_markdown":"I am unable to run this feature. Please see screenshot below:\r\n\r\n```package stepDefinition;\r\n\r\nimport io.cucumber.junit.Cucumber;\r\nimport io.cucumber.junit.CucumberOptions;\r\nimport org.junit.runner.RunWith;\r\n\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(features = &quot;src/main/resources/features&quot;, glue = {&quot;stepDefinition&quot;})\r\npublic class RunCukeTest {\r\n}\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D5IMa.png\r\n  [2]: https://i.stack.imgur.com/xx1Bx.png","title":"Unable to run feature when tests runner and step definitions are added","body":"<p>I am unable to run this feature. Please see screenshot below:</p>\n<pre><code>\nimport io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\nimport org.junit.runner.RunWith;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(features = &quot;src/main/resources/features&quot;, glue = {&quot;stepDefinition&quot;})\npublic class RunCukeTest {\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/D5IMa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D5IMa.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/xx1Bx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xx1Bx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","servlets","jersey","cxf"],"owner":{"account_id":24120680,"reputation":17,"user_id":18089908,"display_name":"BigMautone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670606843,"creation_date":1670606843,"question_id":74746420,"body_markdown":"I have to migrate an application deployed with CXF in Jersey, but i don&#39;t know how to do it.\r\n&lt;br&gt;Right now, i&#39;ve just updated my pom into this:\r\n```xml\r\n//other code...\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;${jersey2.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n            &lt;version&gt;${jersey2.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n            &lt;version&gt;${jersey2.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;${jersey2.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI have to do any kind of code changes or these would be enough?","title":"How to migrate from CXF service to Jersey service","body":"<p>I have to migrate an application deployed with CXF in Jersey, but i don't know how to do it.\n<br>Right now, i've just updated my pom into this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>//other code...\n&lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n            &lt;version&gt;${jersey2.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n            &lt;version&gt;${jersey2.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;version&gt;${jersey2.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;${jersey2.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have to do any kind of code changes or these would be enough?</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670605706,"creation_date":1670605706,"answer_id":74746217,"question_id":74745874,"body_markdown":"The option [generatedSourceOutputDirectory][1] is of type [DirectoryProperty][2]; therefore, to get the value that it holds, you need to call [get()][3].\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.compile.CompileOptions.html#org.gradle.api.tasks.compile.CompileOptions:generatedSourceOutputDirectory\r\n  [2]: https://docs.gradle.org/current/javadoc/org/gradle/api/file/DirectoryProperty.html\r\n  [3]: https://docs.gradle.org/current/javadoc/org/gradle/api/provider/Provider.html#get--","title":"How do you log all the compiler options being used by Gradle?","body":"<p>The option <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.compile.CompileOptions.html#org.gradle.api.tasks.compile.CompileOptions:generatedSourceOutputDirectory\" rel=\"nofollow noreferrer\">generatedSourceOutputDirectory</a> is of type <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/file/DirectoryProperty.html\" rel=\"nofollow noreferrer\">DirectoryProperty</a>; therefore, to get the value that it holds, you need to call <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/provider/Provider.html#get--\" rel=\"nofollow noreferrer\">get()</a>.</p>\n"}],"owner":{"account_id":20985221,"reputation":119,"user_id":15419185,"display_name":"I was in the neighborhood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74746217,"answer_count":1,"score":1,"last_activity_date":1670605706,"creation_date":1670603800,"question_id":74745874,"body_markdown":"I&#39;m using Gradle 7.4.2. I&#39;m trying to see what it uses for `generatedSourceOutputDirectory` (among other `CompileOptions`. \r\n\r\nI&#39;ve tried: \r\n\r\n```\r\ntasks.compileJava {\r\n    println(options.generatedSourceOutputDirectory.toString())\r\n}\r\n```\r\n\r\nbut this prints an unhelpful: \r\n\r\n```\r\ntask &#39;:lib:compileJava&#39; property &#39;options.generatedSourceOutputDirectory&#39;\r\n```\r\n\r\nSleuthing around the code itself on Github, I see that&#39;s its defaults are (seemingly) mangaged via XML [code here](https://github.com/gradle/gradle/blob/96e5b88f58c263209e83719fba13034c18d99bfb/subprojects/docs/src/docs/dsl/org.gradle.api.tasks.compile.CompileOptions.xml#L85). \r\n\r\nHow can I see what the current compile options are? \r\n","title":"How do you log all the compiler options being used by Gradle?","body":"<p>I'm using Gradle 7.4.2. I'm trying to see what it uses for <code>generatedSourceOutputDirectory</code> (among other <code>CompileOptions</code>.</p>\n<p>I've tried:</p>\n<pre><code>tasks.compileJava {\n    println(options.generatedSourceOutputDirectory.toString())\n}\n</code></pre>\n<p>but this prints an unhelpful:</p>\n<pre><code>task ':lib:compileJava' property 'options.generatedSourceOutputDirectory'\n</code></pre>\n<p>Sleuthing around the code itself on Github, I see that's its defaults are (seemingly) mangaged via XML <a href=\"https://github.com/gradle/gradle/blob/96e5b88f58c263209e83719fba13034c18d99bfb/subprojects/docs/src/docs/dsl/org.gradle.api.tasks.compile.CompileOptions.xml#L85\" rel=\"nofollow noreferrer\">code here</a>.</p>\n<p>How can I see what the current compile options are?</p>\n"},{"tags":["java","java-17","jmock"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1670536948,"post_id":74734988,"comment_id":131903736,"body_markdown":"Looking at the stack trace the issue is `cglib` which seems to be used by jmock? The [cglib repo](https://github.com/cglib/cglib) also has this note: `IMPORTANT NOTE: cglib is unmaintained and does not work well (or possibly at all?) in newer JDKs, particularly JDK17+`. Though, it seems like jmock can also use ByteBuddy (I think). So, you might be able to solve this be switching to ByteBuddy from cglib.","body":"Looking at the stack trace the issue is <code>cglib</code> which seems to be used by jmock? The <a href=\"https://github.com/cglib/cglib\" rel=\"nofollow noreferrer\">cglib repo</a> also has this note: <code>IMPORTANT NOTE: cglib is unmaintained and does not work well (or possibly at all?) in newer JDKs, particularly JDK17+</code>. Though, it seems like jmock can also use ByteBuddy (I think). So, you might be able to solve this be switching to ByteBuddy from cglib."},{"owner":{"account_id":1138987,"reputation":615,"user_id":1123409,"accept_rate":12,"display_name":"CasaDelGato"},"score":0,"creation_date":1670537831,"post_id":74734988,"comment_id":131903962,"body_markdown":"I had found a few comments that jmock(it,or other variation) could use ByteBuddy.\nI don&#39;t see HOW Jmock can use it, as it references cglib classes directly.\nI also was a bit confused, as I was searching on Maven Central for &quot;ByteBuddy&quot; - and finally figured out I needed to search for &quot;Byte-Buddy&quot;.\nA quick test shows that JMock is definitely using cglib classes, and not ByteBuddy ones.","body":"I had found a few comments that jmock(it,or other variation) could use ByteBuddy. I don&#39;t see HOW Jmock can use it, as it references cglib classes directly. I also was a bit confused, as I was searching on Maven Central for &quot;ByteBuddy&quot; - and finally figured out I needed to search for &quot;Byte-Buddy&quot;. A quick test shows that JMock is definitely using cglib classes, and not ByteBuddy ones."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":2,"creation_date":1670538421,"post_id":74734988,"comment_id":131904082,"body_markdown":"Jmock seems to support different &#39;imposterisers&#39;. There&#39;s also one for ByteBuddey: https://github.com/jmock-developers/jmock-library/blob/master/jmock-imposters/src/main/java/org/jmock/imposters/ByteBuddyClassImposteriser.java It seems from your stack trace that the legacy cglib-based imposteriser is being used. It also seems that the imposteriser can be set through [`Mockery.setImposteriser`](https://github.com/jmock-developers/jmock-library/blob/307f6c213ce21054c55d49311f01fb22dfc65fd2/jmock/src/main/java/org/jmock/Mockery.java#L86). So I think that&#39;s what you&#39;ll have to do.","body":"Jmock seems to support different &#39;imposterisers&#39;. There&#39;s also one for ByteBuddey: <a href=\"https://github.com/jmock-developers/jmock-library/blob/master/jmock-imposters/src/main/java/org/jmock/imposters/ByteBuddyClassImposteriser.java\" rel=\"nofollow noreferrer\">github.com/jmock-developers/jmock-library/blob/master/&hellip;</a> It seems from your stack trace that the legacy cglib-based imposteriser is being used. It also seems that the imposteriser can be set through <a href=\"https://github.com/jmock-developers/jmock-library/blob/307f6c213ce21054c55d49311f01fb22dfc65fd2/jmock/src/main/java/org/jmock/Mockery.java#L86\" rel=\"nofollow noreferrer\"><code>Mockery.setImposteriser</code></a>. So I think that&#39;s what you&#39;ll have to do."},{"owner":{"account_id":1138987,"reputation":615,"user_id":1123409,"accept_rate":12,"display_name":"CasaDelGato"},"score":3,"creation_date":1670541791,"post_id":74734988,"comment_id":131904792,"body_markdown":"Looking good.  After some digging around, I added &quot;jmock-imposters-2.12.0.jar&quot; and &quot;byte-buddy-1.12.19.jar&quot;.  Deleted cglib.  Hmm, probably should delete asm as well.\nAlso changed calls to setImposteriser() to setImposteriser(ByteBuddyClassImposteriser.INSTANCE);\nRunning a test now.","body":"Looking good.  After some digging around, I added &quot;jmock-imposters-2.12.0.jar&quot; and &quot;byte-buddy-1.12.19.jar&quot;.  Deleted cglib.  Hmm, probably should delete asm as well. Also changed calls to setImposteriser() to setImposteriser(ByteBuddyClassImposteriser.INSTANCE); Running a test now."}],"answers":[{"tags":[],"owner":{"account_id":1138987,"reputation":615,"user_id":1123409,"accept_rate":12,"display_name":"CasaDelGato"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670605514,"creation_date":1670605514,"answer_id":74746189,"question_id":74734988,"body_markdown":"Thanks to Jorn Vernee for pointing me in the correct direction.\r\nThe fix was to:\r\nDelete the cglib jar and asm jar files.\r\nAdd &quot;jmock-imposters-2.12.0.jar&quot; and &quot;byte-buddy-1.12.19.jar&quot;.\r\nNow JMock is working.","title":"unable to use JMock after updating to Java 17","body":"<p>Thanks to Jorn Vernee for pointing me in the correct direction.\nThe fix was to:\nDelete the cglib jar and asm jar files.\nAdd &quot;jmock-imposters-2.12.0.jar&quot; and &quot;byte-buddy-1.12.19.jar&quot;.\nNow JMock is working.</p>\n"}],"owner":{"account_id":1138987,"reputation":615,"user_id":1123409,"accept_rate":12,"display_name":"CasaDelGato"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1683,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1670605514,"creation_date":1670525166,"question_id":74734988,"body_markdown":"I&#39;m updating our large old java desktop application from Java 11 to java 17.\r\nI&#39;ve updated all the jars to the latest versions.\r\njmock-2.12.0, cglib-3.3.0, asm-9.4.  Working with JUnit 4 tests.\r\nA LOT of our JUnit tests are failing with a:\r\n\r\n    java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5ce81285\r\n\r\nFull stack trace:\r\n\r\n    java.lang.ExceptionInInitializerError\r\n    \tat org.jmock.lib.legacy.ClassImposteriser.proxyClass(ClassImposteriser.java:100)\r\n    \tat org.jmock.lib.legacy.ClassImposteriser.imposterise(ClassImposteriser.java:69)\r\n    \tat org.jmock.Mockery.mock(Mockery.java:167)\r\n    \tat com.metrixsoftware.servicebroker.MetrixTestCase.mock(MetrixTestCase.java:95)\r\n    \tat com.metrixsoftware.api.mis.Test_DiecutterToolEdit.setupMetrixMISManager(Test_DiecutterToolEdit.java:125)\r\n    \tat com.metrixsoftware.api.mis.Test_DiecutterToolEdit.setup(Test_DiecutterToolEdit.java:59)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n    \tat org.junit.internal.runners.statements.RunBefores.invokeMethod(RunBefores.java:33)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\r\n    \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n    \tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n    \tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n    \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n    \tat org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)\r\n    \tat org.junit.rules.RunRules.evaluate(RunRules.java:20)\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n    Caused by: net.sf.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5ce81285\r\n    \tat net.sf.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464)\r\n    \tat net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:339)\r\n    \tat net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:96)\r\n    \tat net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:94)\r\n    \tat net.sf.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat net.sf.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\r\n    \tat net.sf.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\r\n    \tat net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:119)\r\n    \tat net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:294)\r\n    \tat net.sf.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\r\n    \tat net.sf.cglib.core.KeyFactory.create(KeyFactory.java:174)\r\n    \tat net.sf.cglib.core.KeyFactory.create(KeyFactory.java:153)\r\n    \tat net.sf.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\r\n    \t... 38 more\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5ce81285\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n    \tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n    \tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n    \tat net.sf.cglib.core.ReflectUtils$1.run(ReflectUtils.java:61)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n    \tat net.sf.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:52)\r\n    \tat net.sf.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243)\r\n    \tat net.sf.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n    \tat net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:332)\r\n    \t... 50 more\r\n\r\n\r\nIs there any way to get our calls to Mockery.mock(class,name) to work?","title":"unable to use JMock after updating to Java 17","body":"<p>I'm updating our large old java desktop application from Java 11 to java 17.\nI've updated all the jars to the latest versions.\njmock-2.12.0, cglib-3.3.0, asm-9.4.  Working with JUnit 4 tests.\nA LOT of our JUnit tests are failing with a:</p>\n<pre><code>java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5ce81285\n</code></pre>\n<p>Full stack trace:</p>\n<pre><code>java.lang.ExceptionInInitializerError\n    at org.jmock.lib.legacy.ClassImposteriser.proxyClass(ClassImposteriser.java:100)\n    at org.jmock.lib.legacy.ClassImposteriser.imposterise(ClassImposteriser.java:69)\n    at org.jmock.Mockery.mock(Mockery.java:167)\n    at com.metrixsoftware.servicebroker.MetrixTestCase.mock(MetrixTestCase.java:95)\n    at com.metrixsoftware.api.mis.Test_DiecutterToolEdit.setupMetrixMISManager(Test_DiecutterToolEdit.java:125)\n    at com.metrixsoftware.api.mis.Test_DiecutterToolEdit.setup(Test_DiecutterToolEdit.java:59)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.RunBefores.invokeMethod(RunBefores.java:33)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)\n    at org.junit.rules.RunRules.evaluate(RunRules.java:20)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: net.sf.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5ce81285\n    at net.sf.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:464)\n    at net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:339)\n    at net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:96)\n    at net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:94)\n    at net.sf.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at net.sf.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\n    at net.sf.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\n    at net.sf.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:119)\n    at net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:294)\n    at net.sf.cglib.core.KeyFactory$Generator.create(KeyFactory.java:221)\n    at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:174)\n    at net.sf.cglib.core.KeyFactory.create(KeyFactory.java:153)\n    at net.sf.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:73)\n    ... 38 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5ce81285\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n    at net.sf.cglib.core.ReflectUtils$1.run(ReflectUtils.java:61)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n    at net.sf.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:52)\n    at net.sf.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:243)\n    at net.sf.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n    at net.sf.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:332)\n    ... 50 more\n</code></pre>\n<p>Is there any way to get our calls to Mockery.mock(class,name) to work?</p>\n"},{"tags":["java","linux","elasticsearch","sonarqube"],"comments":[{"owner":{"account_id":10812177,"reputation":2398,"user_id":7952453,"display_name":"Gustavo Passini"},"score":0,"creation_date":1571163744,"post_id":58400499,"comment_id":103146370,"body_markdown":"Are you following some tutorial to setup SonarQube?","body":"Are you following some tutorial to setup SonarQube?"},{"owner":{"account_id":9035385,"reputation":451,"user_id":6731596,"accept_rate":86,"display_name":"Denis S."},"score":0,"creation_date":1571164346,"post_id":58400499,"comment_id":103146618,"body_markdown":"Yes, i&#39;m following this one https://developerinsider.co/install-sonarqube-on-ubuntu/","body":"Yes, i&#39;m following this one <a href=\"https://developerinsider.co/install-sonarqube-on-ubuntu/\" rel=\"nofollow noreferrer\">developerinsider.co/install-sonarqube-on-ubuntu</a>"}],"answers":[{"tags":[],"owner":{"account_id":9035385,"reputation":451,"user_id":6731596,"accept_rate":86,"display_name":"Denis S."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571169248,"creation_date":1571169248,"answer_id":58401802,"question_id":58400499,"body_markdown":"ok, i found the solution. All i had to do is to change ```#RUN_AS_USER= in /opt/sonarqube-7.8/bin/linux-x86-64/sonar.sh line 48 to RUN_AS_USER=sonar```","title":"SonarQube stopped and is not running","body":"<p>ok, i found the solution. All i had to do is to change <code>#RUN_AS_USER= in /opt/sonarqube-7.8/bin/linux-x86-64/sonar.sh line 48 to RUN_AS_USER=sonar</code></p>\n"},{"tags":[],"owner":{"account_id":14471970,"reputation":31,"user_id":10453686,"display_name":"Shadow Kill97"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588862868,"creation_date":1588862868,"answer_id":61660761,"question_id":58400499,"body_markdown":"Your solution for me doesn&#39;t works, cause console show me this messagge (after edit to sonar.sh file)\r\n\r\n&gt; groups: &quot;sonar&quot;: no such user\r\nchown: utente non valido: &quot;sonar:sonar&quot;\r\nsu: user sonar does not exist\r\n\r\n","title":"SonarQube stopped and is not running","body":"<p>Your solution for me doesn't works, cause console show me this messagge (after edit to sonar.sh file)</p>\n\n<blockquote>\n  <p>groups: \"sonar\": no such user\n  chown: utente non valido: \"sonar:sonar\"\n  su: user sonar does not exist</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6343194,"reputation":163,"user_id":4924520,"display_name":"baya prakash reddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1595405124,"creation_date":1595405124,"answer_id":63029616,"question_id":58400499,"body_markdown":"SOLVED:\r\n\r\nFirst, don&#39;t run sonarqube as the root user\r\n\r\n1) Create user\r\n\r\n    command: **useradd username** (put username as sonaradmin(if you don&#39;t want to change any command)\r\n\r\n2) Create a password command: `passwd username`\r\n\r\n3) goto /opt/ directory \r\n\r\n\r\n3.1) Rename sonarqube.x.x.x to sonarqube command:`sudo mv sonarqube.x.x.x sonarqube`(X.X.X you should change directory name)\r\n\r\n4) Change permissions command:`chmod 775 -R sonarqube`(folder name may change Sonarqube )\r\n\r\n5) Add Created user to sonaradmin group command: chown -R sonaradmin:sonaradmin sonarqube\r\n\r\n6) goto : cd /opt/sonarqube/bin/linux-x86-64/\r\n7) Command:  su sonaradmin\r\n8) Enter password\r\n9) command:`./sonar.sh start`\r\n10) Command:`./sonar.sh status`\r\n\r\nNow goto browser check http://localhost:9000/sonar\r\n\r\nHoping this helps.... I have gone through the same issue,solved\r\n\r\n    ","title":"SonarQube stopped and is not running","body":"<p>SOLVED:</p>\n<p>First, don't run sonarqube as the root user</p>\n<ol>\n<li><p>Create user</p>\n<p>command: <strong>useradd username</strong> (put username as sonaradmin(if you don't want to change any command)</p>\n</li>\n<li><p>Create a password command: <code>passwd username</code></p>\n</li>\n<li><p>goto /opt/ directory</p>\n</li>\n</ol>\n<p>3.1) Rename sonarqube.x.x.x to sonarqube command:<code>sudo mv sonarqube.x.x.x sonarqube</code>(X.X.X you should change directory name)</p>\n<ol start=\"4\">\n<li><p>Change permissions command:<code>chmod 775 -R sonarqube</code>(folder name may change Sonarqube )</p>\n</li>\n<li><p>Add Created user to sonaradmin group command: chown -R sonaradmin:sonaradmin sonarqube</p>\n</li>\n<li><p>goto : cd /opt/sonarqube/bin/linux-x86-64/</p>\n</li>\n<li><p>Command:  su sonaradmin</p>\n</li>\n<li><p>Enter password</p>\n</li>\n<li><p>command:<code>./sonar.sh start</code></p>\n</li>\n<li><p>Command:<code>./sonar.sh status</code></p>\n</li>\n</ol>\n<p>Now goto browser check http://localhost:9000/sonar</p>\n<p>Hoping this helps.... I have gone through the same issue,solved</p>\n"},{"tags":[],"owner":{"account_id":21450582,"reputation":78,"user_id":15803128,"display_name":"Mohamed BEN KHOUYA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635717857,"creation_date":1635717857,"answer_id":69790941,"question_id":58400499,"body_markdown":"if **baya prakash reddy**&#39;s answer doesn&#39;t work, so you can look at the documentation &lt;https://docs.sonarqube.org/latest/requirements/requirements/&gt; where it says that you must ensure that:\r\n  \r\n\r\n&gt;  vm.max_map_count is greater than or equal to 524288\r\n\r\nyo can set it like this: \r\n&gt; sysctl -w vm.max_map_count=524288","title":"SonarQube stopped and is not running","body":"<p>if <strong>baya prakash reddy</strong>'s answer doesn't work, so you can look at the documentation <a href=\"https://docs.sonarqube.org/latest/requirements/requirements/\" rel=\"nofollow noreferrer\">https://docs.sonarqube.org/latest/requirements/requirements/</a> where it says that you must ensure that:</p>\n<blockquote>\n<p>vm.max_map_count is greater than or equal to 524288</p>\n</blockquote>\n<p>yo can set it like this:</p>\n<blockquote>\n<p>sysctl -w vm.max_map_count=524288</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":27203765,"reputation":1,"user_id":20735644,"display_name":"Cold Energy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670604553,"creation_date":1670604530,"answer_id":74746012,"question_id":58400499,"body_markdown":"Ensure your sonarQube server has at least 4GB of RAM. I had this issue after installing SonarQube with 1GB of RAM. Running SonarQube as sonar did not resolve the issue. Once I installed on RHL with 4GB RAM, issue was resolved","title":"SonarQube stopped and is not running","body":"<p>Ensure your sonarQube server has at least 4GB of RAM. I had this issue after installing SonarQube with 1GB of RAM. Running SonarQube as sonar did not resolve the issue. Once I installed on RHL with 4GB RAM, issue was resolved</p>\n"}],"owner":{"account_id":9035385,"reputation":451,"user_id":6731596,"accept_rate":86,"display_name":"Denis S."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18367,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1670604553,"creation_date":1571163413,"question_id":58400499,"body_markdown":"I&#39;m trying to setup SonarQube 7.8 version. Once i start sonar.sh file it is running but after that sonar stops. \r\n```\r\nroot@automation:/opt/sonarqube-7.8/bin/linux-x86-64# ./sonar.sh start\r\nStarting SonarQube...\r\nStarted SonarQube.\r\nroot@automation:/opt/sonarqube-7.8/bin/linux-x86-64# ./sonar.sh status\r\nSonarQube is not running.\r\n```\r\nI checked the logs and this is what i get:\r\n```\r\n--&gt; Wrapper Started as Daemon\r\nLaunching a JVM...\r\nWrapper (Version 3.2.3) http://wrapper.tanukisoftware.org\r\n  Copyright 1999-2006 Tanuki Software, Inc.  All Rights Reserved.\r\n\r\n2019.10.15 21:01:37 INFO  app[][o.s.a.AppFileSystem] Cleaning or creating temp directory /opt/sonarqube-7.8/temp\r\n2019.10.15 21:01:37 INFO  app[][o.s.a.es.EsSettings] Elasticsearch listening on /127.0.0.1:9001\r\n2019.10.15 21:01:37 INFO  app[][o.s.a.ProcessLauncherImpl] Launch process[[key=&#39;es&#39;, ipcIndex=1, logFilenamePrefix=es]] from [/opt/sonarqube-7.8/elasticsearch]: /opt/sonarqube-7.8/elasticsearch/bin/elasticsearch\r\n2019.10.15 21:01:37 INFO  app[][o.s.a.SchedulerImpl] Waiting for Elasticsearch to be up and running\r\n2019.10.15 21:01:38 INFO  app[][o.e.p.PluginsService] no modules loaded\r\n2019.10.15 21:01:38 INFO  app[][o.e.p.PluginsService] loaded plugin [org.elasticsearch.transport.Netty4Plugin]\r\nJava HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\r\n2019.10.15 21:01:41 WARN  app[][o.s.a.p.AbstractManagedProcess] Process exited with exit value [es]: 1\r\n2019.10.15 21:01:41 INFO  app[][o.s.a.SchedulerImpl] Process[es] is stopped\r\n2019.10.15 21:01:41 INFO  app[][o.s.a.SchedulerImpl] SonarQube is stopped\r\n&lt;-- Wrapper Stopped\r\n```\r\n\r\nes.log file is here :\r\n```\r\n2019.10.15 21:01:41 ERROR es[][o.e.b.Bootstrap] Exception\r\njava.lang.RuntimeException: can not run elasticsearch as root\r\n        at org.elasticsearch.bootstrap.Bootstrap.initializeNatives(Bootstrap.java:103) ~[elasticsearch-6.8.0.jar:6.8.0]\r\n        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:170) ~[elasticsearch-6.8.0.jar:6.8.0]\r\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:333) [elasticsearch-6.8.0.jar:6.8.0]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:159) [elasticsearch-6.8.0.jar:6.8.0]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:150) [elasticsearch-6.8.0.jar:6.8.0]\r\n        at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) [elasticsearch-6.8.0.jar:6.8.0]\r\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124) [elasticsearch-cli-6.8.0.jar:6.8.0]\r\n        at org.elasticsearch.cli.Command.main(Command.java:90) [elasticsearch-cli-6.8.0.jar:6.8.0]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:116) [elasticsearch-6.8.0.jar:6.8.0]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:93) [elasticsearch-6.8.0.jar:6.8.0]\r\n```\r\nI&#39;m not sure why SonarQube stops. Could you help me with that please?","title":"SonarQube stopped and is not running","body":"<p>I'm trying to setup SonarQube 7.8 version. Once i start sonar.sh file it is running but after that sonar stops. </p>\n\n<pre><code>root@automation:/opt/sonarqube-7.8/bin/linux-x86-64# ./sonar.sh start\nStarting SonarQube...\nStarted SonarQube.\nroot@automation:/opt/sonarqube-7.8/bin/linux-x86-64# ./sonar.sh status\nSonarQube is not running.\n</code></pre>\n\n<p>I checked the logs and this is what i get:</p>\n\n<pre><code>--&gt; Wrapper Started as Daemon\nLaunching a JVM...\nWrapper (Version 3.2.3) http://wrapper.tanukisoftware.org\n  Copyright 1999-2006 Tanuki Software, Inc.  All Rights Reserved.\n\n2019.10.15 21:01:37 INFO  app[][o.s.a.AppFileSystem] Cleaning or creating temp directory /opt/sonarqube-7.8/temp\n2019.10.15 21:01:37 INFO  app[][o.s.a.es.EsSettings] Elasticsearch listening on /127.0.0.1:9001\n2019.10.15 21:01:37 INFO  app[][o.s.a.ProcessLauncherImpl] Launch process[[key='es', ipcIndex=1, logFilenamePrefix=es]] from [/opt/sonarqube-7.8/elasticsearch]: /opt/sonarqube-7.8/elasticsearch/bin/elasticsearch\n2019.10.15 21:01:37 INFO  app[][o.s.a.SchedulerImpl] Waiting for Elasticsearch to be up and running\n2019.10.15 21:01:38 INFO  app[][o.e.p.PluginsService] no modules loaded\n2019.10.15 21:01:38 INFO  app[][o.e.p.PluginsService] loaded plugin [org.elasticsearch.transport.Netty4Plugin]\nJava HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\n2019.10.15 21:01:41 WARN  app[][o.s.a.p.AbstractManagedProcess] Process exited with exit value [es]: 1\n2019.10.15 21:01:41 INFO  app[][o.s.a.SchedulerImpl] Process[es] is stopped\n2019.10.15 21:01:41 INFO  app[][o.s.a.SchedulerImpl] SonarQube is stopped\n&lt;-- Wrapper Stopped\n</code></pre>\n\n<p>es.log file is here :</p>\n\n<pre><code>2019.10.15 21:01:41 ERROR es[][o.e.b.Bootstrap] Exception\njava.lang.RuntimeException: can not run elasticsearch as root\n        at org.elasticsearch.bootstrap.Bootstrap.initializeNatives(Bootstrap.java:103) ~[elasticsearch-6.8.0.jar:6.8.0]\n        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:170) ~[elasticsearch-6.8.0.jar:6.8.0]\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:333) [elasticsearch-6.8.0.jar:6.8.0]\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:159) [elasticsearch-6.8.0.jar:6.8.0]\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:150) [elasticsearch-6.8.0.jar:6.8.0]\n        at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) [elasticsearch-6.8.0.jar:6.8.0]\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124) [elasticsearch-cli-6.8.0.jar:6.8.0]\n        at org.elasticsearch.cli.Command.main(Command.java:90) [elasticsearch-cli-6.8.0.jar:6.8.0]\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:116) [elasticsearch-6.8.0.jar:6.8.0]\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:93) [elasticsearch-6.8.0.jar:6.8.0]\n</code></pre>\n\n<p>I'm not sure why SonarQube stops. Could you help me with that please?</p>\n"},{"tags":["java","google-sheets","google-sheets-api"],"comments":[{"owner":{"account_id":12911541,"reputation":9695,"user_id":9337071,"display_name":"tehhowch"},"score":3,"creation_date":1545611938,"post_id":53901194,"comment_id":94661042,"body_markdown":"You can only use the API key for consuming data - if you want to *write*, you will need to use `OAuth`.","body":"You can only use the API key for consuming data - if you want to <i>write</i>, you will need to use <code>OAuth</code>."}],"answers":[{"comments":[{"owner":{"account_id":2162613,"reputation":9287,"user_id":1916449,"accept_rate":100,"display_name":"arekolek"},"score":0,"creation_date":1596454903,"post_id":53905369,"comment_id":111807148,"body_markdown":"Isn&#39;t this still OAuth rather than API Key authentication? Just using a service account rather than user account.","body":"Isn&#39;t this still OAuth rather than API Key authentication? Just using a service account rather than user account."}],"tags":[],"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1545583625,"creation_date":1545583625,"answer_id":53905369,"question_id":53901194,"body_markdown":"Yes you can, essentially you need something like the following:\r\n\r\n    public NetHttpTransport netHttpTransport() throws GeneralSecurityException, IOException {\r\n        return GoogleNetHttpTransport.newTrustedTransport();\r\n    }\r\n    \r\n    public JacksonFactory jacksonFactory() {\r\n        return JacksonFactory.getDefaultInstance();\r\n    }\r\n    \r\n    private Set&lt;String&gt; googleOAuth2Scopes() {\r\n        Set&lt;String&gt; googleOAuth2Scopes = new HashSet&lt;&gt;();\r\n        googleOAuth2Scopes.add(SheetsScopes.SPREADSHEETS_READONLY);\r\n        return Collections.unmodifiableSet(googleOAuth2Scopes);\r\n    }\r\n    \r\n    public GoogleCredential googleCredential() throws IOException {\r\n        File serviceAccount = new ClassPathResource(&quot;serviceAccount.json&quot;).getFile();\r\n        return GoogleCredential.fromStream(new FileInputStream(serviceAccount))\r\n                .createScoped(googleOAuth2Scopes());\r\n    }\r\n    \r\n    public Sheets googleSheets() {\r\n        return new Sheets(netHttpTransport(), jacksonFactory(), googleCredential());\r\n    }\r\n\r\nYou can read more about the `serviceAccount.json` here: https://cloud.google.com/iam/docs/creating-managing-service-account-keys\r\n\r\n---\r\n\r\nThe above was taken from an example Spring Boot project I did integrating with Google&#39;s APIs: https://github.com/ciscoo/spring-boot-google-apis-example\r\n","title":"Use Google Sheets Java API with API key not OAuth?","body":"<p>Yes you can, essentially you need something like the following:</p>\n\n<pre><code>public NetHttpTransport netHttpTransport() throws GeneralSecurityException, IOException {\n    return GoogleNetHttpTransport.newTrustedTransport();\n}\n\npublic JacksonFactory jacksonFactory() {\n    return JacksonFactory.getDefaultInstance();\n}\n\nprivate Set&lt;String&gt; googleOAuth2Scopes() {\n    Set&lt;String&gt; googleOAuth2Scopes = new HashSet&lt;&gt;();\n    googleOAuth2Scopes.add(SheetsScopes.SPREADSHEETS_READONLY);\n    return Collections.unmodifiableSet(googleOAuth2Scopes);\n}\n\npublic GoogleCredential googleCredential() throws IOException {\n    File serviceAccount = new ClassPathResource(\"serviceAccount.json\").getFile();\n    return GoogleCredential.fromStream(new FileInputStream(serviceAccount))\n            .createScoped(googleOAuth2Scopes());\n}\n\npublic Sheets googleSheets() {\n    return new Sheets(netHttpTransport(), jacksonFactory(), googleCredential());\n}\n</code></pre>\n\n<p>You can read more about the <code>serviceAccount.json</code> here: <a href=\"https://cloud.google.com/iam/docs/creating-managing-service-account-keys\" rel=\"nofollow noreferrer\">https://cloud.google.com/iam/docs/creating-managing-service-account-keys</a></p>\n\n<hr>\n\n<p>The above was taken from an example Spring Boot project I did integrating with Google's APIs: <a href=\"https://github.com/ciscoo/spring-boot-google-apis-example\" rel=\"nofollow noreferrer\">https://github.com/ciscoo/spring-boot-google-apis-example</a></p>\n"},{"tags":[],"owner":{"account_id":2162613,"reputation":9287,"user_id":1916449,"accept_rate":100,"display_name":"arekolek"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1596474411,"creation_date":1596458614,"answer_id":63229676,"question_id":53901194,"body_markdown":"I didn&#39;t find any official way to achieve this, but I was able to do it as described in [Acquiring and using an API key][1]:\r\n\r\n&gt; After you have an API key, your application can append the query parameter `key=yourAPIKey` to all request URLs.\r\n\r\nby using a request interceptor and adding the `key` query parameter manually, like this:\r\n\r\n\r\n    private Sheets getSheets() {\r\n        NetHttpTransport transport = new NetHttpTransport.Builder().build();\r\n        JacksonFactory jsonFactory = JacksonFactory.getDefaultInstance();\r\n        HttpRequestInitializer httpRequestInitializer = request -&gt; {\r\n            request.setInterceptor(intercepted -&gt; intercepted.getUrl().set(&quot;key&quot;, API_KEY));\r\n        };\r\n\r\n        return new Sheets.Builder(transport, jsonFactory, httpRequestInitializer)\r\n                .setApplicationName(APPLICATION_NAME)\r\n                .build();\r\n    }\r\n\r\n    public List&lt;List&lt;Object&gt;&gt; getValues(String spreadsheetId, String range) throws IOException {\r\n        return getSheets()\r\n                .spreadsheets()\r\n                .values()\r\n                .get(spreadsheetId, range)\r\n                .execute()\r\n                .getValues();\r\n    }\r\n\r\n\r\n  [1]: https://developers.google.com/sheets/api/guides/authorizing#APIKey","title":"Use Google Sheets Java API with API key not OAuth?","body":"<p>I didn't find any official way to achieve this, but I was able to do it as described in <a href=\"https://developers.google.com/sheets/api/guides/authorizing#APIKey\" rel=\"noreferrer\">Acquiring and using an API key</a>:</p>\n<blockquote>\n<p>After you have an API key, your application can append the query parameter <code>key=yourAPIKey</code> to all request URLs.</p>\n</blockquote>\n<p>by using a request interceptor and adding the <code>key</code> query parameter manually, like this:</p>\n<pre><code>private Sheets getSheets() {\n    NetHttpTransport transport = new NetHttpTransport.Builder().build();\n    JacksonFactory jsonFactory = JacksonFactory.getDefaultInstance();\n    HttpRequestInitializer httpRequestInitializer = request -&gt; {\n        request.setInterceptor(intercepted -&gt; intercepted.getUrl().set(&quot;key&quot;, API_KEY));\n    };\n\n    return new Sheets.Builder(transport, jsonFactory, httpRequestInitializer)\n            .setApplicationName(APPLICATION_NAME)\n            .build();\n}\n\npublic List&lt;List&lt;Object&gt;&gt; getValues(String spreadsheetId, String range) throws IOException {\n    return getSheets()\n            .spreadsheets()\n            .values()\n            .get(spreadsheetId, range)\n            .execute()\n            .getValues();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22882033,"reputation":1,"user_id":17023497,"display_name":"user17023497"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632817941,"creation_date":1632817941,"answer_id":69358332,"question_id":53901194,"body_markdown":"you can also use this code:\r\n```\r\nSheets service = new Sheets.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\r\n                .setApplicationName(APPLICATION_NAME)\r\n                .setGoogleClientRequestInitializer(CommonGoogleClientRequestInitializer.newBuilder().setKey(API_KEY).build())\r\n                .build();\r\n```","title":"Use Google Sheets Java API with API key not OAuth?","body":"<p>you can also use this code:</p>\n<pre><code>Sheets service = new Sheets.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\n                .setApplicationName(APPLICATION_NAME)\n                .setGoogleClientRequestInitializer(CommonGoogleClientRequestInitializer.newBuilder().setKey(API_KEY).build())\n                .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6454388,"reputation":101,"user_id":5000320,"accept_rate":57,"display_name":"thenewpotato"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670604344,"creation_date":1670604344,"answer_id":74745981,"question_id":53901194,"body_markdown":"This is possible. Here&#39;s how I initialize an instance of `Sheets` using an API key instead of OAuth:\r\n\r\n    SheetsRequestInitializer REQUEST_INITIALIZER = new SheetsRequestInitializer(API_KEY);\r\n    JsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\r\n    HttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\r\n    Sheets service = new Sheets.Builder(httpTransport, JSON_FACTORY, null)\r\n                .setApplicationName(&quot;HelloWorld&quot;)\r\n                .setGoogleClientRequestInitializer(REQUEST_INITIALIZER)\r\n                .build();\r\n\r\n","title":"Use Google Sheets Java API with API key not OAuth?","body":"<p>This is possible. Here's how I initialize an instance of <code>Sheets</code> using an API key instead of OAuth:</p>\n<pre><code>SheetsRequestInitializer REQUEST_INITIALIZER = new SheetsRequestInitializer(API_KEY);\nJsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\nHttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\nSheets service = new Sheets.Builder(httpTransport, JSON_FACTORY, null)\n            .setApplicationName(&quot;HelloWorld&quot;)\n            .setGoogleClientRequestInitializer(REQUEST_INITIALIZER)\n            .build();\n</code></pre>\n"}],"owner":{"account_id":6541325,"reputation":1809,"user_id":5058786,"accept_rate":60,"display_name":"Mayank Wadhwa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4010,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1670604344,"creation_date":1545539256,"question_id":53901194,"body_markdown":"Is there a way to use &quot;Google Sheet Java API&quot; with API key not with OAuth which is given in their examples \r\n\r\nhttps://developers.google.com/sheets/api/quickstart/java\r\n\r\nI know you can use HTTP request to get data with API key but I was thinking if there is a way to do this with the google provided Java API so that I don&#39;t have to parse JSON for every request.\r\n\r\n","title":"Use Google Sheets Java API with API key not OAuth?","body":"<p>Is there a way to use \"Google Sheet Java API\" with API key not with OAuth which is given in their examples </p>\n\n<p><a href=\"https://developers.google.com/sheets/api/quickstart/java\" rel=\"noreferrer\">https://developers.google.com/sheets/api/quickstart/java</a></p>\n\n<p>I know you can use HTTP request to get data with API key but I was thinking if there is a way to do this with the google provided Java API so that I don't have to parse JSON for every request.</p>\n"},{"tags":["java","spring-boot","eclipse"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1670345183,"post_id":74706114,"comment_id":131852944,"body_markdown":"&quot;**FileNotFound**Exception: C:\\Users\\legol\\Documents\\College\\CS305\\Module 7 Workspace\\CS 305 Project Two Code Base.zip_expanded\\ssl-server_student\\Userslegolkeystore.jks&quot; Well, does the file exist or not? Spaces in the path are one possible error. Try renaming the directories.","body":"&quot;<b>FileNotFound</b>Exception: C:\\Users\\legol\\Documents\\College\\CS305\\Module 7 Workspace\\CS 305 Project Two Code Base.zip_expanded\\ssl-server_student\\Userslegolkeystore.jks&quot; Well, does the file exist or not? Spaces in the path are one possible error. Try renaming the directories."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1670345301,"post_id":74706114,"comment_id":131852993,"body_markdown":"Actually, looks like something wrong with this property `server.ssl.key-store=C:\\Users\\legol\\keystore.jks`.  You can see it&#39;s getting squashed on the end of your working dir without any of the special characters.","body":"Actually, looks like something wrong with this property <code>server.ssl.key-store=C:\\Users\\legol\\keystore.jks</code>.  You can see it&#39;s getting squashed on the end of your working dir without any of the special characters."},{"owner":{"account_id":19281318,"reputation":45,"user_id":14093255,"display_name":"BGoetz"},"score":0,"creation_date":1670346394,"post_id":74706114,"comment_id":131853398,"body_markdown":"Thanks, I missed that. I changed the application.properties and moved the file to where it should be. I updated the error Eclipse outputs.","body":"Thanks, I missed that. I changed the application.properties and moved the file to where it should be. I updated the error Eclipse outputs."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1670353974,"post_id":74706114,"comment_id":131855906,"body_markdown":"https://stackoverflow.com/questions/56151272/how-to-resolve-java-io-ioexception-jsse-alias-no-key-entry","body":"<a href=\"https://stackoverflow.com/questions/56151272/how-to-resolve-java-io-ioexception-jsse-alias-no-key-entry\" title=\"how to resolve java io ioexception jsse alias no key entry\">stackoverflow.com/questions/56151272/&hellip;</a>"},{"owner":{"account_id":19281318,"reputation":45,"user_id":14093255,"display_name":"BGoetz"},"score":0,"creation_date":1670512370,"post_id":74706114,"comment_id":131896267,"body_markdown":"Thanks for the link PeterMmm. I took a screenshot of my selfsigned cert and ensured the alias&#39;s match","body":"Thanks for the link PeterMmm. I took a screenshot of my selfsigned cert and ensured the alias&#39;s match"}],"answers":[{"tags":[],"owner":{"account_id":19281318,"reputation":45,"user_id":14093255,"display_name":"BGoetz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670603917,"creation_date":1670603917,"answer_id":74745890,"question_id":74706114,"body_markdown":"After some more research and assistance from classmates I found out the version of Eclipse I was using was too new for the code base provided by the instructor to run properly. I installed a version of Eclipse from 2019 and it started right up. Thanks to all who commented to help.","title":"Cannot run Spring Boot application in Eclipse 2022-09 (Java 19.0.1)","body":"<p>After some more research and assistance from classmates I found out the version of Eclipse I was using was too new for the code base provided by the instructor to run properly. I installed a version of Eclipse from 2019 and it started right up. Thanks to all who commented to help.</p>\n"}],"owner":{"account_id":19281318,"reputation":45,"user_id":14093255,"display_name":"BGoetz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74745890,"answer_count":1,"score":0,"last_activity_date":1670603917,"creation_date":1670344856,"question_id":74706114,"body_markdown":"I am working on a school project and I cannot get the provided Spring Boot application code base to run. I have already emailed the professor and she was no help whatsoever. I am brand new to Spring Boot and am not well versed in Java. Any help would be appreciated.\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.snhu&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;ssl-server&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;ssl-server&lt;/name&gt;\r\n    \t&lt;description&gt;ssl-server skeleton for CS-305&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n                \t&lt;groupId&gt;org.owasp&lt;/groupId&gt;\r\n                \t&lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\r\n                \t&lt;version&gt;7.3.2&lt;/version&gt;\r\n                \t&lt;executions&gt;\r\n                      &lt;execution&gt;\r\n                          &lt;goals&gt;\r\n                              &lt;goal&gt;check&lt;/goal&gt;\r\n                          &lt;/goals&gt;\r\n                      &lt;/execution&gt;\r\n                  &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\napplication.properties\r\n\r\n    ## need to add server.  entries to enable HTTPS with SSL keystore, replace &quot;????&quot; with correct entries\r\n    \r\n    server.port=8443\r\n    server.ssl.key-alias=selfsigned\r\n    server.ssl.key-store-password=GH1#er3%\r\n    server.ssl.key-store=keystore.jks\r\n    server.ssl.key-store-type=JKS\r\n\r\n\r\n\r\nSslServerApplication.java\r\n\r\n    package com.snhu.sslserver;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class SslServerApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SslServerApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\nEclipse error\r\n\r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::        (v2.2.4.RELEASE)\r\n    \r\n    2022-12-06 12:02:26.521  INFO 6012 --- [           main] com.snhu.sslserver.SslServerApplication  : Starting SslServerApplication on DESKTOP-TNRCNL8 with PID 6012 (started by legol in C:\\Users\\legol\\Documents\\College\\CS305\\Module 7 Workspace\\CS 305 Project Two Code Base.zip_expanded\\ssl-server_student)\r\n    2022-12-06 12:02:26.523  INFO 6012 --- [           main] com.snhu.sslserver.SslServerApplication  : No active profile set, falling back to default profiles: default\r\n    2022-12-06 12:02:28.406  INFO 6012 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)\r\n    2022-12-06 12:02:28.414  INFO 6012 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-12-06 12:02:28.414  INFO 6012 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]\r\n    2022-12-06 12:02:28.489  INFO 6012 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-12-06 12:02:28.489  INFO 6012 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1908 ms\r\n    2022-12-06 12:02:29.189  INFO 6012 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n    2022-12-06 12:02:30.520  INFO 6012 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2022-12-06 12:02:30.528  INFO 6012 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2022-12-06 12:02:30.531 ERROR 6012 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:215) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:297) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:163) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553) ~[spring-context-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat com.snhu.sslserver.SslServerApplication.main(SslServerApplication.java:16) ~[classes/:na]\r\n    Caused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\r\n    \tat org.apache.catalina.core.StandardService.addConnector(StandardService.java:231) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:278) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:197) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\r\n    \t... 10 common frames omitted\r\n    Caused by: org.apache.catalina.LifecycleException: Protocol handler start failed\r\n    \tat org.apache.catalina.connector.Connector.startInternal(Connector.java:1008) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.catalina.core.StandardService.addConnector(StandardService.java:227) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \t... 12 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: jsse.alias_no_key_entry\r\n    \tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:99) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:217) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1141) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1227) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:586) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.catalina.connector.Connector.startInternal(Connector.java:1005) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \t... 14 common frames omitted\r\n    Caused by: java.io.IOException: jsse.alias_no_key_entry\r\n    \tat org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:328) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n    \t... 20 common frames omitted\r\n    \r\n    2022-12-06 12:02:30.533  INFO 6012 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService &#39;applicationTaskExecutor&#39;","title":"Cannot run Spring Boot application in Eclipse 2022-09 (Java 19.0.1)","body":"<p>I am working on a school project and I cannot get the provided Spring Boot application code base to run. I have already emailed the professor and she was no help whatsoever. I am brand new to Spring Boot and am not well versed in Java. Any help would be appreciated.</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.snhu&lt;/groupId&gt;\n    &lt;artifactId&gt;ssl-server&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ssl-server&lt;/name&gt;\n    &lt;description&gt;ssl-server skeleton for CS-305&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.owasp&lt;/groupId&gt;\n                &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\n                &lt;version&gt;7.3.2&lt;/version&gt;\n                &lt;executions&gt;\n                  &lt;execution&gt;\n                      &lt;goals&gt;\n                          &lt;goal&gt;check&lt;/goal&gt;\n                      &lt;/goals&gt;\n                  &lt;/execution&gt;\n              &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>application.properties</p>\n<pre><code>## need to add server.  entries to enable HTTPS with SSL keystore, replace &quot;????&quot; with correct entries\n\nserver.port=8443\nserver.ssl.key-alias=selfsigned\nserver.ssl.key-store-password=GH1#er3%\nserver.ssl.key-store=keystore.jks\nserver.ssl.key-store-type=JKS\n</code></pre>\n<p>SslServerApplication.java</p>\n<pre><code>package com.snhu.sslserver;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class SslServerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SslServerApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Eclipse error</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.2.4.RELEASE)\n\n2022-12-06 12:02:26.521  INFO 6012 --- [           main] com.snhu.sslserver.SslServerApplication  : Starting SslServerApplication on DESKTOP-TNRCNL8 with PID 6012 (started by legol in C:\\Users\\legol\\Documents\\College\\CS305\\Module 7 Workspace\\CS 305 Project Two Code Base.zip_expanded\\ssl-server_student)\n2022-12-06 12:02:26.523  INFO 6012 --- [           main] com.snhu.sslserver.SslServerApplication  : No active profile set, falling back to default profiles: default\n2022-12-06 12:02:28.406  INFO 6012 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https)\n2022-12-06 12:02:28.414  INFO 6012 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-12-06 12:02:28.414  INFO 6012 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]\n2022-12-06 12:02:28.489  INFO 6012 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-12-06 12:02:28.489  INFO 6012 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1908 ms\n2022-12-06 12:02:29.189  INFO 6012 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2022-12-06 12:02:30.520  INFO 6012 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-12-06 12:02:30.528  INFO 6012 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-12-06 12:02:30.531 ERROR 6012 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:215) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:297) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:163) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553) ~[spring-context-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at com.snhu.sslserver.SslServerApplication.main(SslServerApplication.java:16) ~[classes/:na]\nCaused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\n    at org.apache.catalina.core.StandardService.addConnector(StandardService.java:231) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:278) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:197) ~[spring-boot-2.2.4.RELEASE.jar:2.2.4.RELEASE]\n    ... 10 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Protocol handler start failed\n    at org.apache.catalina.connector.Connector.startInternal(Connector.java:1008) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.catalina.core.StandardService.addConnector(StandardService.java:227) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    ... 12 common frames omitted\nCaused by: java.lang.IllegalArgumentException: jsse.alias_no_key_entry\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:99) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:217) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1141) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1227) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:586) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.catalina.connector.Connector.startInternal(Connector.java:1005) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    ... 14 common frames omitted\nCaused by: java.io.IOException: jsse.alias_no_key_entry\n    at org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:328) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    ... 20 common frames omitted\n\n2022-12-06 12:02:30.533  INFO 6012 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'\n</code></pre>\n"},{"tags":["java","sql","postgresql"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1670511564,"post_id":74732221,"comment_id":131895975,"body_markdown":"`CURRENT_DATE::date` can be simplified to `CURRENT_DATE`","body":"<code>CURRENT_DATE::date</code> can be simplified to <code>CURRENT_DATE</code>"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1670511660,"post_id":74732221,"comment_id":131896019,"body_markdown":"Well the columns that store date &amp; time (I assume you mean that with &quot;date with timestamp&quot;) will be longer, so maybe `where length(&quot;column&quot;) = 10 and cast(...) = current_date`","body":"Well the columns that store date &amp; time (I assume you mean that with &quot;date with timestamp&quot;) will be longer, so maybe <code>where length(&quot;column&quot;) = 10 and cast(...) = current_date</code>"},{"owner":{"account_id":9513375,"reputation":16527,"user_id":7070613,"display_name":"Adrian Klaver"},"score":1,"creation_date":1670514865,"post_id":74732221,"comment_id":131897272,"body_markdown":"1) Mixing two types `date` and `timestamp` in a column of a third type `varchar` is not a good idea. 2) Why does the presence of a time matter? `cast(column as date)` is going to make it a `date`.","body":"1) Mixing two types <code>date</code> and <code>timestamp</code> in a column of a third type <code>varchar</code> is not a good idea. 2) Why does the presence of a time matter? <code>cast(column as date)</code> is going to make it a <code>date</code>."},{"owner":{"account_id":9513375,"reputation":16527,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1670515071,"post_id":74732221,"comment_id":131897360,"body_markdown":"If you want to filter out the `timestamps` and keep the `dates` then: `select * from table where column::timestamp  = CURRENT_DATE + time &#39;00:00:00&#39;;`","body":"If you want to filter out the <code>timestamps</code> and keep the <code>dates</code> then: <code>select * from table where column::timestamp  = CURRENT_DATE + time &#39;00:00:00&#39;;</code>"},{"owner":{"account_id":7996961,"reputation":117,"user_id":6032945,"display_name":"anurag1007"},"score":0,"creation_date":1670566049,"post_id":74732221,"comment_id":131908270,"body_markdown":"@a_horse_with_no_name simplifying to current_date also does no help .. It still retrieves me all the columns. \nAlso checking the length of a column will work, but I was looking for a more generic fix may be from the function itself","body":"@a_horse_with_no_name simplifying to current_date also does no help .. It still retrieves me all the columns.  Also checking the length of a column will work, but I was looking for a more generic fix may be from the function itself"},{"owner":{"account_id":7996961,"reputation":117,"user_id":6032945,"display_name":"anurag1007"},"score":0,"creation_date":1670566140,"post_id":74732221,"comment_id":131908288,"body_markdown":"@AdrianKlaver  Ideally cast(column as date) this is making it to date, but its returing all those dates as well which are having timestamps as well .. That is something I want to filter out. I just want exact match with the dates","body":"@AdrianKlaver  Ideally cast(column as date) this is making it to date, but its returing all those dates as well which are having timestamps as well .. That is something I want to filter out. I just want exact match with the dates"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1670566146,"post_id":74732221,"comment_id":131908289,"body_markdown":"I never said that removing the redundant cast would change anything. And yes `select *` will retrieve all columns. If you don&#39;t want that then don&#39;t use `select *`. Without more details this is impossible to answer. Please **[edit]** your question (by clicking on the [edit] link below it) and add some sample data and the expected output based on that data as [formatted text](https://meta.stackoverflow.com/a/251362). See [here](https://meta.stackexchange.com/questions/81852) for some tips on how to create nice looking text tables.","body":"I never said that removing the redundant cast would change anything. And yes <code>select *</code> will retrieve all columns. If you don&#39;t want that then don&#39;t use <code>select *</code>. Without more details this is impossible to answer. Please <b><a href=\"https://stackoverflow.com/posts/74732221/edit\">edit</a></b> your question (by clicking on the <a href=\"https://stackoverflow.com/posts/74732221/edit\">edit</a> link below it) and add some sample data and the expected output based on that data as <a href=\"https://meta.stackoverflow.com/a/251362\">formatted text</a>. See <a href=\"https://meta.stackexchange.com/questions/81852\">here</a> for some tips on how to create nice looking text tables."},{"owner":{"account_id":7996961,"reputation":117,"user_id":6032945,"display_name":"anurag1007"},"score":0,"creation_date":1670587849,"post_id":74732221,"comment_id":131914010,"body_markdown":"@a_horse_with_no_name I have added more details to the query, please let me know your input over it","body":"@a_horse_with_no_name I have added more details to the query, please let me know your input over it"},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1670588818,"post_id":74732221,"comment_id":131914334,"body_markdown":"Well, the query I suggested: `where length(the_column) = 10 and cast(the_column as date) = current_date` works with that example. https://dbfiddle.uk/w2P539AE","body":"Well, the query I suggested: <code>where length(the_column) = 10 and cast(the_column as date) = current_date</code> works with that example. <a href=\"https://dbfiddle.uk/w2P539AE\" rel=\"nofollow noreferrer\">dbfiddle.uk/w2P539AE</a>"}],"answers":[{"tags":[],"owner":{"account_id":9513375,"reputation":16527,"user_id":7070613,"display_name":"Adrian Klaver"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670603529,"creation_date":1670602362,"answer_id":74745610,"question_id":74732221,"body_markdown":"Per my comment:\r\n\r\n```\r\nSELECT\r\n    t.dt_val\r\nFROM (\r\n    VALUES (&#39;2022-12-09&#39;),\r\n        (&#39;2022-12-09 17:38:53.415367&#39;)) AS t (dt_val)\r\nWHERE\r\n    t.dt_val::timestamp = &#39;2022-12-09&#39;::date + &#39;00:00:00&#39;::time;\r\n\r\n dt_val   \r\n------------\r\n 2022-12-09\r\n\r\n```\r\n\r\nI used `&#39;2022-12-09&#39;::date` instead of `current_date` to make the answer relevant in the future. At time of answer `current_date` resolves to `&#39;2022-12-09&#39;::date`.","title":"current_date is give search result with a timestamp column in postgres","body":"<p>Per my comment:</p>\n<pre><code>SELECT\n    t.dt_val\nFROM (\n    VALUES ('2022-12-09'),\n        ('2022-12-09 17:38:53.415367')) AS t (dt_val)\nWHERE\n    t.dt_val::timestamp = '2022-12-09'::date + '00:00:00'::time;\n\n dt_val   \n------------\n 2022-12-09\n\n</code></pre>\n<p>I used <code>'2022-12-09'::date</code> instead of <code>current_date</code> to make the answer relevant in the future. At time of answer <code>current_date</code> resolves to <code>'2022-12-09'::date</code>.</p>\n"}],"owner":{"account_id":7996961,"reputation":117,"user_id":6032945,"display_name":"anurag1007"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670603529,"creation_date":1670511439,"question_id":74732221,"body_markdown":"I have a column of type varchar which stores date with timestamp, and without timestamp in postgres.\r\nWhile trying to hit the below query,\r\n\r\n    select * from table where cast(column as date) = CURRENT_DATE::date\r\n\r\nit is returning those columns also which has date with timestamp also. How can I modify the query to find the exact match of only dates and not with timestamp.\r\n\r\nsample input data:\r\n```none\r\nColumn1\r\n2022-12-09 17:38:53.415367\r\n2022-12-09\r\n```\r\nExpected output: \r\n```none\r\n2022-12-09\r\n```\r\nActual: getting both the columns in the result\r\n```none\r\n2022-12-09 17:38:53.415367\r\n2022-12-09\r\n```\r\n","title":"current_date is give search result with a timestamp column in postgres","body":"<p>I have a column of type varchar which stores date with timestamp, and without timestamp in postgres.\nWhile trying to hit the below query,</p>\n<pre><code>select * from table where cast(column as date) = CURRENT_DATE::date\n</code></pre>\n<p>it is returning those columns also which has date with timestamp also. How can I modify the query to find the exact match of only dates and not with timestamp.</p>\n<p>sample input data:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Column1\n2022-12-09 17:38:53.415367\n2022-12-09\n</code></pre>\n<p>Expected output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-12-09\n</code></pre>\n<p>Actual: getting both the columns in the result</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-12-09 17:38:53.415367\n2022-12-09\n</code></pre>\n"},{"tags":["java","json","serialization","groovy","gson"],"comments":[{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":1,"creation_date":1377702779,"post_id":18491733,"comment_id":27184681,"body_markdown":"How does it know the `otherObject` is empty?","body":"How does it know the <code>otherObject</code> is empty?"}],"answers":[{"comments":[{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1479915336,"post_id":18491942,"comment_id":68760984,"body_markdown":"Good point, but often you don&#39;t want to use both `&quot;&quot;` and `null`. The saner solution is probably avoiding `null` and using `&quot;&quot;` only.  Other libraries could work better with empty strings than with nulls. *Databases can enforce NOT NULL but they can&#39;t enforce &quot;not empty&quot;.* +++ Normalizing to nulls is not an option for me as my objects are at the point still attached to a Hibernate session.","body":"Good point, but often you don&#39;t want to use both <code>&quot;&quot;</code> and <code>null</code>. The saner solution is probably avoiding <code>null</code> and using <code>&quot;&quot;</code> only.  Other libraries could work better with empty strings than with nulls. <i>Databases can enforce NOT NULL but they can&#39;t enforce &quot;not empty&quot;.</i> +++ Normalizing to nulls is not an option for me as my objects are at the point still attached to a Hibernate session."}],"tags":[],"owner":{"account_id":399566,"reputation":5316,"user_id":765009,"accept_rate":60,"display_name":"toto2"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1377703100,"creation_date":1377703100,"answer_id":18491942,"question_id":18491733,"body_markdown":"It seems to me the problem is not with gson.  Gson correctly keeps track of the difference between null and an empty string.  Are you sure you want to erase that distinction?  Are you sure all classes that use TestObject don&#39;t care?\r\n\r\nWhat you could do if you don&#39;t care about the difference is to change the empty strings to null within a TestObject before serializing it.  Or better, make the setters in TestObject such that an empty string is set to null; that way you define rigidly within the class that an empty string is the same as null.  You&#39;ll have to make sure the values cannot be set outside the setters.","title":"Gson Serialize field only if not null or not empty","body":"<p>It seems to me the problem is not with gson.  Gson correctly keeps track of the difference between null and an empty string.  Are you sure you want to erase that distinction?  Are you sure all classes that use TestObject don't care?</p>\n\n<p>What you could do if you don't care about the difference is to change the empty strings to null within a TestObject before serializing it.  Or better, make the setters in TestObject such that an empty string is set to null; that way you define rigidly within the class that an empty string is the same as null.  You'll have to make sure the values cannot be set outside the setters.</p>\n"},{"comments":[{"owner":{"account_id":1059676,"reputation":2946,"user_id":1061567,"accept_rate":52,"display_name":"zdesam"},"score":1,"creation_date":1377703613,"post_id":18492010,"comment_id":27185256,"body_markdown":"what if I have other different objects on my TestObject class. for ex: generally my class will have multiple embedded objects of different type","body":"what if I have other different objects on my TestObject class. for ex: generally my class will have multiple embedded objects of different type"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1377703709,"post_id":18492010,"comment_id":27185329,"body_markdown":"@zdesam You do the nested serialization in this class. This class is completely dependent on your `TestObject` class so it is best suited to do all its serialization/deserialization. No other component can check the custom conditions you want.","body":"@zdesam You do the nested serialization in this class. This class is completely dependent on your <code>TestObject</code> class so it is best suited to do all its serialization/deserialization. No other component can check the custom conditions you want."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1479914948,"post_id":18492010,"comment_id":68760723,"body_markdown":"With having such to be omitted empty strings in neatly every class, your solution boils down to doing everything manually. Even serializing all fields needing no special handling. There isn&#39;t much of what Gson does left.","body":"With having such to be omitted empty strings in neatly every class, your solution boils down to doing everything manually. Even serializing all fields needing no special handling. There isn&#39;t much of what Gson does left."},{"owner":{"account_id":1727816,"reputation":1326,"user_id":1582099,"accept_rate":77,"display_name":"Clocker"},"score":0,"creation_date":1533838735,"post_id":18492010,"comment_id":90505794,"body_markdown":"downvoted because of if elses&#39; - using reflections is a better approach ignoring the need for T","body":"downvoted because of if elses&#39; - using reflections is a better approach ignoring the need for T"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1533869724,"post_id":18492010,"comment_id":90514607,"body_markdown":"@Clocker It&#39;s not feasible to do it with reflection, recursively. How do you describe that `OtherObject` is empty? It has no fields? It has no fields that are non empty (recursively with these same rules)? It has no fields that are null? It has no fields that have a default value? Does this apply to all Pojo types or just `OtherObject`? With a type adapter, you&#39;re being explicit for the types you&#39;re responsible for.","body":"@Clocker It&#39;s not feasible to do it with reflection, recursively. How do you describe that <code>OtherObject</code> is empty? It has no fields? It has no fields that are non empty (recursively with these same rules)? It has no fields that are null? It has no fields that have a default value? Does this apply to all Pojo types or just <code>OtherObject</code>? With a type adapter, you&#39;re being explicit for the types you&#39;re responsible for."},{"owner":{"account_id":1727816,"reputation":1326,"user_id":1582099,"accept_rate":77,"display_name":"Clocker"},"score":0,"creation_date":1533921419,"post_id":18492010,"comment_id":90539928,"body_markdown":"@SotiriosDelimanolis did you see Stan&#39;s answer below? Not sure about the recursion part or where that came from.","body":"@SotiriosDelimanolis did you see Stan&#39;s answer below? Not sure about the recursion part or where that came from."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1533940048,"post_id":18492010,"comment_id":90547035,"body_markdown":"@Clocker It&#39;s easy to define generic logic for `String`, array types and `Collection` types, all you do is cast to the corresponding type and check if they are empty (with whatever definition of empty you choose). But how do you do that for a POJO like the `OtherObject` in the OP? You have to apply these emptiness rules to fields of that `OtherObject`. What if that class has fields that are also POJO types? You have to recur. This becomes more complicated if you have circular references.","body":"@Clocker It&#39;s easy to define generic logic for <code>String</code>, array types and <code>Collection</code> types, all you do is cast to the corresponding type and check if they are empty (with whatever definition of empty you choose). But how do you do that for a POJO like the <code>OtherObject</code> in the OP? You have to apply these emptiness rules to fields of that <code>OtherObject</code>. What if that class has fields that are also POJO types? You have to recur. This becomes more complicated if you have circular references."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1533940115,"post_id":18492010,"comment_id":90547049,"body_markdown":"@Clocker Then you have to consider that not all POJO types are equal in their definition of emptiness. Creating an adapter for each (or for set of them) allows you to be explicit and I think that&#39;s more useful than some attempt at writing all these rules generically with reflection.","body":"@Clocker Then you have to consider that not all POJO types are equal in their definition of emptiness. Creating an adapter for each (or for set of them) allows you to be explicit and I think that&#39;s more useful than some attempt at writing all these rules generically with reflection."}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":8,"down_vote_count":1,"up_vote_count":24,"is_accepted":true,"score":23,"last_activity_date":1533869737,"creation_date":1377703260,"answer_id":18492010,"question_id":18491733,"body_markdown":"Create your own `TypeAdapter`\r\n\r\n    public class MyTypeAdapter extends TypeAdapter&lt;TestObject&gt;() {\r\n    \r\n    \t@Override\r\n    \tpublic void write(JsonWriter out, TestObject value) throws IOException {\r\n    \t\tout.beginObject();\r\n    \t\tif (!Strings.isNullOrEmpty(value.test1)) {\r\n    \t\t\tout.name(&quot;test1&quot;);\r\n    \t\t\tout.value(value.test1);\r\n    \t\t}\r\n    \r\n    \t\tif (!Strings.isNullOrEmpty(value.test2)) {\r\n    \t\t\tout.name(&quot;test2&quot;);\r\n    \t\t\tout.value(value.test1);\r\n    \t\t}\r\n    \t\t/* similar check for otherObject */    \t\t\r\n    \t\tout.endObject();    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic TestObject read(JsonReader in) throws IOException {\r\n    \t\t// do something similar, but the other way around\r\n    \t}\r\n    }\r\n\r\nYou can then register it with `Gson`.\r\n\r\n    Gson gson = new GsonBuilder().registerTypeAdapter(TestObject.class, new MyTypeAdapter()).create();\r\n    TestObject obj = new TestObject();\r\n    obj.test1 = &quot;test1&quot;;\r\n    obj.test2 = &quot;&quot;;\r\n    System.out.println(gson.toJson(obj));\r\n\r\nproduces \r\n\r\n     {&quot;test1&quot;:&quot;test1&quot;}\r\n\r\nThe `GsonBuilder` class has a bunch of methods to create your own serialization/deserialization strategies, register type adapters, and set other parameters.\r\n\r\n`Strings` is a Guava class. You can do your own check if you don&#39;t want that dependency.","title":"Gson Serialize field only if not null or not empty","body":"<p>Create your own <code>TypeAdapter</code></p>\n\n<pre><code>public class MyTypeAdapter extends TypeAdapter&lt;TestObject&gt;() {\n\n    @Override\n    public void write(JsonWriter out, TestObject value) throws IOException {\n        out.beginObject();\n        if (!Strings.isNullOrEmpty(value.test1)) {\n            out.name(\"test1\");\n            out.value(value.test1);\n        }\n\n        if (!Strings.isNullOrEmpty(value.test2)) {\n            out.name(\"test2\");\n            out.value(value.test1);\n        }\n        /* similar check for otherObject */         \n        out.endObject();    \n    }\n\n    @Override\n    public TestObject read(JsonReader in) throws IOException {\n        // do something similar, but the other way around\n    }\n}\n</code></pre>\n\n<p>You can then register it with <code>Gson</code>.</p>\n\n<pre><code>Gson gson = new GsonBuilder().registerTypeAdapter(TestObject.class, new MyTypeAdapter()).create();\nTestObject obj = new TestObject();\nobj.test1 = \"test1\";\nobj.test2 = \"\";\nSystem.out.println(gson.toJson(obj));\n</code></pre>\n\n<p>produces </p>\n\n<pre><code> {\"test1\":\"test1\"}\n</code></pre>\n\n<p>The <code>GsonBuilder</code> class has a bunch of methods to create your own serialization/deserialization strategies, register type adapters, and set other parameters.</p>\n\n<p><code>Strings</code> is a Guava class. You can do your own check if you don't want that dependency.</p>\n"},{"tags":[],"owner":{"account_id":345151,"reputation":6511,"user_id":1811719,"accept_rate":78,"display_name":"Stan"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1538476465,"creation_date":1493368267,"answer_id":43675622,"question_id":18491733,"body_markdown":"What I personally don&#39;t like in `TypeAdapter` using answer is the fact you need to describe every field of your entire class which could have lets say 50 fields (which means 50 `if` blocks in `TypeAdapter`).   \r\nMy solution is based on `Reflection` and a fact `Gson` will not serialize null values fields by default.   \r\nI have a special class which holds data for API to create document called DocumentModel, which has about 50 fields and I don&#39;t like to send `String` fields with &quot;&quot; (empty but not null) values or empty arrays to server. So I created a special method which returns me a copy of my object with all empty fields nulled. Note - by default all arrays in my DocumentModel instance are initialized as empty (zero length) arrays and thus they are never null, you should probably check your arrays for null before checking their length.\r\n\r\n    public DocumentModel getSerializableCopy() {\r\n        Field fields[] = new Field[]{};\r\n        try {\r\n            // returns the array of Field objects representing the public fields\r\n            fields = DocumentModel.class.getDeclaredFields();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        DocumentModel copy = new DocumentModel();\r\n        Object value;\r\n        for (Field field : fields) {\r\n            try {\r\n                value = field.get(this);\r\n                if (value instanceof String &amp;&amp; TextUtils.isEmpty((String) value)) {\r\n                    field.set(copy, null);\r\n                // note: here array is not being checked for null!\r\n                else if (value instanceof Object[] &amp;&amp; ((Object[]) value).length == 0) {\r\n                    field.set(copy, null);\r\n                } else\r\n                    field.set(copy, value);\r\n            } catch (IllegalAccessException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return copy;\r\n    }\r\n\r\nUsing this method I don&#39;t care if some fields was added or removed after this method was written or whatever. The only problem left - is checking custom type fields, which are not `String` or array, but this depends to particular class and should be extra coded in if/else blocks.","title":"Gson Serialize field only if not null or not empty","body":"<p>What I personally don't like in <code>TypeAdapter</code> using answer is the fact you need to describe every field of your entire class which could have lets say 50 fields (which means 50 <code>if</code> blocks in <code>TypeAdapter</code>).<br>\nMy solution is based on <code>Reflection</code> and a fact <code>Gson</code> will not serialize null values fields by default.<br>\nI have a special class which holds data for API to create document called DocumentModel, which has about 50 fields and I don't like to send <code>String</code> fields with \"\" (empty but not null) values or empty arrays to server. So I created a special method which returns me a copy of my object with all empty fields nulled. Note - by default all arrays in my DocumentModel instance are initialized as empty (zero length) arrays and thus they are never null, you should probably check your arrays for null before checking their length.</p>\n\n<pre><code>public DocumentModel getSerializableCopy() {\n    Field fields[] = new Field[]{};\n    try {\n        // returns the array of Field objects representing the public fields\n        fields = DocumentModel.class.getDeclaredFields();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    DocumentModel copy = new DocumentModel();\n    Object value;\n    for (Field field : fields) {\n        try {\n            value = field.get(this);\n            if (value instanceof String &amp;&amp; TextUtils.isEmpty((String) value)) {\n                field.set(copy, null);\n            // note: here array is not being checked for null!\n            else if (value instanceof Object[] &amp;&amp; ((Object[]) value).length == 0) {\n                field.set(copy, null);\n            } else\n                field.set(copy, value);\n        } catch (IllegalAccessException e) {\n            e.printStackTrace();\n        }\n    }\n    return copy;\n}\n</code></pre>\n\n<p>Using this method I don't care if some fields was added or removed after this method was written or whatever. The only problem left - is checking custom type fields, which are not <code>String</code> or array, but this depends to particular class and should be extra coded in if/else blocks.</p>\n"},{"tags":[],"owner":{"account_id":10424544,"reputation":21,"user_id":7686263,"display_name":"Stefan Tataru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670603315,"creation_date":1669852719,"answer_id":74635477,"question_id":18491733,"body_markdown":"**I have ran into the same problem and found 2 distinct solutions**\r\n\r\n------------------------------\r\n1. **Write a custom TypeAdapter for each field class**\r\n\r\n\r\nTypeAdapter example for String class:\r\n\r\n    \r\n    @SuppressWarnings(&quot;rawtypes&quot;)\r\n    public class JSONStringAdapter extends TypeAdapter {\r\n\r\n        @Override\r\n        public String read(JsonReader jsonReader) throws IOException {\r\n                \r\n            String value = jsonReader.nextString();\r\n            if(value == null || value.trim().length() == 0) {\r\n                return null;\r\n            } else {\r\n                return value;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void write(JsonWriter jsonWriter, Object object) throws IOException {\r\n        \r\n            String value = String.valueOf(object);\r\n            if(value == null || value.trim().length() == 0) {    \r\n                jsonWriter.nullValue();\r\n            } else {\r\n                jsonWriter.value(value);\r\n           }\r\n        }\r\n    }\r\n\r\nUse:\r\n\r\n    public class Doggo {\r\n\r\n\t    @JsonAdapter(JSONStringAdapter.class)\r\n\t    private String name;\r\n\r\n\t    public Doggo(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\n    public class Main {\r\n\r\n\t    public static void main(String[] args) {\r\n            Doggo aDoggo = new Doggo(&quot;&quot;);\r\n            String jsonString = new Gson().toJson(aDoggo);\r\n\t    }\r\n    }    \r\n\r\n--------------------------------------------------------------------\r\n2. **Process the object manually before generating the JSON string**\r\n\r\nSeems to work on anything, haven&#39;t tested the performance:\r\n\t\r\n\r\n\tpublic static boolean removeEmpty(JSONObject source) {\r\n\t\t\r\n\t\tif (null == source || source.length() == 0) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\tboolean isJsonObjectEmpty = false; \r\n\t\r\n\t\tfor (String key : JSONObject.getNames(source)) {\r\n\t\t\tObject value = source.get(key);\r\n\t\t\t\r\n\t\t\tboolean isValueEmpty = isValueEmpty(value);\r\n\t\t\tif(isValueEmpty) {\r\n\t\t\t\tsource.remove(key);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif(source.length() == 0) {\r\n\t\t\tisJsonObjectEmpty = true;\r\n\t\t}\r\n\t\t\r\n\t\treturn isJsonObjectEmpty;\r\n\t}\r\n\t\r\n\tprivate static boolean isValueEmpty(Object value) {\r\n\r\n\t\tif (null == value) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\tif (value instanceof JSONArray) {\r\n\t\t\t\r\n\t\t\tJSONArray arr =  (JSONArray) value;\r\n\t\t\tif(arr.length() &gt; 0) {\r\n\t\t\t\t\r\n\t\t\t\tList&lt;Integer&gt; indextesToRemove = new ArrayList&lt;&gt;();\r\n\t\t\t\tfor(int i = 0; i&lt; arr.length(); i++) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tboolean isValueEmpty = isValueEmpty(arr.get(i));\r\n\t\t\t\t\tif(isValueEmpty) {\r\n\t\t\t\t\t\tindextesToRemove.add(i);\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfor(Integer index : indextesToRemove) {\r\n\t\t\t\t\tarr.remove(index);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(arr.length() == 0) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} else if (value instanceof JSONObject) {\r\n        \r\n\t\t\treturn removeEmpty((JSONObject) value);\r\n\t\t\t \r\n        } else {\r\n        \t\r\n        \tif (JSONObject.NULL.equals(value) \r\n        \t\t|| null == value \r\n        \t\t|| value.toString().trim().length() == 0)\r\n        \t) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n        }\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n\r\n\r\nUse:\r\n\r\n    public class Doggo {\r\n\r\n        private String name;\r\n\r\n\t    public Doggo(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\n  \r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            Doggo aDoggo = new Doggo(&quot;&quot;);\r\n            \r\n            // if you are not using Type Adapters for your fields\r\n            JSONObject aJSONObject1 = new JSONObject(aDoggo);\r\n            removeEmpty(aJSONObject1);\r\n            String jsonString1 = aJSONObject1.toString();\r\n\r\n            // if you are using Type Adapters for your fields\r\n            Gson gsonParser = new Gson();\r\n            JSONObject aJSONObject2 = new JSONObject(gsonParser .toJson(aDoggo));\r\n            removeEmpty(aJSONObject2);\r\n            String jsonString2 = aJSONObject2.toString();\r\n\t    }\r\n    }        ","title":"Gson Serialize field only if not null or not empty","body":"<p><strong>I have ran into the same problem and found 2 distinct solutions</strong></p>\n<hr />\n<ol>\n<li><strong>Write a custom TypeAdapter for each field class</strong></li>\n</ol>\n<p>TypeAdapter example for String class:</p>\n<pre><code>@SuppressWarnings(&quot;rawtypes&quot;)\npublic class JSONStringAdapter extends TypeAdapter {\n\n    @Override\n    public String read(JsonReader jsonReader) throws IOException {\n            \n        String value = jsonReader.nextString();\n        if(value == null || value.trim().length() == 0) {\n            return null;\n        } else {\n            return value;\n        }\n    }\n\n    @Override\n    public void write(JsonWriter jsonWriter, Object object) throws IOException {\n    \n        String value = String.valueOf(object);\n        if(value == null || value.trim().length() == 0) {    \n            jsonWriter.nullValue();\n        } else {\n            jsonWriter.value(value);\n       }\n    }\n}\n</code></pre>\n<p>Use:</p>\n<pre><code>public class Doggo {\n\n    @JsonAdapter(JSONStringAdapter.class)\n    private String name;\n\n    public Doggo(String name) {\n        this.name = name;\n    }\n}\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Doggo aDoggo = new Doggo(&quot;&quot;);\n        String jsonString = new Gson().toJson(aDoggo);\n    }\n}    \n</code></pre>\n<hr />\n<ol start=\"2\">\n<li><strong>Process the object manually before generating the JSON string</strong></li>\n</ol>\n<p>Seems to work on anything, haven't tested the performance:</p>\n<pre><code>public static boolean removeEmpty(JSONObject source) {\n    \n    if (null == source || source.length() == 0) {\n        return true;\n    }\n    \n    boolean isJsonObjectEmpty = false; \n\n    for (String key : JSONObject.getNames(source)) {\n        Object value = source.get(key);\n        \n        boolean isValueEmpty = isValueEmpty(value);\n        if(isValueEmpty) {\n            source.remove(key);\n        }\n    }\n    \n    if(source.length() == 0) {\n        isJsonObjectEmpty = true;\n    }\n    \n    return isJsonObjectEmpty;\n}\n\nprivate static boolean isValueEmpty(Object value) {\n\n    if (null == value) {\n        return true;\n    }\n    \n    if (value instanceof JSONArray) {\n        \n        JSONArray arr =  (JSONArray) value;\n        if(arr.length() &gt; 0) {\n            \n            List&lt;Integer&gt; indextesToRemove = new ArrayList&lt;&gt;();\n            for(int i = 0; i&lt; arr.length(); i++) {\n                \n                boolean isValueEmpty = isValueEmpty(arr.get(i));\n                if(isValueEmpty) {\n                    indextesToRemove.add(i);\n                };\n            }\n            \n            for(Integer index : indextesToRemove) {\n                arr.remove(index);\n            }\n            \n            if(arr.length() == 0) {\n                return true;\n            }\n            \n        } else {\n            return true;\n        }\n        \n    } else if (value instanceof JSONObject) {\n    \n        return removeEmpty((JSONObject) value);\n         \n    } else {\n        \n        if (JSONObject.NULL.equals(value) \n            || null == value \n            || value.toString().trim().length() == 0)\n        ) {\n            return true;\n        }\n    }\n    \n    return false;\n}\n</code></pre>\n<p>Use:</p>\n<pre><code>public class Doggo {\n\n    private String name;\n\n    public Doggo(String name) {\n        this.name = name;\n    }\n}\n\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Doggo aDoggo = new Doggo(&quot;&quot;);\n        \n        // if you are not using Type Adapters for your fields\n        JSONObject aJSONObject1 = new JSONObject(aDoggo);\n        removeEmpty(aJSONObject1);\n        String jsonString1 = aJSONObject1.toString();\n\n        // if you are using Type Adapters for your fields\n        Gson gsonParser = new Gson();\n        JSONObject aJSONObject2 = new JSONObject(gsonParser .toJson(aDoggo));\n        removeEmpty(aJSONObject2);\n        String jsonString2 = aJSONObject2.toString();\n    }\n}        \n</code></pre>\n"}],"owner":{"account_id":1059676,"reputation":2946,"user_id":1061567,"accept_rate":52,"display_name":"zdesam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46554,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":18492010,"answer_count":4,"score":33,"last_activity_date":1670603315,"creation_date":1377702593,"question_id":18491733,"body_markdown":"I have requirement where I need to convert java object to json.\r\n\r\nI am using Gson for that but i need the converter to only serialize the non null or not empty values.\r\n\r\nFor example:\r\n\r\n    //my java object looks like\r\n    class TestObject{\r\n        String test1;\r\n        String test2;\r\n        OtherObject otherObject = new OtherObject();\r\n    }\r\n\r\nnow my Gson instance to convert this object to json looks like\r\n\r\n    Gson gson = new Gson();\r\n    TestObject obj = new TestObject();\r\n    obj.test1 = &quot;test1&quot;;\r\n    obj.test2 = &quot;&quot;;\r\n\r\n    String jsonStr = gson.toJson(obj);\r\n    println jsonStr;\r\n\r\nIn the above print, the result is \r\n\r\n    {&quot;test1&quot;:&quot;test1&quot;, &quot;test2&quot;:&quot;&quot;, &quot;otherObject&quot;:{}}\r\n\r\nHere i just wanted the result to be \r\n\r\n    {&quot;test1&quot;:&quot;test1&quot;}\r\n\r\nSince the test2 is empty and otherObject is empty, i don&#39;t want them to be serialized to json data.\r\n\r\nBtw, I am using Groovy/Grails so if there is any plugin for this that would be good, if not any suggestion to customize the gson serialization class would be good.\r\n","title":"Gson Serialize field only if not null or not empty","body":"<p>I have requirement where I need to convert java object to json.</p>\n\n<p>I am using Gson for that but i need the converter to only serialize the non null or not empty values.</p>\n\n<p>For example:</p>\n\n<pre><code>//my java object looks like\nclass TestObject{\n    String test1;\n    String test2;\n    OtherObject otherObject = new OtherObject();\n}\n</code></pre>\n\n<p>now my Gson instance to convert this object to json looks like</p>\n\n<pre><code>Gson gson = new Gson();\nTestObject obj = new TestObject();\nobj.test1 = \"test1\";\nobj.test2 = \"\";\n\nString jsonStr = gson.toJson(obj);\nprintln jsonStr;\n</code></pre>\n\n<p>In the above print, the result is </p>\n\n<pre><code>{\"test1\":\"test1\", \"test2\":\"\", \"otherObject\":{}}\n</code></pre>\n\n<p>Here i just wanted the result to be </p>\n\n<pre><code>{\"test1\":\"test1\"}\n</code></pre>\n\n<p>Since the test2 is empty and otherObject is empty, i don't want them to be serialized to json data.</p>\n\n<p>Btw, I am using Groovy/Grails so if there is any plugin for this that would be good, if not any suggestion to customize the gson serialization class would be good.</p>\n"},{"tags":["java","key"],"comments":[{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":0,"creation_date":1670601957,"post_id":74745476,"comment_id":131918639,"body_markdown":"Key bindings and a Swing Timer","body":"Key bindings and a Swing Timer"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1670604290,"post_id":74745476,"comment_id":131919343,"body_markdown":"On a separate note,  you don&#39; t have to test for `booleans` by comparison.  `if (up == true) {` will evaluate to either `true or false` so why test it?  Just use  `if (up) {` for a `true` test and `if (!up) {` for a `false` test.  But your way will still work if it makes more sense to you.","body":"On a separate note,  you don&#39; t have to test for <code>booleans</code> by comparison.  <code>if (up == true) {</code> will evaluate to either <code>true or false</code> so why test it?  Just use  <code>if (up) {</code> for a <code>true</code> test and <code>if (!up) {</code> for a <code>false</code> test.  But your way will still work if it makes more sense to you."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1670606657,"post_id":74745476,"comment_id":131920088,"body_markdown":"Check out the `Keyboard Animation` example found in [Motion Using the Keyboard](https://tips4java.wordpress.com/2013/06/09/motion-using-the-keyboard/). It uses a Swing Timer to schedule the animation.","body":"Check out the <code>Keyboard Animation</code> example found in <a href=\"https://tips4java.wordpress.com/2013/06/09/motion-using-the-keyboard/\" rel=\"nofollow noreferrer\">Motion Using the Keyboard</a>. It uses a Swing Timer to schedule the animation."}],"answers":[{"tags":[],"owner":{"account_id":27168607,"reputation":89,"user_id":20705693,"display_name":"marc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670603300,"creation_date":1670603300,"answer_id":74745795,"question_id":74745476,"body_markdown":"Having a boolean for each direction, that gets updated when keyPressed() and keyReleased() are called is definitely the right approach. The problem is that keyPressed() also contains your code that moves the player and repaints the frame. You have to put that in some kind of method that repeatedly gets called in a fixed delay, and moves the player depending on which of these booleans are `true`. What I mean is something like this:\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        /// ...\r\n\t\twhile(programIsRunning) {\r\n\t\t\tmovePlayer();\r\n\t\t\tframe.repaint();\r\n\t\t\t// let your program sleep here\r\n\t\t}\r\n    }\r\n\t\r\n\tpublic static void movePlayer() {\r\n\t\tif(up == true){\r\n\t        if(Main.y == -100){\r\n\t            return;\r\n\t        }\r\n\t        Main.y -= 20;\r\n\t    }\r\n\t    if(left == true){\r\n\t        if(Main.x == -40){\r\n\t            return;\r\n\t        }\r\n\t        Main.x -= 20;\r\n\t    }\r\n\t    if(down == true){\r\n\t        if(Main.y == 440){\r\n\t            return;\r\n\t        }\r\n\t        Main.y += 20;\r\n\t    }\r\n\t    if(right == true){\r\n\t        if(Main.x == 520){\r\n\t            return;\r\n\t        }\r\n\t        Main.x += 20;\r\n\t    }\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void keyPressed(KeyEvent e) {\r\n\t    if(e.getKeyCode() == KeyEvent.VK_W) up = true;\r\n\t    if(e.getKeyCode() == KeyEvent.VK_A) left = true;\r\n\t    if(e.getKeyCode() == KeyEvent.VK_S) down = true;\r\n\t    if(e.getKeyCode() == KeyEvent.VK_D) right = true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyReleased(KeyEvent e) {\r\n\t    if(e.getKeyCode() == KeyEvent.VK_W) up = false;\r\n\t    if(e.getKeyCode() == KeyEvent.VK_A) left = false;\r\n\t    if(e.getKeyCode() == KeyEvent.VK_S) down = false;\r\n\t    if(e.getKeyCode() == KeyEvent.VK_D) right = false;\r\n\t}\r\n\r\nThat way your player should move a lot smoother","title":"Smoother movement when key is held Keyhandler","body":"<p>Having a boolean for each direction, that gets updated when keyPressed() and keyReleased() are called is definitely the right approach. The problem is that keyPressed() also contains your code that moves the player and repaints the frame. You have to put that in some kind of method that repeatedly gets called in a fixed delay, and moves the player depending on which of these booleans are <code>true</code>. What I mean is something like this:</p>\n<pre><code>public static void main(String[] args)\n{\n    /// ...\n    while(programIsRunning) {\n        movePlayer();\n        frame.repaint();\n        // let your program sleep here\n    }\n}\n\npublic static void movePlayer() {\n    if(up == true){\n        if(Main.y == -100){\n            return;\n        }\n        Main.y -= 20;\n    }\n    if(left == true){\n        if(Main.x == -40){\n            return;\n        }\n        Main.x -= 20;\n    }\n    if(down == true){\n        if(Main.y == 440){\n            return;\n        }\n        Main.y += 20;\n    }\n    if(right == true){\n        if(Main.x == 520){\n            return;\n        }\n        Main.x += 20;\n    }\n}\n\n@Override\npublic void keyPressed(KeyEvent e) {\n    if(e.getKeyCode() == KeyEvent.VK_W) up = true;\n    if(e.getKeyCode() == KeyEvent.VK_A) left = true;\n    if(e.getKeyCode() == KeyEvent.VK_S) down = true;\n    if(e.getKeyCode() == KeyEvent.VK_D) right = true;\n}\n\n@Override\npublic void keyReleased(KeyEvent e) {\n    if(e.getKeyCode() == KeyEvent.VK_W) up = false;\n    if(e.getKeyCode() == KeyEvent.VK_A) left = false;\n    if(e.getKeyCode() == KeyEvent.VK_S) down = false;\n    if(e.getKeyCode() == KeyEvent.VK_D) right = false;\n}\n</code></pre>\n<p>That way your player should move a lot smoother</p>\n"}],"owner":{"account_id":20172033,"reputation":21,"user_id":14794638,"display_name":"Glandorf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670603300,"creation_date":1670601673,"question_id":74745476,"body_markdown":"Every time when I press for example W, my player moves up by 20. But when I hold W, it goes up by 20, waits a second, and then goes up faster.\r\n\r\nIs it possible to make my player go up that &quot;fast way&quot; immediately without waiting?\r\n\r\nMy code:\r\n\r\n```java\r\n@Override\r\npublic void keyPressed(KeyEvent e) {\r\n    if(e.getKeyCode() == KeyEvent.VK_W) up = true;\r\n    if(e.getKeyCode() == KeyEvent.VK_A) left = true;\r\n    if(e.getKeyCode() == KeyEvent.VK_S) down = true;\r\n    if(e.getKeyCode() == KeyEvent.VK_D) right = true;\r\n\r\n    if(up == true){\r\n        if(Main.y == -100){\r\n            return;\r\n        }\r\n        Main.y -= 20;\r\n\r\n        Main.frame.repaint();\r\n    }\r\n    if(left == true){\r\n        if(Main.x == -40){\r\n            return;\r\n        }\r\n        Main.x -= 20;\r\n        Main.frame.repaint();\r\n    }\r\n    if(down == true){\r\n        if(Main.y == 440){\r\n            return;\r\n        }\r\n        Main.y += 20;\r\n        Main.frame.repaint();\r\n    }\r\n    if(right == true){\r\n        if(Main.x == 520){\r\n            return;\r\n        }\r\n        Main.x += 20;\r\n        Main.frame.repaint();\r\n    }\r\n}\r\n\r\n@Override\r\npublic void keyReleased(KeyEvent e) {\r\n    if(e.getKeyCode() == KeyEvent.VK_W) up = false;\r\n    if(e.getKeyCode() == KeyEvent.VK_A) left = false;\r\n    if(e.getKeyCode() == KeyEvent.VK_S) down = false;\r\n    if(e.getKeyCode() == KeyEvent.VK_D) right = false;\r\n}\r\n```\r\n","title":"Smoother movement when key is held Keyhandler","body":"<p>Every time when I press for example W, my player moves up by 20. But when I hold W, it goes up by 20, waits a second, and then goes up faster.</p>\n<p>Is it possible to make my player go up that &quot;fast way&quot; immediately without waiting?</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void keyPressed(KeyEvent e) {\n    if(e.getKeyCode() == KeyEvent.VK_W) up = true;\n    if(e.getKeyCode() == KeyEvent.VK_A) left = true;\n    if(e.getKeyCode() == KeyEvent.VK_S) down = true;\n    if(e.getKeyCode() == KeyEvent.VK_D) right = true;\n\n    if(up == true){\n        if(Main.y == -100){\n            return;\n        }\n        Main.y -= 20;\n\n        Main.frame.repaint();\n    }\n    if(left == true){\n        if(Main.x == -40){\n            return;\n        }\n        Main.x -= 20;\n        Main.frame.repaint();\n    }\n    if(down == true){\n        if(Main.y == 440){\n            return;\n        }\n        Main.y += 20;\n        Main.frame.repaint();\n    }\n    if(right == true){\n        if(Main.x == 520){\n            return;\n        }\n        Main.x += 20;\n        Main.frame.repaint();\n    }\n}\n\n@Override\npublic void keyReleased(KeyEvent e) {\n    if(e.getKeyCode() == KeyEvent.VK_W) up = false;\n    if(e.getKeyCode() == KeyEvent.VK_A) left = false;\n    if(e.getKeyCode() == KeyEvent.VK_S) down = false;\n    if(e.getKeyCode() == KeyEvent.VK_D) right = false;\n}\n</code></pre>\n"},{"tags":["java","json","file","serialization","objectmapper"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1670604872,"post_id":74745703,"comment_id":131919515,"body_markdown":"A custom serializer is probably needed for that. Depending on whether you require the precision to be hard-coded or not, here are  some SO answers to guide you: [hard-coded](https://stackoverflow.com/a/53284909/639520) and [annotation-driven](https://stackoverflow.com/a/44128440/639520).","body":"A custom serializer is probably needed for that. Depending on whether you require the precision to be hard-coded or not, here are  some SO answers to guide you: <a href=\"https://stackoverflow.com/a/53284909/639520\">hard-coded</a> and <a href=\"https://stackoverflow.com/a/44128440/639520\">annotation-driven</a>."}],"owner":{"account_id":20121404,"reputation":25,"user_id":14755840,"display_name":"Stefan Radulescu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670666914,"answer_count":0,"score":0,"last_activity_date":1670602816,"creation_date":1670602816,"question_id":74745703,"body_markdown":"Giving the following code:\r\n```\r\nArrayList&lt;ActionOutput&gt; res = manager.getRes();\r\nObjectWriter objectWriter = objectMapper.writer();\r\nobjectWriter = objectWriter.withDefaultPrettyPrinter();\r\nobjectWriter.writeValue(new File(args[1]), res);\r\n```\r\n\r\nLet&#39;s say a member from **ActionOutput** is a list of objects, and that object contains a **double** instance variable.\r\n\r\nI want to print in a file that double with precision at .00 (13.2 -&gt; 13.20, 14.23423 -&gt; 14.23).\r\n\r\nHow can I configure my objectWriter to write my JSON file this way?\r\n","title":"ObjectWriter print json double with precision","body":"<p>Giving the following code:</p>\n<pre><code>ArrayList&lt;ActionOutput&gt; res = manager.getRes();\nObjectWriter objectWriter = objectMapper.writer();\nobjectWriter = objectWriter.withDefaultPrettyPrinter();\nobjectWriter.writeValue(new File(args[1]), res);\n</code></pre>\n<p>Let's say a member from <strong>ActionOutput</strong> is a list of objects, and that object contains a <strong>double</strong> instance variable.</p>\n<p>I want to print in a file that double with precision at .00 (13.2 -&gt; 13.20, 14.23423 -&gt; 14.23).</p>\n<p>How can I configure my objectWriter to write my JSON file this way?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":5961968,"reputation":1269,"user_id":4686871,"accept_rate":100,"display_name":"Sergei Sirik"},"score":0,"creation_date":1503429769,"post_id":45825088,"comment_id":78609063,"body_markdown":"How are you going to restart it from EDT? Is it user action or what? And what is EDT? For what your thread is waiting to be executed? Common way to deal with threads synchronization is to use synchronization objects. You can check for start this http://tutorials.jenkov.com/java-concurrency/synchronized.html","body":"How are you going to restart it from EDT? Is it user action or what? And what is EDT? For what your thread is waiting to be executed? Common way to deal with threads synchronization is to use synchronization objects. You can check for start this <a href=\"http://tutorials.jenkov.com/java-concurrency/synchronized.html\" rel=\"nofollow noreferrer\">tutorials.jenkov.com/java-concurrency/synchronized.html</a>"}],"answers":[{"comments":[{"owner":{"account_id":11573548,"reputation":634,"user_id":8479618,"accept_rate":100,"display_name":"Jeff"},"score":0,"creation_date":1503432199,"post_id":45825727,"comment_id":78610290,"body_markdown":"Got it, thanks for pointing me to a resource!\n\nTurns out I mixed up the order of the while loop and the synchronized statements in my code, which is why wait() and notify() kept on messing up and giving me illegalMontiterExceptions. Guess the problem wasn&#39;t really with my synchronicity.\n\n I guess I should delete this question then?","body":"Got it, thanks for pointing me to a resource!  Turns out I mixed up the order of the while loop and the synchronized statements in my code, which is why wait() and notify() kept on messing up and giving me illegalMontiterExceptions. Guess the problem wasn&#39;t really with my synchronicity.   I guess I should delete this question then?"},{"owner":{"account_id":1952635,"reputation":1023,"user_id":2482947,"accept_rate":33,"display_name":"hadilq"},"score":0,"creation_date":1503432929,"post_id":45825727,"comment_id":78610576,"body_markdown":"Good. Happy to help. Although, we&#39;re all make mistakes, so maybe someone else would need this post.","body":"Good. Happy to help. Although, we&#39;re all make mistakes, so maybe someone else would need this post."}],"tags":[],"owner":{"account_id":1952635,"reputation":1023,"user_id":2482947,"accept_rate":33,"display_name":"hadilq"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1503430772,"creation_date":1503430772,"answer_id":45825727,"question_id":45825088,"body_markdown":"For the waiting and restarting I believe an infinit loop, `wait` and `notify` methods are what you&#39;re looking for. For instance, look at [this guide][1].\r\n\r\n  [1]: https://www.programcreek.com/2009/02/notify-and-wait-example/","title":"How to use volatile boolean to check whether the thread should run?","body":"<p>For the waiting and restarting I believe an infinit loop, <code>wait</code> and <code>notify</code> methods are what you're looking for. For instance, look at <a href=\"https://www.programcreek.com/2009/02/notify-and-wait-example/\" rel=\"nofollow noreferrer\">this guide</a>.</p>\n"}],"owner":{"account_id":11573548,"reputation":634,"user_id":8479618,"accept_rate":100,"display_name":"Jeff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45825727,"answer_count":1,"score":0,"last_activity_date":1670602687,"creation_date":1503428442,"question_id":45825088,"body_markdown":"I have a class that extends threads as seen below, and I want it to have a volatile boolean field that it checks to decide whether to continue running or not. The shouldRun() method is called from the EDT of my GUI. \r\n\r\nHow do I get this thread to check the boolean to know whether it should run or wait() from my GUI&#39;s Event Dispatcher Thread?\r\n\r\n\r\n    public class RobotThread extends Thread{\r\n    \t\r\n    \tpublic volatile boolean run; \r\n    \t//if running == true, let thread run\r\n    \t//if running == false, invoke wait() somehow;\r\n    \t\r\n    \tpublic RobotThread(AutoClicker autoClicker) {\r\n    \t\tsuper(autoClicker);\r\n    \t\trun = true;\r\n    \t}\r\n    \t\r\n    \tpublic void setRun(boolean shouldRun) {\r\n    \t\tthis.run = shouldRun;\r\n    \t}\r\n    \t\r\n    \tpublic boolean getRun() {\r\n    \t\treturn run;\r\n    \t}\r\n    }\r\n\r\n\r\nIn general, I just want to be able to get this thread to wait() and restart from the Event Dispatcher Thread of my GUI with button. If there are any better ways to do this I&#39;ll be happy to hear it too.\r\n\r\n","title":"How to use volatile boolean to check whether the thread should run?","body":"<p>I have a class that extends threads as seen below, and I want it to have a volatile boolean field that it checks to decide whether to continue running or not. The shouldRun() method is called from the EDT of my GUI.</p>\n<p>How do I get this thread to check the boolean to know whether it should run or wait() from my GUI's Event Dispatcher Thread?</p>\n<pre><code>public class RobotThread extends Thread{\n    \n    public volatile boolean run; \n    //if running == true, let thread run\n    //if running == false, invoke wait() somehow;\n    \n    public RobotThread(AutoClicker autoClicker) {\n        super(autoClicker);\n        run = true;\n    }\n    \n    public void setRun(boolean shouldRun) {\n        this.run = shouldRun;\n    }\n    \n    public boolean getRun() {\n        return run;\n    }\n}\n</code></pre>\n<p>In general, I just want to be able to get this thread to wait() and restart from the Event Dispatcher Thread of my GUI with button. If there are any better ways to do this I'll be happy to hear it too.</p>\n"},{"tags":["java","mysql","spring","hibernate","spring-mvc"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1487844869,"post_id":42412655,"comment_id":71971281,"body_markdown":"The error message is pretty clear: Your entity defines a column `symfony`, but according to your `create table` statement that column doesn&#39;t exist.","body":"The error message is pretty clear: Your entity defines a column <code>symfony</code>, but according to your <code>create table</code> statement that column doesn&#39;t exist."},{"owner":{"account_id":9713613,"reputation":1,"user_id":7204695,"display_name":"Khue Nguyen"},"score":0,"creation_date":1487909895,"post_id":42412655,"comment_id":72006488,"body_markdown":"thanks you, I fixed it. but now i get another exception: unknown table in field list even though table definitely exists.","body":"thanks you, I fixed it. but now i get another exception: unknown table in field list even though table definitely exists."}],"answers":[{"tags":[],"owner":{"account_id":114470,"reputation":874,"user_id":300978,"accept_rate":80,"display_name":"brohjoe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670602283,"creation_date":1670602283,"answer_id":74745603,"question_id":42412655,"body_markdown":"What worked for me was deleting or commenting out @Table(name=&quot;dotnet&quot;) in the @Entity class.  JPA/Hibernate knows the name of the table, it&#39;s the same as the class name. ","title":"Hibernate: Unknown table &#39; &#39; in field list even though the table definitely exists","body":"<p>What worked for me was deleting or commenting out @Table(name=&quot;dotnet&quot;) in the @Entity class.  JPA/Hibernate knows the name of the table, it's the same as the class name.</p>\n"}],"owner":{"account_id":9713613,"reputation":1,"user_id":7204695,"display_name":"Khue Nguyen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":447,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670602283,"creation_date":1487844629,"question_id":42412655,"body_markdown":"I&#39;m newbee, and I have a problem in hibernate. When I run and it throw an exception: \r\n\r\n&gt; HTTP Status 500 - Request processing failed; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\r\nError at:\r\n\r\n&gt; com.mysql.jdbc.exceptions.MySQLSyntaxErrorException: Unknown table\r\n&gt; &#39;dotnet0_&#39; in field list\r\n\r\n&lt;br/&gt;Here is my DB.\r\n\r\n        CREATE TABLE `dotnet` (\r\n      `general` double DEFAULT NULL,\r\n      `c#` double DEFAULT NULL,\r\n      `vb` double DEFAULT NULL,\r\n      `asp` double DEFAULT NULL,\r\n      `entityFramework` double DEFAULT NULL,\r\n      `mvc` double DEFAULT NULL,\r\n      `aspNetWebApi` double DEFAULT NULL,\r\n      `ado` double DEFAULT NULL,\r\n      `wpf` double DEFAULT NULL,\r\n      `wcf` double DEFAULT NULL,\r\n      `nunit` double DEFAULT NULL,\r\n      `moq` double DEFAULT NULL,\r\n      `urf` double DEFAULT NULL,\r\n      `id` int(11) NOT NULL,\r\n      PRIMARY KEY (`id`),\r\n      UNIQUE KEY `id_UNIQUE` (`id`)\r\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;\r\n\r\nException:\r\n\r\n        org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:977)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:867)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:648)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:841)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    root cause\r\n    org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n    \torg.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:123)\r\n    \torg.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\r\n    \torg.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\r\n    \torg.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112)\r\n    \torg.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:91)\r\n    \torg.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:449)\r\n    \torg.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:202)\r\n    \torg.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:137)\r\n    \torg.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:102)\r\n    \torg.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:186)\r\n    \torg.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4126)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:503)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:468)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:213)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:275)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:151)\r\n    \torg.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1070)\r\n    \torg.hibernate.internal.SessionImpl.access$2000(SessionImpl.java:176)\r\n    \torg.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2551)\r\n    \torg.hibernate.internal.SessionImpl.get(SessionImpl.java:955)\r\n    \ta.b.c.dao.AbstractDAO.getByKey(AbstractDAO.java:29)\r\n    \ta.b.c.dao.DotNetDAOImpl.findById(DotNetDAOImpl.java:13)\r\n    \ta.b.c.dao.DotNetDAOImpl.findById(DotNetDAOImpl.java:1)\r\n    \ta.b.c.service.DotNetServiceImpl.save(DotNetServiceImpl.java:27)\r\n    \ta.b.c.service.DotNetServiceImpl.save(DotNetServiceImpl.java:1)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tjava.lang.reflect.Method.invoke(Unknown Source)\r\n    \torg.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n    \torg.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n    \torg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n    \torg.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n    \torg.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\r\n    \torg.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n    \torg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \torg.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n    \tcom.sun.proxy.$Proxy228.save(Unknown Source)\r\n    \ta.b.c.controller.HomeController.changeValue(HomeController.java:186)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tjava.lang.reflect.Method.invoke(Unknown Source)\r\n    \torg.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222)\r\n    \torg.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)\r\n    \torg.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\r\n    \torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)\r\n    \torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)\r\n    \torg.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:965)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:867)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:648)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:841)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    root cause\r\n    com.mysql.jdbc.exceptions.MySQLSyntaxErrorException: Unknown table &#39;dotnet0_&#39; in field list\r\n    \tcom.mysql.jdbc.SQLError.createSQLException(SQLError.java:936)\r\n    \tcom.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2870)\r\n    \tcom.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1573)\r\n    \tcom.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1665)\r\n    \tcom.mysql.jdbc.Connection.execSQL(Connection.java:3176)\r\n    \tcom.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1153)\r\n    \tcom.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1266)\r\n    \torg.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:82)\r\n    \torg.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:449)\r\n    \torg.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:202)\r\n    \torg.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:137)\r\n    \torg.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:102)\r\n    \torg.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:186)\r\n    \torg.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4126)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:503)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:468)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:213)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:275)\r\n    \torg.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:151)\r\n    \torg.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1070)\r\n    \torg.hibernate.internal.SessionImpl.access$2000(SessionImpl.java:176)\r\n    \torg.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2551)\r\n    \torg.hibernate.internal.SessionImpl.get(SessionImpl.java:955)\r\n    \ta.b.c.dao.AbstractDAO.getByKey(AbstractDAO.java:29)\r\n    \ta.b.c.dao.DotNetDAOImpl.findById(DotNetDAOImpl.java:13)\r\n    \ta.b.c.dao.DotNetDAOImpl.findById(DotNetDAOImpl.java:1)\r\n    \ta.b.c.service.DotNetServiceImpl.save(DotNetServiceImpl.java:27)\r\n    \ta.b.c.service.DotNetServiceImpl.save(DotNetServiceImpl.java:1)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tjava.lang.reflect.Method.invoke(Unknown Source)\r\n    \torg.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n    \torg.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n    \torg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n    \torg.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n    \torg.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\r\n    \torg.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n    \torg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \torg.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n    \tcom.sun.proxy.$Proxy228.save(Unknown Source)\r\n    \ta.b.c.controller.HomeController.changeValue(HomeController.java:186)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tjava.lang.reflect.Method.invoke(Unknown Source)\r\n    \torg.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222)\r\n    \torg.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)\r\n    \torg.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\r\n    \torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)\r\n    \torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)\r\n    \torg.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:965)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:867)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:648)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:841)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\r\nMy code here:\r\n\r\n        @Entity\r\n    @Table(name=&quot;dotnet&quot;)\r\n    public class DotNet {\r\n    \tprivate double general;\r\n    \tprivate int id;\r\n    \r\n    \t// Language\r\n    \tdouble cThang;\r\n    \tdouble vb;\r\n    \tdouble asp;\r\n    \r\n    \t// Framework\r\n    \tprivate double entityFramework;\r\n    \tprivate double mvc;\r\n    \tprivate double aspNetWebAPI;\r\n    \tprivate double ado;\r\n    \tprivate double wpf;\r\n    \tprivate double wcf;\r\n    \tprivate double nunit;\r\n    \tprivate double moq;\r\n    \tprivate double urf;\r\n    \r\n    \tpublic double[] toArray() {\r\n    \t\tdouble[] net = { general, cThang, vb, asp, entityFramework, mvc, aspNetWebAPI, ado, wpf, wcf, nunit, moq, urf };\r\n    \t\treturn net;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;entityframework&quot;, nullable = false)\r\n    \tpublic double getEntityFramework() {\r\n    \t\treturn entityFramework;\r\n    \t}\r\n    \r\n    \tpublic void setEntityFramework(double entityFramework) {\r\n    \t\tthis.entityFramework = entityFramework;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;mvc&quot;, nullable = false)\r\n    \tpublic double getMvc() {\r\n    \t\treturn mvc;\r\n    \t}\r\n    \r\n    \tpublic void setMvc(double mvc) {\r\n    \t\tthis.mvc = mvc;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;aspnetwebapi&quot;, nullable = false)\r\n    \tpublic double getAspNetWebAPI() {\r\n    \t\treturn aspNetWebAPI;\r\n    \t}\r\n    \r\n    \tpublic void setAspNetWebAPI(double aspNetWebAPI) {\r\n    \t\tthis.aspNetWebAPI = aspNetWebAPI;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;ado&quot;, nullable = false)\r\n    \tpublic double getAdo() {\r\n    \t\treturn ado;\r\n    \t}\r\n    \r\n    \tpublic void setAdo(double ado) {\r\n    \t\tthis.ado = ado;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;wpf&quot;, nullable = false)\r\n    \tpublic double getWpf() {\r\n    \t\treturn wpf;\r\n    \t}\r\n    \r\n    \tpublic void setWpf(double wpf) {\r\n    \t\tthis.wpf = wpf;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;nunit&quot;, nullable = false)\r\n    \tpublic double getNunit() {\r\n    \t\treturn nunit;\r\n    \t}\r\n    \r\n    \tpublic void setNunit(double nunit) {\r\n    \t\tthis.nunit = nunit;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;moq&quot;, nullable = false)\r\n    \tpublic double getMoq() {\r\n    \t\treturn moq;\r\n    \t}\r\n    \r\n    \tpublic void setMoq(double moq) {\r\n    \t\tthis.moq = moq;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;URF&quot;, nullable = false)\r\n    \tpublic double getUrf() {\r\n    \t\treturn urf;\r\n    \t}\r\n    \r\n    \tpublic void setUrf(double urf) {\r\n    \t\tthis.urf = urf;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;c#&quot;, nullable = false)\r\n    \tpublic double getcThang() {\r\n    \t\treturn cThang;\r\n    \t}\r\n    \r\n    \tpublic void setcThang(double cThang) {\r\n    \t\tthis.cThang = cThang;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;vb&quot;, nullable = false)\r\n    \tpublic double getVb() {\r\n    \t\treturn vb;\r\n    \t}\r\n    \r\n    \tpublic void setVb(double vb) {\r\n    \t\tthis.vb = vb;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;asp&quot;, nullable = false)\r\n    \tpublic double getAsp() {\r\n    \t\treturn asp;\r\n    \t}\r\n    \r\n    \tpublic void setAsp(double asp) {\r\n    \t\tthis.asp = asp;\r\n    \t}\r\n    \r\n    \t@Id\r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;general&quot;, nullable = false)\r\n    \tpublic double getGeneral() {\r\n    \t\treturn general;\r\n    \t}\r\n    \r\n    \tpublic void setGeneral(double general) {\r\n    \t\tthis.general = general;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;wcf&quot;, nullable = false)\r\n    \tpublic double getWcf() {\r\n    \t\treturn wcf;\r\n    \t}\r\n    \r\n    \tpublic void setWcf(double wcf) {\r\n    \t\tthis.wcf = wcf;\r\n    \t}\r\n    }\r\n\r\n\r\nMy configuration:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan(basePackages = &quot;a.b.c&quot;)\r\n    public class AppConfig {\r\n    \t\r\n    \t@Bean\r\n        public ViewResolver viewResolver() {\r\n            InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\r\n            viewResolver.setViewClass(JstlView.class);\r\n            viewResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n            viewResolver.setSuffix(&quot;.jsp&quot;);\r\n            return viewResolver;\r\n        }\r\n         \r\n        @Bean\r\n        public MessageSource messageSource() {\r\n            ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();\r\n            messageSource.setBasename(&quot;messages&quot;);\r\n            return messageSource;\r\n        }\r\n    \r\n    }\r\n\r\n    public class AppInitializer implements WebApplicationInitializer {\r\n     \r\n        public void onStartup(ServletContext container) throws ServletException {\r\n     \r\n            AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\r\n            ctx.register(AppConfig.class);\r\n            ctx.setServletContext(container);\r\n     \r\n            ServletRegistration.Dynamic servlet = container.addServlet(\r\n                    &quot;dispatcher&quot;, new DispatcherServlet(ctx));\r\n     \r\n            servlet.setLoadOnStartup(1);\r\n            servlet.addMapping(&quot;/&quot;);\r\n        }\r\n     \r\n    }\r\n\r\nhere is hibernate config:\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @ComponentScan({ &quot;a.b.c.configuration&quot; })\r\n    @PropertySource(value = { &quot;classpath:application.properties&quot; })\r\n    \r\n    public class HibernateConfiguration {\r\n    \t \r\n        @Autowired\r\n        private Environment environment;\r\n     \r\n        @Bean\r\n        public LocalSessionFactoryBean sessionFactory() {\r\n            LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\r\n            sessionFactory.setDataSource(dataSource());\r\n            sessionFactory.setPackagesToScan(new String[] { &quot;a.b.c.model&quot; });\r\n            sessionFactory.setHibernateProperties(hibernateProperties());\r\n            return sessionFactory;\r\n         }\r\n         \r\n        @Bean\r\n        public DataSource dataSource() {\r\n            DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n            dataSource.setDriverClassName(environment.getRequiredProperty(&quot;jdbc.driverClassName&quot;));\r\n            dataSource.setUrl(environment.getRequiredProperty(&quot;jdbc.url&quot;));\r\n            dataSource.setUsername(environment.getRequiredProperty(&quot;jdbc.username&quot;));\r\n            dataSource.setPassword(environment.getRequiredProperty(&quot;jdbc.password&quot;));\r\n            \r\n            return dataSource;\r\n        }\r\n         \r\n        private Properties hibernateProperties() {\r\n            Properties properties = new Properties();\r\n            properties.put(&quot;hibernate.dialect&quot;, environment.getRequiredProperty(&quot;hibernate.dialect&quot;));\r\n            properties.put(&quot;hibernate.show_sql&quot;, environment.getRequiredProperty(&quot;hibernate.show_sql&quot;));\r\n            properties.put(&quot;hibernate.format_sql&quot;, environment.getRequiredProperty(&quot;hibernate.format_sql&quot;));\r\n            return properties;        \r\n        }\r\n         \r\n        @Bean\r\n        @Autowired\r\n        public HibernateTransactionManager transactionManager(SessionFactory s) {\r\n           HibernateTransactionManager txManager = new HibernateTransactionManager();\r\n           txManager.setSessionFactory(s);\r\n           return txManager;\r\n        }\r\n    \r\n    }\r\n\r\nand properties:\r\n\r\n    #DB properties:\r\n    jdbc.driverClassName=com.mysql.jdbc.Driver\r\n    jdbc.url=jdbc:mysql://localhost:3306/ntq?autoReconnect=true\r\n    jdbc.username=account\r\n    jdbc.password=password\r\n    \r\n    #Hibernate Configuration:\r\n    hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\r\n    hibernate.show_sql=true\r\n    hibernate.format_sql=true\r\n    #entitymanager.packages.to.scan=com.javacodegeeks\r\n\r\nI&#39;m sorry if it is a duplicate question. I will mark it as duplicate as soon as I have a clue what causes the error. Thank you!","title":"Hibernate: Unknown table &#39; &#39; in field list even though the table definitely exists","body":"<p>I'm newbee, and I have a problem in hibernate. When I run and it throw an exception: </p>\n\n<blockquote>\n  <p>HTTP Status 500 - Request processing failed; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet</p>\n</blockquote>\n\n<p>Error at:</p>\n\n<blockquote>\n  <p>com.mysql.jdbc.exceptions.MySQLSyntaxErrorException: Unknown table\n  'dotnet0_' in field list</p>\n</blockquote>\n\n<p><br/>Here is my DB.</p>\n\n<pre><code>    CREATE TABLE `dotnet` (\n  `general` double DEFAULT NULL,\n  `c#` double DEFAULT NULL,\n  `vb` double DEFAULT NULL,\n  `asp` double DEFAULT NULL,\n  `entityFramework` double DEFAULT NULL,\n  `mvc` double DEFAULT NULL,\n  `aspNetWebApi` double DEFAULT NULL,\n  `ado` double DEFAULT NULL,\n  `wpf` double DEFAULT NULL,\n  `wcf` double DEFAULT NULL,\n  `nunit` double DEFAULT NULL,\n  `moq` double DEFAULT NULL,\n  `urf` double DEFAULT NULL,\n  `id` int(11) NOT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `id_UNIQUE` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n</code></pre>\n\n<p>Exception:</p>\n\n<pre><code>    org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:977)\n    org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:867)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:841)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nroot cause\norg.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:123)\n    org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\n    org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\n    org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112)\n    org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:91)\n    org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:449)\n    org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:202)\n    org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:137)\n    org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:102)\n    org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:186)\n    org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4126)\n    org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:503)\n    org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:468)\n    org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:213)\n    org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:275)\n    org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:151)\n    org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1070)\n    org.hibernate.internal.SessionImpl.access$2000(SessionImpl.java:176)\n    org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2551)\n    org.hibernate.internal.SessionImpl.get(SessionImpl.java:955)\n    a.b.c.dao.AbstractDAO.getByKey(AbstractDAO.java:29)\n    a.b.c.dao.DotNetDAOImpl.findById(DotNetDAOImpl.java:13)\n    a.b.c.dao.DotNetDAOImpl.findById(DotNetDAOImpl.java:1)\n    a.b.c.service.DotNetServiceImpl.save(DotNetServiceImpl.java:27)\n    a.b.c.service.DotNetServiceImpl.save(DotNetServiceImpl.java:1)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    java.lang.reflect.Method.invoke(Unknown Source)\n    org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\n    org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n    org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\n    org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\n    com.sun.proxy.$Proxy228.save(Unknown Source)\n    a.b.c.controller.HomeController.changeValue(HomeController.java:186)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    java.lang.reflect.Method.invoke(Unknown Source)\n    org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222)\n    org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)\n    org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)\n    org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:965)\n    org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:867)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:841)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nroot cause\ncom.mysql.jdbc.exceptions.MySQLSyntaxErrorException: Unknown table 'dotnet0_' in field list\n    com.mysql.jdbc.SQLError.createSQLException(SQLError.java:936)\n    com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2870)\n    com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1573)\n    com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1665)\n    com.mysql.jdbc.Connection.execSQL(Connection.java:3176)\n    com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1153)\n    com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1266)\n    org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:82)\n    org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.getResultSet(AbstractLoadPlanBasedLoader.java:449)\n    org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:202)\n    org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:137)\n    org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:102)\n    org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:186)\n    org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4126)\n    org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:503)\n    org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:468)\n    org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:213)\n    org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:275)\n    org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:151)\n    org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1070)\n    org.hibernate.internal.SessionImpl.access$2000(SessionImpl.java:176)\n    org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2551)\n    org.hibernate.internal.SessionImpl.get(SessionImpl.java:955)\n    a.b.c.dao.AbstractDAO.getByKey(AbstractDAO.java:29)\n    a.b.c.dao.DotNetDAOImpl.findById(DotNetDAOImpl.java:13)\n    a.b.c.dao.DotNetDAOImpl.findById(DotNetDAOImpl.java:1)\n    a.b.c.service.DotNetServiceImpl.save(DotNetServiceImpl.java:27)\n    a.b.c.service.DotNetServiceImpl.save(DotNetServiceImpl.java:1)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    java.lang.reflect.Method.invoke(Unknown Source)\n    org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\n    org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n    org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\n    org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\n    com.sun.proxy.$Proxy228.save(Unknown Source)\n    a.b.c.controller.HomeController.changeValue(HomeController.java:186)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    java.lang.reflect.Method.invoke(Unknown Source)\n    org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222)\n    org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)\n    org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)\n    org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:965)\n    org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:867)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:841)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n</code></pre>\n\n<p>My code here:</p>\n\n<pre><code>    @Entity\n@Table(name=\"dotnet\")\npublic class DotNet {\n    private double general;\n    private int id;\n\n    // Language\n    double cThang;\n    double vb;\n    double asp;\n\n    // Framework\n    private double entityFramework;\n    private double mvc;\n    private double aspNetWebAPI;\n    private double ado;\n    private double wpf;\n    private double wcf;\n    private double nunit;\n    private double moq;\n    private double urf;\n\n    public double[] toArray() {\n        double[] net = { general, cThang, vb, asp, entityFramework, mvc, aspNetWebAPI, ado, wpf, wcf, nunit, moq, urf };\n        return net;\n    }\n\n    @Column(name = \"entityframework\", nullable = false)\n    public double getEntityFramework() {\n        return entityFramework;\n    }\n\n    public void setEntityFramework(double entityFramework) {\n        this.entityFramework = entityFramework;\n    }\n\n    @Column(name = \"mvc\", nullable = false)\n    public double getMvc() {\n        return mvc;\n    }\n\n    public void setMvc(double mvc) {\n        this.mvc = mvc;\n    }\n\n    @Column(name = \"aspnetwebapi\", nullable = false)\n    public double getAspNetWebAPI() {\n        return aspNetWebAPI;\n    }\n\n    public void setAspNetWebAPI(double aspNetWebAPI) {\n        this.aspNetWebAPI = aspNetWebAPI;\n    }\n\n    @Column(name = \"ado\", nullable = false)\n    public double getAdo() {\n        return ado;\n    }\n\n    public void setAdo(double ado) {\n        this.ado = ado;\n    }\n\n    @Column(name = \"wpf\", nullable = false)\n    public double getWpf() {\n        return wpf;\n    }\n\n    public void setWpf(double wpf) {\n        this.wpf = wpf;\n    }\n\n    @Column(name = \"nunit\", nullable = false)\n    public double getNunit() {\n        return nunit;\n    }\n\n    public void setNunit(double nunit) {\n        this.nunit = nunit;\n    }\n\n    @Column(name = \"moq\", nullable = false)\n    public double getMoq() {\n        return moq;\n    }\n\n    public void setMoq(double moq) {\n        this.moq = moq;\n    }\n\n    @Column(name = \"URF\", nullable = false)\n    public double getUrf() {\n        return urf;\n    }\n\n    public void setUrf(double urf) {\n        this.urf = urf;\n    }\n\n    @Column(name = \"c#\", nullable = false)\n    public double getcThang() {\n        return cThang;\n    }\n\n    public void setcThang(double cThang) {\n        this.cThang = cThang;\n    }\n\n    @Column(name = \"vb\", nullable = false)\n    public double getVb() {\n        return vb;\n    }\n\n    public void setVb(double vb) {\n        this.vb = vb;\n    }\n\n    @Column(name = \"asp\", nullable = false)\n    public double getAsp() {\n        return asp;\n    }\n\n    public void setAsp(double asp) {\n        this.asp = asp;\n    }\n\n    @Id\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    @Column(name = \"general\", nullable = false)\n    public double getGeneral() {\n        return general;\n    }\n\n    public void setGeneral(double general) {\n        this.general = general;\n    }\n\n    @Column(name = \"wcf\", nullable = false)\n    public double getWcf() {\n        return wcf;\n    }\n\n    public void setWcf(double wcf) {\n        this.wcf = wcf;\n    }\n}\n</code></pre>\n\n<p>My configuration:</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\n@ComponentScan(basePackages = \"a.b.c\")\npublic class AppConfig {\n\n    @Bean\n    public ViewResolver viewResolver() {\n        InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\n        viewResolver.setViewClass(JstlView.class);\n        viewResolver.setPrefix(\"/WEB-INF/views/\");\n        viewResolver.setSuffix(\".jsp\");\n        return viewResolver;\n    }\n\n    @Bean\n    public MessageSource messageSource() {\n        ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();\n        messageSource.setBasename(\"messages\");\n        return messageSource;\n    }\n\n}\n\npublic class AppInitializer implements WebApplicationInitializer {\n\n    public void onStartup(ServletContext container) throws ServletException {\n\n        AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\n        ctx.register(AppConfig.class);\n        ctx.setServletContext(container);\n\n        ServletRegistration.Dynamic servlet = container.addServlet(\n                \"dispatcher\", new DispatcherServlet(ctx));\n\n        servlet.setLoadOnStartup(1);\n        servlet.addMapping(\"/\");\n    }\n\n}\n</code></pre>\n\n<p>here is hibernate config:</p>\n\n<pre><code>@Configuration\n@EnableTransactionManagement\n@ComponentScan({ \"a.b.c.configuration\" })\n@PropertySource(value = { \"classpath:application.properties\" })\n\npublic class HibernateConfiguration {\n\n    @Autowired\n    private Environment environment;\n\n    @Bean\n    public LocalSessionFactoryBean sessionFactory() {\n        LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\n        sessionFactory.setDataSource(dataSource());\n        sessionFactory.setPackagesToScan(new String[] { \"a.b.c.model\" });\n        sessionFactory.setHibernateProperties(hibernateProperties());\n        return sessionFactory;\n     }\n\n    @Bean\n    public DataSource dataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setDriverClassName(environment.getRequiredProperty(\"jdbc.driverClassName\"));\n        dataSource.setUrl(environment.getRequiredProperty(\"jdbc.url\"));\n        dataSource.setUsername(environment.getRequiredProperty(\"jdbc.username\"));\n        dataSource.setPassword(environment.getRequiredProperty(\"jdbc.password\"));\n\n        return dataSource;\n    }\n\n    private Properties hibernateProperties() {\n        Properties properties = new Properties();\n        properties.put(\"hibernate.dialect\", environment.getRequiredProperty(\"hibernate.dialect\"));\n        properties.put(\"hibernate.show_sql\", environment.getRequiredProperty(\"hibernate.show_sql\"));\n        properties.put(\"hibernate.format_sql\", environment.getRequiredProperty(\"hibernate.format_sql\"));\n        return properties;        \n    }\n\n    @Bean\n    @Autowired\n    public HibernateTransactionManager transactionManager(SessionFactory s) {\n       HibernateTransactionManager txManager = new HibernateTransactionManager();\n       txManager.setSessionFactory(s);\n       return txManager;\n    }\n\n}\n</code></pre>\n\n<p>and properties:</p>\n\n<pre><code>#DB properties:\njdbc.driverClassName=com.mysql.jdbc.Driver\njdbc.url=jdbc:mysql://localhost:3306/ntq?autoReconnect=true\njdbc.username=account\njdbc.password=password\n\n#Hibernate Configuration:\nhibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\nhibernate.show_sql=true\nhibernate.format_sql=true\n#entitymanager.packages.to.scan=com.javacodegeeks\n</code></pre>\n\n<p>I'm sorry if it is a duplicate question. I will mark it as duplicate as soon as I have a clue what causes the error. Thank you!</p>\n"},{"tags":["java","button","drop-down-menu","swt","controls"],"answers":[{"tags":[],"owner":{"account_id":1138236,"reputation":1134,"user_id":1122840,"accept_rate":75,"display_name":"Tobias Willig"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1366959214,"creation_date":1366462247,"answer_id":16120568,"question_id":16113313,"body_markdown":"This [snippet][1] shows how to use the described widget in a SWT toolbar. You can set the button text by using the `item.setText()` method.\r\n\r\n\r\n  [1]: http://git.eclipse.org/c/platform/eclipse.platform.swt.git/tree/examples/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet67.java","title":"SWT Button Dropdown Control","body":"<p>This <a href=\"http://git.eclipse.org/c/platform/eclipse.platform.swt.git/tree/examples/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet67.java\" rel=\"nofollow\">snippet</a> shows how to use the described widget in a SWT toolbar. You can set the button text by using the <code>item.setText()</code> method.</p>\n"},{"comments":[{"owner":{"account_id":2222816,"reputation":1545,"user_id":1961815,"accept_rate":75,"display_name":"Southpaw Hare"},"score":0,"creation_date":1366742201,"post_id":16176595,"comment_id":23122880,"body_markdown":"Unfortunately, I am actively trying to avoid using menu- or toolbar-based controls.  I am trying to use something that works normally on a composite.","body":"Unfortunately, I am actively trying to avoid using menu- or toolbar-based controls.  I am trying to use something that works normally on a composite."},{"owner":{"account_id":2222816,"reputation":1545,"user_id":1961815,"accept_rate":75,"display_name":"Southpaw Hare"},"score":0,"creation_date":1366742541,"post_id":16176595,"comment_id":23123043,"body_markdown":"I have tried &quot;ARROW | DOWN&quot; before, and it seems to be very lacking.  It is not compatible with neither text nor images, from what I can see.","body":"I have tried &quot;ARROW | DOWN&quot; before, and it seems to be very lacking.  It is not compatible with neither text nor images, from what I can see."},{"owner":{"account_id":1460245,"reputation":3085,"user_id":1374773,"display_name":"sambi reddy"},"score":0,"creation_date":1366742966,"post_id":16176595,"comment_id":23123273,"body_markdown":"How about creating your own composite with Label and Button (arrow , setimage )!! that doesnt work?","body":"How about creating your own composite with Label and Button (arrow , setimage )!! that doesnt work?"},{"owner":{"account_id":2222816,"reputation":1545,"user_id":1961815,"accept_rate":75,"display_name":"Southpaw Hare"},"score":0,"creation_date":1366749473,"post_id":16176595,"comment_id":23126621,"body_markdown":"Not that I know of.  Unless I am doing it a different way than you intended, such a construct looks nothing like a natural control.  If you believe it can be done, please post as a detailed answer with screenshots.","body":"Not that I know of.  Unless I am doing it a different way than you intended, such a construct looks nothing like a natural control.  If you believe it can be done, please post as a detailed answer with screenshots."}],"tags":[],"owner":{"account_id":1460245,"reputation":3085,"user_id":1374773,"display_name":"sambi reddy"},"comment_count":4,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1366754557,"creation_date":1366741752,"answer_id":16176595,"question_id":16113313,"body_markdown":"I think, this is what you should do get Drop down menu behavior\r\n\r\n1. Create `Menu` with style `SWT.DROP_DOWN`\r\n2. Create `MenuItems` on `Menu`\r\n\r\n\r\nif you want a button \r\n\r\n1. Create a Button with style `SWT.ARROW | SWT.DOWN`\r\n2. add `SelectionListener`\r\n3. In `SelectionListener`, Create a Menu with style `SWT.POP_UP` and position the menu at the button location.\r\n\r\n\r\n\r\n\r\n//code\r\n\r\n\r\n    public static void main(String[] args) {\r\n    \t    Display display = new Display();\r\n    \t    final Shell shell = new Shell(display);\r\n    \t    shell.setSize(300, 200);\r\n    \t    shell.setText(&quot;Button Example&quot;);\r\n    \t    shell.setLayout(new RowLayout());\r\n    \t    \r\n    \t    \r\n    \t    /**\r\n    \t     * \r\n    \t     * Approach1\r\n    \t     * \r\n    \t     */\r\n    \t    final Composite btnCntrl = new Composite(shell, SWT.BORDER);\r\n    \t    btnCntrl.setBackground(display.getSystemColor(SWT.COLOR_WHITE));\r\n    \t    btnCntrl.setBackgroundMode(SWT.INHERIT_FORCE);\r\n    \t    GridLayoutFactory.fillDefaults().numColumns(2).equalWidth(false).spacing(0, 1).applyTo(btnCntrl);\r\n    \t    CLabel lbl = new CLabel(btnCntrl, SWT.NONE);\r\n    \t    lbl.setText(&quot;Animals&quot;);\r\n    \t    Button btn = new Button(btnCntrl, SWT.FLAT|SWT.ARROW|SWT.DOWN);\r\n    \t    btn.setLayoutData(new GridData(GridData.FILL_VERTICAL));\r\n    \t    \r\n    \t    btn.addSelectionListener(new SelectionAdapter() {\r\n    \t    \t@Override\r\n    \t    \tpublic void widgetSelected(SelectionEvent e) {\r\n    \t    \t\tsuper.widgetSelected(e);\r\n    \t    \t\tMenu menu = new Menu(shell, SWT.POP_UP);\r\n    \t    \t\t\r\n    \t    \t\tMenuItem item1 = new MenuItem(menu, SWT.PUSH);\r\n    \t    \t\titem1.setText(&quot;Hare&quot;);\r\n    \t    \t\tMenuItem item2 = new MenuItem(menu, SWT.PUSH);\r\n    \t    \t\titem2.setText(&quot;Fox&quot;);\r\n    \t    \t\tMenuItem item3 = new MenuItem(menu, SWT.PUSH);\r\n    \t    \t\titem3.setText(&quot;Pony&quot;);\r\n    \t    \t\t\r\n    \t    \t\t\r\n    \t    \t\t\r\n    \t    \t\tPoint loc = btnCntrl.getLocation();\r\n    \t    \t\tRectangle rect = btnCntrl.getBounds();\r\n    \t    \t\t\r\n    \t    \t\tPoint mLoc = new Point(loc.x-1, loc.y+rect.height);\r\n    \t    \t\t\r\n    \t    \t\tmenu.setLocation(shell.getDisplay().map(btnCntrl.getParent(), null, mLoc));\r\n    \t    \t\t\r\n    \t    \t\tmenu.setVisible(true);\r\n    \t    \t}\r\n    \t\t});\r\n    \t    \r\n    \t    \r\n    \t    \r\n    \t    /***\r\n    \t     * \r\n    \t     * \r\n    \t     * Approach 2\r\n    \t     * \r\n    \t     */\r\n    \t    \r\n    \t    \r\n    \t    final Composite btnCntrl2 = new Composite(shell, SWT.BORDER);\r\n    \t    btnCntrl2.setBackground(display.getSystemColor(SWT.COLOR_WHITE));\r\n    \t    btnCntrl2.setBackgroundMode(SWT.INHERIT_FORCE);\r\n    \t    GridLayoutFactory.fillDefaults().numColumns(2).equalWidth(false).spacing(0, 1).applyTo(btnCntrl2);\r\n    \t    CLabel lbl2 = new CLabel(btnCntrl2, SWT.NONE);\r\n    \t    lbl2.setText(&quot;Animals&quot;);\r\n    \t    Button btn2 = new Button(btnCntrl2, SWT.FLAT|SWT.ARROW|SWT.DOWN);\r\n    \t    btn2.setLayoutData(new GridData(GridData.FILL_VERTICAL));\r\n    \t    \r\n    \t    btn2.addSelectionListener(new SelectionAdapter() {\r\n    \t    \t@Override\r\n    \t    \tpublic void widgetSelected(SelectionEvent e) {\r\n    \t    \t\tsuper.widgetSelected(e);\r\n    \t    \t\tShell menu = (Shell) btnCntrl2.getData(&quot;subshell&quot;);\r\n    \t    \t\tif(menu != null &amp;&amp; !menu.isDisposed()){\r\n    \t    \t\t\tmenu.dispose();\r\n    \t    \t\t}\r\n    \t    \t\tmenu = new Shell(shell, SWT.NONE);\r\n    \t    \t\tmenu.setLayout(new FillLayout());\r\n    \t    \t\tTable table = new Table(menu, SWT.FULL_SELECTION);\r\n    \t    \t\ttable.addListener(SWT.MeasureItem, new Listener() {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void handleEvent(Event event) {\r\n    \t\t\t\t\t\tevent.height = 20; //TODO: determine later\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t    \t\t\r\n    \t    \t\ttable.addListener(SWT.PaintItem, new Listener() {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void handleEvent(Event event) {\r\n    \t\t\t\t\t\tRectangle bounds = event.getBounds();\r\n    \t\t\t\t\t\tevent.gc.setBackground(event.display.getSystemColor(SWT.COLOR_BLUE));\r\n    \t\t\t\t\t\tevent.gc.drawLine(bounds.x, bounds.y+bounds.height-1, bounds.x+bounds.width, bounds.y+bounds.height-1);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t    \t\tTableItem tableItem= new TableItem(table, SWT.NONE);\r\n    \t\t\t\ttableItem.setText(0, &quot;Hare&quot;);\r\n    \t\t\t\t\r\n    \t    \t\tTableItem tableItem2= new TableItem(table, SWT.NONE);\r\n    \t\t\t\ttableItem2.setText(0, &quot;Pony&quot; );\r\n    \t\t\t\t\r\n    \t\t\t\tTableItem tableItem3= new TableItem(table, SWT.NONE);\r\n    \t\t\t\ttableItem3.setText(0, &quot;Dog&quot;);\r\n    \t\t\t\t\r\n    \t    \t\t\r\n    \t    \t\tPoint loc = btnCntrl2.getLocation();\r\n    \t    \t\tRectangle rect = btnCntrl2.getBounds();\r\n    \t    \t\t\r\n    \t    \t\tPoint mLoc = new Point(loc.x, loc.y+rect.height);\r\n    \t    \t\t\r\n    \t    \t\tmenu.setLocation(shell.getDisplay().map(btnCntrl2.getParent(), null, mLoc));\r\n    \t    \t\tmenu.pack();\r\n    \t    \t\tmenu.setVisible(true);\r\n    \t    \t\t\r\n    \t    \t\tbtnCntrl2.setData(&quot;subshell&quot;, menu);\r\n    \t    \t\t\r\n    \t    \t}\r\n    \t\t});\r\n    \t    \r\n    \t    display.addFilter(SWT.MouseDown, new Listener() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void handleEvent(Event event) {\r\n    \t\t\t\tShell shell = (Shell) btnCntrl2.getData(&quot;subshell&quot;);\r\n    \t\t\t\tif(shell != null &amp;&amp; !shell.getBounds().contains(event.display.map((Control)event.widget, null, new Point(event.x, event.y)))){\r\n    \t\t\t\t\tshell.dispose();\r\n    \t\t\t\t\tbtnCntrl2.setData(&quot;subshell&quot;, null);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t    \r\n    \t    shell.open();\r\n    \t    while (!shell.isDisposed()) {\r\n    \t      if (!display.readAndDispatch())\r\n    \t        display.sleep();\r\n    \t    }\r\n    \t    display.dispose();\r\n    \t  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"SWT Button Dropdown Control","body":"<p>I think, this is what you should do get Drop down menu behavior</p>\n\n<ol>\n<li>Create <code>Menu</code> with style <code>SWT.DROP_DOWN</code></li>\n<li>Create <code>MenuItems</code> on <code>Menu</code></li>\n</ol>\n\n<p>if you want a button </p>\n\n<ol>\n<li>Create a Button with style <code>SWT.ARROW | SWT.DOWN</code></li>\n<li>add <code>SelectionListener</code></li>\n<li>In <code>SelectionListener</code>, Create a Menu with style <code>SWT.POP_UP</code> and position the menu at the button location.</li>\n</ol>\n\n<p>//code</p>\n\n<pre><code>public static void main(String[] args) {\n        Display display = new Display();\n        final Shell shell = new Shell(display);\n        shell.setSize(300, 200);\n        shell.setText(\"Button Example\");\n        shell.setLayout(new RowLayout());\n\n\n        /**\n         * \n         * Approach1\n         * \n         */\n        final Composite btnCntrl = new Composite(shell, SWT.BORDER);\n        btnCntrl.setBackground(display.getSystemColor(SWT.COLOR_WHITE));\n        btnCntrl.setBackgroundMode(SWT.INHERIT_FORCE);\n        GridLayoutFactory.fillDefaults().numColumns(2).equalWidth(false).spacing(0, 1).applyTo(btnCntrl);\n        CLabel lbl = new CLabel(btnCntrl, SWT.NONE);\n        lbl.setText(\"Animals\");\n        Button btn = new Button(btnCntrl, SWT.FLAT|SWT.ARROW|SWT.DOWN);\n        btn.setLayoutData(new GridData(GridData.FILL_VERTICAL));\n\n        btn.addSelectionListener(new SelectionAdapter() {\n            @Override\n            public void widgetSelected(SelectionEvent e) {\n                super.widgetSelected(e);\n                Menu menu = new Menu(shell, SWT.POP_UP);\n\n                MenuItem item1 = new MenuItem(menu, SWT.PUSH);\n                item1.setText(\"Hare\");\n                MenuItem item2 = new MenuItem(menu, SWT.PUSH);\n                item2.setText(\"Fox\");\n                MenuItem item3 = new MenuItem(menu, SWT.PUSH);\n                item3.setText(\"Pony\");\n\n\n\n                Point loc = btnCntrl.getLocation();\n                Rectangle rect = btnCntrl.getBounds();\n\n                Point mLoc = new Point(loc.x-1, loc.y+rect.height);\n\n                menu.setLocation(shell.getDisplay().map(btnCntrl.getParent(), null, mLoc));\n\n                menu.setVisible(true);\n            }\n        });\n\n\n\n        /***\n         * \n         * \n         * Approach 2\n         * \n         */\n\n\n        final Composite btnCntrl2 = new Composite(shell, SWT.BORDER);\n        btnCntrl2.setBackground(display.getSystemColor(SWT.COLOR_WHITE));\n        btnCntrl2.setBackgroundMode(SWT.INHERIT_FORCE);\n        GridLayoutFactory.fillDefaults().numColumns(2).equalWidth(false).spacing(0, 1).applyTo(btnCntrl2);\n        CLabel lbl2 = new CLabel(btnCntrl2, SWT.NONE);\n        lbl2.setText(\"Animals\");\n        Button btn2 = new Button(btnCntrl2, SWT.FLAT|SWT.ARROW|SWT.DOWN);\n        btn2.setLayoutData(new GridData(GridData.FILL_VERTICAL));\n\n        btn2.addSelectionListener(new SelectionAdapter() {\n            @Override\n            public void widgetSelected(SelectionEvent e) {\n                super.widgetSelected(e);\n                Shell menu = (Shell) btnCntrl2.getData(\"subshell\");\n                if(menu != null &amp;&amp; !menu.isDisposed()){\n                    menu.dispose();\n                }\n                menu = new Shell(shell, SWT.NONE);\n                menu.setLayout(new FillLayout());\n                Table table = new Table(menu, SWT.FULL_SELECTION);\n                table.addListener(SWT.MeasureItem, new Listener() {\n\n                    @Override\n                    public void handleEvent(Event event) {\n                        event.height = 20; //TODO: determine later\n                    }\n                });\n\n                table.addListener(SWT.PaintItem, new Listener() {\n\n                    @Override\n                    public void handleEvent(Event event) {\n                        Rectangle bounds = event.getBounds();\n                        event.gc.setBackground(event.display.getSystemColor(SWT.COLOR_BLUE));\n                        event.gc.drawLine(bounds.x, bounds.y+bounds.height-1, bounds.x+bounds.width, bounds.y+bounds.height-1);\n                    }\n                });\n                TableItem tableItem= new TableItem(table, SWT.NONE);\n                tableItem.setText(0, \"Hare\");\n\n                TableItem tableItem2= new TableItem(table, SWT.NONE);\n                tableItem2.setText(0, \"Pony\" );\n\n                TableItem tableItem3= new TableItem(table, SWT.NONE);\n                tableItem3.setText(0, \"Dog\");\n\n\n                Point loc = btnCntrl2.getLocation();\n                Rectangle rect = btnCntrl2.getBounds();\n\n                Point mLoc = new Point(loc.x, loc.y+rect.height);\n\n                menu.setLocation(shell.getDisplay().map(btnCntrl2.getParent(), null, mLoc));\n                menu.pack();\n                menu.setVisible(true);\n\n                btnCntrl2.setData(\"subshell\", menu);\n\n            }\n        });\n\n        display.addFilter(SWT.MouseDown, new Listener() {\n\n            @Override\n            public void handleEvent(Event event) {\n                Shell shell = (Shell) btnCntrl2.getData(\"subshell\");\n                if(shell != null &amp;&amp; !shell.getBounds().contains(event.display.map((Control)event.widget, null, new Point(event.x, event.y)))){\n                    shell.dispose();\n                    btnCntrl2.setData(\"subshell\", null);\n                }\n            }\n        });\n\n        shell.open();\n        while (!shell.isDisposed()) {\n          if (!display.readAndDispatch())\n            display.sleep();\n        }\n        display.dispose();\n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1873009,"reputation":91,"user_id":1694840,"display_name":"Benjamin Wolff"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670602073,"creation_date":1670602073,"answer_id":74745563,"question_id":16113313,"body_markdown":"This question is almost 10 years old, but just in case someone is still looking for a solution (like I just did ;) ):\r\n\r\nI achieved a pretty close behaviour of your description using only a `Button` and a `Menu` using this approach: http://eclipseo.blogspot.com/2012/07/show-context-menu-programmatically.html\r\n\r\n```\r\nButton button = new Button(parent, SWT.PUSH);\r\nbutton.setText(&quot;Animals&quot;);\r\n\r\nMenu menu = new Menu(button);\r\nMenuItem item = new MenuItem(menu, SWT.PUSH);\r\nitem.setText(&quot;hare&quot;);\r\n\r\nmenu.addListener(SWT.Show, new Listener() {\r\n    @Override\r\n    public void handleEvent(Event event) {\r\n        menu.setVisible(true);\r\n    }\r\n});\r\n\r\nbutton.addSelectionListener(new SelectionAdapter() {\r\n    @Override\r\n    public void widgetSelected(SelectionEvent e) {\r\n        menu.notifyListeners(SWT.Show, null);\r\n    }\r\n});\r\n```\r\n\r\nThe result is that the menu is shown when you (left) click on the button.\r\n\r\nBonus: to achieve the expand icon at the end, you can add a unicode character for a down triangle in the button text like so:\r\n\r\n```\r\nbutton.setText(&quot;Animals \\u2BC6&quot;);\r\n```\r\n\r\nHTH,\r\nBen","title":"SWT Button Dropdown Control","body":"<p>This question is almost 10 years old, but just in case someone is still looking for a solution (like I just did ;) ):</p>\n<p>I achieved a pretty close behaviour of your description using only a <code>Button</code> and a <code>Menu</code> using this approach: <a href=\"http://eclipseo.blogspot.com/2012/07/show-context-menu-programmatically.html\" rel=\"nofollow noreferrer\">http://eclipseo.blogspot.com/2012/07/show-context-menu-programmatically.html</a></p>\n<pre><code>Button button = new Button(parent, SWT.PUSH);\nbutton.setText(&quot;Animals&quot;);\n\nMenu menu = new Menu(button);\nMenuItem item = new MenuItem(menu, SWT.PUSH);\nitem.setText(&quot;hare&quot;);\n\nmenu.addListener(SWT.Show, new Listener() {\n    @Override\n    public void handleEvent(Event event) {\n        menu.setVisible(true);\n    }\n});\n\nbutton.addSelectionListener(new SelectionAdapter() {\n    @Override\n    public void widgetSelected(SelectionEvent e) {\n        menu.notifyListeners(SWT.Show, null);\n    }\n});\n</code></pre>\n<p>The result is that the menu is shown when you (left) click on the button.</p>\n<p>Bonus: to achieve the expand icon at the end, you can add a unicode character for a down triangle in the button text like so:</p>\n<pre><code>button.setText(&quot;Animals \\u2BC6&quot;);\n</code></pre>\n<p>HTH,\nBen</p>\n"}],"owner":{"account_id":2222816,"reputation":1545,"user_id":1961815,"accept_rate":75,"display_name":"Southpaw Hare"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12050,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1670602073,"creation_date":1366404777,"question_id":16113313,"body_markdown":"Is there a **standard SWT control** that resembles a **button** which **displays an arrow** and **opens a dropdown menu** when pressed and is **not a toolbar-only control**?\r\n\r\nIt would be something like this:\r\n\r\n![enter image description here][1]\r\n\r\nIt is similar to a combo box control, except that the &quot;button&quot; area would act more similarly to an actual button - its text would not change based on your selection, it would appear depressed when clicked, and the items would be used for actions or navigational purposes instead of for selection.  It&#39;s also similar to a control available for toolbars, but I need to use it on a regular composite instead.\r\n\r\nThis is nearly doable simply by using regular button and popup-menu controls - however, I do not believe I can display the arrow next to the text on the button this way.  Anyway, since this kind of control seems fairly common, I assumed there would be a standard way to use these two things as one.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/jbN5f.png","title":"SWT Button Dropdown Control","body":"<p>Is there a <strong>standard SWT control</strong> that resembles a <strong>button</strong> which <strong>displays an arrow</strong> and <strong>opens a dropdown menu</strong> when pressed and is <strong>not a toolbar-only control</strong>?</p>\n\n<p>It would be something like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/jbN5f.png\" alt=\"enter image description here\"></p>\n\n<p>It is similar to a combo box control, except that the \"button\" area would act more similarly to an actual button - its text would not change based on your selection, it would appear depressed when clicked, and the items would be used for actions or navigational purposes instead of for selection.  It's also similar to a control available for toolbars, but I need to use it on a regular composite instead.</p>\n\n<p>This is nearly doable simply by using regular button and popup-menu controls - however, I do not believe I can display the arrow next to the text on the button this way.  Anyway, since this kind of control seems fairly common, I assumed there would be a standard way to use these two things as one.</p>\n"},{"tags":["java","jms","netty"],"comments":[{"owner":{"account_id":1800064,"reputation":4881,"user_id":1638626,"accept_rate":75,"display_name":"Florian"},"score":0,"creation_date":1670576441,"post_id":74733418,"comment_id":131910671,"body_markdown":"Yes, it&#39;s QPID JMS, javax.jms:javax.jms-api:jar:2.0.1 and org.apache.qpid:qpid-jms-client:jar:0.61.0.","body":"Yes, it&#39;s QPID JMS, javax.jms:javax.jms-api:jar:2.0.1 and org.apache.qpid:qpid-jms-client:jar:0.61.0."}],"answers":[{"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1670602107,"post_id":74744871,"comment_id":131918692,"body_markdown":"If this is the correct answer please mark it as such to make it clear for any other users who run into this same problem in the future. Thanks!","body":"If this is the correct answer please mark it as such to make it clear for any other users who run into this same problem in the future. Thanks!"}],"tags":[],"owner":{"account_id":1800064,"reputation":4881,"user_id":1638626,"accept_rate":75,"display_name":"Florian"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670598305,"creation_date":1670598305,"answer_id":74744871,"question_id":74733418,"body_markdown":"We could solve this issue. It was not caused by Netty or JMS at all. Our basis team replaced the garbage collector GC1 in our Virtual Machine with the alternative SerialGC.\r\n\r\nThat garbage collector is much slower in releasing unused memory, hence the stark increase in memory usage. At the same time, a suboptimal configuration caused it to allow memory allocations up to 100%. This left the application zero headroom to deal with recurring side tasks, such that these ran into out of memory situations.\r\n\r\nWe now forced the garbage collector algorithm by running the Java option `-XX:+UseSerialGC`.\r\n\r\nNetty and JMS appear in our Dynatrace chart so prominently because they happen to be the most memory-hungry processes. (Which is okay, because they deal with the main load of the app.) They also hold on to their memory until the messages are sent out, which may mean that their objects survive at least one random garbage collector inspection - hence the slightly misleading classification into the &quot;survivor&quot; space.","title":"What reserves and holds my Java memory when sending out AMQP events from my Spring Boot app?","body":"<p>We could solve this issue. It was not caused by Netty or JMS at all. Our basis team replaced the garbage collector GC1 in our Virtual Machine with the alternative SerialGC.</p>\n<p>That garbage collector is much slower in releasing unused memory, hence the stark increase in memory usage. At the same time, a suboptimal configuration caused it to allow memory allocations up to 100%. This left the application zero headroom to deal with recurring side tasks, such that these ran into out of memory situations.</p>\n<p>We now forced the garbage collector algorithm by running the Java option <code>-XX:+UseSerialGC</code>.</p>\n<p>Netty and JMS appear in our Dynatrace chart so prominently because they happen to be the most memory-hungry processes. (Which is okay, because they deal with the main load of the app.) They also hold on to their memory until the messages are sent out, which may mean that their objects survive at least one random garbage collector inspection - hence the slightly misleading classification into the &quot;survivor&quot; space.</p>\n"}],"owner":{"account_id":1800064,"reputation":4881,"user_id":1638626,"accept_rate":75,"display_name":"Florian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74744871,"answer_count":1,"score":0,"last_activity_date":1670602071,"creation_date":1670516972,"question_id":74733418,"body_markdown":"My Spring Boot application provides some features that perform an action and then send out AMQP events. One of these seems to suffer from a memory leak. Triggering it causes the app&#39;s memory consumption to rise and not come down for several hours.\r\n\r\nI am a bit clueless as to what reserves and holds this memory. My own threads look harmless enough. They do process data (sometimes inefficiently), but they simply pass it on from method to method, without storing it somewhere (object/static attributes).\r\n\r\nMy Dynatrace memory chart looks like this. The hierarchy shows that the leftmost side reserves and holds ~7 GB of main memory (survivor space).\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThere are several entries there that I cannot fathom. I am not aware of actively using Netty, yet it shows up here, so probably an indirect dependency from Spring or JMS. At the bottommost layer, I find things like ByteBufferUtils - does Netty buffer the events I am sending out? Above, I find ByteToMessageDecoder.channelRead - why &quot;read&quot; if I am in a sending process? Further up we find SslHandler.unwrap - SSL is okay, but why should SSL interaction store larger amounts of data?\r\n\r\nCan somebody help shed light on this? Maybe had a similar situation? Or ideas what next steps I could take to analyze this further?\r\n\r\nOur JMS client dependencies are:\r\n - javax.jms:javax.jms-api:jar:2.0.1\r\n - org.apache.qpid:qpid-jms-client:jar:0.61.0\r\n\r\n  [1]: https://i.stack.imgur.com/2hv1n.png","title":"What reserves and holds my Java memory when sending out AMQP events from my Spring Boot app?","body":"<p>My Spring Boot application provides some features that perform an action and then send out AMQP events. One of these seems to suffer from a memory leak. Triggering it causes the app's memory consumption to rise and not come down for several hours.</p>\n<p>I am a bit clueless as to what reserves and holds this memory. My own threads look harmless enough. They do process data (sometimes inefficiently), but they simply pass it on from method to method, without storing it somewhere (object/static attributes).</p>\n<p>My Dynatrace memory chart looks like this. The hierarchy shows that the leftmost side reserves and holds ~7 GB of main memory (survivor space).</p>\n<p><a href=\"https://i.stack.imgur.com/2hv1n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2hv1n.png\" alt=\"enter image description here\" /></a></p>\n<p>There are several entries there that I cannot fathom. I am not aware of actively using Netty, yet it shows up here, so probably an indirect dependency from Spring or JMS. At the bottommost layer, I find things like ByteBufferUtils - does Netty buffer the events I am sending out? Above, I find ByteToMessageDecoder.channelRead - why &quot;read&quot; if I am in a sending process? Further up we find SslHandler.unwrap - SSL is okay, but why should SSL interaction store larger amounts of data?</p>\n<p>Can somebody help shed light on this? Maybe had a similar situation? Or ideas what next steps I could take to analyze this further?</p>\n<p>Our JMS client dependencies are:</p>\n<ul>\n<li>javax.jms:javax.jms-api:jar:2.0.1</li>\n<li>org.apache.qpid:qpid-jms-client:jar:0.61.0</li>\n</ul>\n"},{"tags":["java","audio","java-audio"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670107509,"post_id":74670476,"comment_id":131797503,"body_markdown":"I probably use a scale filter in ffmpeg to scale the whole audio. Then I&#39;d use the same app to splice in the amplified version","body":"I probably use a scale filter in ffmpeg to scale the whole audio. Then I&#39;d use the same app to splice in the amplified version"},{"owner":{"account_id":27128518,"reputation":1,"user_id":20671092,"display_name":"smoovy"},"score":0,"creation_date":1670109783,"post_id":74670476,"comment_id":131797893,"body_markdown":"By ffmpeg are you referring to a program or a library? I installed their GitHub library onto my IDE, however some packages were not found and I couldn&#39;t find any example code to build onto.","body":"By ffmpeg are you referring to a program or a library? I installed their GitHub library onto my IDE, however some packages were not found and I couldn&#39;t find any example code to build onto."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670110849,"post_id":74670476,"comment_id":131798043,"body_markdown":"There&#39;s a Java wrapper as far as I can remember but if you find that problematic you can always use the real thing via `ProcessBuilder`","body":"There&#39;s a Java wrapper as far as I can remember but if you find that problematic you can always use the real thing via <code>ProcessBuilder</code>"},{"owner":{"account_id":27128518,"reputation":1,"user_id":20671092,"display_name":"smoovy"},"score":0,"creation_date":1670157663,"post_id":74670476,"comment_id":131804191,"body_markdown":"@g00se Thanks, will look into that. Yesterday I&#39;ve managed to get cutting a part of the WAV file. I&#39;ve previously found out how to join the two. I just need to get the amplitude part right at this point.","body":"@g00se Thanks, will look into that. Yesterday I&#39;ve managed to get cutting a part of the WAV file. I&#39;ve previously found out how to join the two. I just need to get the amplitude part right at this point."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670161084,"post_id":74670476,"comment_id":131805805,"body_markdown":"It&#39;s not inconceivable that you can configure the filter to just scale part of the file, such that you don&#39;t need to do any splicing","body":"It&#39;s not inconceivable that you can configure the filter to just scale part of the file, such that you don&#39;t need to do any splicing"},{"owner":{"account_id":27128518,"reputation":1,"user_id":20671092,"display_name":"smoovy"},"score":0,"creation_date":1670161476,"post_id":74670476,"comment_id":131805881,"body_markdown":"@g00se that&#39;s also true, I guess I can implement something like that as well. So far what I&#39;ve tried to change the amplitude in half is two covert the bytes into a double array, half the value of each double and then cast it back to a byte array. It had an output, but it basically worked like an audio limiter and then add a bunch of noise as well.","body":"@g00se that&#39;s also true, I guess I can implement something like that as well. So far what I&#39;ve tried to change the amplitude in half is two covert the bytes into a double array, half the value of each double and then cast it back to a byte array. It had an output, but it basically worked like an audio limiter and then add a bunch of noise as well."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670171281,"post_id":74670476,"comment_id":131808092,"body_markdown":"After a great deal of googling and experimentation, I came up with `ffmpeg -i a440.wav -af &quot;volume=0.1:enable=&#39;between(t,2,8)&#39;&quot; a2.wav` Scale the volume down by a factor of 10 in the time region between 2 and 8 seconds","body":"After a great deal of googling and experimentation, I came up with <code>ffmpeg -i a440.wav -af &quot;volume=0.1:enable=&#39;between(t,2,8)&#39;&quot; a2.wav</code> Scale the volume down by a factor of 10 in the time region between 2 and 8 seconds"},{"owner":{"account_id":27128518,"reputation":1,"user_id":20671092,"display_name":"smoovy"},"score":0,"creation_date":1670181703,"post_id":74670476,"comment_id":131810619,"body_markdown":"@g00se Do you do this in the command line or is it that in another programming language? I don&#39;t recognize that syntax","body":"@g00se Do you do this in the command line or is it that in another programming language? I don&#39;t recognize that syntax"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670186153,"post_id":74670476,"comment_id":131811590,"body_markdown":"Command line, yes","body":"Command line, yes"},{"owner":{"account_id":27128518,"reputation":1,"user_id":20671092,"display_name":"smoovy"},"score":0,"creation_date":1670276047,"post_id":74670476,"comment_id":131834714,"body_markdown":"@g00se I took a look around it, it looks like it&#39;s quite an exhaustive library, just not sure how to use it. Hopefully I can figure it out, might take a bit of browsing through it.","body":"@g00se I took a look around it, it looks like it&#39;s quite an exhaustive library, just not sure how to use it. Hopefully I can figure it out, might take a bit of browsing through it."}],"answers":[{"tags":[],"owner":{"account_id":27128518,"reputation":1,"user_id":20671092,"display_name":"smoovy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670602049,"creation_date":1670548938,"answer_id":74737992,"question_id":74670476,"body_markdown":"**Cut the wave file:**\r\n\r\n    double [] music = read(&quot;music.wav&quot;);\r\n    \r\n    int start = 792478*2;\r\n    int end = 1118153*2;\r\n    \r\n    double [] cutMusic = new double [end-start];\r\n    \r\n    for(int i = start; i &lt; end; i++)\r\n    {\r\n        cutMusic [i-start] = music[i];\r\n    }\r\n    \r\n    save(&quot;cutMusic.wav&quot;, cutMusic); //from StdAudio library\r\n\r\n**Change the volume/amplitude:**\r\n\r\n    int multiplier = 0.5; //how much you want to change the volume by\r\n\r\n    for(int i = 0; i &lt; cutMusic.length;i++)\r\n    {\r\n        cutMusic[i] = multiplier * cutMusic[i];\r\n    }\r\n\r\n**Save the audio to a new wav file:**\r\n\r\n    save(&quot;cutmusic.wav&quot;), cutMusic); //from the StdAudio library\r\n    //converts the double array to a byte array\r\n\r\n**Join the two files:**\r\n\r\n    ArrayList &lt;File&gt; joined = new ArrayList&lt;&gt;();\r\n    \r\n    joined.add(new File(&quot;music.wav&quot;));\r\n    joined.add(new File(&quot;cutMusic.wav&quot;));\r\n\r\n    AudioFormat format = new AudioFormat(\r\n    \r\n                    /*AudioFormat.Encoding*/AudioFormat.Encoding.PCM_SIGNED\r\n                    /*float sampleRate*/, sampleRate\r\n                    /*int sampleSizeInBits*/, 16\r\n                    /*int channels*/, 2\r\n                    /*int frameSize*/, 4\r\n                    /*float frameRate*/, 44100,\r\n                    /*boolean bigEndian*/false\r\n\r\n    joinAudioFiles(format, joined, new File(&quot;joined.wav&quot;)); \r\n    //method needed is below\r\n\r\n    public static void joinAudioFiles(AudioFormat audioFormat,\r\n                                          java.util.List&lt;File&gt; audioFiles, File output) throws IOException,\r\n                UnsupportedAudioFileException {\r\n            output.getParentFile().mkdirs();\r\n            output.delete();\r\n            output.createNewFile();\r\n    \r\n            List&lt;AudioInputStream&gt; audioInputStreams = new ArrayList&lt;AudioInputStream&gt;();\r\n            long totalFrameLength = 0;\r\n            for (File audioFile : audioFiles) {\r\n                AudioInputStream fileAudioInputStream = AudioSystem\r\n                        .getAudioInputStream(audioFile);\r\n                audioInputStreams.add(fileAudioInputStream);\r\n                totalFrameLength += fileAudioInputStream.getFrameLength();\r\n            }\r\n    \r\n            AudioInputStream sequenceInputStream = new AudioInputStream(\r\n                    new SequenceInputStream(\r\n                            Collections.enumeration(audioInputStreams)),\r\n                    audioFormat, totalFrameLength);\r\n            AudioSystem.write(sequenceInputStream, AudioFileFormat.Type.WAVE,\r\n                    output);\r\n        }","title":"How do I take a WAV recording and change the amplitude of a part of it in Java?","body":"<p><strong>Cut the wave file:</strong></p>\n<pre><code>double [] music = read(&quot;music.wav&quot;);\n\nint start = 792478*2;\nint end = 1118153*2;\n\ndouble [] cutMusic = new double [end-start];\n\nfor(int i = start; i &lt; end; i++)\n{\n    cutMusic [i-start] = music[i];\n}\n\nsave(&quot;cutMusic.wav&quot;, cutMusic); //from StdAudio library\n</code></pre>\n<p><strong>Change the volume/amplitude:</strong></p>\n<pre><code>int multiplier = 0.5; //how much you want to change the volume by\n\nfor(int i = 0; i &lt; cutMusic.length;i++)\n{\n    cutMusic[i] = multiplier * cutMusic[i];\n}\n</code></pre>\n<p><strong>Save the audio to a new wav file:</strong></p>\n<pre><code>save(&quot;cutmusic.wav&quot;), cutMusic); //from the StdAudio library\n//converts the double array to a byte array\n</code></pre>\n<p><strong>Join the two files:</strong></p>\n<pre><code>ArrayList &lt;File&gt; joined = new ArrayList&lt;&gt;();\n\njoined.add(new File(&quot;music.wav&quot;));\njoined.add(new File(&quot;cutMusic.wav&quot;));\n\nAudioFormat format = new AudioFormat(\n\n                /*AudioFormat.Encoding*/AudioFormat.Encoding.PCM_SIGNED\n                /*float sampleRate*/, sampleRate\n                /*int sampleSizeInBits*/, 16\n                /*int channels*/, 2\n                /*int frameSize*/, 4\n                /*float frameRate*/, 44100,\n                /*boolean bigEndian*/false\n\njoinAudioFiles(format, joined, new File(&quot;joined.wav&quot;)); \n//method needed is below\n\npublic static void joinAudioFiles(AudioFormat audioFormat,\n                                      java.util.List&lt;File&gt; audioFiles, File output) throws IOException,\n            UnsupportedAudioFileException {\n        output.getParentFile().mkdirs();\n        output.delete();\n        output.createNewFile();\n\n        List&lt;AudioInputStream&gt; audioInputStreams = new ArrayList&lt;AudioInputStream&gt;();\n        long totalFrameLength = 0;\n        for (File audioFile : audioFiles) {\n            AudioInputStream fileAudioInputStream = AudioSystem\n                    .getAudioInputStream(audioFile);\n            audioInputStreams.add(fileAudioInputStream);\n            totalFrameLength += fileAudioInputStream.getFrameLength();\n        }\n\n        AudioInputStream sequenceInputStream = new AudioInputStream(\n                new SequenceInputStream(\n                        Collections.enumeration(audioInputStreams)),\n                audioFormat, totalFrameLength);\n        AudioSystem.write(sequenceInputStream, AudioFileFormat.Type.WAVE,\n                output);\n    }\n</code></pre>\n"}],"owner":{"account_id":27128518,"reputation":1,"user_id":20671092,"display_name":"smoovy"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74737992,"answer_count":1,"score":-1,"last_activity_date":1670602049,"creation_date":1670099591,"question_id":74670476,"body_markdown":"Imagine having a recording of something saying &quot;Hi there&quot;\r\n\r\nI&#39;d like to chop/slice the WAV file between &quot;Hi&quot; and &quot;there&quot;\r\n\r\nAt this point, the &quot;Hi&quot; would be on one WAV file and the &quot;there&quot; on another wav file .e.g\r\n\r\nhi.wav\r\nthere.wav\r\n\r\nFrom there, I&#39;d like to change the volume/amplitude of the &quot;there.wav&quot; file.\r\n\r\nLastly, I&#39;d like to merge the two wave files into:\r\n\r\nhi_there.wav\r\n\r\nThink of this as an audio editor, once finishing editing the audio, you would be able to save the edited audio as a brand new audio clip.","title":"How do I take a WAV recording and change the amplitude of a part of it in Java?","body":"<p>Imagine having a recording of something saying &quot;Hi there&quot;</p>\n<p>I'd like to chop/slice the WAV file between &quot;Hi&quot; and &quot;there&quot;</p>\n<p>At this point, the &quot;Hi&quot; would be on one WAV file and the &quot;there&quot; on another wav file .e.g</p>\n<p>hi.wav\nthere.wav</p>\n<p>From there, I'd like to change the volume/amplitude of the &quot;there.wav&quot; file.</p>\n<p>Lastly, I'd like to merge the two wave files into:</p>\n<p>hi_there.wav</p>\n<p>Think of this as an audio editor, once finishing editing the audio, you would be able to save the edited audio as a brand new audio clip.</p>\n"},{"tags":["java","validation","while-loop","directory","path"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1670600489,"post_id":74745237,"comment_id":131918172,"body_markdown":"You must at least recompute `exists` after reading a new line...","body":"You must at least recompute <code>exists</code> after reading a new line..."}],"answers":[{"comments":[{"owner":{"account_id":25506120,"reputation":13,"user_id":19298558,"display_name":"Lian"},"score":0,"creation_date":1670612654,"post_id":74745520,"comment_id":131921775,"body_markdown":"I knew that something was wrong with the boolean variable. Thank you very much!","body":"I knew that something was wrong with the boolean variable. Thank you very much!"}],"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670601865,"creation_date":1670601865,"answer_id":74745520,"question_id":74745237,"body_markdown":"use `do while loop`, do at least once, then while check exit do while loop or contine do next loop.\r\n\r\n\r\n    import java.util.Scanner;\r\n    import java.io.File;\r\n    public class JavaProject {\r\n        public static void main(String[] args){\r\n            boolean isExistingDir = false;\r\n       do {\r\n           System.out.println(&quot;Give me the path of the folder&quot;);\r\n           Scanner input = new Scanner(System.in);\r\n           String dirName = input.nextLine();\r\n           System.out.println(&quot;&gt;&gt;&quot; + dirName);\r\n           File f =new File(dirName);\r\n           if (f.exists()==true) {\r\n               isExistingDir=true;\r\n               System.out.println(&quot;EXISTING &gt;&gt;&quot; + dirName);\r\n           } else {\r\n               System.out.println(&quot;NOT EXISTING &gt;&gt;&quot; + dirName);\r\n               System.out.println(&quot;PLEASE INPUT A EXISTING AGAIN&quot;);\r\n           }\r\n          } while (!isExistingDir);\r\n       } //main\r\n    }\r\n\r\n","title":"Ckecking if a folder from the input exists and asking to type again in java","body":"<p>use <code>do while loop</code>, do at least once, then while check exit do while loop or contine do next loop.</p>\n<pre><code>import java.util.Scanner;\nimport java.io.File;\npublic class JavaProject {\n    public static void main(String[] args){\n        boolean isExistingDir = false;\n   do {\n       System.out.println(&quot;Give me the path of the folder&quot;);\n       Scanner input = new Scanner(System.in);\n       String dirName = input.nextLine();\n       System.out.println(&quot;&gt;&gt;&quot; + dirName);\n       File f =new File(dirName);\n       if (f.exists()==true) {\n           isExistingDir=true;\n           System.out.println(&quot;EXISTING &gt;&gt;&quot; + dirName);\n       } else {\n           System.out.println(&quot;NOT EXISTING &gt;&gt;&quot; + dirName);\n           System.out.println(&quot;PLEASE INPUT A EXISTING AGAIN&quot;);\n       }\n      } while (!isExistingDir);\n   } //main\n}\n</code></pre>\n"}],"owner":{"account_id":25506120,"reputation":13,"user_id":19298558,"display_name":"Lian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74745520,"answer_count":1,"score":0,"last_activity_date":1670601865,"creation_date":1670600288,"question_id":74745237,"body_markdown":"I am trying to read a folder path from the user and check if exists or not.If it does not exist I want to ask from the user to type the path again using a while loop .The problem is that even if the user types a correct path my program asks to type again .I am preety sure that the solution is easy and that the problem is in the loop but I can not see it. Please help me because I am a new programmer in Java.\r\n\r\n\r\n\r\n\r\n```\r\n\r\npublic class JavaProject {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        \r\n        \r\n        //Taking the name of the folder from the user\r\n        System.out.println(&quot;Give me the path of the folder&quot;);\r\n        Scanner fold =new Scanner(System.in);\r\n        String folderName= fold.nextLine();\r\n        File f= new File(folderName);\r\n        \r\n        //Check if the file exists\r\n        \r\n        \r\n        boolean exists = f.exists();\r\n        boolean folderIsValid=true;\r\n        \r\n        while(folderIsValid){\r\n         \r\n         \r\n         if(!exists){\r\n            \r\n            \r\n            System.out.println(&quot;The folder you are searching does not exist :&quot; +exists);\r\n            System.out.println(&quot;Try again!&quot;);\r\n            folderName= fold.nextLine();\r\n            \r\n            \r\n         }else{\r\n            System.out.println(&quot;The folder you are searching exists :&quot; +exists);\r\n            folderIsValid=false;\r\n         }  \r\n            \r\n        }\r\n  }   \r\n}\r\n```\r\n\r\n","title":"Ckecking if a folder from the input exists and asking to type again in java","body":"<p>I am trying to read a folder path from the user and check if exists or not.If it does not exist I want to ask from the user to type the path again using a while loop .The problem is that even if the user types a correct path my program asks to type again .I am preety sure that the solution is easy and that the problem is in the loop but I can not see it. Please help me because I am a new programmer in Java.</p>\n<pre><code>\npublic class JavaProject {\n\n    public static void main(String[] args) throws IOException {\n        \n        \n        //Taking the name of the folder from the user\n        System.out.println(&quot;Give me the path of the folder&quot;);\n        Scanner fold =new Scanner(System.in);\n        String folderName= fold.nextLine();\n        File f= new File(folderName);\n        \n        //Check if the file exists\n        \n        \n        boolean exists = f.exists();\n        boolean folderIsValid=true;\n        \n        while(folderIsValid){\n         \n         \n         if(!exists){\n            \n            \n            System.out.println(&quot;The folder you are searching does not exist :&quot; +exists);\n            System.out.println(&quot;Try again!&quot;);\n            folderName= fold.nextLine();\n            \n            \n         }else{\n            System.out.println(&quot;The folder you are searching exists :&quot; +exists);\n            folderIsValid=false;\n         }  \n            \n        }\n  }   \n}\n</code></pre>\n"},{"tags":["java","kotlin","jackson"],"answers":[{"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670289064,"creation_date":1670289064,"answer_id":74696173,"question_id":74691842,"body_markdown":"`readerForUpdating(obj)` only promises to use the root object you pass\r\n\r\n&gt; Deserialization occurs normally except that the root-level value in JSON is not used for instantiating a new object; instead give updateable object is used as root\r\n\r\nwhereas `fieldTypeA.valueA` is an inner object.\r\n\r\nIt works on a shallow object:\r\n```\r\nval existingModel = FieldTypeA(valueA = &quot;A&quot;)\r\nprintln(existingModel)\r\nval readerForUpdating: ObjectReader = MAPPER.readerForUpdating(existingModel)\r\nval jsonRequest = &quot;{\\&quot;valueB\\&quot;:\\&quot;I am value B\\&quot;}&quot;\r\nval updatedRequest: FieldTypeA = readerForUpdating.readValue(jsonRequest)\r\nprintln(updatedRequest)\r\n```\r\nproduces\r\n```\r\nFieldTypeA(valueA=A, valueB=null)\r\nFieldTypeA(valueA=A, valueB=I am value B)\r\n```\r\n\r\nIt&#39;s hard to see how you could develop a feature like `readerForUpdating()` which would know which fields to adjust in a deep object graph.  If the incoming object&#39;s object&#39;s field had a value, should that indicate an overwrite? but not if they come as nulls?\r\n\r\nIf I had to do this way myself, I might approach it this way:\r\n\r\n1. read the incoming JSON into a traditional JSONObject then walk the keys and set the properties on the target object\r\n2. For setting properties you could use old school [Apache Commons BeanUtils][1] tool, but I am not sure that that is maintained and it has had some vulnerabilities issues, so you could look at [Spring&#39;s BeanWrapperImpl][2]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-beanutils/javadocs/v1.9.4/apidocs/index.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/BeanWrapperImpl.html","title":"How to stop Jackson ObjectReader overwriting existing data","body":"<p><code>readerForUpdating(obj)</code> only promises to use the root object you pass</p>\n<blockquote>\n<p>Deserialization occurs normally except that the root-level value in JSON is not used for instantiating a new object; instead give updateable object is used as root</p>\n</blockquote>\n<p>whereas <code>fieldTypeA.valueA</code> is an inner object.</p>\n<p>It works on a shallow object:</p>\n<pre><code>val existingModel = FieldTypeA(valueA = &quot;A&quot;)\nprintln(existingModel)\nval readerForUpdating: ObjectReader = MAPPER.readerForUpdating(existingModel)\nval jsonRequest = &quot;{\\&quot;valueB\\&quot;:\\&quot;I am value B\\&quot;}&quot;\nval updatedRequest: FieldTypeA = readerForUpdating.readValue(jsonRequest)\nprintln(updatedRequest)\n</code></pre>\n<p>produces</p>\n<pre><code>FieldTypeA(valueA=A, valueB=null)\nFieldTypeA(valueA=A, valueB=I am value B)\n</code></pre>\n<p>It's hard to see how you could develop a feature like <code>readerForUpdating()</code> which would know which fields to adjust in a deep object graph.  If the incoming object's object's field had a value, should that indicate an overwrite? but not if they come as nulls?</p>\n<p>If I had to do this way myself, I might approach it this way:</p>\n<ol>\n<li>read the incoming JSON into a traditional JSONObject then walk the keys and set the properties on the target object</li>\n<li>For setting properties you could use old school <a href=\"https://commons.apache.org/proper/commons-beanutils/javadocs/v1.9.4/apidocs/index.html\" rel=\"nofollow noreferrer\">Apache Commons BeanUtils</a> tool, but I am not sure that that is maintained and it has had some vulnerabilities issues, so you could look at <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/BeanWrapperImpl.html\" rel=\"nofollow noreferrer\">Spring's BeanWrapperImpl</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1064665,"reputation":1633,"user_id":1065547,"accept_rate":54,"display_name":"maloney"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670601862,"creation_date":1670601862,"answer_id":74745518,"question_id":74691842,"body_markdown":"I&#39;ve fixed my own problem in the following way, in case it helps someone in the future.\r\n\r\nThere was a new feature introduced in [Jackson 2.9][1] which allows deep merging. To do this, the relevant property needs to be tagged with `@JsonMerge`.\r\n\r\nSo in my example question above, the `Model` object would be changed like this: \r\n\r\n    import com.fasterxml.jackson.annotation.JsonMerge\r\n\r\n    data class Model(\r\n      @JsonMerge\r\n      val fieldTypeA: FieldTypeA? = null,\r\n    )\r\n\r\nThis means if the original object contains a field with a value, it does not get overwritten to `null` when the new json comes in.\r\n\r\n\r\n  [1]: https://www.logicbig.com/tutorials/misc/jackson/json-merge-annotation.html","title":"How to stop Jackson ObjectReader overwriting existing data","body":"<p>I've fixed my own problem in the following way, in case it helps someone in the future.</p>\n<p>There was a new feature introduced in <a href=\"https://www.logicbig.com/tutorials/misc/jackson/json-merge-annotation.html\" rel=\"nofollow noreferrer\">Jackson 2.9</a> which allows deep merging. To do this, the relevant property needs to be tagged with <code>@JsonMerge</code>.</p>\n<p>So in my example question above, the <code>Model</code> object would be changed like this:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonMerge\n\ndata class Model(\n  @JsonMerge\n  val fieldTypeA: FieldTypeA? = null,\n)\n</code></pre>\n<p>This means if the original object contains a field with a value, it does not get overwritten to <code>null</code> when the new json comes in.</p>\n"}],"owner":{"account_id":1064665,"reputation":1633,"user_id":1065547,"accept_rate":54,"display_name":"maloney"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74745518,"answer_count":2,"score":0,"last_activity_date":1670601862,"creation_date":1670259937,"question_id":74691842,"body_markdown":"We have a Jackson ObjectReader that is overwriting any original data if it is missing from the json update request. \r\n\r\nThis is what the data structure looks like:\r\n\r\n    data class Model(\r\n      val fieldTypeA: FieldTypeA? = null,\r\n    )\r\n\r\n    data class FieldTypeA(\r\n      val valueA: String? = null,\r\n      val valueB: String? = null,\r\n    )\r\n\r\nWe then read an existing value from a database so that `fieldTypeA.valueA = &quot;Test&quot;`\r\n\r\n    val existingModel = repository.findById(id).getOrNull()\r\n\r\nThen this line reads the existing data into an ObjectReader:\r\n\r\n    val readerForUpdating: ObjectReader = CustomMapper.readerForUpdating(existingEntity)\r\n\r\nThis is where the problem occurs. The `readValue` overwrites the `fieldTypeA.valueA` after this line is executed with a `jsonRequest`: \r\n\r\n    val updatedRequest: Model = readerForUpdating.readValue(jsonRequest)\r\n\r\n`jsonRequest`:\r\n\r\n    {&quot;fieldTypeA&quot;:{&quot;valueB&quot;:&quot;I am value B&quot;}}\r\n\r\nThe `existingEntity` object now only contains `fieldTypeA.valueB`, with `fieldTypeA.valueA` getting overwritten with `null`. \r\n\r\nIs there a way to tell Jackson not to overwrite when a value is missing from the JSON?\r\n","title":"How to stop Jackson ObjectReader overwriting existing data","body":"<p>We have a Jackson ObjectReader that is overwriting any original data if it is missing from the json update request.</p>\n<p>This is what the data structure looks like:</p>\n<pre><code>data class Model(\n  val fieldTypeA: FieldTypeA? = null,\n)\n\ndata class FieldTypeA(\n  val valueA: String? = null,\n  val valueB: String? = null,\n)\n</code></pre>\n<p>We then read an existing value from a database so that <code>fieldTypeA.valueA = &quot;Test&quot;</code></p>\n<pre><code>val existingModel = repository.findById(id).getOrNull()\n</code></pre>\n<p>Then this line reads the existing data into an ObjectReader:</p>\n<pre><code>val readerForUpdating: ObjectReader = CustomMapper.readerForUpdating(existingEntity)\n</code></pre>\n<p>This is where the problem occurs. The <code>readValue</code> overwrites the <code>fieldTypeA.valueA</code> after this line is executed with a <code>jsonRequest</code>:</p>\n<pre><code>val updatedRequest: Model = readerForUpdating.readValue(jsonRequest)\n</code></pre>\n<p><code>jsonRequest</code>:</p>\n<pre><code>{&quot;fieldTypeA&quot;:{&quot;valueB&quot;:&quot;I am value B&quot;}}\n</code></pre>\n<p>The <code>existingEntity</code> object now only contains <code>fieldTypeA.valueB</code>, with <code>fieldTypeA.valueA</code> getting overwritten with <code>null</code>.</p>\n<p>Is there a way to tell Jackson not to overwrite when a value is missing from the JSON?</p>\n"},{"tags":["java","jboss","wildfly","quarkus","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1670519241,"post_id":74731136,"comment_id":131898782,"body_markdown":"Can you check the consumer-count of the `prices` queue once you create your consumer? Also, can you check the message-count after you send the message?","body":"Can you check the consumer-count of the <code>prices</code> queue once you create your consumer? Also, can you check the message-count after you send the message?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1670520045,"post_id":74731136,"comment_id":131899044,"body_markdown":"Have you tried adding `?httpUpgradeEnabled=true` to the URL configured in Quarkus&#39; `application.properties`?","body":"Have you tried adding <code>?httpUpgradeEnabled=true</code> to the URL configured in Quarkus&#39; <code>application.properties</code>?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1670520115,"post_id":74731136,"comment_id":131899071,"body_markdown":"Why do you suspect the problem is with the user and not something else?","body":"Why do you suspect the problem is with the user and not something else?"},{"owner":{"account_id":27181605,"reputation":3,"user_id":20716778,"display_name":"Benny Dict"},"score":0,"creation_date":1670582603,"post_id":74731136,"comment_id":131912521,"body_markdown":"@JustinBertram Hi, i&#39;ve updated my question with answers to your questions.","body":"@JustinBertram Hi, i&#39;ve updated my question with answers to your questions."}],"owner":{"account_id":27181605,"reputation":3,"user_id":20716778,"display_name":"Benny Dict"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":447,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670601815,"creation_date":1670506763,"question_id":74731136,"body_markdown":"I have a WildFly application with an embedded ActiveMQ Artemis and I can&#39;t seem to figure how to debug it. It seems to connect fine since I&#39;m getting no errors in the log, but I&#39;m unable to read any queues. There is no error but nothing is happening.\r\n\r\nI&#39;m running the Quarkus JMS client 1.03 which is using org.apache.activemq &#187; artemis-jms-client 2.19. The server is running WildFly 26.1 with the embedded ActiveMQ Artemis server 2.19.1 so the client and server should be compatible. However, I&#39;m not sure if I&#39;ve configured it correctly. I&#39;m using the `standalone-full.xml`.\r\n\r\nFor testing I&#39;ve added a user `test1`:\r\n```bash\r\nbash-4.4$ ./add-user.sh\r\n\r\nWhat type of user do you wish to add?\r\n a) Management User (mgmt-users.properties)\r\n b) Application User (application-users.properties)\r\n(a): b\r\n\r\nEnter the details of the new user to add.\r\nUsing realm &#39;ApplicationRealm&#39; as discovered from the existing property files.\r\nUsername : test1\r\nPassword recommendations are listed below. To modify these restrictions edit the add-user.properties configuration file.\r\n - The password should be different from the username\r\n - The password should not be one of the following restricted values {root, admin, administrator}\r\n - The password should contain at least 8 characters, 1 alphabetic character(s), 1 digit(s), 1 non-alphanumeric symbol(s)\r\nPassword :\r\nWFLYDM0098: The password should be different from the username\r\nAre you sure you want to use the password entered yes/no? yes\r\nRe-enter Password :\r\nWhat groups do you want this user to belong to? (Please enter a comma separated list, or leave blank for none)[  ]: guest\r\nAbout to add user &#39;test1&#39; for realm &#39;ApplicationRealm&#39;\r\nIs this correct yes/no? yes\r\nIs this new user going to be used for one AS process to connect to another AS process?\r\ne.g. for a slave host controller connecting to the master or for a Remoting connection for server to server Jakarta Enterprise Beans calls.\r\nyes/no? yes\r\nTo represent the user add the following to the server-identities definition &lt;secret value=&quot;dGVzdDE=&quot; /&gt;\r\n```\r\nThis is the log for creating that user. In my `standalone-full.xml` I have the role guest for ActiveMQ Artemis and the queue `prices` set up:\r\n```xml\r\n&lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:13.1&quot;&gt;\r\n    &lt;server name=&quot;default&quot;&gt;\r\n        ...\r\n        &lt;security-setting name=&quot;#&quot;&gt;\r\n            &lt;role name=&quot;guest&quot; send=&quot;true&quot; consume=&quot;true&quot; create-non-durable-queue=&quot;true&quot; delete-non-durable-queue=&quot;true&quot;/&gt;\r\n        &lt;/security-setting&gt;\r\n        ...\r\n        &lt;address-setting name=&quot;jms.queue.prices&quot; expiry-address=&quot;jms.queue.ExpiryQueue&quot; redelivery-delay=&quot;1000&quot; max-delivery-attempts=&quot;0&quot;/&gt;\r\n        ...\r\n        &lt;jms-queue name=&quot;prices&quot; entries=&quot;java:/jms/queue/prices&quot; durable=&quot;true&quot;/&gt;\r\n        ...\r\n    &lt;/server&gt;\r\n&lt;/subsystem&gt;\r\n```\r\nMy Quarkus client tries to connect with the following:\r\n```\r\nquarkus.artemis.url=tcp://localhost:8080\r\nquarkus.artemis.username=test1\r\nquarkus.artemis.password=test1\r\n```\r\nIt has a consumer:\r\n```java\r\n    @Override\r\n    public void run() {\r\n        try (JMSContext context = connectionFactory.createContext(JMSContext.AUTO_ACKNOWLEDGE)) {\r\n            JMSConsumer consumer = context.createConsumer(context.createQueue(&quot;prices&quot;));\r\n            while (true) {\r\n                Message message = consumer.receive();\r\n                if (message == null) {\r\n                    // receive returns `null` if the JMSConsumer is closed\r\n                    return;\r\n                }\r\n                lastPrice = message.getBody(String.class);\r\n            }\r\n        } catch (JMSException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\nand a producer:\r\n```java\r\n    @Override\r\n    public void run() {\r\n        try (JMSContext context = connectionFactory.createContext(JMSContext.AUTO_ACKNOWLEDGE)) {\r\n            context.createProducer().send(context.createQueue(&quot;prices&quot;), Integer.toString(random.nextInt(100)));\r\n        }\r\n    }\r\n```\r\nIt seem to connect just fine. I can see in the Quarkus log:\r\n```\r\n2022-12-08 14:29:59,596 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionFactoryImpl] (pool-10-thread-1) Trying reconnection attempt 0/1\r\n2022-12-08 14:29:59,596 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionFactoryImpl] (pool-10-thread-1) Trying to connect with connectorFactory=org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnectorFactory@6096907d and currentConnectorConfig: TransportConfiguration(name=null, factory=org-apache-activemq-artemis-core-remoting-impl-netty-NettyConnectorFactory) ?port=8080&amp;host=localhost\r\n2022-12-08 14:29:59,596 DEBUG [org.apa.act.art.cor.rem.imp.net.NettyConnector] (pool-10-thread-1) Connector NettyConnector [host=localhost, port=8080, httpEnabled=false, httpUpgradeEnabled=false, useServlet=false, servletPath=/messaging/ActiveMQServlet, sslEnabled=false, useNio=true] using native epoll\r\n2022-12-08 14:29:59,596 DEBUG [org.apa.act.art.cor.client] (pool-10-thread-1) AMQ211002: Started EPOLL Netty Connector version 4.1.82.Final to localhost:8080\r\n2022-12-08 14:29:59,597 DEBUG [org.apa.act.art.cor.rem.imp.net.NettyConnector] (pool-10-thread-1) Remote destination: localhost/127.0.0.1:8080\r\n2022-12-08 14:29:59,598 DEBUG [org.apa.act.art.cor.rem.imp.net.NettyConnector] (Thread-1 (ActiveMQ-client-netty-threads)) Added ActiveMQClientChannelHandler to Channel with id = 6339db8b \r\n2022-12-08 14:29:59,598 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionFactoryImpl] (pool-10-thread-1) Connected with the currentConnectorConfig=TransportConfiguration(name=null, factory=org-apache-activemq-artemis-core-remoting-impl-netty-NettyConnectorFactory) ?port=8080&amp;host=localhost\r\n2022-12-08 14:29:59,599 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionFactoryImpl] (pool-10-thread-1) Reconnection successful\r\n```\r\nSo it seems to be working fine, but I can&#39;t seem to send or consume from the queue.\r\n\r\n# Answers to Justin questions in the comments\r\n\r\n## Have you tried adding `?httpUpgradeEnabled=true`\r\nyes no change\r\n\r\n`quarkus.artemis.url=tcp://localhost:8080?httpUpgradeEnabled=true`\r\n\r\n## Can you check the consumer-count\r\nActually there does not even seem to be a session active. I tried to close the connection for my test user but it shown me a dialog &quot;no connection for that user&quot; So maybe it&#39;s not even connecting as I thought\r\n\r\n## Why do you suspect the problem is with the user\r\nI thought it might have something to do with some permission error. I was not sure if I was suppost to add the user to the &quot;guest&quot; group or not\r\n\r\nBut since I have in my config\r\n```xml\r\n        &lt;security-setting name=&quot;#&quot;&gt;\r\n            &lt;role name=&quot;guest&quot; send=&quot;true&quot; consume=&quot;true&quot; create-non-durable-queue=&quot;true&quot; delete-non-durable-queue=&quot;true&quot;/&gt;\r\n        &lt;/security-setting&gt;\r\n```\r\n\r\nEDIT2. Actually I see now in the log that quarkus seems to be missing permission for creating a consumer. So i guess &quot;guest&quot; role is not the correct one.\r\n\r\nI assume that was corrected","title":"How can I add a user that can connect to ActiveMQ Artemis in WildFly via Quarkus JMS?","body":"<p>I have a WildFly application with an embedded ActiveMQ Artemis and I can't seem to figure how to debug it. It seems to connect fine since I'm getting no errors in the log, but I'm unable to read any queues. There is no error but nothing is happening.</p>\n<p>I'm running the Quarkus JMS client 1.03 which is using org.apache.activemq » artemis-jms-client 2.19. The server is running WildFly 26.1 with the embedded ActiveMQ Artemis server 2.19.1 so the client and server should be compatible. However, I'm not sure if I've configured it correctly. I'm using the <code>standalone-full.xml</code>.</p>\n<p>For testing I've added a user <code>test1</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>bash-4.4$ ./add-user.sh\n\nWhat type of user do you wish to add?\n a) Management User (mgmt-users.properties)\n b) Application User (application-users.properties)\n(a): b\n\nEnter the details of the new user to add.\nUsing realm 'ApplicationRealm' as discovered from the existing property files.\nUsername : test1\nPassword recommendations are listed below. To modify these restrictions edit the add-user.properties configuration file.\n - The password should be different from the username\n - The password should not be one of the following restricted values {root, admin, administrator}\n - The password should contain at least 8 characters, 1 alphabetic character(s), 1 digit(s), 1 non-alphanumeric symbol(s)\nPassword :\nWFLYDM0098: The password should be different from the username\nAre you sure you want to use the password entered yes/no? yes\nRe-enter Password :\nWhat groups do you want this user to belong to? (Please enter a comma separated list, or leave blank for none)[  ]: guest\nAbout to add user 'test1' for realm 'ApplicationRealm'\nIs this correct yes/no? yes\nIs this new user going to be used for one AS process to connect to another AS process?\ne.g. for a slave host controller connecting to the master or for a Remoting connection for server to server Jakarta Enterprise Beans calls.\nyes/no? yes\nTo represent the user add the following to the server-identities definition &lt;secret value=&quot;dGVzdDE=&quot; /&gt;\n</code></pre>\n<p>This is the log for creating that user. In my <code>standalone-full.xml</code> I have the role guest for ActiveMQ Artemis and the queue <code>prices</code> set up:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:13.1&quot;&gt;\n    &lt;server name=&quot;default&quot;&gt;\n        ...\n        &lt;security-setting name=&quot;#&quot;&gt;\n            &lt;role name=&quot;guest&quot; send=&quot;true&quot; consume=&quot;true&quot; create-non-durable-queue=&quot;true&quot; delete-non-durable-queue=&quot;true&quot;/&gt;\n        &lt;/security-setting&gt;\n        ...\n        &lt;address-setting name=&quot;jms.queue.prices&quot; expiry-address=&quot;jms.queue.ExpiryQueue&quot; redelivery-delay=&quot;1000&quot; max-delivery-attempts=&quot;0&quot;/&gt;\n        ...\n        &lt;jms-queue name=&quot;prices&quot; entries=&quot;java:/jms/queue/prices&quot; durable=&quot;true&quot;/&gt;\n        ...\n    &lt;/server&gt;\n&lt;/subsystem&gt;\n</code></pre>\n<p>My Quarkus client tries to connect with the following:</p>\n<pre><code>quarkus.artemis.url=tcp://localhost:8080\nquarkus.artemis.username=test1\nquarkus.artemis.password=test1\n</code></pre>\n<p>It has a consumer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void run() {\n        try (JMSContext context = connectionFactory.createContext(JMSContext.AUTO_ACKNOWLEDGE)) {\n            JMSConsumer consumer = context.createConsumer(context.createQueue(&quot;prices&quot;));\n            while (true) {\n                Message message = consumer.receive();\n                if (message == null) {\n                    // receive returns `null` if the JMSConsumer is closed\n                    return;\n                }\n                lastPrice = message.getBody(String.class);\n            }\n        } catch (JMSException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>and a producer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void run() {\n        try (JMSContext context = connectionFactory.createContext(JMSContext.AUTO_ACKNOWLEDGE)) {\n            context.createProducer().send(context.createQueue(&quot;prices&quot;), Integer.toString(random.nextInt(100)));\n        }\n    }\n</code></pre>\n<p>It seem to connect just fine. I can see in the Quarkus log:</p>\n<pre><code>2022-12-08 14:29:59,596 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionFactoryImpl] (pool-10-thread-1) Trying reconnection attempt 0/1\n2022-12-08 14:29:59,596 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionFactoryImpl] (pool-10-thread-1) Trying to connect with connectorFactory=org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnectorFactory@6096907d and currentConnectorConfig: TransportConfiguration(name=null, factory=org-apache-activemq-artemis-core-remoting-impl-netty-NettyConnectorFactory) ?port=8080&amp;host=localhost\n2022-12-08 14:29:59,596 DEBUG [org.apa.act.art.cor.rem.imp.net.NettyConnector] (pool-10-thread-1) Connector NettyConnector [host=localhost, port=8080, httpEnabled=false, httpUpgradeEnabled=false, useServlet=false, servletPath=/messaging/ActiveMQServlet, sslEnabled=false, useNio=true] using native epoll\n2022-12-08 14:29:59,596 DEBUG [org.apa.act.art.cor.client] (pool-10-thread-1) AMQ211002: Started EPOLL Netty Connector version 4.1.82.Final to localhost:8080\n2022-12-08 14:29:59,597 DEBUG [org.apa.act.art.cor.rem.imp.net.NettyConnector] (pool-10-thread-1) Remote destination: localhost/127.0.0.1:8080\n2022-12-08 14:29:59,598 DEBUG [org.apa.act.art.cor.rem.imp.net.NettyConnector] (Thread-1 (ActiveMQ-client-netty-threads)) Added ActiveMQClientChannelHandler to Channel with id = 6339db8b \n2022-12-08 14:29:59,598 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionFactoryImpl] (pool-10-thread-1) Connected with the currentConnectorConfig=TransportConfiguration(name=null, factory=org-apache-activemq-artemis-core-remoting-impl-netty-NettyConnectorFactory) ?port=8080&amp;host=localhost\n2022-12-08 14:29:59,599 DEBUG [org.apa.act.art.cor.cli.imp.ClientSessionFactoryImpl] (pool-10-thread-1) Reconnection successful\n</code></pre>\n<p>So it seems to be working fine, but I can't seem to send or consume from the queue.</p>\n<h1>Answers to Justin questions in the comments</h1>\n<h2>Have you tried adding <code>?httpUpgradeEnabled=true</code></h2>\n<p>yes no change</p>\n<p><code>quarkus.artemis.url=tcp://localhost:8080?httpUpgradeEnabled=true</code></p>\n<h2>Can you check the consumer-count</h2>\n<p>Actually there does not even seem to be a session active. I tried to close the connection for my test user but it shown me a dialog &quot;no connection for that user&quot; So maybe it's not even connecting as I thought</p>\n<h2>Why do you suspect the problem is with the user</h2>\n<p>I thought it might have something to do with some permission error. I was not sure if I was suppost to add the user to the &quot;guest&quot; group or not</p>\n<p>But since I have in my config</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;security-setting name=&quot;#&quot;&gt;\n            &lt;role name=&quot;guest&quot; send=&quot;true&quot; consume=&quot;true&quot; create-non-durable-queue=&quot;true&quot; delete-non-durable-queue=&quot;true&quot;/&gt;\n        &lt;/security-setting&gt;\n</code></pre>\n<p>EDIT2. Actually I see now in the log that quarkus seems to be missing permission for creating a consumer. So i guess &quot;guest&quot; role is not the correct one.</p>\n<p>I assume that was corrected</p>\n"},{"tags":["java","javadoc","lotus-domino"],"answers":[{"comments":[{"owner":{"account_id":17353525,"reputation":5513,"user_id":12571484,"display_name":"Adam"},"score":0,"creation_date":1670331211,"post_id":74702412,"comment_id":131847470,"body_markdown":"That&#39;s great, thanks. And from the very author himself too!","body":"That&#39;s great, thanks. And from the very author himself too!"},{"owner":{"account_id":12791050,"reputation":101,"user_id":9255569,"display_name":"Karsten Lehmann"},"score":1,"creation_date":1670332618,"post_id":74702412,"comment_id":131847973,"body_markdown":"Per Henrik Lausten contacted me ☺️. If you have further questions, feel free to create a Github issue or join the Domino JNA slack channel at xpages.slack.com","body":"Per Henrik Lausten contacted me ☺️. If you have further questions, feel free to create a Github issue or join the Domino JNA slack channel at xpages.slack.com"},{"owner":{"account_id":17353525,"reputation":5513,"user_id":12571484,"display_name":"Adam"},"score":0,"creation_date":1670332964,"post_id":74702412,"comment_id":131848117,"body_markdown":"I appreciate you taking the time to pop over and comment. Thanks again!","body":"I appreciate you taking the time to pop over and comment. Thanks again!"},{"owner":{"account_id":17353525,"reputation":5513,"user_id":12571484,"display_name":"Adam"},"score":0,"creation_date":1670601608,"post_id":74702412,"comment_id":131918510,"body_markdown":"Hi Karsten, really sorry to trouble you again but I&#39;m getting an error -&gt; Could not resolve project dependencies: Missing: com.ibm:domino-api-binaries:jar:11.0.0.  What am I doing wrong? Many thanks in advance.","body":"Hi Karsten, really sorry to trouble you again but I&#39;m getting an error -&gt; Could not resolve project dependencies: Missing: com.ibm:domino-api-binaries:jar:11.0.0.  What am I doing wrong? Many thanks in advance."},{"owner":{"account_id":12791050,"reputation":101,"user_id":9255569,"display_name":"Karsten Lehmann"},"score":0,"creation_date":1670692065,"post_id":74702412,"comment_id":131934045,"body_markdown":"You need to execute the three mvn install:install-file commands listed above to register Maven artifacts for three JARs in the Notes Client program directory.","body":"You need to execute the three mvn install:install-file commands listed above to register Maven artifacts for three JARs in the Notes Client program directory."}],"tags":[],"owner":{"account_id":12791050,"reputation":101,"user_id":9255569,"display_name":"Karsten Lehmann"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670329230,"creation_date":1670329230,"answer_id":74702412,"question_id":74701108,"body_markdown":"Please take a look at the section &quot;Creating your own build&quot; of the README.md file.\r\n\r\nYou need to register a few Notes/Domino JARs before you can run the build.\r\nHere is that part of the documentation:\r\n\r\n## Creating your own build\r\nThe following instructions are only relevant when you want to create your own Domino JNA release version.\r\n\r\n### Registration of local Notes.jar, lwpd.commons.jar and lwpd.domino.napi.jar\r\nThere are three JAR files that are part of every Notes Client installation and that are required to compile the Domino JNA code.\r\n\r\nOn macOS, you can find the files in these locations:\r\n* /Applications/HCL Notes.app/Contents/Resources/jvm/lib/ext/Notes.jar\r\n* /Applications/HCL Notes.app/Contents/Eclipse/shared/eclipse/plugins/com.ibm.commons_-version-/lwpd.commons.jar\r\n* /Applications/HCL Notes.app/Contents/Eclipse/shared/eclipse/plugins/com.ibm.domino.napi_-version-/lwpd.domino.napi.jar\r\n\r\nOn Windows you fine them here:\r\n\r\n* C:\\Program Files (x86)\\HCL\\Notes\\jvm\\lib\\ext\\Notes.jar\r\n* C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.commons_-version-\\lwpd.commons.jar\r\n* C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.domino.napi_-version-\\lwpd.domino.napi.jar\r\n\r\nThese files need to be registered as Maven artifacts with the right groupId / artifactId on the local machine, because they are not available on Maven Central (com.ibm.commons is there, but outdated).\r\n\r\n**For the Mac, use this syntax (replace &quot;-version-&quot; with the right version on your machine):**\r\n\r\n```\r\nmvn install:install-file -Dfile=&quot;/Applications/HCL Notes.app/Contents/Resources/jvm/lib/ext/Notes.jar&quot; -DgroupId=com.ibm -DartifactId=domino-api-binaries -Dversion=11.0.0 -Dpackaging=jar\r\n\r\nmvn install:install-file -Dfile=&quot;/Applications/HCL Notes.app/Contents/Eclipse/shared/eclipse/plugins/com.ibm.commons_-version-/lwpd.commons.jar&quot; -DgroupId=com.ibm -DartifactId=ibm-commons -Dversion=11.0.0 -Dpackaging=jar\r\n\r\nmvn install:install-file -Dfile=&quot;/Applications/HCL Notes.app/Contents/Eclipse/shared/eclipse/plugins/com.ibm.domino.napi_-version-/lwpd.domino.napi.jar&quot; -DgroupId=com.ibm -DartifactId=napi -Dversion=11.0.0 -Dpackaging=jar\r\n```\r\n\r\n**For Windows, use this syntax (replace &quot;-version-&quot; with the right version on your machine):**\r\n\r\n```\r\nmvn install:install-file -Dfile=&quot;C:\\Program Files (x86)\\HCL\\Notes\\jvm\\lib\\ext\\Notes.jar&quot; -DgroupId=com.ibm -DartifactId=domino-api-binaries -Dversion=11.0.0 -Dpackaging=jar\r\n\r\nmvn install:install-file -Dfile=&quot;C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.commons_-version-\\lwpd.commons.jar&quot; -DgroupId=com.ibm -DartifactId=ibm-commons -Dversion=11.0.0 -Dpackaging=jar\r\n\r\nmvn install:install-file -Dfile=&quot;C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.domino.napi_-version-\\lwpd.domino.napi.jar&quot; -DgroupId=com.ibm -DartifactId=napi -Dversion=11.0.0 -Dpackaging=jar\r\n```\r\n\r\n### Maven build\r\n\r\n**Mac:**\r\nOn Mac, use this syntax to build Domino JNA against the Notes Client:\r\n\r\n```\r\nmvn -DJVMPARAMS=-d64 -DDOMINOOSGIDIR=/Applications/HCL\\ Notes.app/Contents/MacOS -DDOMINODIR=/Applications/HCL\\ Notes.app/Contents/MacOS -DNOTESINI=~/Library/Preferences/Notes\\ Preferences clean install -Dmaven.test.skip=true\r\n```\r\n\r\n**Windows:**\r\nTo build against the HCL Notes Client on Windows use this syntax:\r\n\r\n```\r\nmvn -DJVMPARAMS= -DDOMINOOSGIDIR=&quot;C:\\Program Files (x86)\\HCL\\Notes\\osgi&quot; -DDOMINODIR=&quot;C:\\Program Files (x86)\\HCL\\Notes&quot; -DNOTESINI=&quot;C:\\Program Files (x86)\\HCL\\Notes\\Notes.ini&quot; clean install -Dmaven.test.skip=true\r\n```\r\n\r\nAfter the build is done, the directory `target/lib` contains all recursive dependencies required to use the library, e.g. JNA and Apache tool libraries.\r\n","title":"Generate javadoc for domino-jna 0.9.2.1 - multiple errors","body":"<p>Please take a look at the section &quot;Creating your own build&quot; of the README.md file.</p>\n<p>You need to register a few Notes/Domino JARs before you can run the build.\nHere is that part of the documentation:</p>\n<h2>Creating your own build</h2>\n<p>The following instructions are only relevant when you want to create your own Domino JNA release version.</p>\n<h3>Registration of local Notes.jar, lwpd.commons.jar and lwpd.domino.napi.jar</h3>\n<p>There are three JAR files that are part of every Notes Client installation and that are required to compile the Domino JNA code.</p>\n<p>On macOS, you can find the files in these locations:</p>\n<ul>\n<li>/Applications/HCL Notes.app/Contents/Resources/jvm/lib/ext/Notes.jar</li>\n<li>/Applications/HCL Notes.app/Contents/Eclipse/shared/eclipse/plugins/com.ibm.commons_-version-/lwpd.commons.jar</li>\n<li>/Applications/HCL Notes.app/Contents/Eclipse/shared/eclipse/plugins/com.ibm.domino.napi_-version-/lwpd.domino.napi.jar</li>\n</ul>\n<p>On Windows you fine them here:</p>\n<ul>\n<li>C:\\Program Files (x86)\\HCL\\Notes\\jvm\\lib\\ext\\Notes.jar</li>\n<li>C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.commons_-version-\\lwpd.commons.jar</li>\n<li>C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.domino.napi_-version-\\lwpd.domino.napi.jar</li>\n</ul>\n<p>These files need to be registered as Maven artifacts with the right groupId / artifactId on the local machine, because they are not available on Maven Central (com.ibm.commons is there, but outdated).</p>\n<p><strong>For the Mac, use this syntax (replace &quot;-version-&quot; with the right version on your machine):</strong></p>\n<pre><code>mvn install:install-file -Dfile=&quot;/Applications/HCL Notes.app/Contents/Resources/jvm/lib/ext/Notes.jar&quot; -DgroupId=com.ibm -DartifactId=domino-api-binaries -Dversion=11.0.0 -Dpackaging=jar\n\nmvn install:install-file -Dfile=&quot;/Applications/HCL Notes.app/Contents/Eclipse/shared/eclipse/plugins/com.ibm.commons_-version-/lwpd.commons.jar&quot; -DgroupId=com.ibm -DartifactId=ibm-commons -Dversion=11.0.0 -Dpackaging=jar\n\nmvn install:install-file -Dfile=&quot;/Applications/HCL Notes.app/Contents/Eclipse/shared/eclipse/plugins/com.ibm.domino.napi_-version-/lwpd.domino.napi.jar&quot; -DgroupId=com.ibm -DartifactId=napi -Dversion=11.0.0 -Dpackaging=jar\n</code></pre>\n<p><strong>For Windows, use this syntax (replace &quot;-version-&quot; with the right version on your machine):</strong></p>\n<pre><code>mvn install:install-file -Dfile=&quot;C:\\Program Files (x86)\\HCL\\Notes\\jvm\\lib\\ext\\Notes.jar&quot; -DgroupId=com.ibm -DartifactId=domino-api-binaries -Dversion=11.0.0 -Dpackaging=jar\n\nmvn install:install-file -Dfile=&quot;C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.commons_-version-\\lwpd.commons.jar&quot; -DgroupId=com.ibm -DartifactId=ibm-commons -Dversion=11.0.0 -Dpackaging=jar\n\nmvn install:install-file -Dfile=&quot;C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.domino.napi_-version-\\lwpd.domino.napi.jar&quot; -DgroupId=com.ibm -DartifactId=napi -Dversion=11.0.0 -Dpackaging=jar\n</code></pre>\n<h3>Maven build</h3>\n<p><strong>Mac:</strong>\nOn Mac, use this syntax to build Domino JNA against the Notes Client:</p>\n<pre><code>mvn -DJVMPARAMS=-d64 -DDOMINOOSGIDIR=/Applications/HCL\\ Notes.app/Contents/MacOS -DDOMINODIR=/Applications/HCL\\ Notes.app/Contents/MacOS -DNOTESINI=~/Library/Preferences/Notes\\ Preferences clean install -Dmaven.test.skip=true\n</code></pre>\n<p><strong>Windows:</strong>\nTo build against the HCL Notes Client on Windows use this syntax:</p>\n<pre><code>mvn -DJVMPARAMS= -DDOMINOOSGIDIR=&quot;C:\\Program Files (x86)\\HCL\\Notes\\osgi&quot; -DDOMINODIR=&quot;C:\\Program Files (x86)\\HCL\\Notes&quot; -DNOTESINI=&quot;C:\\Program Files (x86)\\HCL\\Notes\\Notes.ini&quot; clean install -Dmaven.test.skip=true\n</code></pre>\n<p>After the build is done, the directory <code>target/lib</code> contains all recursive dependencies required to use the library, e.g. JNA and Apache tool libraries.</p>\n"}],"owner":{"account_id":17353525,"reputation":5513,"user_id":12571484,"display_name":"Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670601518,"creation_date":1670323386,"question_id":74701108,"body_markdown":"I&#39;ve downloaded the latest version of [JNA][1] (this is the first time I&#39;ve looked at it tbh) and I want to generate the javadoc for it. I&#39;m looking to generate the documentation from folder `\\domino-jna-master\\domino-jna\\src\\main\\java\\com\\mindoo\\domino\\jna` which is in a parent folder and using command:\r\n\r\n`javadoc -sourcepath {parent-folder}\\domino-jna-master\\domino-jna\\src\\main\\java\\com\\mindoo\\domino\\jna -d c:\\JNA -subpackages .`\r\n\r\nto put the generated documentation in to the c:\\JNA folder.\r\n\r\nIt&#39;s finding the .java files okay but it&#39;s generating errors like:\r\n\r\n - cannot find symbol\r\n - package lotus.notes does not exist\r\n\r\nIf I use the `-Xdoclint:none` and  `--ignore-source-errors` options to [suppress error generation][2] also does not work with the final error being &#39;no public or protected classes found to document&#39;. \r\n\r\nI&#39;ve also tried this through eclipse but that&#39;s just a wizard for the javadoc command.\r\n\r\nThis is fairly new to me as I find most documentation online so any help you can give me would be appreciated.\r\n\r\n\r\n  [1]: https://github.com/klehmann/domino-jna\r\n  [2]: https://stackoverflow.com/questions/38621202/ignore-minor-errors-using-javadoc\r\n\r\n**added 2022-12-09**\r\n\r\nI&#39;ve tried building it. I&#39;ve had to change the folder location for the lwpd.domino.napi.jar file was located in the \\lib\\ext folder on my build from:\r\n\r\n    mvn install:install-file -Dfile=&quot;C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.domino.napi_-version-\\lwpd.domino.napi.jar&quot; -DgroupId=com.ibm -DartifactId=napi -Dversion=11.0.0 -Dpackaging=jar\r\n\r\nto\r\n\r\n    mvn install:install-file -Dfile=&quot;C:\\Program Files\\HCL\\Notes\\jvm\\lib\\ext\\lwpd.domino.napi.jar&quot; -DgroupId=com.ibm -DartifactId=napi -Dversion=12.0.2 -Dpackaging=jar\r\n\r\nI&#39;m getting one error when running the following command: \r\n\r\n    mvn -DJVMPARAMS= -DDOMINOOSGIDIR=&quot;C:\\Program Files\\HCL\\Notes\\osgi&quot; -DDOMINODIR=&quot;C:\\Program Files\\HCL\\Notes&quot; -DNOTESINI=&quot;C:\\Program Files\\HCL\\Notes\\Notes.ini&quot; clean install -Dmaven.test.skip=true\r\n\r\nas follows:\r\n\r\n    [ERROR] Internal error: java.lang.RuntimeException: Could not resolve project dependencies: Missing:\r\n    [ERROR] ----------\r\n    [ERROR] 1) com.ibm:domino-api-binaries:jar:11.0.0\r\n    [ERROR]\r\n    [ERROR]   Try downloading the file manually from the project website.\r\n    [ERROR]\r\n    [ERROR]   Then, install it using the command:\r\n    [ERROR]       mvn install:install-file -DgroupId=com.ibm -DartifactId=domino-api-binaries -Dversion=11.0.0 -Dpackaging=jar -Dfile=/path/to/file","title":"Generate javadoc for domino-jna 0.9.2.1 - multiple errors","body":"<p>I've downloaded the latest version of <a href=\"https://github.com/klehmann/domino-jna\" rel=\"nofollow noreferrer\">JNA</a> (this is the first time I've looked at it tbh) and I want to generate the javadoc for it. I'm looking to generate the documentation from folder <code>\\domino-jna-master\\domino-jna\\src\\main\\java\\com\\mindoo\\domino\\jna</code> which is in a parent folder and using command:</p>\n<p><code>javadoc -sourcepath {parent-folder}\\domino-jna-master\\domino-jna\\src\\main\\java\\com\\mindoo\\domino\\jna -d c:\\JNA -subpackages .</code></p>\n<p>to put the generated documentation in to the c:\\JNA folder.</p>\n<p>It's finding the .java files okay but it's generating errors like:</p>\n<ul>\n<li>cannot find symbol</li>\n<li>package lotus.notes does not exist</li>\n</ul>\n<p>If I use the <code>-Xdoclint:none</code> and  <code>--ignore-source-errors</code> options to <a href=\"https://stackoverflow.com/questions/38621202/ignore-minor-errors-using-javadoc\">suppress error generation</a> also does not work with the final error being 'no public or protected classes found to document'.</p>\n<p>I've also tried this through eclipse but that's just a wizard for the javadoc command.</p>\n<p>This is fairly new to me as I find most documentation online so any help you can give me would be appreciated.</p>\n<p><strong>added 2022-12-09</strong></p>\n<p>I've tried building it. I've had to change the folder location for the lwpd.domino.napi.jar file was located in the \\lib\\ext folder on my build from:</p>\n<pre><code>mvn install:install-file -Dfile=&quot;C:\\Program Files (x86)\\HCL\\Notes\\osgi\\shared\\eclipse\\plugins\\com.ibm.domino.napi_-version-\\lwpd.domino.napi.jar&quot; -DgroupId=com.ibm -DartifactId=napi -Dversion=11.0.0 -Dpackaging=jar\n</code></pre>\n<p>to</p>\n<pre><code>mvn install:install-file -Dfile=&quot;C:\\Program Files\\HCL\\Notes\\jvm\\lib\\ext\\lwpd.domino.napi.jar&quot; -DgroupId=com.ibm -DartifactId=napi -Dversion=12.0.2 -Dpackaging=jar\n</code></pre>\n<p>I'm getting one error when running the following command:</p>\n<pre><code>mvn -DJVMPARAMS= -DDOMINOOSGIDIR=&quot;C:\\Program Files\\HCL\\Notes\\osgi&quot; -DDOMINODIR=&quot;C:\\Program Files\\HCL\\Notes&quot; -DNOTESINI=&quot;C:\\Program Files\\HCL\\Notes\\Notes.ini&quot; clean install -Dmaven.test.skip=true\n</code></pre>\n<p>as follows:</p>\n<pre><code>[ERROR] Internal error: java.lang.RuntimeException: Could not resolve project dependencies: Missing:\n[ERROR] ----------\n[ERROR] 1) com.ibm:domino-api-binaries:jar:11.0.0\n[ERROR]\n[ERROR]   Try downloading the file manually from the project website.\n[ERROR]\n[ERROR]   Then, install it using the command:\n[ERROR]       mvn install:install-file -DgroupId=com.ibm -DartifactId=domino-api-binaries -Dversion=11.0.0 -Dpackaging=jar -Dfile=/path/to/file\n</code></pre>\n"},{"tags":["java","html","web","icons","web-frontend"],"answers":[{"tags":[],"owner":{"account_id":27081840,"reputation":73,"user_id":20630897,"display_name":"wodosharlatan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670578689,"creation_date":1670578689,"answer_id":74741256,"question_id":74740676,"body_markdown":"Google favicon generator and make an icon. Name it favicon.ico and drop it in your webroot.\r\n\r\nSee if this helps.\r\n\r\nAlso here is a tutorial on favicon: https://www.w3.org/2005/10/howto-favicon\r\n","title":"GET http://127.0.0.1:9989/favicon.ico Not Found","body":"<p>Google favicon generator and make an icon. Name it favicon.ico and drop it in your webroot.</p>\n<p>See if this helps.</p>\n<p>Also here is a tutorial on favicon: <a href=\"https://www.w3.org/2005/10/howto-favicon\" rel=\"nofollow noreferrer\">https://www.w3.org/2005/10/howto-favicon</a></p>\n"}],"owner":{"account_id":23624722,"reputation":1,"user_id":17657444,"display_name":"zante"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670601308,"creation_date":1670575501,"question_id":74740676,"body_markdown":"I have the following error:\r\n\r\n     favicon.ico:1  -&gt; GET http://127.0.0.1:9989/favic\r\n\r\n\r\nI have read some question answers about the same problem, but I have a problem finding the HTML (?) file to make changes.\r\n\r\nCould you please help me? What are the steps I have to follow in order to solve this error on my screen? I can&#39;t run my program.\r\n\r\n","title":"GET http://127.0.0.1:9989/favicon.ico Not Found","body":"<p>I have the following error:</p>\n<pre><code> favicon.ico:1  -&gt; GET http://127.0.0.1:9989/favic\n</code></pre>\n<p>I have read some question answers about the same problem, but I have a problem finding the HTML (?) file to make changes.</p>\n<p>Could you please help me? What are the steps I have to follow in order to solve this error on my screen? I can't run my program.</p>\n"},{"tags":["java","spring","spring-security","oauth-2.0","keycloak"],"answers":[{"comments":[{"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"score":0,"creation_date":1670823409,"post_id":74745382,"comment_id":131954244,"body_markdown":"Thanks for the answer ch4mp. One question. When user is requested for accessing the APIs, I will first redirect them to Keycloak Login Page for authentication. But after that when they reach to the Microservice (say, Service A) after getting access token, from that Service A another Microservice (say, Service B) will be called. Do I need to implement Client Credential Flow for Microservice communications between Service A and Service B or it is not required as already the user got the access token while calling Service A?","body":"Thanks for the answer ch4mp. One question. When user is requested for accessing the APIs, I will first redirect them to Keycloak Login Page for authentication. But after that when they reach to the Microservice (say, Service A) after getting access token, from that Service A another Microservice (say, Service B) will be called. Do I need to implement Client Credential Flow for Microservice communications between Service A and Service B or it is not required as already the user got the access token while calling Service A?"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":1,"creation_date":1670824929,"post_id":74745382,"comment_id":131954488,"body_markdown":"Answer is &quot;it depends&quot;. If service A issues the request in its own name (without the context of the user), then yes, use client-credentials flow. Otherwise, when the context of the user is required, retrieve the original access-token from the security context and use it to set authorization header of the request to service B.","body":"Answer is &quot;it depends&quot;. If service A issues the request in its own name (without the context of the user), then yes, use client-credentials flow. Otherwise, when the context of the user is required, retrieve the original access-token from the security context and use it to set authorization header of the request to service B."},{"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"score":0,"creation_date":1670856073,"post_id":74745382,"comment_id":131963507,"body_markdown":"I am getting one issue related to CORS while redirecting to Keycloak Login Page. In case you have any clue, can you please help. Similar type question. https://stackoverflow.com/questions/74772410/spring-boot-angular-cors-issue-while-redirecting-to-keycloak-login-page","body":"I am getting one issue related to CORS while redirecting to Keycloak Login Page. In case you have any clue, can you please help. Similar type question. <a href=\"https://stackoverflow.com/questions/74772410/spring-boot-angular-cors-issue-while-redirecting-to-keycloak-login-page\" title=\"spring boot angular cors issue while redirecting to keycloak login page\">stackoverflow.com/questions/74772410/&hellip;</a>"}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670601118,"creation_date":1670601118,"answer_id":74745382,"question_id":74739505,"body_markdown":"For user authentication, use authorization code flow =&gt; first option. \r\n\r\nFirst option is safer: your app is never aware of user password and, as so, can&#39;t leak it. \r\n\r\nFirst option is also more future proof: if the number of clients increases and authentication requirements evolves (multi factor authentication for instance), then this is handled once on the authorization-server. Same for user registration.\r\n\r\nIf you are connected about the look and feel, refer to Keycloak doc. You&#39;ll find how to provide your own style and even template.\r\n\r\nLast, use an OIDC client library on your client to ease authorization-code flow on your client: `spring-boot-starter-oauth2-client` if it&#39;s a Spring app serving content with Thymeleaf, JSF, etc. Or a lib like what [angular-auth-oidc-client][1] is to Angular (search an equivalent for your own framework) \r\n\r\n\r\n  [1]: https://github.com/damienbod/angular-auth-oidc-client","title":"Spring Boot Oauth2 Redirect to Keycloack Login Page for Authentication Or Generate Access Token in API Gateway with Keycloak Token Creation Post API","body":"<p>For user authentication, use authorization code flow =&gt; first option.</p>\n<p>First option is safer: your app is never aware of user password and, as so, can't leak it.</p>\n<p>First option is also more future proof: if the number of clients increases and authentication requirements evolves (multi factor authentication for instance), then this is handled once on the authorization-server. Same for user registration.</p>\n<p>If you are connected about the look and feel, refer to Keycloak doc. You'll find how to provide your own style and even template.</p>\n<p>Last, use an OIDC client library on your client to ease authorization-code flow on your client: <code>spring-boot-starter-oauth2-client</code> if it's a Spring app serving content with Thymeleaf, JSF, etc. Or a lib like what <a href=\"https://github.com/damienbod/angular-auth-oidc-client\" rel=\"nofollow noreferrer\">angular-auth-oidc-client</a> is to Angular (search an equivalent for your own framework)</p>\n"}],"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74745382,"answer_count":1,"score":0,"last_activity_date":1670601118,"creation_date":1670566389,"question_id":74739505,"body_markdown":"I am implementing OAuth2 (Keycloak) for our application. Our Application is combined of multiple Microservices (Rest APIs) and also there is an UI which calls the APIs. We have a API Gateway (Zuul) where we want to implement the Spring Boot OAuth2 with Keycloak. \r\n\r\nAfter checking on the internet I can see there are 2 options while implementing OAuth2 (Keycloak) in Spring Boot.\r\n\r\n1) I can redirect the user to **Keycloak Login page** when the user is not authenticated. Once the User is authenticated with Keycloak, then the user can access the APIs with the access token which it will get from the Keycloak Auth server.\r\n\r\n2) **Instead of** Keycloak Login page, I can have my **Own Login Page** in UI and once the user submits their username &amp; password, the details come to my API Gateway (Spring Boot code - Zuul) and with the given username &amp; password, I can get a access token from Keycloak with their (keycloak) Token Creation POST API and send back the Access Token to the user in the Response Header along with the HOME Page and user will able to use that token for further API calls until the token gets expired.\r\n\r\nWhich option is better to use? Login with Redirect to Keycloak Login page to get the access token or Calling Keycloak POST API for token creation from Spring Boot App?","title":"Spring Boot Oauth2 Redirect to Keycloack Login Page for Authentication Or Generate Access Token in API Gateway with Keycloak Token Creation Post API","body":"<p>I am implementing OAuth2 (Keycloak) for our application. Our Application is combined of multiple Microservices (Rest APIs) and also there is an UI which calls the APIs. We have a API Gateway (Zuul) where we want to implement the Spring Boot OAuth2 with Keycloak.</p>\n<p>After checking on the internet I can see there are 2 options while implementing OAuth2 (Keycloak) in Spring Boot.</p>\n<ol>\n<li><p>I can redirect the user to <strong>Keycloak Login page</strong> when the user is not authenticated. Once the User is authenticated with Keycloak, then the user can access the APIs with the access token which it will get from the Keycloak Auth server.</p>\n</li>\n<li><p><strong>Instead of</strong> Keycloak Login page, I can have my <strong>Own Login Page</strong> in UI and once the user submits their username &amp; password, the details come to my API Gateway (Spring Boot code - Zuul) and with the given username &amp; password, I can get a access token from Keycloak with their (keycloak) Token Creation POST API and send back the Access Token to the user in the Response Header along with the HOME Page and user will able to use that token for further API calls until the token gets expired.</p>\n</li>\n</ol>\n<p>Which option is better to use? Login with Redirect to Keycloak Login page to get the access token or Calling Keycloak POST API for token creation from Spring Boot App?</p>\n"},{"tags":["java","amazon-web-services","amazon-ecs"],"comments":[{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1670608267,"post_id":74745361,"comment_id":131920576,"body_markdown":"What do you mean by: &quot;i am not able to find anywhere this variable ECS_CONTAINER_METADATA_URI_V4&quot;? That variable is available inside the container running on ECS. Can you show what you have tried?","body":"What do you mean by: &quot;i am not able to find anywhere this variable ECS_CONTAINER_METADATA_URI_V4&quot;? That variable is available inside the container running on ECS. Can you show what you have tried?"},{"owner":{"account_id":10429553,"reputation":203,"user_id":7689795,"display_name":"Akash tiwari"},"score":0,"creation_date":1670610658,"post_id":74745361,"comment_id":131921281,"body_markdown":"Hi @MarkB this is my first time of trying this, not sure how to access the container running on fargate launch type. Do i need ecs exec for this..?","body":"Hi @MarkB this is my first time of trying this, not sure how to access the container running on fargate launch type. Do i need ecs exec for this..?"},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1670611277,"post_id":74745361,"comment_id":131921450,"body_markdown":"Yes you would `ecs exec` in for this. Typically this is for the software running in the container to access the metadata endpoint, not for you to use outside of the container. Why are you needing to access this endpoint?","body":"Yes you would <code>ecs exec</code> in for this. Typically this is for the software running in the container to access the metadata endpoint, not for you to use outside of the container. Why are you needing to access this endpoint?"},{"owner":{"account_id":10429553,"reputation":203,"user_id":7689795,"display_name":"Akash tiwari"},"score":0,"creation_date":1670677523,"post_id":74745361,"comment_id":131931078,"body_markdown":"I think I got it @MarkB. So the spring boot java app that is running inside container can easily access this variable  using maybe system.getenv and i can also use httpclient to get the json response. Will check this","body":"I think I got it @MarkB. So the spring boot java app that is running inside container can easily access this variable  using maybe system.getenv and i can also use httpclient to get the json response. Will check this"},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1670677648,"post_id":74745361,"comment_id":131931114,"body_markdown":"Yes that&#39;s correct. But again, why do you need this info outside of the container? That same info should be available from the AWS ECS API instead of going through the metadata endpoint.","body":"Yes that&#39;s correct. But again, why do you need this info outside of the container? That same info should be available from the AWS ECS API instead of going through the metadata endpoint."}],"owner":{"account_id":10429553,"reputation":203,"user_id":7689795,"display_name":"Akash tiwari"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670601009,"creation_date":1670601009,"question_id":74745361,"body_markdown":"I have my ecs task running on fargate launch type version 1.4.0 and it is working properly it is using private ECR respository to get the app image. I want to get it&#39;s metadata. It has only private IP and i know this link [ecs fargate metadata][1] but i am not able to find anywhere this variable `ECS_CONTAINER_METADATA_URI_V4`\r\n. My question is how to get the json response mentioned in the link above. Also exec is not enabled on this task. Please help\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonECS/latest/userguide/task-metadata-endpoint-v4-fargate.html","title":"How to get ecs metadata json response","body":"<p>I have my ecs task running on fargate launch type version 1.4.0 and it is working properly it is using private ECR respository to get the app image. I want to get it's metadata. It has only private IP and i know this link <a href=\"https://docs.aws.amazon.com/AmazonECS/latest/userguide/task-metadata-endpoint-v4-fargate.html\" rel=\"nofollow noreferrer\">ecs fargate metadata</a> but i am not able to find anywhere this variable <code>ECS_CONTAINER_METADATA_URI_V4</code>\n. My question is how to get the json response mentioned in the link above. Also exec is not enabled on this task. Please help</p>\n"},{"tags":["java","xml","filenotfoundexception","saxparser"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1670408963,"post_id":74715145,"comment_id":131868192,"body_markdown":"I suspect your xml file references some other files somewhere that cannot be found. Hard to tell without knowing anything about your xml file.","body":"I suspect your xml file references some other files somewhere that cannot be found. Hard to tell without knowing anything about your xml file."},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":1,"creation_date":1670411077,"post_id":74715145,"comment_id":131868951,"body_markdown":"So the XML has `&lt;!DOCTYPE preferences SYSTEM &quot;http://java.sun.com/dtd/preferences.dtd&quot;&gt;` meaning an XML parser is trying to read `http://java.sun.com/dtd/preferences.dtd`. How reliable is that? With similar references to e.g. W3C XHTML DTDs people are usually advised to use a catalogue referencing a local copy to the DTDs as the public server might be stalling to cope with too many requests.","body":"So the XML has <code>&lt;!DOCTYPE preferences SYSTEM &quot;http:&#47;&#47;java.sun.com&#47;dtd&#47;preferences.dtd&quot;&gt;</code> meaning an XML parser is trying to read <code>http:&#47;&#47;java.sun.com&#47;dtd&#47;preferences.dtd</code>. How reliable is that? With similar references to e.g. W3C XHTML DTDs people are usually advised to use a catalogue referencing a local copy to the DTDs as the public server might be stalling to cope with too many requests."}],"answers":[{"tags":[],"owner":{"account_id":5684286,"reputation":119,"user_id":4494338,"display_name":"extremecoder85"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670600544,"creation_date":1670600544,"answer_id":74745279,"question_id":74715145,"body_markdown":"I have resolved this issue, it was due to another bug in my own code.\r\nSo it had nothing to do with the SAXParser. Thanks for all the help!","title":"SAXParser gives FileNotFoundException for XML file","body":"<p>I have resolved this issue, it was due to another bug in my own code.\nSo it had nothing to do with the SAXParser. Thanks for all the help!</p>\n"}],"owner":{"account_id":5684286,"reputation":119,"user_id":4494338,"display_name":"extremecoder85"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1670600544,"creation_date":1670408855,"question_id":74715145,"body_markdown":"My Java application gives a FileNotFoundException when trying to parse \r\nan XML file with the SAXParser class. The stack trace is:\r\n\r\n```\r\n    java.base/java.io.FileInputStream.open0(Native Method),\r\n    java.base/java.io.FileInputStream.open(Unknown Source), \r\n    java.base/java.io.FileInputStream.&lt;init&gt;(Unknown Source), \r\n    java.base/java.io.FileInputStream.&lt;init&gt;(Unknown Source), \r\n    java.base/sun.net.www.protocol.file.FileURLConnection.connect(Unknown  Source), \r\n    java.base/sun.net.www.protocol.file.FileURLConnection.getInputStream(Unknown Source),  \r\n    java.xml/com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(Unknown  Source), \r\n    java.xml/com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(Unknown   Source), \r\n    java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown  Source), \r\n    java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown   Source), \r\n    java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source),  \r\n    java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source),  \r\n    java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source), \r\n    java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(Unknown Source),  \r\n    java.xml/javax.xml.parsers.SAXParser.parse(Unknown Source)\r\n```\r\n\r\nI ran the application on Windows and on Linux, on Linux I can reproduce it more \r\nfrequently (I don&#39;t know why...). The problem appears to occur randomly and I am sure the file exists and can be read.\r\n\r\n- JRE release details:\r\n```\r\n    IMPLEMENTOR=&quot;Eclipse Adoptium&quot;\r\n    IMPLEMENTOR_VERSION=&quot;Temurin-17.0.2+8&quot;\r\n    JAVA_VERSION=&quot;17.0.2&quot;\r\n    JAVA_VERSION_DATE=&quot;2022-01-18&quot;\r\n```\r\n\r\n- I checked and removed any redundant SAXParser classes from the classpath.\r\n- I tried different folders as the file source folder (local, samba share).\r\n- I tried with file permissions set to 777.\r\n\r\nThis link suggests it may be an issue related to permissions:\r\nhttps://community.cloudera.com/t5/Support-Questions/CDF-Add-NiFi-CA-Service-Service-to-Cluster/m-p/268975/highlight/true\r\n\r\nBut that does not work for me.\r\n\r\nEDIT: I have pasted the XML file contents here:\r\nhttps://pastebin.com/Q0WE9Y9S\r\n\r\nEDIT: I have configured the SAXParserFactory so it does not load external DTD&#39;s:\r\n\r\n```\r\n    SAXParserFactory factory = SAXParserFactory.newInstance();\r\n    SAXParser parser = factory.newSAXParser();\r\n    factory.setValidating(false);\r\n    factory.setNamespaceAware(false);\r\n    factory.setFeature(&quot;http://apache.org/xml/features/nonvalidating/load-external-dtd&quot;, false);\r\n```\r\n\r\n\r\n\r\n\r\n","title":"SAXParser gives FileNotFoundException for XML file","body":"<p>My Java application gives a FileNotFoundException when trying to parse\nan XML file with the SAXParser class. The stack trace is:</p>\n<pre><code>    java.base/java.io.FileInputStream.open0(Native Method),\n    java.base/java.io.FileInputStream.open(Unknown Source), \n    java.base/java.io.FileInputStream.&lt;init&gt;(Unknown Source), \n    java.base/java.io.FileInputStream.&lt;init&gt;(Unknown Source), \n    java.base/sun.net.www.protocol.file.FileURLConnection.connect(Unknown  Source), \n    java.base/sun.net.www.protocol.file.FileURLConnection.getInputStream(Unknown Source),  \n    java.xml/com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(Unknown  Source), \n    java.xml/com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(Unknown   Source), \n    java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown  Source), \n    java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown   Source), \n    java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source),  \n    java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source),  \n    java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source), \n    java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(Unknown Source),  \n    java.xml/javax.xml.parsers.SAXParser.parse(Unknown Source)\n</code></pre>\n<p>I ran the application on Windows and on Linux, on Linux I can reproduce it more\nfrequently (I don't know why...). The problem appears to occur randomly and I am sure the file exists and can be read.</p>\n<ul>\n<li>JRE release details:</li>\n</ul>\n<pre><code>    IMPLEMENTOR=&quot;Eclipse Adoptium&quot;\n    IMPLEMENTOR_VERSION=&quot;Temurin-17.0.2+8&quot;\n    JAVA_VERSION=&quot;17.0.2&quot;\n    JAVA_VERSION_DATE=&quot;2022-01-18&quot;\n</code></pre>\n<ul>\n<li>I checked and removed any redundant SAXParser classes from the classpath.</li>\n<li>I tried different folders as the file source folder (local, samba share).</li>\n<li>I tried with file permissions set to 777.</li>\n</ul>\n<p>This link suggests it may be an issue related to permissions:\n<a href=\"https://community.cloudera.com/t5/Support-Questions/CDF-Add-NiFi-CA-Service-Service-to-Cluster/m-p/268975/highlight/true\" rel=\"nofollow noreferrer\">https://community.cloudera.com/t5/Support-Questions/CDF-Add-NiFi-CA-Service-Service-to-Cluster/m-p/268975/highlight/true</a></p>\n<p>But that does not work for me.</p>\n<p>EDIT: I have pasted the XML file contents here:\n<a href=\"https://pastebin.com/Q0WE9Y9S\" rel=\"nofollow noreferrer\">https://pastebin.com/Q0WE9Y9S</a></p>\n<p>EDIT: I have configured the SAXParserFactory so it does not load external DTD's:</p>\n<pre><code>    SAXParserFactory factory = SAXParserFactory.newInstance();\n    SAXParser parser = factory.newSAXParser();\n    factory.setValidating(false);\n    factory.setNamespaceAware(false);\n    factory.setFeature(&quot;http://apache.org/xml/features/nonvalidating/load-external-dtd&quot;, false);\n</code></pre>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1670602109,"post_id":74745024,"comment_id":131918693,"body_markdown":"`@AfterAll` runs after the whole test class finishes, not after each individual test. And your `readLine()` method seems to find the `hello` from the `testJsonParams()` method","body":"<code>@AfterAll</code> runs after the whole test class finishes, not after each individual test. And your <code>readLine()</code> method seems to find the <code>hello</code> from the <code>testJsonParams()</code> method"}],"answers":[{"comments":[{"owner":{"account_id":25617907,"reputation":11,"user_id":19390241,"display_name":"ale.soft"},"score":0,"creation_date":1670601418,"post_id":74745270,"comment_id":131918461,"body_markdown":"I have also a method deleteFile which is annotated with @AfterAll","body":"I have also a method deleteFile which is annotated with @AfterAll"},{"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"score":0,"creation_date":1670756088,"post_id":74745270,"comment_id":131942609,"body_markdown":"To write correct tests, perhaps you could do research if your assumptions, on which the tests are based on, are actually true. If you are not sure how to do this, you could always try to conduct proof of concepts. Usage of @AfterAll seems to be only one misunderstood element in your piece of code (Logging, File, FileUtils).","body":"To write correct tests, perhaps you could do research if your assumptions, on which the tests are based on, are actually true. If you are not sure how to do this, you could always try to conduct proof of concepts. Usage of @AfterAll seems to be only one misunderstood element in your piece of code (Logging, File, FileUtils)."}],"tags":[],"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670600465,"creation_date":1670600465,"answer_id":74745270,"question_id":74745024,"body_markdown":"If it does not throw, it could mean that the file is actually there and has some content. This makes sense, since just calling `PcdsLoggerFactory.getLogger(TestLogger.class)` does not seem to guarantee to delete the logfile then.","title":"Junit 5: Expected exception to be thrown, but nothing was thrown","body":"<p>If it does not throw, it could mean that the file is actually there and has some content. This makes sense, since just calling <code>PcdsLoggerFactory.getLogger(TestLogger.class)</code> does not seem to guarantee to delete the logfile then.</p>\n"}],"owner":{"account_id":25617907,"reputation":11,"user_id":19390241,"display_name":"ale.soft"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1157,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670600465,"creation_date":1670599128,"question_id":74745024,"body_markdown":"I have very strange behavior for the following test: \r\n\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.NoSuchElementException;\r\nimport java.util.stream.Stream;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.junit.jupiter.api.Assertions.assertThrows;\r\n\r\npublic class TestLogger {\r\n\tstatic IPcdsLogger logger;\r\n\tstatic Logger LOGGER = LoggerFactory.getLogger(TestLogger.class);\r\n\r\n\t@BeforeEach\r\n\tpublic void setup() {\r\n\t\tlogger = PcdsLoggerFactory.getLogger(TestLogger.class);\r\n\t}\r\n\r\n\t@AfterEach\r\n\tpublic void tearDown() throws IOException {\r\n\t\tPrintWriter writer = new PrintWriter(new File(&quot;src/test/resources/temp/test.log&quot;));\r\n\t\twriter.print(&quot;&quot;);\r\n\t\twriter.close();\r\n\t}\r\n\r\n\t@AfterAll\r\n\tpublic static void deleteFile() throws IOException {\r\n\t\tlogger.close();\r\n\t\tFileUtils.deleteDirectory(new File(&quot;src/test/resources/temp&quot;));\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testJsonParams() throws IOException {\r\n\r\n\t\tlogger.builder()\r\n\t\t\t\t.add(&quot;hello&quot;, &quot;world&quot;)\r\n\t\t\t\t.add(&quot;bob&quot;, &quot;alice&quot;)\r\n\t\t\t\t.debug(&quot;wtf&quot;);\r\n\r\n\r\n\t\tassertEquals(&quot;world&quot;, readLine(0).get(&quot;hello&quot;));\r\n\t\tassertEquals(&quot;alice&quot;, readLine(0).get(&quot;bob&quot;));\r\n\r\n\t}\r\n\r\n\r\n\t@Test\r\n\tpublic void testLogLevelTraceCheck() {\r\n\t\tlogger.traceLevel()\r\n\t\t\t\t.ifPresent(b -&gt; b.add(&quot;hello&quot;, &quot;world&quot;).trace());\r\n\t\tassertThrows(NoSuchElementException.class, () -&gt; readLine(0));\r\n\t}\r\n\r\n\tprivate JSONObject readLine(int lineNo) throws IOException  {\r\n\t\ttry (Stream&lt;String&gt; lines = Files.lines(Paths.get(&quot;src/test/resources/temp/test.log&quot;))) {\r\n\t\t\tString line = lines.skip(lineNo).findFirst().get();\r\n\t\t\treturn new JSONObject(line);\r\n\t\t}\r\n\t}\r\n```\r\n\r\n\r\nWhen I run the test individually, it passes.\r\nWhen I run all the tests, on the second run I get the following error for the testLogLevelTraceCheck:\r\n\r\n    Expected java.util.NoSuchElementException to be thrown, but nothing was thrown.\r\n    org.opentest4j.AssertionFailedError: Expected java.util.NoSuchElementException to be thrown, but nothing was thrown.\r\n    \tat app//org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:71)\r\n    \tat app//org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:37)\r\n    \tat app//org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3082)\r\n\r\n\r\nI thought it was enough to reinstantiate the logger in @BeforeEach, but somehow it doesn&#39;t happen all the time this. \r\nDo you have any suggestions? \r\n\r\n","title":"Junit 5: Expected exception to be thrown, but nothing was thrown","body":"<p>I have very strange behavior for the following test:</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.NoSuchElementException;\nimport java.util.stream.Stream;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertThrows;\n\npublic class TestLogger {\n    static IPcdsLogger logger;\n    static Logger LOGGER = LoggerFactory.getLogger(TestLogger.class);\n\n    @BeforeEach\n    public void setup() {\n        logger = PcdsLoggerFactory.getLogger(TestLogger.class);\n    }\n\n    @AfterEach\n    public void tearDown() throws IOException {\n        PrintWriter writer = new PrintWriter(new File(&quot;src/test/resources/temp/test.log&quot;));\n        writer.print(&quot;&quot;);\n        writer.close();\n    }\n\n    @AfterAll\n    public static void deleteFile() throws IOException {\n        logger.close();\n        FileUtils.deleteDirectory(new File(&quot;src/test/resources/temp&quot;));\n    }\n\n    @Test\n    public void testJsonParams() throws IOException {\n\n        logger.builder()\n                .add(&quot;hello&quot;, &quot;world&quot;)\n                .add(&quot;bob&quot;, &quot;alice&quot;)\n                .debug(&quot;wtf&quot;);\n\n\n        assertEquals(&quot;world&quot;, readLine(0).get(&quot;hello&quot;));\n        assertEquals(&quot;alice&quot;, readLine(0).get(&quot;bob&quot;));\n\n    }\n\n\n    @Test\n    public void testLogLevelTraceCheck() {\n        logger.traceLevel()\n                .ifPresent(b -&gt; b.add(&quot;hello&quot;, &quot;world&quot;).trace());\n        assertThrows(NoSuchElementException.class, () -&gt; readLine(0));\n    }\n\n    private JSONObject readLine(int lineNo) throws IOException  {\n        try (Stream&lt;String&gt; lines = Files.lines(Paths.get(&quot;src/test/resources/temp/test.log&quot;))) {\n            String line = lines.skip(lineNo).findFirst().get();\n            return new JSONObject(line);\n        }\n    }\n</code></pre>\n<p>When I run the test individually, it passes.\nWhen I run all the tests, on the second run I get the following error for the testLogLevelTraceCheck:</p>\n<pre><code>Expected java.util.NoSuchElementException to be thrown, but nothing was thrown.\norg.opentest4j.AssertionFailedError: Expected java.util.NoSuchElementException to be thrown, but nothing was thrown.\n    at app//org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:71)\n    at app//org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:37)\n    at app//org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3082)\n</code></pre>\n<p>I thought it was enough to reinstantiate the logger in @BeforeEach, but somehow it doesn't happen all the time this.\nDo you have any suggestions?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":11653603,"reputation":2210,"user_id":8534088,"display_name":"Dmitriy Popov"},"score":0,"creation_date":1670600014,"post_id":74745167,"comment_id":131917994,"body_markdown":"Should you use your `c`, `d`, `e` counters as `int` instead of `double`?","body":"Should you use your <code>c</code>, <code>d</code>, <code>e</code> counters as <code>int</code> instead of <code>double</code>?"}],"answers":[{"tags":[],"owner":{"account_id":22828513,"reputation":344,"user_id":16977407,"display_name":"Gandhi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670600310,"creation_date":1670600310,"answer_id":74745240,"question_id":74745167,"body_markdown":"you use `a`, `i` and `j` as indices of the array `b`, but you are not allowed to use a double variable as an index in java, you have to use integers. You can use `Math.floor()` to convert the doubles to ints","title":"PLus MInus program in java","body":"<p>you use <code>a</code>, <code>i</code> and <code>j</code> as indices of the array <code>b</code>, but you are not allowed to use a double variable as an index in java, you have to use integers. You can use <code>Math.floor()</code> to convert the doubles to ints</p>\n"}],"owner":{"account_id":18151019,"reputation":11,"user_id":13203737,"display_name":"Shivansh Raghav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74745240,"answer_count":1,"score":0,"last_activity_date":1670600310,"creation_date":1670599912,"question_id":74745167,"body_markdown":"Given an array arr of N integers, Calculate the ratios of its elements that are positive, negative, and zero to the array size N.\r\n\r\nPrint the decimal value of each fraction in a new line up to 6 decimal places.\r\nLanguage Java \r\n\r\nInput Format\r\nThe first line contains an integer N, the size of the array.\r\n\r\nThe second line contains N space-separated integers representing the array arr.\r\n\r\nOutput Format\r\nPrint the 3 required ratios up to 6 decimal places.\r\n\r\nExample 1\r\nInput\r\n6\r\n-4 3 -9 -5 4 1\r\n\r\n\r\nOutput\r\n0.500000\r\n0.500000\r\n0.000000\r\n\r\n\r\nI wrote the below code for the mentioned program ,\r\n I keep getting the error error: incompatible types: possible lossy conversion from double to int\r\nI declared everything as a double but still getting the error \r\n\r\n\r\n\r\n```\r\nimport java.util.*;\r\nimport java.lang.*;\r\nimport java.io.*;\r\n\r\npublic class Main\r\n{\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\tScanner sc = new Scanner(System.in);\r\n    double a = sc.nextDouble();\r\n    double b[] = new double[a];\r\n    double c=0,d=0,e=0;\r\n    for(double i=0;i&lt;a;i++){\r\n      b[i]= sc.nextDouble();//your code here\r\n\t}\r\n    for(double j=0 ; j&lt;a ;j++){\r\n      if(b[j]&gt;0){\r\n        c++;\r\n      }\r\n      else if(b[j]&lt;0){\r\n        d++;\r\n      }\r\n      else{\r\n        e++;\r\n      }\r\n    } \r\n\r\n    System.out.println(String.format(&quot; %.6f&quot;,(c/a)));\r\n     System.out.println(String.format(&quot; %.6f&quot;,(d/a)));\r\n     System.out.println(String.format(&quot; %.6f&quot;,(e/a)));\r\n}}\r\n```\r\n","title":"PLus MInus program in java","body":"<p>Given an array arr of N integers, Calculate the ratios of its elements that are positive, negative, and zero to the array size N.</p>\n<p>Print the decimal value of each fraction in a new line up to 6 decimal places.\nLanguage Java</p>\n<p>Input Format\nThe first line contains an integer N, the size of the array.</p>\n<p>The second line contains N space-separated integers representing the array arr.</p>\n<p>Output Format\nPrint the 3 required ratios up to 6 decimal places.</p>\n<p>Example 1\nInput\n6\n-4 3 -9 -5 4 1</p>\n<p>Output\n0.500000\n0.500000\n0.000000</p>\n<p>I wrote the below code for the mentioned program ,\nI keep getting the error error: incompatible types: possible lossy conversion from double to int\nI declared everything as a double but still getting the error</p>\n<pre><code>import java.util.*;\nimport java.lang.*;\nimport java.io.*;\n\npublic class Main\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        Scanner sc = new Scanner(System.in);\n    double a = sc.nextDouble();\n    double b[] = new double[a];\n    double c=0,d=0,e=0;\n    for(double i=0;i&lt;a;i++){\n      b[i]= sc.nextDouble();//your code here\n    }\n    for(double j=0 ; j&lt;a ;j++){\n      if(b[j]&gt;0){\n        c++;\n      }\n      else if(b[j]&lt;0){\n        d++;\n      }\n      else{\n        e++;\n      }\n    } \n\n    System.out.println(String.format(&quot; %.6f&quot;,(c/a)));\n     System.out.println(String.format(&quot; %.6f&quot;,(d/a)));\n     System.out.println(String.format(&quot; %.6f&quot;,(e/a)));\n}}\n</code></pre>\n"},{"tags":["java","android","xml","android-styles"],"answers":[{"comments":[{"owner":{"account_id":943383,"reputation":6188,"user_id":971083,"accept_rate":88,"display_name":"RonnyKnoxville"},"score":1,"creation_date":1416176935,"post_id":26962633,"comment_id":42463553,"body_markdown":"Absolutely correct. Sometimes you just cant see the wood through the trees. Thankyou!","body":"Absolutely correct. Sometimes you just cant see the wood through the trees. Thankyou!"},{"owner":{"account_id":1624466,"reputation":2047,"user_id":1500317,"display_name":"Maurice Gavin"},"score":0,"creation_date":1436459023,"post_id":26962633,"comment_id":50632740,"body_markdown":"What is the correct way to reference a colour in an &lt;item&gt;?","body":"What is the correct way to reference a colour in an &lt;item&gt;?"}],"tags":[],"owner":{"account_id":1039908,"reputation":12848,"user_id":1205368,"accept_rate":83,"display_name":"Salem"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1416175768,"creation_date":1416175768,"answer_id":26962633,"question_id":26958179,"body_markdown":"If I&#39;m not mistaken that code means Android found a reference when it expected a color value or failed to convert reference to color. Looking at your code this line stands out\r\n\r\n    &lt;item name=&quot;android:textColor&quot;&gt;@style/MyActionBarTitleText&lt;/item&gt;\r\n\r\nDespite you can have a reference in textColor I&#39;m not sure you can set it as a style.\r\n\r\nSo try to reference your color directly\r\n\r\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/actionbar_text&lt;/item&gt;\r\n","title":"java.lang.UnsupportedOperationException: Can&#39;t convert to color: type=0x1","body":"<p>If I'm not mistaken that code means Android found a reference when it expected a color value or failed to convert reference to color. Looking at your code this line stands out</p>\n\n<pre><code>&lt;item name=\"android:textColor\"&gt;@style/MyActionBarTitleText&lt;/item&gt;\n</code></pre>\n\n<p>Despite you can have a reference in textColor I'm not sure you can set it as a style.</p>\n\n<p>So try to reference your color directly</p>\n\n<pre><code>&lt;item name=\"android:textColor\"&gt;@color/actionbar_text&lt;/item&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13843389,"reputation":1,"user_id":9993080,"display_name":"Prasad Shirsath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628334894,"creation_date":1628334894,"answer_id":68691880,"question_id":26958179,"body_markdown":"In my case I changed com.github.amlcurran.showcaseview:library:+ to specific version\r\ni.e. com.github.amlcurran.showcaseview:library:5.4.3\r\nAnd it is working fine.","title":"java.lang.UnsupportedOperationException: Can&#39;t convert to color: type=0x1","body":"<p>In my case I changed com.github.amlcurran.showcaseview:library:+ to specific version\ni.e. com.github.amlcurran.showcaseview:library:5.4.3\nAnd it is working fine.</p>\n"},{"tags":[],"owner":{"account_id":25215626,"reputation":71,"user_id":19052779,"display_name":"Reza Asgari"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670600229,"creation_date":1670257910,"answer_id":74691425,"question_id":26958179,"body_markdown":"I have the same error (`Can&#39;t convert value at index 1 to color: type=0x1`) with this code:\r\n\r\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/material_dynamic_primary20&lt;/item&gt;\r\n    &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/design_default_color_primary_dark&lt;/item&gt;\r\n    &lt;item name=&quot;colorAccent&quot;&gt;@color/slidetoact_defaultAccent&lt;/item&gt;\r\n\r\nIt just needs to be replaced with this &#128071;\r\n\r\n    &lt;item name=&quot;colorPrimary&quot;&gt;#003549&lt;/item&gt;\r\n    &lt;item name=&quot;colorPrimaryDark&quot;&gt;#3700B3&lt;/item&gt;\r\n    &lt;item name=&quot;colorAccent&quot;&gt;#FF4081&lt;/item&gt;","title":"java.lang.UnsupportedOperationException: Can&#39;t convert to color: type=0x1","body":"<p>I have the same error (<code>Can't convert value at index 1 to color: type=0x1</code>) with this code:</p>\n<pre><code>&lt;item name=&quot;colorPrimary&quot;&gt;@color/material_dynamic_primary20&lt;/item&gt;\n&lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/design_default_color_primary_dark&lt;/item&gt;\n&lt;item name=&quot;colorAccent&quot;&gt;@color/slidetoact_defaultAccent&lt;/item&gt;\n</code></pre>\n<p>It just needs to be replaced with this 👇</p>\n<pre><code>&lt;item name=&quot;colorPrimary&quot;&gt;#003549&lt;/item&gt;\n&lt;item name=&quot;colorPrimaryDark&quot;&gt;#3700B3&lt;/item&gt;\n&lt;item name=&quot;colorAccent&quot;&gt;#FF4081&lt;/item&gt;\n</code></pre>\n"}],"owner":{"account_id":943383,"reputation":6188,"user_id":971083,"accept_rate":88,"display_name":"RonnyKnoxville"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14668,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":26962633,"answer_count":3,"score":6,"last_activity_date":1670600229,"creation_date":1416149131,"question_id":26958179,"body_markdown":"I&#39;ve been following throught the myfirstapp guide on Android developers training but I&#39;ve come across a problem where [they do not properly explain how to define colors.][1]\r\n\r\nThey mention that to create a custom theme, you can declare your text colors as such:\r\n\r\nthemes.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n        &lt;!-- the theme applied to the application or activity --&gt;\r\n        &lt;style name=&quot;CustomActionBarTheme&quot;\r\n            parent=&quot;@android:style/Theme.Holo.Light.DarkActionBar&quot;&gt;\r\n            &lt;item name=&quot;android:actionBarStyle&quot;&gt;@style/MyActionBar&lt;/item&gt;\r\n            &lt;item name=&quot;android:textColor&quot;&gt;@style/MyActionBarTitleText&lt;/item&gt;\r\n            &lt;item name=&quot;android:actionBarTabTextStyle&quot;&gt;@style/MyActionBarTabText&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;!-- ActionBar styles --&gt;\r\n        &lt;style name=&quot;MyActionBar&quot;\r\n            parent=&quot;@android:style/Widget.Holo.Light.ActionBar.Solid.Inverse&quot;&gt;\r\n            &lt;item name=&quot;android:background&quot;&gt;@drawable/actionbar_background&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;!-- ActionBar title text --&gt;\r\n        &lt;style name=&quot;MyActionBarTitleText&quot;\r\n            parent=&quot;@android:style/TextAppearance.Holo.Widget.ActionBar.Title&quot;&gt;\r\n            &lt;item name=&quot;android:textColor&quot;&gt;@color/actionbar_text&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;!-- ActionBar tabs text styles --&gt;\r\n        &lt;style name=&quot;MyActionBarTabText&quot;\r\n            parent=&quot;@android:style/Widget.Holo.ActionBar.TabText&quot;&gt;\r\n            &lt;item name=&quot;android:textColor&quot;&gt;@color/actionbar_text&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    &lt;/resources&gt;\r\n\r\nThey do not mention how to specify `@color/actionbar_text`, but common sense (and some googling) indicates that a colors.xml file is required in the values package:\r\n\r\ncolors.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n        &lt;color name=&quot;actionbar_text&quot;&gt;#ff355689&lt;/color&gt;\r\n    &lt;/resources&gt;\r\n\r\nHowever, when trying to run the app, it gives an error:\r\n\r\n    Process: com.example.myfirstapp, PID: 25997\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myfirstapp/com.example.myfirstapp.MainActivity}: java.lang.UnsupportedOperationException: Can&#39;t convert to color: type=0x1\r\n\r\nIf I remove the line from colors.xml, it errors when it can&#39;t find the color reference. Im relatively certain my code is correct, can anyone see any errors?\r\n\r\n![android studio showing error][2]\r\n\r\n**EDIT**\r\n\r\nI just wanted to note that I am actually using slightly different syntax for the themes.xml file as the tutorial ones dont compile. The tutorial uses `@style/Widget.Holo.ActionBar.TabText`, which I found was actually a property of android, so I needed to use `@android:style/Widget.Holo.ActionBar.TabText` instead.\r\n\r\n\r\n  [1]: http://developer.android.com/training/basics/actionbar/styling.html#\r\n  [2]: http://i.stack.imgur.com/1nxyV.png","title":"java.lang.UnsupportedOperationException: Can&#39;t convert to color: type=0x1","body":"<p>I've been following throught the myfirstapp guide on Android developers training but I've come across a problem where <a href=\"http://developer.android.com/training/basics/actionbar/styling.html#\" rel=\"noreferrer\">they do not properly explain how to define colors.</a></p>\n\n<p>They mention that to create a custom theme, you can declare your text colors as such:</p>\n\n<p>themes.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;!-- the theme applied to the application or activity --&gt;\n    &lt;style name=\"CustomActionBarTheme\"\n        parent=\"@android:style/Theme.Holo.Light.DarkActionBar\"&gt;\n        &lt;item name=\"android:actionBarStyle\"&gt;@style/MyActionBar&lt;/item&gt;\n        &lt;item name=\"android:textColor\"&gt;@style/MyActionBarTitleText&lt;/item&gt;\n        &lt;item name=\"android:actionBarTabTextStyle\"&gt;@style/MyActionBarTabText&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;!-- ActionBar styles --&gt;\n    &lt;style name=\"MyActionBar\"\n        parent=\"@android:style/Widget.Holo.Light.ActionBar.Solid.Inverse\"&gt;\n        &lt;item name=\"android:background\"&gt;@drawable/actionbar_background&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;!-- ActionBar title text --&gt;\n    &lt;style name=\"MyActionBarTitleText\"\n        parent=\"@android:style/TextAppearance.Holo.Widget.ActionBar.Title\"&gt;\n        &lt;item name=\"android:textColor\"&gt;@color/actionbar_text&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;!-- ActionBar tabs text styles --&gt;\n    &lt;style name=\"MyActionBarTabText\"\n        parent=\"@android:style/Widget.Holo.ActionBar.TabText\"&gt;\n        &lt;item name=\"android:textColor\"&gt;@color/actionbar_text&lt;/item&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>They do not mention how to specify <code>@color/actionbar_text</code>, but common sense (and some googling) indicates that a colors.xml file is required in the values package:</p>\n\n<p>colors.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;color name=\"actionbar_text\"&gt;#ff355689&lt;/color&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>However, when trying to run the app, it gives an error:</p>\n\n<pre><code>Process: com.example.myfirstapp, PID: 25997\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myfirstapp/com.example.myfirstapp.MainActivity}: java.lang.UnsupportedOperationException: Can't convert to color: type=0x1\n</code></pre>\n\n<p>If I remove the line from colors.xml, it errors when it can't find the color reference. Im relatively certain my code is correct, can anyone see any errors?</p>\n\n<p><img src=\"https://i.stack.imgur.com/1nxyV.png\" alt=\"android studio showing error\"></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I just wanted to note that I am actually using slightly different syntax for the themes.xml file as the tutorial ones dont compile. The tutorial uses <code>@style/Widget.Holo.ActionBar.TabText</code>, which I found was actually a property of android, so I needed to use <code>@android:style/Widget.Holo.ActionBar.TabText</code> instead.</p>\n"},{"tags":["java","types","tuples"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1670592510,"post_id":74743747,"comment_id":131915499,"body_markdown":"&quot;but seems completely pointless&quot; Exactly! You just reinvented the list. Is there anything special that you want a `Tuple&lt;T&gt;` to do, that a `List&lt;T&gt;` cannot do?","body":"&quot;but seems completely pointless&quot; Exactly! You just reinvented the list. Is there anything special that you want a <code>Tuple&lt;T&gt;</code> to do, that a <code>List&lt;T&gt;</code> cannot do?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1670592616,"post_id":74743747,"comment_id":131915537,"body_markdown":"I guess there should be `accept(t1);` and `accept(t2);` (instead of `accept(t)`).","body":"I guess there should be <code>accept(t1);</code> and <code>accept(t2);</code> (instead of <code>accept(t)</code>)."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1670592685,"post_id":74743747,"comment_id":131915563,"body_markdown":"*&quot;I simply can replace Tuple&lt;T&gt; with List.of()&quot;* - right, `List.of()` is an equivalent of your `TupleN`.","body":"<i>&quot;I simply can replace Tuple&lt;T&gt; with List.of()&quot;</i> - right, <code>List.of()</code> is an equivalent of your <code>TupleN</code>."},{"owner":{"account_id":13430029,"reputation":945,"user_id":9690114,"display_name":"RomanMitasov"},"score":0,"creation_date":1670593747,"post_id":74743747,"comment_id":131915907,"body_markdown":"@Sweeper sure! `List` is a collection, that has its own type hierarchy, has methods `add`, `remove` etc. I want to create clear and straightforward API which tell the user that this particular method accepts exactly tuples, not an `ArrayList` or something. That&#39;s because I called `static` method approach pointless, as it doesn&#39;t include inheritance and `TupleN` is not a subtype of `Tuple`. Example with inheritance on the other hand is a complete opposite of pointlessness.","body":"@Sweeper sure! <code>List</code> is a collection, that has its own type hierarchy, has methods <code>add</code>, <code>remove</code> etc. I want to create clear and straightforward API which tell the user that this particular method accepts exactly tuples, not an <code>ArrayList</code> or something. That&#39;s because I called <code>static</code> method approach pointless, as it doesn&#39;t include inheritance and <code>TupleN</code> is not a subtype of <code>Tuple</code>. Example with inheritance on the other hand is a complete opposite of pointlessness."},{"owner":{"account_id":13430029,"reputation":945,"user_id":9690114,"display_name":"RomanMitasov"},"score":0,"creation_date":1670594321,"post_id":74743747,"comment_id":131916108,"body_markdown":"The problem of using just Lists here and there is that that kind of API does not restrict misusage, e.g. mutation, and sure that misusage will lead to runtime errors. If that problem is unsolvable than I should either really just use `List` with some comments &quot;please do not use `List` as `List`, otherwise everything breaks&quot; or use raw-typed `Tuple` just as marker-interface, also with comment &quot;but here must be only `Number` tuples, otherwise everything breaks&quot;. All I want to know: Is it REALLY unsolvable? =)","body":"The problem of using just Lists here and there is that that kind of API does not restrict misusage, e.g. mutation, and sure that misusage will lead to runtime errors. If that problem is unsolvable than I should either really just use <code>List</code> with some comments &quot;please do not use <code>List</code> as <code>List</code>, otherwise everything breaks&quot; or use raw-typed <code>Tuple</code> just as marker-interface, also with comment &quot;but here must be only <code>Number</code> tuples, otherwise everything breaks&quot;. All I want to know: Is it REALLY unsolvable? =)"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1670594869,"post_id":74743747,"comment_id":131916311,"body_markdown":"Lists created using `List.of` do not allow `add` and `remove`, and the standard library lives with this just fine. I really don&#39;t see a problem here. What *if* I gave your method an `ArrayList`? It wouldn&#39;t and shouldn&#39;t break, right? That&#39;s the whole point of interfaces.","body":"Lists created using <code>List.of</code> do not allow <code>add</code> and <code>remove</code>, and the standard library lives with this just fine. I really don&#39;t see a problem here. What <i>if</i> I gave your method an <code>ArrayList</code>? It wouldn&#39;t and shouldn&#39;t break, right? That&#39;s the whole point of interfaces."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1670616030,"post_id":74743747,"comment_id":131922535,"body_markdown":"There is no generic and useful way to solve this problem.  You have listed all the possibilities.  There is no clever solution that you haven&#39;t thought of yet.","body":"There is no generic and useful way to solve this problem.  You have listed all the possibilities.  There is no clever solution that you haven&#39;t thought of yet."}],"owner":{"account_id":13430029,"reputation":945,"user_id":9690114,"display_name":"RomanMitasov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670600202,"creation_date":1670592185,"question_id":74743747,"body_markdown":"Let&#39;s say I have class `TupleN&lt;T...&gt;` which I want to derive from some type `Tuple&lt;T&gt;` like so:\r\n\r\n```java\r\n// with Tuple1 that seems okay\r\nclass Tuple1&lt;T&gt; implements Tuple&lt;T&gt; { ... }\r\n\r\n// but what should I put instead of ***?\r\nclass Tuple2&lt;T1, T2&gt; implements Tuple&lt;***&gt; { ... }\r\n```\r\n\r\nWhat I want is a some sort of behaviour that allows me to define methods that accept not any raw typed `Tuple`, but a `Tuple&lt;T&gt;` with some upper bound type restriction (e.g. for heterogeneous container implementation):\r\n\r\n```java\r\nvoid accept(Tuple&lt;Number&gt; tupleOfNumbers) { ... }\r\n\r\n...\r\n\r\nTuple&lt;Integer, Float, Double&gt; t = new Tuple3(123, 12.5f, 43.99d);\r\nTuple&lt;Integer, Float, String&gt; t2 = new Tuple3(123, 12.5f, &quot;43.99&quot;);\r\n\r\n// ... some Tuple logic here\r\n\r\naccept(t); // Okay!\r\naccept(t2); // not okay, common ancestor is not a Number!\r\n```\r\n\r\nI know that conversion from `TupleN` to some homogeneous `Tuple&lt;T&gt;` is possible through static generic methods:\r\n\r\n```java\r\nclass Tuple&lt;T&gt; { ... }\r\n\r\nrecord Tuple2&lt;T1, T2&gt;(T1 val1, T2 val2) {\r\n\r\n  // ...\r\n\r\n static &lt;T, T1 extends T, T2 extends T&gt; Tuple&lt;T&gt; toTuple(Tuple2&lt;T1, T2&gt; t) {\r\n   return new Tuple&lt;T&gt;(t.val1, t.val2);\r\n }\r\n}\r\n\r\n// ... somewhere else\r\nvar t = Tuple2(123, 123f);\r\nTuple&lt;Number&gt; l = Tuple2.toTuple(t); // types T, T1 and T2 are inferred properly and that works!\r\n```\r\n\r\nThat works, but seems completely pointless as I simply can replace `Tuple&lt;T&gt;` with `List.of()`.\r\n\r\nSo I can&#39;t figure out the non-static way of doing this other than adding an explicit third common ancestor type parameter:\r\n\r\n```java\r\nrecord Tuple2&lt;T, T1 extends T, T2 extends T&gt;(T1 val1, T2 val2) implements Tuple&lt;T&gt; {}\r\n```\r\n\r\nMaybe I&#39;m missing some good approach? Please tell me if you have had the same issue.","title":"How to pass the closest common ancestor to superclass type parameter in Java","body":"<p>Let's say I have class <code>TupleN&lt;T...&gt;</code> which I want to derive from some type <code>Tuple&lt;T&gt;</code> like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// with Tuple1 that seems okay\nclass Tuple1&lt;T&gt; implements Tuple&lt;T&gt; { ... }\n\n// but what should I put instead of ***?\nclass Tuple2&lt;T1, T2&gt; implements Tuple&lt;***&gt; { ... }\n</code></pre>\n<p>What I want is a some sort of behaviour that allows me to define methods that accept not any raw typed <code>Tuple</code>, but a <code>Tuple&lt;T&gt;</code> with some upper bound type restriction (e.g. for heterogeneous container implementation):</p>\n<pre class=\"lang-java prettyprint-override\"><code>void accept(Tuple&lt;Number&gt; tupleOfNumbers) { ... }\n\n...\n\nTuple&lt;Integer, Float, Double&gt; t = new Tuple3(123, 12.5f, 43.99d);\nTuple&lt;Integer, Float, String&gt; t2 = new Tuple3(123, 12.5f, &quot;43.99&quot;);\n\n// ... some Tuple logic here\n\naccept(t); // Okay!\naccept(t2); // not okay, common ancestor is not a Number!\n</code></pre>\n<p>I know that conversion from <code>TupleN</code> to some homogeneous <code>Tuple&lt;T&gt;</code> is possible through static generic methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Tuple&lt;T&gt; { ... }\n\nrecord Tuple2&lt;T1, T2&gt;(T1 val1, T2 val2) {\n\n  // ...\n\n static &lt;T, T1 extends T, T2 extends T&gt; Tuple&lt;T&gt; toTuple(Tuple2&lt;T1, T2&gt; t) {\n   return new Tuple&lt;T&gt;(t.val1, t.val2);\n }\n}\n\n// ... somewhere else\nvar t = Tuple2(123, 123f);\nTuple&lt;Number&gt; l = Tuple2.toTuple(t); // types T, T1 and T2 are inferred properly and that works!\n</code></pre>\n<p>That works, but seems completely pointless as I simply can replace <code>Tuple&lt;T&gt;</code> with <code>List.of()</code>.</p>\n<p>So I can't figure out the non-static way of doing this other than adding an explicit third common ancestor type parameter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Tuple2&lt;T, T1 extends T, T2 extends T&gt;(T1 val1, T2 val2) implements Tuple&lt;T&gt; {}\n</code></pre>\n<p>Maybe I'm missing some good approach? Please tell me if you have had the same issue.</p>\n"},{"tags":["java","android","libgdx"],"answers":[{"tags":[],"owner":{"account_id":25909379,"reputation":1,"user_id":19633924,"display_name":"Dave"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670599687,"creation_date":1670599687,"answer_id":74745119,"question_id":74593887,"body_markdown":"```manager.load()``` will queue your asset, not immediately load it.\r\nOnly when ```manager.update()``` returns true will the assets be available.\r\n\r\nLooks like your problem is in SplashScreen\r\n```\r\n        for (int i=1;i&lt;=5;i++){\r\n            manager.load(&quot;bater_1/&quot;+i+&quot;.png&quot;,Texture.class);\r\n        }\r\n        //not allowed\r\n        goku = manager.get(&quot;bater_1/goku2.png&quot;,Texture.class);\r\n```\r\n\r\n\r\nAssetManager is well explained here https://libgdx.com/wiki/managing-your-assets","title":"Problems loading assets in libgdx","body":"<p><code>manager.load()</code> will queue your asset, not immediately load it.\nOnly when <code>manager.update()</code> returns true will the assets be available.</p>\n<p>Looks like your problem is in SplashScreen</p>\n<pre><code>        for (int i=1;i&lt;=5;i++){\n            manager.load(&quot;bater_1/&quot;+i+&quot;.png&quot;,Texture.class);\n        }\n        //not allowed\n        goku = manager.get(&quot;bater_1/goku2.png&quot;,Texture.class);\n</code></pre>\n<p>AssetManager is well explained here <a href=\"https://libgdx.com/wiki/managing-your-assets\" rel=\"nofollow noreferrer\">https://libgdx.com/wiki/managing-your-assets</a></p>\n"}],"owner":{"account_id":27066223,"reputation":1,"user_id":20617546,"display_name":"THIAGO PORTO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670599687,"creation_date":1669584089,"question_id":74593887,"body_markdown":"I&#39;m new to the world of app development, but I already have some specific knowledge. But my issue is the following involving libgdx and Android Studio:\r\n\r\nWhen trying to load a texture through the Assets Manager method, the following error occurs:\r\n`\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: GLThread 593\r\n    Process: br.com.tpgames.dbz, PID: 19495\r\n    com.badlogic.gdx.utils.GdxRuntimeException: Asset not loaded: bater_1/goku2.png\r\n        at com.badlogic.gdx.assets.AssetManager.get(AssetManager.java:172)\r\n        at com.badlogic.gdx.assets.AssetManager.get(AssetManager.java:143)\r\n        at br.com.tpgames.dbz.SplashScreen.&lt;init&gt;(SplashScreen.java:53)\r\n```\r\n`\r\n\r\nMy codes:\r\n\r\nmain class:\r\n\r\n`\r\n```\r\npublic class MainClass extends Game {\r\n\r\n   public AssetManager manager;\r\n\r\n\r\n   public void create () {\r\n\r\n\r\n\r\n\r\n      setScreen(new SplashScreen (this, manager));\r\n\r\n   }\r\n\r\n\r\n}\r\n\r\n```\r\n`\r\n\r\nSplash screen\r\n`\r\n```\r\npublic class SplashScreen implements Screen {\r\n\r\n    private Game game;\r\n    private AssetManager manager;\r\n    private float time = 0;\r\n\r\n\r\n    private SpriteBatch batch;\r\n    private Texture tex;\r\n\r\n    long startime;\r\n\r\n    public Texture goku;\r\n\r\n\r\n\r\n    public SplashScreen(Game game, AssetManager manager){\r\n        this.game = game;\r\n        this.manager = manager;\r\n\r\n        batch = new SpriteBatch();\r\n        tex = new Texture(&quot;logo.png&quot;);\r\n\r\n        startime = TimeUtils.millis();\r\n\r\n        manager = new AssetManager();\r\n        for (int i=1;i&lt;=5;i++){\r\n            manager.load(&quot;bater_1/&quot;+i+&quot;.png&quot;,Texture.class);\r\n        }\r\n\r\n        boolean load = manager.isLoaded(&quot;bater_1/goku1.png&quot;);\r\n        Gdx.app.log(&quot;Log&quot;, String.valueOf(load));\r\n\r\n\r\n        goku = manager.get(&quot;bater_1/goku2.png&quot;,Texture.class);\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void show() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void render(float delta) {\r\n        time+=delta;\r\n\r\n\r\n        if (manager.update() &amp;&amp; time &gt;=2){      //Se o tempo for maior que 2 segundos, vai abrir a tela principal\r\n            game.setScreen(new Tela_Principal(game,manager));\r\n        }\r\n\r\n\r\n        Gdx.gl.glClearColor(1,1,1,1);\r\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\r\n        batch.begin();\r\n        batch.draw(tex, (float) (screenx*0.26), (float) (screeny*0.1), (float) (screenx*0.5), (float) (screeny*0.8));\r\n\r\n        batch.end();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void resize(int width, int height) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void pause() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void resume() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void hide() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void dispose() {\r\n\r\n    }\r\n}\r\n\r\n```\r\n`\r\n\r\n\r\nConstants\r\n`\r\n```\r\npublic class Constantes {\r\n    public static int screenx = Gdx.graphics.getWidth();\r\n    public static int screeny = Gdx.graphics.getHeight();\r\n}\r\n\r\n```\r\n`\r\n\r\n\r\n\r\n```\r\n\r\n\r\nMain screen\r\n\r\n```\r\n`\r\npublic class Tela_Principal implements Screen {\r\n\r\n    private Game game;\r\n    private AssetManager manager;\r\n    private SpriteBatch batch;\r\n\r\n    private SplashScreen splashScreen;\r\n\r\n    // private Texture goku;\r\n\r\n\r\n    public Tela_Principal(Game game, AssetManager manager){\r\n        this.game = game;\r\n        this.manager = manager;\r\n\r\n        splashScreen = new SplashScreen(game,manager);\r\n\r\n\r\n        for (int i=1;i&lt;=5;i++){\r\n            manager.load(&quot;bater_1/goku&quot;+i+&quot;.png&quot;,Texture.class);\r\n        }\r\n\r\n        batch = new SpriteBatch();\r\n        // goku = manager.get(&quot;bater_1/goku1.png&quot;,Texture.class);\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void show() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void render(float delta) {\r\n\r\n\r\n        Gdx.gl.glClearColor(0,1,0,0);\r\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\r\n\r\n        batch.begin();\r\n        batch.draw(splashScreen.goku, (float) (screenx *0.1), (float) (screeny*0.1));\r\n        batch.end();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void resize(int width, int height) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void pause() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void resume() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void hide() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void dispose() {\r\n\r\n    }\r\n}\r\n\r\n```\r\n`\r\n\r\nI thank you for your help!!","title":"Problems loading assets in libgdx","body":"<p>I'm new to the world of app development, but I already have some specific knowledge. But my issue is the following involving libgdx and Android Studio:</p>\n<p>When trying to load a texture through the Assets Manager method, the following error occurs:\n`</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: GLThread 593\n    Process: br.com.tpgames.dbz, PID: 19495\n    com.badlogic.gdx.utils.GdxRuntimeException: Asset not loaded: bater_1/goku2.png\n        at com.badlogic.gdx.assets.AssetManager.get(AssetManager.java:172)\n        at com.badlogic.gdx.assets.AssetManager.get(AssetManager.java:143)\n        at br.com.tpgames.dbz.SplashScreen.&lt;init&gt;(SplashScreen.java:53)\n</code></pre>\n<p>`</p>\n<p>My codes:</p>\n<p>main class:</p>\n<p>`</p>\n<pre><code>public class MainClass extends Game {\n\n   public AssetManager manager;\n\n\n   public void create () {\n\n\n\n\n      setScreen(new SplashScreen (this, manager));\n\n   }\n\n\n}\n\n</code></pre>\n<p>`</p>\n<p>Splash screen\n`</p>\n<pre><code>public class SplashScreen implements Screen {\n\n    private Game game;\n    private AssetManager manager;\n    private float time = 0;\n\n\n    private SpriteBatch batch;\n    private Texture tex;\n\n    long startime;\n\n    public Texture goku;\n\n\n\n    public SplashScreen(Game game, AssetManager manager){\n        this.game = game;\n        this.manager = manager;\n\n        batch = new SpriteBatch();\n        tex = new Texture(&quot;logo.png&quot;);\n\n        startime = TimeUtils.millis();\n\n        manager = new AssetManager();\n        for (int i=1;i&lt;=5;i++){\n            manager.load(&quot;bater_1/&quot;+i+&quot;.png&quot;,Texture.class);\n        }\n\n        boolean load = manager.isLoaded(&quot;bater_1/goku1.png&quot;);\n        Gdx.app.log(&quot;Log&quot;, String.valueOf(load));\n\n\n        goku = manager.get(&quot;bater_1/goku2.png&quot;,Texture.class);\n\n\n\n\n    }\n\n\n    @Override\n    public void show() {\n\n    }\n\n    @Override\n    public void render(float delta) {\n        time+=delta;\n\n\n        if (manager.update() &amp;&amp; time &gt;=2){      //Se o tempo for maior que 2 segundos, vai abrir a tela principal\n            game.setScreen(new Tela_Principal(game,manager));\n        }\n\n\n        Gdx.gl.glClearColor(1,1,1,1);\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\n        batch.begin();\n        batch.draw(tex, (float) (screenx*0.26), (float) (screeny*0.1), (float) (screenx*0.5), (float) (screeny*0.8));\n\n        batch.end();\n\n    }\n\n    @Override\n    public void resize(int width, int height) {\n\n    }\n\n    @Override\n    public void pause() {\n\n    }\n\n    @Override\n    public void resume() {\n\n    }\n\n    @Override\n    public void hide() {\n\n    }\n\n    @Override\n    public void dispose() {\n\n    }\n}\n\n</code></pre>\n<p>`</p>\n<p>Constants\n`</p>\n<pre><code>public class Constantes {\n    public static int screenx = Gdx.graphics.getWidth();\n    public static int screeny = Gdx.graphics.getHeight();\n}\n\n</code></pre>\n<p>`</p>\n<pre><code>\n\nMain screen\n\n</code></pre>\n<p>`\npublic class Tela_Principal implements Screen {</p>\n<pre><code>private Game game;\nprivate AssetManager manager;\nprivate SpriteBatch batch;\n\nprivate SplashScreen splashScreen;\n\n// private Texture goku;\n\n\npublic Tela_Principal(Game game, AssetManager manager){\n    this.game = game;\n    this.manager = manager;\n\n    splashScreen = new SplashScreen(game,manager);\n\n\n    for (int i=1;i&lt;=5;i++){\n        manager.load(&quot;bater_1/goku&quot;+i+&quot;.png&quot;,Texture.class);\n    }\n\n    batch = new SpriteBatch();\n    // goku = manager.get(&quot;bater_1/goku1.png&quot;,Texture.class);\n\n}\n\n\n@Override\npublic void show() {\n\n}\n\n@Override\npublic void render(float delta) {\n\n\n    Gdx.gl.glClearColor(0,1,0,0);\n    Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\n\n    batch.begin();\n    batch.draw(splashScreen.goku, (float) (screenx *0.1), (float) (screeny*0.1));\n    batch.end();\n\n}\n\n@Override\npublic void resize(int width, int height) {\n\n}\n\n@Override\npublic void pause() {\n\n}\n\n@Override\npublic void resume() {\n\n}\n\n@Override\npublic void hide() {\n\n}\n\n@Override\npublic void dispose() {\n\n}\n</code></pre>\n<p>}</p>\n<pre><code>`\n\nI thank you for your help!!\n</code></pre>\n"},{"tags":["java","scala","apache-spark","rdd","hortonworks-data-platform"],"answers":[{"tags":[],"owner":{"account_id":1416173,"reputation":6877,"user_id":1341806,"accept_rate":80,"display_name":"Dan Ciborowski - MSFT"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434390150,"creation_date":1434390150,"answer_id":30851592,"question_id":30851244,"body_markdown":"S3N is not a default file format. You need to build your version of Spark with a version of Hadoop that has the additional libraries used for AWS compatibility. Additional info I found here, https://www.hakkalabs.co/articles/making-your-local-hadoop-more-like-aws-elastic-mapreduce ","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>S3N is not a default file format. You need to build your version of Spark with a version of Hadoop that has the additional libraries used for AWS compatibility. Additional info I found here, <a href=\"https://www.hakkalabs.co/articles/making-your-local-hadoop-more-like-aws-elastic-mapreduce\" rel=\"nofollow\">https://www.hakkalabs.co/articles/making-your-local-hadoop-more-like-aws-elastic-mapreduce</a> </p>\n"},{"comments":[{"owner":{"account_id":2847892,"reputation":3733,"user_id":2445777,"display_name":"Priyank Desai"},"score":1,"creation_date":1462485982,"post_id":30852341,"comment_id":61669071,"body_markdown":"Spark 1.6.0 with Hadoop 2.4 worked for me.\nSpark 1.6.0 with Hadoop 2.6 didn&#39;t.","body":"Spark 1.6.0 with Hadoop 2.4 worked for me. Spark 1.6.0 with Hadoop 2.6 didn&#39;t."},{"owner":{"account_id":1078961,"reputation":10052,"user_id":1076493,"accept_rate":86,"display_name":"timss"},"score":1,"creation_date":1472803148,"post_id":30852341,"comment_id":65908375,"body_markdown":"@PriyankDesai For others with the same problem, see https://issues.apache.org/jira/browse/SPARK-7442 and the links in the comment section.","body":"@PriyankDesai For others with the same problem, see <a href=\"https://issues.apache.org/jira/browse/SPARK-7442\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/SPARK-7442</a> and the links in the comment section."},{"owner":{"account_id":4863538,"reputation":683,"user_id":3922517,"display_name":"Sergey Bahchissaraitsev"},"score":0,"creation_date":1477597608,"post_id":30852341,"comment_id":67844401,"body_markdown":"See my answer below for the reason why it did not work with Hadoop 2.6 version.","body":"See my answer below for the reason why it did not work with Hadoop 2.6 version."},{"owner":{"account_id":135086,"reputation":709,"user_id":337666,"display_name":"Shrikant Prabhu"},"score":0,"creation_date":1505511343,"post_id":30852341,"comment_id":79459789,"body_markdown":"Adding following to my SparkContext solved my problem `code`     sc.hadoopConfiguration.set(&quot;fs.s3.impl&quot;, &quot;org.apache.hadoop.fs.s3native.NativeS3FileSystem&quot;)\nsc.hadoopConfiguration.set(&quot;fs.s3n.impl&quot;, &quot;org.apache.hadoop.fs.s3native.NativeS3FileSystem&quot;)`code`","body":"Adding following to my SparkContext solved my problem <code>code</code>     sc.hadoopConfiguration.set(&quot;fs.s3.impl&quot;, &quot;org.apache.hadoop.fs.s3native.NativeS3FileSystem&quot;) sc.hadoopConfiguration.set(&quot;fs.s3n.impl&quot;, &quot;org.apache.hadoop.fs.s3native.NativeS3FileSystem&quot;)<code>code</code>"},{"owner":{"account_id":135086,"reputation":709,"user_id":337666,"display_name":"Shrikant Prabhu"},"score":0,"creation_date":1507831070,"post_id":30852341,"comment_id":80378390,"body_markdown":"Note you shouldn&#39;t check in the code with your secret key and access key to your code repository. Ideal way is to let your cluster environment assume your IAMRole which has access to S3. I removed access and secret keys  code from my program but forgot to remove following piece of code when running on Amazon EMR \n    sc.hadoopConfiguration.set(&quot;fs.s3n.impl&quot;, &quot;org.apache.hadoop.fs.s3native.NativeS3FileSystem&quot;), and program started to fail again with above error.","body":"Note you shouldn&#39;t check in the code with your secret key and access key to your code repository. Ideal way is to let your cluster environment assume your IAMRole which has access to S3. I removed access and secret keys  code from my program but forgot to remove following piece of code when running on Amazon EMR      sc.hadoopConfiguration.set(&quot;fs.s3n.impl&quot;, &quot;org.apache.hadoop.fs.s3native.NativeS3FileSystem&quot;), and program started to fail again with above error."}],"tags":[],"owner":{"account_id":332025,"reputation":6449,"user_id":657067,"accept_rate":74,"display_name":"Polymerase"},"comment_count":5,"down_vote_count":1,"up_vote_count":45,"is_accepted":true,"score":44,"last_activity_date":1474280475,"creation_date":1434392670,"answer_id":30852341,"question_id":30851244,"body_markdown":"Confirmed that this is related to the Spark build against Hadoop 2.60. Just installed [Spark 1.4.0 &quot;Pre built for Hadoop 2.4 and later&quot;](https://spark.apache.org/downloads.html) (instead of Hadoop 2.6). And the code now works OK. \r\n\r\n`sc.textFile(&quot;s3n://bucketname/Filename&quot;)` now raises another error:\r\n\r\n    java.lang.IllegalArgumentException: AWS Access Key ID and Secret Access Key must be specified as the username or password (respectively) of a s3n URL, or by setting the fs.s3n.awsAccessKeyId or fs.s3n.awsSecretAccessKey properties (respectively).\r\n\r\nThe code below uses the S3 URL format to show that Spark can read S3 file. Using dev machine (no Hadoop libs).\r\n\r\n    scala&gt; val lyrics = sc.textFile(&quot;s3n://MyAccessKeyID:MySecretKey@zpub01/SafeAndSound_Lyrics.txt&quot;)\r\n    lyrics: org.apache.spark.rdd.RDD[String] = MapPartitionsRDD[3] at textFile at &lt;console&gt;:21\r\n    \r\n    scala&gt; lyrics.count\r\n    res1: Long = 9\r\n\r\n**Even Better**: the code above with AWS credentials inline in the S3N URI will break if the AWS Secret Key has a forward &quot;/&quot;. Configuring AWS Credentials in SparkContext will fix it. Code works whether the S3 file is public or private.\r\n\r\n    sc.hadoopConfiguration.set(&quot;fs.s3n.awsAccessKeyId&quot;, &quot;BLABLA&quot;)\r\n    sc.hadoopConfiguration.set(&quot;fs.s3n.awsSecretAccessKey&quot;, &quot;....&quot;) // can contain &quot;/&quot;\r\n    val myRDD = sc.textFile(&quot;s3n://myBucket/MyFilePattern&quot;)\r\n    myRDD.count\r\n","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>Confirmed that this is related to the Spark build against Hadoop 2.60. Just installed <a href=\"https://spark.apache.org/downloads.html\" rel=\"noreferrer\">Spark 1.4.0 \"Pre built for Hadoop 2.4 and later\"</a> (instead of Hadoop 2.6). And the code now works OK. </p>\n\n<p><code>sc.textFile(\"s3n://bucketname/Filename\")</code> now raises another error:</p>\n\n<pre><code>java.lang.IllegalArgumentException: AWS Access Key ID and Secret Access Key must be specified as the username or password (respectively) of a s3n URL, or by setting the fs.s3n.awsAccessKeyId or fs.s3n.awsSecretAccessKey properties (respectively).\n</code></pre>\n\n<p>The code below uses the S3 URL format to show that Spark can read S3 file. Using dev machine (no Hadoop libs).</p>\n\n<pre><code>scala&gt; val lyrics = sc.textFile(\"s3n://MyAccessKeyID:MySecretKey@zpub01/SafeAndSound_Lyrics.txt\")\nlyrics: org.apache.spark.rdd.RDD[String] = MapPartitionsRDD[3] at textFile at &lt;console&gt;:21\n\nscala&gt; lyrics.count\nres1: Long = 9\n</code></pre>\n\n<p><strong>Even Better</strong>: the code above with AWS credentials inline in the S3N URI will break if the AWS Secret Key has a forward \"/\". Configuring AWS Credentials in SparkContext will fix it. Code works whether the S3 file is public or private.</p>\n\n<pre><code>sc.hadoopConfiguration.set(\"fs.s3n.awsAccessKeyId\", \"BLABLA\")\nsc.hadoopConfiguration.set(\"fs.s3n.awsSecretAccessKey\", \"....\") // can contain \"/\"\nval myRDD = sc.textFile(\"s3n://myBucket/MyFilePattern\")\nmyRDD.count\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4690392,"reputation":139,"user_id":3796657,"display_name":"kbt"},"comment_count":0,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1474111309,"creation_date":1435510129,"answer_id":31102277,"question_id":30851244,"body_markdown":"This is a sample spark code which can read the files present on s3\r\n\r\n    val hadoopConf = sparkContext.hadoopConfiguration\r\n    hadoopConf.set(&quot;fs.s3.impl&quot;, &quot;org.apache.hadoop.fs.s3native.NativeS3FileSystem&quot;)\r\n    hadoopConf.set(&quot;fs.s3.awsAccessKeyId&quot;, s3Key)\r\n    hadoopConf.set(&quot;fs.s3.awsSecretAccessKey&quot;, s3Secret)\r\n    var jobInput = sparkContext.textFile(&quot;s3://&quot; + s3_location)","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>This is a sample spark code which can read the files present on s3</p>\n\n<pre><code>val hadoopConf = sparkContext.hadoopConfiguration\nhadoopConf.set(\"fs.s3.impl\", \"org.apache.hadoop.fs.s3native.NativeS3FileSystem\")\nhadoopConf.set(\"fs.s3.awsAccessKeyId\", s3Key)\nhadoopConf.set(\"fs.s3.awsSecretAccessKey\", s3Secret)\nvar jobInput = sparkContext.textFile(\"s3://\" + s3_location)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1718639,"reputation":5904,"user_id":1575163,"display_name":"Tristan Reid"},"score":1,"creation_date":1446125855,"post_id":31494840,"comment_id":54621101,"body_markdown":"You add the path of the jar to spark-shell with the `--jars` parameter, comma-separated.  You&#39;ll also want to add the `aws-java-sdk-*-jar`.","body":"You add the path of the jar to spark-shell with the <code>--jars</code> parameter, comma-separated.  You&#39;ll also want to add the <code>aws-java-sdk-*-jar</code>."}],"tags":[],"owner":{"account_id":2237054,"reputation":746,"user_id":1973129,"accept_rate":67,"display_name":"pkozlov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437248101,"creation_date":1437248101,"answer_id":31494840,"question_id":30851244,"body_markdown":"You probably have to use s3a:/ scheme instead of s3:/ or s3n:/\r\nHowever, it is not working out of the box (for me) for the spark shell. I see the following stacktrace:\r\n\r\n    java.lang.RuntimeException: java.lang.ClassNotFoundException: Class org.apache.hadoop.fs.s3a.S3AFileSystem not found\r\n            at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2074)\r\n            at org.apache.hadoop.fs.FileSystem.getFileSystemClass(FileSystem.java:2578)\r\n            at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:2591)\r\n            at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:91)\r\n            at org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:2630)\r\n            at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:2612)\r\n            at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:370)\r\n            at org.apache.hadoop.fs.Path.getFileSystem(Path.java:296)\r\n            at org.apache.hadoop.mapred.FileInputFormat.singleThreadedListStatus(FileInputFormat.java:256)\r\n            at org.apache.hadoop.mapred.FileInputFormat.listStatus(FileInputFormat.java:228)\r\n            at org.apache.hadoop.mapred.FileInputFormat.getSplits(FileInputFormat.java:313)\r\n            at org.apache.spark.rdd.HadoopRDD.getPartitions(HadoopRDD.scala:207)\r\n            at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:219)\r\n            at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:217)\r\n            at scala.Option.getOrElse(Option.scala:120)\r\n            at org.apache.spark.rdd.RDD.partitions(RDD.scala:217)\r\n            at org.apache.spark.rdd.MapPartitionsRDD.getPartitions(MapPartitionsRDD.scala:32)\r\n            at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:219)\r\n            at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:217)\r\n            at scala.Option.getOrElse(Option.scala:120)\r\n            at org.apache.spark.rdd.RDD.partitions(RDD.scala:217)\r\n            at org.apache.spark.SparkContext.runJob(SparkContext.scala:1781)\r\n            at org.apache.spark.rdd.RDD.count(RDD.scala:1099)\r\n            at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:24)\r\n            at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:29)\r\n            at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:31)\r\n            at $iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:33)\r\n            at $iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:35)\r\n            at $iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:37)\r\n            at $iwC$$iwC.&lt;init&gt;(&lt;console&gt;:39)\r\n            at $iwC.&lt;init&gt;(&lt;console&gt;:41)\r\n            at &lt;init&gt;(&lt;console&gt;:43)\r\n            at .&lt;init&gt;(&lt;console&gt;:47)\r\n            at .&lt;clinit&gt;(&lt;console&gt;)\r\n            at .&lt;init&gt;(&lt;console&gt;:7)\r\n            at .&lt;clinit&gt;(&lt;console&gt;)\r\n            at $print(&lt;console&gt;)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:497)\r\n            at org.apache.spark.repl.SparkIMain$ReadEvalPrint.call(SparkIMain.scala:1065)\r\n            at org.apache.spark.repl.SparkIMain$Request.loadAndRun(SparkIMain.scala:1338)\r\n            at org.apache.spark.repl.SparkIMain.loadAndRunReq$1(SparkIMain.scala:840)\r\n            at org.apache.spark.repl.SparkIMain.interpret(SparkIMain.scala:871)\r\n            at org.apache.spark.repl.SparkIMain.interpret(SparkIMain.scala:819)\r\n            at org.apache.spark.repl.SparkILoop.reallyInterpret$1(SparkILoop.scala:857)\r\n            at org.apache.spark.repl.SparkILoop.interpretStartingWith(SparkILoop.scala:902)\r\n            at org.apache.spark.repl.SparkILoop.command(SparkILoop.scala:814)\r\n            at org.apache.spark.repl.SparkILoop.processLine$1(SparkILoop.scala:657)\r\n            at org.apache.spark.repl.SparkILoop.innerLoop$1(SparkILoop.scala:665)\r\n            at org.apache.spark.repl.SparkILoop.org$apache$spark$repl$SparkILoop$$loop(SparkILoop.scala:670)\r\n            at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply$mcZ$sp(SparkILoop.scala:997)\r\n            at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply(SparkILoop.scala:945)\r\n            at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply(SparkILoop.scala:945)\r\n            at scala.tools.nsc.util.ScalaClassLoader$.savingContextLoader(ScalaClassLoader.scala:135)\r\n            at org.apache.spark.repl.SparkILoop.org$apache$spark$repl$SparkILoop$$process(SparkILoop.scala:945)\r\n            at org.apache.spark.repl.SparkILoop.process(SparkILoop.scala:1059)\r\n            at org.apache.spark.repl.Main$.main(Main.scala:31)\r\n            at org.apache.spark.repl.Main.main(Main.scala)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:497)\r\n            at org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:665)\r\n            at org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:170)\r\n            at org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:193)\r\n            at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:112)\r\n            at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\n    Caused by: java.lang.ClassNotFoundException: Class org.apache.hadoop.fs.s3a.S3AFileSystem not found\r\n            at org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:1980)\r\n            at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2072)\r\n            ... 68 more\r\n\r\nWhat I think - you have to manually add the hadoop-aws dependency manually http://search.maven.org/#artifactdetails|org.apache.hadoop|hadoop-aws|2.7.1|jar But I have no idea how to add it to spark-shell properly.\r\n\r\n","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>You probably have to use s3a:/ scheme instead of s3:/ or s3n:/\nHowever, it is not working out of the box (for me) for the spark shell. I see the following stacktrace:</p>\n\n<pre><code>java.lang.RuntimeException: java.lang.ClassNotFoundException: Class org.apache.hadoop.fs.s3a.S3AFileSystem not found\n        at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2074)\n        at org.apache.hadoop.fs.FileSystem.getFileSystemClass(FileSystem.java:2578)\n        at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:2591)\n        at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:91)\n        at org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:2630)\n        at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:2612)\n        at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:370)\n        at org.apache.hadoop.fs.Path.getFileSystem(Path.java:296)\n        at org.apache.hadoop.mapred.FileInputFormat.singleThreadedListStatus(FileInputFormat.java:256)\n        at org.apache.hadoop.mapred.FileInputFormat.listStatus(FileInputFormat.java:228)\n        at org.apache.hadoop.mapred.FileInputFormat.getSplits(FileInputFormat.java:313)\n        at org.apache.spark.rdd.HadoopRDD.getPartitions(HadoopRDD.scala:207)\n        at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:219)\n        at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:217)\n        at scala.Option.getOrElse(Option.scala:120)\n        at org.apache.spark.rdd.RDD.partitions(RDD.scala:217)\n        at org.apache.spark.rdd.MapPartitionsRDD.getPartitions(MapPartitionsRDD.scala:32)\n        at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:219)\n        at org.apache.spark.rdd.RDD$$anonfun$partitions$2.apply(RDD.scala:217)\n        at scala.Option.getOrElse(Option.scala:120)\n        at org.apache.spark.rdd.RDD.partitions(RDD.scala:217)\n        at org.apache.spark.SparkContext.runJob(SparkContext.scala:1781)\n        at org.apache.spark.rdd.RDD.count(RDD.scala:1099)\n        at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:24)\n        at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:29)\n        at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:31)\n        at $iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:33)\n        at $iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:35)\n        at $iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:37)\n        at $iwC$$iwC.&lt;init&gt;(&lt;console&gt;:39)\n        at $iwC.&lt;init&gt;(&lt;console&gt;:41)\n        at &lt;init&gt;(&lt;console&gt;:43)\n        at .&lt;init&gt;(&lt;console&gt;:47)\n        at .&lt;clinit&gt;(&lt;console&gt;)\n        at .&lt;init&gt;(&lt;console&gt;:7)\n        at .&lt;clinit&gt;(&lt;console&gt;)\n        at $print(&lt;console&gt;)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:497)\n        at org.apache.spark.repl.SparkIMain$ReadEvalPrint.call(SparkIMain.scala:1065)\n        at org.apache.spark.repl.SparkIMain$Request.loadAndRun(SparkIMain.scala:1338)\n        at org.apache.spark.repl.SparkIMain.loadAndRunReq$1(SparkIMain.scala:840)\n        at org.apache.spark.repl.SparkIMain.interpret(SparkIMain.scala:871)\n        at org.apache.spark.repl.SparkIMain.interpret(SparkIMain.scala:819)\n        at org.apache.spark.repl.SparkILoop.reallyInterpret$1(SparkILoop.scala:857)\n        at org.apache.spark.repl.SparkILoop.interpretStartingWith(SparkILoop.scala:902)\n        at org.apache.spark.repl.SparkILoop.command(SparkILoop.scala:814)\n        at org.apache.spark.repl.SparkILoop.processLine$1(SparkILoop.scala:657)\n        at org.apache.spark.repl.SparkILoop.innerLoop$1(SparkILoop.scala:665)\n        at org.apache.spark.repl.SparkILoop.org$apache$spark$repl$SparkILoop$$loop(SparkILoop.scala:670)\n        at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply$mcZ$sp(SparkILoop.scala:997)\n        at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply(SparkILoop.scala:945)\n        at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply(SparkILoop.scala:945)\n        at scala.tools.nsc.util.ScalaClassLoader$.savingContextLoader(ScalaClassLoader.scala:135)\n        at org.apache.spark.repl.SparkILoop.org$apache$spark$repl$SparkILoop$$process(SparkILoop.scala:945)\n        at org.apache.spark.repl.SparkILoop.process(SparkILoop.scala:1059)\n        at org.apache.spark.repl.Main$.main(Main.scala:31)\n        at org.apache.spark.repl.Main.main(Main.scala)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:497)\n        at org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:665)\n        at org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:170)\n        at org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:193)\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:112)\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\nCaused by: java.lang.ClassNotFoundException: Class org.apache.hadoop.fs.s3a.S3AFileSystem not found\n        at org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:1980)\n        at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:2072)\n        ... 68 more\n</code></pre>\n\n<p>What I think - you have to manually add the hadoop-aws dependency manually <a href=\"http://search.maven.org/#artifactdetails|org.apache.hadoop|hadoop-aws|2.7.1|jar\" rel=\"nofollow\">http://search.maven.org/#artifactdetails|org.apache.hadoop|hadoop-aws|2.7.1|jar</a> But I have no idea how to add it to spark-shell properly.</p>\n"},{"tags":[],"owner":{"account_id":894614,"reputation":56,"user_id":932170,"display_name":"Uster"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1439457001,"creation_date":1439457001,"answer_id":31983999,"question_id":30851244,"body_markdown":"For Spark 1.4.x &quot;Pre built for Hadoop 2.6 and later&quot;:\r\n\r\nI just copied needed S3, S3native packages from hadoop-aws-2.6.0.jar to\r\nspark-assembly-1.4.1-hadoop2.6.0.jar.\r\n\r\nAfter that I restarted spark cluster and it works.\r\nDo not forget to check owner and mode of the assembly jar.\r\n\r\n","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>For Spark 1.4.x \"Pre built for Hadoop 2.6 and later\":</p>\n\n<p>I just copied needed S3, S3native packages from hadoop-aws-2.6.0.jar to\nspark-assembly-1.4.1-hadoop2.6.0.jar.</p>\n\n<p>After that I restarted spark cluster and it works.\nDo not forget to check owner and mode of the assembly jar.</p>\n"},{"comments":[{"owner":{"account_id":229892,"reputation":37886,"user_id":493161,"accept_rate":90,"display_name":"jcomeau_ictx"},"score":0,"creation_date":1485208775,"post_id":33836325,"comment_id":70821045,"body_markdown":"looked promising, but I get failed download for `file:/home/jcomeau/.m2/repository/asm/asm/3.2/asm-3.2.jar` when I do this with: `spark-submit --packages com.amazonaws:aws-java-sdk-pom:1.11.83,org.apache.hadoop:hadoop-aws:2.7.3 merge.py`. any ideas?","body":"looked promising, but I get failed download for <code>file:&#47;home&#47;jcomeau&#47;.m2&#47;repository&#47;asm&#47;asm&#47;3.2&#47;asm-3.2.jar</code> when I do this with: <code>spark-submit --packages com.amazonaws:aws-java-sdk-pom:1.11.83,org.apache.hadoop:had&zwnj;&#8203;oop-aws:2.7.3 merge.py</code>. any ideas?"}],"tags":[],"owner":{"account_id":2500122,"reputation":1569,"user_id":2175483,"accept_rate":50,"display_name":"Andrew K"},"comment_count":1,"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1448054740,"creation_date":1448054740,"answer_id":33836325,"question_id":30851244,"body_markdown":"You can add the --packages parameter with the appropriate jar: \r\nto your submission: \r\n\r\n    bin/spark-submit --packages com.amazonaws:aws-java-sdk-pom:1.10.34,org.apache.hadoop:hadoop-aws:2.6.0 code.py","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>You can add the --packages parameter with the appropriate jar: \nto your submission: </p>\n\n<pre><code>bin/spark-submit --packages com.amazonaws:aws-java-sdk-pom:1.10.34,org.apache.hadoop:hadoop-aws:2.6.0 code.py\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4863538,"reputation":683,"user_id":3922517,"display_name":"Sergey Bahchissaraitsev"},"comment_count":0,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1470601654,"creation_date":1470571827,"answer_id":38813994,"question_id":30851244,"body_markdown":"Despite that this question has already an accepted answer, I think that the exact details of why this is happening are still missing. So I think there might be a place for one more answer.\r\n\r\n**If you add the required [hadoop-aws](https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-aws) dependency, your code should work.**\r\n\r\nStarting Hadoop 2.6.0, s3 FS connector has been moved to a separate library called hadoop-aws.\r\nThere is also a Jira for that:\r\n[Move s3-related FS connector code to hadoop-aws](https://issues.apache.org/jira/browse/HADOOP-11074).\r\n\r\nThis means that any version of spark, that has been built against Hadoop 2.6.0 or newer will have to use another external dependency to be able to connect to the S3 File System.&lt;br/&gt;\r\nHere is an sbt example that I have tried and is working as expected using Apache Spark 1.6.2 built against Hadoop 2.6.0:\r\n&gt; libraryDependencies += &quot;org.apache.hadoop&quot; % &quot;hadoop-aws&quot; % &quot;2.6.0&quot;\r\n\r\nIn my case, I encountered some dependencies issues, so I resolved by adding exclusion:\r\n\r\n&gt; libraryDependencies += &quot;org.apache.hadoop&quot; % &quot;hadoop-aws&quot; % &quot;2.6.0&quot; exclude(&quot;tomcat&quot;, &quot;jasper-compiler&quot;) excludeAll ExclusionRule(organization = &quot;javax.servlet&quot;)\r\n\r\nOn other related note, I have yet to try it, but that it is recommended to use &quot;s3a&quot; and not &quot;s3n&quot; filesystem starting Hadoop 2.6.0.\r\n&gt;The third generation, s3a: filesystem. Designed to be a switch in replacement for s3n:, this filesystem binding supports larger files and promises higher performance.\r\n ","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>Despite that this question has already an accepted answer, I think that the exact details of why this is happening are still missing. So I think there might be a place for one more answer.</p>\n\n<p><strong>If you add the required <a href=\"https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-aws\">hadoop-aws</a> dependency, your code should work.</strong></p>\n\n<p>Starting Hadoop 2.6.0, s3 FS connector has been moved to a separate library called hadoop-aws.\nThere is also a Jira for that:\n<a href=\"https://issues.apache.org/jira/browse/HADOOP-11074\">Move s3-related FS connector code to hadoop-aws</a>.</p>\n\n<p>This means that any version of spark, that has been built against Hadoop 2.6.0 or newer will have to use another external dependency to be able to connect to the S3 File System.<br/>\nHere is an sbt example that I have tried and is working as expected using Apache Spark 1.6.2 built against Hadoop 2.6.0:</p>\n\n<blockquote>\n  <p>libraryDependencies += \"org.apache.hadoop\" % \"hadoop-aws\" % \"2.6.0\"</p>\n</blockquote>\n\n<p>In my case, I encountered some dependencies issues, so I resolved by adding exclusion:</p>\n\n<blockquote>\n  <p>libraryDependencies += \"org.apache.hadoop\" % \"hadoop-aws\" % \"2.6.0\" exclude(\"tomcat\", \"jasper-compiler\") excludeAll ExclusionRule(organization = \"javax.servlet\")</p>\n</blockquote>\n\n<p>On other related note, I have yet to try it, but that it is recommended to use \"s3a\" and not \"s3n\" filesystem starting Hadoop 2.6.0.</p>\n\n<blockquote>\n  <p>The third generation, s3a: filesystem. Designed to be a switch in replacement for s3n:, this filesystem binding supports larger files and promises higher performance.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":8395575,"reputation":3738,"user_id":6302803,"accept_rate":0,"display_name":"Z.Wei"},"score":0,"creation_date":1564748694,"post_id":40157747,"comment_id":101142701,"body_markdown":"Is there any update as of today (Aug, 2019)? Thanks.","body":"Is there any update as of today (Aug, 2019)? Thanks."},{"owner":{"account_id":2611206,"reputation":12820,"user_id":2261274,"display_name":"stevel"},"score":0,"creation_date":1565093484,"post_id":40157747,"comment_id":101235945,"body_markdown":"yes. The spark-hadoop-cloud dependency pulls in what you need. It&#39;s not included in ASF releases though. https://mvnrepository.com/artifact/org.apache.spark/spark-hadoop-cloud","body":"yes. The spark-hadoop-cloud dependency pulls in what you need. It&#39;s not included in ASF releases though. <a href=\"https://mvnrepository.com/artifact/org.apache.spark/spark-hadoop-cloud\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.apache.spark/spark-hadoop-clo&zwnj;&#8203;ud</a>"}],"tags":[],"owner":{"account_id":2611206,"reputation":12820,"user_id":2261274,"display_name":"stevel"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1476974925,"creation_date":1476974925,"answer_id":40157747,"question_id":30851244,"body_markdown":"There is a Spark JIRA, [SPARK-7481](https://issues.apache.org/jira/browse/SPARK-7481), open as of today, oct 20, 2016, to add a spark-cloud module which includes transitive dependencies on everything s3a and azure wasb: need, along with tests. \r\n\r\nAnd a [Spark PR](https://github.com/apache/spark/pull/12004) to match. This is how I get s3a support into my spark builds\r\n\r\nIf you do it by hand, you must get hadoop-aws JAR of the exact version the rest of your hadoop JARS have, and a version of the AWS JARs 100% in sync with what Hadoop aws was compiled against. For Hadoop 2.7.{1, 2, 3, ...}\r\n\r\n    hadoop-aws-2.7.x.jar \r\n    aws-java-sdk-1.7.4.jar\r\n    joda-time-2.9.3.jar\r\n    + jackson-*-2.6.5.jar\r\n\r\nStick all of these into `SPARK_HOME/jars`. Run spark with your credentials set up in Env vars or in `spark-default.conf`\r\n\r\nthe simplest test is can you do a line count of a CSV File\r\n\r\n    val landsatCSV = &quot;s3a://landsat-pds/scene_list.gz&quot;\r\n    val lines = sc.textFile(landsatCSV)\r\n    val lineCount = lines.count()\r\n\r\nGet a number: all is well. Get a stack trace. Bad news.","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>There is a Spark JIRA, <a href=\"https://issues.apache.org/jira/browse/SPARK-7481\" rel=\"noreferrer\">SPARK-7481</a>, open as of today, oct 20, 2016, to add a spark-cloud module which includes transitive dependencies on everything s3a and azure wasb: need, along with tests. </p>\n\n<p>And a <a href=\"https://github.com/apache/spark/pull/12004\" rel=\"noreferrer\">Spark PR</a> to match. This is how I get s3a support into my spark builds</p>\n\n<p>If you do it by hand, you must get hadoop-aws JAR of the exact version the rest of your hadoop JARS have, and a version of the AWS JARs 100% in sync with what Hadoop aws was compiled against. For Hadoop 2.7.{1, 2, 3, ...}</p>\n\n<pre><code>hadoop-aws-2.7.x.jar \naws-java-sdk-1.7.4.jar\njoda-time-2.9.3.jar\n+ jackson-*-2.6.5.jar\n</code></pre>\n\n<p>Stick all of these into <code>SPARK_HOME/jars</code>. Run spark with your credentials set up in Env vars or in <code>spark-default.conf</code></p>\n\n<p>the simplest test is can you do a line count of a CSV File</p>\n\n<pre><code>val landsatCSV = \"s3a://landsat-pds/scene_list.gz\"\nval lines = sc.textFile(landsatCSV)\nval lineCount = lines.count()\n</code></pre>\n\n<p>Get a number: all is well. Get a stack trace. Bad news.</p>\n"},{"comments":[{"owner":{"account_id":2215611,"reputation":476,"user_id":1956309,"display_name":"Kieleth"},"score":0,"creation_date":1490203850,"post_id":41248587,"comment_id":73011952,"body_markdown":"I ran into this problem also with Spark 2.1.0 and added the latest aws requirements (spark.jars.packages org.apache.hadoop:hadoop-aws:2.7.3)\nto &quot;spark-defaults.conf&quot;, did the trick.","body":"I ran into this problem also with Spark 2.1.0 and added the latest aws requirements (spark.jars.packages org.apache.hadoop:hadoop-aws:2.7.3) to &quot;spark-defaults.conf&quot;, did the trick."}],"tags":[],"owner":{"account_id":291007,"reputation":79,"user_id":592894,"display_name":"user592894"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1482256884,"creation_date":1482256884,"answer_id":41248587,"question_id":30851244,"body_markdown":"Ran into the same problem in Spark 2.0.2. Resolved it by feeding it the jars. Here&#39;s what I ran:\r\n\r\n    $ spark-shell --jars aws-java-sdk-1.7.4.jar,hadoop-aws-2.7.3.jar,jackson-annotations-2.7.0.jar,jackson-core-2.7.0.jar,jackson-databind-2.7.0.jar,joda-time-2.9.6.jar\r\n \r\n    scala&gt; val hadoopConf = sc.hadoopConfiguration\r\n    scala&gt; hadoopConf.set(&quot;fs.s3.impl&quot;,&quot;org.apache.hadoop.fs.s3native.NativeS3FileSystem&quot;)\r\n    scala&gt; hadoopConf.set(&quot;fs.s3.awsAccessKeyId&quot;,awsAccessKeyId)\r\n    scala&gt; hadoopConf.set(&quot;fs.s3.awsSecretAccessKey&quot;, awsSecretAccessKey)\r\n    scala&gt; val sqlContext = new org.apache.spark.sql.SQLContext(sc)\r\n    scala&gt; sqlContext.read.parquet(&quot;s3://your-s3-bucket/&quot;)\r\n\r\nobviously, you need to have the jars in the path where you&#39;re running spark-shell from","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>Ran into the same problem in Spark 2.0.2. Resolved it by feeding it the jars. Here's what I ran:</p>\n\n<pre><code>$ spark-shell --jars aws-java-sdk-1.7.4.jar,hadoop-aws-2.7.3.jar,jackson-annotations-2.7.0.jar,jackson-core-2.7.0.jar,jackson-databind-2.7.0.jar,joda-time-2.9.6.jar\n\nscala&gt; val hadoopConf = sc.hadoopConfiguration\nscala&gt; hadoopConf.set(\"fs.s3.impl\",\"org.apache.hadoop.fs.s3native.NativeS3FileSystem\")\nscala&gt; hadoopConf.set(\"fs.s3.awsAccessKeyId\",awsAccessKeyId)\nscala&gt; hadoopConf.set(\"fs.s3.awsSecretAccessKey\", awsSecretAccessKey)\nscala&gt; val sqlContext = new org.apache.spark.sql.SQLContext(sc)\nscala&gt; sqlContext.read.parquet(\"s3://your-s3-bucket/\")\n</code></pre>\n\n<p>obviously, you need to have the jars in the path where you're running spark-shell from</p>\n"},{"tags":[],"owner":{"account_id":7294384,"reputation":21,"user_id":5559773,"display_name":"Gaj"},"comment_count":0,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1490799506,"creation_date":1490799506,"answer_id":43097185,"question_id":30851244,"body_markdown":"USe s3a instead of s3n. I had similar issue on a Hadoop job. After switching from s3n to s3a it worked.\r\n\r\ne.g. \r\n\r\n  s3a://myBucket/myFile1.log","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>USe s3a instead of s3n. I had similar issue on a Hadoop job. After switching from s3n to s3a it worked.</p>\n\n<p>e.g. </p>\n\n<p>s3a://myBucket/myFile1.log</p>\n"},{"comments":[{"owner":{"account_id":1105962,"reputation":13444,"user_id":1097347,"accept_rate":92,"display_name":"Uri Goren"},"score":1,"creation_date":1516265130,"post_id":45821943,"comment_id":83619492,"body_markdown":"in python: AttributeError: &#39;SparkContext&#39; object has no attribute &#39;hadoopConfiguration&#39;","body":"in python: AttributeError: &#39;SparkContext&#39; object has no attribute &#39;hadoopConfiguration&#39;"},{"owner":{"account_id":2874900,"reputation":11103,"user_id":2602816,"accept_rate":77,"display_name":"vaer-k"},"score":1,"creation_date":1545177013,"post_id":45821943,"comment_id":94533592,"body_markdown":"@UriGoren In Python, `hadoopConfiguration` can be accessed through the java implementation: `sc._jsc.hadoopConfiguration`","body":"@UriGoren In Python, <code>hadoopConfiguration</code> can be accessed through the java implementation: <code>sc._jsc.hadoopConfiguration</code>"}],"tags":[],"owner":{"account_id":3174580,"reputation":80,"user_id":5426091,"display_name":"PDerp15"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503416394,"creation_date":1503416394,"answer_id":45821943,"question_id":30851244,"body_markdown":"I was facing the same issue. It worked fine after setting the value for fs.s3n.impl and adding hadoop-aws dependency. \r\n\r\n    sc.hadoopConfiguration.set(&quot;fs.s3n.awsAccessKeyId&quot;, awsAccessKeyId)\r\n    sc.hadoopConfiguration.set(&quot;fs.s3n.awsSecretAccessKey&quot;, awsSecretAccessKey)\r\n    sc.hadoopConfiguration.set(&quot;fs.s3n.impl&quot;, &quot;org.apache.hadoop.fs.s3native.NativeS3FileSystem&quot;)","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>I was facing the same issue. It worked fine after setting the value for fs.s3n.impl and adding hadoop-aws dependency. </p>\n\n<pre><code>sc.hadoopConfiguration.set(\"fs.s3n.awsAccessKeyId\", awsAccessKeyId)\nsc.hadoopConfiguration.set(\"fs.s3n.awsSecretAccessKey\", awsSecretAccessKey)\nsc.hadoopConfiguration.set(\"fs.s3n.impl\", \"org.apache.hadoop.fs.s3native.NativeS3FileSystem\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1105393,"reputation":1600,"user_id":1096899,"display_name":"James D"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1525965279,"creation_date":1525965279,"answer_id":50276200,"question_id":30851244,"body_markdown":"I had to copy the jar files from a hadoop download into the `$SPARK_HOME/jars` directory. Using the `--jars` flag or the `--packages` flag for spark-submit didn&#39;t work.\r\n\r\n\r\n\r\nDetails:\r\n\r\n * Spark 2.3.0\r\n * Hadoop downloaded was 2.7.6\r\n * Two jar files copied were from `(hadoop dir)/share/hadoop/tools/lib/`\r\n    * aws-java-sdk-1.7.4.jar\r\n    * hadoop-aws-2.7.6.jar\r\n","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>I had to copy the jar files from a hadoop download into the <code>$SPARK_HOME/jars</code> directory. Using the <code>--jars</code> flag or the <code>--packages</code> flag for spark-submit didn't work.</p>\n\n<p>Details:</p>\n\n<ul>\n<li>Spark 2.3.0</li>\n<li>Hadoop downloaded was 2.7.6</li>\n<li>Two jar files copied were from <code>(hadoop dir)/share/hadoop/tools/lib/</code>\n\n<ul>\n<li>aws-java-sdk-1.7.4.jar</li>\n<li>hadoop-aws-2.7.6.jar</li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2181997,"reputation":1082,"user_id":1931239,"accept_rate":67,"display_name":"Abdul Mannan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575482485,"creation_date":1573731580,"answer_id":58855941,"question_id":30851244,"body_markdown":"1. Download the `hadoop-aws` jar from [maven repository][1] matching your hadoop version.\r\n2. Copy the jar to `$SPARK_HOME/jars` location.\r\n\r\nNow in your Pyspark script, setup AWS Access Key &amp; Secret Access Key. \r\n\r\n    spark.sparkContext._jsc.hadoopConfiguration().set(&quot;fs.s3.awsAccessKeyId&quot;, &quot;ACCESS_KEY&quot;)\r\n    spark.sparkContext._jsc.hadoopConfiguration().set(&quot;fs.s3.awsSecretAccessKey&quot;, &quot;YOUR_SECRET_ACCESSS_KEY&quot;)\r\n\r\n    // where spark is SparkSession instance\r\n\r\n\r\nFor Spark scala:\r\n\r\n    spark.sparkContext.hadoopConfiguration.set(&quot;fs.s3.awsAccessKeyId&quot;, &quot;ACCESS_KEY&quot;)\r\n    spark.sparkContext.hadoopConfiguration.set(&quot;fs.s3.awsSecretAccessKey&quot;, &quot;YOUR_SECRET_ACCESSS_KEY&quot;)\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-aws","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<ol>\n<li>Download the <code>hadoop-aws</code> jar from <a href=\"https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-aws\" rel=\"nofollow noreferrer\">maven repository</a> matching your hadoop version.</li>\n<li>Copy the jar to <code>$SPARK_HOME/jars</code> location.</li>\n</ol>\n\n<p>Now in your Pyspark script, setup AWS Access Key &amp; Secret Access Key. </p>\n\n<pre><code>spark.sparkContext._jsc.hadoopConfiguration().set(\"fs.s3.awsAccessKeyId\", \"ACCESS_KEY\")\nspark.sparkContext._jsc.hadoopConfiguration().set(\"fs.s3.awsSecretAccessKey\", \"YOUR_SECRET_ACCESSS_KEY\")\n\n// where spark is SparkSession instance\n</code></pre>\n\n<p>For Spark scala:</p>\n\n<pre><code>spark.sparkContext.hadoopConfiguration.set(\"fs.s3.awsAccessKeyId\", \"ACCESS_KEY\")\nspark.sparkContext.hadoopConfiguration.set(\"fs.s3.awsSecretAccessKey\", \"YOUR_SECRET_ACCESSS_KEY\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13129492,"reputation":198,"user_id":9484396,"display_name":"Rony Armon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670599430,"creation_date":1670599430,"answer_id":74745072,"question_id":30851244,"body_markdown":"I was able to to read my S3 parquet files (Spark 3.3.1, Hadoop 3) using the configuration proposed [here][1]:\r\n\r\n    spark = SparkSession.builder.appName(&quot;Test_Parquet&quot;).master(&quot;local[*]&quot;)\\\r\n    .config(&quot;spark.hadoop.fs.s3a.impl&quot;,    &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\\\r\n    .config(&quot;spark.jars.packages&quot;,\r\n            &quot;org.apache.hadoop:hadoop-aws:3.2.2,&quot;\r\n            &quot;com.amazonaws:aws-java-sdk-bundle:1.12.180&quot;).getOrCreate()\r\n    spark._jsc.hadoopConfiguration().set(&quot;com.amazonaws.services.s3.enableV4&quot;,  &quot;true&quot;)\r\n    spark._jsc.hadoopConfiguration().set(&quot;fs.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\r\n    spark._jsc.hadoopConfiguration().set(&quot;fs.s3a.aws.credentials.provider&quot;,                              &quot;com.amazonaws.auth.InstanceProfileCredentialsProvider,com.amazonaws.auth.DefaultAWSCredentialsProviderChain&quot;)\r\n    spark._jsc.hadoopConfiguration().set(&quot;fs.AbstractFileSystem.s3a.impl&quot;,\\\r\n                                     &quot;org.apache.hadoop.fs.s3a.S3A&quot;)\r\n    df = spark.read.parquet(f&quot;s3a://{bucket_name}/{file_name}&quot;)\r\n\r\n\r\n\r\n  [1]: https://mageswaran1989.medium.com/2022-no-filesystem-for-scheme-s3-cbd72c99a50c","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>I was able to to read my S3 parquet files (Spark 3.3.1, Hadoop 3) using the configuration proposed <a href=\"https://mageswaran1989.medium.com/2022-no-filesystem-for-scheme-s3-cbd72c99a50c\" rel=\"nofollow noreferrer\">here</a>:</p>\n<pre><code>spark = SparkSession.builder.appName(&quot;Test_Parquet&quot;).master(&quot;local[*]&quot;)\\\n.config(&quot;spark.hadoop.fs.s3a.impl&quot;,    &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\\\n.config(&quot;spark.jars.packages&quot;,\n        &quot;org.apache.hadoop:hadoop-aws:3.2.2,&quot;\n        &quot;com.amazonaws:aws-java-sdk-bundle:1.12.180&quot;).getOrCreate()\nspark._jsc.hadoopConfiguration().set(&quot;com.amazonaws.services.s3.enableV4&quot;,  &quot;true&quot;)\nspark._jsc.hadoopConfiguration().set(&quot;fs.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\nspark._jsc.hadoopConfiguration().set(&quot;fs.s3a.aws.credentials.provider&quot;,                              &quot;com.amazonaws.auth.InstanceProfileCredentialsProvider,com.amazonaws.auth.DefaultAWSCredentialsProviderChain&quot;)\nspark._jsc.hadoopConfiguration().set(&quot;fs.AbstractFileSystem.s3a.impl&quot;,\\\n                                 &quot;org.apache.hadoop.fs.s3a.S3A&quot;)\ndf = spark.read.parquet(f&quot;s3a://{bucket_name}/{file_name}&quot;)\n</code></pre>\n"}],"owner":{"account_id":332025,"reputation":6449,"user_id":657067,"accept_rate":74,"display_name":"Polymerase"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116001,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":30852341,"answer_count":14,"score":52,"last_activity_date":1670599430,"creation_date":1434389002,"question_id":30851244,"body_markdown":"Trying to read a file located in S3 using spark-shell:\r\n\r\n    scala&gt; val myRdd = sc.textFile(&quot;s3n://myBucket/myFile1.log&quot;)\r\n    lyrics: org.apache.spark.rdd.RDD[String] = s3n://myBucket/myFile1.log MappedRDD[55] at textFile at &lt;console&gt;:12\r\n    \r\n    scala&gt; myRdd.count\r\n    java.io.IOException: No FileSystem for scheme: s3n\r\n    \tat org.apache.hadoop.fs.FileSystem.getFileSystemClass(FileSystem.java:2607)\r\n    \tat org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:2614)\r\n    \tat org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:91)\r\n        ... etc ...\r\n\r\nThe **IOException: No FileSystem for scheme: s3n** error occurred with:\r\n\r\n- Spark 1.31 or 1.40 on dev machine (no Hadoop libs)\r\n- Running from the [Hortonworks Sandbox HDP v2.2.4](http://hortonworks.com/hdp/downloads/) (Hadoop 2.60) which integrates Spark 1.2.1 out of the box\r\n- Using s3:// or s3n:// scheme\r\n\r\nWhat is the cause of this error? Missing dependency, Missing configuration, or mis-use of `sc.textFile()`?\r\n\r\nOr may be this is due to a bug that affects Spark build specific to Hadoop 2.60 as this [post](http://apache-spark-developers-list.1001551.n3.nabble.com/Spark-1-3-1-Hadoop-2-6-package-has-broken-S3-access-td12107.html) seems to suggest. I am going to try Spark for Hadoop 2.40 to see if this solves the issue.","title":"Spark read file from S3 using sc.textFile (&quot;s3n://...)","body":"<p>Trying to read a file located in S3 using spark-shell:</p>\n\n<pre><code>scala&gt; val myRdd = sc.textFile(\"s3n://myBucket/myFile1.log\")\nlyrics: org.apache.spark.rdd.RDD[String] = s3n://myBucket/myFile1.log MappedRDD[55] at textFile at &lt;console&gt;:12\n\nscala&gt; myRdd.count\njava.io.IOException: No FileSystem for scheme: s3n\n    at org.apache.hadoop.fs.FileSystem.getFileSystemClass(FileSystem.java:2607)\n    at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:2614)\n    at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:91)\n    ... etc ...\n</code></pre>\n\n<p>The <strong>IOException: No FileSystem for scheme: s3n</strong> error occurred with:</p>\n\n<ul>\n<li>Spark 1.31 or 1.40 on dev machine (no Hadoop libs)</li>\n<li>Running from the <a href=\"http://hortonworks.com/hdp/downloads/\">Hortonworks Sandbox HDP v2.2.4</a> (Hadoop 2.60) which integrates Spark 1.2.1 out of the box</li>\n<li>Using s3:// or s3n:// scheme</li>\n</ul>\n\n<p>What is the cause of this error? Missing dependency, Missing configuration, or mis-use of <code>sc.textFile()</code>?</p>\n\n<p>Or may be this is due to a bug that affects Spark build specific to Hadoop 2.60 as this <a href=\"http://apache-spark-developers-list.1001551.n3.nabble.com/Spark-1-3-1-Hadoop-2-6-package-has-broken-S3-access-td12107.html\">post</a> seems to suggest. I am going to try Spark for Hadoop 2.40 to see if this solves the issue.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1670575109,"post_id":74739533,"comment_id":131910309,"body_markdown":"If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted almost **600** (six hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.  Please take a moment and read [how to ask a question](https://stackoverflow.com/help/how-to-ask).","body":"If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted almost <b>600</b> (six hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.  Please take a moment and read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question</a>."},{"owner":{"account_id":18453405,"reputation":13,"user_id":13442885,"display_name":"Lou"},"score":0,"creation_date":1670577987,"post_id":74739533,"comment_id":131911099,"body_markdown":"Yes, you are right i deleted useless parts thank you for the tip !","body":"Yes, you are right i deleted useless parts thank you for the tip !"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1670578353,"post_id":74739533,"comment_id":131911225,"body_markdown":"Are you sure the user is authenticated when you call `.getUid()`? Maybe this [resource](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336) will help.","body":"Are you sure the user is authenticated when you call <code>.getUid()</code>? Maybe this <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">resource</a> will help."},{"owner":{"account_id":18453405,"reputation":13,"user_id":13442885,"display_name":"Lou"},"score":0,"creation_date":1670598122,"post_id":74739533,"comment_id":131917402,"body_markdown":"When i&#39;m in my MainActivity i can perfectly access to FirebaseAuth.getInstance().getCurrentUser() but when i&#39;m in a fragment or another activity it seems that user isn&#39;t authenticated and i can not access to getCurrentUser() anymore.","body":"When i&#39;m in my MainActivity i can perfectly access to FirebaseAuth.getInstance().getCurrentUser() but when i&#39;m in a fragment or another activity it seems that user isn&#39;t authenticated and i can not access to getCurrentUser() anymore."}],"answers":[{"tags":[],"owner":{"account_id":18453405,"reputation":13,"user_id":13442885,"display_name":"Lou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670599415,"creation_date":1670599415,"answer_id":74745067,"question_id":74739533,"body_markdown":"I found out why it doesn&#39;t work : \r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n    \r\n        // FIREBASE LOGOUT\r\n        FirebaseAuth.getInstance().signOut();\r\n        // GOOGLE LOGOUT\r\n        GoogleSignInOptions gso = new GoogleSignInOptions.\r\n                Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).\r\n                build();\r\n    \r\n        GoogleSignInClient googleSignInClient = GoogleSignIn.getClient(ConnexionActivity.this, gso);\r\n        googleSignInClient.signOut();\r\n        // FACBOOK LOGOUT\r\n        LoginManager.getInstance().logOut();\r\n        super.onDestroy();\r\n    }\r\nIn my ConnectionActivity\r\n\r\nThis disconnected my FirebaseUser when i destroyed ConnexionActivity after each connexion of the user. \r\n\r\nI switch it to my MainActivity which isn&#39;t destroyed until the app crash or the user forces it to close.","title":"Can&#39;t get firebaseAuth.getCurrentUser() from a second activity (or fragments)","body":"<p>I found out why it doesn't work :</p>\n<pre><code>@Override\nprotected void onDestroy() {\n\n    // FIREBASE LOGOUT\n    FirebaseAuth.getInstance().signOut();\n    // GOOGLE LOGOUT\n    GoogleSignInOptions gso = new GoogleSignInOptions.\n            Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).\n            build();\n\n    GoogleSignInClient googleSignInClient = GoogleSignIn.getClient(ConnexionActivity.this, gso);\n    googleSignInClient.signOut();\n    // FACBOOK LOGOUT\n    LoginManager.getInstance().logOut();\n    super.onDestroy();\n}\n</code></pre>\n<p>In my ConnectionActivity</p>\n<p>This disconnected my FirebaseUser when i destroyed ConnexionActivity after each connexion of the user.</p>\n<p>I switch it to my MainActivity which isn't destroyed until the app crash or the user forces it to close.</p>\n"}],"owner":{"account_id":18453405,"reputation":13,"user_id":13442885,"display_name":"Lou"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74745067,"answer_count":1,"score":0,"last_activity_date":1670599415,"creation_date":1670566633,"question_id":74739533,"body_markdown":"I need to get \r\n```\r\nFirebaseAuth.getInstance().getCurrentUser()\r\n```\r\nfrom a second activity &quot;DetailActivity&quot; but i&#39;ve got a Null pointer :\r\nAttempt to invoke virtual method &#39;java.lang.String com.google.firebase.auth.FirebaseUser.getUid()&#39; on a null object reference\r\n\r\nI can access it from the &quot;MainActivity&quot; but not from my bottomnavigationview fragments nor from the second activity &quot;DetailActivity&quot;\r\n\r\nhere is my code : \r\n\r\nConnexion activity\r\n\r\n\r\n\r\n```\r\npublic class ConnexionActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        mBinding = ActivityConnexionBinding.inflate(getLayoutInflater());\r\n        setContentView(mBinding.getRoot());\r\n        mAuth = FirebaseAuth.getInstance();\r\n        setGoogleSignIn();\r\n    }\r\n\r\n    //////////////////////GOOGLE LOGIN\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        // GOOGLE\r\n        if (requestCode == RC_SIGN_IN) {\r\n            Task&lt;GoogleSignInAccount&gt; mAccountTask = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n            try {\r\n                GoogleSignInAccount account = mAccountTask.getResult(ApiException.class);\r\n                FirebaseAuthWithGoogleAccount(account);\r\n            } catch (ApiException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n        } else {\r\n            Log.d(TAG, &quot;OnClick: ERROR ACTIVITY RESULT NOT OK&quot;);\r\n\r\n        }\r\n        // FACEBOOK\r\n        mCallbackManager.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n\r\n\r\n    private void FirebaseAuthWithGoogleAccount(GoogleSignInAccount account) {\r\n        Log.d(TAG, &quot;firebaseauthwithgoogleaccount: begin firebase auth with google account&quot;);\r\n        AuthCredential credential = GoogleAuthProvider.getCredential(account.getIdToken(), null);\r\n        mAuth.signInWithCredential(credential)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onSuccess(AuthResult authResult) {\r\n                        Log.d(TAG, &quot;OnSuccess: Logged in&quot;);\r\n                        // Get logged in user\r\n                        FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n                        // Get user info\r\n                        String uid = firebaseUser.getUid();\r\n                        String email = firebaseUser.getEmail();\r\n                        Log.d(TAG, &quot;OnSuccess: Email&quot; + email);\r\n                        Log.d(TAG, &quot;OnSuccess: uid&quot; + uid);\r\n                        // Check if user is new or existing\r\n                        if (Objects.requireNonNull(authResult.getAdditionalUserInfo()).isNewUser()) {\r\n                            // User is new account created\r\n                            Log.d(TAG, &quot;OnSuccess: Account created...\\n&quot; + email);\r\n                            Toast.makeText(ConnexionActivity.this, &quot;Account created...\\n&quot; + email, Toast.LENGTH_SHORT).show();\r\n                        } else {\r\n                            // Existing user logged in\r\n                            Log.d(TAG, &quot;OnSuccess: Existing user... \\n&quot; + email);\r\n                            Toast.makeText(ConnexionActivity.this, &quot;Existing user...\\n&quot; + email, Toast.LENGTH_SHORT).show();\r\n                        }\r\n\r\n                        // Start MainActivity\r\n                        startActivity(new Intent(ConnexionActivity.this, MainActivity.class));\r\n                        finish();\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Log.d(TAG, &quot;OnFailure: Loggin failed&quot; + e.getMessage());\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void setGoogleSignIn() {\r\n        // Configure google sign in\r\n        GoogleSignInOptions mGoogleSignInOption = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(getString(R.string.requestidtoken))\r\n                .requestEmail()\r\n                .build();\r\n        mGoogleSignInClient = GoogleSignIn.getClient(this, mGoogleSignInOption);\r\n\r\n        // Init firebase auth\r\n        mAuth = FirebaseAuth.getInstance();\r\n    }\r\n    //////////////////////GOOGLE END\r\n\r\n    FirebaseAuth.AuthStateListener mAuthListener = new FirebaseAuth.AuthStateListener() {\r\n        @Override\r\n        public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\r\n            FirebaseUser user = firebaseAuth.getCurrentUser();\r\n            if (user != null) {\r\n                //Start main activity\r\n                startActivity(new Intent(ConnexionActivity.this, MainActivity.class));\r\n                Toast.makeText(ConnexionActivity.this,\r\n                        &quot;You successfully signed-in &quot;, Toast.LENGTH_SHORT).show();\r\n                finish();\r\n            }\r\n        }\r\n    };\r\n//    @Override\r\n//    protected void onDestroy() {\r\n//\r\n//        // FIREBASE LOGOUT\r\n//        FirebaseAuth.getInstance().signOut();\r\n//        // GOOGLE LOGOUT\r\n//        GoogleSignInOptions gso = new GoogleSignInOptions.\r\n//                Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).\r\n//                build();\r\n//\r\n//        GoogleSignInClient googleSignInClient = GoogleSignIn.getClient(ConnexionActivity.this, gso);\r\n//        googleSignInClient.signOut();\r\n//        // FACBOOK LOGOUT\r\n//        LoginManager.getInstance().logOut();\r\n//        super.onDestroy();\r\n//    }\r\n\r\n```\r\n\r\nMainActivity :\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        mBinding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        View view = mBinding.getRoot();\r\n        setContentView(view);\r\n        mAuth = FirebaseAuth.getInstance();\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        // Check if user is signed in (non-null) and update UI accordingly.\r\n        FirebaseUser currentUser = mAuth.getCurrentUser();\r\n        if(currentUser == null){\r\n            reload();\r\n        }\r\n    }\r\n\r\n    // restart connexion activity if the user isn&#39;t connected\r\n    private void reload(){\r\n            startActivity(new Intent(this, ConnexionActivity.class));\r\n            finish();\r\n    }\r\n\r\n    private void setBottomNavigationView(){\r\n        mBinding.bottomNavigation.setOnNavigationItemSelectedListener(navListener);\r\n        getSupportFragmentManager().beginTransaction().replace(mBinding.fragmentContainer.getId(), new MapFragment()).commit();\r\n    }\r\n\r\n    private final BottomNavigationView.OnNavigationItemSelectedListener navListener = item -&gt; {\r\n\r\n        Fragment selectedFragment = null;\r\n        int itemId = item.getItemId();\r\n        if (itemId == R.id.map_view) {\r\n            selectedFragment = new MapFragment();\r\n        } else if (itemId == R.id.list_view) {\r\n            selectedFragment = new ListViewFragment();\r\n        } else if (itemId == R.id.workmates) {\r\n                selectedFragment = new WorkmatesFragment();\r\n        }\r\n        if (selectedFragment != null) {\r\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, selectedFragment).commit();\r\n        }\r\n        return true;\r\n    };\r\n\r\n```\r\n\r\nThe fragment adapter where i launch the DetailActivity :\r\n\r\n\r\n```\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\r\n        final Result restaurant = mRestaurants.get(position);\r\n        ((ListViewViewHolder) holder).itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Context context = view.getContext();\r\n                Intent intent = new Intent(context, DetailActivity.class);\r\n                intent.putExtra(&quot;idrestaurant&quot;, restaurant.getPlaceId());\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\nDetailActivty : \r\n\r\n\r\n```\r\npublic class DetailActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        mBinding = ActivityDetailBinding.inflate(getLayoutInflater());\r\n        View view = mBinding.getRoot();\r\n        setContentView(view);\r\n    }\r\n    private void setClickChosenRestaurantButton(){\r\n        mBinding.fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                    if (FirebaseAuth.getInstance().getCurrentUser() != null) {\r\n                        Map&lt;String, Object&gt; chosenRestaurant = new HashMap&lt;&gt;();\r\n                        chosenRestaurant.put(&quot;restaurantChosen&quot;, getRestaurantId());\r\n                        FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n                        DocumentReference docRef = UserCallData.getAllUsers().getFirestore().collection(&quot;users&quot;).document(firebaseUser.getUid());\r\n                        docRef.set(chosenRestaurant, SetOptions.merge()).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                Log.d(&quot;123&quot;, &quot;DocumentSnapshot successfully written!&quot;);\r\n                            }\r\n                        }).addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                                Log.d(&quot;123&quot;, &quot;Error writing document&quot;, e);\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        Log.d(&quot;123&quot;, &quot;pb with firebaseauth!&quot;);\r\n                    }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nD/123: pb with firebaseauth!\r\n \r\n\r\n\r\n\r\n\r\n\r\n\r\nTo be honest i do not understand in detail the behavior of the Firebase auth system that&#39;s why i&#39;m stuck here.\r\n\r\nAny idea? ","title":"Can&#39;t get firebaseAuth.getCurrentUser() from a second activity (or fragments)","body":"<p>I need to get</p>\n<pre><code>FirebaseAuth.getInstance().getCurrentUser()\n</code></pre>\n<p>from a second activity &quot;DetailActivity&quot; but i've got a Null pointer :\nAttempt to invoke virtual method 'java.lang.String com.google.firebase.auth.FirebaseUser.getUid()' on a null object reference</p>\n<p>I can access it from the &quot;MainActivity&quot; but not from my bottomnavigationview fragments nor from the second activity &quot;DetailActivity&quot;</p>\n<p>here is my code :</p>\n<p>Connexion activity</p>\n<pre><code>public class ConnexionActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        mBinding = ActivityConnexionBinding.inflate(getLayoutInflater());\n        setContentView(mBinding.getRoot());\n        mAuth = FirebaseAuth.getInstance();\n        setGoogleSignIn();\n    }\n\n    //////////////////////GOOGLE LOGIN\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        // GOOGLE\n        if (requestCode == RC_SIGN_IN) {\n            Task&lt;GoogleSignInAccount&gt; mAccountTask = GoogleSignIn.getSignedInAccountFromIntent(data);\n            try {\n                GoogleSignInAccount account = mAccountTask.getResult(ApiException.class);\n                FirebaseAuthWithGoogleAccount(account);\n            } catch (ApiException e) {\n                e.printStackTrace();\n            }\n\n        } else {\n            Log.d(TAG, &quot;OnClick: ERROR ACTIVITY RESULT NOT OK&quot;);\n\n        }\n        // FACEBOOK\n        mCallbackManager.onActivityResult(requestCode, resultCode, data);\n    }\n\n\n    private void FirebaseAuthWithGoogleAccount(GoogleSignInAccount account) {\n        Log.d(TAG, &quot;firebaseauthwithgoogleaccount: begin firebase auth with google account&quot;);\n        AuthCredential credential = GoogleAuthProvider.getCredential(account.getIdToken(), null);\n        mAuth.signInWithCredential(credential)\n                .addOnSuccessListener(new OnSuccessListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onSuccess(AuthResult authResult) {\n                        Log.d(TAG, &quot;OnSuccess: Logged in&quot;);\n                        // Get logged in user\n                        FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\n                        // Get user info\n                        String uid = firebaseUser.getUid();\n                        String email = firebaseUser.getEmail();\n                        Log.d(TAG, &quot;OnSuccess: Email&quot; + email);\n                        Log.d(TAG, &quot;OnSuccess: uid&quot; + uid);\n                        // Check if user is new or existing\n                        if (Objects.requireNonNull(authResult.getAdditionalUserInfo()).isNewUser()) {\n                            // User is new account created\n                            Log.d(TAG, &quot;OnSuccess: Account created...\\n&quot; + email);\n                            Toast.makeText(ConnexionActivity.this, &quot;Account created...\\n&quot; + email, Toast.LENGTH_SHORT).show();\n                        } else {\n                            // Existing user logged in\n                            Log.d(TAG, &quot;OnSuccess: Existing user... \\n&quot; + email);\n                            Toast.makeText(ConnexionActivity.this, &quot;Existing user...\\n&quot; + email, Toast.LENGTH_SHORT).show();\n                        }\n\n                        // Start MainActivity\n                        startActivity(new Intent(ConnexionActivity.this, MainActivity.class));\n                        finish();\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Log.d(TAG, &quot;OnFailure: Loggin failed&quot; + e.getMessage());\n                    }\n                });\n    }\n\n    private void setGoogleSignIn() {\n        // Configure google sign in\n        GoogleSignInOptions mGoogleSignInOption = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                .requestIdToken(getString(R.string.requestidtoken))\n                .requestEmail()\n                .build();\n        mGoogleSignInClient = GoogleSignIn.getClient(this, mGoogleSignInOption);\n\n        // Init firebase auth\n        mAuth = FirebaseAuth.getInstance();\n    }\n    //////////////////////GOOGLE END\n\n    FirebaseAuth.AuthStateListener mAuthListener = new FirebaseAuth.AuthStateListener() {\n        @Override\n        public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\n            FirebaseUser user = firebaseAuth.getCurrentUser();\n            if (user != null) {\n                //Start main activity\n                startActivity(new Intent(ConnexionActivity.this, MainActivity.class));\n                Toast.makeText(ConnexionActivity.this,\n                        &quot;You successfully signed-in &quot;, Toast.LENGTH_SHORT).show();\n                finish();\n            }\n        }\n    };\n//    @Override\n//    protected void onDestroy() {\n//\n//        // FIREBASE LOGOUT\n//        FirebaseAuth.getInstance().signOut();\n//        // GOOGLE LOGOUT\n//        GoogleSignInOptions gso = new GoogleSignInOptions.\n//                Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).\n//                build();\n//\n//        GoogleSignInClient googleSignInClient = GoogleSignIn.getClient(ConnexionActivity.this, gso);\n//        googleSignInClient.signOut();\n//        // FACBOOK LOGOUT\n//        LoginManager.getInstance().logOut();\n//        super.onDestroy();\n//    }\n\n</code></pre>\n<p>MainActivity :</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        mBinding = ActivityMainBinding.inflate(getLayoutInflater());\n        View view = mBinding.getRoot();\n        setContentView(view);\n        mAuth = FirebaseAuth.getInstance();\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        // Check if user is signed in (non-null) and update UI accordingly.\n        FirebaseUser currentUser = mAuth.getCurrentUser();\n        if(currentUser == null){\n            reload();\n        }\n    }\n\n    // restart connexion activity if the user isn't connected\n    private void reload(){\n            startActivity(new Intent(this, ConnexionActivity.class));\n            finish();\n    }\n\n    private void setBottomNavigationView(){\n        mBinding.bottomNavigation.setOnNavigationItemSelectedListener(navListener);\n        getSupportFragmentManager().beginTransaction().replace(mBinding.fragmentContainer.getId(), new MapFragment()).commit();\n    }\n\n    private final BottomNavigationView.OnNavigationItemSelectedListener navListener = item -&gt; {\n\n        Fragment selectedFragment = null;\n        int itemId = item.getItemId();\n        if (itemId == R.id.map_view) {\n            selectedFragment = new MapFragment();\n        } else if (itemId == R.id.list_view) {\n            selectedFragment = new ListViewFragment();\n        } else if (itemId == R.id.workmates) {\n                selectedFragment = new WorkmatesFragment();\n        }\n        if (selectedFragment != null) {\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, selectedFragment).commit();\n        }\n        return true;\n    };\n\n</code></pre>\n<p>The fragment adapter where i launch the DetailActivity :</p>\n<pre><code>    @Override\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\n        final Result restaurant = mRestaurants.get(position);\n        ((ListViewViewHolder) holder).itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Context context = view.getContext();\n                Intent intent = new Intent(context, DetailActivity.class);\n                intent.putExtra(&quot;idrestaurant&quot;, restaurant.getPlaceId());\n                context.startActivity(intent);\n            }\n        });\n    }\n}\n</code></pre>\n<p>DetailActivty :</p>\n<pre><code>public class DetailActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        mBinding = ActivityDetailBinding.inflate(getLayoutInflater());\n        View view = mBinding.getRoot();\n        setContentView(view);\n    }\n    private void setClickChosenRestaurantButton(){\n        mBinding.fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                    if (FirebaseAuth.getInstance().getCurrentUser() != null) {\n                        Map&lt;String, Object&gt; chosenRestaurant = new HashMap&lt;&gt;();\n                        chosenRestaurant.put(&quot;restaurantChosen&quot;, getRestaurantId());\n                        FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\n                        DocumentReference docRef = UserCallData.getAllUsers().getFirestore().collection(&quot;users&quot;).document(firebaseUser.getUid());\n                        docRef.set(chosenRestaurant, SetOptions.merge()).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                Log.d(&quot;123&quot;, &quot;DocumentSnapshot successfully written!&quot;);\n                            }\n                        }).addOnFailureListener(new OnFailureListener() {\n                            @Override\n                            public void onFailure(@NonNull Exception e) {\n                                Log.d(&quot;123&quot;, &quot;Error writing document&quot;, e);\n                            }\n                        });\n                    }\n                    else {\n                        Log.d(&quot;123&quot;, &quot;pb with firebaseauth!&quot;);\n                    }\n            }\n        });\n    }\n}\n</code></pre>\n<p>D/123: pb with firebaseauth!</p>\n<p>To be honest i do not understand in detail the behavior of the Firebase auth system that's why i'm stuck here.</p>\n<p>Any idea?</p>\n"},{"tags":["java","html","yaml","mustache","dropwizard"],"answers":[{"comments":[{"owner":{"account_id":1235446,"reputation":522,"user_id":1199114,"accept_rate":80,"display_name":"Bisoux"},"score":0,"creation_date":1670616114,"post_id":38242094,"comment_id":131922550,"body_markdown":"I tried to implement this for a similar use case. In my attempt i am facing two issues, url is displayed as plain text and second in instances where href=null the hyperlink text is still displayed https://stackoverflow.com/questions/74745046/issue-with-rendering-a-hyperlink-using-mustache?noredirect=1#comment131918311_74745046","body":"I tried to implement this for a similar use case. In my attempt i am facing two issues, url is displayed as plain text and second in instances where href=null the hyperlink text is still displayed <a href=\"https://stackoverflow.com/questions/74745046/issue-with-rendering-a-hyperlink-using-mustache?noredirect=1#comment131918311_74745046\" title=\"issue with rendering a hyperlink using mustache\">stackoverflow.com/questions/74745046/&hellip;</a>"}],"tags":[],"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1467884117,"creation_date":1467884117,"answer_id":38242094,"question_id":38238880,"body_markdown":"Mustache is logic-less, so you must provide a boolean value in your YAML file:\r\n\r\n    href: false\r\n\r\nYAML also allows `off` and `no` as boolean values that map to `false`. You can then write a mustache file like this:\r\n\r\n    &lt;a{{#href}} href=&quot;example.com&quot;{{/href}}&gt;\r\n\r\nThe Text inside `{{#href}}` … `{{/href}}` will only render if `href` exists and is not `false`. Note that you must set it to `true` for the tag to render.","title":"How can I disable an anchor element in mustache file using YML configuration?","body":"<p>Mustache is logic-less, so you must provide a boolean value in your YAML file:</p>\n\n<pre><code>href: false\n</code></pre>\n\n<p>YAML also allows <code>off</code> and <code>no</code> as boolean values that map to <code>false</code>. You can then write a mustache file like this:</p>\n\n<pre><code>&lt;a{{#href}} href=\"example.com\"{{/href}}&gt;\n</code></pre>\n\n<p>The Text inside <code>{{#href}}</code> … <code>{{/href}}</code> will only render if <code>href</code> exists and is not <code>false</code>. Note that you must set it to <code>true</code> for the tag to render.</p>\n"}],"owner":{"account_id":7680103,"reputation":136,"user_id":5819582,"accept_rate":0,"display_name":"user57"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670599385,"creation_date":1467873345,"question_id":38238880,"body_markdown":"I have to disable a link in mustache file by getting value from YML configuration (in Dropwizard). If the value is disable, it should hide the element in the page so that user should not able to click the link. Is it possible to do this function?","title":"How can I disable an anchor element in mustache file using YML configuration?","body":"<p>I have to disable a link in mustache file by getting value from YML configuration (in Dropwizard). If the value is disable, it should hide the element in the page so that user should not able to click the link. Is it possible to do this function?</p>\n"},{"tags":["java","swing","graphics","3d"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1670604984,"post_id":74745029,"comment_id":131919564,"body_markdown":"To convert x, y, z coordinates to drawing x, y coordinates, you need an observer point.  Draw imaginary lines from the observer point to the vertexes of the cube.  Where those lines intersect the drawing plane is where you draw your cube vertexes.","body":"To convert x, y, z coordinates to drawing x, y coordinates, you need an observer point.  Draw imaginary lines from the observer point to the vertexes of the cube.  Where those lines intersect the drawing plane is where you draw your cube vertexes."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1670614473,"post_id":74745029,"comment_id":131922201,"body_markdown":"I recommend JOGL (Java Open Graphics Library) vs. Swing for doing what you are doing. Swing wasn&#39;t made for doing what you are doing, whereas OGL was :)","body":"I recommend JOGL (Java Open Graphics Library) vs. Swing for doing what you are doing. Swing wasn&#39;t made for doing what you are doing, whereas OGL was :)"},{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1677665700,"post_id":74745029,"comment_id":133381166,"body_markdown":"possible duplicate? https://stackoverflow.com/questions/724219/how-to-convert-a-3d-point-into-2d-perspective-projection","body":"possible duplicate? <a href=\"https://stackoverflow.com/questions/724219/how-to-convert-a-3d-point-into-2d-perspective-projection\" title=\"how to convert a 3d point into 2d perspective projection\">stackoverflow.com/questions/724219/&hellip;</a>"}],"owner":{"account_id":19989112,"reputation":87,"user_id":14780475,"display_name":"annd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670599171,"creation_date":1670599171,"question_id":74745029,"body_markdown":"I have a cube and there is a need to add a 3D coordinate system to it. \r\n\r\nThere is an example my coordinate system with a cube should approximtely look like:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nUnfortunately, my progress seems so far from this example:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sV3TX.png\r\n  [2]: https://i.stack.imgur.com/aky9p.png\r\n\r\nMaybe, I can find out how to draw X and Y axis, but I have no idea how to add the Z axis.\r\nSo, how to build the right coordinate sytem?\r\n\r\nMy code:\r\n```\r\nimport java.awt.*;\r\nimport static java.lang.Math.*;\r\nimport javax.swing.*;\r\n\r\npublic class Cube extends JPanel {\r\n    double[][] nodes = {{-1, -1, -1}, {-1, -1, 1}, {-1, 1, -1}, {-1, 1, 1},\r\n            {1, -1, -1}, {1, -1, 1}, {1, 1, -1}, {1, 1, 1}};\r\n\r\n    int[][] edges = {{0, 1}, {1, 3}, {3, 2}, {2, 0}, {4, 5}, {5, 7}, {7, 6},\r\n            {6, 4}, {0, 4}, {1, 5}, {2, 6}, {3, 7}};\r\n\r\n    public Cube() {\r\n        setPreferredSize(new Dimension(640, 640));\r\n        setBackground(Color.white);\r\n\r\n        scale(50);\r\n        rotateCube(Math.toRadians(60), Math.toRadians(10), Math.toRadians(0));\r\n    }\r\n\r\n    final void scale(double s) {\r\n        for (double[] node : nodes) {\r\n            node[0] *= s;\r\n            node[1] *= s;\r\n            node[2] *= s;\r\n        }\r\n    }\r\n\r\n    final void rotateCube(double angleX, double angleY, double angleZ) {\r\n        double sinX = sin(angleX);\r\n        double cosX = cos(angleX);\r\n\r\n        double sinY = sin(angleY);\r\n        double cosY = cos(angleY);\r\n\r\n        double sinZ = sin(angleZ);\r\n        double cosZ = cos(angleZ);\r\n\r\n        for (double[] node : nodes) {\r\n            double x = node[0];\r\n            double y = node[1];\r\n            double z = node[2];\r\n\r\n            node[0] = x * cosX - z * sinX;\r\n            node[2] = z * cosX + x * sinX;\r\n\r\n            z = node[2];\r\n\r\n            node[1] = y * cosY - z * sinY;\r\n            node[2] = y * sinY + z * cosY;\r\n\r\n            x = node[0];\r\n            y = node[1];\r\n\r\n            node[0] = x * cosZ + y * sinZ;\r\n            node[1] = y * cosZ - x * sinZ;\r\n        }\r\n    }\r\n\r\n    void drawCube(Graphics2D g) {\r\n        g.translate(getWidth() / 2, getHeight() / 2);\r\n\r\n        g.setColor(Color.BLACK);\r\n        for (int[] edge : edges) {\r\n            double[] xy1 = nodes[edge[0]];\r\n            double[] xy2 = nodes[edge[1]];\r\n            g.drawLine((int) round(xy1[0]), (int) round(xy1[1]),\r\n                    (int) round(xy2[0]), (int) round(xy2[1]));\r\n        }\r\n\r\n        for (double[] node : nodes)\r\n            g.fillOval((int) round(node[0]) - 4, (int) round(node[1]) - 4, 8, 8);\r\n    }\r\n\r\n    void drawAxis(Graphics2D g) {\r\n        int x_c = getWidth() / 2;\r\n        int y_c = getHeight() / 2;\r\n\r\n        // X - axis\r\n        g.setColor(Color.green);\r\n        g.drawLine(round(x_c + 300), round(y_c), round(x_c), round(y_c));\r\n\r\n        // Y- axis\r\n        g.setColor(Color.blue);\r\n        g.drawLine(round(x_c), round(y_c), round(x_c), round(y_c) + 300);\r\n    }\r\n\r\n    @Override\r\n    public void paintComponent(Graphics gg) {\r\n        super.paintComponent(gg);\r\n        Graphics2D g = (Graphics2D) gg;\r\n        g.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n                RenderingHints.VALUE_ANTIALIAS_ON);\r\n\r\n        drawAxis(g);\r\n        drawCube(g);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            JFrame f = new JFrame();\r\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            f.setTitle(&quot;Rotating Cube&quot;);\r\n            f.setResizable(false);\r\n            f.add(new Cube(), BorderLayout.CENTER);\r\n            f.pack();\r\n            f.setLocationRelativeTo(null);\r\n            f.setVisible(true);\r\n        });\r\n    }\r\n} \r\n```","title":"How to draw a cube with a coordinate system in Swing","body":"<p>I have a cube and there is a need to add a 3D coordinate system to it.</p>\n<p>There is an example my coordinate system with a cube should approximtely look like:\n<a href=\"https://i.stack.imgur.com/sV3TX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sV3TX.png\" alt=\"enter image description here\" /></a></p>\n<p>Unfortunately, my progress seems so far from this example:\n<a href=\"https://i.stack.imgur.com/aky9p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aky9p.png\" alt=\"enter image description here\" /></a></p>\n<p>Maybe, I can find out how to draw X and Y axis, but I have no idea how to add the Z axis.\nSo, how to build the right coordinate sytem?</p>\n<p>My code:</p>\n<pre><code>import java.awt.*;\nimport static java.lang.Math.*;\nimport javax.swing.*;\n\npublic class Cube extends JPanel {\n    double[][] nodes = {{-1, -1, -1}, {-1, -1, 1}, {-1, 1, -1}, {-1, 1, 1},\n            {1, -1, -1}, {1, -1, 1}, {1, 1, -1}, {1, 1, 1}};\n\n    int[][] edges = {{0, 1}, {1, 3}, {3, 2}, {2, 0}, {4, 5}, {5, 7}, {7, 6},\n            {6, 4}, {0, 4}, {1, 5}, {2, 6}, {3, 7}};\n\n    public Cube() {\n        setPreferredSize(new Dimension(640, 640));\n        setBackground(Color.white);\n\n        scale(50);\n        rotateCube(Math.toRadians(60), Math.toRadians(10), Math.toRadians(0));\n    }\n\n    final void scale(double s) {\n        for (double[] node : nodes) {\n            node[0] *= s;\n            node[1] *= s;\n            node[2] *= s;\n        }\n    }\n\n    final void rotateCube(double angleX, double angleY, double angleZ) {\n        double sinX = sin(angleX);\n        double cosX = cos(angleX);\n\n        double sinY = sin(angleY);\n        double cosY = cos(angleY);\n\n        double sinZ = sin(angleZ);\n        double cosZ = cos(angleZ);\n\n        for (double[] node : nodes) {\n            double x = node[0];\n            double y = node[1];\n            double z = node[2];\n\n            node[0] = x * cosX - z * sinX;\n            node[2] = z * cosX + x * sinX;\n\n            z = node[2];\n\n            node[1] = y * cosY - z * sinY;\n            node[2] = y * sinY + z * cosY;\n\n            x = node[0];\n            y = node[1];\n\n            node[0] = x * cosZ + y * sinZ;\n            node[1] = y * cosZ - x * sinZ;\n        }\n    }\n\n    void drawCube(Graphics2D g) {\n        g.translate(getWidth() / 2, getHeight() / 2);\n\n        g.setColor(Color.BLACK);\n        for (int[] edge : edges) {\n            double[] xy1 = nodes[edge[0]];\n            double[] xy2 = nodes[edge[1]];\n            g.drawLine((int) round(xy1[0]), (int) round(xy1[1]),\n                    (int) round(xy2[0]), (int) round(xy2[1]));\n        }\n\n        for (double[] node : nodes)\n            g.fillOval((int) round(node[0]) - 4, (int) round(node[1]) - 4, 8, 8);\n    }\n\n    void drawAxis(Graphics2D g) {\n        int x_c = getWidth() / 2;\n        int y_c = getHeight() / 2;\n\n        // X - axis\n        g.setColor(Color.green);\n        g.drawLine(round(x_c + 300), round(y_c), round(x_c), round(y_c));\n\n        // Y- axis\n        g.setColor(Color.blue);\n        g.drawLine(round(x_c), round(y_c), round(x_c), round(y_c) + 300);\n    }\n\n    @Override\n    public void paintComponent(Graphics gg) {\n        super.paintComponent(gg);\n        Graphics2D g = (Graphics2D) gg;\n        g.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                RenderingHints.VALUE_ANTIALIAS_ON);\n\n        drawAxis(g);\n        drawCube(g);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            JFrame f = new JFrame();\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            f.setTitle(&quot;Rotating Cube&quot;);\n            f.setResizable(false);\n            f.add(new Cube(), BorderLayout.CENTER);\n            f.pack();\n            f.setLocationRelativeTo(null);\n            f.setVisible(true);\n        });\n    }\n} \n</code></pre>\n"},{"tags":["java","spring","junit5","spring-test"],"comments":[{"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"score":0,"creation_date":1670598873,"post_id":74740394,"comment_id":131917638,"body_markdown":"Please describe your use case. In other words, why do you need the test instance lifecycle in a Spring `TestExecutionListener`?","body":"Please describe your use case. In other words, why do you need the test instance lifecycle in a Spring <code>TestExecutionListener</code>?"},{"owner":{"account_id":113283,"reputation":11626,"user_id":298430,"accept_rate":66,"display_name":"smallufo"},"score":0,"creation_date":1670685073,"post_id":74740394,"comment_id":131932562,"body_markdown":"@SamBrannen I want to process something in `afterTestClass` and `afterTestMethod` depending on PER_CLASS or PER_METHOD","body":"@SamBrannen I want to process something in <code>afterTestClass</code> and <code>afterTestMethod</code> depending on PER_CLASS or PER_METHOD"}],"answers":[{"comments":[{"owner":{"account_id":113283,"reputation":11626,"user_id":298430,"accept_rate":66,"display_name":"smallufo"},"score":0,"creation_date":1670830851,"post_id":74744962,"comment_id":131955589,"body_markdown":"I tried to implement junit5&#39;s `AfterEachCallback` in my custom ExecitionListener : `MyExecutionListener extends AbstractTestExecutionListner implements AfterEachCallback` , but it seems spring&#39;s AbstractTestExecutionListner swallows junit5&#39;s callback and AfterEachCallback is not called .  Is there any way to solve this ?","body":"I tried to implement junit5&#39;s <code>AfterEachCallback</code> in my custom ExecitionListener : <code>MyExecutionListener extends AbstractTestExecutionListner implements AfterEachCallback</code> , but it seems spring&#39;s AbstractTestExecutionListner swallows junit5&#39;s callback and AfterEachCallback is not called .  Is there any way to solve this ?"}],"tags":[],"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670598830,"creation_date":1670598830,"answer_id":74744962,"question_id":74740394,"body_markdown":"No, you cannot access JUnit Jupiter APIs or features such as the test instance lifecycle from a Spring `TestExecutionListener`.\r\n\r\nThe Spring `TestExecutionListener` and `TestContext` APIs are agnostic of the underlying testing framework (e.g., JUnit, TestNG, etc.).\r\n\r\nIf you need access to JUnit-specific features, you might consider implementing a JUnit Jupiter `Extension` instead of a Spring `TestExecutionListener`. Note that a Spring `TestExecutionListener` can obtain access the Spring `ApplicationContext` via `SpringExtension.getApplicationContext(ExtensionContext)`.","title":"How to get JUnit5&#39;s TestInstance&#39;s LifeCycle in Spring&#39;s TestExectionListener?","body":"<p>No, you cannot access JUnit Jupiter APIs or features such as the test instance lifecycle from a Spring <code>TestExecutionListener</code>.</p>\n<p>The Spring <code>TestExecutionListener</code> and <code>TestContext</code> APIs are agnostic of the underlying testing framework (e.g., JUnit, TestNG, etc.).</p>\n<p>If you need access to JUnit-specific features, you might consider implementing a JUnit Jupiter <code>Extension</code> instead of a Spring <code>TestExecutionListener</code>. Note that a Spring <code>TestExecutionListener</code> can obtain access the Spring <code>ApplicationContext</code> via <code>SpringExtension.getApplicationContext(ExtensionContext)</code>.</p>\n"}],"owner":{"account_id":113283,"reputation":11626,"user_id":298430,"accept_rate":66,"display_name":"smallufo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670598830,"creation_date":1670573551,"question_id":74740394,"body_markdown":"Is there any way to get [TestInstance.LifeCycle](https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/TestInstance.Lifecycle.html)  (PER_CLASS or PER_METHOD) in SpringTest&#39;s [TestExecutionListener](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/TestExecutionListener.html) ?\r\n\r\nFor example , in method `afterTestMethod(TestContext testContext)` , how to get current TestInstance&#39;s LifeCycle ?\r\n\r\nI looked into TestContext code but seems no related API.\r\n\r\nThen, I tried to traverse `testContext.getTextClass().getDeclaredAnnotations()` , but I think it is not sufficient, as JUnit5 supports declaring default lifecycle in properties or system environment.\r\n\r\nIs there any other way to achieve this ? Thanks.","title":"How to get JUnit5&#39;s TestInstance&#39;s LifeCycle in Spring&#39;s TestExectionListener?","body":"<p>Is there any way to get <a href=\"https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/TestInstance.Lifecycle.html\" rel=\"nofollow noreferrer\">TestInstance.LifeCycle</a>  (PER_CLASS or PER_METHOD) in SpringTest's <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/TestExecutionListener.html\" rel=\"nofollow noreferrer\">TestExecutionListener</a> ?</p>\n<p>For example , in method <code>afterTestMethod(TestContext testContext)</code> , how to get current TestInstance's LifeCycle ?</p>\n<p>I looked into TestContext code but seems no related API.</p>\n<p>Then, I tried to traverse <code>testContext.getTextClass().getDeclaredAnnotations()</code> , but I think it is not sufficient, as JUnit5 supports declaring default lifecycle in properties or system environment.</p>\n<p>Is there any other way to achieve this ? Thanks.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1584649117,"post_id":60764388,"comment_id":107508991,"body_markdown":"By &#39;the key contains an uppercase&#39;, do you mean &#39;the key is an uppercase letter&#39;? Or is &#39;key&#39; something other than a string containing a single character?","body":"By &#39;the key contains an uppercase&#39;, do you mean &#39;the key is an uppercase letter&#39;? Or is &#39;key&#39; something other than a string containing a single character?"},{"owner":{"account_id":10675972,"reputation":5010,"user_id":7859515,"accept_rate":100,"display_name":"MyStackRunnethOver"},"score":3,"creation_date":1584649261,"post_id":60764388,"comment_id":107509036,"body_markdown":"The answer to such questions is pretty much always &quot;[use a regex](https://www.vogella.com/tutorials/JavaRegularExpressions/article.html)&quot; - they&#39;re a very helpful and powerful tool, I encourage you to learn about them in general to solve your problem","body":"The answer to such questions is pretty much always &quot;<a href=\"https://www.vogella.com/tutorials/JavaRegularExpressions/article.html\" rel=\"nofollow noreferrer\">use a regex</a>&quot; - they&#39;re a very helpful and powerful tool, I encourage you to learn about them in general to solve your problem"}],"answers":[{"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1584651861,"post_id":60764426,"comment_id":107509965,"body_markdown":"Will not work! You missed at least one letter: &#196;! Although it is not in the list from the sample in the question, it is an Uppercase letter … like &#220;, Π or Ҫ.","body":"Will not work! You missed at least one letter: &#196;! Although it is not in the list from the sample in the question, it is an Uppercase letter … like &#220;, Π or Ҫ."},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1584653524,"post_id":60764426,"comment_id":107510591,"body_markdown":"@tquadrat While I agree that the answer in itself is incomplete because of all accentuated characters, it matches exactly the list of letters expected by the questioner.","body":"@tquadrat While I agree that the answer in itself is incomplete because of all accentuated characters, it matches exactly the list of letters expected by the questioner."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1584653891,"post_id":60764426,"comment_id":107510712,"body_markdown":"@OlivierGr&#233;goire: The questioner specified, that the String may not contain any uppercase characters, but their own implementation screwed that up already as their code did not regard all possible uppercase characters.","body":"@OlivierGr&#233;goire: The questioner specified, that the String may not contain any uppercase characters, but their own implementation screwed that up already as their code did not regard all possible uppercase characters."}],"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1584648994,"creation_date":1584648994,"answer_id":60764426,"question_id":60764388,"body_markdown":"Just use the proper regex with `matcher.find()` \r\n\r\n    Pattern.compile(&quot;[A-Z]&quot;).matcher(key).find()","title":"How to check if a string contains uppercase java","body":"<p>Just use the proper regex with <code>matcher.find()</code> </p>\n\n<pre><code>Pattern.compile(\"[A-Z]\").matcher(key).find()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1584654766,"post_id":60764473,"comment_id":107510981,"body_markdown":"@KonradRudolph No, that&#39;s used by method handle. Regarding the performances, regexes can be fast if they are reused. Most of the time, people don&#39;t reuse them. Plus, the compile time is usually very slow.","body":"@KonradRudolph No, that&#39;s used by method handle. Regarding the performances, regexes can be fast if they are reused. Most of the time, people don&#39;t reuse them. Plus, the compile time is usually very slow."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1584655093,"post_id":60764473,"comment_id":107511079,"body_markdown":"Yeah I realised. However, don’t underestimate the heavy lifting that `char` is doing. I got bored tracing all the calls but it constructs a considerable call tree through many classes. Streams in Java are by no means lightweight.","body":"Yeah I realised. However, don’t underestimate the heavy lifting that <code>char</code> is doing. I got bored tracing all the calls but it constructs a considerable call tree through many classes. Streams in Java are by no means lightweight."}],"tags":[],"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1584649256,"creation_date":1584649256,"answer_id":60764473,"question_id":60764388,"body_markdown":"With streams, you can to the following.\r\n\r\n    key.chars().anyMatch(Character::isUpperCase)\r\n\r\nThis is much lighter than regexes in terms of resources.","title":"How to check if a string contains uppercase java","body":"<p>With streams, you can to the following.</p>\n\n<pre><code>key.chars().anyMatch(Character::isUpperCase)\n</code></pre>\n\n<p>This is much lighter than regexes in terms of resources.</p>\n"},{"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":1,"creation_date":1584651635,"post_id":60764547,"comment_id":107509891,"body_markdown":"Although the regex-based solution is more generic for this class of problems, the solution here is the most pragmatic one for this specific problem. Perhaps not the fastest and not that one with the lowest memory footprint, but in these aspects at least better than the regex one.","body":"Although the regex-based solution is more generic for this class of problems, the solution here is the most pragmatic one for this specific problem. Perhaps not the fastest and not that one with the lowest memory footprint, but in these aspects at least better than the regex one."}],"tags":[],"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1584649612,"creation_date":1584649612,"answer_id":60764547,"question_id":60764388,"body_markdown":"Or you can do it as described by sopheamak here: https://stackoverflow.com/questions/40336374/how-do-i-check-if-a-java-string-contains-at-least-one-capital-letter-lowercase\r\n\r\nIn your example that would be:\r\n\r\n    else if (!key.equals(key.toLowerCase())\r\n\r\nIf one of the letters in key is uppercase it will not match the result of `key.toLowerCase()` and thus return true because of `!`.","title":"How to check if a string contains uppercase java","body":"<p>Or you can do it as described by sopheamak here: <a href=\"https://stackoverflow.com/questions/40336374/how-do-i-check-if-a-java-string-contains-at-least-one-capital-letter-lowercase\">How do I check if a Java String contains at least one capital letter, lowercase letter, and number?</a></p>\n\n<p>In your example that would be:</p>\n\n<pre><code>else if (!key.equals(key.toLowerCase())\n</code></pre>\n\n<p>If one of the letters in key is uppercase it will not match the result of <code>key.toLowerCase()</code> and thus return true because of <code>!</code>.</p>\n"},{"tags":[],"owner":{"account_id":7654654,"reputation":1037,"user_id":5802035,"accept_rate":33,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584651521,"creation_date":1584651521,"answer_id":60764967,"question_id":60764388,"body_markdown":"You can use Apache Commons Lang (https://commons.apache.org/proper/commons-lang/). Is has a method for this:\r\n\r\n    else if (StringUtils.containsAny(key, &quot;QWERTYUIOPASDFGHJKLZXCVBNM&quot;)){\r\n        UI.println(&quot;Invalid, key contains a space, illegal character&quot;);\r\n    }","title":"How to check if a string contains uppercase java","body":"<p>You can use Apache Commons Lang (<a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/</a>). Is has a method for this:</p>\n\n<pre><code>else if (StringUtils.containsAny(key, \"QWERTYUIOPASDFGHJKLZXCVBNM\")){\n    UI.println(\"Invalid, key contains a space, illegal character\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670598756,"creation_date":1584652294,"answer_id":60765112,"question_id":60764388,"body_markdown":"You can use [`String#matches`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#matches(java.lang.String)) with the [regex](https://regex101.com/r/GVEpjf/1), `.*\\p{Lu}.*`. Learn more about `Pattern` from the [documentation](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/regex/Pattern.html).\r\n\r\n**Demo**:\r\n\r\n    public class Main {\r\n        public static void main(String args[]) {\r\n            String[] keys = { &quot;HELLO&quot;, &quot;Hello&quot;, &quot;hello&quot;, &quot;hello world&quot;, &quot;Hello World&quot; };\r\n            for (String key : keys) {\r\n                if (key.matches(&quot;.*\\\\p{Lu}.*&quot;)) {\r\n                    System.out.println(key + &quot; =&gt; Invalid&quot;);\r\n                } else {\r\n                    System.out.println(key + &quot; =&gt; Valid&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    HELLO =&gt; Invalid\r\n    Hello =&gt; Invalid\r\n    hello =&gt; Valid\r\n    hello world =&gt; Valid\r\n    Hello World =&gt; Invalid\r\n\r\nAlternatively,\r\n--\r\n\r\nYou can check the presence of an uppercase letter using the [regex](https://regex101.com/r/Oh4JhG/1), `\\p{Lu}`.\r\n\r\n**Demo**:\r\n\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Main {\r\n        public static void main(String args[]) {\r\n            String[] keys = { &quot;HELLO&quot;, &quot;Hello&quot;, &quot;hello&quot;, &quot;hello world&quot;, &quot;Hello World&quot; };\r\n            for (String key : keys) {\r\n                if (Pattern.compile(&quot;\\\\p{Lu}&quot;).matcher(key).find()) {\r\n                    System.out.println(key + &quot; =&gt; Invalid&quot;);\r\n                } else {\r\n                    System.out.println(key + &quot; =&gt; Valid&quot;);\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to check if a string contains uppercase java","body":"<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#matches(java.lang.String)\" rel=\"nofollow noreferrer\"><code>String#matches</code></a> with the <a href=\"https://regex101.com/r/GVEpjf/1\" rel=\"nofollow noreferrer\">regex</a>, <code>.*\\p{Lu}.*</code>. Learn more about <code>Pattern</code> from the <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>public class Main {\n    public static void main(String args[]) {\n        String[] keys = { &quot;HELLO&quot;, &quot;Hello&quot;, &quot;hello&quot;, &quot;hello world&quot;, &quot;Hello World&quot; };\n        for (String key : keys) {\n            if (key.matches(&quot;.*\\\\p{Lu}.*&quot;)) {\n                System.out.println(key + &quot; =&gt; Invalid&quot;);\n            } else {\n                System.out.println(key + &quot; =&gt; Valid&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>HELLO =&gt; Invalid\nHello =&gt; Invalid\nhello =&gt; Valid\nhello world =&gt; Valid\nHello World =&gt; Invalid\n</code></pre>\n<h2>Alternatively,</h2>\n<p>You can check the presence of an uppercase letter using the <a href=\"https://regex101.com/r/Oh4JhG/1\" rel=\"nofollow noreferrer\">regex</a>, <code>\\p{Lu}</code>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.util.regex.Pattern;\n\npublic class Main {\n    public static void main(String args[]) {\n        String[] keys = { &quot;HELLO&quot;, &quot;Hello&quot;, &quot;hello&quot;, &quot;hello world&quot;, &quot;Hello World&quot; };\n        for (String key : keys) {\n            if (Pattern.compile(&quot;\\\\p{Lu}&quot;).matcher(key).find()) {\n                System.out.println(key + &quot; =&gt; Invalid&quot;);\n            } else {\n                System.out.println(key + &quot; =&gt; Valid&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584656665,"creation_date":1584656665,"answer_id":60765923,"question_id":60764388,"body_markdown":"If you use Guava, you can get it using the powerful `CharMatcher`:\r\n\r\nFirst compile the matcher as a static member of the class so that it&#39;s done once and you don&#39;t need to recompute it at every call.\r\n\r\n    private static final CharMatcher UPPERCASE_LETTER = CharMatcher.inRange(&#39;A&#39;, &#39;Z&#39;);\r\n\r\nChange it to whatever letters you actually want. For instance if you want some accentuated characters, you can extend the following:\r\n\r\n    private static final CharMatcher UPPERCASE_LETTER = CharMatcher.inRange(&#39;A&#39;, &#39;Z&#39;)\r\n                                                                   .or(CharMatcher.anyOf(&quot;&#193;&#192;&#196;&#194;&#201;&#200;&#203;&#202;&#205;&#204;&#207;&#206;&#211;&#210;&#214;&#212;&#218;&#217;&#220;&#219;&quot;));\r\n\r\nIf you&#39;re lazy and just want to delegate to `Character::isUpperCase`, that&#39;s also possible:\r\n\r\n    private static final CharMatcher UPPERCASE_LETTER = CharMatcher.forPredicate(Character::isUpperCase)\r\n\r\nThen in your code, write the following:\r\n\r\n    if (UPPERCASE_LETTER.matchesAnyOf(key)) {\r\n      // Do what you want\r\n    }","title":"How to check if a string contains uppercase java","body":"<p>If you use Guava, you can get it using the powerful <code>CharMatcher</code>:</p>\n\n<p>First compile the matcher as a static member of the class so that it's done once and you don't need to recompute it at every call.</p>\n\n<pre><code>private static final CharMatcher UPPERCASE_LETTER = CharMatcher.inRange('A', 'Z');\n</code></pre>\n\n<p>Change it to whatever letters you actually want. For instance if you want some accentuated characters, you can extend the following:</p>\n\n<pre><code>private static final CharMatcher UPPERCASE_LETTER = CharMatcher.inRange('A', 'Z')\n                                                               .or(CharMatcher.anyOf(\"ÁÀÄÂÉÈËÊÍÌÏÎÓÒÖÔÚÙÜÛ\"));\n</code></pre>\n\n<p>If you're lazy and just want to delegate to <code>Character::isUpperCase</code>, that's also possible:</p>\n\n<pre><code>private static final CharMatcher UPPERCASE_LETTER = CharMatcher.forPredicate(Character::isUpperCase)\n</code></pre>\n\n<p>Then in your code, write the following:</p>\n\n<pre><code>if (UPPERCASE_LETTER.matchesAnyOf(key)) {\n  // Do what you want\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19141878,"reputation":1,"user_id":13981707,"display_name":"Tobias N&#228;th"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597990919,"creation_date":1597990919,"answer_id":63517519,"question_id":60764388,"body_markdown":"If you took the streams solution of @OlivierGr&#233;goire and want limit it to the Capitals [A-Z] you can get it by also testing the UnicodeBlock as BASIC_LATIN. Where BASIC_LATIN is the ASCII Block of Unicode(see [BASIC_LATIN][1] )  \r\n\r\n            key.chars().anyMatch(this::isBasicLatinCapital)\r\n            ...\r\n            private boolean isBasicLatinCapital( int c) {\r\n            return\r\n                Character.UnicodeBlock.BASIC_LATIN == Character.UnicodeBlock.of(c) &amp;&amp; Character.isUpperCase(c) ;\r\n            } \r\n            \r\n\r\n  \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Basic_Latin_(Unicode_block)","title":"How to check if a string contains uppercase java","body":"<p>If you took the streams solution of @OlivierGrégoire and want limit it to the Capitals [A-Z] you can get it by also testing the UnicodeBlock as BASIC_LATIN. Where BASIC_LATIN is the ASCII Block of Unicode(see <a href=\"https://en.wikipedia.org/wiki/Basic_Latin_(Unicode_block)\" rel=\"nofollow noreferrer\">BASIC_LATIN</a> )</p>\n<pre><code>        key.chars().anyMatch(this::isBasicLatinCapital)\n        ...\n        private boolean isBasicLatinCapital( int c) {\n        return\n            Character.UnicodeBlock.BASIC_LATIN == Character.UnicodeBlock.of(c) &amp;&amp; Character.isUpperCase(c) ;\n        } \n        \n</code></pre>\n"}],"owner":{"account_id":17597999,"reputation":43,"user_id":12768550,"display_name":"louistcooper"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2917,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":60764547,"answer_count":7,"score":3,"last_activity_date":1670598756,"creation_date":1584648805,"question_id":60764388,"body_markdown":"I am working on a program that lets a user input an alphanumeric key, and checks if it is a valid key against some criteria, one of these is whether or not the key contains an uppercase. TThis is what I have tried so far:\r\n\r\n    else if (key.contains(&quot;QWERTYUIOPASDFGHJKLZXCVBNM&quot;)){\r\n        UI.println(&quot;Invalid, key contains a space, illegal character&quot;);\r\n        }\r\n\r\nThis only detects the capital letters if they are written in this order. is there a command such as key.contains i should be using?","title":"How to check if a string contains uppercase java","body":"<p>I am working on a program that lets a user input an alphanumeric key, and checks if it is a valid key against some criteria, one of these is whether or not the key contains an uppercase. TThis is what I have tried so far:</p>\n\n<pre><code>else if (key.contains(\"QWERTYUIOPASDFGHJKLZXCVBNM\")){\n    UI.println(\"Invalid, key contains a space, illegal character\");\n    }\n</code></pre>\n\n<p>This only detects the capital letters if they are written in this order. is there a command such as key.contains i should be using?</p>\n"},{"tags":["java","spring-boot","service","crud"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1670571844,"post_id":74740152,"comment_id":131909417,"body_markdown":"Take care of java naming conventions. Class and Interface names should start with upper case character","body":"Take care of java naming conventions. Class and Interface names should start with upper case character"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1670571902,"post_id":74740152,"comment_id":131909431,"body_markdown":"Read abut `@PostConstruct`, if this is a spring bean","body":"Read abut <code>@PostConstruct</code>, if this is a spring bean"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1670571948,"post_id":74740152,"comment_id":131909441,"body_markdown":"BTW: `@Before` is from junit i guess? If so, do not use it in production code","body":"BTW: <code>@Before</code> is from junit i guess? If so, do not use it in production code"},{"owner":{"account_id":24183247,"reputation":472,"user_id":18570428,"display_name":"Talenel"},"score":0,"creation_date":1670571988,"post_id":74740152,"comment_id":131909453,"body_markdown":"@Jens it is just a pseudo-code","body":"@Jens it is just a pseudo-code"},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1670572401,"post_id":74740152,"comment_id":131909558,"body_markdown":"Another way of solving this would be to have an `abstract class` implementing the interface and extends the children classes with this new class","body":"Another way of solving this would be to have an <code>abstract class</code> implementing the interface and extends the children classes with this new class"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1670572647,"post_id":74740152,"comment_id":131909621,"body_markdown":"@LeonardoEmmanueldeAzevedo How this helps by fullfilling the requirement *class of my service that is executed only once, at the beginning*?","body":"@LeonardoEmmanueldeAzevedo How this helps by fullfilling the requirement <i>class of my service that is executed only once, at the beginning</i>?"},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1670572806,"post_id":74740152,"comment_id":131909679,"body_markdown":"@Jens It doesn&#39;t, I missed that part, apologies. I&#39;d stick with your suggestion, using `@PostConstruct`","body":"@Jens It doesn&#39;t, I missed that part, apologies. I&#39;d stick with your suggestion, using <code>@PostConstruct</code>"}],"answers":[{"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1670573064,"post_id":74740303,"comment_id":131909737,"body_markdown":"But this will be executed every time the methos will be called, no only once as OP is expected. Thats why I think AOP is not the right solution","body":"But this will be executed every time the methos will be called, no only once as OP is expected. Thats why I think AOP is not the right solution"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670580141,"post_id":74740303,"comment_id":131911765,"body_markdown":"There is already `@PostConstruct` which will execute code after the object has been constructed and autowired. Doing this with AOP is overkill.","body":"There is already <code>@PostConstruct</code> which will execute code after the object has been constructed and autowired. Doing this with AOP is overkill."}],"tags":[],"owner":{"account_id":12703682,"reputation":104,"user_id":9229654,"display_name":"A. Hajian"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1670572880,"creation_date":1670572880,"answer_id":74740303,"question_id":74740152,"body_markdown":"Using AOP you can call a method in lots of different scenarios including the one you described.\r\nHere is Link to Spring AOP documentation\r\n[Spring AOP][1]\r\n\r\n    @Aspect\r\n    public class BeforeExample {\r\n    \r\n      @Before(&quot;com.xyz.myapp.SystemArchitecture.dataAccessOperation()&quot;)\r\n      public void doAccessCheck() {\r\n        // ...\r\n      }\r\n    \r\n    }\r\nYou can Also define a custom annotation like @Before to do the magic for you. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/2.5.5/reference/aop.html#:~:text=Aspect-Oriented%20Programming%20(AOP),of%20modularity%20is%20the%20aspect.","title":"Use @Before in service for all methods in Java","body":"<p>Using AOP you can call a method in lots of different scenarios including the one you described.\nHere is Link to Spring AOP documentation\n<a href=\"https://docs.spring.io/spring-framework/docs/2.5.5/reference/aop.html#:%7E:text=Aspect-Oriented%20Programming%20(AOP),of%20modularity%20is%20the%20aspect.\" rel=\"nofollow noreferrer\">Spring AOP</a></p>\n<pre><code>@Aspect\npublic class BeforeExample {\n\n  @Before(&quot;com.xyz.myapp.SystemArchitecture.dataAccessOperation()&quot;)\n  public void doAccessCheck() {\n    // ...\n  }\n\n}\n</code></pre>\n<p>You can Also define a custom annotation like @Before to do the magic for you.</p>\n"},{"tags":[],"owner":{"account_id":13141463,"reputation":116,"user_id":9492915,"display_name":"SputNick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670598407,"creation_date":1670598407,"answer_id":74744889,"question_id":74740152,"body_markdown":"There is a spring lifecycle annotation called as @PostConstruct, write a method in the class and add all the one time execution logic in this method and annotate it with the @PostConstruct annotation and spring would call this method automatically once the bean has been initialized.","title":"Use @Before in service for all methods in Java","body":"<p>There is a spring lifecycle annotation called as @PostConstruct, write a method in the class and add all the one time execution logic in this method and annotate it with the @PostConstruct annotation and spring would call this method automatically once the bean has been initialized.</p>\n"}],"owner":{"account_id":24183247,"reputation":472,"user_id":18570428,"display_name":"Talenel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":667,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1670600375,"answer_count":2,"score":-1,"last_activity_date":1670598407,"creation_date":1670571706,"question_id":74740152,"body_markdown":"I am implementing a `service` for my controller in java. This service implements an interface with several methods, where each of them performs a different logic. However, they also have a common logic (they must call another @service).\r\nI would like to know if there is any way to refactor this, that is, remove that common logic that they have to a method in the class of my service that is executed only once, at the beginning.\r\n\r\nI&#39;m looking for something similar to the following:\r\n\r\n    public class myClass implements myInterface{\r\n    \r\n    private String stringToFill=&quot;&quot;;\r\n    \r\n    @Before\r\n    public doSomeLogig(){\r\n       // call another service\r\n       stringToFill = &quot;filled&quot;;\r\n    }\r\n    \r\n    public getAll(){\r\n       ...\r\n       //here I should use stringToFill, with value &#39;filled&#39;\r\n    }\r\n    public getId(){\r\n       //here I should use stringToFill, with value &#39;filled&#39;\r\n       ...\r\n    }\r\n    public create(){\r\n       //here I should use stringToFill, with value &#39;filled&#39;\r\n       ...\r\n    }\r\n    \r\n }","title":"Use @Before in service for all methods in Java","body":"<p>I am implementing a <code>service</code> for my controller in java. This service implements an interface with several methods, where each of them performs a different logic. However, they also have a common logic (they must call another @service).\nI would like to know if there is any way to refactor this, that is, remove that common logic that they have to a method in the class of my service that is executed only once, at the beginning.</p>\n<p>I'm looking for something similar to the following:</p>\n<pre><code>public class myClass implements myInterface{\n\nprivate String stringToFill=&quot;&quot;;\n\n@Before\npublic doSomeLogig(){\n   // call another service\n   stringToFill = &quot;filled&quot;;\n}\n\npublic getAll(){\n   ...\n   //here I should use stringToFill, with value 'filled'\n}\npublic getId(){\n   //here I should use stringToFill, with value 'filled'\n   ...\n}\npublic create(){\n   //here I should use stringToFill, with value 'filled'\n   ...\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1670589586,"post_id":74743210,"comment_id":131914575,"body_markdown":"I don&#39;t know about compile error or code solutions, but Eclipse for example has an option for Errors/Warnings called &quot;Unlikely argument type for method equals()&quot; where you can configure if it should ignore, inform or even show an error for that Problem. For example, when activated it will display the Error `&quot;Unlikely argument type for equals(): Long seems to be unrelated to Integer&quot;` for `Objects.equals(Integer.valueOf(1), Long.valueOf(1))`. So maybe whatever IDE you are using has something similar and you can handle it with that.","body":"I don&#39;t know about compile error or code solutions, but Eclipse for example has an option for Errors/Warnings called &quot;Unlikely argument type for method equals()&quot; where you can configure if it should ignore, inform or even show an error for that Problem. For example, when activated it will display the Error <code>&quot;Unlikely argument type for equals(): Long seems to be unrelated to Integer&quot;</code> for <code>Objects.equals(Integer.valueOf(1), Long.valueOf(1))</code>. So maybe whatever IDE you are using has something similar and you can handle it with that."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1670589659,"post_id":74743210,"comment_id":131914606,"body_markdown":"Have you considered `instanceof`, `Class#isInstance`, `Class#isAssignableTo`, and comparing the class types via `==`?","body":"Have you considered <code>instanceof</code>, <code>Class#isInstance</code>, <code>Class#isAssignableTo</code>, and comparing the class types via <code>==</code>?"},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":0,"creation_date":1670590331,"post_id":74743210,"comment_id":131914837,"body_markdown":"Does this answer your question? [What issues should be considered when overriding equals and hashCode in Java?](https://stackoverflow.com/questions/27581/what-issues-should-be-considered-when-overriding-equals-and-hashcode-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/27581/what-issues-should-be-considered-when-overriding-equals-and-hashcode-in-java\">What issues should be considered when overriding equals and hashCode in Java?</a>"},{"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"score":0,"creation_date":1670590942,"post_id":74743210,"comment_id":131915029,"body_markdown":"@OHGODSPIDERS yes my IDEs does that, but compiling still works","body":"@OHGODSPIDERS yes my IDEs does that, but compiling still works"},{"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"score":0,"creation_date":1670590958,"post_id":74743210,"comment_id":131915038,"body_markdown":"@Rogue that&#39;s not compile time, sorry","body":"@Rogue that&#39;s not compile time, sorry"},{"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"score":0,"creation_date":1670591053,"post_id":74743210,"comment_id":131915068,"body_markdown":"@user16320675 yes, that is what I have done so far and it has the drawback you mentioned, I had to write `MyClass&lt;concreteType&gt;.equals`","body":"@user16320675 yes, that is what I have done so far and it has the drawback you mentioned, I had to write <code>MyClass&lt;concreteType&gt;.equals</code>"},{"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"score":0,"creation_date":1670591109,"post_id":74743210,"comment_id":131915085,"body_markdown":"@Torben your propsed answer is only very loosely coupled to my question, sorry...","body":"@Torben your propsed answer is only very loosely coupled to my question, sorry..."}],"answers":[{"comments":[{"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"score":0,"creation_date":1670837715,"post_id":74744176,"comment_id":131957448,"body_markdown":"It&#39;s not what i wanted :D and I will definitely NOT write dozens of equals methods...but it supports my feeling that there just isn&#39;t any solution for what I want thus I will accept this. Thank you for your reply","body":"It&#39;s not what i wanted :D and I will definitely NOT write dozens of equals methods...but it supports my feeling that there just isn&#39;t any solution for what I want thus I will accept this. Thank you for your reply"}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670594627,"creation_date":1670594627,"answer_id":74744176,"question_id":74743210,"body_markdown":"I think there is no fast solution short of writing a bunch of `equals()` methods. This might be feasible if you have only a limited set of types that you want to use:\r\n\r\n    public class Equals {\r\n    \r\n        public static boolean equals(Integer a, Integer b) {\r\n            return Objects.equals(a, b);\r\n        }\r\n    \r\n        public static boolean equals(Long a, Long b) {\r\n            return Objects.equals(a, b);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            // System.out.println(equals(1, 1L)); doesn&#39;t compile\r\n            System.out.println(equals(1, 1));\r\n            System.out.println(equals(1L, 1L));\r\n        }\r\n    }\r\n","title":"Object-Equals to force same type at runtime","body":"<p>I think there is no fast solution short of writing a bunch of <code>equals()</code> methods. This might be feasible if you have only a limited set of types that you want to use:</p>\n<pre><code>public class Equals {\n\n    public static boolean equals(Integer a, Integer b) {\n        return Objects.equals(a, b);\n    }\n\n    public static boolean equals(Long a, Long b) {\n        return Objects.equals(a, b);\n    }\n\n    public static void main(String[] args) {\n        // System.out.println(equals(1, 1L)); doesn't compile\n        System.out.println(equals(1, 1));\n        System.out.println(equals(1L, 1L));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"score":0,"creation_date":1670837612,"post_id":74744826,"comment_id":131957416,"body_markdown":"Thank you. While encapsulation in general is a good idea it does not help with the problem. It is still an Object and thus viable for the equals-method without any compiler warning.","body":"Thank you. While encapsulation in general is a good idea it does not help with the problem. It is still an Object and thus viable for the equals-method without any compiler warning."}],"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670598366,"creation_date":1670598065,"answer_id":74744826,"question_id":74743210,"body_markdown":"Just as Thomas already mentioned, I cannot think of a fast solution either.\r\n\r\nYou have several options, some of which you may have already tried:\r\n\r\n* You may use your own `equals` methods, forcing you to pass two arguments of the same type (either both `Integer` or both `Long`). This is [the solution Thomas proposed][1].\r\n\r\n* You may force a certain type by typecasts:\r\n\r\n    ```java\r\n    Objects.equals((Integer) someId, (Integer) foo.getId())\r\n    ```\r\n\r\n    The compiler starts whining if you change the type of either of the arguments.\r\n\r\n* Apply encapsulation. Create a class `Id`, in which you store the actual value, either as a `Long` or as an `Integer`. Then if you return an *id* anywhere, use the `Id` class for it. The problem with directly using a `Long` or `Integer` is that you expose the internal implementation. And when you change the implementation, you change the interface.\r\n\r\n    Whether this option is feasible, depends on your use case.\r\n\r\nIf you don&#39;t want to use a class `Id`, then I suggest you switch to `Long`, and hope you don&#39;t ever need an id greater than 9,223,372,036,854,775,807.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/74744176/507738","title":"Object-Equals to force same type at runtime","body":"<p>Just as Thomas already mentioned, I cannot think of a fast solution either.</p>\n<p>You have several options, some of which you may have already tried:</p>\n<ul>\n<li><p>You may use your own <code>equals</code> methods, forcing you to pass two arguments of the same type (either both <code>Integer</code> or both <code>Long</code>). This is <a href=\"https://stackoverflow.com/a/74744176/507738\">the solution Thomas proposed</a>.</p>\n</li>\n<li><p>You may force a certain type by typecasts:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Objects.equals((Integer) someId, (Integer) foo.getId())\n</code></pre>\n<p>The compiler starts whining if you change the type of either of the arguments.</p>\n</li>\n<li><p>Apply encapsulation. Create a class <code>Id</code>, in which you store the actual value, either as a <code>Long</code> or as an <code>Integer</code>. Then if you return an <em>id</em> anywhere, use the <code>Id</code> class for it. The problem with directly using a <code>Long</code> or <code>Integer</code> is that you expose the internal implementation. And when you change the implementation, you change the interface.</p>\n<p>Whether this option is feasible, depends on your use case.</p>\n</li>\n</ul>\n<p>If you don't want to use a class <code>Id</code>, then I suggest you switch to <code>Long</code>, and hope you don't ever need an id greater than 9,223,372,036,854,775,807.</p>\n"}],"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74744176,"answer_count":2,"score":0,"last_activity_date":1670598366,"creation_date":1670589148,"question_id":74743210,"body_markdown":"I am wondering whether it is possible to add something like Objects.equals() that allows runtime checking of types.  \r\nNote: I know, that is not what you always want to do, but I think it has its use cases. At least for me.  \r\n\r\nExample problem: I have some class, let&#39;s say, an id of type Integer. And I have an entity Foo with `foo.getId()` returns a type Integer. For some reasons I check for equality with `Objects.equals(someId, foo.getId())`.  \r\nNow I refactor my entity, `foo.getId()` will no longer return an Integer but will return Long. Unfortunatelly, there will be no compile time hint at all that `Objects.equals(someId, foo.getId())` will never return true. (Yes, stuff like sonarqube helps you a bit).  \r\n\r\nTo solve that, I thought I write something like\r\n```\r\nprivate static &lt;T&gt; boolean equals(T object1, T object2) {\r\n\treturn Objects.equals(object1, object2);\r\n}\r\n```` \r\nwhich.....just does not work. It still accepts any arbitrary Object. Is there any possible solution in Java for this?\r\n\r\nEdit: Please note, this question has nothing to do with equals and hashCode of an object or overriding equals of an object in general, I am looking for a compile-time solution.","title":"Object-Equals to force same type at runtime","body":"<p>I am wondering whether it is possible to add something like Objects.equals() that allows runtime checking of types.<br />\nNote: I know, that is not what you always want to do, but I think it has its use cases. At least for me.</p>\n<p>Example problem: I have some class, let's say, an id of type Integer. And I have an entity Foo with <code>foo.getId()</code> returns a type Integer. For some reasons I check for equality with <code>Objects.equals(someId, foo.getId())</code>.<br />\nNow I refactor my entity, <code>foo.getId()</code> will no longer return an Integer but will return Long. Unfortunatelly, there will be no compile time hint at all that <code>Objects.equals(someId, foo.getId())</code> will never return true. (Yes, stuff like sonarqube helps you a bit).</p>\n<p>To solve that, I thought I write something like</p>\n<pre><code>private static &lt;T&gt; boolean equals(T object1, T object2) {\n    return Objects.equals(object1, object2);\n}\n</code></pre>\n<p>which.....just does not work. It still accepts any arbitrary Object. Is there any possible solution in Java for this?</p>\n<p>Edit: Please note, this question has nothing to do with equals and hashCode of an object or overriding equals of an object in general, I am looking for a compile-time solution.</p>\n"},{"tags":["java","hibernate","maven","jpa","orm"],"comments":[{"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"score":0,"creation_date":1670346585,"post_id":74706341,"comment_id":131853457,"body_markdown":"It should probably be something like `products.addAll(...)`. The code you shared is not showing the part where you&#39;re trying to add new elements so it&#39;s hard to say what might be happening","body":"It should probably be something like <code>products.addAll(...)</code>. The code you shared is not showing the part where you&#39;re trying to add new elements so it&#39;s hard to say what might be happening"},{"owner":{"account_id":21577429,"reputation":1,"user_id":15909304,"display_name":"Anasyrma"},"score":0,"creation_date":1670350353,"post_id":74706341,"comment_id":131854767,"body_markdown":"Oh, you&#39;re right. I&#39;ve just added the missing piece.","body":"Oh, you&#39;re right. I&#39;ve just added the missing piece."},{"owner":{"account_id":16450692,"reputation":574,"user_id":11884183,"display_name":"Felix Schildmann"},"score":0,"creation_date":1670356515,"post_id":74706341,"comment_id":131856717,"body_markdown":"Try to add the ``@ManyToMany`` relationship on both sides to make it bi-directional. Add an attribute ``productsLists`` to your ``Product`` entity","body":"Try to add the <code>@ManyToMany</code> relationship on both sides to make it bi-directional. Add an attribute <code>productsLists</code> to your <code>Product</code> entity"},{"owner":{"account_id":21577429,"reputation":1,"user_id":15909304,"display_name":"Anasyrma"},"score":0,"creation_date":1670422322,"post_id":74706341,"comment_id":131872874,"body_markdown":"@FelixSchildmann I updated the post with my actual code. The problem with this is that now it&#39;s throwing an exception: &quot;Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: BEFORE_TRANSACTION_COMPLETION&quot;","body":"@FelixSchildmann I updated the post with my actual code. The problem with this is that now it&#39;s throwing an exception: &quot;Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpa&zwnj;&#8203;Configuration.class]&zwnj;&#8203;: BEFORE_TRANSACTION_COMPLETION&quot;"}],"answers":[{"tags":[],"owner":{"account_id":21577429,"reputation":1,"user_id":15909304,"display_name":"Anasyrma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670598112,"creation_date":1670598112,"answer_id":74744838,"question_id":74706341,"body_markdown":"This is the method I used to solve this in my Service:\r\n\r\n     public ListOfProducts addProductToList(Integer idList, Integer idProduct) throws ResourceNotFoundException {\r\n\r\n        ListOfProducts listOriginal = listRepository.findById(idList).orElseThrow(()-&gt; new  ResourceNotFoundException(&quot;The list of products could not be found.&quot;));\r\n        Product product = productRepository.findProductById(idProduct).orElseThrow(()-&gt;new ResourceNotFoundException(&quot;Product not found&quot;));\r\n\r\n        listOriginal.getProducts().add(product);\r\n\r\n        listRepository.save(listOriginal);\r\n        LOGGER.info(String.format(&quot;Product %s was added to the list with id %s &quot;, idProduct, idList));\r\n\r\n        return listOriginal;\r\n    }","title":"How can I add an object to a list of objects and keep all the preexisting ones?","body":"<p>This is the method I used to solve this in my Service:</p>\n<pre><code> public ListOfProducts addProductToList(Integer idList, Integer idProduct) throws ResourceNotFoundException {\n\n    ListOfProducts listOriginal = listRepository.findById(idList).orElseThrow(()-&gt; new  ResourceNotFoundException(&quot;The list of products could not be found.&quot;));\n    Product product = productRepository.findProductById(idProduct).orElseThrow(()-&gt;new ResourceNotFoundException(&quot;Product not found&quot;));\n\n    listOriginal.getProducts().add(product);\n\n    listRepository.save(listOriginal);\n    LOGGER.info(String.format(&quot;Product %s was added to the list with id %s &quot;, idProduct, idList));\n\n    return listOriginal;\n}\n</code></pre>\n"}],"owner":{"account_id":21577429,"reputation":1,"user_id":15909304,"display_name":"Anasyrma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670598112,"creation_date":1670345862,"question_id":74706341,"body_markdown":"I am new to Java and I want to update a List&lt;Product&gt; withous losing the products that already are on the list. I am using JPA\r\n\r\n**Products List:**\r\n```\r\n@Entity\r\n@Table(name = &quot;listOfProducts&quot;)\r\npublic class ProductsList {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(\r\n            name = &quot;products_id&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;id_list&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;id_product&quot;)\r\n    )\r\n    private Set&lt;Product&gt; products;\r\n```\r\n\r\n**Product Entity**\r\n```\r\n@Entity\r\n@Table(name = &quot;product&quot;)\r\npublic class Product {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(\r\n            name = &quot;tabla_id&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;id_product&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;id_list&quot;)\r\n    )\r\n    @JsonIgnore\r\n    private List&lt;ProductsList&gt; productsLists;\r\n\r\n```\r\n\r\n**List Service**\r\n```\r\n// now it only has the CRUD\r\n```\r\n\r\nI couldn&#39;t seem to find anything resolving this. I found ways to update the list, but it always end up deleting all the previous products in my list.\r\n\r\nAlso: for some reason, now it&#39;s also asking me to change ` for (j:listaRepository.findById(id)) {` for ` for (j:listaRepository.findById(id);;) {`","title":"How can I add an object to a list of objects and keep all the preexisting ones?","body":"<p>I am new to Java and I want to update a List withous losing the products that already are on the list. I am using JPA</p>\n<p><strong>Products List:</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;listOfProducts&quot;)\npublic class ProductsList {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = &quot;products_id&quot;,\n            joinColumns = @JoinColumn(name = &quot;id_list&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;id_product&quot;)\n    )\n    private Set&lt;Product&gt; products;\n</code></pre>\n<p><strong>Product Entity</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;product&quot;)\npublic class Product {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = &quot;tabla_id&quot;,\n            joinColumns = @JoinColumn(name = &quot;id_product&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;id_list&quot;)\n    )\n    @JsonIgnore\n    private List&lt;ProductsList&gt; productsLists;\n\n</code></pre>\n<p><strong>List Service</strong></p>\n<pre><code>// now it only has the CRUD\n</code></pre>\n<p>I couldn't seem to find anything resolving this. I found ways to update the list, but it always end up deleting all the previous products in my list.</p>\n<p>Also: for some reason, now it's also asking me to change <code> for (j:listaRepository.findById(id)) {</code> for <code> for (j:listaRepository.findById(id);;) {</code></p>\n"},{"tags":["java","java-8","option-type"],"comments":[{"owner":{"account_id":8463731,"reputation":38767,"user_id":6348498,"accept_rate":92,"display_name":"Gurwinder Singh"},"score":2,"creation_date":1481600870,"post_id":41113406,"comment_id":69431070,"body_markdown":"*why* do you want to use optional? I dont see any use for your case","body":"<i>why</i> do you want to use optional? I dont see any use for your case"},{"owner":{"account_id":6583624,"reputation":2702,"user_id":5087125,"display_name":"pvg"},"score":4,"creation_date":1481600895,"post_id":41113406,"comment_id":69431079,"body_markdown":"That&#39;s not really what `Optional` is for. And you don&#39;t want to be catching NPE. Just use the tertiary although a better design is to say the contract simply does not allow null - then throwing the NPE is what is supposed to happen and happens automatically and your code is much simpler.","body":"That&#39;s not really what <code>Optional</code> is for. And you don&#39;t want to be catching NPE. Just use the tertiary although a better design is to say the contract simply does not allow null - then throwing the NPE is what is supposed to happen and happens automatically and your code is much simpler."},{"owner":{"account_id":246295,"reputation":11636,"user_id":520359,"accept_rate":87,"display_name":"Lachezar Balev"},"score":2,"creation_date":1481609679,"post_id":41113406,"comment_id":69433583,"body_markdown":"Isn&#39;t it `ternary`? :-) IMO there is no need to use Optional in your case. Something like `input != null ? Long.valueOf(input) : null` seems ok. What  @pvg says is also reasonable.","body":"Isn&#39;t it <code>ternary</code>? :-) IMO there is no need to use Optional in your case. Something like <code>input != null ? Long.valueOf(input) : null</code> seems ok. What  @pvg says is also reasonable."}],"answers":[{"comments":[{"owner":{"account_id":6142042,"reputation":504,"user_id":4789157,"accept_rate":75,"display_name":"David"},"score":0,"creation_date":1481611150,"post_id":41114664,"comment_id":69434131,"body_markdown":"This was helpful. It helped me to better understand the use of map with Optional. The ternary operator is better option as you mentioned for the above code snippet, but your answer will be useful for other scenarios in my project i.e. other than String to Long conversions.","body":"This was helpful. It helped me to better understand the use of map with Optional. The ternary operator is better option as you mentioned for the above code snippet, but your answer will be useful for other scenarios in my project i.e. other than String to Long conversions."}],"tags":[],"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1481609381,"creation_date":1481609381,"answer_id":41114664,"question_id":41113406,"body_markdown":"Use [`map`][1] to convert from `Optional&lt;String&gt;` to `Optional&lt;Long&gt;`:\r\n\r\n    Optional&lt;String&gt; str = ...;\r\n    Optional&lt;Long&gt; num = str.map(Long::valueOf);\r\n\r\nIf `str` was empty, `num` is also empty.  If `str` had a value, `num` contains the result of `valueOf`.  This would mainly be useful if `Optional&lt;String&gt;` was coming from somewhere else.  Making one just to avoid a ternary operator is questionable, but here&#39;s how you can rewrite your method:\r\n\r\n\tpublic void methodA(String input) {\r\n\t\tSystem.out.println(Optional.ofNullable(input).map(Long::valueOf).orElse(null));\r\n\t}\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#map-java.util.function.Function-","title":"Java 8 Optional Null Check","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#map-java.util.function.Function-\" rel=\"noreferrer\"><code>map</code></a> to convert from <code>Optional&lt;String&gt;</code> to <code>Optional&lt;Long&gt;</code>:</p>\n\n<pre><code>Optional&lt;String&gt; str = ...;\nOptional&lt;Long&gt; num = str.map(Long::valueOf);\n</code></pre>\n\n<p>If <code>str</code> was empty, <code>num</code> is also empty.  If <code>str</code> had a value, <code>num</code> contains the result of <code>valueOf</code>.  This would mainly be useful if <code>Optional&lt;String&gt;</code> was coming from somewhere else.  Making one just to avoid a ternary operator is questionable, but here's how you can rewrite your method:</p>\n\n<pre><code>public void methodA(String input) {\n    System.out.println(Optional.ofNullable(input).map(Long::valueOf).orElse(null));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7406733,"reputation":633,"user_id":5635466,"display_name":"Danail Tsvetanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670597896,"creation_date":1670597896,"answer_id":74744798,"question_id":41113406,"body_markdown":"In this case, the ternary operator is more readable.\r\n\r\n    public void methodA(String input) {\r\n    System.out.println(input == null ? null : Long.parseLong(input));\r\n}","title":"Java 8 Optional Null Check","body":"<p>In this case, the ternary operator is more readable.</p>\n<pre><code>public void methodA(String input) {\nSystem.out.println(input == null ? null : Long.parseLong(input));\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":6142042,"reputation":504,"user_id":4789157,"accept_rate":75,"display_name":"David"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4228,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":41114664,"answer_count":2,"score":4,"last_activity_date":1670597896,"creation_date":1481600671,"question_id":41113406,"body_markdown":"I am trying to check if the input is null then output should be null\r\nOr if the input is String, then it should convert it to Long\r\n\r\nAssuming input is never &quot;abcd&quot;, input is either null or &quot;12&quot;, &quot;14&quot;, etc.\r\n\r\nThe following code snippet throws null pointer exception, as I am not able to use Java 8 Optional properly. I can catch the null pointer exception or use if/else with tertiary&#39;?&#39; operator but Is there any way to handle this scenario with Optional?\r\n\r\n    public class OptionalClass {\r\n\r\n\tpublic void methodA(String input) {\r\n\t\tSystem.out.println(Long.valueOf(Optional.ofNullable(input).orElse(null)));\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew OptionalClass().methodA(&quot;12&quot;);// This works fine\r\n\t\tnew OptionalClass().methodA(null); // This throws null pointer exception\r\n\t}   }\r\n\r\n\r\n","title":"Java 8 Optional Null Check","body":"<p>I am trying to check if the input is null then output should be null\nOr if the input is String, then it should convert it to Long</p>\n\n<p>Assuming input is never \"abcd\", input is either null or \"12\", \"14\", etc.</p>\n\n<p>The following code snippet throws null pointer exception, as I am not able to use Java 8 Optional properly. I can catch the null pointer exception or use if/else with tertiary'?' operator but Is there any way to handle this scenario with Optional?</p>\n\n<pre><code>public class OptionalClass {\n\npublic void methodA(String input) {\n    System.out.println(Long.valueOf(Optional.ofNullable(input).orElse(null)));\n}\n\npublic static void main(String[] args) {\n    new OptionalClass().methodA(\"12\");// This works fine\n    new OptionalClass().methodA(null); // This throws null pointer exception\n}   }\n</code></pre>\n"},{"tags":["java","mysql","jdbc","groovy","micronaut"],"comments":[{"owner":{"account_id":24603296,"reputation":624,"user_id":18505867,"display_name":"ShingJo"},"score":0,"creation_date":1669994734,"post_id":74653608,"comment_id":131776523,"body_markdown":"Can you add your entity `NormalizedValue` and DB Schema?","body":"Can you add your entity <code>NormalizedValue</code> and DB Schema?"},{"owner":{"account_id":23317861,"reputation":1,"user_id":17396243,"display_name":"AK17396243"},"score":0,"creation_date":1670234190,"post_id":74653608,"comment_id":131820588,"body_markdown":"Why is that important?","body":"Why is that important?"}],"answers":[{"tags":[],"owner":{"account_id":24603296,"reputation":624,"user_id":18505867,"display_name":"ShingJo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670597598,"creation_date":1670597598,"answer_id":74744738,"question_id":74653608,"body_markdown":"With the information provided, only thing that I can suggest is to split your `normalizedValues` list into two groups. Those that do not have an `id` and those that do. Then for the ones without `id` use `saveAll` and for the ones with `id` use `updateAll`.\r\n\r\nFor example:\r\n\r\n```groovy\r\n@Transactional\r\nvoid saveNormalized(List&lt;NormalizedValue&gt; values) {\r\n    def hasId = values.groupBy{ it.id != null }\r\n    normalizedRepository.updateAll(hasId[true])\r\n    normalizedRepository.saveAll(hasId[false])\r\n}\r\n```","title":"Micronaut Data JDBC - Save a list of entries &amp; update already existing entries","body":"<p>With the information provided, only thing that I can suggest is to split your <code>normalizedValues</code> list into two groups. Those that do not have an <code>id</code> and those that do. Then for the ones without <code>id</code> use <code>saveAll</code> and for the ones with <code>id</code> use <code>updateAll</code>.</p>\n<p>For example:</p>\n<pre><code>@Transactional\nvoid saveNormalized(List&lt;NormalizedValue&gt; values) {\n    def hasId = values.groupBy{ it.id != null }\n    normalizedRepository.updateAll(hasId[true])\n    normalizedRepository.saveAll(hasId[false])\n}\n</code></pre>\n"}],"owner":{"account_id":23317861,"reputation":1,"user_id":17396243,"display_name":"AK17396243"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1670597598,"creation_date":1669973844,"question_id":74653608,"body_markdown":"I&#39;m working on a REST API (Micronaut / Groovy), and I want to implement a POST request that saves a list of entries into a MySQL database.\r\n\r\nRight now I&#39;m using the saveAll() function from Micronaut Data, but the problem with saveAll() is that it fails if there is already an entry in the database table with the same fields (Unique Constraint).\r\n\r\nThe ideal solution for me is to update already existing entries and create non-existing entries.\r\n\r\nBut I don&#39;t know what is the right approach to handle this problem.\r\n\r\n```\r\n@Transactional\r\nvoid saveNormalized(List&lt;NormalizedValue&gt; normalizedValues){\r\n    normalizedRepository.saveAll(normalizedValues)\r\n}\r\n```\r\n\r\n\r\n```\r\n@Validated\r\n@JdbcRepository(dialect= Dialect.MYSQL)\r\ninterface NormalizedRepository extends CrudRepository&lt;NormalizedValue, Long&gt; {\r\n}\r\n```\r\n","title":"Micronaut Data JDBC - Save a list of entries &amp; update already existing entries","body":"<p>I'm working on a REST API (Micronaut / Groovy), and I want to implement a POST request that saves a list of entries into a MySQL database.</p>\n<p>Right now I'm using the saveAll() function from Micronaut Data, but the problem with saveAll() is that it fails if there is already an entry in the database table with the same fields (Unique Constraint).</p>\n<p>The ideal solution for me is to update already existing entries and create non-existing entries.</p>\n<p>But I don't know what is the right approach to handle this problem.</p>\n<pre><code>@Transactional\nvoid saveNormalized(List&lt;NormalizedValue&gt; normalizedValues){\n    normalizedRepository.saveAll(normalizedValues)\n}\n</code></pre>\n<pre><code>@Validated\n@JdbcRepository(dialect= Dialect.MYSQL)\ninterface NormalizedRepository extends CrudRepository&lt;NormalizedValue, Long&gt; {\n}\n</code></pre>\n"},{"tags":["java","android","xml","kotlin","android-fragments"],"comments":[{"owner":{"account_id":1052502,"reputation":3122,"user_id":1056042,"accept_rate":61,"display_name":"Arshad Ali"},"score":0,"creation_date":1670593641,"post_id":74743946,"comment_id":131915861,"body_markdown":"Have you tried on your own? What was wrong with the output? please provide some research.","body":"Have you tried on your own? What was wrong with the output? please provide some research."},{"owner":{"account_id":12165789,"reputation":155,"user_id":8882143,"display_name":"Omar Hezi"},"score":0,"creation_date":1670594494,"post_id":74743946,"comment_id":131916174,"body_markdown":"Hello and welcome to Stack overflow, please add more details so we can help you. See here for more details on how to ask a question https://stackoverflow.com/help/how-to-ask","body":"Hello and welcome to Stack overflow, please add more details so we can help you. See here for more details on how to ask a question <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":19537863,"reputation":64,"user_id":14296280,"display_name":"Josue Muleshi"},"score":0,"creation_date":1670595610,"post_id":74743946,"comment_id":131916549,"body_markdown":"I think your problem is solved [here](https://stackoverflow.com/questions/40587168/simple-android-grid-example-using-recyclerview-with-gridlayoutmanager-like-the)","body":"I think your problem is solved <a href=\"https://stackoverflow.com/questions/40587168/simple-android-grid-example-using-recyclerview-with-gridlayoutmanager-like-the\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":19717022,"reputation":41,"user_id":14436262,"display_name":"Yves Kalume"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670597209,"creation_date":1670597209,"answer_id":74744664,"question_id":74743946,"body_markdown":"Building that with the RecyclerView can be a little bit complicated. I would recommend you a library called **Epoxy**.\r\n\r\nhttps://proandroiddev.com/building-complex-screens-in-a-recyclerview-with-epoxy-97845e51f4da","title":"How to divide recyclerview in different views for showing image","body":"<p>Building that with the RecyclerView can be a little bit complicated. I would recommend you a library called <strong>Epoxy</strong>.</p>\n<p><a href=\"https://proandroiddev.com/building-complex-screens-in-a-recyclerview-with-epoxy-97845e51f4da\" rel=\"nofollow noreferrer\">https://proandroiddev.com/building-complex-screens-in-a-recyclerview-with-epoxy-97845e51f4da</a></p>\n"}],"owner":{"account_id":27201867,"reputation":1,"user_id":20734013,"display_name":"Gagan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670597209,"creation_date":1670593373,"question_id":74743946,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nHow to divide recyclerview  in different  views  for showing image\r\n\r\nHow to divide recyclerview  in different  views  for showing image\r\n\r\n[1]: https://i.stack.imgur.com/MXDNP.png","title":"How to divide recyclerview in different views for showing image","body":"<p><a href=\"https://i.stack.imgur.com/MXDNP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MXDNP.png\" alt=\"enter image description here\" /></a></p>\n<p>How to divide recyclerview  in different  views  for showing image</p>\n<p>How to divide recyclerview  in different  views  for showing image</p>\n"},{"tags":["java","android","user-interface"],"comments":[{"owner":{"account_id":4468601,"reputation":7637,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":0,"creation_date":1510221429,"post_id":47198692,"comment_id":81346044,"body_markdown":"Post the crash error logged in the logcat!","body":"Post the crash error logged in the logcat!"},{"owner":{"account_id":4732700,"reputation":2877,"user_id":3827850,"accept_rate":58,"display_name":"Ezio"},"score":0,"creation_date":1510221549,"post_id":47198692,"comment_id":81346127,"body_markdown":"It is crashing because you are trying to update a View element from a non UI thread. You have to use a handler. Refer to this https://developer.android.com/training/multiple-threads/communicate-ui.html","body":"It is crashing because you are trying to update a View element from a non UI thread. You have to use a handler. Refer to this <a href=\"https://developer.android.com/training/multiple-threads/communicate-ui.html\" rel=\"nofollow noreferrer\">developer.android.com/training/multiple-threads/&hellip;</a>"},{"owner":{"account_id":10404749,"reputation":43,"user_id":7672000,"accept_rate":20,"display_name":"J. Walsh"},"score":0,"creation_date":1510222520,"post_id":47198692,"comment_id":81346820,"body_markdown":"Thanks guys! All sorted! Ran on the UI Thread properly :)","body":"Thanks guys! All sorted! Ran on the UI Thread properly :)"}],"answers":[{"tags":[],"owner":{"account_id":2151377,"reputation":2638,"user_id":3983130,"accept_rate":43,"display_name":"Dilip"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510222296,"creation_date":1510222296,"answer_id":47199090,"question_id":47198692,"body_markdown":"        public void updateDisplay() {   \r\n          Timer timer = new Timer();\r\n          timer.schedule(new TimerTask() {\r\n    \r\n        @Override\r\n        public void run() {\r\n            // Your logic here...\r\n    \r\n            // When you need to modify a UI element, do so on the UI thread. \r\n            // &#39;getActivity()&#39; is required as this is being ran from a Fragment.\r\n            getActivity().runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    // This code will always run on the UI thread, therefore is safe to modify UI elements.\r\n                    myTextBox.setText(&quot;my text&quot;);\r\n                }\r\n            });\r\n        }\r\n    }, 0, 30000); // End of your timer code.   \r\n    \r\n     }","title":"Android Dev: Run TimerTask in UI Thread","body":"<pre><code>    public void updateDisplay() {   \n      Timer timer = new Timer();\n      timer.schedule(new TimerTask() {\n\n    @Override\n    public void run() {\n        // Your logic here...\n\n        // When you need to modify a UI element, do so on the UI thread. \n        // 'getActivity()' is required as this is being ran from a Fragment.\n        getActivity().runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                // This code will always run on the UI thread, therefore is safe to modify UI elements.\n                myTextBox.setText(\"my text\");\n            }\n        });\n    }\n}, 0, 30000); // End of your timer code.   \n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5009856,"reputation":125,"user_id":4026433,"display_name":"Hiroo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510222566,"creation_date":1510222566,"answer_id":47199182,"question_id":47198692,"body_markdown":"android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.\r\n\r\nbecause you edit textView3 in thread \r\n\r\ntry it :\r\n\r\n\r\n\r\npublic void updateDisplay() {\r\n\tTimer timer = new Timer();\r\n\r\n\r\n\ttimer.schedule(new TimerTask(){\r\n\r\n\r\n\t\tpublic void run() {\r\n\r\n\t\t\trunOnUiThread(new Runnable(){\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tCalendar c = Calendar.getInstance();\r\n\t\t\t\t\tint mYear = c.get(Calendar.YEAR);\r\n\t\t\t\t\tint mMonth = c.get(Calendar.MONTH);\r\n\t\t\t\t\tint mDay = c.get(Calendar.DAY_OF_MONTH);\r\n\t\t\t\t\tint mHour = c.get(Calendar.HOUR_OF_DAY);\r\n\t\t\t\t\tint mMinute = c.get(Calendar.MINUTE);\r\n\r\n\t\t\t\t\ttextView3.setText(new StringBuilder()\r\n\t\t\t\t\t\t// Month is 0 based so add 1\r\n\t\t\t\t\t\t.append(mDay).append(&quot;/&quot;)\r\n\t\t\t\t\t\t.append(mMonth + 1).append(&quot;/&quot;)\r\n\t\t\t\t\t\t.append(mYear)\r\n\t\t\t\t\t\t.append(&quot; - &quot;)\r\n\t\t\t\t\t\t.append(mHour)\r\n\t\t\t\t\t\t.append(&quot;:&quot;)\r\n\t\t\t\t\t\t.append(mMinute));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t}\r\n\t}\r\n\r\n\t, 0, 30000);//Update text every 30 seconds\r\n}","title":"Android Dev: Run TimerTask in UI Thread","body":"<p>android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.</p>\n\n<p>because you edit textView3 in thread </p>\n\n<p>try it :</p>\n\n<p>public void updateDisplay() {\n    Timer timer = new Timer();</p>\n\n<pre><code>timer.schedule(new TimerTask(){\n\n\n    public void run() {\n\n        runOnUiThread(new Runnable(){\n            @Override\n            public void run() {\n                Calendar c = Calendar.getInstance();\n                int mYear = c.get(Calendar.YEAR);\n                int mMonth = c.get(Calendar.MONTH);\n                int mDay = c.get(Calendar.DAY_OF_MONTH);\n                int mHour = c.get(Calendar.HOUR_OF_DAY);\n                int mMinute = c.get(Calendar.MINUTE);\n\n                textView3.setText(new StringBuilder()\n                    // Month is 0 based so add 1\n                    .append(mDay).append(\"/\")\n                    .append(mMonth + 1).append(\"/\")\n                    .append(mYear)\n                    .append(\" - \")\n                    .append(mHour)\n                    .append(\":\")\n                    .append(mMinute));\n            }\n        });\n\n    }\n}\n\n, 0, 30000);//Update text every 30 seconds\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":4468601,"reputation":7637,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670597159,"creation_date":1510222803,"answer_id":47199271,"question_id":47198692,"body_markdown":"Use a handler as stated by @Ezio\r\n\r\n    Handler handler = new Handler(Looper.getMainLooper());\r\n        \r\n    Runnable runnable = new Runnable() {\r\n    \r\n        public void run() {\r\n            Calendar c = Calendar.getInstance();\r\n            int mYear = c.get(Calendar.YEAR);\r\n            int mMonth = c.get(Calendar.MONTH);\r\n            int mDay = c.get(Calendar.DAY_OF_MONTH);\r\n            int mHour = c.get(Calendar.HOUR_OF_DAY);\r\n            int mMinute = c.get(Calendar.MINUTE);\r\n    \r\n            textView3.setText(new StringBuilder()\r\n                // Month is 0 based so add 1\r\n                .append(mDay).append(&quot;/&quot;)\r\n                .append(mMonth + 1).append(&quot;/&quot;)\r\n                .append(mYear)\r\n                .append(&quot; - &quot;)\r\n                .append(mHour)\r\n                .append(&quot;:&quot;)\r\n                .append(mMinute));\r\n    \r\n            //repeat every 30secs\r\n            handler.postDelayed(this, 30000);\r\n        }\r\n    }\r\n    \r\n    handler.postDelayed(runnable, 30000);\r\n\r\n- `Looper.getMainLooper()` will run the runnable on the UI Thread\r\n- `handler.postDelayed(this, 30000);` will make it repeat every 30secs","title":"Android Dev: Run TimerTask in UI Thread","body":"<p>Use a handler as stated by @Ezio</p>\n<pre><code>Handler handler = new Handler(Looper.getMainLooper());\n    \nRunnable runnable = new Runnable() {\n\n    public void run() {\n        Calendar c = Calendar.getInstance();\n        int mYear = c.get(Calendar.YEAR);\n        int mMonth = c.get(Calendar.MONTH);\n        int mDay = c.get(Calendar.DAY_OF_MONTH);\n        int mHour = c.get(Calendar.HOUR_OF_DAY);\n        int mMinute = c.get(Calendar.MINUTE);\n\n        textView3.setText(new StringBuilder()\n            // Month is 0 based so add 1\n            .append(mDay).append(&quot;/&quot;)\n            .append(mMonth + 1).append(&quot;/&quot;)\n            .append(mYear)\n            .append(&quot; - &quot;)\n            .append(mHour)\n            .append(&quot;:&quot;)\n            .append(mMinute));\n\n        //repeat every 30secs\n        handler.postDelayed(this, 30000);\n    }\n}\n\nhandler.postDelayed(runnable, 30000);\n</code></pre>\n<ul>\n<li><code>Looper.getMainLooper()</code> will run the runnable on the UI Thread</li>\n<li><code>handler.postDelayed(this, 30000);</code> will make it repeat every 30secs</li>\n</ul>\n"}],"owner":{"account_id":10404749,"reputation":43,"user_id":7672000,"accept_rate":20,"display_name":"J. Walsh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4987,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1670597159,"creation_date":1510221135,"question_id":47198692,"body_markdown":"Im trying to update a `TextView`.\r\n\r\nThis method is located in my Main Class and it is called in `onCreate()`;\r\n\r\nI have tried using `runOnUiThread()` to no avail..\r\n\r\nAs soon as the 30 seconds is reached and it tries to update the TextView it crashes!\r\n\r\nAny help is appreciated:\r\n\r\n    public void updateDisplay() {\r\n        Timer timer = new Timer();\r\n\r\n\r\n        timer.schedule(new TimerTask() {\r\n\r\n\r\n                           public void run() {\r\n                               Calendar c = Calendar.getInstance();\r\n                               int mYear = c.get(Calendar.YEAR);\r\n                               int mMonth = c.get(Calendar.MONTH);\r\n                               int mDay = c.get(Calendar.DAY_OF_MONTH);\r\n                               int mHour = c.get(Calendar.HOUR_OF_DAY);\r\n                               int mMinute = c.get(Calendar.MINUTE);\r\n\r\n                               textView3.setText(new StringBuilder()\r\n                                       // Month is 0 based so add 1\r\n                                       .append(mDay).append(&quot;/&quot;)\r\n                                       .append(mMonth + 1).append(&quot;/&quot;)\r\n                                       .append(mYear)\r\n                                       .append(&quot; - &quot;)\r\n                                       .append(mHour)\r\n                                       .append(&quot;:&quot;)\r\n                                       .append(mMinute));\r\n                           }\r\n                       }\r\n\r\n                ,0,30000);//Update text every 30 seconds\r\n    }\r\n\r\nAnd the error is:\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: Timer-0\r\n                  Process: ggrgroup.com.workforceapp, PID: 21879\r\n                  android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.\r\n                      at android.view.ViewRootImpl.checkThread(ViewRootImpl.java:7261)\r\n                      at android.view.ViewRootImpl.invalidateChildInParent(ViewRootImpl.java:1100)\r\n                      at android.view.ViewGroup.invalidateChild(ViewGroup.java:5219)\r\n                      at android.view.View.invalidateInternal(View.java:12900)\r\n                      at android.view.View.invalidate(View.java:12860)\r\n                      at android.view.View.invalidate(View.java:12844)\r\n                      at android.widget.TextView.checkForRelayout(TextView.java:7459)\r\n                      at android.widget.TextView.setText(TextView.java:4390)\r\n                      at android.widget.TextView.setText(TextView.java:4247)\r\n                      at android.widget.TextView.setText(TextView.java:4222)\r\n                      at ggrgroup.com.workforceapp.MainActivity$1.run(MainActivity.java:77)\r\n                      at java.util.Timer$TimerImpl.run(Timer.java:284)\r\n","title":"Android Dev: Run TimerTask in UI Thread","body":"<p>Im trying to update a <code>TextView</code>.</p>\n\n<p>This method is located in my Main Class and it is called in <code>onCreate()</code>;</p>\n\n<p>I have tried using <code>runOnUiThread()</code> to no avail..</p>\n\n<p>As soon as the 30 seconds is reached and it tries to update the TextView it crashes!</p>\n\n<p>Any help is appreciated:</p>\n\n<pre><code>public void updateDisplay() {\n    Timer timer = new Timer();\n\n\n    timer.schedule(new TimerTask() {\n\n\n                       public void run() {\n                           Calendar c = Calendar.getInstance();\n                           int mYear = c.get(Calendar.YEAR);\n                           int mMonth = c.get(Calendar.MONTH);\n                           int mDay = c.get(Calendar.DAY_OF_MONTH);\n                           int mHour = c.get(Calendar.HOUR_OF_DAY);\n                           int mMinute = c.get(Calendar.MINUTE);\n\n                           textView3.setText(new StringBuilder()\n                                   // Month is 0 based so add 1\n                                   .append(mDay).append(\"/\")\n                                   .append(mMonth + 1).append(\"/\")\n                                   .append(mYear)\n                                   .append(\" - \")\n                                   .append(mHour)\n                                   .append(\":\")\n                                   .append(mMinute));\n                       }\n                   }\n\n            ,0,30000);//Update text every 30 seconds\n}\n</code></pre>\n\n<p>And the error is:</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: Timer-0\n              Process: ggrgroup.com.workforceapp, PID: 21879\n              android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.\n                  at android.view.ViewRootImpl.checkThread(ViewRootImpl.java:7261)\n                  at android.view.ViewRootImpl.invalidateChildInParent(ViewRootImpl.java:1100)\n                  at android.view.ViewGroup.invalidateChild(ViewGroup.java:5219)\n                  at android.view.View.invalidateInternal(View.java:12900)\n                  at android.view.View.invalidate(View.java:12860)\n                  at android.view.View.invalidate(View.java:12844)\n                  at android.widget.TextView.checkForRelayout(TextView.java:7459)\n                  at android.widget.TextView.setText(TextView.java:4390)\n                  at android.widget.TextView.setText(TextView.java:4247)\n                  at android.widget.TextView.setText(TextView.java:4222)\n                  at ggrgroup.com.workforceapp.MainActivity$1.run(MainActivity.java:77)\n                  at java.util.Timer$TimerImpl.run(Timer.java:284)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","mockito","spring-boot-test"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670591487,"post_id":74743574,"comment_id":131915189,"body_markdown":"`AppUserService` is a mock and you are not telling it what to do on `appUserService.findById(id)`","body":"<code>AppUserService</code> is a mock and you are not telling it what to do on <code>appUserService.findById(id)</code>"},{"owner":{"account_id":1052502,"reputation":3122,"user_id":1056042,"accept_rate":61,"display_name":"Arshad Ali"},"score":0,"creation_date":1670591691,"post_id":74743574,"comment_id":131915256,"body_markdown":"I have this `@Mock\n    private AppUserService appuserService;` is it not mocking `AppUserService`? please.","body":"I have this <code>@Mock     private AppUserService appuserService;</code> is it not mocking <code>AppUserService</code>? please."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670593821,"post_id":74743574,"comment_id":131915934,"body_markdown":"It does, but it does not know what to do when you call `appUserService.findById(id)`","body":"It does, but it does not know what to do when you call <code>appUserService.findById(id)</code>"},{"owner":{"account_id":1052502,"reputation":3122,"user_id":1056042,"accept_rate":61,"display_name":"Arshad Ali"},"score":0,"creation_date":1670593908,"post_id":74743574,"comment_id":131915966,"body_markdown":"Any solutions please!!!","body":"Any solutions please!!!"}],"answers":[{"tags":[],"owner":{"account_id":13141463,"reputation":116,"user_id":9492915,"display_name":"SputNick"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670596189,"creation_date":1670596189,"answer_id":74744491,"question_id":74743574,"body_markdown":"The issue is happening because you have not mocked the findById method of AppUserService class\r\n\r\nYou have written the following piece of code `\r\n`\r\n\r\n    if(appUserService.findById(id).isEmpty()) throw new EntityNotFoundException(String.format(&quot;Record not found with id = %s&quot;, id));\r\n\r\nwhich throws as exception if the item with this id is not found.\r\n\r\nIn the test class, you have mocked the AppUserService using\r\n\r\n    @Mock\r\n    private AppUserService appuserService;\r\n\r\n however, you have not told the Mock framework what to do when the findById method is called.\r\nAdd a Mockito.when statement to your test case for example in the following format\r\n\r\n    Mockito.when(appUserService.findById(ArgumentMatchers.anyLong())).thenReturn(&quot;***Return a dummy object here ***&quot;)\r\n\r\nThis should let the mock framework know that it should return the dummy result when this method is called and that should prevent the exception from being thrown.","title":"Spring boot testing delete method always fails","body":"<p>The issue is happening because you have not mocked the findById method of AppUserService class</p>\n<p>You have written the following piece of code <code> </code></p>\n<pre><code>if(appUserService.findById(id).isEmpty()) throw new EntityNotFoundException(String.format(&quot;Record not found with id = %s&quot;, id));\n</code></pre>\n<p>which throws as exception if the item with this id is not found.</p>\n<p>In the test class, you have mocked the AppUserService using</p>\n<pre><code>@Mock\nprivate AppUserService appuserService;\n</code></pre>\n<p>however, you have not told the Mock framework what to do when the findById method is called.\nAdd a Mockito.when statement to your test case for example in the following format</p>\n<pre><code>Mockito.when(appUserService.findById(ArgumentMatchers.anyLong())).thenReturn(&quot;***Return a dummy object here ***&quot;)\n</code></pre>\n<p>This should let the mock framework know that it should return the dummy result when this method is called and that should prevent the exception from being thrown.</p>\n"}],"owner":{"account_id":1052502,"reputation":3122,"user_id":1056042,"accept_rate":61,"display_name":"Arshad Ali"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74744491,"answer_count":1,"score":0,"last_activity_date":1670596189,"creation_date":1670591262,"question_id":74743574,"body_markdown":"I have table of users as shown:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nRest controller method for delete user is:\r\n\r\n    @RequestMapping(APP_USER_API_PATH)\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    public class AppUserControllerImpl implements AppUserController {\r\n    \r\n        @NonNull\r\n        private final AppUserService appUserService;\r\n        @NonNull\r\n        private final AppUserMapper appUserMapper;\r\n    \r\n        @Override\r\n        @DeleteMapping(&quot;/{id}&quot;)\r\n        public ResponseEntity&lt;?&gt; delete(@PathVariable(&quot;id&quot;) Long id) {\r\n            if(appUserService.findById(id).isEmpty())\r\n                throw new EntityNotFoundException(String.format(&quot;Record not found with id = %s&quot;, id));\r\n    \r\n            // If Found then\r\n            appUserService.deleteById(id);\r\n            return ResponseEntity.status(HttpStatus.OK).body(\r\n                    String.format(&quot;Record with id = %s deleted&quot;, id)\r\n            );\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nTest class and method is as follows:\r\n\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc\r\n    @RunWith(SpringRunner.class)\r\n    public class AppUserControllerImplTest {\r\n        private static final String ENDPOINT_URL = APP_USER_API_PATH;\r\n    \r\n        @InjectMocks\r\n        private AppUserControllerImpl appuserController;\r\n        @Mock\r\n        private AppUserService appuserService;\r\n        @Mock\r\n        private AppUserMapper appuserMapper;\r\n    \r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n    \r\n        @Before\r\n        public void setup() {\r\n            this.mockMvc = MockMvcBuilders.standaloneSetup(this.appuserController).build();\r\n        }\r\n    \r\n        @Test\r\n        public void delete() throws Exception {\r\n            Mockito.doNothing().when(appuserService).deleteById(ArgumentMatchers.anyLong());\r\n            mockMvc.perform(\r\n                            MockMvcRequestBuilders.delete(ENDPOINT_URL + &quot;/&quot; + 1L + &quot;&quot;))\r\n                    .andExpect(MockMvcResultMatchers.status().isOk());\r\n            Mockito.verify(appuserService, Mockito.times(1)).deleteById(Mockito.anyLong());\r\n            Mockito.verifyNoMoreInteractions(appuserService);\r\n        }\r\n    }\r\n\r\nit always throws exception:\r\n\r\n    Caused by: javax.persistence.EntityNotFoundException: Record not found with id = 1\r\n\r\nand the test always fails even if record with id = 1 exists.\r\n\r\nFull StackTrace:\r\n\r\n    org.springframework.web.util.NestedServletException: Request processing failed; nested exception is javax.persistence.EntityNotFoundException: Record not found with id = 1\r\n    \r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:931)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)\r\n    \tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\r\n    \tat org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)\r\n    \tat pk.team.inlab.web.app.profile2.controller.impl.AppUserControllerImplTest.delete(AppUserControllerImplTest.java:141)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\r\n    \tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n    \tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n    \tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n    Caused by: javax.persistence.EntityNotFoundException: Record not found with id = 1\r\n    \tat pk.team.inlab.web.app.profile2.controller.impl.AppUserControllerImpl.delete(AppUserControllerImpl.java:89)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \t... 43 more\r\n\r\n  [1]: https://i.stack.imgur.com/UXzwO.png","title":"Spring boot testing delete method always fails","body":"<p>I have table of users as shown:</p>\n<p><a href=\"https://i.stack.imgur.com/UXzwO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UXzwO.png\" alt=\"enter image description here\" /></a></p>\n<p>Rest controller method for delete user is:</p>\n<pre><code>@RequestMapping(APP_USER_API_PATH)\n@RestController\n@RequiredArgsConstructor\npublic class AppUserControllerImpl implements AppUserController {\n\n    @NonNull\n    private final AppUserService appUserService;\n    @NonNull\n    private final AppUserMapper appUserMapper;\n\n    @Override\n    @DeleteMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;?&gt; delete(@PathVariable(&quot;id&quot;) Long id) {\n        if(appUserService.findById(id).isEmpty())\n            throw new EntityNotFoundException(String.format(&quot;Record not found with id = %s&quot;, id));\n\n        // If Found then\n        appUserService.deleteById(id);\n        return ResponseEntity.status(HttpStatus.OK).body(\n                String.format(&quot;Record with id = %s deleted&quot;, id)\n        );\n\n    }\n\n}\n</code></pre>\n<p>Test class and method is as follows:</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\n@RunWith(SpringRunner.class)\npublic class AppUserControllerImplTest {\n    private static final String ENDPOINT_URL = APP_USER_API_PATH;\n\n    @InjectMocks\n    private AppUserControllerImpl appuserController;\n    @Mock\n    private AppUserService appuserService;\n    @Mock\n    private AppUserMapper appuserMapper;\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Before\n    public void setup() {\n        this.mockMvc = MockMvcBuilders.standaloneSetup(this.appuserController).build();\n    }\n\n    @Test\n    public void delete() throws Exception {\n        Mockito.doNothing().when(appuserService).deleteById(ArgumentMatchers.anyLong());\n        mockMvc.perform(\n                        MockMvcRequestBuilders.delete(ENDPOINT_URL + &quot;/&quot; + 1L + &quot;&quot;))\n                .andExpect(MockMvcResultMatchers.status().isOk());\n        Mockito.verify(appuserService, Mockito.times(1)).deleteById(Mockito.anyLong());\n        Mockito.verifyNoMoreInteractions(appuserService);\n    }\n}\n</code></pre>\n<p>it always throws exception:</p>\n<pre><code>Caused by: javax.persistence.EntityNotFoundException: Record not found with id = 1\n</code></pre>\n<p>and the test always fails even if record with id = 1 exists.</p>\n<p>Full StackTrace:</p>\n<pre><code>org.springframework.web.util.NestedServletException: Request processing failed; nested exception is javax.persistence.EntityNotFoundException: Record not found with id = 1\n\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n    at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:931)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)\n    at pk.team.inlab.web.app.profile2.controller.impl.AppUserControllerImplTest.delete(AppUserControllerImplTest.java:141)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)\n    at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: javax.persistence.EntityNotFoundException: Record not found with id = 1\n    at pk.team.inlab.web.app.profile2.controller.impl.AppUserControllerImpl.delete(AppUserControllerImpl.java:89)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    ... 43 more\n</code></pre>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":3241533,"reputation":114,"user_id":2734441,"display_name":"hmicn"},"score":0,"creation_date":1470238778,"post_id":38747485,"comment_id":64869908,"body_markdown":"Why can&#39;t you use arrays?","body":"Why can&#39;t you use arrays?"},{"owner":{"account_id":2389551,"reputation":40481,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1470239003,"post_id":38747485,"comment_id":64870062,"body_markdown":"It should not use arrays in what way? Storing the numbers? Sorting the numbers?","body":"It should not use arrays in what way? Storing the numbers? Sorting the numbers?"},{"owner":{"account_id":8945324,"reputation":13,"user_id":6673006,"display_name":"Slick"},"score":0,"creation_date":1470239316,"post_id":38747485,"comment_id":64870301,"body_markdown":"both storing and sorting","body":"both storing and sorting"}],"answers":[{"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1470237637,"post_id":38747596,"comment_id":64869073,"body_markdown":"@RealSkeptic Well you certainly are a real skeptic!","body":"@RealSkeptic Well you certainly are a real skeptic!"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1470237696,"post_id":38747596,"comment_id":64869136,"body_markdown":"Um, an ArrayList is fundamentally just an array with an Object on top. Does this *really* qualify?","body":"Um, an ArrayList is fundamentally just an array with an Object on top. Does this <i>really</i> qualify?"},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1470237745,"post_id":38747596,"comment_id":64869174,"body_markdown":"Switched to `LinkedList`.  Not sure what the OP is really looking for.  I _suspected_ that his assignment is just to use some sort of collection rather than an explicit array.","body":"Switched to <code>LinkedList</code>.  Not sure what the OP is really looking for.  I <i>suspected</i> that his assignment is just to use some sort of collection rather than an explicit array."}],"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1470237707,"creation_date":1470237516,"answer_id":38747596,"question_id":38747485,"body_markdown":"    List&lt;Integer&gt; list = new LinkedList&lt;Integer&gt;();\r\n    Scanner scanner = new Scanner(System.in);\r\n\r\n    while (true) {\r\n        System.out.print(&quot;Enter a number, -1 to exit: &quot;);\r\n        int num = scanner.nextInt();\r\n\r\n        if (num == -1) break;\r\n\r\n        list.add(num);\r\n    }\r\n\r\n    // sort the list (ascending)\r\n    Collections.sort(list);\r\n\r\n    // output the list\r\n    for (Integer val : list) {\r\n        System.out.println(val);\r\n    }","title":"how to input n numbers and print it in ascending order without using array","body":"<pre><code>List&lt;Integer&gt; list = new LinkedList&lt;Integer&gt;();\nScanner scanner = new Scanner(System.in);\n\nwhile (true) {\n    System.out.print(\"Enter a number, -1 to exit: \");\n    int num = scanner.nextInt();\n\n    if (num == -1) break;\n\n    list.add(num);\n}\n\n// sort the list (ascending)\nCollections.sort(list);\n\n// output the list\nfor (Integer val : list) {\n    System.out.println(val);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1470238739,"creation_date":1470238739,"answer_id":38748082,"question_id":38747485,"body_markdown":"You could use Streams:\r\n\r\n        StreamSupport.stream(\r\n                Spliterators.spliteratorUnknownSize(new Scanner(System.in), Spliterator.ORDERED),\r\n                false)\r\n                .limit(10)\r\n                .sorted()\r\n                .forEach(System.out::println);\r\n ","title":"how to input n numbers and print it in ascending order without using array","body":"<p>You could use Streams:</p>\n\n<pre><code>    StreamSupport.stream(\n            Spliterators.spliteratorUnknownSize(new Scanner(System.in), Spliterator.ORDERED),\n            false)\n            .limit(10)\n            .sorted()\n            .forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6699975,"reputation":5536,"user_id":5166818,"display_name":"Amit Kaneria"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470242552,"creation_date":1470242552,"answer_id":38749327,"question_id":38747485,"body_markdown":"Use SortedSet for default sorting, without duplicates. (Don&#39;t if duplicates are needed here!)  \r\n\r\n        SortedSet&lt;Integer&gt; sortedSet = new TreeSet&lt;Integer&gt;();\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        while (true) {\r\n            System.out.print(&quot;Enter a number, -1 to exit: &quot;);\r\n            int num = scanner.nextInt();\r\n            if (num == -1) \r\n                break;\r\n            sortedSet.add(num);\r\n        }\r\n        System.out.println(sortedSet);\r\n","title":"how to input n numbers and print it in ascending order without using array","body":"<p>Use SortedSet for default sorting, without duplicates. (Don't if duplicates are needed here!)  </p>\n\n<pre><code>    SortedSet&lt;Integer&gt; sortedSet = new TreeSet&lt;Integer&gt;();\n    Scanner scanner = new Scanner(System.in);\n\n    while (true) {\n        System.out.print(\"Enter a number, -1 to exit: \");\n        int num = scanner.nextInt();\n        if (num == -1) \n            break;\n        sortedSet.add(num);\n    }\n    System.out.println(sortedSet);\n</code></pre>\n"}],"owner":{"account_id":8945324,"reputation":13,"user_id":6673006,"display_name":"Slick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1528,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38747596,"answer_count":3,"score":1,"last_activity_date":1670595281,"creation_date":1470237218,"question_id":38747485,"body_markdown":"I was trying to create a program that takes `n` number of input in a loop and capable of showing output in ascending order. The main theme of program is **it should not use** arrays.\r\n\r\nI tried it by creating a program that takes input and shows smallest number first then 2nd smallest and 3rd smallest and so on. But I am new to programming so my program could do only like 1st smallest and it does not work.\r\n&lt;br&gt;\r\n&lt;br&gt;\r\nI also saw heap data structure in one of the similar questions but couldn&#39;t figure out how it can work without arrays.\r\n\r\nPlease help me how can we use heap data structure or give me a good suggestion to do it.\r\n\r\n\r\n ","title":"how to input n numbers and print it in ascending order without using array","body":"<p>I was trying to create a program that takes <code>n</code> number of input in a loop and capable of showing output in ascending order. The main theme of program is <strong>it should not use</strong> arrays.</p>\n\n<p>I tried it by creating a program that takes input and shows smallest number first then 2nd smallest and 3rd smallest and so on. But I am new to programming so my program could do only like 1st smallest and it does not work.\n<br>\n<br>\nI also saw heap data structure in one of the similar questions but couldn't figure out how it can work without arrays.</p>\n\n<p>Please help me how can we use heap data structure or give me a good suggestion to do it.</p>\n"},{"tags":["java","arrays","null"],"comments":[{"owner":{"account_id":2972034,"reputation":742,"user_id":2523899,"display_name":"The incredible Jan"},"score":0,"creation_date":1670595614,"post_id":74744153,"comment_id":131916550,"body_markdown":"What do you want to achieve with the null values? Probably I am missing something - why and how should JAVA generate null values in your array?","body":"What do you want to achieve with the null values? Probably I am missing something - why and how should JAVA generate null values in your array?"},{"owner":{"account_id":21554080,"reputation":13,"user_id":20734004,"display_name":"Nathan Ikazuyir"},"score":0,"creation_date":1670604853,"post_id":74744153,"comment_id":131919509,"body_markdown":"@the-incredible-jan i mean whenever my array is full i create another with bigger size and copy the last array elements into new one. but new elements are filled with nulls automatically(java works so)","body":"@the-incredible-jan i mean whenever my array is full i create another with bigger size and copy the last array elements into new one. but new elements are filled with nulls automatically(java works so)"}],"answers":[{"comments":[{"owner":{"account_id":21554080,"reputation":13,"user_id":20734004,"display_name":"Nathan Ikazuyir"},"score":0,"creation_date":1670606660,"post_id":74744252,"comment_id":131920091,"body_markdown":"That&#39;s what i meant! First null in my example means no data there. \n\nLike if i have expArray with my birthday gifts from 3 family members first null is there intentionally and it means first kin told me: &quot;I will give you nothing, no present from me.&quot; (what product could i use? surely null only, i can&#39;t create any product with meaning &quot;nothing&quot;.). second null is not intentioned, it means i don&#39;t know will third kin give me something or no. Is this logic still antipattern?","body":"That&#39;s what i meant! First null in my example means no data there.   Like if i have expArray with my birthday gifts from 3 family members first null is there intentionally and it means first kin told me: &quot;I will give you nothing, no present from me.&quot; (what product could i use? surely null only, i can&#39;t create any product with meaning &quot;nothing&quot;.). second null is not intentioned, it means i don&#39;t know will third kin give me something or no. Is this logic still antipattern?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1670607717,"post_id":74744252,"comment_id":131920434,"body_markdown":"@NathanIkazuyir I&#39;m quite sure from your response if you understand me. An *Array* is a data structure which occupies a contiguous block of memory, i.e. regardless of whether you&#39;re storing anything in it **or not**, even if all values are `null` this memory is already taken, you can&#39;t gain extra space by changing values `null` (hope that&#39;s clear?). If you need to mark certain indices in the array - place the **same object** here (`java.lang.Object`, `String`, whatever), the key point the extra memory you need to allocate a **single object** is neglectable in comparison with a massive array.","body":"@NathanIkazuyir I&#39;m quite sure from your response if you understand me. An <i>Array</i> is a data structure which occupies a contiguous block of memory, i.e. regardless of whether you&#39;re storing anything in it <b>or not</b>, even if all values are <code>null</code> this memory is already taken, you can&#39;t gain extra space by changing values <code>null</code> (hope that&#39;s clear?). If you need to mark certain indices in the array - place the <b>same object</b> here (<code>java.lang.Object</code>, <code>String</code>, whatever), the key point the extra memory you need to allocate a <b>single object</b> is neglectable in comparison with a massive array."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670595015,"creation_date":1670595015,"answer_id":74744252,"question_id":74744153,"body_markdown":"Your requirement is an [XY-problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem).\r\n\r\nIt&#39;s an antipattern when `null` has some kind of special meaning in your business logic. The only valid meaning of `null` -  is no data (*otherwise the code becomes muddy*).\r\n\r\n&gt; i don&#39;t like this solution because it&#39;s hard to implement and wastes MANY RAM\r\n\r\nThere&#39;s no need to waste lots of memory. You need only **one reference** to a placeholder object, which you can use as many times as you need.","title":"How to store null elements in some object array and to know they are stored intentionally(not generated by java)","body":"<p>Your requirement is an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY-problem</a>.</p>\n<p>It's an antipattern when <code>null</code> has some kind of special meaning in your business logic. The only valid meaning of <code>null</code> -  is no data (<em>otherwise the code becomes muddy</em>).</p>\n<blockquote>\n<p>i don't like this solution because it's hard to implement and wastes MANY RAM</p>\n</blockquote>\n<p>There's no need to waste lots of memory. You need only <strong>one reference</strong> to a placeholder object, which you can use as many times as you need.</p>\n"}],"owner":{"account_id":21554080,"reputation":13,"user_id":20734004,"display_name":"Nathan Ikazuyir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74744252,"answer_count":1,"score":0,"last_activity_date":1670595015,"creation_date":1670594506,"question_id":74744153,"body_markdown":"I am creating ExpandableArray class what contains Product classes inside.\r\nI have method add(Product p) that adds Product in first null position in my ExpandableArray.\r\nAnd method replace(index int, Product p) - replaces product with this index by with p.\r\n\r\ni have confronted following situation:\r\n```\r\nExpandableArray expArr = new ExpandableArray(3); // let initial size be 3 products.\r\nexpArr.add(p1);\r\nexpArr.add(p2);\r\nexpArr.replace(0,null) // [null,p2,null]. \r\n```\r\n\r\nnotice that i replaced first element by null intentionally! method add shouldn&#39;t touch it, it should work with the second null.\r\n\r\nBut how do i do that?\r\n\r\nMy solution is to make `integer[]intentionedNullIndexes` array inside `ExpandableArray`, and it will contain all indexes will intentioned nulls. so method add firstly will check if this null index is in intentionedNullIndexes and if it is he won&#39;t touch it.\r\n\r\ni don&#39;t like this solution because it&#39;s hard to implement and wastes MANY RAM. Any suggestions?","title":"How to store null elements in some object array and to know they are stored intentionally(not generated by java)","body":"<p>I am creating ExpandableArray class what contains Product classes inside.\nI have method add(Product p) that adds Product in first null position in my ExpandableArray.\nAnd method replace(index int, Product p) - replaces product with this index by with p.</p>\n<p>i have confronted following situation:</p>\n<pre><code>ExpandableArray expArr = new ExpandableArray(3); // let initial size be 3 products.\nexpArr.add(p1);\nexpArr.add(p2);\nexpArr.replace(0,null) // [null,p2,null]. \n</code></pre>\n<p>notice that i replaced first element by null intentionally! method add shouldn't touch it, it should work with the second null.</p>\n<p>But how do i do that?</p>\n<p>My solution is to make <code>integer[]intentionedNullIndexes</code> array inside <code>ExpandableArray</code>, and it will contain all indexes will intentioned nulls. so method add firstly will check if this null index is in intentionedNullIndexes and if it is he won't touch it.</p>\n<p>i don't like this solution because it's hard to implement and wastes MANY RAM. Any suggestions?</p>\n"},{"tags":["java","spring","logging","mybatis","spring-mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":1,"creation_date":1670509429,"post_id":74731437,"comment_id":131895166,"body_markdown":"There is no such setting in MyBatis. Are you aware that you can set the log level against the package of the mappers? If, however, there are 500 packages, it may not be realistic either. If that is the case, you should consider using external logging tool like [jdbcdslog](https://github.com/adrianshum/jdbcdslog).","body":"There is no such setting in MyBatis. Are you aware that you can set the log level against the package of the mappers? If, however, there are 500 packages, it may not be realistic either. If that is the case, you should consider using external logging tool like <a href=\"https://github.com/adrianshum/jdbcdslog\" rel=\"nofollow noreferrer\">jdbcdslog</a>."},{"owner":{"account_id":27190414,"reputation":3,"user_id":20724278,"display_name":"Dany Allaw"},"score":0,"creation_date":1670509937,"post_id":74731437,"comment_id":131895334,"body_markdown":"the thing i can&#39;t get my head around is why i used to be able to do that using java.sql and now i can&#39;t . and yea i dont have a single package for all my mappers even if i did for some reason pointing to a mapper location doesnt get me the logs as well it only works when i use the namespace","body":"the thing i can&#39;t get my head around is why i used to be able to do that using java.sql and now i can&#39;t . and yea i dont have a single package for all my mappers even if i did for some reason pointing to a mapper location doesnt get me the logs as well it only works when i use the namespace"},{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1670512950,"post_id":74731437,"comment_id":131896508,"body_markdown":"IIRC, there was no way to set different log level for a particular statement or mapper in iBATIS. It is possible with MyBatis&#39; logging system. You didn&#39;t show any mapper, config, etc., but if the namespace is `xxx.yyy.MyMapper`, for example, the logger name should be `xxx.yyy`. If you don&#39;t use fully-qualified name as the namespace (like recommended in the [doc](https://mybatis.org/mybatis-3/getting-started.html)), this method won&#39;t work.","body":"IIRC, there was no way to set different log level for a particular statement or mapper in iBATIS. It is possible with MyBatis&#39; logging system. You didn&#39;t show any mapper, config, etc., but if the namespace is <code>xxx.yyy.MyMapper</code>, for example, the logger name should be <code>xxx.yyy</code>. If you don&#39;t use fully-qualified name as the namespace (like recommended in the <a href=\"https://mybatis.org/mybatis-3/getting-started.html\" rel=\"nofollow noreferrer\">doc</a>), this method won&#39;t work."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670529254,"post_id":74731437,"comment_id":131901742,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":27190414,"reputation":3,"user_id":20724278,"display_name":"Dany Allaw"},"score":0,"creation_date":1670569264,"post_id":74731437,"comment_id":131908832,"body_markdown":"Unfortunately this is legacy code and it&#39;s not following the naming convention , the only common thing between 100s of xml mappers is that they all exist in a mappers list in mybatis-config file , i dont know if that could help in any way @ave","body":"Unfortunately this is legacy code and it&#39;s not following the naming convention , the only common thing between 100s of xml mappers is that they all exist in a mappers list in mybatis-config file , i dont know if that could help in any way @ave"},{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1670569897,"post_id":74731437,"comment_id":131908954,"body_markdown":"@DanyAllaw Have you considered using JDBC logging library as I mentioned in my first comment?","body":"@DanyAllaw Have you considered using JDBC logging library as I mentioned in my first comment?"},{"owner":{"account_id":27190414,"reputation":3,"user_id":20724278,"display_name":"Dany Allaw"},"score":0,"creation_date":1670577201,"post_id":74731437,"comment_id":131910871,"body_markdown":"I just implemented it and it was exactly what i was looking for , Thanks alot !\nif you want to ,  go ahead and put your reply so i mark it as a solution @ave","body":"I just implemented it and it was exactly what i was looking for , Thanks alot ! if you want to ,  go ahead and put your reply so i mark it as a solution @ave"},{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1670595345,"post_id":74731437,"comment_id":131916453,"body_markdown":"I&#39;m glad to know it worked! I posted a brief answer summarizing our comments, but if you could come up with a better one, feel free to post/accept your own answer. :)","body":"I&#39;m glad to know it worked! I posted a brief answer summarizing our comments, but if you could come up with a better one, feel free to post/accept your own answer. :)"}],"answers":[{"tags":[],"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670594958,"creation_date":1670594958,"answer_id":74744239,"question_id":74731437,"body_markdown":"If there is a &#39;package&#39; common to your mappers&#39; namespaces, you can set the log level against the package.  \r\nLet&#39;s say you have two mappers whose namespaces are `foo.mapper.MapperA` and `foo.mapper.MapperB` respectively.  \r\nThe common package, in this case, is `foo.mapper`.\r\n\r\nWhen there is no common package, you may have to set log level for each mapper if you want to log all statements.  \r\nThis is not an ideal solution when you have 500 mappers, obviously.  \r\nIn such a scenario, I would suggest using an external JDBC logging tool like [JdbcDsLog](https://github.com/adrianshum/jdbcdslog).  \r\n","title":"Im Trying to log queries , doesnt matter if they&#39;re unprepared ones , for over 500 xml mapper files using jdk logger . (mybatis - spring )","body":"<p>If there is a 'package' common to your mappers' namespaces, you can set the log level against the package.<br />\nLet's say you have two mappers whose namespaces are <code>foo.mapper.MapperA</code> and <code>foo.mapper.MapperB</code> respectively.<br />\nThe common package, in this case, is <code>foo.mapper</code>.</p>\n<p>When there is no common package, you may have to set log level for each mapper if you want to log all statements.<br />\nThis is not an ideal solution when you have 500 mappers, obviously.<br />\nIn such a scenario, I would suggest using an external JDBC logging tool like <a href=\"https://github.com/adrianshum/jdbcdslog\" rel=\"nofollow noreferrer\">JdbcDsLog</a>.</p>\n"}],"owner":{"account_id":27190414,"reputation":3,"user_id":20724278,"display_name":"Dany Allaw"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74744239,"answer_count":1,"score":0,"last_activity_date":1670594958,"creation_date":1670508116,"question_id":74731437,"body_markdown":"previously when I used to used ibatis , it was running fine just by adding java.sql to my logs.properties file in tomcat and that used to output the queries with their params to the log file . \r\n\r\nnow since I switched from ibatis to mybatis and also from spring 1.2 to spring 5 (i can&#39;t really tell where the problem came from at this point ) I&#39;m not able to log queries as I used before. specifying java.sql in my logs.properties doesn&#39;t print out any logs to my file. \r\n\r\nall my configurations are XML based.\r\n\r\nThe only way I&#39;m able to log queries so far is through including the namespace of the XML mapper to my logs.properties file but this is just unrealistic for over 500 XML files that are in different locations at some point. \r\n\r\nI&#39;m trying to find a class that I can include in my logs.properties file that would be able to do the same job as java.sql\r\n","title":"Im Trying to log queries , doesnt matter if they&#39;re unprepared ones , for over 500 xml mapper files using jdk logger . (mybatis - spring )","body":"<p>previously when I used to used ibatis , it was running fine just by adding java.sql to my logs.properties file in tomcat and that used to output the queries with their params to the log file .</p>\n<p>now since I switched from ibatis to mybatis and also from spring 1.2 to spring 5 (i can't really tell where the problem came from at this point ) I'm not able to log queries as I used before. specifying java.sql in my logs.properties doesn't print out any logs to my file.</p>\n<p>all my configurations are XML based.</p>\n<p>The only way I'm able to log queries so far is through including the namespace of the XML mapper to my logs.properties file but this is just unrealistic for over 500 XML files that are in different locations at some point.</p>\n<p>I'm trying to find a class that I can include in my logs.properties file that would be able to do the same job as java.sql</p>\n"},{"tags":["java","spring-boot","swagger-2.0","lombok"],"comments":[{"owner":{"account_id":2389551,"reputation":40481,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1571611764,"post_id":58467505,"comment_id":103288334,"body_markdown":"If you use a build tool that allows it, you can write a simple plugin that reads your generated files and adds the annotation to them. I can see this being done very easily with gradle","body":"If you use a build tool that allows it, you can write a simple plugin that reads your generated files and adds the annotation to them. I can see this being done very easily with gradle"}],"answers":[{"comments":[{"owner":{"account_id":2389551,"reputation":40481,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1571611676,"post_id":58477884,"comment_id":103288318,"body_markdown":"I&#39;d suggest an actual java file parser like [`javaparser`](https://javaparser.org/#generate) which works for all versions of Java thus far","body":"I&#39;d suggest an actual java file parser like <a href=\"https://javaparser.org/#generate\" rel=\"nofollow noreferrer\"><code>javaparser</code></a> which works for all versions of Java thus far"},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1571612869,"post_id":58477884,"comment_id":103288507,"body_markdown":"@smac89 Sure, yours is a cleaner solution.... mine depends heavily on knowing how the file looks like. I use perl for trivial tasks, which was good enough so far. When something bigger comes, I&#39;ll use a proper parser, too.","body":"@smac89 Sure, yours is a cleaner solution.... mine depends heavily on knowing how the file looks like. I use perl for trivial tasks, which was good enough so far. When something bigger comes, I&#39;ll use a proper parser, too."}],"tags":[],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571611020,"creation_date":1571611020,"answer_id":58477884,"question_id":58467505,"body_markdown":"What about\r\n\r\n    perl -pi -e &#39;s/(?=^public class )/\\@Data\\n\\@Builder\\n\\@NoArgsConstructor\\n\\@AllArgsConstructor\\n/&#39; *.java\r\n\r\n? I guess, that&#39;s not what you expected, but you can integrate it into your build process and have a time-proof solution.\r\n\r\nActually, you&#39;ll need the imports, too, but that&#39;s equally simple.\r\n","title":"Add lombok (or any) annotation to swagger generated class","body":"<p>What about</p>\n\n<pre><code>perl -pi -e 's/(?=^public class )/\\@Data\\n\\@Builder\\n\\@NoArgsConstructor\\n\\@AllArgsConstructor\\n/' *.java\n</code></pre>\n\n<p>? I guess, that's not what you expected, but you can integrate it into your build process and have a time-proof solution.</p>\n\n<p>Actually, you'll need the imports, too, but that's equally simple.</p>\n"}],"owner":{"account_id":6636762,"reputation":148,"user_id":5123722,"display_name":"Vanderson Assis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5194,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1670594803,"creation_date":1571515115,"question_id":58467505,"body_markdown":"I scavenged the internet but didn&#39;t find anything to solve this problem.\r\nIs it possible to add the lombok annotations in a swagger class UPON generation?\r\n\r\nI have this swagger schema:\r\n\r\n    Product:\r\n    type: &quot;object&quot;\r\n    required:\r\n      - idSeller\r\n      - model\r\n      - name\r\n      - description\r\n      - price\r\n    properties:\r\n      id:\r\n        type: string\r\n      idSeller:\r\n        type: string\r\n      model:\r\n        type: string\r\n      name:\r\n        type: string\r\n      description:\r\n        type: string\r\n      price:\r\n        type: number\r\n        format: currency\r\n        minimum: 0.01\r\n\r\nWhich generated this code:\r\n\r\n    @Validated\r\n    @javax.annotation.Generated(value = &quot;io.swagger.codegen.languages.SpringCodegen&quot;, date = &quot;2019-10-18T20:36:31.834-03:00&quot;)\r\n    \r\n    public class Product   {\r\n    \t@JsonProperty(&quot;id&quot;)\r\n    \tprivate String id = null;\r\n    \r\n    \t@JsonProperty(&quot;idSeller&quot;)\r\n    \tprivate String idSeller = null;\r\n    \r\n    \t//rest of the code ommited\r\n    } \r\n\r\nBut I need it to generate this:\r\n\r\n    @Validated\r\n    @javax.annotation.Generated(value = &quot;io.swagger.codegen.languages.SpringCodegen&quot;, date = &quot;2019-10-18T20:36:31.834-03:00&quot;)\r\n    \r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Product   {\r\n    \t@JsonProperty(&quot;id&quot;)\r\n    \tprivate String id = null;\r\n    \r\n    \t@JsonProperty(&quot;idSeller&quot;)\r\n    \tprivate String idSeller = null;\r\n    \r\n    \t//rest of the code ommited\r\n    }\r\n\r\nWith the lombok Data, Builder, NoArgsConstructor and AllArgsConstructor annotations.\r\n\r\nCould you help me on this?","title":"Add lombok (or any) annotation to swagger generated class","body":"<p>I scavenged the internet but didn't find anything to solve this problem.\nIs it possible to add the lombok annotations in a swagger class UPON generation?</p>\n\n<p>I have this swagger schema:</p>\n\n<pre><code>Product:\ntype: \"object\"\nrequired:\n  - idSeller\n  - model\n  - name\n  - description\n  - price\nproperties:\n  id:\n    type: string\n  idSeller:\n    type: string\n  model:\n    type: string\n  name:\n    type: string\n  description:\n    type: string\n  price:\n    type: number\n    format: currency\n    minimum: 0.01\n</code></pre>\n\n<p>Which generated this code:</p>\n\n<pre><code>@Validated\n@javax.annotation.Generated(value = \"io.swagger.codegen.languages.SpringCodegen\", date = \"2019-10-18T20:36:31.834-03:00\")\n\npublic class Product   {\n    @JsonProperty(\"id\")\n    private String id = null;\n\n    @JsonProperty(\"idSeller\")\n    private String idSeller = null;\n\n    //rest of the code ommited\n} \n</code></pre>\n\n<p>But I need it to generate this:</p>\n\n<pre><code>@Validated\n@javax.annotation.Generated(value = \"io.swagger.codegen.languages.SpringCodegen\", date = \"2019-10-18T20:36:31.834-03:00\")\n\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Product   {\n    @JsonProperty(\"id\")\n    private String id = null;\n\n    @JsonProperty(\"idSeller\")\n    private String idSeller = null;\n\n    //rest of the code ommited\n}\n</code></pre>\n\n<p>With the lombok Data, Builder, NoArgsConstructor and AllArgsConstructor annotations.</p>\n\n<p>Could you help me on this?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1670580095,"post_id":74741483,"comment_id":131911744,"body_markdown":"`fill(&quot;abc&quot;, (List&lt;String&gt;) map.get(1));` !? May obviously crash at runtime if you actually have a list of Integers in there and somewhere try to then get the element out of that list and then end up casting a string to and int. Generally this cannot be achieved in a type-safe way.","body":"<code>fill(&quot;abc&quot;, (List&lt;String&gt;) map.get(1));</code> !? May obviously crash at runtime if you actually have a list of Integers in there and somewhere try to then get the element out of that list and then end up casting a string to and int. Generally this cannot be achieved in a type-safe way."},{"owner":{"account_id":25842567,"reputation":3,"user_id":19577899,"display_name":"wiseacre"},"score":0,"creation_date":1670580313,"post_id":74741483,"comment_id":131911829,"body_markdown":"Assume the type is only available at runtime. For example, you read a file that has both strings and ints (one per row). So, you can&#39;t cast the list to the actual type in code.","body":"Assume the type is only available at runtime. For example, you read a file that has both strings and ints (one per row). So, you can&#39;t cast the list to the actual type in code."},{"owner":{"account_id":2163224,"reputation":6602,"user_id":1916917,"accept_rate":60,"display_name":"Holloway"},"score":0,"creation_date":1670580942,"post_id":74741483,"comment_id":131912011,"body_markdown":"If you don&#39;t know the type to cast to, you can&#39;t safely add something to it. What problem are you trying to solve? Reading a csv file?","body":"If you don&#39;t know the type to cast to, you can&#39;t safely add something to it. What problem are you trying to solve? Reading a csv file?"},{"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"score":0,"creation_date":1670581284,"post_id":74741483,"comment_id":131912103,"body_markdown":"But you need to know the type when creating the Lists, e.g. List&lt;String&gt; and populating them.","body":"But you need to know the type when creating the Lists, e.g. List&lt;String&gt; and populating them."},{"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"score":0,"creation_date":1670581646,"post_id":74741483,"comment_id":131912225,"body_markdown":"Or you could leave away the generic in the List of your fill method. This is then a raw use of course but it is not anyway. Or create a method for String, Integer, etc. and try to distinguish on the type of the obj or so","body":"Or you could leave away the generic in the List of your fill method. This is then a raw use of course but it is not anyway. Or create a method for String, Integer, etc. and try to distinguish on the type of the obj or so"},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1670582312,"post_id":74741483,"comment_id":131912428,"body_markdown":"&lt;?&gt; will find the type, so it deduce that&#39;s a string after the 1th call. But the second call say it&#39;s an integer.\nIf it really contains anything so it&#39;s not a generic List.","body":"&lt;?&gt; will find the type, so it deduce that&#39;s a string after the 1th call. But the second call say it&#39;s an integer. If it really contains anything so it&#39;s not a generic List."}],"answers":[{"tags":[],"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670590038,"creation_date":1670589663,"answer_id":74743309,"question_id":74741483,"body_markdown":"You can, but it&#39;s inadvisable to do so, as you (and the compiler) can no longer reason about what is really inside your map. Type safety exists so that you are much less likely to write code that crashes, such as accidentally trying to add an integer into a List of Strings or a String into a List of Integers.\r\n\r\nThis seems to be trying to use Maps for something that they aren&#39;t really made for. Consider creating a new class type instead that properly encapsulates the data that you&#39;re trying to model:\r\n\r\n    public class MyType {\r\n        private List&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n        private List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\r\n    \r\n        public List&lt;String&gt; getStrings() { return strings; }\r\n        public List&lt;Integer&gt; getIntegers() { return integers; }\r\n    }\r\n    \r\n    fill(&quot;abc&quot;, myType.getStrings()); //will work fine\r\n    fill(&quot;abc&quot;, myType.getIntegers()); //compiler error\r\n    fill(5, myType.getIntegers()); //great\r\n    fill(5, myType.getStrings()); //boo\r\n\r\nThis way the compiler helps you write safe code, and you (and anybody else that may need to work with your code in the future) will have an immediate understanding of what that code is supposed to do, especially if you use more expressive names, such as naming the type `Student`, getStrings becomes `getSubjectsTaken()` and getIntegers might become `getAttendanceRecord()`. Takes on a completely new dimension then.","title":"Java map with lists of different types as values","body":"<p>You can, but it's inadvisable to do so, as you (and the compiler) can no longer reason about what is really inside your map. Type safety exists so that you are much less likely to write code that crashes, such as accidentally trying to add an integer into a List of Strings or a String into a List of Integers.</p>\n<p>This seems to be trying to use Maps for something that they aren't really made for. Consider creating a new class type instead that properly encapsulates the data that you're trying to model:</p>\n<pre><code>public class MyType {\n    private List&lt;String&gt; strings = new ArrayList&lt;&gt;();\n    private List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\n\n    public List&lt;String&gt; getStrings() { return strings; }\n    public List&lt;Integer&gt; getIntegers() { return integers; }\n}\n\nfill(&quot;abc&quot;, myType.getStrings()); //will work fine\nfill(&quot;abc&quot;, myType.getIntegers()); //compiler error\nfill(5, myType.getIntegers()); //great\nfill(5, myType.getStrings()); //boo\n</code></pre>\n<p>This way the compiler helps you write safe code, and you (and anybody else that may need to work with your code in the future) will have an immediate understanding of what that code is supposed to do, especially if you use more expressive names, such as naming the type <code>Student</code>, getStrings becomes <code>getSubjectsTaken()</code> and getIntegers might become <code>getAttendanceRecord()</code>. Takes on a completely new dimension then.</p>\n"},{"tags":[],"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670594389,"creation_date":1670594389,"answer_id":74744134,"question_id":74741483,"body_markdown":"If you want a list that can store data of any type, use `List&lt;Object&gt;`.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n  Map&lt;Integer, List&lt;Object&gt;&gt; map = new HashMap&lt;&gt;();\r\n  List&lt;Object&gt; strings = new ArrayList&lt;&gt;();\r\n  List&lt;Object&gt; integers = new ArrayList&lt;&gt;();\r\n  map.put(1, strings);\r\n  map.put(2, integers);\r\n  \r\n  map.get(1).add(&quot;abc&quot;);\r\n}\r\n```","title":"Java map with lists of different types as values","body":"<p>If you want a list that can store data of any type, use <code>List&lt;Object&gt;</code>.</p>\n<pre><code>public static void main(String[] args) {\n  Map&lt;Integer, List&lt;Object&gt;&gt; map = new HashMap&lt;&gt;();\n  List&lt;Object&gt; strings = new ArrayList&lt;&gt;();\n  List&lt;Object&gt; integers = new ArrayList&lt;&gt;();\n  map.put(1, strings);\n  map.put(2, integers);\n  \n  map.get(1).add(&quot;abc&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":25842567,"reputation":3,"user_id":19577899,"display_name":"wiseacre"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":447,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670594389,"creation_date":1670579891,"question_id":74741483,"body_markdown":"```\r\npublic static void main(String[] args) {\r\n  Map&lt;Integer, List&lt;?&gt;&gt; map = new HashMap&lt;&gt;();\r\n  List&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n  List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\r\n  map.put(1, strings);\r\n  map.put(2, integers);\r\n  \r\n  fill(&quot;abc&quot;, map.get(1));   // red underline\r\n}\r\n\r\npublic static &lt;T&gt; void fill(T obj, List&lt;T&gt; list) {\r\n    list.add(obj);\r\n}\r\n```\r\n\r\nMy IDE marks the call to fill with a red underline and shows this message:\r\n```\r\nreason: no instance(s) of type variable(s) exist so that String conforms to capture of ? \r\ninference variable T has incompatible bounds: \r\nequality constraints: capture of ? \r\nlower bounds: String\r\n```\r\nHow do I code a map that can have lists of different types as values?\r\n\r\nEdit: Assume the type of the element to be added is only available at runtime. For example, you read a file that has both strings and ints (one per row). So, you can&#39;t cast the list to the actual type in code. ","title":"Java map with lists of different types as values","body":"<pre><code>public static void main(String[] args) {\n  Map&lt;Integer, List&lt;?&gt;&gt; map = new HashMap&lt;&gt;();\n  List&lt;String&gt; strings = new ArrayList&lt;&gt;();\n  List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\n  map.put(1, strings);\n  map.put(2, integers);\n  \n  fill(&quot;abc&quot;, map.get(1));   // red underline\n}\n\npublic static &lt;T&gt; void fill(T obj, List&lt;T&gt; list) {\n    list.add(obj);\n}\n</code></pre>\n<p>My IDE marks the call to fill with a red underline and shows this message:</p>\n<pre><code>reason: no instance(s) of type variable(s) exist so that String conforms to capture of ? \ninference variable T has incompatible bounds: \nequality constraints: capture of ? \nlower bounds: String\n</code></pre>\n<p>How do I code a map that can have lists of different types as values?</p>\n<p>Edit: Assume the type of the element to be added is only available at runtime. For example, you read a file that has both strings and ints (one per row). So, you can't cast the list to the actual type in code.</p>\n"},{"tags":["java","android","ssl","esp32"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1670249375,"post_id":74688970,"comment_id":131825799,"body_markdown":"You programmed that Xamarin app. So why are you opening six connections? You should know that i think. For what are they opened?","body":"You programmed that Xamarin app. So why are you opening six connections? You should know that i think. For what are they opened?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1670337351,"post_id":74688970,"comment_id":131849830,"body_markdown":"I did not downvote. A browser will open several sockets if for instance the html page contains images. If the html source contains `&lt;img&gt;` tags. Then for every picture a new socket can be opened. You should know why your app opens more sockets then one. Also extra threads/sockets can be started to include scripts.","body":"I did not downvote. A browser will open several sockets if for instance the html page contains images. If the html source contains <code>&lt;img&gt;</code> tags. Then for every picture a new socket can be opened. You should know why your app opens more sockets then one. Also extra threads/sockets can be started to include scripts."},{"owner":{"account_id":1603320,"reputation":793,"user_id":1483943,"accept_rate":75,"display_name":"Ben"},"score":0,"creation_date":1670337722,"post_id":74688970,"comment_id":131850003,"body_markdown":"Unfortunately it is not my App but we can communicate with the Developer team that provides the App. Sure, it would be possible to ask them to implement the https client themselves and therefore limit the nr of socket connections but it could have been possible to set somewhere in Android that limitation. The lwip stack for example allows limiting the number of listening and active tcp connections (aka sockets).","body":"Unfortunately it is not my App but we can communicate with the Developer team that provides the App. Sure, it would be possible to ask them to implement the https client themselves and therefore limit the nr of socket connections but it could have been possible to set somewhere in Android that limitation. The lwip stack for example allows limiting the number of listening and active tcp connections (aka sockets)."}],"answers":[{"tags":[],"owner":{"account_id":1603320,"reputation":793,"user_id":1483943,"accept_rate":75,"display_name":"Ben"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670594202,"creation_date":1670594202,"answer_id":74744106,"question_id":74688970,"body_markdown":"Leaving this here in case someone else stumbles upon a similar requirement &quot;to limit number of connections&quot;.\r\n\r\nThe HttpClientHandler has a Property MaxConnectionsPerServer, which sets a connection Limit per Endpoint.\r\n\r\nThe full documentation can be found [dotnet-maxconnections][1]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/api/system.net.http.httpclienthandler.maxconnectionsperserver?view=net-7.0","title":"Is it possible to limit the number of tls sockets created (Android) when connecting to ESP32 https server?","body":"<p>Leaving this here in case someone else stumbles upon a similar requirement &quot;to limit number of connections&quot;.</p>\n<p>The HttpClientHandler has a Property MaxConnectionsPerServer, which sets a connection Limit per Endpoint.</p>\n<p>The full documentation can be found <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.net.http.httpclienthandler.maxconnectionsperserver?view=net-7.0\" rel=\"nofollow noreferrer\">dotnet-maxconnections</a></p>\n"}],"owner":{"account_id":1603320,"reputation":793,"user_id":1483943,"accept_rate":75,"display_name":"Ben"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74744106,"answer_count":1,"score":0,"last_activity_date":1670594202,"creation_date":1670246889,"question_id":74688970,"body_markdown":"We have the following setup:\r\n\r\n- ESP32 starts a https server, with the limitation of 6 concurrent TCP socket connections\r\n- A Xamarin App running on Android using javax.net.ssl as the TLS client\r\n\r\nThe observation is, that the App opens 6 sockets. Unfortunately we have memory limitations on the ESP32. About 160kb of heap is available and for each socket we need roughly 30kb for each SSL session context. Is it possible to limit the number of sockets created by the Android tls client? \r\n\r\nTo clarify, the app is delivered by a supplier. \r\nFor the communication the xamarin httpclient is used, which does not provide low level access to the sockets. Observing the network communication with wireshark it shows that the Client automatically used between 4-6 socket connects. This seems to be in line with the http protocol, to speed up the page loads. see for example \r\n\r\nhttps://www.oreilly.com/library/view/http-the-definitive/1565925092/ch04s04.html\r\n\r\n","title":"Is it possible to limit the number of tls sockets created (Android) when connecting to ESP32 https server?","body":"<p>We have the following setup:</p>\n<ul>\n<li>ESP32 starts a https server, with the limitation of 6 concurrent TCP socket connections</li>\n<li>A Xamarin App running on Android using javax.net.ssl as the TLS client</li>\n</ul>\n<p>The observation is, that the App opens 6 sockets. Unfortunately we have memory limitations on the ESP32. About 160kb of heap is available and for each socket we need roughly 30kb for each SSL session context. Is it possible to limit the number of sockets created by the Android tls client?</p>\n<p>To clarify, the app is delivered by a supplier.\nFor the communication the xamarin httpclient is used, which does not provide low level access to the sockets. Observing the network communication with wireshark it shows that the Client automatically used between 4-6 socket connects. This seems to be in line with the http protocol, to speed up the page loads. see for example</p>\n<p><a href=\"https://www.oreilly.com/library/view/http-the-definitive/1565925092/ch04s04.html\" rel=\"nofollow noreferrer\">https://www.oreilly.com/library/view/http-the-definitive/1565925092/ch04s04.html</a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1110968,"reputation":499,"user_id":1101430,"accept_rate":68,"display_name":"Kunal Shah"},"score":2,"creation_date":1353309870,"post_id":13449296,"comment_id":18390677,"body_markdown":"the easiest way is use bundles concept","body":"the easiest way is use bundles concept"},{"owner":{"account_id":1758805,"reputation":155,"user_id":1606425,"display_name":"Elliot B"},"score":0,"creation_date":1353309937,"post_id":13449296,"comment_id":18390700,"body_markdown":"How do you use bundles to send objects which aren&#39;t a string or something?","body":"How do you use bundles to send objects which aren&#39;t a string or something?"},{"owner":{"account_id":1758805,"reputation":155,"user_id":1606425,"display_name":"Elliot B"},"score":0,"creation_date":1353311239,"post_id":13449296,"comment_id":18391078,"body_markdown":"Nope because they just teach you how to do basic things like strings...","body":"Nope because they just teach you how to do basic things like strings..."}],"answers":[{"tags":[],"owner":{"account_id":1481208,"reputation":3739,"user_id":1403801,"accept_rate":90,"display_name":"NewUser"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353309926,"creation_date":1353309926,"answer_id":13449320,"question_id":13449296,"body_markdown":"You can use either of Bundles or shared preferences for share variable or save variables for future use.\r\n\r\nExample for shared preferences you can find [here][1]\r\nExample for bundles you can find [here][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3624280/how-to-use-sharedpreferences-in-android-to-store-fetch-and-edit-values\r\n  [2]: https://stackoverflow.com/questions/768969/passing-a-bundle-on-startactivity","title":"How do you share variables with other activities easily?","body":"<p>You can use either of Bundles or shared preferences for share variable or save variables for future use.</p>\n\n<p>Example for shared preferences you can find <a href=\"https://stackoverflow.com/questions/3624280/how-to-use-sharedpreferences-in-android-to-store-fetch-and-edit-values\">here</a>\nExample for bundles you can find <a href=\"https://stackoverflow.com/questions/768969/passing-a-bundle-on-startactivity\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1563603,"reputation":1989,"user_id":1452884,"accept_rate":50,"display_name":"Kavin Varnan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353310015,"creation_date":1353310015,"answer_id":13449334,"question_id":13449296,"body_markdown":"Singleton will be the best approach","title":"How do you share variables with other activities easily?","body":"<p>Singleton will be the best approach</p>\n"},{"tags":[],"owner":{"account_id":1452821,"reputation":20503,"user_id":1369222,"display_name":"Anup Cowkur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353310015,"creation_date":1353310015,"answer_id":13449335,"question_id":13449296,"body_markdown":"You can use intent extras,\r\n\r\n    Intent intent = new Intent(getBaseContext(), NewActivity.class);\r\n    intent.putExtra(&quot;DATA_KEY&quot;, data);\r\n    startActivity(intent)\r\n\r\nThe [docs][1] for Intents has more information (look at the section titled &quot;Extras&quot;).\r\n\r\n\r\n  [1]: http://developer.android.com/guide/topics/intents/intents-filters.html","title":"How do you share variables with other activities easily?","body":"<p>You can use intent extras,</p>\n\n<pre><code>Intent intent = new Intent(getBaseContext(), NewActivity.class);\nintent.putExtra(\"DATA_KEY\", data);\nstartActivity(intent)\n</code></pre>\n\n<p>The <a href=\"http://developer.android.com/guide/topics/intents/intents-filters.html\" rel=\"nofollow\">docs</a> for Intents has more information (look at the section titled \"Extras\").</p>\n"},{"comments":[{"owner":{"account_id":1758805,"reputation":155,"user_id":1606425,"display_name":"Elliot B"},"score":0,"creation_date":1353330205,"post_id":13449388,"comment_id":18399012,"body_markdown":"Thanks for your help, both answers helped my but I can&#39;t accept both.","body":"Thanks for your help, both answers helped my but I can&#39;t accept both."}],"tags":[],"owner":{"display_name":"user948620"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353310651,"creation_date":1353310288,"answer_id":13449388,"question_id":13449296,"body_markdown":"You can use Bundle to share variables in other activities. If you want to pass your own class object in other activities use `Parcelable` to your class\r\n\r\n\r\nHere&#39;s an example\r\n\r\n    public class Person implements Parcelable {\r\n         private int age;\r\n         private String name;    \r\n\r\n         // Setters and Getters\r\n         // ....\r\n\r\n\r\n         public int describeContents() {\r\n             return 0;\r\n         }\r\n    \r\n         public void writeToParcel(Parcel out, int flags) {\r\n             out.writeString(name);\r\n             out.writeInt(age);\r\n         }\r\n    \r\n         public static final Parcelable.Creator&lt;Person&gt; CREATOR\r\n                 = new Parcelable.Creator&lt;Person&gt;() {\r\n             public Person createFromParcel(Parcel in) {\r\n                 return new Person(in);\r\n             }\r\n    \r\n             public Person[] newArray(int size) {\r\n                 return new Person[size];\r\n             }\r\n         };\r\n         \r\n         private Person(Parcel in) {\r\n             name = in.readString();\r\n             age = in.readInt();\r\n         }\r\n     }\r\n\r\nInsert your `Person` object in bundle\r\n\r\n    Intent i = new Intent();\r\n    Bundle b = new Bundle();\r\n    b.putParcelable(&quot;bob&quot;, new Person());\r\n\r\n\r\nGetting `Person` object \r\n\r\n\r\n    Intent i = getIntent();\r\n    Bundle b = i.getExtras();\r\n    \r\n    Person p = (Person) b.getParcelable(&quot;bob&quot;);\r\n\r\n\r\n","title":"How do you share variables with other activities easily?","body":"<p>You can use Bundle to share variables in other activities. If you want to pass your own class object in other activities use <code>Parcelable</code> to your class</p>\n\n<p>Here's an example</p>\n\n<pre><code>public class Person implements Parcelable {\n     private int age;\n     private String name;    \n\n     // Setters and Getters\n     // ....\n\n\n     public int describeContents() {\n         return 0;\n     }\n\n     public void writeToParcel(Parcel out, int flags) {\n         out.writeString(name);\n         out.writeInt(age);\n     }\n\n     public static final Parcelable.Creator&lt;Person&gt; CREATOR\n             = new Parcelable.Creator&lt;Person&gt;() {\n         public Person createFromParcel(Parcel in) {\n             return new Person(in);\n         }\n\n         public Person[] newArray(int size) {\n             return new Person[size];\n         }\n     };\n\n     private Person(Parcel in) {\n         name = in.readString();\n         age = in.readInt();\n     }\n }\n</code></pre>\n\n<p>Insert your <code>Person</code> object in bundle</p>\n\n<pre><code>Intent i = new Intent();\nBundle b = new Bundle();\nb.putParcelable(\"bob\", new Person());\n</code></pre>\n\n<p>Getting <code>Person</code> object </p>\n\n<pre><code>Intent i = getIntent();\nBundle b = i.getExtras();\n\nPerson p = (Person) b.getParcelable(\"bob\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":201623,"reputation":15910,"user_id":448192,"accept_rate":77,"display_name":"DArkO"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1353311027,"creation_date":1353311027,"answer_id":13449542,"question_id":13449296,"body_markdown":"Using bundles inside the intent isn&#39;t about security, it&#39;s because the Android guys made it that way plain and simple. In my opinion using bundles and intents to pass larger objects is not a good idea. it gets too complicated to implement, makes you get the object down to the primitives (when using parcelable) and also makes a copy on the other side in memory (you take one object, set everything inside the intent and then re-create it on the other side making a new copy out of it) which for objects that have a bigger memory footprint isn&#39;t good.\r\n\r\nI would suggest:\r\n\r\n1. either using a singleton store\r\n2. Using the application class (which also acts like a singleton)\r\n\r\nI am often using a singleton which has a hashMap inside where an integer key is generated by me (from atomic Integer) and an object placed inside the map. You just send the ID inside the intent as an extra and retrieve it on the other side by getting the key from the intent and accessing your singleton to retrieve and remove the object (from that map) and use it in your new activity/service.\r\n\r\nHere is a sample of something like this:\r\n\r\n(Note: this is a part from my lib for rest requests (https://github.com/darko1002001/android-rest-client) in case you want to see more details on how everything is implemented). in your case you will need to strip some of the code and replace it with your own, but the general idea is the same.\r\n\r\n\r\n    /**\r\n     * @author Darko.Grozdanovski\r\n     */\r\n    public class HttpRequestStore {\r\n    \r\n        public static final String TAG = HttpRequestStore.class.getSimpleName();\r\n    \r\n        public static final String KEY_ID = &quot;id&quot;;\r\n        public static final String IS_SUCCESSFUL = &quot;isSuccessful&quot;;\r\n    \r\n        private static final HashMap&lt;Integer, RequestWrapper&gt; map = new HashMap&lt;Integer, RequestWrapper&gt;();\r\n    \r\n        private final AtomicInteger counter = new AtomicInteger();\r\n        private static Class&lt;?&gt; executorServiceClass = HTTPRequestExecutorService.class;\r\n    \r\n        private final Context context;\r\n        private static HttpRequestStore instance;\r\n    \r\n        private HttpRequestStore(final Context context) {\r\n            this.context = context;\r\n        }\r\n    \r\n        public static HttpRequestStore getInstance(final Context context) {\r\n            if (instance == null) {\r\n                instance = new HttpRequestStore(context.getApplicationContext());\r\n            }\r\n            return instance;\r\n        }\r\n    \r\n        public static void init(final Class&lt;?&gt; executorServiceClass) {\r\n            HttpRequestStore.executorServiceClass = executorServiceClass;\r\n        }\r\n    \r\n        public Integer addRequest(final RequestWrapper block) {\r\n            return addRequest(counter.incrementAndGet(), block);\r\n        }\r\n    \r\n        public Integer addRequest(final Integer id, final RequestWrapper block) {\r\n            map.put(id, block);\r\n            return id;\r\n        }\r\n    \r\n        public void removeBlock(final Integer id) {\r\n            map.remove(id);\r\n        }\r\n    \r\n        public RequestWrapper getRequest(final Integer id) {\r\n            return map.remove(id);\r\n        }\r\n    \r\n        public RequestWrapper getRequest(final Intent intent) {\r\n            final Bundle extras = intent.getExtras();\r\n            if (extras == null || extras.containsKey(KEY_ID) == false) {\r\n                throw new RuntimeException(&quot;Intent Must be Filled with ID of the block&quot;);\r\n            }\r\n            final int id = extras.getInt(KEY_ID);\r\n            return getRequest(id);\r\n        }\r\n    \r\n        public Integer launchServiceIntent(final HttpRequest block) {\r\n            return launchServiceIntent(block, null);\r\n        }\r\n    \r\n        public Integer launchServiceIntent(final HttpRequest block, RequestOptions options) {\r\n            if (executorServiceClass == null) {\r\n                throw new RuntimeException(&quot;Initialize the Executor service class in a class extending application&quot;);\r\n            }\r\n            if (isServiceAvailable() == false) {\r\n                throw new RuntimeException(&quot;Declare the &quot; + executorServiceClass.getSimpleName() + &quot; in your manifest&quot;);\r\n            }\r\n            final Intent service = new Intent(context, executorServiceClass);\r\n            final RequestWrapper wrapper = new RequestWrapper(block, options);\r\n            final Integer requestId = addRequest(wrapper);\r\n            service.putExtra(KEY_ID, requestId);\r\n            context.startService(service);\r\n            return requestId;\r\n        }\r\n    \r\n        public boolean isServiceAvailable() {\r\n            final PackageManager packageManager = context.getPackageManager();\r\n            final Intent intent = new Intent(context, executorServiceClass);\r\n            final List&lt;ResolveInfo&gt; resolveInfo = packageManager.queryIntentServices(intent,\r\n                    PackageManager.MATCH_DEFAULT_ONLY);\r\n            if (resolveInfo.size() &gt; 0) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"How do you share variables with other activities easily?","body":"<p>Using bundles inside the intent isn't about security, it's because the Android guys made it that way plain and simple. In my opinion using bundles and intents to pass larger objects is not a good idea. it gets too complicated to implement, makes you get the object down to the primitives (when using parcelable) and also makes a copy on the other side in memory (you take one object, set everything inside the intent and then re-create it on the other side making a new copy out of it) which for objects that have a bigger memory footprint isn't good.</p>\n\n<p>I would suggest:</p>\n\n<ol>\n<li>either using a singleton store</li>\n<li>Using the application class (which also acts like a singleton)</li>\n</ol>\n\n<p>I am often using a singleton which has a hashMap inside where an integer key is generated by me (from atomic Integer) and an object placed inside the map. You just send the ID inside the intent as an extra and retrieve it on the other side by getting the key from the intent and accessing your singleton to retrieve and remove the object (from that map) and use it in your new activity/service.</p>\n\n<p>Here is a sample of something like this:</p>\n\n<p>(Note: this is a part from my lib for rest requests (https://github.com/darko1002001/android-rest-client) in case you want to see more details on how everything is implemented). in your case you will need to strip some of the code and replace it with your own, but the general idea is the same.</p>\n\n<pre><code>/**\n * @author Darko.Grozdanovski\n */\npublic class HttpRequestStore {\n\n    public static final String TAG = HttpRequestStore.class.getSimpleName();\n\n    public static final String KEY_ID = \"id\";\n    public static final String IS_SUCCESSFUL = \"isSuccessful\";\n\n    private static final HashMap&lt;Integer, RequestWrapper&gt; map = new HashMap&lt;Integer, RequestWrapper&gt;();\n\n    private final AtomicInteger counter = new AtomicInteger();\n    private static Class&lt;?&gt; executorServiceClass = HTTPRequestExecutorService.class;\n\n    private final Context context;\n    private static HttpRequestStore instance;\n\n    private HttpRequestStore(final Context context) {\n        this.context = context;\n    }\n\n    public static HttpRequestStore getInstance(final Context context) {\n        if (instance == null) {\n            instance = new HttpRequestStore(context.getApplicationContext());\n        }\n        return instance;\n    }\n\n    public static void init(final Class&lt;?&gt; executorServiceClass) {\n        HttpRequestStore.executorServiceClass = executorServiceClass;\n    }\n\n    public Integer addRequest(final RequestWrapper block) {\n        return addRequest(counter.incrementAndGet(), block);\n    }\n\n    public Integer addRequest(final Integer id, final RequestWrapper block) {\n        map.put(id, block);\n        return id;\n    }\n\n    public void removeBlock(final Integer id) {\n        map.remove(id);\n    }\n\n    public RequestWrapper getRequest(final Integer id) {\n        return map.remove(id);\n    }\n\n    public RequestWrapper getRequest(final Intent intent) {\n        final Bundle extras = intent.getExtras();\n        if (extras == null || extras.containsKey(KEY_ID) == false) {\n            throw new RuntimeException(\"Intent Must be Filled with ID of the block\");\n        }\n        final int id = extras.getInt(KEY_ID);\n        return getRequest(id);\n    }\n\n    public Integer launchServiceIntent(final HttpRequest block) {\n        return launchServiceIntent(block, null);\n    }\n\n    public Integer launchServiceIntent(final HttpRequest block, RequestOptions options) {\n        if (executorServiceClass == null) {\n            throw new RuntimeException(\"Initialize the Executor service class in a class extending application\");\n        }\n        if (isServiceAvailable() == false) {\n            throw new RuntimeException(\"Declare the \" + executorServiceClass.getSimpleName() + \" in your manifest\");\n        }\n        final Intent service = new Intent(context, executorServiceClass);\n        final RequestWrapper wrapper = new RequestWrapper(block, options);\n        final Integer requestId = addRequest(wrapper);\n        service.putExtra(KEY_ID, requestId);\n        context.startService(service);\n        return requestId;\n    }\n\n    public boolean isServiceAvailable() {\n        final PackageManager packageManager = context.getPackageManager();\n        final Intent intent = new Intent(context, executorServiceClass);\n        final List&lt;ResolveInfo&gt; resolveInfo = packageManager.queryIntentServices(intent,\n                PackageManager.MATCH_DEFAULT_ONLY);\n        if (resolveInfo.size() &gt; 0) {\n            return true;\n        }\n        return false;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1758805,"reputation":155,"user_id":1606425,"display_name":"Elliot B"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":882,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"closed_date":1670593742,"accepted_answer_id":13449542,"answer_count":5,"score":15,"last_activity_date":1670593736,"creation_date":1353309774,"question_id":13449296,"body_markdown":"\r\n\r\nI am making a card game and I have an activity for discarding cards and an activity for showing the scores. The problem is I want to pass some objects (player and dealer hands) to the other activity so that I can set imageViews in the scores  to the cards that are in the players hands. How can I do this? I don&#39;t care about security or anything I just want the easiest way. ","title":"How do you share variables with other activities easily?","body":"<p>I am making a card game and I have an activity for discarding cards and an activity for showing the scores. The problem is I want to pass some objects (player and dealer hands) to the other activity so that I can set imageViews in the scores  to the cards that are in the players hands. How can I do this? I don't care about security or anything I just want the easiest way.</p>\n"},{"tags":["java","android","copy"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1670577186,"post_id":74740960,"comment_id":131910867,"body_markdown":"You can&#39;t add instances of `A` to a `List&lt;B&gt;`. What do you want to be added to `bClass`?","body":"You can&#39;t add instances of <code>A</code> to a <code>List&lt;B&gt;</code>. What do you want to be added to <code>bClass</code>?"},{"owner":{"account_id":7128299,"reputation":11,"user_id":11158282,"display_name":"rva"},"score":0,"creation_date":1670577826,"post_id":74740960,"comment_id":131911047,"body_markdown":"but how to copy data..classes have the same fields","body":"but how to copy data..classes have the same fields"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1670577860,"post_id":74740960,"comment_id":131911055,"body_markdown":"Copy what data? They are different types.","body":"Copy what data? They are different types."}],"answers":[{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670593597,"creation_date":1670593597,"answer_id":74743997,"question_id":74740960,"body_markdown":"You can use `for` loop for that:\r\n\r\n    for(A a : aClass) {\r\n        bClass.add(new B(a.getP(), a.getQ())); // creating new instance of B by passing params to its constructor.\r\n    }\r\n    \r\n    public class A {\r\n        private String p;\r\n        private String q;\r\n        \r\n        public String getP() {\r\n            return p;\r\n        }\r\n    \r\n        public String getQ() {\r\n            return q;\r\n        }\r\n    }\r\n    \r\n    public class B {\r\n        private String p;\r\n        private String q;\r\n    \r\n        public B(String p, String q) {\r\n            this.p = p;\r\n            this.q = q;\r\n        }\r\n    }","title":"How Can Copy from one Arraylist to another","body":"<p>You can use <code>for</code> loop for that:</p>\n<pre><code>for(A a : aClass) {\n    bClass.add(new B(a.getP(), a.getQ())); // creating new instance of B by passing params to its constructor.\n}\n\npublic class A {\n    private String p;\n    private String q;\n    \n    public String getP() {\n        return p;\n    }\n\n    public String getQ() {\n        return q;\n    }\n}\n\npublic class B {\n    private String p;\n    private String q;\n\n    public B(String p, String q) {\n        this.p = p;\n        this.q = q;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7128299,"reputation":11,"user_id":11158282,"display_name":"rva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1670593680,"creation_date":1670577153,"question_id":74740960,"body_markdown":"How Can Copy from one Arraylist to another like Below.\r\nI have Arraylist of below class like \r\n\r\n\r\n\r\n```List&lt;A&gt; aClass = ...; // has some data```\r\n\r\n```List&lt;B&gt; bClass = ...; //empty```\r\n\r\n    //imports Class X\r\n    public class A {\r\n        private String p;\r\n        private String q;\r\n        private&lt;ClassX&gt; x\r\n    }\r\n\r\n\r\n    //imports Class Y\r\n    public class B {\r\n        private String p;\r\n        private String q;\r\n        private&lt;ClassY&gt; y\r\n    }\r\n\r\n    public class X {\r\n        private String r;\r\n        private String s;\r\n    }\r\n\r\n     public Class Y {\r\n\r\n         private String r;\r\n         private String s;\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nHow Can i Copy from \r\n```bClass``` to ```aClass```;\r\n Like below \r\n      //bClass=aClass;","title":"How Can Copy from one Arraylist to another","body":"<p>How Can Copy from one Arraylist to another like Below.\nI have Arraylist of below class like</p>\n<p><code>List&lt;A&gt; aClass = ...; // has some data</code></p>\n<p><code>List&lt;B&gt; bClass = ...; //empty</code></p>\n<pre><code>//imports Class X\npublic class A {\n    private String p;\n    private String q;\n    private&lt;ClassX&gt; x\n}\n\n\n//imports Class Y\npublic class B {\n    private String p;\n    private String q;\n    private&lt;ClassY&gt; y\n}\n\npublic class X {\n    private String r;\n    private String s;\n}\n\n public Class Y {\n\n     private String r;\n     private String s;\n\n}\n</code></pre>\n<p>How Can i Copy from\n<code>bClass</code> to <code>aClass</code>;\nLike below\n//bClass=aClass;</p>\n"},{"tags":["java","arrays","bit"],"comments":[{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1670509448,"post_id":74731512,"comment_id":131895174,"body_markdown":"Can you post full code to replicate this, including the definition of your input byte array?","body":"Can you post full code to replicate this, including the definition of your input byte array?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670513726,"post_id":74731512,"comment_id":131896842,"body_markdown":"It&#39;s probably easiest to treat the whole thing as a string. Your x-y ranges can be a simple substring op, followed by a parse binary","body":"It&#39;s probably easiest to treat the whole thing as a string. Your x-y ranges can be a simple substring op, followed by a parse binary"},{"owner":{"account_id":1710275,"reputation":219,"user_id":1568482,"accept_rate":25,"display_name":"millerbill3"},"score":0,"creation_date":1670578006,"post_id":74731512,"comment_id":131911110,"body_markdown":"Note, I added example for populating byte array @ThomasTimbul","body":"Note, I added example for populating byte array @ThomasTimbul"},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1670580412,"post_id":74731512,"comment_id":131911862,"body_markdown":"Sorry, but this doesn&#39;t compile. `set = intToBinary(set, 0);` is missing the &#39;start&#39; argument. The &#39;content&#39; parameter is unused. `set = intToBinary(set, 1000, 95);` does not coincide with &#39;start&#39;ing at the end of one of your declared positions (should be 94?) Maybe tidy it up a little and if there is a mistake it may reveal itself while doing so? Given the rather complicated means of setting up this array in the first place, can that be simplified?","body":"Sorry, but this doesn&#39;t compile. <code>set = intToBinary(set, 0);</code> is missing the &#39;start&#39; argument. The &#39;content&#39; parameter is unused. <code>set = intToBinary(set, 1000, 95);</code> does not coincide with &#39;start&#39;ing at the end of one of your declared positions (should be 94?) Maybe tidy it up a little and if there is a mistake it may reveal itself while doing so? Given the rather complicated means of setting up this array in the first place, can that be simplified?"},{"owner":{"account_id":1710275,"reputation":219,"user_id":1568482,"accept_rate":25,"display_name":"millerbill3"},"score":0,"creation_date":1670582376,"post_id":74731512,"comment_id":131912447,"body_markdown":"Sorry... I had a copy/paste/editing error in the intToBinary(set, 0) snippet. I have updated my example code. If there&#39;s a simpler way to populate the byteArray I&#39;m all ears.","body":"Sorry... I had a copy/paste/editing error in the intToBinary(set, 0) snippet. I have updated my example code. If there&#39;s a simpler way to populate the byteArray I&#39;m all ears."}],"answers":[{"tags":[],"owner":{"account_id":18542752,"reputation":21,"user_id":13510859,"display_name":"ItsMoi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670510771,"creation_date":1670510771,"answer_id":74732048,"question_id":74731512,"body_markdown":"IIrc `Bitset.get` only takes the range of bits from the byte which the start index is in. what you could maybe do is iterate over the header array and extract the bits that you want from each byte. For example, you could do something like this:\r\n\r\n    private int extractBits(byte[] header, int start, int end) {\r\n    // First, figure out which byte in the header array the start and end indices are in\r\n    int startByte = start / 8;\r\n    int endByte = end / 8;\r\n\r\n    // Next, calculate the indices of the start and end bits within the start and end bytes\r\n    int startBit = start % 8;\r\n    int endBit = end % 8;\r\n\r\n    // Initialize a result variable to 0\r\n    int result = 0;\r\n\r\n    // If the start and end indices are in the same byte, we can just use the BitSet.get()\r\n    // method to extract the bits that we want\r\n    if (startByte == endByte) {\r\n        BitSet bitSet = BitSet.valueOf(new byte[]{header[startByte]});\r\n        result = (int) bitSet.get(startBit, endBit + 1).toLongArray()[0];\r\n    } else {\r\n        // If the start and end indices are in different bytes, we need to do some additional\r\n        // processing to extract the bits that we want.\r\n\r\n        // First, create a new array that contains only the bytes that we need to extract bits from\r\n        byte[] bytes = Arrays.copyOfRange(header, startByte, endByte + 1);\r\n\r\n        // Next, create a BitSet from the bytes array\r\n        BitSet bitSet = BitSet.valueOf(bytes);\r\n\r\n        // Then, get the bits from the start index to the end of the start byte and add them to the result\r\n        BitSet startBits = bitSet.get(startBit, 8);\r\n        result = (int) startBits.toLongArray()[0];\r\n\r\n        // Next, shift the bits in the result variable to the left by the number of bits that we&#39;ve already extracted\r\n        result &lt;&lt;= 8 - startBit;\r\n\r\n        // Then, get the bits from the beginning of the end byte to the end index and add them to the result\r\n        BitSet endBits = bitSet.get(0, endBit + 1);\r\n        result |= (int) endBits.toLongArray()[0];\r\n    }\r\n\r\n    // Finally, return the result\r\n    return result;  }\r\n","title":"Retrieve range of bits from byte array","body":"<p>IIrc <code>Bitset.get</code> only takes the range of bits from the byte which the start index is in. what you could maybe do is iterate over the header array and extract the bits that you want from each byte. For example, you could do something like this:</p>\n<pre><code>private int extractBits(byte[] header, int start, int end) {\n// First, figure out which byte in the header array the start and end indices are in\nint startByte = start / 8;\nint endByte = end / 8;\n\n// Next, calculate the indices of the start and end bits within the start and end bytes\nint startBit = start % 8;\nint endBit = end % 8;\n\n// Initialize a result variable to 0\nint result = 0;\n\n// If the start and end indices are in the same byte, we can just use the BitSet.get()\n// method to extract the bits that we want\nif (startByte == endByte) {\n    BitSet bitSet = BitSet.valueOf(new byte[]{header[startByte]});\n    result = (int) bitSet.get(startBit, endBit + 1).toLongArray()[0];\n} else {\n    // If the start and end indices are in different bytes, we need to do some additional\n    // processing to extract the bits that we want.\n\n    // First, create a new array that contains only the bytes that we need to extract bits from\n    byte[] bytes = Arrays.copyOfRange(header, startByte, endByte + 1);\n\n    // Next, create a BitSet from the bytes array\n    BitSet bitSet = BitSet.valueOf(bytes);\n\n    // Then, get the bits from the start index to the end of the start byte and add them to the result\n    BitSet startBits = bitSet.get(startBit, 8);\n    result = (int) startBits.toLongArray()[0];\n\n    // Next, shift the bits in the result variable to the left by the number of bits that we've already extracted\n    result &lt;&lt;= 8 - startBit;\n\n    // Then, get the bits from the beginning of the end byte to the end index and add them to the result\n    BitSet endBits = bitSet.get(0, endBit + 1);\n    result |= (int) endBits.toLongArray()[0];\n}\n\n// Finally, return the result\nreturn result;  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1710275,"reputation":219,"user_id":1568482,"accept_rate":25,"display_name":"millerbill3"},"score":0,"creation_date":1670591641,"post_id":74742677,"comment_id":131915236,"body_markdown":"Thanks @ThomasTimbul!!! This was very helpful. It simplified my code and made it much easier to understand.","body":"Thanks @ThomasTimbul!!! This was very helpful. It simplified my code and made it much easier to understand."}],"tags":[],"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670586356,"creation_date":1670586356,"answer_id":74742677,"question_id":74731512,"body_markdown":"Others may be number and mathematical wizards, but what made it difficult for me personally to reason about this was that when your `BitSet` was printed bit by bit, it did not match your expected representation at all. It appeared to be inverted. This ties in with my remark about how complicated it appeared to be to construct the input in the first place, and as this is a largely symmetrical operation, extracting the information again would be just as intricate.\r\n\r\nIn the **following approach** I tried to use built-in methods for converting binary representations to decimal, as well as for operating on the array, thus avoiding mathematical errors and to be able to easily reason about debugger output:\r\n\r\n\r\nThis is a utility method to print out any BitSet in the binary byte-wise representation that you used:\r\n\r\n\t/**\r\n\t * Print a bitset to stdout in binary notation, separating bytes with a pipe &#39;|&#39;.\r\n\t * @param bitSet\r\n\t */\r\n\tprivate static void printBitSetByteWise(BitSet bitSet) {\r\n\t\tfor(int i = 0; i&lt; bitSet.size(); i++) {\r\n\t\t\tif(i&gt;0 &amp;&amp; i%4==0) System.out.print(&#39;|&#39;);\r\n\t\t\tSystem.out.print(bitSet.get(i) ? 1 : 0);\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t}\r\n\r\nModified extraction method, which converts the byte array into a BitSet, turns that back into an unsigned binary String, then parses it using `Integer.parseInt` with a radix of 2 for binary:\r\n\t\r\n\t/**\r\n\t * Extracts an integer formed from the given indices in an array of bytes.\r\n\t */\r\n\tprivate int extractBits2(byte[] header, int start, int endInclusive) {\r\n\t\tBitSet bitSet = BitSet.valueOf(header);\r\n\t\tfinal BitSet subset = bitSet.get(start, endInclusive + 1);\r\n\t\t//create a String representation\r\n\t\tfinal int length = endInclusive - start + 1;\r\n\t\tStringBuilder b = new StringBuilder(length);\r\n\t\tfor(int i = 0; i &lt; length; i++) {\r\n\t\t\tb.append(subset.get(i)?&#39;1&#39;:&#39;0&#39;);\r\n\t\t}\r\n\t\t//parse using radix 2\r\n\t\treturn Integer.parseInt(b.toString(), 2);\r\n\t}\r\n\r\nWhen creating the input array, there is no need to pass an argument, and since you&#39;re operating directly on the array itself, there&#39;s no point re-assigning it to itself in each step either. Finally, I&#39;ve removed the inversion part at the bottom:\r\n\r\n\tprotected byte[] createMessageHeader() {\r\n\t\tint[] set = new int[128];\r\n\t\tintegrate(set, 3, 3);\r\n\t\tintegrate(set, 0, 5);\r\n\t\tintegrate(set, 1000, 15);\r\n\t\tintegrate(set, 200, 23);\r\n\t\tintegrate(set, 200, 31);\r\n\t\tintegrate(set, 1294967295, 63);\r\n\t\tintegrate(set, 5, 71);\r\n\t\tintegrate(set, 3, 79);\r\n\t\tintegrate(set, 0, 83);\r\n\t\tintegrate(set, 0, 85);\r\n\t\tintegrate(set, 1000, 94);\r\n\t\tintegrate(set, 200, 103);\r\n\t\tintegrate(set, 200, 111);\r\n\t\tintegrate(set, 300, 127);\r\n\t\t\r\n\t\tBitSet bitSet = binArrayToBitset(set);\r\n\t\t\r\n\t\treturn bitSet.toByteArray();\r\n\t}\r\n\t\r\n\r\nHere, instead of dividing, inserting backwards, then inverting, I simply use the binary String representation (kindly provided by the built-in JDK method `Integer.toBinaryString`), convert it to its digits 1s and 0s, and `arraycopy` them into the correct position:\r\n\r\n\t/**\r\n\t * Inserts the given value into the given int array, right-aligning its\r\n\t * binary representation to the given index within the array.\r\n\t */\r\n\tprotected void integrate(int[] binary, int value, int alignEndToIndex) {\r\n\t\tString binaryRepresentation = Integer.toBinaryString(value);\r\n\t\tint[] digits = numberStringToArrayOfDigits(binaryRepresentation);\r\n\t\tSystem.arraycopy(digits,0,binary, alignEndToIndex+1-digits.length, digits.length);\r\n\t}\r\n    \r\n\t/**\r\n\t * Convert a String, which is assumed to represent a number, to\r\n\t * an integer array containing its individual digits.\r\n\t */\r\n\tprotected int[] numberStringToArrayOfDigits(String binaryRepresentation) {\r\n\t\tint[] digits = new int[binaryRepresentation.length()];\r\n\t\tfor (int i = 0; i &lt; binaryRepresentation.length(); i++) {\r\n\t\t\tdigits[i] = binaryRepresentation.charAt(i) - &#39;0&#39;;\r\n\t\t}\r\n\t\treturn digits;\r\n\t}\r\n\r\nAnd this is the same as yours:\r\n\r\n\tprotected BitSet binArrayToBitset(int[] binArray) {\r\n\t\tBitSet set = new BitSet(128);\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; binArray.length; i++) {\r\n\t\t\tif(binArray[i] != 0)\r\n\t\t\t\tset.set(i);\r\n\t\t}\r\n\t\treturn set;\r\n\t} \r\n\r\nPutting it all together:\r\n\r\n        final byte[] header = createMessageHeader();\r\n\t\tBitSet bitSet = BitSet.valueOf(header);\r\n\t\tprintBitSetByteWise(bitSet); //just to verify contents are as expected\r\n        //0011|0011|1110|1000|1100|1000|1100|1000|0100|1101|0010|1111|1010|0001|1111|1111|0000|0101|0000|0011|0000|0111|1101|0000|1100|1000|1100|1000|0000|0001|0010|1100\r\n\r\n\t\tSystem.out.println(extractBits2(header, 6, 15)); //1000\r\n        System.out.println(extractBits2(header, 32, 63)); //1294967295\r\n\t\tSystem.out.println(extractBits2(header, 104, 111)); //200","title":"Retrieve range of bits from byte array","body":"<p>Others may be number and mathematical wizards, but what made it difficult for me personally to reason about this was that when your <code>BitSet</code> was printed bit by bit, it did not match your expected representation at all. It appeared to be inverted. This ties in with my remark about how complicated it appeared to be to construct the input in the first place, and as this is a largely symmetrical operation, extracting the information again would be just as intricate.</p>\n<p>In the <strong>following approach</strong> I tried to use built-in methods for converting binary representations to decimal, as well as for operating on the array, thus avoiding mathematical errors and to be able to easily reason about debugger output:</p>\n<p>This is a utility method to print out any BitSet in the binary byte-wise representation that you used:</p>\n<pre><code>/**\n * Print a bitset to stdout in binary notation, separating bytes with a pipe '|'.\n * @param bitSet\n */\nprivate static void printBitSetByteWise(BitSet bitSet) {\n    for(int i = 0; i&lt; bitSet.size(); i++) {\n        if(i&gt;0 &amp;&amp; i%4==0) System.out.print('|');\n        System.out.print(bitSet.get(i) ? 1 : 0);\n    }\n    System.out.println();\n}\n</code></pre>\n<p>Modified extraction method, which converts the byte array into a BitSet, turns that back into an unsigned binary String, then parses it using <code>Integer.parseInt</code> with a radix of 2 for binary:</p>\n<pre><code>/**\n * Extracts an integer formed from the given indices in an array of bytes.\n */\nprivate int extractBits2(byte[] header, int start, int endInclusive) {\n    BitSet bitSet = BitSet.valueOf(header);\n    final BitSet subset = bitSet.get(start, endInclusive + 1);\n    //create a String representation\n    final int length = endInclusive - start + 1;\n    StringBuilder b = new StringBuilder(length);\n    for(int i = 0; i &lt; length; i++) {\n        b.append(subset.get(i)?'1':'0');\n    }\n    //parse using radix 2\n    return Integer.parseInt(b.toString(), 2);\n}\n</code></pre>\n<p>When creating the input array, there is no need to pass an argument, and since you're operating directly on the array itself, there's no point re-assigning it to itself in each step either. Finally, I've removed the inversion part at the bottom:</p>\n<pre><code>protected byte[] createMessageHeader() {\n    int[] set = new int[128];\n    integrate(set, 3, 3);\n    integrate(set, 0, 5);\n    integrate(set, 1000, 15);\n    integrate(set, 200, 23);\n    integrate(set, 200, 31);\n    integrate(set, 1294967295, 63);\n    integrate(set, 5, 71);\n    integrate(set, 3, 79);\n    integrate(set, 0, 83);\n    integrate(set, 0, 85);\n    integrate(set, 1000, 94);\n    integrate(set, 200, 103);\n    integrate(set, 200, 111);\n    integrate(set, 300, 127);\n    \n    BitSet bitSet = binArrayToBitset(set);\n    \n    return bitSet.toByteArray();\n}\n</code></pre>\n<p>Here, instead of dividing, inserting backwards, then inverting, I simply use the binary String representation (kindly provided by the built-in JDK method <code>Integer.toBinaryString</code>), convert it to its digits 1s and 0s, and <code>arraycopy</code> them into the correct position:</p>\n<pre><code>/**\n * Inserts the given value into the given int array, right-aligning its\n * binary representation to the given index within the array.\n */\nprotected void integrate(int[] binary, int value, int alignEndToIndex) {\n    String binaryRepresentation = Integer.toBinaryString(value);\n    int[] digits = numberStringToArrayOfDigits(binaryRepresentation);\n    System.arraycopy(digits,0,binary, alignEndToIndex+1-digits.length, digits.length);\n}\n\n/**\n * Convert a String, which is assumed to represent a number, to\n * an integer array containing its individual digits.\n */\nprotected int[] numberStringToArrayOfDigits(String binaryRepresentation) {\n    int[] digits = new int[binaryRepresentation.length()];\n    for (int i = 0; i &lt; binaryRepresentation.length(); i++) {\n        digits[i] = binaryRepresentation.charAt(i) - '0';\n    }\n    return digits;\n}\n</code></pre>\n<p>And this is the same as yours:</p>\n<pre><code>protected BitSet binArrayToBitset(int[] binArray) {\n    BitSet set = new BitSet(128);\n    \n    for(int i = 0; i &lt; binArray.length; i++) {\n        if(binArray[i] != 0)\n            set.set(i);\n    }\n    return set;\n} \n</code></pre>\n<p>Putting it all together:</p>\n<pre><code>    final byte[] header = createMessageHeader();\n    BitSet bitSet = BitSet.valueOf(header);\n    printBitSetByteWise(bitSet); //just to verify contents are as expected\n    //0011|0011|1110|1000|1100|1000|1100|1000|0100|1101|0010|1111|1010|0001|1111|1111|0000|0101|0000|0011|0000|0111|1101|0000|1100|1000|1100|1000|0000|0001|0010|1100\n\n    System.out.println(extractBits2(header, 6, 15)); //1000\n    System.out.println(extractBits2(header, 32, 63)); //1294967295\n    System.out.println(extractBits2(header, 104, 111)); //200\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670593313,"creation_date":1670593313,"answer_id":74743937,"question_id":74731512,"body_markdown":"I don&#39;t know if this will help. It allows, at least, for your requirements to be easily changed and parameterised. I&#39;m not quite sure how your data comes in the first place, but it should be pretty easy to get it into a &#39;binary string&#39;. I&#39;ve used a tuple class here (which the JRE sadly lacks) but there&#39;s no great need to go 3rd party if you don&#39;t want:\r\n\r\n    package com.technojeeves.tuples;\r\n    \r\n    import org.javatuples.Pair;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class App {\r\n        public static void main(String[] args) {\r\n    \r\n            String data = &quot;&quot;&quot;\r\n                    0011 | 0011 | 1110 | 1000 | 1100 | 1000 | 1100 | 1000 | 0100 | 1101 | 0010 | 1111 | 1010 | 0001 | 1111 | 1111\r\n                    0000 | 0101 | 0000 | 0011 | 0000 | 0011 | 1110 | 1000 | 1100 | 1000 | 1100 | 1000 | 0000 | 0001 | 0010 | 1100\r\n                    &quot;&quot;&quot;;\r\n    \r\n            String bitsWanted = &quot;0-3, 4-5, 6-15, 16-23, 24-31, 32-63, 64-71, 72-79, 80-83, 84-85, 86-94, 96-103, 104-111, 112-127&quot;;\r\n    \r\n            List&lt;Pair&lt;Integer, Integer&gt;&gt; tuples = App.getTuples(bitsWanted);\r\n            List&lt;Integer&gt; values = App.bitsStringToIntegersList(data, tuples);\r\n    \r\n            int ix = 0;\r\n            for (Integer b : values) {\r\n                System.out.printf(&quot;Bits %s = 0x%02X%n&quot;, tuples.get(ix).getValue0() + &quot;-&quot; + tuples.get(ix++).getValue1(), b);\r\n            }\r\n        }\r\n    \r\n    \r\n        private static List&lt;Pair&lt;Integer, Integer&gt;&gt; getTuples(String tupleString) {\r\n            List&lt;Pair&lt;Integer, Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n            String[] tuples = tupleString.split(&quot;\\\\s*,\\\\s*&quot;);\r\n            for(String tuple : tuples) {\r\n                String[] startEnd = tuple.split(&quot;-&quot;);\r\n                result.add(new Pair(Integer.valueOf(startEnd[0]), Integer.valueOf(startEnd[1])));\r\n            }\r\n            return result;\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        private static List&lt;Integer&gt; bitsStringToIntegersList(String bits, List&lt;Pair&lt;Integer, Integer&gt;&gt; tuples) {\r\n            List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n            bits = bits.replaceAll(&quot;[^01]&quot;, &quot;&quot;);\r\n            for (Pair&lt;Integer, Integer&gt; startEnd : tuples) {\r\n                int start = startEnd.getValue0();\r\n                int end = startEnd.getValue1();\r\n                result.add(Integer.valueOf(bits.substring(start, end), 2));\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n\r\nOutput is:\r\n\r\n    Bits 0-3 = 0x01\r\n    Bits 4-5 = 0x00\r\n    Bits 6-15 = 0x1F4\r\n    Bits 16-23 = 0x64\r\n    Bits 24-31 = 0x64\r\n    Bits 32-63 = 0x2697D0FF\r\n    Bits 64-71 = 0x02\r\n    Bits 72-79 = 0x01\r\n    Bits 80-83 = 0x00\r\n    Bits 84-85 = 0x00\r\n    Bits 86-94 = 0xFA\r\n    Bits 96-103 = 0x64\r\n    Bits 104-111 = 0x64\r\n    Bits 112-127 = 0x96\r\n\r\n\r\n","title":"Retrieve range of bits from byte array","body":"<p>I don't know if this will help. It allows, at least, for your requirements to be easily changed and parameterised. I'm not quite sure how your data comes in the first place, but it should be pretty easy to get it into a 'binary string'. I've used a tuple class here (which the JRE sadly lacks) but there's no great need to go 3rd party if you don't want:</p>\n<pre><code>package com.technojeeves.tuples;\n\nimport org.javatuples.Pair;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class App {\n    public static void main(String[] args) {\n\n        String data = &quot;&quot;&quot;\n                0011 | 0011 | 1110 | 1000 | 1100 | 1000 | 1100 | 1000 | 0100 | 1101 | 0010 | 1111 | 1010 | 0001 | 1111 | 1111\n                0000 | 0101 | 0000 | 0011 | 0000 | 0011 | 1110 | 1000 | 1100 | 1000 | 1100 | 1000 | 0000 | 0001 | 0010 | 1100\n                &quot;&quot;&quot;;\n\n        String bitsWanted = &quot;0-3, 4-5, 6-15, 16-23, 24-31, 32-63, 64-71, 72-79, 80-83, 84-85, 86-94, 96-103, 104-111, 112-127&quot;;\n\n        List&lt;Pair&lt;Integer, Integer&gt;&gt; tuples = App.getTuples(bitsWanted);\n        List&lt;Integer&gt; values = App.bitsStringToIntegersList(data, tuples);\n\n        int ix = 0;\n        for (Integer b : values) {\n            System.out.printf(&quot;Bits %s = 0x%02X%n&quot;, tuples.get(ix).getValue0() + &quot;-&quot; + tuples.get(ix++).getValue1(), b);\n        }\n    }\n\n\n    private static List&lt;Pair&lt;Integer, Integer&gt;&gt; getTuples(String tupleString) {\n        List&lt;Pair&lt;Integer, Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n        String[] tuples = tupleString.split(&quot;\\\\s*,\\\\s*&quot;);\n        for(String tuple : tuples) {\n            String[] startEnd = tuple.split(&quot;-&quot;);\n            result.add(new Pair(Integer.valueOf(startEnd[0]), Integer.valueOf(startEnd[1])));\n        }\n        return result;\n    }\n\n\n\n\n    private static List&lt;Integer&gt; bitsStringToIntegersList(String bits, List&lt;Pair&lt;Integer, Integer&gt;&gt; tuples) {\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n        bits = bits.replaceAll(&quot;[^01]&quot;, &quot;&quot;);\n        for (Pair&lt;Integer, Integer&gt; startEnd : tuples) {\n            int start = startEnd.getValue0();\n            int end = startEnd.getValue1();\n            result.add(Integer.valueOf(bits.substring(start, end), 2));\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>Output is:</p>\n<pre><code>Bits 0-3 = 0x01\nBits 4-5 = 0x00\nBits 6-15 = 0x1F4\nBits 16-23 = 0x64\nBits 24-31 = 0x64\nBits 32-63 = 0x2697D0FF\nBits 64-71 = 0x02\nBits 72-79 = 0x01\nBits 80-83 = 0x00\nBits 84-85 = 0x00\nBits 86-94 = 0xFA\nBits 96-103 = 0x64\nBits 104-111 = 0x64\nBits 112-127 = 0x96\n</code></pre>\n"}],"owner":{"account_id":1710275,"reputation":219,"user_id":1568482,"accept_rate":25,"display_name":"millerbill3"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":641,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74742677,"answer_count":3,"score":1,"last_activity_date":1670593313,"creation_date":1670508429,"question_id":74731512,"body_markdown":"I have a 16 byte byte array with various values populated inside of it. Those values can and do cross the byte boundary.\r\n\r\nHere is the binary representation of my data\r\n\r\n&gt; 0011 | 0011 | 1110 | 1000 | 1100 | 1000 | 1100 | 1000 |\r\n&gt; 0100 | 1101 | 0010 | 1111 | 1010 | 0001 | 1111 | 1111    [ 0 - 63]\r\n&gt; \r\n&gt; 0000 | 0101 | 0000 | 0011 | 0000 | 0011 | 1110 | 1000 | 1100 | 1000 |\r\n&gt; 1100 | 1000 | 0000 | 0001 | 0010 | 1100    [64 -127]\r\n\r\nThe various values I need to retrieve are stored in the following bit positions\r\n&gt; 0-3 | 4-5 | 6-15 | 16-23 | 24-31 | 32 - 63 | 64-71 | 72-79 | 80-83 | 84-85 | 86-94 | 96-103 | 104-111 | 112-127\r\n\r\n**CODE:**\r\n\r\nHere&#39;s the code to populate the Byte Array:\r\n\r\n    protected byte[] createMessageHeader(byte[] content) {\r\n        int[] set = new int[128];\r\n        set = intToBinary(set, 3, 3);\r\n        set = intToBinary(set, 0, 5);\r\n        set = intToBinary(set, 1000, 15);\r\n        set = intToBinary(set, 200, 23);\r\n        set = intToBinary(set, 200, 31);\r\n        set = intToBinary(set, 1294967295, 63);\r\n        set = intToBinary(set, 5, 71);\r\n        set = intToBinary(set, 3, 79);\r\n        set = intToBinary(set, 0, 83);\r\n        set = intToBinary(set, 0, 85);\r\n        set = intToBinary(set, 1000, 95);\r\n        set = intToBinary(set, 200, 103);\r\n        set = intToBinary(set, 200, 111);\r\n        set = intToBinary(set, 300, 127);\r\n\r\n        BitSet bitSet = binArrayToBitset(set);\r\n        byte[] b1 = bitSet.toByteArray();\r\n\r\n        for(int i = 0; i &lt; b1.length; i++) {\r\n            b1[i] = (byte) (Integer.reverse(b1[i]) &gt;&gt;&gt; 24);\r\n        }\r\n\r\n        return b1;\r\n    }\r\n\r\n    protected int[] intToBinary(int[] binary, int val, int start) {\r\n            // Number should be positive\r\n            while (val &gt; 0) {\r\n                binary[start--] = val % 2;\r\n                val = val / 2;\r\n            }\r\n            return binary;\r\n        }\r\n    protected BitSet binArrayToBitset(int[] binArray) {\r\n            BitSet set = new BitSet(128);\r\n    \r\n            for(int i = 0; i &lt; binArray.length; i++) {\r\n                if(binArray[i] != 0)\r\n                    set.set(i);\r\n            }\r\n            return set;\r\n        }\r\n    //Convenience method to print binary representation of values\r\n    protected void toBinString(int[] set) {\r\n            StringBuilder stringBuilder = new StringBuilder();\r\n            for(int i = 0; i &lt; set.length; i++) {\r\n                if(i % 4 == 0)\r\n                    stringBuilder.append(&quot;|&quot;);\r\n                if(i % 64 == 0)\r\n                    stringBuilder.append(&quot;\\n&quot;);\r\n                stringBuilder.append(set[i]);\r\n            }\r\n        }\r\n\r\n \r\n        \r\n\r\nThe above code should produce the Byte Array with the specified values at the specific bit index ranges.\r\n\r\n\r\n----------\r\n\r\n\r\nI have tried numerous methods for retrieving these values, most recently:\r\n\r\n    private int extractBits2(byte[] header, int start, int end) {\r\n        BitSet bitSet = BitSet.valueOf(header);\r\n        return (int) bitSet.get(start, end + 1).toLongArray()[0];\r\n    }\r\n\r\nUsing the above method, if I call it with: \r\n&gt; int extracted = extractBits2(header, 6, 15)\r\n\r\nThe value returned is &#39;0b00000011_10100000&#39; (IntelliJ Debugger window), but I thought it would return &#39;0b0011 1110 1000&#39; (int 1000).\r\n\r\nWhat am I missing here?\r\nI need to be able to retrieve the range of bits so I can validate their values.\r\n\r\n**NOTE**: all the values stored are integers except for one which is a timestamp value (long).\r\n\r\n","title":"Retrieve range of bits from byte array","body":"<p>I have a 16 byte byte array with various values populated inside of it. Those values can and do cross the byte boundary.</p>\n<p>Here is the binary representation of my data</p>\n<blockquote>\n<p>0011 | 0011 | 1110 | 1000 | 1100 | 1000 | 1100 | 1000 |\n0100 | 1101 | 0010 | 1111 | 1010 | 0001 | 1111 | 1111    [ 0 - 63]</p>\n<p>0000 | 0101 | 0000 | 0011 | 0000 | 0011 | 1110 | 1000 | 1100 | 1000 |\n1100 | 1000 | 0000 | 0001 | 0010 | 1100    [64 -127]</p>\n</blockquote>\n<p>The various values I need to retrieve are stored in the following bit positions</p>\n<blockquote>\n<p>0-3 | 4-5 | 6-15 | 16-23 | 24-31 | 32 - 63 | 64-71 | 72-79 | 80-83 | 84-85 | 86-94 | 96-103 | 104-111 | 112-127</p>\n</blockquote>\n<p><strong>CODE:</strong></p>\n<p>Here's the code to populate the Byte Array:</p>\n<pre><code>protected byte[] createMessageHeader(byte[] content) {\n    int[] set = new int[128];\n    set = intToBinary(set, 3, 3);\n    set = intToBinary(set, 0, 5);\n    set = intToBinary(set, 1000, 15);\n    set = intToBinary(set, 200, 23);\n    set = intToBinary(set, 200, 31);\n    set = intToBinary(set, 1294967295, 63);\n    set = intToBinary(set, 5, 71);\n    set = intToBinary(set, 3, 79);\n    set = intToBinary(set, 0, 83);\n    set = intToBinary(set, 0, 85);\n    set = intToBinary(set, 1000, 95);\n    set = intToBinary(set, 200, 103);\n    set = intToBinary(set, 200, 111);\n    set = intToBinary(set, 300, 127);\n\n    BitSet bitSet = binArrayToBitset(set);\n    byte[] b1 = bitSet.toByteArray();\n\n    for(int i = 0; i &lt; b1.length; i++) {\n        b1[i] = (byte) (Integer.reverse(b1[i]) &gt;&gt;&gt; 24);\n    }\n\n    return b1;\n}\n\nprotected int[] intToBinary(int[] binary, int val, int start) {\n        // Number should be positive\n        while (val &gt; 0) {\n            binary[start--] = val % 2;\n            val = val / 2;\n        }\n        return binary;\n    }\nprotected BitSet binArrayToBitset(int[] binArray) {\n        BitSet set = new BitSet(128);\n\n        for(int i = 0; i &lt; binArray.length; i++) {\n            if(binArray[i] != 0)\n                set.set(i);\n        }\n        return set;\n    }\n//Convenience method to print binary representation of values\nprotected void toBinString(int[] set) {\n        StringBuilder stringBuilder = new StringBuilder();\n        for(int i = 0; i &lt; set.length; i++) {\n            if(i % 4 == 0)\n                stringBuilder.append(&quot;|&quot;);\n            if(i % 64 == 0)\n                stringBuilder.append(&quot;\\n&quot;);\n            stringBuilder.append(set[i]);\n        }\n    }\n\n\n    \n</code></pre>\n<p>The above code should produce the Byte Array with the specified values at the specific bit index ranges.</p>\n<hr />\n<p>I have tried numerous methods for retrieving these values, most recently:</p>\n<pre><code>private int extractBits2(byte[] header, int start, int end) {\n    BitSet bitSet = BitSet.valueOf(header);\n    return (int) bitSet.get(start, end + 1).toLongArray()[0];\n}\n</code></pre>\n<p>Using the above method, if I call it with:</p>\n<blockquote>\n<p>int extracted = extractBits2(header, 6, 15)</p>\n</blockquote>\n<p>The value returned is '0b00000011_10100000' (IntelliJ Debugger window), but I thought it would return '0b0011 1110 1000' (int 1000).</p>\n<p>What am I missing here?\nI need to be able to retrieve the range of bits so I can validate their values.</p>\n<p><strong>NOTE</strong>: all the values stored are integers except for one which is a timestamp value (long).</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa","jpql"],"answers":[{"comments":[{"owner":{"account_id":7999707,"reputation":5543,"user_id":6034951,"display_name":"ekem chitsiga"},"score":4,"creation_date":1463036410,"post_id":37178866,"comment_id":61892609,"body_markdown":"@Query(&quot;select u from User u where lower(u.name) like lower(:u_name)&quot;)","body":"@Query(&quot;select u from User u where lower(u.name) like lower(:u_name)&quot;)"}],"tags":[],"owner":{"account_id":6606813,"reputation":24,"user_id":5103403,"display_name":"Nicholas"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1463034474,"creation_date":1463034474,"answer_id":37178866,"question_id":37178520,"body_markdown":"You can use `wildcard matching`.\r\n\r\nfor example, i want to search name like `haha`,\r\n\r\n    @Query(&quot;select u from User u where lower(u.name) like :u_name&quot;)\r\n    public List&lt;User&gt; findByNameFree(@Param(&quot;u_name&quot;) String name);\r\n    List&lt;User&gt; users = userDao.findByNameFree(&quot;%haha&quot;);","title":"JPQL Like Case Insensitive","body":"<p>You can use <code>wildcard matching</code>.</p>\n\n<p>for example, i want to search name like <code>haha</code>,</p>\n\n<pre><code>@Query(\"select u from User u where lower(u.name) like :u_name\")\npublic List&lt;User&gt; findByNameFree(@Param(\"u_name\") String name);\nList&lt;User&gt; users = userDao.findByNameFree(\"%haha\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2117316,"reputation":1141,"user_id":1881284,"accept_rate":36,"display_name":"windupurnomo"},"score":1,"creation_date":1463477256,"post_id":37179118,"comment_id":62070114,"body_markdown":"I want to find solution for general problem that use query.","body":"I want to find solution for general problem that use query."},{"owner":{"account_id":208183,"reputation":7392,"user_id":458509,"accept_rate":71,"display_name":"storm_buster"},"score":0,"creation_date":1662046851,"post_id":37179118,"comment_id":129921021,"body_markdown":"doesnt work... the value is not put to lowercase","body":"doesnt work... the value is not put to lowercase"}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":2,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1463035343,"creation_date":1463035343,"answer_id":37179118,"question_id":37178520,"body_markdown":"If that is only what you want and you are using Spring Data JPA you don&#39;t need to write a query. \r\n\r\n    List&lt;User&gt; findByNameContainingIgnoreCase(String name);\r\n\r\nElse you need to wrap the `name` attribute with `%` before you pass it to the method (putting those directly in the query will simply not work). Or don&#39;t use a query but use a specification or the Criteria API to create the query. ","title":"JPQL Like Case Insensitive","body":"<p>If that is only what you want and you are using Spring Data JPA you don't need to write a query. </p>\n\n<pre><code>List&lt;User&gt; findByNameContainingIgnoreCase(String name);\n</code></pre>\n\n<p>Else you need to wrap the <code>name</code> attribute with <code>%</code> before you pass it to the method (putting those directly in the query will simply not work). Or don't use a query but use a specification or the Criteria API to create the query. </p>\n"},{"comments":[{"owner":{"account_id":3077891,"reputation":687,"user_id":2606809,"accept_rate":70,"display_name":"Saxophonist"},"score":0,"creation_date":1579100645,"post_id":41988897,"comment_id":105654396,"body_markdown":"Good approach. Thank you!","body":"Good approach. Thank you!"},{"owner":{"account_id":2736964,"reputation":1137,"user_id":2359435,"accept_rate":75,"display_name":"Max"},"score":0,"creation_date":1594036214,"post_id":41988897,"comment_id":110976087,"body_markdown":"Note that this might change your query plan and bypass a SQL index, slowing down queries, especially with lots of users in the table. This is because it has to apply the lower() to all the values in the DB on every call.","body":"Note that this might change your query plan and bypass a SQL index, slowing down queries, especially with lots of users in the table. This is because it has to apply the lower() to all the values in the DB on every call."},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1594038067,"post_id":41988897,"comment_id":110977083,"body_markdown":"@Max Thanks for that observation, did not think of that. According to https://stackoverflow.com/questions/12855/database-case-insensitive-index there are ways to avoid it, but it very much seems to depend on what db you are using.","body":"@Max Thanks for that observation, did not think of that. According to <a href=\"https://stackoverflow.com/questions/12855/database-case-insensitive-index\" title=\"database case insensitive index\">stackoverflow.com/questions/12855/&hellip;</a> there are ways to avoid it, but it very much seems to depend on what db you are using."},{"owner":{"account_id":5219040,"reputation":743,"user_id":4173048,"display_name":"withoutOne"},"score":0,"creation_date":1595851266,"post_id":41988897,"comment_id":111607706,"body_markdown":"when given null, boom baby!","body":"when given null, boom baby!"},{"owner":{"account_id":9493972,"reputation":1487,"user_id":7057736,"display_name":"Malindu Sandaruwan"},"score":0,"creation_date":1601270321,"post_id":41988897,"comment_id":113343401,"body_markdown":"it fails when nameToFind is null. any solution?","body":"it fails when nameToFind is null. any solution?"},{"owner":{"account_id":408269,"reputation":18064,"user_id":517371,"accept_rate":74,"display_name":"Tobia"},"score":0,"creation_date":1614681907,"post_id":41988897,"comment_id":117453273,"body_markdown":"@MalinduSandaruwan that&#39;s because you need to specify what you want to happen when nameToFind is null. If you want to NOT filter by name, then the entire clause `lower(u.name) like lower(...)` must be omitted from the string. If you have multiple clauses, you will have to omit and `and` or replace the omitted part with a `1=1`. And so on.","body":"@MalinduSandaruwan that&#39;s because you need to specify what you want to happen when nameToFind is null. If you want to NOT filter by name, then the entire clause <code>lower(u.name) like lower(...)</code> must be omitted from the string. If you have multiple clauses, you will have to omit and <code>and</code> or replace the omitted part with a <code>1=1</code>. And so on."}],"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"comment_count":6,"down_vote_count":0,"up_vote_count":145,"is_accepted":true,"score":145,"last_activity_date":1485980191,"creation_date":1485980191,"answer_id":41988897,"question_id":37178520,"body_markdown":"You can use the concat operator:\r\n\r\n    @Query(&quot;select u from User u where lower(u.name) like lower(concat(&#39;%&#39;, ?1,&#39;%&#39;))&quot;)\r\n    public List&lt;User&gt; findByNameFree(String name);\r\n\r\nor with a named parameter:\r\n\r\n    @Query(&quot;select u from User u where lower(u.name) like lower(concat(&#39;%&#39;, :nameToFind,&#39;%&#39;))&quot;)\r\n    public List&lt;User&gt; findByNameFree(@Param(&quot;nameToFind&quot;) String name);\r\n\r\n(Tested with Spring Boot 1.4.3)","title":"JPQL Like Case Insensitive","body":"<p>You can use the concat operator:</p>\n\n<pre><code>@Query(\"select u from User u where lower(u.name) like lower(concat('%', ?1,'%'))\")\npublic List&lt;User&gt; findByNameFree(String name);\n</code></pre>\n\n<p>or with a named parameter:</p>\n\n<pre><code>@Query(\"select u from User u where lower(u.name) like lower(concat('%', :nameToFind,'%'))\")\npublic List&lt;User&gt; findByNameFree(@Param(\"nameToFind\") String name);\n</code></pre>\n\n<p>(Tested with Spring Boot 1.4.3)</p>\n"},{"comments":[{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1696804696,"post_id":62988377,"comment_id":136196451,"body_markdown":"Does the concat result in `%name%` being the search term? What do the % do?","body":"Does the concat result in <code>%name%</code> being the search term? What do the % do?"}],"tags":[],"owner":{"account_id":13045696,"reputation":717,"user_id":9427614,"display_name":"Shashank"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1595216870,"creation_date":1595216870,"answer_id":62988377,"question_id":37178520,"body_markdown":"I am using Spring Boot 2.1.6, You can define query methods using Containing, Contains, and IsContaining as below:\r\n\r\n    List&lt;User&gt; findByNameContaining(String name);\r\n    List&lt;User&gt; findByNameContains(String name);\r\n    List&lt;User&gt; findByNameIsContaining(String name);\r\n \r\nCase Insensitivity:\r\n\r\n    List&lt;User&gt; findByNameContainingIgnoreCase(String name);\r\nOR you can also define as below as well:\r\n\r\n    @Query(&quot;select u from User u where lower(u.name) like lower(concat(&#39;%&#39;, :name,&#39;%&#39;))&quot;)\r\n    public List&lt;User&gt; findByName(@Param(&quot;name&quot;) String name);\r\nThe @Param annotation is important here because we&#39;re using a named parameter.\r\n   ","title":"JPQL Like Case Insensitive","body":"<p>I am using Spring Boot 2.1.6, You can define query methods using Containing, Contains, and IsContaining as below:</p>\n<pre><code>List&lt;User&gt; findByNameContaining(String name);\nList&lt;User&gt; findByNameContains(String name);\nList&lt;User&gt; findByNameIsContaining(String name);\n</code></pre>\n<p>Case Insensitivity:</p>\n<pre><code>List&lt;User&gt; findByNameContainingIgnoreCase(String name);\n</code></pre>\n<p>OR you can also define as below as well:</p>\n<pre><code>@Query(&quot;select u from User u where lower(u.name) like lower(concat('%', :name,'%'))&quot;)\npublic List&lt;User&gt; findByName(@Param(&quot;name&quot;) String name);\n</code></pre>\n<p>The @Param annotation is important here because we're using a named parameter.</p>\n"},{"tags":[],"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1639486170,"creation_date":1639486170,"answer_id":70349161,"question_id":37178520,"body_markdown":"  Without using concat and using TypedQuery:\r\n\r\n      TypedQuery&lt;Baptism&gt; query = entityManager.createQuery(&quot;SELECT d FROM &quot; + Baptism.class.getSimpleName()\r\n        \t\t\t\t\t\t+ &quot; d JOIN d.person p WHERE UPPER(p.lastName) LIKE UPPER(:ln)&quot;, Baptism.class);\r\n        \t\t\t\tquery.setParameter(&quot;ln&quot;, &quot;%&quot; + ln + &quot;%&quot;);","title":"JPQL Like Case Insensitive","body":"<p>Without using concat and using TypedQuery:</p>\n<pre><code>  TypedQuery&lt;Baptism&gt; query = entityManager.createQuery(&quot;SELECT d FROM &quot; + Baptism.class.getSimpleName()\n                            + &quot; d JOIN d.person p WHERE UPPER(p.lastName) LIKE UPPER(:ln)&quot;, Baptism.class);\n                    query.setParameter(&quot;ln&quot;, &quot;%&quot; + ln + &quot;%&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8781440,"reputation":59,"user_id":6564948,"display_name":"Swornim Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667543780,"creation_date":1667543780,"answer_id":74313026,"question_id":37178520,"body_markdown":"You can use spring boot naming convention strategy to achieve with naming pattern like: findBy`YourFieldCamelCase`LikeIgnoreCase \r\n\r\n`example: findByUserNameLikeIgnoreCase(userName: String): List&lt;UserEntity&gt;`","title":"JPQL Like Case Insensitive","body":"<p>You can use spring boot naming convention strategy to achieve with naming pattern like: findBy<code>YourFieldCamelCase</code>LikeIgnoreCase</p>\n<p><code>example: findByUserNameLikeIgnoreCase(userName: String): List&lt;UserEntity&gt;</code></p>\n"}],"owner":{"account_id":2117316,"reputation":1141,"user_id":1881284,"accept_rate":36,"display_name":"windupurnomo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88184,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"accepted_answer_id":41988897,"answer_count":6,"score":69,"last_activity_date":1670593152,"creation_date":1463033194,"question_id":37178520,"body_markdown":"I want to search data in User table by name case insensitive.\r\n\r\n\r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n\t\r\n\t  @Query(&quot;select u from User u where lower(u.name) like %lower(?1)%&quot;)\r\n\t  public List&lt;User&gt; findByNameFree(String name);\r\n    \r\n    }\r\n\r\nI got an error: *unexpected token: %*. Where should I place &#39;%&#39;?","title":"JPQL Like Case Insensitive","body":"<p>I want to search data in User table by name case insensitive.</p>\n\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n\n  @Query(\"select u from User u where lower(u.name) like %lower(?1)%\")\n  public List&lt;User&gt; findByNameFree(String name);\n\n}\n</code></pre>\n\n<p>I got an error: <em>unexpected token: %</em>. Where should I place '%'?</p>\n"},{"tags":["java","json","json-simple"],"comments":[{"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"score":0,"creation_date":1669983656,"post_id":74652384,"comment_id":131772608,"body_markdown":"for those who voted for close: this question is not about how to iterate over json.","body":"for those who voted for close: this question is not about how to iterate over json."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1670592960,"post_id":74652384,"comment_id":131915653,"body_markdown":"You&#39;re calling `upcomingIterator.next()` three times in the loop, while `Upcoming` only contains 2 elements. You should call `next()` only **once** per loop iteration, assign it to a local variable, and then use it for the remainder of the loop. In case you hadn&#39;t noticed it, you printed the title of the first array element of `Upcoming`, and the number of seats of the second array element. If you had had three elements in the array, you would have printed the synopsis of the third.","body":"You&#39;re calling <code>upcomingIterator.next()</code> three times in the loop, while <code>Upcoming</code> only contains 2 elements. You should call <code>next()</code> only <b>once</b> per loop iteration, assign it to a local variable, and then use it for the remainder of the loop. In case you hadn&#39;t noticed it, you printed the title of the first array element of <code>Upcoming</code>, and the number of seats of the second array element. If you had had three elements in the array, you would have printed the synopsis of the third."}],"answers":[{"comments":[{"owner":{"account_id":18201292,"reputation":13,"user_id":13245399,"display_name":"Nomad312"},"score":0,"creation_date":1669968056,"post_id":74652433,"comment_id":131767677,"body_markdown":"This helped, thank you so much for your prompt response! Also, it seems that I also need to do a casting like this:\n\n\n`String title = (String) ((HashMap) upcomingIterator.next()).get(&quot;title&quot;);`","body":"This helped, thank you so much for your prompt response! Also, it seems that I also need to do a casting like this:   <code>String title = (String) ((HashMap) upcomingIterator.next()).get(&quot;title&quot;);</code>"},{"owner":{"account_id":18201292,"reputation":13,"user_id":13245399,"display_name":"Nomad312"},"score":0,"creation_date":1669968397,"post_id":74652433,"comment_id":131767753,"body_markdown":"Thank you for the tip, I have implemented that as well!","body":"Thank you for the tip, I have implemented that as well!"},{"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"score":0,"creation_date":1669969659,"post_id":74652433,"comment_id":131768109,"body_markdown":"please accept the answer if it is working. The next step i would take is to create classes like &quot;Event&quot; or whatever and then map JSON into these classes by using JSON&lt;-&gt;Object Mapper.","body":"please accept the answer if it is working. The next step i would take is to create classes like &quot;Event&quot; or whatever and then map JSON into these classes by using JSON&lt;-&gt;Object Mapper."}],"tags":[],"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669967927,"creation_date":1669967526,"answer_id":74652433,"question_id":74652384,"body_markdown":"in the loop you use &quot;jsonObject&quot; but i guess you should use &quot;upcomingIterator.next()&quot;\r\n\r\n            while (upcomingIterator.hasNext()) {\r\n                String title = (String) upcomingIterator.next().get(&quot;title&quot;);\r\n                System.out.println(&quot;title: &quot; + title);\r\n            }\r\n\r\nI am not sure about the JSON API u are using, but it is sure if you use ```hasNext()``` you want most likely use ```next()``` to actually iterate and let the loop stop if there is no next anymore.\r\n\r\nSome other point to mention (you seem to begin with Java?):\r\nnever ever \r\n\r\n    catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nbut instead:\r\n\r\n    catch (Exception e) {\r\n        throw new IllegalArgumentException(&quot;Problem on reading JSON: &quot; , e);\r\n    }\r\n\r\nDon&#39;t ask why most IDEs put this as default in catch block (i think at least IntelliJ changed). \r\n","title":"I am trying to read the JSON file and print the values of each object within array, but I am having incorrect output. What did I do wrong?","body":"<p>in the loop you use &quot;jsonObject&quot; but i guess you should use &quot;upcomingIterator.next()&quot;</p>\n<pre><code>        while (upcomingIterator.hasNext()) {\n            String title = (String) upcomingIterator.next().get(&quot;title&quot;);\n            System.out.println(&quot;title: &quot; + title);\n        }\n</code></pre>\n<p>I am not sure about the JSON API u are using, but it is sure if you use <code>hasNext()</code> you want most likely use <code>next()</code> to actually iterate and let the loop stop if there is no next anymore.</p>\n<p>Some other point to mention (you seem to begin with Java?):\nnever ever</p>\n<pre><code>catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>but instead:</p>\n<pre><code>catch (Exception e) {\n    throw new IllegalArgumentException(&quot;Problem on reading JSON: &quot; , e);\n}\n</code></pre>\n<p>Don't ask why most IDEs put this as default in catch block (i think at least IntelliJ changed).</p>\n"}],"owner":{"account_id":18201292,"reputation":13,"user_id":13245399,"display_name":"Nomad312"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1669970375,"accepted_answer_id":74652433,"answer_count":1,"score":1,"last_activity_date":1670592865,"creation_date":1669967282,"question_id":74652384,"body_markdown":"So, I am using json-simple library in my project, and this is what I have right now: (I just want to print out each of the objects from the JSON file)\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\nimport org.json.simple.*;\r\nimport org.json.simple.parser.*;\r\n\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        JSONParser parser = new JSONParser();\r\n        try {\r\n            Object obj = parser.parse(new FileReader(&quot;src/movies.json&quot;));\r\n            JSONObject jsonObject = (JSONObject) obj;\r\n\r\n            JSONArray upcoming = (JSONArray) jsonObject.get(&quot;Upcoming&quot;);\r\n            JSONArray current = (JSONArray) jsonObject.get(&quot;Current&quot;);\r\n\r\n            System.out.println(&quot;Upcoming Movies:&quot;);\r\n            Iterator upcomingIterator = upcoming.iterator();\r\n            \r\n            while (upcomingIterator.hasNext()) {\r\n                String title = (String) ((HashMap) upcomingIterator.next()).get(&quot;title&quot;);\r\n                System.out.println(&quot;title: &quot; + title);\r\n\r\n                String numberOfSeats = (String) ((HashMap) upcomingIterator.next()).get(&quot;numberOfSeats&quot;);\r\n                System.out.println(&quot;numberOfSeats: &quot; + numberOfSeats);\r\n\r\n                String synopsis = (String) ((HashMap) upcomingIterator.next()).get(&quot;synopsis&quot;);\r\n                System.out.println(&quot;synopsis: &quot; + synopsis);\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand this is what the JSON file looks like:\r\n\r\n\r\n```\r\n{\r\n    &quot;Upcoming&quot;: [\r\n        {\r\n            &quot;title&quot;: &quot;Black Panther: Wakanda Forever&quot;,\r\n            &quot;status&quot;: &quot;Current&quot;,\r\n            &quot;showtimes&quot;: [\r\n                &quot;11:00&quot;,\r\n                &quot;12:00&quot;,\r\n                &quot;13:00&quot;\r\n            ],\r\n            &quot;theater&quot;: [\r\n                &quot;Lubbock&quot;,\r\n                &quot;Amarillo&quot;,\r\n                &quot;Plainview&quot;,\r\n                &quot;Snyder&quot;\r\n            ],\r\n            &quot;numberOfSeats&quot;: &quot;55&quot;,\r\n            &quot;synopsis&quot;: &quot;The people of Wakanda fight to protect their home from intervening world powers as they mourn the death of King T&#39;Challa.&quot;,\r\n            &quot;runtime&quot;: &quot;161 min&quot;,\r\n            &quot;prices&quot;: [\r\n                &quot;$5&quot;,\r\n                &quot;$6&quot;,\r\n                &quot;$10&quot;\r\n            ],\r\n            &quot;reviews&quot;: [\r\n                &quot;Great Movie&quot;,\r\n                &quot;Best Movie&quot;,\r\n                &quot;The greatest movie ever&quot;,\r\n                &quot;I like the lead in this movie&quot;\r\n            ],\r\n            &quot;castInfo&quot;: [\r\n                &quot;Letitia Wright&quot;,\r\n                &quot;Lupita Nyong&#39;o&quot;,\r\n                &quot;Danai Gurira&quot;,\r\n                &quot;Winston Duke&quot;\r\n            ]\r\n        },\r\n        {\r\n            &quot;title&quot;: &quot;Thor: Love and Thunder&quot;,\r\n            &quot;status&quot;: &quot;Upcoming&quot;,\r\n            &quot;showtimes&quot;: [\r\n                &quot;14:30&quot;,\r\n                &quot;19:15&quot;,\r\n                &quot;19:45&quot;\r\n            ],\r\n            &quot;theater&quot;: [\r\n                &quot;Lubbock&quot;,\r\n                &quot;Plainview&quot;,\r\n                &quot;Abilene&quot;\r\n            ],\r\n            &quot;numberOfSeats&quot;: &quot;64&quot;,\r\n            &quot;synopsis&quot;: &quot;Thor enlists the help of Valkyrie, Korg and ex-girlfriend Jane Foster to fight Gorr the God Butcher, who intends to make the gods extinct.&quot;,\r\n            &quot;runtime&quot;: &quot;118 min&quot;,\r\n            &quot;prices&quot;: [\r\n                &quot;$6&quot;,\r\n                &quot;$7&quot;,\r\n                &quot;$10&quot;\r\n            ],\r\n            &quot;reviews&quot;: [\r\n                &quot;Great Movie&quot;,\r\n                &quot;Best Movie&quot;,\r\n                &quot;The greatest movie ever&quot;,\r\n                &quot;I like the lead in this movie&quot;\r\n            ],\r\n            &quot;castInfo&quot;: [\r\n                &quot;Chris Hemsworth&quot;,\r\n                &quot;Natalie Portman&quot;,\r\n                &quot;Christian Bale&quot;,\r\n                &quot;Tessa Thompson&quot;\r\n            ]\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nAfter running the code above, I am getting the following output which is not really consistent with the JSON data. Can someone please explain how can I solve this?\r\n\r\n[![Output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eI3k5.png","title":"I am trying to read the JSON file and print the values of each object within array, but I am having incorrect output. What did I do wrong?","body":"<p>So, I am using json-simple library in my project, and this is what I have right now: (I just want to print out each of the objects from the JSON file)</p>\n<pre><code>import java.io.*;\nimport java.util.*;\nimport org.json.simple.*;\nimport org.json.simple.parser.*;\n\npublic class App {\n    public static void main(String[] args) {\n        JSONParser parser = new JSONParser();\n        try {\n            Object obj = parser.parse(new FileReader(&quot;src/movies.json&quot;));\n            JSONObject jsonObject = (JSONObject) obj;\n\n            JSONArray upcoming = (JSONArray) jsonObject.get(&quot;Upcoming&quot;);\n            JSONArray current = (JSONArray) jsonObject.get(&quot;Current&quot;);\n\n            System.out.println(&quot;Upcoming Movies:&quot;);\n            Iterator upcomingIterator = upcoming.iterator();\n            \n            while (upcomingIterator.hasNext()) {\n                String title = (String) ((HashMap) upcomingIterator.next()).get(&quot;title&quot;);\n                System.out.println(&quot;title: &quot; + title);\n\n                String numberOfSeats = (String) ((HashMap) upcomingIterator.next()).get(&quot;numberOfSeats&quot;);\n                System.out.println(&quot;numberOfSeats: &quot; + numberOfSeats);\n\n                String synopsis = (String) ((HashMap) upcomingIterator.next()).get(&quot;synopsis&quot;);\n                System.out.println(&quot;synopsis: &quot; + synopsis);\n            }\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>and this is what the JSON file looks like:</p>\n<pre><code>{\n    &quot;Upcoming&quot;: [\n        {\n            &quot;title&quot;: &quot;Black Panther: Wakanda Forever&quot;,\n            &quot;status&quot;: &quot;Current&quot;,\n            &quot;showtimes&quot;: [\n                &quot;11:00&quot;,\n                &quot;12:00&quot;,\n                &quot;13:00&quot;\n            ],\n            &quot;theater&quot;: [\n                &quot;Lubbock&quot;,\n                &quot;Amarillo&quot;,\n                &quot;Plainview&quot;,\n                &quot;Snyder&quot;\n            ],\n            &quot;numberOfSeats&quot;: &quot;55&quot;,\n            &quot;synopsis&quot;: &quot;The people of Wakanda fight to protect their home from intervening world powers as they mourn the death of King T'Challa.&quot;,\n            &quot;runtime&quot;: &quot;161 min&quot;,\n            &quot;prices&quot;: [\n                &quot;$5&quot;,\n                &quot;$6&quot;,\n                &quot;$10&quot;\n            ],\n            &quot;reviews&quot;: [\n                &quot;Great Movie&quot;,\n                &quot;Best Movie&quot;,\n                &quot;The greatest movie ever&quot;,\n                &quot;I like the lead in this movie&quot;\n            ],\n            &quot;castInfo&quot;: [\n                &quot;Letitia Wright&quot;,\n                &quot;Lupita Nyong'o&quot;,\n                &quot;Danai Gurira&quot;,\n                &quot;Winston Duke&quot;\n            ]\n        },\n        {\n            &quot;title&quot;: &quot;Thor: Love and Thunder&quot;,\n            &quot;status&quot;: &quot;Upcoming&quot;,\n            &quot;showtimes&quot;: [\n                &quot;14:30&quot;,\n                &quot;19:15&quot;,\n                &quot;19:45&quot;\n            ],\n            &quot;theater&quot;: [\n                &quot;Lubbock&quot;,\n                &quot;Plainview&quot;,\n                &quot;Abilene&quot;\n            ],\n            &quot;numberOfSeats&quot;: &quot;64&quot;,\n            &quot;synopsis&quot;: &quot;Thor enlists the help of Valkyrie, Korg and ex-girlfriend Jane Foster to fight Gorr the God Butcher, who intends to make the gods extinct.&quot;,\n            &quot;runtime&quot;: &quot;118 min&quot;,\n            &quot;prices&quot;: [\n                &quot;$6&quot;,\n                &quot;$7&quot;,\n                &quot;$10&quot;\n            ],\n            &quot;reviews&quot;: [\n                &quot;Great Movie&quot;,\n                &quot;Best Movie&quot;,\n                &quot;The greatest movie ever&quot;,\n                &quot;I like the lead in this movie&quot;\n            ],\n            &quot;castInfo&quot;: [\n                &quot;Chris Hemsworth&quot;,\n                &quot;Natalie Portman&quot;,\n                &quot;Christian Bale&quot;,\n                &quot;Tessa Thompson&quot;\n            ]\n        }\n    ]\n}\n</code></pre>\n<p>After running the code above, I am getting the following output which is not really consistent with the JSON data. Can someone please explain how can I solve this?</p>\n<p><a href=\"https://i.stack.imgur.com/eI3k5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eI3k5.png\" alt=\"Output\" /></a></p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":27201772,"reputation":1,"user_id":20733928,"display_name":"Ned Hunter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670591816,"creation_date":1670591816,"answer_id":74743686,"question_id":71033350,"body_markdown":"You might want to check if your build system and/or IDE is running on the same JVM version as the java command. If those are mismatched, certain features may work in the IDE but not in deployment.","title":"Gradle error with jar file on command line","body":"<p>You might want to check if your build system and/or IDE is running on the same JVM version as the java command. If those are mismatched, certain features may work in the IDE but not in deployment.</p>\n"}],"owner":{"account_id":16914410,"reputation":17,"user_id":12232754,"display_name":"Jane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670591816,"creation_date":1644320791,"question_id":71033350,"body_markdown":"This is my first time working with gradle so please be patient. I am building a java project and trying to build and compile it with gradle. The code works just fine on an IDE.\r\n\r\n I am running into an error on the command line with I run the command below:\r\n\r\n    java -jar build\\libs\\*****.jar\r\n\r\n\r\nthe project builds just fine with:\r\n\r\n    gradlew build\r\n\r\nThe error I am getting is:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException: source\r\n        at java.base/java.util.Objects.requireNonNull(Objects.java:233)\r\n        at java.base/java.util.Scanner.&lt;init&gt;(Scanner.java:595)\r\n        at java.base/java.util.Scanner.&lt;init&gt;(Scanner.java:581)\r\n        at com.***.MortgagePlan.handleData(MortgagePlan.java:20)\r\n        at com.***.MortgagePlan.main(MortgagePlan.java:10)\r\n\r\n\r\nI am wondering how to fix this error. I have a main class, a customer class along with a text data file in one folder. The build.gradle looks like this:\r\n```\r\nplugins{\r\n\tid &#39;java&#39;\r\n\r\n}\r\n\r\njar{\r\n\tmanifest {\r\n\t\tattributes &#39;Main-Class&#39;: &#39;com.***.MortgagePlan&#39;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nMy code requires me to import the scanner, input stream and an arraylist. Any ideas?\r\n\r\nps. the * are not the actual names of my files/ directories. I have blocked out sensitive information\r\n","title":"Gradle error with jar file on command line","body":"<p>This is my first time working with gradle so please be patient. I am building a java project and trying to build and compile it with gradle. The code works just fine on an IDE.</p>\n<p>I am running into an error on the command line with I run the command below:</p>\n<pre><code>java -jar build\\libs\\*****.jar\n</code></pre>\n<p>the project builds just fine with:</p>\n<pre><code>gradlew build\n</code></pre>\n<p>The error I am getting is:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: source\n    at java.base/java.util.Objects.requireNonNull(Objects.java:233)\n    at java.base/java.util.Scanner.&lt;init&gt;(Scanner.java:595)\n    at java.base/java.util.Scanner.&lt;init&gt;(Scanner.java:581)\n    at com.***.MortgagePlan.handleData(MortgagePlan.java:20)\n    at com.***.MortgagePlan.main(MortgagePlan.java:10)\n</code></pre>\n<p>I am wondering how to fix this error. I have a main class, a customer class along with a text data file in one folder. The build.gradle looks like this:</p>\n<pre><code>plugins{\n    id 'java'\n\n}\n\njar{\n    manifest {\n        attributes 'Main-Class': 'com.***.MortgagePlan'\n    }\n}\n\n</code></pre>\n<p>My code requires me to import the scanner, input stream and an arraylist. Any ideas?</p>\n<p>ps. the * are not the actual names of my files/ directories. I have blocked out sensitive information</p>\n"},{"tags":["java","maven","junit4","powermock","parametrized-testing"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1670591957,"post_id":74743685,"comment_id":131915321,"body_markdown":"Without giving more detailed information it&#39;s impossible to even guess... a full test the full error output also upgrade Maven, JDK and plugins ..and reconsider using powermock...","body":"Without giving more detailed information it&#39;s impossible to even guess... a full test the full error output also upgrade Maven, JDK and plugins ..and reconsider using powermock..."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670694948,"post_id":74743685,"comment_id":131934648,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":9413053,"reputation":1,"user_id":7001512,"display_name":"ibrz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670591812,"creation_date":1670591812,"question_id":74743685,"body_markdown":"When I run `mvn test -Dtest=ClassTest` it works however when I run just `mvn test` it fails because classes that should be mocked by PowerMock are null.\r\n\r\nFollowing some details:\r\n\r\njdk 1.7\r\nmvn 3.6.3\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n   &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n   &lt;version&gt;1.7.4&lt;/version&gt;\r\n   &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n   &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\r\n   &lt;version&gt;1.7.4&lt;/version&gt;\r\n   &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n```\r\nTests in error: \r\n  Test.souldExecute:99 NullPointer\r\n  Test.souldExecute:99 NullPointer\r\n  Test.souldExecute:99 NullPointer\r\n```","title":"Tests doesn&#39;t work properly when using @RunWith(PowerMockRunner.class) and @PowerMockRunnerDelegate(Parameterized.class)","body":"<p>When I run <code>mvn test -Dtest=ClassTest</code> it works however when I run just <code>mvn test</code> it fails because classes that should be mocked by PowerMock are null.</p>\n<p>Following some details:</p>\n<p>jdk 1.7\nmvn 3.6.3</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n   &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n   &lt;version&gt;1.7.4&lt;/version&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n   &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n   &lt;version&gt;1.7.4&lt;/version&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre><code>Tests in error: \n  Test.souldExecute:99 NullPointer\n  Test.souldExecute:99 NullPointer\n  Test.souldExecute:99 NullPointer\n</code></pre>\n"},{"tags":["java","api","postman","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":1,"creation_date":1670594059,"post_id":74742697,"comment_id":131916018,"body_markdown":"What about your `userID` is a value that comes from another API. You don&#39;t want to concate String in path. If only one pathParam in in literal value like your question, it provides no improvement. It will help the case 2+ pathParam and value of them come from somewhere else, not literal values.","body":"What about your <code>userID</code> is a value that comes from another API. You don&#39;t want to concate String in path. If only one pathParam in in literal value like your question, it provides no improvement. It will help the case 2+ pathParam and value of them come from somewhere else, not literal values."}],"answers":[{"comments":[{"owner":{"account_id":19571807,"reputation":133,"user_id":14322804,"display_name":"nuzooo"},"score":0,"creation_date":1670591446,"post_id":74743568,"comment_id":131915177,"body_markdown":"So why not to do \n\n   baseUri(&quot;https://httpbin.org/anything/123&quot;)\n\nI mean what is the advantage of using this over the path itself?","body":"So why not to do      baseUri(&quot;<a href=\"https://httpbin.org/anything/123&quot;\" rel=\"nofollow noreferrer\">httpbin.org/anything/123&quot;</a>)  I mean what is the advantage of using this over the path itself?"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":1,"creation_date":1670593847,"post_id":74743568,"comment_id":131915943,"body_markdown":"Are you asking about what is advantage of hardcoding a value instead of making it flexible? The advantage is that you have less lines of code. The disadvantages is that you cannot control it in runtime.","body":"Are you asking about what is advantage of hardcoding a value instead of making it flexible? The advantage is that you have less lines of code. The disadvantages is that you cannot control it in runtime."},{"owner":{"account_id":19571807,"reputation":133,"user_id":14322804,"display_name":"nuzooo"},"score":0,"creation_date":1670757831,"post_id":74743568,"comment_id":131942902,"body_markdown":"So in case I have only one request the better option is to use the full path in get method, if I have to concate 2 requests like your example there it will be more efficient ?","body":"So in case I have only one request the better option is to use the full path in get method, if I have to concate 2 requests like your example there it will be more efficient ?"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":1,"creation_date":1670855076,"post_id":74743568,"comment_id":131963120,"body_markdown":"If you always have the same URL it does not make sense to make use of `pathParam`. You can just hardcode it in `basUri` or `get`. If you are going to control the parameter value during your test lifetime or re-use the parameter value, you will go with `pathParam`.","body":"If you always have the same URL it does not make sense to make use of <code>pathParam</code>. You can just hardcode it in <code>basUri</code> or <code>get</code>. If you are going to control the parameter value during your test lifetime or re-use the parameter value, you will go with <code>pathParam</code>."},{"owner":{"account_id":19571807,"reputation":133,"user_id":14322804,"display_name":"nuzooo"},"score":0,"creation_date":1670870017,"post_id":74743568,"comment_id":131968560,"body_markdown":"But I see actualy in your eaxmple you use in the same param in two requests, that is ok and in such case you can use the param in two different request but there is no option to use in two different params in two different requests in same test, isn&#39;t it?","body":"But I see actualy in your eaxmple you use in the same param in two requests, that is ok and in such case you can use the param in two different request but there is no option to use in two different params in two different requests in same test, isn&#39;t it?"}],"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670591175,"creation_date":1670591175,"answer_id":74743568,"question_id":74742697,"body_markdown":"You could have your spec preserved and reuse parameter in different apis like:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    RequestSpecification spec = given().\r\n            baseUri(&quot;https://httpbin.org/anything&quot;)\r\n            .pathParam(&quot;param&quot;, &quot;123&quot;);\r\n\r\n    spec\r\n            .get(&quot;/api1/{param}&quot;)\r\n            .then()\r\n            .log().body();\r\n\r\n    spec\r\n            .get(&quot;/api2/{param}&quot;)\r\n            .then()\r\n            .log().body();\r\n}\r\n```\r\n","title":"what is the usage of pathParam instead of full path in restAssured","body":"<p>You could have your spec preserved and reuse parameter in different apis like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    RequestSpecification spec = given().\n            baseUri(&quot;https://httpbin.org/anything&quot;)\n            .pathParam(&quot;param&quot;, &quot;123&quot;);\n\n    spec\n            .get(&quot;/api1/{param}&quot;)\n            .then()\n            .log().body();\n\n    spec\n            .get(&quot;/api2/{param}&quot;)\n            .then()\n            .log().body();\n}\n</code></pre>\n"}],"owner":{"account_id":19571807,"reputation":133,"user_id":14322804,"display_name":"nuzooo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74743568,"answer_count":1,"score":0,"last_activity_date":1670591175,"creation_date":1670586479,"question_id":74742697,"body_markdown":"According to [this][1] question I understand that pathParam is parameter for path in query.\r\nBut I don&#39;t understand what is the usage of that instead of writing the full path in get query like this if we have only one path anyway?\r\n\r\n```java\r\ngiven().\r\n\tbaseUri(&quot;https://postman-echo.com&quot;)\r\n           .pathParam(&quot;userId&quot;, &quot;1&quot;)\r\n.when()\r\n          .get(&quot;/api/users/{userId}&quot;)\r\n.then()\r\n\t.log().ifError()\r\n           .assertThat()\r\n           .statusCode(200)\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30967822/when-do-i-use-path-params-vs-query-params-in-a-restful-api","title":"what is the usage of pathParam instead of full path in restAssured","body":"<p>According to <a href=\"https://stackoverflow.com/questions/30967822/when-do-i-use-path-params-vs-query-params-in-a-restful-api\">this</a> question I understand that pathParam is parameter for path in query.\nBut I don't understand what is the usage of that instead of writing the full path in get query like this if we have only one path anyway?</p>\n<pre class=\"lang-java prettyprint-override\"><code>given().\n    baseUri(&quot;https://postman-echo.com&quot;)\n           .pathParam(&quot;userId&quot;, &quot;1&quot;)\n.when()\n          .get(&quot;/api/users/{userId}&quot;)\n.then()\n    .log().ifError()\n           .assertThat()\n           .statusCode(200)\n</code></pre>\n"},{"tags":["java","hibernate","spring-boot","jpa","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":3861784,"reputation":8519,"user_id":3199351,"accept_rate":35,"display_name":"Abdeali Chandanwala"},"score":0,"creation_date":1673247354,"post_id":60024749,"comment_id":132446814,"body_markdown":"Thanks - but which API shall be used and when? I started a new spring-boot project after a long time, and now I am confused about the correct package to use and why?","body":"Thanks - but which API shall be used and when? I started a new spring-boot project after a long time, and now I am confused about the correct package to use and why?"},{"owner":{"account_id":7778070,"reputation":1974,"user_id":5885483,"display_name":"Krisz"},"score":0,"creation_date":1674216579,"post_id":60024749,"comment_id":132671938,"body_markdown":"@AbdealiChandanwala you can refer to this answer as it&#39;s a bit more complicated than that: https://stackoverflow.com/questions/71179660/spring-boot-3-jakarta-and-javax","body":"@AbdealiChandanwala you can refer to this answer as it&#39;s a bit more complicated than that: <a href=\"https://stackoverflow.com/questions/71179660/spring-boot-3-jakarta-and-javax\" title=\"spring boot 3 jakarta and javax\">stackoverflow.com/questions/71179660/&hellip;</a>"},{"owner":{"account_id":13921,"reputation":2655,"user_id":28214,"accept_rate":50,"display_name":"gregturn"},"score":6,"creation_date":1677518421,"post_id":60024749,"comment_id":133349553,"body_markdown":"Spring Boot 3/Spring Framework 6 have upgraded to Jakarta EE 9+, hence the corresponding version of Spring Data JPA is now on the &quot;jakarta&quot; versions of things. Spring Boot 2.7 and earlier are still on &quot;javax&quot; versions of things.","body":"Spring Boot 3/Spring Framework 6 have upgraded to Jakarta EE 9+, hence the corresponding version of Spring Data JPA is now on the &quot;jakarta&quot; versions of things. Spring Boot 2.7 and earlier are still on &quot;javax&quot; versions of things."}],"tags":[],"owner":{"account_id":7778070,"reputation":1974,"user_id":5885483,"display_name":"Krisz"},"comment_count":3,"down_vote_count":0,"up_vote_count":103,"is_accepted":true,"score":103,"last_activity_date":1670591022,"creation_date":1580635450,"answer_id":60024749,"question_id":60021815,"body_markdown":"From [Java Persistence API on Wikipedia][1]:\r\n\r\n&gt; The **Java Persistence API (JPA), in 2019 renamed to Jakarta Persistence**, is a Java application programming interface specification that describes the management of relational data in applications using Java Platform, Standard Edition and Java Platform, Enterprise Edition/Jakarta EE.\r\n\r\nAfter Java EE was open sourced by Oracle and gave the rights to the Eclipse Foundation they were legally required to change the name from Java as Oracle has the rights over the Java brand. The name Jakarta was chosen by the community. You can find more information by reading [Transition from Java EE to Jakarta EE][3] and [Jakarta EE - No Turning Back][4]. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Persistence_API\r\n  [3]: https://blogs.oracle.com/javamagazine/post/transition-from-java-ee-to-jakarta-ee\r\n  [4]: https://www.eclipse.org/community/eclipse_newsletter/2018/may/noturningback.php","title":"Why has javax.persistence-api been replaced by jakarta.persistence-api in spring data jpa starter?","body":"<p>From <a href=\"https://en.wikipedia.org/wiki/Java_Persistence_API\" rel=\"noreferrer\">Java Persistence API on Wikipedia</a>:</p>\n<blockquote>\n<p>The <strong>Java Persistence API (JPA), in 2019 renamed to Jakarta Persistence</strong>, is a Java application programming interface specification that describes the management of relational data in applications using Java Platform, Standard Edition and Java Platform, Enterprise Edition/Jakarta EE.</p>\n</blockquote>\n<p>After Java EE was open sourced by Oracle and gave the rights to the Eclipse Foundation they were legally required to change the name from Java as Oracle has the rights over the Java brand. The name Jakarta was chosen by the community. You can find more information by reading <a href=\"https://blogs.oracle.com/javamagazine/post/transition-from-java-ee-to-jakarta-ee\" rel=\"noreferrer\">Transition from Java EE to Jakarta EE</a> and <a href=\"https://www.eclipse.org/community/eclipse_newsletter/2018/may/noturningback.php\" rel=\"noreferrer\">Jakarta EE - No Turning Back</a>.</p>\n"}],"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70048,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"accepted_answer_id":60024749,"answer_count":1,"score":61,"last_activity_date":1670591022,"creation_date":1580598012,"question_id":60021815,"body_markdown":"I&#39;ve recently started to learn spring boot, data jpa. As I can see from [this](https://github.com/spring-projects/spring-boot/blob/v2.2.0.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-data-jpa/pom.xml), the spring boot data jpa starter uses `jakarta.persistence-api` instead of `javax.persistence-api`:\r\n\r\n``` xml\r\n   &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n   ...\r\n   &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n         &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      \r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n         &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n         &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n               &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n               &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            ...\r\n         &lt;/exclusions&gt;\r\n      &lt;/dependency&gt;\r\n   &lt;/dependencies&gt;\r\n```\r\nWhat is the differences between `jakarta.persistence-api` and `javax.persistence-api`? What is the reason of this replacement?\r\n","title":"Why has javax.persistence-api been replaced by jakarta.persistence-api in spring data jpa starter?","body":"<p>I've recently started to learn spring boot, data jpa. As I can see from <a href=\"https://github.com/spring-projects/spring-boot/blob/v2.2.0.RELEASE/spring-boot-project/spring-boot-starters/spring-boot-starter-data-jpa/pom.xml\" rel=\"noreferrer\">this</a>, the spring boot data jpa starter uses <code>jakarta.persistence-api</code> instead of <code>javax.persistence-api</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>   &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n   ...\n   &lt;dependencies&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n         &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n         &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n         &lt;exclusions&gt;\n            &lt;exclusion&gt;\n               &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n               &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            ...\n         &lt;/exclusions&gt;\n      &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n</code></pre>\n\n<p>What is the differences between <code>jakarta.persistence-api</code> and <code>javax.persistence-api</code>? What is the reason of this replacement?</p>\n"},{"tags":["java","spring-boot","rest","microservices"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1670578282,"post_id":74741131,"comment_id":131911201,"body_markdown":"You can return any object that can get parsed into JSON, why not a list? Who is he? Maybe he wants the code to be more readable?","body":"You can return any object that can get parsed into JSON, why not a list? Who is he? Maybe he wants the code to be more readable?"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1670578391,"post_id":74741131,"comment_id":131911232,"body_markdown":"JSON clearly can represent what you want, so you *could* do something to that effect (no idea if your specific code will work), but the problem is that this kind of mixed-type list is tricky to parse in an automated way. Depending on the language/parsing/mapping framework it might mean a lot more work to get the data from the raw JSON into useful objects. It&#39;s just way less convenient to work with than properly-structured data.","body":"JSON clearly can represent what you want, so you <i>could</i> do something to that effect (no idea if your specific code will work), but the problem is that this kind of mixed-type list is tricky to parse in an automated way. Depending on the language/parsing/mapping framework it might mean a lot more work to get the data from the raw JSON into useful objects. It&#39;s just way less convenient to work with than properly-structured data."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1670579352,"post_id":74741131,"comment_id":131911513,"body_markdown":"I guess `List&lt;Object&gt;`,  `Object` is problem, not List; every thing (type include byte array) can add to list, how to parse it ? I add finalList.add(&quot;John Doe&quot;); multi time in different order, when you receive JSON string , find &quot;John Doe&quot; in different position ,  what is meaning  of &quot;John Doe&quot;,  finalList.add(&quot;John Doe&quot;);\n        byte[] abc= new byte[] { (byte)0xee, 0x4e, (byte)0xd1, 0x21, (byte)0xe2, 0x32, 0x63, 0x13, (byte)0xa4, (byte)0xd4, 0x04, 0x05, 0x26, 0x37, 0x38, (byte)0x98 };\n        finalList.add(abc); finalList.add(&quot;John Doe&quot;); return finalList;","body":"I guess <code>List&lt;Object&gt;</code>,  <code>Object</code> is problem, not List; every thing (type include byte array) can add to list, how to parse it ? I add finalList.add(&quot;John Doe&quot;); multi time in different order, when you receive JSON string , find &quot;John Doe&quot; in different position ,  what is meaning  of &quot;John Doe&quot;,  finalList.add(&quot;John Doe&quot;);         byte[] abc= new byte[] { (byte)0xee, 0x4e, (byte)0xd1, 0x21, (byte)0xe2, 0x32, 0x63, 0x13, (byte)0xa4, (byte)0xd4, 0x04, 0x05, 0x26, 0x37, 0x38, (byte)0x98 };         finalList.add(abc); finalList.add(&quot;John Doe&quot;); return finalList;"},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1670591082,"post_id":74741131,"comment_id":131915077,"body_markdown":"Related: https://stackoverflow.com/questions/74741483/java-map-with-lists-of-different-types-as-values","body":"Related: <a href=\"https://stackoverflow.com/questions/74741483/java-map-with-lists-of-different-types-as-values\" title=\"java map with lists of different types as values\">stackoverflow.com/questions/74741483/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7035245,"reputation":512,"user_id":5389616,"accept_rate":11,"display_name":"Jawad Hassan Soomro"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670590425,"creation_date":1670590425,"answer_id":74743443,"question_id":74741131,"body_markdown":"It&#39;s more about best practices as using JSON Object are more compatible to changes in future. If we face any change in future we just need to add another entry (that is not part of collection but required along result like Status Code) as compared to changing the data type of list to object and breaking code. Returning JSON object makes program more flexible. You can return JSON List too if you want, there is no technical issue. Returning JSON objects also help you to send status code and description like (SUCCESS 500, ERROR 404) unlike JSON Array which does not give description of result. ","title":"Why it is better to avoid returning lists in API?","body":"<p>It's more about best practices as using JSON Object are more compatible to changes in future. If we face any change in future we just need to add another entry (that is not part of collection but required along result like Status Code) as compared to changing the data type of list to object and breaking code. Returning JSON object makes program more flexible. You can return JSON List too if you want, there is no technical issue. Returning JSON objects also help you to send status code and description like (SUCCESS 500, ERROR 404) unlike JSON Array which does not give description of result.</p>\n"},{"tags":[],"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670590754,"creation_date":1670590754,"answer_id":74743498,"question_id":74741131,"body_markdown":"Tl;dr: it&#39;s good practice.\r\n\r\nIf you think of the API as a contract, I give you this information and you give me that information back, once you return a `List&lt;Object&gt;` you no longer have any way to reason about what is in that list and what you&#39;re supposed to do with it.\r\n\r\nIn the absence of &quot;John Doe&quot; in that list, you can tell a JSON parser to turn your response into a `List&lt;Rating&gt;` and it will without further assistance.\r\nHowever, adding &quot;John Doe&quot; stops it from doing so, the best you can hope for is `List&lt;Object&gt;`. So now you are required to manually figure out where John Doe is in your list, whether he is there in the first place, etc.\r\n\r\nYou may need to write a custom parser or ensure that everyone using this API knows that John Doe may (or may not?) appear in last position, (or first, or anywhere in the middle?)\r\nFrankly, it&#39;s **easier** on you as the developer to refactor into using a custom Object, so that you can tell your JSON library to parse the response into an Object of type `RatedActor`:\r\n\r\n    public class RatedActor {\r\n        String name;\r\n        List&lt;Rating&gt; ratings;\r\n    }\r\n\r\nThat&#39;s what OO languages are for (amongst other things) - to be able to present a fine-grained data model.\r\nNow you, the compiler, and everybody else who may come into contact with your API and/or code knows clearly: The API returns a `RatedActor` with these properties. There is no &#39;hidden knowledge&#39; embedded in a secret list. Otherwise you may as well scramble the API response with an Enigma machine and go &quot;hey, figure that one out, API consumers!&quot;","title":"Why it is better to avoid returning lists in API?","body":"<p>Tl;dr: it's good practice.</p>\n<p>If you think of the API as a contract, I give you this information and you give me that information back, once you return a <code>List&lt;Object&gt;</code> you no longer have any way to reason about what is in that list and what you're supposed to do with it.</p>\n<p>In the absence of &quot;John Doe&quot; in that list, you can tell a JSON parser to turn your response into a <code>List&lt;Rating&gt;</code> and it will without further assistance.\nHowever, adding &quot;John Doe&quot; stops it from doing so, the best you can hope for is <code>List&lt;Object&gt;</code>. So now you are required to manually figure out where John Doe is in your list, whether he is there in the first place, etc.</p>\n<p>You may need to write a custom parser or ensure that everyone using this API knows that John Doe may (or may not?) appear in last position, (or first, or anywhere in the middle?)\nFrankly, it's <strong>easier</strong> on you as the developer to refactor into using a custom Object, so that you can tell your JSON library to parse the response into an Object of type <code>RatedActor</code>:</p>\n<pre><code>public class RatedActor {\n    String name;\n    List&lt;Rating&gt; ratings;\n}\n</code></pre>\n<p>That's what OO languages are for (amongst other things) - to be able to present a fine-grained data model.\nNow you, the compiler, and everybody else who may come into contact with your API and/or code knows clearly: The API returns a <code>RatedActor</code> with these properties. There is no 'hidden knowledge' embedded in a secret list. Otherwise you may as well scramble the API response with an Enigma machine and go &quot;hey, figure that one out, API consumers!&quot;</p>\n"}],"owner":{"account_id":7998897,"reputation":93,"user_id":18771851,"display_name":"Mehdi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1583,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74743498,"answer_count":2,"score":0,"last_activity_date":1670590754,"creation_date":1670577997,"question_id":74741131,"body_markdown":"My question is about returning list in APIs. \r\nsuppose we have an API which returns a list of `Rating`. \r\n\r\nand this is `Rating`:\r\n\r\n\r\n    public class Rating {\r\n    \r\n        private Long movieId;\r\n        private Integer rating;\r\n        .\r\n        .\r\n    }\r\n\r\nand this is a sample of the API&#39;s response:\r\n\r\n    [{&quot;movieId&quot;:5870,&quot;rating&quot;:5},{&quot;movieId&quot;:1234,&quot;rating&quot;:3}]\r\n\r\nOk. now I want to have an enhancement in my API and the enhancement is not to a particular object in the list. for example, I want to add a field which indicates who these `Rating`s belongs to.\r\n\r\nbut in [this][1] tutorial, the Instructor says: \r\n\r\n&gt; we cannot return the list anymore. we have to convert it into an\r\n&gt; object.\r\n\r\nWhy we cannot return a list anymore? we can have an API response like this:\r\n\r\n    [{&quot;movieId&quot;:5870,&quot;rating&quot;:5},{&quot;movieId&quot;:1234,&quot;rating&quot;:3},&quot;John Doe&quot;]\r\n\r\nand it is its code:\r\n\r\n    @GetMapping(&quot;-sth-&quot;)\r\n        public List&lt;Object&gt; foo() {\r\n    \r\n            List&lt;Object&gt; finalList = new ArrayList&lt;&gt;();\r\n            finalList.add(new Rating(5870L, 5));\r\n            finalList.add(new Rating(1234L, 3));\r\n            finalList.add(&quot;John Doe&quot;);\r\n    \r\n            return finalList;\r\n        }\r\n\r\nthen why we don&#39;t do that? why he said we cannot return a list anymore? What is the problem in this new version of the API?\r\nis it because we are returning a list of `Object`?\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=Dmvhe2cw-_k","title":"Why it is better to avoid returning lists in API?","body":"<p>My question is about returning list in APIs.\nsuppose we have an API which returns a list of <code>Rating</code>.</p>\n<p>and this is <code>Rating</code>:</p>\n<pre><code>public class Rating {\n\n    private Long movieId;\n    private Integer rating;\n    .\n    .\n}\n</code></pre>\n<p>and this is a sample of the API's response:</p>\n<pre><code>[{&quot;movieId&quot;:5870,&quot;rating&quot;:5},{&quot;movieId&quot;:1234,&quot;rating&quot;:3}]\n</code></pre>\n<p>Ok. now I want to have an enhancement in my API and the enhancement is not to a particular object in the list. for example, I want to add a field which indicates who these <code>Rating</code>s belongs to.</p>\n<p>but in <a href=\"https://www.youtube.com/watch?v=Dmvhe2cw-_k\" rel=\"nofollow noreferrer\">this</a> tutorial, the Instructor says:</p>\n<blockquote>\n<p>we cannot return the list anymore. we have to convert it into an\nobject.</p>\n</blockquote>\n<p>Why we cannot return a list anymore? we can have an API response like this:</p>\n<pre><code>[{&quot;movieId&quot;:5870,&quot;rating&quot;:5},{&quot;movieId&quot;:1234,&quot;rating&quot;:3},&quot;John Doe&quot;]\n</code></pre>\n<p>and it is its code:</p>\n<pre><code>@GetMapping(&quot;-sth-&quot;)\n    public List&lt;Object&gt; foo() {\n\n        List&lt;Object&gt; finalList = new ArrayList&lt;&gt;();\n        finalList.add(new Rating(5870L, 5));\n        finalList.add(new Rating(1234L, 3));\n        finalList.add(&quot;John Doe&quot;);\n\n        return finalList;\n    }\n</code></pre>\n<p>then why we don't do that? why he said we cannot return a list anymore? What is the problem in this new version of the API?\nis it because we are returning a list of <code>Object</code>?</p>\n"},{"tags":["java","schema","talend","noclassdeffounderror"],"owner":{"account_id":2898137,"reputation":1813,"user_id":2485458,"accept_rate":48,"display_name":"Panadol Chong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670590544,"creation_date":1670590544,"question_id":74743462,"body_markdown":"Good day,\r\n\r\nI am new to Talend, I am trying to create a Schema for `tFileInputDelimited` component. The Schema is trying to read a text file from a folder. \r\n\r\nHowever, during step 3 on creating this Schema, I am hitting some class not found exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/talend/csv/CSVWriter\r\n    \tat orion_dl_track.shadowfileinputtodelimitedoutput_0_1.ShadowFileInputToDelimitedOutput.tFileInputDelimitedProcess(ShadowFileInputToDelimitedOutput.java:1709)\r\n    \tat orion_dl_track.shadowfileinputtodelimitedoutput_0_1.ShadowFileInputToDelimitedOutput.runJobInTOS(ShadowFileInputToDelimitedOutput.java:2436)\r\n    \tat orion_dl_track.shadowfileinputtodelimitedoutput_0_1.ShadowFileInputToDelimitedOutput.main(ShadowFileInputToDelimitedOutput.java:2295)\r\n    Caused by: java.lang.ClassNotFoundException: com.talend.csv.CSVWriter\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \t... 3 more\r\n    \r\n    Preview error. Some settings must be changed.\r\n    Note: Preview errors are generally due to a wrong encoding setting.\r\n    org.talend.designer.runprocess.shadow.ShadowFilePreview.preview(ShadowFilePreview.java:90)\r\n    org.talend.metadata.managment.ui.utils.ShadowProcessHelper.getCsvArray(ShadowProcessHelper.java:383)\r\n    org.talend.repository.ui.wizards.metadata.connection.files.delimited.DelimitedFileStep2Form$PreviewProcessor.nonUIProcessInThread(DelimitedFileStep2Form.java:1309)\r\n    org.talend.commons.ui.swt.thread.SWTUIThreadProcessor$1.run(SWTUIThreadProcessor.java:74)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HcYEj.png\r\n\r\nFor java program, then I will know I need to import this library into my project, like adding the gradle implementation script from Maven website.\r\n\r\nBut how about this talend? Is it I need to go some where to download the jar and import into Talend Studio?","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/talend/csv/CSVWriter when create Schema in Talend","body":"<p>Good day,</p>\n<p>I am new to Talend, I am trying to create a Schema for <code>tFileInputDelimited</code> component. The Schema is trying to read a text file from a folder.</p>\n<p>However, during step 3 on creating this Schema, I am hitting some class not found exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/talend/csv/CSVWriter\n    at orion_dl_track.shadowfileinputtodelimitedoutput_0_1.ShadowFileInputToDelimitedOutput.tFileInputDelimitedProcess(ShadowFileInputToDelimitedOutput.java:1709)\n    at orion_dl_track.shadowfileinputtodelimitedoutput_0_1.ShadowFileInputToDelimitedOutput.runJobInTOS(ShadowFileInputToDelimitedOutput.java:2436)\n    at orion_dl_track.shadowfileinputtodelimitedoutput_0_1.ShadowFileInputToDelimitedOutput.main(ShadowFileInputToDelimitedOutput.java:2295)\nCaused by: java.lang.ClassNotFoundException: com.talend.csv.CSVWriter\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 3 more\n\nPreview error. Some settings must be changed.\nNote: Preview errors are generally due to a wrong encoding setting.\norg.talend.designer.runprocess.shadow.ShadowFilePreview.preview(ShadowFilePreview.java:90)\norg.talend.metadata.managment.ui.utils.ShadowProcessHelper.getCsvArray(ShadowProcessHelper.java:383)\norg.talend.repository.ui.wizards.metadata.connection.files.delimited.DelimitedFileStep2Form$PreviewProcessor.nonUIProcessInThread(DelimitedFileStep2Form.java:1309)\norg.talend.commons.ui.swt.thread.SWTUIThreadProcessor$1.run(SWTUIThreadProcessor.java:74)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/HcYEj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HcYEj.png\" alt=\"enter image description here\" /></a></p>\n<p>For java program, then I will know I need to import this library into my project, like adding the gradle implementation script from Maven website.</p>\n<p>But how about this talend? Is it I need to go some where to download the jar and import into Talend Studio?</p>\n"},{"tags":["java","jlabel","event-dispatch-thread"],"comments":[{"owner":{"account_id":1956160,"reputation":36345,"user_id":1759128,"accept_rate":54,"display_name":"ItachiUchiha"},"score":1,"creation_date":1393568060,"post_id":22087617,"comment_id":33500002,"body_markdown":"If the button is disabled, then it should not be able to call any event ! AFAIK !","body":"If the button is disabled, then it should not be able to call any event ! AFAIK !"},{"owner":{"account_id":2673328,"reputation":1649,"user_id":2310221,"accept_rate":81,"display_name":"Markus"},"score":0,"creation_date":1393568124,"post_id":22087617,"comment_id":33500031,"body_markdown":"I don&#39;t think this is possible. It would ruin the use of `setEnabled(false)`","body":"I don&#39;t think this is possible. It would ruin the use of <code>setEnabled(false)</code>"}],"answers":[{"comments":[{"owner":{"account_id":2903525,"reputation":737,"user_id":2489559,"accept_rate":85,"display_name":"AyCe"},"score":0,"creation_date":1393568472,"post_id":22087679,"comment_id":33500160,"body_markdown":"Okay, so you would say that `setEnabled(false)` guarantees that there will be no invocation of any ActionListener after it has been called, not even 1 event after it? Well, I&#39;d say that too, but because Java has disappointed me with some of these _contracts_ already, I&#39;m not so sure about them anymore.","body":"Okay, so you would say that <code>setEnabled(false)</code> guarantees that there will be no invocation of any ActionListener after it has been called, not even 1 event after it? Well, I&#39;d say that too, but because Java has disappointed me with some of these <i>contracts</i> already, I&#39;m not so sure about them anymore."},{"owner":{"account_id":1956160,"reputation":36345,"user_id":1759128,"accept_rate":54,"display_name":"ItachiUchiha"},"score":0,"creation_date":1393568547,"post_id":22087679,"comment_id":33500198,"body_markdown":"@AyCe You can be sure of it, unless you have messed up the code !","body":"@AyCe You can be sure of it, unless you have messed up the code !"}],"tags":[],"owner":{"account_id":1956160,"reputation":36345,"user_id":1759128,"accept_rate":54,"display_name":"ItachiUchiha"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670519564,"creation_date":1393568280,"answer_id":22087679,"question_id":22087617,"body_markdown":"From the JavaDocs\r\n\r\n&gt; **public void setEnabled(boolean enabled)**\r\n&gt;\r\n&gt; Sets whether or not this component is enabled. A component that is\r\n&gt; enabled may respond to user input, while a component that is not\r\n&gt; enabled cannot respond to user input. Some components may alter their\r\n&gt; visual representation when they are disabled in order to provide\r\n&gt; feedback to the user that they cannot take input.\r\n\r\n For more info\r\n\r\nhttp://docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.html#setEnabled%28boolean%29\r\n\r\n*INFO* : **JButton extends AbstractButton** which **extends JComponent**","title":"JButton: actionPerformed while invisible/disabled?","body":"<p>From the JavaDocs</p>\n<blockquote>\n<p><strong>public void setEnabled(boolean enabled)</strong></p>\n<p>Sets whether or not this component is enabled. A component that is\nenabled may respond to user input, while a component that is not\nenabled cannot respond to user input. Some components may alter their\nvisual representation when they are disabled in order to provide\nfeedback to the user that they cannot take input.</p>\n</blockquote>\n<p>For more info</p>\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.html#setEnabled%28boolean%29\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.html#setEnabled%28boolean%29</a></p>\n<p><em>INFO</em> : <strong>JButton extends AbstractButton</strong> which <strong>extends JComponent</strong></p>\n"},{"comments":[{"owner":{"account_id":2903525,"reputation":737,"user_id":2489559,"accept_rate":85,"display_name":"AyCe"},"score":0,"creation_date":1393568573,"post_id":22087700,"comment_id":33500208,"body_markdown":"Umm... you might not have understood my question. :| I know how to set a button in an enabled/disabled state, but I was wondering if a _disabled_ button can still fire ActionEvents in a very small time after the operation.","body":"Umm... you might not have understood my question. :| I know how to set a button in an enabled/disabled state, but I was wondering if a <i>disabled</i> button can still fire ActionEvents in a very small time after the operation."},{"owner":{"account_id":3139450,"reputation":31,"user_id":2655189,"display_name":"CodeFreak"},"score":0,"creation_date":1393568637,"post_id":22087700,"comment_id":33500236,"body_markdown":"@AyCe No it won&#39;t. Based on my experience.","body":"@AyCe No it won&#39;t. Based on my experience."}],"tags":[],"owner":{"account_id":3139450,"reputation":31,"user_id":2655189,"display_name":"CodeFreak"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393568346,"creation_date":1393568346,"answer_id":22087700,"question_id":22087617,"body_markdown":"Just use a conditional statement and tell the app to enable jButton when the conditions are met.\r\n\r\nFor example:\r\n\r\n\r\n    private buttonNameActionPerformed(java.awt.evt evt){\r\n\r\n       if(condition.equals(something)){\r\n       jButton.setEnabled(true);\r\n\r\n    }\r\n    else{\r\n    jButton.setEnabled(false);\r\n    \r\n    }\r\n    }","title":"JButton: actionPerformed while invisible/disabled?","body":"<p>Just use a conditional statement and tell the app to enable jButton when the conditions are met.</p>\n\n<p>For example:</p>\n\n<pre><code>private buttonNameActionPerformed(java.awt.evt evt){\n\n   if(condition.equals(something)){\n   jButton.setEnabled(true);\n\n}\nelse{\njButton.setEnabled(false);\n\n}\n}\n</code></pre>\n"}],"owner":{"account_id":2903525,"reputation":737,"user_id":2489559,"accept_rate":85,"display_name":"AyCe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":22087679,"answer_count":2,"score":-1,"last_activity_date":1670590463,"creation_date":1393567991,"question_id":22087617,"body_markdown":"Is it possible that, for example, a `JButton` calls `actionPerformed()` of an `ActionListener` attached to it while the button itself is hidden or has been disabled?\r\n\r\nLike, the user clicks the button, an event gets added to the Event Queue, and in a previous event the button gets disabled.\r\n\r\nI&#39;d think that this would not lead to an `actionPerformed()`, because the user merely submitted a click- or press-event that checks all this stuff in the current `JFrame`.\r\n\r\nBut does anybody know if there is any case where such an unwanted situation happens? Of course, always provided that you don&#39;t do anything with Swing objects outside of the EDT.\r\n\r\n\r\n**Edit for anyone looking at this:** Yes, it can indeed happen under certain circumstances. I should post an example as an answer at some point.","title":"JButton: actionPerformed while invisible/disabled?","body":"<p>Is it possible that, for example, a <code>JButton</code> calls <code>actionPerformed()</code> of an <code>ActionListener</code> attached to it while the button itself is hidden or has been disabled?</p>\n<p>Like, the user clicks the button, an event gets added to the Event Queue, and in a previous event the button gets disabled.</p>\n<p>I'd think that this would not lead to an <code>actionPerformed()</code>, because the user merely submitted a click- or press-event that checks all this stuff in the current <code>JFrame</code>.</p>\n<p>But does anybody know if there is any case where such an unwanted situation happens? Of course, always provided that you don't do anything with Swing objects outside of the EDT.</p>\n<p><strong>Edit for anyone looking at this:</strong> Yes, it can indeed happen under certain circumstances. I should post an example as an answer at some point.</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user15314575"},"score":0,"creation_date":1670584402,"post_id":74742088,"comment_id":131913062,"body_markdown":"Your IDE cannot guarantee that `consumeSchedule` is not `null` and warns you. Are you sure that&#39;s not the case? Ignore the warning... Not sure? Check for `null` before using `consumeSchedule`.","body":"Your IDE cannot guarantee that <code>consumeSchedule</code> is not <code>null</code> and warns you. Are you sure that&#39;s not the case? Ignore the warning... Not sure? Check for <code>null</code> before using <code>consumeSchedule</code>."},{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":0,"creation_date":1670585224,"post_id":74742088,"comment_id":131913290,"body_markdown":"@QuinncyJones I am totally sure. I can&#39;t ignored it. Because it&#39;s an error from compiler. He doesn&#39;t know that the consumeMessages is executed only after initialize. If I check for null is the same error &quot;...not have been init...&quot;","body":"@QuinncyJones I am totally sure. I can&#39;t ignored it. Because it&#39;s an error from compiler. He doesn&#39;t know that the consumeMessages is executed only after initialize. If I check for null is the same error &quot;...not have been init...&quot;"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1670588723,"post_id":74742088,"comment_id":131914296,"body_markdown":"“Not initialised” error is not the same as warning about possibly being `null`.   Checking for null is still “reading” that value (disallowed if not initialised).   For stopping the schedule, instead of calling `cancel`, can you throw an Exception?   Since `scheduleAtFixedRate` javadoc says “If any execution of the task encounters an exception, subsequent executions are suppressed.” https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate(java.lang.Runnable,%20long,%20long,%20java.util.concurrent.TimeUnit)","body":"“Not initialised” error is not the same as warning about possibly being <code>null</code>.   Checking for null is still “reading” that value (disallowed if not initialised).   For stopping the schedule, instead of calling <code>cancel</code>, can you throw an Exception?   Since <code>scheduleAtFixedRate</code> javadoc says “If any execution of the task encounters an exception, subsequent executions are suppressed.” <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate(java.lang.Runnable,%20long,%20long,%20java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/concurrent/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670590397,"creation_date":1670588705,"answer_id":74743118,"question_id":74742088,"body_markdown":"Well, it may seem a weird, but the error disappears if you convert the lambda expression to an anonymous class:\r\n\r\n```java\r\nRunnable consumeMessages = new Runnable() {\r\n\r\n    @Override\r\n    public void run() {\r\n        // Some code...\r\n        if (!mainThread.isAlive()) {\r\n            consumeSchedule.cancel(false);\r\n        }\r\n    }\r\n};\r\n```\r\n\r\nThis is because of the way lambda expressions work.\r\n\r\nI think the below excerpt from the [Java Language Specification &#167; 15.27.2.&#160;Lambda Body][1] is applicable here:\r\n\r\n&gt; Unlike code appearing in anonymous class declarations, the meaning of names and the `this` and `super` keywords appearing in a lambda body, along with **the accessibility of referenced declarations**, are the same as in the surrounding context (except that lambda parameters introduce new names).\r\n\r\n&lt;sup&gt;(Emphasis mine.)&lt;/sup&gt;\r\n\r\nSo the accessibility of referenced declarations is effectively the same as if you had written:\r\n\r\n```java\r\nstatic {\r\n    // Some code...\r\n    if (!mainThread.isAlive()) {\r\n        consumeSchedule.cancel(false);\r\n    }\r\n\r\n    // This will execute until the main thread will stop.\r\n    ScheduledExecutorService executor = Executors.newScheduledThreadPool(2);\r\n    consumeSchedule = executor.scheduleAtFixedRate(consumeMessages, 0, printRateMS, TimeUnit.MILLISECONDS);\r\n}\r\n```\r\n\r\nAnd now the reason why the compiler is complaining becomes more apparent: you have used `consumeSchedule` before you have assigned it. This follows from [Java Language Specification &#167; 16. Definite Assignment][2]:\r\n\r\n&gt; Every local variable declared by a statement (&#167;14.4.2, &#167;14.14.1, &#167;14.14.2, &#167;14.20.3) and every blank `final` field (&#167;4.12.4, &#167;8.3.1.2) must have a *definitely assigned* value when any access of its value occurs.\r\n&gt;\r\n&gt; (...)\r\n&gt;\r\n&gt; For every access of a local variable or blank `final` field `x`, `x` must be definitely assigned before the access, or a compile-time error occurs.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.27\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-16.html","title":"&quot;Variable might not have been initialized&quot; in an implementation which will be execute after initialize","body":"<p>Well, it may seem a weird, but the error disappears if you convert the lambda expression to an anonymous class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Runnable consumeMessages = new Runnable() {\n\n    @Override\n    public void run() {\n        // Some code...\n        if (!mainThread.isAlive()) {\n            consumeSchedule.cancel(false);\n        }\n    }\n};\n</code></pre>\n<p>This is because of the way lambda expressions work.</p>\n<p>I think the below excerpt from the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.27\" rel=\"nofollow noreferrer\">Java Language Specification § 15.27.2. Lambda Body</a> is applicable here:</p>\n<blockquote>\n<p>Unlike code appearing in anonymous class declarations, the meaning of names and the <code>this</code> and <code>super</code> keywords appearing in a lambda body, along with <strong>the accessibility of referenced declarations</strong>, are the same as in the surrounding context (except that lambda parameters introduce new names).</p>\n</blockquote>\n<p><sup>(Emphasis mine.)</sup></p>\n<p>So the accessibility of referenced declarations is effectively the same as if you had written:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static {\n    // Some code...\n    if (!mainThread.isAlive()) {\n        consumeSchedule.cancel(false);\n    }\n\n    // This will execute until the main thread will stop.\n    ScheduledExecutorService executor = Executors.newScheduledThreadPool(2);\n    consumeSchedule = executor.scheduleAtFixedRate(consumeMessages, 0, printRateMS, TimeUnit.MILLISECONDS);\n}\n</code></pre>\n<p>And now the reason why the compiler is complaining becomes more apparent: you have used <code>consumeSchedule</code> before you have assigned it. This follows from <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-16.html\" rel=\"nofollow noreferrer\">Java Language Specification § 16. Definite Assignment</a>:</p>\n<blockquote>\n<p>Every local variable declared by a statement (§14.4.2, §14.14.1, §14.14.2, §14.20.3) and every blank <code>final</code> field (§4.12.4, §8.3.1.2) must have a <em>definitely assigned</em> value when any access of its value occurs.</p>\n<p>(...)</p>\n<p>For every access of a local variable or blank <code>final</code> field <code>x</code>, <code>x</code> must be definitely assigned before the access, or a compile-time error occurs.</p>\n</blockquote>\n"}],"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74743118,"answer_count":1,"score":-1,"last_activity_date":1670590397,"creation_date":1670583100,"question_id":74742088,"body_markdown":"I have this peace of code:\r\n\r\n```\r\nprivate final static Thread mainThread = Thread.currentThread();\r\nprivate final static ScheduledFuture&lt;?&gt; consumeSchedule;\r\n\r\nstatic{\r\n\r\n\tRunnable consumeMessages = () -&gt; {\r\n\r\n\t\t//...Some code...\r\n\r\n\t\t//stop the printSchedule\r\n\t\tif(!mainThread.isAlive()){\r\n\t\t\tconsumeSchedule.cancel(false); //Variable might not have been initialized\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//this will execute until the main thread will stop.\r\n\tScheduledExecutorService executor = Executors.newScheduledThreadPool(2);\r\n\tconsumeSchedule = executor.scheduleAtFixedRate(consumeMessages, 0, printRateMS, TimeUnit.MILLISECONDS);\r\n\r\n}\r\n```\r\n\r\nHow I can avoid that error &quot;Variable might not have been initialized&quot;, since it&#39;s obviously that the `cancel` will be called after the `printSchedule` will be initialized.\r\n\r\nOr how to stop the consumeSchedule when the main thread has terminated?","title":"&quot;Variable might not have been initialized&quot; in an implementation which will be execute after initialize","body":"<p>I have this peace of code:</p>\n<pre><code>private final static Thread mainThread = Thread.currentThread();\nprivate final static ScheduledFuture&lt;?&gt; consumeSchedule;\n\nstatic{\n\n    Runnable consumeMessages = () -&gt; {\n\n        //...Some code...\n\n        //stop the printSchedule\n        if(!mainThread.isAlive()){\n            consumeSchedule.cancel(false); //Variable might not have been initialized\n        }\n\n    };\n\n    //this will execute until the main thread will stop.\n    ScheduledExecutorService executor = Executors.newScheduledThreadPool(2);\n    consumeSchedule = executor.scheduleAtFixedRate(consumeMessages, 0, printRateMS, TimeUnit.MILLISECONDS);\n\n}\n</code></pre>\n<p>How I can avoid that error &quot;Variable might not have been initialized&quot;, since it's obviously that the <code>cancel</code> will be called after the <code>printSchedule</code> will be initialized.</p>\n<p>Or how to stop the consumeSchedule when the main thread has terminated?</p>\n"},{"tags":["java","kotlin","kotlin-coroutines"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1670597345,"post_id":74742987,"comment_id":131917146,"body_markdown":"Because you&#39;re calling `await` before starting the second `async` block.","body":"Because you&#39;re calling <code>await</code> before starting the second <code>async</code> block."}],"answers":[{"tags":[],"owner":{"account_id":3973489,"reputation":2934,"user_id":3277386,"accept_rate":60,"display_name":"TreffnonX"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670590246,"creation_date":1670590246,"answer_id":74743411,"question_id":74742987,"body_markdown":"The numeric plus operator requires the left side of the operation to be executed before the right side is evaluated. This means that the right side operation, including the `async` is delayed until the left side is fully evaluated in the statement (this includes the `await` on the left side, which takes the full 3 seconds.\r\n\r\nTake for instance the expression\r\n```\r\nsomeBooleanResponse(a, b, c) || someOtherBooleanExpression(d, e)\r\n```\r\n\r\nOn this expression, the left side `someBooleanResponse` will be fully evaluated, before the right side is even started. This is (ab)used in scripts sometimes to make it a condition.\r\n\r\nThe same is true for your example. The right side is being held until the left side is completed. If for example the left side threw an exception, the right side would never be needed.\r\n\r\nTo solve this, you need to execute both `async` statements before `await` is called. Otherwise the second async will not even start and therefore you wait another 3 seconds.","title":"How does this kotlin coroutine code works?","body":"<p>The numeric plus operator requires the left side of the operation to be executed before the right side is evaluated. This means that the right side operation, including the <code>async</code> is delayed until the left side is fully evaluated in the statement (this includes the <code>await</code> on the left side, which takes the full 3 seconds.</p>\n<p>Take for instance the expression</p>\n<pre><code>someBooleanResponse(a, b, c) || someOtherBooleanExpression(d, e)\n</code></pre>\n<p>On this expression, the left side <code>someBooleanResponse</code> will be fully evaluated, before the right side is even started. This is (ab)used in scripts sometimes to make it a condition.</p>\n<p>The same is true for your example. The right side is being held until the left side is completed. If for example the left side threw an exception, the right side would never be needed.</p>\n<p>To solve this, you need to execute both <code>async</code> statements before <code>await</code> is called. Otherwise the second async will not even start and therefore you wait another 3 seconds.</p>\n"}],"owner":{"account_id":18460813,"reputation":235,"user_id":13448373,"display_name":"newbie_coder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74743411,"answer_count":1,"score":0,"last_activity_date":1670590246,"creation_date":1670587959,"question_id":74742987,"body_markdown":"I have these two suspend functions \r\n```\r\nsuspend fun doSomethingUsefulOne(): Int {\r\n        delay(3000L) \r\n        return 20\r\n    }\r\n\r\nsuspend fun doSomethingUsefulTwo(): Int {\r\n        delay(3000L) \r\n        return 10\r\n    }\r\n```\r\n\r\nI wanted to run both the functions parallelly so I&#39;m running the below code. In this case I&#39;m getting the result in ~3 seconds \r\n```\r\n runBlocking {\r\n            val a = async { doSomethingUsefulOne() }\r\n            val b = async { doSomethingUsefulTwo() }\r\n            println(a.await()+b.await())\r\n        }\r\n``` \r\nBut when I tried to use the below function, I am getting the result after ~6 sec. Why is that so? \r\n\r\n```\r\nrunBlocking {\r\n   println(async { doSomethingUsefulOne() }.await()+async { doSomethingUsefulTwo() }.await())\r\n        }\r\n```\r\n\r\n","title":"How does this kotlin coroutine code works?","body":"<p>I have these two suspend functions</p>\n<pre><code>suspend fun doSomethingUsefulOne(): Int {\n        delay(3000L) \n        return 20\n    }\n\nsuspend fun doSomethingUsefulTwo(): Int {\n        delay(3000L) \n        return 10\n    }\n</code></pre>\n<p>I wanted to run both the functions parallelly so I'm running the below code. In this case I'm getting the result in ~3 seconds</p>\n<pre><code> runBlocking {\n            val a = async { doSomethingUsefulOne() }\n            val b = async { doSomethingUsefulTwo() }\n            println(a.await()+b.await())\n        }\n</code></pre>\n<p>But when I tried to use the below function, I am getting the result after ~6 sec. Why is that so?</p>\n<pre><code>runBlocking {\n   println(async { doSomethingUsefulOne() }.await()+async { doSomethingUsefulTwo() }.await())\n        }\n</code></pre>\n"},{"tags":["java","json","string","db2","blob"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1670411055,"post_id":74715420,"comment_id":131868941,"body_markdown":"That&#39;s not JSON. It&#39;s binary data - full of non-printing characters","body":"That&#39;s not JSON. It&#39;s binary data - full of non-printing characters"},{"owner":{"account_id":6342170,"reputation":16858,"user_id":4923755,"accept_rate":100,"display_name":"data_henrik"},"score":0,"creation_date":1670411207,"post_id":74715420,"comment_id":131868997,"body_markdown":"What encoding is used for the string in the BLOB? Why not a CLOB? Why not native JSON? And which platform / OS / Db2 version?","body":"What encoding is used for the string in the BLOB? Why not a CLOB? Why not native JSON? And which platform / OS / Db2 version?"},{"owner":{"account_id":14422603,"reputation":11689,"user_id":10418264,"display_name":"Mark Barinstein"},"score":0,"creation_date":1670411969,"post_id":74715420,"comment_id":131869225,"body_markdown":"What&#39;s the text representation of this JSON document? How did you put the BLOB value into the `COLOUMN_NAME` column exactly?","body":"What&#39;s the text representation of this JSON document? How did you put the BLOB value into the <code>COLOUMN_NAME</code> column exactly?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670422514,"post_id":74715420,"comment_id":131872952,"body_markdown":"The only good reason I can think of for using a blob column for JSON is if it&#39;s had some sort of &#39;binary-ising&#39; processing such as compression. Has it?","body":"The only good reason I can think of for using a blob column for JSON is if it&#39;s had some sort of &#39;binary-ising&#39; processing such as compression. Has it?"},{"owner":{"account_id":20720520,"reputation":11,"user_id":15215035,"display_name":"Mukul Venkatesh"},"score":0,"creation_date":1670431382,"post_id":74715420,"comment_id":131876431,"body_markdown":"No idea about the DB part, but the DBA informed that it of the type BLOB and they have used SYSTOOLS.JSON2BSON function while inserting data in mainframe DB2.","body":"No idea about the DB part, but the DBA informed that it of the type BLOB and they have used SYSTOOLS.JSON2BSON function while inserting data in mainframe DB2."},{"owner":{"account_id":11306067,"reputation":11409,"user_id":8290634,"display_name":"mao"},"score":0,"creation_date":1670439993,"post_id":74715420,"comment_id":131879169,"body_markdown":"Consider using systools.BSON2JSON then.  https://www.ibm.com/docs/en/db2-for-zos/11?topic=sql-bson2json","body":"Consider using systools.BSON2JSON then.  <a href=\"https://www.ibm.com/docs/en/db2-for-zos/11?topic=sql-bson2json\" rel=\"nofollow noreferrer\">ibm.com/docs/en/db2-for-zos/11?topic=sql-bson2json</a>"},{"owner":{"account_id":20720520,"reputation":11,"user_id":15215035,"display_name":"Mukul Venkatesh"},"score":0,"creation_date":1670489774,"post_id":74715420,"comment_id":131888642,"body_markdown":"Tried using systools.BSON2JSON in select statement but did not work.","body":"Tried using systools.BSON2JSON in select statement but did not work."},{"owner":{"account_id":14422603,"reputation":11689,"user_id":10418264,"display_name":"Mark Barinstein"},"score":0,"creation_date":1670498350,"post_id":74715420,"comment_id":131891402,"body_markdown":"`CREATE TABLE TEST_JSON (B BLOB (1K))`, `INSERT INTO TEST_JSON (B) SELECT SYSTOOLS.JSON2BSON (&#39;{Name:&quot;George&quot;}&#39;) FROM SYSIBM.SYSDUMMY1`, `SELECT SYSTOOLS.BSON2JSON (B) FROM TEST_JSON`. You must work with `CLOB` data type in your application with the result of the last statement, not with `BLOB`.","body":"<code>CREATE TABLE TEST_JSON (B BLOB (1K))</code>, <code>INSERT INTO TEST_JSON (B) SELECT SYSTOOLS.JSON2BSON (&#39;{Name:&quot;George&quot;}&#39;) FROM SYSIBM.SYSDUMMY1</code>, <code>SELECT SYSTOOLS.BSON2JSON (B) FROM TEST_JSON</code>. You must work with <code>CLOB</code> data type in your application with the result of the last statement, not with <code>BLOB</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670512614,"post_id":74715420,"comment_id":131896365,"body_markdown":"*No idea about the DB part, but the DBA informed that it of the type BLOB and they have used SYSTOOLS.JSON2BSON function while inserting data in mainframe DB2.* OK so I was right. That&#39;s good and now you know what to do from the others","body":"<i>No idea about the DB part, but the DBA informed that it of the type BLOB and they have used SYSTOOLS.JSON2BSON function while inserting data in mainframe DB2.</i> OK so I was right. That&#39;s good and now you know what to do from the others"}],"answers":[{"tags":[],"owner":{"account_id":9544385,"reputation":731,"user_id":18188104,"display_name":"georgep"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670590137,"creation_date":1670507861,"answer_id":74731395,"question_id":74715420,"body_markdown":"Consider using BSON2JSON (docs: https://www.ibm.com/docs/en/db2-for-zos/11?topic=sql-bson2json)\r\n\r\n    String q= &quot;select SYSTOOLS.BSON2JSON(COLUMN_NAME) from TABLE_TEST&quot;;","title":"How to convert BLOB data (ex: 136948a98e67) retrieved from DB2 into JSON format/String using java","body":"<p>Consider using BSON2JSON (docs: <a href=\"https://www.ibm.com/docs/en/db2-for-zos/11?topic=sql-bson2json\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/db2-for-zos/11?topic=sql-bson2json</a>)</p>\n<pre><code>String q= &quot;select SYSTOOLS.BSON2JSON(COLUMN_NAME) from TABLE_TEST&quot;;\n</code></pre>\n"}],"owner":{"account_id":20720520,"reputation":11,"user_id":15215035,"display_name":"Mukul Venkatesh"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":502,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670590155,"creation_date":1670410119,"question_id":74715420,"body_markdown":"I am able to fetch and convert BLOB to string, but special or control characters are also being displayed. \r\n    \r\nFor instance This is the output -  \r\n    \r\n&quot;\\u0003?\\u0004\\u0000\\u0000\\u0003BUSINFON\\u0000?\\u0004\\u0000\\u0000\\u0002DATA1\\u0000\\u0003\\u0000\\u0000\\u000006\\u0000\\u0002USER_ID\\u0000\\u0014\\u0000\\u0000\\u00002022-01-01-01.01.01\\u0000\\u0002EMPLOYEE_NAME\\u0000\\u0007\\u0000\\u0000\\u0000ABCDEF\\u0000\\u0002EMPLOYEE_ID\\u0000\\u0007\\u0000\\u0000\\u0000ZGSET4\\u0000\\u0002PAYMENT\\u0000\\u0007\\u0000\\u0000\\u0000METHOD\\u0000\\u0002VZDLR_ZGPREF_FK1\\u0000\\u0006\\u0000\\u0000\\u0000INFORMATION\\u0000\\u0002VZBCO_SPOUSE_FK2\\u0000\\u0007\\u0000\\u0000\\u0000SPOUSE\\u0000\\u0002ASIGNMENT_ID\r\n    \r\n    \r\nBasically I am trying to retrieve/read data from a table present in DB2 mainframe the column &quot;COLUMN_NAME&quot; is set to data type of BLOB.\r\n    \r\nHere&#39;s my intended code snippet :\r\n \r\n  \r\n\r\n    String q= &quot;select  COLUMN_NAME from TABLE_TEST&quot;;\r\n    PreparedStatement pstate = null;\r\n    \t\tPreparedStatement p = null;\r\n    \t\tProperties props = new Properties();\r\n    \t\tprops.setProperty(&quot;useJDBC4ColumnNameAndLabelSemantics&quot;, &quot;2&quot;);\r\n    \t\t// props.setProperty(&quot;DB2BaseDataSource.NO&quot;, &quot;2&quot;);\r\n    \t\tprops.setProperty(&quot;user&quot;, &quot;******&quot;);\r\n    \t\tprops.setProperty(&quot;password&quot;, &quot;*****&quot;);\r\n    \t\t//PreparedStatement pstate1 = null;\r\n    \t\tResultSet res=null;\r\n    \t\tConnection connection = null;\r\n    \t\t\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t \r\n    \t\t Class.forName(jdbcClassName);\r\n    \t\t \r\n    \t\t System.out.println(&quot;DB2 driver is loaded successfull \\n&quot;);\r\n    \t\t \r\n    \t\t connection = DriverManager.getConnection(url, props);\r\n    \r\n    \t\t} catch (ClassNotFoundException e) {\r\n    \t\t e.printStackTrace();\r\n    \t\t } catch (SQLException e) {\r\n    \t\t e.printStackTrace();\r\n    \t\t }finally{\r\n    \t\t if(connection!=null){\r\n    \t\t System.out.println(&quot;Connected successfully.\\n&quot;);\r\n    \t\t \r\n    \t\t pstate=connection.prepareStatement(q);\r\n    \t\t \r\n    \t\t res = pstate.executeQuery();\r\n    \t\t \r\n    \t\t  while(res.next()) \r\n    \t\t {\r\n               String payl = res.getString(&quot;COLUMN_NAME&quot;);\r\n    \t\t   byte [] Blob; \r\n    \t\t   Blob pay1 =  res.getBlob(&quot;COLUMN_NAME&quot;);\r\n    \t\t   InputStream in = pay1.getBinaryStream();\r\n    \t\t   Reader reader1 = new InputStreamReader(in, StandardCharsets.UTF_8);\r\n    \t\t   JsonReader reader2 = new JsonReader(reader1);\r\n    \t\t   reader2.setLenient(true);\r\n    \t       JsonElement out =  JsonParser.parseReader(reader2);\r\n    \t\t   System.out.println(out);\r\n    \t\t   \r\n    \t\t}","title":"How to convert BLOB data (ex: 136948a98e67) retrieved from DB2 into JSON format/String using java","body":"<p>I am able to fetch and convert BLOB to string, but special or control characters are also being displayed.</p>\n<p>For instance This is the output -</p>\n<p>&quot;\\u0003?\\u0004\\u0000\\u0000\\u0003BUSINFON\\u0000?\\u0004\\u0000\\u0000\\u0002DATA1\\u0000\\u0003\\u0000\\u0000\\u000006\\u0000\\u0002USER_ID\\u0000\\u0014\\u0000\\u0000\\u00002022-01-01-01.01.01\\u0000\\u0002EMPLOYEE_NAME\\u0000\\u0007\\u0000\\u0000\\u0000ABCDEF\\u0000\\u0002EMPLOYEE_ID\\u0000\\u0007\\u0000\\u0000\\u0000ZGSET4\\u0000\\u0002PAYMENT\\u0000\\u0007\\u0000\\u0000\\u0000METHOD\\u0000\\u0002VZDLR_ZGPREF_FK1\\u0000\\u0006\\u0000\\u0000\\u0000INFORMATION\\u0000\\u0002VZBCO_SPOUSE_FK2\\u0000\\u0007\\u0000\\u0000\\u0000SPOUSE\\u0000\\u0002ASIGNMENT_ID</p>\n<p>Basically I am trying to retrieve/read data from a table present in DB2 mainframe the column &quot;COLUMN_NAME&quot; is set to data type of BLOB.</p>\n<p>Here's my intended code snippet :</p>\n<pre><code>String q= &quot;select  COLUMN_NAME from TABLE_TEST&quot;;\nPreparedStatement pstate = null;\n        PreparedStatement p = null;\n        Properties props = new Properties();\n        props.setProperty(&quot;useJDBC4ColumnNameAndLabelSemantics&quot;, &quot;2&quot;);\n        // props.setProperty(&quot;DB2BaseDataSource.NO&quot;, &quot;2&quot;);\n        props.setProperty(&quot;user&quot;, &quot;******&quot;);\n        props.setProperty(&quot;password&quot;, &quot;*****&quot;);\n        //PreparedStatement pstate1 = null;\n        ResultSet res=null;\n        Connection connection = null;\n        \n        \n        try {\n         \n         Class.forName(jdbcClassName);\n         \n         System.out.println(&quot;DB2 driver is loaded successfull \\n&quot;);\n         \n         connection = DriverManager.getConnection(url, props);\n\n        } catch (ClassNotFoundException e) {\n         e.printStackTrace();\n         } catch (SQLException e) {\n         e.printStackTrace();\n         }finally{\n         if(connection!=null){\n         System.out.println(&quot;Connected successfully.\\n&quot;);\n         \n         pstate=connection.prepareStatement(q);\n         \n         res = pstate.executeQuery();\n         \n          while(res.next()) \n         {\n           String payl = res.getString(&quot;COLUMN_NAME&quot;);\n           byte [] Blob; \n           Blob pay1 =  res.getBlob(&quot;COLUMN_NAME&quot;);\n           InputStream in = pay1.getBinaryStream();\n           Reader reader1 = new InputStreamReader(in, StandardCharsets.UTF_8);\n           JsonReader reader2 = new JsonReader(reader1);\n           reader2.setLenient(true);\n           JsonElement out =  JsonParser.parseReader(reader2);\n           System.out.println(out);\n           \n        }\n</code></pre>\n"},{"tags":["java","multithreading","debugging","intellij-idea","intellij-14"],"comments":[{"owner":{"account_id":65605,"reputation":2500,"user_id":192958,"accept_rate":76,"display_name":"Asaf"},"score":0,"creation_date":1437373907,"post_id":31086965,"comment_id":50982279,"body_markdown":"Possible duplicate: https://stackoverflow.com/questions/10327576/intellij-debugging-suspend-whole-vm-then-step-on-single-thread","body":"Possible duplicate: <a href=\"https://stackoverflow.com/questions/10327576/intellij-debugging-suspend-whole-vm-then-step-on-single-thread\" title=\"intellij debugging suspend whole vm then step on single thread\">stackoverflow.com/questions/10327576/&hellip;</a>"},{"owner":{"account_id":2405117,"reputation":977,"user_id":2101812,"display_name":"Nathan"},"score":0,"creation_date":1437472925,"post_id":31086965,"comment_id":51031418,"body_markdown":"While related, I&#39;m not interested in stopping the entire VM, and debugging at that point. My issue is that IDEA is skipping between threads during the debug process -- I just want it to stay in the current thread while stepping.","body":"While related, I&#39;m not interested in stopping the entire VM, and debugging at that point. My issue is that IDEA is skipping between threads during the debug process -- I just want it to stay in the current thread while stepping."},{"owner":{"account_id":2405117,"reputation":977,"user_id":2101812,"display_name":"Nathan"},"score":0,"creation_date":1438038630,"post_id":31086965,"comment_id":51274074,"body_markdown":"Looks like this might have been fixed 3 weeks ago in EAP 15.","body":"Looks like this might have been fixed 3 weeks ago in EAP 15."}],"answers":[{"comments":[{"owner":{"account_id":2405117,"reputation":977,"user_id":2101812,"display_name":"Nathan"},"score":0,"creation_date":1435396644,"post_id":31087037,"comment_id":50191271,"body_markdown":"I&#39;ve done this, it does not change anything. I should point out that if I change threads at all, it goes wonky again  (I&#39;ll update my question for this)","body":"I&#39;ve done this, it does not change anything. I should point out that if I change threads at all, it goes wonky again  (I&#39;ll update my question for this)"},{"owner":{"account_id":4303897,"reputation":354,"user_id":3516864,"display_name":"Mateusz Odelga"},"score":0,"creation_date":1435396876,"post_id":31087037,"comment_id":50191341,"body_markdown":"You can add a condition, which will check if you are using specific Thread. But it require from you explicit thread naming in the thread pool.","body":"You can add a condition, which will check if you are using specific Thread. But it require from you explicit thread naming in the thread pool."},{"owner":{"account_id":2405117,"reputation":977,"user_id":2101812,"display_name":"Nathan"},"score":0,"creation_date":1435397738,"post_id":31087037,"comment_id":50191570,"body_markdown":"Not exactly what I&#39;m wanting, as that would make sure the breakpoint is only valid for a specific thread -- I&#39;m wanting to step through all of the threads, but to not change threads until I specify so. (I updated the question to provide more clarity on this)","body":"Not exactly what I&#39;m wanting, as that would make sure the breakpoint is only valid for a specific thread -- I&#39;m wanting to step through all of the threads, but to not change threads until I specify so. (I updated the question to provide more clarity on this)"},{"owner":{"account_id":4303897,"reputation":354,"user_id":3516864,"display_name":"Mateusz Odelga"},"score":0,"creation_date":1435572964,"post_id":31087037,"comment_id":50239686,"body_markdown":"You just want to do a code synchronously? You must know that the rule which maintain order of execution is related to specified ThreadPoolExecutor implementation. It&#39;s related to https://en.wikipedia.org/wiki/Preemption_(computing)","body":"You just want to do a code synchronously? You must know that the rule which maintain order of execution is related to specified ThreadPoolExecutor implementation. It&#39;s related to <a href=\"https://en.wikipedia.org/wiki/Preemption_(computing)\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Preemption_(computing)</a>"},{"owner":{"account_id":2405117,"reputation":977,"user_id":2101812,"display_name":"Nathan"},"score":0,"creation_date":1435663094,"post_id":31087037,"comment_id":50284106,"body_markdown":"Yes, I&#39;m aware of that.   If I&#39;m step debugging a single thread (out of many), I expect to stay in that thread until I explicitly choose to change threads (or the thread is suspended/dies/etc).  This is how Eclipse and Netbeans operate. Intellij works this way as long as you don&#39;t encounter any methods. When Intellij hits a method while step debugging, *whoooooop - time to switch threads!*","body":"Yes, I&#39;m aware of that.   If I&#39;m step debugging a single thread (out of many), I expect to stay in that thread until I explicitly choose to change threads (or the thread is suspended/dies/etc).  This is how Eclipse and Netbeans operate. Intellij works this way as long as you don&#39;t encounter any methods. When Intellij hits a method while step debugging, <i>whoooooop - time to switch threads!</i>"}],"tags":[],"owner":{"account_id":4303897,"reputation":354,"user_id":3516864,"display_name":"Mateusz Odelga"},"comment_count":5,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1435396056,"creation_date":1435396056,"answer_id":31087037,"question_id":31086965,"body_markdown":"By right click at the breakpoint dot, you can choose some options, e.g Suspend on Thread. \r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/4v2Xg.png","title":"How to stay on the current thread while step-debugging in intellij","body":"<p>By right click at the breakpoint dot, you can choose some options, e.g Suspend on Thread. </p>\n\n<p><img src=\"https://i.stack.imgur.com/4v2Xg.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":2405117,"reputation":977,"user_id":2101812,"display_name":"Nathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1440540141,"creation_date":1440540141,"answer_id":32214838,"question_id":31086965,"body_markdown":"Indeed, IDEA 15 (http://blog.jetbrains.com/idea/2015/06/intellij-idea-15-eap-is-open/) has fixed this issue. \r\n\r\nAdditionally, when a breakpoint is reached in another thread, there is a notification - which I found rather nice.","title":"How to stay on the current thread while step-debugging in intellij","body":"<p>Indeed, IDEA 15 (<a href=\"http://blog.jetbrains.com/idea/2015/06/intellij-idea-15-eap-is-open/\" rel=\"nofollow\">http://blog.jetbrains.com/idea/2015/06/intellij-idea-15-eap-is-open/</a>) has fixed this issue. </p>\n\n<p>Additionally, when a breakpoint is reached in another thread, there is a notification - which I found rather nice.</p>\n"},{"comments":[{"owner":{"account_id":2405117,"reputation":977,"user_id":2101812,"display_name":"Nathan"},"score":0,"creation_date":1454520434,"post_id":35104568,"comment_id":58084443,"body_markdown":"Oh what a fun twist indeed.","body":"Oh what a fun twist indeed."}],"tags":[],"owner":{"account_id":1091404,"reputation":536,"user_id":1085978,"accept_rate":86,"display_name":"Bit-Man"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454174295,"creation_date":1454173858,"answer_id":35104568,"question_id":31086965,"body_markdown":"From Intellij IDEA 16 onwards there&#39;a new twist around this issue by resuming only the curent thread, and it can be tested [in the latest IDEA 16 EAP][1] by [enabling &quot;debugger.step.resumes.one.thread&quot; property in IDEA vmoptions][2]\r\n\r\n\r\n  [1]: https://confluence.jetbrains.com/display/IDEADEV/IDEA+16+EAP\r\n  [2]: https://youtrack.jetbrains.com/issue/IDEA-43728#comment=27-1286025","title":"How to stay on the current thread while step-debugging in intellij","body":"<p>From Intellij IDEA 16 onwards there'a new twist around this issue by resuming only the curent thread, and it can be tested <a href=\"https://confluence.jetbrains.com/display/IDEADEV/IDEA+16+EAP\" rel=\"nofollow\">in the latest IDEA 16 EAP</a> by <a href=\"https://youtrack.jetbrains.com/issue/IDEA-43728#comment=27-1286025\" rel=\"nofollow\">enabling \"debugger.step.resumes.one.thread\" property in IDEA vmoptions</a></p>\n"},{"tags":[],"owner":{"account_id":3558883,"reputation":1652,"user_id":2971851,"accept_rate":100,"display_name":"Steven Chou"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1670589964,"creation_date":1670589964,"answer_id":74743368,"question_id":31086965,"body_markdown":"You can right click on debug point, then assign a condition to only stop when reaching a given thread id. When running debug mode, the id can be gotten by using `Thread.currentThread().getId()`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IhJBE.png","title":"How to stay on the current thread while step-debugging in intellij","body":"<p>You can right click on debug point, then assign a condition to only stop when reaching a given thread id. When running debug mode, the id can be gotten by using <code>Thread.currentThread().getId()</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/IhJBE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IhJBE.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2405117,"reputation":977,"user_id":2101812,"display_name":"Nathan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4357,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":32214838,"answer_count":4,"score":11,"last_activity_date":1670589964,"creation_date":1435395487,"question_id":31086965,"body_markdown":"While debugging multi-threaded code in intellij, and more specifically while stepping inside a thread...\r\n\r\nSetup:\r\n\r\n                @Override\r\n                public\r\n                void run() {\r\n                    while (true) {\r\n                      System.err.println(&quot;1&quot; + get());  &lt;-- breakpoint\r\n                      System.err.println(&quot;2&quot; + get());\r\n                      System.err.println(&quot;3&quot; + get());\r\n                    }\r\n                }\r\n                \r\n                public String get() {\r\n                   return &quot;x&quot;;\r\n                }\r\n\r\n\r\n\r\nI have 6 threads, all running the code above.\r\n\r\nIntellij keeps changing the current thread that I&#39;m in, meaning that when I issue a &quot;Step over&quot; (F8) command for T1, the debugger will change focus to T2. What I&#39;m expecting is to stay in T1 *while* I&#39;m debugging -- so to produce the result:  \r\n\r\n    T1: 1x\r\n    T1: 2x\r\n    T1: 3x\r\n    T1: 1x\r\n    T1: 2x\r\n\r\nThen, let&#39;s switch to another thread, T2.\r\n\r\n    T2: 1x\r\n    T2: 2x\r\n    T2: 3x\r\n    T2: 1x\r\n    T2: 2x\r\n    T2: 3x\r\n\r\nThen, back to T1:\r\n\r\n    T1: 3x  (it picks back up from where it left off)\r\n\r\nInstead, what I&#39;m getting is: \r\n\r\n    T1: 1x\r\n    T3: 1x\r\n    T5: 1x\r\n    T1: 2x\r\n    T2: 1x\r\n    T3: 2x\r\n    T1: 3x\r\n    etc.\r\n\r\nIt&#39;s out-of-order, and **not at all** intuitive.\r\n\r\nIf I want to have my intended behavior, I have to do the following:\r\n\r\nSwitch to T1:\r\n\r\n    T1: 1x\r\nSwitch to T1:\r\n\r\n    T1: 2x\r\n\r\nSwitch to T1:\r\n\r\n    T1: 3x\r\n\r\nSwitch to T2:\r\n\r\n    T2: 1x\r\n\r\nSwitch to T2:\r\n\r\n    T2: 2x\r\n\r\nSwitch to T2:\r\n\r\n    T2: 3x\r\n\r\nSwitch to T1:\r\n\r\n    T1: 1x\r\n\r\netc...\r\n\r\n\r\nI&#39;ve searched for a way to prevent this, and I&#39;ve not found a solution, and the only way that I&#39;ve discovered (to maintain stepping in my current thread), is to keep selecting it with the mouse every time I step.\r\n\r\n\r\n\r\nThe question is: how do I do prevent intellij changing the thread I&#39;m on?\r\n\r\nedit: I should point out, that if any methods are called, thread execution order is out-of-order.","title":"How to stay on the current thread while step-debugging in intellij","body":"<p>While debugging multi-threaded code in intellij, and more specifically while stepping inside a thread...</p>\n\n<p>Setup:</p>\n\n<pre><code>            @Override\n            public\n            void run() {\n                while (true) {\n                  System.err.println(\"1\" + get());  &lt;-- breakpoint\n                  System.err.println(\"2\" + get());\n                  System.err.println(\"3\" + get());\n                }\n            }\n\n            public String get() {\n               return \"x\";\n            }\n</code></pre>\n\n<p>I have 6 threads, all running the code above.</p>\n\n<p>Intellij keeps changing the current thread that I'm in, meaning that when I issue a \"Step over\" (F8) command for T1, the debugger will change focus to T2. What I'm expecting is to stay in T1 <em>while</em> I'm debugging -- so to produce the result:  </p>\n\n<pre><code>T1: 1x\nT1: 2x\nT1: 3x\nT1: 1x\nT1: 2x\n</code></pre>\n\n<p>Then, let's switch to another thread, T2.</p>\n\n<pre><code>T2: 1x\nT2: 2x\nT2: 3x\nT2: 1x\nT2: 2x\nT2: 3x\n</code></pre>\n\n<p>Then, back to T1:</p>\n\n<pre><code>T1: 3x  (it picks back up from where it left off)\n</code></pre>\n\n<p>Instead, what I'm getting is: </p>\n\n<pre><code>T1: 1x\nT3: 1x\nT5: 1x\nT1: 2x\nT2: 1x\nT3: 2x\nT1: 3x\netc.\n</code></pre>\n\n<p>It's out-of-order, and <strong>not at all</strong> intuitive.</p>\n\n<p>If I want to have my intended behavior, I have to do the following:</p>\n\n<p>Switch to T1:</p>\n\n<pre><code>T1: 1x\n</code></pre>\n\n<p>Switch to T1:</p>\n\n<pre><code>T1: 2x\n</code></pre>\n\n<p>Switch to T1:</p>\n\n<pre><code>T1: 3x\n</code></pre>\n\n<p>Switch to T2:</p>\n\n<pre><code>T2: 1x\n</code></pre>\n\n<p>Switch to T2:</p>\n\n<pre><code>T2: 2x\n</code></pre>\n\n<p>Switch to T2:</p>\n\n<pre><code>T2: 3x\n</code></pre>\n\n<p>Switch to T1:</p>\n\n<pre><code>T1: 1x\n</code></pre>\n\n<p>etc...</p>\n\n<p>I've searched for a way to prevent this, and I've not found a solution, and the only way that I've discovered (to maintain stepping in my current thread), is to keep selecting it with the mouse every time I step.</p>\n\n<p>The question is: how do I do prevent intellij changing the thread I'm on?</p>\n\n<p>edit: I should point out, that if any methods are called, thread execution order is out-of-order.</p>\n"},{"tags":["java","eclipse","swt"],"answers":[{"comments":[{"owner":{"account_id":23418359,"reputation":13,"user_id":17478980,"display_name":"stojelenov"},"score":0,"creation_date":1670590169,"post_id":74742802,"comment_id":131914789,"body_markdown":"Hi [greg](https://stackoverflow.com/users/2670892/greg-449), thanks for your comment! I did try something similar (you can check updated question), but did not work. I can see only blank tab.","body":"Hi <a href=\"https://stackoverflow.com/users/2670892/greg-449\">greg</a>, thanks for your comment! I did try something similar (you can check updated question), but did not work. I can see only blank tab."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1670593742,"post_id":74742802,"comment_id":131915905,"body_markdown":"You need to call setExpandHorizontal(true) and setMinSize in your code, see the example above.","body":"You need to call setExpandHorizontal(true) and setMinSize in your code, see the example above."}],"tags":[],"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670587019,"creation_date":1670587019,"answer_id":74742802,"question_id":74742282,"body_markdown":"You do need to use `ScrolledComposite` for scrolling composites.\r\n\r\nSomething like:\r\n\r\n    final TabItem tabItem = new TabItem(tabFolder, SWT.NONE);\r\n    tabItem.setText(&quot;Tab&quot;);\r\n\r\n    final ScrolledComposite sc = new ScrolledComposite(tabFolder, SWT.V_SCROLL | SWT.H_SCROLL);\r\n    sc.setExpandHorizontal(true);\r\n    sc.setExpandVertical(true);\r\n\r\n    tabItem.setControl(sc);\r\n\r\n    final Composite scrolledComp = new Composite(sc, SWT.NONE);\r\n    scrolledComp.setLayout(new GridLayout());\r\n\r\n    sc.setContent(scrolledComp);\r\n\r\n    // Example contents\r\n    for (int i = 1; i &lt;= 100; i++)\r\n      new Label(scrolledComp, SWT.LEAD).setText(&quot;Label &quot; + i);\r\n\r\n    sc.setMinSize(scrolledComp.computeSize(SWT.DEFAULT, SWT.DEFAULT));\r\n\r\nTreeViewers such as CheckboxTreeViewer can do scrolling themselves, but Composites requite ScrolledComposite.","title":"How to scroll composite?","body":"<p>You do need to use <code>ScrolledComposite</code> for scrolling composites.</p>\n<p>Something like:</p>\n<pre><code>final TabItem tabItem = new TabItem(tabFolder, SWT.NONE);\ntabItem.setText(&quot;Tab&quot;);\n\nfinal ScrolledComposite sc = new ScrolledComposite(tabFolder, SWT.V_SCROLL | SWT.H_SCROLL);\nsc.setExpandHorizontal(true);\nsc.setExpandVertical(true);\n\ntabItem.setControl(sc);\n\nfinal Composite scrolledComp = new Composite(sc, SWT.NONE);\nscrolledComp.setLayout(new GridLayout());\n\nsc.setContent(scrolledComp);\n\n// Example contents\nfor (int i = 1; i &lt;= 100; i++)\n  new Label(scrolledComp, SWT.LEAD).setText(&quot;Label &quot; + i);\n\nsc.setMinSize(scrolledComp.computeSize(SWT.DEFAULT, SWT.DEFAULT));\n</code></pre>\n<p>TreeViewers such as CheckboxTreeViewer can do scrolling themselves, but Composites requite ScrolledComposite.</p>\n"}],"owner":{"account_id":23418359,"reputation":13,"user_id":17478980,"display_name":"stojelenov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74742802,"answer_count":1,"score":0,"last_activity_date":1670589958,"creation_date":1670584229,"question_id":74742282,"body_markdown":"I have got:\r\n\r\n    private void createTab(){\r\n\r\n      TabItem mvTabItem = new TabItem( tabFolder, SWT.NONE );\r\n      mvTabItem.setText( TabHeader.modelviews.getTabHeaderName() );\r\n    \r\n\r\n      Composite mvContainer = new Composite( tabFolder, SWT.V_SCROLL );\r\n      mvContainer.setLayout( new GridLayout(1, false) );\r\n      mvContainer.setLayoutData( new GridData(GridData.FILL, GridData.FILL, true, true) );\r\n\r\n      mvTabItem.setControl( mvContainer );\r\n    \r\n      // Selection of model views\r\n      createSelectionGroup(mvContainer);\r\n    \r\n      // other code, more groups created\r\n    }\r\n\r\nwhich creates tab item, adds vertical scrollbar, but scrolling is not working. Why?\r\n\r\nInside `createSelectionGroup(mvContainer)` there is a scrollbar as well. This one works fine, no `org.eclipse.swt.custom.ScrolledComposite` was applied:\r\n\r\n    private void createSelectionGroup(Composite parent)\r\n    {\r\n      // Create group component.\r\n      Group grpMVselection = new Group(parent, SWT.SHADOW_IN);\r\n      grpMVselection.setLayoutData(new GridData(GridData.FILL, GridData.FILL, true, true));\r\n      grpMVselection.setText(SelectionLabelStr);\r\n      grpMVselection.setLayout(new GridLayout(1, true));\r\n\r\n      // another code, added buttons, listeners\r\n        \r\n      final SashForm sashForm = new SashForm(grpMVselection, SWT.VERTICAL | SWT.BORDER);\r\n      sashForm.setLayoutData(new GridData(SWT.FILL, SWT.FILL, true, true, 1, 1));\r\n\r\n      // srolling applied \r\n      selectionTree = new CheckboxTreeViewer(sashForm, SWT.SINGLE | SWT.V_SCROLL | SWT.H_SCROLL | SWT.HIDE_SELECTION);\r\n      selectionTree.getTree().setLayoutData( new GridData( SWT.BEGINNING, SWT.BEGINNING, true, true ) );\r\n    }\r\n\r\n[![screenshot][1]][1]\r\n\r\nThere are similar questions publicized, but I can not apply answers to my code. I did try:\r\n1. change `Composite mvContainer` to `ScrolledComposite`, did not help\r\n2. insert `mvContainer` to `ScrolledComposite`, did not help\r\n\r\n        TabItem mvTabItem = new TabItem( tabFolder, SWT.NONE );\r\n        mvTabItem.setText( TabHeader.modelviews.getTabHeaderName() );\r\n    \r\n        final ScrolledComposite sc = new ScrolledComposite(tabFolder, SWT.V_SCROLL );\r\n        sc.setExpandVertical(true);\r\n    \r\n        mvTabItem.setControl(sc);\r\n\r\n        Composite mvContainer = new Composite( sc, SWT.NONE );\r\n        //mvContainer.setLayout(new GridLayout());\r\n        mvContainer.setLayout( new GridLayout(1, false) );\r\n        mvContainer.setLayoutData( new GridData(GridData.FILL, GridData.FILL, true, true) );\r\n    \r\n        sc.setContent(mvContainer);\r\n\r\n\r\nDo children need change some property? Thanks for any hint!!! \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dodTi.png","title":"How to scroll composite?","body":"<p>I have got:</p>\n<pre><code>private void createTab(){\n\n  TabItem mvTabItem = new TabItem( tabFolder, SWT.NONE );\n  mvTabItem.setText( TabHeader.modelviews.getTabHeaderName() );\n\n\n  Composite mvContainer = new Composite( tabFolder, SWT.V_SCROLL );\n  mvContainer.setLayout( new GridLayout(1, false) );\n  mvContainer.setLayoutData( new GridData(GridData.FILL, GridData.FILL, true, true) );\n\n  mvTabItem.setControl( mvContainer );\n\n  // Selection of model views\n  createSelectionGroup(mvContainer);\n\n  // other code, more groups created\n}\n</code></pre>\n<p>which creates tab item, adds vertical scrollbar, but scrolling is not working. Why?</p>\n<p>Inside <code>createSelectionGroup(mvContainer)</code> there is a scrollbar as well. This one works fine, no <code>org.eclipse.swt.custom.ScrolledComposite</code> was applied:</p>\n<pre><code>private void createSelectionGroup(Composite parent)\n{\n  // Create group component.\n  Group grpMVselection = new Group(parent, SWT.SHADOW_IN);\n  grpMVselection.setLayoutData(new GridData(GridData.FILL, GridData.FILL, true, true));\n  grpMVselection.setText(SelectionLabelStr);\n  grpMVselection.setLayout(new GridLayout(1, true));\n\n  // another code, added buttons, listeners\n    \n  final SashForm sashForm = new SashForm(grpMVselection, SWT.VERTICAL | SWT.BORDER);\n  sashForm.setLayoutData(new GridData(SWT.FILL, SWT.FILL, true, true, 1, 1));\n\n  // srolling applied \n  selectionTree = new CheckboxTreeViewer(sashForm, SWT.SINGLE | SWT.V_SCROLL | SWT.H_SCROLL | SWT.HIDE_SELECTION);\n  selectionTree.getTree().setLayoutData( new GridData( SWT.BEGINNING, SWT.BEGINNING, true, true ) );\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/dodTi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dodTi.png\" alt=\"screenshot\" /></a></p>\n<p>There are similar questions publicized, but I can not apply answers to my code. I did try:</p>\n<ol>\n<li><p>change <code>Composite mvContainer</code> to <code>ScrolledComposite</code>, did not help</p>\n</li>\n<li><p>insert <code>mvContainer</code> to <code>ScrolledComposite</code>, did not help</p>\n<pre><code> TabItem mvTabItem = new TabItem( tabFolder, SWT.NONE );\n mvTabItem.setText( TabHeader.modelviews.getTabHeaderName() );\n\n final ScrolledComposite sc = new ScrolledComposite(tabFolder, SWT.V_SCROLL );\n sc.setExpandVertical(true);\n\n mvTabItem.setControl(sc);\n\n Composite mvContainer = new Composite( sc, SWT.NONE );\n //mvContainer.setLayout(new GridLayout());\n mvContainer.setLayout( new GridLayout(1, false) );\n mvContainer.setLayoutData( new GridData(GridData.FILL, GridData.FILL, true, true) );\n\n sc.setContent(mvContainer);\n</code></pre>\n</li>\n</ol>\n<p>Do children need change some property? Thanks for any hint!!!</p>\n"},{"tags":["java","c++","quickfix","fix-protocol","algorithmic-trading"],"comments":[{"owner":{"account_id":3177957,"reputation":1440,"user_id":2685402,"accept_rate":53,"display_name":"Wojtek"},"score":0,"creation_date":1521134663,"post_id":11435174,"comment_id":85613479,"body_markdown":"You could use a service virtualization/API mocking/test double to simulate the dependency, have a look at https://en.wikipedia.org/wiki/Comparison_of_API_simulation_tools (you can use for example Traffic Parrot or Parasoft Virtualize)","body":"You could use a service virtualization/API mocking/test double to simulate the dependency, have a look at <a href=\"https://en.wikipedia.org/wiki/Comparison_of_API_simulation_tools\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Comparison_of_API_simulation_tools</a> (you can use for example Traffic Parrot or Parasoft Virtualize)"}],"answers":[{"comments":[{"owner":{"account_id":2085404,"reputation":405,"user_id":1856512,"display_name":"Gavy"},"score":1,"creation_date":1589337605,"post_id":11435272,"comment_id":109251614,"body_markdown":"I believe this is the original project site - https://fiximulator.org/","body":"I believe this is the original project site - <a href=\"https://fiximulator.org/\" rel=\"nofollow noreferrer\">fiximulator.org</a>"}],"tags":[],"owner":{"account_id":1565864,"reputation":281,"user_id":1507538,"display_name":"Sudhir Krishnan"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1342018010,"creation_date":1342018010,"answer_id":11435272,"question_id":11435174,"body_markdown":"Have you tried FIXimulator? http://code.google.com/p/fiximulator/ It doesn&#39;t exactly work as an exchange, but you can establish sessions, receive orders and execute (auto execution as well possible) them. Check it out.\r\n\r\n","title":"How to test my FIX client? Is there a fake FIX exchange out there that I can use?","body":"<p>Have you tried FIXimulator? <a href=\"http://code.google.com/p/fiximulator/\" rel=\"noreferrer\">http://code.google.com/p/fiximulator/</a> It doesn't exactly work as an exchange, but you can establish sessions, receive orders and execute (auto execution as well possible) them. Check it out.</p>\n"},{"comments":[{"owner":{"account_id":933477,"reputation":6047,"user_id":962872,"accept_rate":76,"display_name":"chrisapotek"},"score":0,"creation_date":1342024512,"post_id":11436931,"comment_id":15089815,"body_markdown":"How about order canceling support?","body":"How about order canceling support?"},{"owner":{"account_id":105702,"reputation":1153,"user_id":281912,"accept_rate":62,"display_name":"stexcec"},"score":0,"creation_date":1342025240,"post_id":11436931,"comment_id":15090119,"body_markdown":"Nope. You can use these &quot;Server&quot; just to test connections and execution of limit orders.","body":"Nope. You can use these &quot;Server&quot; just to test connections and execution of limit orders."},{"owner":{"account_id":933477,"reputation":6047,"user_id":962872,"accept_rate":76,"display_name":"chrisapotek"},"score":0,"creation_date":1342025712,"post_id":11436931,"comment_id":15090305,"body_markdown":"I think this FIXimulator allows you to do whatever you want to the order through a GUI. If this is true, that&#39;s pretty cool.","body":"I think this FIXimulator allows you to do whatever you want to the order through a GUI. If this is true, that&#39;s pretty cool."},{"owner":{"account_id":105702,"reputation":1153,"user_id":281912,"accept_rate":62,"display_name":"stexcec"},"score":0,"creation_date":1342072147,"post_id":11436931,"comment_id":15103821,"body_markdown":"@chrisapotek hi, did you try FIXimulator?","body":"@chrisapotek hi, did you try FIXimulator?"}],"tags":[],"owner":{"account_id":105702,"reputation":1153,"user_id":281912,"accept_rate":62,"display_name":"stexcec"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670589929,"creation_date":1342023308,"answer_id":11436931,"question_id":11435174,"body_markdown":"check the quickFIX distribution.\r\nhere: https://github.com/quickfix/quickfix/tree/master/examples you can find the &quot;**executor**&quot;.\r\n\r\nIs a sample server that simply fills every limit order that it receives.\r\n\r\nAlso you can find &quot;**ordermatch**&quot;, which is a c++ server that will match and execute limit orders.\r\n\r\n","title":"How to test my FIX client? Is there a fake FIX exchange out there that I can use?","body":"<p>check the quickFIX distribution.\nhere: <a href=\"https://github.com/quickfix/quickfix/tree/master/examples\" rel=\"nofollow noreferrer\">https://github.com/quickfix/quickfix/tree/master/examples</a> you can find the &quot;<strong>executor</strong>&quot;.</p>\n<p>Is a sample server that simply fills every limit order that it receives.</p>\n<p>Also you can find &quot;<strong>ordermatch</strong>&quot;, which is a c++ server that will match and execute limit orders.</p>\n"},{"comments":[{"owner":{"account_id":1075793,"reputation":1324,"user_id":1073981,"accept_rate":80,"display_name":"Abhishek Chandel"},"score":1,"creation_date":1559116137,"post_id":11465087,"comment_id":99315169,"body_markdown":"Link not working","body":"Link not working"},{"owner":{"account_id":3376037,"reputation":364,"user_id":2834146,"display_name":"Anil"},"score":0,"creation_date":1569662621,"post_id":11465087,"comment_id":102675095,"body_markdown":"Link not working","body":"Link not working"},{"owner":{"account_id":1259047,"reputation":1068,"user_id":1217878,"accept_rate":75,"display_name":"Kaptein Babbalas"},"score":0,"creation_date":1655650819,"post_id":11465087,"comment_id":128377336,"body_markdown":"link is working again. But the file is marked as malware by my anti virus. I did some investifgation  on what exaclty causes the malware classification...seems like a few minor concerns about the code reading your registry (probably for autoupdaing). I decided to trust it and install. Seems OK. Probaly just old coding practices causing this. (i Hope) &#39;-)","body":"link is working again. But the file is marked as malware by my anti virus. I did some investifgation  on what exaclty causes the malware classification...seems like a few minor concerns about the code reading your registry (probably for autoupdaing). I decided to trust it and install. Seems OK. Probaly just old coding practices causing this. (i Hope) &#39;-)"}],"tags":[],"owner":{"account_id":472891,"reputation":516,"user_id":881658,"accept_rate":78,"display_name":"Groovy"},"comment_count":3,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1569666878,"creation_date":1342160044,"answer_id":11465087,"question_id":11435174,"body_markdown":"[Mini-FIX][1] can be used for GUI based\r\n\r\n  [1]: https://elato.se/minifix/download.html\r\n\r\nQuickFix example application programs &quot;executor&quot; and &quot;ordermatch&quot; should be helpful. Code is simple, you can even enhance it to suit your needs for the exchange functionality.\r\nGood thing about these solutions is that different versions of FIX are supported thought FIX 4.2 is the most widely accepted.","title":"How to test my FIX client? Is there a fake FIX exchange out there that I can use?","body":"<p><a href=\"https://elato.se/minifix/download.html\" rel=\"nofollow noreferrer\">Mini-FIX</a> can be used for GUI based</p>\n\n<p>QuickFix example application programs \"executor\" and \"ordermatch\" should be helpful. Code is simple, you can even enhance it to suit your needs for the exchange functionality.\nGood thing about these solutions is that different versions of FIX are supported thought FIX 4.2 is the most widely accepted.</p>\n"},{"tags":[],"owner":{"account_id":4156581,"reputation":181,"user_id":3407716,"display_name":"TheFIXGuy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1402322773,"creation_date":1402322773,"answer_id":24122016,"question_id":11435174,"body_markdown":"A few years ago I couldn&#39;t find a testing platform that I didn&#39;t have to sign a contract with large license fees, so I created one.  Sorry for the shameless plug here, but I ended up turning it into a product/service offering hosted at [www.fixsim.com][1] with a free trial.  Banzai that comes with QuickFIX is a good free start, but if you need different asset classes, cancel/correct, allocations, or other message types you either have to build or buy.\r\n\r\n\r\n  [1]: http://www.fixsim.com","title":"How to test my FIX client? Is there a fake FIX exchange out there that I can use?","body":"<p>A few years ago I couldn't find a testing platform that I didn't have to sign a contract with large license fees, so I created one.  Sorry for the shameless plug here, but I ended up turning it into a product/service offering hosted at <a href=\"http://www.fixsim.com\" rel=\"nofollow\">www.fixsim.com</a> with a free trial.  Banzai that comes with QuickFIX is a good free start, but if you need different asset classes, cancel/correct, allocations, or other message types you either have to build or buy.</p>\n"},{"comments":[{"owner":{"account_id":146505,"reputation":990,"user_id":356985,"accept_rate":77,"display_name":"Badmanchild"},"score":0,"creation_date":1429631171,"post_id":24687628,"comment_id":47684318,"body_markdown":"Try QuickFIX messenger","body":"Try QuickFIX messenger"}],"tags":[],"owner":{"account_id":4434190,"reputation":1816,"user_id":3610482,"display_name":"rdalmeida"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1405032937,"creation_date":1405032937,"answer_id":24687628,"question_id":11435174,"body_markdown":"[CoralFIX][1] comes with a ready-to-use server implementation that you can fire and start accepting connections from your FIX clients. It will handle all the FIX session level details like logon, heartbeats, sequence reset, resend request, etc. To implement a simple server for your tests all you have to do is:\r\n\r\n    import com.coralblocks.coralfix.FixMessage;\r\n    import com.coralblocks.coralreactor.client.Client;\r\n    import com.coralblocks.coralreactor.nio.NioReactor;\r\n    import com.coralblocks.coralreactor.util.Configuration;\r\n    import com.coralblocks.coralreactor.util.MapConfiguration;\r\n     \r\n    public class SimpleFixApplicationServer extends FixApplicationServer {\r\n     \r\n        public SimpleFixApplicationServer(NioReactor nio, int port, Configuration config) {\r\n            super(nio, port, config);\r\n        }\r\n         \r\n        @Override\r\n        protected void handleFixApplicationMessage(Client client, FixMessage fixMsg, boolean possDupe) {\r\n            // do whatever you want to do with the application message received from this client...\r\n        }\r\n         \r\n        public static void main(String[] args) {\r\n     \r\n            NioReactor nio = NioReactor.create();\r\n             \r\n            MapConfiguration config = new MapConfiguration();\r\n             \r\n            // print all messages received and sent to STDOUT for debugging purposes\r\n            // (default is false)\r\n            config.add(&quot;debugMessages&quot;, &quot;true&quot;);\r\n             \r\n            // accept as the client inbound sequence whatever \r\n            // sequence I receive in the first message coming from the client\r\n            // (default is false)\r\n            config.add(&quot;acceptInboundSeqFromClient&quot;, &quot;false&quot;);\r\n             \r\n            Server server = new SimpleFixApplicationServer(nio, 45451, config);\r\n             \r\n            server.open();\r\n            nio.start();\r\n        }\r\n    }\r\n\r\nA full explanation of the code above can be found [here][2].\r\n\r\n**Disclaimer:** I am one of the developers of CoralFIX.\r\n\r\n\r\n  [1]: http://www.coralblocks.com/index.php/category/coralfix/\r\n  [2]: http://www.coralblocks.com/index.php/2014/07/fix-clients-and-servers-with-coralfix/","title":"How to test my FIX client? Is there a fake FIX exchange out there that I can use?","body":"<p><a href=\"http://www.coralblocks.com/index.php/category/coralfix/\" rel=\"nofollow\">CoralFIX</a> comes with a ready-to-use server implementation that you can fire and start accepting connections from your FIX clients. It will handle all the FIX session level details like logon, heartbeats, sequence reset, resend request, etc. To implement a simple server for your tests all you have to do is:</p>\n\n<pre><code>import com.coralblocks.coralfix.FixMessage;\nimport com.coralblocks.coralreactor.client.Client;\nimport com.coralblocks.coralreactor.nio.NioReactor;\nimport com.coralblocks.coralreactor.util.Configuration;\nimport com.coralblocks.coralreactor.util.MapConfiguration;\n\npublic class SimpleFixApplicationServer extends FixApplicationServer {\n\n    public SimpleFixApplicationServer(NioReactor nio, int port, Configuration config) {\n        super(nio, port, config);\n    }\n\n    @Override\n    protected void handleFixApplicationMessage(Client client, FixMessage fixMsg, boolean possDupe) {\n        // do whatever you want to do with the application message received from this client...\n    }\n\n    public static void main(String[] args) {\n\n        NioReactor nio = NioReactor.create();\n\n        MapConfiguration config = new MapConfiguration();\n\n        // print all messages received and sent to STDOUT for debugging purposes\n        // (default is false)\n        config.add(\"debugMessages\", \"true\");\n\n        // accept as the client inbound sequence whatever \n        // sequence I receive in the first message coming from the client\n        // (default is false)\n        config.add(\"acceptInboundSeqFromClient\", \"false\");\n\n        Server server = new SimpleFixApplicationServer(nio, 45451, config);\n\n        server.open();\n        nio.start();\n    }\n}\n</code></pre>\n\n<p>A full explanation of the code above can be found <a href=\"http://www.coralblocks.com/index.php/2014/07/fix-clients-and-servers-with-coralfix/\" rel=\"nofollow\">here</a>.</p>\n\n<p><strong>Disclaimer:</strong> I am one of the developers of CoralFIX.</p>\n"}],"owner":{"account_id":933477,"reputation":6047,"user_id":962872,"accept_rate":76,"display_name":"chrisapotek"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21685,"favorite_count":0,"down_vote_count":1,"up_vote_count":29,"closed_date":1405148522,"accepted_answer_id":11435272,"answer_count":5,"score":28,"last_activity_date":1670589929,"creation_date":1342017711,"question_id":11435174,"body_markdown":"I have implemented my own FIX client, something like QuickFIX. Now I need to test it. Is there a fake FIX exchange somewhere that I can use? Has anyone ever implemented a FIX server that I can use to validate my client? Is there a real exchange from which I can use their test connection to test and validate my fix client?\r\n\r\nAny help here will be greatly appreciated!","title":"How to test my FIX client? Is there a fake FIX exchange out there that I can use?","body":"<p>I have implemented my own FIX client, something like QuickFIX. Now I need to test it. Is there a fake FIX exchange somewhere that I can use? Has anyone ever implemented a FIX server that I can use to validate my client? Is there a real exchange from which I can use their test connection to test and validate my fix client?</p>\n\n<p>Any help here will be greatly appreciated!</p>\n"},{"tags":["java","spring","liquibase","liquibase-maven-plugin"],"comments":[{"owner":{"account_id":24666064,"reputation":365,"user_id":18561714,"display_name":"tabbyfoo"},"score":0,"creation_date":1671490134,"post_id":74743345,"comment_id":132106791,"body_markdown":"This has been reported by multiple users and has been opened as an issue on GitHub. https://github.com/liquibase/liquibase/issues/3520","body":"This has been reported by multiple users and has been opened as an issue on GitHub. <a href=\"https://github.com/liquibase/liquibase/issues/3520\" rel=\"nofollow noreferrer\">github.com/liquibase/liquibase/issues/3520</a>"}],"owner":{"account_id":17097713,"reputation":23,"user_id":12372375,"display_name":"Edwin James"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670589843,"creation_date":1670589843,"question_id":74743345,"body_markdown":"I&#39;m getting this warning after updating liquibase-core to 4.17.2 version:\r\n\r\n\\`\r\n\r\n```\r\nDec 08, 2022 3:22:00 PM liquibase.resource\r\nWARNING: Cannot handle classloader url file:/C:/Program%20Files/Java/jdk1.8.0_172/jre/lib/ext/jaccess.jar: null. Operations that need to list files from this location may not work as expected\r\njava.lang.IllegalArgumentException\r\n\tat liquibase.resource.ZipResourceAccessor.&lt;init&gt;(ZipResourceAccessor.java:48)\r\n\tat liquibase.resource.ZipPathHandler.getResourceAccessor(ZipPathHandler.java:41)\r\n\tat liquibase.resource.PathHandlerFactory.getResourceAccessor(PathHandlerFactory.java:38)\r\n\tat liquibase.resource.ClassLoaderResourceAccessor.configureAdditionalResourceAccessors(ClassLoaderResourceAccessor.java:78)\r\n\tat liquibase.resource.ClassLoaderResourceAccessor.configureAdditionalResourceAccessors(ClassLoaderResourceAccessor.java:92)\r\n\tat liquibase.resource.ClassLoaderResourceAccessor.configureAdditionalResourceAccessors(ClassLoaderResourceAccessor.java:92)\r\n\tat liquibase.resource.ClassLoaderResourceAccessor.configureAdditionalResourceAccessors(ClassLoaderResourceAccessor.java:92)\r\n\tat liquibase.resource.ClassLoaderResourceAccessor.init(ClassLoaderResourceAccessor.java:61)\r\n\tat liquibase.resource.ClassLoaderResourceAccessor.search(ClassLoaderResourceAccessor.java:106)\r\n\tat liquibase.changelog.DatabaseChangeLog.includeAll(DatabaseChangeLog.java:618)\r\n\tat liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:462)\r\n\tat liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:364)\r\n\tat liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:23)\r\n\tat liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:408)\r\n\tat liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:393)\r\n\tat liquibase.Liquibase$16.run(Liquibase.java:2022)\r\n\tat liquibase.Scope.lambda$child$0(Scope.java:180)\r\n\tat liquibase.Scope.child(Scope.java:189)\r\n\tat liquibase.Scope.child(Scope.java:179)\r\n\tat liquibase.Scope.child(Scope.java:158)\r\n\tat liquibase.Liquibase.runInScope(Liquibase.java:2447)\r\n\tat liquibase.Liquibase.listUnrunChangeSets(Liquibase.java:2018)\r\n\tat liquibase.Liquibase.listUnrunChangeSets(Liquibase.java:2009)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.nio.file.FileSystemAlreadyExistsException\r\n\tat com.sun.nio.zipfs.ZipFileSystemProvider.newFileSystem(ZipFileSystemProvider.java:113)\r\n\tat java.nio.file.FileSystems.newFileSystem(FileSystems.java:326)\r\n\tat liquibase.resource.ZipResourceAccessor.&lt;init&gt;(ZipResourceAccessor.java:45)\r\n\t... 29 more\r\n```\r\n\r\n\\`\r\n\r\nFYI: this is not causing any issue in the execution of liquibase\r\n\r\nWhy should it analyze the artifact of the project?","title":"Cannot handle classloader url -warning from liquibase","body":"<p>I'm getting this warning after updating liquibase-core to 4.17.2 version:</p>\n<p>`</p>\n<pre><code>Dec 08, 2022 3:22:00 PM liquibase.resource\nWARNING: Cannot handle classloader url file:/C:/Program%20Files/Java/jdk1.8.0_172/jre/lib/ext/jaccess.jar: null. Operations that need to list files from this location may not work as expected\njava.lang.IllegalArgumentException\n    at liquibase.resource.ZipResourceAccessor.&lt;init&gt;(ZipResourceAccessor.java:48)\n    at liquibase.resource.ZipPathHandler.getResourceAccessor(ZipPathHandler.java:41)\n    at liquibase.resource.PathHandlerFactory.getResourceAccessor(PathHandlerFactory.java:38)\n    at liquibase.resource.ClassLoaderResourceAccessor.configureAdditionalResourceAccessors(ClassLoaderResourceAccessor.java:78)\n    at liquibase.resource.ClassLoaderResourceAccessor.configureAdditionalResourceAccessors(ClassLoaderResourceAccessor.java:92)\n    at liquibase.resource.ClassLoaderResourceAccessor.configureAdditionalResourceAccessors(ClassLoaderResourceAccessor.java:92)\n    at liquibase.resource.ClassLoaderResourceAccessor.configureAdditionalResourceAccessors(ClassLoaderResourceAccessor.java:92)\n    at liquibase.resource.ClassLoaderResourceAccessor.init(ClassLoaderResourceAccessor.java:61)\n    at liquibase.resource.ClassLoaderResourceAccessor.search(ClassLoaderResourceAccessor.java:106)\n    at liquibase.changelog.DatabaseChangeLog.includeAll(DatabaseChangeLog.java:618)\n    at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:462)\n    at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:364)\n    at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:23)\n    at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:408)\n    at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:393)\n    at liquibase.Liquibase$16.run(Liquibase.java:2022)\n    at liquibase.Scope.lambda$child$0(Scope.java:180)\n    at liquibase.Scope.child(Scope.java:189)\n    at liquibase.Scope.child(Scope.java:179)\n    at liquibase.Scope.child(Scope.java:158)\n    at liquibase.Liquibase.runInScope(Liquibase.java:2447)\n    at liquibase.Liquibase.listUnrunChangeSets(Liquibase.java:2018)\n    at liquibase.Liquibase.listUnrunChangeSets(Liquibase.java:2009)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.nio.file.FileSystemAlreadyExistsException\n    at com.sun.nio.zipfs.ZipFileSystemProvider.newFileSystem(ZipFileSystemProvider.java:113)\n    at java.nio.file.FileSystems.newFileSystem(FileSystems.java:326)\n    at liquibase.resource.ZipResourceAccessor.&lt;init&gt;(ZipResourceAccessor.java:45)\n    ... 29 more\n</code></pre>\n<p>`</p>\n<p>FYI: this is not causing any issue in the execution of liquibase</p>\n<p>Why should it analyze the artifact of the project?</p>\n"},{"tags":["java","selenium-webdriver","robotframework","selenium-grid"],"comments":[{"owner":{"account_id":1507856,"reputation":1378,"user_id":1410810,"accept_rate":67,"display_name":"nitin chawda"},"score":0,"creation_date":1427716372,"post_id":29345251,"comment_id":46876987,"body_markdown":"have u tried sikuli? It has its own API&#39;s which can be used along with selenium. http://doc.sikuli.org/faq/030-java-dev.html","body":"have u tried sikuli? It has its own API&#39;s which can be used along with selenium. <a href=\"http://doc.sikuli.org/faq/030-java-dev.html\" rel=\"nofollow noreferrer\">doc.sikuli.org/faq/030-java-dev.html</a>"},{"owner":{"account_id":5853922,"reputation":2847,"user_id":4611801,"display_name":"aholt"},"score":0,"creation_date":1427723504,"post_id":29345251,"comment_id":46881760,"body_markdown":"sikuli requires an install, and won&#39;t work if running the tests headless on the server.   Integrating sikuli into selenium tests can, at times, be the only option, but it invariably does cause tests to become more brittle and less portable.","body":"sikuli requires an install, and won&#39;t work if running the tests headless on the server.   Integrating sikuli into selenium tests can, at times, be the only option, but it invariably does cause tests to become more brittle and less portable."}],"answers":[{"tags":[],"owner":{"account_id":5853922,"reputation":2847,"user_id":4611801,"display_name":"aholt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427723681,"creation_date":1427723681,"answer_id":29348056,"question_id":29345251,"body_markdown":"Take a look at my answer [here][1].  The code is in C#, but it outlines the workaround I used for uploading files inside a selenium test.  Note:  no third-party tools were required.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/29257350/4611801","title":"How to upload a picture using Selenium?","body":"<p>Take a look at my answer <a href=\"https://stackoverflow.com/a/29257350/4611801\">here</a>.  The code is in C#, but it outlines the workaround I used for uploading files inside a selenium test.  Note:  no third-party tools were required.</p>\n"},{"tags":[],"owner":{"display_name":"user18264677"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670589728,"creation_date":1670589728,"answer_id":74743318,"question_id":29345251,"body_markdown":"-&gt; Sendkeys() can be used to upload a file or picture using selenium and Below has given 2 ways of uploading pictures \r\n\r\n-&gt; We can use the below code if want to upload a file from the system\r\n\r\n \tdriver.findElement(By.id(&quot;uploadfile&quot;).sendkeys(&quot;path of the file&quot;);\r\n\r\n[uploading picture from system with path][1]\r\n\r\n-&gt; We can use the below code if want to upload a file stored in the project folder\r\n\r\n\tString projectpath = System.getProperty(&quot;user.dir&quot;); //will retrieve the path of the project in workspace\r\n    driver.findElement(By.id(&quot;uploadfile&quot;)).sendKeys(projectpath+&quot;\\\\path of the folder&quot;); //path of the file which stored in system\r\n\r\n[created folder in project and uploaded image][2]\r\n\r\n[uploading picture from project folder path][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jdiRb.png\r\n  [2]: https://i.stack.imgur.com/uMEoh.png\r\n  [3]: https://i.stack.imgur.com/8bjIE.png","title":"How to upload a picture using Selenium?","body":"<p>-&gt; Sendkeys() can be used to upload a file or picture using selenium and Below has given 2 ways of uploading pictures</p>\n<p>-&gt; We can use the below code if want to upload a file from the system</p>\n<pre><code>driver.findElement(By.id(&quot;uploadfile&quot;).sendkeys(&quot;path of the file&quot;);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jdiRb.png\" rel=\"nofollow noreferrer\">uploading picture from system with path</a></p>\n<p>-&gt; We can use the below code if want to upload a file stored in the project folder</p>\n<pre><code>String projectpath = System.getProperty(&quot;user.dir&quot;); //will retrieve the path of the project in workspace\ndriver.findElement(By.id(&quot;uploadfile&quot;)).sendKeys(projectpath+&quot;\\\\path of the folder&quot;); //path of the file which stored in system\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/uMEoh.png\" rel=\"nofollow noreferrer\">created folder in project and uploaded image</a></p>\n<p><a href=\"https://i.stack.imgur.com/8bjIE.png\" rel=\"nofollow noreferrer\">uploading picture from project folder path</a></p>\n"}],"owner":{"account_id":3069338,"reputation":139,"user_id":2600375,"accept_rate":0,"display_name":"Sujay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":554,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1670589728,"creation_date":1427715550,"question_id":29345251,"body_markdown":"I have to upload a .JPG image from a specified folder. Sendkeys(PATH) is not working. The robot is also not working. \r\nPlease suggest me some other tool like Robot where I can use its .jar files in my maven project. I have to run the code on the server using grid so no installers, please. Any external or internal Java class would be great.","title":"How to upload a picture using Selenium?","body":"<p>I have to upload a .JPG image from a specified folder. Sendkeys(PATH) is not working. The robot is also not working. \nPlease suggest me some other tool like Robot where I can use its .jar files in my maven project. I have to run the code on the server using grid so no installers, please. Any external or internal Java class would be great.</p>\n"},{"tags":["java","spring-boot","microservices","netflix-eureka","amazon-app-runner"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1671017529,"post_id":74743205,"comment_id":132004982,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74743205/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":9518400,"reputation":3,"user_id":7073997,"display_name":"abhishek g"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670589119,"creation_date":1670589119,"answer_id":74743205,"question_id":74655372,"body_markdown":"This has been resolved, apparently the issue was resolved when we applied correct security group configuration for our services.","title":"Eureka Discovery Server not registering client","body":"<p>This has been resolved, apparently the issue was resolved when we applied correct security group configuration for our services.</p>\n"}],"owner":{"account_id":9518400,"reputation":3,"user_id":7073997,"display_name":"abhishek g"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74743205,"answer_count":1,"score":0,"last_activity_date":1670589119,"creation_date":1669981944,"question_id":74655372,"body_markdown":"We have few microservices using Eureka discovery server. In local, everything works fine but when we deploy it on AWS App Runner, it is not registering any of the microservices. Any suggestions what could be wrong here? \r\n\r\nBelow is the sample config file that we have in our microservices-\r\n\r\n    `eureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/(we are replacing this with      the discovery service URL)\r\n    eureka.instance.prefer-ip-address=true\r\n    eureka.instance.prefer-ip-address=true\r\n    spring.cloud.gateway.discovery.locator.enabled=true\r\n    spring.cloud.gateway.discovery.locator.lowerCaseServiceId=true\r\n    spring.cloud.discovery.enabled=true\r\n    eureka.instance.hostname=localhost(this is being replaced with discovery service domain during deployment)`\r\n\r\n\r\nHere is our discovery service app&#39;s sample config file-\r\n\r\n    `server.port=8761\r\n    eureka.client.register-with-eureka=false\r\n    eureka.client.fetch-registry=false\r\n    eureka.server.waitTimeInMsWhenSyncEmpty=0\r\n    eureka.instance.hostname=localhost`\r\n\r\n\r\n\r\n\r\n\r\nWe tried updating the config files as mentioned in the attached sample code but still the discovery service app is not registering any of the instances of microservices.","title":"Eureka Discovery Server not registering client","body":"<p>We have few microservices using Eureka discovery server. In local, everything works fine but when we deploy it on AWS App Runner, it is not registering any of the microservices. Any suggestions what could be wrong here?</p>\n<p>Below is the sample config file that we have in our microservices-</p>\n<pre><code>`eureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/(we are replacing this with      the discovery service URL)\neureka.instance.prefer-ip-address=true\neureka.instance.prefer-ip-address=true\nspring.cloud.gateway.discovery.locator.enabled=true\nspring.cloud.gateway.discovery.locator.lowerCaseServiceId=true\nspring.cloud.discovery.enabled=true\neureka.instance.hostname=localhost(this is being replaced with discovery service domain during deployment)`\n</code></pre>\n<p>Here is our discovery service app's sample config file-</p>\n<pre><code>`server.port=8761\neureka.client.register-with-eureka=false\neureka.client.fetch-registry=false\neureka.server.waitTimeInMsWhenSyncEmpty=0\neureka.instance.hostname=localhost`\n</code></pre>\n<p>We tried updating the config files as mentioned in the attached sample code but still the discovery service app is not registering any of the instances of microservices.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","event-listener"],"owner":{"account_id":23240238,"reputation":35,"user_id":17329668,"display_name":"Dragos123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670588895,"creation_date":1670588895,"question_id":74743166,"body_markdown":"So I was reading about `EventListener` (beforeSave, afterSave, etc)  [here][1], when it comes to validation, and I can&#39;t really figure it out why it is used and how. \r\nFor example, for my own app, for an entity named `curse`, I have a method `validateCursa()` included in `curseService` class that validate the details of a `curse` object and throws custom exceptions.\r\n\r\nexample:\r\n\r\n**CurseController:**\r\n```\r\n    @PostMapping(path=&quot;/add&quot;) // Map ONLY POST Requests\r\n    public @ResponseBody String addNewCursa (@Valid @RequestBody curse C2,\r\n                                             BindingResult bindingResult)  {\r\n\r\n       com.example.demo.models.curseService.validateCursa(C2);\r\n       if(bindingResult.hasErrors()) {\r\n           \r\n           return &quot;error&quot;;\r\n       }\r\n        curseService.addCursa(C2);\r\n        return &quot;Saved&quot;;\r\n    }\r\n\r\n``` \r\n**curseService:**\r\n```\r\npublic static void validateCursa(curse c){\r\n   some validation here\r\n}\r\n\r\npublic curse addCursa(curse c){\r\n\r\n\r\n        return curseRepository.save(c);\r\n\r\n    }\r\n```\r\n\r\nSo my question is: What really does that EventListener/validation do, when should it be used and why? Like, should I re-design my validation process and use these EventListeners?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/rest/docs/current/reference/html/#events","title":"EventListener - proper way of validation springboot?","body":"<p>So I was reading about <code>EventListener</code> (beforeSave, afterSave, etc)  <a href=\"https://docs.spring.io/spring-data/rest/docs/current/reference/html/#events\" rel=\"nofollow noreferrer\">here</a>, when it comes to validation, and I can't really figure it out why it is used and how.\nFor example, for my own app, for an entity named <code>curse</code>, I have a method <code>validateCursa()</code> included in <code>curseService</code> class that validate the details of a <code>curse</code> object and throws custom exceptions.</p>\n<p>example:</p>\n<p><strong>CurseController:</strong></p>\n<pre><code>    @PostMapping(path=&quot;/add&quot;) // Map ONLY POST Requests\n    public @ResponseBody String addNewCursa (@Valid @RequestBody curse C2,\n                                             BindingResult bindingResult)  {\n\n       com.example.demo.models.curseService.validateCursa(C2);\n       if(bindingResult.hasErrors()) {\n           \n           return &quot;error&quot;;\n       }\n        curseService.addCursa(C2);\n        return &quot;Saved&quot;;\n    }\n\n</code></pre>\n<p><strong>curseService:</strong></p>\n<pre><code>public static void validateCursa(curse c){\n   some validation here\n}\n\npublic curse addCursa(curse c){\n\n\n        return curseRepository.save(c);\n\n    }\n</code></pre>\n<p>So my question is: What really does that EventListener/validation do, when should it be used and why? Like, should I re-design my validation process and use these EventListeners?</p>\n"},{"tags":["java","web-services","cxf","windows-authentication","waffle"],"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1670659039,"post_id":74743163,"comment_id":131928268,"body_markdown":"You may want to read about [why &#39;Can somebody help me?&#39; is not an actual question](https://meta.stackoverflow.com/a/284237/11107541).","body":"You may want to read about <a href=\"https://meta.stackoverflow.com/a/284237/11107541\">why &#39;Can somebody help me?&#39; is not an actual question</a>."}],"owner":{"account_id":27201070,"reputation":1,"user_id":20733305,"display_name":"Farhat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670588887,"creation_date":1670588887,"question_id":74743163,"body_markdown":"We are using waffle for NTLM login in our application. we are able to successfully achieve the windows authentication but with waffle, Apache CXF is not when Service.create method tries to get the WSDL file by hitting URL it gets a 401 error. please us to figure out how can we make cxf workable with waffles.\r\n\r\nYour help will be appreciated. \r\n\r\n\r\nwe had already tried jcifs but it not working in our case.","title":"Apache CXF not working with waffle windows authentication framework","body":"<p>We are using waffle for NTLM login in our application. we are able to successfully achieve the windows authentication but with waffle, Apache CXF is not when Service.create method tries to get the WSDL file by hitting URL it gets a 401 error. please us to figure out how can we make cxf workable with waffles.</p>\n<p>Your help will be appreciated.</p>\n<p>we had already tried jcifs but it not working in our case.</p>\n"},{"tags":["java","hibernate","hql"],"answers":[{"comments":[{"owner":{"account_id":264181,"reputation":3163,"user_id":550271,"accept_rate":80,"display_name":"z7sg Ѫ"},"score":8,"creation_date":1299620086,"post_id":5238440,"comment_id":5896514,"body_markdown":"Shouldn&#39;t you subtract 3 hours from now and look for `date &lt; :date`?","body":"Shouldn&#39;t you subtract 3 hours from now and look for <code>date &lt; :date</code>?"},{"owner":{"account_id":3311268,"reputation":2705,"user_id":2784721,"accept_rate":93,"display_name":"Amit Kumar"},"score":0,"creation_date":1445792560,"post_id":5238440,"comment_id":54461717,"body_markdown":"I ran into similar problem and in my case DB server time and App Server time is different so this solution is not valid till I am setting the timestamp field with the time of application server.","body":"I ran into similar problem and in my case DB server time and App Server time is different so this solution is not valid till I am setting the timestamp field with the time of application server."},{"owner":{"account_id":4232566,"reputation":1533,"user_id":3464596,"display_name":"Hrabosch"},"score":1,"creation_date":1565940107,"post_id":5238440,"comment_id":101507941,"body_markdown":"Using time from application node to get time difference on db node. That&#39;s not a good solution. Use now() db method (based on db engine) and date_sbu with interval if it is needed would be more suitable. https://www.w3schools.com/sql/func_mysql_date_sub.asp","body":"Using time from application node to get time difference on db node. That&#39;s not a good solution. Use now() db method (based on db engine) and date_sbu with interval if it is needed would be more suitable. <a href=\"https://www.w3schools.com/sql/func_mysql_date_sub.asp\" rel=\"nofollow noreferrer\">w3schools.com/sql/func_mysql_date_sub.asp</a>"},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1670877959,"post_id":5238440,"comment_id":131970838,"body_markdown":"`q.setCalendarDate(&quot;date&quot;, cal);` is deprecated now. You can use `q.setParameter(&quot;date&quot;, cal.getTime());`","body":"<code>q.setCalendarDate(&quot;date&quot;, cal);</code> is deprecated now. You can use <code>q.setParameter(&quot;date&quot;, cal.getTime());</code>"}],"tags":[],"owner":{"account_id":112952,"reputation":73174,"user_id":297762,"accept_rate":87,"display_name":"Robby Pond"},"comment_count":4,"down_vote_count":2,"up_vote_count":9,"is_accepted":true,"score":7,"last_activity_date":1670588647,"creation_date":1299619065,"answer_id":5238440,"question_id":5238369,"body_markdown":"This should work.\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.add(Calendar.HOUR_OF_DAY, -3);\r\n    \r\n    Query q = session.createQuery(&quot;from table where date &lt; :date&quot;);\r\n    q.setCalendarDate(&quot;date&quot;, cal);\r\n    q.list();\r\n\r\n","title":"Hibernate HQL query for finding entries older than 3 hours","body":"<p>This should work.</p>\n<pre><code>Calendar cal = Calendar.getInstance();\ncal.add(Calendar.HOUR_OF_DAY, -3);\n\nQuery q = session.createQuery(&quot;from table where date &lt; :date&quot;);\nq.setCalendarDate(&quot;date&quot;, cal);\nq.list();\n</code></pre>\n"}],"owner":{"account_id":212390,"reputation":26536,"user_id":465179,"accept_rate":99,"display_name":"MatBanik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11130,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":5238440,"answer_count":1,"score":6,"last_activity_date":1670588647,"creation_date":1299618644,"question_id":5238369,"body_markdown":"How should I go about setting up HQL condition that would select all the object who&#39;s **date** property is older than **3 hours** from **now**. ","title":"Hibernate HQL query for finding entries older than 3 hours","body":"<p>How should I go about setting up HQL condition that would select all the object who's <strong>date</strong> property is older than <strong>3 hours</strong> from <strong>now</strong>. </p>\n"},{"tags":["java","camera","qr-code","hikvision"],"comments":[{"owner":{"account_id":106392,"reputation":1092,"user_id":283434,"display_name":"Roark"},"score":0,"creation_date":1646634722,"post_id":70084218,"comment_id":126163319,"body_markdown":"Hey @jaVaBoy did you ever wrk this out? I have the same issue now.","body":"Hey @jaVaBoy did you ever wrk this out? I have the same issue now."},{"owner":{"account_id":310996,"reputation":429,"user_id":624321,"display_name":"JaVaBoy"},"score":0,"creation_date":1648992925,"post_id":70084218,"comment_id":126758160,"body_markdown":"@Roark , No success, I&#39;ve just left it ! Didn&#39;t find anything to help. I decompiled hik-connect android app. unfortunately, It is an react-native app so couldn&#39;t understand how it generate or read QR code.","body":"@Roark , No success, I&#39;ve just left it ! Didn&#39;t find anything to help. I decompiled hik-connect android app. unfortunately, It is an react-native app so couldn&#39;t understand how it generate or read QR code."},{"owner":{"account_id":106392,"reputation":1092,"user_id":283434,"display_name":"Roark"},"score":0,"creation_date":1649136932,"post_id":70084218,"comment_id":126792800,"body_markdown":"Thank you! I took a chance and just created a normal card and turned the card number into a qr code using another library, turns out the hardware the client has does not support QR code reading :D So don&#39;t even know if it would&#39;ve worked! Talk about a waste of time. Cheers!","body":"Thank you! I took a chance and just created a normal card and turned the card number into a qr code using another library, turns out the hardware the client has does not support QR code reading :D So don&#39;t even know if it would&#39;ve worked! Talk about a waste of time. Cheers!"}],"owner":{"account_id":310996,"reputation":429,"user_id":624321,"display_name":"JaVaBoy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":574,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670588541,"creation_date":1637684038,"question_id":70084218,"body_markdown":"I am creating a simple Java client for the HIKVISION cameras. (Primarily for Linux).\r\n\r\nI want to add a feature to let the user generate a QR code base of the camera list (This feature is already exist in Hikevision apps Windows and android).\r\n\r\nI read all Hikvision SDK documentation but I could not find anywhere about generating QR Code.\r\n\r\nI can generate QR but the question is what data I have to use to generate a QR that is usable by original Hikvision apps as well.\r\n\r\nThanks\r\n\r\n\r\n\r\n","title":"How to generate QR to use with Hikvision Camera","body":"<p>I am creating a simple Java client for the HIKVISION cameras. (Primarily for Linux).</p>\n<p>I want to add a feature to let the user generate a QR code base of the camera list (This feature is already exist in Hikevision apps Windows and android).</p>\n<p>I read all Hikvision SDK documentation but I could not find anywhere about generating QR Code.</p>\n<p>I can generate QR but the question is what data I have to use to generate a QR that is usable by original Hikvision apps as well.</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","mybatis","junit5"],"answers":[{"comments":[{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":1,"creation_date":1495820780,"post_id":44204171,"comment_id":75427304,"body_markdown":"Would you mind [creating an issue in the JUnit 5 project](https://github.com/junit-team/junit5/issues/new), so some","body":"Would you mind <a href=\"https://github.com/junit-team/junit5/issues/new\" rel=\"nofollow noreferrer\">creating an issue in the JUnit 5 project</a>, so some"},{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":0,"creation_date":1495873330,"post_id":44204171,"comment_id":75440622,"body_markdown":"Oh, damn I forgot to edit my comment. Argh! I accidentally linked to the wrong project, [this one](https://github.com/sbrannen/spring-test-junit5) might have been better. But we will see...","body":"Oh, damn I forgot to edit my comment. Argh! I accidentally linked to the wrong project, <a href=\"https://github.com/sbrannen/spring-test-junit5\" rel=\"nofollow noreferrer\">this one</a> might have been better. But we will see..."},{"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"score":1,"creation_date":1495973575,"post_id":44204171,"comment_id":75464283,"body_markdown":"Neither JUnit 5 nor my personal `spring-test-junit5` repository is the appropriate place to raise such an issue. The correct place is Spring&#39;s JIRA issue tracker. ;-)","body":"Neither JUnit 5 nor my personal <code>spring-test-junit5</code> repository is the appropriate place to raise such an issue. The correct place is Spring&#39;s JIRA issue tracker. ;-)"}],"tags":[],"owner":{"account_id":4685587,"reputation":749,"user_id":3793078,"display_name":"Yeongjun Kim"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1495809130,"creation_date":1495809130,"answer_id":44204171,"question_id":44203244,"body_markdown":"I solved it in the following way..\r\n\r\n\t@SpringJUnitJupiterConfig(classes = {RepositoryTestConfig.class})\r\n\t@MapperScan\r\n\t@Rollback\r\n\t@Transactional\r\n\tpublic class TestClass {\r\n\t    @Autowired\r\n\t    private TestMapper testMapper;\r\n\t\r\n\t    @BeforeEach\r\n\t    void init() {\r\n\t        User user = new User();\r\n\t        testMapper.insert(user);    \r\n\t    }\r\n\t\r\n\t    @Nested\r\n\t    @SpringJUnitJupiterConfig(classes = {RepositoryTestConfig.class})\r\n\t\t@MapperScan\r\n\t\t@Rollback\r\n\t\t@Transactional\r\n\t    class WhenExistData {\r\n\t        @Test\r\n\t        public void test2() {\r\n\t        }   \r\n\t    }\r\n\t}","title":"Transaction roll back is not working in test case in @Nested class of JUnit5","body":"<p>I solved it in the following way..</p>\n\n<pre><code>@SpringJUnitJupiterConfig(classes = {RepositoryTestConfig.class})\n@MapperScan\n@Rollback\n@Transactional\npublic class TestClass {\n    @Autowired\n    private TestMapper testMapper;\n\n    @BeforeEach\n    void init() {\n        User user = new User();\n        testMapper.insert(user);    \n    }\n\n    @Nested\n    @SpringJUnitJupiterConfig(classes = {RepositoryTestConfig.class})\n    @MapperScan\n    @Rollback\n    @Transactional\n    class WhenExistData {\n        @Test\n        public void test2() {\n        }   \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1495973473,"creation_date":1495973473,"answer_id":44227179,"question_id":44203244,"body_markdown":"This is to be expected: the _Spring TestContext Framework_ has never supported &quot;inheritance&quot; for nested test classes.\r\n\r\nThus your &quot;work around&quot; is actually the correct way to achieve your goal at this point in time.\r\n\r\nNote, however, that I may add support for &quot;pseudo-inheritance&quot; for _nested_ test classes in conjunction with [SPR-15366][1].\r\n\r\nRegards,\r\n\r\nSam (_author of the Spring TestContext Framework_)\r\n\r\n\r\n  [1]: https://jira.spring.io/browse/SPR-15366 &quot;SPR-15366&quot;","title":"Transaction roll back is not working in test case in @Nested class of JUnit5","body":"<p>This is to be expected: the <em>Spring TestContext Framework</em> has never supported \"inheritance\" for nested test classes.</p>\n\n<p>Thus your \"work around\" is actually the correct way to achieve your goal at this point in time.</p>\n\n<p>Note, however, that I may add support for \"pseudo-inheritance\" for <em>nested</em> test classes in conjunction with <a href=\"https://jira.spring.io/browse/SPR-15366\" rel=\"noreferrer\" title=\"SPR-15366\">SPR-15366</a>.</p>\n\n<p>Regards,</p>\n\n<p>Sam (<em>author of the Spring TestContext Framework</em>)</p>\n"},{"tags":[],"owner":{"account_id":6360824,"reputation":854,"user_id":4936371,"display_name":"Huang Jinlong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637757292,"creation_date":1637757292,"answer_id":70096177,"question_id":44203244,"body_markdown":"I solved it in the following way\r\n\r\n```java\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.test.annotation.Rollback;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\n// JUnit5\r\n@SpringBootTest\r\npublic class TestClass {\r\n\r\n    @Resource\r\n    private TestMapper testMapper;\r\n\r\n    @Test\r\n    @Rollback\r\n    @Transactional\r\n    public void createByTimerId() {\r\n        Assertions.assertEquals(1, testMapper.insert());\r\n    }\r\n}\r\n\r\n```","title":"Transaction roll back is not working in test case in @Nested class of JUnit5","body":"<p>I solved it in the following way</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.test.annotation.Rollback;\nimport org.springframework.transaction.annotation.Transactional;\n\n// JUnit5\n@SpringBootTest\npublic class TestClass {\n\n    @Resource\n    private TestMapper testMapper;\n\n    @Test\n    @Rollback\n    @Transactional\n    public void createByTimerId() {\n        Assertions.assertEquals(1, testMapper.insert());\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1993185,"reputation":82,"user_id":1786721,"display_name":"paulo.bing"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670588537,"creation_date":1670588537,"answer_id":74743089,"question_id":44203244,"body_markdown":"Using the annotation [NestedTestConfiguration][1] from Spring on the enclosing class did the trick for me. It seems that without it, the nested class won&#39;t inherit the config.\r\n\r\n    @NestedTestConfiguration(NestedTestConfiguration.EnclosingConfiguration.INHERIT)\r\n\r\nSo maybe on your TestClass you would have your current annotations and then:\r\n\r\n    @NestedTestConfiguration(NestedTestConfiguration.EnclosingConfiguration.INHERIT)\r\n    public class TestClass {\r\n    ...\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/NestedTestConfiguration.html\r\n","title":"Transaction roll back is not working in test case in @Nested class of JUnit5","body":"<p>Using the annotation <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/NestedTestConfiguration.html\" rel=\"nofollow noreferrer\">NestedTestConfiguration</a> from Spring on the enclosing class did the trick for me. It seems that without it, the nested class won't inherit the config.</p>\n<pre><code>@NestedTestConfiguration(NestedTestConfiguration.EnclosingConfiguration.INHERIT)\n</code></pre>\n<p>So maybe on your TestClass you would have your current annotations and then:</p>\n<pre><code>@NestedTestConfiguration(NestedTestConfiguration.EnclosingConfiguration.INHERIT)\npublic class TestClass {\n...\n</code></pre>\n"}],"owner":{"account_id":4685587,"reputation":749,"user_id":3793078,"display_name":"Yeongjun Kim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5675,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":44204171,"answer_count":4,"score":9,"last_activity_date":1670588537,"creation_date":1495806409,"question_id":44203244,"body_markdown":"I use spring-boot, JUnit5, Mybatis.\r\n\t\r\n\t@SpringJUnitJupiterConfig(classes = {RepositoryTestConfig.class})\r\n\t@MapperScan\r\n\t@Rollback\r\n\t@Transactional\r\n\tpublic class TestClass {\r\n\t\t@Autowired\r\n\t\tprivate TestMapper testMapper;\r\n\t\t\r\n\t\t@BeforeEach\r\n\t\tvoid init() {\r\n\t\t\tUser user = new User();\r\n\t\t\ttestMapper.insert(user);\t\r\n\t\t}\r\n\t\t\r\n\t\t@Test\r\n\t\tpublic void test1() {\r\n\t\t\t// (1) success rollback\r\n\t\t}\r\n\t\t\r\n\t\t@Nested\r\n\t\tclass WhenExistData {\r\n\t\t\t@Test\r\n\t\t\tpublic void test2() {\r\n\t\t\t\t// (2) rollback not working\r\n\t\t\t}\t\r\n\t\t}\r\n\t}\r\n\t\r\n(1) is working rollback. And the following log is output.\r\n\r\n\t2017-05-26 22:21:29 [INFO ](TransactionContext.java:136) Rolled back transaction for test context ...\r\n\t\r\nBut, (2) is not working. I want to be able to roll back into `@Nested`.","title":"Transaction roll back is not working in test case in @Nested class of JUnit5","body":"<p>I use spring-boot, JUnit5, Mybatis.</p>\n\n<pre><code>@SpringJUnitJupiterConfig(classes = {RepositoryTestConfig.class})\n@MapperScan\n@Rollback\n@Transactional\npublic class TestClass {\n    @Autowired\n    private TestMapper testMapper;\n\n    @BeforeEach\n    void init() {\n        User user = new User();\n        testMapper.insert(user);    \n    }\n\n    @Test\n    public void test1() {\n        // (1) success rollback\n    }\n\n    @Nested\n    class WhenExistData {\n        @Test\n        public void test2() {\n            // (2) rollback not working\n        }   \n    }\n}\n</code></pre>\n\n<p>(1) is working rollback. And the following log is output.</p>\n\n<pre><code>2017-05-26 22:21:29 [INFO ](TransactionContext.java:136) Rolled back transaction for test context ...\n</code></pre>\n\n<p>But, (2) is not working. I want to be able to roll back into <code>@Nested</code>.</p>\n"},{"tags":["java","azure-functions","azure-authentication","azure-java-sdk","azure-http-trigger"],"answers":[{"comments":[{"owner":{"account_id":25813452,"reputation":9,"user_id":19553779,"display_name":"Venkatesh"},"score":0,"creation_date":1670590496,"post_id":74743070,"comment_id":131914898,"body_markdown":"Hi pravalika Thanks! Already Iam using OAuth But, my clients asking only basic auth.... Please help","body":"Hi pravalika Thanks! Already Iam using OAuth But, my clients asking only basic auth.... Please help"},{"owner":{"account_id":25813452,"reputation":9,"user_id":19553779,"display_name":"Venkatesh"},"score":0,"creation_date":1670824871,"post_id":74743070,"comment_id":131954477,"body_markdown":"Hi Pravalika for Your solution can I change anything in code level?","body":"Hi Pravalika for Your solution can I change anything in code level?"}],"tags":[],"owner":{"account_id":26331226,"reputation":3311,"user_id":19991670,"display_name":"Pravallika KV"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670588456,"creation_date":1670588456,"answer_id":74743070,"question_id":74734413,"body_markdown":"\r\n- For Authorization to your function app, one of the methods you can use is the Authorization Level keys appending at the end of the Function URL.*\r\n\r\n![enter image description here](https://i.stack.imgur.com/GQhC6.png)\r\n\r\n- You can find the Host Keys and System Keys at the App Keys in Azure Function App.\r\n\r\n![enter image description here](https://i.stack.imgur.com/zwsum.png)\r\n\r\nRefer to this [MSDOC](https://learn.microsoft.com/en-us/azure/azure-functions/security-concepts?tabs=v4#authenticationauthorization) and this SO [Thread](https://stackoverflow.com/q/70444686/16630138) for more information on configuring the Authentication and Authorization for securing the Azure Functions.","title":"How to add Basic Auth for Azure HttpTrigger Java Function","body":"<ul>\n<li>For Authorization to your function app, one of the methods you can use is the Authorization Level keys appending at the end of the Function URL.*</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/GQhC6.png\" alt=\"enter image description here\" /></p>\n<ul>\n<li>You can find the Host Keys and System Keys at the App Keys in Azure Function App.</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/zwsum.png\" alt=\"enter image description here\" /></p>\n<p>Refer to this <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/security-concepts?tabs=v4#authenticationauthorization\" rel=\"nofollow noreferrer\">MSDOC</a> and this SO <a href=\"https://stackoverflow.com/q/70444686/16630138\">Thread</a> for more information on configuring the Authentication and Authorization for securing the Azure Functions.</p>\n"}],"owner":{"account_id":25813452,"reputation":9,"user_id":19553779,"display_name":"Venkatesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670588456,"creation_date":1670521860,"question_id":74734413,"body_markdown":"I have created a sample Azure HTTP Trigger Java Function using Visual Studio Code and Deployed it to Azure Function App.  Now it is Working Fine in Postman without authorization \r\n\r\n**Postman Basic Auth Screenshot**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    package com.function;\r\n    \r\n    import com.microsoft.azure.functions.ExecutionContext;\r\n    import com.microsoft.azure.functions.HttpMethod;\r\n    import com.microsoft.azure.functions.HttpRequestMessage;\r\n    import com.microsoft.azure.functions.HttpResponseMessage;\r\n    import com.microsoft.azure.functions.HttpStatus;\r\n    import com.microsoft.azure.functions.annotation.AuthorizationLevel;\r\n    import com.microsoft.azure.functions.annotation.FunctionName;\r\n    import com.microsoft.azure.functions.annotation.HttpTrigger;\r\n    \r\n    import java.util.Optional;\r\n    \r\n    /**\r\n     * Azure Functions with HTTP Trigger.\r\n     */\r\n    public class Function {\r\n        /**\r\n         * This function listens at endpoint &quot;/api/HttpExample&quot;. Two ways to invoke it using &quot;curl&quot; command in bash:\r\n         * 1. curl -d &quot;HTTP Body&quot; {your host}/api/HttpExample\r\n         * 2. curl &quot;{your host}/api/HttpExample?name=HTTP%20Query&quot;\r\n         */\r\n        @FunctionName(&quot;HttpExample&quot;)\r\n        public HttpResponseMessage run(\r\n                @HttpTrigger(\r\n                    name = &quot;req&quot;,\r\n                    methods = {HttpMethod.GET, HttpMethod.POST},\r\n                    authLevel = AuthorizationLevel.ANONYMOUS)\r\n                    HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\r\n                final ExecutionContext context) {\r\n            context.getLogger().info(&quot;Java HTTP trigger processed a request.&quot;);\r\n    \r\n            // Parse query parameter\r\n            final String query = request.getQueryParameters().get(&quot;name&quot;);\r\n            final String name = request.getBody().orElse(query);\r\n    \r\n      \r\n    \r\n              if (name == null) {\r\n                    return request.createResponseBuilder(HttpStatus.BAD_REQUEST).body(&quot;Please pass a name on the query string or in the request body&quot;).build();\r\n                }\r\n    \r\n         else {\r\n                        return request.createResponseBuilder(HttpStatus.OK).body(&quot;Hello, &quot; + name).build();\r\n            \r\n                    }\r\n            }\r\n        }\r\n    \r\n\r\nNow I need to add basic auth to that Function.  How do I accomplish this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PErae.png","title":"How to add Basic Auth for Azure HttpTrigger Java Function","body":"<p>I have created a sample Azure HTTP Trigger Java Function using Visual Studio Code and Deployed it to Azure Function App.  Now it is Working Fine in Postman without authorization</p>\n<p><strong>Postman Basic Auth Screenshot</strong></p>\n<p><a href=\"https://i.stack.imgur.com/PErae.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PErae.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>package com.function;\n\nimport com.microsoft.azure.functions.ExecutionContext;\nimport com.microsoft.azure.functions.HttpMethod;\nimport com.microsoft.azure.functions.HttpRequestMessage;\nimport com.microsoft.azure.functions.HttpResponseMessage;\nimport com.microsoft.azure.functions.HttpStatus;\nimport com.microsoft.azure.functions.annotation.AuthorizationLevel;\nimport com.microsoft.azure.functions.annotation.FunctionName;\nimport com.microsoft.azure.functions.annotation.HttpTrigger;\n\nimport java.util.Optional;\n\n/**\n * Azure Functions with HTTP Trigger.\n */\npublic class Function {\n    /**\n     * This function listens at endpoint &quot;/api/HttpExample&quot;. Two ways to invoke it using &quot;curl&quot; command in bash:\n     * 1. curl -d &quot;HTTP Body&quot; {your host}/api/HttpExample\n     * 2. curl &quot;{your host}/api/HttpExample?name=HTTP%20Query&quot;\n     */\n    @FunctionName(&quot;HttpExample&quot;)\n    public HttpResponseMessage run(\n            @HttpTrigger(\n                name = &quot;req&quot;,\n                methods = {HttpMethod.GET, HttpMethod.POST},\n                authLevel = AuthorizationLevel.ANONYMOUS)\n                HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\n            final ExecutionContext context) {\n        context.getLogger().info(&quot;Java HTTP trigger processed a request.&quot;);\n\n        // Parse query parameter\n        final String query = request.getQueryParameters().get(&quot;name&quot;);\n        final String name = request.getBody().orElse(query);\n\n  \n\n          if (name == null) {\n                return request.createResponseBuilder(HttpStatus.BAD_REQUEST).body(&quot;Please pass a name on the query string or in the request body&quot;).build();\n            }\n\n     else {\n                    return request.createResponseBuilder(HttpStatus.OK).body(&quot;Hello, &quot; + name).build();\n        \n                }\n        }\n    }\n</code></pre>\n<p>Now I need to add basic auth to that Function.  How do I accomplish this?</p>\n"},{"tags":["java","spring","spring-boot","authentication","spring-security"],"comments":[{"owner":{"account_id":4552102,"reputation":175,"user_id":3696953,"display_name":"duppydodah"},"score":0,"creation_date":1613681285,"post_id":66267573,"comment_id":117158327,"body_markdown":"Are you sure that has to do with Spring Security ? That sign-in page seems unrelated but, if it was it would probably be due to .formLogin(). Additionally, not sure if it makes a difference but, I always use &#39;/**&#39; to authenticate all requests for any URI","body":"Are you sure that has to do with Spring Security ? That sign-in page seems unrelated but, if it was it would probably be due to .formLogin(). Additionally, not sure if it makes a difference but, I always use &#39;/**&#39; to authenticate all requests for any URI"},{"owner":{"account_id":14358183,"reputation":339,"user_id":10371394,"display_name":"Sebastian Lore"},"score":0,"creation_date":1613682694,"post_id":66267573,"comment_id":117158831,"body_markdown":"I guess using  `/**` will allow making POST requests to endpoints like `/test`, `/test/test/test`, so it&#39;s undesirable behavior for me.","body":"I guess using  <code>&#47;**</code> will allow making POST requests to endpoints like <code>&#47;test</code>, <code>&#47;test&#47;test&#47;test</code>, so it&#39;s undesirable behavior for me."},{"owner":{"account_id":14358183,"reputation":339,"user_id":10371394,"display_name":"Sebastian Lore"},"score":0,"creation_date":1613682908,"post_id":66267573,"comment_id":117158910,"body_markdown":"@user3696953 Not 100% sure it&#39;s related to Spring Security, I&#39;m just getting started. But it seems (to me) like Spring Security is completely ignoring my `.antMatchers(HttpMethod.POST, &quot;/&quot;).permitAll()` line and therefore returning login page due to `.anyRequest().authenticated()`.","body":"@user3696953 Not 100% sure it&#39;s related to Spring Security, I&#39;m just getting started. But it seems (to me) like Spring Security is completely ignoring my <code>.antMatchers(HttpMethod.POST, &quot;&#47;&quot;).permitAll()</code> line and therefore returning login page due to <code>.anyRequest().authenticated()</code>."},{"owner":{"account_id":14358183,"reputation":339,"user_id":10371394,"display_name":"Sebastian Lore"},"score":0,"creation_date":1613683324,"post_id":66267573,"comment_id":117159047,"body_markdown":"@user3696953 If I disable the login page with `.formLogin().disable()`, `403 Forbidden` is returned in Postman.","body":"@user3696953 If I disable the login page with <code>.formLogin().disable()</code>, <code>403 Forbidden</code> is returned in Postman."},{"owner":{"account_id":4552102,"reputation":175,"user_id":3696953,"display_name":"duppydodah"},"score":0,"creation_date":1613683411,"post_id":66267573,"comment_id":117159080,"body_markdown":"Maybe try disabling these other items as well\n`.formLogin().disable()`\n`.httpBasic().disable()`\n`.logout().disable()`\n`.csrf.disable()`","body":"Maybe try disabling these other items as well <code>.formLogin().disable()</code> <code>.httpBasic().disable()</code> <code>.logout().disable()</code> <code>.csrf.disable()</code>"},{"owner":{"account_id":14358183,"reputation":339,"user_id":10371394,"display_name":"Sebastian Lore"},"score":0,"creation_date":1613683771,"post_id":66267573,"comment_id":117159223,"body_markdown":"@user3696953 Ok, I&#39;ve figured out that `.csrf().disable()` is the solution. Do you have any idea why?","body":"@user3696953 Ok, I&#39;ve figured out that <code>.csrf().disable()</code> is the solution. Do you have any idea why?"}],"answers":[{"tags":[],"owner":{"account_id":4552102,"reputation":175,"user_id":3696953,"display_name":"duppydodah"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1613684080,"creation_date":1613684080,"answer_id":66268482,"question_id":66267573,"body_markdown":"So, CSRF stands for Cross-Site Request Forgery and I believe is enabled by default with Spring Web/Security. When it is enabled, you need to properly pass the correct csrf token to your app in order to access your application otherwise you will get thrown a 403 forbidden type error. Alternatively, there are other means of authenticating users if you so desired.\r\n\r\n`.csrf().disable()`","title":"Spring Security returns login page despite permitAll","body":"<p>So, CSRF stands for Cross-Site Request Forgery and I believe is enabled by default with Spring Web/Security. When it is enabled, you need to properly pass the correct csrf token to your app in order to access your application otherwise you will get thrown a 403 forbidden type error. Alternatively, there are other means of authenticating users if you so desired.</p>\n<p><code>.csrf().disable()</code></p>\n"},{"tags":[],"owner":{"account_id":7055162,"reputation":870,"user_id":5517820,"accept_rate":68,"display_name":"MehdiB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670588422,"creation_date":1670588422,"answer_id":74743066,"question_id":66267573,"body_markdown":"Actually disabling CSRF is not a good idea for all situations. CSRF is enabled by default and as a result, the CSRF token is added to the HttpServletRequest attribute named `_csrf`. So you only need to add it to your requests.\r\nIf you are using Thymeleaf for your html templates you could add something like this to your forms:\r\n\r\n```\r\n&lt;input type=&quot;hidden&quot; th:name=&quot;${_csrf.parameterName}&quot; th:value=&quot;${_csrf.token}&quot;/&gt;\r\n```\r\n\r\n","title":"Spring Security returns login page despite permitAll","body":"<p>Actually disabling CSRF is not a good idea for all situations. CSRF is enabled by default and as a result, the CSRF token is added to the HttpServletRequest attribute named <code>_csrf</code>. So you only need to add it to your requests.\nIf you are using Thymeleaf for your html templates you could add something like this to your forms:</p>\n<pre><code>&lt;input type=&quot;hidden&quot; th:name=&quot;${_csrf.parameterName}&quot; th:value=&quot;${_csrf.token}&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":14358183,"reputation":339,"user_id":10371394,"display_name":"Sebastian Lore"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":793,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":66268482,"answer_count":2,"score":1,"last_activity_date":1670588422,"creation_date":1613679507,"question_id":66267573,"body_markdown":"I know there is a lot of questions like this, but I could not find an answer which solves my case.\r\n\r\nHere is my config:\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n                .antMatchers(HttpMethod.POST, &quot;/&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n            .formLogin()\r\n                .permitAll()\r\n                .and()\r\n            .logout().permitAll();\r\n    }\r\n}\r\n```\r\n\r\nAnd here is my endpoint I want users to have access without logging in:\r\n```java\r\n@Slf4j\r\n@RestController\r\npublic class MyController {\r\n\r\n    @PostMapping(value = &quot;/&quot;, consumes = MediaType.TEXT_PLAIN_VALUE)\r\n    public void acceptAnonymously(HttpEntity&lt;String&gt; requestEntity) {\r\n        log.debug(&quot;body: {}&quot;, requestEntity.getBody());\r\n    }\r\n\r\n}\r\n```\r\n\r\nSo basically, I want to allow making unauthenticated POST requests to `localhost:8080`. Everything else should be authenticated. But when I hit `localhost:8080` with postman, this is what I get:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QxOtx.png","title":"Spring Security returns login page despite permitAll","body":"<p>I know there is a lot of questions like this, but I could not find an answer which solves my case.</p>\n<p>Here is my config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                .antMatchers(HttpMethod.POST, &quot;/&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n            .formLogin()\n                .permitAll()\n                .and()\n            .logout().permitAll();\n    }\n}\n</code></pre>\n<p>And here is my endpoint I want users to have access without logging in:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@RestController\npublic class MyController {\n\n    @PostMapping(value = &quot;/&quot;, consumes = MediaType.TEXT_PLAIN_VALUE)\n    public void acceptAnonymously(HttpEntity&lt;String&gt; requestEntity) {\n        log.debug(&quot;body: {}&quot;, requestEntity.getBody());\n    }\n\n}\n</code></pre>\n<p>So basically, I want to allow making unauthenticated POST requests to <code>localhost:8080</code>. Everything else should be authenticated. But when I hit <code>localhost:8080</code> with postman, this is what I get:\n<a href=\"https://i.stack.imgur.com/QxOtx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QxOtx.png\" alt=\"enter image description here\" /></a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9401,"page":822,"page_size":100}
