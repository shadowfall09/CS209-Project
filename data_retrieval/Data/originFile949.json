{"items":[{"tags":["java","vlab"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1666205409,"post_id":74130175,"comment_id":130883176,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.\n[Please do not upload images of code/errors when asking a question.](https://meta.stackoverflow.com/q/285551)","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/74130175/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. <a href=\"https://meta.stackoverflow.com/q/285551\">Please do not upload images of code/errors when asking a question.</a>"}],"answers":[{"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1666206007,"post_id":74130459,"comment_id":130883361,"body_markdown":"Please read [answer].  What you have posted is, at best, a comment.  You don&#39;t have enough rep to post comments yet.  Contribute in other ways and don&#39;t post comments until you have the necessary rep.","body":"Please read <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a>.  What you have posted is, at best, a comment.  You don&#39;t have enough rep to post comments yet.  Contribute in other ways and don&#39;t post comments until you have the necessary rep."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666398394,"post_id":74130459,"comment_id":130935247,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74130459/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":15114088,"reputation":196,"user_id":20285541,"display_name":"Shub"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666206744,"creation_date":1666205355,"answer_id":74130459,"question_id":74130175,"body_markdown":"Why don&#39;t you try to return 0 or 1 as return. For example, 0 means False and 1 means True. Then write output statement inside a main method. \r\n\r\n    if(vals[i] == vals[i+1]){\r\n       return 1; }\r\n    else{\r\n       return 0; }","title":"how can I get the method to be outside of the main method in vlab","body":"<p>Why don't you try to return 0 or 1 as return. For example, 0 means False and 1 means True. Then write output statement inside a main method.</p>\n<pre><code>if(vals[i] == vals[i+1]){\n   return 1; }\nelse{\n   return 0; }\n</code></pre>\n"}],"owner":{"account_id":26674432,"reputation":11,"user_id":20285401,"display_name":"nate998"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666206744,"creation_date":1666203803,"question_id":74130175,"body_markdown":" This is an assignment in vlab. I know the method needs to be outside the main method but I can&#39;t seem to understand how I can do it between the two comments. You can not edit the code outside of the // your code starts here and your code ends here.\r\n[image of the question][1]\r\n\r\n\r\n[first part of code][2]\r\n[last part of code][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OEF8z.png\r\n  [2]: https://i.stack.imgur.com/VblQ9.png\r\n  [3]: https://i.stack.imgur.com/tORcl.png","title":"how can I get the method to be outside of the main method in vlab","body":"<p>This is an assignment in vlab. I know the method needs to be outside the main method but I can't seem to understand how I can do it between the two comments. You can not edit the code outside of the // your code starts here and your code ends here.\n<a href=\"https://i.stack.imgur.com/OEF8z.png\" rel=\"nofollow noreferrer\">image of the question</a></p>\n<p><a href=\"https://i.stack.imgur.com/VblQ9.png\" rel=\"nofollow noreferrer\">first part of code</a>\n<a href=\"https://i.stack.imgur.com/tORcl.png\" rel=\"nofollow noreferrer\">last part of code</a></p>\n"},{"tags":["java","android","voice-recognition","google-assistant-sdk","google-assistant"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1666254701,"post_id":74130699,"comment_id":130893984,"body_markdown":"Is it your application that handles the voice command or do you want to capture voice commands of other applications?","body":"Is it your application that handles the voice command or do you want to capture voice commands of other applications?"},{"owner":{"account_id":26674454,"reputation":1,"user_id":20285422,"display_name":"aecho"},"score":0,"creation_date":1666294057,"post_id":74130699,"comment_id":130909119,"body_markdown":"It is my application","body":"It is my application"}],"owner":{"account_id":26674454,"reputation":1,"user_id":20285422,"display_name":"aecho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666206740,"creation_date":1666206740,"question_id":74130699,"body_markdown":"When a voice command is sent in an application that uses Google Assistant, I want to capture this command and send it to firebase. \r\nHow can i do this on android studio using java. \r\nHelp will be appericiated.","title":"How to capture voice commands when using Google Assistant?","body":"<p>When a voice command is sent in an application that uses Google Assistant, I want to capture this command and send it to firebase.\nHow can i do this on android studio using java.\nHelp will be appericiated.</p>\n"},{"tags":["java","spring","spring-boot","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641837367,"creation_date":1641837367,"answer_id":70656887,"question_id":70656149,"body_markdown":"Added to `apache-camel-spring-boot/src/main/resources/application.properties`:\r\n\r\n```\r\ncamel.servlet.mapping.context-path=/*\r\n```","title":"Cannot change REST context path in Apache Camel 3.14.0 Spring Boot app","body":"<p>Added to <code>apache-camel-spring-boot/src/main/resources/application.properties</code>:</p>\n<pre><code>camel.servlet.mapping.context-path=/*\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10837284,"reputation":21,"user_id":7969847,"display_name":"Rhode"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666206518,"creation_date":1666191265,"answer_id":74127563,"question_id":70656149,"body_markdown":"Small addition to the accepted answer. Below Spring Boot 2.7.2 or Apache Camel 3.18.0, the key is:\r\n\r\n`camel.component.servlet.mapping.contextPath=/*`\r\n\r\nelse it is\r\n\r\n`camel.servlet.mapping.context-path=/*`\r\n\r\nas stated by Thomas https://stackoverflow.com/questions/46798079/apache-camel-rest-endpoint-with-dsl-in-spring-boot-adds-camel-to-the-path. So in my case I was at spring boot version 2.4.0 and apache camel 3.7.3 and I had to use &quot;camel.component.servlet.mapping.context-path&quot;.\r\n","title":"Cannot change REST context path in Apache Camel 3.14.0 Spring Boot app","body":"<p>Small addition to the accepted answer. Below Spring Boot 2.7.2 or Apache Camel 3.18.0, the key is:</p>\n<p><code>camel.component.servlet.mapping.contextPath=/*</code></p>\n<p>else it is</p>\n<p><code>camel.servlet.mapping.context-path=/*</code></p>\n<p>as stated by Thomas <a href=\"https://stackoverflow.com/questions/46798079/apache-camel-rest-endpoint-with-dsl-in-spring-boot-adds-camel-to-the-path\">Apache Camel Rest endpoint with DSL in Spring Boot adds /camel to the path</a>. So in my case I was at spring boot version 2.4.0 and apache camel 3.7.3 and I had to use &quot;camel.component.servlet.mapping.context-path&quot;.</p>\n"}],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1375,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70656887,"answer_count":2,"score":1,"last_activity_date":1666206518,"creation_date":1641833969,"question_id":70656149,"body_markdown":"The dependencies:\r\n\r\n```\r\ndependencies {\r\n\r\n    implementation(&quot;org.apache.camel:camel-core:3.14.0&quot;)\r\n    implementation(&quot;org.apache.camel:camel-openapi-java:3.14.0&quot;)\r\n\r\n    implementation(&quot;com.fasterxml.jackson.core:jackson-core:2.13.1&quot;)\r\n    implementation(&quot;com.fasterxml.jackson.core:jackson-databind:2.13.1&quot;)\r\n    implementation(&quot;com.fasterxml.jackson.core:jackson-annotations:2.13.1&quot;)\r\n\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n\r\n    implementation(&quot;org.apache.camel.springboot:camel-spring-boot-starter:3.14.0&quot;)\r\n    implementation(&quot;org.apache.camel.springboot:camel-servlet-starter:3.14.0&quot;)\r\n    implementation(&quot;org.apache.camel.springboot:camel-jackson-starter:3.14.0&quot;)\r\n    implementation(&quot;org.apache.camel.springboot:camel-http-starter:3.14.0&quot;)\r\n    implementation(&quot;org.apache.camel.springboot:camel-bean-validator-starter:3.14.0&quot;)\r\n}\r\n```\r\n\r\nAttempts at changing from prop files:\r\n`apache-camel-spring-boot/src/main/resources/application.properties`:\r\n\r\n```\r\ncamel.component.servlet.mapping.contextPath=/test/*\r\ncamel.component.servlet.mapping.context-path=/test/*\r\n```\r\n\r\n`apache-camel-spring-boot/src/main/resources/application.yml`:\r\n```\r\ncamel:\r\n  component:\r\n    servlet:\r\n      mapping:\r\n        contextPath: /test/*\r\n```\r\n\r\nThe actual REST configuration:\r\n```\r\n@Component\r\npublic class CamelRouter extends RouteBuilder {\r\n\r\n  @Override\r\n  public void configure() throws Exception {\r\n\r\n    restConfiguration()\r\n        .component(&quot;servlet&quot;)\r\n        .contextPath(&quot;test&quot;)\r\n        .host(&quot;localhost&quot;)\r\n        .port(8080)\r\n        .bindingMode(RestBindingMode.json)\r\n        .enableCORS(true);\r\n\r\n    rest(&quot;/users&quot;).description(&quot;User REST service&quot;)\r\n        .produces(&quot;application/json&quot;)\r\n        .get()\r\n        .outType(String.class)\r\n        .to(&quot;bean:myService?method=find&quot;)\r\n  }\r\n}\r\n```\r\n\r\nBut the only URL that works is: http://localhost:8080/camel/users\r\n\r\nWhy is http://localhost:8080/test/users returning a 404 when I&#39;ve changed the context path of Camel?","title":"Cannot change REST context path in Apache Camel 3.14.0 Spring Boot app","body":"<p>The dependencies:</p>\n<pre><code>dependencies {\n\n    implementation(&quot;org.apache.camel:camel-core:3.14.0&quot;)\n    implementation(&quot;org.apache.camel:camel-openapi-java:3.14.0&quot;)\n\n    implementation(&quot;com.fasterxml.jackson.core:jackson-core:2.13.1&quot;)\n    implementation(&quot;com.fasterxml.jackson.core:jackson-databind:2.13.1&quot;)\n    implementation(&quot;com.fasterxml.jackson.core:jackson-annotations:2.13.1&quot;)\n\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n\n    implementation(&quot;org.apache.camel.springboot:camel-spring-boot-starter:3.14.0&quot;)\n    implementation(&quot;org.apache.camel.springboot:camel-servlet-starter:3.14.0&quot;)\n    implementation(&quot;org.apache.camel.springboot:camel-jackson-starter:3.14.0&quot;)\n    implementation(&quot;org.apache.camel.springboot:camel-http-starter:3.14.0&quot;)\n    implementation(&quot;org.apache.camel.springboot:camel-bean-validator-starter:3.14.0&quot;)\n}\n</code></pre>\n<p>Attempts at changing from prop files:\n<code>apache-camel-spring-boot/src/main/resources/application.properties</code>:</p>\n<pre><code>camel.component.servlet.mapping.contextPath=/test/*\ncamel.component.servlet.mapping.context-path=/test/*\n</code></pre>\n<p><code>apache-camel-spring-boot/src/main/resources/application.yml</code>:</p>\n<pre><code>camel:\n  component:\n    servlet:\n      mapping:\n        contextPath: /test/*\n</code></pre>\n<p>The actual REST configuration:</p>\n<pre><code>@Component\npublic class CamelRouter extends RouteBuilder {\n\n  @Override\n  public void configure() throws Exception {\n\n    restConfiguration()\n        .component(&quot;servlet&quot;)\n        .contextPath(&quot;test&quot;)\n        .host(&quot;localhost&quot;)\n        .port(8080)\n        .bindingMode(RestBindingMode.json)\n        .enableCORS(true);\n\n    rest(&quot;/users&quot;).description(&quot;User REST service&quot;)\n        .produces(&quot;application/json&quot;)\n        .get()\n        .outType(String.class)\n        .to(&quot;bean:myService?method=find&quot;)\n  }\n}\n</code></pre>\n<p>But the only URL that works is: http://localhost:8080/camel/users</p>\n<p>Why is http://localhost:8080/test/users returning a 404 when I've changed the context path of Camel?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":4,"creation_date":1666205760,"post_id":74130489,"comment_id":130883283,"body_markdown":"You don&#39;t, you can write `x = (byte)0b1000_0001;`.","body":"You don&#39;t, you can write <code>x = (byte)0b1000_0001;</code>."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1666205889,"post_id":74130489,"comment_id":130883324,"body_markdown":"Also check other questions like https://stackoverflow.com/questions/8860948/how-to-specify-a-constant-is-a-byte-or-short","body":"Also check other questions like <a href=\"https://stackoverflow.com/questions/8860948/how-to-specify-a-constant-is-a-byte-or-short\" title=\"how to specify a constant is a byte or short\">stackoverflow.com/questions/8860948/&hellip;</a>"},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1666206825,"post_id":74130489,"comment_id":130883616,"body_markdown":"Because the binary literal is of type `int`, which is 4 bytes, which is 32 bits.","body":"Because the binary literal is of type <code>int</code>, which is 4 bytes, which is 32 bits."}],"owner":{"account_id":26674704,"reputation":11,"user_id":20285636,"display_name":"wydra__"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1666206450,"answer_count":0,"score":1,"last_activity_date":1666206480,"creation_date":1666205524,"question_id":74130489,"body_markdown":"So to convert a positive binary number into a negative one I have to invert all of the bits of the number and ​add 1.\r\n\r\n       `byte x = 0b0111_1111;\r\n        System.out.println(x); // 127\r\n        \r\n        x = 0b1111_1111_1111_1111_1111_1111_1000_0001;\r\n        System.out.println(x); // -127\r\n\r\nI don&#39;t understand why I have to expand my number to 32 bit form by adding zeros on the left side before reversing the bits, why exactly to 32 bit form? ","title":"java negative binary literal","body":"<p>So to convert a positive binary number into a negative one I have to invert all of the bits of the number and ​add 1.</p>\n<pre><code>   `byte x = 0b0111_1111;\n    System.out.println(x); // 127\n    \n    x = 0b1111_1111_1111_1111_1111_1111_1000_0001;\n    System.out.println(x); // -127\n</code></pre>\n<p>I don't understand why I have to expand my number to 32 bit form by adding zeros on the left side before reversing the bits, why exactly to 32 bit form?</p>\n"},{"tags":["java","html","vaadin"],"comments":[{"owner":{"account_id":295383,"reputation":4686,"user_id":599765,"accept_rate":22,"display_name":"Andr&#233; Schild"},"score":0,"creation_date":1666204905,"post_id":74130098,"comment_id":130883023,"body_markdown":"Usually this means, that you are not allowed to embed the image in your website. Are some messages in the browser console?","body":"Usually this means, that you are not allowed to embed the image in your website. Are some messages in the browser console?"},{"owner":{"account_id":11926310,"reputation":627,"user_id":8727518,"display_name":"Michael Kročka"},"score":0,"creation_date":1666205117,"post_id":74130098,"comment_id":130883094,"body_markdown":"Now that I look there I can see: `Failed to load resource: the server responded with a status of 403 ()`. Is there no way to override this on localhost?","body":"Now that I look there I can see: <code>Failed to load resource: the server responded with a status of 403 ()</code>. Is there no way to override this on localhost?"},{"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"score":0,"creation_date":1666205486,"post_id":74130098,"comment_id":130883206,"body_markdown":"That sounds like the server doesn&#39;t you to link to that image directly from your page.","body":"That sounds like the server doesn&#39;t you to link to that image directly from your page."},{"owner":{"account_id":11926310,"reputation":627,"user_id":8727518,"display_name":"Michael Kročka"},"score":0,"creation_date":1666205555,"post_id":74130098,"comment_id":130883225,"body_markdown":"I believe it should be possible to show the image if I set the user agent parameter to the header of the request, I just have not found out how to do this.","body":"I believe it should be possible to show the image if I set the user agent parameter to the header of the request, I just have not found out how to do this."}],"answers":[{"comments":[{"owner":{"account_id":11926310,"reputation":627,"user_id":8727518,"display_name":"Michael Kročka"},"score":0,"creation_date":1666206009,"post_id":74130509,"comment_id":130883362,"body_markdown":"I just edited the question with a screenshot allowing me to view the image as is in Google Chrome. Is there any way to get around the website disabling hotlinking?","body":"I just edited the question with a screenshot allowing me to view the image as is in Google Chrome. Is there any way to get around the website disabling hotlinking?"},{"owner":{"account_id":295383,"reputation":4686,"user_id":599765,"accept_rate":22,"display_name":"Andr&#233; Schild"},"score":2,"creation_date":1666207169,"post_id":74130509,"comment_id":130883719,"body_markdown":"There is a reason why they don&#39;t allow hotlinking. Even when you find a technical workarround, legaly this is not a safe thing to do.","body":"There is a reason why they don&#39;t allow hotlinking. Even when you find a technical workarround, legaly this is not a safe thing to do."}],"tags":[],"owner":{"account_id":11254783,"reputation":51,"user_id":8254923,"display_name":"rodolforfq"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666205617,"creation_date":1666205617,"answer_id":74130509,"question_id":74130098,"body_markdown":"If you open the image on Chrome you will notice the website doesn&#39;t allow hotlinking. That&#39;s why it doesn&#39;t load. Try using a different image (from Wikipedia, for example) and it should work well.\r\n\r\n[![Hotlinking not allowed][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qUTZI.png\r\n\r\n\r\n    new Image(&quot;https://upload.wikimedia.org/wikipedia/commons/8/8e/Vaadin-flow-bakery.png&quot;,&quot;vaadin&quot;);\r\n\r\nI recommend using the alt attribute as well, instead of leaving it empty as you had in your original question.","title":"Image link not showing image","body":"<p>If you open the image on Chrome you will notice the website doesn't allow hotlinking. That's why it doesn't load. Try using a different image (from Wikipedia, for example) and it should work well.</p>\n<p><a href=\"https://i.stack.imgur.com/qUTZI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qUTZI.png\" alt=\"Hotlinking not allowed\" /></a></p>\n<pre><code>new Image(&quot;https://upload.wikimedia.org/wikipedia/commons/8/8e/Vaadin-flow-bakery.png&quot;,&quot;vaadin&quot;);\n</code></pre>\n<p>I recommend using the alt attribute as well, instead of leaving it empty as you had in your original question.</p>\n"}],"owner":{"account_id":11926310,"reputation":627,"user_id":8727518,"display_name":"Michael Kročka"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666205965,"creation_date":1666203335,"question_id":74130098,"body_markdown":"I am using Java and Vaadin to create a simple view where an image is displayed. I have a single Image element containing a source link. Here is my code.\r\n\r\n    @Route(value = &quot;&quot;)\r\n    public class MainView extends VerticalLayout {\r\n    \r\n      public MainView() {\r\n        add(new Image(&quot;https://media.reaperscans.com/file/4SRBHm/comics/14659ab2-5650-4aaf-a5bb-9ad5a9828662/chapters/3aff6399-5ff4-46d1-b502-88788510d962/000.jpg&quot;, &quot;&quot;));\r\n      }\r\n    }\r\n\r\nThis compiles to a HTML in the browser containing an image element:\r\n\r\n    &lt;img src=&quot;https://media.reaperscans.com/file/4SRBHm/comics/14659ab2-5650-4aaf-a5bb-9ad5a9828662/chapters/3aff6399-5ff4-46d1-b502-88788510d962/000.jpg&quot;&gt;\r\n\r\nWhen I open this image in new tab I can see the image correctly, but when I see it in my app there is only:\r\n&lt;img src=&quot;https://media.reaperscans.com/file/4SRBHm/comics/14659ab2-5650-4aaf-a5bb-9ad5a9828662/chapters/3aff6399-5ff4-46d1-b502-88788510d962/000.jpg&quot;&gt;\r\n\r\nEDIT:\r\n\r\nI can open the image using the link in Google Chrome.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zL6LP.jpg","title":"Image link not showing image","body":"<p>I am using Java and Vaadin to create a simple view where an image is displayed. I have a single Image element containing a source link. Here is my code.</p>\n<pre><code>@Route(value = &quot;&quot;)\npublic class MainView extends VerticalLayout {\n\n  public MainView() {\n    add(new Image(&quot;https://media.reaperscans.com/file/4SRBHm/comics/14659ab2-5650-4aaf-a5bb-9ad5a9828662/chapters/3aff6399-5ff4-46d1-b502-88788510d962/000.jpg&quot;, &quot;&quot;));\n  }\n}\n</code></pre>\n<p>This compiles to a HTML in the browser containing an image element:</p>\n<pre><code>&lt;img src=&quot;https://media.reaperscans.com/file/4SRBHm/comics/14659ab2-5650-4aaf-a5bb-9ad5a9828662/chapters/3aff6399-5ff4-46d1-b502-88788510d962/000.jpg&quot;&gt;\n</code></pre>\n<p>When I open this image in new tab I can see the image correctly, but when I see it in my app there is only:\n<img src=\"https://media.reaperscans.com/file/4SRBHm/comics/14659ab2-5650-4aaf-a5bb-9ad5a9828662/chapters/3aff6399-5ff4-46d1-b502-88788510d962/000.jpg\"></p>\n<p>EDIT:</p>\n<p>I can open the image using the link in Google Chrome.\n<a href=\"https://i.stack.imgur.com/zL6LP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zL6LP.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-jdbc","named-parameters","unnest"],"answers":[{"tags":[],"owner":{"account_id":12956740,"reputation":51,"user_id":9367332,"display_name":"Ruslan S"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1567720472,"creation_date":1567720472,"answer_id":57813414,"question_id":57795638,"body_markdown":"Turns out an added space makes it work\r\nWITH o_id AS (SELECT unnest(ARRAY[:orderids ])\r\nnotice the space between &#39;:orderids&#39; and &#39;]&#39;\r\nLooks like Spring bug to me.","title":"No value supplied for the SQL parameter, &#39;]&#39; added","body":"<p>Turns out an added space makes it work\nWITH o_id AS (SELECT unnest(ARRAY[:orderids ])\nnotice the space between ':orderids' and ']'\nLooks like Spring bug to me.</p>\n"},{"tags":[],"owner":{"account_id":5762184,"reputation":757,"user_id":4548231,"display_name":"sawprogramming"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666205646,"creation_date":1666205646,"answer_id":74130517,"question_id":57795638,"body_markdown":"You can either add curly braces around the parameter name like this:\r\n\r\n~~~sql\r\nSELECT unnest(ARRAY[:{orderids}]) AS id\r\n~~~\r\n\r\nOr, as you&#39;ve discovered, you can add spaces around the parameter declaration like this (though, only the space _after_ the parameter declaration matters for parsing):\r\n\r\n~~~sql\r\nSELECT unnest(ARRAY[ :orderids ]) AS id\r\n~~~\r\n---\r\nI&#39;ve found that IntelliJ&#39;s SQL parser incorrectly considers the curly braces to be a syntax error, so I use the space option.","title":"No value supplied for the SQL parameter, &#39;]&#39; added","body":"<p>You can either add curly braces around the parameter name like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT unnest(ARRAY[:{orderids}]) AS id\n</code></pre>\n<p>Or, as you've discovered, you can add spaces around the parameter declaration like this (though, only the space <em>after</em> the parameter declaration matters for parsing):</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT unnest(ARRAY[ :orderids ]) AS id\n</code></pre>\n<hr />\n<p>I've found that IntelliJ's SQL parser incorrectly considers the curly braces to be a syntax error, so I use the space option.</p>\n"}],"owner":{"account_id":12956740,"reputation":51,"user_id":9367332,"display_name":"Ruslan S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3659,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1666205646,"creation_date":1567631190,"question_id":57795638,"body_markdown":"I have a query that starts with\r\nWITH o_id AS (SELECT unnest(ARRAY[:orderids]) AS id) SELECT ...\r\n\r\nIn java code I have\r\nList&lt;Integer&gt; orderIds=getOrderIds();\r\nparams.addValue(&quot;orderids&quot;, orderIds);\r\n\r\nI&#39;m getting \r\nException No value supplied for the SQL parameter &#39;orderids]&#39;: No value registered for key &#39;orderids]&#39;\r\nLooks like Spring adds the bracket to the name of parameter.. How can I pass the orderids to the query?","title":"No value supplied for the SQL parameter, &#39;]&#39; added","body":"<p>I have a query that starts with\nWITH o_id AS (SELECT unnest(ARRAY[:orderids]) AS id) SELECT ...</p>\n\n<p>In java code I have\nList orderIds=getOrderIds();\nparams.addValue(\"orderids\", orderIds);</p>\n\n<p>I'm getting \nException No value supplied for the SQL parameter 'orderids]': No value registered for key 'orderids]'\nLooks like Spring adds the bracket to the name of parameter.. How can I pass the orderids to the query?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1426077156,"post_id":28986673,"comment_id":46221838,"body_markdown":"What do you mean by &quot;sum&quot;?","body":"What do you mean by &quot;sum&quot;?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1426077210,"post_id":28986673,"comment_id":46221869,"body_markdown":"he has to add up the elements with index 0, those with index 2, ... se he&#39;ll get a new array with the results.\nKudabe: why do you create a class for each array? that makes no real sense.","body":"he has to add up the elements with index 0, those with index 2, ... se he&#39;ll get a new array with the results. Kudabe: why do you create a class for each array? that makes no real sense."},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1426077280,"post_id":28986673,"comment_id":46221914,"body_markdown":"someone can earn easy +15 here","body":"someone can earn easy +15 here"},{"owner":{"account_id":25389,"reputation":14608,"user_id":65230,"accept_rate":84,"display_name":"Ascalonian"},"score":0,"creation_date":1426077288,"post_id":28986673,"comment_id":46221921,"body_markdown":"You are summing up the values located in the same spot in two arrays. As long as their sizes match, you should just do a for-loop starting at 0 while the variable is less than the size of one of the arrays. Use that loop variable to pull each value out of the 2 arrays and then add them together.","body":"You are summing up the values located in the same spot in two arrays. As long as their sizes match, you should just do a for-loop starting at 0 while the variable is less than the size of one of the arrays. Use that loop variable to pull each value out of the 2 arrays and then add them together."},{"owner":{"account_id":3545817,"reputation":956,"user_id":2961817,"accept_rate":78,"display_name":"WonderWorld"},"score":0,"creation_date":1426077786,"post_id":28986673,"comment_id":46222223,"body_markdown":"I don&#39;t get what has to happen here: The program should be able to conduct the addition() and substraction() methods invoked by respective object(s).","body":"I don&#39;t get what has to happen here: The program should be able to conduct the addition() and substraction() methods invoked by respective object(s)."},{"owner":{"account_id":5919746,"reputation":11,"user_id":4657384,"display_name":"kudabe"},"score":0,"creation_date":1426085620,"post_id":28986673,"comment_id":46228111,"body_markdown":"The thing is, according to the rubrics, the program must consist of constructors, obejcts, member methods, a seperate main class and OO concepts like inheritence, polymorphism and abstraction.","body":"The thing is, according to the rubrics, the program must consist of constructors, obejcts, member methods, a seperate main class and OO concepts like inheritence, polymorphism and abstraction."}],"answers":[{"tags":[],"owner":{"account_id":3627711,"reputation":285,"user_id":3024846,"accept_rate":80,"display_name":"Century"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1426078033,"creation_date":1426078033,"answer_id":28986999,"question_id":28986673,"body_markdown":"I haven&#39;t enough reputation to comment, so I&#39;ll answer.\r\n\r\nyou don&#39;t need to create a class for each array. just do as follow (just a pseudocode)\r\n\r\n    initialize array1;\r\n    foreach elem in array:\r\n        sumArray[pos] = read user input;\r\n\r\n    initialize array2;\r\n    foreach elem in array:\r\n        sumArray[pos] = read user input;\r\n\r\n    initialize sumArray\r\n    foreach elem in array:\r\n        sumArray[pos] = array1[pos] + array2[pos];\r\n","title":"Sum of two arrays in java","body":"<p>I haven't enough reputation to comment, so I'll answer.</p>\n\n<p>you don't need to create a class for each array. just do as follow (just a pseudocode)</p>\n\n<pre><code>initialize array1;\nforeach elem in array:\n    sumArray[pos] = read user input;\n\ninitialize array2;\nforeach elem in array:\n    sumArray[pos] = read user input;\n\ninitialize sumArray\nforeach elem in array:\n    sumArray[pos] = array1[pos] + array2[pos];\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1418844,"reputation":830,"user_id":1343904,"accept_rate":88,"display_name":"Ben Win"},"score":0,"creation_date":1426078406,"post_id":28987003,"comment_id":46222682,"body_markdown":"You missed the sorting part. You should add something like `Arrays.sort(array)` for sorting in ascending order.","body":"You missed the sorting part. You should add something like <code>Arrays.sort(array)</code> for sorting in ascending order."},{"owner":{"account_id":3545817,"reputation":956,"user_id":2961817,"accept_rate":78,"display_name":"WonderWorld"},"score":0,"creation_date":1426078866,"post_id":28987003,"comment_id":46222978,"body_markdown":"Don&#39;t the subtraction and addition methods mean that you also should be able to do that math on any element of the two arrays? Something like `int sum = add(arr1[2] + arr2[5]);` or `int sum = subtract(arr1[9] - arr[3]);` for example and print the outcome?","body":"Don&#39;t the subtraction and addition methods mean that you also should be able to do that math on any element of the two arrays? Something like <code>int sum = add(arr1[2] + arr2[5]);</code> or <code>int sum = subtract(arr1[9] - arr[3]);</code> for example and print the outcome?"}],"tags":[],"owner":{"account_id":1090437,"reputation":6796,"user_id":1085186,"accept_rate":100,"display_name":"StackFlowed"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1426078422,"creation_date":1426078040,"answer_id":28987003,"question_id":28986673,"body_markdown":"Your sum and subtract method should look like this\r\n\r\n    public class ArrayMath {\r\n        public static int[] sum(int [] arrOne,int [] arrTwo) {\r\n            if(arrOne.length!=arrTwo.length) {// check if length is same\r\n                return null;\r\n            }\r\n            int[] returnArray = new int[arrOne.length];\r\n            for(int i=0;i&lt;arrOne.length;i++) { // adding with same index\r\n                returnArray[i]=arrOne[i]+arrTwo[i];\r\n            }\r\n            return returnArray;\r\n        }\r\n    \r\n        public static int[] subtract(int [] arrOne,int [] arrTwo) {\r\n            if(arrOne.length!=arrTwo.length) { // checking length is same\r\n                return null;\r\n            }\r\n            int[] returnArray = new int[arrOne.length];\r\n            for(int i=0;i&lt;arrOne.length;i++) { // subtracting with same index\r\n                returnArray[i]=arrOne[i]-arrTwo[i];\r\n            }\r\n            return returnArray;\r\n        }\r\n    }\r\n\r\nYour main should look like :\r\n\r\n    public class ArraySum {\r\n       public static void main(String[] args) {\r\n          Scanner input = new Scanner(System.in);\r\n          System.out.println(&quot;Enter the size of the arrays : &quot;);\r\n          int size = input.nextInt();\r\n          int arrayOne[] = new int[size];\r\n          int arrayTwo[] = new int[size];\r\n          for(int i=0;i&lt;size;i++){\r\n             System.out.println(&quot;Enter the &quot;+i+&quot;th elements of the 1st array&quot;);\r\n             arrayOne[i]=input.nextInt();\r\n             System.out.println(&quot;Enter the &quot;+i+&quot;th elements of the 2st array&quot;);\r\n             arrayTwo[i]=input.nextInt();\r\n          }\r\n    \r\n          // Now you can call the methods\r\n          int[] additionArray=ArrayMath.sum(arrayOne,arrayTwo);\r\n          int[] subtractionArray=ArrayMath.subtract(arrayOne, arrayTwo);\r\n          \r\n          if(additionArray==null){\r\n             System.out.println(&quot;Both array are not of same size hence cannot add&quot;);\r\n          } else {\r\n             System.out.println(&quot;Addition of array is&quot;);\r\n             Arrays.sort(additionArray);\r\n             for(int i=0; i&lt;additionArray.length;i++){\r\n                System.out.println(additionArray[i]+&quot; &quot;);\r\n             }\r\n          }\r\n          if(subtractionArray==null){\r\n             System.out.println(&quot;Both array are not of same size hence cannot subtract&quot;);\r\n          } else {\r\n             System.out.println(&quot;Subtraction of array is&quot;);\r\n             Arrays.sort(subtractionArray);\r\n             for(int i=0; i&lt;subtractionArray.length;i++){\r\n                System.out.println(subtractionArray[i]+&quot; &quot;);\r\n             }\r\n          }\r\n          \r\n       }\r\n    }\r\n\r\n\r\n------------\r\n\r\nAnother way of doing it would be.\r\nArrayMath class\r\n\r\n    public class ArrayMath {\r\n        private int[] array;\r\n    \r\n        public ArrayMath(int[] arr){\r\n            this.array=arr;\r\n        }\r\n    \r\n        public int[] sum(int [] arr) {\r\n            if(array.length!=arr.length){\r\n                return null;\r\n            }\r\n            int[] returnArray = new int[array.length];\r\n            for(int i=0;i&lt;array.length;i++) {\r\n                returnArray[i]=array[i]+arr[i];\r\n            }\r\n            return returnArray;\r\n        }\r\n    \r\n        public int[] subtract(int [] arr) {\r\n            if(array.length!=arr.length){\r\n                return null;\r\n            }\r\n            int[] returnArray = new int[array.length];\r\n            for(int i=0;i&lt;array.length;i++) {\r\n                returnArray[i]=array[i]-arr[i];\r\n            }\r\n            return returnArray;\r\n        }\r\n    }\r\n\r\nMain class:\r\n\r\n    public class ArraySum {\r\n       public static void main(String[] args) {\r\n          Scanner input = new Scanner(System.in);\r\n          System.out.println(&quot;Enter the size of the arrays : &quot;);\r\n          int size = input.nextInt();\r\n          int arrayOne[] = new int[size];\r\n          int arrayTwo[] = new int[size];\r\n          for(int i=0;i&lt;size;i++){\r\n             System.out.println(&quot;Enter the &quot;+i+&quot;th elements of the 1st array&quot;);\r\n             arrayOne[i]=input.nextInt();\r\n             System.out.println(&quot;Enter the &quot;+i+&quot;th elements of the 2st array&quot;);\r\n             arrayTwo[i]=input.nextInt();\r\n          }\r\n    \r\n          ArrayMath arrayMath = new ArrayMath(arrayOne);\r\n          // Now you can call the methods\r\n          int[] additionArray=arrayMath.sum(arrayTwo);\r\n          int[] subtractionArray=arrayMath.subtract(arrayTwo);\r\n    \r\n          if(additionArray==null){\r\n             System.out.println(&quot;Both array are not of same size hence cannot add&quot;);\r\n          } else {\r\n             System.out.println(&quot;Addition of array is&quot;);\r\n             Arrays.sort(additionArray);\r\n             for(int i=0; i&lt;additionArray.length;i++){\r\n                System.out.println(additionArray[i]+&quot; &quot;);\r\n             }\r\n          }\r\n          if(subtractionArray==null){\r\n             System.out.println(&quot;Both array are not of same size hence cannot subtract&quot;);\r\n          } else {\r\n             System.out.println(&quot;Subtraction of array is&quot;);\r\n             Arrays.sort(subtractionArray);\r\n             for(int i=0; i&lt;subtractionArray.length;i++){\r\n                System.out.println(subtractionArray[i]+&quot; &quot;);\r\n             }\r\n          }\r\n    \r\n       }\r\n    }\r\n\r\n","title":"Sum of two arrays in java","body":"<p>Your sum and subtract method should look like this</p>\n\n<pre><code>public class ArrayMath {\n    public static int[] sum(int [] arrOne,int [] arrTwo) {\n        if(arrOne.length!=arrTwo.length) {// check if length is same\n            return null;\n        }\n        int[] returnArray = new int[arrOne.length];\n        for(int i=0;i&lt;arrOne.length;i++) { // adding with same index\n            returnArray[i]=arrOne[i]+arrTwo[i];\n        }\n        return returnArray;\n    }\n\n    public static int[] subtract(int [] arrOne,int [] arrTwo) {\n        if(arrOne.length!=arrTwo.length) { // checking length is same\n            return null;\n        }\n        int[] returnArray = new int[arrOne.length];\n        for(int i=0;i&lt;arrOne.length;i++) { // subtracting with same index\n            returnArray[i]=arrOne[i]-arrTwo[i];\n        }\n        return returnArray;\n    }\n}\n</code></pre>\n\n<p>Your main should look like :</p>\n\n<pre><code>public class ArraySum {\n   public static void main(String[] args) {\n      Scanner input = new Scanner(System.in);\n      System.out.println(\"Enter the size of the arrays : \");\n      int size = input.nextInt();\n      int arrayOne[] = new int[size];\n      int arrayTwo[] = new int[size];\n      for(int i=0;i&lt;size;i++){\n         System.out.println(\"Enter the \"+i+\"th elements of the 1st array\");\n         arrayOne[i]=input.nextInt();\n         System.out.println(\"Enter the \"+i+\"th elements of the 2st array\");\n         arrayTwo[i]=input.nextInt();\n      }\n\n      // Now you can call the methods\n      int[] additionArray=ArrayMath.sum(arrayOne,arrayTwo);\n      int[] subtractionArray=ArrayMath.subtract(arrayOne, arrayTwo);\n\n      if(additionArray==null){\n         System.out.println(\"Both array are not of same size hence cannot add\");\n      } else {\n         System.out.println(\"Addition of array is\");\n         Arrays.sort(additionArray);\n         for(int i=0; i&lt;additionArray.length;i++){\n            System.out.println(additionArray[i]+\" \");\n         }\n      }\n      if(subtractionArray==null){\n         System.out.println(\"Both array are not of same size hence cannot subtract\");\n      } else {\n         System.out.println(\"Subtraction of array is\");\n         Arrays.sort(subtractionArray);\n         for(int i=0; i&lt;subtractionArray.length;i++){\n            System.out.println(subtractionArray[i]+\" \");\n         }\n      }\n\n   }\n}\n</code></pre>\n\n<hr>\n\n<p>Another way of doing it would be.\nArrayMath class</p>\n\n<pre><code>public class ArrayMath {\n    private int[] array;\n\n    public ArrayMath(int[] arr){\n        this.array=arr;\n    }\n\n    public int[] sum(int [] arr) {\n        if(array.length!=arr.length){\n            return null;\n        }\n        int[] returnArray = new int[array.length];\n        for(int i=0;i&lt;array.length;i++) {\n            returnArray[i]=array[i]+arr[i];\n        }\n        return returnArray;\n    }\n\n    public int[] subtract(int [] arr) {\n        if(array.length!=arr.length){\n            return null;\n        }\n        int[] returnArray = new int[array.length];\n        for(int i=0;i&lt;array.length;i++) {\n            returnArray[i]=array[i]-arr[i];\n        }\n        return returnArray;\n    }\n}\n</code></pre>\n\n<p>Main class:</p>\n\n<pre><code>public class ArraySum {\n   public static void main(String[] args) {\n      Scanner input = new Scanner(System.in);\n      System.out.println(\"Enter the size of the arrays : \");\n      int size = input.nextInt();\n      int arrayOne[] = new int[size];\n      int arrayTwo[] = new int[size];\n      for(int i=0;i&lt;size;i++){\n         System.out.println(\"Enter the \"+i+\"th elements of the 1st array\");\n         arrayOne[i]=input.nextInt();\n         System.out.println(\"Enter the \"+i+\"th elements of the 2st array\");\n         arrayTwo[i]=input.nextInt();\n      }\n\n      ArrayMath arrayMath = new ArrayMath(arrayOne);\n      // Now you can call the methods\n      int[] additionArray=arrayMath.sum(arrayTwo);\n      int[] subtractionArray=arrayMath.subtract(arrayTwo);\n\n      if(additionArray==null){\n         System.out.println(\"Both array are not of same size hence cannot add\");\n      } else {\n         System.out.println(\"Addition of array is\");\n         Arrays.sort(additionArray);\n         for(int i=0; i&lt;additionArray.length;i++){\n            System.out.println(additionArray[i]+\" \");\n         }\n      }\n      if(subtractionArray==null){\n         System.out.println(\"Both array are not of same size hence cannot subtract\");\n      } else {\n         System.out.println(\"Subtraction of array is\");\n         Arrays.sort(subtractionArray);\n         for(int i=0; i&lt;subtractionArray.length;i++){\n            System.out.println(subtractionArray[i]+\" \");\n         }\n      }\n\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5388865,"reputation":13,"user_id":4291998,"display_name":"thrinod"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426079105,"creation_date":1426079105,"answer_id":28987384,"question_id":28986673,"body_markdown":"try this it will be give u the addition\r\n    \r\n    \r\n    package com.arraysum;\r\n    import java.util.Scanner;\r\n    public class Addition {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Enter the two array size..&quot;);\r\n    \t\tScanner input = new Scanner(System.in);\r\n    \t\tint size = input.nextInt();\r\n    \t\tint[] one= new int[size],two = new int[size];\r\n    \t\tSystem.out.println(&quot;Enter the array elements of Array-One&quot;);\r\n    \t\tfor (int i = 0; i &lt;size; i++) {\r\n    \t\t\tone[i]=input.nextInt();\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Enter the array elements of Array-Two&quot;);\r\n    \t\tfor (int i = 0; i &lt;size; i++) {\r\n    \t\t\ttwo[i]=input.nextInt();\r\n    \t\t}\r\n    \t\tAddition(one,two);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tprivate static void Addition(int[] one, int[] two){\r\n    \t\tSystem.out.print(&quot;Array One&quot;+&quot;\\t&quot;);\r\n    \t\tfor (int i = 0; i &lt;one.length; i++) {\r\n    \t\tSystem.out.print(one[i] + &quot;\\t&quot;);\r\n    \t\t}\r\n    \t\tSystem.out.println();\r\n    \t\tSystem.out.print(&quot;Array Two&quot;+&quot;\\t&quot;);\r\n    \t\tfor (int i = 0; i &lt;two.length; i++) {\r\n    \t\tSystem.out.print(two[i]+ &quot;\\t&quot;);\r\n    \t\t}\r\n    \t\tSystem.out.println();\r\n    \t\tSystem.out.println(&quot;---------------------&quot;);\r\n    \t\tint result[]=new int[one.length];\r\n    \t\tfor (int i = 0; i &lt; result.length; i++) {\r\n    \t\t\tresult[i]=one[i]+two[i];\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Sum Of Two Arrays &quot;);\r\n    \t\tSystem.out.print(&quot; Sum &quot;+&quot;\\t&quot;+&quot;\\t&quot;);\r\n            Arrays.sort(result);\r\n    \t\tfor (int i = 0; i &lt; result.length; i++) {\r\n    \t\t\tSystem.out.print(result[i]+&quot;\\t&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Sum of two arrays in java","body":"<p>try this it will be give u the addition</p>\n\n<pre><code>package com.arraysum;\nimport java.util.Scanner;\npublic class Addition {\n\n    public static void main(String[] args) {\n\n        System.out.println(\"Enter the two array size..\");\n        Scanner input = new Scanner(System.in);\n        int size = input.nextInt();\n        int[] one= new int[size],two = new int[size];\n        System.out.println(\"Enter the array elements of Array-One\");\n        for (int i = 0; i &lt;size; i++) {\n            one[i]=input.nextInt();\n        }\n        System.out.println(\"Enter the array elements of Array-Two\");\n        for (int i = 0; i &lt;size; i++) {\n            two[i]=input.nextInt();\n        }\n        Addition(one,two);\n\n    }\n\n    private static void Addition(int[] one, int[] two){\n        System.out.print(\"Array One\"+\"\\t\");\n        for (int i = 0; i &lt;one.length; i++) {\n        System.out.print(one[i] + \"\\t\");\n        }\n        System.out.println();\n        System.out.print(\"Array Two\"+\"\\t\");\n        for (int i = 0; i &lt;two.length; i++) {\n        System.out.print(two[i]+ \"\\t\");\n        }\n        System.out.println();\n        System.out.println(\"---------------------\");\n        int result[]=new int[one.length];\n        for (int i = 0; i &lt; result.length; i++) {\n            result[i]=one[i]+two[i];\n        }\n        System.out.println(\"Sum Of Two Arrays \");\n        System.out.print(\" Sum \"+\"\\t\"+\"\\t\");\n        Arrays.sort(result);\n        for (int i = 0; i &lt; result.length; i++) {\n            System.out.print(result[i]+\"\\t\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":426701,"reputation":3719,"user_id":2209304,"display_name":"Laszlo Lugosi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426079344,"creation_date":1426079344,"answer_id":28987471,"question_id":28986673,"body_markdown":"If I understand what you need, you should skip deal with class hierachy.\r\nSimply initialize the two array, and create a new sumArray and copy the values in it.\r\n\r\n\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    public class ArTestSum {\r\n    \tpublic static void main(String... args) {\r\n    \t\tint[] ar1 = { 1, 2, 3, 4, 5, 6, 7, 8, 9 };\r\n    \t\tint[] ar2 = { 1, 2, 3, 4, 5, 6, 7, 8, 9 };\r\n    \t\tint[] arSum = new int[ar1.length + ar2.length]; // it is OK because\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t// known in compile time\r\n    \r\n    \t\tint i = 0;\r\n    \t\tfor (int val : ar1) {\r\n    \t\t\tarSum[i++] = val;\r\n    \t\t}\r\n    \t\tfor (int val : ar2) {\r\n    \t\t\tarSum[i++] = val;\r\n    \t\t}\r\n    \t\tSystem.out.println(Arrays.toString(arSum));\r\n    \t}\r\n    }\r\n\r\n","title":"Sum of two arrays in java","body":"<p>If I understand what you need, you should skip deal with class hierachy.\nSimply initialize the two array, and create a new sumArray and copy the values in it.</p>\n\n<pre><code>import java.util.Arrays;\n\npublic class ArTestSum {\n    public static void main(String... args) {\n        int[] ar1 = { 1, 2, 3, 4, 5, 6, 7, 8, 9 };\n        int[] ar2 = { 1, 2, 3, 4, 5, 6, 7, 8, 9 };\n        int[] arSum = new int[ar1.length + ar2.length]; // it is OK because\n                                                        // known in compile time\n\n        int i = 0;\n        for (int val : ar1) {\n            arSum[i++] = val;\n        }\n        for (int val : ar2) {\n            arSum[i++] = val;\n        }\n        System.out.println(Arrays.toString(arSum));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2339243,"reputation":48,"user_id":2050911,"display_name":"Shreyash Samani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426080751,"creation_date":1426080183,"answer_id":28987773,"question_id":28986673,"body_markdown":"Below is code snippet for your problem. Hope this will be useful to you.\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tint arr1[] = new int[10];\r\n\t\tint result[] = new int[10];\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter the elements of the 1st array&quot;);\r\n\t\tfor (int x = 0; x &lt; arr1.length; x++) {\r\n\t\t\tarr1[x] = input.nextInt();\r\n\t\t}\r\n\r\n\t\tint arr2[] = new int[10];\r\n\t\tSystem.out.println(&quot;Enter the elements of the 2nd array&quot;);\r\n\t\tfor (int x = 0; x &lt; arr2.length; x++) {\r\n\t\t\tarr2[x] = input.nextInt();\r\n\t\t}\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; arr1.length; i++) {\r\n\t\t\tresult[i] = arr1[i] + arr2[i];\r\n\t\t}\r\n\t\tArrays.sort(result);\r\n\t\tfor (int i = 0; i &lt; result.length; i++) {\r\n\t\t\tSystem.out.println(result[i]);\r\n\t\t}\r\n\t}","title":"Sum of two arrays in java","body":"<p>Below is code snippet for your problem. Hope this will be useful to you.</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner input = new Scanner(System.in);\n    int arr1[] = new int[10];\n    int result[] = new int[10];\n\n    System.out.println(\"Enter the elements of the 1st array\");\n    for (int x = 0; x &lt; arr1.length; x++) {\n        arr1[x] = input.nextInt();\n    }\n\n    int arr2[] = new int[10];\n    System.out.println(\"Enter the elements of the 2nd array\");\n    for (int x = 0; x &lt; arr2.length; x++) {\n        arr2[x] = input.nextInt();\n    }\n\n    for (int i = 0; i &lt; arr1.length; i++) {\n        result[i] = arr1[i] + arr2[i];\n    }\n    Arrays.sort(result);\n    for (int i = 0; i &lt; result.length; i++) {\n        System.out.println(result[i]);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26663935,"reputation":11,"user_id":20276333,"display_name":"AlinaS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666204906,"creation_date":1666204906,"answer_id":74130371,"question_id":28986673,"body_markdown":"    public class SumOfArrayPlusArray {\r\n        public static void main(String[] args) {\r\n            int[] arr1 = {1, 2, 3};\r\n            int[] arr2 = {4, 5, 6};\r\n    \r\n            System.out.println(arrayPlusArray(arr1, arr2));\r\n        }\r\n    \r\n        public static int arrayPlusArray(int[] arr1, int[] arr2) {\r\n            int sumOfArrays = 0;\r\n            for(int i: arr1) {\r\n                sumOfArrays += i;\r\n            }\r\n            for (int i: arr2) {\r\n                sumOfArrays += i;\r\n            }\r\n            return sumOfArrays;\r\n        }\r\n    \r\n    }","title":"Sum of two arrays in java","body":"<pre><code>public class SumOfArrayPlusArray {\n    public static void main(String[] args) {\n        int[] arr1 = {1, 2, 3};\n        int[] arr2 = {4, 5, 6};\n\n        System.out.println(arrayPlusArray(arr1, arr2));\n    }\n\n    public static int arrayPlusArray(int[] arr1, int[] arr2) {\n        int sumOfArrays = 0;\n        for(int i: arr1) {\n            sumOfArrays += i;\n        }\n        for (int i: arr2) {\n            sumOfArrays += i;\n        }\n        return sumOfArrays;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":5919746,"reputation":11,"user_id":4657384,"display_name":"kudabe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9981,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":6,"score":1,"last_activity_date":1666204906,"creation_date":1426076989,"question_id":28986673,"body_markdown":"Im pretty new at Java Programming. I have an assignment here that tells me to find the sum of two arrays. Simple enough really, but I have a hard time figuring out all the syntaxes. Here is the question that I am talking about [Here is the question that I am talking about][1] and below is how far I have managed to go.\r\n## Main Class ##\r\n\r\n    package arraysum;\r\n    import java.util.Scanner;\r\n    \r\n    public class ArraySum extends ArrayTwo{\r\n    \r\n        \r\n        public static void main(String[] args) {\r\n           \r\n            Scanner input = new Scanner(System.in);\r\n    \t\r\n    \t\tint result[] = new int[10];\r\n    \t\r\n                 \r\n        }\r\n    }\r\n\r\n## Sub Class One ##\r\n\r\n   \r\n\r\n     package arraysum;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class ArrayOne{\r\n        int arr1[] = new int[10];\r\n          Scanner input = new Scanner(System.in);\r\n        \r\n        public ArrayOne(){\r\n          System.out.println(&quot;Enter the elements of the 1st array&quot;);\r\n    \t\tfor(int x=0;x&lt;10;x++)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Enter an element&quot;);\r\n    \t\t\tarr1[x]=input.nextInt();\r\n    \t\t}\r\n        }\r\n    }\r\n\r\n## Sub Class Two ##\r\n\r\n        package arraysum;\r\n    \r\n    public class ArrayTwo extends ArrayOne{\r\n        int arr2[] = new int[10];\r\n        \r\n        public ArrayTwo(){\r\n        System.out.println(&quot;Enter the elements of the 2nd array&quot;);\r\n    \t\tfor(int y=0;y&lt;10;y++){\r\n    \t\t\tSystem.out.println(&quot;Enter an element&quot;);\r\n    \t\t\tarr2[y]=input.nextInt();\r\n    \t\t}\r\n        }\r\n    }\r\n\r\nAny help at all would be very much appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cNb0K.jpg","title":"Sum of two arrays in java","body":"<p>Im pretty new at Java Programming. I have an assignment here that tells me to find the sum of two arrays. Simple enough really, but I have a hard time figuring out all the syntaxes. Here is the question that I am talking about <a href=\"https://i.stack.imgur.com/cNb0K.jpg\" rel=\"nofollow\">Here is the question that I am talking about</a> and below is how far I have managed to go.</p>\n\n<h2>Main Class</h2>\n\n<pre><code>package arraysum;\nimport java.util.Scanner;\n\npublic class ArraySum extends ArrayTwo{\n\n\n    public static void main(String[] args) {\n\n        Scanner input = new Scanner(System.in);\n\n        int result[] = new int[10];\n\n\n    }\n}\n</code></pre>\n\n<h2>Sub Class One</h2>\n\n<pre><code> package arraysum;\n\nimport java.util.Scanner;\n\npublic class ArrayOne{\n    int arr1[] = new int[10];\n      Scanner input = new Scanner(System.in);\n\n    public ArrayOne(){\n      System.out.println(\"Enter the elements of the 1st array\");\n        for(int x=0;x&lt;10;x++)\n        {\n            System.out.println(\"Enter an element\");\n            arr1[x]=input.nextInt();\n        }\n    }\n}\n</code></pre>\n\n<h2>Sub Class Two</h2>\n\n<pre><code>    package arraysum;\n\npublic class ArrayTwo extends ArrayOne{\n    int arr2[] = new int[10];\n\n    public ArrayTwo(){\n    System.out.println(\"Enter the elements of the 2nd array\");\n        for(int y=0;y&lt;10;y++){\n            System.out.println(\"Enter an element\");\n            arr2[y]=input.nextInt();\n        }\n    }\n}\n</code></pre>\n\n<p>Any help at all would be very much appreciated.</p>\n"},{"tags":["java","snakeyaml"],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666203380,"creation_date":1666203380,"answer_id":74130106,"question_id":74129997,"body_markdown":"According to [the yaml spec](http://yaml.org/spec/1.2-old/spec.html) you can use a backslash to escape a double quote.\r\n\r\n    solution: &quot;a double quote written like \\&quot; should work&quot;","title":"How to add Double Quotes to Yaml values","body":"<p>According to <a href=\"http://yaml.org/spec/1.2-old/spec.html\" rel=\"nofollow noreferrer\">the yaml spec</a> you can use a backslash to escape a double quote.</p>\n<pre><code>solution: &quot;a double quote written like \\&quot; should work&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2497160,"reputation":73,"user_id":2173281,"display_name":"amanshri93"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666204802,"creation_date":1666204802,"answer_id":74130350,"question_id":74129997,"body_markdown":"What are you using for serialising your object before writing to the file.\r\nI know jackson have a MINIMIZE_QUOTES which is by default enabled and quotes should be present.\r\nYou can check in document here if that is the case:\r\nhttps://fasterxml.github.io/jackson-dataformats-text/javadoc/yaml/2.9/com/fasterxml/jackson/dataformat/yaml/YAMLGenerator.Feature.html","title":"How to add Double Quotes to Yaml values","body":"<p>What are you using for serialising your object before writing to the file.\nI know jackson have a MINIMIZE_QUOTES which is by default enabled and quotes should be present.\nYou can check in document here if that is the case:\n<a href=\"https://fasterxml.github.io/jackson-dataformats-text/javadoc/yaml/2.9/com/fasterxml/jackson/dataformat/yaml/YAMLGenerator.Feature.html\" rel=\"nofollow noreferrer\">https://fasterxml.github.io/jackson-dataformats-text/javadoc/yaml/2.9/com/fasterxml/jackson/dataformat/yaml/YAMLGenerator.Feature.html</a></p>\n"}],"owner":{"account_id":26674289,"reputation":13,"user_id":20285291,"display_name":"Aashi "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1963,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74130350,"answer_count":2,"score":1,"last_activity_date":1666204802,"creation_date":1666202690,"question_id":74129997,"body_markdown":"    parameter.setContext(splitName[0]); // value = dev\r\n    parameter.setRegion(splitName[1]); // value = asia\r\n    parameter.setLob(splitName[2]); // value = all\r\n\r\n\r\nSo this is a small piece of java code and i&#39;m assigning some values in it as you can see. Bascially i&#39;m writing a yaml file by reading some text file. \r\n\r\n    context: dev\r\n    region: asia\r\n    lob: all\r\n\r\nThis is Yaml file that is converted using snakeYaml Library, so my problem is i want double quotes in values eg:- &quot;dev&quot;.\r\n\r\n    context: &quot;dev&quot;\r\n    region: &quot;asia&quot;\r\n    lob: &quot;all&quot;\r\n\r\nI want the format above but I&#39;m not able to find out how would i be able to achieve that.Please help!!\r\n\r\nWhat would i have to do to add double quotes in values area in key-value pair of yaml.\r\n\r\nEdit:\r\n\r\n    parameter.setContext(&quot;\\&quot;&quot;+splitName[0]+&quot;\\&quot;&quot;);\r\n    parameter.setRegion(&quot;\\&quot;&quot;+splitName[1]+&quot;\\&quot;&quot;);\r\n    parameter.setLob(&quot;\\&quot;&quot;+splitName[2]+&quot;\\&quot;&quot;);\r\n\r\nAnd if I am doing this for double quotes the output coming is like below:\r\n\r\n    context: &#39;&quot;dev&quot;&#39;\r\n    region: &#39;&quot;asia&quot;&#39;\r\n    lob: &#39;&quot;all&quot;&#39;","title":"How to add Double Quotes to Yaml values","body":"<pre><code>parameter.setContext(splitName[0]); // value = dev\nparameter.setRegion(splitName[1]); // value = asia\nparameter.setLob(splitName[2]); // value = all\n</code></pre>\n<p>So this is a small piece of java code and i'm assigning some values in it as you can see. Bascially i'm writing a yaml file by reading some text file.</p>\n<pre><code>context: dev\nregion: asia\nlob: all\n</code></pre>\n<p>This is Yaml file that is converted using snakeYaml Library, so my problem is i want double quotes in values eg:- &quot;dev&quot;.</p>\n<pre><code>context: &quot;dev&quot;\nregion: &quot;asia&quot;\nlob: &quot;all&quot;\n</code></pre>\n<p>I want the format above but I'm not able to find out how would i be able to achieve that.Please help!!</p>\n<p>What would i have to do to add double quotes in values area in key-value pair of yaml.</p>\n<p>Edit:</p>\n<pre><code>parameter.setContext(&quot;\\&quot;&quot;+splitName[0]+&quot;\\&quot;&quot;);\nparameter.setRegion(&quot;\\&quot;&quot;+splitName[1]+&quot;\\&quot;&quot;);\nparameter.setLob(&quot;\\&quot;&quot;+splitName[2]+&quot;\\&quot;&quot;);\n</code></pre>\n<p>And if I am doing this for double quotes the output coming is like below:</p>\n<pre><code>context: '&quot;dev&quot;'\nregion: '&quot;asia&quot;'\nlob: '&quot;all&quot;'\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6795665,"reputation":613,"user_id":5231078,"accept_rate":95,"display_name":"Robert Tossly"},"score":0,"creation_date":1442070275,"post_id":32540227,"comment_id":52937704,"body_markdown":"EDIT: I know a integer variable is declared by int... not integer","body":"EDIT: I know a integer variable is declared by int... not integer"}],"answers":[{"tags":[],"owner":{"account_id":1123823,"reputation":10881,"user_id":1111544,"accept_rate":79,"display_name":"Luigi Cortese"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442070100,"creation_date":1442070100,"answer_id":32540238,"question_id":32540227,"body_markdown":"`integer` in java is not a keyword nor a class name.\r\n\r\n`string` neither.\r\n\r\n`Integer` is a class name (wrapper class for integer variable).\r\n\r\n`int` is a keyword (indicates an integer primitive data type).\r\n\r\n`String` is a class name.","title":"Java data types","body":"<p><code>integer</code> in java is not a keyword nor a class name.</p>\n\n<p><code>string</code> neither.</p>\n\n<p><code>Integer</code> is a class name (wrapper class for integer variable).</p>\n\n<p><code>int</code> is a keyword (indicates an integer primitive data type).</p>\n\n<p><code>String</code> is a class name.</p>\n"},{"comments":[{"owner":{"account_id":6795665,"reputation":613,"user_id":5231078,"accept_rate":95,"display_name":"Robert Tossly"},"score":0,"creation_date":1442070357,"post_id":32540243,"comment_id":52937735,"body_markdown":"Why is one a class though? Are they not both data types? I don&#39;t understand how a string variable must be a &quot;class&quot; and not a data type....","body":"Why is one a class though? Are they not both data types? I don&#39;t understand how a string variable must be a &quot;class&quot; and not a data type...."},{"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"score":0,"creation_date":1442070679,"post_id":32540243,"comment_id":52937833,"body_markdown":"Both `int` and `String` are data types. But one is a _primitive_ data type, and the other is a _reference_ data type (e.g. a class or interface). See http://stackoverflow.com/questions/8790809/whats-the-difference-between-primitive-and-reference-types and the Java tutorials.","body":"Both <code>int</code> and <code>String</code> are data types. But one is a <i>primitive</i> data type, and the other is a <i>reference</i> data type (e.g. a class or interface). See <a href=\"http://stackoverflow.com/questions/8790809/whats-the-difference-between-primitive-and-reference-types\" title=\"whats the difference between primitive and reference types\">stackoverflow.com/questions/8790809/&hellip;</a> and the Java tutorials."},{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":0,"creation_date":1442070884,"post_id":32540243,"comment_id":52937894,"body_markdown":"@RobertTossly This might helpful   [how-can-a-string-be-initialized-using &quot;&quot;;](:http://stackoverflow.com/questions/17489250/how-can-a-string-be-initialized-using/17489410#17489410)","body":"@RobertTossly This might helpful   [how-can-a-string-be-initialized-using &quot;&quot;;](:<a href=\"http://stackoverflow.com/questions/17489250/how-can-a-string-be-initialized-using/17489410#17489410\" title=\"how can a string be initialized using\">stackoverflow.com/questions/17489250/&hellip;</a>)"},{"owner":{"account_id":6795665,"reputation":613,"user_id":5231078,"accept_rate":95,"display_name":"Robert Tossly"},"score":0,"creation_date":1442070931,"post_id":32540243,"comment_id":52937904,"body_markdown":"I will be looking into these now.","body":"I will be looking into these now."}],"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1442070117,"creation_date":1442070117,"answer_id":32540243,"question_id":32540227,"body_markdown":"`int` is a primitive type. `String` is class. By convention, Java class names start with an uppercase. Primitive types are all lowercase (there are only a few primitive types defined in Java). It&#39;s just the way types are named.","title":"Java data types","body":"<p><code>int</code> is a primitive type. <code>String</code> is class. By convention, Java class names start with an uppercase. Primitive types are all lowercase (there are only a few primitive types defined in Java). It's just the way types are named.</p>\n"},{"tags":[],"owner":{"account_id":2103918,"reputation":35899,"user_id":1870760,"accept_rate":81,"display_name":"Hatted Rooster"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1442070130,"creation_date":1442070130,"answer_id":32540246,"question_id":32540227,"body_markdown":"Because Java is case sensitive and the class is `String`, not `string`.\r\n\r\nTry `Int y = 4;`, that won&#39;t work either.\r\n\r\nPrimitive data types like `int` all start with lowercase, `String` isn&#39;t a primitive data type and thus is capitalized.\r\n","title":"Java data types","body":"<p>Because Java is case sensitive and the class is <code>String</code>, not <code>string</code>.</p>\n\n<p>Try <code>Int y = 4;</code>, that won't work either.</p>\n\n<p>Primitive data types like <code>int</code> all start with lowercase, <code>String</code> isn't a primitive data type and thus is capitalized.</p>\n"},{"tags":[],"owner":{"account_id":8315485,"reputation":16101,"user_id":7128034,"accept_rate":85,"display_name":"developer_hatch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491597243,"creation_date":1491597243,"answer_id":43286700,"question_id":32540227,"body_markdown":"Hi: a primitive type is predefined by the language and is named by a reserved keyword. Primitive values do not share state with other primitive values. \r\n  The String class is not technically a primitive data type, it is included Java API (You can read a little more about it, always useful!).\r\n  So, the biggest difference between int and String, is only that one is a Java Class, and the other is not.\r\n\r\nthis is a list of all the primitives in Java (all in lower case):\r\n\r\nNumeric primitives: `short, int, long, float &amp; double.`\r\nTextual primitives: `byte and char.`\r\nBoolean and null primitives: `boolean and null.`\r\n\r\nFor the Java Api Classes, you can check this other post -&gt;\r\n\r\n[Most-interest-classes][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3327451/most-interesting-useful-java-classes\r\n\r\nFinally, you can see another difference, I remember this one:\r\n\r\nIf you want a list of ints, you MUST type the list like this:\r\n\r\n    List&lt;Integer&gt; myInts = new ArrayList&lt;Integer&gt;();\r\n    myInts.add(1);\r\n    myInts.add(2);.......\r\n\r\nI hope it helps you.","title":"Java data types","body":"<p>Hi: a primitive type is predefined by the language and is named by a reserved keyword. Primitive values do not share state with other primitive values. \n  The String class is not technically a primitive data type, it is included Java API (You can read a little more about it, always useful!).\n  So, the biggest difference between int and String, is only that one is a Java Class, and the other is not.</p>\n\n<p>this is a list of all the primitives in Java (all in lower case):</p>\n\n<p>Numeric primitives: <code>short, int, long, float &amp; double.</code>\nTextual primitives: <code>byte and char.</code>\nBoolean and null primitives: <code>boolean and null.</code></p>\n\n<p>For the Java Api Classes, you can check this other post -></p>\n\n<p><a href=\"https://stackoverflow.com/questions/3327451/most-interesting-useful-java-classes\">Most-interest-classes</a></p>\n\n<p>Finally, you can see another difference, I remember this one:</p>\n\n<p>If you want a list of ints, you MUST type the list like this:</p>\n\n<pre><code>List&lt;Integer&gt; myInts = new ArrayList&lt;Integer&gt;();\nmyInts.add(1);\nmyInts.add(2);.......\n</code></pre>\n\n<p>I hope it helps you.</p>\n"},{"tags":[],"owner":{"account_id":26601093,"reputation":1,"user_id":20222729,"display_name":"naveen anand967"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666204708,"creation_date":1665985499,"answer_id":74092981,"question_id":32540227,"body_markdown":"Because it is a predefined class, and it is a common programming style to make the first letter of a class in uppercase only. And all primitive datatypes (like `short,char,int,byte,float,double,long,boolean`) programming style is to make first letter as small. It is default in java ","title":"Java data types","body":"<p>Because it is a predefined class, and it is a common programming style to make the first letter of a class in uppercase only. And all primitive datatypes (like <code>short,char,int,byte,float,double,long,boolean</code>) programming style is to make first letter as small. It is default in java</p>\n"}],"owner":{"account_id":6795665,"reputation":613,"user_id":5231078,"accept_rate":95,"display_name":"Robert Tossly"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":976,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":32540243,"answer_count":5,"score":0,"last_activity_date":1666204708,"creation_date":1442070008,"question_id":32540227,"body_markdown":"I am inquiring about data types in Java.\r\n\r\n\tpublic class Example {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\r\n\t\t\tstring x = &quot;String variable&quot;;\r\n\t\t\t\r\n\t\t\tint y = 4;\r\n\t\t\t\r\n\t\t\tSystem.out.println(x);\r\n\t\t\tSystem.out.println(y);\t\t\r\n\t\t}\r\n\t}\r\n\r\nWhy do I receive an error when I declare a `string` variable as all lowercase? I can declare `integers` and other data types all lowercase, but when I declare a `string` variable I must capitalize the &quot;s&quot; in &quot;string&quot;?","title":"Java data types","body":"<p>I am inquiring about data types in Java.</p>\n\n<pre><code>public class Example {\n\n    public static void main(String[] args) {\n\n        string x = \"String variable\";\n\n        int y = 4;\n\n        System.out.println(x);\n        System.out.println(y);      \n    }\n}\n</code></pre>\n\n<p>Why do I receive an error when I declare a <code>string</code> variable as all lowercase? I can declare <code>integers</code> and other data types all lowercase, but when I declare a <code>string</code> variable I must capitalize the \"s\" in \"string\"?</p>\n"},{"tags":["java","list","java-stream","collectors"],"answers":[{"comments":[{"owner":{"account_id":4609695,"reputation":30874,"user_id":3738171,"display_name":"Guerric P"},"score":0,"creation_date":1666196338,"post_id":74128625,"comment_id":130880208,"body_markdown":"OK so implying that I meet the prerequisites of ordered stream, the `toMap` collector is a stateful ordered collector which passes the previous item and the current item (in this order) as parameters of `mergeFunction`?","body":"OK so implying that I meet the prerequisites of ordered stream, the <code>toMap</code> collector is a stateful ordered collector which passes the previous item and the current item (in this order) as parameters of <code>mergeFunction</code>?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1666196680,"post_id":74128625,"comment_id":130880317,"body_markdown":"@GuerricP If `toMap()` consumes an ordered stream then you would get a consistent result - *merge function* `(left, right) -&gt; left` would retain the value that has been produced earlier.","body":"@GuerricP If <code>toMap()</code> consumes an ordered stream then you would get a consistent result - <i>merge function</i> <code>(left, right) -&gt; left</code> would retain the value that has been produced earlier."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666204650,"creation_date":1666196043,"answer_id":74128625,"question_id":74128073,"body_markdown":"To begin with, the stream should be **ordered**, which is not always the case.\r\n\r\nIf you&#39;re creating the stream, let&#39;s say concatenating two streams produced from your lists (which would be *ordered*) `Stream.concat(list1.stream(),list2.stream())` then your stream would be *ordered*.\r\n\r\nAnd in case when collector `toMap()` consumes an *ordered* stream, then it would respect the encounter, unless you don&#39;t relax this constraint yourself by applying `unordered()`.\r\n\r\nHere&#39;s a quote from the [API documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#Ordering):\r\n\r\n&gt; **Ordering**\r\n&gt; \r\n&gt; Whether or not a stream has an encounter order depends on the source\r\n&gt; and the intermediate operations. ...\r\n&gt; \r\n&gt; If a stream is ordered, most operations are constrained to operate on\r\n&gt; the elements in their encounter order. ...\r\n&gt; \r\n&gt; If a stream is ordered, repeated execution of identical stream\r\n&gt; pipelines on an identical source will produce an identical result; if\r\n&gt; it is not ordered, repeated execution might produce different results. ...\r\n\r\nIf you stumbled up on the phrase *&quot;most operations&quot;*, then you should know that the only operations that might not respect the encounter order of the stream are `forEach()` and `peek()`.\r\n\r\n`collect()` operation **does** respect the encounter order (if any) unless it&#39;s applied on a parallel stream by providing a Collector which specifies the characteristic `Collector.Characteristics.UNORDERED` (relaxing ordering constraint might improve performance while running in parallel).\r\n\r\nNote that Collector returned by `toMap()` is **not** unordered, the only characteristics it specifies is `IDENTITY_FINISH`.","title":"Are mergeFunction parameters being provided in a deterministic order in the toMap collector?","body":"<p>To begin with, the stream should be <strong>ordered</strong>, which is not always the case.</p>\n<p>If you're creating the stream, let's say concatenating two streams produced from your lists (which would be <em>ordered</em>) <code>Stream.concat(list1.stream(),list2.stream())</code> then your stream would be <em>ordered</em>.</p>\n<p>And in case when collector <code>toMap()</code> consumes an <em>ordered</em> stream, then it would respect the encounter, unless you don't relax this constraint yourself by applying <code>unordered()</code>.</p>\n<p>Here's a quote from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#Ordering\" rel=\"nofollow noreferrer\">API documentation</a>:</p>\n<blockquote>\n<p><strong>Ordering</strong></p>\n<p>Whether or not a stream has an encounter order depends on the source\nand the intermediate operations. ...</p>\n<p>If a stream is ordered, most operations are constrained to operate on\nthe elements in their encounter order. ...</p>\n<p>If a stream is ordered, repeated execution of identical stream\npipelines on an identical source will produce an identical result; if\nit is not ordered, repeated execution might produce different results. ...</p>\n</blockquote>\n<p>If you stumbled up on the phrase <em>&quot;most operations&quot;</em>, then you should know that the only operations that might not respect the encounter order of the stream are <code>forEach()</code> and <code>peek()</code>.</p>\n<p><code>collect()</code> operation <strong>does</strong> respect the encounter order (if any) unless it's applied on a parallel stream by providing a Collector which specifies the characteristic <code>Collector.Characteristics.UNORDERED</code> (relaxing ordering constraint might improve performance while running in parallel).</p>\n<p>Note that Collector returned by <code>toMap()</code> is <strong>not</strong> unordered, the only characteristics it specifies is <code>IDENTITY_FINISH</code>.</p>\n"}],"owner":{"account_id":4609695,"reputation":30874,"user_id":3738171,"display_name":"Guerric P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74128625,"answer_count":1,"score":2,"last_activity_date":1666204650,"creation_date":1666193428,"question_id":74128073,"body_markdown":"I have two lists that I want to concatenate in a single list and then use `Collectors.toMap` in order to remove duplicates based on a certain field. There cannot be duplicates within the same list, only between the lists.\r\n\r\nWhen it comes to resolving the collisions of values with the same key, I want to prioritize the items from the first list.\r\n\r\nI can provide `(a, b) -&gt; a` as the `mergeFunction` which only works if the parameters are being passed **in order** inside the `mergeFunction` parameter of `Collectors.toMap` but the documentation is unclear about it.\r\n\r\nAre `mergeFunction` parameters guaranteed to be passed in the same order as the list?","title":"Are mergeFunction parameters being provided in a deterministic order in the toMap collector?","body":"<p>I have two lists that I want to concatenate in a single list and then use <code>Collectors.toMap</code> in order to remove duplicates based on a certain field. There cannot be duplicates within the same list, only between the lists.</p>\n<p>When it comes to resolving the collisions of values with the same key, I want to prioritize the items from the first list.</p>\n<p>I can provide <code>(a, b) -&gt; a</code> as the <code>mergeFunction</code> which only works if the parameters are being passed <strong>in order</strong> inside the <code>mergeFunction</code> parameter of <code>Collectors.toMap</code> but the documentation is unclear about it.</p>\n<p>Are <code>mergeFunction</code> parameters guaranteed to be passed in the same order as the list?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1837040,"reputation":844,"user_id":1667198,"display_name":"Ismael Sarmento"},"score":0,"creation_date":1666201285,"post_id":74129662,"comment_id":130881888,"body_markdown":"Hi @yasmin please post questions in Portuguese at (por favor, postar quest&#245;es em portugu&#234;s em) https://pt.stackoverflow.com/","body":"Hi @yasmin please post questions in Portuguese at (por favor, postar quest&#245;es em portugu&#234;s em) <a href=\"https://pt.stackoverflow.com/\">pt.stackoverflow.com</a>"},{"owner":{"account_id":1019341,"reputation":5527,"user_id":1030169,"display_name":"jmoerdyk"},"score":0,"creation_date":1666201390,"post_id":74129662,"comment_id":130881928,"body_markdown":"All questions and answers on the main Stack Overflow site are [required to be in English](https://meta.stackexchange.com/a/13684/205114).  Please either translate your question or try [pt.so], but be sure to follow their [content guidelines](https://pt.stackoverflow.com/help/on-topic) and [How to Ask](https://pt.stackoverflow.com/help/how-to-ask) to ensure an on-topic question.","body":"All questions and answers on the main Stack Overflow site are <a href=\"https://meta.stackexchange.com/a/13684/205114\">required to be in English</a>.  Please either translate your question or try <a href=\"https://pt.stackoverflow.com\">Stack Overflow em Português</a>, but be sure to follow their <a href=\"https://pt.stackoverflow.com/help/on-topic\">content guidelines</a> and <a href=\"https://pt.stackoverflow.com/help/how-to-ask\">How to Ask</a> to ensure an on-topic question."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1666201972,"post_id":74129662,"comment_id":130882103,"body_markdown":"You&#39;ll need to think about what values you want `number1` and `number2` to have, in the case where the text fields are empty.  Then add some logic (probably to the `onClick` method), to check whether the text fields are empty.  But if you run `Float.parseFloat` on an empty string, you&#39;ll get that exception.","body":"You&#39;ll need to think about what values you want <code>number1</code> and <code>number2</code> to have, in the case where the text fields are empty.  Then add some logic (probably to the <code>onClick</code> method), to check whether the text fields are empty.  But if you run <code>Float.parseFloat</code> on an empty string, you&#39;ll get that exception."},{"owner":{"account_id":26461824,"reputation":11,"user_id":20264695,"display_name":"yasmin "},"score":0,"creation_date":1666202676,"post_id":74129662,"comment_id":130882315,"body_markdown":"@DawoodibnKareem thus?\n if (number1 != null &amp;&amp; number2!=null) {\n                    try {\n                        sum = number1 +number2;\n                    } catch(Exception e) {\n                        return -1;\n                    }","body":"@DawoodibnKareem thus?  if (number1 != null &amp;&amp; number2!=null) {                     try {                         sum = number1 +number2;                     } catch(Exception e) {                         return -1;                     }"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1666203003,"post_id":74129662,"comment_id":130882417,"body_markdown":"No.  I mean something like `if (edNumber1.getText().trim().equals(&quot;&quot;)) { number1 = 0; } else { ... do the parsing here }`","body":"No.  I mean something like <code>if (edNumber1.getText().trim().equals(&quot;&quot;)) { number1 = 0; } else { ... do the parsing here }</code>"},{"owner":{"account_id":26461824,"reputation":11,"user_id":20264695,"display_name":"yasmin "},"score":0,"creation_date":1666203810,"post_id":74129662,"comment_id":130882690,"body_markdown":"I&#39;m trying this way inside the onclick. but as you said, the execution is being called before that, so it keeps giving problem.","body":"I&#39;m trying this way inside the onclick. but as you said, the execution is being called before that, so it keeps giving problem."},{"owner":{"account_id":26461824,"reputation":11,"user_id":20264695,"display_name":"yasmin "},"score":0,"creation_date":1666203916,"post_id":74129662,"comment_id":130882735,"body_markdown":"if (edNumber1.getText().toString().equals(&quot;&quot;) &amp;&amp; edNumber2.getText().toString().equals(&quot;&quot;)) {number1 = 0;  number2=0;  }","body":"if (edNumber1.getText().toString().equals(&quot;&quot;) &amp;&amp; edNumber2.getText().toString().equals(&quot;&quot;)) {number1 = 0;  number2=0;  }"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666253259,"post_id":74129662,"comment_id":130893429,"body_markdown":"No. Wrong. &quot;&quot; Is an empty string and no digit and no 0. Dont calculate with it. Just stop calculation.","body":"No. Wrong. &quot;&quot; Is an empty string and no digit and no 0. Dont calculate with it. Just stop calculation."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666253291,"post_id":74129662,"comment_id":130893444,"body_markdown":"Specally for you there is `edNumber1.getText().toString().isEmpty()`.","body":"Specally for you there is <code>edNumber1.getText().toString().isEmpty()</code>."}],"owner":{"account_id":26461824,"reputation":11,"user_id":20264695,"display_name":"yasmin "},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1666203573,"creation_date":1666200930,"question_id":74129662,"body_markdown":"My code is returning &quot;java.lang.NumberFormatException: Empty string&quot;, but when I put number 1 and number 2 inside the onclick it works normally. Can someone help me?\r\n\r\npublic class SomaActivity extends AppCompatActivity {\r\n\r\n    private static final String TAG = MainActivity.class.getSimpleName();\r\n    private static final int REQUEST_CODE = 101;\r\n  \r\n\r\n     private EditText edNumber1;\r\n       private EditText edNumber2;\r\n       private float number2 ;\r\n       private float number1;\r\n       private float sum;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_soma);\r\n\r\n        edNumber1 = findViewById(R.id.editNumber1);\r\n        edNumber2= findViewById(R.id.editNumber2);\r\n        number1 = Float.parseFloat(edNumber1.getText().toString().trim());\r\n        number2 = Float.parseFloat(edNumber2.getText().toString().trim());\r\n\r\n\r\n        Button clickButton = (Button) findViewById(R.id.btCalcular);\r\n        clickButton.setOnClickListener( new View.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                sum = number1 + number2;\r\n\r\n                Intent returnIntent = getIntent();\r\n                returnIntent.putExtra(&quot;soma&quot;, sum);\r\n                setResult(RESULT_OK, returnIntent);\r\n                finish();\r\n\r\n            }\r\n\r\n\r\n        });\r\n\r\n    }\r\n","title":"&quot;java.lang.NumberFormatException: String vazia&quot;","body":"<p>My code is returning &quot;java.lang.NumberFormatException: Empty string&quot;, but when I put number 1 and number 2 inside the onclick it works normally. Can someone help me?</p>\n<p>public class SomaActivity extends AppCompatActivity {</p>\n<pre><code>private static final String TAG = MainActivity.class.getSimpleName();\nprivate static final int REQUEST_CODE = 101;\n\n\n private EditText edNumber1;\n   private EditText edNumber2;\n   private float number2 ;\n   private float number1;\n   private float sum;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_soma);\n\n    edNumber1 = findViewById(R.id.editNumber1);\n    edNumber2= findViewById(R.id.editNumber2);\n    number1 = Float.parseFloat(edNumber1.getText().toString().trim());\n    number2 = Float.parseFloat(edNumber2.getText().toString().trim());\n\n\n    Button clickButton = (Button) findViewById(R.id.btCalcular);\n    clickButton.setOnClickListener( new View.OnClickListener() {\n\n        @Override\n        public void onClick(View v) {\n\n            sum = number1 + number2;\n\n            Intent returnIntent = getIntent();\n            returnIntent.putExtra(&quot;soma&quot;, sum);\n            setResult(RESULT_OK, returnIntent);\n            finish();\n\n        }\n\n\n    });\n\n}\n</code></pre>\n"},{"tags":["java","database","spring-boot","api","spring-mvc"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1665487362,"post_id":74027272,"comment_id":130707007,"body_markdown":"when else would you connect to a database?","body":"when else would you connect to a database?"},{"owner":{"account_id":16651072,"reputation":93,"user_id":12033916,"display_name":"infaz98"},"score":0,"creation_date":1665487600,"post_id":74027272,"comment_id":130707086,"body_markdown":"@Stultuske I don&#39;t want to configure database statically. When the application starts needs to get database configurations from users and connect during the runtime","body":"@Stultuske I don&#39;t want to configure database statically. When the application starts needs to get database configurations from users and connect during the runtime"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1665487872,"post_id":74027272,"comment_id":130707195,"body_markdown":"yes, I understand that. And, when if not during run time would you else connect to a database? What is stopping you from creating your datasources from input you get from your user?","body":"yes, I understand that. And, when if not during run time would you else connect to a database? What is stopping you from creating your datasources from input you get from your user?"}],"answers":[{"tags":[],"owner":{"account_id":26557785,"reputation":159,"user_id":20186121,"display_name":"Abhishek Kumar Jena"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665492350,"creation_date":1665492350,"answer_id":74028392,"question_id":74027272,"body_markdown":"I know something alternatively related to this,\r\n\r\n AbstractRoutingDatasource: https://www.baeldung.com/spring-abstract-routing-data-source","title":"Dynamically connect to any database during runtime in Java Spring Boot application?","body":"<p>I know something alternatively related to this,</p>\n<p>AbstractRoutingDatasource: <a href=\"https://www.baeldung.com/spring-abstract-routing-data-source\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-abstract-routing-data-source</a></p>\n"}],"owner":{"account_id":16651072,"reputation":93,"user_id":12033916,"display_name":"infaz98"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666202451,"creation_date":1665487179,"question_id":74027272,"body_markdown":"I would like to know, is there any possible way to connect to any database during the runtime of a Java Spring Boot application? I am going to use database information from the user (from frontend).","title":"Dynamically connect to any database during runtime in Java Spring Boot application?","body":"<p>I would like to know, is there any possible way to connect to any database during the runtime of a Java Spring Boot application? I am going to use database information from the user (from frontend).</p>\n"},{"tags":["java","maven","apache-camel","osgi","apache-karaf"],"answers":[{"comments":[{"owner":{"account_id":6914047,"reputation":88,"user_id":5308964,"accept_rate":80,"display_name":"Tahmid Ekram"},"score":0,"creation_date":1666255051,"post_id":74129931,"comment_id":130894113,"body_markdown":"Thanks for the idea of the dynamic-import. After installing the client and adding the dynamic import it was still not working. then i checked the OSGI headers using `bundle:header` of my jar and turns out `org.mariadb.jdbc` was not present in `Import-Package`. So I added that manually then deployed the bundle again. It works perfectly. not very elegant but a working solution at least. I&#39;m not sure why maven is not adding this to the OSGI header, all other dependencies are there. Maybe you have some idea?","body":"Thanks for the idea of the dynamic-import. After installing the client and adding the dynamic import it was still not working. then i checked the OSGI headers using <code>bundle:header</code> of my jar and turns out <code>org.mariadb.jdbc</code> was not present in <code>Import-Package</code>. So I added that manually then deployed the bundle again. It works perfectly. not very elegant but a working solution at least. I&#39;m not sure why maven is not adding this to the OSGI header, all other dependencies are there. Maybe you have some idea?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666512948,"post_id":74129931,"comment_id":130951255,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74129931/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":11405026,"reputation":16,"user_id":8651944,"display_name":"laertida"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666202330,"creation_date":1666202330,"answer_id":74129931,"question_id":74128458,"body_markdown":"You need to install the driver inside karaf, the reason your route do not start up is because does not find the driver for your data source. \r\n\r\nInstall the driver like \r\n\r\n```\r\nbundle:install -s mvn:org.mariadb.jdbc/mariadb-java-client:3.0.8\r\n```\r\n\r\nThen enable the resulting bundle as dynamic import like \r\n\r\n```\r\nbundle:dynamic-import ${bundleId}\r\n```\r\nMay be it should be necessary to enable dynamic import to your route. \r\n\r\nThen restart your route and it should work!\r\n\r\nhope this helps","title":"Apache Camel project not detecting JDBC Driver when deployed on Apache Karaf","body":"<p>You need to install the driver inside karaf, the reason your route do not start up is because does not find the driver for your data source.</p>\n<p>Install the driver like</p>\n<pre><code>bundle:install -s mvn:org.mariadb.jdbc/mariadb-java-client:3.0.8\n</code></pre>\n<p>Then enable the resulting bundle as dynamic import like</p>\n<pre><code>bundle:dynamic-import ${bundleId}\n</code></pre>\n<p>May be it should be necessary to enable dynamic import to your route.</p>\n<p>Then restart your route and it should work!</p>\n<p>hope this helps</p>\n"}],"owner":{"account_id":6914047,"reputation":88,"user_id":5308964,"accept_rate":80,"display_name":"Tahmid Ekram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74129931,"answer_count":1,"score":0,"last_activity_date":1666202330,"creation_date":1666195317,"question_id":74128458,"body_markdown":"I am working on a project where I use a camel route (Camel-sql) to fetch data from a MariaDB database. I use apache commons dbcp2 as a Datasource in my blueprint file. It works perfectly fine when I use mvn:camel-run to run the project in development.\r\n\r\nThe problem starts when I try to deploy this project on Karaf. mvn:install generates the required jar with blueprint files and manifest file correctly formed. I copy this over to the deploy folder in Karaf.\r\n\r\nThe bundle installation is successful. But it does not start. I get an exception saying that the bundle was not able to detect the MariaDB java client. This does not make sense to me because I have it installed (using bundle:install -s mvn:...) on Karaf. I did this for all other dependencies like fasterxml, dbcp2 etc.\r\n\r\nMy requirement is strict: I need to be able to define the data source in my blueprint file. I have found some solutions about using pax-jdbc but did not get anything clear as of yet. Attaching all relevant hints below.\r\n\r\n**Exception trace**\r\n```\r\n17:39:01.404 WARN [Camel (dbOps-context-g3) thread #10 - timer://foo] Error processing exchange. Exchange[AA8CB8C488B457B-0000000000000005]. Caused by: [org.springframework.jdbc.CannotGetJdbcConnectionException - Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Cannot load JDBC driver class &#39;org.mariadb.jdbc.Driver&#39;]\r\norg.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Cannot load JDBC driver class &#39;org.mariadb.jdbc.Driver&#39;\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:83) ~[!/:?]\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:646) ~[!/:?]\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:685) ~[!/:?]\r\n\tat org.apache.camel.component.sql.SqlProducer.processInternal(SqlProducer.java:145) ~[!/:3.19.0]\r\n\tat org.apache.camel.component.sql.SqlProducer.process(SqlProducer.java:132) ~[!/:3.19.0]\r\n\tat org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:66) ~[?:?]\r\n\tat org.apache.camel.processor.SendProcessor.process(SendProcessor.java:172) ~[?:?]\r\n\tat org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:477) ~[?:?]\r\n\tat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[?:?]\r\n\tat org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[?:?]\r\n\tat org.apache.camel.processor.Pipeline.process(Pipeline.java:175) ~[?:?]\r\n\tat org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392) ~[?:?]\r\n\tat org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:210) ~[?:?]\r\n\tat org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:76) ~[?:?]\r\n\tat java.util.TimerThread.mainLoop(Timer.java:556) ~[?:?]\r\n\tat java.util.TimerThread.run(Timer.java:506) ~[?:?]\r\nCaused by: java.sql.SQLException: Cannot load JDBC driver class &#39;org.mariadb.jdbc.Driver&#39;\r\n\tat org.apache.commons.dbcp2.DriverFactory.createDriver(DriverFactory.java:54) ~[!/:2.9.0]\r\n\tat org.apache.commons.dbcp2.BasicDataSource.createConnectionFactory(BasicDataSource.java:459) ~[!/:2.9.0]\r\n\tat org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:525) ~[!/:2.9.0]\r\n\tat org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:731) ~[!/:2.9.0]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[!/:?]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[!/:?]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[!/:?]\r\n\t... 15 more\r\n```\r\n**Karaf Bundles list**\r\n```\r\nkaraf@root()&gt; bundle:list\r\nSTART LEVEL 100 , List Threshold: 50\r\n ID │ State    │ Lvl │ Version        │ Name\r\n────┼──────────┼─────┼────────────────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────\r\n 32 │ Active   │  80 │ 4.4.1          │ Apache Karaf :: OSGi Services :: Event\r\n 59 │ Active   │  50 │ 3.19.0         │ camel-api\r\n 60 │ Active   │  50 │ 3.19.0         │ camel-base\r\n 61 │ Active   │  50 │ 3.19.0         │ camel-base-engine\r\n 62 │ Active   │  50 │ 3.19.0         │ camel-bean\r\n 63 │ Active   │  50 │ 3.19.0         │ camel-browse\r\n 64 │ Active   │  50 │ 3.19.0         │ camel-cloud\r\n 65 │ Active   │  50 │ 3.19.0         │ camel-cluster\r\n 66 │ Active   │  50 │ 3.19.0         │ camel-console\r\n 67 │ Active   │  50 │ 3.19.0         │ camel-controlbus\r\n 68 │ Active   │  50 │ 3.19.0         │ camel-core-catalog\r\n 69 │ Active   │  50 │ 3.19.0         │ camel-core-engine\r\n 70 │ Active   │  50 │ 3.19.0         │ camel-core-languages\r\n 71 │ Active   │  50 │ 3.19.0         │ camel-core-model\r\n 72 │ Active   │  50 │ 3.19.0         │ camel-core-processor\r\n 73 │ Active   │  50 │ 3.19.0         │ camel-core-reifier\r\n 74 │ Active   │  50 │ 3.19.0         │ camel-core-xml\r\n 75 │ Active   │  50 │ 3.19.0         │ camel-dataformat\r\n 76 │ Active   │  50 │ 3.19.0         │ camel-dataset\r\n 77 │ Active   │  50 │ 3.19.0         │ camel-direct\r\n 78 │ Active   │  50 │ 3.19.0         │ camel-directvm\r\n 79 │ Active   │  50 │ 3.19.0         │ camel-file\r\n 80 │ Active   │  50 │ 3.19.0         │ camel-health\r\n 81 │ Active   │  50 │ 3.19.0         │ camel-language\r\n 82 │ Active   │  50 │ 3.19.0         │ camel-log\r\n 83 │ Active   │  50 │ 3.19.0         │ camel-main\r\n 84 │ Active   │  50 │ 3.19.0         │ camel-management\r\n 85 │ Active   │  50 │ 3.19.0         │ camel-management-api\r\n 86 │ Active   │  50 │ 3.19.0         │ camel-mock\r\n 87 │ Active   │  50 │ 3.19.0         │ camel-ref\r\n 88 │ Active   │  50 │ 3.19.0         │ camel-rest\r\n 89 │ Active   │  50 │ 3.19.0         │ camel-saga\r\n 90 │ Active   │  50 │ 3.19.0         │ camel-scheduler\r\n 91 │ Active   │  50 │ 3.19.0         │ camel-seda\r\n 92 │ Active   │  50 │ 3.19.0         │ camel-stub\r\n 93 │ Active   │  50 │ 3.19.0         │ camel-support\r\n 94 │ Active   │  50 │ 3.19.0         │ camel-timer\r\n 95 │ Active   │  50 │ 3.19.0         │ camel-tooling-model\r\n 96 │ Active   │  50 │ 3.19.0         │ camel-util\r\n 97 │ Active   │  50 │ 3.19.0         │ camel-util-json\r\n 98 │ Active   │  50 │ 3.19.0         │ camel-validator\r\n 99 │ Active   │  50 │ 3.19.0         │ camel-vm\r\n100 │ Active   │  50 │ 3.19.0         │ camel-xml-io-util\r\n101 │ Active   │  50 │ 3.19.0         │ camel-xml-jaxb\r\n102 │ Active   │  50 │ 3.19.0         │ camel-xml-jaxp\r\n103 │ Active   │  50 │ 3.19.0         │ camel-xpath\r\n104 │ Active   │  50 │ 3.19.0         │ camel-xslt\r\n105 │ Active   │  50 │ 3.19.0         │ camel-blueprint\r\n106 │ Active   │  80 │ 3.19.0         │ camel-commands-core\r\n107 │ Active   │  50 │ 3.19.0         │ camel-core-osgi\r\n108 │ Active   │  80 │ 3.19.0         │ camel-karaf-commands\r\n120 │ Active   │  50 │ 3.1.1.SNAPSHOT │ com.github.ben-manes.caffeine\r\n121 │ Active   │  50 │ 3.19.0         │ camel-sql\r\n146 │ Active   │  80 │ 2.13.0         │ Jackson-annotations\r\n147 │ Active   │  80 │ 2.13.0         │ Jackson-core\r\n148 │ Active   │  80 │ 2.13.0         │ jackson-databind\r\n155 │ Active   │  80 │ 2.9.0          │ Apache Commons DBCP\r\n156 │ Active   │  80 │ 2.9.0          │ Apache Commons Pool\r\n159 │ Active   │  50 │ 3.19.0         │ camel-paho\r\n160 │ Active   │  50 │ 1.2.5          │ org.eclipse.paho.client.mqttv3\r\n177 │ Resolved │  80 │ 1.0.0.SNAPSHOT │ camel-jdbc-to-mqtt\r\n```\r\n**Data source section from blueprint.xml**\r\n```\r\n    &lt;bean id=&quot;dataSourceBean&quot; class=&quot;org.apache.commons.dbcp2.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;org.mariadb.jdbc.Driver&quot;/&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:mariadb://localhost:3306/test-db&quot;/&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;demouser&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;1demo1&quot;/&gt;\r\n    &lt;/bean&gt;\r\n```\r\n**Dependencies and plugins from POM**\r\n```\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;!-- Camel BOM --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-bom&lt;/artifactId&gt;\r\n        &lt;version&gt;3.19.0&lt;/version&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.apache.camel.karaf&lt;/groupId&gt;\r\n         &lt;artifactId&gt;camel-karaf-bom&lt;/artifactId&gt;\r\n         &lt;version&gt;3.19.0&lt;/version&gt;\r\n         &lt;type&gt;pom&lt;/type&gt;\r\n         &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n\r\n  &lt;dependencies&gt;\r\n\r\n    &lt;!-- DB connectivity --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\r\n      &lt;version&gt;2.9.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Camel --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n      &lt;artifactId&gt;camel-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n      &lt;artifactId&gt;camel-sql&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.camel.karaf&lt;/groupId&gt;\r\n      &lt;artifactId&gt;camel-blueprint&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.camel.karaf&lt;/groupId&gt;\r\n      &lt;artifactId&gt;camel-blueprint-main&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n      &lt;artifactId&gt;camel-paho&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Testing --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.camel.karaf&lt;/groupId&gt;\r\n      &lt;artifactId&gt;camel-test-blueprint&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- logging --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- JSON processing --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n      &lt;version&gt;2.13.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.13.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n\r\n      &lt;!-- compiler plugin --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.10.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;release&gt;11&lt;/release&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;!-- to generate the MANIFEST.MF of the bundle --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-bundle-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.19.0&lt;/version&gt;\r\n        &lt;extensions&gt;false&lt;/extensions&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;bundle-manifest&lt;/id&gt;\r\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;manifest&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;!-- to include MANIFEST.MF in the bundle --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifestFile&gt;${project.build.outputDirectory}/META-INF/MANIFEST.MF&lt;/manifestFile&gt;\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;!-- to run the example using mvn camel-karaf:run --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.camel.karaf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-karaf-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.19.0&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n```","title":"Apache Camel project not detecting JDBC Driver when deployed on Apache Karaf","body":"<p>I am working on a project where I use a camel route (Camel-sql) to fetch data from a MariaDB database. I use apache commons dbcp2 as a Datasource in my blueprint file. It works perfectly fine when I use mvn:camel-run to run the project in development.</p>\n<p>The problem starts when I try to deploy this project on Karaf. mvn:install generates the required jar with blueprint files and manifest file correctly formed. I copy this over to the deploy folder in Karaf.</p>\n<p>The bundle installation is successful. But it does not start. I get an exception saying that the bundle was not able to detect the MariaDB java client. This does not make sense to me because I have it installed (using bundle:install -s mvn:...) on Karaf. I did this for all other dependencies like fasterxml, dbcp2 etc.</p>\n<p>My requirement is strict: I need to be able to define the data source in my blueprint file. I have found some solutions about using pax-jdbc but did not get anything clear as of yet. Attaching all relevant hints below.</p>\n<p><strong>Exception trace</strong></p>\n<pre><code>17:39:01.404 WARN [Camel (dbOps-context-g3) thread #10 - timer://foo] Error processing exchange. Exchange[AA8CB8C488B457B-0000000000000005]. Caused by: [org.springframework.jdbc.CannotGetJdbcConnectionException - Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Cannot load JDBC driver class 'org.mariadb.jdbc.Driver']\norg.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Cannot load JDBC driver class 'org.mariadb.jdbc.Driver'\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:83) ~[!/:?]\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:646) ~[!/:?]\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:685) ~[!/:?]\n    at org.apache.camel.component.sql.SqlProducer.processInternal(SqlProducer.java:145) ~[!/:3.19.0]\n    at org.apache.camel.component.sql.SqlProducer.process(SqlProducer.java:132) ~[!/:3.19.0]\n    at org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:66) ~[?:?]\n    at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:172) ~[?:?]\n    at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:477) ~[?:?]\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:181) ~[?:?]\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[?:?]\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:175) ~[?:?]\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:392) ~[?:?]\n    at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:210) ~[?:?]\n    at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:76) ~[?:?]\n    at java.util.TimerThread.mainLoop(Timer.java:556) ~[?:?]\n    at java.util.TimerThread.run(Timer.java:506) ~[?:?]\nCaused by: java.sql.SQLException: Cannot load JDBC driver class 'org.mariadb.jdbc.Driver'\n    at org.apache.commons.dbcp2.DriverFactory.createDriver(DriverFactory.java:54) ~[!/:2.9.0]\n    at org.apache.commons.dbcp2.BasicDataSource.createConnectionFactory(BasicDataSource.java:459) ~[!/:2.9.0]\n    at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:525) ~[!/:2.9.0]\n    at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:731) ~[!/:2.9.0]\n    at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[!/:?]\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[!/:?]\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[!/:?]\n    ... 15 more\n</code></pre>\n<p><strong>Karaf Bundles list</strong></p>\n<pre><code>karaf@root()&gt; bundle:list\nSTART LEVEL 100 , List Threshold: 50\n ID │ State    │ Lvl │ Version        │ Name\n────┼──────────┼─────┼────────────────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────\n 32 │ Active   │  80 │ 4.4.1          │ Apache Karaf :: OSGi Services :: Event\n 59 │ Active   │  50 │ 3.19.0         │ camel-api\n 60 │ Active   │  50 │ 3.19.0         │ camel-base\n 61 │ Active   │  50 │ 3.19.0         │ camel-base-engine\n 62 │ Active   │  50 │ 3.19.0         │ camel-bean\n 63 │ Active   │  50 │ 3.19.0         │ camel-browse\n 64 │ Active   │  50 │ 3.19.0         │ camel-cloud\n 65 │ Active   │  50 │ 3.19.0         │ camel-cluster\n 66 │ Active   │  50 │ 3.19.0         │ camel-console\n 67 │ Active   │  50 │ 3.19.0         │ camel-controlbus\n 68 │ Active   │  50 │ 3.19.0         │ camel-core-catalog\n 69 │ Active   │  50 │ 3.19.0         │ camel-core-engine\n 70 │ Active   │  50 │ 3.19.0         │ camel-core-languages\n 71 │ Active   │  50 │ 3.19.0         │ camel-core-model\n 72 │ Active   │  50 │ 3.19.0         │ camel-core-processor\n 73 │ Active   │  50 │ 3.19.0         │ camel-core-reifier\n 74 │ Active   │  50 │ 3.19.0         │ camel-core-xml\n 75 │ Active   │  50 │ 3.19.0         │ camel-dataformat\n 76 │ Active   │  50 │ 3.19.0         │ camel-dataset\n 77 │ Active   │  50 │ 3.19.0         │ camel-direct\n 78 │ Active   │  50 │ 3.19.0         │ camel-directvm\n 79 │ Active   │  50 │ 3.19.0         │ camel-file\n 80 │ Active   │  50 │ 3.19.0         │ camel-health\n 81 │ Active   │  50 │ 3.19.0         │ camel-language\n 82 │ Active   │  50 │ 3.19.0         │ camel-log\n 83 │ Active   │  50 │ 3.19.0         │ camel-main\n 84 │ Active   │  50 │ 3.19.0         │ camel-management\n 85 │ Active   │  50 │ 3.19.0         │ camel-management-api\n 86 │ Active   │  50 │ 3.19.0         │ camel-mock\n 87 │ Active   │  50 │ 3.19.0         │ camel-ref\n 88 │ Active   │  50 │ 3.19.0         │ camel-rest\n 89 │ Active   │  50 │ 3.19.0         │ camel-saga\n 90 │ Active   │  50 │ 3.19.0         │ camel-scheduler\n 91 │ Active   │  50 │ 3.19.0         │ camel-seda\n 92 │ Active   │  50 │ 3.19.0         │ camel-stub\n 93 │ Active   │  50 │ 3.19.0         │ camel-support\n 94 │ Active   │  50 │ 3.19.0         │ camel-timer\n 95 │ Active   │  50 │ 3.19.0         │ camel-tooling-model\n 96 │ Active   │  50 │ 3.19.0         │ camel-util\n 97 │ Active   │  50 │ 3.19.0         │ camel-util-json\n 98 │ Active   │  50 │ 3.19.0         │ camel-validator\n 99 │ Active   │  50 │ 3.19.0         │ camel-vm\n100 │ Active   │  50 │ 3.19.0         │ camel-xml-io-util\n101 │ Active   │  50 │ 3.19.0         │ camel-xml-jaxb\n102 │ Active   │  50 │ 3.19.0         │ camel-xml-jaxp\n103 │ Active   │  50 │ 3.19.0         │ camel-xpath\n104 │ Active   │  50 │ 3.19.0         │ camel-xslt\n105 │ Active   │  50 │ 3.19.0         │ camel-blueprint\n106 │ Active   │  80 │ 3.19.0         │ camel-commands-core\n107 │ Active   │  50 │ 3.19.0         │ camel-core-osgi\n108 │ Active   │  80 │ 3.19.0         │ camel-karaf-commands\n120 │ Active   │  50 │ 3.1.1.SNAPSHOT │ com.github.ben-manes.caffeine\n121 │ Active   │  50 │ 3.19.0         │ camel-sql\n146 │ Active   │  80 │ 2.13.0         │ Jackson-annotations\n147 │ Active   │  80 │ 2.13.0         │ Jackson-core\n148 │ Active   │  80 │ 2.13.0         │ jackson-databind\n155 │ Active   │  80 │ 2.9.0          │ Apache Commons DBCP\n156 │ Active   │  80 │ 2.9.0          │ Apache Commons Pool\n159 │ Active   │  50 │ 3.19.0         │ camel-paho\n160 │ Active   │  50 │ 1.2.5          │ org.eclipse.paho.client.mqttv3\n177 │ Resolved │  80 │ 1.0.0.SNAPSHOT │ camel-jdbc-to-mqtt\n</code></pre>\n<p><strong>Data source section from blueprint.xml</strong></p>\n<pre><code>    &lt;bean id=&quot;dataSourceBean&quot; class=&quot;org.apache.commons.dbcp2.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt;\n        &lt;property name=&quot;driverClassName&quot; value=&quot;org.mariadb.jdbc.Driver&quot;/&gt;\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:mariadb://localhost:3306/test-db&quot;/&gt;\n        &lt;property name=&quot;username&quot; value=&quot;demouser&quot;/&gt;\n        &lt;property name=&quot;password&quot; value=&quot;1demo1&quot;/&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p><strong>Dependencies and plugins from POM</strong></p>\n<pre><code>  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;!-- Camel BOM --&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-bom&lt;/artifactId&gt;\n        &lt;version&gt;3.19.0&lt;/version&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.apache.camel.karaf&lt;/groupId&gt;\n         &lt;artifactId&gt;camel-karaf-bom&lt;/artifactId&gt;\n         &lt;version&gt;3.19.0&lt;/version&gt;\n         &lt;type&gt;pom&lt;/type&gt;\n         &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n\n    &lt;!-- DB connectivity --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n      &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n      &lt;version&gt;3.0.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\n      &lt;version&gt;2.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Camel --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n      &lt;artifactId&gt;camel-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n      &lt;artifactId&gt;camel-sql&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.camel.karaf&lt;/groupId&gt;\n      &lt;artifactId&gt;camel-blueprint&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.camel.karaf&lt;/groupId&gt;\n      &lt;artifactId&gt;camel-blueprint-main&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n      &lt;artifactId&gt;camel-paho&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Testing --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.camel.karaf&lt;/groupId&gt;\n      &lt;artifactId&gt;camel-test-blueprint&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- logging --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- JSON processing --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n      &lt;version&gt;2.13.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n      &lt;version&gt;2.13.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n\n      &lt;!-- compiler plugin --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.10.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;release&gt;11&lt;/release&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- to generate the MANIFEST.MF of the bundle --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-bundle-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.19.0&lt;/version&gt;\n        &lt;extensions&gt;false&lt;/extensions&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;bundle-manifest&lt;/id&gt;\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;manifest&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;!-- to include MANIFEST.MF in the bundle --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifestFile&gt;${project.build.outputDirectory}/META-INF/MANIFEST.MF&lt;/manifestFile&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- to run the example using mvn camel-karaf:run --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.camel.karaf&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-karaf-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.19.0&lt;/version&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n</code></pre>\n"},{"tags":["java","android","kotlin","kotlin-coroutines","coroutine"],"comments":[{"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"score":1,"creation_date":1665923755,"post_id":74087116,"comment_id":130808134,"body_markdown":"Workmanager may be? https://developer.android.com/topic/libraries/architecture/workmanager","body":"Workmanager may be? <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/workmanag&zwnj;&#8203;er</a>"}],"answers":[{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665924242,"creation_date":1665924242,"answer_id":74087209,"question_id":74087116,"body_markdown":"Kotlin Coroutines can be used for that:\r\n\r\n    // making function `suspend` to suspend a coroutine \r\n    // and execute other code after that if need\r\n    private suspend fun uploadFile(img: ImageProxy) = suspendCoroutine { continuation -&gt;\r\n        // ... initialize request\r\n    \r\n        var client = OkHttpClient();\r\n        client.newCall(request).enqueue(object : Callback {\r\n                override fun onResponse(call: Call, response: Response) {\r\n                    println(response.body?.string())\r\n                    continuation.resume(response) // resumes the coroutine\r\n                }\r\n        \r\n                override fun onFailure(call: Call, e: IOException) {\r\n                    Log.e(&quot;Exception:&quot;, e.toString())\r\n                    Log.e(&quot;Error:&quot;, e.message.toString())\r\n                    continuation.resume(null)    // resumes the coroutine\r\n                    // or continuation.resumeWithException(e)\r\n                }\r\n            })\r\n    }\r\n    \r\n    // call this function instead of `uploadFile()`\r\n    private fun upload(img: ImageProxy) {\r\n        // launch-and-forget coroutine\r\n        lifecycleScope.launch {\r\n            uploadFile(img)\r\n            // do something after file is uploaded\r\n        }\r\n    }\r\n\r\n`suspendCoroutine` builder was used here to convert an api function with callback into a `suspend` function.","title":"Run multiple HTTP requests in multiple threads in Kotlin Android","body":"<p>Kotlin Coroutines can be used for that:</p>\n<pre><code>// making function `suspend` to suspend a coroutine \n// and execute other code after that if need\nprivate suspend fun uploadFile(img: ImageProxy) = suspendCoroutine { continuation -&gt;\n    // ... initialize request\n\n    var client = OkHttpClient();\n    client.newCall(request).enqueue(object : Callback {\n            override fun onResponse(call: Call, response: Response) {\n                println(response.body?.string())\n                continuation.resume(response) // resumes the coroutine\n            }\n    \n            override fun onFailure(call: Call, e: IOException) {\n                Log.e(&quot;Exception:&quot;, e.toString())\n                Log.e(&quot;Error:&quot;, e.message.toString())\n                continuation.resume(null)    // resumes the coroutine\n                // or continuation.resumeWithException(e)\n            }\n        })\n}\n\n// call this function instead of `uploadFile()`\nprivate fun upload(img: ImageProxy) {\n    // launch-and-forget coroutine\n    lifecycleScope.launch {\n        uploadFile(img)\n        // do something after file is uploaded\n    }\n}\n</code></pre>\n<p><code>suspendCoroutine</code> builder was used here to convert an api function with callback into a <code>suspend</code> function.</p>\n"},{"tags":[],"owner":{"account_id":17810393,"reputation":886,"user_id":12935154,"display_name":"Samir Ahmane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666201519,"creation_date":1666201519,"answer_id":74129758,"question_id":74087116,"body_markdown":"After delving into more into the application, I had to set a lower resolution on the ImageCaptureConfig builder with `setTargetResolution(resolution)`.\r\n\r\nI started doing multiple requests at the same time, and it seems that the Event Listener on the view is acting asynchronously, managing to perform a request after a request without waiting for the first request to finish uploading the file. There are some limitations, and that&#39;s due to hardware that I&#39;m looking into. But the code I was using works perfectly as I wanted to after I was able to notice uploads on shorter timescales.\r\n\r\n","title":"Run multiple HTTP requests in multiple threads in Kotlin Android","body":"<p>After delving into more into the application, I had to set a lower resolution on the ImageCaptureConfig builder with <code>setTargetResolution(resolution)</code>.</p>\n<p>I started doing multiple requests at the same time, and it seems that the Event Listener on the view is acting asynchronously, managing to perform a request after a request without waiting for the first request to finish uploading the file. There are some limitations, and that's due to hardware that I'm looking into. But the code I was using works perfectly as I wanted to after I was able to notice uploads on shorter timescales.</p>\n"}],"owner":{"account_id":17810393,"reputation":886,"user_id":12935154,"display_name":"Samir Ahmane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":639,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74129758,"answer_count":2,"score":0,"last_activity_date":1666201519,"creation_date":1665923324,"question_id":74087116,"body_markdown":"I have a listener where the user can send a POST HTTP request, but I want to let the user send as many HTTP requests as possible (He won&#39;t have to wait for the HTTP request to end), but I am not sure about whether to use Coroutines or threads. So I need to be pointed into documentation that provides a context for what I want to do.\r\nHere is my code, where the target function to run in a thread is `uploadFile`:\r\n\r\n```kotlin\r\n            ...\r\n            findViewById&lt;View&gt;(R.id.screen).setOnClickListener { _: View? -&gt;\r\n            imgCap.takePicture(object : ImageCapture.OnImageCapturedListener() {\r\n                override fun onCaptureSuccess(image: ImageProxy, rotationDegrees: Int) {\r\n                    i += 1;\r\n                    Log.i(&quot;Click&quot;, &quot;Click number $i&quot;);\r\n                    Toast.makeText(baseContext, &quot;Image Captured&quot;, Toast.LENGTH_SHORT).show()\r\n                    uploadFile(image)\r\n                    super.onCaptureSuccess(image, rotationDegrees)\r\n                }\r\n            })\r\n        }\r\n        CameraX.bindToLifecycle(this, preview, imgCap)\r\n    }\r\n    private fun uploadFile(img: ImageProxy) {\r\n        val url = &quot;https://5d6d-41-97-171-237.eu.ngrok.io/api/photos&quot;\r\n        val bitmap = img.convertImageProxyToBitmap()\r\n        Log.e(&quot;bitmap&quot;, bitmap.toString())\r\n        val imgBase = convertImageToBase64(bitmap)\r\n\r\n        val bos = ByteArrayOutputStream()\r\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 75, bos)\r\n\r\n\r\n        // add parameter\r\n        val formBody = FormBody.Builder().add(&quot;photo&quot;, imgBase).build()\r\n\r\n\r\n        // creating request\r\n        var request = Request.Builder().url(url)\r\n            .post(formBody)\r\n            .build()\r\n\r\n        var client = OkHttpClient();\r\n        client.newCall(request).enqueue(object : Callback {\r\n            override fun onResponse(call: Call, response: Response) {\r\n                println(response.body?.string())\r\n\r\n            }\r\n\r\n            override fun onFailure(call: Call, e: IOException) {\r\n                Log.e(&quot;Exception:&quot;, e.toString())\r\n                Log.e(&quot;Error:&quot;, e.message.toString())\r\n            }\r\n        })\r\n    }\r\n```\r\n","title":"Run multiple HTTP requests in multiple threads in Kotlin Android","body":"<p>I have a listener where the user can send a POST HTTP request, but I want to let the user send as many HTTP requests as possible (He won't have to wait for the HTTP request to end), but I am not sure about whether to use Coroutines or threads. So I need to be pointed into documentation that provides a context for what I want to do.\nHere is my code, where the target function to run in a thread is <code>uploadFile</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>            ...\n            findViewById&lt;View&gt;(R.id.screen).setOnClickListener { _: View? -&gt;\n            imgCap.takePicture(object : ImageCapture.OnImageCapturedListener() {\n                override fun onCaptureSuccess(image: ImageProxy, rotationDegrees: Int) {\n                    i += 1;\n                    Log.i(&quot;Click&quot;, &quot;Click number $i&quot;);\n                    Toast.makeText(baseContext, &quot;Image Captured&quot;, Toast.LENGTH_SHORT).show()\n                    uploadFile(image)\n                    super.onCaptureSuccess(image, rotationDegrees)\n                }\n            })\n        }\n        CameraX.bindToLifecycle(this, preview, imgCap)\n    }\n    private fun uploadFile(img: ImageProxy) {\n        val url = &quot;https://5d6d-41-97-171-237.eu.ngrok.io/api/photos&quot;\n        val bitmap = img.convertImageProxyToBitmap()\n        Log.e(&quot;bitmap&quot;, bitmap.toString())\n        val imgBase = convertImageToBase64(bitmap)\n\n        val bos = ByteArrayOutputStream()\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 75, bos)\n\n\n        // add parameter\n        val formBody = FormBody.Builder().add(&quot;photo&quot;, imgBase).build()\n\n\n        // creating request\n        var request = Request.Builder().url(url)\n            .post(formBody)\n            .build()\n\n        var client = OkHttpClient();\n        client.newCall(request).enqueue(object : Callback {\n            override fun onResponse(call: Call, response: Response) {\n                println(response.body?.string())\n\n            }\n\n            override fun onFailure(call: Call, e: IOException) {\n                Log.e(&quot;Exception:&quot;, e.toString())\n                Log.e(&quot;Error:&quot;, e.message.toString())\n            }\n        })\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1666193727,"post_id":74128101,"comment_id":130879257,"body_markdown":"Can you use an array/collection instead of individual boolean variables?","body":"Can you use an array/collection instead of individual boolean variables?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1666193777,"post_id":74128101,"comment_id":130879278,"body_markdown":"What are the strings (are they unique)? What are the booleans used for? I think your example is overly generified to the point it&#39;s difficult to understand the best approach at the moment, since what it solves isn&#39;t clear.","body":"What are the strings (are they unique)? What are the booleans used for? I think your example is overly generified to the point it&#39;s difficult to understand the best approach at the moment, since what it solves isn&#39;t clear."},{"owner":{"account_id":22491103,"reputation":5310,"user_id":16688813,"display_name":"Tom"},"score":0,"creation_date":1666194842,"post_id":74128101,"comment_id":130879680,"body_markdown":"If you want a one-liner you could use the ternary operator : `return (obj.a ? &quot;some string&quot; : &quot;&quot;) + (obj.b ? &quot;another string&quot; : &quot;&quot;) + (obj.c ? &quot;one more string&quot; : &quot;&quot;);` but you&#39;re sacrificing readability.","body":"If you want a one-liner you could use the ternary operator : <code>return (obj.a ? &quot;some string&quot; : &quot;&quot;) + (obj.b ? &quot;another string&quot; : &quot;&quot;) + (obj.c ? &quot;one more string&quot; : &quot;&quot;);</code> but you&#39;re sacrificing readability."},{"owner":{"account_id":14666883,"reputation":1411,"user_id":10628833,"display_name":"Gustavo Ces&#225;rio"},"score":0,"creation_date":1666198104,"post_id":74128101,"comment_id":130880798,"body_markdown":"What about a method that validates the boolean and appends conditionally? ```private testAndAppend(StringBuilder sb, Boolean testBoolean, String appendText) { if(testBoolean) sb.append(appendText); }```. Too much?","body":"What about a method that validates the boolean and appends conditionally? <code>private testAndAppend(StringBuilder sb, Boolean testBoolean, String appendText) { if(testBoolean) sb.append(appendText); }</code>. Too much?"}],"answers":[{"tags":[],"owner":{"account_id":23485654,"reputation":51,"user_id":17537202,"display_name":"WheelerShigley"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666200463,"creation_date":1666200463,"answer_id":74129577,"question_id":74128101,"body_markdown":"Unless there is a branch-less approach here (usually by multiplying with booleans), using the ternary operator may be clear:\r\n\r\n\r\n    sb += (a == true) ? &quot;some string&quot;     : &quot;&quot;;\r\n    sb += (b == true) ? &quot;another string&quot;  : &quot;&quot;;\r\n    sb += (c == true) ? &quot;one more string&quot; : &quot;&quot;;\r\n\r\nEffectively, this is the same as an if-else block, just more organized and people are more comfortable with this being in a single line for the expression.\r\n\r\n**Ternary Operator usage:**\r\nThe beginning is \\&lt;variable&gt; \\&lt;operator&gt;.\r\nThe next section is ( \\&lt;condition&gt; ) ? where the question mark asks &quot;is this true?&quot;.\r\nThen the first item is a valid value for the variable at the start followed by &quot;:&quot;.\r\nFinally the last item is the value if the condition is false.","title":"Test multiple boolean variables without multiple if statements","body":"<p>Unless there is a branch-less approach here (usually by multiplying with booleans), using the ternary operator may be clear:</p>\n<pre><code>sb += (a == true) ? &quot;some string&quot;     : &quot;&quot;;\nsb += (b == true) ? &quot;another string&quot;  : &quot;&quot;;\nsb += (c == true) ? &quot;one more string&quot; : &quot;&quot;;\n</code></pre>\n<p>Effectively, this is the same as an if-else block, just more organized and people are more comfortable with this being in a single line for the expression.</p>\n<p><strong>Ternary Operator usage:</strong>\nThe beginning is &lt;variable&gt; &lt;operator&gt;.\nThe next section is ( &lt;condition&gt; ) ? where the question mark asks &quot;is this true?&quot;.\nThen the first item is a valid value for the variable at the start followed by &quot;:&quot;.\nFinally the last item is the value if the condition is false.</p>\n"}],"owner":{"account_id":12989369,"reputation":1,"user_id":9389063,"display_name":"saul_goodman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666200463,"creation_date":1666193607,"question_id":74128101,"body_markdown":"I have a class with only boolean parameters\r\n\r\n```\r\nClass Foo{\r\n boolean a;\r\n boolean b;\r\n boolean c;\r\n}\r\n```\r\nBased on what values are  set to true in an object of this class I have to generate a string.\r\nMy current approach looks similar to this\r\n\r\n```\r\n\r\npublic String generate(Foo obj){\r\n StringBuilder sb = new StringBuilder();\r\n\r\nif(obj.a){\r\nsb.append(&quot;some string&quot;);\r\n}\r\n\r\nif(obj.b){\r\nsb.append(&quot;another string&quot;);\r\n}\r\n\r\nif(obj.c){\r\n sb.append(&quot;one more string);\r\n}\r\n\r\nreturn sb.toString();\r\n```\r\n\r\nIs there a better and more elegant way to do this?","title":"Test multiple boolean variables without multiple if statements","body":"<p>I have a class with only boolean parameters</p>\n<pre><code>Class Foo{\n boolean a;\n boolean b;\n boolean c;\n}\n</code></pre>\n<p>Based on what values are  set to true in an object of this class I have to generate a string.\nMy current approach looks similar to this</p>\n<pre><code>\npublic String generate(Foo obj){\n StringBuilder sb = new StringBuilder();\n\nif(obj.a){\nsb.append(&quot;some string&quot;);\n}\n\nif(obj.b){\nsb.append(&quot;another string&quot;);\n}\n\nif(obj.c){\n sb.append(&quot;one more string);\n}\n\nreturn sb.toString();\n</code></pre>\n<p>Is there a better and more elegant way to do this?</p>\n"},{"tags":["java","spring","mongodb","spring-data-mongodb"],"comments":[{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":2,"creation_date":1666171035,"post_id":74119597,"comment_id":130870183,"body_markdown":"see https://stackoverflow.com/questions/74077700/mongoerror-unsupported-op-query-command-insert/74078475#74078475","body":"see <a href=\"https://stackoverflow.com/questions/74077700/mongoerror-unsupported-op-query-command-insert/74078475#74078475\" title=\"mongoerror unsupported op query command insert\">stackoverflow.com/questions/74077700/&hellip;</a>"},{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1666193559,"post_id":74119597,"comment_id":130879186,"body_markdown":"Guidance for what to do (&quot;_The client driver may require an upgrade_&quot;) along with a link to a page containing more details are provided in the error message that you&#39;ve shared directly. What additional assistance are you looking for?","body":"Guidance for what to do (&quot;<i>The client driver may require an upgrade</i>&quot;) along with a link to a page containing more details are provided in the error message that you&#39;ve shared directly. What additional assistance are you looking for?"},{"owner":{"account_id":1628006,"reputation":1827,"user_id":1503080,"accept_rate":40,"display_name":"Asad"},"score":0,"creation_date":1666243317,"post_id":74119597,"comment_id":130890602,"body_markdown":"Does this answer your question? [MongoError: Unsupported OP\\_QUERY command: insert](https://stackoverflow.com/questions/74077700/mongoerror-unsupported-op-query-command-insert)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74077700/mongoerror-unsupported-op-query-command-insert\">MongoError: Unsupported OP_QUERY command: insert</a>"}],"owner":{"account_id":16366572,"reputation":343,"user_id":11820899,"display_name":"arbitrary_A"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3734,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1666200331,"creation_date":1666150825,"question_id":74119597,"body_markdown":"**Exception message** - &#39;Unsupported OP_QUERY command: insert. The client driver may require an upgrade. For more details see https://dochub.mongodb.org/core/legacy-opcode-removal&#39; on server localhost:27017. The full response is { &quot;ok&quot; : 0.0, &quot;errmsg&quot; : &quot;Unsupported OP_QUERY command: insert. The client driver may require an upgrade. For more details see https://dochub.mongodb.org/core/legacy-opcode-removal&quot;, &quot;code&quot; : 352, &quot;codeName&quot; : &quot;UnsupportedOpQueryCommand&quot; }\r\n\r\n**Dependency** - \r\n            \r\n\r\n            &lt;!-- mongodb java driver --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- Spring data mongodb --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.2.0.RELEASE&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n**Properties**\r\n\r\n    info.mongo.host=localhost\r\n    info.mongo.port=27017\r\n    info.mongo.dbname=testing\r\n\r\n**Code** - \r\n\r\n    private static MongoClient mongo;\r\n    DBCollection dbCollection = mongo.getDB(dbName)).getCollection(collectionName);\r\n    BasicDBObject document = new BasicDBObject();\r\n    document.put(&quot;field&quot;, &quot;test field&quot;);\r\n    dbCollection.insert(document);\r\n\r\n\r\nCan anyone please come up with a favor regarding this issue?\r\n","title":"MongoDB error - Command failed with error 352: &#39;Unsupported OP_QUERY command: insert&#39;","body":"<p><strong>Exception message</strong> - 'Unsupported OP_QUERY command: insert. The client driver may require an upgrade. For more details see <a href=\"https://dochub.mongodb.org/core/legacy-opcode-removal%27\" rel=\"nofollow noreferrer\">https://dochub.mongodb.org/core/legacy-opcode-removal'</a> on server localhost:27017. The full response is { &quot;ok&quot; : 0.0, &quot;errmsg&quot; : &quot;Unsupported OP_QUERY command: insert. The client driver may require an upgrade. For more details see <a href=\"https://dochub.mongodb.org/core/legacy-opcode-removal%22\" rel=\"nofollow noreferrer\">https://dochub.mongodb.org/core/legacy-opcode-removal&quot;</a>, &quot;code&quot; : 352, &quot;codeName&quot; : &quot;UnsupportedOpQueryCommand&quot; }</p>\n<p><strong>Dependency</strong> -</p>\n<pre><code>        &lt;!-- mongodb java driver --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring data mongodb --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n            &lt;version&gt;1.2.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p><strong>Properties</strong></p>\n<pre><code>info.mongo.host=localhost\ninfo.mongo.port=27017\ninfo.mongo.dbname=testing\n</code></pre>\n<p><strong>Code</strong> -</p>\n<pre><code>private static MongoClient mongo;\nDBCollection dbCollection = mongo.getDB(dbName)).getCollection(collectionName);\nBasicDBObject document = new BasicDBObject();\ndocument.put(&quot;field&quot;, &quot;test field&quot;);\ndbCollection.insert(document);\n</code></pre>\n<p>Can anyone please come up with a favor regarding this issue?</p>\n"},{"tags":["java","spring-boot","spring-security","wso2","wso2-identity-server"],"answers":[{"comments":[{"owner":{"account_id":19662806,"reputation":27,"user_id":14393912,"display_name":"Fede"},"score":0,"creation_date":1666257626,"post_id":74127265,"comment_id":130895116,"body_markdown":"Thanks that&#39;s what I was searching for! But I have a problem, if I call the API (for example POST localhost:9443/t/carbon.super/scim2/Users) from Postman and I use Basic Authorization (username and password) it works, but if I use OAuth2.0 inserting the JWT token, the Auth URL (localhost:9443/oauth/authorize), the access token URL (localhost:9443/oauth/token), the client-id, the client-secret and scope (internal_user_mgt_create) it doesn&#39;t work, I get a 403 Forbidden even though I gave the user the permissions you wrote me","body":"Thanks that&#39;s what I was searching for! But I have a problem, if I call the API (for example POST localhost:9443/t/carbon.super/scim2/Users) from Postman and I use Basic Authorization (username and password) it works, but if I use OAuth2.0 inserting the JWT token, the Auth URL (localhost:9443/oauth/authorize), the access token URL (localhost:9443/oauth/token), the client-id, the client-secret and scope (internal_user_mgt_create) it doesn&#39;t work, I get a 403 Forbidden even though I gave the user the permissions you wrote me"},{"owner":{"account_id":13173323,"reputation":433,"user_id":9514885,"display_name":"Udesh Athukorala"},"score":0,"creation_date":1666264358,"post_id":74127265,"comment_id":130897567,"body_markdown":"What is the WSO2 identity server version you are using?","body":"What is the WSO2 identity server version you are using?"},{"owner":{"account_id":13173323,"reputation":433,"user_id":9514885,"display_name":"Udesh Athukorala"},"score":1,"creation_date":1666265196,"post_id":74127265,"comment_id":130897819,"body_markdown":"Did you register your application as a management application? In WSO2 identity server 6.0.0, if you need to access the management APIs, you need to create the service provider as a &quot;Management Application&quot;. Refer [1] for more information.\n\n[1] https://is.docs.wso2.com/en/latest/guides/applications/register-sp/#register-a-service-provider","body":"Did you register your application as a management application? In WSO2 identity server 6.0.0, if you need to access the management APIs, you need to create the service provider as a &quot;Management Application&quot;. Refer [1] for more information.  [1] <a href=\"https://is.docs.wso2.com/en/latest/guides/applications/register-sp/#register-a-service-provider\" rel=\"nofollow noreferrer\">is.docs.wso2.com/en/latest/guides/applications/register-sp/&hellip;</a>"}],"tags":[],"owner":{"account_id":13173323,"reputation":433,"user_id":9514885,"display_name":"Udesh Athukorala"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666190158,"creation_date":1666190158,"answer_id":74127265,"question_id":74126442,"body_markdown":"For user related CRUD operations (creation, read, update and delete), in wso2 identity server you can use **SCIM2.0 /Users API** https://is.docs.wso2.com/en/latest/apis/scim2-rest-apis/\r\n\r\nSo you can call relevant SCIM2.0 API related to your operation from your dashboard to add, update, delete users in wso2 identity server.\r\n\r\n - For Add new user : Use **POST** request to **/Users** endpoint. (https://is.docs.wso2.com/en/latest/apis/scim2-rest-apis/#/Users%20Endpoint/createUser)\r\n - For Update a user : Use **PUT** request(https://is.docs.wso2.com/en/latest/apis/scim2-rest-apis/#/Users%20Endpoint/updateUser) or **PATCH** request(https://is.docs.wso2.com/en/latest/apis/scim2-rest-apis/#/Users%20Endpoint/patchUser) to **/Users/{user-id}** endpoint. \r\n- For Delete a user : Use **DELETE** request(https://is.docs.wso2.com/en/latest/apis/scim2-rest-apis/#/Users%20Endpoint/deleteUser) to **/Users/{user-id}** endpoint. \r\n","title":"Spring and WSO2 Identity Server","body":"<p>For user related CRUD operations (creation, read, update and delete), in wso2 identity server you can use <strong>SCIM2.0 /Users API</strong> <a href=\"https://is.docs.wso2.com/en/latest/apis/scim2-rest-apis/\" rel=\"nofollow noreferrer\">https://is.docs.wso2.com/en/latest/apis/scim2-rest-apis/</a></p>\n<p>So you can call relevant SCIM2.0 API related to your operation from your dashboard to add, update, delete users in wso2 identity server.</p>\n<ul>\n<li>For Add new user : Use <strong>POST</strong> request to <strong>/Users</strong> endpoint. (<a href=\"https://is.docs.wso2.com/en/latest/apis/scim2-rest-apis/#/Users%20Endpoint/createUser\" rel=\"nofollow noreferrer\">https://is.docs.wso2.com/en/latest/apis/scim2-rest-apis/#/Users%20Endpoint/createUser</a>)</li>\n<li>For Update a user : Use <strong>PUT</strong> request(<a href=\"https://is.docs.wso2.com/en/latest/apis/scim2-rest-apis/#/Users%20Endpoint/updateUser\" rel=\"nofollow noreferrer\">https://is.docs.wso2.com/en/latest/apis/scim2-rest-apis/#/Users%20Endpoint/updateUser</a>) or <strong>PATCH</strong> request(<a href=\"https://is.docs.wso2.com/en/latest/apis/scim2-rest-apis/#/Users%20Endpoint/patchUser\" rel=\"nofollow noreferrer\">https://is.docs.wso2.com/en/latest/apis/scim2-rest-apis/#/Users%20Endpoint/patchUser</a>) to <strong>/Users/{user-id}</strong> endpoint.</li>\n<li>For Delete a user : Use <strong>DELETE</strong> request(<a href=\"https://is.docs.wso2.com/en/latest/apis/scim2-rest-apis/#/Users%20Endpoint/deleteUser\" rel=\"nofollow noreferrer\">https://is.docs.wso2.com/en/latest/apis/scim2-rest-apis/#/Users%20Endpoint/deleteUser</a>) to <strong>/Users/{user-id}</strong> endpoint.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":19662806,"reputation":27,"user_id":14393912,"display_name":"Fede"},"score":0,"creation_date":1666257620,"post_id":74129524,"comment_id":130895114,"body_markdown":"Thanks that&#39;s what I was searching for! But I have a problem, if I call the API (for example POST localhost:9443/t/carbon.super/scim2/Users) from Postman and I use Basic Authorization (username and password) it works, but if I use OAuth2.0 inserting the JWT token, the Auth URL (localhost:9443/oauth/authorize), the access token URL (localhost:9443/oauth/token), the client-id, the client-secret and scope (internal_user_mgt_create) it doesn&#39;t work, I get a 403 Forbidden even though I gave the user the permissions you wrote me","body":"Thanks that&#39;s what I was searching for! But I have a problem, if I call the API (for example POST localhost:9443/t/carbon.super/scim2/Users) from Postman and I use Basic Authorization (username and password) it works, but if I use OAuth2.0 inserting the JWT token, the Auth URL (localhost:9443/oauth/authorize), the access token URL (localhost:9443/oauth/token), the client-id, the client-secret and scope (internal_user_mgt_create) it doesn&#39;t work, I get a 403 Forbidden even though I gave the user the permissions you wrote me"},{"owner":{"account_id":20549773,"reputation":411,"user_id":15082730,"display_name":"Sominda Gamage"},"score":0,"creation_date":1666258269,"post_id":74129524,"comment_id":130895357,"body_markdown":"Can you share a sample curl that you use? Make sure to mask any sensitive information","body":"Can you share a sample curl that you use? Make sure to mask any sensitive information"},{"owner":{"account_id":19662806,"reputation":27,"user_id":14393912,"display_name":"Fede"},"score":0,"creation_date":1666259179,"post_id":74129524,"comment_id":130895734,"body_markdown":"curl -v -X POST -H &quot;Authorization: Basic &lt;client-id:client-secret&gt;&quot; -k -d &quot;grant_type=password&amp;username=&lt;username&gt;&amp;password=&lt;password&gt;&amp;scope=internal_user_mgt_create&quot; -H &quot;Content-Type:application/x-www-form-urlencoded&quot; https://localhost:9443/oauth2/token","body":"curl -v -X POST -H &quot;Authorization: Basic &lt;client-id:client-secret&gt;&quot; -k -d &quot;grant_type=password&amp;username=&lt;username&gt;&amp;password=&lt;password&gt;&zwnj;&#8203;&amp;scope=internal_user&zwnj;&#8203;_mgt_create&quot; -H &quot;Content-Type:application/x-www-form-urlencoded&quot; <a href=\"https://localhost:9443/oauth2/token\" rel=\"nofollow noreferrer\">localhost:9443/oauth2/token</a>"},{"owner":{"account_id":20549773,"reputation":411,"user_id":15082730,"display_name":"Sominda Gamage"},"score":1,"creation_date":1666266003,"post_id":74129524,"comment_id":130898115,"body_markdown":"Try this.\ncurl -L -X POST &#39;https://localhost:9443/t/carbon.super/oauth2/token&#39; -H &#39;Authorization: Basic aWNuZk1RQ0lGdlBwVjR0d3lscW5UT0JhcXFZYTo4MWVSNldLcHZUWDhFbjNiS3hvUUdGX0NwQmdh&#39; -H &#39;Content-Type: application/x-www-form-urlencoded&#39; --data-urlencode &#39;grant_type=password&#39; --data-urlencode &#39;username=manager&#39; --data-urlencode &#39;password=manager&#39; --data-urlencode &#39;scope=internal_user_mgt_list&#39;","body":"Try this. curl -L -X POST &#39;<a href=\"https://localhost:9443/t/carbon.super/oauth2/token\" rel=\"nofollow noreferrer\">localhost:9443/t/carbon.super/oauth2/token</a>&#39; -H &#39;Authorization: Basic aWNuZk1RQ0lGdlBwVjR0d3lscW5UT0JhcXFZYTo4MWVSNldLcHZUWDhFbjNi&zwnj;&#8203;S3hvUUdGX0NwQmdh&#39; -H &#39;Content-Type: application/x-www-form-urlencoded&#39; --data-urlencode &#39;grant_type=password&#39; --data-urlencode &#39;username=manager&#39; --data-urlencode &#39;password=manager&#39; --data-urlencode &#39;scope=internal_user_mgt_list&#39;"},{"owner":{"account_id":20549773,"reputation":411,"user_id":15082730,"display_name":"Sominda Gamage"},"score":0,"creation_date":1666266128,"post_id":74129524,"comment_id":130898161,"body_markdown":"Use the above to get the token and change the scopes accordingly, If you are trying with the latest IS (IS 6.0.0) make sure to mark the application as a `management application` and then try the token call.","body":"Use the above to get the token and change the scopes accordingly, If you are trying with the latest IS (IS 6.0.0) make sure to mark the application as a <code>management application</code> and then try the token call."}],"tags":[],"owner":{"account_id":20549773,"reputation":411,"user_id":15082730,"display_name":"Sominda Gamage"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666200271,"creation_date":1666200271,"answer_id":74129524,"question_id":74126442,"body_markdown":"For USER CRUD operations you can use the SCIM User APIs mentioned in [this doc][1].\r\n\r\nYou can create a new role in the identity server and add the following permissions to it. Adding these permissions will make sure that the created role has only user view, update and delete permissions.\r\n```\r\n - /permission/admin/manage/identity/usermgt/view\r\n - /permission/admin/manage/identity/usermgt/create\r\n - /permission/admin/manage/identity/usermgt/update\r\n - /permission/admin/manage/identity/usermgt/delete\r\n```\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAfter creating the role, you can assign the role to the user who wants to manage users. Once done you can get a token for that user and use that token to authenticate the SCIM User APIs mentioned in [this doc][1] and manage users.\r\n\r\n\r\n  [1]: https://is.docs.wso2.com/en/latest/apis/scim2-rest-apis/#/Users%20Endpoint\r\n  [2]: https://i.stack.imgur.com/SrgGy.png","title":"Spring and WSO2 Identity Server","body":"<p>For USER CRUD operations you can use the SCIM User APIs mentioned in <a href=\"https://is.docs.wso2.com/en/latest/apis/scim2-rest-apis/#/Users%20Endpoint\" rel=\"nofollow noreferrer\">this doc</a>.</p>\n<p>You can create a new role in the identity server and add the following permissions to it. Adding these permissions will make sure that the created role has only user view, update and delete permissions.</p>\n<pre><code> - /permission/admin/manage/identity/usermgt/view\n - /permission/admin/manage/identity/usermgt/create\n - /permission/admin/manage/identity/usermgt/update\n - /permission/admin/manage/identity/usermgt/delete\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/SrgGy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SrgGy.png\" alt=\"enter image description here\" /></a></p>\n<p>After creating the role, you can assign the role to the user who wants to manage users. Once done you can get a token for that user and use that token to authenticate the SCIM User APIs mentioned in <a href=\"https://is.docs.wso2.com/en/latest/apis/scim2-rest-apis/#/Users%20Endpoint\" rel=\"nofollow noreferrer\">this doc</a> and manage users.</p>\n"}],"owner":{"account_id":19662806,"reputation":27,"user_id":14393912,"display_name":"Fede"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74129524,"answer_count":2,"score":1,"last_activity_date":1666200271,"creation_date":1666186945,"question_id":74126442,"body_markdown":"I&#39;m trying to implement a Dashboard where some users (those who have the role of Manager) can add, update and remove other users. Is there a way to add a new user updating not only my database but also the wso2 identity server? ","title":"Spring and WSO2 Identity Server","body":"<p>I'm trying to implement a Dashboard where some users (those who have the role of Manager) can add, update and remove other users. Is there a way to add a new user updating not only my database but also the wso2 identity server?</p>\n"},{"tags":["java","archunit"],"answers":[{"comments":[{"owner":{"account_id":1985027,"reputation":672,"user_id":1780517,"display_name":"Vahe Harutyunyan"},"score":0,"creation_date":1666192377,"post_id":74127738,"comment_id":130878698,"body_markdown":"Thanks @manfred. This is exactly what I wanted, because Jackson requires no arg public constructor. I think it will be good if we have this directly in lib similar to  .haveOnlyPrivateConstructors(),","body":"Thanks @manfred. This is exactly what I wanted, because Jackson requires no arg public constructor. I think it will be good if we have this directly in lib similar to  .haveOnlyPrivateConstructors(),"}],"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666200267,"creation_date":1666191969,"answer_id":74127738,"question_id":74127131,"body_markdown":"If you really want to find (compiler-generated) [default constructors](https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.8.9), you need to be aware of two things:\r\n1. ArchUnit probably cannot distinguish the bytecode of a compiler-generated default constructor from a user-generated empty constructor (cf. [ArchUnit#322](https://github.com/TNG/ArchUnit/issues/322#issuecomment-589524333)).\r\n2. Unless you limit your rule to outer classes, finding default constructors is tricky, cf. [ArchUnit#349](https://github.com/TNG/ArchUnit/issues/349#issuecomment-618715157).\r\n\r\nBut from a practical perspective, you probably rather want to ensure that your DTOs have a public constructor without parameters? Then you could use\r\n```java\r\nclasses()\r\n    .that().haveSimpleNameEndingWith(&quot;DTO&quot;)\r\n    .should(new ArchCondition&lt;JavaClass&gt;(&quot;have a public constructor without parameters&quot;) {\r\n        @Override\r\n        public void check(JavaClass javaClass, ConditionEvents events) {\r\n            boolean satisfied = javaClass.getConstructors().stream()\r\n                .anyMatch(constructor -&gt;\r\n                    constructor.getModifiers().contains(JavaModifier.PUBLIC) \r\n                            &amp;&amp; constructor.getParameters().isEmpty()\r\n                );\r\n            String message = javaClass.getDescription() + (satisfied ? &quot; has&quot; : &quot; does not have&quot;)\r\n                    + &quot; a public constructor without parameters&quot;;\r\n            events.add(new SimpleConditionEvent(javaClass, satisfied, message));\r\n        }\r\n    });\r\n```\r\n\r\nIf you want to ensure that your DTOs _only_ have a public constructor without parameters, you could replace `anyMatch` by `allMatch` in the above solution.","title":"How to check with ArchUnit that all DTO classes should have default constructor","body":"<p>If you really want to find (compiler-generated) <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.8.9\" rel=\"nofollow noreferrer\">default constructors</a>, you need to be aware of two things:</p>\n<ol>\n<li>ArchUnit probably cannot distinguish the bytecode of a compiler-generated default constructor from a user-generated empty constructor (cf. <a href=\"https://github.com/TNG/ArchUnit/issues/322#issuecomment-589524333\" rel=\"nofollow noreferrer\">ArchUnit#322</a>).</li>\n<li>Unless you limit your rule to outer classes, finding default constructors is tricky, cf. <a href=\"https://github.com/TNG/ArchUnit/issues/349#issuecomment-618715157\" rel=\"nofollow noreferrer\">ArchUnit#349</a>.</li>\n</ol>\n<p>But from a practical perspective, you probably rather want to ensure that your DTOs have a public constructor without parameters? Then you could use</p>\n<pre class=\"lang-java prettyprint-override\"><code>classes()\n    .that().haveSimpleNameEndingWith(&quot;DTO&quot;)\n    .should(new ArchCondition&lt;JavaClass&gt;(&quot;have a public constructor without parameters&quot;) {\n        @Override\n        public void check(JavaClass javaClass, ConditionEvents events) {\n            boolean satisfied = javaClass.getConstructors().stream()\n                .anyMatch(constructor -&gt;\n                    constructor.getModifiers().contains(JavaModifier.PUBLIC) \n                            &amp;&amp; constructor.getParameters().isEmpty()\n                );\n            String message = javaClass.getDescription() + (satisfied ? &quot; has&quot; : &quot; does not have&quot;)\n                    + &quot; a public constructor without parameters&quot;;\n            events.add(new SimpleConditionEvent(javaClass, satisfied, message));\n        }\n    });\n</code></pre>\n<p>If you want to ensure that your DTOs <em>only</em> have a public constructor without parameters, you could replace <code>anyMatch</code> by <code>allMatch</code> in the above solution.</p>\n"}],"owner":{"account_id":1985027,"reputation":672,"user_id":1780517,"display_name":"Vahe Harutyunyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74127738,"answer_count":1,"score":0,"last_activity_date":1666200267,"creation_date":1666189614,"question_id":74127131,"body_markdown":"How to check with ArchUnit that all .*DTO classes should have default constructor.\r\n\r\n    classes().that()\r\n             .haveNameMatching(&quot;.*DTO&quot;)\r\n             .should()\r\n             .haveOnlyPrivateConstructors();// instead of this something like &#39;haveDefaultConstructor&#39;\r\n\r\n\r\nis there a way in check haveDefaultConstructor()?\r\nI was not able to find it in docs\r\n\r\nI think this is very common case when you want to test for default constructors. \r\n","title":"How to check with ArchUnit that all DTO classes should have default constructor","body":"<p>How to check with ArchUnit that all .*DTO classes should have default constructor.</p>\n<pre><code>classes().that()\n         .haveNameMatching(&quot;.*DTO&quot;)\n         .should()\n         .haveOnlyPrivateConstructors();// instead of this something like 'haveDefaultConstructor'\n</code></pre>\n<p>is there a way in check haveDefaultConstructor()?\nI was not able to find it in docs</p>\n<p>I think this is very common case when you want to test for default constructors.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1666197826,"post_id":74128991,"comment_id":130880701,"body_markdown":"Please [edit] the post and format the code properly.","body":"Please <a href=\"https://stackoverflow.com/posts/74128991/edit\">edit</a> the post and format the code properly."},{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":1,"creation_date":1666198134,"post_id":74128991,"comment_id":130880805,"body_markdown":"Your Artists class seems like it should be Artist -- it only holds a single artist ...","body":"Your Artists class seems like it should be Artist -- it only holds a single artist ..."},{"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"score":0,"creation_date":1666198135,"post_id":74128991,"comment_id":130880806,"body_markdown":"Create an ArrayList and add a1,a2,a3 to that list. And, yeah.. static field is fine.","body":"Create an ArrayList and add a1,a2,a3 to that list. And, yeah.. static field is fine."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":1,"creation_date":1666198168,"post_id":74128991,"comment_id":130880815,"body_markdown":"Artists should be Artist since each Artist object represent a single artist.  You can just use ArrayList to store your Artist objects unless the assignment specific asks you to write your own collection class.","body":"Artists should be Artist since each Artist object represent a single artist.  You can just use ArrayList to store your Artist objects unless the assignment specific asks you to write your own collection class."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1666198179,"post_id":74128991,"comment_id":130880822,"body_markdown":"Your `#insert` method could simply be in the constructor for `Artists`. I&#39;d also rename `Artists` to `Artist`, as it currently seems to represent a single `Artist` overall. From there, you could simply make a `List&lt;Artist&gt;` of the various artists of interest.","body":"Your <code>#insert</code> method could simply be in the constructor for <code>Artists</code>. I&#39;d also rename <code>Artists</code> to <code>Artist</code>, as it currently seems to represent a single <code>Artist</code> overall. From there, you could simply make a <code>List&lt;Artist&gt;</code> of the various artists of interest."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1666198751,"post_id":74128991,"comment_id":130880997,"body_markdown":"I&#39;m pretty sure you&#39;ve already asked this question earlier this day.","body":"I&#39;m pretty sure you&#39;ve already asked this question earlier this day."},{"owner":{"account_id":26672741,"reputation":11,"user_id":20283951,"display_name":"renboo ai"},"score":0,"creation_date":1666198762,"post_id":74128991,"comment_id":130881002,"body_markdown":"@Rogue there is 3 artists the a1,a2 and a3. Would I make the list in the main class or the new class?","body":"@Rogue there is 3 artists the a1,a2 and a3. Would I make the list in the main class or the new class?"}],"answers":[{"tags":[],"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666198656,"creation_date":1666198347,"answer_id":74129122,"question_id":74128991,"body_markdown":"Declare a List, and put your Artist instances into it. \r\n\r\n```\r\nList&lt;Artists&gt; myArtists = new ArrayList&lt;&gt;();\r\nmyArtists.add(a1);\r\nmyArtists.add(a2);\r\nmyArtists.add(a3);\r\n```\r\n\r\nSince your requirement is to create a &quot;static&quot; list (probably for an assignment because you&#39;d never want to do this in real life), declare the list at the class level and populate it (`add` statements) in `main`. \r\n\r\nYou can add any (reasonable) number of artists to this list using the `add` method as you create new artists instances.\r\n\r\n---\r\n\r\nBeyond that, you&#39;ve got some basic issues with the design of your classes. While they _work_, they&#39;re not necessarily _correct_.\r\n\r\nYour &quot;Artists&quot; class contains information for only a single artist, so the class should be called Artist (singular.) Further, the `insert` method is populating that artist, and should be a constructor.\r\n\r\n```\r\npublic class Artist {\r\n  private int id;\r\n  private String description;\r\n  private int year;\r\n\r\n  public Artist(int id, String description, int year) {\r\n    this.id = id;\r\n    this.description = description;\r\n    this.year = year;\r\n  }\r\n\r\n  public void display() {\r\n    System.out.println(id + description + year);\r\n  }\r\n}\r\n```\r\n\r\nNote your display method is a bit weird -- there&#39;s no spaces between those variable values.\r\n\r\nYou&#39;d now create a new artist like this:\r\n\r\n```\r\nArtist a1 = new Artist(1, &quot;Bob&quot;, 2010);\r\n```\r\n\r\nThis makes the &quot;populate the list&quot; exercise even easier, since you can do it in one line:\r\n\r\n```\r\nList&lt;Artist&gt; myArtists = new ArrayList&lt;&gt;();\r\nmyArtists.add(new Artist(1, &quot;Bob&quot;, 2010));\r\n```\r\n\r\nAlso, unless your assignment specifically asks for a &quot;runner&quot; class, you could just stick the main method right on the Artist class itself.","title":"Create a collection class that contains a list","body":"<p>Declare a List, and put your Artist instances into it.</p>\n<pre><code>List&lt;Artists&gt; myArtists = new ArrayList&lt;&gt;();\nmyArtists.add(a1);\nmyArtists.add(a2);\nmyArtists.add(a3);\n</code></pre>\n<p>Since your requirement is to create a &quot;static&quot; list (probably for an assignment because you'd never want to do this in real life), declare the list at the class level and populate it (<code>add</code> statements) in <code>main</code>.</p>\n<p>You can add any (reasonable) number of artists to this list using the <code>add</code> method as you create new artists instances.</p>\n<hr />\n<p>Beyond that, you've got some basic issues with the design of your classes. While they <em>work</em>, they're not necessarily <em>correct</em>.</p>\n<p>Your &quot;Artists&quot; class contains information for only a single artist, so the class should be called Artist (singular.) Further, the <code>insert</code> method is populating that artist, and should be a constructor.</p>\n<pre><code>public class Artist {\n  private int id;\n  private String description;\n  private int year;\n\n  public Artist(int id, String description, int year) {\n    this.id = id;\n    this.description = description;\n    this.year = year;\n  }\n\n  public void display() {\n    System.out.println(id + description + year);\n  }\n}\n</code></pre>\n<p>Note your display method is a bit weird -- there's no spaces between those variable values.</p>\n<p>You'd now create a new artist like this:</p>\n<pre><code>Artist a1 = new Artist(1, &quot;Bob&quot;, 2010);\n</code></pre>\n<p>This makes the &quot;populate the list&quot; exercise even easier, since you can do it in one line:</p>\n<pre><code>List&lt;Artist&gt; myArtists = new ArrayList&lt;&gt;();\nmyArtists.add(new Artist(1, &quot;Bob&quot;, 2010));\n</code></pre>\n<p>Also, unless your assignment specifically asks for a &quot;runner&quot; class, you could just stick the main method right on the Artist class itself.</p>\n"},{"comments":[{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1666199178,"post_id":74129195,"comment_id":130881132,"body_markdown":"Keep in mind that `record` can only be used java 14+.\nHopefully for learning a modern version is used but for legacy issues/... i would use a simple classy collection without the record","body":"Keep in mind that <code>record</code> can only be used java 14+. Hopefully for learning a modern version is used but for legacy issues/... i would use a simple classy collection without the record"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666200200,"post_id":74129195,"comment_id":130881484,"body_markdown":"@LenglBoy (a) Actually, Java 16+ for `record`. (b) Java 17 is the latest long-term support version. So there is no need to point out versions when the Question has no specific constraint. Otherwise all Answers here would be written for Java 1.0.","body":"@LenglBoy (a) Actually, Java 16+ for <code>record</code>. (b) Java 17 is the latest long-term support version. So there is no need to point out versions when the Question has no specific constraint. Otherwise all Answers here would be written for Java 1.0."},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1666210315,"post_id":74129195,"comment_id":130884751,"body_markdown":"Actually you can use `record` since Java 14 but the final/current implementation is fixed since 16. Just wanted to mention it since such basic questions might need additional information.","body":"Actually you can use <code>record</code> since Java 14 but the final/current implementation is fixed since 16. Just wanted to mention it since such basic questions might need additional information."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666215221,"post_id":74129195,"comment_id":130886165,"body_markdown":"@LenglBoy I would *not* suggest preview features to beginners. I believe Java-related Answers should by default be written using the latest long-term support version of Java, using only final features (no previews). Exceptions include: (a) Question stating an earlier version as a constraint, (b) Answers purposely using a specific feature of particular interest, final or preview, that exists in a later interim release of Java. Perhaps this issue would be a good subject for a page on https://meta.stackexchange.com/.","body":"@LenglBoy I would <i>not</i> suggest preview features to beginners. I believe Java-related Answers should by default be written using the latest long-term support version of Java, using only final features (no previews). Exceptions include: (a) Question stating an earlier version as a constraint, (b) Answers purposely using a specific feature of particular interest, final or preview, that exists in a later interim release of Java. Perhaps this issue would be a good subject for a page on <a href=\"https://meta.stackexchange.com/\">meta.stackexchange.com</a>."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666199656,"creation_date":1666198694,"answer_id":74129195,"question_id":74128991,"body_markdown":"Your `main` method could be reduced to this:\r\n\r\n    record Artist ( int id , String description , Year year ) {}\r\n    List &lt; Artist &gt; artists = \r\n        List.of\r\n        (\r\n            new Artist ( 23, &quot;An&quot;, Year.of( 2015 ) ) ,\r\n            new Artist ( … ) ,\r\n            new Artist ( … ) \r\n        )\r\n    ;\r\n    System.out.println( artists ) ;\r\n\r\nA [record][1] is a brief way to define a class whose main purpose is to communicate data transparently and immutably. A record can be defined locally, within a method. \r\n\r\n[`java.time.Year`][2] is a class for representing a year.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/395?source=:so:tw:or:awr:odv:::\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Year.html","title":"Create a collection class that contains a list","body":"<p>Your <code>main</code> method could be reduced to this:</p>\n<pre><code>record Artist ( int id , String description , Year year ) {}\nList &lt; Artist &gt; artists = \n    List.of\n    (\n        new Artist ( 23, &quot;An&quot;, Year.of( 2015 ) ) ,\n        new Artist ( … ) ,\n        new Artist ( … ) \n    )\n;\nSystem.out.println( artists ) ;\n</code></pre>\n<p>A <a href=\"https://openjdk.org/jeps/395?source=:so:tw:or:awr:odv:::\" rel=\"nofollow noreferrer\">record</a> is a brief way to define a class whose main purpose is to communicate data transparently and immutably. A record can be defined locally, within a method.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Year.html\" rel=\"nofollow noreferrer\"><code>java.time.Year</code></a> is a class for representing a year.</p>\n"}],"owner":{"account_id":26672741,"reputation":11,"user_id":20283951,"display_name":"renboo ai"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1666199656,"creation_date":1666197690,"question_id":74128991,"body_markdown":"I have a class that contains information:\r\n\r\n    class Artists {\r\n        int id;\r\n        String description;\r\n        int year;\r\n    \r\n        void insert(int i, String d, int y) {\r\n            id = i;\r\n            description = d;\r\n            year = y;\r\n        }\r\n    \r\n        void display() {\r\n            System.out.println(id + description + year);\r\n        }\r\n    }\r\n    \r\n    public class ArtistsRunner {\r\n        public static void main(String[] args) {\r\n            Artists a1 = new Artists();\r\n            Artists a2 = new Artists();\r\n            Artists a3 = new Artists();\r\n    \r\n            a1.insert(23, &quot;An&quot;, 2015);\r\n            a2.insert(13, &quot;Mon&quot;, 2089);\r\n            a3.insert(11, &quot;Gla&quot;, 2013);\r\n    \r\n            a1.display();\r\n            a1.display();\r\n            a3.display();\r\n        }\r\n    }\r\n\r\n**I want to make another java class with a collection class of the list of artists. How would I retrieve info from the artists class , make that into a list in my new java class?**\r\n\r\nI think I have to:\r\n\r\n1. declare a static collection field in my class with the main method\r\n2. create a new artist, add it to that collection\r\n\r\nIs this correct? How would I do this?\r\n (still very new to Java)\r\n\r\n\r\n\r\n","title":"Create a collection class that contains a list","body":"<p>I have a class that contains information:</p>\n<pre><code>class Artists {\n    int id;\n    String description;\n    int year;\n\n    void insert(int i, String d, int y) {\n        id = i;\n        description = d;\n        year = y;\n    }\n\n    void display() {\n        System.out.println(id + description + year);\n    }\n}\n\npublic class ArtistsRunner {\n    public static void main(String[] args) {\n        Artists a1 = new Artists();\n        Artists a2 = new Artists();\n        Artists a3 = new Artists();\n\n        a1.insert(23, &quot;An&quot;, 2015);\n        a2.insert(13, &quot;Mon&quot;, 2089);\n        a3.insert(11, &quot;Gla&quot;, 2013);\n\n        a1.display();\n        a1.display();\n        a3.display();\n    }\n}\n</code></pre>\n<p><strong>I want to make another java class with a collection class of the list of artists. How would I retrieve info from the artists class , make that into a list in my new java class?</strong></p>\n<p>I think I have to:</p>\n<ol>\n<li>declare a static collection field in my class with the main method</li>\n<li>create a new artist, add it to that collection</li>\n</ol>\n<p>Is this correct? How would I do this?\n(still very new to Java)</p>\n"},{"tags":["java","linked-list","recursive-datastructures"],"comments":[{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":0,"creation_date":1666197494,"post_id":74128868,"comment_id":130880595,"body_markdown":"The parameter to `isValid` is an _array_ of Strings. Since `isValid` is part of the Payment class, and the Payment class has `fromPerson` and `toPerson`, I would assume that the parameter `String[] persons` contains all of the valid persons, and indeed the documentation says &quot;A Payment is valid if it is done between registered persons **provided in the array persons**&quot;","body":"The parameter to <code>isValid</code> is an <i>array</i> of Strings. Since <code>isValid</code> is part of the Payment class, and the Payment class has <code>fromPerson</code> and <code>toPerson</code>, I would assume that the parameter <code>String[] persons</code> contains all of the valid persons, and indeed the documentation says &quot;A Payment is valid if it is done between registered persons <b>provided in the array persons</b>&quot;"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1666197584,"post_id":74128868,"comment_id":130880614,"body_markdown":"The title doesn&#39;t match the question.  Why is the type in isValid an array of string?  Should it be an array of Persons?  Many other problems.  But you first need to fix at least isValid method.","body":"The title doesn&#39;t match the question.  Why is the type in isValid an array of string?  Should it be an array of Persons?  Many other problems.  But you first need to fix at least isValid method."},{"owner":{"display_name":"user18588015"},"score":0,"creation_date":1666197738,"post_id":74128868,"comment_id":130880665,"body_markdown":"Yes it would have to. In test case it given 2 String arrays contains valid persons. But how do I link payment class and String [] persons to check it is valid or not","body":"Yes it would have to. In test case it given 2 String arrays contains valid persons. But how do I link payment class and String [] persons to check it is valid or not"},{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":0,"creation_date":1666197947,"post_id":74128868,"comment_id":130880738,"body_markdown":"The test case does not _give_ 2 String arrays; it _has_ 2 String arrays and it gives _one_ String array to `isValid` which is _either_ `registeredPeopleV1` or `registeredPeopleV2`","body":"The test case does not <i>give</i> 2 String arrays; it <i>has</i> 2 String arrays and it gives <i>one</i> String array to <code>isValid</code> which is <i>either</i> <code>registeredPeopleV1</code> or <code>registeredPeopleV2</code>"},{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":0,"creation_date":1666198158,"post_id":74128868,"comment_id":130880812,"body_markdown":"As for your question _&quot;Can a node hold more than 1 data?&quot;_ ... that would be using an object of some class. If you had a `Person` class that had first &amp; last name, age, etc. you could, for example, pass an array `Person[]` to isValid instead of Strings, and test if the person&#39;s age &gt; 18 besides testing the name.","body":"As for your question <i>&quot;Can a node hold more than 1 data?&quot;</i> ... that would be using an object of some class. If you had a <code>Person</code> class that had first &amp; last name, age, etc. you could, for example, pass an array <code>Person[]</code> to isValid instead of Strings, and test if the person&#39;s age &gt; 18 besides testing the name."},{"owner":{"display_name":"user18588015"},"score":0,"creation_date":1666198323,"post_id":74128868,"comment_id":130880869,"body_markdown":"persons is just one of the parameter of Payment as seen in the constructor.In the isValid method how would I check whether it is valid or not as per question.","body":"persons is just one of the parameter of Payment as seen in the constructor.In the isValid method how would I check whether it is valid or not as per question."}],"answers":[{"comments":[{"owner":{"display_name":"user18588015"},"score":0,"creation_date":1666199550,"post_id":74129306,"comment_id":130881240,"body_markdown":"Thank you, it worked. Were you able to tell why my one isn&#39;t working tho...","body":"Thank you, it worked. Were you able to tell why my one isn&#39;t working tho..."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1666199735,"post_id":74129306,"comment_id":130881295,"body_markdown":"In your isValid(), fromPerson and toPerson exists and are the same person, then you return true.  otherwise, it will always return false.","body":"In your isValid(), fromPerson and toPerson exists and are the same person, then you return true.  otherwise, it will always return false."},{"owner":{"display_name":"user18588015"},"score":0,"creation_date":1666200032,"post_id":74129306,"comment_id":130881418,"body_markdown":"Aha, thank you so much. Now I see the problem, they were both under same index before so I should separate them into 2 cases. Appreciate it!","body":"Aha, thank you so much. Now I see the problem, they were both under same index before so I should separate them into 2 cases. Appreciate it!"},{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":1,"creation_date":1666214466,"post_id":74129306,"comment_id":130885979,"body_markdown":"With such small _registered people_ arrays for testing this doesn&#39;t matter ... but you could add a line in your for-loop after `if (from.equals(p)) fromFound = true;` to quit the loop rather than keep looking to the end of the array as soon as both are found: `if (toFound &amp;&amp; fromFound) break;` — and skip unneeded string compares by doing `if (! toFound &amp;&amp; to.equals(p)) toFound = true;`","body":"With such small <i>registered people</i> arrays for testing this doesn&#39;t matter ... but you could add a line in your for-loop after <code>if (from.equals(p)) fromFound = true;</code> to quit the loop rather than keep looking to the end of the array as soon as both are found: <code>if (toFound &amp;&amp; fromFound) break;</code> — and skip unneeded string compares by doing <code>if (! toFound &amp;&amp; to.equals(p)) toFound = true;</code>"}],"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666199268,"creation_date":1666199268,"answer_id":74129306,"question_id":74128868,"body_markdown":"I got what you meant.  \r\n\r\nWhat you want to do is search the string array contains names of persons to see if both to and from are in the array.\r\n\r\nHere&#39;s a possible solution:\r\n\r\n```\r\nclass Payment {\r\n   String from, to;\r\n   Payment(String f, String t){ from = f;  to = t;}\r\n   \r\n   boolean isValid(String[] persons) {\r\n     if (from.equals(to)) return false;  \r\n     boolean toFound = false;\r\n     boolean fromFound = false;\r\n     for(String p: persons){\r\n        if (to.equals(p))   toFound = true;\r\n        if (from.equals(p)) fromFound = true;\r\n     }\r\n     return toFound &amp;&amp; fromFound;\r\n  }\r\n}\r\npublic class Main{\r\n\tpublic static void main(String[] args) {\r\n\t\tString[] persons = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\r\n\t\tPayment[] payments = { \r\n            new Payment(&quot;a&quot;, &quot;b&quot;), new Payment(&quot;a&quot;, &quot;a&quot;),\r\n\t\t    new Payment(&quot;a&quot;, &quot;x&quot;), new Payment(&quot;x&quot;, &quot;y&quot;),\r\n\t\t    new Payment(&quot;b&quot;, &quot;c&quot;)};\r\n\t\tfor(Payment p: payments)\r\n\t\t  System.out.println(p.isValid(persons));\r\n\t}\r\n}\r\n```","title":"Linkedlist with multi attributes","body":"<p>I got what you meant.</p>\n<p>What you want to do is search the string array contains names of persons to see if both to and from are in the array.</p>\n<p>Here's a possible solution:</p>\n<pre><code>class Payment {\n   String from, to;\n   Payment(String f, String t){ from = f;  to = t;}\n   \n   boolean isValid(String[] persons) {\n     if (from.equals(to)) return false;  \n     boolean toFound = false;\n     boolean fromFound = false;\n     for(String p: persons){\n        if (to.equals(p))   toFound = true;\n        if (from.equals(p)) fromFound = true;\n     }\n     return toFound &amp;&amp; fromFound;\n  }\n}\npublic class Main{\n    public static void main(String[] args) {\n        String[] persons = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\n        Payment[] payments = { \n            new Payment(&quot;a&quot;, &quot;b&quot;), new Payment(&quot;a&quot;, &quot;a&quot;),\n            new Payment(&quot;a&quot;, &quot;x&quot;), new Payment(&quot;x&quot;, &quot;y&quot;),\n            new Payment(&quot;b&quot;, &quot;c&quot;)};\n        for(Payment p: payments)\n          System.out.println(p.isValid(persons));\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user18588015"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74129306,"answer_count":1,"score":1,"last_activity_date":1666199268,"creation_date":1666197145,"question_id":74128868,"body_markdown":"    public class Payment { \r\n      public String fromPerson; // name of Person paying\r\n      public String toPerson; // name of Person receiving payment\r\n      public double amount; // amount payed\r\n      public Timestamp timestamp; // unique time stamp (provided at the time of creation)\r\n      public Payment next; // reference to next payment in appropriate Ledger Linked List\r\n    \r\n      /**\r\n       * Basic empty constructor for a payment\r\n       */\r\n    \r\n      public Payment() {\r\n        // Provided - not to be changed\r\n        this.fromPerson = null;\r\n        this.toPerson = null;\r\n        this.amount = 0;\r\n        this.timestamp = null;\r\n        this.next = null;\r\n      } \r\n      /**\r\n       * Payment constructor with all necessary fields to be inserted in Ledger\r\n       * \r\n       * @param fromPerson is the person paying\r\n       * @param toPerson   is the person receiving the payment\r\n       * @param amount     is the amount payed\r\n       * @param timestamp  is time at creation of payment\r\n       * @param next       is the next payment\r\n       */\r\n    \r\n      public Payment(String fromPerson, String toPerson, double amount, Payment next) {\r\n        // Provided - not to be changed\r\n        this.fromPerson = fromPerson;\r\n        this.toPerson = toPerson;\r\n        this.amount = amount;\r\n        this.timestamp = new Timestamp(); // time stamp is automatically set at creation\r\n        this.next = next;\r\n      }\r\n    \r\n      /**\r\n       * A Payment is valid if it is done between registered persons provided in the\r\n       * array persons\r\n       * \r\n       * \r\n       * @param persons - array of persons who can make and receive payment\r\n       * \r\n       * @return true if the Payment is valid based on the criteria listed above,\r\n       *         false otherwise\r\n       */\r\n      public boolean isValid(String[] persons) {\r\n     \r\n      }\r\n    \r\n    }\r\n\r\nTest Case \r\n\r\n     public void testPaymentIsValid() {\r\n    \r\n        assertTimeoutPreemptively(Duration.ofMillis(1000), () -&gt; {\r\n    \r\n          String[] registeredPeopleV1 = { &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot; };\r\n          String[] registeredPeopleV2 = { &quot;Brian&quot;, &quot;Thomas&quot;, &quot;Elizabeth&quot;, &quot;Sakura&quot;, &quot;Lucy&quot;, &quot;Tyson&quot; };\r\n    \r\n          // Case 1: Payment from unregistered person\r\n    \r\n          Payment invalid1 = new Payment(&quot;t&quot;, &quot;a&quot;, 10.0, null);\r\n          assertFalse(invalid1.isValid(registeredPeopleV1));\r\n    \r\n          Payment invalid2 = new Payment(&quot;Gray&quot;, &quot;Brian&quot;, 4.0, null);\r\n          assertFalse(invalid2.isValid(registeredPeopleV2));\r\n    \r\n          // Case 2: Payment to unregistered person\r\n          Payment invalid3 = new Payment(&quot;a&quot;, &quot;t&quot;, 10.0, null);\r\n          assertFalse(invalid3.isValid(registeredPeopleV1));\r\n    \r\n          Payment invalid4 = new Payment(&quot;Brian&quot;, &quot;Gray&quot;, 4.0, null);\r\n          assertFalse(invalid4.isValid(registeredPeopleV2));\r\n    \r\n          // Case 3: Unregistered people involved in the payment\r\n          Payment invalid5 = new Payment(&quot;Sai&quot;, &quot;Mei&quot;, 22.1, null);\r\n          assertFalse(invalid5.isValid(registeredPeopleV2));\r\n    \r\n          // Case 4: Valid payment between registered people\r\n          Payment valid1 = new Payment(&quot;a&quot;, &quot;b&quot;, 100.0, null);\r\n          assertTrue(valid1.isValid(registeredPeopleV1));\r\n    \r\n          Payment valid2 = new Payment(&quot;Sakura&quot;, &quot;Thomas&quot;, 20.0, null);\r\n          assertTrue(valid2.isValid(registeredPeopleV2));\r\n    \r\n          Payment validCase = new Payment(&quot;sakura&quot;, &quot;thomas&quot;, 220, null);\r\n          assertTrue(validCase.isValid(registeredPeopleV2)); // The names should not be case-sensitive\r\n    \r\n          // Case 5: Payment whose next is NOT null (To ensure it only checks current\r\n          // payment and NOT the next one)\r\n          Payment valid3 = new Payment(&quot;Lucy&quot;, &quot;Thomas&quot;, 20.0, valid2);\r\n          assertTrue(valid3.isValid(registeredPeopleV2));\r\n    \r\n          Payment valid4 = new Payment(&quot;Lucy&quot;, &quot;Thomas&quot;, 20.0, invalid2); // doesn&#39;t matter even if next payment is invalid\r\n          assertTrue(valid4.isValid(registeredPeopleV2));\r\n    \r\n          Payment invalid6 = new Payment(&quot;t&quot;, &quot;a&quot;, 10.0, valid1); // doesn&#39;t matter even if next payment is valid\r\n          assertFalse(invalid6.isValid(registeredPeopleV1));\r\n    \r\n          Payment invalid7 = new Payment(&quot;t&quot;, &quot;a&quot;, 10.0, invalid1);\r\n          assertFalse(invalid7.isValid(registeredPeopleV1));\r\n    \r\n        });\r\n        currentMethodName = new Throwable().getStackTrace()[0].getMethodName();\r\n      }\r\n\r\n\r\nI am so confused about the input of the isValid method.\r\nSo the node here is Payment and the input for the isValid is String of person which part of the data that payment holds, how do I check all the person are in there? \r\nCan a node hold more than 1 data ?\r\n\r\n      public boolean isValid(String[] persons) {\r\n        for(int i=0;i&lt;persons.length;i++) {\r\n          if(this.fromPerson.equals(persons[i])&amp;&amp;this.toPerson.equals(persons[i])) {\r\n            return true;\r\n          }\r\n        }\r\n        return false;\r\n      }\r\n\r\nThis is what I have done but seems only returning false all the time.","title":"Linkedlist with multi attributes","body":"<pre><code>public class Payment { \n  public String fromPerson; // name of Person paying\n  public String toPerson; // name of Person receiving payment\n  public double amount; // amount payed\n  public Timestamp timestamp; // unique time stamp (provided at the time of creation)\n  public Payment next; // reference to next payment in appropriate Ledger Linked List\n\n  /**\n   * Basic empty constructor for a payment\n   */\n\n  public Payment() {\n    // Provided - not to be changed\n    this.fromPerson = null;\n    this.toPerson = null;\n    this.amount = 0;\n    this.timestamp = null;\n    this.next = null;\n  } \n  /**\n   * Payment constructor with all necessary fields to be inserted in Ledger\n   * \n   * @param fromPerson is the person paying\n   * @param toPerson   is the person receiving the payment\n   * @param amount     is the amount payed\n   * @param timestamp  is time at creation of payment\n   * @param next       is the next payment\n   */\n\n  public Payment(String fromPerson, String toPerson, double amount, Payment next) {\n    // Provided - not to be changed\n    this.fromPerson = fromPerson;\n    this.toPerson = toPerson;\n    this.amount = amount;\n    this.timestamp = new Timestamp(); // time stamp is automatically set at creation\n    this.next = next;\n  }\n\n  /**\n   * A Payment is valid if it is done between registered persons provided in the\n   * array persons\n   * \n   * \n   * @param persons - array of persons who can make and receive payment\n   * \n   * @return true if the Payment is valid based on the criteria listed above,\n   *         false otherwise\n   */\n  public boolean isValid(String[] persons) {\n \n  }\n\n}\n</code></pre>\n<p>Test Case</p>\n<pre><code> public void testPaymentIsValid() {\n\n    assertTimeoutPreemptively(Duration.ofMillis(1000), () -&gt; {\n\n      String[] registeredPeopleV1 = { &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot; };\n      String[] registeredPeopleV2 = { &quot;Brian&quot;, &quot;Thomas&quot;, &quot;Elizabeth&quot;, &quot;Sakura&quot;, &quot;Lucy&quot;, &quot;Tyson&quot; };\n\n      // Case 1: Payment from unregistered person\n\n      Payment invalid1 = new Payment(&quot;t&quot;, &quot;a&quot;, 10.0, null);\n      assertFalse(invalid1.isValid(registeredPeopleV1));\n\n      Payment invalid2 = new Payment(&quot;Gray&quot;, &quot;Brian&quot;, 4.0, null);\n      assertFalse(invalid2.isValid(registeredPeopleV2));\n\n      // Case 2: Payment to unregistered person\n      Payment invalid3 = new Payment(&quot;a&quot;, &quot;t&quot;, 10.0, null);\n      assertFalse(invalid3.isValid(registeredPeopleV1));\n\n      Payment invalid4 = new Payment(&quot;Brian&quot;, &quot;Gray&quot;, 4.0, null);\n      assertFalse(invalid4.isValid(registeredPeopleV2));\n\n      // Case 3: Unregistered people involved in the payment\n      Payment invalid5 = new Payment(&quot;Sai&quot;, &quot;Mei&quot;, 22.1, null);\n      assertFalse(invalid5.isValid(registeredPeopleV2));\n\n      // Case 4: Valid payment between registered people\n      Payment valid1 = new Payment(&quot;a&quot;, &quot;b&quot;, 100.0, null);\n      assertTrue(valid1.isValid(registeredPeopleV1));\n\n      Payment valid2 = new Payment(&quot;Sakura&quot;, &quot;Thomas&quot;, 20.0, null);\n      assertTrue(valid2.isValid(registeredPeopleV2));\n\n      Payment validCase = new Payment(&quot;sakura&quot;, &quot;thomas&quot;, 220, null);\n      assertTrue(validCase.isValid(registeredPeopleV2)); // The names should not be case-sensitive\n\n      // Case 5: Payment whose next is NOT null (To ensure it only checks current\n      // payment and NOT the next one)\n      Payment valid3 = new Payment(&quot;Lucy&quot;, &quot;Thomas&quot;, 20.0, valid2);\n      assertTrue(valid3.isValid(registeredPeopleV2));\n\n      Payment valid4 = new Payment(&quot;Lucy&quot;, &quot;Thomas&quot;, 20.0, invalid2); // doesn't matter even if next payment is invalid\n      assertTrue(valid4.isValid(registeredPeopleV2));\n\n      Payment invalid6 = new Payment(&quot;t&quot;, &quot;a&quot;, 10.0, valid1); // doesn't matter even if next payment is valid\n      assertFalse(invalid6.isValid(registeredPeopleV1));\n\n      Payment invalid7 = new Payment(&quot;t&quot;, &quot;a&quot;, 10.0, invalid1);\n      assertFalse(invalid7.isValid(registeredPeopleV1));\n\n    });\n    currentMethodName = new Throwable().getStackTrace()[0].getMethodName();\n  }\n</code></pre>\n<p>I am so confused about the input of the isValid method.\nSo the node here is Payment and the input for the isValid is String of person which part of the data that payment holds, how do I check all the person are in there?\nCan a node hold more than 1 data ?</p>\n<pre><code>  public boolean isValid(String[] persons) {\n    for(int i=0;i&lt;persons.length;i++) {\n      if(this.fromPerson.equals(persons[i])&amp;&amp;this.toPerson.equals(persons[i])) {\n        return true;\n      }\n    }\n    return false;\n  }\n</code></pre>\n<p>This is what I have done but seems only returning false all the time.</p>\n"},{"tags":["java","request","http-status-code-404","vert.x"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":1,"creation_date":1665595145,"post_id":74045548,"comment_id":130739765,"body_markdown":"You might want to remove the API key from your post.","body":"You might want to remove the API key from your post."}],"answers":[{"tags":[],"owner":{"account_id":15523266,"reputation":224,"user_id":11198871,"display_name":"Varun Thakur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666198684,"creation_date":1666198684,"answer_id":74129192,"question_id":74045548,"body_markdown":"    HttpClientOptions options = new HttpClientOptions();\r\n\r\n    options.setLogActivity(true);\r\n    options.setDefaultPort(443);\r\n    options.setSsl(true);\r\n\r\n    HttpClient client = vertx.createHttpClient(options);\r\n\r\n    client.request(HttpMethod.GET, &quot;api.apilayer.com&quot;, &quot;/currency_data/convert?to=USD&amp;from=EUR&amp;amount=5&amp;apikey=&quot;)\r\n      .compose(HttpClientRequest::send)\r\n      .onSuccess(response -&gt; {\r\n        System.out.println(&quot;Received response with status code &quot; + response.statusCode());\r\n        int code = response.statusCode();\r\n        if (code == 200) {\r\n          response.bodyHandler(bufferResponse -&gt; {\r\n            JsonObject httpResult = bufferResponse.toJsonObject();\r\n            System.out.println(&quot;Received HTTP response with body &quot; + httpResult);\r\n          });\r\n        } else {\r\n\r\n          response.bodyHandler(bufferResponse -&gt; {\r\n            System.out.println(&quot;Received HTTP response with body &quot; + bufferResponse.toString());\r\n          });\r\n        }\r\n\r\n      }).onFailure(Throwable::printStackTrace);\r\n\r\n\r\n\r\nThe HttpClientOptions were incorrect. I fixed the configurations in the above code snippet and it worked on my local.","title":"Code 404 when calling APILayer currency conversion service","body":"<pre><code>HttpClientOptions options = new HttpClientOptions();\n\noptions.setLogActivity(true);\noptions.setDefaultPort(443);\noptions.setSsl(true);\n\nHttpClient client = vertx.createHttpClient(options);\n\nclient.request(HttpMethod.GET, &quot;api.apilayer.com&quot;, &quot;/currency_data/convert?to=USD&amp;from=EUR&amp;amount=5&amp;apikey=&quot;)\n  .compose(HttpClientRequest::send)\n  .onSuccess(response -&gt; {\n    System.out.println(&quot;Received response with status code &quot; + response.statusCode());\n    int code = response.statusCode();\n    if (code == 200) {\n      response.bodyHandler(bufferResponse -&gt; {\n        JsonObject httpResult = bufferResponse.toJsonObject();\n        System.out.println(&quot;Received HTTP response with body &quot; + httpResult);\n      });\n    } else {\n\n      response.bodyHandler(bufferResponse -&gt; {\n        System.out.println(&quot;Received HTTP response with body &quot; + bufferResponse.toString());\n      });\n    }\n\n  }).onFailure(Throwable::printStackTrace);\n</code></pre>\n<p>The HttpClientOptions were incorrect. I fixed the configurations in the above code snippet and it worked on my local.</p>\n"}],"owner":{"account_id":12460510,"reputation":1,"user_id":10597386,"display_name":"Daydreamer067"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666198684,"creation_date":1665594030,"question_id":74045548,"body_markdown":"I need to send a request to APILayer.\r\nIn the browser it works perfectly.\r\nhttps://api.apilayer.com/currency_data/convert?to=USD&amp;from=EUR&amp;amount=5&amp;apikey=\r\n\r\nI want to send the request using Vertx.\r\n\r\n        HttpClientOptions options = new HttpClientOptions();\r\n\r\n        options.setLogActivity(true);\r\n        options.setDefaultPort(8080);\r\n\r\n        HttpClient client = routingContext.vertx().createHttpClient(options);\r\n\r\n        client.request(HttpMethod.GET,&quot;api.apilayer.com/currency_data/convert?to=&quot;+to+&quot;&amp;from=&quot;+from+&quot;&amp;amount=&quot;+amount+&quot;&amp;apikey=&quot;, response -&gt; {\r\n            System.out.println(&quot;Received response with status code &quot; + response.statusCode());\r\n            int code = response.statusCode();\r\n            if (code == 200) {\r\n                response.bodyHandler(bufferResponse -&gt; {\r\n                    JsonObject httpResult = bufferResponse.toJsonObject();\r\n                    System.out.println(&quot;Received HTTP response with body &quot; + httpResult);\r\n                });\r\n            } else {\r\n\r\n                response.bodyHandler(bufferResponse -&gt; {\r\n                    String httpResult = &quot;{null}&quot;;\r\n                });\r\n            }\r\n\r\n        }).putHeader(HttpHeaders.CONTENT_TYPE, &quot;&quot;).end();\r\n\r\nI always get error 404.\r\nAnyone knows how to get the response ?\r\n\r\nThank you","title":"Code 404 when calling APILayer currency conversion service","body":"<p>I need to send a request to APILayer.\nIn the browser it works perfectly.\n<a href=\"https://api.apilayer.com/currency_data/convert?to=USD&amp;from=EUR&amp;amount=5&amp;apikey=\" rel=\"nofollow noreferrer\">https://api.apilayer.com/currency_data/convert?to=USD&amp;from=EUR&amp;amount=5&amp;apikey=</a></p>\n<p>I want to send the request using Vertx.</p>\n<pre><code>    HttpClientOptions options = new HttpClientOptions();\n\n    options.setLogActivity(true);\n    options.setDefaultPort(8080);\n\n    HttpClient client = routingContext.vertx().createHttpClient(options);\n\n    client.request(HttpMethod.GET,&quot;api.apilayer.com/currency_data/convert?to=&quot;+to+&quot;&amp;from=&quot;+from+&quot;&amp;amount=&quot;+amount+&quot;&amp;apikey=&quot;, response -&gt; {\n        System.out.println(&quot;Received response with status code &quot; + response.statusCode());\n        int code = response.statusCode();\n        if (code == 200) {\n            response.bodyHandler(bufferResponse -&gt; {\n                JsonObject httpResult = bufferResponse.toJsonObject();\n                System.out.println(&quot;Received HTTP response with body &quot; + httpResult);\n            });\n        } else {\n\n            response.bodyHandler(bufferResponse -&gt; {\n                String httpResult = &quot;{null}&quot;;\n            });\n        }\n\n    }).putHeader(HttpHeaders.CONTENT_TYPE, &quot;&quot;).end();\n</code></pre>\n<p>I always get error 404.\nAnyone knows how to get the response ?</p>\n<p>Thank you</p>\n"},{"tags":["java","xml","xstream"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666197923,"post_id":74129019,"comment_id":130880728,"body_markdown":"And what is the question?","body":"And what is the question?"},{"owner":{"account_id":26673600,"reputation":1,"user_id":20284695,"display_name":"David"},"score":0,"creation_date":1666198318,"post_id":74129019,"comment_id":130880864,"body_markdown":"I need to solve java.lang.ClassCastException \nand I don&#39;t know how to do it","body":"I need to solve java.lang.ClassCastException  and I don&#39;t know how to do it"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666198591,"post_id":74129019,"comment_id":130880947,"body_markdown":"You might want to include some information about the error then.","body":"You might want to include some information about the error then."},{"owner":{"account_id":26673600,"reputation":1,"user_id":20284695,"display_name":"David"},"score":0,"creation_date":1666198693,"post_id":74129019,"comment_id":130880978,"body_markdown":"this is the error in question Exception in thread &quot;main&quot; java.lang.ClassCastException: java.util.ArrayList cannot be cast to generated.ListaDepartamentos","body":"this is the error in question Exception in thread &quot;main&quot; java.lang.ClassCastException: java.util.ArrayList cannot be cast to generated.ListaDepartamentos"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666199190,"post_id":74129019,"comment_id":130881138,"body_markdown":"`A ClassCastException [occurs] if, after the type conversions above have been applied, the resulting value is an object which is not an instance of a subclass or subinterface of the erasure (&#167;4.6) of the type of the variable.`  https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.2","body":"<code>A ClassCastException [occurs] if, after the type conversions above have been applied, the resulting value is an object which is not an instance of a subclass or subinterface of the erasure (&#167;4.6) of the type of the variable.</code>  <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.2\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.2</a>"},{"owner":{"account_id":26673600,"reputation":1,"user_id":20284695,"display_name":"David"},"score":0,"creation_date":1666202164,"post_id":74129019,"comment_id":130882163,"body_markdown":"thanks for your help good man, you helped me.","body":"thanks for your help good man, you helped me."}],"owner":{"account_id":26673600,"reputation":1,"user_id":20284695,"display_name":"David"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666197962,"creation_date":1666197861,"question_id":74129019,"body_markdown":" This is the Method Java\r\n\r\n     public static void ImportarXMLDepartamentos() throws FileNotFoundException {\r\n    \r\n    \txstream = new XStream();\r\n    \txstream.setClassLoader(Thread.currentThread().getContextClassLoader());\r\n    \r\n    \txstream.alias(&quot;ListaDepartamentos&quot;, ListaDepartamentos.class);\r\n    \txstream.alias(&quot;Departamento&quot;, ListaDepartamentos.Departamento.class);\r\n    \txstream.addImplicitCollection(ListaDepartamentos.class, &quot;departamento&quot;);\r\n    \txstream.addPermission(AnyTypePermission.ANY);\r\n    \r\n    \tListaDepartamentos listado = (ListaDepartamentos) xstream.fromXML(new FileInputStream(&quot;copia.xml&quot;));\r\n    \r\n    \tList&lt;ListaDepartamentos.Departamento&gt; listadoDepartamentos = new ArrayList&lt;ListaDepartamentos.Departamento&gt;();\r\n    \tlistadoDepartamentos = listado.getDepartamento();\r\n    \r\n    \tIterator iterador = listadoDepartamentos.listIterator();\r\n    \twhile (iterador.hasNext()) {\r\n    \t\tDepartamento dep = (Departamento) iterador.next();\r\n    \t\tSystem.out.println(dep.getDeptNo());\r\n    \r\n    \t}\r\n    \tSystem.out.println(&quot;Fin&quot;);\r\n    }\r\n\r\n  \r\nThis is the XML\r\n\r\n    &lt;antes&gt;\r\n    \r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        \r\n        -&lt;ListaDepartamentos&gt;\r\n        \r\n        \r\n        -&lt;Departamento&gt;\r\n        \r\n        &lt;Dept_no&gt;10&lt;/Dept_no&gt;\r\n        \r\n        &lt;Nombre&gt;Programacion&lt;/Nombre&gt;\r\n        \r\n        &lt;Localizacion&gt;Madrid&lt;/Localizacion&gt;\r\n        \r\n        &lt;/Departamento&gt;\r\n        \r\n        \r\n        -&lt;Departamento&gt;\r\n        \r\n        &lt;Dept_no&gt;20&lt;/Dept_no&gt;\r\n        \r\n        &lt;Nombre&gt;Disenio&lt;/Nombre&gt;\r\n        \r\n        &lt;Localizacion&gt;Albacete&lt;/Localizacion&gt;\r\n        \r\n        &lt;/Departamento&gt;\r\n        \r\n        \r\n        -&lt;Departamento&gt;\r\n        \r\n        &lt;Dept_no&gt;30&lt;/Dept_no&gt;\r\n        \r\n        &lt;Nombre&gt;Programacion&lt;/Nombre&gt;\r\n        \r\n        &lt;Localizacion&gt;Madrid&lt;/Localizacion&gt;\r\n        \r\n        &lt;/Departamento&gt;\r\n        \r\n        &lt;/ListaDepartamentos&gt;\r\n    &lt;/pre&gt;\r\n\r\n[Edit note: I included everything above that looked like XML, however the OP my not have intended all of this to be the actual XML source.  Caveat emptor.]","title":"I&#39;m using a java application to parse some XML using XStream","body":"<p>This is the Method Java</p>\n<pre><code> public static void ImportarXMLDepartamentos() throws FileNotFoundException {\n\n    xstream = new XStream();\n    xstream.setClassLoader(Thread.currentThread().getContextClassLoader());\n\n    xstream.alias(&quot;ListaDepartamentos&quot;, ListaDepartamentos.class);\n    xstream.alias(&quot;Departamento&quot;, ListaDepartamentos.Departamento.class);\n    xstream.addImplicitCollection(ListaDepartamentos.class, &quot;departamento&quot;);\n    xstream.addPermission(AnyTypePermission.ANY);\n\n    ListaDepartamentos listado = (ListaDepartamentos) xstream.fromXML(new FileInputStream(&quot;copia.xml&quot;));\n\n    List&lt;ListaDepartamentos.Departamento&gt; listadoDepartamentos = new ArrayList&lt;ListaDepartamentos.Departamento&gt;();\n    listadoDepartamentos = listado.getDepartamento();\n\n    Iterator iterador = listadoDepartamentos.listIterator();\n    while (iterador.hasNext()) {\n        Departamento dep = (Departamento) iterador.next();\n        System.out.println(dep.getDeptNo());\n\n    }\n    System.out.println(&quot;Fin&quot;);\n}\n</code></pre>\n<p>This is the XML</p>\n<pre><code>&lt;antes&gt;\n\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    \n    -&lt;ListaDepartamentos&gt;\n    \n    \n    -&lt;Departamento&gt;\n    \n    &lt;Dept_no&gt;10&lt;/Dept_no&gt;\n    \n    &lt;Nombre&gt;Programacion&lt;/Nombre&gt;\n    \n    &lt;Localizacion&gt;Madrid&lt;/Localizacion&gt;\n    \n    &lt;/Departamento&gt;\n    \n    \n    -&lt;Departamento&gt;\n    \n    &lt;Dept_no&gt;20&lt;/Dept_no&gt;\n    \n    &lt;Nombre&gt;Disenio&lt;/Nombre&gt;\n    \n    &lt;Localizacion&gt;Albacete&lt;/Localizacion&gt;\n    \n    &lt;/Departamento&gt;\n    \n    \n    -&lt;Departamento&gt;\n    \n    &lt;Dept_no&gt;30&lt;/Dept_no&gt;\n    \n    &lt;Nombre&gt;Programacion&lt;/Nombre&gt;\n    \n    &lt;Localizacion&gt;Madrid&lt;/Localizacion&gt;\n    \n    &lt;/Departamento&gt;\n    \n    &lt;/ListaDepartamentos&gt;\n&lt;/pre&gt;\n</code></pre>\n<p>[Edit note: I included everything above that looked like XML, however the OP my not have intended all of this to be the actual XML source.  Caveat emptor.]</p>\n"},{"tags":["java","cmd","console","conways-game-of-life"],"answers":[{"comments":[{"owner":{"account_id":25746211,"reputation":19,"user_id":19499394,"display_name":"RagingMonkey"},"score":0,"creation_date":1666197854,"post_id":74128874,"comment_id":130880712,"body_markdown":"Yes, that works, but I am wondering if there is a way to make it smoother. For example, the updating mechanic requires the entire console data to be removed, which causes a momentary black screen that is distracting. Is there a way to update the console without clearing?","body":"Yes, that works, but I am wondering if there is a way to make it smoother. For example, the updating mechanic requires the entire console data to be removed, which causes a momentary black screen that is distracting. Is there a way to update the console without clearing?"},{"owner":{"account_id":5638694,"reputation":398,"user_id":4463352,"display_name":"OLEGSHA"},"score":0,"creation_date":1666199091,"post_id":74128874,"comment_id":130881097,"body_markdown":"I think you should consider using a proper console drawing library if you want better performance.","body":"I think you should consider using a proper console drawing library if you want better performance."}],"tags":[],"owner":{"account_id":5638694,"reputation":398,"user_id":4463352,"display_name":"OLEGSHA"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666197166,"creation_date":1666197166,"answer_id":74128874,"question_id":74128758,"body_markdown":"The following code works for me. Notice how the expression with `ProcessBuilder` is separated into a new static method; perhaps you were confused by the use of `main` method in the linked answer.\r\n\r\n```java\r\nimport java.io.*;\r\n\r\npublic class Test {\r\n\r\n    private static void clearScreen() throws IOException, InterruptedException {\r\n        new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, &quot;cls&quot;).inheritIO().start().waitFor();\r\n    }\r\n\r\n    public static void main(String... arg) throws IOException, InterruptedException {\r\n        System.out.println(&quot;One&quot;);\r\n        Thread.sleep(1000l); // Wait 1 second\r\n        clearScreen();\r\n\r\n        System.out.println(&quot;Two&quot;);\r\n        Thread.sleep(1000l); // Wait 1 second\r\n        clearScreen();\r\n\r\n        System.out.println(&quot;Three&quot;);\r\n    }\r\n\r\n}\r\n```","title":"Clear and update console in Java through iterations","body":"<p>The following code works for me. Notice how the expression with <code>ProcessBuilder</code> is separated into a new static method; perhaps you were confused by the use of <code>main</code> method in the linked answer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\n\npublic class Test {\n\n    private static void clearScreen() throws IOException, InterruptedException {\n        new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, &quot;cls&quot;).inheritIO().start().waitFor();\n    }\n\n    public static void main(String... arg) throws IOException, InterruptedException {\n        System.out.println(&quot;One&quot;);\n        Thread.sleep(1000l); // Wait 1 second\n        clearScreen();\n\n        System.out.println(&quot;Two&quot;);\n        Thread.sleep(1000l); // Wait 1 second\n        clearScreen();\n\n        System.out.println(&quot;Three&quot;);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25746211,"reputation":19,"user_id":19499394,"display_name":"RagingMonkey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666197907,"creation_date":1666196647,"question_id":74128758,"body_markdown":"I am trying to create a version of Conway&#39;s Game of Life in Java, where after each iteration, the console is updated in some way to imitate the next generation. \r\n\r\nI have seen `Runtime.getRuntime().exec(&quot;cls&quot;);` but that clears the console and creates a black screen delay between iterations, which is visually annoying. \r\nUsing @Holger &#39;s info from [this answer][1], \r\n\r\n        public class CLS {\r\n        public static void main(String... arg) throws IOException, InterruptedException {\r\n            new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, &quot;cls&quot;).inheritIO().start().waitFor();\r\n        }\r\n    }\r\nI am more wondering if there is a way to make it smoother. For example, the updating mechanic requires the entire console data to be removed, which causes a momentary black screen that is distracting. Is there a way to update the console without clearing?\r\n\r\nPlease let me know if you can think of any workaround or better way of solving this problem!\r\n\r\n  [1]: https://stackoverflow.com/questions/2979383/how-to-clear-the-console?noredirect=1&amp;lq=1","title":"Clear and update console in Java through iterations","body":"<p>I am trying to create a version of Conway's Game of Life in Java, where after each iteration, the console is updated in some way to imitate the next generation.</p>\n<p>I have seen <code>Runtime.getRuntime().exec(&quot;cls&quot;);</code> but that clears the console and creates a black screen delay between iterations, which is visually annoying.\nUsing @Holger 's info from <a href=\"https://stackoverflow.com/questions/2979383/how-to-clear-the-console?noredirect=1&amp;lq=1\">this answer</a>,</p>\n<pre><code>    public class CLS {\n    public static void main(String... arg) throws IOException, InterruptedException {\n        new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, &quot;cls&quot;).inheritIO().start().waitFor();\n    }\n}\n</code></pre>\n<p>I am more wondering if there is a way to make it smoother. For example, the updating mechanic requires the entire console data to be removed, which causes a momentary black screen that is distracting. Is there a way to update the console without clearing?</p>\n<p>Please let me know if you can think of any workaround or better way of solving this problem!</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"answers":[{"comments":[{"owner":{"account_id":15052974,"reputation":37,"user_id":15976162,"display_name":"Bhargav Velisetti"},"score":0,"creation_date":1666073572,"post_id":74103509,"comment_id":130842559,"body_markdown":"I tried something Like below and getting the same error. ```             \n            row.withFieldValue(&quot;name&quot;, arr[0]);\n            row.withFieldValue(&quot;id1&quot;,Long.valueOf(arr[1]));\n            row.withFieldValue(&quot;id2&quot;,Long.valueOf(arr[2]));\n            row.withFieldValue(&quot;id3&quot;,Long.valueOf(arr[3]));\n            row.withFieldValue(&quot;id4&quot;,Long.valueOf(arr[4]));``` . I tried setting up all Fields as STRING still did not work for me.","body":"I tried something Like below and getting the same error. ```                          row.withFieldValue(&quot;name&quot;, arr[0]);             row.withFieldValue(&quot;id1&quot;,Long.valueOf(arr[1]));             row.withFieldValue(&quot;id2&quot;,Long.valueOf(arr[2]));             row.withFieldValue(&quot;id3&quot;,Long.valueOf(arr[3]));             row.withFieldValue(&quot;id4&quot;,Long.valueOf(arr[4]));``` . I tried setting up all Fields as STRING still did not work for me."}],"tags":[],"owner":{"account_id":5974726,"reputation":1921,"user_id":4696015,"display_name":"chamikara"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666042627,"creation_date":1666042627,"answer_id":74103509,"question_id":74063084,"body_markdown":"I noticed that you are setting the field types of the form `idx` to `Schema.FieldType.INT64` (Java `long`) but you are actually setting strings when generating Rows (for example, `row.withFieldValue(&quot;id1&quot;,arr[1]))`. Can you try setting values of the correct type ?","title":"Apache Beam Row Coder issue org.apache.beam.sdk.Pipeline$PipelineExecutionException: java.lang.IllegalStateException","body":"<p>I noticed that you are setting the field types of the form <code>idx</code> to <code>Schema.FieldType.INT64</code> (Java <code>long</code>) but you are actually setting strings when generating Rows (for example, <code>row.withFieldValue(&quot;id1&quot;,arr[1]))</code>. Can you try setting values of the correct type ?</p>\n"},{"tags":[],"owner":{"account_id":14798284,"reputation":1363,"user_id":10687325,"display_name":"Alexey Romanenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666197822,"creation_date":1666188357,"answer_id":74126786,"question_id":74063084,"body_markdown":"UPD: You need to chain your builder calls since `.withFieldValue()` returns `Row.FieldValueBuilder`, like this:\r\n\r\n```\r\n  public static class mapString extends SimpleFunction&lt;String, Row&gt; {\r\n    @Override\r\n    public Row apply(String record){\r\n      String[] arr = record.split(&quot;,&quot;);\r\n\r\n      return Row.withSchema(getSchema())\r\n        .withFieldValue(&quot;name&quot;, arr[0])\r\n        .withFieldValue(&quot;id1&quot;, Long.valueOf(arr[1]))\r\n        .withFieldValue(&quot;id2&quot;, Long.valueOf(arr[2]))\r\n        .withFieldValue(&quot;id3&quot;, Long.valueOf(arr[3]))\r\n        .withFieldValue(&quot;id4&quot;, Long.valueOf(arr[4]))\r\n        .build();\r\n    }\r\n  }\r\n```\r\n\r\n\r\nAs a workaround, you may try to use `row.addValue(...)` instead and add values in the order defined in your schema, like this:\r\n```\r\nrow.addValue(arr[0]);\r\nrow.addValue(Long.valueOf(arr[1]));\r\nrow.addValue(Long.valueOf(arr[2]));\r\nrow.addValue(Long.valueOf(arr[3]));\r\nrow.addValue(Long.valueOf(arr[4]));\r\n```","title":"Apache Beam Row Coder issue org.apache.beam.sdk.Pipeline$PipelineExecutionException: java.lang.IllegalStateException","body":"<p>UPD: You need to chain your builder calls since <code>.withFieldValue()</code> returns <code>Row.FieldValueBuilder</code>, like this:</p>\n<pre><code>  public static class mapString extends SimpleFunction&lt;String, Row&gt; {\n    @Override\n    public Row apply(String record){\n      String[] arr = record.split(&quot;,&quot;);\n\n      return Row.withSchema(getSchema())\n        .withFieldValue(&quot;name&quot;, arr[0])\n        .withFieldValue(&quot;id1&quot;, Long.valueOf(arr[1]))\n        .withFieldValue(&quot;id2&quot;, Long.valueOf(arr[2]))\n        .withFieldValue(&quot;id3&quot;, Long.valueOf(arr[3]))\n        .withFieldValue(&quot;id4&quot;, Long.valueOf(arr[4]))\n        .build();\n    }\n  }\n</code></pre>\n<p>As a workaround, you may try to use <code>row.addValue(...)</code> instead and add values in the order defined in your schema, like this:</p>\n<pre><code>row.addValue(arr[0]);\nrow.addValue(Long.valueOf(arr[1]));\nrow.addValue(Long.valueOf(arr[2]));\nrow.addValue(Long.valueOf(arr[3]));\nrow.addValue(Long.valueOf(arr[4]));\n</code></pre>\n"}],"owner":{"account_id":15052974,"reputation":37,"user_id":15976162,"display_name":"Bhargav Velisetti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":591,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74126786,"answer_count":2,"score":0,"last_activity_date":1666197822,"creation_date":1665706582,"question_id":74063084,"body_markdown":"Can you please help me with this issue. Is it not possible to convert PCollection of strings into Pcollection of Row ? \r\n\r\nIs it not possible to convert Pcollection of String Array into Pcollection of Beam Row ?\r\n\r\nI tried String Data type for all the fields in beam schema but it is also giving me same error.\r\n\r\nI am using Java 11, Maven 3.8.5 and Apache beam Java SDK 2.41.0\r\n\r\nI tried same code with Java 1.8 and Beam 2.40.0 getting same error.\r\n\r\n\r\n```\r\npublic class beamRowPractise {\r\n\r\n    public static void main(String[] args){\r\n\r\n        PipelineOptions opts = PipelineOptionsFactory.create();\r\n        opts.setRunner(DirectRunner.class);\r\n        Pipeline p = Pipeline.create(opts);\r\n        PCollection&lt;String&gt; pc1 = p.apply(TextIO.read().from(&quot;data/indata.csv&quot;));\r\n        PCollection&lt;Row&gt; pc2 = pc1.apply(MapElements.via(new mapString())).setRowSchema(getSchema()) ;\r\n        System.out.println(pc2.getSchema().toString());\r\n        p.run();\r\n        }\r\n    public static class mapString extends SimpleFunction&lt;String, Row&gt; {\r\n        @Override\r\n\r\n        public  Row apply(String record){\r\n            String arr[] = record.split(&quot;,&quot;);\r\n\r\n            Row.Builder row = Row.withSchema(getSchema()) ;\r\n\r\n            row.withFieldValue(&quot;name&quot;,arr[0]);\r\n            row.withFieldValue(&quot;id1&quot;,arr[1]);\r\n            row.withFieldValue(&quot;id2&quot;,arr[2]);\r\n            row.withFieldValue(&quot;id3&quot;,arr[3]);\r\n            row.withFieldValue(&quot;id4&quot;,arr[4]);\r\n\r\n            return  row.build();\r\n\r\n        }\r\n    }\r\n\r\n    public  static  Schema getSchema() {\r\n        org.apache.beam.sdk.schemas.Schema.Builder typed_schema_builder = org.apache.beam.sdk.schemas.Schema.builder();\r\n        typed_schema_builder.addField(&quot;name&quot;, org.apache.beam.sdk.schemas.Schema.FieldType.STRING);\r\n        typed_schema_builder.addField(&quot;id1&quot;, Schema.FieldType.INT64);\r\n        typed_schema_builder.addField(&quot;id2&quot;, org.apache.beam.sdk.schemas.Schema.FieldType.INT64);\r\n        typed_schema_builder.addField(&quot;id3&quot;, org.apache.beam.sdk.schemas.Schema.FieldType.INT64);\r\n        typed_schema_builder.addField(&quot;id4&quot;, org.apache.beam.sdk.schemas.Schema.FieldType.INT64);\r\n        org.apache.beam.sdk.schemas.Schema typed_beam_schema = typed_schema_builder.build();\r\n        org.apache.beam.sdk.schemas.Schema schema = typed_beam_schema;\r\n        return  schema;\r\n    }\r\n}\r\n```\r\nError : \r\n\r\n```\r\nException in thread &quot;main&quot; org.apache.beam.sdk.Pipeline$PipelineExecutionException: java.lang.IllegalStateException\r\n\tat org.apache.beam.runners.direct.DirectRunner$DirectPipelineResult.waitUntilFinish(DirectRunner.java:374)\r\n\tat org.apache.beam.runners.direct.DirectRunner$DirectPipelineResult.waitUntilFinish(DirectRunner.java:342)\r\n\tat org.apache.beam.runners.direct.DirectRunner.run(DirectRunner.java:218)\r\n\tat org.apache.beam.runners.direct.DirectRunner.run(DirectRunner.java:67)\r\n\tat org.apache.beam.sdk.Pipeline.run(Pipeline.java:323)\r\n\tat org.apache.beam.sdk.Pipeline.run(Pipeline.java:309)\r\n\tat com.bhargav.beamFirst.beamRowPractise.main(beamRowPractise.java:25)\r\nCaused by: java.lang.IllegalStateException\r\n\tat org.apache.beam.vendor.guava.v26_0_jre.com.google.common.base.Preconditions.checkState(Preconditions.java:491)\r\n\tat org.apache.beam.sdk.coders.RowCoderGenerator$EncodeInstruction.encodeDelegate(RowCoderGenerator.java:313)\r\n\tat org.apache.beam.sdk.coders.Coder$ByteBuddy$hZNCN9ub.encode(Unknown Source)\r\n\tat org.apache.beam.sdk.coders.Coder$ByteBuddy$hZNCN9ub.encode(Unknown Source)\r\n\tat org.apache.beam.sdk.schemas.SchemaCoder.encode(SchemaCoder.java:124)\r\n\tat org.apache.beam.sdk.coders.Coder.encode(Coder.java:136)\r\n\tat org.apache.beam.sdk.util.CoderUtils.encodeToSafeStream(CoderUtils.java:86)\r\n\tat org.apache.beam.sdk.util.CoderUtils.encodeToByteArray(CoderUtils.java:70)\r\n\tat org.apache.beam.sdk.util.CoderUtils.encodeToByteArray(CoderUtils.java:55)\r\n\tat org.apache.beam.sdk.util.CoderUtils.clone(CoderUtils.java:168)\r\n\tat org.apache.beam.sdk.util.MutationDetectors$CodedValueMutationDetector.&lt;init&gt;(MutationDetectors.java:118)\r\n\tat org.apache.beam.sdk.util.MutationDetectors.forValueWithCoder(MutationDetectors.java:49)\r\n\tat org.apache.beam.runners.direct.ImmutabilityCheckingBundleFactory$ImmutabilityEnforcingBundle.add(ImmutabilityCheckingBundleFactory.java:115)\r\n\tat org.apache.beam.runners.direct.ParDoEvaluator$BundleOutputManager.output(ParDoEvaluator.java:305)\r\n\tat org.apache.beam.repackaged.direct_java.runners.core.SimpleDoFnRunner.outputWindowedValue(SimpleDoFnRunner.java:275)\r\n\tat org.apache.beam.repackaged.direct_java.runners.core.SimpleDoFnRunner.access$900(SimpleDoFnRunner.java:85)\r\n\tat org.apache.beam.repackaged.direct_java.runners.core.SimpleDoFnRunner$DoFnProcessContext.output(SimpleDoFnRunner.java:423)\r\n\tat org.apache.beam.sdk.transforms.DoFnOutputReceivers$WindowedContextOutputReceiver.output(DoFnOutputReceivers.java:76)\r\n\tat org.apache.beam.sdk.transforms.MapElements$1.processElement(MapElements.java:142)\r\n\r\nProcess finished with exit code 1\r\n```","title":"Apache Beam Row Coder issue org.apache.beam.sdk.Pipeline$PipelineExecutionException: java.lang.IllegalStateException","body":"<p>Can you please help me with this issue. Is it not possible to convert PCollection of strings into Pcollection of Row ?</p>\n<p>Is it not possible to convert Pcollection of String Array into Pcollection of Beam Row ?</p>\n<p>I tried String Data type for all the fields in beam schema but it is also giving me same error.</p>\n<p>I am using Java 11, Maven 3.8.5 and Apache beam Java SDK 2.41.0</p>\n<p>I tried same code with Java 1.8 and Beam 2.40.0 getting same error.</p>\n<pre><code>public class beamRowPractise {\n\n    public static void main(String[] args){\n\n        PipelineOptions opts = PipelineOptionsFactory.create();\n        opts.setRunner(DirectRunner.class);\n        Pipeline p = Pipeline.create(opts);\n        PCollection&lt;String&gt; pc1 = p.apply(TextIO.read().from(&quot;data/indata.csv&quot;));\n        PCollection&lt;Row&gt; pc2 = pc1.apply(MapElements.via(new mapString())).setRowSchema(getSchema()) ;\n        System.out.println(pc2.getSchema().toString());\n        p.run();\n        }\n    public static class mapString extends SimpleFunction&lt;String, Row&gt; {\n        @Override\n\n        public  Row apply(String record){\n            String arr[] = record.split(&quot;,&quot;);\n\n            Row.Builder row = Row.withSchema(getSchema()) ;\n\n            row.withFieldValue(&quot;name&quot;,arr[0]);\n            row.withFieldValue(&quot;id1&quot;,arr[1]);\n            row.withFieldValue(&quot;id2&quot;,arr[2]);\n            row.withFieldValue(&quot;id3&quot;,arr[3]);\n            row.withFieldValue(&quot;id4&quot;,arr[4]);\n\n            return  row.build();\n\n        }\n    }\n\n    public  static  Schema getSchema() {\n        org.apache.beam.sdk.schemas.Schema.Builder typed_schema_builder = org.apache.beam.sdk.schemas.Schema.builder();\n        typed_schema_builder.addField(&quot;name&quot;, org.apache.beam.sdk.schemas.Schema.FieldType.STRING);\n        typed_schema_builder.addField(&quot;id1&quot;, Schema.FieldType.INT64);\n        typed_schema_builder.addField(&quot;id2&quot;, org.apache.beam.sdk.schemas.Schema.FieldType.INT64);\n        typed_schema_builder.addField(&quot;id3&quot;, org.apache.beam.sdk.schemas.Schema.FieldType.INT64);\n        typed_schema_builder.addField(&quot;id4&quot;, org.apache.beam.sdk.schemas.Schema.FieldType.INT64);\n        org.apache.beam.sdk.schemas.Schema typed_beam_schema = typed_schema_builder.build();\n        org.apache.beam.sdk.schemas.Schema schema = typed_beam_schema;\n        return  schema;\n    }\n}\n</code></pre>\n<p>Error :</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.beam.sdk.Pipeline$PipelineExecutionException: java.lang.IllegalStateException\n    at org.apache.beam.runners.direct.DirectRunner$DirectPipelineResult.waitUntilFinish(DirectRunner.java:374)\n    at org.apache.beam.runners.direct.DirectRunner$DirectPipelineResult.waitUntilFinish(DirectRunner.java:342)\n    at org.apache.beam.runners.direct.DirectRunner.run(DirectRunner.java:218)\n    at org.apache.beam.runners.direct.DirectRunner.run(DirectRunner.java:67)\n    at org.apache.beam.sdk.Pipeline.run(Pipeline.java:323)\n    at org.apache.beam.sdk.Pipeline.run(Pipeline.java:309)\n    at com.bhargav.beamFirst.beamRowPractise.main(beamRowPractise.java:25)\nCaused by: java.lang.IllegalStateException\n    at org.apache.beam.vendor.guava.v26_0_jre.com.google.common.base.Preconditions.checkState(Preconditions.java:491)\n    at org.apache.beam.sdk.coders.RowCoderGenerator$EncodeInstruction.encodeDelegate(RowCoderGenerator.java:313)\n    at org.apache.beam.sdk.coders.Coder$ByteBuddy$hZNCN9ub.encode(Unknown Source)\n    at org.apache.beam.sdk.coders.Coder$ByteBuddy$hZNCN9ub.encode(Unknown Source)\n    at org.apache.beam.sdk.schemas.SchemaCoder.encode(SchemaCoder.java:124)\n    at org.apache.beam.sdk.coders.Coder.encode(Coder.java:136)\n    at org.apache.beam.sdk.util.CoderUtils.encodeToSafeStream(CoderUtils.java:86)\n    at org.apache.beam.sdk.util.CoderUtils.encodeToByteArray(CoderUtils.java:70)\n    at org.apache.beam.sdk.util.CoderUtils.encodeToByteArray(CoderUtils.java:55)\n    at org.apache.beam.sdk.util.CoderUtils.clone(CoderUtils.java:168)\n    at org.apache.beam.sdk.util.MutationDetectors$CodedValueMutationDetector.&lt;init&gt;(MutationDetectors.java:118)\n    at org.apache.beam.sdk.util.MutationDetectors.forValueWithCoder(MutationDetectors.java:49)\n    at org.apache.beam.runners.direct.ImmutabilityCheckingBundleFactory$ImmutabilityEnforcingBundle.add(ImmutabilityCheckingBundleFactory.java:115)\n    at org.apache.beam.runners.direct.ParDoEvaluator$BundleOutputManager.output(ParDoEvaluator.java:305)\n    at org.apache.beam.repackaged.direct_java.runners.core.SimpleDoFnRunner.outputWindowedValue(SimpleDoFnRunner.java:275)\n    at org.apache.beam.repackaged.direct_java.runners.core.SimpleDoFnRunner.access$900(SimpleDoFnRunner.java:85)\n    at org.apache.beam.repackaged.direct_java.runners.core.SimpleDoFnRunner$DoFnProcessContext.output(SimpleDoFnRunner.java:423)\n    at org.apache.beam.sdk.transforms.DoFnOutputReceivers$WindowedContextOutputReceiver.output(DoFnOutputReceivers.java:76)\n    at org.apache.beam.sdk.transforms.MapElements$1.processElement(MapElements.java:142)\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","debugging"],"answers":[{"tags":[],"owner":{"account_id":20992047,"reputation":60,"user_id":15424719,"display_name":"Annan Yearian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666197701,"creation_date":1666197701,"answer_id":74128992,"question_id":73940011,"body_markdown":"Eclipse documentation has a full [list of icons][1].\r\n\r\nRed square is private method. The green circle means it&#39;s a public method, though also apparently used for `this`.\r\n\r\n  [1]: https://help.eclipse.org/latest/index.jsp?topic=/org.eclipse.jdt.doc.user/reference/ref-icons.htm","title":"What do the variable debug color mean in the Eclipse Java Debugger?","body":"<p>Eclipse documentation has a full <a href=\"https://help.eclipse.org/latest/index.jsp?topic=/org.eclipse.jdt.doc.user/reference/ref-icons.htm\" rel=\"nofollow noreferrer\">list of icons</a>.</p>\n<p>Red square is private method. The green circle means it's a public method, though also apparently used for <code>this</code>.</p>\n"}],"owner":{"account_id":20472371,"reputation":7,"user_id":15022441,"display_name":"SteveMaet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666197701,"creation_date":1664825523,"question_id":73940011,"body_markdown":"[Image of Java Debugger Variables Section][1]\r\n\r\nWhat do the green and red colors indicate in the variables section of the java debugger? Is there a website that lists all the different symbols? I know that the gray L indicates that it is a local variable.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/y66LH.png","title":"What do the variable debug color mean in the Eclipse Java Debugger?","body":"<p><a href=\"https://i.stack.imgur.com/y66LH.png\" rel=\"nofollow noreferrer\">Image of Java Debugger Variables Section</a></p>\n<p>What do the green and red colors indicate in the variables section of the java debugger? Is there a website that lists all the different symbols? I know that the gray L indicates that it is a local variable.</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1666169307,"post_id":74118135,"comment_id":130869522,"body_markdown":"When you use the `MultiResourceItemReader`, you should accept the fact that data from different input files can end up in the same chunk, and hence written to the same output file. I believe the `MultiResourceItemReader` is not suitable for your case. Please add a sample of input files with dummy data and the expected output files (without referring to Spring Batch) and I will try to help you implement it with Spring Batch.","body":"When you use the <code>MultiResourceItemReader</code>, you should accept the fact that data from different input files can end up in the same chunk, and hence written to the same output file. I believe the <code>MultiResourceItemReader</code> is not suitable for your case. Please add a sample of input files with dummy data and the expected output files (without referring to Spring Batch) and I will try to help you implement it with Spring Batch."},{"owner":{"account_id":11433616,"reputation":1,"user_id":8381655,"display_name":"abdelhak ezzaidi"},"score":0,"creation_date":1666178936,"post_id":74118135,"comment_id":130873008,"body_markdown":"@MahmoudBenHassine I edited the post can you recheck it, please","body":"@MahmoudBenHassine I edited the post can you recheck it, please"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1666197654,"post_id":74118135,"comment_id":130880632,"body_markdown":"Thank you for the update. I added an answer. Hope it helps.","body":"Thank you for the update. I added an answer. Hope it helps."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666197539,"creation_date":1666197539,"answer_id":74128955,"question_id":74118135,"body_markdown":"I see no difference between the input file and output file except the header and trailer lines. But that is not an issue, you probably omitted the processing part as it is not relevant to the question.\r\n\r\nI believe the `MultiResourceItemReader` is not suitable for your case as data from different input files can end up in the same chunk, and hence written to the same output file, which is *not* what you want.\r\n\r\nI think a good option for your use case is to use [partitioning](https://docs.spring.io/spring-batch/docs/current/reference/html/scalability.html#partitioning), where each partition is a file. This way, each input file will be read, processed and written to a corresponding output file. Spring Batch provides the `MultiResourcePartitioner` that will create a partition per file. You can find an example here: https://github.com/spring-projects/spring-batch/blob/main/spring-batch-samples/src/main/resources/jobs/iosample/multiResource.xml.","title":"Spring batch multiple output file for input files with MultiResourceItemReader","body":"<p>I see no difference between the input file and output file except the header and trailer lines. But that is not an issue, you probably omitted the processing part as it is not relevant to the question.</p>\n<p>I believe the <code>MultiResourceItemReader</code> is not suitable for your case as data from different input files can end up in the same chunk, and hence written to the same output file, which is <em>not</em> what you want.</p>\n<p>I think a good option for your use case is to use <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/scalability.html#partitioning\" rel=\"nofollow noreferrer\">partitioning</a>, where each partition is a file. This way, each input file will be read, processed and written to a corresponding output file. Spring Batch provides the <code>MultiResourcePartitioner</code> that will create a partition per file. You can find an example here: <a href=\"https://github.com/spring-projects/spring-batch/blob/main/spring-batch-samples/src/main/resources/jobs/iosample/multiResource.xml\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-batch/blob/main/spring-batch-samples/src/main/resources/jobs/iosample/multiResource.xml</a>.</p>\n"}],"owner":{"account_id":11433616,"reputation":1,"user_id":8381655,"display_name":"abdelhak ezzaidi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666197539,"creation_date":1666132475,"question_id":74118135,"body_markdown":"I am using MultiResourceItemReader to read from multiple CSV files that have lines of ObjectX(field1,field2,field3...)\r\nbut the problem is that when the processor ends the writer gets all the lines of ObjectX from all the files.\r\nand I have to write the data accepted in a file with the same name as inputFile.\r\nI am using DelimitedLineAggregator \r\nis there a way to have a writer for each file while using MultiResourceItemReade because the writer accepts only one resource at a time?\r\n\r\nthis is an example of what I have\r\n\r\n    @Bean\r\n    public MultiResourceItemReader&lt;ObjectX&gt; multiResourceItemReader() \r\n    {\r\n      MultiResourceItemReader&lt;ObjectX&gt; resourceItemReader = new MultiResourceItemReader&lt;ObjectX&gt;();\r\n      resourceItemReader.setResources(inputResources);\r\n      resourceItemReader.setDelegate(reader());\r\n      return resourceItemReader;\r\n    }\r\n\r\n    @Bean\r\n    public FlatFileItemReader&lt;ObjectX&gt; flatFileItemReader() {\r\n      FlatFileItemReader&lt;ObjectX&gt; flatFileItemReader = new FlatFileItemReader&lt;&gt;();\r\n      flatFileItemReader.setComments(new String[]{});    \r\n      flatFileItemReader.setLineMapper(lineMapper());\r\n    \r\n      return flatFileItemReader;\r\n    }\r\n    @Override\r\n    @StepScope\r\n    public Sinistre process(ObjectX objectX) throws Exception {\r\n    //business logic\r\n\r\n        return objectX;\r\n    }\r\n\r\n\r\n----------------------------------------\r\n\r\n\r\n    @Bean\r\n    @StepScope\r\n    public FlatFileItemWriter&lt;Sinistre&gt; flatFileItemWriter(\r\n            @Value(&quot;${doneFile}&quot;) FileSystemResource doneFile,\r\n            @Value(&quot;#{stepExecution.jobExecution}&quot;) JobExecution jobExecution\r\n    ) {\r\n        \r\n        FlatFileItemWriter writer = new FlatFileItemWriter&lt;Sinistre&gt;() {\r\n            private String resourceName;\r\n            @Override\r\n            public String doWrite(List&lt;? extends ObjectX&gt; items) {\r\n    \r\n                //business logic\r\n                //business logic\r\n                //business logic\r\n                return super.doWrite(items);\r\n            }\r\n        };\r\n    \r\n        DelimitedLineAggregator delimitedLineAggregator = new DelimitedLineAggregator();\r\n        delimitedLineAggregator.setDelimiter(&quot;;&quot;);\r\n        BeanWrapperFieldExtractor beanWrapperFieldExtractor = new BeanWrapperFieldExtractor();\r\n        beanWrapperFieldExtractor.setNames(new String[]{&quot;field1&quot;, &quot;field2&quot;, &quot;field3&quot;, &quot;field4&quot;.......});\r\n        delimitedLineAggregator.setFieldExtractor(beanWrapperFieldExtractor);\r\n        writer.setResource(doneFile);\r\n        writer.setLineAggregator(delimitedLineAggregator);\r\n    \r\n    \r\n        // how to write the header\r\n        writer.setHeaderCallback(new FlatFileHeaderCallback() {\r\n            @Override\r\n            public void writeHeader(Writer writer) throws IOException {\r\n                writer.write((String) jobExecution.getExecutionContext().get(&quot;header&quot;));\r\n            }\r\n        });\r\n        writer.setAppendAllowed(false);\r\n    \r\n        writer.setFooterCallback(new FlatFileFooterCallback() {\r\n            @Override\r\n            public void writeFooter(Writer writer) throws IOException {\r\n                writer.write(&quot;#--- fin traitement ---&quot;);\r\n            }\r\n        });\r\n        return writer;\r\n    }\r\n\r\n-----------------------------------------------------\r\nthis is what I called ObjectX\r\n\r\n    public class SinistreDto  implements ResourceAware {\r\n    \r\n        private String codeCompagnieA;//A\r\n        private String numPoliceA;//B\r\n        private String numAttestationA;//C\r\n        private String immatriculationA;//D\r\n        private String numSinistreA;//E\r\n        private String pctResponsabiliteA;//F\r\n    \r\n        private String dateOuvertureA;//G\r\n    \r\n        private String codeCompagnieB;//H\r\n        private String numPoliceB;//I\r\n        private String numAttestationB;//J\r\n        private String immatriculationB;//K\r\n        private String numSinistreB;//L\r\n        private Resource resource;\r\n    \r\n    }\r\n---------------------------------------------\r\nand this is the CSV file&#39;s data (I will have a bunch of files with data exactly like this)\r\n\r\n38;5457;16902-A;0001-02-34;84485;000;20221010 12:15;55;5457;W3456;22-A555\r\n76;544687;16902;1234-56;8448;025;20221010 12:15;22;544687;WW456;22-A555\r\n65;84987;16902;WW 123456;74478;033;20221010 12:15;88;84987;WW3456;22-A555\r\n\r\nthis is how I expect the output file for each input file.\r\n\r\n#header\r\n\r\n38;5457;16902-A;0001-02-34;84485;000;20221010 12:15;55;5457;W3456;22-A555\r\n76;544687;16902;1234-56;8448;025;20221010 12:15;22;544687;WW456;22-A555\r\n65;84987;16902;WW 123456;74478;033;20221010 12:15;88;84987;WW3456;22-A555\r\n\r\n#--- fin traitement ---\r\n\r\n","title":"Spring batch multiple output file for input files with MultiResourceItemReader","body":"<p>I am using MultiResourceItemReader to read from multiple CSV files that have lines of ObjectX(field1,field2,field3...)\nbut the problem is that when the processor ends the writer gets all the lines of ObjectX from all the files.\nand I have to write the data accepted in a file with the same name as inputFile.\nI am using DelimitedLineAggregator\nis there a way to have a writer for each file while using MultiResourceItemReade because the writer accepts only one resource at a time?</p>\n<p>this is an example of what I have</p>\n<pre><code>@Bean\npublic MultiResourceItemReader&lt;ObjectX&gt; multiResourceItemReader() \n{\n  MultiResourceItemReader&lt;ObjectX&gt; resourceItemReader = new MultiResourceItemReader&lt;ObjectX&gt;();\n  resourceItemReader.setResources(inputResources);\n  resourceItemReader.setDelegate(reader());\n  return resourceItemReader;\n}\n\n@Bean\npublic FlatFileItemReader&lt;ObjectX&gt; flatFileItemReader() {\n  FlatFileItemReader&lt;ObjectX&gt; flatFileItemReader = new FlatFileItemReader&lt;&gt;();\n  flatFileItemReader.setComments(new String[]{});    \n  flatFileItemReader.setLineMapper(lineMapper());\n\n  return flatFileItemReader;\n}\n@Override\n@StepScope\npublic Sinistre process(ObjectX objectX) throws Exception {\n//business logic\n\n    return objectX;\n}\n</code></pre>\n<hr />\n<pre><code>@Bean\n@StepScope\npublic FlatFileItemWriter&lt;Sinistre&gt; flatFileItemWriter(\n        @Value(&quot;${doneFile}&quot;) FileSystemResource doneFile,\n        @Value(&quot;#{stepExecution.jobExecution}&quot;) JobExecution jobExecution\n) {\n    \n    FlatFileItemWriter writer = new FlatFileItemWriter&lt;Sinistre&gt;() {\n        private String resourceName;\n        @Override\n        public String doWrite(List&lt;? extends ObjectX&gt; items) {\n\n            //business logic\n            //business logic\n            //business logic\n            return super.doWrite(items);\n        }\n    };\n\n    DelimitedLineAggregator delimitedLineAggregator = new DelimitedLineAggregator();\n    delimitedLineAggregator.setDelimiter(&quot;;&quot;);\n    BeanWrapperFieldExtractor beanWrapperFieldExtractor = new BeanWrapperFieldExtractor();\n    beanWrapperFieldExtractor.setNames(new String[]{&quot;field1&quot;, &quot;field2&quot;, &quot;field3&quot;, &quot;field4&quot;.......});\n    delimitedLineAggregator.setFieldExtractor(beanWrapperFieldExtractor);\n    writer.setResource(doneFile);\n    writer.setLineAggregator(delimitedLineAggregator);\n\n\n    // how to write the header\n    writer.setHeaderCallback(new FlatFileHeaderCallback() {\n        @Override\n        public void writeHeader(Writer writer) throws IOException {\n            writer.write((String) jobExecution.getExecutionContext().get(&quot;header&quot;));\n        }\n    });\n    writer.setAppendAllowed(false);\n\n    writer.setFooterCallback(new FlatFileFooterCallback() {\n        @Override\n        public void writeFooter(Writer writer) throws IOException {\n            writer.write(&quot;#--- fin traitement ---&quot;);\n        }\n    });\n    return writer;\n}\n</code></pre>\n<hr />\n<p>this is what I called ObjectX</p>\n<pre><code>public class SinistreDto  implements ResourceAware {\n\n    private String codeCompagnieA;//A\n    private String numPoliceA;//B\n    private String numAttestationA;//C\n    private String immatriculationA;//D\n    private String numSinistreA;//E\n    private String pctResponsabiliteA;//F\n\n    private String dateOuvertureA;//G\n\n    private String codeCompagnieB;//H\n    private String numPoliceB;//I\n    private String numAttestationB;//J\n    private String immatriculationB;//K\n    private String numSinistreB;//L\n    private Resource resource;\n\n}\n</code></pre>\n<hr />\n<p>and this is the CSV file's data (I will have a bunch of files with data exactly like this)</p>\n<p>38;5457;16902-A;0001-02-34;84485;000;20221010 12:15;55;5457;W3456;22-A555\n76;544687;16902;1234-56;8448;025;20221010 12:15;22;544687;WW456;22-A555\n65;84987;16902;WW 123456;74478;033;20221010 12:15;88;84987;WW3456;22-A555</p>\n<p>this is how I expect the output file for each input file.</p>\n<p>#header</p>\n<p>38;5457;16902-A;0001-02-34;84485;000;20221010 12:15;55;5457;W3456;22-A555\n76;544687;16902;1234-56;8448;025;20221010 12:15;22;544687;WW456;22-A555\n65;84987;16902;WW 123456;74478;033;20221010 12:15;88;84987;WW3456;22-A555</p>\n<p>#--- fin traitement ---</p>\n"},{"tags":["java","jackson","pojo","jackson-databind","jackson-dataformat-xml"],"answers":[{"tags":[],"owner":{"account_id":9779820,"reputation":9719,"user_id":7248342,"display_name":"Thomas Fritsch"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1551132034,"creation_date":1551132034,"answer_id":54875341,"question_id":54872538,"body_markdown":"It is not possible to model the given XML content by only one POJO class.\r\nYou will need several POJO classes for modeling your XML contents properly.\r\n\r\nFor modeling the `&lt;dataset&gt;` root element you need a class, let&#39;s call it `Dataset`.\r\n\r\n    @Getter\r\n    @Setter\r\n    @JacksonXmlRootElement(localName = &quot;dataset&quot;)\r\n    public class Dataset {\r\n\r\n        @JacksonXmlProperty(localName = &quot;date&quot;)\r\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX&quot;)\r\n        private LocalDateTime date;\r\n\r\n        @JacksonXmlProperty(localName = &quot;element&quot;)\r\n        @JacksonXmlElementWrapper(useWrapping = false)\r\n        private List&lt;ElementXML&gt; elements;\r\n    }\r\n\r\nNotice in the code above\r\n\r\n* The `date` property is annotated with [`@JsonFormat`][1] to specify the\r\n  date-time format to be used\r\n* The `elements` is annotated with [`@JacksonXmlElementWrapper(useWrapping = false)`][2]\r\n  to tell the parser to not expect an extra wrapper around the sequence of `&lt;element&gt;`\r\n\r\nNext, you need a class for modeling the XML content between `&lt;element&gt;...&lt;/element&gt;`,\r\nvery much like your `ElementXML` class.\r\n\r\n    @Getter\r\n    @Setter\r\n    public class ElementXML {\r\n\r\n        @JacksonXmlProperty(localName = &quot;id&quot;)\r\n        private Long id;\r\n    \r\n        @JacksonXmlProperty(localName = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @JacksonXmlProperty(localName = &quot;age&quot;)\r\n        private Long age;\r\n    \r\n        @JacksonXmlProperty(localName = &quot;regdate&quot;)\r\n        private RegDate regdate;\r\n    }\r\n\r\nNotice in the code above, that you need to model the `regdate` property\r\nmore sophisticated.\r\nBecause the XML content does not look like `&lt;regdate&gt;2017-10-25T09:13:54+02:00&lt;/regdate&gt;`\r\nyou cannot simply declare it as `LocalDate regdate`.\r\nInstead the XML looks like `&lt;regdate&gt;&lt;date&gt;2017-10-25T09:13:54+02:00&lt;/date&gt;&lt;/regdate&gt;`.\r\nTherefore you need to model it with yet another class (let&#39;s call it `RegDate`)\r\n\r\nAnd finally, here is the `RegDate` class for modeling the XML content\r\nbetween `&lt;regdate&gt;...&lt;/regdate&gt;`.\r\n\r\n    @Getter\r\n    @Setter\r\n    public class RegDate {\r\n\r\n        @JacksonXmlProperty(localName = &quot;date&quot;)\r\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX&quot;)\r\n        private LocalDateTime date;\r\n    }\r\n\r\nNotice again the use of `@JsonFormat` to specify the date-time format.\r\n\r\nUsing the classes above you can parse XML like this\r\n\r\n\t\tFile inputFile = new File(&quot;some path&quot;);\r\n\t\tObjectMapper xmlMapper = new XmlMapper();\r\n\t\txmlMapper.registerModule(new JavaTimeModule());\r\n\t\tDataset dataset = xmlMapper.readValue(inputFile, Dataset.class);\r\n\r\n\r\n [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonFormat.html\r\n [2]: http://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.2.0/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlElementWrapper.html","title":"Deserialize flat array in XML by Jackson to List of Pojo","body":"<p>It is not possible to model the given XML content by only one POJO class.\nYou will need several POJO classes for modeling your XML contents properly.</p>\n\n<p>For modeling the <code>&lt;dataset&gt;</code> root element you need a class, let's call it <code>Dataset</code>.</p>\n\n<pre><code>@Getter\n@Setter\n@JacksonXmlRootElement(localName = \"dataset\")\npublic class Dataset {\n\n    @JacksonXmlProperty(localName = \"date\")\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = \"yyyy-MM-dd'T'HH:mm:ssXXX\")\n    private LocalDateTime date;\n\n    @JacksonXmlProperty(localName = \"element\")\n    @JacksonXmlElementWrapper(useWrapping = false)\n    private List&lt;ElementXML&gt; elements;\n}\n</code></pre>\n\n<p>Notice in the code above</p>\n\n<ul>\n<li>The <code>date</code> property is annotated with <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonFormat.html\" rel=\"nofollow noreferrer\"><code>@JsonFormat</code></a> to specify the\ndate-time format to be used</li>\n<li>The <code>elements</code> is annotated with <a href=\"http://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.2.0/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlElementWrapper.html\" rel=\"nofollow noreferrer\"><code>@JacksonXmlElementWrapper(useWrapping = false)</code></a>\nto tell the parser to not expect an extra wrapper around the sequence of <code>&lt;element&gt;</code></li>\n</ul>\n\n<p>Next, you need a class for modeling the XML content between <code>&lt;element&gt;...&lt;/element&gt;</code>,\nvery much like your <code>ElementXML</code> class.</p>\n\n<pre><code>@Getter\n@Setter\npublic class ElementXML {\n\n    @JacksonXmlProperty(localName = \"id\")\n    private Long id;\n\n    @JacksonXmlProperty(localName = \"name\")\n    private String name;\n\n    @JacksonXmlProperty(localName = \"age\")\n    private Long age;\n\n    @JacksonXmlProperty(localName = \"regdate\")\n    private RegDate regdate;\n}\n</code></pre>\n\n<p>Notice in the code above, that you need to model the <code>regdate</code> property\nmore sophisticated.\nBecause the XML content does not look like <code>&lt;regdate&gt;2017-10-25T09:13:54+02:00&lt;/regdate&gt;</code>\nyou cannot simply declare it as <code>LocalDate regdate</code>.\nInstead the XML looks like <code>&lt;regdate&gt;&lt;date&gt;2017-10-25T09:13:54+02:00&lt;/date&gt;&lt;/regdate&gt;</code>.\nTherefore you need to model it with yet another class (let's call it <code>RegDate</code>)</p>\n\n<p>And finally, here is the <code>RegDate</code> class for modeling the XML content\nbetween <code>&lt;regdate&gt;...&lt;/regdate&gt;</code>.</p>\n\n<pre><code>@Getter\n@Setter\npublic class RegDate {\n\n    @JacksonXmlProperty(localName = \"date\")\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = \"yyyy-MM-dd'T'HH:mm:ssXXX\")\n    private LocalDateTime date;\n}\n</code></pre>\n\n<p>Notice again the use of <code>@JsonFormat</code> to specify the date-time format.</p>\n\n<p>Using the classes above you can parse XML like this</p>\n\n<pre><code>    File inputFile = new File(\"some path\");\n    ObjectMapper xmlMapper = new XmlMapper();\n    xmlMapper.registerModule(new JavaTimeModule());\n    Dataset dataset = xmlMapper.readValue(inputFile, Dataset.class);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"score":0,"creation_date":1551169283,"post_id":54875379,"comment_id":96531340,"body_markdown":"thank you for answer. I tried it and but I got this error while parsing: Cannot deserialize value of type `java.time.LocalDateTime` from String &quot;1000-01-01+00:57&quot;: Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text &#39;1000-01-01+00:57&#39; could not be parsed at index 10","body":"thank you for answer. I tried it and but I got this error while parsing: Cannot deserialize value of type <code>java.time.LocalDateTime</code> from String &quot;1000-01-01+00:57&quot;: Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text &#39;1000-01-01+00:57&#39; could not be parsed at index 10"},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1551169422,"post_id":54875379,"comment_id":96531402,"body_markdown":"@DenisStephanov, `1000-01-01+00:57` looks like invalid date. What does it represents? What application should do in that case?","body":"@DenisStephanov, <code>1000-01-01+00:57</code> looks like invalid date. What does it represents? What application should do in that case?"},{"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"score":0,"creation_date":1551169827,"post_id":54875379,"comment_id":96531600,"body_markdown":"I found out where was problem. I used for another element LocalDateTime but I got LocalDate. I change it, and now I got this error : Expected END_ELEMENT, got event of type 1","body":"I found out where was problem. I used for another element LocalDateTime but I got LocalDate. I change it, and now I got this error : Expected END_ELEMENT, got event of type 1"},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1551170172,"post_id":54875379,"comment_id":96531800,"body_markdown":"@DenisStephanov, You need to post the stacktrace. Also, if you use `LocalDate` class you need to provide deserialiser for custom date `pattern` like in my example I provided for `LocalDateTime`.","body":"@DenisStephanov, You need to post the stacktrace. Also, if you use <code>LocalDate</code> class you need to provide deserialiser for custom date <code>pattern</code> like in my example I provided for <code>LocalDateTime</code>."},{"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"score":0,"creation_date":1551172045,"post_id":54875379,"comment_id":96532788,"body_markdown":"I tried remove elements and keep just 3 objects and it works. When I keep all elements (about 30000) I got END_ELEMENT error :/","body":"I tried remove elements and keep just 3 objects and it works. When I keep all elements (about 30000) I got END_ELEMENT error :/"},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1551173443,"post_id":54875379,"comment_id":96533638,"body_markdown":"@DenisStephanov, take a look on this [thread](https://github.com/FasterXML/jackson-dataformat-xml/issues/226). Do you have a mixed content? Do you have any `Zero Width Character`-es in your `XML`? There is another question on `SO`:[(De)Serialize mixed content with jackson xml?](https://stackoverflow.com/questions/43531284/deserialize-mixed-content-with-jackson-xml)","body":"@DenisStephanov, take a look on this <a href=\"https://github.com/FasterXML/jackson-dataformat-xml/issues/226\" rel=\"nofollow noreferrer\">thread</a>. Do you have a mixed content? Do you have any <code>Zero Width Character</code>-es in your <code>XML</code>? There is another question on <code>SO</code>:<a href=\"https://stackoverflow.com/questions/43531284/deserialize-mixed-content-with-jackson-xml\">(De)Serialize mixed content with jackson xml?</a>"},{"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"score":1,"creation_date":1551177705,"post_id":54875379,"comment_id":96536240,"body_markdown":"Thank you for your help, unfortunatelly I found issue in xml file so I can&#39;t solve it in application layer.","body":"Thank you for your help, unfortunatelly I found issue in xml file so I can&#39;t solve it in application layer."},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":1,"creation_date":1551177994,"post_id":54875379,"comment_id":96536375,"body_markdown":"@DenisStephanov, I&#39;m glad I could help. It is a very common issue when we are talking about deserialising from any format. In case you will fix `XML` `payload` this answer should help you with deserialising it.","body":"@DenisStephanov, I&#39;m glad I could help. It is a very common issue when we are talking about deserialising from any format. In case you will fix <code>XML</code> <code>payload</code> this answer should help you with deserialising it."}],"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"comment_count":8,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1666197517,"creation_date":1551132200,"answer_id":54875379,"question_id":54872538,"body_markdown":"**Your problem is a little tricky because you need to solve a few issues. Let&#39;s start to solve them one by one.**\r\n\r\n## 1. The model does not fit the `XML` payload.\r\n\r\nFirst of all, you need to create a model which fits your `payload`. It does not depend on the format because for `JSON` and `XML` it will be almost the same. To do that I propose always starting from the serialization process. It is much easier to build the model in `Java` and try to serialize it. In case it does not look the same as expected you need to update the model. You iterate these steps: `update` and `serialise` until you will find the valid model. After that, you can deserialize the given `payload` without any problems.\r\n\r\n## 2. Jackson annotations.\r\n\r\nEven so `Jackson`&#39;s annotations are great do not use them without a reason. If the `POJO` property is the same as the node name in `XML` you do not need to add the `JacksonXmlProperty` annotation. You must add it when names in `POJO` and `payload` are different. In other cases, this is overcomplicating the `POJO` structure. We should keep it as simple as possible. You need to use one tricky annotation: [`JacksonXmlElementWrapper`][1]. It is used when we have collections of nodes but they are unwrapped.\r\n\r\nAfter these two simple paragraphs let&#39;s deserialize your case. We need to extend your `POJO` structure and it should look like the below:\r\n\r\n    class Dataset {\r\n    \r\n    \tprivate LocalDateTime date;\r\n    \r\n    \t@JacksonXmlProperty(localName = &quot;element&quot;)\r\n    \t@JacksonXmlElementWrapper(useWrapping = false)\r\n    \tprivate List&lt;Element&gt; elements;\r\n    \r\n    \tpublic LocalDateTime getDate() {\r\n    \t\treturn date;\r\n    \t}\r\n    \r\n    \tpublic void setDate(LocalDateTime date) {\r\n    \t\tthis.date = date;\r\n    \t}\r\n    \r\n    \tpublic List&lt;Element&gt; getElements() {\r\n    \t\treturn elements;\r\n    \t}\r\n    \r\n    \tpublic void setElements(List&lt;Element&gt; element) {\r\n    \t\tthis.elements = element;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Dataset{&quot; +\r\n    \t\t\t\t&quot;date=&quot; + date +\r\n    \t\t\t\t&quot;, element=&quot; + elements +\r\n    \t\t\t\t&#39;}&#39;;\r\n    \t}\r\n    }\r\n    \r\n    class Element {\r\n    \r\n    \tprivate Long id;\r\n    \tprivate String name;\r\n    \tprivate Long age;\r\n    \tprivate RegDate regdate;\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic Long getAge() {\r\n    \t\treturn age;\r\n    \t}\r\n    \r\n    \tpublic void setAge(Long age) {\r\n    \t\tthis.age = age;\r\n    \t}\r\n    \r\n    \tpublic RegDate getRegdate() {\r\n    \t\treturn regdate;\r\n    \t}\r\n    \r\n    \tpublic void setRegdate(RegDate regdate) {\r\n    \t\tthis.regdate = regdate;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;ElementXML{&quot; +\r\n    \t\t\t\t&quot;id=&quot; + id +\r\n    \t\t\t\t&quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n    \t\t\t\t&quot;, age=&quot; + age +\r\n    \t\t\t\t&quot;, regdate=&quot; + regdate.getDate() +\r\n    \t\t\t\t&#39;}&#39;;\r\n    \t}\r\n    }\r\n    \r\n    class RegDate {\r\n    \r\n    \tprivate LocalDateTime date;\r\n    \r\n    \tpublic RegDate() {\r\n    \t\tthis(null);\r\n    \t}\r\n    \r\n    \tpublic RegDate(LocalDateTime date) {\r\n    \t\tthis.date = date;\r\n    \t}\r\n    \r\n    \tpublic LocalDateTime getDate() {\r\n    \t\treturn date;\r\n    \t}\r\n    \r\n    \tpublic void setDate(LocalDateTime date) {\r\n    \t\tthis.date = date;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;RegDate{&quot; +\r\n    \t\t\t\t&quot;date=&quot; + date +\r\n    \t\t\t\t&#39;}&#39;;\r\n    \t}\r\n    }\r\n\r\nAn example usage:\r\n\r\n    import com.fasterxml.jackson.databind.SerializationFeature;\r\n    import com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\n    import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;\r\n    import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\r\n    import com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\r\n    import com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer;\r\n    \r\n    import java.io.File;\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.List;\r\n    \r\n    public class XmlMapperApp {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tFile jsonFile = new File(&quot;./resource/test.xml&quot;).getAbsoluteFile();\r\n    \r\n    \t\tJavaTimeModule module = new JavaTimeModule();\r\n    \t\tmodule.addDeserializer(LocalDateTime.class, new LocalDateTimeDeserializer(DateTimeFormatter.ISO_DATE_TIME));\r\n    \r\n    \t\tXmlMapper xmlMapper = new XmlMapper();\r\n    \t\txmlMapper.registerModule(module);\r\n    \t\txmlMapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n    \r\n    \t\tDataset dataset = xmlMapper.readValue(jsonFile, Dataset.class);\r\n    \t\tdataset.getElements().forEach(System.out::println);\r\n    \t}\r\n    }\r\n\r\nAbove code prints:\r\n\r\n    ElementXML{id=1, name=&#39;Stuart&#39;, age=34, regdate=2017-10-25T09:13:54}\r\n    ElementXML{id=2, name=&#39;Lora&#39;, age=12, regdate=2017-10-25T09:13:54}\r\n    ElementXML{id=3, name=&#39;Ben&#39;, age=50, regdate=2017-10-25T09:13:54}\r\n\r\nTwo extra comments to above code. When you are working with `java.time.*` classes and `Jackson` is good to start from registering `JavaTimeModule` which comes from [jackson-datatype-jsr310][2] module. Since we are using it we can instruct it to use `ISO_DATE_TIME` formatting for `LocalDateTime` classes. In other answers you can find example where `JsonFormat` annotation is used. It is also good solution but when all dates have the same format much easier to define it ones.\r\n\r\nFor more information, read:\r\n\r\n - [How do I update RestTemplate to correctly map Java Dates?][3]\r\n - [Deserializing LocalDateTime with Jackson JSR310 module][4]\r\n - [Could not find artifact Jackson-modules-java8:jar][5]\r\n\r\n\r\n  [1]: http://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.9/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlElementWrapper.html\r\n  [2]: https://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-jsr310\r\n  [3]: https://stackoverflow.com/questions/54676382/how-do-i-update-resttemplate-to-correctly-map-java-dates\r\n  [4]: https://stackoverflow.com/questions/29571587/deserializing-localdatetime-with-jackson-jsr310-module\r\n  [5]: https://stackoverflow.com/questions/54810554/could-not-find-artifact-jackson-modules-java8jar","title":"Deserialize flat array in XML by Jackson to List of Pojo","body":"<p><strong>Your problem is a little tricky because you need to solve a few issues. Let's start to solve them one by one.</strong></p>\n<h2>1. The model does not fit the <code>XML</code> payload.</h2>\n<p>First of all, you need to create a model which fits your <code>payload</code>. It does not depend on the format because for <code>JSON</code> and <code>XML</code> it will be almost the same. To do that I propose always starting from the serialization process. It is much easier to build the model in <code>Java</code> and try to serialize it. In case it does not look the same as expected you need to update the model. You iterate these steps: <code>update</code> and <code>serialise</code> until you will find the valid model. After that, you can deserialize the given <code>payload</code> without any problems.</p>\n<h2>2. Jackson annotations.</h2>\n<p>Even so <code>Jackson</code>'s annotations are great do not use them without a reason. If the <code>POJO</code> property is the same as the node name in <code>XML</code> you do not need to add the <code>JacksonXmlProperty</code> annotation. You must add it when names in <code>POJO</code> and <code>payload</code> are different. In other cases, this is overcomplicating the <code>POJO</code> structure. We should keep it as simple as possible. You need to use one tricky annotation: <a href=\"http://fasterxml.github.io/jackson-dataformat-xml/javadoc/2.9/com/fasterxml/jackson/dataformat/xml/annotation/JacksonXmlElementWrapper.html\" rel=\"nofollow noreferrer\"><code>JacksonXmlElementWrapper</code></a>. It is used when we have collections of nodes but they are unwrapped.</p>\n<p>After these two simple paragraphs let's deserialize your case. We need to extend your <code>POJO</code> structure and it should look like the below:</p>\n<pre><code>class Dataset {\n\n    private LocalDateTime date;\n\n    @JacksonXmlProperty(localName = &quot;element&quot;)\n    @JacksonXmlElementWrapper(useWrapping = false)\n    private List&lt;Element&gt; elements;\n\n    public LocalDateTime getDate() {\n        return date;\n    }\n\n    public void setDate(LocalDateTime date) {\n        this.date = date;\n    }\n\n    public List&lt;Element&gt; getElements() {\n        return elements;\n    }\n\n    public void setElements(List&lt;Element&gt; element) {\n        this.elements = element;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Dataset{&quot; +\n                &quot;date=&quot; + date +\n                &quot;, element=&quot; + elements +\n                '}';\n    }\n}\n\nclass Element {\n\n    private Long id;\n    private String name;\n    private Long age;\n    private RegDate regdate;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Long getAge() {\n        return age;\n    }\n\n    public void setAge(Long age) {\n        this.age = age;\n    }\n\n    public RegDate getRegdate() {\n        return regdate;\n    }\n\n    public void setRegdate(RegDate regdate) {\n        this.regdate = regdate;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;ElementXML{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, age=&quot; + age +\n                &quot;, regdate=&quot; + regdate.getDate() +\n                '}';\n    }\n}\n\nclass RegDate {\n\n    private LocalDateTime date;\n\n    public RegDate() {\n        this(null);\n    }\n\n    public RegDate(LocalDateTime date) {\n        this.date = date;\n    }\n\n    public LocalDateTime getDate() {\n        return date;\n    }\n\n    public void setDate(LocalDateTime date) {\n        this.date = date;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;RegDate{&quot; +\n                &quot;date=&quot; + date +\n                '}';\n    }\n}\n</code></pre>\n<p>An example usage:</p>\n<pre><code>import com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\nimport com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer;\n\nimport java.io.File;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.List;\n\npublic class XmlMapperApp {\n\n    public static void main(String[] args) throws Exception {\n        File jsonFile = new File(&quot;./resource/test.xml&quot;).getAbsoluteFile();\n\n        JavaTimeModule module = new JavaTimeModule();\n        module.addDeserializer(LocalDateTime.class, new LocalDateTimeDeserializer(DateTimeFormatter.ISO_DATE_TIME));\n\n        XmlMapper xmlMapper = new XmlMapper();\n        xmlMapper.registerModule(module);\n        xmlMapper.enable(SerializationFeature.INDENT_OUTPUT);\n\n        Dataset dataset = xmlMapper.readValue(jsonFile, Dataset.class);\n        dataset.getElements().forEach(System.out::println);\n    }\n}\n</code></pre>\n<p>Above code prints:</p>\n<pre><code>ElementXML{id=1, name='Stuart', age=34, regdate=2017-10-25T09:13:54}\nElementXML{id=2, name='Lora', age=12, regdate=2017-10-25T09:13:54}\nElementXML{id=3, name='Ben', age=50, regdate=2017-10-25T09:13:54}\n</code></pre>\n<p>Two extra comments to above code. When you are working with <code>java.time.*</code> classes and <code>Jackson</code> is good to start from registering <code>JavaTimeModule</code> which comes from <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-jsr310\" rel=\"nofollow noreferrer\">jackson-datatype-jsr310</a> module. Since we are using it we can instruct it to use <code>ISO_DATE_TIME</code> formatting for <code>LocalDateTime</code> classes. In other answers you can find example where <code>JsonFormat</code> annotation is used. It is also good solution but when all dates have the same format much easier to define it ones.</p>\n<p>For more information, read:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/54676382/how-do-i-update-resttemplate-to-correctly-map-java-dates\">How do I update RestTemplate to correctly map Java Dates?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/29571587/deserializing-localdatetime-with-jackson-jsr310-module\">Deserializing LocalDateTime with Jackson JSR310 module</a></li>\n<li><a href=\"https://stackoverflow.com/questions/54810554/could-not-find-artifact-jackson-modules-java8jar\">Could not find artifact Jackson-modules-java8:jar</a></li>\n</ul>\n"}],"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9267,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":54875379,"answer_count":2,"score":10,"last_activity_date":1666197517,"creation_date":1551119258,"question_id":54872538,"body_markdown":"Can you help me to parse the following XML file?\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;dataset xmlns=&quot;http:/foo.com&quot;&gt;\r\n       &lt;date&gt;2017-10-25T09:13:54+02:00&lt;/date&gt;\r\n       &lt;element&gt;\r\n          &lt;id&gt;1&lt;/id&gt;\r\n          &lt;name&gt;Stuart&lt;/name&gt;\r\n          &lt;age&gt;34&lt;/age&gt;\r\n          &lt;regdate&gt;&lt;date&gt;2017-10-25T09:13:54+02:00&lt;/date&gt;&lt;/regdate&gt;\r\n       &lt;/element&gt;\r\n       &lt;element&gt;\r\n          &lt;id&gt;2&lt;/id&gt;\r\n          &lt;name&gt;Lora&lt;/name&gt;\r\n          &lt;age&gt;12&lt;/age&gt;\r\n          &lt;regdate&gt;&lt;date&gt;2017-10-25T09:13:54+02:00&lt;/date&gt;&lt;/regdate&gt;\r\n       &lt;/element&gt;\r\n       &lt;element&gt;\r\n          &lt;id&gt;3&lt;/id&gt;\r\n          &lt;name&gt;Ben&lt;/name&gt;\r\n          &lt;age&gt;50&lt;/age&gt;\r\n          &lt;regdate&gt;&lt;date&gt;2017-10-25T09:13:54+02:00&lt;/date&gt;&lt;/regdate&gt;\r\n       &lt;/element&gt;\r\n    &lt;/dataset &gt;\r\n\r\nI tried to create POJO like this:\r\n\r\n    @Getter\r\n    @Setter\r\n    @JacksonXmlRootElement(localName = &quot;element&quot;)\r\n    public class ElementXML {\r\n        @JacksonXmlProperty(localName = &quot;id&quot;)\r\n        private Long id;    \r\n        @JacksonXmlProperty(localName = &quot;name&quot;)\r\n        private String name;\r\n        @JacksonXmlProperty(localName = &quot;age&quot;)\r\n        private Long age;\r\n        @JacksonXmlProperty(localName = &quot;regdate&quot;)\r\n        private LocalDateTime regdate;\r\n    }\r\n\r\nand parsing mechanism that I&#39;ve used is here:\r\n\r\n        XMLInputFactory f = XMLInputFactory.newFactory();\r\n        File inputFile = new File(&quot;some path&quot;);\r\n        XMLStreamReader sr = f.createXMLStreamReader(new FileInputStream(inputFile));\r\n\r\n\r\n        ObjectMapper xmlMapper = new XmlMapper();\r\n        \r\nThere I am stuck because I don&#39;t know how to parse just element tags into a List of my created POJO ElementXML. Do you have any idea how to solve it?\r\n\r\n**EDIT** Trace after edited parsing by answers:\r\n\r\n    com.fasterxml.jackson.databind.JsonMappingException: Expected END_ELEMENT, got event of type 1 (through reference chain: com.xml.Dataset[&quot;element&quot;]-&gt;java.lang.Object[][1])\r\n    \r\n    \tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:394)\r\n    \tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:365)\r\n    \tat com.fasterxml.jackson.databind.deser.std.ObjectArrayDeserializer.deserialize(ObjectArrayDeserializer.java:206)\r\n    \tat com.fasterxml.jackson.databind.deser.std.ObjectArrayDeserializer.deserialize(ObjectArrayDeserializer.java:21)\r\n    \tat com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:127)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:288)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:151)\r\n    \tat com.fasterxml.jackson.dataformat.xml.deser.WrapperHandlingDeserializer.deserialize(WrapperHandlingDeserializer.java:113)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4013)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2902)\r\n    \tat com.xml.data.ParseXmlTest.test(ParseXmlTest.java:62)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\r\n    \tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n    \tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat com.intellij.rt.execution.CommandLineWrapper.main(CommandLineWrapper.java:67)\r\n    Caused by: java.io.IOException: Expected END_ELEMENT, got event of type 1\r\n    \tat com.fasterxml.jackson.dataformat.xml.deser.XmlTokenStream.skipEndElement(XmlTokenStream.java:190)\r\n    \tat com.fasterxml.jackson.dataformat.xml.deser.FromXmlParser.nextToken(FromXmlParser.java:584)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:283)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:151)\r\n    \tat com.fasterxml.jackson.databind.deser.std.ObjectArrayDeserializer.deserialize(ObjectArrayDeserializer.java:195)\r\n    \t... 43 more\r\n\r\n","title":"Deserialize flat array in XML by Jackson to List of Pojo","body":"<p>Can you help me to parse the following XML file?</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;dataset xmlns=&quot;http:/foo.com&quot;&gt;\n   &lt;date&gt;2017-10-25T09:13:54+02:00&lt;/date&gt;\n   &lt;element&gt;\n      &lt;id&gt;1&lt;/id&gt;\n      &lt;name&gt;Stuart&lt;/name&gt;\n      &lt;age&gt;34&lt;/age&gt;\n      &lt;regdate&gt;&lt;date&gt;2017-10-25T09:13:54+02:00&lt;/date&gt;&lt;/regdate&gt;\n   &lt;/element&gt;\n   &lt;element&gt;\n      &lt;id&gt;2&lt;/id&gt;\n      &lt;name&gt;Lora&lt;/name&gt;\n      &lt;age&gt;12&lt;/age&gt;\n      &lt;regdate&gt;&lt;date&gt;2017-10-25T09:13:54+02:00&lt;/date&gt;&lt;/regdate&gt;\n   &lt;/element&gt;\n   &lt;element&gt;\n      &lt;id&gt;3&lt;/id&gt;\n      &lt;name&gt;Ben&lt;/name&gt;\n      &lt;age&gt;50&lt;/age&gt;\n      &lt;regdate&gt;&lt;date&gt;2017-10-25T09:13:54+02:00&lt;/date&gt;&lt;/regdate&gt;\n   &lt;/element&gt;\n&lt;/dataset &gt;\n</code></pre>\n<p>I tried to create POJO like this:</p>\n<pre><code>@Getter\n@Setter\n@JacksonXmlRootElement(localName = &quot;element&quot;)\npublic class ElementXML {\n    @JacksonXmlProperty(localName = &quot;id&quot;)\n    private Long id;    \n    @JacksonXmlProperty(localName = &quot;name&quot;)\n    private String name;\n    @JacksonXmlProperty(localName = &quot;age&quot;)\n    private Long age;\n    @JacksonXmlProperty(localName = &quot;regdate&quot;)\n    private LocalDateTime regdate;\n}\n</code></pre>\n<p>and parsing mechanism that I've used is here:</p>\n<pre><code>    XMLInputFactory f = XMLInputFactory.newFactory();\n    File inputFile = new File(&quot;some path&quot;);\n    XMLStreamReader sr = f.createXMLStreamReader(new FileInputStream(inputFile));\n\n\n    ObjectMapper xmlMapper = new XmlMapper();\n    \n</code></pre>\n<p>There I am stuck because I don't know how to parse just element tags into a List of my created POJO ElementXML. Do you have any idea how to solve it?</p>\n<p><strong>EDIT</strong> Trace after edited parsing by answers:</p>\n<pre><code>com.fasterxml.jackson.databind.JsonMappingException: Expected END_ELEMENT, got event of type 1 (through reference chain: com.xml.Dataset[&quot;element&quot;]-&gt;java.lang.Object[][1])\n\n    at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:394)\n    at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:365)\n    at com.fasterxml.jackson.databind.deser.std.ObjectArrayDeserializer.deserialize(ObjectArrayDeserializer.java:206)\n    at com.fasterxml.jackson.databind.deser.std.ObjectArrayDeserializer.deserialize(ObjectArrayDeserializer.java:21)\n    at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:127)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:288)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:151)\n    at com.fasterxml.jackson.dataformat.xml.deser.WrapperHandlingDeserializer.deserialize(WrapperHandlingDeserializer.java:113)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4013)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2902)\n    at com.xml.data.ParseXmlTest.test(ParseXmlTest.java:62)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)\n    at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.intellij.rt.execution.CommandLineWrapper.main(CommandLineWrapper.java:67)\nCaused by: java.io.IOException: Expected END_ELEMENT, got event of type 1\n    at com.fasterxml.jackson.dataformat.xml.deser.XmlTokenStream.skipEndElement(XmlTokenStream.java:190)\n    at com.fasterxml.jackson.dataformat.xml.deser.FromXmlParser.nextToken(FromXmlParser.java:584)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:283)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:151)\n    at com.fasterxml.jackson.databind.deser.std.ObjectArrayDeserializer.deserialize(ObjectArrayDeserializer.java:195)\n    ... 43 more\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1666197673,"post_id":74128920,"comment_id":130880642,"body_markdown":"For Java-/JakartaEE applications, there is normally one unannotated parameter in the parameter list. the request body is implicitly bound to this one. See, for example, [the official JavaEE 7 documetation of `javax.ws.rs`](https://docs.oracle.com/javaee/7/api/javax/ws/rs/package-summary.html).","body":"For Java-/JakartaEE applications, there is normally one unannotated parameter in the parameter list. the request body is implicitly bound to this one. See, for example, <a href=\"https://docs.oracle.com/javaee/7/api/javax/ws/rs/package-summary.html\" rel=\"nofollow noreferrer\">the official JavaEE 7 documetation of <code>javax.ws.rs</code></a>."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1666201289,"post_id":74128920,"comment_id":130881889,"body_markdown":"What @Turing85 said. Unlike Spring Boot, in JAX-RS you need to annotate everything that is *not* the request body, with annotations like `@HeaderParam`, `@PathParam`, `@QueryParam` or, as a form of catch-all, `@Context`. The latter is needed for types like `HttpServletRequest`, or JAX-RS types like `HttpHeaders`.","body":"What @Turing85 said. Unlike Spring Boot, in JAX-RS you need to annotate everything that is <i>not</i> the request body, with annotations like <code>@HeaderParam</code>, <code>@PathParam</code>, <code>@QueryParam</code> or, as a form of catch-all, <code>@Context</code>. The latter is needed for types like <code>HttpServletRequest</code>, or JAX-RS types like <code>HttpHeaders</code>."},{"owner":{"account_id":3486962,"reputation":882,"user_id":2917629,"accept_rate":21,"display_name":"user2917629"},"score":0,"creation_date":1666222536,"post_id":74128920,"comment_id":130887675,"body_markdown":"@Turing85 Thank you, yes, I see that just by defining a model class representing the body I want to use and referencing that new class in my service method does the job.","body":"@Turing85 Thank you, yes, I see that just by defining a model class representing the body I want to use and referencing that new class in my service method does the job."}],"owner":{"account_id":3486962,"reputation":882,"user_id":2917629,"accept_rate":21,"display_name":"user2917629"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666197383,"creation_date":1666197383,"question_id":74128920,"body_markdown":"I&#39;m currently utilizing javax.ws.rs.QueryParam to do a POST to an endpoint in an old application that doesn&#39;t have org.springframework.web.bind.annotation package.\r\nI&#39;m used to using org.springframework.web.bind.annotation.RequestBody to send complex data. But I&#39;m not seeing anything in javax.ws.rs. similar to the org.springframework.web.bind.annotation.RequestBody.\r\nWhat I want to do is to be able to post hundreds of ids to an endpoint, and using QueryParam for it is not appealing - I&#39;d end up with a very long url of this format:\r\n```\r\nhttps://localhost:8000/rs/sample/active?ids=180&amp;ids=250\r\n```\r\nIdeally, I&#39;d find something similar to org.springframework.web.bind.annotation.RequestBody in basic java libraries to send a list of ids that could be in hundreds. \r\nAny ideas how i could do this with java/javax libraries?","title":"Java - a better alternative to javax.ws.rs.QueryParam for a long list","body":"<p>I'm currently utilizing javax.ws.rs.QueryParam to do a POST to an endpoint in an old application that doesn't have org.springframework.web.bind.annotation package.\nI'm used to using org.springframework.web.bind.annotation.RequestBody to send complex data. But I'm not seeing anything in javax.ws.rs. similar to the org.springframework.web.bind.annotation.RequestBody.\nWhat I want to do is to be able to post hundreds of ids to an endpoint, and using QueryParam for it is not appealing - I'd end up with a very long url of this format:</p>\n<pre><code>https://localhost:8000/rs/sample/active?ids=180&amp;ids=250\n</code></pre>\n<p>Ideally, I'd find something similar to org.springframework.web.bind.annotation.RequestBody in basic java libraries to send a list of ids that could be in hundreds.\nAny ideas how i could do this with java/javax libraries?</p>\n"},{"tags":["java","sql","sql-server","spring"],"comments":[{"owner":{"account_id":26447435,"reputation":2008,"user_id":20091109,"display_name":"Stuck at 1337"},"score":1,"creation_date":1666196765,"post_id":74128682,"comment_id":130880350,"body_markdown":"What on earth can your application possibly do with a million rows even if they could all be returned immediately? Look up `SQL Server pagination`. Pagination is how Google shows you 10 results at a time instead of [all 3,660,000 results at once](https://www.google.com/search?q=SQL+Server+pagination), and this site shows you 15 results at a time instead of [over 1,000 in one screen](https://stackoverflow.com/search?q=%5Bsql-server%5D+pagination).","body":"What on earth can your application possibly do with a million rows even if they could all be returned immediately? Look up <code>SQL Server pagination</code>. Pagination is how Google shows you 10 results at a time instead of <a href=\"https://www.google.com/search?q=SQL+Server+pagination\" rel=\"nofollow noreferrer\">all 3,660,000 results at once</a>, and this site shows you 15 results at a time instead of <a href=\"https://stackoverflow.com/search?q=%5Bsql-server%5D+pagination\">over 1,000 in one screen</a>."},{"owner":{"account_id":16640921,"reputation":1,"user_id":12026478,"display_name":"pearowaty"},"score":0,"creation_date":1666249641,"post_id":74128682,"comment_id":130892140,"body_markdown":"My application want call once procedure and create csv file with whole data. I don&#39;t want rewrite my file","body":"My application want call once procedure and create csv file with whole data. I don&#39;t want rewrite my file"}],"answers":[{"comments":[{"owner":{"account_id":16640921,"reputation":1,"user_id":12026478,"display_name":"pearowaty"},"score":0,"creation_date":1666249676,"post_id":74128900,"comment_id":130892152,"body_markdown":"My application want call once procedure and create csv file with whole data. I don&#39;t want rewrite my file. Can I use something like this? https://learn.microsoft.com/en-us/sql/connect/jdbc/using-adaptive-buffering?view=sql-server-ver15","body":"My application want call once procedure and create csv file with whole data. I don&#39;t want rewrite my file. Can I use something like this? <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/using-adaptive-buffering?view=sql-server-ver15\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/sql/connect/jdbc/&hellip;</a>"}],"tags":[],"owner":{"account_id":26447435,"reputation":2008,"user_id":20091109,"display_name":"Stuck at 1337"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666197309,"creation_date":1666197309,"answer_id":74128900,"question_id":74128682,"body_markdown":"Your application and users don&#39;t want a million rows. Why would your procedure try to return them all? You want to use [pagination](https://stackoverflow.com/search?tab=newest&amp;q=%5bsql-server%5d%20pagination%20is%3aquestion%20closed%3afalse).\r\n\r\nFor example, in SQL Server you can do this using `OFFSET`/`FETCH`:\r\n\r\n    CREATE PROCEDURE dbo.PageByPage\r\n      @PageNumber int = 1,\r\n      @PerPage    int = 100\r\n    AS\r\n    BEGIN\r\n      SET NOCOUNT ON;\r\n\r\n      WITH the_keys AS\r\n      (\r\n        SELECT key_column\r\n          FROM dbo.table_name\r\n          ORDER BY key_column\r\n          OFFSET @PerPage * (@PageNumber - 1) ROWS\r\n          FETCH NEXT @PerPage ROWS ONLY\r\n      )\r\n      SELECT t.all_columns ...\r\n        FROM dbo.table_name AS t\r\n        INNER JOIN the_keys AS k \r\n          ON t.key_column = k.key_column\r\n        ORDER BY t.key_column;\r\n    END\r\n    GO\r\n\r\nNow your application keeps track of which page you&#39;re on, and passes the next or previous page as the user navigates through pages.\r\n\r\nThe reason for the CTE is to make the initial search as narrow as possible, since your actual query probably is more complex (Aaron Bertrand talks about this approach [here](https://sqlperformance.com/2015/01/t-sql-queries/pagination-with-offset-fetch)).","title":"MS SQL SERVER Reading large data","body":"<p>Your application and users don't want a million rows. Why would your procedure try to return them all? You want to use <a href=\"https://stackoverflow.com/search?tab=newest&amp;q=%5bsql-server%5d%20pagination%20is%3aquestion%20closed%3afalse\">pagination</a>.</p>\n<p>For example, in SQL Server you can do this using <code>OFFSET</code>/<code>FETCH</code>:</p>\n<pre><code>CREATE PROCEDURE dbo.PageByPage\n  @PageNumber int = 1,\n  @PerPage    int = 100\nAS\nBEGIN\n  SET NOCOUNT ON;\n\n  WITH the_keys AS\n  (\n    SELECT key_column\n      FROM dbo.table_name\n      ORDER BY key_column\n      OFFSET @PerPage * (@PageNumber - 1) ROWS\n      FETCH NEXT @PerPage ROWS ONLY\n  )\n  SELECT t.all_columns ...\n    FROM dbo.table_name AS t\n    INNER JOIN the_keys AS k \n      ON t.key_column = k.key_column\n    ORDER BY t.key_column;\nEND\nGO\n</code></pre>\n<p>Now your application keeps track of which page you're on, and passes the next or previous page as the user navigates through pages.</p>\n<p>The reason for the CTE is to make the initial search as narrow as possible, since your actual query probably is more complex (Aaron Bertrand talks about this approach <a href=\"https://sqlperformance.com/2015/01/t-sql-queries/pagination-with-offset-fetch\" rel=\"nofollow noreferrer\">here</a>).</p>\n"}],"owner":{"account_id":16640921,"reputation":1,"user_id":12026478,"display_name":"pearowaty"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666197309,"creation_date":1666196323,"question_id":74128682,"body_markdown":"Hi I use MS SQL Server 2016 and I need to read large data.\r\nI want use adaptive buffering to read first for example 1000 rows.\r\n\r\nMy procedure retrun 1 milion rows but I dont want out of memory my application so I want to read data by adaptive buffering. \r\nI saw only for long data columns but I want this for rows. Could you help me?","title":"MS SQL SERVER Reading large data","body":"<p>Hi I use MS SQL Server 2016 and I need to read large data.\nI want use adaptive buffering to read first for example 1000 rows.</p>\n<p>My procedure retrun 1 milion rows but I dont want out of memory my application so I want to read data by adaptive buffering.\nI saw only for long data columns but I want this for rows. Could you help me?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":19235586,"reputation":264,"user_id":14056614,"display_name":"Deb Das"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665661059,"creation_date":1665661059,"answer_id":74055118,"question_id":74053405,"body_markdown":"Can you please try and add the content type for the request\r\n```\r\nreqSpeBuilder.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n```\r\n\r\nalso try and change the response to\r\n```\r\nRestAssured.given().spec(reqSpec).body(Jsonbody).\r\n     when()\r\n    .contentType(ContentType.JSON)\r\n    .post(&quot;/public/v2/users&quot;).then().log().all().statusCode(201);\r\n```","title":"How to pass authorization token in request using Request Specification Class in Rest assured API testing. How to use rest specification builder class","body":"<p>Can you please try and add the content type for the request</p>\n<pre><code>reqSpeBuilder.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n</code></pre>\n<p>also try and change the response to</p>\n<pre><code>RestAssured.given().spec(reqSpec).body(Jsonbody).\n     when()\n    .contentType(ContentType.JSON)\n    .post(&quot;/public/v2/users&quot;).then().log().all().statusCode(201);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666196965,"creation_date":1665667481,"answer_id":74056541,"question_id":74053405,"body_markdown":"You can simply add it as header.\r\n\r\n```\r\nreqSpeBuilder.addHeader(&quot;Authorization&quot;, authToken);\r\n```\r\nYour problem is here: \r\n```\r\nString authToken=&quot;Bearer&quot;+token;\r\n```\r\nIt should be like this: \r\n```\r\nString authToken= &quot;Bearer &quot; + token;\r\n````\r\nYou have missed on space between Bearer and the actual token.\r\n","title":"How to pass authorization token in request using Request Specification Class in Rest assured API testing. How to use rest specification builder class","body":"<p>You can simply add it as header.</p>\n<pre><code>reqSpeBuilder.addHeader(&quot;Authorization&quot;, authToken);\n</code></pre>\n<p>Your problem is here:</p>\n<pre><code>String authToken=&quot;Bearer&quot;+token;\n</code></pre>\n<p>It should be like this:</p>\n<pre><code>String authToken= &quot;Bearer &quot; + token;\n</code></pre>\n<p>You have missed on space between Bearer and the actual token.</p>\n"}],"owner":{"account_id":26609495,"reputation":11,"user_id":20229874,"display_name":"Hira Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666196965,"creation_date":1665653090,"question_id":74053405,"body_markdown":"Hello I am trying to pass authorization token in rest assured using rest assured specification class. But I am getting authentication failed message below is my code.\r\n\r\n         String Jsonbody=&quot;{\\&quot;name\\&quot;:\\&quot;Vishwamitra Pillai\\&quot;,\\r\\n&quot;\r\n \t\t   \t\t+ &quot;\\&quot;email\\&quot;:\\&quot;pillai_vishwamitra@schmitt.info24\\&quot;,\\r\\n&quot;\r\n \t\t   \t\t+ &quot;\\&quot;gender\\&quot;:\\&quot;female\\&quot;,\\&quot;status\\&quot;:\\&quot;active\\&quot;}&quot;;\r\n\t\t String token=&quot;038f2fd3b9431b5fb34a889c9b4bf8eb29bcb72b16ea02535a151106bf94eff7&quot;;\r\n    \t String authToken=&quot;Bearer&quot;+token;\r\n\r\n    \t RequestSpecBuilder reqSpeBuilder; \r\n \t\t final RequestSpecification reqSpec;\r\n         reqSpeBuilder = new RequestSpecBuilder();\r\n \t\t reqSpeBuilder.setBaseUri(&quot;https://gorest.co.in&quot;);\r\n \t\t reqSpeBuilder.addHeader(&quot;Authorization&quot;, authToken);\r\n \t\t reqSpec = reqSpeBuilder.build();\r\n\r\n \t\tRestAssured.given().spec(reqSpec).body(Jsonbody).\r\n\t     when().post(&quot;/public/v2/users&quot;).then().log().all().statusCode(201);","title":"How to pass authorization token in request using Request Specification Class in Rest assured API testing. How to use rest specification builder class","body":"<p>Hello I am trying to pass authorization token in rest assured using rest assured specification class. But I am getting authentication failed message below is my code.</p>\n<pre><code>     String Jsonbody=&quot;{\\&quot;name\\&quot;:\\&quot;Vishwamitra Pillai\\&quot;,\\r\\n&quot;\n            + &quot;\\&quot;email\\&quot;:\\&quot;pillai_vishwamitra@schmitt.info24\\&quot;,\\r\\n&quot;\n            + &quot;\\&quot;gender\\&quot;:\\&quot;female\\&quot;,\\&quot;status\\&quot;:\\&quot;active\\&quot;}&quot;;\n     String token=&quot;038f2fd3b9431b5fb34a889c9b4bf8eb29bcb72b16ea02535a151106bf94eff7&quot;;\n     String authToken=&quot;Bearer&quot;+token;\n\n     RequestSpecBuilder reqSpeBuilder; \n     final RequestSpecification reqSpec;\n     reqSpeBuilder = new RequestSpecBuilder();\n     reqSpeBuilder.setBaseUri(&quot;https://gorest.co.in&quot;);\n     reqSpeBuilder.addHeader(&quot;Authorization&quot;, authToken);\n     reqSpec = reqSpeBuilder.build();\n\n    RestAssured.given().spec(reqSpec).body(Jsonbody).\n     when().post(&quot;/public/v2/users&quot;).then().log().all().statusCode(201);\n</code></pre>\n"},{"tags":["java","android","passcode"],"answers":[{"tags":[],"owner":{"account_id":4055167,"reputation":551,"user_id":3333438,"accept_rate":75,"display_name":"Banee Ishaque K"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1593675785,"creation_date":1593675785,"answer_id":62691401,"question_id":61368877,"body_markdown":"Add `androidx.legacy:legacy-support-v4:1.0.0` in project dependencies section.\r\n\r\n    //app/build.gradle dependencies section\r\n\r\n    dependencies {\r\n    \r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n        // Other dependencies\r\n    }\r\n\r\nMore Details : [AndroidX Class Mappings][1],[AndroidX Artifact Mappings][2]\r\n\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx/migrate/class-mappings\r\n  [2]: https://developer.android.com/jetpack/androidx/migrate/artifact-mappings","title":"class Androidx.legacy.widget.space not found for Passcode View","body":"<p>Add <code>androidx.legacy:legacy-support-v4:1.0.0</code> in project dependencies section.</p>\n<pre><code>//app/build.gradle dependencies section\n\ndependencies {\n\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    // Other dependencies\n}\n</code></pre>\n<p>More Details : <a href=\"https://developer.android.com/jetpack/androidx/migrate/class-mappings\" rel=\"noreferrer\">AndroidX Class Mappings</a>,<a href=\"https://developer.android.com/jetpack/androidx/migrate/artifact-mappings\" rel=\"noreferrer\">AndroidX Artifact Mappings</a></p>\n"},{"tags":[],"owner":{"account_id":2595424,"reputation":1612,"user_id":2249237,"accept_rate":67,"display_name":"Zee"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1596707721,"creation_date":1596707721,"answer_id":63281076,"question_id":61368877,"body_markdown":"In your layout file, replace occurrences of androidx.legacy.widget.Space with View. \r\n\r\neg.\r\n\r\n     &lt;androidx.legacy.widget.Space\r\n           android:layout_width=&quot;8dp&quot;\r\n           android:layout_height=&quot;1dp&quot; /&gt;\r\n\r\nShould now be \r\n\r\n     &lt;View\r\n          android:layout_width=&quot;8dp&quot;\r\n          android:layout_height=&quot;1dp&quot; /&gt;\r\n\r\nHad the same issue after updating my Gradle Version.","title":"class Androidx.legacy.widget.space not found for Passcode View","body":"<p>In your layout file, replace occurrences of androidx.legacy.widget.Space with View.</p>\n<p>eg.</p>\n<pre><code> &lt;androidx.legacy.widget.Space\n       android:layout_width=&quot;8dp&quot;\n       android:layout_height=&quot;1dp&quot; /&gt;\n</code></pre>\n<p>Should now be</p>\n<pre><code> &lt;View\n      android:layout_width=&quot;8dp&quot;\n      android:layout_height=&quot;1dp&quot; /&gt;\n</code></pre>\n<p>Had the same issue after updating my Gradle Version.</p>\n"},{"comments":[{"owner":{"account_id":1370737,"reputation":9894,"user_id":1306012,"accept_rate":97,"display_name":"Bruno Bieri"},"score":4,"creation_date":1623679124,"post_id":66369114,"comment_id":120140040,"body_markdown":"The replacement note can be found in the `androidx.legacy.widget.Space` comment as follows: `@deprecated Use framework {@link android.widget.Space} class instead.` https://android.googlesource.com/platform/frameworks/support/+/a9ac247af2afd4115c3eb6d16c05bc92737d6305/legacy/core-ui/src/main/java/androidx/legacy/widget/Space.java","body":"The replacement note can be found in the <code>androidx.legacy.widget.Space</code> comment as follows: <code>@deprecated Use framework {@link android.widget.Space} class instead.</code> <a href=\"https://android.googlesource.com/platform/frameworks/support/+/a9ac247af2afd4115c3eb6d16c05bc92737d6305/legacy/core-ui/src/main/java/androidx/legacy/widget/Space.java\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/frameworks/support/+/&hellip;</a>"}],"tags":[],"owner":{"account_id":2358246,"reputation":8471,"user_id":2065587,"display_name":"mmBs"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1614258528,"creation_date":1614258528,"answer_id":66369114,"question_id":61368877,"body_markdown":"Instead of `androidx.legacy.widget.Space` you can just use `android.widget.Space`. Eg.:\r\n\r\n    &lt;android.widget.Space\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:minHeight=&quot;1dp&quot;/&gt;","title":"class Androidx.legacy.widget.space not found for Passcode View","body":"<p>Instead of <code>androidx.legacy.widget.Space</code> you can just use <code>android.widget.Space</code>. Eg.:</p>\n<pre><code>&lt;android.widget.Space\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;0dp&quot;\n    android:layout_weight=&quot;1&quot;\n    android:minHeight=&quot;1dp&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3368850,"reputation":3589,"user_id":2828651,"accept_rate":56,"display_name":"صلي علي محمد - Atef Farouk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666195581,"creation_date":1666195581,"answer_id":74128530,"question_id":61368877,"body_markdown":"in my case I replaced `&lt;Space` with `&lt;androidx.legacy.widget.Space` and error disappeared.","title":"class Androidx.legacy.widget.space not found for Passcode View","body":"<p>in my case I replaced <code>&lt;Space</code> with <code>&lt;androidx.legacy.widget.Space</code> and error disappeared.</p>\n"}],"owner":{"account_id":18343213,"reputation":51,"user_id":13358944,"display_name":"Joshua Sim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5659,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1666195581,"creation_date":1587569142,"question_id":61368877,"body_markdown":"This activity was originally working but then it suddenly stopped working and it showed me this error. I&#39;m not sure how to fix it and I don&#39;t recall removing anything from my app.gradle files but does anyone know how to solve it? Any help would be greatly appreciated\r\n\r\n\r\nBelow is my passcode view main activity (XML shown below with error)\r\n&#39;&#39;&#39; \r\n    PasscodeView PasswordView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_password_view);\r\n\r\n        PasswordView = findViewById(R.id.PasswordView);\r\n        PasswordView.setPasscodeLength(4)\r\n                .setLocalPasscode(&quot;1234&quot;)\r\n                .setListener(new PasscodeView.PasscodeViewListener() {\r\n                    @Override\r\n                    public void onFail() {\r\n                        Toast.makeText(PasswordView.this, &quot;Passcode do not match&quot;,Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    @Override\r\n                    public void onSuccess(String number) {\r\n                        Intent intent = new Intent(PasswordView.this,Main2Activity.class);\r\n                        startActivity(intent);\r\n                    }\r\n                });\r\n\r\n    }}\r\n\r\n&#39;&#39;&#39;\r\n\r\n[Screenshot of Error and XML for Password View][1]\r\n\r\n\r\n[1st Part of App.Gradle][2]\r\n\r\n\r\n[2nd Part of App.Gradle (Dependencies)][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XohLU.png\r\n  [2]: https://i.stack.imgur.com/Ox9l6.png\r\n  [3]: https://i.stack.imgur.com/DAJvr.png","title":"class Androidx.legacy.widget.space not found for Passcode View","body":"<p>This activity was originally working but then it suddenly stopped working and it showed me this error. I'm not sure how to fix it and I don't recall removing anything from my app.gradle files but does anyone know how to solve it? Any help would be greatly appreciated</p>\n\n<p>Below is my passcode view main activity (XML shown below with error)\n''' \n    PasscodeView PasswordView;</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_password_view);\n\n    PasswordView = findViewById(R.id.PasswordView);\n    PasswordView.setPasscodeLength(4)\n            .setLocalPasscode(\"1234\")\n            .setListener(new PasscodeView.PasscodeViewListener() {\n                @Override\n                public void onFail() {\n                    Toast.makeText(PasswordView.this, \"Passcode do not match\",Toast.LENGTH_SHORT).show();\n                }\n                @Override\n                public void onSuccess(String number) {\n                    Intent intent = new Intent(PasswordView.this,Main2Activity.class);\n                    startActivity(intent);\n                }\n            });\n\n}}\n</code></pre>\n\n<p>'''</p>\n\n<p><a href=\"https://i.stack.imgur.com/XohLU.png\" rel=\"noreferrer\">Screenshot of Error and XML for Password View</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Ox9l6.png\" rel=\"noreferrer\">1st Part of App.Gradle</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/DAJvr.png\" rel=\"noreferrer\">2nd Part of App.Gradle (Dependencies)</a></p>\n"},{"tags":["java","jpa","hl7-fhir","hapi"],"comments":[{"owner":{"account_id":2766933,"reputation":6533,"user_id":2382420,"display_name":"Lloyd McKenzie"},"score":0,"creation_date":1666196292,"post_id":74128503,"comment_id":130880189,"body_markdown":"If you want to be conformant, you need to use the extension element, not define your own.  Also, the organization associated with the appointment is typically conveyed by the organization of the participants.  (The model allows for the possibility that an appointment may involve resources from multiple organizations.)","body":"If you want to be conformant, you need to use the extension element, not define your own.  Also, the organization associated with the appointment is typically conveyed by the organization of the participants.  (The model allows for the possibility that an appointment may involve resources from multiple organizations.)"},{"owner":{"account_id":1214611,"reputation":24704,"user_id":1182464,"accept_rate":58,"display_name":"estani"},"score":0,"creation_date":1666269374,"post_id":74128503,"comment_id":130899536,"body_markdown":"@LloydMcKenzie exactly that&#39;s why we want to model an organization as taking responsability over the appointment in a collegial appointment. In my Question I&#39;m trying to use the extension, not generating a new resource hence no name in `@ ResourceDef `. The FHIR Model is correct and not the issue, the problem is that the HAPI JPA server is not using it when getting an Appointment resource. My intention is to work transparently with the Java Object which only defines the extension.","body":"@LloydMcKenzie exactly that&#39;s why we want to model an organization as taking responsability over the appointment in a collegial appointment. In my Question I&#39;m trying to use the extension, not generating a new resource hence no name in <code>@ ResourceDef </code>. The FHIR Model is correct and not the issue, the problem is that the HAPI JPA server is not using it when getting an Appointment resource. My intention is to work transparently with the Java Object which only defines the extension."}],"owner":{"account_id":1214611,"reputation":24704,"user_id":1182464,"accept_rate":58,"display_name":"estani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666195470,"creation_date":1666195470,"question_id":74128503,"body_markdown":"I&#39;m trying to extend the standard resource `Appointment` to include the organization responsible for it.\r\n\r\nI followed the [docu][1] and the explanation of the [ResourceDef][2] annotation that suggests the following is correct.\r\n\r\n```java\r\n@ResourceDef\r\npublic class TeamedioAppointment extends Appointment {\r\n  private static final long serialVersionUID = 1L;\r\n\r\n  @Child(name = &quot;organizer&quot;)\r\n  @Extension(url=&quot;https://teamedio.de/fhir/actor-role#Organizer&quot;, definedLocally=false, isModifier=false)\r\n  @Description(shortDefinition = &quot;The organization responsible for the appointment&quot;)\r\n  private StringType organizer;\r\n\r\n  public StringType getOrganizer() {\r\n    if (organizer == null) {\r\n      organizer = new StringType();\r\n    }\r\n    return organizer;\r\n }\r\n\r\n  public void setOrganizer(StringType orgRef) {\r\n    organizer = orgRef;\r\n  }\r\n\r\n  @Override\r\n  public boolean isEmpty() {\r\n     return super.isEmpty() &amp;&amp; ElementUtil.isEmpty(organizer);\r\n  }\r\n}\r\n```\r\n\r\nNow my expectation is that it will override the `Appointment` resource and use the one I provided (as it has the same name).  But that&#39;s not what is happening.\r\n\r\nIf I `POST` an Appointment resource I get just the Standard Appointment from the `RequestDetails` object.\r\n\r\nI guess I have to register it also somewhere?\r\nI already tried to add it to the context, but didn&#39;t help either:\r\n```java\r\nprotected void initialize() throws ServletException {\r\n  //...\r\n  getFhirContext().registerCustomType(TeamedioAppointment.class);\r\n}\r\n```\r\n  [1]: https://hapifhir.io/hapi-fhir/docs/model/custom_structures.html\r\n  [2]: https://github.com/hapifhir/hapi-fhir/blob/master/hapi-fhir-base/src/main/java/ca/uhn/fhir/model/api/annotation/ResourceDef.java","title":"How can I extend a resource in HAPI FHIR JPA Server?","body":"<p>I'm trying to extend the standard resource <code>Appointment</code> to include the organization responsible for it.</p>\n<p>I followed the <a href=\"https://hapifhir.io/hapi-fhir/docs/model/custom_structures.html\" rel=\"nofollow noreferrer\">docu</a> and the explanation of the <a href=\"https://github.com/hapifhir/hapi-fhir/blob/master/hapi-fhir-base/src/main/java/ca/uhn/fhir/model/api/annotation/ResourceDef.java\" rel=\"nofollow noreferrer\">ResourceDef</a> annotation that suggests the following is correct.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ResourceDef\npublic class TeamedioAppointment extends Appointment {\n  private static final long serialVersionUID = 1L;\n\n  @Child(name = &quot;organizer&quot;)\n  @Extension(url=&quot;https://teamedio.de/fhir/actor-role#Organizer&quot;, definedLocally=false, isModifier=false)\n  @Description(shortDefinition = &quot;The organization responsible for the appointment&quot;)\n  private StringType organizer;\n\n  public StringType getOrganizer() {\n    if (organizer == null) {\n      organizer = new StringType();\n    }\n    return organizer;\n }\n\n  public void setOrganizer(StringType orgRef) {\n    organizer = orgRef;\n  }\n\n  @Override\n  public boolean isEmpty() {\n     return super.isEmpty() &amp;&amp; ElementUtil.isEmpty(organizer);\n  }\n}\n</code></pre>\n<p>Now my expectation is that it will override the <code>Appointment</code> resource and use the one I provided (as it has the same name).  But that's not what is happening.</p>\n<p>If I <code>POST</code> an Appointment resource I get just the Standard Appointment from the <code>RequestDetails</code> object.</p>\n<p>I guess I have to register it also somewhere?\nI already tried to add it to the context, but didn't help either:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected void initialize() throws ServletException {\n  //...\n  getFhirContext().registerCustomType(TeamedioAppointment.class);\n}\n</code></pre>\n"},{"tags":["java","unit-testing","assertion"],"answers":[{"tags":[],"owner":{"account_id":127329,"reputation":2592,"user_id":324407,"accept_rate":25,"display_name":"Delta George"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650898001,"creation_date":1650897697,"answer_id":72001349,"question_id":72000899,"body_markdown":"You need to take into account lists of different sizes as well as null elements in the lists.\r\n\r\nThis seems quite readable and caters to these edge cases:\r\n\r\n\r\n    private void assertConcreteTypes(List actual, List expected) {\r\n        assertEquals(classes(expected), classes(actual));\r\n    }\r\n\r\n    private List&lt;Class&lt;?&gt;&gt; classes(List&lt;Object&gt; list) {\r\n        return list.stream().map(v -&gt; v == null ? null : v.getClass()).collect(Collectors.toList());\r\n    }\r\n\r\n","title":"Assert two List have same subtypes in a certain order","body":"<p>You need to take into account lists of different sizes as well as null elements in the lists.</p>\n<p>This seems quite readable and caters to these edge cases:</p>\n<pre><code>private void assertConcreteTypes(List actual, List expected) {\n    assertEquals(classes(expected), classes(actual));\n}\n\nprivate List&lt;Class&lt;?&gt;&gt; classes(List&lt;Object&gt; list) {\n    return list.stream().map(v -&gt; v == null ? null : v.getClass()).collect(Collectors.toList());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":127329,"reputation":2592,"user_id":324407,"accept_rate":25,"display_name":"Delta George"},"score":0,"creation_date":1650904063,"post_id":72002201,"comment_id":127228461,"body_markdown":"You need to take into account lists of different sizes as well as null elements in the lists.","body":"You need to take into account lists of different sizes as well as null elements in the lists."},{"owner":{"account_id":4208208,"reputation":1452,"user_id":3446614,"display_name":"alonso_50"},"score":0,"creation_date":1650963924,"post_id":72002201,"comment_id":127242437,"body_markdown":"Thanks, this example was what I was looking for. Really usable and well decomposed.","body":"Thanks, this example was what I was looking for. Really usable and well decomposed."}],"tags":[],"owner":{"account_id":4604899,"reputation":5097,"user_id":3734640,"accept_rate":83,"display_name":"Govinda Sakhare"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666195243,"creation_date":1650901386,"answer_id":72002201,"question_id":72000899,"body_markdown":"You can create a custom Assertj asserter and leverage it for asserting types.\r\n\r\n    class TypeAssert extends AbstractAssert&lt;TypeAssert, List&lt;?&gt;&gt; {\r\n    \r\n        public TypeAssert(List&lt;?&gt; actual) {\r\n            super(actual, TypeAssert.class);\r\n        }\r\n    \r\n        public TypeAssert hasElementsOfExactlyTheSameTypeAs(List&lt;?&gt; expected) {\r\n            isNotNull();\r\n            for (int i = 0; i &lt; actual.size(); i++) {\r\n                if (!actual.get(i).getClass().equals(expected.get(i).getClass())) {\r\n                    failWithMessage(&quot;Expected [%s]th element to be of type: %s but was of type: %s&quot;,\r\n                        i, expected.get(i).getClass(), actual.get(i).getClass());\r\n                }\r\n            }\r\n    \r\n            return this;\r\n        }\r\n    }\r\n\r\nYou&#39;ll need a static method that will expose the object of our Custom Exporter.\r\n\r\n    class Assertions {\r\n    \r\n        // static factory method which exposes custom asserted\r\n        static TypeAssert assertThat(List&lt;?&gt; actual) {\r\n            return new TypeAssert(actual);\r\n        }\r\n    }\r\n\r\nAnd then you can use the above method for asserting based on type.\r\n\r\n    List&lt;Object&gt; actual = List.of(new Employee());\r\n    List&lt;Object&gt; expected = List.of(new StringBuilder());\r\n\r\n    Assertions.assertThat(actual).hasElementsOfExactlyTheSameTypeAs(expected);\r\n\r\nIf you are asserting based on a type only at a very few places then I think the approach you have mentioned is much cleaner and readable. But if you need such assertion at several places then may be creating a custom assertion is a good choice.","title":"Assert two List have same subtypes in a certain order","body":"<p>You can create a custom Assertj asserter and leverage it for asserting types.</p>\n<pre><code>class TypeAssert extends AbstractAssert&lt;TypeAssert, List&lt;?&gt;&gt; {\n\n    public TypeAssert(List&lt;?&gt; actual) {\n        super(actual, TypeAssert.class);\n    }\n\n    public TypeAssert hasElementsOfExactlyTheSameTypeAs(List&lt;?&gt; expected) {\n        isNotNull();\n        for (int i = 0; i &lt; actual.size(); i++) {\n            if (!actual.get(i).getClass().equals(expected.get(i).getClass())) {\n                failWithMessage(&quot;Expected [%s]th element to be of type: %s but was of type: %s&quot;,\n                    i, expected.get(i).getClass(), actual.get(i).getClass());\n            }\n        }\n\n        return this;\n    }\n}\n</code></pre>\n<p>You'll need a static method that will expose the object of our Custom Exporter.</p>\n<pre><code>class Assertions {\n\n    // static factory method which exposes custom asserted\n    static TypeAssert assertThat(List&lt;?&gt; actual) {\n        return new TypeAssert(actual);\n    }\n}\n</code></pre>\n<p>And then you can use the above method for asserting based on type.</p>\n<pre><code>List&lt;Object&gt; actual = List.of(new Employee());\nList&lt;Object&gt; expected = List.of(new StringBuilder());\n\nAssertions.assertThat(actual).hasElementsOfExactlyTheSameTypeAs(expected);\n</code></pre>\n<p>If you are asserting based on a type only at a very few places then I think the approach you have mentioned is much cleaner and readable. But if you need such assertion at several places then may be creating a custom assertion is a good choice.</p>\n"}],"owner":{"account_id":4208208,"reputation":1452,"user_id":3446614,"display_name":"alonso_50"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72002201,"answer_count":2,"score":0,"last_activity_date":1666195243,"creation_date":1650895739,"question_id":72000899,"body_markdown":"I would like to check if two lists (let&#39;s say, ArrayLists) have exactly the same instance classes, based in an expected List.\r\nTo do so, I have built the next method, but I was wondering whether there is another fancy way using certain library, like assertJ.\r\n\r\n```\r\n    private void assertConcreteTypes(List actual, List expected) {\r\n        for (int i = 0; i &lt; actual.size(); i++){\r\n            assertThat(actual.get(i)).isExactlyInstanceOf(expected.get(i).getClass());\r\n        }\r\n    }\r\n```\r\n\r\nAny suggestion would be more than welcome. Thanks!","title":"Assert two List have same subtypes in a certain order","body":"<p>I would like to check if two lists (let's say, ArrayLists) have exactly the same instance classes, based in an expected List.\nTo do so, I have built the next method, but I was wondering whether there is another fancy way using certain library, like assertJ.</p>\n<pre><code>    private void assertConcreteTypes(List actual, List expected) {\n        for (int i = 0; i &lt; actual.size(); i++){\n            assertThat(actual.get(i)).isExactlyInstanceOf(expected.get(i).getClass());\n        }\n    }\n</code></pre>\n<p>Any suggestion would be more than welcome. Thanks!</p>\n"},{"tags":["java","android","kotlin","android-fragments"],"answers":[{"comments":[{"owner":{"display_name":"user20088323"},"score":0,"creation_date":1666121566,"post_id":74116065,"comment_id":130859717,"body_markdown":"Are you trying to say that we can&#39;t send data from Activity to Fragment using Interfaces?","body":"Are you trying to say that we can&#39;t send data from Activity to Fragment using Interfaces?"},{"owner":{"account_id":531541,"reputation":5194,"user_id":1449683,"accept_rate":44,"display_name":"squirrel"},"score":0,"creation_date":1666125168,"post_id":74116065,"comment_id":130860771,"body_markdown":"What exactly do you understand by an interface?","body":"What exactly do you understand by an interface?"}],"tags":[],"owner":{"account_id":531541,"reputation":5194,"user_id":1449683,"accept_rate":44,"display_name":"squirrel"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666118889,"creation_date":1666118889,"answer_id":74116065,"question_id":74115568,"body_markdown":"You have an instance of a fragment in `fragment`, so provided it has a property `name` you can just say `fragment.name = &quot;name&quot;`.\r\n\r\nNote that when the app is restarted by the system after it is killed, the system will try to restore the fragment by calling it with empty constructor. So you [can&#39;t have a constructor that have arguments][1], and also you won&#39;t get a `name` if you set it using `fragment.name = &quot;name&quot;`. Using a bundle ensures that that the fragment gets its arguments after restart.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10450348/do-fragments-really-need-an-empty-constructor","title":"How to send data from Activity to Fragment using Interface and without the transaction?","body":"<p>You have an instance of a fragment in <code>fragment</code>, so provided it has a property <code>name</code> you can just say <code>fragment.name = &quot;name&quot;</code>.</p>\n<p>Note that when the app is restarted by the system after it is killed, the system will try to restore the fragment by calling it with empty constructor. So you <a href=\"https://stackoverflow.com/questions/10450348/do-fragments-really-need-an-empty-constructor\">can't have a constructor that have arguments</a>, and also you won't get a <code>name</code> if you set it using <code>fragment.name = &quot;name&quot;</code>. Using a bundle ensures that that the fragment gets its arguments after restart.</p>\n"},{"tags":[],"owner":{"account_id":21471922,"reputation":51,"user_id":15820776,"display_name":"Ravi Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666173426,"creation_date":1666173426,"answer_id":74123383,"question_id":74115568,"body_markdown":"\r\nI hope this can resolve your issue\r\n\r\nAdding fragment to Activity\r\n\r\n\r\n     val interfaceCall:FetchDataInterface = DataFragment.newInstance(&quot;data&quot;)\r\n            interfaceCall.getData(&quot;data from interface&quot;)\r\n            supportFragmentManager.beginTransaction()\r\n                .replace(R.id.frame, DataFragment.newInstance(&quot;data&quot;))\r\n                .commit()\r\n\r\nFragment Class\r\n\r\n\r\n    class DataFragment : Fragment(),MainActivity.FetchDataInterface {\r\n    // TODO: Rename and change types of parameters\r\n    private var param1: String? = null\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        arguments?.let {\r\n            param1 = it.getString(DATA)\r\n            Log.e(&quot;checkParam&quot;, &quot; : $param1&quot;)\r\n        }\r\n    }\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?,\r\n    ): View? {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_data, container, false)\r\n    }\r\n\r\n    companion object {\r\n        // TODO: Rename and change types and number of parameters\r\n        @JvmStatic\r\n        fun newInstance(value: String) =\r\n            DataFragment().apply {\r\n                arguments = Bundle().apply {\r\n                    putString(DATA, value)\r\n                }\r\n            }\r\n    }\r\n\r\n    override fun getData(value: String) {\r\n        Log.e(&quot;checkParam&quot;, &quot; interface: $value&quot;)\r\n    }\r\n}\r\n\r\n\r\nInterface\r\n\r\n     interface  FetchDataInterface{\r\n        fun getData(value:String)\r\n    }\r\n\r\n\r\n\r\n","title":"How to send data from Activity to Fragment using Interface and without the transaction?","body":"<p>I hope this can resolve your issue</p>\n<p>Adding fragment to Activity</p>\n<pre><code> val interfaceCall:FetchDataInterface = DataFragment.newInstance(&quot;data&quot;)\n        interfaceCall.getData(&quot;data from interface&quot;)\n        supportFragmentManager.beginTransaction()\n            .replace(R.id.frame, DataFragment.newInstance(&quot;data&quot;))\n            .commit()\n</code></pre>\n<p>Fragment Class</p>\n<pre><code>class DataFragment : Fragment(),MainActivity.FetchDataInterface {\n// TODO: Rename and change types of parameters\nprivate var param1: String? = null\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    arguments?.let {\n        param1 = it.getString(DATA)\n        Log.e(&quot;checkParam&quot;, &quot; : $param1&quot;)\n    }\n}\n\noverride fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?,\n): View? {\n    // Inflate the layout for this fragment\n    return inflater.inflate(R.layout.fragment_data, container, false)\n}\n\ncompanion object {\n    // TODO: Rename and change types and number of parameters\n    @JvmStatic\n    fun newInstance(value: String) =\n        DataFragment().apply {\n            arguments = Bundle().apply {\n                putString(DATA, value)\n            }\n        }\n}\n\noverride fun getData(value: String) {\n    Log.e(&quot;checkParam&quot;, &quot; interface: $value&quot;)\n}\n</code></pre>\n<p>}</p>\n<p>Interface</p>\n<pre><code> interface  FetchDataInterface{\n    fun getData(value:String)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22375525,"reputation":51,"user_id":16589861,"display_name":"Hardik kotadiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666176060,"creation_date":1666176060,"answer_id":74123960,"question_id":74115568,"body_markdown":"Tryout this onces\r\n\r\nIn activity.....\r\n```\r\n TextEditorDialogFragment textEditorDialogFragment =\r\n                TextEditorDialogFragment.show(this, text, colorCode);\r\n```\r\nIn Fragment....\r\n```\r\npublic class TextEditorDialogFragment extends DialogFragment {\r\n\r\n   public static final String TAG = TextEditorDialogFragment.class.getSimpleName();\r\n   String inputText;\r\n   int colorCode;\r\n\r\n   public static TextEditorDialogFragment show(@NonNull AppCompatActivity appCompatActivity, @NonNull String inputText_, @ColorInt int colorCode_) {\r\n        inputText =inputText_;\r\n        colorCode=colorCode_;\r\n        TextEditorDialogFragment fragment = new TextEditorDialogFragment();\r\n        fragment.show(appCompatActivity.getSupportFragmentManager(), TAG);\r\n        return fragment;\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        return inflater.inflate(R.layout.add_text_dialog, container, false);\r\n    }\r\n}\r\n```","title":"How to send data from Activity to Fragment using Interface and without the transaction?","body":"<p>Tryout this onces</p>\n<p>In activity.....</p>\n<pre><code> TextEditorDialogFragment textEditorDialogFragment =\n                TextEditorDialogFragment.show(this, text, colorCode);\n</code></pre>\n<p>In Fragment....</p>\n<pre><code>public class TextEditorDialogFragment extends DialogFragment {\n\n   public static final String TAG = TextEditorDialogFragment.class.getSimpleName();\n   String inputText;\n   int colorCode;\n\n   public static TextEditorDialogFragment show(@NonNull AppCompatActivity appCompatActivity, @NonNull String inputText_, @ColorInt int colorCode_) {\n        inputText =inputText_;\n        colorCode=colorCode_;\n        TextEditorDialogFragment fragment = new TextEditorDialogFragment();\n        fragment.show(appCompatActivity.getSupportFragmentManager(), TAG);\n        return fragment;\n    }\n\n    @Nullable\n    @Override\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        return inflater.inflate(R.layout.add_text_dialog, container, false);\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user20088323"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1666195205,"creation_date":1666116424,"question_id":74115568,"body_markdown":"I want to send the data from `MainActivity` to `Fragment` but i don&#39;t want to pass the data in the arguments when i am making the transaction to the fragment like below:\r\n\r\n\r\n\r\n    val bundle = Bundle()\r\n    bundle.putString(&quot;name&quot;, name)\r\n    val fragment = BlankFragment(this)\r\n    fragment.arguments = bundle\r\n    supportFragmentManager.beginTransaction().replace(R.id.fragmentView, fragment).commit()\r\n\r\n\r\n\r\nI want to pass the data from the `activity` to the `fragment` using the `interface`. I am able to send the data from the fragment to the activity using the interface but not vice versa. \r\n","title":"How to send data from Activity to Fragment using Interface and without the transaction?","body":"<p>I want to send the data from <code>MainActivity</code> to <code>Fragment</code> but i don't want to pass the data in the arguments when i am making the transaction to the fragment like below:</p>\n<pre><code>val bundle = Bundle()\nbundle.putString(&quot;name&quot;, name)\nval fragment = BlankFragment(this)\nfragment.arguments = bundle\nsupportFragmentManager.beginTransaction().replace(R.id.fragmentView, fragment).commit()\n</code></pre>\n<p>I want to pass the data from the <code>activity</code> to the <code>fragment</code> using the <code>interface</code>. I am able to send the data from the fragment to the activity using the interface but not vice versa.</p>\n"},{"tags":["java","spring-boot","maven","graphql","httpclient"],"comments":[{"owner":{"account_id":4014463,"reputation":1644,"user_id":3307037,"accept_rate":50,"display_name":"Enoobong"},"score":0,"creation_date":1683868237,"post_id":74128439,"comment_id":134435287,"body_markdown":"hi I&#39;m hitting this error too, were you able to fix this please?","body":"hi I&#39;m hitting this error too, were you able to fix this please?"}],"owner":{"account_id":394612,"reputation":77,"user_id":757147,"accept_rate":50,"display_name":"bolbol"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":778,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666195195,"creation_date":1666195195,"question_id":74128439,"body_markdown":"I&#39;m trying to request a SaaS CMS server that exposes some graphQl endpoints using spring boot and its graphQl built in support.\r\n\r\nthe application is deployed as a docker image in kube at AWS.\r\n\r\nafter some idle time with the server, I receive this error message:\r\n    \r\n    \r\n    \r\n    2022-09-12 08:23:34.854  WARN 1 --- [or-http-epoll-3] r.netty.http.client.HttpClientConnect    : The connection observed an error, the request cannot be retried as the headers/body were sent\r\n    \r\n    io.netty.channel.unix.Errors$NativeIoException: readAddress(..) failed: Connection reset by peer\r\n    \r\n    org.springframework.graphql.client.GraphQlTransportException: GraphQlTransport error: readAddress(..) failed: Connection reset by peer; nested exception is \r\n    io.netty.channel.unix.Errors$NativeIoException: readAddress(..) failed: Connection reset by peer; nested exception is \r\n    org.springframework.web.reactive.function.client.WebClientRequestException: readAddress(..) failed: Connection reset by peer; nested exception is \r\n    io.netty.channel.unix.Errors$NativeIoException: readAddress(..) failed: Connection reset by peer\r\n    \tat org.springframework.graphql.client.DefaultGraphQlClient$DefaultRequestSpec.lambda$null$1(DefaultGraphQlClient.java:161) ~[spring-graphql-1.0.1.jar!/:1.0.1]\r\n    \tat org.springframework.graphql.client.DefaultGraphQlClient$DefaultRequestSpec$$Lambda$2392.000000009C0E8470.apply(Unknown Source) ~[na:na]\r\n    \tat reactor.core.publisher.Mono.lambda$onErrorResume$32(Mono.java:3809) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.Mono$$Lambda$2393.000000009C0E91A0.apply(Unknown Source) ~[na:na]\r\n    \tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onError(FluxMapFuseable.java:142) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onError(FluxMapFuseable.java:142) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:172) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onError(Operators.java:2063) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:56) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.Mono.subscribe(Mono.java:4400) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:225) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:274) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:415) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:251) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:491) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:299) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:190) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201) ~[reactor-core-3.4.18.jar!/:3.4.18]\r\n    \tat reactor.netty.http.client.HttpClientConnect$HttpObserver.onUncaughtException(HttpClientConnect.java:399) ~[reactor-netty-http-1.0.19.jar!/:1.0.19]\r\n    \tat reactor.netty.ReactorNetty$CompositeConnectionObserver.onUncaughtException(ReactorNetty.java:670) ~[reactor-netty-core-1.0.19.jar!/:1.0.19]\r\n    \tat reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onUncaughtException(DefaultPooledConnectionProvider.java:205) ~[reactor-netty-core-1.0.19.jar!/:1.0.19\r\n    ]\r\n    \tght(CombinedChannelDuplexHandler.java:424) ~[netty-transport-4.1.77.Final.jar!/:\r\n    4.1.77.Final]\r\n    \tat io.netty.channel.ChannelHandlerAdapter.exceptionCaught(ChannelHandlerAdapter.java:92) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler$1.fireExceptionCaught(CombinedChannelDuplexHandler.java:145) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\r\n    \tat io.netty.channel.ChannelInboundHandlerAdapter.exceptionCaught(ChannelInboundHandlerAdapter.java:143) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler.exceptionCaught(CombinedChannelDuplexHandler.java:231) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\r\n    \tat io.netty.handler.ssl.SslHandler.exceptionCaught(SslHandler.java:1104) ~[netty-handler-4.1.77.Final.jar!/:4.1.77.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.exceptionCaught(DefaultChannelPipeline.java:1377) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireExceptionCaught(DefaultChannelPipeline.java:907) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\r\n    \tat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.handleReadException(AbstractEpollStreamChannel.java:728) ~[netty-transport-classes-epoll-4.1.77.Final.jar!/:\r\n    4.1.77.Final]\r\n    \tat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:826) ~[netty-transport-classes-epoll-4.1.77.Final.jar!/:\r\n    4.1.77.Final]\r\n    \tat io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:487) ~[netty-transport-classes-epoll-4.1.77.Final.jar!/:4.1.77.Final]\r\n    \tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:385) ~[netty-transport-classes-epoll-4.1.77.Final.jar!/:4.1.77.Final]\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995) ~[netty-common-4.1.77.Final.jar!/:4.1.77.Final]\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.77.Final.jar!/:4.1.77.Final]\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.77.Final.jar!/:4.1.77.Final]\r\n    \tat java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\r\n    \tSuppressed: java.lang.Exception: #block terminated with an error\r\n    \t\t\r\n    \tCaused by: org.springframework.web.reactive.function.client.WebClientRequestException: readAddress(..) failed: Connection reset by peer; nested exception is \r\n    io.netty.channel.unix.Errors$NativeIoException: readAddress(..) failed: Connection reset by peer\r\n    \tat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141) ~[spring-webflux-5.3.20.jar!/:\r\n    5.3.20]\r\n    \tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\n    Error has been observed at the following site(s):\r\n    \t*__checkpoint ⇢ Request to POST null [DefaultWebClient]\r\n    Original Stack Trace:\r\n    \t\tat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141) ~[spring-webflux-5.3.20.jar!/:\r\n    5.3.20]\r\n    \t\t\r\n    2022-09-12 08:23:35.016 ERROR 1 --- [nio-8080-exec-4] tandardApiResponseEntityExceptionHandler : An unhandled exception occurred java.io.IOException: Broken pipe\r\n    \r\n    org.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe\r\n    \tat org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:353) ~[tomcat-embed-core-9.0.63.jar!/:na]\r\n    \tat org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:783) ~[tomcat-embed-core-9.0.63.jar!/:na]\r\n    \tat org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:688) ~[tomcat-embed-core-9.0.63.jar!/:na]\r\n    \tat org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:388) ~[tomcat-embed-core-9.0.63.jar!/:na]\r\n    \tat org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:366) ~[tomcat-embed-core-9.0.63.jar!/:na]\r\n    \tat org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:96) ~[tomcat-embed-core-9.0.63.jar!/:na]\r\n    \tat org.springframework.util.StreamUtils$NonClosingOutputStream.write(StreamUtils.java:287) ~[spring-core-5.3.20.jar!/:5.3.20]\r\n    \tat com.fasterxml.jackson.core.json.UTF8JsonGenerator._flushBuffer(UTF8JsonGenerator.java:2171) ~[jackson-core-2.13.3.jar!/:2.13.3]\r\n    \tat com.fasterxml.jackson.core.json.UTF8JsonGenerator.writeString(UTF8JsonGenerator.java:520) ~[jackson-core-2.13.3.jar!/:2.13.3]\r\n    \tat com.fasterxml.jackson.databind.ser.std.StringSerializer.serialize(StringSerializer.java:41) ~[jackson-databind-2.13.3.jar!/:2.13.3]\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.3.jar!/:2.13.3]\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.3.jar!/:2.13.3]\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.3.jar!/:2.13.3]\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.3.jar!/:2.13.3]\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.3.jar!/:2.13.3]\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.3.jar!/:2.13.3]\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.3.jar!/:2.13.3]\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.3.jar!/:2.13.3]\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.3.jar!/:2.13.3]\r\n    \tat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:119) ~[jackson-databind-2.13.3.jar!/:2.13.3]\r\n    \tat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:79) ~[jackson-databind-2.13.3.jar!/:2.13.3]\r\n    \tat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:18) ~[jackson-databind-2.13.3.jar!/:2.13.3]\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.3.jar!/:2.13.3]\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.3.jar!/:2.13.3]\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.3.jar!/:2.13.3]\r\n    \tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.13.3.jar!/:2.13.3]\r\n    \tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.13.3.jar!/:2.13.3]\r\n    \tat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1518) ~[jackson-databind-2.13.3.jar!/:2.13.3]\r\n    \tat com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1007) ~[jackson-databind-2.13.3.jar!/:2.13.3]\r\n    \tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:456) ~[spring-web-5.3.20.jar!/:5.3.20]\r\n    \tat org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) ~[spring-web-5.3.20.jar!/:5.3.20]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290)\r\n\r\nI&#39;m using:\r\n- spring boot 2.7.3\r\n- openjdk version &quot;11&quot; 2018-09-25\r\n OpenJDK Runtime Environment 18.9 (build 11+28)\r\n OpenJDK 64-Bit Server VM 18.9 (build 11+28, mixed mode)\r\n- my pom.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.3&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;some.group.Id&lt;/groupId&gt;\r\n    &lt;artifactId&gt;some.artifact.id&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;some name&lt;/name&gt;\r\n\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;jakarta.validation-api.version&gt;3.0.2&lt;/jakarta.validation-api.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;!-- spring boot GraphQL dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.80.Final&lt;/version&gt;\r\n            &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n     \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${jakarta.validation-api.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n \r\n        &lt;!-- test dependencies --&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.graphql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-graphql-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\nhere is my configuration class to build the graphQlClient\r\n    \r\n    @Configuration\r\n    public class ApplicationConfig {\r\n    \r\n        @Bean\r\n        ContributionProperties contributionProperties() {\r\n    \r\n            return new ContributionProperties();\r\n        }\r\n    \r\n        @Bean\r\n        HttpGraphQlClient httpGraphQlClient(ContributionProperties contributionProperties) {\r\n    \r\n            String url = contributionProperties.getUrl();\r\n            Objects.requireNonNull(url, &quot;cms.url must be set&quot;);\r\n    \r\n            String apiToken = contributionProperties.getApiToken();\r\n            Objects.requireNonNull(apiToken, &quot;cms.api.token must be set&quot;);\r\n    \r\n            ConnectionProvider provider = cmsProvider(contributionProperties);\r\n    \r\n            return HttpGraphQlClient.builder()\r\n                                    .webClient(builder -&gt; webClientBuilder(provider))\r\n                                    .headers(headers -&gt; headers.setBearerAuth(apiToken))\r\n                                    .url(url)\r\n                                    .build();\r\n        }\r\n    \r\n        @NonNull\r\n        private ConnectionProvider cmsProvider(ContributionProperties contributionProperties) {\r\n    \r\n            return ConnectionProvider.builder(&quot;cms provider&quot;)\r\n                                     .maxConnections(contributionProperties.getMaxConnections())\r\n                                     .maxIdleTime(Duration.ofSeconds(contributionProperties.getMaxIdleTime()))\r\n                                     .maxLifeTime(Duration.ofSeconds(contributionProperties.getMaxLifeTime()))\r\n                                     .pendingAcquireTimeout(Duration.ofSeconds(contributionProperties.getPendingAcquireTimeout()))\r\n                                     .evictInBackground(Duration.ofSeconds(contributionProperties.getEvictInBackgroundTimeout()))\r\n                                     .build();\r\n        }\r\n    \r\n        @NonNull\r\n        private WebClient.Builder webClientBuilder(ConnectionProvider provider) {\r\n    \r\n            return WebClient.builder()\r\n                            .clientConnector(httpConnector(provider));\r\n        }\r\n    \r\n        @NonNull\r\n        private ReactorClientHttpConnector httpConnector(ConnectionProvider provider) {\r\n    \r\n            return new ReactorClientHttpConnector(HttpClient.create(provider));\r\n        }\r\n    \r\n    }\r\n\r\nand here is how the graphQlClient is used to fetch data from the server\r\n\r\n     private MyClass getResponse(String graphQlQuery) {\r\n\r\n        return httpGraphQlClient.document(graphQlQuery)\r\n                                .execute()\r\n                                .map(response -&gt; response.toEntity(MyClass.class))\r\n                                .block();\r\n    }\r\n\r\n\r\n","title":"spring boot graphql connection reset by peer","body":"<p>I'm trying to request a SaaS CMS server that exposes some graphQl endpoints using spring boot and its graphQl built in support.</p>\n<p>the application is deployed as a docker image in kube at AWS.</p>\n<p>after some idle time with the server, I receive this error message:</p>\n<pre><code>2022-09-12 08:23:34.854  WARN 1 --- [or-http-epoll-3] r.netty.http.client.HttpClientConnect    : The connection observed an error, the request cannot be retried as the headers/body were sent\n\nio.netty.channel.unix.Errors$NativeIoException: readAddress(..) failed: Connection reset by peer\n\norg.springframework.graphql.client.GraphQlTransportException: GraphQlTransport error: readAddress(..) failed: Connection reset by peer; nested exception is \nio.netty.channel.unix.Errors$NativeIoException: readAddress(..) failed: Connection reset by peer; nested exception is \norg.springframework.web.reactive.function.client.WebClientRequestException: readAddress(..) failed: Connection reset by peer; nested exception is \nio.netty.channel.unix.Errors$NativeIoException: readAddress(..) failed: Connection reset by peer\n    at org.springframework.graphql.client.DefaultGraphQlClient$DefaultRequestSpec.lambda$null$1(DefaultGraphQlClient.java:161) ~[spring-graphql-1.0.1.jar!/:1.0.1]\n    at org.springframework.graphql.client.DefaultGraphQlClient$DefaultRequestSpec$$Lambda$2392.000000009C0E8470.apply(Unknown Source) ~[na:na]\n    at reactor.core.publisher.Mono.lambda$onErrorResume$32(Mono.java:3809) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.Mono$$Lambda$2393.000000009C0E91A0.apply(Unknown Source) ~[na:na]\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onError(FluxMapFuseable.java:142) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onError(FluxMapFuseable.java:142) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:172) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onError(Operators.java:2063) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:56) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4400) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:225) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:274) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:415) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:251) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:491) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:299) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:190) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201) ~[reactor-core-3.4.18.jar!/:3.4.18]\n    at reactor.netty.http.client.HttpClientConnect$HttpObserver.onUncaughtException(HttpClientConnect.java:399) ~[reactor-netty-http-1.0.19.jar!/:1.0.19]\n    at reactor.netty.ReactorNetty$CompositeConnectionObserver.onUncaughtException(ReactorNetty.java:670) ~[reactor-netty-core-1.0.19.jar!/:1.0.19]\n    at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onUncaughtException(DefaultPooledConnectionProvider.java:205) ~[reactor-netty-core-1.0.19.jar!/:1.0.19\n]\n    ght(CombinedChannelDuplexHandler.java:424) ~[netty-transport-4.1.77.Final.jar!/:\n4.1.77.Final]\n    at io.netty.channel.ChannelHandlerAdapter.exceptionCaught(ChannelHandlerAdapter.java:92) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\n    at io.netty.channel.CombinedChannelDuplexHandler$1.fireExceptionCaught(CombinedChannelDuplexHandler.java:145) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\n    at io.netty.channel.ChannelInboundHandlerAdapter.exceptionCaught(ChannelInboundHandlerAdapter.java:143) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\n    at io.netty.channel.CombinedChannelDuplexHandler.exceptionCaught(CombinedChannelDuplexHandler.java:231) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\n    at io.netty.handler.ssl.SslHandler.exceptionCaught(SslHandler.java:1104) ~[netty-handler-4.1.77.Final.jar!/:4.1.77.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.exceptionCaught(DefaultChannelPipeline.java:1377) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireExceptionCaught(DefaultChannelPipeline.java:907) ~[netty-transport-4.1.77.Final.jar!/:4.1.77.Final]\n    at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.handleReadException(AbstractEpollStreamChannel.java:728) ~[netty-transport-classes-epoll-4.1.77.Final.jar!/:\n4.1.77.Final]\n    at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:826) ~[netty-transport-classes-epoll-4.1.77.Final.jar!/:\n4.1.77.Final]\n    at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:487) ~[netty-transport-classes-epoll-4.1.77.Final.jar!/:4.1.77.Final]\n    at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:385) ~[netty-transport-classes-epoll-4.1.77.Final.jar!/:4.1.77.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995) ~[netty-common-4.1.77.Final.jar!/:4.1.77.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.77.Final.jar!/:4.1.77.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.77.Final.jar!/:4.1.77.Final]\n    at java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\n    Suppressed: java.lang.Exception: #block terminated with an error\n        \n    Caused by: org.springframework.web.reactive.function.client.WebClientRequestException: readAddress(..) failed: Connection reset by peer; nested exception is \nio.netty.channel.unix.Errors$NativeIoException: readAddress(..) failed: Connection reset by peer\n    at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141) ~[spring-webflux-5.3.20.jar!/:\n5.3.20]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    *__checkpoint ⇢ Request to POST null [DefaultWebClient]\nOriginal Stack Trace:\n        at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141) ~[spring-webflux-5.3.20.jar!/:\n5.3.20]\n        \n2022-09-12 08:23:35.016 ERROR 1 --- [nio-8080-exec-4] tandardApiResponseEntityExceptionHandler : An unhandled exception occurred java.io.IOException: Broken pipe\n\norg.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe\n    at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:353) ~[tomcat-embed-core-9.0.63.jar!/:na]\n    at org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:783) ~[tomcat-embed-core-9.0.63.jar!/:na]\n    at org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:688) ~[tomcat-embed-core-9.0.63.jar!/:na]\n    at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:388) ~[tomcat-embed-core-9.0.63.jar!/:na]\n    at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:366) ~[tomcat-embed-core-9.0.63.jar!/:na]\n    at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:96) ~[tomcat-embed-core-9.0.63.jar!/:na]\n    at org.springframework.util.StreamUtils$NonClosingOutputStream.write(StreamUtils.java:287) ~[spring-core-5.3.20.jar!/:5.3.20]\n    at com.fasterxml.jackson.core.json.UTF8JsonGenerator._flushBuffer(UTF8JsonGenerator.java:2171) ~[jackson-core-2.13.3.jar!/:2.13.3]\n    at com.fasterxml.jackson.core.json.UTF8JsonGenerator.writeString(UTF8JsonGenerator.java:520) ~[jackson-core-2.13.3.jar!/:2.13.3]\n    at com.fasterxml.jackson.databind.ser.std.StringSerializer.serialize(StringSerializer.java:41) ~[jackson-databind-2.13.3.jar!/:2.13.3]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.3.jar!/:2.13.3]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.3.jar!/:2.13.3]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.3.jar!/:2.13.3]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.3.jar!/:2.13.3]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.3.jar!/:2.13.3]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.3.jar!/:2.13.3]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.3.jar!/:2.13.3]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.3.jar!/:2.13.3]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.3.jar!/:2.13.3]\n    at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:119) ~[jackson-databind-2.13.3.jar!/:2.13.3]\n    at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:79) ~[jackson-databind-2.13.3.jar!/:2.13.3]\n    at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:18) ~[jackson-databind-2.13.3.jar!/:2.13.3]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.3.jar!/:2.13.3]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.3.jar!/:2.13.3]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.3.jar!/:2.13.3]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.13.3.jar!/:2.13.3]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.13.3.jar!/:2.13.3]\n    at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1518) ~[jackson-databind-2.13.3.jar!/:2.13.3]\n    at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1007) ~[jackson-databind-2.13.3.jar!/:2.13.3]\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:456) ~[spring-web-5.3.20.jar!/:5.3.20]\n    at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) ~[spring-web-5.3.20.jar!/:5.3.20]\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290)\n</code></pre>\n<p>I'm using:</p>\n<ul>\n<li><p>spring boot 2.7.3</p>\n</li>\n<li><p>openjdk version &quot;11&quot; 2018-09-25\nOpenJDK Runtime Environment 18.9 (build 11+28)\nOpenJDK 64-Bit Server VM 18.9 (build 11+28, mixed mode)</p>\n</li>\n<li><p>my pom.xml file:</p>\n  \n</li>\n</ul>\n\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.3&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n\n&lt;groupId&gt;some.group.Id&lt;/groupId&gt;\n&lt;artifactId&gt;some.artifact.id&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;some name&lt;/name&gt;\n\n\n&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;jakarta.validation-api.version&gt;3.0.2&lt;/jakarta.validation-api.version&gt;\n&lt;/properties&gt;\n\n\n&lt;dependencies&gt;\n\n    &lt;!-- spring boot GraphQL dependencies --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\n        &lt;version&gt;4.1.80.Final&lt;/version&gt;\n        &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n \n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n        &lt;version&gt;${jakarta.validation-api.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- test dependencies --&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n        &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.graphql&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-graphql-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>here is my configuration class to build the graphQlClient</p>\n<pre><code>@Configuration\npublic class ApplicationConfig {\n\n    @Bean\n    ContributionProperties contributionProperties() {\n\n        return new ContributionProperties();\n    }\n\n    @Bean\n    HttpGraphQlClient httpGraphQlClient(ContributionProperties contributionProperties) {\n\n        String url = contributionProperties.getUrl();\n        Objects.requireNonNull(url, &quot;cms.url must be set&quot;);\n\n        String apiToken = contributionProperties.getApiToken();\n        Objects.requireNonNull(apiToken, &quot;cms.api.token must be set&quot;);\n\n        ConnectionProvider provider = cmsProvider(contributionProperties);\n\n        return HttpGraphQlClient.builder()\n                                .webClient(builder -&gt; webClientBuilder(provider))\n                                .headers(headers -&gt; headers.setBearerAuth(apiToken))\n                                .url(url)\n                                .build();\n    }\n\n    @NonNull\n    private ConnectionProvider cmsProvider(ContributionProperties contributionProperties) {\n\n        return ConnectionProvider.builder(&quot;cms provider&quot;)\n                                 .maxConnections(contributionProperties.getMaxConnections())\n                                 .maxIdleTime(Duration.ofSeconds(contributionProperties.getMaxIdleTime()))\n                                 .maxLifeTime(Duration.ofSeconds(contributionProperties.getMaxLifeTime()))\n                                 .pendingAcquireTimeout(Duration.ofSeconds(contributionProperties.getPendingAcquireTimeout()))\n                                 .evictInBackground(Duration.ofSeconds(contributionProperties.getEvictInBackgroundTimeout()))\n                                 .build();\n    }\n\n    @NonNull\n    private WebClient.Builder webClientBuilder(ConnectionProvider provider) {\n\n        return WebClient.builder()\n                        .clientConnector(httpConnector(provider));\n    }\n\n    @NonNull\n    private ReactorClientHttpConnector httpConnector(ConnectionProvider provider) {\n\n        return new ReactorClientHttpConnector(HttpClient.create(provider));\n    }\n\n}\n</code></pre>\n<p>and here is how the graphQlClient is used to fetch data from the server</p>\n<pre><code> private MyClass getResponse(String graphQlQuery) {\n\n    return httpGraphQlClient.document(graphQlQuery)\n                            .execute()\n                            .map(response -&gt; response.toEntity(MyClass.class))\n                            .block();\n}\n</code></pre>\n"},{"tags":["java","jakarta-mail","imap"],"answers":[{"tags":[],"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1388477161,"creation_date":1388477161,"answer_id":20854034,"question_id":20853729,"body_markdown":"    String messageID = ((MimeMessage) msg).getMessageID();\r\n\r\nReturns `null` if this field is *unavailable* or its value is *absent*.\r\n\r\nYou can create your *own message id* if it is `null`\r\n\r\n    StringBuffer s = new StringBuffer();\r\n    if(messageId == null)\r\n    messageId =  s.append(s.hashCode()).append(&#39;.&#39;).append(getUniqueId()).append(&#39;.&#39;).\r\n    append(System.currentTimeMillis()).append(&#39;.&#39;).\r\n    append(&quot;JavaMail&quot;);\r\n\r\nThis is how message id is created and set when a mail is being sent. You can go with your own implementation based on your requirement and then proceed to process your message\r\n\r\n","title":"Unable to get message_ID for MimeMessage","body":"<pre><code>String messageID = ((MimeMessage) msg).getMessageID();\n</code></pre>\n\n<p>Returns <code>null</code> if this field is <em>unavailable</em> or its value is <em>absent</em>.</p>\n\n<p>You can create your <em>own message id</em> if it is <code>null</code></p>\n\n<pre><code>StringBuffer s = new StringBuffer();\nif(messageId == null)\nmessageId =  s.append(s.hashCode()).append('.').append(getUniqueId()).append('.').\nappend(System.currentTimeMillis()).append('.').\nappend(\"JavaMail\");\n</code></pre>\n\n<p>This is how message id is created and set when a mail is being sent. You can go with your own implementation based on your requirement and then proceed to process your message</p>\n"},{"tags":[],"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1388623010,"creation_date":1388623010,"answer_id":20874779,"question_id":20853729,"body_markdown":"Messages are not required to have a Message-Id header.  Most messages do.  And in many cases, if a server receives a message without a Message-Id header, it will add one.  Still, there are no guarantees.  If you&#39;re depending on the Message-Id to uniquely identify a message, you need to have a fallback technique for the cases where the message doesn&#39;t have a Message-Id.","title":"Unable to get message_ID for MimeMessage","body":"<p>Messages are not required to have a Message-Id header.  Most messages do.  And in many cases, if a server receives a message without a Message-Id header, it will add one.  Still, there are no guarantees.  If you're depending on the Message-Id to uniquely identify a message, you need to have a fallback technique for the cases where the message doesn't have a Message-Id.</p>\n"},{"tags":[],"owner":{"account_id":4192142,"reputation":3239,"user_id":3434508,"accept_rate":40,"display_name":"Stavr00"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666195129,"creation_date":1418397829,"answer_id":27446762,"question_id":20853729,"body_markdown":"Use this to force JavaMail API to refresh the headers from the content.\r\n\r\n    ((MimeMessage) msg).saveChanges();\r\nIt should populate the Message-ID header value. The following example is a simple way to generate message IDs at will:\r\n\r\n    MimeMessage mimemessage \r\n                =new MimeMessage(Session.getDefaultInstance( new Properties()));\r\n    mimemessage.saveChanges();\r\n    String messageID = mimemessage.getMessageID();\r\n\r\n\r\n","title":"Unable to get message_ID for MimeMessage","body":"<p>Use this to force JavaMail API to refresh the headers from the content.</p>\n<pre><code>((MimeMessage) msg).saveChanges();\n</code></pre>\n<p>It should populate the Message-ID header value. The following example is a simple way to generate message IDs at will:</p>\n<pre><code>MimeMessage mimemessage \n            =new MimeMessage(Session.getDefaultInstance( new Properties()));\nmimemessage.saveChanges();\nString messageID = mimemessage.getMessageID();\n</code></pre>\n"}],"owner":{"account_id":1192424,"reputation":2412,"user_id":1164899,"accept_rate":68,"display_name":"Ronak Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2073,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1666195129,"creation_date":1388475448,"question_id":20853729,"body_markdown":"I have a java program using `Java Mail-1.`5 that fetch and process message(email) of Gmail(IMAP).\r\nIt works fine for most of the case, but for few messages when I try to get message_id using MimeMessage, it is giving me NULL. In that case I am not able to process the messages as messageID is unique for the messages.\r\n\r\n&gt; String messageID = ((MimeMessage) msg).getMessageID(); //NULL for few messages.\r\n\r\nIs there any other way to get message Id as I don&#39;t want to ignore such messages.","title":"Unable to get message_ID for MimeMessage","body":"<p>I have a java program using <code>Java Mail-1.</code>5 that fetch and process message(email) of Gmail(IMAP).\nIt works fine for most of the case, but for few messages when I try to get message_id using MimeMessage, it is giving me NULL. In that case I am not able to process the messages as messageID is unique for the messages.</p>\n\n<blockquote>\n  <p>String messageID = ((MimeMessage) msg).getMessageID(); //NULL for few messages.</p>\n</blockquote>\n\n<p>Is there any other way to get message Id as I don't want to ignore such messages.</p>\n"},{"tags":["java","api","automation","authorization","testrail"],"answers":[{"comments":[{"owner":{"account_id":17382473,"reputation":21,"user_id":12594419,"display_name":"Varun Prakash"},"score":0,"creation_date":1579736030,"post_id":59848300,"comment_id":105870435,"body_markdown":"Yeah i had that enabled. Anyway I was able to resolve the issue. The issue was with base 64 encoding for auth key.","body":"Yeah i had that enabled. Anyway I was able to resolve the issue. The issue was with base 64 encoding for auth key."},{"owner":{"account_id":9178180,"reputation":69,"user_id":6823071,"accept_rate":75,"display_name":"Vimukthi Saranga"},"score":0,"creation_date":1648692885,"post_id":59848300,"comment_id":126691299,"body_markdown":"@VarunPrakash could you please let me know how you fixed that. I&#39;m also facing the same problem","body":"@VarunPrakash could you please let me know how you fixed that. I&#39;m also facing the same problem"},{"owner":{"account_id":6348355,"reputation":2325,"user_id":4928169,"accept_rate":100,"display_name":"Jakub Průša"},"score":0,"creation_date":1661943768,"post_id":59848300,"comment_id":129890733,"body_markdown":"@VarunPrakash Hi, I have probably the same issue. Could you please share the base 64 decode you did?","body":"@VarunPrakash Hi, I have probably the same issue. Could you please share the base 64 decode you did?"}],"tags":[],"owner":{"account_id":1797279,"reputation":259,"user_id":1636436,"accept_rate":80,"display_name":"Declan Carroll"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579636500,"creation_date":1579636500,"answer_id":59848300,"question_id":59476328,"body_markdown":"Have you checked to ensure your instance of Testrail has API connections available?\r\n\r\n{{your_testrail_url}}index.php?/admin/site_settings#\r\n\r\nYou will need both options enabled: Enable API, Enable session Authentication for API.","title":"Test rail API throwing 401 Unauthorized error even with correct authorization","body":"<p>Have you checked to ensure your instance of Testrail has API connections available?</p>\n\n<p>{{your_testrail_url}}index.php?/admin/site_settings#</p>\n\n<p>You will need both options enabled: Enable API, Enable session Authentication for API.</p>\n"},{"tags":[],"owner":{"account_id":24073312,"reputation":3,"user_id":18048988,"display_name":"Vladimir Silivanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666194644,"creation_date":1666194644,"answer_id":74128329,"question_id":59476328,"body_markdown":"Adding an auth header in the Base 64 string worked for me\r\n\r\n      string auth = Convert.ToBase64String(\r\n                    Encoding.ASCII.GetBytes($&quot;{UserId}:{UserPasswrd}&quot;));\r\n                request.AddHeader(&quot;Authorization&quot;, &quot;Basic &quot; + auth);","title":"Test rail API throwing 401 Unauthorized error even with correct authorization","body":"<p>Adding an auth header in the Base 64 string worked for me</p>\n<pre><code>  string auth = Convert.ToBase64String(\n                Encoding.ASCII.GetBytes($&quot;{UserId}:{UserPasswrd}&quot;));\n            request.AddHeader(&quot;Authorization&quot;, &quot;Basic &quot; + auth);\n</code></pre>\n"}],"owner":{"account_id":17382473,"reputation":21,"user_id":12594419,"display_name":"Varun Prakash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3330,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1666194644,"creation_date":1577260402,"question_id":59476328,"body_markdown":"I&#39;m trying to establish a connection to test rail and passing the correct authorization but it throws 401 Unauthorized error.\r\n\r\nThe same code was works on a different test rail but is not working with new instance.\r\n\r\nI have enabled API integration in test rail settings and generated the API Authorization key.\r\nIs there anything else that I need to take care of to solve this issue?\r\n\r\n```\r\npublic static void SendHttpRequest(String jsonStr, String runId)\r\n\t\r\n\t\t\tString URL = prop.getProperty(&quot;TEST_RAIL_URL&quot;) + runId;  \r\n\t\t\t//TEST_RAIL_URL - https://testrail.xxxxxx.com/index.php?/api/v2/add_results_for_cases/\r\n\t\t\tjava.net.URL urlObj = new java.net.URL(URL);\r\n\t\r\n\t\t\tHttpsURLConnection con = null;\r\n\t\t\tcon = (HttpsURLConnection) urlObj.openConnection();\r\n\t\t\tcon.setRequestMethod(prop.getProperty(&quot;API_METHOD&quot;));\r\n\t\t\t//API_METHOD = POST\r\n\t\t\tcon.setRequestProperty(&quot;Content-Type&quot;, prop.getProperty(&quot;API_CONTENT_TYPE&quot;));\r\n\t\t\t//API_CONTENT_TYPE = application/json\r\n\t\t\tcon.setRequestProperty(&quot;Authorization&quot;, prop.getProperty(&quot;API_AUTHORIZATION&quot;));\r\n\t\t\t//API_AUTHORIZATION = Basic &lt;base 64 encoded api key&gt;\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Test Rail connection ready&quot;);\r\n\t\t\tSystem.out.println(con);\r\n\t\t\tcon.setDoOutput(true);\r\n\t\r\n\t\t\tDataOutputStream outObj = new DataOutputStream(con.getOutputStream());\r\n\t\t\toutObj.writeBytes(jsonStr);\r\n\t\t\toutObj.flush();\r\n\t\t\toutObj.close();\r\n\t\t\tSystem.out.println(&quot;API request made to Test Rail&quot;);\r\n```\r\n    \r\nConsole output:\r\n\r\n```\r\nTest Rail connection ready\r\nsun.net.www.protocol.https.DelegateHttpsURLConnection:https://testrail.xxxxxx.com/index.php?/api/v2/add_results_for_cases/56\r\nAPI request made to Test Rail\r\nDec 24, 2019 9:37:17 PM com.testrail.integration.TestRailInt SendHttpRequest\r\nINFO: 401Unauthorized\r\nDec 24, 2019 9:37:17 PM com.testrail.integration.TestRailInt SendHttpRequest\r\nINFO: {&quot;error&quot;:&quot;Authentication failed: invalid or missing user\\/password or session cookie.&quot;}\r\n401Unauthorized\r\n{&quot;error&quot;:&quot;Authentication failed: invalid or missing user\\/password or session cookie.&quot;}\r\nDec 24, 2019 9:37:17 PM com.testrail.integration.TestRailInt main\r\nINFO: Enter finally. Closing\r\n```\r\n\r\nI&#39;m guessing its something to do with test rail setup (admin access) or network level issue.\r\n\r\nHoping someone can point me in the right direction.\r\nTIA","title":"Test rail API throwing 401 Unauthorized error even with correct authorization","body":"<p>I'm trying to establish a connection to test rail and passing the correct authorization but it throws 401 Unauthorized error.</p>\n\n<p>The same code was works on a different test rail but is not working with new instance.</p>\n\n<p>I have enabled API integration in test rail settings and generated the API Authorization key.\nIs there anything else that I need to take care of to solve this issue?</p>\n\n<pre><code>public static void SendHttpRequest(String jsonStr, String runId)\n\n            String URL = prop.getProperty(\"TEST_RAIL_URL\") + runId;  \n            //TEST_RAIL_URL - https://testrail.xxxxxx.com/index.php?/api/v2/add_results_for_cases/\n            java.net.URL urlObj = new java.net.URL(URL);\n\n            HttpsURLConnection con = null;\n            con = (HttpsURLConnection) urlObj.openConnection();\n            con.setRequestMethod(prop.getProperty(\"API_METHOD\"));\n            //API_METHOD = POST\n            con.setRequestProperty(\"Content-Type\", prop.getProperty(\"API_CONTENT_TYPE\"));\n            //API_CONTENT_TYPE = application/json\n            con.setRequestProperty(\"Authorization\", prop.getProperty(\"API_AUTHORIZATION\"));\n            //API_AUTHORIZATION = Basic &lt;base 64 encoded api key&gt;\n\n            System.out.println(\"Test Rail connection ready\");\n            System.out.println(con);\n            con.setDoOutput(true);\n\n            DataOutputStream outObj = new DataOutputStream(con.getOutputStream());\n            outObj.writeBytes(jsonStr);\n            outObj.flush();\n            outObj.close();\n            System.out.println(\"API request made to Test Rail\");\n</code></pre>\n\n<p>Console output:</p>\n\n<pre><code>Test Rail connection ready\nsun.net.www.protocol.https.DelegateHttpsURLConnection:https://testrail.xxxxxx.com/index.php?/api/v2/add_results_for_cases/56\nAPI request made to Test Rail\nDec 24, 2019 9:37:17 PM com.testrail.integration.TestRailInt SendHttpRequest\nINFO: 401Unauthorized\nDec 24, 2019 9:37:17 PM com.testrail.integration.TestRailInt SendHttpRequest\nINFO: {\"error\":\"Authentication failed: invalid or missing user\\/password or session cookie.\"}\n401Unauthorized\n{\"error\":\"Authentication failed: invalid or missing user\\/password or session cookie.\"}\nDec 24, 2019 9:37:17 PM com.testrail.integration.TestRailInt main\nINFO: Enter finally. Closing\n</code></pre>\n\n<p>I'm guessing its something to do with test rail setup (admin access) or network level issue.</p>\n\n<p>Hoping someone can point me in the right direction.\nTIA</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1666020844,"post_id":74099576,"comment_id":130830781,"body_markdown":"Please add your kafka configuration and exception you get.","body":"Please add your kafka configuration and exception you get."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1666194644,"post_id":74099576,"comment_id":130879597,"body_markdown":"Removing quarkus tag since stacktrace is isolated to only Streams API","body":"Removing quarkus tag since stacktrace is isolated to only Streams API"}],"answers":[{"comments":[{"owner":{"account_id":20743229,"reputation":13,"user_id":16433289,"display_name":"Chain Head"},"score":0,"creation_date":1666057028,"post_id":74101679,"comment_id":130840052,"body_markdown":"What package should be imported for `Serialized.with()`? VSCode doesn&#39;t list this method for `groupByKey()`.","body":"What package should be imported for <code>Serialized.with()</code>? VSCode doesn&#39;t list this method for <code>groupByKey()</code>."},{"owner":{"account_id":20743229,"reputation":13,"user_id":16433289,"display_name":"Chain Head"},"score":1,"creation_date":1666057570,"post_id":74101679,"comment_id":130840115,"body_markdown":"We probably need [`Grouped&lt;K,V&gt;.with`](https://kafka.apache.org/23/javadoc/org/apache/kafka/streams/kstream/Grouped.html#with-org.apache.kafka.common.serialization.Serde-org.apache.kafka.common.serialization.Serde-)","body":"We probably need <a href=\"https://kafka.apache.org/23/javadoc/org/apache/kafka/streams/kstream/Grouped.html#with-org.apache.kafka.common.serialization.Serde-org.apache.kafka.common.serialization.Serde-\" rel=\"nofollow noreferrer\"><code>Grouped&lt;K,V&gt;.with</code></a>"},{"owner":{"account_id":18137552,"reputation":319,"user_id":13191857,"display_name":"Felipe Tapia"},"score":0,"creation_date":1666073725,"post_id":74101679,"comment_id":130842592,"body_markdown":"Exactly that depends on your Kafka Streams versions.","body":"Exactly that depends on your Kafka Streams versions."}],"tags":[],"owner":{"account_id":18137552,"reputation":319,"user_id":13191857,"display_name":"Felipe Tapia"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666031669,"creation_date":1666031669,"answer_id":74101679,"question_id":74099576,"body_markdown":"I don&#39;t know how Quarkus works, However, the Serde error in groupBy statements is common when you start using Kafka Streams. The groupBy statement creates an internal and compacted topic where the data is going to be grouped by key, (Internally your stream application is going to send messages to that topic) for that reason you should specify the Serde for your GroupBy statement at the code level if the value or key are different types as default key and value Serde in your Stream properties. \r\n\r\n    KGroupedStream&lt;String, User&gt; groupedStream = stream.groupByKey(\r\n        Serialized.with(\r\n          Serdes.String(), /* key */\r\n          new CustomUserSerde())     /* value */\r\n      );\r\nIn the above example, I&#39;m using the desired Serdes in the group statement, not at the property level. \r\n","title":"Kafka - Why is default serde for key and value required for groupBy and reduce?","body":"<p>I don't know how Quarkus works, However, the Serde error in groupBy statements is common when you start using Kafka Streams. The groupBy statement creates an internal and compacted topic where the data is going to be grouped by key, (Internally your stream application is going to send messages to that topic) for that reason you should specify the Serde for your GroupBy statement at the code level if the value or key are different types as default key and value Serde in your Stream properties.</p>\n<pre><code>KGroupedStream&lt;String, User&gt; groupedStream = stream.groupByKey(\n    Serialized.with(\n      Serdes.String(), /* key */\n      new CustomUserSerde())     /* value */\n  );\n</code></pre>\n<p>In the above example, I'm using the desired Serdes in the group statement, not at the property level.</p>\n"}],"owner":{"account_id":20743229,"reputation":13,"user_id":16433289,"display_name":"Chain Head"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":692,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666194629,"creation_date":1666020272,"question_id":74099576,"body_markdown":"I am developing a streaming application with [Quarkus][1]. My application looks as follows.\r\n\r\n1. `flatMap` to change key and generate multiple messages from a single message.\r\n2. `join` with a `KTable` using key from Step 1.\r\n3. `transform` for a stateful operation.\r\n4. `flatMap` change the key back to original key i.e., before Step 1.\r\n5. `groupBy` with the key as in Step 4, which is actually that in, Step 1.\r\n6. `reduce` to &quot;merge&quot; the records into a single message comprising a JSON array.\r\n\r\nThe net effect is to split an incoming message (with `key` as `id1`) into multiple messages (with different keys e.g., `k1`, `k2`, etc.). Enhance each of the message using `join` and `transform`. Then, change the key of each message back to `id1`. Finally, &quot;merge&quot; each of the enhanced message into a single message with key as `id1`.\r\n\r\nI keep getting an error to set-up default key serde and value serde. While the default serde can be set in `application.properties`, I am not clear, why does this error even arise?\r\n\r\nNote that, if I do not do Step 5 and Step 6, the application works successfully.\r\n\r\nThis is the Java exception I get.\r\n\r\n```bash\r\n2022-10-17 16:42:34,884 ERROR [org.apa.kaf.str.KafkaStreams] (app-alerts-6a7c4df8-7813-4d5d-9a86-d6f3db7c8ef0-StreamThread-1) stream-client [app-alerts-6a7c4df8-7813-4d5d-9a86-d6f3db7c8ef0] Encountered the following exception during processing and the registered exception handler opted to SHUTDOWN_CLIENT. The streams client is going to shut down now. : org.apache.kafka.streams.errors.StreamsException: org.apache.kafka.common.config.ConfigException: Please specify a key serde or set one through StreamsConfig#DEFAULT_KEY_SERDE_CLASS_CONFIG\r\n        at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:627)\r\n        at org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:551)\r\nCaused by: org.apache.kafka.common.config.ConfigException: Please specify a key serde or set one through StreamsConfig#DEFAULT_KEY_SERDE_CLASS_CONFIG\r\n        at org.apache.kafka.streams.StreamsConfig.defaultKeySerde(StreamsConfig.java:1587)\r\n        at org.apache.kafka.streams.processor.internals.AbstractProcessorContext.keySerde(AbstractProcessorContext.java:90)\r\n        at org.apache.kafka.streams.processor.internals.SerdeGetter.keySerde(SerdeGetter.java:47)\r\n        at org.apache.kafka.streams.kstream.internals.WrappingNullableUtils.prepareSerde(WrappingNullableUtils.java:63)\r\n        at org.apache.kafka.streams.kstream.internals.WrappingNullableUtils.prepareKeySerde(WrappingNullableUtils.java:90)\r\n        at org.apache.kafka.streams.state.internals.MeteredKeyValueStore.initStoreSerde(MeteredKeyValueStore.java:195)\r\n        at org.apache.kafka.streams.state.internals.MeteredKeyValueStore.init(MeteredKeyValueStore.java:144)\r\n        at org.apache.kafka.streams.processor.internals.ProcessorStateManager.registerStateStores(ProcessorStateManager.java:212)\r\n        at org.apache.kafka.streams.processor.internals.StateManagerUtil.registerStateStores(StateManagerUtil.java:97)\r\n        at org.apache.kafka.streams.processor.internals.StreamTask.initializeIfNeeded(StreamTask.java:231)\r\n        at org.apache.kafka.streams.processor.internals.TaskManager.tryToCompleteRestoration(TaskManager.java:454)\r\n        at org.apache.kafka.streams.processor.internals.StreamThread.initializeAndRestorePhase(StreamThread.java:865)\r\n        at org.apache.kafka.streams.processor.internals.StreamThread.runOnce(StreamThread.java:747)\r\n        at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:589)\r\n        ... 1 more\r\n```\r\n\r\nThese are `StreamsConfig` values:\r\n\r\n```bash\r\n        acceptable.recovery.lag = 10000\r\n        application.id = machine-alerts\r\n        application.server = \r\n        bootstrap.servers = [kafka:9092]\r\n        buffered.records.per.partition = 1000\r\n        built.in.metrics.version = latest\r\n        cache.max.bytes.buffering = 10240\r\n        client.id = \r\n        commit.interval.ms = 1000\r\n        connections.max.idle.ms = 540000\r\n        default.deserialization.exception.handler = class org.apache.kafka.streams.errors.LogAndFailExceptionHandler\r\n        default.dsl.store = rocksDB\r\n        default.key.serde = null\r\n        default.list.key.serde.inner = null\r\n        default.list.key.serde.type = null\r\n        default.list.value.serde.inner = null\r\n        default.list.value.serde.type = null\r\n        default.production.exception.handler = class org.apache.kafka.streams.errors.DefaultProductionExceptionHandler\r\n        default.timestamp.extractor = class org.apache.kafka.streams.processor.FailOnInvalidTimestamp\r\n        default.value.serde = null\r\n        max.task.idle.ms = 0\r\n        max.warmup.replicas = 2\r\n        metadata.max.age.ms = 500\r\n        metric.reporters = []\r\n        metrics.num.samples = 2\r\n        metrics.recording.level = DEBUG\r\n        metrics.sample.window.ms = 30000\r\n        num.standby.replicas = 0\r\n        num.stream.threads = 1\r\n        poll.ms = 100\r\n        probing.rebalance.interval.ms = 600000\r\n        processing.guarantee = at_least_once\r\n        rack.aware.assignment.tags = []\r\n        receive.buffer.bytes = 32768\r\n        reconnect.backoff.max.ms = 1000\r\n        reconnect.backoff.ms = 50\r\n        repartition.purge.interval.ms = 30000\r\n        replication.factor = -1\r\n        request.timeout.ms = 40000\r\n        retries = 0\r\n        retry.backoff.ms = 100\r\n        rocksdb.config.setter = null\r\n        security.protocol = PLAINTEXT\r\n        send.buffer.bytes = 131072\r\n        state.cleanup.delay.ms = 600000\r\n        state.dir = /tmp/kafka-streams\r\n        task.timeout.ms = 300000\r\n        topology.optimization = none\r\n        upgrade.from = null\r\n        window.size.ms = null\r\n        windowed.inner.class.serde = null\r\n        windowstore.changelog.additional.retention.ms = 86400000\r\n```\r\n\r\n\r\n\r\n  [1]: https://quarkus.io/","title":"Kafka - Why is default serde for key and value required for groupBy and reduce?","body":"<p>I am developing a streaming application with <a href=\"https://quarkus.io/\" rel=\"nofollow noreferrer\">Quarkus</a>. My application looks as follows.</p>\n<ol>\n<li><code>flatMap</code> to change key and generate multiple messages from a single message.</li>\n<li><code>join</code> with a <code>KTable</code> using key from Step 1.</li>\n<li><code>transform</code> for a stateful operation.</li>\n<li><code>flatMap</code> change the key back to original key i.e., before Step 1.</li>\n<li><code>groupBy</code> with the key as in Step 4, which is actually that in, Step 1.</li>\n<li><code>reduce</code> to &quot;merge&quot; the records into a single message comprising a JSON array.</li>\n</ol>\n<p>The net effect is to split an incoming message (with <code>key</code> as <code>id1</code>) into multiple messages (with different keys e.g., <code>k1</code>, <code>k2</code>, etc.). Enhance each of the message using <code>join</code> and <code>transform</code>. Then, change the key of each message back to <code>id1</code>. Finally, &quot;merge&quot; each of the enhanced message into a single message with key as <code>id1</code>.</p>\n<p>I keep getting an error to set-up default key serde and value serde. While the default serde can be set in <code>application.properties</code>, I am not clear, why does this error even arise?</p>\n<p>Note that, if I do not do Step 5 and Step 6, the application works successfully.</p>\n<p>This is the Java exception I get.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>2022-10-17 16:42:34,884 ERROR [org.apa.kaf.str.KafkaStreams] (app-alerts-6a7c4df8-7813-4d5d-9a86-d6f3db7c8ef0-StreamThread-1) stream-client [app-alerts-6a7c4df8-7813-4d5d-9a86-d6f3db7c8ef0] Encountered the following exception during processing and the registered exception handler opted to SHUTDOWN_CLIENT. The streams client is going to shut down now. : org.apache.kafka.streams.errors.StreamsException: org.apache.kafka.common.config.ConfigException: Please specify a key serde or set one through StreamsConfig#DEFAULT_KEY_SERDE_CLASS_CONFIG\n        at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:627)\n        at org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:551)\nCaused by: org.apache.kafka.common.config.ConfigException: Please specify a key serde or set one through StreamsConfig#DEFAULT_KEY_SERDE_CLASS_CONFIG\n        at org.apache.kafka.streams.StreamsConfig.defaultKeySerde(StreamsConfig.java:1587)\n        at org.apache.kafka.streams.processor.internals.AbstractProcessorContext.keySerde(AbstractProcessorContext.java:90)\n        at org.apache.kafka.streams.processor.internals.SerdeGetter.keySerde(SerdeGetter.java:47)\n        at org.apache.kafka.streams.kstream.internals.WrappingNullableUtils.prepareSerde(WrappingNullableUtils.java:63)\n        at org.apache.kafka.streams.kstream.internals.WrappingNullableUtils.prepareKeySerde(WrappingNullableUtils.java:90)\n        at org.apache.kafka.streams.state.internals.MeteredKeyValueStore.initStoreSerde(MeteredKeyValueStore.java:195)\n        at org.apache.kafka.streams.state.internals.MeteredKeyValueStore.init(MeteredKeyValueStore.java:144)\n        at org.apache.kafka.streams.processor.internals.ProcessorStateManager.registerStateStores(ProcessorStateManager.java:212)\n        at org.apache.kafka.streams.processor.internals.StateManagerUtil.registerStateStores(StateManagerUtil.java:97)\n        at org.apache.kafka.streams.processor.internals.StreamTask.initializeIfNeeded(StreamTask.java:231)\n        at org.apache.kafka.streams.processor.internals.TaskManager.tryToCompleteRestoration(TaskManager.java:454)\n        at org.apache.kafka.streams.processor.internals.StreamThread.initializeAndRestorePhase(StreamThread.java:865)\n        at org.apache.kafka.streams.processor.internals.StreamThread.runOnce(StreamThread.java:747)\n        at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:589)\n        ... 1 more\n</code></pre>\n<p>These are <code>StreamsConfig</code> values:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>        acceptable.recovery.lag = 10000\n        application.id = machine-alerts\n        application.server = \n        bootstrap.servers = [kafka:9092]\n        buffered.records.per.partition = 1000\n        built.in.metrics.version = latest\n        cache.max.bytes.buffering = 10240\n        client.id = \n        commit.interval.ms = 1000\n        connections.max.idle.ms = 540000\n        default.deserialization.exception.handler = class org.apache.kafka.streams.errors.LogAndFailExceptionHandler\n        default.dsl.store = rocksDB\n        default.key.serde = null\n        default.list.key.serde.inner = null\n        default.list.key.serde.type = null\n        default.list.value.serde.inner = null\n        default.list.value.serde.type = null\n        default.production.exception.handler = class org.apache.kafka.streams.errors.DefaultProductionExceptionHandler\n        default.timestamp.extractor = class org.apache.kafka.streams.processor.FailOnInvalidTimestamp\n        default.value.serde = null\n        max.task.idle.ms = 0\n        max.warmup.replicas = 2\n        metadata.max.age.ms = 500\n        metric.reporters = []\n        metrics.num.samples = 2\n        metrics.recording.level = DEBUG\n        metrics.sample.window.ms = 30000\n        num.standby.replicas = 0\n        num.stream.threads = 1\n        poll.ms = 100\n        probing.rebalance.interval.ms = 600000\n        processing.guarantee = at_least_once\n        rack.aware.assignment.tags = []\n        receive.buffer.bytes = 32768\n        reconnect.backoff.max.ms = 1000\n        reconnect.backoff.ms = 50\n        repartition.purge.interval.ms = 30000\n        replication.factor = -1\n        request.timeout.ms = 40000\n        retries = 0\n        retry.backoff.ms = 100\n        rocksdb.config.setter = null\n        security.protocol = PLAINTEXT\n        send.buffer.bytes = 131072\n        state.cleanup.delay.ms = 600000\n        state.dir = /tmp/kafka-streams\n        task.timeout.ms = 300000\n        topology.optimization = none\n        upgrade.from = null\n        window.size.ms = null\n        windowed.inner.class.serde = null\n        windowstore.changelog.additional.retention.ms = 86400000\n</code></pre>\n"},{"tags":["java","enums","functional-programming","java-8","java-stream"],"comments":[{"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"score":7,"creation_date":1420579474,"post_id":27807232,"comment_id":44023839,"body_markdown":"I know that this comment will not be upvoted by anyone, but as great as Java 8 is you don&#39;t have to use `Stream`s for every single problem. Your for loop approach is clearer (and faster) than any approach using `Stream`s.","body":"I know that this comment will not be upvoted by anyone, but as great as Java 8 is you don&#39;t have to use <code>Stream</code>s for every single problem. Your for loop approach is clearer (and faster) than any approach using <code>Stream</code>s."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":4,"creation_date":1420579987,"post_id":27807232,"comment_id":44024086,"body_markdown":"@pbabcdefp Well, I think it&#39;s a good comment, but if I upvoted it then the first phrase in your comment would be wrong, which means I&#39;d have to downvote it again, then I&#39;d think it&#39;s a good comment again, so then I&#39;d have to upvote it, but then the first phrase would be wrong ... I think I&#39;m about to throw `StackOverflowException`...","body":"@pbabcdefp Well, I think it&#39;s a good comment, but if I upvoted it then the first phrase in your comment would be wrong, which means I&#39;d have to downvote it again, then I&#39;d think it&#39;s a good comment again, so then I&#39;d have to upvote it, but then the first phrase would be wrong ... I think I&#39;m about to throw <code>StackOverflowException</code>..."},{"owner":{"account_id":100622,"reputation":3010,"user_id":271149,"accept_rate":90,"display_name":"quantum"},"score":0,"creation_date":1420581301,"post_id":27807232,"comment_id":44024737,"body_markdown":"@pbabcdefp - that is probably a matter of opinion but I am finding lambdas more and more preferable to iterations and clarity trumps efficiency almost always. I was positive I had tried the `findFirst()` and have gotten some strange compile errors in IDEA and wrote the `reduce()` variant. At any rate, I have upvoted all your answers but felt `first` is clearer than `any` so I went with it. Thanks for your help!","body":"@pbabcdefp - that is probably a matter of opinion but I am finding lambdas more and more preferable to iterations and clarity trumps efficiency almost always. I was positive I had tried the <code>findFirst()</code> and have gotten some strange compile errors in IDEA and wrote the <code>reduce()</code> variant. At any rate, I have upvoted all your answers but felt <code>first</code> is clearer than <code>any</code> so I went with it. Thanks for your help!"}],"answers":[{"comments":[{"owner":{"account_id":100622,"reputation":3010,"user_id":271149,"accept_rate":90,"display_name":"quantum"},"score":5,"creation_date":1420584073,"post_id":27807324,"comment_id":44025965,"body_markdown":"That is a very nifty trick, I especially like how the JVM is guaranteeing serial map population - excellent. Just one minor suggestion - we can make the code even more compact by getting rid of field `s` as it is unused elsewhere.","body":"That is a very nifty trick, I especially like how the JVM is guaranteeing serial map population - excellent. Just one minor suggestion - we can make the code even more compact by getting rid of field <code>s</code> as it is unused elsewhere."},{"owner":{"account_id":4859,"reputation":40443,"user_id":7512,"accept_rate":75,"display_name":"slim"},"score":0,"creation_date":1488460524,"post_id":27807324,"comment_id":72247213,"body_markdown":"`findAny()` rather than `findFirst()`? -- if you&#39;re guaranteed one (or zero) matches, then potentially `findAny()` will get the answer sooner (although I guess it&#39;s questionable whether an enum will ever be big enough for the search to be parallelised)","body":"<code>findAny()</code> rather than <code>findFirst()</code>? -- if you&#39;re guaranteed one (or zero) matches, then potentially <code>findAny()</code> will get the answer sooner (although I guess it&#39;s questionable whether an enum will ever be big enough for the search to be parallelised)"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1488476376,"post_id":27807324,"comment_id":72258529,"body_markdown":"@slim As the stream is ordered, `findFirst()` exhibits the same behavior as the original pre-java 8 code in case of multiple matches. Although I suspect a bijective mapping between enum&#39;s values and names, I don&#39;t expect much difference in terms of performance between `findFirst()` and `findAny()` (and as you said, it&#39;s questionable). That said, I would use the second approach. It uses more memory but it may be worth as the lookup time is better :)","body":"@slim As the stream is ordered, <code>findFirst()</code> exhibits the same behavior as the original pre-java 8 code in case of multiple matches. Although I suspect a bijective mapping between enum&#39;s values and names, I don&#39;t expect much difference in terms of performance between <code>findFirst()</code> and <code>findAny()</code> (and as you said, it&#39;s questionable). That said, I would use the second approach. It uses more memory but it may be worth as the lookup time is better :)"},{"owner":{"account_id":2000334,"reputation":7336,"user_id":1791546,"accept_rate":68,"display_name":"Shridutt Kothari"},"score":0,"creation_date":1640771801,"post_id":27807324,"comment_id":124653831,"body_markdown":"2nd approach is running in Big O(1) while all other approach will be taking BigO(n)...\nThanks for the answer","body":"2nd approach is running in Big O(1) while all other approach will be taking BigO(n)... Thanks for the answer"}],"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"comment_count":4,"down_vote_count":0,"up_vote_count":96,"is_accepted":true,"score":96,"last_activity_date":1420585377,"creation_date":1420579056,"answer_id":27807324,"question_id":27807232,"body_markdown":"I would use `findFirst` instead:\r\n\r\n    return Arrays.stream(Type.values())\r\n                .filter(e -&gt; e.s.equals(val))\r\n                .findFirst()\r\n                .orElseThrow(() -&gt; new IllegalStateException(String.format(&quot;Unsupported type %s.&quot;, val)));\r\n\r\n&lt;hr/&gt;\r\nThough a `Map` could be better in this case:\r\n\r\n    enum Type{\r\n        X(&quot;S1&quot;),\r\n        Y(&quot;S2&quot;);\r\n     \r\n        private static class Holder {\r\n            static Map&lt;String, Type&gt; MAP = new HashMap&lt;&gt;();\r\n        }\r\n    \r\n        private Type(String s) {\r\n            Holder.MAP.put(s, this);\r\n        }\r\n    \r\n        public static Type find(String val) {\r\n            Type t = Holder.MAP.get(val);\r\n            if(t == null) {\r\n                throw new IllegalStateException(String.format(&quot;Unsupported type %s.&quot;, val));\r\n            }\r\n            return t;\r\n        }\r\n    }\r\n\r\nI learnt this trick from this [answer](https://stackoverflow.com/questions/27703119/convert-from-string-to-a-java-enum-with-large-amount-of-values/27703839#27703839). Basically the class loader initializes the static classes before the enum class, which allows you to fill the `Map` in the enum constructor itself. Very handy !\r\n\r\nHope it helps ! :)","title":"Finding enum value with Java 8 Stream API","body":"<p>I would use <code>findFirst</code> instead:</p>\n\n<pre><code>return Arrays.stream(Type.values())\n            .filter(e -&gt; e.s.equals(val))\n            .findFirst()\n            .orElseThrow(() -&gt; new IllegalStateException(String.format(\"Unsupported type %s.\", val)));\n</code></pre>\n\n<p><hr/>\nThough a <code>Map</code> could be better in this case:</p>\n\n<pre><code>enum Type{\n    X(\"S1\"),\n    Y(\"S2\");\n\n    private static class Holder {\n        static Map&lt;String, Type&gt; MAP = new HashMap&lt;&gt;();\n    }\n\n    private Type(String s) {\n        Holder.MAP.put(s, this);\n    }\n\n    public static Type find(String val) {\n        Type t = Holder.MAP.get(val);\n        if(t == null) {\n            throw new IllegalStateException(String.format(\"Unsupported type %s.\", val));\n        }\n        return t;\n    }\n}\n</code></pre>\n\n<p>I learnt this trick from this <a href=\"https://stackoverflow.com/questions/27703119/convert-from-string-to-a-java-enum-with-large-amount-of-values/27703839#27703839\">answer</a>. Basically the class loader initializes the static classes before the enum class, which allows you to fill the <code>Map</code> in the enum constructor itself. Very handy !</p>\n\n<p>Hope it helps ! :)</p>\n"},{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1420581050,"creation_date":1420579083,"answer_id":27807329,"question_id":27807232,"body_markdown":"    Arrays.stream(Type.values()).filter(v -&gt; v.s.equals(val)).findAny().orElseThrow(...);","title":"Finding enum value with Java 8 Stream API","body":"<pre><code>Arrays.stream(Type.values()).filter(v -&gt; v.s.equals(val)).findAny().orElseThrow(...);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1420653108,"post_id":27807347,"comment_id":44056762,"body_markdown":"`orElseThrow` expects a `Supplier` which, as the name suggests, *supplies* the exception, not *throwing* the exception, so instead of `.orElseThrow(() -&gt; {throw new IllegalStateException … })` you should use `.orElseThrow(() -&gt; new IllegalStateException …)`. You will notice the difference when using a checked exception.","body":"<code>orElseThrow</code> expects a <code>Supplier</code> which, as the name suggests, <i>supplies</i> the exception, not <i>throwing</i> the exception, so instead of <code>.orElseThrow(() -&gt; {throw new IllegalStateException … })</code> you should use <code>.orElseThrow(() -&gt; new IllegalStateException …)</code>. You will notice the difference when using a checked exception."}],"tags":[],"owner":{"account_id":20707,"reputation":30842,"user_id":49746,"display_name":"Todd"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1420653862,"creation_date":1420579148,"answer_id":27807347,"question_id":27807232,"body_markdown":"How about using `findAny()` instead of `reduce`?\r\n\r\n    private static Type find(String val) {\r\n       return Arrays.stream(Type.values())\r\n            .filter(e -&gt; e.s.equals(val))\r\n            .findAny()\r\n            .orElseThrow(() -&gt; new IllegalStateException(String.format(&quot;Unsupported type %s.&quot;, val)));\r\n    }","title":"Finding enum value with Java 8 Stream API","body":"<p>How about using <code>findAny()</code> instead of <code>reduce</code>?</p>\n\n<pre><code>private static Type find(String val) {\n   return Arrays.stream(Type.values())\n        .filter(e -&gt; e.s.equals(val))\n        .findAny()\n        .orElseThrow(() -&gt; new IllegalStateException(String.format(\"Unsupported type %s.\", val)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8299467,"reputation":23,"user_id":6238534,"display_name":"thiaguten"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461296135,"creation_date":1461296135,"answer_id":36784362,"question_id":27807232,"body_markdown":"I can&#39;t add a comment yet, so I am posting an answer to complement the above [answer][1], just following the same idea but using java 8 approach:\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/27807324/6238534\r\n\r\n    public static Type find(String val) {\r\n        return Optional\r\n                .ofNullable(Holder.MAP.get(val))\r\n                .orElseThrow(() -&gt; new IllegalStateException(String.format(&quot;Unsupported type %s.&quot;, val)));\r\n    }","title":"Finding enum value with Java 8 Stream API","body":"<p>I can't add a comment yet, so I am posting an answer to complement the above <a href=\"https://stackoverflow.com/a/27807324/6238534\">answer</a>, just following the same idea but using java 8 approach:</p>\n\n<pre><code>public static Type find(String val) {\n    return Optional\n            .ofNullable(Holder.MAP.get(val))\n            .orElseThrow(() -&gt; new IllegalStateException(String.format(\"Unsupported type %s.\", val)));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":482558,"reputation":29193,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"score":8,"creation_date":1488278832,"post_id":37257507,"comment_id":72150787,"body_markdown":"Looking at the JDK source, `Arrays.stream(Type.values())` internally clones an array and then creates a new stream - while `EnumSet.allOf(Type.class).stream()` internally creates a new EnumSet, adds all enum values to it and then creates a new stream. This solution looks nicer to me but the decision to use this shouldn&#39;t just be based on assumptions about how many objects are created.","body":"Looking at the JDK source, <code>Arrays.stream(Type.values())</code> internally clones an array and then creates a new stream - while <code>EnumSet.allOf(Type.class).stream()</code> internally creates a new EnumSet, adds all enum values to it and then creates a new stream. This solution looks nicer to me but the decision to use this shouldn&#39;t just be based on assumptions about how many objects are created."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1537215665,"post_id":37257507,"comment_id":91695080,"body_markdown":"@kapex since enun are constants, you still copies, all the time. An `EnumSet` on the other hand could introduce flags like `DISTINCT` or `NONNULL` that could be leveraged later by the stream, its not *just* about the objects","body":"@kapex since enun are constants, you still copies, all the time. An <code>EnumSet</code> on the other hand could introduce flags like <code>DISTINCT</code> or <code>NONNULL</code> that could be leveraged later by the stream, its not <i>just</i> about the objects"},{"owner":{"account_id":482558,"reputation":29193,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"score":0,"creation_date":1537525179,"post_id":37257507,"comment_id":91825802,"body_markdown":"@Eugene Right, EnumSet could offer hints for optimized streaming, that would be a better reason for using it. What do you mean by &quot;since enum are constants, you still copies, all the time.&quot;? Enum constants define enum instances of the enum type. Copying arrays of enums works the same as copying arrays of any other object types as far as I know.","body":"@Eugene Right, EnumSet could offer hints for optimized streaming, that would be a better reason for using it. What do you mean by &quot;since enum are constants, you still copies, all the time.&quot;? Enum constants define enum instances of the enum type. Copying arrays of enums works the same as copying arrays of any other object types as far as I know."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1537528474,"post_id":37257507,"comment_id":91827688,"body_markdown":"@kapex what I mean is that `values` always returns a new array, of course by copying, because returning an array backed by the original array would mean the possibility to alter the enum itself and that cant happen, obviously.","body":"@kapex what I mean is that <code>values</code> always returns a new array, of course by copying, because returning an array backed by the original array would mean the possibility to alter the enum itself and that cant happen, obviously."},{"owner":{"account_id":6625221,"reputation":5148,"user_id":5115670,"accept_rate":70,"display_name":"Girdhar Singh Rathore"},"score":0,"creation_date":1547141304,"post_id":37257507,"comment_id":95099343,"body_markdown":"e.s.equals(val)\n\nwhat is value of s here?","body":"e.s.equals(val)  what is value of s here?"},{"owner":{"account_id":1628571,"reputation":6081,"user_id":1503570,"accept_rate":51,"display_name":"lorraine batol"},"score":1,"creation_date":1594176832,"post_id":37257507,"comment_id":111031999,"body_markdown":"the last line should have been   .orElseThrow(() -&gt; new IllegalStateException(String.format(&quot;Unsupported type %s.&quot;, val)));","body":"the last line should have been   .orElseThrow(() -&gt; new IllegalStateException(String.format(&quot;Unsupported type %s.&quot;, val)));"}],"tags":[],"owner":{"account_id":2981045,"reputation":367,"user_id":2530984,"display_name":"P&#228;r Eriksson"},"comment_count":6,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1666194465,"creation_date":1463412271,"answer_id":37257507,"question_id":27807232,"body_markdown":"The accepted answer works well, but if you want to avoid creating a new stream with a temporary array you could use `EnumSet.allOf()`.\r\n\r\n    EnumSet.allOf(Type.class)\r\n           .stream()\r\n           .filter(e -&gt; e.s.equals(val))\r\n           .findFirst()\r\n           .orElseThrow(() -&gt; new IllegalStateException(String.format(&quot;Unsupported type %s.&quot;, val)));","title":"Finding enum value with Java 8 Stream API","body":"<p>The accepted answer works well, but if you want to avoid creating a new stream with a temporary array you could use <code>EnumSet.allOf()</code>.</p>\n<pre><code>EnumSet.allOf(Type.class)\n       .stream()\n       .filter(e -&gt; e.s.equals(val))\n       .findFirst()\n       .orElseThrow(() -&gt; new IllegalStateException(String.format(&quot;Unsupported type %s.&quot;, val)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4780157,"reputation":179,"user_id":3862159,"display_name":"Marcell Rico"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485779337,"creation_date":1485462225,"answer_id":41882306,"question_id":27807232,"body_markdown":"You need a getter for String s.\r\nIn the example below this method is `getDesc()`:\r\n\r\n    public static StatusManifestoType getFromValue(String value) {\r\n        return Arrays.asList(values()).stream().filter(t -&gt; t.getDesc().equals(value)).findAny().orElse(null);\r\n    }","title":"Finding enum value with Java 8 Stream API","body":"<p>You need a getter for String s.\nIn the example below this method is <code>getDesc()</code>:</p>\n\n<pre><code>public static StatusManifestoType getFromValue(String value) {\n    return Arrays.asList(values()).stream().filter(t -&gt; t.getDesc().equals(value)).findAny().orElse(null);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2315188,"reputation":4406,"user_id":2032415,"display_name":"Tomasz Linkowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1536854393,"creation_date":1536853678,"answer_id":52317369,"question_id":27807232,"body_markdown":"I know this question is old but I came here from a duplicate. My answer is not strictly answering the OP&#39;s question about how to solve the problem *using Java Streams*. Instead, this answer expands the `Map`-based solution proposed in the [accepted answer][1] to become more (IMHO) manageable.\r\n\r\nSo here it is: I propose to introduce a special helper class that I named `EnumLookup`.\r\n\r\nAssuming the `Type` enumeration is slightly better written (meaningful field name + getter), I inject an `EnumLookup` constant to it like below:\r\n\r\n    enum Type {\r\n\r\n        X(&quot;S1&quot;),\r\n        Y(&quot;S2&quot;);\r\n\r\n        private static final EnumLookup&lt;Type, String&gt; BY_CODE = EnumLookup.of(Type.class, Type::getCode, &quot;code&quot;);\r\n\r\n        private final String code;\r\n\r\n        Type(String code) {\r\n            this.code = code;\r\n        }\r\n\r\n        public String getCode() {\r\n            return code;\r\n        }\r\n\r\n        public static EnumLookup&lt;Type, String&gt; byCode() {\r\n            return BY_CODE;\r\n        }\r\n    }\r\n\r\nThe usage then becomes (again, IMO) really readable:\r\n\r\n    Type type = Type.byCode().get(&quot;S1&quot;); // returns Type.X\r\n\r\n    Optional&lt;Type&gt; optionalType = Type.byCode().find(&quot;S2&quot;); // returns Optional(Type.Y)\r\n\r\n    if (Type.byCode().contains(&quot;S3&quot;)) { // returns false\r\n        // logic\r\n    }\r\n\r\nFinally, here&#39;s the code of the `EnumLookup` helper class:\r\n\r\n    public final class EnumLookup&lt;E extends Enum&lt;E&gt;, ID&gt; {\r\n    \r\n        private final Class&lt;E&gt; enumClass;\r\n        private final ImmutableMap&lt;ID, E&gt; valueByIdMap;\r\n        private final String idTypeName;\r\n    \r\n        private EnumLookup(Class&lt;E&gt; enumClass, ImmutableMap&lt;ID, E&gt; valueByIdMap, String idTypeName) {\r\n            this.enumClass = enumClass;\r\n            this.valueByIdMap = valueByIdMap;\r\n            this.idTypeName = idTypeName;\r\n        }\r\n    \r\n        public boolean contains(ID id) {\r\n            return valueByIdMap.containsKey(id);\r\n        }\r\n    \r\n        public E get(ID id) {\r\n            E value = valueByIdMap.get(id);\r\n            if (value == null) {\r\n                throw new IllegalArgumentException(String.format(\r\n                        &quot;No such %s with %s: %s&quot;, enumClass.getSimpleName(), idTypeName, id\r\n                ));\r\n            }\r\n            return value;\r\n        }\r\n    \r\n        public Optional&lt;E&gt; find(ID id) {\r\n            return Optional.ofNullable(valueByIdMap.get(id));\r\n        }\r\n    \r\n        //region CONSTRUCTION\r\n        public static &lt;E extends Enum&lt;E&gt;, ID&gt; EnumLookup&lt;E, ID&gt; of(\r\n                Class&lt;E&gt; enumClass, Function&lt;E, ID&gt; idExtractor, String idTypeName) {\r\n            ImmutableMap&lt;ID, E&gt; valueByIdMap = Arrays.stream(enumClass.getEnumConstants())\r\n                    .collect(ImmutableMap.toImmutableMap(idExtractor, Function.identity()));\r\n            return new EnumLookup&lt;&gt;(enumClass, valueByIdMap, idTypeName);\r\n        }\r\n    \r\n        public static &lt;E extends Enum&lt;E&gt;&gt; EnumLookup&lt;E, String&gt; byName(Class&lt;E&gt; enumClass) {\r\n            return of(enumClass, Enum::name, &quot;enum name&quot;);\r\n        }\r\n        //endregion\r\n    }\r\n\r\nNote that:\r\n\r\n1. I used Guava&#39;s [`ImmutableMap`][2] here, but a regular `HashMap` or `LinkedHashMap` can be used instead.\r\n\r\n2. If you mind the lack of lazy initialization in the above approach, you can delay building of the `EnumLookup` until `byCode` method is first called (e.g. using the [lazy-holder idiom][3], like in the [accepted answer][1])\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/27807324/2032415\r\n  [2]: https://google.github.io/guava/releases/25.1-jre/api/docs/com/google/common/collect/ImmutableMap.html\r\n  [3]: https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom","title":"Finding enum value with Java 8 Stream API","body":"<p>I know this question is old but I came here from a duplicate. My answer is not strictly answering the OP's question about how to solve the problem <em>using Java Streams</em>. Instead, this answer expands the <code>Map</code>-based solution proposed in the <a href=\"https://stackoverflow.com/a/27807324/2032415\">accepted answer</a> to become more (IMHO) manageable.</p>\n\n<p>So here it is: I propose to introduce a special helper class that I named <code>EnumLookup</code>.</p>\n\n<p>Assuming the <code>Type</code> enumeration is slightly better written (meaningful field name + getter), I inject an <code>EnumLookup</code> constant to it like below:</p>\n\n<pre><code>enum Type {\n\n    X(\"S1\"),\n    Y(\"S2\");\n\n    private static final EnumLookup&lt;Type, String&gt; BY_CODE = EnumLookup.of(Type.class, Type::getCode, \"code\");\n\n    private final String code;\n\n    Type(String code) {\n        this.code = code;\n    }\n\n    public String getCode() {\n        return code;\n    }\n\n    public static EnumLookup&lt;Type, String&gt; byCode() {\n        return BY_CODE;\n    }\n}\n</code></pre>\n\n<p>The usage then becomes (again, IMO) really readable:</p>\n\n<pre><code>Type type = Type.byCode().get(\"S1\"); // returns Type.X\n\nOptional&lt;Type&gt; optionalType = Type.byCode().find(\"S2\"); // returns Optional(Type.Y)\n\nif (Type.byCode().contains(\"S3\")) { // returns false\n    // logic\n}\n</code></pre>\n\n<p>Finally, here's the code of the <code>EnumLookup</code> helper class:</p>\n\n<pre><code>public final class EnumLookup&lt;E extends Enum&lt;E&gt;, ID&gt; {\n\n    private final Class&lt;E&gt; enumClass;\n    private final ImmutableMap&lt;ID, E&gt; valueByIdMap;\n    private final String idTypeName;\n\n    private EnumLookup(Class&lt;E&gt; enumClass, ImmutableMap&lt;ID, E&gt; valueByIdMap, String idTypeName) {\n        this.enumClass = enumClass;\n        this.valueByIdMap = valueByIdMap;\n        this.idTypeName = idTypeName;\n    }\n\n    public boolean contains(ID id) {\n        return valueByIdMap.containsKey(id);\n    }\n\n    public E get(ID id) {\n        E value = valueByIdMap.get(id);\n        if (value == null) {\n            throw new IllegalArgumentException(String.format(\n                    \"No such %s with %s: %s\", enumClass.getSimpleName(), idTypeName, id\n            ));\n        }\n        return value;\n    }\n\n    public Optional&lt;E&gt; find(ID id) {\n        return Optional.ofNullable(valueByIdMap.get(id));\n    }\n\n    //region CONSTRUCTION\n    public static &lt;E extends Enum&lt;E&gt;, ID&gt; EnumLookup&lt;E, ID&gt; of(\n            Class&lt;E&gt; enumClass, Function&lt;E, ID&gt; idExtractor, String idTypeName) {\n        ImmutableMap&lt;ID, E&gt; valueByIdMap = Arrays.stream(enumClass.getEnumConstants())\n                .collect(ImmutableMap.toImmutableMap(idExtractor, Function.identity()));\n        return new EnumLookup&lt;&gt;(enumClass, valueByIdMap, idTypeName);\n    }\n\n    public static &lt;E extends Enum&lt;E&gt;&gt; EnumLookup&lt;E, String&gt; byName(Class&lt;E&gt; enumClass) {\n        return of(enumClass, Enum::name, \"enum name\");\n    }\n    //endregion\n}\n</code></pre>\n\n<p>Note that:</p>\n\n<ol>\n<li><p>I used Guava's <a href=\"https://google.github.io/guava/releases/25.1-jre/api/docs/com/google/common/collect/ImmutableMap.html\" rel=\"nofollow noreferrer\"><code>ImmutableMap</code></a> here, but a regular <code>HashMap</code> or <code>LinkedHashMap</code> can be used instead.</p></li>\n<li><p>If you mind the lack of lazy initialization in the above approach, you can delay building of the <code>EnumLookup</code> until <code>byCode</code> method is first called (e.g. using the <a href=\"https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom\" rel=\"nofollow noreferrer\">lazy-holder idiom</a>, like in the <a href=\"https://stackoverflow.com/a/27807324/2032415\">accepted answer</a>)</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13946152,"reputation":31,"user_id":10070861,"display_name":"Bastien Escouvois"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1554455290,"creation_date":1550656307,"answer_id":54783339,"question_id":27807232,"body_markdown":"I think the second answer of Alexis C. ([Alexis C.&#39;s answer][1]) is the good one in term of complexity. Instead of searching in O(n) each time you look for a code using \r\n\r\n    return Arrays.stream(Type.values())\r\n            .filter(e -&gt; e.s.equals(val))\r\n            .findFirst()\r\n            .orElseThrow(() -&gt; new IllegalStateException(String.format(&quot;Unsupported type %s.&quot;, val)));\r\n\r\nyou could use O(n) time at the loading of the class by putting all elements into the map, and then access to the code of the type in constant time O(1) using the map.\r\n\r\n    enum Type{\r\n    X(&quot;S1&quot;),\r\n    Y(&quot;S2&quot;);\r\n\r\n    private final String code;\r\n    private static Map&lt;String, Type&gt; mapping = new HashMap&lt;&gt;();\r\n\r\n    static {\r\n        Arrays.stream(Type.values()).forEach(type-&gt; mapping.put(type.getCode(), type));\r\n    }\r\n\r\n    Type(String code) {\r\n        this.code = code;\r\n    }\r\n\r\n    public String getCode() {\r\n        return code;\r\n    }\r\n\r\n    public static Type forCode(final String code) {\r\n        return mapping.get(code);\r\n    }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/27807324/10070861","title":"Finding enum value with Java 8 Stream API","body":"<p>I think the second answer of Alexis C. (<a href=\"https://stackoverflow.com/a/27807324/10070861\">Alexis C.'s answer</a>) is the good one in term of complexity. Instead of searching in O(n) each time you look for a code using </p>\n\n<pre><code>return Arrays.stream(Type.values())\n        .filter(e -&gt; e.s.equals(val))\n        .findFirst()\n        .orElseThrow(() -&gt; new IllegalStateException(String.format(\"Unsupported type %s.\", val)));\n</code></pre>\n\n<p>you could use O(n) time at the loading of the class by putting all elements into the map, and then access to the code of the type in constant time O(1) using the map.</p>\n\n<pre><code>enum Type{\nX(\"S1\"),\nY(\"S2\");\n\nprivate final String code;\nprivate static Map&lt;String, Type&gt; mapping = new HashMap&lt;&gt;();\n\nstatic {\n    Arrays.stream(Type.values()).forEach(type-&gt; mapping.put(type.getCode(), type));\n}\n\nType(String code) {\n    this.code = code;\n}\n\npublic String getCode() {\n    return code;\n}\n\npublic static Type forCode(final String code) {\n    return mapping.get(code);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15769864,"reputation":11,"user_id":11379215,"display_name":"Myles Wehr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555593816,"creation_date":1555593816,"answer_id":55746997,"question_id":27807232,"body_markdown":"You&#39;d need a getter for String s, but this is the pattern I use:\r\n\r\n    private static final Map&lt;String, Type&gt; TYPE_MAP = \r\n        Collections.unmodifiableMap(\r\n            EnumSet.allOf(Type.class)\r\n            .stream()\r\n            .collect(Collectors.toMap(Type::getS, e -&gt; e)));\r\n    \r\n    public static Type find(String s) {\r\n        return TYPE_MAP.get(s);\r\n    }\r\nNo for loops, only streams.  Quick lookup as opposed to building a stream every time the method is called.","title":"Finding enum value with Java 8 Stream API","body":"<p>You'd need a getter for String s, but this is the pattern I use:</p>\n\n<pre><code>private static final Map&lt;String, Type&gt; TYPE_MAP = \n    Collections.unmodifiableMap(\n        EnumSet.allOf(Type.class)\n        .stream()\n        .collect(Collectors.toMap(Type::getS, e -&gt; e)));\n\npublic static Type find(String s) {\n    return TYPE_MAP.get(s);\n}\n</code></pre>\n\n<p>No for loops, only streams.  Quick lookup as opposed to building a stream every time the method is called.</p>\n"}],"owner":{"account_id":100622,"reputation":3010,"user_id":271149,"accept_rate":90,"display_name":"quantum"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104630,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":27807324,"answer_count":9,"score":47,"last_activity_date":1666194465,"creation_date":1420578648,"question_id":27807232,"body_markdown":"Suppose there is a simple enum called Type defined like this:\r\n\r\n    enum Type{\r\n        X(&quot;S1&quot;),\r\n        Y(&quot;S2&quot;);\r\n        \r\n        private String s;\r\n    \r\n    \tprivate Type(String s) {\r\n    \t\tthis.s = s;\r\n    \t}\r\n    }\r\n\r\nFinding the correct enum for given `s` is trivially done with static method with for-loop (assume the method is defined inside enum), e.g.:\r\n\r\n    private static Type find(String val) {\r\n    \t\tfor (Type e : Type.values()) {\r\n    \t\t\tif (e.s.equals(val))\r\n    \t\t\t\treturn e;\r\n    \t\t}\r\n            throw new IllegalStateException(String.format(&quot;Unsupported type %s.&quot;, val));\r\n    }\r\n\r\nI think the functional equivalent of this expressed with Stream API would be something like this:\r\n\r\n    private static Type find(String val) {\r\n         return Arrays.stream(Type.values())\r\n    \t\t\t.filter(e -&gt; e.s.equals(val))\r\n    \t\t\t.reduce((t1, t2) -&gt; t1)\r\n    \t\t\t.orElseThrow(() -&gt; {throw new IllegalStateException(String.format(&quot;Unsupported type %s.&quot;, val));});\r\n    }\r\n\r\nHow could we write this better and simpler? This code feels coerced and not very clear. The `reduce()` especially seems clunky and abused as it doesn&#39;t accumulate anything, performs no calculation and always simply returns `t1` (provided the filter returns one value - if it doesn&#39;t that&#39;s clearly a disaster), not to mention `t2` is there superfluous and confusing. Yet I couldn&#39;t find anything in Stream API that simply somehow returns directly a `T` from a `Stream&lt;T&gt;`.\r\n\r\nIs there a better way?","title":"Finding enum value with Java 8 Stream API","body":"<p>Suppose there is a simple enum called Type defined like this:</p>\n\n<pre><code>enum Type{\n    X(\"S1\"),\n    Y(\"S2\");\n\n    private String s;\n\n    private Type(String s) {\n        this.s = s;\n    }\n}\n</code></pre>\n\n<p>Finding the correct enum for given <code>s</code> is trivially done with static method with for-loop (assume the method is defined inside enum), e.g.:</p>\n\n<pre><code>private static Type find(String val) {\n        for (Type e : Type.values()) {\n            if (e.s.equals(val))\n                return e;\n        }\n        throw new IllegalStateException(String.format(\"Unsupported type %s.\", val));\n}\n</code></pre>\n\n<p>I think the functional equivalent of this expressed with Stream API would be something like this:</p>\n\n<pre><code>private static Type find(String val) {\n     return Arrays.stream(Type.values())\n            .filter(e -&gt; e.s.equals(val))\n            .reduce((t1, t2) -&gt; t1)\n            .orElseThrow(() -&gt; {throw new IllegalStateException(String.format(\"Unsupported type %s.\", val));});\n}\n</code></pre>\n\n<p>How could we write this better and simpler? This code feels coerced and not very clear. The <code>reduce()</code> especially seems clunky and abused as it doesn't accumulate anything, performs no calculation and always simply returns <code>t1</code> (provided the filter returns one value - if it doesn't that's clearly a disaster), not to mention <code>t2</code> is there superfluous and confusing. Yet I couldn't find anything in Stream API that simply somehow returns directly a <code>T</code> from a <code>Stream&lt;T&gt;</code>.</p>\n\n<p>Is there a better way?</p>\n"},{"tags":["java","selenium","instagram"],"comments":[{"owner":{"account_id":9284974,"reputation":2973,"user_id":6895166,"accept_rate":40,"display_name":"SamHoque"},"score":0,"creation_date":1549716725,"post_id":54606272,"comment_id":96007945,"body_markdown":"This is a very simple task, and you haven&#39;t really done much for us to help you with errors, You should read the javadocs more before attempting to make this.","body":"This is a very simple task, and you haven&#39;t really done much for us to help you with errors, You should read the javadocs more before attempting to make this."},{"owner":{"account_id":11017205,"reputation":615,"user_id":8935199,"display_name":"Alex"},"score":0,"creation_date":1549720483,"post_id":54606272,"comment_id":96008945,"body_markdown":"I&#39;ve aded my final question, sorry for misunderstanding.","body":"I&#39;ve aded my final question, sorry for misunderstanding."}],"answers":[{"tags":[],"owner":{"account_id":15172906,"reputation":1689,"user_id":10948428,"display_name":"Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1549892541,"creation_date":1549892541,"answer_id":54631885,"question_id":54606272,"body_markdown":"You can identify an next image `&gt;` arrow using the below xpath :\r\n\r\n    String xpath = &quot;//div[contains(@class, &#39;RightChevron&#39;)]&quot;;\r\n\r\nIf you move to the last image then the above xpath will not return any matches because that image `&gt;` arrow is not present for the last/single image.\r\n\r\nTo check whether the locator is present or not without handling any exceptions, you can use the `findElements()` method like below :\r\n\r\n    List&lt;WebElement&gt; imageArrow = driver.findElements(By.xpath(xpath));\r\n    if(imageArrow.size() &gt; 0) {\r\n        System.out.println(&quot;=&gt; The image arrow is present...&quot;);\r\n        // Perform some action here\r\n    } else {\r\n        System.out.println(&quot;=&gt; The image arrow is not present...&quot;);\r\n    }\r\n\r\nIf the list size is greater than zero then there is an arrow otherwise not, so the below code will loop through until the size is greater than zero and will click on the image arrow.\r\n\r\n    boolean isThereAnArrow = true;\r\n    while(isThereAnArrow) {\r\n        final String xpath = &quot;//div[contains(@class, &#39;RightChevron&#39;)]&quot;;\r\n        List&lt;WebElement&gt; imageArrow = driver.findElements(By.xpath(xpath));\r\n        if(imageArrow.size() &gt; 0) {\r\n            System.out.println(&quot;=&gt; The image arrow is present...&quot;);\r\n            imageArrow.get(0).click(); // Clicking on the image arrow\r\n        } else {\r\n            System.out.println(&quot;=&gt; The image arrow is not present...&quot;);\r\n            isThereAnArrow = false; // If there is no match then it will help us to break the loop\r\n        }\r\n}\r\n\r\nSame like an above, you can check for the posts next `&gt;` arrow. Below is the whole code which clicks on the image `&gt;` arrow if its present or it will click on the next post button until there are some posts.\r\n\r\n    boolean isThereNextPostArrow = true;\r\n    while(isThereNextPostArrow) {\r\n    \t// Checks for the next &#39;&gt;&#39; image arrow, if not then will break the loop\r\n    \t// ---------------------------------------------------------------------------\r\n    \tboolean isThereAnArrow = true;\r\n    \twhile(isThereAnArrow) {\r\n    \t\tfinal String xpath = &quot;//div[contains(@class, &#39;RightChevron&#39;)]&quot;;\r\n    \t\tList&lt;WebElement&gt; imageArrow = driver.findElements(By.xpath(xpath));\r\n    \t\tif(imageArrow.size() &gt; 0) {\r\n    \t\t\tSystem.out.println(&quot;=&gt; The image arrow is present...&quot;);\r\n    \r\n    \t\t\t// Do something here\r\n    \r\n    \t\t\timageArrow.get(0).click(); // Clicking on the image arrow\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;=&gt; The image arrow is not present...&quot;);\r\n    \t\t\tisThereAnArrow = false; // If there is no match then it will help us to break the loop\r\n    \t\t}\r\n    \t}\r\n    \t// ---------------------------------------------------------------------------\r\n    \t// Checks for the next &#39;&gt;&#39; post arrow, if not then will break the loop\r\n    \tList&lt;WebElement&gt; nextPost = driver.findElements(By.xpath(&quot;//a[contains(@class, &#39;PaginationArrow&#39;)]&quot;));\r\n    \tif(nextPost.size() &gt; 0) {\r\n    \t\tSystem.out.println(&quot;=&gt; The next post arrow is there...&quot;);\r\n    \t\tnextPost.get(0).click(); // Clicking on the next post\r\n    \t} else {\r\n    \t\tSystem.out.println(&quot;=&gt; The next post arrow is not there...&quot;);\r\n    \t\tisThereNextPostArrow = false; // If there is no match then it will help us to break the outer loop\r\n    \t}\r\n    }\r\n\r\nI hope it helps...","title":"How to make a program which loops over all saved photos on Instagram","body":"<p>You can identify an next image <code>&gt;</code> arrow using the below xpath :</p>\n\n<pre><code>String xpath = \"//div[contains(@class, 'RightChevron')]\";\n</code></pre>\n\n<p>If you move to the last image then the above xpath will not return any matches because that image <code>&gt;</code> arrow is not present for the last/single image.</p>\n\n<p>To check whether the locator is present or not without handling any exceptions, you can use the <code>findElements()</code> method like below :</p>\n\n<pre><code>List&lt;WebElement&gt; imageArrow = driver.findElements(By.xpath(xpath));\nif(imageArrow.size() &gt; 0) {\n    System.out.println(\"=&gt; The image arrow is present...\");\n    // Perform some action here\n} else {\n    System.out.println(\"=&gt; The image arrow is not present...\");\n}\n</code></pre>\n\n<p>If the list size is greater than zero then there is an arrow otherwise not, so the below code will loop through until the size is greater than zero and will click on the image arrow.</p>\n\n<pre><code>boolean isThereAnArrow = true;\nwhile(isThereAnArrow) {\n    final String xpath = \"//div[contains(@class, 'RightChevron')]\";\n    List&lt;WebElement&gt; imageArrow = driver.findElements(By.xpath(xpath));\n    if(imageArrow.size() &gt; 0) {\n        System.out.println(\"=&gt; The image arrow is present...\");\n        imageArrow.get(0).click(); // Clicking on the image arrow\n    } else {\n        System.out.println(\"=&gt; The image arrow is not present...\");\n        isThereAnArrow = false; // If there is no match then it will help us to break the loop\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>Same like an above, you can check for the posts next <code>&gt;</code> arrow. Below is the whole code which clicks on the image <code>&gt;</code> arrow if its present or it will click on the next post button until there are some posts.</p>\n\n<pre><code>boolean isThereNextPostArrow = true;\nwhile(isThereNextPostArrow) {\n    // Checks for the next '&gt;' image arrow, if not then will break the loop\n    // ---------------------------------------------------------------------------\n    boolean isThereAnArrow = true;\n    while(isThereAnArrow) {\n        final String xpath = \"//div[contains(@class, 'RightChevron')]\";\n        List&lt;WebElement&gt; imageArrow = driver.findElements(By.xpath(xpath));\n        if(imageArrow.size() &gt; 0) {\n            System.out.println(\"=&gt; The image arrow is present...\");\n\n            // Do something here\n\n            imageArrow.get(0).click(); // Clicking on the image arrow\n        } else {\n            System.out.println(\"=&gt; The image arrow is not present...\");\n            isThereAnArrow = false; // If there is no match then it will help us to break the loop\n        }\n    }\n    // ---------------------------------------------------------------------------\n    // Checks for the next '&gt;' post arrow, if not then will break the loop\n    List&lt;WebElement&gt; nextPost = driver.findElements(By.xpath(\"//a[contains(@class, 'PaginationArrow')]\"));\n    if(nextPost.size() &gt; 0) {\n        System.out.println(\"=&gt; The next post arrow is there...\");\n        nextPost.get(0).click(); // Clicking on the next post\n    } else {\n        System.out.println(\"=&gt; The next post arrow is not there...\");\n        isThereNextPostArrow = false; // If there is no match then it will help us to break the outer loop\n    }\n}\n</code></pre>\n\n<p>I hope it helps...</p>\n"}],"owner":{"account_id":11017205,"reputation":615,"user_id":8935199,"display_name":"Alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":54631885,"answer_count":1,"score":-2,"last_activity_date":1666194083,"creation_date":1549715775,"question_id":54606272,"body_markdown":"I am in the process of creating a program for saving Instagram photos from &quot;Saved&quot; area of the page.\r\nThere are 2 elements: \r\n\r\n - &quot;**chevrones**&quot;, which allow you to switch photos inside a multi-publication;\r\n - **right arrow**&quot;, which allow you to move to a next publication.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI want to create a program which goes through all saved photos. If there is a chevron the program should loop through all photos inside this multiple photo publication (*click on chevron when it is available*). If there is no chevron available when the program should move to the next saved photo (*click on the next arrow*).\r\n\r\n**My question is: How to write the proper &quot;IF clause&quot; for 1)firstly loop inside a multiple-publication and 2)then (when all the photos inside multi-pub will finished) go to a next publication.**\r\n\r\nSo far I have following code:\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebElement;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class TestSelenium {\r\n        public static void main(String[] args){\r\n            WebElement img;\r\n            String src;\r\n            int i =0;\r\n    \r\n    // Set webdriver option\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files (x86)\\\\Common Files\\\\Oracle\\\\Java\\\\Webdrivers\\\\chromedriver.exe&quot;);\r\n            WebDriver driver = new ChromeDriver();\r\n            driver.get(&quot;https://www.instagram.com/accounts/login/&quot;);\r\n    // Set waits\r\n            WebDriverWait wait = new WebDriverWait(driver, 5);\r\n    \r\n    // Write down the login\r\n            wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;input[name=&#39;username&#39;]&quot;))).sendKeys(&quot;%%MY_INSTA_LOGGIN%%&quot;);\r\n    // Write down the password\r\n            wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;input[name=&#39;password&#39;]&quot;))).sendKeys(&quot;%%MY_INSTA_PASSWORD%%&quot;);\r\n    // Click on the Signin button\r\n            wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;button[type=&#39;submit&#39;]&quot;))).click();\r\n    \t\t\r\n    // Go to the saved page\r\n            wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;div[class=&#39;SKguc&#39;]&quot;))).click();\r\n            driver.get(&quot;https://www.instagram.com/aleksandrqa/saved/&quot;);\r\n    \t\t\r\n    // Click on the first element\r\n            wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;div[class=&#39;eLAPa&#39;]&quot;))).click();\r\n    \r\n                // Click on the next chevron\r\n                wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;a[class=&#39;SWk3c  Zk-Zb coreSpriteRightChevron&#39;]&quot;))).click();\r\n    \r\n    \t\t\t// Click on the next arrow\r\n                wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;a[class=&#39;HBoOv coreSpriteRightPaginationArrow&#39;]&quot;))).click();\r\n    \r\n    // TODO\r\n    // Save all photos URLs\r\n    \r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/7Nbuv.png","title":"How to make a program which loops over all saved photos on Instagram","body":"<p>I am in the process of creating a program for saving Instagram photos from &quot;Saved&quot; area of the page.\nThere are 2 elements:</p>\n<ul>\n<li>&quot;<strong>chevrones</strong>&quot;, which allow you to switch photos inside a multi-publication;</li>\n<li><strong>right arrow</strong>&quot;, which allow you to move to a next publication.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/7Nbuv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Nbuv.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to create a program which goes through all saved photos. If there is a chevron the program should loop through all photos inside this multiple photo publication (<em>click on chevron when it is available</em>). If there is no chevron available when the program should move to the next saved photo (<em>click on the next arrow</em>).</p>\n<p><strong>My question is: How to write the proper &quot;IF clause&quot; for 1)firstly loop inside a multiple-publication and 2)then (when all the photos inside multi-pub will finished) go to a next publication.</strong></p>\n<p>So far I have following code:</p>\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebElement;\n\nimport java.util.List;\n\npublic class TestSelenium {\n    public static void main(String[] args){\n        WebElement img;\n        String src;\n        int i =0;\n\n// Set webdriver option\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files (x86)\\\\Common Files\\\\Oracle\\\\Java\\\\Webdrivers\\\\chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://www.instagram.com/accounts/login/&quot;);\n// Set waits\n        WebDriverWait wait = new WebDriverWait(driver, 5);\n\n// Write down the login\n        wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;input[name='username']&quot;))).sendKeys(&quot;%%MY_INSTA_LOGGIN%%&quot;);\n// Write down the password\n        wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;input[name='password']&quot;))).sendKeys(&quot;%%MY_INSTA_PASSWORD%%&quot;);\n// Click on the Signin button\n        wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;button[type='submit']&quot;))).click();\n        \n// Go to the saved page\n        wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;div[class='SKguc']&quot;))).click();\n        driver.get(&quot;https://www.instagram.com/aleksandrqa/saved/&quot;);\n        \n// Click on the first element\n        wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;div[class='eLAPa']&quot;))).click();\n\n            // Click on the next chevron\n            wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;a[class='SWk3c  Zk-Zb coreSpriteRightChevron']&quot;))).click();\n\n            // Click on the next arrow\n            wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;a[class='HBoOv coreSpriteRightPaginationArrow']&quot;))).click();\n\n// TODO\n// Save all photos URLs\n\n    }\n}\n</code></pre>\n"},{"tags":["java","oop","design-patterns","jgit"],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666193789,"creation_date":1666193789,"answer_id":74128139,"question_id":74125172,"body_markdown":"If we will stick with principle [program to interfaces, not implementations][1],\r\nthen there will be no reason to return object type.\r\n\r\nI am sorry, I am not Java guy, but I&#39;ve provided comments how C# code can be converted to Java.\r\n\r\nSo let&#39;s dive in code. At first, we need an abstraction of GitService:\r\n\r\n\tpublic abstract class GitServiceBase\r\n\t{\r\n\t\tpublic void CloneRepo() \r\n\t\t{ }\r\n\r\n\t\tpublic void Push()\r\n\t\t{ }\r\n\t}\r\n\r\nand abstraction of `IGitHubRequest`:\r\n\r\n\tpublic interface IGitHubRequest\r\n\t{\r\n\t\tvoid CreatePullRequest();\r\n\t}\r\n\t\r\nand its concrete implementations:\r\n\r\n\tpublic class GitHubService : GitServiceBase, IGitHubRequest  \r\n\t\t\t\t\t\t\t\t// extends GITService in Java\r\n\t{\r\n\t\tpublic void CreatePullRequest()\r\n\t\t{\r\n\t\t\tthrow new NotImplementedException();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic class GitLabService : GitServiceBase\r\n\t{\r\n\r\n\t}\r\n\t\r\n\r\nAnd factory\twould look like this:\r\n\r\n\tpublic enum GitServiceType \r\n\t{\r\n\t\tGitHub, GitLab\r\n\t}\r\n\r\n\tpublic class GitServiceFactory\r\n\t{\r\n\t\tprivate Dictionary&lt;GitServiceType, GitServiceBase&gt; _gitServiceByType = new()\r\n\t\t{\r\n\t\t\t{ GitServiceType.GitHub, new GitHubService() },\r\n\t\t\t{ GitServiceType.GitLab, new GitLabService() }\r\n\t\t};\r\n\r\n\t\tpublic GitServiceBase GetInstanceByType(GitServiceType gitServiceType) =&gt;\r\n\t\t\t_gitServiceByType[gitServiceType];\r\n\t}\r\n\t\r\nAnd then you can call you `IGitHubRequest` like this:\r\n\r\n\tGitServiceBase gitHubService = new GitServiceFactory()\r\n\t\t.GetInstanceByType(GitServiceType.GitHub);\r\n\tIGitHubRequest gitHubRequest = (GitHubService)gitHubService;\r\n\t\r\n  [1]: https://stackoverflow.com/questions/2697783/what-does-program-to-interfaces-not-implementations-mean\t","title":"Call a child class method from a parent class object with Factory Pattern","body":"<p>If we will stick with principle <a href=\"https://stackoverflow.com/questions/2697783/what-does-program-to-interfaces-not-implementations-mean\">program to interfaces, not implementations</a>,\nthen there will be no reason to return object type.</p>\n<p>I am sorry, I am not Java guy, but I've provided comments how C# code can be converted to Java.</p>\n<p>So let's dive in code. At first, we need an abstraction of GitService:</p>\n<pre><code>public abstract class GitServiceBase\n{\n    public void CloneRepo() \n    { }\n\n    public void Push()\n    { }\n}\n</code></pre>\n<p>and abstraction of <code>IGitHubRequest</code>:</p>\n<pre><code>public interface IGitHubRequest\n{\n    void CreatePullRequest();\n}\n</code></pre>\n<p>and its concrete implementations:</p>\n<pre><code>public class GitHubService : GitServiceBase, IGitHubRequest  \n                            // extends GITService in Java\n{\n    public void CreatePullRequest()\n    {\n        throw new NotImplementedException();\n    }\n}\n\npublic class GitLabService : GitServiceBase\n{\n\n}\n</code></pre>\n<p>And factory would look like this:</p>\n<pre><code>public enum GitServiceType \n{\n    GitHub, GitLab\n}\n\npublic class GitServiceFactory\n{\n    private Dictionary&lt;GitServiceType, GitServiceBase&gt; _gitServiceByType = new()\n    {\n        { GitServiceType.GitHub, new GitHubService() },\n        { GitServiceType.GitLab, new GitLabService() }\n    };\n\n    public GitServiceBase GetInstanceByType(GitServiceType gitServiceType) =&gt;\n        _gitServiceByType[gitServiceType];\n}\n</code></pre>\n<p>And then you can call you <code>IGitHubRequest</code> like this:</p>\n<pre><code>GitServiceBase gitHubService = new GitServiceFactory()\n    .GetInstanceByType(GitServiceType.GitHub);\nIGitHubRequest gitHubRequest = (GitHubService)gitHubService;\n</code></pre>\n"}],"owner":{"account_id":3717598,"reputation":41,"user_id":3093403,"display_name":"Makook"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1666193789,"creation_date":1666181764,"question_id":74125172,"body_markdown":"I have a service that uses repositories from multiple Git version control platforms as Gitlab, GitHub.. etc\r\n\r\nI am using Jgit library in Java so I created a GitService which have the basic git commands \r\n\r\n```\r\npublic class GITService {\r\n\r\n  public void cloneRepo(){}\r\n\r\n  public void push(){}\r\n}\r\n````\r\n\r\nAll platforms used this class, all worked good until pull request feature is added to my Github requests.\r\n\r\nSo I created a class to each platform, they all extend the GitService class\r\n````\r\npublic class GitHubService extends GITService {\r\n   \r\n  public void createPullRequest()\r\n}\r\n\r\npublic class GitLabService extends GITService {\r\n\r\n}\r\n\r\n````\r\n\r\n\r\nAnd I created a Factory to choose which class to be used based on the requests coming.\r\n\r\n```\r\npublic class GitServiceFactory(){\r\n    public GitService getService(){}\r\n}\r\n\r\n````\r\n\r\nThere are two problems here in this design:\r\n 1. I have a child which is Gitlab that doesn&#39;t have the feature of pullRequest. So I cannot put this method in the parent class because it could be uncommon for other platforms to have pull requests.\r\n 2. My Factory returns GitService object, and thus I cannot use the method in child class. I saw that downcasting the object is a sign of bad design.\r\n\r\nAny help would be appreciated to solve this. thanks.","title":"Call a child class method from a parent class object with Factory Pattern","body":"<p>I have a service that uses repositories from multiple Git version control platforms as Gitlab, GitHub.. etc</p>\n<p>I am using Jgit library in Java so I created a GitService which have the basic git commands</p>\n<pre><code>public class GITService {\n\n  public void cloneRepo(){}\n\n  public void push(){}\n}\n</code></pre>\n<p>All platforms used this class, all worked good until pull request feature is added to my Github requests.</p>\n<p>So I created a class to each platform, they all extend the GitService class</p>\n<pre><code>public class GitHubService extends GITService {\n   \n  public void createPullRequest()\n}\n\npublic class GitLabService extends GITService {\n\n}\n\n</code></pre>\n<p>And I created a Factory to choose which class to be used based on the requests coming.</p>\n<pre><code>public class GitServiceFactory(){\n    public GitService getService(){}\n}\n\n</code></pre>\n<p>There are two problems here in this design:</p>\n<ol>\n<li>I have a child which is Gitlab that doesn't have the feature of pullRequest. So I cannot put this method in the parent class because it could be uncommon for other platforms to have pull requests.</li>\n<li>My Factory returns GitService object, and thus I cannot use the method in child class. I saw that downcasting the object is a sign of bad design.</li>\n</ol>\n<p>Any help would be appreciated to solve this. thanks.</p>\n"},{"tags":["java","android","graphql","apollo","illegalstateexception"],"answers":[{"tags":[],"owner":{"account_id":8658,"reputation":10923,"user_id":15695,"accept_rate":81,"display_name":"BoD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666193417,"creation_date":1666193417,"answer_id":74128067,"question_id":72973564,"body_markdown":"This looks like [this issue](https://github.com/apollographql/apollo-kotlin/pull/4383), for which [a fix](https://github.com/apollographql/apollo-kotlin/pull/4383) is currently pending to be part of the next release of Apollo Android 2.x.","title":"How to catch IllegalStateException displayed in Firebase coming from Apollo GraphQL Android SDK","body":"<p>This looks like <a href=\"https://github.com/apollographql/apollo-kotlin/pull/4383\" rel=\"nofollow noreferrer\">this issue</a>, for which <a href=\"https://github.com/apollographql/apollo-kotlin/pull/4383\" rel=\"nofollow noreferrer\">a fix</a> is currently pending to be part of the next release of Apollo Android 2.x.</p>\n"}],"owner":{"account_id":25803445,"reputation":41,"user_id":19545414,"display_name":"Peter Williams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666193417,"creation_date":1657753693,"question_id":72973564,"body_markdown":"I&#39;m unsure of how to catch this crash tracked in Firebase in our codebase which is coming from the Apollo GraphQL SDK for Android, version 2.5.12. I have also not been able to reproduce it. It seems to be similar to this issue: https://github.com/awslabs/aws-mobile-appsync-sdk-android/issues/153. Though, that issue is from RealAppSync, not Apollo. \r\n\r\nBecause Apollo uses callbacks, is it even possible to catch and handle this IllegalStateException in our codebase? Below is the stacktrace.\r\n\r\n```\r\nFatal Exception: java.lang.IllegalStateException\r\nFound: TERMINATED, but expected [ACTIVE, CANCELED]\r\n\r\ncom.apollographql.apollo.internal.RealApolloCall.responseCallback (RealApolloCall.java:367)\r\ncom.apollographql.apollo.internal.RealApolloCall$1.onFetch (RealApolloCall.java:287)\r\ncom.apollographql.apollo.internal.fetcher.CacheFirstFetcher$CacheFirstInterceptor$1.onFetch (CacheFirstFetcher.java:48)\r\ncom.apollographql.apollo.internal.interceptor.ApolloCacheInterceptor$1.run (ApolloCacheInterceptor.java:60)\r\njava.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1167)\r\njava.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\r\njava.lang.Thread.run (Thread.java:923)\r\n```","title":"How to catch IllegalStateException displayed in Firebase coming from Apollo GraphQL Android SDK","body":"<p>I'm unsure of how to catch this crash tracked in Firebase in our codebase which is coming from the Apollo GraphQL SDK for Android, version 2.5.12. I have also not been able to reproduce it. It seems to be similar to this issue: <a href=\"https://github.com/awslabs/aws-mobile-appsync-sdk-android/issues/153\" rel=\"nofollow noreferrer\">https://github.com/awslabs/aws-mobile-appsync-sdk-android/issues/153</a>. Though, that issue is from RealAppSync, not Apollo.</p>\n<p>Because Apollo uses callbacks, is it even possible to catch and handle this IllegalStateException in our codebase? Below is the stacktrace.</p>\n<pre><code>Fatal Exception: java.lang.IllegalStateException\nFound: TERMINATED, but expected [ACTIVE, CANCELED]\n\ncom.apollographql.apollo.internal.RealApolloCall.responseCallback (RealApolloCall.java:367)\ncom.apollographql.apollo.internal.RealApolloCall$1.onFetch (RealApolloCall.java:287)\ncom.apollographql.apollo.internal.fetcher.CacheFirstFetcher$CacheFirstInterceptor$1.onFetch (CacheFirstFetcher.java:48)\ncom.apollographql.apollo.internal.interceptor.ApolloCacheInterceptor$1.run (ApolloCacheInterceptor.java:60)\njava.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1167)\njava.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:641)\njava.lang.Thread.run (Thread.java:923)\n</code></pre>\n"},{"tags":["java","swing","text","rendering","graphics2d"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1666194223,"post_id":74127805,"comment_id":130879448,"body_markdown":"I don&#39;t think the problem is related to text rendering. You said yourself images are also affected. I think you have an issue with the scale/resolution, which causes it to believe it has a different resolution than what it has.","body":"I don&#39;t think the problem is related to text rendering. You said yourself images are also affected. I think you have an issue with the scale/resolution, which causes it to believe it has a different resolution than what it has."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1666194667,"post_id":74127805,"comment_id":130879608,"body_markdown":"The issue is after the fact scaling.  The solution, as you said, is to disable scaling and design Swing GUIs to use larger font sizes.","body":"The issue is after the fact scaling.  The solution, as you said, is to disable scaling and design Swing GUIs to use larger font sizes."},{"owner":{"account_id":16634106,"reputation":552,"user_id":12363469,"display_name":"Campbell"},"score":0,"creation_date":1666195232,"post_id":74127805,"comment_id":130879837,"body_markdown":"@GilbertLeBlanc is there any way to improve the scaling, or change where in the rendering pipeline scaling occurs (i.e. before AA vs after)? It&#39;s not really feasible to redesign the whole GUI as the application has a lot of windows.","body":"@GilbertLeBlanc is there any way to improve the scaling, or change where in the rendering pipeline scaling occurs (i.e. before AA vs after)? It&#39;s not really feasible to redesign the whole GUI as the application has a lot of windows."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1666213983,"post_id":74127805,"comment_id":130885863,"body_markdown":"You shouldn&#39;t have to redesign the whole GUI.  What happens if you go and change all of the Swing comp[onents to a 16 point font?","body":"You shouldn&#39;t have to redesign the whole GUI.  What happens if you go and change all of the Swing comp[onents to a 16 point font?"},{"owner":{"account_id":84493,"reputation":1255,"user_id":236152,"display_name":"Anthony"},"score":0,"creation_date":1666217813,"post_id":74127805,"comment_id":130886796,"body_markdown":"Yesterday, I posted an example on how to create a component without the HiDPI zoom: https://stackoverflow.com/questions/74112645/jcomponent-for-images-with-no-zoom-for-hidpi . Maybe this can help you.","body":"Yesterday, I posted an example on how to create a component without the HiDPI zoom: <a href=\"https://stackoverflow.com/questions/74112645/jcomponent-for-images-with-no-zoom-for-hidpi\" title=\"jcomponent for images with no zoom for hidpi\">stackoverflow.com/questions/74112645/&hellip;</a> . Maybe this can help you."}],"owner":{"account_id":16634106,"reputation":552,"user_id":12363469,"display_name":"Campbell"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666193195,"creation_date":1666192241,"question_id":74127805,"body_markdown":"I am working on an app that has a Swing user interface. Text is being written to the window with a `Graphics2D` object (specifically `SunGraphics2D`) using the `drawString` method.\r\n\r\nI have an issue where on high DPI displays some of the text renders very poorly, for example on a 4K monitor set to 150% scale.\r\n\r\nThe rendering can be improved by using `-Dsun.java2d.uiScale=1.0`, but this is simply disabling scaling, so everything is tiny.\r\n\r\nIf I had to guess what was happening, I would say that the graphics is being rendered at 1.0 scale, anti-aliasing is being applied, and then it is being scaled 1.5 times using [Nearest Neighbour Interpolation][1]. My reasoning for this is that it appears as though sometimes &quot;anti-aliased pixels&quot; (i.e. for black text, the light grey ones) are sampled for the scaling operation, which causes specific letters to be rendered unusually.\r\n\r\nFor example, this image shows the string &quot;123&quot; (I have enlarged it by 200% to make the issue more obvious):\r\n\r\n[![Image of string &quot;123&quot; enlarged by 200%][2]][2]\r\n\r\nAs you can see the line that makes up the bottom of the &quot;2&quot; is 1px high, but the anti-aliasing is 2px high.\r\n\r\nAnother example with the string &quot;555&quot;, where the base of the &quot;5&quot; is again very skinny:\r\n\r\n[![Image of string &quot;555&quot; enlarged by 200%][3]][3]\r\n\r\nInterestingly this doesn&#39;t affect all text, for example the text on `JButton` and `JLabel` objects renders at the correct scale and looks good:\r\n\r\n[![A button with the text &quot;Columns&quot;][4]][4]\r\n\r\nThis issue does also affect images which are rendered within the window, but I am not very familiar with the image rendering classes of this particular application, so I cannot provide more info, other than to say this might point to the Graphics object being the issue.\r\n\r\nI have tried to create a minimum example of the issue, but unfortunately when I create a brand new project the text renders perfectly, so it seems that this issue is specific to the application I am working on, which had many thousands of lines of code.\r\n\r\nIs there something I should be looking into or trying? Perhaps there is a &quot;Scaling Mode&quot; for the graphics object, which is set to &quot;Nearest Neighbour&quot; or something like that?\r\n\r\nI have tried to use a few `RenderingHints` such as `RenderingHints.VALUE_FRACTIONALMETRICS_ON`, but that didn&#39;t make any difference.\r\n\r\nJDK is Eclipse Temurin 11.\r\n\r\nEdit:\r\n\r\nIn case it is helpful, here are the RenderingHints being used:\r\n[![RenderingHints][5]][5]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Nearest-neighbor_interpolation\r\n  [2]: https://i.stack.imgur.com/vE6AZ.png\r\n  [3]: https://i.stack.imgur.com/UjEbx.png\r\n  [4]: https://i.stack.imgur.com/N53ZB.png\r\n  [5]: https://i.stack.imgur.com/QQ0h1.png","title":"Java Graphics2D low quality rendering on high-DPI display","body":"<p>I am working on an app that has a Swing user interface. Text is being written to the window with a <code>Graphics2D</code> object (specifically <code>SunGraphics2D</code>) using the <code>drawString</code> method.</p>\n<p>I have an issue where on high DPI displays some of the text renders very poorly, for example on a 4K monitor set to 150% scale.</p>\n<p>The rendering can be improved by using <code>-Dsun.java2d.uiScale=1.0</code>, but this is simply disabling scaling, so everything is tiny.</p>\n<p>If I had to guess what was happening, I would say that the graphics is being rendered at 1.0 scale, anti-aliasing is being applied, and then it is being scaled 1.5 times using <a href=\"https://en.wikipedia.org/wiki/Nearest-neighbor_interpolation\" rel=\"nofollow noreferrer\">Nearest Neighbour Interpolation</a>. My reasoning for this is that it appears as though sometimes &quot;anti-aliased pixels&quot; (i.e. for black text, the light grey ones) are sampled for the scaling operation, which causes specific letters to be rendered unusually.</p>\n<p>For example, this image shows the string &quot;123&quot; (I have enlarged it by 200% to make the issue more obvious):</p>\n<p><a href=\"https://i.stack.imgur.com/vE6AZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vE6AZ.png\" alt=\"Image of string &quot;123&quot; enlarged by 200%\" /></a></p>\n<p>As you can see the line that makes up the bottom of the &quot;2&quot; is 1px high, but the anti-aliasing is 2px high.</p>\n<p>Another example with the string &quot;555&quot;, where the base of the &quot;5&quot; is again very skinny:</p>\n<p><a href=\"https://i.stack.imgur.com/UjEbx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UjEbx.png\" alt=\"Image of string &quot;555&quot; enlarged by 200%\" /></a></p>\n<p>Interestingly this doesn't affect all text, for example the text on <code>JButton</code> and <code>JLabel</code> objects renders at the correct scale and looks good:</p>\n<p><a href=\"https://i.stack.imgur.com/N53ZB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N53ZB.png\" alt=\"A button with the text &quot;Columns&quot;\" /></a></p>\n<p>This issue does also affect images which are rendered within the window, but I am not very familiar with the image rendering classes of this particular application, so I cannot provide more info, other than to say this might point to the Graphics object being the issue.</p>\n<p>I have tried to create a minimum example of the issue, but unfortunately when I create a brand new project the text renders perfectly, so it seems that this issue is specific to the application I am working on, which had many thousands of lines of code.</p>\n<p>Is there something I should be looking into or trying? Perhaps there is a &quot;Scaling Mode&quot; for the graphics object, which is set to &quot;Nearest Neighbour&quot; or something like that?</p>\n<p>I have tried to use a few <code>RenderingHints</code> such as <code>RenderingHints.VALUE_FRACTIONALMETRICS_ON</code>, but that didn't make any difference.</p>\n<p>JDK is Eclipse Temurin 11.</p>\n<p>Edit:</p>\n<p>In case it is helpful, here are the RenderingHints being used:\n<a href=\"https://i.stack.imgur.com/QQ0h1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QQ0h1.png\" alt=\"RenderingHints\" /></a></p>\n"},{"tags":["java","spring","cron","java-time"],"answers":[{"comments":[{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":1,"creation_date":1666087895,"post_id":61176332,"comment_id":130847105,"body_markdown":"CronSequenceGenerator is deprecated as of 5.3, in favour of CronExpression.parse(String). Usage of the new API to achieve the same thing is very similar.","body":"CronSequenceGenerator is deprecated as of 5.3, in favour of CronExpression.parse(String). Usage of the new API to achieve the same thing is very similar."},{"owner":{"account_id":8460659,"reputation":2301,"user_id":6346531,"display_name":"aksh1618"},"score":0,"creation_date":1666193356,"post_id":61176332,"comment_id":130879113,"body_markdown":"Thanks for pointing it out @Tarmo, I&#39;ve updated the answer (and also my code xD)","body":"Thanks for pointing it out @Tarmo, I&#39;ve updated the answer (and also my code xD)"},{"owner":{"account_id":2201246,"reputation":833,"user_id":1945596,"display_name":"Ankit Batra"},"score":0,"creation_date":1689839793,"post_id":61176332,"comment_id":135270970,"body_markdown":"If somebody is stuck with an earlier version of Spring, beware that `CronSequenceGenerator` does not work all the time. For example, try `0 0/40 * ? * *` with the code that @aksh1618 shared. It returns 20 min.","body":"If somebody is stuck with an earlier version of Spring, beware that <code>CronSequenceGenerator</code> does not work all the time. For example, try <code>0 0&#47;40 * ? * *</code> with the code that @aksh1618 shared. It returns 20 min."}],"tags":[],"owner":{"account_id":8460659,"reputation":2301,"user_id":6346531,"display_name":"aksh1618"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1666193194,"creation_date":1586716546,"answer_id":61176332,"question_id":61176331,"body_markdown":"### Spring specific solution:\r\n\r\nSpring provides a [`CronExpression`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronExpression.html) class which can be used to [parse](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronExpression.html#parse-java.lang.String-) a cron expression and get the [next](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronExpression.html#next-T-) `Temporal` instance at which it will be triggered after the provided `Temporal`.\r\n\r\nSo to get a `Duration`:\r\n\r\n```java\r\nCronExpression cronExpression = CronExpression.parse(scheduledTaskCron);\r\nLocalDateTime nextExecution = cronExpression.next(LocalDateTime.now());\r\nLocalDateTime nextToNextExecution = cronExpression.next(nextExecution);\r\nDuration durationBetweenExecutions = Duration.between(\r\n        nextExecution, nextToNextExecution\r\n);\r\n```\r\n\r\nNote that `Instant` can&#39;t be used as the `Temporal` here, as it can&#39;t represent all the components of a cron expression, such as `Day of Week`, giving the following exception:\r\n\r\n```\r\njava.time.temporal.UnsupportedTemporalTypeException: Unsupported field: DayOfWeek\r\n\tat java.base/java.time.Instant.get(Instant.java:565)\r\n\tat org.springframework.scheduling.support.CronField$Type.get(CronField.java:200)\r\n\tat org.springframework.scheduling.support.BitsCronField.nextOrSame(BitsCronField.java:180)\r\n\tat org.springframework.scheduling.support.CronExpression.nextOrSameInternal(CronExpression.java:264)\r\n\tat org.springframework.scheduling.support.CronExpression.nextOrSame(CronExpression.java:252)\r\n\tat org.springframework.scheduling.support.CronExpression.next(CronExpression.java:245)\r\n```\r\n\r\n---\r\nOriginal answer for spring versions &lt; 5.3\r\n\r\nSpring provides a [`CronSequenceGenerator`](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/support/CronSequenceGenerator.html) which can be used to parse a cron expression and get the [next](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/support/CronSequenceGenerator.html#next-java.util.Date-) `Date` instance at which it will be triggered after the provided `Date`.\r\n\r\nSo to get a `Duration`:\r\n\r\n```java\r\nCronSequenceGenerator generator = new CronSequenceGenerator(scheduledTaskCron);\r\nDate nextExecution = generator.next(new Date());\r\nDate nextToNextExecution = generator.next(nextExecution);\r\nDuration durationBetweenExecutions = Duration.between(\r\n        nextExecution.toInstant(), nextToNextExecution.toInstant()\r\n);\r\n```\r\n","title":"How do I get a Java Duration from a cron expression?","body":"<h3>Spring specific solution:</h3>\n<p>Spring provides a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronExpression.html\" rel=\"nofollow noreferrer\"><code>CronExpression</code></a> class which can be used to <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronExpression.html#parse-java.lang.String-\" rel=\"nofollow noreferrer\">parse</a> a cron expression and get the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronExpression.html#next-T-\" rel=\"nofollow noreferrer\">next</a> <code>Temporal</code> instance at which it will be triggered after the provided <code>Temporal</code>.</p>\n<p>So to get a <code>Duration</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CronExpression cronExpression = CronExpression.parse(scheduledTaskCron);\nLocalDateTime nextExecution = cronExpression.next(LocalDateTime.now());\nLocalDateTime nextToNextExecution = cronExpression.next(nextExecution);\nDuration durationBetweenExecutions = Duration.between(\n        nextExecution, nextToNextExecution\n);\n</code></pre>\n<p>Note that <code>Instant</code> can't be used as the <code>Temporal</code> here, as it can't represent all the components of a cron expression, such as <code>Day of Week</code>, giving the following exception:</p>\n<pre><code>java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: DayOfWeek\n    at java.base/java.time.Instant.get(Instant.java:565)\n    at org.springframework.scheduling.support.CronField$Type.get(CronField.java:200)\n    at org.springframework.scheduling.support.BitsCronField.nextOrSame(BitsCronField.java:180)\n    at org.springframework.scheduling.support.CronExpression.nextOrSameInternal(CronExpression.java:264)\n    at org.springframework.scheduling.support.CronExpression.nextOrSame(CronExpression.java:252)\n    at org.springframework.scheduling.support.CronExpression.next(CronExpression.java:245)\n</code></pre>\n<hr />\n<p>Original answer for spring versions &lt; 5.3</p>\n<p>Spring provides a <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/support/CronSequenceGenerator.html\" rel=\"nofollow noreferrer\"><code>CronSequenceGenerator</code></a> which can be used to parse a cron expression and get the <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/support/CronSequenceGenerator.html#next-java.util.Date-\" rel=\"nofollow noreferrer\">next</a> <code>Date</code> instance at which it will be triggered after the provided <code>Date</code>.</p>\n<p>So to get a <code>Duration</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CronSequenceGenerator generator = new CronSequenceGenerator(scheduledTaskCron);\nDate nextExecution = generator.next(new Date());\nDate nextToNextExecution = generator.next(nextExecution);\nDuration durationBetweenExecutions = Duration.between(\n        nextExecution.toInstant(), nextToNextExecution.toInstant()\n);\n</code></pre>\n"}],"owner":{"account_id":8460659,"reputation":2301,"user_id":6346531,"display_name":"aksh1618"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1867,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":61176332,"answer_count":1,"score":3,"last_activity_date":1666193194,"creation_date":1586716546,"question_id":61176331,"body_markdown":"I have a scheduled task in a spring boot application:\r\n\r\n```java\r\n@Scheduled(fixedRateString = &quot;${scheduled.task.rate}&quot;)\r\npublic void runScheduledTask() {\r\n    // ...\r\n}\r\n```\r\n\r\nWith a corresponding test:\r\n\r\n```java\r\n@Test\r\npublic void test_scheduledTask_runs() {\r\n    await().atMost(Duration.ofMillis(scheduledTaskRate).multipliedBy(2)).untilAsserted(() -&gt; {\r\n        Mockito.verify(scheduledTasks, Mockito.atLeastOnce()).runScheduledTask();\r\n    });\r\n}\r\n```\r\n\r\nNow I want to use a cron instead of a fixed rate:\r\n\r\n```java\r\n@Scheduled(cron = &quot;${scheduled.task.cron}&quot;)\r\n```\r\n\r\nNow I need to adapt the test to this. How do get a `Duration` object corresponding to the frequency of the cron expression?","title":"How do I get a Java Duration from a cron expression?","body":"<p>I have a scheduled task in a spring boot application:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(fixedRateString = \"${scheduled.task.rate}\")\npublic void runScheduledTask() {\n    // ...\n}\n</code></pre>\n\n<p>With a corresponding test:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void test_scheduledTask_runs() {\n    await().atMost(Duration.ofMillis(scheduledTaskRate).multipliedBy(2)).untilAsserted(() -&gt; {\n        Mockito.verify(scheduledTasks, Mockito.atLeastOnce()).runScheduledTask();\n    });\n}\n</code></pre>\n\n<p>Now I want to use a cron instead of a fixed rate:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(cron = \"${scheduled.task.cron}\")\n</code></pre>\n\n<p>Now I need to adapt the test to this. How do get a <code>Duration</code> object corresponding to the frequency of the cron expression?</p>\n"},{"tags":["java","spring-boot","weblogic"],"answers":[{"comments":[{"owner":{"account_id":1171077,"reputation":578,"user_id":1148258,"accept_rate":67,"display_name":"Debojit"},"score":0,"creation_date":1666169132,"post_id":74119362,"comment_id":130869465,"body_markdown":"Could you please elaborate a little on the `./config/moph-excel-loader.yml` file you&#39;ve referenced in `web.xml`?","body":"Could you please elaborate a little on the <code>.&#47;config&#47;moph-excel-loader.yml</code> file you&#39;ve referenced in <code>web.xml</code>?"},{"owner":{"account_id":1171077,"reputation":578,"user_id":1148258,"accept_rate":67,"display_name":"Debojit"},"score":0,"creation_date":1666169765,"post_id":74119362,"comment_id":130869710,"body_markdown":"Additionally, I&#39;m getting a compiler error for the Async config class you&#39;d specified:\n`Error creating bean with name &#39;getAsyncExecutor&#39; defined in class path resource [nom/side/xls/config/AsyncConfig.class]: Invocation of init method failed; nested exception is javax.naming.NoInitialContextException: Need to specify class name in environment or system property, or in an application resource file: java.naming.factory.initial`","body":"Additionally, I&#39;m getting a compiler error for the Async config class you&#39;d specified: <code>Error creating bean with name &#39;getAsyncExecutor&#39; defined in class path resource [nom&#47;side&#47;xls&#47;config&#47;AsyncConfig.class]: Invocation of init method failed; nested exception is javax.naming.NoInitialContextException: Need to specify class name in environment or system property, or in an application resource file: java.naming.factory.initial</code>"},{"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"score":0,"creation_date":1666191571,"post_id":74119362,"comment_id":130878327,"body_markdown":"the spring.config.additional-location context-param in the web.xml configures an external properties or yaml file that spring boot reads when the application starts up.","body":"the spring.config.additional-location context-param in the web.xml configures an external properties or yaml file that spring boot reads when the application starts up."},{"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"score":0,"creation_date":1666191675,"post_id":74119362,"comment_id":130878378,"body_markdown":"When you get the javax.naming.NoInitialContextException are you running in weblogic or tomcat?  What does your @SpringBootApplication class look like?","body":"When you get the javax.naming.NoInitialContextException are you running in weblogic or tomcat?  What does your @SpringBootApplication class look like?"},{"owner":{"account_id":1171077,"reputation":578,"user_id":1148258,"accept_rate":67,"display_name":"Debojit"},"score":0,"creation_date":1666192101,"post_id":74119362,"comment_id":130878574,"body_markdown":"The `javax.naming.NoInitialContextException` is thrown during `mvn install`.I&#39;ve added the main class to my original post. Also, I&#39;m getting a file not found exception from WebLogic when I deploy without the YAML file. A sample would be most appreciated. I&#39;m rather new to Spring Boot.","body":"The <code>javax.naming.NoInitialContextException</code> is thrown during <code>mvn install</code>.I&#39;ve added the main class to my original post. Also, I&#39;m getting a file not found exception from WebLogic when I deploy without the YAML file. A sample would be most appreciated. I&#39;m rather new to Spring Boot."},{"owner":{"account_id":1171077,"reputation":578,"user_id":1148258,"accept_rate":67,"display_name":"Debojit"},"score":0,"creation_date":1666203786,"post_id":74119362,"comment_id":130882683,"body_markdown":"I&#39;m afraid I am still getting the `javax.naming.NoInitialContextException` error on `mvn install` after making the changes to the Application class. It seems that the moment I declare the `DefaultManagedTaskExecutor` bean, the code refuses to compile.","body":"I&#39;m afraid I am still getting the <code>javax.naming.NoInitialContextException</code> error on <code>mvn install</code> after making the changes to the Application class. It seems that the moment I declare the <code>DefaultManagedTaskExecutor</code> bean, the code refuses to compile."},{"owner":{"account_id":1171077,"reputation":578,"user_id":1148258,"accept_rate":67,"display_name":"Debojit"},"score":0,"creation_date":1666203917,"post_id":74119362,"comment_id":130882736,"body_markdown":"An additional question, if you don&#39;t mind: Is this approach incompatible with `@Async` methods and `CompletableFuture` method returns? The data processing has steps, and only the first two are sequential, the last three can be run in parallel.","body":"An additional question, if you don&#39;t mind: Is this approach incompatible with <code>@Async</code> methods and <code>CompletableFuture</code> method returns? The data processing has steps, and only the first two are sequential, the last three can be run in parallel."},{"owner":{"account_id":1171077,"reputation":578,"user_id":1148258,"accept_rate":67,"display_name":"Debojit"},"score":0,"creation_date":1666203977,"post_id":74119362,"comment_id":130882755,"body_markdown":"Lasly, here&#39;s the pre-WebLogic code in Github for your perusal: https://github.com/Debojit/excel-file-converter","body":"Lasly, here&#39;s the pre-WebLogic code in Github for your perusal: <a href=\"https://github.com/Debojit/excel-file-converter\" rel=\"nofollow noreferrer\">github.com/Debojit/excel-file-converter</a>"},{"owner":{"account_id":1171077,"reputation":578,"user_id":1148258,"accept_rate":67,"display_name":"Debojit"},"score":0,"creation_date":1666243868,"post_id":74119362,"comment_id":130890685,"body_markdown":"I&#39;m afraid I&#39;m still gettng the `javax.naming.NoInitialContextException` after all of the provided instructions. Please advise.","body":"I&#39;m afraid I&#39;m still gettng the <code>javax.naming.NoInitialContextException</code> after all of the provided instructions. Please advise."}],"tags":[],"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666193176,"creation_date":1666148030,"answer_id":74119362,"question_id":74119142,"body_markdown":"If you&#39;re launching a long running task in weblogic from a spring boot app, you should configure a TaskExecutor so weblogic can manage the thread running the task and also doesn&#39;t classify it as a stuck thread if it is processing for a long time and can shutdown the thread if the server is shutdown.\r\n\r\nYou can configure a task executor in your weblogic.xml like this...\r\n\r\n    &lt;wls:weblogic-web-app xmlns:wls=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app         http://xmlns.oracle.com/weblogic/weblogic-web-app/1.4/weblogic-web-app.xsd&quot;&gt;\r\n      &lt;wls:context-root&gt;moph-excel-loader&lt;/wls:context-root&gt;\r\n      &lt;wls:container-descriptor&gt;\r\n        &lt;wls:prefer-application-packages&gt;\r\n          &lt;wls:package-name&gt;org.slf4j.*&lt;/wls:package-name&gt;\r\n          &lt;wls:package-name&gt;org.springframework.*&lt;/wls:package-name&gt;\r\n        &lt;/wls:prefer-application-packages&gt;\r\n      &lt;/wls:container-descriptor&gt;\r\n    \r\n      &lt;work-manager&gt;\r\n        &lt;name&gt;moph-excel-loader-wm&lt;/name&gt;\r\n        &lt;max-threads-constraint&gt;\r\n          &lt;name&gt;moph-excel-loader-max-threads&lt;/name&gt;\r\n          &lt;count&gt;10&lt;/count&gt;\r\n        &lt;/max-threads-constraint&gt;\r\n        &lt;ignore-stuck-threads&gt;true&lt;/ignore-stuck-threads&gt;\r\n      &lt;/work-manager&gt;\r\n      \r\n      &lt;managed-executor-service&gt;\r\n        &lt;name&gt;moph-excel-loader-executor&lt;/name&gt;\r\n        &lt;dispatch-policy&gt;moph-excel-loader-wm&lt;/dispatch-policy&gt;\r\n        &lt;long-running-priority&gt;10&lt;/long-running-priority&gt;\r\n        &lt;max-concurrent-long-running-requests&gt;2&lt;/max-concurrent-long-running-requests&gt;\r\n      &lt;/managed-executor-service&gt;\r\n      \r\n      &lt;resource-env-description&gt;\r\n        &lt;resource-env-ref-name&gt;concurrent/moph-excel-loader-executor&lt;/resource-env-ref-name&gt;\r\n        &lt;resource-link&gt;moph-excel-loader-executor&lt;/resource-link&gt;\r\n      &lt;/resource-env-description&gt;\r\n      \r\n    &lt;/wls:weblogic-web-app&gt;\r\n\r\nThen in your web.xml you create a reference to it...\r\n\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n      xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\r\n    \t\t  http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; version=&quot;3.0&quot;&gt;\r\n    \r\n      &lt;context-param&gt;\r\n        &lt;param-name&gt;spring.config.additional-location&lt;/param-name&gt;\r\n        &lt;param-value&gt;file:./config/moph-excel-loader.yml&lt;/param-value&gt;\r\n      &lt;/context-param&gt;\r\n    \r\n      &lt;resource-env-ref&gt;\r\n        &lt;resource-env-ref-name&gt;concurrent/moph-excel-loader-executor&lt;/resource-env-ref-name&gt;\r\n        &lt;resource-env-ref-type&gt;javax.enterprise.concurrent.ManagedExecutorService&lt;/resource-env-ref-type&gt;\r\n      &lt;/resource-env-ref&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\nand then you can create the TaskExecutor bean from a `@Configuration` class...\r\n\r\n    @Configuration\r\n    public class MophExcelLoaderConfig {\r\n    \r\n    \t@Bean\r\n    \tpublic DefaultManagedTaskExecutor batchTaskExecutor() {\r\n    \t\tDefaultManagedTaskExecutor taskExecutor = new DefaultManagedTaskExecutor();\r\n    \t\ttaskExecutor.setJndiName(&quot;java:comp/env/concurrent/moph-excel-loader-executor&quot;);\r\n    \t\treturn taskExecutor;\r\n    \t}\r\n    }\r\n\r\nFor the long running task, create a `SchedulingAwareRunnable` that returns `true` from the `isLongLived` method, so weblogic is aware its a long running task and will create a daemon thread to run the task instead of taking a thread out of the thread pool...\r\n\r\n    public class LongLivedRunnable implements SchedulingAwareRunnable, ManagedTask {\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\t// do the work here\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isLongLived() {\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    }\r\n\r\nThen to run the task, you use the ManagedTaskExecutor...\r\n\r\n    @Service\r\n    public class JobLauncher  {\r\n    \r\n    \t@Autowired\r\n    \tprivate DefaultManagedTaskExecutor batchTaskExecutor;\r\n    \r\n    \t@Override\r\n    \tpublic void runLongRunningTask() {\r\n    \t\tRunnable task = new LongLivedRunnable ();\r\n    \t\tbatchTaskExecutor.execute(task);\r\n    \t}\r\n    }\r\n\r\nThat&#39;s the general idea.  I&#39;ve been doing this to run long running spring batch jobs within weblogic.\r\n\r\nWhen deploying a spring boot app in weblogic as a war file, your @SpringBootApplication class should extend the `SpringBootServletInitializer`.  eg.\r\n\r\n    @SpringBootApplication\r\n    public class ExcelFileLoaderApplication  extends SpringBootServletInitializer  {\r\n    \r\n        @Override\r\n        protected SpringApplicationBuilder configure(\r\n                SpringApplicationBuilder application) {\r\n            return application.sources(ExcelFileLoaderApplication.class);\r\n        }\r\n    \r\n    \r\n        public static void main(\r\n                String[] args) throws Exception {\r\n            SpringApplication.run(ExcelFileLoaderApplication.class, args);\r\n        }\r\n    \r\n    }\r\n\r\nIf you are running tests using spring boot and embedded tomcat, you need to provide a different application class to use for your tests that looks like your original `ExcelFileLoaderApplication` class.  Also if testing using tomcat, you would use a standard `ThreadPoolTaskExecutor` instead of the `DefaultManagedTaskExecutor`  (you can achieve that by having separate  AsyncConfig classes; one for testing using embedded tomcat and one for packing in the war file deployed to weblogic).\r\n\r\nYou should specify the spring-boot-starter-tomcat dependency as `provided` so weblogic uses it&#39;s servlet classes...\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Spring Boot Application Stuck on WebLogic","body":"<p>If you're launching a long running task in weblogic from a spring boot app, you should configure a TaskExecutor so weblogic can manage the thread running the task and also doesn't classify it as a stuck thread if it is processing for a long time and can shutdown the thread if the server is shutdown.</p>\n<p>You can configure a task executor in your weblogic.xml like this...</p>\n<pre><code>&lt;wls:weblogic-web-app xmlns:wls=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app         http://xmlns.oracle.com/weblogic/weblogic-web-app/1.4/weblogic-web-app.xsd&quot;&gt;\n  &lt;wls:context-root&gt;moph-excel-loader&lt;/wls:context-root&gt;\n  &lt;wls:container-descriptor&gt;\n    &lt;wls:prefer-application-packages&gt;\n      &lt;wls:package-name&gt;org.slf4j.*&lt;/wls:package-name&gt;\n      &lt;wls:package-name&gt;org.springframework.*&lt;/wls:package-name&gt;\n    &lt;/wls:prefer-application-packages&gt;\n  &lt;/wls:container-descriptor&gt;\n\n  &lt;work-manager&gt;\n    &lt;name&gt;moph-excel-loader-wm&lt;/name&gt;\n    &lt;max-threads-constraint&gt;\n      &lt;name&gt;moph-excel-loader-max-threads&lt;/name&gt;\n      &lt;count&gt;10&lt;/count&gt;\n    &lt;/max-threads-constraint&gt;\n    &lt;ignore-stuck-threads&gt;true&lt;/ignore-stuck-threads&gt;\n  &lt;/work-manager&gt;\n  \n  &lt;managed-executor-service&gt;\n    &lt;name&gt;moph-excel-loader-executor&lt;/name&gt;\n    &lt;dispatch-policy&gt;moph-excel-loader-wm&lt;/dispatch-policy&gt;\n    &lt;long-running-priority&gt;10&lt;/long-running-priority&gt;\n    &lt;max-concurrent-long-running-requests&gt;2&lt;/max-concurrent-long-running-requests&gt;\n  &lt;/managed-executor-service&gt;\n  \n  &lt;resource-env-description&gt;\n    &lt;resource-env-ref-name&gt;concurrent/moph-excel-loader-executor&lt;/resource-env-ref-name&gt;\n    &lt;resource-link&gt;moph-excel-loader-executor&lt;/resource-link&gt;\n  &lt;/resource-env-description&gt;\n  \n&lt;/wls:weblogic-web-app&gt;\n</code></pre>\n<p>Then in your web.xml you create a reference to it...</p>\n<pre><code>&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n  xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\n          http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; version=&quot;3.0&quot;&gt;\n\n  &lt;context-param&gt;\n    &lt;param-name&gt;spring.config.additional-location&lt;/param-name&gt;\n    &lt;param-value&gt;file:./config/moph-excel-loader.yml&lt;/param-value&gt;\n  &lt;/context-param&gt;\n\n  &lt;resource-env-ref&gt;\n    &lt;resource-env-ref-name&gt;concurrent/moph-excel-loader-executor&lt;/resource-env-ref-name&gt;\n    &lt;resource-env-ref-type&gt;javax.enterprise.concurrent.ManagedExecutorService&lt;/resource-env-ref-type&gt;\n  &lt;/resource-env-ref&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p>and then you can create the TaskExecutor bean from a <code>@Configuration</code> class...</p>\n<pre><code>@Configuration\npublic class MophExcelLoaderConfig {\n\n    @Bean\n    public DefaultManagedTaskExecutor batchTaskExecutor() {\n        DefaultManagedTaskExecutor taskExecutor = new DefaultManagedTaskExecutor();\n        taskExecutor.setJndiName(&quot;java:comp/env/concurrent/moph-excel-loader-executor&quot;);\n        return taskExecutor;\n    }\n}\n</code></pre>\n<p>For the long running task, create a <code>SchedulingAwareRunnable</code> that returns <code>true</code> from the <code>isLongLived</code> method, so weblogic is aware its a long running task and will create a daemon thread to run the task instead of taking a thread out of the thread pool...</p>\n<pre><code>public class LongLivedRunnable implements SchedulingAwareRunnable, ManagedTask {\n\n    @Override\n    public void run() {\n        // do the work here\n    }\n\n    @Override\n    public boolean isLongLived() {\n        return true;\n    }\n\n}\n</code></pre>\n<p>Then to run the task, you use the ManagedTaskExecutor...</p>\n<pre><code>@Service\npublic class JobLauncher  {\n\n    @Autowired\n    private DefaultManagedTaskExecutor batchTaskExecutor;\n\n    @Override\n    public void runLongRunningTask() {\n        Runnable task = new LongLivedRunnable ();\n        batchTaskExecutor.execute(task);\n    }\n}\n</code></pre>\n<p>That's the general idea.  I've been doing this to run long running spring batch jobs within weblogic.</p>\n<p>When deploying a spring boot app in weblogic as a war file, your @SpringBootApplication class should extend the <code>SpringBootServletInitializer</code>.  eg.</p>\n<pre><code>@SpringBootApplication\npublic class ExcelFileLoaderApplication  extends SpringBootServletInitializer  {\n\n    @Override\n    protected SpringApplicationBuilder configure(\n            SpringApplicationBuilder application) {\n        return application.sources(ExcelFileLoaderApplication.class);\n    }\n\n\n    public static void main(\n            String[] args) throws Exception {\n        SpringApplication.run(ExcelFileLoaderApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>If you are running tests using spring boot and embedded tomcat, you need to provide a different application class to use for your tests that looks like your original <code>ExcelFileLoaderApplication</code> class.  Also if testing using tomcat, you would use a standard <code>ThreadPoolTaskExecutor</code> instead of the <code>DefaultManagedTaskExecutor</code>  (you can achieve that by having separate  AsyncConfig classes; one for testing using embedded tomcat and one for packing in the war file deployed to weblogic).</p>\n<p>You should specify the spring-boot-starter-tomcat dependency as <code>provided</code> so weblogic uses it's servlet classes...</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1171077,"reputation":578,"user_id":1148258,"accept_rate":67,"display_name":"Debojit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666193176,"creation_date":1666145238,"question_id":74119142,"body_markdown":"I have a Spring Boot REST API with 2 endpoints, one calls an Async service to start a long-running job, and another is a synchronous API to get the progress of the job. Job status is stored in a table. The APIs work fine when I run on the embedded tomcat, but the async method does not work on WLS, which is my target env. The sync method is working fine. My *weblogic.xml* file is as below:\r\n```xml\r\n&lt;wls:weblogic-web-app xmlns:wls=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app         http://xmlns.oracle.com/weblogic/weblogic-web-app/1.4/weblogic-web-app.xsd&quot;&gt;\r\n\r\n    &lt;wls:context-root&gt;moph-excel-loader&lt;/wls:context-root&gt;\r\n    &lt;wls:container-descriptor&gt;\r\n    \t&lt;wls:prefer-application-packages&gt;\r\n    \t\t&lt;wls:package-name&gt;org.slf4j.*&lt;/wls:package-name&gt;\r\n    \t\t&lt;wls:package-name&gt;org.springframework.*&lt;/wls:package-name&gt;\r\n    \t&lt;/wls:prefer-application-packages&gt;\r\n    &lt;/wls:container-descriptor&gt;\r\n&lt;/wls:weblogic-web-app&gt;\r\n```\r\n\r\nI&#39;m not getting any error messages from WLS or the application, it just hangs there. The synchronous API continues to work fine. I&#39;m not clear what the issue is here and would appreciate some guidance from the community.\r\n\r\nThanks,\r\n\r\n**EDIT 1:**\r\n\r\nI have my long running tasks run via a `ThreadPoolTaskExecutor` configued as a `@Bean`:\r\n```java\r\n@Configuration\r\n@EnableAsync\r\npublic class AsyncConfig{\r\n\t@Bean(name = &quot;asyncFileLoadExecutor&quot;)\r\n\tpublic Executor getAsyncExecutor() {\r\n\t\tThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n\t\texecutor.setCorePoolSize(2);\r\n\t\texecutor.setMaxPoolSize(10);\r\n\t\texecutor.setQueueCapacity(10);\r\n\t\texecutor.setThreadNamePrefix(&quot;xlconv-th-&quot;);\r\n\t\texecutor.initialize();\r\n\t\treturn executor;\r\n\t}\r\n}\r\n````\r\n\r\nAnd all my long-running `@Service` classes have methods annotated as `@Async`:\r\n\r\n```java\r\n@Service\r\npublic class FileLoaderService {\r\n\t\r\n\tprivate static final Logger LOGGER = LoggerFactory.getLogger(FileLoaderService.class);\r\n\t\r\n\t//Autowired services\r\n\t\r\n\t@Async(&quot;asyncFileLoadExecutor&quot;)\r\n\tpublic CompletableFuture&lt;Void&gt; loadFile(JobDto job, String fileName) throws IOException, OpenXML4JException, SAXException, ParserConfigurationException, ParseException {\r\n\t\t//Long running work.\r\n\t\t\r\n\t\treturn CompletableFuture.completedFuture(null);\r\n\t}\r\n}\r\n```\r\nThis one gets called from the `RESTController` class and calls other async services in turn to parallelize independent tasks.\r\n\r\n**EDIT 2:**\r\nMy main class looks like this:\r\n```java\r\n@SpringBootApplication(scanBasePackages = { &quot;nom.side.xls&quot; })\r\npublic class ExcelFileLoaderApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ExcelFileLoaderApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\nAnd this is my only controller class:\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/bulk-loader&quot;)\r\npublic class BulkLoadController {\r\n\t\r\n\tprivate static final Logger LOGGER = LoggerFactory.getLogger(BulkLoadController.class);\r\n\t@Autowired\r\n\tprivate FileLoaderService loaderService;\r\n\t\r\n\t@Autowired\r\n\tprivate JobManagerService jobManagerService;\r\n\t\r\n\t@PostMapping(consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n\tpublic JobDto load(@RequestBody Map&lt;String, String&gt; request) {\r\n\t\tJobDto job = jobManagerService.createJob(Paths.get(request.get(&quot;fileName&quot;)).getFileName().toString());\r\n\t\tLOGGER.info(&quot;[&quot; + job.getJobId() + &quot;] Parsing file &quot; + request.get(&quot;fileName&quot;));\r\n\t\t\r\n\t\ttry {\r\n\t\t\tloaderService.loadFile(job, request.get(&quot;fileName&quot;));\r\n\t\t} catch (IOException | OpenXML4JException | SAXException | ParserConfigurationException\r\n\t\t\t\t| ParseException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\treturn job;\r\n\t}\r\n\t\r\n    //This one works just fine\r\n\t@GetMapping(path = &quot;/jobs/{job-id}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n\tpublic JobDto progress(@PathVariable(name = &quot;job-id&quot;) long jobId) {\r\n\t\treturn jobManagerService.getJob(jobId)\r\n\t\t\t\t.orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;ERROR: Invalid Job ID &quot; + jobId + &quot;.&quot;));\r\n\t}\r\n}\r\n```","title":"Spring Boot Application Stuck on WebLogic","body":"<p>I have a Spring Boot REST API with 2 endpoints, one calls an Async service to start a long-running job, and another is a synchronous API to get the progress of the job. Job status is stored in a table. The APIs work fine when I run on the embedded tomcat, but the async method does not work on WLS, which is my target env. The sync method is working fine. My <em>weblogic.xml</em> file is as below:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;wls:weblogic-web-app xmlns:wls=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app         http://xmlns.oracle.com/weblogic/weblogic-web-app/1.4/weblogic-web-app.xsd&quot;&gt;\n\n    &lt;wls:context-root&gt;moph-excel-loader&lt;/wls:context-root&gt;\n    &lt;wls:container-descriptor&gt;\n        &lt;wls:prefer-application-packages&gt;\n            &lt;wls:package-name&gt;org.slf4j.*&lt;/wls:package-name&gt;\n            &lt;wls:package-name&gt;org.springframework.*&lt;/wls:package-name&gt;\n        &lt;/wls:prefer-application-packages&gt;\n    &lt;/wls:container-descriptor&gt;\n&lt;/wls:weblogic-web-app&gt;\n</code></pre>\n<p>I'm not getting any error messages from WLS or the application, it just hangs there. The synchronous API continues to work fine. I'm not clear what the issue is here and would appreciate some guidance from the community.</p>\n<p>Thanks,</p>\n<p><strong>EDIT 1:</strong></p>\n<p>I have my long running tasks run via a <code>ThreadPoolTaskExecutor</code> configued as a <code>@Bean</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableAsync\npublic class AsyncConfig{\n    @Bean(name = &quot;asyncFileLoadExecutor&quot;)\n    public Executor getAsyncExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(2);\n        executor.setMaxPoolSize(10);\n        executor.setQueueCapacity(10);\n        executor.setThreadNamePrefix(&quot;xlconv-th-&quot;);\n        executor.initialize();\n        return executor;\n    }\n}\n</code></pre>\n<p>And all my long-running <code>@Service</code> classes have methods annotated as <code>@Async</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class FileLoaderService {\n    \n    private static final Logger LOGGER = LoggerFactory.getLogger(FileLoaderService.class);\n    \n    //Autowired services\n    \n    @Async(&quot;asyncFileLoadExecutor&quot;)\n    public CompletableFuture&lt;Void&gt; loadFile(JobDto job, String fileName) throws IOException, OpenXML4JException, SAXException, ParserConfigurationException, ParseException {\n        //Long running work.\n        \n        return CompletableFuture.completedFuture(null);\n    }\n}\n</code></pre>\n<p>This one gets called from the <code>RESTController</code> class and calls other async services in turn to parallelize independent tasks.</p>\n<p><strong>EDIT 2:</strong>\nMy main class looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication(scanBasePackages = { &quot;nom.side.xls&quot; })\npublic class ExcelFileLoaderApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ExcelFileLoaderApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>And this is my only controller class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/bulk-loader&quot;)\npublic class BulkLoadController {\n    \n    private static final Logger LOGGER = LoggerFactory.getLogger(BulkLoadController.class);\n    @Autowired\n    private FileLoaderService loaderService;\n    \n    @Autowired\n    private JobManagerService jobManagerService;\n    \n    @PostMapping(consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public JobDto load(@RequestBody Map&lt;String, String&gt; request) {\n        JobDto job = jobManagerService.createJob(Paths.get(request.get(&quot;fileName&quot;)).getFileName().toString());\n        LOGGER.info(&quot;[&quot; + job.getJobId() + &quot;] Parsing file &quot; + request.get(&quot;fileName&quot;));\n        \n        try {\n            loaderService.loadFile(job, request.get(&quot;fileName&quot;));\n        } catch (IOException | OpenXML4JException | SAXException | ParserConfigurationException\n                | ParseException e) {\n            e.printStackTrace();\n        }\n        \n        return job;\n    }\n    \n    //This one works just fine\n    @GetMapping(path = &quot;/jobs/{job-id}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public JobDto progress(@PathVariable(name = &quot;job-id&quot;) long jobId) {\n        return jobManagerService.getJob(jobId)\n                .orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;ERROR: Invalid Job ID &quot; + jobId + &quot;.&quot;));\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":1268556,"reputation":48098,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":2,"creation_date":1611568505,"post_id":65882352,"comment_id":116484240,"body_markdown":"This is perfectly fine indeed :) The other patterns usually try to help to &quot;load only if necessary&quot;, but if you&#39;re fine with eager loading, then this will suit your needs. That&#39;s usually what I go for too when I need a singleton.","body":"This is perfectly fine indeed :) The other patterns usually try to help to &quot;load only if necessary&quot;, but if you&#39;re fine with eager loading, then this will suit your needs. That&#39;s usually what I go for too when I need a singleton."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1611568645,"post_id":65882352,"comment_id":116484301,"body_markdown":"&quot;I am testing it with the below code and working fine&quot; What are you trying to show with that test?","body":"&quot;I am testing it with the below code and working fine&quot; What are you trying to show with that test?"},{"owner":{"account_id":2337627,"reputation":803,"user_id":2049580,"display_name":"Bagesh Sharma"},"score":0,"creation_date":1611568844,"post_id":65882352,"comment_id":116484400,"body_markdown":"@AndyTurner I am printing the hashcode value from multiple threads and it&#39;s printing the same value from all threads. So I counting it as the same object.","body":"@AndyTurner I am printing the hashcode value from multiple threads and it&#39;s printing the same value from all threads. So I counting it as the same object."},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1611569450,"post_id":65882352,"comment_id":116484698,"body_markdown":"Also note that this can be effectively still lazy-loaded if you just don&#39;t put anything else in that class. Classes themselves are only loaded on demand as well.","body":"Also note that this can be effectively still lazy-loaded if you just don&#39;t put anything else in that class. Classes themselves are only loaded on demand as well."},{"owner":{"account_id":6588799,"reputation":2536,"user_id":5090758,"accept_rate":46,"display_name":"William Rosenbloom"},"score":0,"creation_date":1611570509,"post_id":65882352,"comment_id":116485161,"body_markdown":"@BageshSharma The answers you&#39;ve gotten are mostly correct, but you should be aware of a troublesome error I ran into a few months ago. See my answer for details.","body":"@BageshSharma The answers you&#39;ve gotten are mostly correct, but you should be aware of a troublesome error I ran into a few months ago. See my answer for details."},{"owner":{"account_id":2337627,"reputation":803,"user_id":2049580,"display_name":"Bagesh Sharma"},"score":1,"creation_date":1611590199,"post_id":65882352,"comment_id":116494584,"body_markdown":"@WilliamRosenbloom I have gone through your answer but did you get any root cause for that failure.","body":"@WilliamRosenbloom I have gone through your answer but did you get any root cause for that failure."},{"owner":{"account_id":4034876,"reputation":1557,"user_id":3319725,"display_name":"AnatolyG"},"score":0,"creation_date":1611756303,"post_id":65882352,"comment_id":116552754,"body_markdown":"You could look into this https://shipilev.net/blog/2014/safe-public-construction/","body":"You could look into this <a href=\"https://shipilev.net/blog/2014/safe-public-construction/\" rel=\"nofollow noreferrer\">shipilev.net/blog/2014/safe-public-construction</a>"}],"answers":[{"tags":[],"owner":{"account_id":20521115,"reputation":479,"user_id":15060680,"display_name":"Jens Baitinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1611572969,"creation_date":1611569038,"answer_id":65882576,"question_id":65882352,"body_markdown":"Your singleton is instantiated when the class is loaded, therefore when the main method is started, it is already instantiated and from a multithreading perspective is safe.\r\n\r\nBut there are some arguments why this might not be the best approach:\r\n\r\n - When instantiating your singleton throws an exception, you get a nasty classloading exception which is hard to analyze, especially when you don&#39;t have a debugger to attach.\r\n - When instantiating takes some time, so you might don&#39;t want to do this when the class is loaded in order to minimize the startup time of your application\r\n\r\nAnd additionally using singletons is not a good design as you hardcode the dependency between the client (that uses this class) and the implementation of this class. So it is hard to replace your implementation with a mock for testing. ","title":"Multithreaded Singleton","body":"<p>Your singleton is instantiated when the class is loaded, therefore when the main method is started, it is already instantiated and from a multithreading perspective is safe.</p>\n<p>But there are some arguments why this might not be the best approach:</p>\n<ul>\n<li>When instantiating your singleton throws an exception, you get a nasty classloading exception which is hard to analyze, especially when you don't have a debugger to attach.</li>\n<li>When instantiating takes some time, so you might don't want to do this when the class is loaded in order to minimize the startup time of your application</li>\n</ul>\n<p>And additionally using singletons is not a good design as you hardcode the dependency between the client (that uses this class) and the implementation of this class. So it is hard to replace your implementation with a mock for testing.</p>\n"},{"tags":[],"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666192622,"creation_date":1611569217,"answer_id":65882615,"question_id":65882352,"body_markdown":"It is perfectly fine and simple. Although you may check the trade offs listed below:\r\n\r\n\r\n&gt; 1. May lead to resource wastage. Because instance of class is created always, whether it is required or not.\r\n&gt;\r\n&gt; 2. CPU time is also wasted for creating the instance if it is not required.\r\n&gt;\r\n&gt; 3. Exception handling is not possible.\r\n \r\nAlso you have to be sure that `MySingleton` class is thread-safe\r\n\r\nSee\r\n[Java Singleton Design Pattern Practices with Examples](https://www.geeksforgeeks.org/java-singleton-design-pattern-practices-examples/)","title":"Multithreaded Singleton","body":"<p>It is perfectly fine and simple. Although you may check the trade offs listed below:</p>\n<blockquote>\n<ol>\n<li><p>May lead to resource wastage. Because instance of class is created always, whether it is required or not.</p>\n</li>\n<li><p>CPU time is also wasted for creating the instance if it is not required.</p>\n</li>\n<li><p>Exception handling is not possible.</p>\n</li>\n</ol>\n</blockquote>\n<p>Also you have to be sure that <code>MySingleton</code> class is thread-safe</p>\n<p>See\n<a href=\"https://www.geeksforgeeks.org/java-singleton-design-pattern-practices-examples/\" rel=\"nofollow noreferrer\">Java Singleton Design Pattern Practices with Examples</a></p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1611570684,"creation_date":1611570217,"answer_id":65882864,"question_id":65882352,"body_markdown":"Yes, this is a fine implementation of a singleton.\r\n\r\nThe test shows... something; but it doesn&#39;t really explain whether it&#39;s working or not. What you are trying to show (that only one instance is created) is essentially impossible to show with a test, because it&#39;s something that&#39;s guaranteed by the language spec.\r\n\r\nSee [JLS 12](https://docs.oracle.com/javase/specs/jls/se14/html/jls-12.html), in particular [JLS 12.4](https://docs.oracle.com/javase/specs/jls/se14/html/jls-12.html#jls-12.4), which describes how classes are initialized.\r\n\r\n&gt; For each class or interface C, there is a unique initialization lock LC. The mapping from C to LC is left to the discretion of the Java Virtual Machine implementation. The procedure for initializing C is then as follows:\r\n&gt; 1. Synchronize on the initialization lock, LC, for C. This involves waiting until the current thread can acquire LC.\r\n&gt; 1. If the Class object for C indicates that initialization is in progress for C by some other thread, then release LC and block the current thread until informed that the in-progress initialization has completed, at which time repeat this step.\r\n&gt; 1. If the Class object for C indicates that initialization is in progress for C by the current thread, then this must be a recursive request for initialization. Release LC and complete normally.\r\n&gt; 1. If the Class object for C indicates that C has already been initialized, then no further action is required. Release LC and complete normally.\r\n&gt;\r\n&gt; ...\r\n\r\nSo, classes are guaranteed to only be initialized once (if at all), because the initialization is done whilst holding a class-specific lock; the happens-before guarantees of acquiring and releasing that lock mean that the values of final fields are visible; so the `INSTANCE` field is guaranteed to be initialized once, and thus there is only one instance of `MySingleton` possible.\r\n\r\n---\r\n\r\nNote that your implementation is effectively the same as an enum:\r\n\r\n```\r\npublic enum MySingleton {\r\n    INSTANCE\r\n}\r\n```\r\n\r\nEnums are really just syntactic sugar for classes. If you decompiled an enum class, it would look something like:\r\n\r\n```\r\npublic class MySingleton {\r\n    public static final MySingleton INSTANCE = new MySingleton(0);\r\n\r\n    private MySingleton(int ordinal) { ... }\r\n}\r\n```\r\n","title":"Multithreaded Singleton","body":"<p>Yes, this is a fine implementation of a singleton.</p>\n<p>The test shows... something; but it doesn't really explain whether it's working or not. What you are trying to show (that only one instance is created) is essentially impossible to show with a test, because it's something that's guaranteed by the language spec.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/specs/jls/se14/html/jls-12.html\" rel=\"nofollow noreferrer\">JLS 12</a>, in particular <a href=\"https://docs.oracle.com/javase/specs/jls/se14/html/jls-12.html#jls-12.4\" rel=\"nofollow noreferrer\">JLS 12.4</a>, which describes how classes are initialized.</p>\n<blockquote>\n<p>For each class or interface C, there is a unique initialization lock LC. The mapping from C to LC is left to the discretion of the Java Virtual Machine implementation. The procedure for initializing C is then as follows:</p>\n<ol>\n<li>Synchronize on the initialization lock, LC, for C. This involves waiting until the current thread can acquire LC.</li>\n<li>If the Class object for C indicates that initialization is in progress for C by some other thread, then release LC and block the current thread until informed that the in-progress initialization has completed, at which time repeat this step.</li>\n<li>If the Class object for C indicates that initialization is in progress for C by the current thread, then this must be a recursive request for initialization. Release LC and complete normally.</li>\n<li>If the Class object for C indicates that C has already been initialized, then no further action is required. Release LC and complete normally.</li>\n</ol>\n<p>...</p>\n</blockquote>\n<p>So, classes are guaranteed to only be initialized once (if at all), because the initialization is done whilst holding a class-specific lock; the happens-before guarantees of acquiring and releasing that lock mean that the values of final fields are visible; so the <code>INSTANCE</code> field is guaranteed to be initialized once, and thus there is only one instance of <code>MySingleton</code> possible.</p>\n<hr />\n<p>Note that your implementation is effectively the same as an enum:</p>\n<pre><code>public enum MySingleton {\n    INSTANCE\n}\n</code></pre>\n<p>Enums are really just syntactic sugar for classes. If you decompiled an enum class, it would look something like:</p>\n<pre><code>public class MySingleton {\n    public static final MySingleton INSTANCE = new MySingleton(0);\n\n    private MySingleton(int ordinal) { ... }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1268556,"reputation":48098,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":1,"creation_date":1611571157,"post_id":65882925,"comment_id":116485444,"body_markdown":"Doesn&#39;t `SINGLETON` need to be `volatile` in the double-checked locking pattern though?","body":"Doesn&#39;t <code>SINGLETON</code> need to be <code>volatile</code> in the double-checked locking pattern though?"},{"owner":{"account_id":6588799,"reputation":2536,"user_id":5090758,"accept_rate":46,"display_name":"William Rosenbloom"},"score":1,"creation_date":1611571974,"post_id":65882925,"comment_id":116485777,"body_markdown":"@sp00m yes, good catch. I changed the code block accordingly.","body":"@sp00m yes, good catch. I changed the code block accordingly."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1611572875,"post_id":65882925,"comment_id":116486164,"body_markdown":"Double-checked locking is hard to get right, as evidenced by the fact it was initially wrong in the answer (even Josh Bloch got it wrong in the first imprint of *Effective Java* 3rd Ed). It should be eschewed for easier mechanisms; if you are using it because the constructor can fail, you should look to remove that possibility first.","body":"Double-checked locking is hard to get right, as evidenced by the fact it was initially wrong in the answer (even Josh Bloch got it wrong in the first imprint of <i>Effective Java</i> 3rd Ed). It should be eschewed for easier mechanisms; if you are using it because the constructor can fail, you should look to remove that possibility first."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1611590227,"post_id":65882925,"comment_id":116494593,"body_markdown":"you can read of another way to get away from a `volatile read` [here](https://stackoverflow.com/questions/65171886/double-check-locking-without-volatile-but-with-varhandle-release-acquire) or even without `volatile` at all","body":"you can read of another way to get away from a <code>volatile read</code> <a href=\"https://stackoverflow.com/questions/65171886/double-check-locking-without-volatile-but-with-varhandle-release-acquire\">here</a> or even without <code>volatile</code> at all"}],"tags":[],"owner":{"account_id":6588799,"reputation":2536,"user_id":5090758,"accept_rate":46,"display_name":"William Rosenbloom"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611571943,"creation_date":1611570454,"answer_id":65882925,"question_id":65882352,"body_markdown":"Ah, I ran into some problems using exactly this approach a few months ago. Most people here will tell you this is fine, and they are mostly right, as long as you know the constructor won&#39;t throw an exception. What I&#39;m about to describe is a common but unpredictable artifact of JVM caching conventions.\r\n\r\nI had a singleton that was set up exactly the one you show in your question. Every time I attempted to run the program I got a `NoClassDefFoundError`. I had no idea what was going wrong until I found [this post on Reddit][1], aptly titled *Using static initialization for singletons is bad!*\r\n\r\n&gt; Just FYI, if you initialize a singleton with static initialization, e.g., private static final MyObject instance = new MyObject(); and there&#39;s business logic in your constructor, you can easily run into weird meta-errors, like NoClassDefFoundError. Even worse, it&#39;s unpredictable. Certain conditions, such as the OS, can change whether an error occurs or not. Static initialization also includes using a static block, &quot;static{...}&quot; , and using the enum singleton pattern.\r\n\r\nThe post also links to [some Android docs][2] about the cause of the problem.\r\n\r\nThe solution, which worked very well for me, is called *double checked locking*.\r\n\r\n    public class Example {\r\n    \r\n        private static volatile Example SINGLETON = null;\r\n        private static final Object LOCK = new Object();\r\n    \r\n        private Example() {\r\n            // ...do stuff...\r\n        }\r\n    \r\n        public static Example getInstance() {\r\n            if (SINGLETON == null) {\r\n                synchronized (LOCK) {\r\n                    if (SINGLETON == null) {\r\n                        SINGLETON = new Example();\r\n                    }\r\n                }\r\n            }\r\n            return SINGLETON;\r\n        }\r\n    }\r\n\r\nFor the most part, you can probably do it the simple way without problems. But, if your constructor contains enough business logic that you start getting `NoClassDefFoundError`, this slightly more complicated approach should fix it.\r\n\r\n\r\n  [1]: https://www.reddit.com/r/androiddev/comments/2aduok/using_static_initialization_for_singletons_is_bad/\r\n  [2]: https://developer.android.com/training/articles/smp#sync_volatile","title":"Multithreaded Singleton","body":"<p>Ah, I ran into some problems using exactly this approach a few months ago. Most people here will tell you this is fine, and they are mostly right, as long as you know the constructor won't throw an exception. What I'm about to describe is a common but unpredictable artifact of JVM caching conventions.</p>\n<p>I had a singleton that was set up exactly the one you show in your question. Every time I attempted to run the program I got a <code>NoClassDefFoundError</code>. I had no idea what was going wrong until I found <a href=\"https://www.reddit.com/r/androiddev/comments/2aduok/using_static_initialization_for_singletons_is_bad/\" rel=\"nofollow noreferrer\">this post on Reddit</a>, aptly titled <em>Using static initialization for singletons is bad!</em></p>\n<blockquote>\n<p>Just FYI, if you initialize a singleton with static initialization, e.g., private static final MyObject instance = new MyObject(); and there's business logic in your constructor, you can easily run into weird meta-errors, like NoClassDefFoundError. Even worse, it's unpredictable. Certain conditions, such as the OS, can change whether an error occurs or not. Static initialization also includes using a static block, &quot;static{...}&quot; , and using the enum singleton pattern.</p>\n</blockquote>\n<p>The post also links to <a href=\"https://developer.android.com/training/articles/smp#sync_volatile\" rel=\"nofollow noreferrer\">some Android docs</a> about the cause of the problem.</p>\n<p>The solution, which worked very well for me, is called <em>double checked locking</em>.</p>\n<pre><code>public class Example {\n\n    private static volatile Example SINGLETON = null;\n    private static final Object LOCK = new Object();\n\n    private Example() {\n        // ...do stuff...\n    }\n\n    public static Example getInstance() {\n        if (SINGLETON == null) {\n            synchronized (LOCK) {\n                if (SINGLETON == null) {\n                    SINGLETON = new Example();\n                }\n            }\n        }\n        return SINGLETON;\n    }\n}\n</code></pre>\n<p>For the most part, you can probably do it the simple way without problems. But, if your constructor contains enough business logic that you start getting <code>NoClassDefFoundError</code>, this slightly more complicated approach should fix it.</p>\n"}],"owner":{"account_id":2337627,"reputation":803,"user_id":2049580,"display_name":"Bagesh Sharma"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65882576,"answer_count":4,"score":2,"last_activity_date":1666192622,"creation_date":1611568203,"question_id":65882352,"body_markdown":"I have read about many possible ways to create a singleton for the multithreaded environment in Java, `like Enums, Double-check locking, etc`.\r\n\r\nI found a simple way that is also working fine and I unable to find its drawbacks or failure cases. May anyone explain when it may fail or why we should not choose this approach.\r\n\r\n    public final class MySingleton {\r\n        public final static MySingleton INSTANCE = new MySingleton();\r\n        private MySingleton(){} \r\n    }\r\n\r\nI am testing it with the below code and working fine:\r\n\r\n    public class MyThread {\r\n        public static void main(String[] args) {\r\n    \r\n            for (int i = 0; i &lt; 10000; i++) {\r\n                Thread thread = new Thread(() -&gt; {\r\n                    MySingleton singleton = MySingleton.INSTANCE;\r\n                    System.out.println(singleton.hashCode() + &quot; &quot; + Thread.currentThread().getName());\r\n                });\r\n                thread.start();\r\n            }\r\n        }\r\n    }\r\n\r\nEvery comment is appreciated.\r\n\r\n","title":"Multithreaded Singleton","body":"<p>I have read about many possible ways to create a singleton for the multithreaded environment in Java, <code>like Enums, Double-check locking, etc</code>.</p>\n<p>I found a simple way that is also working fine and I unable to find its drawbacks or failure cases. May anyone explain when it may fail or why we should not choose this approach.</p>\n<pre><code>public final class MySingleton {\n    public final static MySingleton INSTANCE = new MySingleton();\n    private MySingleton(){} \n}\n</code></pre>\n<p>I am testing it with the below code and working fine:</p>\n<pre><code>public class MyThread {\n    public static void main(String[] args) {\n\n        for (int i = 0; i &lt; 10000; i++) {\n            Thread thread = new Thread(() -&gt; {\n                MySingleton singleton = MySingleton.INSTANCE;\n                System.out.println(singleton.hashCode() + &quot; &quot; + Thread.currentThread().getName());\n            });\n            thread.start();\n        }\n    }\n}\n</code></pre>\n<p>Every comment is appreciated.</p>\n"},{"tags":["java","aws-lambda","aws-sdk"],"answers":[{"tags":[],"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484238123,"creation_date":1484238123,"answer_id":41618158,"question_id":41616806,"body_markdown":"You define the handler when you deploy the Lambda function. Only the AWS Lambda service needs to know what your custom handler is. So the handler has no relevance in the Java code that is invoking the function. Anything invoking the Lambda function only needs to know the Lambda function name, not the handler name.\r\n\r\nIn Java you would invoke the Lambda function via the `AWSLambdaClient.invoke()` method documented [here][1].\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/lambda/AWSLambdaClient.html#invoke-com.amazonaws.services.lambda.model.InvokeRequest-","title":"How to invoke the AWS lambda function / handler from Java code","body":"<p>You define the handler when you deploy the Lambda function. Only the AWS Lambda service needs to know what your custom handler is. So the handler has no relevance in the Java code that is invoking the function. Anything invoking the Lambda function only needs to know the Lambda function name, not the handler name.</p>\n\n<p>In Java you would invoke the Lambda function via the <code>AWSLambdaClient.invoke()</code> method documented <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/lambda/AWSLambdaClient.html#invoke-com.amazonaws.services.lambda.model.InvokeRequest-\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":367255,"reputation":616,"user_id":713328,"accept_rate":76,"display_name":"paramupk"},"score":2,"creation_date":1492504359,"post_id":41634244,"comment_id":73989702,"body_markdown":"What if the payload is a complex java object? Do we convert that to a json string??","body":"What if the payload is a complex java object? Do we convert that to a json string??"},{"owner":{"account_id":2103622,"reputation":26956,"user_id":1870555,"accept_rate":75,"display_name":"christopher"},"score":0,"creation_date":1520276045,"post_id":41634244,"comment_id":85240290,"body_markdown":"This approach makes use of several deprecated functions.","body":"This approach makes use of several deprecated functions."},{"owner":{"display_name":"user7401700"},"score":2,"creation_date":1520276486,"post_id":41634244,"comment_id":85240527,"body_markdown":"deprecated? like which ones?","body":"deprecated? like which ones?"}],"tags":[],"owner":{"display_name":"user7401700"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1484309349,"creation_date":1484309014,"answer_id":41634244,"question_id":41616806,"body_markdown":"The 2 methods in this class should be able to help you. One is for if you need to pass in a payload, the other if the payload is null.\r\n\r\nHowever, you need to bear one thing in mind: the function name may not be the same as the handler (the latter here is `example.Orders::orderHandler`). The handler name is **not** used when invoking its function. \r\n\r\nSo, if you have a function with the **function name** &#39;myFunction&#39; that behind the scenes call your `example.Orders::orderHandler` **handler**, then this is what you would pass into the run methods below.\r\n\r\n    import com.amazonaws.regions.Regions;\r\n    import com.amazonaws.services.lambda.AWSLambdaAsyncClient;\r\n    import com.amazonaws.services.lambda.model.InvokeRequest;\r\n    import com.amazonaws.services.lambda.model.InvokeResult;\r\n    \r\n    class LambdaInvoker {\r\n    \r\n        public void runWithoutPayload(String region, String functionName) {\r\n            runWithPayload(region, functionName, null);\r\n        }\r\n    \r\n        public void runWithPayload(String region, String functionName, String payload) {\r\n            AWSLambdaAsyncClient client = new AWSLambdaAsyncClient();\r\n            client.withRegion(Regions.fromName(region));\r\n    \r\n            InvokeRequest request = new InvokeRequest();\r\n            request.withFunctionName(functionName).withPayload(payload);\r\n            InvokeResult invoke = client.invoke(request);\r\n            System.out.println(&quot;Result invoking &quot; + functionName + &quot;: &quot; + invoke);\r\n        }\r\n    }\r\n\r\n","title":"How to invoke the AWS lambda function / handler from Java code","body":"<p>The 2 methods in this class should be able to help you. One is for if you need to pass in a payload, the other if the payload is null.</p>\n\n<p>However, you need to bear one thing in mind: the function name may not be the same as the handler (the latter here is <code>example.Orders::orderHandler</code>). The handler name is <strong>not</strong> used when invoking its function. </p>\n\n<p>So, if you have a function with the <strong>function name</strong> 'myFunction' that behind the scenes call your <code>example.Orders::orderHandler</code> <strong>handler</strong>, then this is what you would pass into the run methods below.</p>\n\n<pre><code>import com.amazonaws.regions.Regions;\nimport com.amazonaws.services.lambda.AWSLambdaAsyncClient;\nimport com.amazonaws.services.lambda.model.InvokeRequest;\nimport com.amazonaws.services.lambda.model.InvokeResult;\n\nclass LambdaInvoker {\n\n    public void runWithoutPayload(String region, String functionName) {\n        runWithPayload(region, functionName, null);\n    }\n\n    public void runWithPayload(String region, String functionName, String payload) {\n        AWSLambdaAsyncClient client = new AWSLambdaAsyncClient();\n        client.withRegion(Regions.fromName(region));\n\n        InvokeRequest request = new InvokeRequest();\n        request.withFunctionName(functionName).withPayload(payload);\n        InvokeResult invoke = client.invoke(request);\n        System.out.println(\"Result invoking \" + functionName + \": \" + invoke);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4806304,"reputation":1483,"user_id":3881239,"accept_rate":17,"display_name":"muTheTechie"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499632093,"creation_date":1499632093,"answer_id":45000724,"question_id":41616806,"body_markdown":"I followed the following code and just printed the response from the Lambda\r\n\r\n    AWSLambdaAsyncClient lambdaClient = new AWSLambdaAsyncClient();\r\n\t\tlambdaClient.withRegion(Region.getRegion(Regions.US_WEST_2));\r\n\t\tInvokeRequest invokeRequest = new InvokeRequest();\r\n\t\tinvokeRequest.setInvocationType(&quot;RequestResponse&quot;); // ENUM RequestResponse or Event\r\n\t\tinvokeRequest.withFunctionName(&quot;FUNCTION NAME&quot;).withPayload(payload);\r\n\t\tInvokeResult invoke = lambdaClient.invoke(invokeRequest);\r\n\t\ttry {\r\n\t\t\t// PRINT THE RESPONSE\r\n\t\t\tString val = new String(invoke.getPayload().array(), &quot;UTF-8&quot;);\r\n\t\t\tSystem.out.println(&quot;Response==&gt; &quot; + val);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;error&quot;);\r\n\t\t}","title":"How to invoke the AWS lambda function / handler from Java code","body":"<p>I followed the following code and just printed the response from the Lambda</p>\n\n<pre><code>AWSLambdaAsyncClient lambdaClient = new AWSLambdaAsyncClient();\n    lambdaClient.withRegion(Region.getRegion(Regions.US_WEST_2));\n    InvokeRequest invokeRequest = new InvokeRequest();\n    invokeRequest.setInvocationType(\"RequestResponse\"); // ENUM RequestResponse or Event\n    invokeRequest.withFunctionName(\"FUNCTION NAME\").withPayload(payload);\n    InvokeResult invoke = lambdaClient.invoke(invokeRequest);\n    try {\n        // PRINT THE RESPONSE\n        String val = new String(invoke.getPayload().array(), \"UTF-8\");\n        System.out.println(\"Response==&gt; \" + val);\n    } catch (Exception e) {\n        System.out.println(\"error\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4008749,"reputation":3475,"user_id":3302747,"accept_rate":61,"display_name":"Baked Inhalf"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1537447188,"creation_date":1537447188,"answer_id":52425379,"question_id":41616806,"body_markdown":"As a sidenote, when creating an AWS Lambda Java project in Eclipse, one must also add \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aws-java-sdk-lambda&lt;/artifactId&gt;\r\n        &lt;version&gt;1.11.411&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nto the pom.xml otherwise these imports will fail:\r\n\r\n    import com.amazonaws.services.lambda.AWSLambdaAsyncClient;\r\n    import com.amazonaws.services.lambda.model.InvokeRequest;\r\n    import com.amazonaws.services.lambda.model.InvokeResult;\r\n\r\n","title":"How to invoke the AWS lambda function / handler from Java code","body":"<p>As a sidenote, when creating an AWS Lambda Java project in Eclipse, one must also add </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk-lambda&lt;/artifactId&gt;\n    &lt;version&gt;1.11.411&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>to the pom.xml otherwise these imports will fail:</p>\n\n<pre><code>import com.amazonaws.services.lambda.AWSLambdaAsyncClient;\nimport com.amazonaws.services.lambda.model.InvokeRequest;\nimport com.amazonaws.services.lambda.model.InvokeResult;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12989716,"reputation":3034,"user_id":9389293,"display_name":"Abhishek Sengupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1566305998,"creation_date":1566305998,"answer_id":57574283,"question_id":41616806,"body_markdown":"**Use this *LATEST* code to invoke a Lambda Function Synchronously:**\r\n\r\n        final String AWS_ACCESS_KEY_ID = &quot;xx&quot;;\r\n\t\tfinal String AWS_SECRET_ACCESS_KEY = &quot;xx&quot;;\r\n\r\n\t\tAWSCredentials credentials = new BasicAWSCredentials(AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY);\r\n\r\n\t\t// ARN\r\n\t\tString functionName = &quot;XXXX&quot;;\r\n\r\n\t\t//This will convert object to JSON String\r\n\t\tString inputJSON = new Gson().toJson(userActivity);\r\n\r\n\t\tInvokeRequest lmbRequest = new InvokeRequest()\r\n\t\t\t\t.withFunctionName(functionName)\r\n\t\t\t\t.withPayload(inputJSON);\r\n\r\n\t\tlmbRequest.setInvocationType(InvocationType.RequestResponse);\r\n\r\n\t\tAWSLambda lambda = AWSLambdaClientBuilder.standard()\r\n\t\t\t\t.withRegion(Regions.US_EAST_1)\r\n\t\t\t\t.withCredentials(new AWSStaticCredentialsProvider(credentials)).build();\r\n\r\n\t\tInvokeResult lmbResult = lambda.invoke(lmbRequest);\r\n\r\n\t\tString resultJSON = new String(lmbResult.getPayload().array(), Charset.forName(&quot;UTF-8&quot;));\r\n\r\n\t\tSystem.out.println(resultJSON);\r\n\r\n**Use these dependencies to avoid any errors:**\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;janino&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n        //Required by BeanstalkDeploy.groovy at runtime\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.5.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aws-java-sdk-lambda&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.11.207&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"How to invoke the AWS lambda function / handler from Java code","body":"<p><strong>Use this <em>LATEST</em> code to invoke a Lambda Function Synchronously:</strong></p>\n\n<pre><code>    final String AWS_ACCESS_KEY_ID = \"xx\";\n    final String AWS_SECRET_ACCESS_KEY = \"xx\";\n\n    AWSCredentials credentials = new BasicAWSCredentials(AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY);\n\n    // ARN\n    String functionName = \"XXXX\";\n\n    //This will convert object to JSON String\n    String inputJSON = new Gson().toJson(userActivity);\n\n    InvokeRequest lmbRequest = new InvokeRequest()\n            .withFunctionName(functionName)\n            .withPayload(inputJSON);\n\n    lmbRequest.setInvocationType(InvocationType.RequestResponse);\n\n    AWSLambda lambda = AWSLambdaClientBuilder.standard()\n            .withRegion(Regions.US_EAST_1)\n            .withCredentials(new AWSStaticCredentialsProvider(credentials)).build();\n\n    InvokeResult lmbResult = lambda.invoke(lmbRequest);\n\n    String resultJSON = new String(lmbResult.getPayload().array(), Charset.forName(\"UTF-8\"));\n\n    System.out.println(resultJSON);\n</code></pre>\n\n<p><strong>Use these dependencies to avoid any errors:</strong></p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n        &lt;artifactId&gt;janino&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    //Required by BeanstalkDeploy.groovy at runtime\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.5.2&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-lambda&lt;/artifactId&gt;\n        &lt;version&gt;1.11.207&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8806448,"reputation":1279,"user_id":6580933,"display_name":"Terblanche Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666192499,"creation_date":1666192499,"answer_id":74127873,"question_id":41616806,"body_markdown":" AWS often updates its implementation. For anyone wanting/using the latest (2022) SDK you can use the following.\r\n\r\nAdd \r\n```xml\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lambda&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.293&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThen you can just configure your bean.\r\n\r\n```java\r\n    @Bean\r\n    public LambdaClient lambdaClient() {\r\n        AwsCredentials credentials = AwsBasicCredentials.create(&quot;secretKey&quot;, &quot;AccessKey&quot;);\r\n        return LambdaClient\r\n                .builder()\r\n                .region(Region.AF_SOUTH_1)\r\n                .credentialsProvider(StaticCredentialsProvider.create(credentials))\r\n                .build();\r\n    }\r\n\r\n```\r\n\r\n\r\nThen calling can consuming it basically stayed the same but in a nutshell.\r\n\r\n\r\n```Java\r\n @Autowired\r\n LambdaClient lambdaClient;\r\n\r\n\r\npublic String invokeFunction(Object requestPayload) {\r\n\r\n        InvokeResponse res = null;\r\n        try {\r\n            ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n            String json = ow.writeValueAsString(requestPayload);\r\n            SdkBytes payload = SdkBytes.fromUtf8String(json);\r\n\r\n            // Setup an InvokeRequest.\r\n            InvokeRequest request = InvokeRequest.builder()\r\n                    .functionName(&quot;your lambda arn goes here&quot;)\r\n                    .payload(payload)\r\n                    .build();\r\n\r\n            res = lambdaClient.invoke(request);\r\n            return res.payload().asUtf8String();\r\n\r\n        } catch (LambdaException e) {\r\n            log.error(e.getMessage());\r\n\r\n        } catch (JsonProcessingException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        throw new IllegalStateException(&quot;Lambda response is null&quot;);\r\n    }\r\n```\r\n\r\nAlso important to note, the user you are executing with requires the correct permissions to execute a lambda.\r\n\r\nYou can just use the Predefined policies and attached them to the calling user. In IAM in the Aws Console the policy name is &quot;AWSLambdaRole&quot;","title":"How to invoke the AWS lambda function / handler from Java code","body":"<p>AWS often updates its implementation. For anyone wanting/using the latest (2022) SDK you can use the following.</p>\n<p>Add</p>\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;lambda&lt;/artifactId&gt;\n            &lt;version&gt;2.17.293&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then you can just configure your bean.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public LambdaClient lambdaClient() {\n        AwsCredentials credentials = AwsBasicCredentials.create(&quot;secretKey&quot;, &quot;AccessKey&quot;);\n        return LambdaClient\n                .builder()\n                .region(Region.AF_SOUTH_1)\n                .credentialsProvider(StaticCredentialsProvider.create(credentials))\n                .build();\n    }\n\n</code></pre>\n<p>Then calling can consuming it basically stayed the same but in a nutshell.</p>\n<pre><code> @Autowired\n LambdaClient lambdaClient;\n\n\npublic String invokeFunction(Object requestPayload) {\n\n        InvokeResponse res = null;\n        try {\n            ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\n            String json = ow.writeValueAsString(requestPayload);\n            SdkBytes payload = SdkBytes.fromUtf8String(json);\n\n            // Setup an InvokeRequest.\n            InvokeRequest request = InvokeRequest.builder()\n                    .functionName(&quot;your lambda arn goes here&quot;)\n                    .payload(payload)\n                    .build();\n\n            res = lambdaClient.invoke(request);\n            return res.payload().asUtf8String();\n\n        } catch (LambdaException e) {\n            log.error(e.getMessage());\n\n        } catch (JsonProcessingException e) {\n            throw new RuntimeException(e);\n        }\n        throw new IllegalStateException(&quot;Lambda response is null&quot;);\n    }\n</code></pre>\n<p>Also important to note, the user you are executing with requires the correct permissions to execute a lambda.</p>\n<p>You can just use the Predefined policies and attached them to the calling user. In IAM in the Aws Console the policy name is &quot;AWSLambdaRole&quot;</p>\n"}],"owner":{"account_id":5569186,"reputation":831,"user_id":4415231,"accept_rate":50,"display_name":"prasad kp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31582,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":41634244,"answer_count":6,"score":7,"last_activity_date":1666192499,"creation_date":1484234469,"question_id":41616806,"body_markdown":"I am new to AWS lambda I have created a lambda function with handler \r\n\r\n    example.Orders::orderHandler\r\n\r\nAnd this is the custom handler, now I want to invoke this from my Java program how do I need to this.\r\n\r\n\r\n","title":"How to invoke the AWS lambda function / handler from Java code","body":"<p>I am new to AWS lambda I have created a lambda function with handler </p>\n\n<pre><code>example.Orders::orderHandler\n</code></pre>\n\n<p>And this is the custom handler, now I want to invoke this from my Java program how do I need to this.</p>\n"},{"tags":["java","log4j","tostring"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1666172454,"post_id":74123094,"comment_id":130870756,"body_markdown":"It depends on the implementation of the logging framework; but any &quot;sensible&quot; framework won&#39;t invoke `toString()` if it&#39;s not going to write anything to the log.","body":"It depends on the implementation of the logging framework; but any &quot;sensible&quot; framework won&#39;t invoke <code>toString()</code> if it&#39;s not going to write anything to the log."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":5,"creation_date":1666172869,"post_id":74123094,"comment_id":130870907,"body_markdown":"@AndyTurner but only if `toString()` is not explicitly called. The statement should be `log.debug(“Something happened here{}”, myObject)`. Several logging frameworks also have lazy evaluation using suppliers.","body":"@AndyTurner but only if <code>toString()</code> is not explicitly called. The statement should be <code>log.debug(“Something happened here{}”, myObject)</code>. Several logging frameworks also have lazy evaluation using suppliers."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1666174150,"post_id":74123094,"comment_id":130871331,"body_markdown":"@RobSpoor sorry, I thought it was implicit that it will be invoked if you explicitly invoke it. I&#39;m talking about if you don&#39;t explicitly invoke it.","body":"@RobSpoor sorry, I thought it was implicit that it will be invoked if you explicitly invoke it. I&#39;m talking about if you don&#39;t explicitly invoke it."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666192399,"creation_date":1666191206,"answer_id":74127543,"question_id":74123094,"body_markdown":"Yes, the cost is still incurred.\r\n\r\nNo matter which log level is used, the code always calls `myObject.toString()` before log.debug is called.\r\n\r\nThis:\r\n\r\n    log.debug(&quot;Something happened here {}&quot;, myObject.toString());\r\n\r\nis *exactly the same* as this:\r\n\r\n    String s = myObject.toString();\r\n    log.debug(&quot;Something happened here {}&quot;, s);\r\n\r\nAs you can see, the toString() call happens every single time.  It is not under the control of the logger at all.\r\n\r\nThe way to be sure the cost of toString is only incurred when the corresponding log level is active is to avoid calling toString, and let the logger library’s own code call toString if and only if such a call is needed:\r\n\r\n    // Notice there is no visible toString call!\r\n    log.debug(&quot;Something happened here {}&quot;, myObject);\r\n","title":"Cost of toString() in logging","body":"<p>Yes, the cost is still incurred.</p>\n<p>No matter which log level is used, the code always calls <code>myObject.toString()</code> before log.debug is called.</p>\n<p>This:</p>\n<pre><code>log.debug(&quot;Something happened here {}&quot;, myObject.toString());\n</code></pre>\n<p>is <em>exactly the same</em> as this:</p>\n<pre><code>String s = myObject.toString();\nlog.debug(&quot;Something happened here {}&quot;, s);\n</code></pre>\n<p>As you can see, the toString() call happens every single time.  It is not under the control of the logger at all.</p>\n<p>The way to be sure the cost of toString is only incurred when the corresponding log level is active is to avoid calling toString, and let the logger library’s own code call toString if and only if such a call is needed:</p>\n<pre><code>// Notice there is no visible toString call!\nlog.debug(&quot;Something happened here {}&quot;, myObject);\n</code></pre>\n"}],"owner":{"account_id":2393236,"reputation":123,"user_id":2092658,"display_name":"SriniMurthy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":74127543,"answer_count":1,"score":-3,"last_activity_date":1666192399,"creation_date":1666172155,"question_id":74123094,"body_markdown":"```\r\n\r\nClass MyComplexClass{\r\n   // No override of toString() here\r\n   }\r\n   …\r\n\r\n  log.debug(“Something happened here{}”, myObject.toString())\r\n```\r\n\r\nOther than the redundancy of the toString() here, is it possible if the log level is changed, the cost of toString() is still incurred?","title":"Cost of toString() in logging","body":"<pre><code>\nClass MyComplexClass{\n   // No override of toString() here\n   }\n   …\n\n  log.debug(“Something happened here{}”, myObject.toString())\n</code></pre>\n<p>Other than the redundancy of the toString() here, is it possible if the log level is changed, the cost of toString() is still incurred?</p>\n"},{"tags":["java","executorservice","synchronized"],"comments":[{"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"score":1,"creation_date":1666192636,"post_id":74127831,"comment_id":130878809,"body_markdown":"Adding a call to `ExecutorService#awaitTermination` after shutting it down should do the trick. Reason: you print the value of count before the threads are done with updating them.","body":"Adding a call to <code>ExecutorService#awaitTermination</code> after shutting it down should do the trick. Reason: you print the value of count before the threads are done with updating them."},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666192666,"post_id":74127831,"comment_id":130878821,"body_markdown":"shutdownNow() doesn&#39;t wait for the threads to finish. Use shutdown() and also use `future.get()`for the list of tasks created to wait for the result to finish. This should do the trick: `IntStream.range(0, 10000)\n                .map(i -&gt; executor.submit(this::incrementSync)).forEach(Future::get);`","body":"shutdownNow() doesn&#39;t wait for the threads to finish. Use shutdown() and also use <code>future.get()</code>for the list of tasks created to wait for the result to finish. This should do the trick: <code>IntStream.range(0, 10000)                 .map(i -&gt; executor.submit(this::incrementSync)).forEach(Future::get);</code>"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1666415815,"post_id":74127831,"comment_id":130936820,"body_markdown":"@mrkachariker that may give the correct answer (although you would need to use `mapObj` rather than `map` for this to compile), but it won&#39;t actually run the methods concurrently. Stream mapping operations are _lazy_, which means that it won&#39;t execute the provided function until just before the `forEach` operation for each element. It will submit each task, then immediately wait for it before scheduling the next one, just as if the `submit` and `get` were written in the body of a single for loop. Not relevant for this contrived example, but important for real code.","body":"@mrkachariker that may give the correct answer (although you would need to use <code>mapObj</code> rather than <code>map</code> for this to compile), but it won&#39;t actually run the methods concurrently. Stream mapping operations are <i>lazy</i>, which means that it won&#39;t execute the provided function until just before the <code>forEach</code> operation for each element. It will submit each task, then immediately wait for it before scheduling the next one, just as if the <code>submit</code> and <code>get</code> were written in the body of a single for loop. Not relevant for this contrived example, but important for real code."},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666435712,"post_id":74127831,"comment_id":130939332,"body_markdown":"@TimMoore thank you for clarifying that! I had my doubts too, whether the tasks would be executed in parallel or not in the functional paradigm that was introduced. What if we would add `.parallel()` before the map? Would it run the tasks in parallel in this case?","body":"@TimMoore thank you for clarifying that! I had my doubts too, whether the tasks would be executed in parallel or not in the functional paradigm that was introduced. What if we would add <code>.parallel()</code> before the map? Would it run the tasks in parallel in this case?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666683723,"post_id":74127831,"comment_id":130989010,"body_markdown":"@mrkachariker yes I believe it would, because in that case the entire pipeline is distributed across multiple threads. In that case, explicitly using an `ExecutorService` is redundant. Of course, given that the tasks submitted to it in this example are fully synchronized, it&#39;s redundant regardless. This is fine for the purposes of experimentation and learning, but it&#39;s important not to take away the wrong understanding when using it in a more realistic context.","body":"@mrkachariker yes I believe it would, because in that case the entire pipeline is distributed across multiple threads. In that case, explicitly using an <code>ExecutorService</code> is redundant. Of course, given that the tasks submitted to it in this example are fully synchronized, it&#39;s redundant regardless. This is fine for the purposes of experimentation and learning, but it&#39;s important not to take away the wrong understanding when using it in a more realistic context."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666683827,"post_id":74127831,"comment_id":130989042,"body_markdown":"Another option would be to collect the stream of futures into an intermediate `List&lt;Future&lt;Void&gt;&gt;`, which would force the `map` operation to be applied to each element. Then, that list could be iterated in a second loop or stream.","body":"Another option would be to collect the stream of futures into an intermediate <code>List&lt;Future&lt;Void&gt;&gt;</code>, which would force the <code>map</code> operation to be applied to each element. Then, that list could be iterated in a second loop or stream."}],"owner":{"account_id":17896105,"reputation":9,"user_id":13001483,"display_name":"Martin Emil W&#248;bbe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1666192328,"creation_date":1666192328,"question_id":74127831,"body_markdown":"Been following the guide from https://winterbe.com/posts/2015/04/30/java8-concurrency-tutorial-synchronized-locks-examples/ and for what I can tell this should give me a count of 10000 but I get very inconsistent results ranging between 3000-8000. Is the synchronized keyword not working as intended or am I doing something wrong? The increment() method gives the same kind of results.\r\n\r\n```\r\n  int count = 0;\r\n    public void synchronizedIncrement(){\r\n        ExecutorService executor = Executors.newFixedThreadPool(5);\r\n\r\n        IntStream.range(0, 10000)\r\n                .forEach(i -&gt; executor.submit(this::incrementSync));\r\n\r\n        executor.shutdownNow();\r\n        System.out.println(&quot;Incremented count by: &quot; +count);\r\n    }\r\n    void incrementSync(){\r\n        synchronized(this) {\r\n            count = count + 1;\r\n        }\r\n    }\r\n    ReentrantLock lock = new ReentrantLock();\r\n    void increment() {\r\n        lock.lock();\r\n        try {\r\n            count++;\r\n        } finally {\r\n            lock.unlock();\r\n        }\r\n    }\r\n```","title":"Am I using synchronized wrong?","body":"<p>Been following the guide from <a href=\"https://winterbe.com/posts/2015/04/30/java8-concurrency-tutorial-synchronized-locks-examples/\" rel=\"nofollow noreferrer\">https://winterbe.com/posts/2015/04/30/java8-concurrency-tutorial-synchronized-locks-examples/</a> and for what I can tell this should give me a count of 10000 but I get very inconsistent results ranging between 3000-8000. Is the synchronized keyword not working as intended or am I doing something wrong? The increment() method gives the same kind of results.</p>\n<pre><code>  int count = 0;\n    public void synchronizedIncrement(){\n        ExecutorService executor = Executors.newFixedThreadPool(5);\n\n        IntStream.range(0, 10000)\n                .forEach(i -&gt; executor.submit(this::incrementSync));\n\n        executor.shutdownNow();\n        System.out.println(&quot;Incremented count by: &quot; +count);\n    }\n    void incrementSync(){\n        synchronized(this) {\n            count = count + 1;\n        }\n    }\n    ReentrantLock lock = new ReentrantLock();\n    void increment() {\n        lock.lock();\n        try {\n            count++;\n        } finally {\n            lock.unlock();\n        }\n    }\n</code></pre>\n"},{"tags":["java","clone"],"comments":[{"owner":{"account_id":26168353,"reputation":567,"user_id":19853802,"display_name":"zmehall"},"score":0,"creation_date":1666109878,"post_id":74114093,"comment_id":130855756,"body_markdown":"I don&#39;t think this is possible without an abstract class. Interfaces by design cannot have method bodies.","body":"I don&#39;t think this is possible without an abstract class. Interfaces by design cannot have method bodies."},{"owner":{"account_id":1161310,"reputation":8921,"user_id":1140754,"accept_rate":70,"display_name":"Miguel Gamboa"},"score":0,"creation_date":1666111435,"post_id":74114093,"comment_id":130856264,"body_markdown":"@zmehall interfaces may have `default` methods that can have bodies.","body":"@zmehall interfaces may have <code>default</code> methods that can have bodies."},{"owner":{"account_id":38369,"reputation":335,"user_id":110078,"display_name":"David Zimmerman"},"score":0,"creation_date":1666119648,"post_id":74114093,"comment_id":130859065,"body_markdown":"put clone() in the interface.  Any implementor will have it","body":"put clone() in the interface.  Any implementor will have it"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666192314,"creation_date":1666191938,"answer_id":74127727,"question_id":74114093,"body_markdown":"&gt;  would like to provide in an interface a default implementation of clone() that calls the super.clone() of Object\r\n&gt; Yet, that is not possible and gives the error: super reference is\r\n&gt; illegal in interface context.\r\n\r\nThe reason this is not possible and should not be possible is simple.\r\n\r\n`Classes` are allowed to extend only 1 parenting class. Therefore they can call `super()` since the parent class could be determined as a single class.\r\n\r\n`Interfaces` on the other side are allowed to extend multiple parenting interfaces. Therefore the call to `super()` will not be able to be determined as to which parenting interface it relates to.\r\n\r\nIf you are curious to know why java was designed like this you can take a read [here][1] the popular *Java diamond problem*\r\n\r\n\r\n  [1]: https://www.javatpoint.com/what-is-diamond-problem-in-java","title":"How can a default interface method call a method of its super object? (e.g. clone)","body":"<blockquote>\n<p>would like to provide in an interface a default implementation of clone() that calls the super.clone() of Object\nYet, that is not possible and gives the error: super reference is\nillegal in interface context.</p>\n</blockquote>\n<p>The reason this is not possible and should not be possible is simple.</p>\n<p><code>Classes</code> are allowed to extend only 1 parenting class. Therefore they can call <code>super()</code> since the parent class could be determined as a single class.</p>\n<p><code>Interfaces</code> on the other side are allowed to extend multiple parenting interfaces. Therefore the call to <code>super()</code> will not be able to be determined as to which parenting interface it relates to.</p>\n<p>If you are curious to know why java was designed like this you can take a read <a href=\"https://www.javatpoint.com/what-is-diamond-problem-in-java\" rel=\"nofollow noreferrer\">here</a> the popular <em>Java diamond problem</em></p>\n"}],"owner":{"account_id":1161310,"reputation":8921,"user_id":1140754,"accept_rate":70,"display_name":"Miguel Gamboa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1666192314,"creation_date":1666109153,"question_id":74114093,"body_markdown":"I would like to provide in an interface a default implementation of `clone()` that calls the `super.clone()` of `Object`.\r\n\r\nYet, that is not possible and gives the error: `super reference is illegal in interface context`.\r\n\r\nOne possible alternative is to use an `abstract class` which works fine for that purpose. Yet, it will impose some limitations on multiple inheritance. Hence, an interface would work better in that scenario.\r\n\r\nSo, to maintain the interface option, I can take a workaround and call `super.clone()` via reflection, despite being awkward, such as:\r\n```java\r\ntry {\r\n  Method methodClone = Object.class.getDeclaredMethod(&quot;clone&quot;);\r\n  methodClone.setAccessible(true);\r\n  return (A) methodClone.invoke(this);\r\n} catch(NoSuchMethodException |IllegalAccessException | InvocationTargetException e) {\r\n  throw new RuntimeException(e);\r\n}\r\n```\r\n\r\nIt works, but with warnings:\r\n```\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by ... to method java.lang.Object.clone()\r\n```\r\n\r\nIs there any better alternative?","title":"How can a default interface method call a method of its super object? (e.g. clone)","body":"<p>I would like to provide in an interface a default implementation of <code>clone()</code> that calls the <code>super.clone()</code> of <code>Object</code>.</p>\n<p>Yet, that is not possible and gives the error: <code>super reference is illegal in interface context</code>.</p>\n<p>One possible alternative is to use an <code>abstract class</code> which works fine for that purpose. Yet, it will impose some limitations on multiple inheritance. Hence, an interface would work better in that scenario.</p>\n<p>So, to maintain the interface option, I can take a workaround and call <code>super.clone()</code> via reflection, despite being awkward, such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n  Method methodClone = Object.class.getDeclaredMethod(&quot;clone&quot;);\n  methodClone.setAccessible(true);\n  return (A) methodClone.invoke(this);\n} catch(NoSuchMethodException |IllegalAccessException | InvocationTargetException e) {\n  throw new RuntimeException(e);\n}\n</code></pre>\n<p>It works, but with warnings:</p>\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by ... to method java.lang.Object.clone()\n</code></pre>\n<p>Is there any better alternative?</p>\n"},{"tags":["java","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1666203420,"post_id":74126846,"comment_id":130882554,"body_markdown":"I&#39;m not sure what could be causing the master to activate when there&#39;s a slave with the same node ID. However, I recommend you migrate to the new [pluggable quorum voting](https://activemq.apache.org/components/artemis/documentation/latest/ha.html#pluggable-quorum-vote-replication-configurations) which can integrate with ZooKeeper. This is superior to relying on the brokers themselves for quorum voting and split-brain mitigation. It will also potentially allow you to reduce the size of your cluster to a single HA pair.","body":"I&#39;m not sure what could be causing the master to activate when there&#39;s a slave with the same node ID. However, I recommend you migrate to the new <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/ha.html#pluggable-quorum-vote-replication-configurations\" rel=\"nofollow noreferrer\">pluggable quorum voting</a> which can integrate with ZooKeeper. This is superior to relying on the brokers themselves for quorum voting and split-brain mitigation. It will also potentially allow you to reduce the size of your cluster to a single HA pair."},{"owner":{"account_id":15714286,"reputation":633,"user_id":11338849,"display_name":"Nitin Zadage"},"score":0,"creation_date":1666238154,"post_id":74126846,"comment_id":130889784,"body_markdown":"For issue 1, when I limit number of consumers on a queue with `max-consumers` attribute to distribute consumers evenly and consumers from failed master should connect only to respective slave on failover. But no consumer with URL (b) connecting to slave instead they keep hanging and connect back to master when it starts. How to mitigate this?","body":"For issue 1, when I limit number of consumers on a queue with <code>max-consumers</code> attribute to distribute consumers evenly and consumers from failed master should connect only to respective slave on failover. But no consumer with URL (b) connecting to slave instead they keep hanging and connect back to master when it starts. How to mitigate this?"},{"owner":{"account_id":15714286,"reputation":633,"user_id":11338849,"display_name":"Nitin Zadage"},"score":0,"creation_date":1666239910,"post_id":74126846,"comment_id":130890055,"body_markdown":"Which is the version pluggable quorum voting available from?","body":"Which is the version pluggable quorum voting available from?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1666289703,"post_id":74126846,"comment_id":130907764,"body_markdown":"I can&#39;t really comment without more details about the URL the clients are using. Can you provide the _full_ URL?","body":"I can&#39;t really comment without more details about the URL the clients are using. Can you provide the <i>full</i> URL?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1666289840,"post_id":74126846,"comment_id":130907805,"body_markdown":"Pluggable quorum voting was introduced in 2.18.0 via [ARTEMIS-2716](https://issues.apache.org/jira/browse/ARTEMIS-2716). The [latest release](https://activemq.apache.org/components/artemis/download/) at this point is 2.26.0.","body":"Pluggable quorum voting was introduced in 2.18.0 via <a href=\"https://issues.apache.org/jira/browse/ARTEMIS-2716\" rel=\"nofollow noreferrer\">ARTEMIS-2716</a>. The <a href=\"https://activemq.apache.org/components/artemis/download/\" rel=\"nofollow noreferrer\">latest release</a> at this point is 2.26.0."},{"owner":{"account_id":15714286,"reputation":633,"user_id":11338849,"display_name":"Nitin Zadage"},"score":0,"creation_date":1667800030,"post_id":74126846,"comment_id":131244989,"body_markdown":"Issue seems to be due to restarted master node is not coming back to the cluster and acting as standalone broker. Whenever restarted node comes back to cluster quorum voting is happening and slave becomes backup. I&#39;ll create new question for it.","body":"Issue seems to be due to restarted master node is not coming back to the cluster and acting as standalone broker. Whenever restarted node comes back to cluster quorum voting is happening and slave becomes backup. I&#39;ll create new question for it."}],"owner":{"account_id":15714286,"reputation":633,"user_id":11338849,"display_name":"Nitin Zadage"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666191991,"creation_date":1666188565,"question_id":74126846,"body_markdown":"I have 4 master/slave broker pairs in Artemis cluster. Those are paired to each one on different servers as below are configurations for one of the pair. I use `tcp` to connect to brokers and URL to connect to broker is in two way. a) Some consumers connect to one broker, e. g. `tcp://server1:61616?params` b) Some consumers connect to all brokers (different queue) `(tcp://server1:61616,tcp://server2:61616,tcp://server3:61616,tcp://server4:61616)?params`\r\n\r\nI am facing 2 issues currently\r\n1. When I shutdown master broker, slave takes up as master but only those consumers which has URL (a) connects to active slave but other consumers which has URL (b) are connected to other master brokers (server2, server3, server4) instead of active slave.\r\n2. When I restart master again, sometimes slave does not take up as a backup again but instead both master and slave acts as active and get below exception on slave. I have to restart cluster to get all master slave as intended.\r\n```java\r\nThere is a possible split brain on nodeID a517ea1e-4edd-11ed-b9ac-005056a4dfbd, coming from connectors TopologyMember[id=a517ea1e-4edd-11ed-b9ac-005056a4dfbd, connector=Pair[a=TransportConfiguration(name=netty-connector, factory=org-apache-activemq-artemis-core-remoting-impl-netty-NettyConnectorFactory) ?trustStorePassword=****&amp;port=61616&amp;keyStorePassword=****&amp;sslEnabled=true&amp;host=10-0-0-1&amp;trustStorePath=server1_truststore-jks&amp;keyStorePath=server1_keystore-jks, b=null], backupGroupName=p1, scaleDownGroupName=null]. Topology update ignored.\r\n```\r\nHA configs as below\r\n\r\n**master**\r\n```xml\r\n&lt;ha-policy&gt;\r\n  &lt;replication&gt;\r\n     &lt;master&gt;\r\n         &lt;check-for-live-server&gt;true&lt;/check-for-live-server&gt;\r\n         &lt;group-name&gt;p1&lt;/group-name&gt;\r\n     &lt;/master&gt;\r\n  &lt;/replication&gt;\r\n&lt;/ha-policy&gt;\r\n```\r\n\r\n**slave**\r\n```xml\r\n&lt;ha-policy&gt;\r\n  &lt;replication&gt;\r\n      &lt;slave&gt;\r\n         &lt;allow-failback&gt;true&lt;/allow-failback&gt;\r\n         &lt;group-name&gt;p1&lt;/group-name&gt;\r\n       &lt;/slave&gt;\r\n   &lt;/replication&gt;\r\n&lt;/ha-policy&gt;\r\n```\r\nWhat could be the issues with this?","title":"ActiveMQ Artemis split brain on failback to master broker","body":"<p>I have 4 master/slave broker pairs in Artemis cluster. Those are paired to each one on different servers as below are configurations for one of the pair. I use <code>tcp</code> to connect to brokers and URL to connect to broker is in two way. a) Some consumers connect to one broker, e. g. <code>tcp://server1:61616?params</code> b) Some consumers connect to all brokers (different queue) <code>(tcp://server1:61616,tcp://server2:61616,tcp://server3:61616,tcp://server4:61616)?params</code></p>\n<p>I am facing 2 issues currently</p>\n<ol>\n<li>When I shutdown master broker, slave takes up as master but only those consumers which has URL (a) connects to active slave but other consumers which has URL (b) are connected to other master brokers (server2, server3, server4) instead of active slave.</li>\n<li>When I restart master again, sometimes slave does not take up as a backup again but instead both master and slave acts as active and get below exception on slave. I have to restart cluster to get all master slave as intended.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>There is a possible split brain on nodeID a517ea1e-4edd-11ed-b9ac-005056a4dfbd, coming from connectors TopologyMember[id=a517ea1e-4edd-11ed-b9ac-005056a4dfbd, connector=Pair[a=TransportConfiguration(name=netty-connector, factory=org-apache-activemq-artemis-core-remoting-impl-netty-NettyConnectorFactory) ?trustStorePassword=****&amp;port=61616&amp;keyStorePassword=****&amp;sslEnabled=true&amp;host=10-0-0-1&amp;trustStorePath=server1_truststore-jks&amp;keyStorePath=server1_keystore-jks, b=null], backupGroupName=p1, scaleDownGroupName=null]. Topology update ignored.\n</code></pre>\n<p>HA configs as below</p>\n<p><strong>master</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ha-policy&gt;\n  &lt;replication&gt;\n     &lt;master&gt;\n         &lt;check-for-live-server&gt;true&lt;/check-for-live-server&gt;\n         &lt;group-name&gt;p1&lt;/group-name&gt;\n     &lt;/master&gt;\n  &lt;/replication&gt;\n&lt;/ha-policy&gt;\n</code></pre>\n<p><strong>slave</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ha-policy&gt;\n  &lt;replication&gt;\n      &lt;slave&gt;\n         &lt;allow-failback&gt;true&lt;/allow-failback&gt;\n         &lt;group-name&gt;p1&lt;/group-name&gt;\n       &lt;/slave&gt;\n   &lt;/replication&gt;\n&lt;/ha-policy&gt;\n</code></pre>\n<p>What could be the issues with this?</p>\n"},{"tags":["java","android","bottomnavigationview"],"comments":[{"owner":{"account_id":2294849,"reputation":332016,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"score":0,"creation_date":1592858442,"post_id":62522456,"comment_id":110570773,"body_markdown":"Currently there isn&#39;t a public method to do it","body":"Currently there isn&#39;t a public method to do it"},{"owner":{"account_id":18907090,"reputation":71,"user_id":13794009,"display_name":"Vladimir Vorobyev"},"score":0,"creation_date":1592898748,"post_id":62522456,"comment_id":110581927,"body_markdown":"How to adapt Bottom Navigation for using with large tablets then? The text and icons are to small to use without any adaptation. But when you increasing the size of icon and the text size programmatically they overlap each other.","body":"How to adapt Bottom Navigation for using with large tablets then? The text and icons are to small to use without any adaptation. But when you increasing the size of icon and the text size programmatically they overlap each other."}],"answers":[{"tags":[],"owner":{"account_id":14507747,"reputation":605,"user_id":10479081,"display_name":"Shogun Nassar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645684060,"creation_date":1645684060,"answer_id":71247966,"question_id":62522456,"body_markdown":"Put this on your theme \r\n\r\n    &lt;style name=&quot;text_active&quot;&gt;\r\n        &lt;item name=&quot;android:textSize&quot;&gt;14sp&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/red_button&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;text_inactive&quot;&gt;\r\n        &lt;item name=&quot;android:textSize&quot;&gt;14sp&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/your_navigation_background_color&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nand then assign them to the bottom navigation view like this\r\n \r\n\r\n    app:itemTextAppearanceActive=&quot;@style/text_active&quot;\r\n    app:itemTextAppearanceInactive=&quot;@style/text_inactive&quot;\r\n    app:labelVisibilityMode=&quot;labeled&quot;\r\n","title":"Android Bottom Navigation: space between icon and text","body":"<p>Put this on your theme</p>\n<pre><code>&lt;style name=&quot;text_active&quot;&gt;\n    &lt;item name=&quot;android:textSize&quot;&gt;14sp&lt;/item&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/red_button&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;text_inactive&quot;&gt;\n    &lt;item name=&quot;android:textSize&quot;&gt;14sp&lt;/item&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/your_navigation_background_color&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>and then assign them to the bottom navigation view like this</p>\n<pre><code>app:itemTextAppearanceActive=&quot;@style/text_active&quot;\napp:itemTextAppearanceInactive=&quot;@style/text_inactive&quot;\napp:labelVisibilityMode=&quot;labeled&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3893585,"reputation":636,"user_id":3223198,"display_name":"Andrew Panasiuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666191942,"creation_date":1666191942,"answer_id":74127730,"question_id":62522456,"body_markdown":"`app:itemPaddingTop` and `app:itemPaddingBottom` attributes can help to adjust the space between the icon and label inside `BottomNavigationView` item.\r\n\r\nActually, they&#39;re just managing space between top edge and icon, and bottom edge and label respectively but that also makes possible to increase/decrease space between icon and label.","title":"Android Bottom Navigation: space between icon and text","body":"<p><code>app:itemPaddingTop</code> and <code>app:itemPaddingBottom</code> attributes can help to adjust the space between the icon and label inside <code>BottomNavigationView</code> item.</p>\n<p>Actually, they're just managing space between top edge and icon, and bottom edge and label respectively but that also makes possible to increase/decrease space between icon and label.</p>\n"}],"owner":{"account_id":18907090,"reputation":71,"user_id":13794009,"display_name":"Vladimir Vorobyev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2149,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1666191942,"creation_date":1592855621,"question_id":62522456,"body_markdown":"How to change the vertical space between icon and text in BottomNavigation programmatically?\r\nThe only way I found is to modify dimens.xml:\r\n\r\n    &lt;dimen name=&quot;design_bottom_navigation_height&quot; tools:override=&quot;true&quot;&gt;60dp&lt;/dimen&gt;\r\n\r\nBut it&#39;s not possible to modify dimens from the code.\r\nWhat should I do? How to find which parameter is changing when we modify &quot;design_bottom_navigation_height&quot;?\r\nThanks in advance.\r\n","title":"Android Bottom Navigation: space between icon and text","body":"<p>How to change the vertical space between icon and text in BottomNavigation programmatically?\nThe only way I found is to modify dimens.xml:</p>\n<pre><code>&lt;dimen name=&quot;design_bottom_navigation_height&quot; tools:override=&quot;true&quot;&gt;60dp&lt;/dimen&gt;\n</code></pre>\n<p>But it's not possible to modify dimens from the code.\nWhat should I do? How to find which parameter is changing when we modify &quot;design_bottom_navigation_height&quot;?\nThanks in advance.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666182502,"post_id":74125214,"comment_id":130874355,"body_markdown":"The locale (note lower case) is ultimately the responsibility of the OS and its sysadmins keeping it up to date (including Java updates). The only way to ensure with certainty that EUR were used is if you get the app to poll some server controlled by you checking for updates","body":"The locale (note lower case) is ultimately the responsibility of the OS and its sysadmins keeping it up to date (including Java updates). The only way to ensure with certainty that EUR were used is if you get the app to poll some server controlled by you checking for updates"}],"answers":[{"tags":[],"owner":{"account_id":24690055,"reputation":1,"user_id":18582686,"display_name":"hicben"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666191528,"creation_date":1666190371,"answer_id":74127305,"question_id":74125214,"body_markdown":"I found a solution. We can override currencies by adding a properties file named currency.properties on &lt;JAVA_HOME&gt;/lib.\r\n\r\n#Sample currency properties\r\n\r\nJP=JPZ,999,0\r\n","title":"Override Currency for a Locale","body":"<p>I found a solution. We can override currencies by adding a properties file named currency.properties on &lt;JAVA_HOME&gt;/lib.</p>\n<p>#Sample currency properties</p>\n<p>JP=JPZ,999,0</p>\n"}],"owner":{"account_id":24690055,"reputation":1,"user_id":18582686,"display_name":"hicben"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1666191578,"accepted_answer_id":74127305,"answer_count":1,"score":-1,"last_activity_date":1666191528,"creation_date":1666181959,"question_id":74125214,"body_markdown":"On our project, we get currency whith java.util.Currency for each country. The problem is that a country will change its currency to EUR and we will need a new Java release that contains this change the same day. Is there a way to cutomize the currency of a Locale on the launching of JVM ?\r\n\r\nThank you in advance.","title":"Override Currency for a Locale","body":"<p>On our project, we get currency whith java.util.Currency for each country. The problem is that a country will change its currency to EUR and we will need a new Java release that contains this change the same day. Is there a way to cutomize the currency of a Locale on the launching of JVM ?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","html","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":8986202,"reputation":194,"user_id":6699701,"display_name":"Amol Gharpure"},"score":0,"creation_date":1666030846,"post_id":74101051,"comment_id":130834251,"body_markdown":"You need to first initialize the xValue and yValue from your controller and them call the matrix.fillArrayList(); You are getting the error because the value of those variables in null.","body":"You need to first initialize the xValue and yValue from your controller and them call the matrix.fillArrayList(); You are getting the error because the value of those variables in null."}],"answers":[{"tags":[],"owner":{"account_id":4492549,"reputation":660,"user_id":3653304,"display_name":"Ralan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666088343,"creation_date":1666088343,"answer_id":74109336,"question_id":74101051,"body_markdown":"Based on the assumption that you&#39;ve filled in valid data in the form you&#39;r submitting to the post. You will need standard setter (and maybe getter for view) methods for spring to be able to fill your model entity.\r\n\r\n----\r\n\r\nAlso `&lt;tr th:each=&quot;matrix : ${matrix}&quot;&gt;` is problematic as you&#39;r defining the same variable name twice this way.\r\n\r\nTo prevent errors like these it&#39;s good practice to add bean validation with `@NotNull` on your y and x variables and modify controller as such\r\n```java\r\n@PostMapping(&quot;/generate&quot;)\r\npublic String matrixRegistration(@Valid Matrix matrix, Model model, BindingResult bindingresult) \r\n{\r\n    if (bindingResult.hasErrors())\r\n    {\r\n        //handle errors\r\n    }\r\n    matrix.fillArrayList();\r\n    model.addAttribute(&quot;matrix&quot;, matrix);\r\n    return &quot;redirect:/&quot;;\r\n}\r\n```\r\nsee https://zetcode.com/spring/bindingresult/ for more details","title":"How to print 2d array created using java in HTML","body":"<p>Based on the assumption that you've filled in valid data in the form you'r submitting to the post. You will need standard setter (and maybe getter for view) methods for spring to be able to fill your model entity.</p>\n<hr />\n<p>Also <code>&lt;tr th:each=&quot;matrix : ${matrix}&quot;&gt;</code> is problematic as you'r defining the same variable name twice this way.</p>\n<p>To prevent errors like these it's good practice to add bean validation with <code>@NotNull</code> on your y and x variables and modify controller as such</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/generate&quot;)\npublic String matrixRegistration(@Valid Matrix matrix, Model model, BindingResult bindingresult) \n{\n    if (bindingResult.hasErrors())\n    {\n        //handle errors\n    }\n    matrix.fillArrayList();\n    model.addAttribute(&quot;matrix&quot;, matrix);\n    return &quot;redirect:/&quot;;\n}\n</code></pre>\n<p>see <a href=\"https://zetcode.com/spring/bindingresult/\" rel=\"nofollow noreferrer\">https://zetcode.com/spring/bindingresult/</a> for more details</p>\n"},{"tags":[],"owner":{"account_id":26651295,"reputation":1,"user_id":20265560,"display_name":"meriadoc brandybuck"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666191441,"creation_date":1666191441,"answer_id":74127614,"question_id":74101051,"body_markdown":"I solved my own problem myself.\r\n\r\n    &lt;table&gt;\r\n        &lt;tr th:each=&quot;values :${matrixArray}&quot;&gt;\r\n    \t\t\t\t&lt;th:block th:each=&quot;val :${values}&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;td th:text=&quot;*{val}&quot;&gt;&lt;/td&gt;\r\n    \t\t\t\t&lt;/th:block&gt;\r\n    \t\t   &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n\r\n\r\nThans for suggestions. Its help a lot.","title":"How to print 2d array created using java in HTML","body":"<p>I solved my own problem myself.</p>\n<pre><code>&lt;table&gt;\n    &lt;tr th:each=&quot;values :${matrixArray}&quot;&gt;\n                &lt;th:block th:each=&quot;val :${values}&quot;&gt;\n                            &lt;td th:text=&quot;*{val}&quot;&gt;&lt;/td&gt;\n                &lt;/th:block&gt;\n           &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n<p>Thans for suggestions. Its help a lot.</p>\n"}],"owner":{"account_id":26651295,"reputation":1,"user_id":20265560,"display_name":"meriadoc brandybuck"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666191441,"creation_date":1666027891,"question_id":74101051,"body_markdown":"I&#39;m trying to print a 2d array on HTML. I&#39;m trying to learn &quot;Spring Boot Framework&quot; and I&#39;m stuck here. Is anybody know the solution? Posting my codes below, please help me.\r\n\r\nMatrixApplication.java\r\n\r\n    package com.example.matrix;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class MatrixApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(MatrixApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n\r\nIndexController.java\r\n\r\n    package com.example.matrix.controller;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.ModelAttribute;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    \r\n    import com.example.matrix.model.Matrix;\r\n    \r\n    \r\n    @Controller\r\n    public class IndexController {\r\n    \t@GetMapping(&quot;/&quot;)\r\n    \tpublic String index() {\r\n    \t\treturn &quot;index&quot;;\r\n    \t}\r\n    \t\r\n    \t@PostMapping(&quot;/generate&quot;)\r\n    \tpublic String matrixRegistration(@ModelAttribute Matrix matrix, Model model) {\r\n    \r\n    \t\tmatrix.fillArrayList();\r\n    \t\tmodel.addAttribute(&quot;matrix&quot;, matrix);\r\n    \t\treturn &quot;redirect:/&quot;;\r\n    \t}\r\n    }\r\n\r\nMatrix.java\r\n\r\n    package com.example.matrix.model;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.Random;\r\n    \r\n    public class Matrix {\r\n    \r\n    \t\r\n    \tpublic String xValue;\r\n    \tpublic String yValue;\r\n    \tpublic String matrixList[][];\r\n    \t\t\r\n    \r\n    \tpublic Matrix() {\r\n    \t\tfillArrayList();\r\n    \t}\r\n    \r\n    \tpublic void setMatrixList(String[][] matrixList) {\r\n    \t\tthis.matrixList = matrixList;\r\n    \t}\r\n    \r\n    \tpublic void printMatrixList() {\r\n    \t\t\r\n    \t\tfor(int i=0; i &lt; Integer.parseInt(this.xValue); i++){\r\n    \t\t\tfor(int j=0; j &lt; Integer.parseInt(this.yValue); j++){\r\n    \t\t\t\tSystem.out.print(this.matrixList[i][j] + &quot; &quot;);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Matrix [matrixList=&quot; + Arrays.toString(matrixList) + &quot;]&quot;;\r\n    \t}\r\n    \r\n    \tpublic void fillArrayList() {\r\n    \t\tint xValue = Integer.parseInt(this.xValue);\r\n    \t\tint yValue = Integer.parseInt(this.yValue);\r\n    \t\tthis.matrixList = new String[xValue][yValue];\r\n    \t\t\r\n    \t\t\r\n    \t\tRandom rand = new Random(); \r\n    \t\tfor(int i=0; i &lt; xValue; i++){\r\n    \t\t\tfor(int j=0; j &lt; yValue; j++){\r\n    \t\t\t\tthis.matrixList[i][j] = String.valueOf(rand.nextInt(100));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nindex.html\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Title&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \r\n    &lt;form action=&quot;generate&quot; method=&quot;post&quot;&gt;\r\n    &lt;label for=&quot;x&quot;&gt;X&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; name=&quot;xValue&quot;/&gt;&lt;br /&gt;\r\n    &lt;label for=&quot;y&quot;&gt;Y&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; name=&quot;yValue&quot;/&gt; &lt;br /&gt;\r\n    &lt;button type=&quot;submit&quot;&gt;Generate&lt;/button&gt;\r\n    &lt;/form&gt;\r\n    \r\n    &lt;table border=&quot;1&quot; cellpadding=&quot;10&quot;&gt;\r\n    \t\t&lt;table border=&quot;1&quot; cellpadding=&quot;10&quot;&gt;\r\n    \t\t\t&lt;tbody&gt;\r\n    \t\t\t&lt;tr th:each=&quot;matrix : ${matrix}&quot;&gt;\r\n    \t\t\t\t&lt;td th:text=&quot;${matrix.xValue}&quot;&gt;&lt;/td&gt;\r\n    \t\t\t\t&lt;td th:text=&quot;${matrix.yValue}&quot;&gt;&lt;/td&gt;\r\n    \t\t\t&lt;/tr&gt;\r\n    \t\t\t&lt;/table&gt;\r\n    &lt;/table&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nPart of the error I got. I cut it in half because it was too long.\r\n\r\n        java.lang.NumberFormatException: Cannot parse null string\r\n        \tat java.base/java.lang.Integer.parseInt(Integer.java:630) ~[na:na]\r\n        \tat java.base/java.lang.Integer.parseInt(Integer.java:786) ~[na:na]\r\n        \tat com.example.matrix.model.Matrix.fillArrayList(Matrix.java:38) ~[classes/:na]\r\n        \tat com.example.matrix.model.Matrix.&lt;init&gt;(Matrix.java:15) ~[classes/:na]\r\n        \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n        \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n        \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n        \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n        \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n        \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211) ~[spring-beans-5.3.23.jar:5.3.23]\r\n        \tat org.springframework.web.method.annotation.ModelAttributeMethodProcessor.constructAttribute(ModelAttributeMethodProcessor.java:247) ~[spring-web-5.3.23.jar:5.3.23]\r\n        \tat org.springframework.web.method.annotation.ModelAttributeMethodProcessor.createAttribute(ModelAttributeMethodProcessor.java:220) ~[spring-web-5.3.23.jar:5.3.23]\r\n        \tat org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:85) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n    2022-10-17 20:27:10.540 ERROR 39459 --- [nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.example.matrix.model.Matrix]: Constructor threw exception; nested exception is java.lang.NumberFormatException: Cannot parse null string] with root cause\r\n    \r\n    java.lang.NumberFormatException: Cannot parse null string\r\n    \tat java.base/java.lang.Integer.parseInt(Integer.java:630) ~[na:na]\r\n    \tat java.base/java.lang.Integer.parseInt(Integer.java:786) ~[na:na]\r\n    \tat com.example.matrix.model.Matrix.fillArrayList(Matrix.java:38) ~[classes/:na]\r\n    \tat com.example.matrix.model.Matrix.&lt;init&gt;(Matrix.java:15) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.web.method.annotation.ModelAttributeMethodProcessor.constructAttribute(ModelAttributeMethodProcessor.java:247) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.web.method.annotation.ModelAttributeMethodProcessor.createAttribute(ModelAttributeMethodProcessor.java:220) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:85) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:147) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146) ~[spring-web-5.3.23.jar:5.3.23]\r\n\t\r\n\r\nThank you for your attention.\r\nGood deeds.","title":"How to print 2d array created using java in HTML","body":"<p>I'm trying to print a 2d array on HTML. I'm trying to learn &quot;Spring Boot Framework&quot; and I'm stuck here. Is anybody know the solution? Posting my codes below, please help me.</p>\n<p>MatrixApplication.java</p>\n<pre><code>package com.example.matrix;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class MatrixApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MatrixApplication.class, args);\n    }\n}\n</code></pre>\n<p>IndexController.java</p>\n<pre><code>package com.example.matrix.controller;\n\nimport java.util.List;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PostMapping;\n\nimport com.example.matrix.model.Matrix;\n\n\n@Controller\npublic class IndexController {\n    @GetMapping(&quot;/&quot;)\n    public String index() {\n        return &quot;index&quot;;\n    }\n    \n    @PostMapping(&quot;/generate&quot;)\n    public String matrixRegistration(@ModelAttribute Matrix matrix, Model model) {\n\n        matrix.fillArrayList();\n        model.addAttribute(&quot;matrix&quot;, matrix);\n        return &quot;redirect:/&quot;;\n    }\n}\n</code></pre>\n<p>Matrix.java</p>\n<pre><code>package com.example.matrix.model;\n\nimport java.util.Arrays;\nimport java.util.Random;\n\npublic class Matrix {\n\n    \n    public String xValue;\n    public String yValue;\n    public String matrixList[][];\n        \n\n    public Matrix() {\n        fillArrayList();\n    }\n\n    public void setMatrixList(String[][] matrixList) {\n        this.matrixList = matrixList;\n    }\n\n    public void printMatrixList() {\n        \n        for(int i=0; i &lt; Integer.parseInt(this.xValue); i++){\n            for(int j=0; j &lt; Integer.parseInt(this.yValue); j++){\n                System.out.print(this.matrixList[i][j] + &quot; &quot;);\n            }\n            System.out.println(&quot;&quot;);\n        }\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Matrix [matrixList=&quot; + Arrays.toString(matrixList) + &quot;]&quot;;\n    }\n\n    public void fillArrayList() {\n        int xValue = Integer.parseInt(this.xValue);\n        int yValue = Integer.parseInt(this.yValue);\n        this.matrixList = new String[xValue][yValue];\n        \n        \n        Random rand = new Random(); \n        for(int i=0; i &lt; xValue; i++){\n            for(int j=0; j &lt; yValue; j++){\n                this.matrixList[i][j] = String.valueOf(rand.nextInt(100));\n            }\n        }\n    }\n}\n</code></pre>\n<p>index.html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;form action=&quot;generate&quot; method=&quot;post&quot;&gt;\n&lt;label for=&quot;x&quot;&gt;X&lt;/label&gt;\n&lt;input type=&quot;text&quot; name=&quot;xValue&quot;/&gt;&lt;br /&gt;\n&lt;label for=&quot;y&quot;&gt;Y&lt;/label&gt;\n&lt;input type=&quot;text&quot; name=&quot;yValue&quot;/&gt; &lt;br /&gt;\n&lt;button type=&quot;submit&quot;&gt;Generate&lt;/button&gt;\n&lt;/form&gt;\n\n&lt;table border=&quot;1&quot; cellpadding=&quot;10&quot;&gt;\n        &lt;table border=&quot;1&quot; cellpadding=&quot;10&quot;&gt;\n            &lt;tbody&gt;\n            &lt;tr th:each=&quot;matrix : ${matrix}&quot;&gt;\n                &lt;td th:text=&quot;${matrix.xValue}&quot;&gt;&lt;/td&gt;\n                &lt;td th:text=&quot;${matrix.yValue}&quot;&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;/table&gt;\n&lt;/table&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Part of the error I got. I cut it in half because it was too long.</p>\n<pre><code>    java.lang.NumberFormatException: Cannot parse null string\n        at java.base/java.lang.Integer.parseInt(Integer.java:630) ~[na:na]\n        at java.base/java.lang.Integer.parseInt(Integer.java:786) ~[na:na]\n        at com.example.matrix.model.Matrix.fillArrayList(Matrix.java:38) ~[classes/:na]\n        at com.example.matrix.model.Matrix.&lt;init&gt;(Matrix.java:15) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211) ~[spring-beans-5.3.23.jar:5.3.23]\n        at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.constructAttribute(ModelAttributeMethodProcessor.java:247) ~[spring-web-5.3.23.jar:5.3.23]\n        at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.createAttribute(ModelAttributeMethodProcessor.java:220) ~[spring-web-5.3.23.jar:5.3.23]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:85) ~[spring-webmvc-5.3.23.jar:5.3.23]\n2022-10-17 20:27:10.540 ERROR 39459 --- [nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.example.matrix.model.Matrix]: Constructor threw exception; nested exception is java.lang.NumberFormatException: Cannot parse null string] with root cause\n\njava.lang.NumberFormatException: Cannot parse null string\n    at java.base/java.lang.Integer.parseInt(Integer.java:630) ~[na:na]\n    at java.base/java.lang.Integer.parseInt(Integer.java:786) ~[na:na]\n    at com.example.matrix.model.Matrix.fillArrayList(Matrix.java:38) ~[classes/:na]\n    at com.example.matrix.model.Matrix.&lt;init&gt;(Matrix.java:15) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.constructAttribute(ModelAttributeMethodProcessor.java:247) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.createAttribute(ModelAttributeMethodProcessor.java:220) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:85) ~[spring-webmvc-5.3.23.jar:5.3.23]\n    at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:147) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146) ~[spring-web-5.3.23.jar:5.3.23]\n</code></pre>\n<p>Thank you for your attention.\nGood deeds.</p>\n"},{"tags":["java","spring","spring-security","jwt","spring-security-rest"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1659197834,"post_id":73177149,"comment_id":129238938,"body_markdown":"Please state the reson for not using rhe built in JWT filter that exists in spring security as writing custom security solutions is bad practice. Please read the jwt chapter in the docs","body":"Please state the reson for not using rhe built in JWT filter that exists in spring security as writing custom security solutions is bad practice. Please read the jwt chapter in the docs"},{"owner":{"account_id":8525408,"reputation":603,"user_id":6391001,"accept_rate":75,"display_name":"user9492428"},"score":2,"creation_date":1659198221,"post_id":73177149,"comment_id":129239044,"body_markdown":"@Toerktumlare can you please link the reading material for this?","body":"@Toerktumlare can you please link the reading material for this?"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1659199517,"post_id":73177149,"comment_id":129239338,"body_markdown":"You didn’t answer my question","body":"You didn’t answer my question"},{"owner":{"account_id":8525408,"reputation":603,"user_id":6391001,"accept_rate":75,"display_name":"user9492428"},"score":1,"creation_date":1659200264,"post_id":73177149,"comment_id":129239496,"body_markdown":"@Toerktumlare I was following some (deprecated) guides and most of them implemented custom filters so I did the same. No other special reason, really","body":"@Toerktumlare I was following some (deprecated) guides and most of them implemented custom filters so I did the same. No other special reason, really"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1659201280,"post_id":73177149,"comment_id":129239716,"body_markdown":"Why havn’t you read the official docs?","body":"Why havn’t you read the official docs?"},{"owner":{"account_id":8525408,"reputation":603,"user_id":6391001,"accept_rate":75,"display_name":"user9492428"},"score":1,"creation_date":1659201697,"post_id":73177149,"comment_id":129239806,"body_markdown":"@Toerktumlare tried reading but slightly cramped for time so followed some guides I found on other sites then used some migration guides to remove the deprecated classes etc. Can you please send some reference regarding the JWT Filter you mentioned? Would be a big help","body":"@Toerktumlare tried reading but slightly cramped for time so followed some guides I found on other sites then used some migration guides to remove the deprecated classes etc. Can you please send some reference regarding the JWT Filter you mentioned? Would be a big help"},{"owner":{"account_id":8525408,"reputation":603,"user_id":6391001,"accept_rate":75,"display_name":"user9492428"},"score":1,"creation_date":1659207314,"post_id":73177149,"comment_id":129241127,"body_markdown":"I did go through the documentation (https://docs.spring.io/spring-security/) to find something regarding a JWT Filter you mentioned. Even searched for JWT but only thing that returned was regarding &quot;OAuth 2.0 Resource Server JWT&quot; which I don&#39;t think is applicable here. Once again, I am asking for any reference you could provide as it would be a big help. I am just trying to learn the right way to do it","body":"I did go through the documentation (<a href=\"https://docs.spring.io/spring-security/\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security</a>) to find something regarding a JWT Filter you mentioned. Even searched for JWT but only thing that returned was regarding &quot;OAuth 2.0 Resource Server JWT&quot; which I don&#39;t think is applicable here. Once again, I am asking for any reference you could provide as it would be a big help. I am just trying to learn the right way to do it"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1659210650,"post_id":73177149,"comment_id":129241797,"body_markdown":"why dont you think its applicable here, i want to hear your reasoning for it?","body":"why dont you think its applicable here, i want to hear your reasoning for it?"},{"owner":{"account_id":8525408,"reputation":603,"user_id":6391001,"accept_rate":75,"display_name":"user9492428"},"score":0,"creation_date":1659211286,"post_id":73177149,"comment_id":129241902,"body_markdown":"@Toerktumlare because I read through it and there was nothing regarding a class called `JWTFilter`. It mentioned an &quot;authentication Filter&quot; but the link to it was broken and I couldnt find a mention of it anywhere else so I assumed it was not important","body":"@Toerktumlare because I read through it and there was nothing regarding a class called <code>JWTFilter</code>. It mentioned an &quot;authentication Filter&quot; but the link to it was broken and I couldnt find a mention of it anywhere else so I assumed it was not important"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1659211516,"post_id":73177149,"comment_id":129241954,"body_markdown":"You dont need acceess to a JWTFilter, all you need access to is to configure the JWTFilter to your liking. The text explains to you, how to configure the internal JWTFilter so that it validates your tokens using Nimbus (the jwt library that comes with spring security)","body":"You dont need acceess to a JWTFilter, all you need access to is to configure the JWTFilter to your liking. The text explains to you, how to configure the internal JWTFilter so that it validates your tokens using Nimbus (the jwt library that comes with spring security)"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1659257889,"post_id":73177149,"comment_id":129247720,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/246925/discussion-between-toerktumlare-and-user9492428).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/246925/discussion-between-toerktumlare-and-user9492428\">continue this discussion in chat</a>."},{"owner":{"account_id":15178561,"reputation":163,"user_id":16235371,"display_name":"Johnny boy"},"score":2,"creation_date":1663814670,"post_id":73177149,"comment_id":130329328,"body_markdown":"I would have liked to know how this conversation played out","body":"I would have liked to know how this conversation played out"},{"owner":{"account_id":25502779,"reputation":109,"user_id":19295685,"display_name":"seju"},"score":1,"creation_date":1665619453,"post_id":73177149,"comment_id":130745372,"body_markdown":"Do you have a github repo of your implementation of JWT? Because I am also like you and many other, I cannot find anything concrete from spring documentation without the mentioning of OAuth2 and OpenID Connect @user9492428","body":"Do you have a github repo of your implementation of JWT? Because I am also like you and many other, I cannot find anything concrete from spring documentation without the mentioning of OAuth2 and OpenID Connect @user9492428"}],"owner":{"account_id":8525408,"reputation":603,"user_id":6391001,"accept_rate":75,"display_name":"user9492428"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1909,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1666191399,"creation_date":1659197047,"question_id":73177149,"body_markdown":"In order to protect my Rest API endpoints, I implemented Spring Security using JWT authentication. My code &quot;works&quot; without any issues/exceptions but it would be great if I could get my implementation validated to ensure it is implemented as expected.\r\n\r\n`WebSecurityConfig.java`\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @RequiredArgsConstructor\r\n    public class WebSecurityConfig {\r\n\r\n        private final CustomAuthenticationManager customAuthenticationManager;\r\n        private final AuthTokenFilter authTokenFilter;\r\n        private final AuthEntryPoint authEntryPoint;\r\n        @Value(&quot;${api.prefix}&quot;)\r\n        private String apiPrefix;\r\n\r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                    .cors().and().csrf().disable()\r\n                    .exceptionHandling().authenticationEntryPoint(null).and()\r\n                    .authenticationManager(customAuthenticationManager)\r\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and()\r\n                    .authorizeRequests()\r\n                    .antMatchers(apiPrefix + &quot;/auth/**&quot;).permitAll()\r\n                    .antMatchers(apiPrefix + &quot;/test/**&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .exceptionHandling(\r\n                            httpSecurityExceptionHandlingConfigurer -&gt; httpSecurityExceptionHandlingConfigurer\r\n                                    .authenticationEntryPoint(authEntryPoint)\r\n                    );\r\n            http.addFilterBefore(authTokenFilter, UsernamePasswordAuthenticationFilter.class);\r\n            return http.build();\r\n        }\r\n    }\r\n\r\n`AuthTokenFilter.java`\r\n\r\n    @Slf4j\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class AuthTokenFilter extends OncePerRequestFilter {\r\n\r\n        private final JwtUtils jwtUtils;\r\n\r\n        private final UserDAO userDAO;\r\n\r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n            String jwt = parseJwt(request);\r\n\r\n            if (Objects.isNull(jwt)) {\r\n                throw new AuthenticationCredentialsNotFoundException(&quot;Unable to extract JWT token from authentication header&quot;);\r\n            }\r\n\r\n            try {\r\n                if (jwtUtils.validateJwtToken(jwt)) {\r\n                    String username = jwtUtils.getUserNameFromJwtToken(jwt);\r\n                    UserDetails userDetails = userDAO.loadUserByUsername(username);\r\n                    UsernamePasswordAuthenticationToken authentication = UsernamePasswordAuthenticationToken.authenticated(userDetails, null, new ArrayList&lt;&gt;()); // please check this line\r\n                    authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                    SecurityContextHolder.getContext().setAuthentication(authentication);\r\n                    filterChain.doFilter(request, response);\r\n                }\r\n            } catch (AuthenticationException e) {\r\n                throw e;\r\n            } catch (Exception e) {\r\n                log.error(&quot;Cannot set user authentication: {}&quot;, e.getMessage(), e);\r\n                throw new CustomRTException(&quot;Error while validating jwt token&quot;, HttpStatus.UNAUTHORIZED);\r\n            }\r\n        }\r\n\r\n        private String parseJwt(HttpServletRequest request) {\r\n            String headerAuth = request.getHeader(&quot;Authorization&quot;);\r\n            if (StringUtils.hasText(headerAuth) &amp;&amp; headerAuth.startsWith(&quot;Bearer &quot;)) {\r\n                return headerAuth.substring(7);\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n`CustomAuthenticationManager.java`\r\n\r\n    @Slf4j\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class CustomAuthenticationManager implements AuthenticationManager {\r\n\r\n        private final UserDAO userDAO;\r\n\r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n\r\n        @Override\r\n        public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n            UserDetails userDetails = userDAO.loadUserByUsername(authentication.getName());\r\n            if (passwordEncoder().matches(authentication.getCredentials().toString(), userDetails.getPassword())) {\r\n                throw new BadCredentialsException(&quot;Wrong Password&quot;);\r\n            }\r\n            return new UsernamePasswordAuthenticationToken(userDetails, userDetails.getPassword());\r\n        }\r\n    }\r\n\r\n(If any other classes such as `UserDAO` or `AuthEntryPoint` is required, let me know. I just shared the classes that I thought were relevant since others were fairly straightforward)\r\n\r\nOne of the biggest issues that I had was, in `AuthTokenFilter` even after validating the JWT token, Spring tries to call `CustomAuthenticationManager#authenticate` again which caused a `NullPointerException` at this line\r\n\r\n    authentication.getCredentials().toString() // credentials is null because after parsing the JWT token, I am unable to get the password\r\n\r\nThis issue was fixed in this line\r\n\r\n    UsernamePasswordAuthenticationToken authentication = UsernamePasswordAuthenticationToken.authenticated(userDetails, null, new ArrayList&lt;&gt;());\r\n\r\n(authorities is empty list as I am currently do not need to grant any) \r\n\r\nThis code was pieced together following some migration guides from the now deprecated `WebSecurityConfigurerAdapter` therefore I just want to make sure everything is correct.","title":"Spring Security + JWT authentication","body":"<p>In order to protect my Rest API endpoints, I implemented Spring Security using JWT authentication. My code &quot;works&quot; without any issues/exceptions but it would be great if I could get my implementation validated to ensure it is implemented as expected.</p>\n<p><code>WebSecurityConfig.java</code></p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class WebSecurityConfig {\n\n    private final CustomAuthenticationManager customAuthenticationManager;\n    private final AuthTokenFilter authTokenFilter;\n    private final AuthEntryPoint authEntryPoint;\n    @Value(&quot;${api.prefix}&quot;)\n    private String apiPrefix;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .cors().and().csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(null).and()\n                .authenticationManager(customAuthenticationManager)\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authorizeRequests()\n                .antMatchers(apiPrefix + &quot;/auth/**&quot;).permitAll()\n                .antMatchers(apiPrefix + &quot;/test/**&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .exceptionHandling(\n                        httpSecurityExceptionHandlingConfigurer -&gt; httpSecurityExceptionHandlingConfigurer\n                                .authenticationEntryPoint(authEntryPoint)\n                );\n        http.addFilterBefore(authTokenFilter, UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n}\n</code></pre>\n<p><code>AuthTokenFilter.java</code></p>\n<pre><code>@Slf4j\n@Component\n@RequiredArgsConstructor\npublic class AuthTokenFilter extends OncePerRequestFilter {\n\n    private final JwtUtils jwtUtils;\n\n    private final UserDAO userDAO;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        String jwt = parseJwt(request);\n\n        if (Objects.isNull(jwt)) {\n            throw new AuthenticationCredentialsNotFoundException(&quot;Unable to extract JWT token from authentication header&quot;);\n        }\n\n        try {\n            if (jwtUtils.validateJwtToken(jwt)) {\n                String username = jwtUtils.getUserNameFromJwtToken(jwt);\n                UserDetails userDetails = userDAO.loadUserByUsername(username);\n                UsernamePasswordAuthenticationToken authentication = UsernamePasswordAuthenticationToken.authenticated(userDetails, null, new ArrayList&lt;&gt;()); // please check this line\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n                filterChain.doFilter(request, response);\n            }\n        } catch (AuthenticationException e) {\n            throw e;\n        } catch (Exception e) {\n            log.error(&quot;Cannot set user authentication: {}&quot;, e.getMessage(), e);\n            throw new CustomRTException(&quot;Error while validating jwt token&quot;, HttpStatus.UNAUTHORIZED);\n        }\n    }\n\n    private String parseJwt(HttpServletRequest request) {\n        String headerAuth = request.getHeader(&quot;Authorization&quot;);\n        if (StringUtils.hasText(headerAuth) &amp;&amp; headerAuth.startsWith(&quot;Bearer &quot;)) {\n            return headerAuth.substring(7);\n        }\n        return null;\n    }\n}\n</code></pre>\n<p><code>CustomAuthenticationManager.java</code></p>\n<pre><code>@Slf4j\n@Component\n@RequiredArgsConstructor\npublic class CustomAuthenticationManager implements AuthenticationManager {\n\n    private final UserDAO userDAO;\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        UserDetails userDetails = userDAO.loadUserByUsername(authentication.getName());\n        if (passwordEncoder().matches(authentication.getCredentials().toString(), userDetails.getPassword())) {\n            throw new BadCredentialsException(&quot;Wrong Password&quot;);\n        }\n        return new UsernamePasswordAuthenticationToken(userDetails, userDetails.getPassword());\n    }\n}\n</code></pre>\n<p>(If any other classes such as <code>UserDAO</code> or <code>AuthEntryPoint</code> is required, let me know. I just shared the classes that I thought were relevant since others were fairly straightforward)</p>\n<p>One of the biggest issues that I had was, in <code>AuthTokenFilter</code> even after validating the JWT token, Spring tries to call <code>CustomAuthenticationManager#authenticate</code> again which caused a <code>NullPointerException</code> at this line</p>\n<pre><code>authentication.getCredentials().toString() // credentials is null because after parsing the JWT token, I am unable to get the password\n</code></pre>\n<p>This issue was fixed in this line</p>\n<pre><code>UsernamePasswordAuthenticationToken authentication = UsernamePasswordAuthenticationToken.authenticated(userDetails, null, new ArrayList&lt;&gt;());\n</code></pre>\n<p>(authorities is empty list as I am currently do not need to grant any)</p>\n<p>This code was pieced together following some migration guides from the now deprecated <code>WebSecurityConfigurerAdapter</code> therefore I just want to make sure everything is correct.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"display_name":"user6073886"},"score":5,"creation_date":1666178581,"post_id":74124455,"comment_id":130872867,"body_markdown":"Does User override equals and hashcode?","body":"Does User override equals and hashcode?"},{"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"score":0,"creation_date":1666178785,"post_id":74124455,"comment_id":130872945,"body_markdown":"The `Set` classes discard repeated entries; they call `.equals()` on the objects to check if they are repeated or not; you will have to override that. Also, since you&#39;re using the `HashSet` implementation, you might want to override the `.hashCode()`, for performance reasons.","body":"The <code>Set</code> classes discard repeated entries; they call <code>.equals()</code> on the objects to check if they are repeated or not; you will have to override that. Also, since you&#39;re using the <code>HashSet</code> implementation, you might want to override the <code>.hashCode()</code>, for performance reasons."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1666179080,"post_id":74124455,"comment_id":130873055,"body_markdown":"I think if the problem was just equals/hashCode there would be two objects there. IMO, the problem is that the `builder()` may be using a single User object. So please include the builder code as well - [edit] your question and add all the information, don&#39;t try to paste code in the comments.","body":"I think if the problem was just equals/hashCode there would be two objects there. IMO, the problem is that the <code>builder()</code> may be using a single User object. So please include the builder code as well - <a href=\"https://stackoverflow.com/posts/74124455/edit\">edit</a> your question and add all the information, don&#39;t try to paste code in the comments."},{"owner":{"account_id":21674731,"reputation":35,"user_id":15991889,"display_name":"Steve Otieno"},"score":0,"creation_date":1666179111,"post_id":74124455,"comment_id":130873066,"body_markdown":"No it does not override.","body":"No it does not override."},{"owner":{"account_id":21674731,"reputation":35,"user_id":15991889,"display_name":"Steve Otieno"},"score":0,"creation_date":1666179213,"post_id":74124455,"comment_id":130873107,"body_markdown":"I have added my User class as is for further reference","body":"I have added my User class as is for further reference"},{"owner":{"account_id":21674731,"reputation":35,"user_id":15991889,"display_name":"Steve Otieno"},"score":0,"creation_date":1666179484,"post_id":74124455,"comment_id":130873212,"body_markdown":"NB: The builder here is from Lombok, and even if I manually create a user object with `new User()` the problem is still there. Only the first instance is added to the set.","body":"NB: The builder here is from Lombok, and even if I manually create a user object with <code>new User()</code> the problem is still there. Only the first instance is added to the set."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666180122,"post_id":74124455,"comment_id":130873442,"body_markdown":"start with printing the result of `user.equals(anotherUser)` (and maybe the results of `user.hashCode()` and `anotherUser.hashCode()`)","body":"start with printing the result of <code>user.equals(anotherUser)</code> (and maybe the results of <code>user.hashCode()</code> and <code>anotherUser.hashCode()</code>)"},{"owner":{"account_id":21674731,"reputation":35,"user_id":15991889,"display_name":"Steve Otieno"},"score":0,"creation_date":1666180634,"post_id":74124455,"comment_id":130873649,"body_markdown":"They are same\nUser hashcode 6061\nAnother User hashcode 6061","body":"They are same User hashcode 6061 Another User hashcode 6061"}],"answers":[{"comments":[{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":0,"creation_date":1666191485,"post_id":74125392,"comment_id":130878295,"body_markdown":"Most importantly for this case, it contains ```@EqualsAndHashCode```","body":"Most importantly for this case, it contains <code>@EqualsAndHashCode</code>"}],"tags":[],"owner":{"account_id":26671090,"reputation":1,"user_id":20282521,"display_name":"Aniket Bidgar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666182712,"creation_date":1666182712,"answer_id":74125392,"question_id":74124455,"body_markdown":"In the User class, @Data annotation which will implement @Getter, @Setter, @ToString method.\r\n\r\nIt will print all values in the Set.\r\n\r\n","title":"Java set only displays 1st element","body":"<p>In the User class, @Data annotation which will implement @Getter, @Setter, @ToString method.</p>\n<p>It will print all values in the Set.</p>\n"},{"tags":[],"owner":{"account_id":21674731,"reputation":35,"user_id":15991889,"display_name":"Steve Otieno"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666191321,"creation_date":1666191321,"answer_id":74127585,"question_id":74124455,"body_markdown":"Found an answer, although it may not be the optimal solution. I annotated the User class with `@EqualsAndHashCode`","title":"Java set only displays 1st element","body":"<p>Found an answer, although it may not be the optimal solution. I annotated the User class with <code>@EqualsAndHashCode</code></p>\n"}],"owner":{"account_id":21674731,"reputation":35,"user_id":15991889,"display_name":"Steve Otieno"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1666191321,"creation_date":1666178429,"question_id":74124455,"body_markdown":"I have the following code, where I need to populate a set with multiple objects that are instances of the same class (User). The problem is, I only get the first object when I log.\r\n```\r\nuser = User.builder()\r\n                .id(1L)\r\n                .username(&quot;2397047&quot;)\r\n                .nickname(&quot;test1&quot;)\r\n                .build();\r\n        anotherUser = User.builder()\r\n                .id(2L)\r\n                .username(&quot;23971948&quot;)\r\n                .nickname(&quot;test2&quot;)\r\n                .build();\r\n\r\n        Set&lt;User&gt; userSet = new HashSet&lt;&gt;();\r\n\r\n        userSet.add(user);\r\n        userSet.add(anotherUser);\r\n\r\n        System.out.println(&quot;User set from test &quot; + userSet);\r\n```\r\n\r\nThis code produces the following output\r\n```\r\nUser set from test [User(id=1, nickname=test1, username= 2397047, password=null, roles=null, groups=null)]\r\n```\r\nWhy am I unable to get the entire collection?\r\n\r\nThis is my User class\r\n```\r\npackage com.chama.chamaservice.user;\r\n\r\nimport com.chama.chamaservice.BaseEntity;\r\nimport com.chama.chamaservice.Views;\r\nimport com.chama.chamaservice.config.ApplicationUserRole;\r\nimport com.chama.chamaservice.group.Group;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonView;\r\nimport lombok.*;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\n@Builder\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class User extends BaseEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @JsonView(Views.Public.class)\r\n    private Long id;\r\n    @JsonView(Views.Public.class)\r\n    private String nickname;\r\n    @JsonView(Views.Public.class)\r\n    private String username; // &lt;- Unique user&#39;s phone number\r\n    private String password;\r\n\r\n    @ElementCollection(targetClass = ApplicationUserRole.class)\r\n    @CollectionTable(name = &quot;user_role&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;))\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;role&quot;)\r\n    private Set&lt;ApplicationUserRole&gt; roles;\r\n\r\n    @JsonIgnore\r\n    @ManyToMany(mappedBy = &quot;groupMembers&quot;, fetch = FetchType.LAZY, targetEntity = Group.class)\r\n    private Set&lt;Group&gt; groups = new HashSet&lt;&gt;();\r\n\r\n}\r\n\r\n```","title":"Java set only displays 1st element","body":"<p>I have the following code, where I need to populate a set with multiple objects that are instances of the same class (User). The problem is, I only get the first object when I log.</p>\n<pre><code>user = User.builder()\n                .id(1L)\n                .username(&quot;2397047&quot;)\n                .nickname(&quot;test1&quot;)\n                .build();\n        anotherUser = User.builder()\n                .id(2L)\n                .username(&quot;23971948&quot;)\n                .nickname(&quot;test2&quot;)\n                .build();\n\n        Set&lt;User&gt; userSet = new HashSet&lt;&gt;();\n\n        userSet.add(user);\n        userSet.add(anotherUser);\n\n        System.out.println(&quot;User set from test &quot; + userSet);\n</code></pre>\n<p>This code produces the following output</p>\n<pre><code>User set from test [User(id=1, nickname=test1, username= 2397047, password=null, roles=null, groups=null)]\n</code></pre>\n<p>Why am I unable to get the entire collection?</p>\n<p>This is my User class</p>\n<pre><code>package com.chama.chamaservice.user;\n\nimport com.chama.chamaservice.BaseEntity;\nimport com.chama.chamaservice.Views;\nimport com.chama.chamaservice.config.ApplicationUserRole;\nimport com.chama.chamaservice.group.Group;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonView;\nimport lombok.*;\n\nimport javax.persistence.*;\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Builder\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\n@ToString\npublic class User extends BaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @JsonView(Views.Public.class)\n    private Long id;\n    @JsonView(Views.Public.class)\n    private String nickname;\n    @JsonView(Views.Public.class)\n    private String username; // &lt;- Unique user's phone number\n    private String password;\n\n    @ElementCollection(targetClass = ApplicationUserRole.class)\n    @CollectionTable(name = &quot;user_role&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;))\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;role&quot;)\n    private Set&lt;ApplicationUserRole&gt; roles;\n\n    @JsonIgnore\n    @ManyToMany(mappedBy = &quot;groupMembers&quot;, fetch = FetchType.LAZY, targetEntity = Group.class)\n    private Set&lt;Group&gt; groups = new HashSet&lt;&gt;();\n\n}\n\n</code></pre>\n"},{"tags":["java","spring","cache-control"],"comments":[{"owner":{"account_id":23057660,"reputation":477,"user_id":17173476,"display_name":"Vinz"},"score":0,"creation_date":1666179946,"post_id":74124674,"comment_id":130873368,"body_markdown":"`max-age` with a greater than 0 value will not be considered if the `no-cache` is set first. [This post](https://stackoverflow.com/a/1383359/17173476) explains the difference between these two very well.","body":"<code>max-age</code> with a greater than 0 value will not be considered if the <code>no-cache</code> is set first. <a href=\"https://stackoverflow.com/a/1383359/17173476\">This post</a> explains the difference between these two very well."}],"answers":[{"tags":[],"owner":{"account_id":2783863,"reputation":46852,"user_id":2395796,"display_name":"Kevin Christopher Henry"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666191280,"creation_date":1666191280,"answer_id":74127570,"question_id":74124674,"body_markdown":"No, it doesn&#39;t make sense to use a `max-age` with a positive value when you use `no-cache`. Since `no-cache` [means](https://datatracker.ietf.org/doc/html/rfc7234#section-5.2.2.2) &quot;that the response MUST NOT be used to satisfy a subsequent request without successful validation on the origin server&quot;, the freshness time set by `max-age` won&#39;t have any effect.\r\n\r\nThere&#39;s also no reason—at least according to the standard—to use `max-age=0` when using `no-cache`, though some people do it anyway, presumably due to a perceived benefit to backward compatibility.","title":"Are &quot;max-age&quot; and &quot;no-cache&quot; from &quot;Cache-Control&quot; header mutually exclusive?","body":"<p>No, it doesn't make sense to use a <code>max-age</code> with a positive value when you use <code>no-cache</code>. Since <code>no-cache</code> <a href=\"https://datatracker.ietf.org/doc/html/rfc7234#section-5.2.2.2\" rel=\"nofollow noreferrer\">means</a> &quot;that the response MUST NOT be used to satisfy a subsequent request without successful validation on the origin server&quot;, the freshness time set by <code>max-age</code> won't have any effect.</p>\n<p>There's also no reason—at least according to the standard—to use <code>max-age=0</code> when using <code>no-cache</code>, though some people do it anyway, presumably due to a perceived benefit to backward compatibility.</p>\n"}],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74127570,"answer_count":1,"score":0,"last_activity_date":1666191280,"creation_date":1666179534,"question_id":74124674,"body_markdown":"Do &quot;max-age&quot; with a positive value and &quot;no-cache&quot; make sense?\r\nThe documentation doesn&#39;t mention whether they are mutually exclusive https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control\r\n\r\nHowever org.springframework.http.CacheControl doesn&#39;t allow me to create an instance of it which would contain both of them. It has an interface that allows you to create an instance of CacheControl that would have either &quot;max-age&quot; or &quot;no-cache&quot;.\r\n\r\n    public static CacheControl noCache() {\r\n    \tCacheControl cc = new CacheControl();\r\n    \tcc.noCache = true;\r\n    \treturn cc;\r\n    }\r\n    \r\n    \r\n    public static CacheControl maxAge(Duration maxAge) {\r\n    \tCacheControl cc = new CacheControl();\r\n    \tcc.maxAge = maxAge;\r\n    \treturn cc;\r\n    }\r\n\r\nThere is no no-static method for adding &quot;no-cache&quot; or &quot;max-age&quot; after instance creation. Is it on purpose and correct?","title":"Are &quot;max-age&quot; and &quot;no-cache&quot; from &quot;Cache-Control&quot; header mutually exclusive?","body":"<p>Do &quot;max-age&quot; with a positive value and &quot;no-cache&quot; make sense?\nThe documentation doesn't mention whether they are mutually exclusive <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control</a></p>\n<p>However org.springframework.http.CacheControl doesn't allow me to create an instance of it which would contain both of them. It has an interface that allows you to create an instance of CacheControl that would have either &quot;max-age&quot; or &quot;no-cache&quot;.</p>\n<pre><code>public static CacheControl noCache() {\n    CacheControl cc = new CacheControl();\n    cc.noCache = true;\n    return cc;\n}\n\n\npublic static CacheControl maxAge(Duration maxAge) {\n    CacheControl cc = new CacheControl();\n    cc.maxAge = maxAge;\n    return cc;\n}\n</code></pre>\n<p>There is no no-static method for adding &quot;no-cache&quot; or &quot;max-age&quot; after instance creation. Is it on purpose and correct?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":26135494,"reputation":99,"user_id":19825554,"display_name":"SAVAN JADAV"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666173703,"creation_date":1666173703,"answer_id":74123460,"question_id":74122576,"body_markdown":"you can create like this \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \r\n        &lt;item\r\n            android:end=&quot;0dp&quot;\r\n            android:left=&quot;-500dp&quot;&gt;\r\n            &lt;shape&gt;\r\n                &lt;corners android:radius=&quot;500dp&quot; /&gt;\r\n                &lt;solid android:color=&quot;@color/colorPrimary&quot; /&gt;\r\n            &lt;/shape&gt;\r\n        &lt;/item&gt;\r\n        &lt;item\r\n            android:end=&quot;100dp&quot;\r\n            android:bottom=&quot;100dp&quot;\r\n            android:top=&quot;100dp&quot;\r\n            android:start=&quot;-400dp&quot;&gt;\r\n            &lt;shape&gt;\r\n                &lt;corners android:radius=&quot;500dp&quot; /&gt;\r\n                &lt;solid android:color=&quot;@color/white&quot; /&gt;\r\n            &lt;/shape&gt;\r\n        &lt;/item&gt;\r\n    &lt;/layer-list&gt;\r\n\r\nif you went to perfect view then create svg file for this  ","title":"divide a ring drawable into two equal part in android","body":"<p>you can create like this</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;item\n        android:end=&quot;0dp&quot;\n        android:left=&quot;-500dp&quot;&gt;\n        &lt;shape&gt;\n            &lt;corners android:radius=&quot;500dp&quot; /&gt;\n            &lt;solid android:color=&quot;@color/colorPrimary&quot; /&gt;\n        &lt;/shape&gt;\n    &lt;/item&gt;\n    &lt;item\n        android:end=&quot;100dp&quot;\n        android:bottom=&quot;100dp&quot;\n        android:top=&quot;100dp&quot;\n        android:start=&quot;-400dp&quot;&gt;\n        &lt;shape&gt;\n            &lt;corners android:radius=&quot;500dp&quot; /&gt;\n            &lt;solid android:color=&quot;@color/white&quot; /&gt;\n        &lt;/shape&gt;\n    &lt;/item&gt;\n&lt;/layer-list&gt;\n</code></pre>\n<p>if you went to perfect view then create svg file for this</p>\n"}],"owner":{"account_id":25552339,"reputation":1,"user_id":19336513,"display_name":" dike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666191280,"creation_date":1666169952,"question_id":74122576,"body_markdown":"i want to have a half drawable ring just like an arc.\r\ni have a code that just creates the ring but i am confused how to make it a half ring.\r\nhow do i achieve this half ring drawable?\r\n~~~ &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;shape android:shape=&quot;ring&quot;\r\n    android:innerRadius=&quot;15dp&quot;\r\n    android:thickness=&quot;20dp&quot;\r\n    android:useLevel=&quot;false&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n&lt;solid android:color=&quot;@color/blue&quot;/&gt;\r\n    &lt;size android:height=&quot;200dp&quot; android:width=&quot;200dp&quot;/&gt;\r\n&lt;/shape&gt;\r\n~~~\r\n\r\nThis is the image that exactly looks like what am trying to achieve.\r\n[click here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6XHlr.png","title":"divide a ring drawable into two equal part in android","body":"<p>i want to have a half drawable ring just like an arc.\ni have a code that just creates the ring but i am confused how to make it a half ring.\nhow do i achieve this half ring drawable?</p>\n<pre><code>&lt;shape android:shape=&quot;ring&quot;\n    android:innerRadius=&quot;15dp&quot;\n    android:thickness=&quot;20dp&quot;\n    android:useLevel=&quot;false&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n&lt;solid android:color=&quot;@color/blue&quot;/&gt;\n    &lt;size android:height=&quot;200dp&quot; android:width=&quot;200dp&quot;/&gt;\n&lt;/shape&gt;\n</code></pre>\n<p>This is the image that exactly looks like what am trying to achieve.\n<a href=\"https://i.stack.imgur.com/6XHlr.png\" rel=\"nofollow noreferrer\">click here</a></p>\n"},{"tags":["java","spring","dependency-injection","service","spotbugs"],"answers":[{"comments":[{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1666202196,"post_id":74127413,"comment_id":130882175,"body_markdown":"UserSessionService has 4 other services as parameters that are private inside UserSessionService. If I understand what you&#39;re sayin, that means I should expose those private fields to be able to use them with getters in order to create temp service? If that&#39;s the case, wouldn&#39;t it make more mess having all those properties accesible from outside?","body":"UserSessionService has 4 other services as parameters that are private inside UserSessionService. If I understand what you&#39;re sayin, that means I should expose those private fields to be able to use them with getters in order to create temp service? If that&#39;s the case, wouldn&#39;t it make more mess having all those properties accesible from outside?"},{"owner":{"account_id":23057660,"reputation":477,"user_id":17173476,"display_name":"Vinz"},"score":1,"creation_date":1666203296,"post_id":74127413,"comment_id":130882504,"body_markdown":"Assuming you need all of those 4 Services for this class and cannot just provide a constructor for `UserSessionService` that omits them, then yes, you would have to access them with a getter as well to pursue the copy approach. The Last time I came accros the &#39;EI_EXPOSE_REP2&#39; warning (same as you here I am assuming), I ultimately decided that it is worth doing so, as there in fact was the risk of this object being mutated outside of what I felt comfortable with. In your case, you may arrive at a different conclusion and deem the 4 extra getters to big a cost.","body":"Assuming you need all of those 4 Services for this class and cannot just provide a constructor for <code>UserSessionService</code> that omits them, then yes, you would have to access them with a getter as well to pursue the copy approach. The Last time I came accros the &#39;EI_EXPOSE_REP2&#39; warning (same as you here I am assuming), I ultimately decided that it is worth doing so, as there in fact was the risk of this object being mutated outside of what I felt comfortable with. In your case, you may arrive at a different conclusion and deem the 4 extra getters to big a cost."},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1666335317,"post_id":74127413,"comment_id":130916820,"body_markdown":"Thanks! It&#39;s a large project, there are at least 20 service each of them having from 2 to 6 injections which mean all my services should have expose their inner properties which is silly in my case. Especially because they are services implemening their interfaces and designed to be injected and no option t9 be mutated or at least I think so haha","body":"Thanks! It&#39;s a large project, there are at least 20 service each of them having from 2 to 6 injections which mean all my services should have expose their inner properties which is silly in my case. Especially because they are services implemening their interfaces and designed to be injected and no option t9 be mutated or at least I think so haha"}],"tags":[],"owner":{"account_id":23057660,"reputation":477,"user_id":17173476,"display_name":"Vinz"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666191133,"creation_date":1666190764,"answer_id":74127413,"question_id":74127307,"body_markdown":"Like SpotBugs suggests, you can simply create a copy (as a new Object) of your `userSessionService` parameter and then assign this one instead of the parameter directly:\r\n\r\n```\r\n\r\npublic CountryServiceImpl(final UserSessionService userSessionService) {\r\n       UserSessionService tempUserSessionService = new UserSessionService(userSessionService.getFirst(),\r\n                userSessionService.getSecond() [...])\r\n       this.userSessionService = tempUserSessionService; \r\n}","title":"Spring dependency injection marked unsafe by SpotBugs","body":"<p>Like SpotBugs suggests, you can simply create a copy (as a new Object) of your <code>userSessionService</code> parameter and then assign this one instead of the parameter directly:</p>\n<pre><code>\npublic CountryServiceImpl(final UserSessionService userSessionService) {\n       UserSessionService tempUserSessionService = new UserSessionService(userSessionService.getFirst(),\n                userSessionService.getSecond() [...])\n       this.userSessionService = tempUserSessionService; \n}\n</code></pre>\n"}],"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666191133,"creation_date":1666190376,"question_id":74127307,"body_markdown":"Is there any way to do injections better way?\r\n\r\n```\r\n@Service\r\npublic class CountryServiceImpl implements CountryService {\r\n\r\n    private final UserSessionService userSessionService;\r\n\r\n    public CountryServiceImpl(final UserSessionService userSessionService) {\r\n        this.userSessionService = userSessionService; // SpotBugs warning\r\n    }\r\n\r\n}\r\n```\r\n\r\nSpotBugs gives me a warning on marked the line:\r\n\r\n&gt; This code stores a reference to an externally mutable object into\r\n&gt; the internal representation of the object. If instances are accessed by\r\n&gt; untrusted code, and unchecked changes to the mutable object would\r\n&gt; compromise security or other important properties, you will need to do\r\n&gt; something different. Storing a copy of the object is better approach in\r\n&gt; many situations.\r\n\r\n`@Autowired` should be the last option beacause it removes ability to inject mock beans during integration test.","title":"Spring dependency injection marked unsafe by SpotBugs","body":"<p>Is there any way to do injections better way?</p>\n<pre><code>@Service\npublic class CountryServiceImpl implements CountryService {\n\n    private final UserSessionService userSessionService;\n\n    public CountryServiceImpl(final UserSessionService userSessionService) {\n        this.userSessionService = userSessionService; // SpotBugs warning\n    }\n\n}\n</code></pre>\n<p>SpotBugs gives me a warning on marked the line:</p>\n<blockquote>\n<p>This code stores a reference to an externally mutable object into\nthe internal representation of the object. If instances are accessed by\nuntrusted code, and unchecked changes to the mutable object would\ncompromise security or other important properties, you will need to do\nsomething different. Storing a copy of the object is better approach in\nmany situations.</p>\n</blockquote>\n<p><code>@Autowired</code> should be the last option beacause it removes ability to inject mock beans during integration test.</p>\n"},{"tags":["java","spring","spring-security"],"answers":[{"tags":[],"owner":{"account_id":5804185,"reputation":1521,"user_id":4577397,"display_name":"Rich Tillis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666191100,"creation_date":1666191100,"answer_id":74127517,"question_id":72477852,"body_markdown":"You might find that part 5 of this blog, [A Custom Security Expression with Spring Security][1], on Baelding.com helpful. The author suggests extending SecurityExpressionRoot and adding your custom method to the new class like this:\r\n\r\n    public class CustomMethodSecurityExpressionRoot extends SecurityExpressionRoot implements MethodSecurityExpressionOperations {\r\n\r\n           public CustomMethodSecurityExpressionRoot(Authentication authentication) {\r\n                super(authentication);\r\n           }\r\n\r\n           public boolean checkAccess() {\r\n                //do sth with securityExpressionRoot\r\n                return true;\r\n           }\r\n\r\n    ...\r\n    }\r\n\r\nThen you will need to inject that new class into the expression handler like this:\r\n\r\n    public class CustomMethodSecurityExpressionHandler extends DefaultMethodSecurityExpressionHandler {\r\n    \r\n          private AuthenticationTrustResolver trustResolver = new AuthenticationTrustResolverImpl();\r\n\r\n          @Override\r\n          protected MethodSecurityExpressionOperations createSecurityExpressionRoot(Authentication authentication, MethodInvocation invocation) {\r\n               CustomMethodSecurityExpressionRoot root = new CustomMethodSecurityExpressionRoot(authentication);\r\n               root.setPermissionEvaluator(getPermissionEvaluator());\r\n               root.setTrustResolver(this.trustResolver);\r\n               root.setRoleHierarchy(getRoleHierarchy());\r\n               return root;\r\n          }\r\n    }\r\n\r\nFinally, you just need to create the expression handler in your security config like this:\r\n\r\n    @Configuration\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class MethodSecurityConfig extends GlobalMethodSecurityConfiguration {\r\n        @Override\r\n        protected MethodSecurityExpressionHandler createExpressionHandler() {\r\n            CustomMethodSecurityExpressionHandler expressionHandler = new CustomMethodSecurityExpressionHandler();\r\n            return expressionHandler;\r\n        }\r\n    }\r\n\r\nThen your new expression should be available: \r\n\r\n      @PreAuthorize(&quot;checkAccess()&quot;)\r\n      public ResponseEntity&lt;Void&gt; get() {\r\n          return;\r\n      }\r\n\r\n \r\n\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-security-create-new-custom-security-expression","title":"Spring security pass SecurityExpressionRoot to custom method","body":"<p>You might find that part 5 of this blog, <a href=\"https://www.baeldung.com/spring-security-create-new-custom-security-expression\" rel=\"nofollow noreferrer\">A Custom Security Expression with Spring Security</a>, on Baelding.com helpful. The author suggests extending SecurityExpressionRoot and adding your custom method to the new class like this:</p>\n<pre><code>public class CustomMethodSecurityExpressionRoot extends SecurityExpressionRoot implements MethodSecurityExpressionOperations {\n\n       public CustomMethodSecurityExpressionRoot(Authentication authentication) {\n            super(authentication);\n       }\n\n       public boolean checkAccess() {\n            //do sth with securityExpressionRoot\n            return true;\n       }\n\n...\n}\n</code></pre>\n<p>Then you will need to inject that new class into the expression handler like this:</p>\n<pre><code>public class CustomMethodSecurityExpressionHandler extends DefaultMethodSecurityExpressionHandler {\n\n      private AuthenticationTrustResolver trustResolver = new AuthenticationTrustResolverImpl();\n\n      @Override\n      protected MethodSecurityExpressionOperations createSecurityExpressionRoot(Authentication authentication, MethodInvocation invocation) {\n           CustomMethodSecurityExpressionRoot root = new CustomMethodSecurityExpressionRoot(authentication);\n           root.setPermissionEvaluator(getPermissionEvaluator());\n           root.setTrustResolver(this.trustResolver);\n           root.setRoleHierarchy(getRoleHierarchy());\n           return root;\n      }\n}\n</code></pre>\n<p>Finally, you just need to create the expression handler in your security config like this:</p>\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class MethodSecurityConfig extends GlobalMethodSecurityConfiguration {\n    @Override\n    protected MethodSecurityExpressionHandler createExpressionHandler() {\n        CustomMethodSecurityExpressionHandler expressionHandler = new CustomMethodSecurityExpressionHandler();\n        return expressionHandler;\n    }\n}\n</code></pre>\n<p>Then your new expression should be available:</p>\n<pre><code>  @PreAuthorize(&quot;checkAccess()&quot;)\n  public ResponseEntity&lt;Void&gt; get() {\n      return;\n  }\n</code></pre>\n"}],"owner":{"account_id":17840525,"reputation":29,"user_id":12958490,"display_name":"Mateusz Maciejko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666191100,"creation_date":1654179833,"question_id":72477852,"body_markdown":"I want to pass `SecurityExpressionRoot` class, which i can access inside `@PreAuthorise()` annotation, to my custom `checkAccess()` method which checks access to specific method, using some logic based on authorities, roles and a additional variables that i pass to this method.\r\nInside `@PreAuthorise()` I can access methods from `SecurityExpressionRoot`, for example. `hasAuthority()`\r\n\r\nIs there any way to do that?\r\n\r\nController:\r\n```\r\npublic class TestController {\r\n\r\n    private final PreAuthorizeChecker preAuthorizeChecker;\r\n\r\n    @Autowired\r\n    public TestController(PreAuthorizeChecker preAuthorizeChecker) {\r\n        this.preAuthorizeChecker = preAuthorizeChecker;\r\n    }\r\n\r\n    @GetMapping(path = &quot;/test&quot;)\r\n    @PreAuthorize(&quot;@preAuthorizeChecker.checkAccess(/*SecurityExpressionRoot.getSomehow()*/)&quot;)    //How to obtain SecurityExpressionRoot instance?\r\n    public ResponseEntity&lt;Void&gt; get() {\r\n        return;\r\n    }\r\n```\r\n\r\nPreAuthorizeChecker:\r\n```\r\n@Component\r\npublic class PreAuthorizeChecker {\r\n\r\n    @Autowired\r\n    public PreAuthorizeChecker() {\r\n    }\r\n\r\n    public boolean checkAccess(SecurityExpressionRoot securityExpressionRoot) {\r\n        //do sth with securityExpressionRoot\r\n        return true;\r\n    }\r\n}\r\n```","title":"Spring security pass SecurityExpressionRoot to custom method","body":"<p>I want to pass <code>SecurityExpressionRoot</code> class, which i can access inside <code>@PreAuthorise()</code> annotation, to my custom <code>checkAccess()</code> method which checks access to specific method, using some logic based on authorities, roles and a additional variables that i pass to this method.\nInside <code>@PreAuthorise()</code> I can access methods from <code>SecurityExpressionRoot</code>, for example. <code>hasAuthority()</code></p>\n<p>Is there any way to do that?</p>\n<p>Controller:</p>\n<pre><code>public class TestController {\n\n    private final PreAuthorizeChecker preAuthorizeChecker;\n\n    @Autowired\n    public TestController(PreAuthorizeChecker preAuthorizeChecker) {\n        this.preAuthorizeChecker = preAuthorizeChecker;\n    }\n\n    @GetMapping(path = &quot;/test&quot;)\n    @PreAuthorize(&quot;@preAuthorizeChecker.checkAccess(/*SecurityExpressionRoot.getSomehow()*/)&quot;)    //How to obtain SecurityExpressionRoot instance?\n    public ResponseEntity&lt;Void&gt; get() {\n        return;\n    }\n</code></pre>\n<p>PreAuthorizeChecker:</p>\n<pre><code>@Component\npublic class PreAuthorizeChecker {\n\n    @Autowired\n    public PreAuthorizeChecker() {\n    }\n\n    public boolean checkAccess(SecurityExpressionRoot securityExpressionRoot) {\n        //do sth with securityExpressionRoot\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","optaplanner","vehicle-routing","jsprit"],"comments":[{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":1,"creation_date":1666180619,"post_id":74118983,"comment_id":130873645,"body_markdown":"Are you mixing pickups and deliveries? So for example can you: pick up A, pick up B, drop off B, pick up C, drop off A, drop off C?","body":"Are you mixing pickups and deliveries? So for example can you: pick up A, pick up B, drop off B, pick up C, drop off A, drop off C?"},{"owner":{"account_id":8136,"reputation":10579,"user_id":14467,"accept_rate":78,"display_name":"Sam Barnum"},"score":0,"creation_date":1666189550,"post_id":74118983,"comment_id":130877448,"body_markdown":"Correct, mixes pickups with optional double-ups in any order.","body":"Correct, mixes pickups with optional double-ups in any order."},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":1,"creation_date":1666190578,"post_id":74118983,"comment_id":130877875,"body_markdown":"Then I fear the best we have is that mixedvrp experiment repo - we haven&#39;t focussed yet on this use case and it doesn&#39;t &quot;just work&quot; as most use cases. That worked when I wrote it, and I know a company that has it in production, but it didn&#39;t work properly last time I tried my codebase. It still uses chained variables, but even with @PlanningListVariable you still need custom move factories to both change the pickup and the delivery of an item.","body":"Then I fear the best we have is that mixedvrp experiment repo - we haven&#39;t focussed yet on this use case and it doesn&#39;t &quot;just work&quot; as most use cases. That worked when I wrote it, and I know a company that has it in production, but it didn&#39;t work properly last time I tried my codebase. It still uses chained variables, but even with @PlanningListVariable you still need custom move factories to both change the pickup and the delivery of an item."},{"owner":{"account_id":8136,"reputation":10579,"user_id":14467,"accept_rate":78,"display_name":"Sam Barnum"},"score":0,"creation_date":1666191148,"post_id":74118983,"comment_id":130878132,"body_markdown":"Good info! I&#39;ll work from your example. I&#39;ll take the warnings against using `InnerScoreDirector` with a grain of salt, since I&#39;m not about to write my own implementation. Thanks!","body":"Good info! I&#39;ll work from your example. I&#39;ll take the warnings against using <code>InnerScoreDirector</code> with a grain of salt, since I&#39;m not about to write my own implementation. Thanks!"}],"owner":{"account_id":8136,"reputation":10579,"user_id":14467,"accept_rate":78,"display_name":"Sam Barnum"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666190892,"creation_date":1666143165,"question_id":74118983,"body_markdown":"I&#39;m attempting to switch from JSprit to OptaPlanner for our [Vehicle Routing Problem](https://docs.optaplanner.org/latest/optaplanner-docs/html_single/#vehicleRouting) with pickup &amp; delivery + time windows. JSprit is giving sub-optimal results and the process to get there is opaque, and performance is becoming an issue (scheduling 1-2k trips in a batch).\r\n\r\nI see a [discussion from 2018](https://issues.redhat.com/projects/PLANNER/issues/PLANNER-833?filter=allopenissues) discussing some of OptaPlanner&#39;s difficulties and performance issues surrounding heterogenous pickup &amp; delivery, but it&#39;s not clear whether they&#39;ve been resolved. Geoffrey has a link to [his GitHub repo](https://github.com/ge0ffrey/optaplanner-mixedvrp-experiment/blob/master/src/main/java/org/optaplanner/examples/vehiclerouting/solver/move/RideSwapMoveIteratorFactory.java) but it sounds more like a daring experiment than a best practice. I&#39;m having trouble locating a good example of how others have modeled VRPPD + time windows.\r\n\r\nThe question, really, is: is it possible to model a VRPPD OptaPlanner problem that will perform well with thousands of trips and ~100 vehicles?\r\n\r\n**Edit: a bit more about the routing problem** \r\nThese are passenger pickups and dropoffs, in any order (allowing double-ups in a vehicle). Typically covering a state-wide area. \r\n\r\nSoft Costs:\r\n- Extra passenger time in vehicle\r\n- Driver per-day salary, overtime\r\n- Fuel\r\n- Passenger earlier/later than requested time\r\n- Lunch breaks for drivers\r\n- Preferred vehicle types by passenger\r\n\r\nHard Costs:\r\n- Vehicle capacities (for ambulatory, wheelchair)\r\n- Vehicle features (ramp van)\r\n- Vehicle owner eligibility / billing rules\r\n- Excessive time in vehicle\r\n- Passenger arrives outside normal business hours\r\n- Do-not-share-vehicle for passenger\r\n\r\nAdditional wrinkles\r\n- Multi-leg trips, where a passenger is picked up at A, makes a 15-minute stop a B, then proceeds to C\r\n\r\nI&#39;ve been impressed by the documentation and performance I&#39;ve seen in OptaPlanner so far. So I&#39;m optimistic that this will work, but I wish there were more examples or best practices for time-windowed vehicle routing. Building a functional scheduler just to evaluate its feasibility is daunting.","title":"Using OptaPlanner for VRPPD + Time Windows","body":"<p>I'm attempting to switch from JSprit to OptaPlanner for our <a href=\"https://docs.optaplanner.org/latest/optaplanner-docs/html_single/#vehicleRouting\" rel=\"nofollow noreferrer\">Vehicle Routing Problem</a> with pickup &amp; delivery + time windows. JSprit is giving sub-optimal results and the process to get there is opaque, and performance is becoming an issue (scheduling 1-2k trips in a batch).</p>\n<p>I see a <a href=\"https://issues.redhat.com/projects/PLANNER/issues/PLANNER-833?filter=allopenissues\" rel=\"nofollow noreferrer\">discussion from 2018</a> discussing some of OptaPlanner's difficulties and performance issues surrounding heterogenous pickup &amp; delivery, but it's not clear whether they've been resolved. Geoffrey has a link to <a href=\"https://github.com/ge0ffrey/optaplanner-mixedvrp-experiment/blob/master/src/main/java/org/optaplanner/examples/vehiclerouting/solver/move/RideSwapMoveIteratorFactory.java\" rel=\"nofollow noreferrer\">his GitHub repo</a> but it sounds more like a daring experiment than a best practice. I'm having trouble locating a good example of how others have modeled VRPPD + time windows.</p>\n<p>The question, really, is: is it possible to model a VRPPD OptaPlanner problem that will perform well with thousands of trips and ~100 vehicles?</p>\n<p><strong>Edit: a bit more about the routing problem</strong>\nThese are passenger pickups and dropoffs, in any order (allowing double-ups in a vehicle). Typically covering a state-wide area.</p>\n<p>Soft Costs:</p>\n<ul>\n<li>Extra passenger time in vehicle</li>\n<li>Driver per-day salary, overtime</li>\n<li>Fuel</li>\n<li>Passenger earlier/later than requested time</li>\n<li>Lunch breaks for drivers</li>\n<li>Preferred vehicle types by passenger</li>\n</ul>\n<p>Hard Costs:</p>\n<ul>\n<li>Vehicle capacities (for ambulatory, wheelchair)</li>\n<li>Vehicle features (ramp van)</li>\n<li>Vehicle owner eligibility / billing rules</li>\n<li>Excessive time in vehicle</li>\n<li>Passenger arrives outside normal business hours</li>\n<li>Do-not-share-vehicle for passenger</li>\n</ul>\n<p>Additional wrinkles</p>\n<ul>\n<li>Multi-leg trips, where a passenger is picked up at A, makes a 15-minute stop a B, then proceeds to C</li>\n</ul>\n<p>I've been impressed by the documentation and performance I've seen in OptaPlanner so far. So I'm optimistic that this will work, but I wish there were more examples or best practices for time-windowed vehicle routing. Building a functional scheduler just to evaluate its feasibility is daunting.</p>\n"},{"tags":["java","macos","docker","apple-m1"],"answers":[{"comments":[{"owner":{"account_id":20583706,"reputation":193,"user_id":15109127,"display_name":"jesseb"},"score":0,"creation_date":1612579254,"post_id":65994297,"comment_id":116818629,"body_markdown":"This solution fixed the problem!  Thanks for your help!","body":"This solution fixed the problem!  Thanks for your help!"},{"owner":{"account_id":1320234,"reputation":1117,"user_id":1266229,"display_name":"unicorn80"},"score":1,"creation_date":1613501764,"post_id":65994297,"comment_id":117092673,"body_markdown":"Fixed it for me as well on a M1 :-)","body":"Fixed it for me as well on a M1 :-)"},{"owner":{"account_id":4865225,"reputation":127,"user_id":3923729,"display_name":"Joshua Hester"},"score":0,"creation_date":1615072302,"post_id":65994297,"comment_id":117579866,"body_markdown":"Version 7.10.2 :)","body":"Version 7.10.2 :)"},{"owner":{"account_id":14776406,"reputation":1474,"user_id":10671200,"display_name":"Chau Giang"},"score":0,"creation_date":1633422894,"post_id":65994297,"comment_id":122748968,"body_markdown":"Interesting, thank you a lot, it works","body":"Interesting, thank you a lot, it works"},{"owner":{"account_id":5449871,"reputation":639,"user_id":4354325,"display_name":"Luke Rodgers"},"score":0,"creation_date":1635269618,"post_id":65994297,"comment_id":123250278,"body_markdown":"```\n$ docker --version\nDocker version 20.10.8, build 3967b7d\n```\n\n```\n$ docker run -p 9200:9200 -p 9300:9300 -e &quot;discovery.type=single-node&quot; docker.elastic.co/elasticsearch/elasticsearch:7.10.2\nWARNING: The requested image&#39;s platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested\nException in thread &quot;main&quot; java.io.IOException: Cannot run program &quot;/usr/share/elasticsearch/jdk/bin/java&quot;: error=0, Failed to exec spawn helper: pid: 233, exit value: 1\n```\n\nSpecifying `docker run --platform=linux/amd64` fails, any ideas?","body":"``` $ docker --version Docker version 20.10.8, build 3967b7d ```  ``` $ docker run -p 9200:9200 -p 9300:9300 -e &quot;discovery.type=single-node&quot; docker.elastic.co/elasticsearch/elasticsearch:7.10.2 WARNING: The requested image&#39;s platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested Exception in thread &quot;main&quot; java.io.IOException: Cannot run program &quot;/usr/share/elasticsearch/jdk/bin/java&quot;: error=0, Failed to exec spawn helper: pid: 233, exit value: 1 ```  Specifying <code>docker run --platform=linux&#47;amd64</code> fails, any ideas?"}],"tags":[],"owner":{"account_id":43122,"reputation":4692,"user_id":125875,"accept_rate":73,"display_name":"sbeam"},"comment_count":5,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1612189029,"creation_date":1612189029,"answer_id":65994297,"question_id":65962810,"body_markdown":"Ran into this too with the image from dockerhub, but it seems using the [official docker build from Elastic][1] now works fine on my M1 Mac.\r\n\r\n```\r\ndocker run -p 9200:9200 -p 9300:9300 -e &quot;discovery.type=single-node&quot; docker.elastic.co/elasticsearch/elasticsearch:7.10.2\r\n```\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html#docker-cli-run-dev-mode","title":"M1 Mac - Issue bringing up ElasticSearch. Cannot run jdk/bin/java","body":"<p>Ran into this too with the image from dockerhub, but it seems using the <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html#docker-cli-run-dev-mode\" rel=\"noreferrer\">official docker build from Elastic</a> now works fine on my M1 Mac.</p>\n<pre><code>docker run -p 9200:9200 -p 9300:9300 -e &quot;discovery.type=single-node&quot; docker.elastic.co/elasticsearch/elasticsearch:7.10.2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15837877,"reputation":1,"user_id":11427243,"display_name":"Hong Ying"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633429666,"creation_date":1633429666,"answer_id":69448832,"question_id":65962810,"body_markdown":"Change elasticsearch version from 7.5.1 to 7.10.2.\r\n(ELK_VERSION=7.10.2)","title":"M1 Mac - Issue bringing up ElasticSearch. Cannot run jdk/bin/java","body":"<p>Change elasticsearch version from 7.5.1 to 7.10.2.\n(ELK_VERSION=7.10.2)</p>\n"},{"tags":[],"owner":{"account_id":280319,"reputation":486,"user_id":575949,"display_name":"F&#225;bio Miranda"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1633628752,"creation_date":1633628752,"answer_id":69485642,"question_id":65962810,"body_markdown":"According to this comment: https://github.com/opendistro/for-elasticsearch-docs/issues/385#issuecomment-867198711 there are specific builds for Apple M1 with the suffix -arm64, example:\r\n\r\n    docker.elastic.co/elasticsearch/elasticsearch:7.10.2-arm64","title":"M1 Mac - Issue bringing up ElasticSearch. Cannot run jdk/bin/java","body":"<p>According to this comment: <a href=\"https://github.com/opendistro/for-elasticsearch-docs/issues/385#issuecomment-867198711\" rel=\"noreferrer\">https://github.com/opendistro/for-elasticsearch-docs/issues/385#issuecomment-867198711</a> there are specific builds for Apple M1 with the suffix -arm64, example:</p>\n<pre><code>docker.elastic.co/elasticsearch/elasticsearch:7.10.2-arm64\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6249189,"reputation":11021,"user_id":4859910,"accept_rate":33,"display_name":"anjaneyulubatta505"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666190602,"creation_date":1666190602,"answer_id":74127370,"question_id":65962810,"body_markdown":"For me below config worked on **M1 mac**\r\n\r\n&gt; docker-compose.yml\r\n\r\n```yml\r\nversion: &#39;3.5&#39;\r\n\r\nservices:\r\n\r\n  my-elasticsearch:\r\n    container_name: my-elasticsearch\r\n    environment:\r\n      - discovery.type=single-node\r\n    image: docker.elastic.co/elasticsearch/elasticsearch:7.17.6\r\n    ports:\r\n      - 9200:9200\r\n      - 9300:9300\r\n    volumes:\r\n      - my-elasticsearch-data:/usr/share/elastiscsearch/data:rw\r\n```","title":"M1 Mac - Issue bringing up ElasticSearch. Cannot run jdk/bin/java","body":"<p>For me below config worked on <strong>M1 mac</strong></p>\n<blockquote>\n<p>docker-compose.yml</p>\n</blockquote>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: '3.5'\n\nservices:\n\n  my-elasticsearch:\n    container_name: my-elasticsearch\n    environment:\n      - discovery.type=single-node\n    image: docker.elastic.co/elasticsearch/elasticsearch:7.17.6\n    ports:\n      - 9200:9200\n      - 9300:9300\n    volumes:\n      - my-elasticsearch-data:/usr/share/elastiscsearch/data:rw\n</code></pre>\n"}],"owner":{"account_id":20583706,"reputation":193,"user_id":15109127,"display_name":"jesseb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27905,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":65994297,"answer_count":4,"score":19,"last_activity_date":1666190602,"creation_date":1611960909,"question_id":65962810,"body_markdown":"Have done a bit of searching to no avail.  Attempting to setup a project with an Elasticsearch docker container.  Works on my older intel MacBook but no luck so far with the new system.\r\n\r\n    elasticsearch    | Exception in thread &quot;main&quot; java.io.IOException: Cannot run program &quot;/usr/share/elasticsearch/jdk/bin/java&quot;: error=0, Failed to exec spawn helper.\r\n    elasticsearch    | \tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1128)\r\n    elasticsearch    | \tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1071)\r\n    elasticsearch    | \tat org.elasticsearch.tools.launchers.JvmErgonomics.flagsFinal(JvmErgonomics.java:111)\r\n    elasticsearch    | \tat org.elasticsearch.tools.launchers.JvmErgonomics.finalJvmOptions(JvmErgonomics.java:88)\r\n    elasticsearch    | \tat org.elasticsearch.tools.launchers.JvmErgonomics.choose(JvmErgonomics.java:59)\r\n    elasticsearch    | \tat org.elasticsearch.tools.launchers.JvmOptionsParser.main(JvmOptionsParser.java:95)\r\n    elasticsearch    | Caused by: java.io.IOException: error=0, Failed to exec spawn helper.\r\n    elasticsearch    | \tat java.base/java.lang.ProcessImpl.forkAndExec(Native Method)\r\n    elasticsearch    | \tat java.base/java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:319)\r\n    elasticsearch    | \tat java.base/java.lang.ProcessImpl.start(ProcessImpl.java:250)\r\n    elasticsearch    | \tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1107)\r\n    elasticsearch    | \t... 5 more\r\n    elasticsearch exited with code 1\r\n\r\nWould greatly appreciate any help or pointing in the right direction!","title":"M1 Mac - Issue bringing up ElasticSearch. Cannot run jdk/bin/java","body":"<p>Have done a bit of searching to no avail.  Attempting to setup a project with an Elasticsearch docker container.  Works on my older intel MacBook but no luck so far with the new system.</p>\n<pre><code>elasticsearch    | Exception in thread &quot;main&quot; java.io.IOException: Cannot run program &quot;/usr/share/elasticsearch/jdk/bin/java&quot;: error=0, Failed to exec spawn helper.\nelasticsearch    |  at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1128)\nelasticsearch    |  at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1071)\nelasticsearch    |  at org.elasticsearch.tools.launchers.JvmErgonomics.flagsFinal(JvmErgonomics.java:111)\nelasticsearch    |  at org.elasticsearch.tools.launchers.JvmErgonomics.finalJvmOptions(JvmErgonomics.java:88)\nelasticsearch    |  at org.elasticsearch.tools.launchers.JvmErgonomics.choose(JvmErgonomics.java:59)\nelasticsearch    |  at org.elasticsearch.tools.launchers.JvmOptionsParser.main(JvmOptionsParser.java:95)\nelasticsearch    | Caused by: java.io.IOException: error=0, Failed to exec spawn helper.\nelasticsearch    |  at java.base/java.lang.ProcessImpl.forkAndExec(Native Method)\nelasticsearch    |  at java.base/java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:319)\nelasticsearch    |  at java.base/java.lang.ProcessImpl.start(ProcessImpl.java:250)\nelasticsearch    |  at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1107)\nelasticsearch    |  ... 5 more\nelasticsearch exited with code 1\n</code></pre>\n<p>Would greatly appreciate any help or pointing in the right direction!</p>\n"},{"tags":["java","spring","postgresql","spring-boot","enums"],"comments":[{"owner":{"account_id":10377286,"reputation":941,"user_id":7653142,"display_name":"Peyman"},"score":0,"creation_date":1666188373,"post_id":74126660,"comment_id":130876895,"body_markdown":"Check your database. What&#39;s stored there? Also edit your post and add the content of EducationType.","body":"Check your database. What&#39;s stored there? Also edit your post and add the content of EducationType."},{"owner":{"account_id":10377286,"reputation":941,"user_id":7653142,"display_name":"Peyman"},"score":0,"creation_date":1666188443,"post_id":74126660,"comment_id":130876924,"body_markdown":"Also you might&#39;ve stored the enums by their ordinal before adding the String enum type.","body":"Also you might&#39;ve stored the enums by their ordinal before adding the String enum type."},{"owner":{"account_id":14617965,"reputation":584,"user_id":10557540,"display_name":"zhrgci"},"score":0,"creation_date":1666188567,"post_id":74126660,"comment_id":130876988,"body_markdown":"I didn&#39;t because it says that no `enum` exists of `enum.stringvalue`. In my db it is stored as `character varying (255)`","body":"I didn&#39;t because it says that no <code>enum</code> exists of <code>enum.stringvalue</code>. In my db it is stored as <code>character varying (255)</code>"},{"owner":{"account_id":10377286,"reputation":941,"user_id":7653142,"display_name":"Peyman"},"score":0,"creation_date":1666189179,"post_id":74126660,"comment_id":130877266,"body_markdown":"What is the value of educationType that is stored in database?","body":"What is the value of educationType that is stored in database?"}],"answers":[{"comments":[{"owner":{"account_id":14617965,"reputation":584,"user_id":10557540,"display_name":"zhrgci"},"score":0,"creation_date":1666190265,"post_id":74127172,"comment_id":130877743,"body_markdown":"Yes but now it&#39;s enum EducationType { A(&quot;string&quot;), B(&quot;string&quot;) } and I stored &quot;string&quot; in the database which can&#39;t be parsed back automatically with the annotation.","body":"Yes but now it&#39;s enum EducationType { A(&quot;string&quot;), B(&quot;string&quot;) } and I stored &quot;string&quot; in the database which can&#39;t be parsed back automatically with the annotation."},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1666190989,"post_id":74127172,"comment_id":130878053,"body_markdown":"If you want to map enum with table column then you have to store A/B in database. You can use value of enum later in your code.","body":"If you want to map enum with table column then you have to store A/B in database. You can use value of enum later in your code."},{"owner":{"account_id":14617965,"reputation":584,"user_id":10557540,"display_name":"zhrgci"},"score":0,"creation_date":1666191273,"post_id":74127172,"comment_id":130878208,"body_markdown":"I wanted to store the string value because it looks nicer in the database, but I guess I have no choice but to use the ordinal value.","body":"I wanted to store the string value because it looks nicer in the database, but I guess I have no choice but to use the ordinal value."},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1666196444,"post_id":74127172,"comment_id":130880240,"body_markdown":"Ok, Then I will suggest better not to use enum. You can map table column with String type in entity class.","body":"Ok, Then I will suggest better not to use enum. You can map table column with String type in entity class."}],"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666189749,"creation_date":1666189749,"answer_id":74127172,"question_id":74126660,"body_markdown":"Looks like enum value stored in database is not present in your code that’s why on mapping JPA entity with Table, exception is coming. \r\n\r\n\r\nFor example - if EducationType value is **Online** in database then same value should present in your code inside enum like\r\n\r\n\r\nenum EducationType{\r\nOnline, Offline\r\n}","title":"Can&#39;t retrieve enum after being stored as string in database","body":"<p>Looks like enum value stored in database is not present in your code that’s why on mapping JPA entity with Table, exception is coming.</p>\n<p>For example - if EducationType value is <strong>Online</strong> in database then same value should present in your code inside enum like</p>\n<p>enum EducationType{\nOnline, Offline\n}</p>\n"}],"owner":{"account_id":14617965,"reputation":584,"user_id":10557540,"display_name":"zhrgci"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666190364,"creation_date":1666187807,"question_id":74126660,"body_markdown":"I wanted to store the `String` value of my enum in the database, so I used:\r\n```\r\n@Enumerated(EnumType.STRING)\r\nprivate EducationType educationType;\r\n```\r\n\r\nBut now when I try to read it out of the database, it gives me\r\n\r\n```\r\nServlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant enums.EducationType.Enum value etc; nested exception is java.lang.IllegalArgumentException: No enum constant enums.EducationType.Enum value etc] with root cause\r\n\r\njava.lang.IllegalArgumentException: No enum constant enums.EducationType.Enum value etc\r\n        at java.base/java.lang.Enum.valueOf(Enum.java:240) ~[na:na]\r\n```\r\n\r\nSince the conversion **into** the database was automatically done by the annotation, how do I reverse it back into my model?\r\n\r\nEnum looks something like:\r\n```\r\nenum EducationType {\r\nA(&quot;apple&quot;),\r\nB(&quot;banana&quot;),\r\nC(&quot;cherry&quot;);\r\n}\r\n```\r\n\r\nBanana was stored in the database through the @Enumerated annotation and can&#39;t be parsed back automatically it seems.\r\n","title":"Can&#39;t retrieve enum after being stored as string in database","body":"<p>I wanted to store the <code>String</code> value of my enum in the database, so I used:</p>\n<pre><code>@Enumerated(EnumType.STRING)\nprivate EducationType educationType;\n</code></pre>\n<p>But now when I try to read it out of the database, it gives me</p>\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant enums.EducationType.Enum value etc; nested exception is java.lang.IllegalArgumentException: No enum constant enums.EducationType.Enum value etc] with root cause\n\njava.lang.IllegalArgumentException: No enum constant enums.EducationType.Enum value etc\n        at java.base/java.lang.Enum.valueOf(Enum.java:240) ~[na:na]\n</code></pre>\n<p>Since the conversion <strong>into</strong> the database was automatically done by the annotation, how do I reverse it back into my model?</p>\n<p>Enum looks something like:</p>\n<pre><code>enum EducationType {\nA(&quot;apple&quot;),\nB(&quot;banana&quot;),\nC(&quot;cherry&quot;);\n}\n</code></pre>\n<p>Banana was stored in the database through the @Enumerated annotation and can't be parsed back automatically it seems.</p>\n"},{"tags":["java","directory","jframe"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1665985073,"post_id":74092685,"comment_id":130818635,"body_markdown":"So, basically, your `findFile` can &quot;find&quot; the file you want.  This should probably return a `File` reference to the &quot;found&quot; file (or `null` if it can&#39;t find one), then, you should probably load the file using [`ImageIO`](https://docs.oracle.com/javase/tutorial/2d/images/loadimage.html) and then you could just a [`JLabel`](https://docs.oracle.com/javase/tutorial/uiswing/components/label.html) to show it.  You should also probably look at [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/)","body":"So, basically, your <code>findFile</code> can &quot;find&quot; the file you want.  This should probably return a <code>File</code> reference to the &quot;found&quot; file (or <code>null</code> if it can&#39;t find one), then, you should probably load the file using <a href=\"https://docs.oracle.com/javase/tutorial/2d/images/loadimage.html\" rel=\"nofollow noreferrer\"><code>ImageIO</code></a> and then you could just a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/label.html\" rel=\"nofollow noreferrer\"><code>JLabel</code></a> to show it.  You should also probably look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>"},{"owner":{"account_id":26644857,"reputation":21,"user_id":20259923,"display_name":"Ali"},"score":0,"creation_date":1665985686,"post_id":74092685,"comment_id":130818726,"body_markdown":"@MadProgrammer could you help me through code , I am beginner","body":"@MadProgrammer could you help me through code , I am beginner"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1665986587,"post_id":74092685,"comment_id":130818866,"body_markdown":"Start with the links I&#39;ve provide, don&#39;t try to solve the whole problem in one step, figure each part in isolation and then start putting it together.  What you&#39;re asking has been before, so there a plenty of existing examples","body":"Start with the links I&#39;ve provide, don&#39;t try to solve the whole problem in one step, figure each part in isolation and then start putting it together.  What you&#39;re asking has been before, so there a plenty of existing examples"}],"owner":{"account_id":26644857,"reputation":21,"user_id":20259923,"display_name":"Ali"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666190364,"creation_date":1665982110,"question_id":74092685,"body_markdown":"I have made a code which search file(image, text) from directory and its Working Too , Now I want to show Search File (image) on J Frame&#39;s Component like J Panel or something else , here is my code \r\n```  \r\nprivate void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n    try {\r\n        findFile(jTextField2.getText(),new File(jTextField1.getText()));\r\n    } catch (IOException ex) {\r\n        Logger.getLogger(NewJFrame.class.getName()).log(Level.SEVERE, null, ex);\r\n    }\r\n    } \r\n \r\n\r\npublic void findFile(String name,File file1)throws IOException\r\n    {      \r\n        File[] list = file1.listFiles();       \r\n        if(list!=null)  \r\n     {                          \r\n        for(File file2 : list)\r\n        {            \r\n            if (file2.isDirectory())\r\n            {\r\n                findFile(name,file2);             \r\n            }\r\n            else if (name.equalsIgnoreCase(file2.getName()))\r\n            {                                                              \r\n                \r\n                \r\n                JOptionPane.showMessageDialog(this, &quot;File found at : &quot;+name);\r\n                                             \r\n            }                      \r\n        }        \r\n      }\r\n    }\r\n```\r\nI got Two Textfields which Take image(abc.png) name and directory Folder(E:\\) and tell where it is located , now I want to Show it on J  Frame as well , I don&#39;t know how to do this","title":"Fetch image from Directory and show on JFrame Form","body":"<p>I have made a code which search file(image, text) from directory and its Working Too , Now I want to show Search File (image) on J Frame's Component like J Panel or something else , here is my code</p>\n<pre><code>private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n    try {\n        findFile(jTextField2.getText(),new File(jTextField1.getText()));\n    } catch (IOException ex) {\n        Logger.getLogger(NewJFrame.class.getName()).log(Level.SEVERE, null, ex);\n    }\n    } \n \n\npublic void findFile(String name,File file1)throws IOException\n    {      \n        File[] list = file1.listFiles();       \n        if(list!=null)  \n     {                          \n        for(File file2 : list)\n        {            \n            if (file2.isDirectory())\n            {\n                findFile(name,file2);             \n            }\n            else if (name.equalsIgnoreCase(file2.getName()))\n            {                                                              \n                \n                \n                JOptionPane.showMessageDialog(this, &quot;File found at : &quot;+name);\n                                             \n            }                      \n        }        \n      }\n    }\n</code></pre>\n<p>I got Two Textfields which Take image(abc.png) name and directory Folder(E:) and tell where it is located , now I want to Show it on J  Frame as well , I don't know how to do this</p>\n"},{"tags":["java","spring","jpa","criteriaquery","criteriabuilder"],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666190256,"creation_date":1666190256,"answer_id":74127279,"question_id":74126729,"body_markdown":"Your code adds a root to the outer query\r\n\r\n```\r\nRoot&lt;LocalAreaRegister&gt; subRoot = criteriaQuery.from(LocalAreaRegister.class);\r\n```\r\n\r\nwhile you want to add it to the `subQuery`, that is\r\n\r\n```\r\nRoot&lt;LocalAreaRegister&gt; subRoot = subQuery.from(LocalAreaRegister.class);\r\n```\r\n","title":"How to implement sub queries with criteria builder in Spring JPA","body":"<p>Your code adds a root to the outer query</p>\n<pre><code>Root&lt;LocalAreaRegister&gt; subRoot = criteriaQuery.from(LocalAreaRegister.class);\n</code></pre>\n<p>while you want to add it to the <code>subQuery</code>, that is</p>\n<pre><code>Root&lt;LocalAreaRegister&gt; subRoot = subQuery.from(LocalAreaRegister.class);\n</code></pre>\n"}],"owner":{"account_id":18837838,"reputation":25,"user_id":13740074,"display_name":"Saurabh Sahu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74127279,"answer_count":1,"score":0,"last_activity_date":1666190256,"creation_date":1666188091,"question_id":74126729,"body_markdown":"I am trying to achieve this native query dynamically using a criteria builder \r\n\r\n    @Query(nativeQuery = true, value =\r\n            &quot;&quot;&quot;\r\n                    SELECT * FROM unit_register\r\n                    WHERE unit_nr IN (\r\n                    SELECT DISTINCT(unit_nr)\r\n                    FROM local_area_register\r\n                    WHERE (service_code = :service_code or :service_code is null)\r\n                    AND (country_code = :country_code or :country_code is null)\r\n                    AND (postal_code = :postal_code or :postal_code is null)\r\n                    AND return_code IN (&#39;F&#39;, &#39;U&#39;)\r\n                    AND start_date &lt;= CURRENT_DATE\r\n                    AND COALESCE(end_date, CURRENT_DATE) &gt;= CURRENT_DATE )\r\n                                        &quot;&quot;&quot;)\r\n    List&lt;UnitRegister&gt; getUnitCodeDetails(@Param(&quot;service_code&quot;) String serviceCode,\r\n                                          @Param(&quot;country_code&quot;) String countryCode,\r\n                                          @Param(&quot;postal_code&quot;) String postalCode);\r\n\r\n\r\n\r\nThis is my implementation\r\n\r\n    public List&lt;UnitRegister&gt; findUnitRegister(String serviceCode, String countryCode, String postalCode) {\r\n        return unitRegisterRepository.findAll((Specification&lt;UnitRegister&gt;) (Root&lt;UnitRegister&gt; root,\r\n                                                                             CriteriaQuery&lt;?&gt; criteriaQuery,\r\n                                                                             CriteriaBuilder criteriaBuilder) -&gt; {\r\n\r\n            Subquery&lt;LocalAreaRegister&gt; subQuery = criteriaQuery.subquery(LocalAreaRegister.class);\r\n            Root&lt;LocalAreaRegister&gt; subRoot = criteriaQuery.from(LocalAreaRegister.class);\r\n\r\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n            List&lt;Predicate&gt; subPredicates = new ArrayList&lt;&gt;();\r\n            var p = criteriaBuilder.conjunction();\r\n\r\n            if (isNotBlank(serviceCode)) {\r\n                subPredicates.add(criteriaBuilder.equal(subRoot.get(&quot;id&quot;).get(&quot;serviceCode&quot;), serviceCode));\r\n            }\r\n            if (isNotBlank(countryCode)) {\r\n                subPredicates.add(criteriaBuilder.equal(subRoot.get(&quot;id&quot;).get(&quot;countryCode&quot;), countryCode));\r\n            }\r\n            if (isNotBlank(postalCode)) {\r\n                subPredicates.add(criteriaBuilder.equal(subRoot.get(&quot;id&quot;).get(&quot;postalCode&quot;), postalCode));\r\n            }\r\n\r\n            CriteriaBuilder.Coalesce&lt;LocalDate&gt; coalesce = criteriaBuilder.coalesce();\r\n            coalesce.value(subRoot.get(&quot;endDate&quot;));\r\n            coalesce.value(LocalDate.now());\r\n\r\n            subPredicates.add(criteriaBuilder.in(subRoot.get(&quot;id&quot;).get(&quot;returnCode&quot;)).value(RETURN_CODES_F_U));\r\n            subPredicates.add(criteriaBuilder.lessThanOrEqualTo(subRoot.get(&quot;startDate&quot;), LocalDate.now()));\r\n            subPredicates.add(criteriaBuilder.greaterThanOrEqualTo(coalesce, LocalDate.now()));\r\n\r\n            System.out.println(&quot;******&quot; + subPredicates.size());\r\n            subQuery.select(subRoot.get(&quot;id&quot;).get(&quot;unitNR&quot;)).distinct(true).where(subPredicates.toArray(new Predicate[]{}));\r\n\r\n            \r\n            return criteriaBuilder.in(root.get(&quot;unitNr&quot;)).value(subQuery);\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nBut its failing with below error message:\r\n\r\n******6    \r\n2022-10-19 01:21:00,322 ERROR [Test worker] [] o.h.hql.internal.ast.ErrorTracker: - line 1:230: unexpected token: where\r\n2022-10-19 01:21:00,322 ERROR [Test worker] [] o.h.hql.internal.ast.ErrorTracker: - line 1:230: unexpected token: where\r\nantlr.NoViableAltException: unexpected token: where\r\n\tat org.hibernate.hql.internal.antlr.HqlBaseParser.fromRange(HqlBaseParser.java:1674)\r\n\tat org.hibernate.hql.internal.antlr.HqlBaseParser.fromClause(HqlBaseParser.java:1473)\r\n\tat org.hibernate.hql.internal.antlr.HqlBaseParser.selectFrom(HqlBaseParser.java:1171)\r\n\tat org.hibernate.hql.internal.antlr.HqlBaseParser.queryRule(HqlBaseParser.java:825)\r\n\tat org.hibernate.hql.internal.antlr.HqlBaseParser.subQuery(HqlBaseParser.java:4356)\r\n\tat org.hibernate.hql.internal.antlr.HqlBaseParser.compoundExpr(HqlBaseParser.java:3729)\r\n\tat org.hibernate.hql.internal.antlr.HqlBaseParser.inList(HqlBaseParser.java:3454)\r\n\tat \r\nantlr.MismatchedTokenException: expecting EOF, found &#39;)&#39;\r\n\tat antlr.Parser.match(Parser.java:211)\r\n\tat org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:217)\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:294)\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189)\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:113)\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73)\r\n\tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)\r\n\t\r\norg.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: where near line 1, column 230 **[select generatedAlias0 from no.posten.ph.unit.domain.UnitRegister as generatedAlias0, no.posten.ph.unit.domain.LocalAreaRegister as generatedAlias1 where generatedAlias0.unitNr in (select distinct generatedAlias1.id.unitNR from  where ( generatedAlias1.id.serviceCode=:param0 ) and ( generatedAlias1.id.countryCode=:param1 ) and ( generatedAlias1.id.postalCode=:param2 ) and ( generatedAlias1.id.returnCode in (:param3) ) and ( generatedAlias1.startDate&lt;=:param4 ) and ( coalesce(generatedAlias1.endDate, :param5)&gt;=:param6 ))]**; nested exception is java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: where near line 1, column 230 [select generatedAlias0 from no.posten.ph.unit.domain.UnitRegister as generatedAlias0, no.posten.ph.unit.domain.LocalAreaRegister as generatedAlias1 where generatedAlias0.unitNr in (select distinct generatedAlias1.id.unitNR from  where ( generatedAlias1.id.serviceCode=:param0 ) and ( generatedAlias1.id.countryCode=:param1 ) and ( generatedAlias1.id.postalCode=:param2 ) and ( generatedAlias1.id.returnCode in (:param3) ) and ( generatedAlias1.startDate&lt;=:param4 ) and ( coalesce(generatedAlias1.endDate, :param5)&gt;=:param6 ))]\r\n\r\napp//org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748)\r\n\t... 127 more\r\n\r\n\r\nTo make the error understand simply:\r\n\r\n    [select generatedAlias0 from no.posten.ph.unit.domain.UnitRegister as generatedAlias0, no.posten.ph.unit.domain.LocalAreaRegister as generatedAlias1 where generatedAlias0.unitNr in (select distinct generatedAlias1.id.unitNR from  **where** ( generatedAlias1.id.serviceCode=:param0 ) and ( generatedAlias1.id.countryCode=:param1 ) and ( generatedAlias1.id.postalCode=:param2 ) and ( generatedAlias1.id.returnCode in (:param3) ) and ( generatedAlias1.startDate&lt;=:param4 ) and ( coalesce(generatedAlias1.endDate, :param5)&gt;=:param6 ))]\r\n\r\nThis is the query that is being generated and here before the &quot;where&quot; there is no table/entity name and in the where clause there is only 1 predicate being added, despite there are 6 predicates","title":"How to implement sub queries with criteria builder in Spring JPA","body":"<p>I am trying to achieve this native query dynamically using a criteria builder</p>\n<pre><code>@Query(nativeQuery = true, value =\n        &quot;&quot;&quot;\n                SELECT * FROM unit_register\n                WHERE unit_nr IN (\n                SELECT DISTINCT(unit_nr)\n                FROM local_area_register\n                WHERE (service_code = :service_code or :service_code is null)\n                AND (country_code = :country_code or :country_code is null)\n                AND (postal_code = :postal_code or :postal_code is null)\n                AND return_code IN ('F', 'U')\n                AND start_date &lt;= CURRENT_DATE\n                AND COALESCE(end_date, CURRENT_DATE) &gt;= CURRENT_DATE )\n                                    &quot;&quot;&quot;)\nList&lt;UnitRegister&gt; getUnitCodeDetails(@Param(&quot;service_code&quot;) String serviceCode,\n                                      @Param(&quot;country_code&quot;) String countryCode,\n                                      @Param(&quot;postal_code&quot;) String postalCode);\n</code></pre>\n<p>This is my implementation</p>\n<pre><code>public List&lt;UnitRegister&gt; findUnitRegister(String serviceCode, String countryCode, String postalCode) {\n    return unitRegisterRepository.findAll((Specification&lt;UnitRegister&gt;) (Root&lt;UnitRegister&gt; root,\n                                                                         CriteriaQuery&lt;?&gt; criteriaQuery,\n                                                                         CriteriaBuilder criteriaBuilder) -&gt; {\n\n        Subquery&lt;LocalAreaRegister&gt; subQuery = criteriaQuery.subquery(LocalAreaRegister.class);\n        Root&lt;LocalAreaRegister&gt; subRoot = criteriaQuery.from(LocalAreaRegister.class);\n\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n        List&lt;Predicate&gt; subPredicates = new ArrayList&lt;&gt;();\n        var p = criteriaBuilder.conjunction();\n\n        if (isNotBlank(serviceCode)) {\n            subPredicates.add(criteriaBuilder.equal(subRoot.get(&quot;id&quot;).get(&quot;serviceCode&quot;), serviceCode));\n        }\n        if (isNotBlank(countryCode)) {\n            subPredicates.add(criteriaBuilder.equal(subRoot.get(&quot;id&quot;).get(&quot;countryCode&quot;), countryCode));\n        }\n        if (isNotBlank(postalCode)) {\n            subPredicates.add(criteriaBuilder.equal(subRoot.get(&quot;id&quot;).get(&quot;postalCode&quot;), postalCode));\n        }\n\n        CriteriaBuilder.Coalesce&lt;LocalDate&gt; coalesce = criteriaBuilder.coalesce();\n        coalesce.value(subRoot.get(&quot;endDate&quot;));\n        coalesce.value(LocalDate.now());\n\n        subPredicates.add(criteriaBuilder.in(subRoot.get(&quot;id&quot;).get(&quot;returnCode&quot;)).value(RETURN_CODES_F_U));\n        subPredicates.add(criteriaBuilder.lessThanOrEqualTo(subRoot.get(&quot;startDate&quot;), LocalDate.now()));\n        subPredicates.add(criteriaBuilder.greaterThanOrEqualTo(coalesce, LocalDate.now()));\n\n        System.out.println(&quot;******&quot; + subPredicates.size());\n        subQuery.select(subRoot.get(&quot;id&quot;).get(&quot;unitNR&quot;)).distinct(true).where(subPredicates.toArray(new Predicate[]{}));\n\n        \n        return criteriaBuilder.in(root.get(&quot;unitNr&quot;)).value(subQuery);\n    });\n}\n</code></pre>\n<p>But its failing with below error message:</p>\n<p>******6<br />\n2022-10-19 01:21:00,322 ERROR [Test worker] [] o.h.hql.internal.ast.ErrorTracker: - line 1:230: unexpected token: where\n2022-10-19 01:21:00,322 ERROR [Test worker] [] o.h.hql.internal.ast.ErrorTracker: - line 1:230: unexpected token: where\nantlr.NoViableAltException: unexpected token: where\nat org.hibernate.hql.internal.antlr.HqlBaseParser.fromRange(HqlBaseParser.java:1674)\nat org.hibernate.hql.internal.antlr.HqlBaseParser.fromClause(HqlBaseParser.java:1473)\nat org.hibernate.hql.internal.antlr.HqlBaseParser.selectFrom(HqlBaseParser.java:1171)\nat org.hibernate.hql.internal.antlr.HqlBaseParser.queryRule(HqlBaseParser.java:825)\nat org.hibernate.hql.internal.antlr.HqlBaseParser.subQuery(HqlBaseParser.java:4356)\nat org.hibernate.hql.internal.antlr.HqlBaseParser.compoundExpr(HqlBaseParser.java:3729)\nat org.hibernate.hql.internal.antlr.HqlBaseParser.inList(HqlBaseParser.java:3454)\nat\nantlr.MismatchedTokenException: expecting EOF, found ')'\nat antlr.Parser.match(Parser.java:211)\nat org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:217)\nat org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:294)\nat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189)\nat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)\nat org.hibernate.engine.query.spi.HQLQueryPlan.(HQLQueryPlan.java:113)\nat org.hibernate.engine.query.spi.HQLQueryPlan.(HQLQueryPlan.java:73)\nat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)</p>\n<p>org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: where near line 1, column 230 <strong>[select generatedAlias0 from no.posten.ph.unit.domain.UnitRegister as generatedAlias0, no.posten.ph.unit.domain.LocalAreaRegister as generatedAlias1 where generatedAlias0.unitNr in (select distinct generatedAlias1.id.unitNR from  where ( generatedAlias1.id.serviceCode=:param0 ) and ( generatedAlias1.id.countryCode=:param1 ) and ( generatedAlias1.id.postalCode=:param2 ) and ( generatedAlias1.id.returnCode in (:param3) ) and ( generatedAlias1.startDate&lt;=:param4 ) and ( coalesce(generatedAlias1.endDate, :param5)&gt;=:param6 ))]</strong>; nested exception is java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: where near line 1, column 230 [select generatedAlias0 from no.posten.ph.unit.domain.UnitRegister as generatedAlias0, no.posten.ph.unit.domain.LocalAreaRegister as generatedAlias1 where generatedAlias0.unitNr in (select distinct generatedAlias1.id.unitNR from  where ( generatedAlias1.id.serviceCode=:param0 ) and ( generatedAlias1.id.countryCode=:param1 ) and ( generatedAlias1.id.postalCode=:param2 ) and ( generatedAlias1.id.returnCode in (:param3) ) and ( generatedAlias1.startDate&lt;=:param4 ) and ( coalesce(generatedAlias1.endDate, :param5)&gt;=:param6 ))]</p>\n<p>app//org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748)\n... 127 more</p>\n<p>To make the error understand simply:</p>\n<pre><code>[select generatedAlias0 from no.posten.ph.unit.domain.UnitRegister as generatedAlias0, no.posten.ph.unit.domain.LocalAreaRegister as generatedAlias1 where generatedAlias0.unitNr in (select distinct generatedAlias1.id.unitNR from  **where** ( generatedAlias1.id.serviceCode=:param0 ) and ( generatedAlias1.id.countryCode=:param1 ) and ( generatedAlias1.id.postalCode=:param2 ) and ( generatedAlias1.id.returnCode in (:param3) ) and ( generatedAlias1.startDate&lt;=:param4 ) and ( coalesce(generatedAlias1.endDate, :param5)&gt;=:param6 ))]\n</code></pre>\n<p>This is the query that is being generated and here before the &quot;where&quot; there is no table/entity name and in the where clause there is only 1 predicate being added, despite there are 6 predicates</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1666100576,"post_id":74111996,"comment_id":130851760,"body_markdown":"if this all has to be done within the equals method, what is stopping you from using conditional statements within the equals?","body":"if this all has to be done within the equals method, what is stopping you from using conditional statements within the equals?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1666100618,"post_id":74111996,"comment_id":130851779,"body_markdown":"Why not use a Map or Set of just the strings for the case where you want to dedupe `random_str`?","body":"Why not use a Map or Set of just the strings for the case where you want to dedupe <code>random_str</code>?"},{"owner":{"account_id":26660109,"reputation":3,"user_id":20273066,"display_name":"Hpzz"},"score":0,"creation_date":1666101152,"post_id":74111996,"comment_id":130852029,"body_markdown":"I don&#39;t know what you mean about dedupe, I believe if I&#39;ve used Map or Set to compare random_num and random_str, when I use again Map or Set to compare only random_str, it won&#39;t work because I already set the equality of Object is when random_num and random_str are the same.","body":"I don&#39;t know what you mean about dedupe, I believe if I&#39;ve used Map or Set to compare random_num and random_str, when I use again Map or Set to compare only random_str, it won&#39;t work because I already set the equality of Object is when random_num and random_str are the same."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1666101354,"post_id":74111996,"comment_id":130852137,"body_markdown":"@Hpzz Please [edit] your question to include a more detailed description where you need `equals()` to work with `random_num` and `random_str` and where you need `equals()` to work only with `random_str`.","body":"@Hpzz Please <a href=\"https://stackoverflow.com/posts/74111996/edit\">edit</a> your question to include a more detailed description where you need <code>equals()</code> to work with <code>random_num</code> and <code>random_str</code> and where you need <code>equals()</code> to work only with <code>random_str</code>."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":1,"creation_date":1666101538,"post_id":74111996,"comment_id":130852231,"body_markdown":"Implement two [Comparator](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html) classes for your two compare strategies. E.g. in a [TreeMap constructor](https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html#TreeMap-java.util.Comparator-) you can then provide your own comparator.","body":"Implement two <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator</a> classes for your two compare strategies. E.g. in a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html#TreeMap-java.util.Comparator-\" rel=\"nofollow noreferrer\">TreeMap constructor</a> you can then provide your own comparator."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666104719,"post_id":74111996,"comment_id":130853638,"body_markdown":"&quot;_when I use again Map or Set to compare only random_str, it won&#39;t work because I already set the equality of Object is when random_num and random_str are the same._&quot; - If I understood correctly, I don&#39;t think this is possible in the order you described. By your own words, the second case is a subset of the first. The only way I see this possible is if you change the order of the comparisons.","body":"&quot;<i>when I use again Map or Set to compare only random_str, it won&#39;t work because I already set the equality of Object is when random_num and random_str are the same.</i>&quot; - If I understood correctly, I don&#39;t think this is possible in the order you described. By your own words, the second case is a subset of the first. The only way I see this possible is if you change the order of the comparisons."}],"answers":[{"comments":[{"owner":{"account_id":26660109,"reputation":3,"user_id":20273066,"display_name":"Hpzz"},"score":0,"creation_date":1666105592,"post_id":74112435,"comment_id":130854022,"body_markdown":"Thanks for the answer, I didn&#39;t know about wrapper classes.","body":"Thanks for the answer, I didn&#39;t know about wrapper classes."}],"tags":[],"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666102154,"creation_date":1666102154,"answer_id":74112435,"question_id":74111996,"body_markdown":"Your example seems to be case for Guava [Equivalence](https://guava.dev/releases/28.2-jre/api/docs/com/google/common/base/Equivalence.html) or Apache [Equator](https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/Equator.html) class. These classes are sometimes helpful if one needs custom equality logic. The `Equivalence` is related to natural `Object.equals` in similar way as `Comparator` is to `Comparable`.\r\n\r\nYou can also do the same without external libraries of course:\r\n  - create a two wrapper classes of `YourObject` (the naming `Object` is not well chosen), say, `WrapperByNum` and `WrapperByNumAndStr`\r\n  - implement `equals` and `hashCode` on wrapper classes using whatever fields of wrapped class you want\r\n  - use collections `Set&lt;WrapperByNum&gt;` etc., then extract original class using `set.stream().map(wrapperByNum -&gt; wrapperByNum.getYourObject())....`\r\n","title":"Count duplicate objects with different equalities in java","body":"<p>Your example seems to be case for Guava <a href=\"https://guava.dev/releases/28.2-jre/api/docs/com/google/common/base/Equivalence.html\" rel=\"nofollow noreferrer\">Equivalence</a> or Apache <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/Equator.html\" rel=\"nofollow noreferrer\">Equator</a> class. These classes are sometimes helpful if one needs custom equality logic. The <code>Equivalence</code> is related to natural <code>Object.equals</code> in similar way as <code>Comparator</code> is to <code>Comparable</code>.</p>\n<p>You can also do the same without external libraries of course:</p>\n<ul>\n<li>create a two wrapper classes of <code>YourObject</code> (the naming <code>Object</code> is not well chosen), say, <code>WrapperByNum</code> and <code>WrapperByNumAndStr</code></li>\n<li>implement <code>equals</code> and <code>hashCode</code> on wrapper classes using whatever fields of wrapped class you want</li>\n<li>use collections <code>Set&lt;WrapperByNum&gt;</code> etc., then extract original class using <code>set.stream().map(wrapperByNum -&gt; wrapperByNum.getYourObject())....</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666104094,"creation_date":1666103091,"answer_id":74112666,"question_id":74111996,"body_markdown":"Suppose you are aiming for duplicate count, and there are multiple ways to define &quot;equalities&quot;. As it is not possible to have 2 `equals` in 1 class, \r\nwe can use Java `record` and `Collectors.groupingBy` can be handy tools in this case.\r\n\r\nThe benefit of using [`record`][1] as key are\r\n1. `equals` and `hashcode` are automatically implemented\r\n2. It is immutable.(which make it safe to be a key)\r\n\r\nFirst we need create a record with the field we want for equalities\r\n```java\r\nrecord KeyWithFieldYouWant(Integer field1, String field2, ...){}\r\n```\r\nThen we can write group by\r\n```java\r\nMap&lt;KeyWithFieldYouWant, Long&gt; countPerKey = objectList.stream().collect(Collectors.groupingBy(\r\n                customObject -&gt; new KeyWithFieldYouWant(customObject.getField1(), customObject.getField2(), ...)\r\n                , Collectors.counting()\r\n        ));\r\n```\r\nTo get the count for each key.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/language/records.html","title":"Count duplicate objects with different equalities in java","body":"<p>Suppose you are aiming for duplicate count, and there are multiple ways to define &quot;equalities&quot;. As it is not possible to have 2 <code>equals</code> in 1 class,\nwe can use Java <code>record</code> and <code>Collectors.groupingBy</code> can be handy tools in this case.</p>\n<p>The benefit of using <a href=\"https://docs.oracle.com/en/java/javase/19/language/records.html\" rel=\"nofollow noreferrer\"><code>record</code></a> as key are</p>\n<ol>\n<li><code>equals</code> and <code>hashcode</code> are automatically implemented</li>\n<li>It is immutable.(which make it safe to be a key)</li>\n</ol>\n<p>First we need create a record with the field we want for equalities</p>\n<pre class=\"lang-java prettyprint-override\"><code>record KeyWithFieldYouWant(Integer field1, String field2, ...){}\n</code></pre>\n<p>Then we can write group by</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;KeyWithFieldYouWant, Long&gt; countPerKey = objectList.stream().collect(Collectors.groupingBy(\n                customObject -&gt; new KeyWithFieldYouWant(customObject.getField1(), customObject.getField2(), ...)\n                , Collectors.counting()\n        ));\n</code></pre>\n<p>To get the count for each key.</p>\n"}],"owner":{"account_id":26660109,"reputation":3,"user_id":20273066,"display_name":"Hpzz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1666140372,"accepted_answer_id":74112666,"answer_count":2,"score":-3,"last_activity_date":1666190053,"creation_date":1666100311,"question_id":74111996,"body_markdown":"I&#39;m lost on what Java 8 could do for counting duplicates using only 1 equals. I know the use of Map and Set but the problem is:\r\n\r\n```\r\npublic class CustomObject{\r\n  private int random_num;\r\n  private String random_str;\r\n}\r\n```\r\n```\r\n   public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        CustomObject obj = (CustomObject) o;\r\n        return Int.compare(obj.random_int, random_int) == 0 &amp;&amp; Objects.equals(random_str, obj.random_str);\r\n    }\r\n```\r\n\r\nI want to compare CustomObject by 2 ways.\r\n1. Equal when they have the same `random_num` and the same `random_str`, \r\n2. Equal when they only have the same `random_str`.\r\n\r\nFor (1), I would do implement equals and hash code for the `random_num` and `random_str` attributes, then use a Map or Set to count duplicates.\r\n\r\nBut for (2), I don&#39;t know if I can override equals to count duplicates using Map or Set again, or need to do it with a different approach. I want to count duplicates only if they have the same `random_str`.","title":"Count duplicate objects with different equalities in java","body":"<p>I'm lost on what Java 8 could do for counting duplicates using only 1 equals. I know the use of Map and Set but the problem is:</p>\n<pre><code>public class CustomObject{\n  private int random_num;\n  private String random_str;\n}\n</code></pre>\n<pre><code>   public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        CustomObject obj = (CustomObject) o;\n        return Int.compare(obj.random_int, random_int) == 0 &amp;&amp; Objects.equals(random_str, obj.random_str);\n    }\n</code></pre>\n<p>I want to compare CustomObject by 2 ways.</p>\n<ol>\n<li>Equal when they have the same <code>random_num</code> and the same <code>random_str</code>,</li>\n<li>Equal when they only have the same <code>random_str</code>.</li>\n</ol>\n<p>For (1), I would do implement equals and hash code for the <code>random_num</code> and <code>random_str</code> attributes, then use a Map or Set to count duplicates.</p>\n<p>But for (2), I don't know if I can override equals to count duplicates using Map or Set again, or need to do it with a different approach. I want to count duplicates only if they have the same <code>random_str</code>.</p>\n"},{"tags":["java","input","java.util.scanner","whitespace"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666190090,"post_id":74127204,"comment_id":130877671,"body_markdown":"any `next` or `hasNext` method that are not *considering* a line (`nextLine` or `hasNextLine`) work on TOKENS, which are delimited by white spaces (if not changed) - Also be aware of [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo?r=SearchResults&amp;s=1%7C240.5121) - Anyway","body":"any <code>next</code> or <code>hasNext</code> method that are not <i>considering</i> a line (<code>nextLine</code> or <code>hasNextLine</code>) work on TOKENS, which are delimited by white spaces (if not changed) - Also be aware of <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo?r=SearchResults&amp;s=1%7C240.5121\">Scanner is skipping nextLine() after using next() or nextFoo()?</a> - Anyway"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1666190117,"post_id":74127204,"comment_id":130877679,"body_markdown":"Because `hasNextDouble` and `nextDouble` will read the next double in your input and not necessarily consume a complete line. In the case of `&quot;1 +&quot;` the next double it can read is `1`.","body":"Because <code>hasNextDouble</code> and <code>nextDouble</code> will read the next double in your input and not necessarily consume a complete line. In the case of <code>&quot;1 +&quot;</code> the next double it can read is <code>1</code>."},{"owner":{"account_id":17030246,"reputation":75,"user_id":12320562,"display_name":"Nicholas Chill"},"score":0,"creation_date":1666191271,"post_id":74127204,"comment_id":130878207,"body_markdown":"@user16320675 I only want the user to be able to input doubles and no letters or + or - etc.","body":"@user16320675 I only want the user to be able to input doubles and no letters or + or - etc."},{"owner":{"account_id":17030246,"reputation":75,"user_id":12320562,"display_name":"Nicholas Chill"},"score":0,"creation_date":1666191417,"post_id":74127204,"comment_id":130878275,"body_markdown":"@OHGODSPIDERS How would I then check the whole line at once?","body":"@OHGODSPIDERS How would I then check the whole line at once?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1666192000,"post_id":74127204,"comment_id":130878522,"body_markdown":"You could just always use `nextLine()` method to get the whole line as a String, then check what that String contains like if it is `&quot;quit&quot;` and if not if it is possible to parse the whole line to a double via using `Double.parseDouble`","body":"You could just always use <code>nextLine()</code> method to get the whole line as a String, then check what that String contains like if it is <code>&quot;quit&quot;</code> and if not if it is possible to parse the whole line to a double via using <code>Double.parseDouble</code>"}],"owner":{"account_id":17030246,"reputation":75,"user_id":12320562,"display_name":"Nicholas Chill"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666189866,"creation_date":1666189866,"question_id":74127204,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String characters;\r\n            Scanner scan = new Scanner(System.in);\r\n            boolean quit = false;\r\n    \r\n            do {\r\n                System.out.println(&quot;USD to SEK converter&quot;);\r\n                System.out.println(&quot;Enter &#39;quit&#39; to exit the program&quot;);\r\n                System.out.print(&quot;Enter USD amount: &quot;);\r\n    \r\n                if (scan.hasNextDouble()) {\r\n                    double usd = scan.nextDouble();\r\n                    double sek = usd * 11.2;\r\n                    System.out.println(sek);\r\n                }else if(scan.hasNextLine()) {\r\n                    characters = scan.nextLine();\r\n                    System.out.println(characters);\r\n                    if (characters.equals(&quot;quit&quot;)) {\r\n                        quit = true;\r\n                    }\r\n                }\r\n            }while (!quit);\r\n        }\r\n    }\r\n\r\nI am making a USD to SEK converter and when I input 1 +, I first get the conversion of 1 USD to SEK and then get +. Why is the program first checking 1 and then + and not both at the same time? If I input 1+, I get 1+. No conversion of 1. If I enter 1+2 I get 1+2 and when I enter 1 + 2 I first get the conversion on 1 USD to SEK and then + 2.","title":"Why is the user input string being checked individually if there is whitespace?","body":"<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        String characters;\n        Scanner scan = new Scanner(System.in);\n        boolean quit = false;\n\n        do {\n            System.out.println(&quot;USD to SEK converter&quot;);\n            System.out.println(&quot;Enter 'quit' to exit the program&quot;);\n            System.out.print(&quot;Enter USD amount: &quot;);\n\n            if (scan.hasNextDouble()) {\n                double usd = scan.nextDouble();\n                double sek = usd * 11.2;\n                System.out.println(sek);\n            }else if(scan.hasNextLine()) {\n                characters = scan.nextLine();\n                System.out.println(characters);\n                if (characters.equals(&quot;quit&quot;)) {\n                    quit = true;\n                }\n            }\n        }while (!quit);\n    }\n}\n</code></pre>\n<p>I am making a USD to SEK converter and when I input 1 +, I first get the conversion of 1 USD to SEK and then get +. Why is the program first checking 1 and then + and not both at the same time? If I input 1+, I get 1+. No conversion of 1. If I enter 1+2 I get 1+2 and when I enter 1 + 2 I first get the conversion on 1 USD to SEK and then + 2.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1718670,"reputation":4777,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1666189629,"post_id":74127056,"comment_id":130877485,"body_markdown":"Why bet instead of reading some doc? https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object)\nhttps://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equalsIgnoreCase(java.lang.String)","body":"Why bet instead of reading some doc? <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equalsIgnoreCase(java.lang.String)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1666191259,"post_id":74127056,"comment_id":130878195,"body_markdown":"@fantaghirocco: JavaDoc is good at explaining the &quot;what&quot;, but not really at explaining the &quot;why&quot;, especially for developers that are not experienced already (reading the &quot;why&quot; often requires lots of context and reading between the lines).","body":"@fantaghirocco: JavaDoc is good at explaining the &quot;what&quot;, but not really at explaining the &quot;why&quot;, especially for developers that are not experienced already (reading the &quot;why&quot; often requires lots of context and reading between the lines)."},{"owner":{"account_id":26618124,"reputation":21,"user_id":20237229,"display_name":"adi"},"score":0,"creation_date":1666191469,"post_id":74127056,"comment_id":130878286,"body_markdown":"@JoachimSauer yes, thank you. I already looked at both functions with the use of eclipse but made it hard to grasp the idea!","body":"@JoachimSauer yes, thank you. I already looked at both functions with the use of eclipse but made it hard to grasp the idea!"}],"answers":[{"tags":[],"owner":{"account_id":20859888,"reputation":36,"user_id":15322375,"display_name":"Alpha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666189500,"creation_date":1666189500,"answer_id":74127101,"question_id":74127056,"body_markdown":"Only strings can have both upper and lower case, and in the case of the first one it is checking if 2 objects are equal, no matter if they are string or not so cases do not matter","title":"Object and String parameter","body":"<p>Only strings can have both upper and lower case, and in the case of the first one it is checking if 2 objects are equal, no matter if they are string or not so cases do not matter</p>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1666189525,"creation_date":1666189525,"answer_id":74127106,"question_id":74127056,"body_markdown":"[`equals(Object)` is defined in `java.lang.Object`][1] and is a method that is available on all object in Java. Therefore it&#39;s defined as generically as possible (i.e. it accepts any other object as the argument).\r\n\r\n[`equalsIgnoreCase` is only defined in `java.lang.String`][2]. It&#39;s a *specific* method for comparing strings in a *specific* way. Since it&#39;s about text, it doesn&#39;t make sense to accept any non-`String` object here.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#equalsIgnoreCase(java.lang.String)","title":"Object and String parameter","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"noreferrer\"><code>equals(Object)</code> is defined in <code>java.lang.Object</code></a> and is a method that is available on all object in Java. Therefore it's defined as generically as possible (i.e. it accepts any other object as the argument).</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#equalsIgnoreCase(java.lang.String)\" rel=\"noreferrer\"><code>equalsIgnoreCase</code> is only defined in <code>java.lang.String</code></a>. It's a <em>specific</em> method for comparing strings in a <em>specific</em> way. Since it's about text, it doesn't make sense to accept any non-<code>String</code> object here.</p>\n"},{"tags":[],"owner":{"account_id":5573740,"reputation":49,"user_id":4417974,"display_name":"Balint"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1666189789,"creation_date":1666189789,"answer_id":74127185,"question_id":74127056,"body_markdown":"Great question! I&#39;m not a Java expert so don&#39;t just take my word for it :)\r\n\r\nThe [`equals`](https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object))\r\nfunction is declared in `Object`, which is the superclass of `String`. It is declared in a way, to support comparison to any object, not just strings.\r\n\r\nIn contrast, the [`equalsIgnoreCase`](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equalsIgnoreCase(java.lang.String))\r\nis a function specific to just strings, it is declared in the `String` class. It is made for comparison between strings only.","title":"Object and String parameter","body":"<p>Great question! I'm not a Java expert so don't just take my word for it :)</p>\n<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>equals</code></a>\nfunction is declared in <code>Object</code>, which is the superclass of <code>String</code>. It is declared in a way, to support comparison to any object, not just strings.</p>\n<p>In contrast, the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equalsIgnoreCase(java.lang.String)\" rel=\"nofollow noreferrer\"><code>equalsIgnoreCase</code></a>\nis a function specific to just strings, it is declared in the <code>String</code> class. It is made for comparison between strings only.</p>\n"}],"owner":{"account_id":26618124,"reputation":21,"user_id":20237229,"display_name":"adi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":379,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":74127106,"answer_count":3,"score":-1,"last_activity_date":1666189789,"creation_date":1666189308,"question_id":74127056,"body_markdown":"I am learning through w3schools. I am confused mainly about the meaning of java syntax. To my understanding, both functions the same except for the String cases.\r\nThe thing I don&#39;t understand is their parameters; why is the other an Object and the other is String?\r\n```\r\npublic boolean equals(Object anotherObject)\r\n```\r\n```\r\npublic boolean equalsIgnoreCase(String anotherString)\r\n\r\n```","title":"Object and String parameter","body":"<p>I am learning through w3schools. I am confused mainly about the meaning of java syntax. To my understanding, both functions the same except for the String cases.\nThe thing I don't understand is their parameters; why is the other an Object and the other is String?</p>\n<pre><code>public boolean equals(Object anotherObject)\n</code></pre>\n<pre><code>public boolean equalsIgnoreCase(String anotherString)\n\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-boot","spring-security"],"comments":[{"owner":{"account_id":7023435,"reputation":573,"user_id":5381825,"accept_rate":64,"display_name":"dzrkot"},"score":1,"creation_date":1512133008,"post_id":47593537,"comment_id":82144955,"body_markdown":"https://docs.spring.io/spring-security/site/docs/current/reference/html/test-method.html\nor another way is to use another security config for tests, use Profile and ActiveProfiles annotations for it","body":"<a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html/test-method.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/current/reference/h&zwnj;&#8203;tml/&hellip;</a> or another way is to use another security config for tests, use Profile and ActiveProfiles annotations for it"}],"answers":[{"comments":[{"owner":{"account_id":6802403,"reputation":950,"user_id":5235326,"accept_rate":75,"display_name":"Clauds"},"score":17,"creation_date":1544621758,"post_id":47593951,"comment_id":94340860,"body_markdown":"`secure` was deprecated `since 2.1.0 in favor of Spring Security&#39;s testing support`. Now `@AutoConfigureMockMvc(secure = false)` shall be used.","body":"<code>secure</code> was deprecated <code>since 2.1.0 in favor of Spring Security&#39;s testing support</code>. Now <code>@AutoConfigureMockMvc(secure = false)</code> shall be used."},{"owner":{"account_id":8534605,"reputation":462,"user_id":6396924,"display_name":"GuanacoBE"},"score":37,"creation_date":1560516874,"post_id":47593951,"comment_id":99773169,"body_markdown":"In `@AutoConfigureMockMvc(secure = false)`, `secure` is deprecated too","body":"In <code>@AutoConfigureMockMvc(secure = false)</code>, <code>secure</code> is deprecated too"},{"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"score":7,"creation_date":1582874238,"post_id":47593951,"comment_id":106933847,"body_markdown":"How to do for `@SpringBootTest`?","body":"How to do for <code>@SpringBootTest</code>?"}],"tags":[],"owner":{"account_id":1409200,"reputation":3976,"user_id":1336158,"accept_rate":100,"display_name":"Mzzl"},"comment_count":3,"down_vote_count":6,"up_vote_count":26,"is_accepted":true,"score":20,"last_activity_date":1612976843,"creation_date":1512133122,"answer_id":47593951,"question_id":47593537,"body_markdown":"You can set **secure=false** in the @WebMvcTest annoation.\r\nIt will skip the spring security MockMvc auto configuration in your Test\r\n\r\n\r\n    @WebMvcTest(controllers = SomeController.class, secure = false)\r\n    public class SomeControllerTest {\r\n\r\nNote by the author:\r\nAs of 2021, this answer has been obsolete for a few years and it probably won&#39;t work for you.  ","title":"Disable Spring Security config class for @WebMvcTest in Spring Boot","body":"<p>You can set <strong>secure=false</strong> in the @WebMvcTest annoation.\nIt will skip the spring security MockMvc auto configuration in your Test</p>\n<pre><code>@WebMvcTest(controllers = SomeController.class, secure = false)\npublic class SomeControllerTest {\n</code></pre>\n<p>Note by the author:\nAs of 2021, this answer has been obsolete for a few years and it probably won't work for you.</p>\n"},{"tags":[],"owner":{"account_id":8062381,"reputation":6887,"user_id":6077549,"accept_rate":5,"display_name":"alltej"},"comment_count":0,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1539780054,"creation_date":1539780054,"answer_id":52855104,"question_id":47593537,"body_markdown":"With Spring Security 4+, I find `@WithMockUser` annotation to be very handy. It provides a mock user and password to test spring security methods annotated with @PreAuthorize or @PostAuthorize. All you need to do is annotate the test method with `@WithMockUser`. The default role for the user is `USER`. You can override the default username and role too. \r\n\r\n    //default\r\n    @Test\r\n    @WithMockUser\r\n    public void getProfile() {\r\n       //your test here\r\n    } \r\n    \r\n    //with username and roles\r\n    @Test\r\n    @WithMockUser(username = &quot;john&quot;, roles={&quot;ADMIN&quot;})\r\n    public void getProfile() {\r\n       //your test here\r\n    } \r\n\r\nNOTE: This annotation can be used for classes.\r\n\r\n    @WithMockUser(username = &quot;john&quot;, roles={&quot;ADMIN&quot;})\r\n    public class UsersAdminSecurityTest {\r\n    } ","title":"Disable Spring Security config class for @WebMvcTest in Spring Boot","body":"<p>With Spring Security 4+, I find <code>@WithMockUser</code> annotation to be very handy. It provides a mock user and password to test spring security methods annotated with @PreAuthorize or @PostAuthorize. All you need to do is annotate the test method with <code>@WithMockUser</code>. The default role for the user is <code>USER</code>. You can override the default username and role too. </p>\n\n<pre><code>//default\n@Test\n@WithMockUser\npublic void getProfile() {\n   //your test here\n} \n\n//with username and roles\n@Test\n@WithMockUser(username = \"john\", roles={\"ADMIN\"})\npublic void getProfile() {\n   //your test here\n} \n</code></pre>\n\n<p>NOTE: This annotation can be used for classes.</p>\n\n<pre><code>@WithMockUser(username = \"john\", roles={\"ADMIN\"})\npublic class UsersAdminSecurityTest {\n} \n</code></pre>\n"},{"comments":[{"owner":{"account_id":11580831,"reputation":2846,"user_id":8484783,"display_name":"Marc"},"score":8,"creation_date":1624005863,"post_id":60398281,"comment_id":120244376,"body_markdown":"Note that `@ExtendWith(SpringExtension.class)` is not necessary, since it is imported automatically by `@WebMvcTest`.","body":"Note that <code>@ExtendWith(SpringExtension.class)</code> is not necessary, since it is imported automatically by <code>@WebMvcTest</code>."}],"tags":[],"owner":{"account_id":135718,"reputation":935,"user_id":338780,"accept_rate":67,"display_name":"theo"},"comment_count":1,"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1584951831,"creation_date":1582645239,"answer_id":60398281,"question_id":47593537,"body_markdown":"For me in Spring Boot 2.2.4 (JUnit5) the below seems to have worked and bypass the security filter.\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @WebMvcTest(SomeController.class)\r\n    @AutoConfigureMockMvc(addFilters = false)\r\n    public class SomeControllerTest {\r\n    ...\r\n\r\nNote: this simply disables any filters in the SpringSecurity configuration. It won&#39;t disable the security completely. In other words it will still bootstrap security without loading any filters.","title":"Disable Spring Security config class for @WebMvcTest in Spring Boot","body":"<p>For me in Spring Boot 2.2.4 (JUnit5) the below seems to have worked and bypass the security filter.</p>\n\n<pre><code>@ExtendWith(SpringExtension.class)\n@WebMvcTest(SomeController.class)\n@AutoConfigureMockMvc(addFilters = false)\npublic class SomeControllerTest {\n...\n</code></pre>\n\n<p>Note: this simply disables any filters in the SpringSecurity configuration. It won't disable the security completely. In other words it will still bootstrap security without loading any filters.</p>\n"},{"comments":[{"owner":{"account_id":8638715,"reputation":68,"user_id":6467979,"display_name":"TeJas"},"score":0,"creation_date":1674840688,"post_id":61459699,"comment_id":132806273,"body_markdown":"This worked for me when I had a hierarchy of classes in my test suite by annotating it to my base class. In case of the solution by using @AutoConfigureMockMvc , I had to do it for every class!","body":"This worked for me when I had a hierarchy of classes in my test suite by annotating it to my base class. In case of the solution by using @AutoConfigureMockMvc , I had to do it for every class!"},{"owner":{"account_id":16296860,"reputation":579,"user_id":11768882,"display_name":"Arturo Mendes"},"score":0,"creation_date":1677495134,"post_id":61459699,"comment_id":133342169,"body_markdown":"Worked for me while using `spring-security` version 6.0.1, I just needed the controller tests to pass since I was just using the library for encryption and decryption and not any of the other security tools","body":"Worked for me while using <code>spring-security</code> version 6.0.1, I just needed the controller tests to pass since I was just using the library for encryption and decryption and not any of the other security tools"}],"tags":[],"owner":{"account_id":13919636,"reputation":1002,"user_id":10050431,"display_name":"Fabien"},"comment_count":2,"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1587993117,"creation_date":1587993117,"answer_id":61459699,"question_id":47593537,"body_markdown":"In Spring Boot 2.2.6, @WebMvcTest is meta annotated with @AutoConfigureWebMvc which auto-configure org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration as you can see in spring.factories of spring-boot-test-autoconfigure.jar\r\n\r\nSo you just have to exclude SecurityAutoConfiguration in your test to disable Spring Security :\r\n\r\n\r\n    @WebMvcTest(excludeAutoConfiguration = SecurityAutoConfiguration.class) ","title":"Disable Spring Security config class for @WebMvcTest in Spring Boot","body":"<p>In Spring Boot 2.2.6, @WebMvcTest is meta annotated with @AutoConfigureWebMvc which auto-configure org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration as you can see in spring.factories of spring-boot-test-autoconfigure.jar</p>\n\n<p>So you just have to exclude SecurityAutoConfiguration in your test to disable Spring Security :</p>\n\n<pre><code>@WebMvcTest(excludeAutoConfiguration = SecurityAutoConfiguration.class) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":465807,"reputation":456,"user_id":870149,"display_name":"darkstar_mx"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1588690232,"creation_date":1588095355,"answer_id":61486448,"question_id":47593537,"body_markdown":"I understand this is a specific question for Spring Boot 1.5 but seems a bit old. In order to have a successful OAuth2 secured controller unit test running I applied the following steps, kindly notice I used Spring Boot 2.2.6, Gradle 5.x, and JUnit 5. This mechanism should work the same way deprecated ones based on `@AutoConfigureMockMvc(secure = false)` or `@WebMvcTest(controllers = SomeController.class, secure = false)`\r\n\r\nThis is for a REST API project that is secured (OAuth2) using Microsoft&#39;s Azure Active Directory, but essentially this testing strategy should work for any OIDC, OAuth2 configuration.\r\n\r\nThe trick is to have a Controller test file and annotate it with @WebMvcTest annotation, however, the following parameters are required:\r\n\r\n    @WebMvcTest(\r\n            value = YourController.class\r\n    \r\n            // this disables loading up the WebSecurityConfig.java file, otherwise it fails on start up\r\n            , useDefaultFilters = false\r\n    \r\n            // this one indicates the specific filter to be used, in this case\r\n            // related to the GreetController we want to test\r\n            , includeFilters = {\r\n            @ComponentScan.Filter(\r\n                    type = FilterType.ASSIGNABLE_TYPE,\r\n                    value = YourController.class\r\n            )\r\n            }\r\n    )\r\n\r\nHere the configurations that make the test run successfully.\r\n\r\n**build.gradle**\r\n\r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.2.6.RELEASE&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.0.9.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.grailscoder&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    \r\n    configurations {\r\n    \tcompileOnly {\r\n    \t\textendsFrom annotationProcessor\r\n    \t}\r\n    }\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    ext {\r\n    \tset(&#39;azureVersion&#39;, &quot;2.2.4&quot;)\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \timplementation &#39;com.microsoft.azure:azure-active-directory-spring-boot-starter&#39;\r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \ttestImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n    \t\texclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n    \t}\r\n    \ttestImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n    \ttestImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.5.2&#39;\r\n    \ttestImplementation &#39;org.junit.jupiter:junit-jupiter-params:5.5.2&#39;\r\n    \ttestRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.5.2&#39;\r\n    }\r\n    \r\n    dependencyManagement {\r\n    \timports {\r\n    \t\tmavenBom &quot;com.microsoft.azure:azure-spring-boot-bom:${azureVersion}&quot;\r\n    \t}\r\n    }\r\n    \r\n    test {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\n**GreetController.java**\r\n\r\n    package com.grailscoder.controller;\r\n    \r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.security.access.prepost.PreAuthorize;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.ResponseStatus;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RequiredArgsConstructor\r\n    @RestController\r\n    public class GreetController {\r\n    \r\n        @GetMapping(&quot;/greets&quot;)\r\n        @PreAuthorize(&quot;hasRole(&#39;ROLE_USER&#39;)&quot;)   // This is validating against Active Directory&#39;s User role granted to the\r\n                                                // current user.\r\n        @ResponseStatus(HttpStatus.OK)\r\n        public String getGreetMessage() {\r\n            return &quot;Greets from secret controller&quot;;\r\n        }\r\n    }\r\n\r\n**WebSecurityConfig.java**\r\n\r\n    package com.grailscoder.config;\r\n    \r\n    import com.microsoft.azure.spring.autoconfigure.aad.AADAppRoleStatelessAuthenticationFilter;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n    \r\n    @RequiredArgsConstructor\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        private final AADAppRoleStatelessAuthenticationFilter aadAuthFilter;\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.csrf().disable();\r\n    \r\n            http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.NEVER);\r\n    \r\n            http.authorizeRequests()\r\n                    .antMatchers(&quot;/&quot;, &quot;/index.html&quot;, &quot;/public&quot;).permitAll()\r\n                    .anyRequest().authenticated();\r\n            http.addFilterBefore(aadAuthFilter, UsernamePasswordAuthenticationFilter.class);\r\n    \r\n        }\r\n    }\r\n\r\n**application.properties**\r\n\r\n    azure.activedirectory.client-id=xxxxx-AD-client-id-goes-here\r\n    azure.activedirectory.session-stateless=true\r\n\r\n**GreetControllerTest.java**\r\n\r\n    package com.grailscoder.controller;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\n    import org.springframework.boot.test.mock.mockito.MockBean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.FilterType;\r\n    import org.springframework.security.test.context.support.WithMockUser;\r\n    import org.springframework.test.web.servlet.MockMvc;\r\n    import org.springframework.test.web.servlet.ResultActions;\r\n    \r\n    import static org.mockito.Mockito.when;\r\n    import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n    \r\n    @WebMvcTest(\r\n            value = GreetController.class\r\n    \r\n            // this disables loading up the WebSecurityConfig.java file, otherwise it fails on start up\r\n            , useDefaultFilters = false\r\n    \r\n            // this one indicates the specific filter to be used, in this case\r\n            // related to the GreetController we want to test\r\n            , includeFilters = {\r\n            @ComponentScan.Filter(\r\n                    type = FilterType.ASSIGNABLE_TYPE,\r\n                    value = GreetController.class\r\n            )\r\n            }\r\n    )\r\n    class GreetControllerTest {\r\n    \r\n        @Autowired\r\n        MockMvc mockMvc;\r\n    \r\n        @Autowired\r\n        ObjectMapper objectMapper;\r\n    \r\n        @BeforeEach\r\n        void setUp() {\r\n            // add setup stuff here\r\n        }\r\n    \r\n        @Test\r\n        @WithMockUser\r\n        void testGreet() throws Exception {\r\n            \r\n            ResultActions result = mockMvc.perform(get(&quot;/greets&quot;))\r\n                    .andExpect(status().isOk());\r\n            System.out.println(result.andReturn().getResponse().getContentAsString());\r\n    \r\n        }\r\n    \r\n    \r\n    }\r\n\r\nI understand in order to have a similar test JUnit 4 based with a completely different approach, the following test could be used as a reference (but I haven&#39;t tried): https://github.com/spring-projects/spring-security/blob/master/samples/boot/oauth2resourceserver/src/test/java/sample/OAuth2ResourceServerControllerTests.java","title":"Disable Spring Security config class for @WebMvcTest in Spring Boot","body":"<p>I understand this is a specific question for Spring Boot 1.5 but seems a bit old. In order to have a successful OAuth2 secured controller unit test running I applied the following steps, kindly notice I used Spring Boot 2.2.6, Gradle 5.x, and JUnit 5. This mechanism should work the same way deprecated ones based on <code>@AutoConfigureMockMvc(secure = false)</code> or <code>@WebMvcTest(controllers = SomeController.class, secure = false)</code></p>\n\n<p>This is for a REST API project that is secured (OAuth2) using Microsoft's Azure Active Directory, but essentially this testing strategy should work for any OIDC, OAuth2 configuration.</p>\n\n<p>The trick is to have a Controller test file and annotate it with @WebMvcTest annotation, however, the following parameters are required:</p>\n\n<pre><code>@WebMvcTest(\n        value = YourController.class\n\n        // this disables loading up the WebSecurityConfig.java file, otherwise it fails on start up\n        , useDefaultFilters = false\n\n        // this one indicates the specific filter to be used, in this case\n        // related to the GreetController we want to test\n        , includeFilters = {\n        @ComponentScan.Filter(\n                type = FilterType.ASSIGNABLE_TYPE,\n                value = YourController.class\n        )\n        }\n)\n</code></pre>\n\n<p>Here the configurations that make the test run successfully.</p>\n\n<p><strong>build.gradle</strong></p>\n\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.2.6.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.9.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.grailscoder'\nversion = '0.0.1-SNAPSHOT'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    set('azureVersion', \"2.2.4\")\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'com.microsoft.azure:azure-active-directory-spring-boot-starter'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n    testImplementation 'org.springframework.security:spring-security-test'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.5.2'\n    testImplementation 'org.junit.jupiter:junit-jupiter-params:5.5.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.5.2'\n}\n\ndependencyManagement {\n    imports {\n        mavenBom \"com.microsoft.azure:azure-spring-boot-bom:${azureVersion}\"\n    }\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n\n<p><strong>GreetController.java</strong></p>\n\n<pre><code>package com.grailscoder.controller;\n\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.security.access.prepost.PreAuthorize;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ResponseStatus;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RequiredArgsConstructor\n@RestController\npublic class GreetController {\n\n    @GetMapping(\"/greets\")\n    @PreAuthorize(\"hasRole('ROLE_USER')\")   // This is validating against Active Directory's User role granted to the\n                                            // current user.\n    @ResponseStatus(HttpStatus.OK)\n    public String getGreetMessage() {\n        return \"Greets from secret controller\";\n    }\n}\n</code></pre>\n\n<p><strong>WebSecurityConfig.java</strong></p>\n\n<pre><code>package com.grailscoder.config;\n\nimport com.microsoft.azure.spring.autoconfigure.aad.AADAppRoleStatelessAuthenticationFilter;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n@RequiredArgsConstructor\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final AADAppRoleStatelessAuthenticationFilter aadAuthFilter;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable();\n\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.NEVER);\n\n        http.authorizeRequests()\n                .antMatchers(\"/\", \"/index.html\", \"/public\").permitAll()\n                .anyRequest().authenticated();\n        http.addFilterBefore(aadAuthFilter, UsernamePasswordAuthenticationFilter.class);\n\n    }\n}\n</code></pre>\n\n<p><strong>application.properties</strong></p>\n\n<pre><code>azure.activedirectory.client-id=xxxxx-AD-client-id-goes-here\nazure.activedirectory.session-stateless=true\n</code></pre>\n\n<p><strong>GreetControllerTest.java</strong></p>\n\n<pre><code>package com.grailscoder.controller;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.FilterType;\nimport org.springframework.security.test.context.support.WithMockUser;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.ResultActions;\n\nimport static org.mockito.Mockito.when;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n@WebMvcTest(\n        value = GreetController.class\n\n        // this disables loading up the WebSecurityConfig.java file, otherwise it fails on start up\n        , useDefaultFilters = false\n\n        // this one indicates the specific filter to be used, in this case\n        // related to the GreetController we want to test\n        , includeFilters = {\n        @ComponentScan.Filter(\n                type = FilterType.ASSIGNABLE_TYPE,\n                value = GreetController.class\n        )\n        }\n)\nclass GreetControllerTest {\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @Autowired\n    ObjectMapper objectMapper;\n\n    @BeforeEach\n    void setUp() {\n        // add setup stuff here\n    }\n\n    @Test\n    @WithMockUser\n    void testGreet() throws Exception {\n\n        ResultActions result = mockMvc.perform(get(\"/greets\"))\n                .andExpect(status().isOk());\n        System.out.println(result.andReturn().getResponse().getContentAsString());\n\n    }\n\n\n}\n</code></pre>\n\n<p>I understand in order to have a similar test JUnit 4 based with a completely different approach, the following test could be used as a reference (but I haven't tried): <a href=\"https://github.com/spring-projects/spring-security/blob/master/samples/boot/oauth2resourceserver/src/test/java/sample/OAuth2ResourceServerControllerTests.java\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security/blob/master/samples/boot/oauth2resourceserver/src/test/java/sample/OAuth2ResourceServerControllerTests.java</a></p>\n"},{"comments":[{"owner":{"account_id":11580831,"reputation":2846,"user_id":8484783,"display_name":"Marc"},"score":2,"creation_date":1624006151,"post_id":62976823,"comment_id":120244504,"body_markdown":"Note that `@ExtendWith(SpringExtension.class)` is not necessary, since it is imported automatically by `@WebMvcTest`.","body":"Note that <code>@ExtendWith(SpringExtension.class)</code> is not necessary, since it is imported automatically by <code>@WebMvcTest</code>."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1648224527,"post_id":62976823,"comment_id":126578287,"body_markdown":"The problem with this solution is that it disables more filters than just the security-related ones. That caused other problems for me, so I ended up using something similar to @skubski&#39;s answer.","body":"The problem with this solution is that it disables more filters than just the security-related ones. That caused other problems for me, so I ended up using something similar to @skubski&#39;s answer."}],"tags":[],"owner":{"account_id":5500955,"reputation":876,"user_id":10783374,"display_name":"Edor Linus"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1595138332,"creation_date":1595138332,"answer_id":62976823,"question_id":47593537,"body_markdown":"This worked for me, using spring boot 2.3.1.\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @WebMvcTest(SomeController.class)\r\n    @AutoConfigureMockMvc(addFilters = false)\r\n    public class SomeControllerTest {\r\n    }","title":"Disable Spring Security config class for @WebMvcTest in Spring Boot","body":"<p>This worked for me, using spring boot 2.3.1.</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@WebMvcTest(SomeController.class)\n@AutoConfigureMockMvc(addFilters = false)\npublic class SomeControllerTest {\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1648224433,"post_id":65504089,"comment_id":126578242,"body_markdown":"When I implemented something similar, I didn&#39;t actually need the `excludeFilters` property, I&#39;m presuming because that filter is only enabled by the configuration classes that are being excluded.","body":"When I implemented something similar, I didn&#39;t actually need the <code>excludeFilters</code> property, I&#39;m presuming because that filter is only enabled by the configuration classes that are being excluded."},{"owner":{"account_id":5665550,"reputation":1596,"user_id":4481818,"display_name":"skubski"},"score":0,"creation_date":1648372475,"post_id":65504089,"comment_id":126603267,"body_markdown":"Indeed, you should omit and/or append the security configuration you used in your project.","body":"Indeed, you should omit and/or append the security configuration you used in your project."}],"tags":[],"owner":{"account_id":5665550,"reputation":1596,"user_id":4481818,"display_name":"skubski"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1620036017,"creation_date":1609317054,"answer_id":65504089,"question_id":47593537,"body_markdown":"In Spring Boot 2.4 both `secure` flags were removed and none of the answers here actually work.\r\n\r\nI ended up excluding all the security myself and wrapping it around in a custom annotation.\r\n\r\n    import org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration;\r\n    import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.FilterType;\r\n    import org.springframework.core.annotation.AliasFor;\r\n    import org.springframework.security.config.annotation.web.WebSecurityConfigurer;\r\n    \r\n    import java.lang.annotation.*;\r\n    \r\n    @Target({ElementType.TYPE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @WebMvcTest(excludeFilters = {@ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, value = WebSecurityConfigurer.class)},\r\n                excludeAutoConfiguration = {SecurityAutoConfiguration.class,\r\n                                            SecurityFilterAutoConfiguration.class,\r\n                                            OAuth2ClientAutoConfiguration.class,\r\n                                            OAuth2ResourceServerAutoConfiguration.class})\r\n    public @interface UnsecuredWebMvcTest {\r\n        @AliasFor(annotation = WebMvcTest.class, attribute = &quot;controllers&quot;)\r\n        Class&lt;?&gt;[] value() default {};\r\n    \r\n        @AliasFor(annotation = WebMvcTest.class, attribute = &quot;controllers&quot;)\r\n        Class&lt;?&gt;[] controllers() default {};\r\n    }\r\n\r\n ","title":"Disable Spring Security config class for @WebMvcTest in Spring Boot","body":"<p>In Spring Boot 2.4 both <code>secure</code> flags were removed and none of the answers here actually work.</p>\n<p>I ended up excluding all the security myself and wrapping it around in a custom annotation.</p>\n<pre><code>import org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration;\nimport org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration;\nimport org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration;\nimport org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.FilterType;\nimport org.springframework.core.annotation.AliasFor;\nimport org.springframework.security.config.annotation.web.WebSecurityConfigurer;\n\nimport java.lang.annotation.*;\n\n@Target({ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@WebMvcTest(excludeFilters = {@ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, value = WebSecurityConfigurer.class)},\n            excludeAutoConfiguration = {SecurityAutoConfiguration.class,\n                                        SecurityFilterAutoConfiguration.class,\n                                        OAuth2ClientAutoConfiguration.class,\n                                        OAuth2ResourceServerAutoConfiguration.class})\npublic @interface UnsecuredWebMvcTest {\n    @AliasFor(annotation = WebMvcTest.class, attribute = &quot;controllers&quot;)\n    Class&lt;?&gt;[] value() default {};\n\n    @AliasFor(annotation = WebMvcTest.class, attribute = &quot;controllers&quot;)\n    Class&lt;?&gt;[] controllers() default {};\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9263666,"reputation":409,"user_id":6879769,"display_name":"Yazid"},"score":0,"creation_date":1636666840,"post_id":69538036,"comment_id":123625158,"body_markdown":"Definitely working to turn off WebSecurityConfig beans loading.","body":"Definitely working to turn off WebSecurityConfig beans loading."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":1,"creation_date":1648218925,"post_id":69538036,"comment_id":126576086,"body_markdown":"When I tried this it disabled something that was mapping URLs to my controller endpoints. Every call using MockMvc was getting a 404.","body":"When I tried this it disabled something that was mapping URLs to my controller endpoints. Every call using MockMvc was getting a 404."}],"tags":[],"owner":{"account_id":9529391,"reputation":160,"user_id":7081611,"display_name":"nguyentaijs"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1634030633,"creation_date":1634030633,"answer_id":69538036,"question_id":47593537,"body_markdown":"In my case, for Spring Boot version `2.5.4`, I&#39;m able to bypass Jwt security by setting `useDefaultFilters = false` in `@WebMvcTest`\r\n\r\n    @WebMvcTest(controllers = YourController.class, useDefaultFilters = false)\r\n    public class YourControllerTest {\r\n        // Test cases\r\n    }\r\n","title":"Disable Spring Security config class for @WebMvcTest in Spring Boot","body":"<p>In my case, for Spring Boot version <code>2.5.4</code>, I'm able to bypass Jwt security by setting <code>useDefaultFilters = false</code> in <code>@WebMvcTest</code></p>\n<pre><code>@WebMvcTest(controllers = YourController.class, useDefaultFilters = false)\npublic class YourControllerTest {\n    // Test cases\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22301816,"reputation":39,"user_id":16526944,"display_name":"Ali Azani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649085903,"creation_date":1649083408,"answer_id":71739212,"question_id":47593537,"body_markdown":"I solved the problem by using following annotations and properties:\r\n\r\n    @WebMvcTest(controllers =\r\n        SomeController.class,\r\n        excludeAutoConfiguration = {\r\n            MySecurityConfig.class,\r\n            ManagementWebSecurityAutoConfiguration.class,\r\n            SecurityAutoConfiguration.class\r\n        }\r\n    )\r\n    @ContextConfiguration(classes = SomeController.class)\r\n    public class SomeControllerTest {\r\n    \r\n    }\r\n\r\nNOTE: I&#39; using spring boot 2.6.6, so `secure=false` didn&#39;t work for me!","title":"Disable Spring Security config class for @WebMvcTest in Spring Boot","body":"<p>I solved the problem by using following annotations and properties:</p>\n<pre><code>@WebMvcTest(controllers =\n    SomeController.class,\n    excludeAutoConfiguration = {\n        MySecurityConfig.class,\n        ManagementWebSecurityAutoConfiguration.class,\n        SecurityAutoConfiguration.class\n    }\n)\n@ContextConfiguration(classes = SomeController.class)\npublic class SomeControllerTest {\n\n}\n</code></pre>\n<p>NOTE: I' using spring boot 2.6.6, so <code>secure=false</code> didn't work for me!</p>\n"},{"tags":[],"owner":{"account_id":1410136,"reputation":223,"user_id":1336916,"accept_rate":38,"display_name":"Kirill Kazoolin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653216547,"creation_date":1653216134,"answer_id":72336829,"question_id":47593537,"body_markdown":"    @AutoConfigureMockMvc(addFilters = false)\r\n\r\nJust adding *addFilters = false* resolved this.","title":"Disable Spring Security config class for @WebMvcTest in Spring Boot","body":"<pre><code>@AutoConfigureMockMvc(addFilters = false)\n</code></pre>\n<p>Just adding <em>addFilters = false</em> resolved this.</p>\n"},{"tags":[],"owner":{"account_id":16287950,"reputation":1194,"user_id":11762199,"display_name":"mhrsalehi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658064503,"creation_date":1658063624,"answer_id":73012095,"question_id":47593537,"body_markdown":" `@AutoConfigureMockMvc(secure = false)` **does not work** because `secure` is deprecated\r\n\r\nwhat **works**:\r\n\r\n    @AutoConfigureMockMvc(addFilters = false)\r\ndoes not completely disable spring security just bypass its filter chain.\r\n\r\n---\r\n\r\n**or**\r\n\r\n    @WebMvcTest(excludeAutoConfiguration = {SecurityAutoConfiguration.class})\r\n\r\n(and if you are using Spring Boot actuator:\r\n\r\n    @WebMvcTest(excludeAutoConfiguration = {SecurityAutoConfiguration.class,\r\n            ManagementWebSecurityAutoConfiguration.class})\r\n)\r\n\r\n\r\n\r\n","title":"Disable Spring Security config class for @WebMvcTest in Spring Boot","body":"<p><code>@AutoConfigureMockMvc(secure = false)</code> <strong>does not work</strong> because <code>secure</code> is deprecated</p>\n<p>what <strong>works</strong>:</p>\n<pre><code>@AutoConfigureMockMvc(addFilters = false)\n</code></pre>\n<p>does not completely disable spring security just bypass its filter chain.</p>\n<hr />\n<p><strong>or</strong></p>\n<pre><code>@WebMvcTest(excludeAutoConfiguration = {SecurityAutoConfiguration.class})\n</code></pre>\n<p>(and if you are using Spring Boot actuator:</p>\n<pre><code>@WebMvcTest(excludeAutoConfiguration = {SecurityAutoConfiguration.class,\n        ManagementWebSecurityAutoConfiguration.class})\n</code></pre>\n<p>)</p>\n"}],"owner":{"account_id":4168948,"reputation":3641,"user_id":4504170,"accept_rate":71,"display_name":"Johan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52947,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":47593951,"answer_count":11,"score":41,"last_activity_date":1666189784,"creation_date":1512131730,"question_id":47593537,"body_markdown":"Recently I have added **Spring Security** to my Spring Boot project using the following class:\r\n\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class MySecurityConfig {\r\n    }\r\n\r\nas result, by default all my URLs are now protected with authentication and a self-generated password.\r\n\r\nThe problem is that all tests in a @WebMvcTest class that I used for unit-testing a controller:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @WebMvcTest(SomeController.class)\r\n    public class SomeControllerTest {...}\r\n\r\nare now failing everywhere because of lack of authorization.\r\n\r\n**Question**: can I tell @Test methods to ignore authorization so they keep succeeding as before?\r\n\r\nHow can I prevent the  *@EnableWebSecurity* config class from being picked on a specific *@WebMvcTest* unit testing class?\r\n\r\nI would like the tests already in place to be able to still go through and to test the authentication features separately later on.\r\n\r\nSo far I have tried to use a nested config class in the testing class in order to exclude security configs:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @WebMvcTest(SomeController.class)\r\n    public class SomeControllerTest {\r\n    \r\n        @Configuration\r\n        @EnableAutoConfiguration(exclude = { SecurityAutoConfiguration.class})\r\n        static class ContextConfiguration { }\r\n\r\n     ....}\r\n\r\nbut it seems not to work.\r\n\r\n**NOTE** : I am using Spring Boot 1.5.8","title":"Disable Spring Security config class for @WebMvcTest in Spring Boot","body":"<p>Recently I have added <strong>Spring Security</strong> to my Spring Boot project using the following class:</p>\n\n<pre><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class MySecurityConfig {\n}\n</code></pre>\n\n<p>as result, by default all my URLs are now protected with authentication and a self-generated password.</p>\n\n<p>The problem is that all tests in a @WebMvcTest class that I used for unit-testing a controller:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@WebMvcTest(SomeController.class)\npublic class SomeControllerTest {...}\n</code></pre>\n\n<p>are now failing everywhere because of lack of authorization.</p>\n\n<p><strong>Question</strong>: can I tell @Test methods to ignore authorization so they keep succeeding as before?</p>\n\n<p>How can I prevent the  <em>@EnableWebSecurity</em> config class from being picked on a specific <em>@WebMvcTest</em> unit testing class?</p>\n\n<p>I would like the tests already in place to be able to still go through and to test the authentication features separately later on.</p>\n\n<p>So far I have tried to use a nested config class in the testing class in order to exclude security configs:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@WebMvcTest(SomeController.class)\npublic class SomeControllerTest {\n\n    @Configuration\n    @EnableAutoConfiguration(exclude = { SecurityAutoConfiguration.class})\n    static class ContextConfiguration { }\n\n ....}\n</code></pre>\n\n<p>but it seems not to work.</p>\n\n<p><strong>NOTE</strong> : I am using Spring Boot 1.5.8</p>\n"},{"tags":["java","gradle","lombok"],"answers":[{"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1666190045,"post_id":74127042,"comment_id":130877652,"body_markdown":"You forgot to quote the most important part: &quot;There is a plugin for gradle that we recommend you use; it makes deployment a breeze, and makes it easy to do additional tasks, such as delomboking.&quot;","body":"You forgot to quote the most important part: &quot;There is a plugin for gradle that we recommend you use; it makes deployment a breeze, and makes it easy to do additional tasks, such as delomboking.&quot;"}],"tags":[],"owner":{"account_id":24881693,"reputation":155,"user_id":18754816,"display_name":"Игорь Ходыко"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666189249,"creation_date":1666189249,"answer_id":74127042,"question_id":74126599,"body_markdown":"\r\nAnswer is: compileOnly don&#39;t work at test time. That&#39;s why you need add dependency at test time.\r\n\r\nSo here link to documentation lombok https://projectlombok.org/setup/gradle\r\n\r\nThis is copy of text:\r\nGradle without a plugin\r\nIf you don&#39;t want to use the plugin, gradle has the built-in compileOnly scope, which can be used to tell gradle to add lombok only during compilation. Your build.gradle will look like:\r\n\r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \tcompileOnly &#39;org.projectlombok:lombok:1.18.24&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok:1.18.24&#39;\r\n    \t\r\n    \ttestCompileOnly &#39;org.projectlombok:lombok:1.18.24&#39;\r\n    \ttestAnnotationProcessor &#39;org.projectlombok:lombok:1.18.24&#39;\r\n    }\r\n\r\nThis is the link to gradle documentation. How tests are forming.\r\nhttps://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_configurations_graph\r\n","title":"Gradle compileOnly doesn&#39;t make Lombok available in tests","body":"<p>Answer is: compileOnly don't work at test time. That's why you need add dependency at test time.</p>\n<p>So here link to documentation lombok <a href=\"https://projectlombok.org/setup/gradle\" rel=\"nofollow noreferrer\">https://projectlombok.org/setup/gradle</a></p>\n<p>This is copy of text:\nGradle without a plugin\nIf you don't want to use the plugin, gradle has the built-in compileOnly scope, which can be used to tell gradle to add lombok only during compilation. Your build.gradle will look like:</p>\n<pre><code>repositories {\n    mavenCentral()\n}\n\ndependencies {\n    compileOnly 'org.projectlombok:lombok:1.18.24'\n    annotationProcessor 'org.projectlombok:lombok:1.18.24'\n    \n    testCompileOnly 'org.projectlombok:lombok:1.18.24'\n    testAnnotationProcessor 'org.projectlombok:lombok:1.18.24'\n}\n</code></pre>\n<p>This is the link to gradle documentation. How tests are forming.\n<a href=\"https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_configurations_graph\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_configurations_graph</a></p>\n"}],"owner":{"account_id":20530,"reputation":263492,"user_id":49153,"accept_rate":91,"display_name":"Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":600,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74127042,"answer_count":1,"score":0,"last_activity_date":1666189249,"creation_date":1666187549,"question_id":74126599,"body_markdown":"My build.gradle file adds Lombok as a dependency, via the following:\r\n\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\r\nThis works fine for all &#39;normal&#39; application code - but in tests, if I try to use any Lombok annotations, I get errors that its not available.\r\n\r\nWhy is that? I would&#39;ve thought that the test compile classpath should extend from the regular classpath - as it needs to do extensive testing of all regular code?\r\n\r\nChanging \r\n\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n\r\nto \r\n\r\n    implementation &#39;org.projectlombok:lombok&#39;\r\n\r\nmakes the error go away - but I want to understand why the test classpath doesn&#39;t extend / inherit the regular classpath?","title":"Gradle compileOnly doesn&#39;t make Lombok available in tests","body":"<p>My build.gradle file adds Lombok as a dependency, via the following:</p>\n<pre><code>compileOnly 'org.projectlombok:lombok'\nannotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\nannotationProcessor 'org.projectlombok:lombok'\n</code></pre>\n<p>This works fine for all 'normal' application code - but in tests, if I try to use any Lombok annotations, I get errors that its not available.</p>\n<p>Why is that? I would've thought that the test compile classpath should extend from the regular classpath - as it needs to do extensive testing of all regular code?</p>\n<p>Changing</p>\n<pre><code>compileOnly 'org.projectlombok:lombok'\n</code></pre>\n<p>to</p>\n<pre><code>implementation 'org.projectlombok:lombok'\n</code></pre>\n<p>makes the error go away - but I want to understand why the test classpath doesn't extend / inherit the regular classpath?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","throttling"],"comments":[{"owner":{"account_id":1428292,"reputation":607,"user_id":1351285,"accept_rate":38,"display_name":"Peters_"},"score":0,"creation_date":1613488153,"post_id":63048121,"comment_id":117086454,"body_markdown":"Did you find the solution. I have similar problem: https://stackoverflow.com/questions/66216856/how-to-use-spring-boot-bucket4j-library","body":"Did you find the solution. I have similar problem: <a href=\"https://stackoverflow.com/questions/66216856/how-to-use-spring-boot-bucket4j-library\" title=\"how to use spring boot bucket4j library\">stackoverflow.com/questions/66216856/&hellip;</a>"},{"owner":{"account_id":8905303,"reputation":3494,"user_id":6925888,"accept_rate":33,"display_name":"iamkdblue"},"score":0,"creation_date":1621511976,"post_id":63048121,"comment_id":119521404,"body_markdown":"@Peters_ did you find solution ?","body":"@Peters_ did you find solution ?"}],"answers":[{"tags":[],"owner":{"account_id":1700242,"reputation":656,"user_id":1560534,"accept_rate":82,"display_name":"broadbear"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645427307,"creation_date":1645427307,"answer_id":71202384,"question_id":63048121,"body_markdown":"I was having the same issue. It looks like there was an issue opened with the bucket4j spring boot starter github project about this ([link][1]).\r\n\r\n\r\n  [1]: https://github.com/MarcGiffing/bucket4j-spring-boot-starter/issues/72\r\n\r\nI converted my application.properties to application.yml as the individual reported in the issue and my rate limit started working. I&#39;m not sure what the actual issue is (why application.yml works and application.properties does not). I kindof prefer the properties format over yml.","title":"How to apply IP based rate-limiting in spring boot","body":"<p>I was having the same issue. It looks like there was an issue opened with the bucket4j spring boot starter github project about this (<a href=\"https://github.com/MarcGiffing/bucket4j-spring-boot-starter/issues/72\" rel=\"nofollow noreferrer\">link</a>).</p>\n<p>I converted my application.properties to application.yml as the individual reported in the issue and my rate limit started working. I'm not sure what the actual issue is (why application.yml works and application.properties does not). I kindof prefer the properties format over yml.</p>\n"},{"tags":[],"owner":{"account_id":26672251,"reputation":1,"user_id":20283534,"display_name":"Akash Mohapatra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666189206,"creation_date":1666189206,"answer_id":74127033,"question_id":63048121,"body_markdown":"you can use .yaml as .properties is still having some issue in recognizing the tags","title":"How to apply IP based rate-limiting in spring boot","body":"<p>you can use .yaml as .properties is still having some issue in recognizing the tags</p>\n"}],"owner":{"account_id":18919641,"reputation":67,"user_id":13803939,"display_name":"stg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2911,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1666189206,"creation_date":1595485465,"question_id":63048121,"body_markdown":"I want to apply rate-limit on the basis of IP for each (/get)service for my project for e.g each IP can access each service for a particular no. of time i.e   5 times /10 second. I have used bucket4j rate-limiting but it&#39;s not working. Does anyone have any idea about it??\r\n    \r\nthis is my application.properties\r\n                \r\n    spring.cache.jcache.config=classpath:ehcache.xml\r\n    logging.level.org.ehcache=info\r\n    bucket4j.enabled=true\r\n    bucket4j.filters[0].cache-name=buckets\r\n    bucket4j.filters[0].filter-method=servlet\r\n    bucket4j.filters[0].url=.* \r\n    bucket4j.filters[0].rate-limits[0].bandwidths[0].capacity=5\r\n    bucket4j.filters[0].rate-limits[0].bandwidths[0].time=10\r\n    bucket4j.filters[0].rate-limits[0].bandwidths[0].unit=seconds\r\n    bucket4j.filters[0].rate-limits[0].expression=&quot;getRemoteAddress()&quot;\r\n    bucket4j.filters[0].rate-limits[0].bandwidths[0].fixed-refill-interval=0\r\n    bucket4j.filters[0].rate-limits[0].bandwidths[0].fixed-refill-interval-unit=seconds\r\n    \r\n    \r\nthis is encache.xml\r\n    \r\n    &lt;config xmlns=&#39;http://www.ehcache.org/v3&#39;\r\n    \t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \t\txmlns:jsr107=&quot;http://www.ehcache.org/v3/jsr107&quot;\r\n    \t\txsi:schemaLocation=&quot;http://www.ehcache.org/v3 http://www.ehcache.org/schema/ehcache-core-3.0.xsd\r\n    \t\thttp://www.ehcache.org/v3/jsr107 http://www.ehcache.org/schema/ehcache-107-ext-3.0.xsd&quot;&gt;\r\n    \t&lt;cache alias=&quot;buckets&quot;&gt;\r\n            &lt;expiry&gt;&lt;ttl unit=&quot;seconds&quot;&gt;6&lt;/ttl&gt;&lt;/expiry&gt;\r\n            &lt;heap unit=&quot;entries&quot;&gt;2000&lt;/heap&gt;\r\n            &lt;jsr107:mbeans enable-statistics=&quot;true&quot;/&gt;\r\n        &lt;/cache&gt;\r\n    &lt;/config&gt;\r\n    \r\n    \r\npom.xml\r\n    \r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.giffing.bucket4j.spring.boot.starter&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;bucket4j-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.2.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.ehcache&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.cache&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;cache-api&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n    \r\nserver Initializer\r\n    \r\n    @EnableCaching\r\n    public class ServletInitializer extends SpringBootServletInitializer {\r\n    \r\n    \t@Override\r\n    \tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n    \t\treturn application.sources(EwseparationApplication.class);\r\n    \t}\r\n    \r\n    }","title":"How to apply IP based rate-limiting in spring boot","body":"<p>I want to apply rate-limit on the basis of IP for each (/get)service for my project for e.g each IP can access each service for a particular no. of time i.e   5 times /10 second. I have used bucket4j rate-limiting but it's not working. Does anyone have any idea about it??</p>\n<p>this is my application.properties</p>\n<pre><code>spring.cache.jcache.config=classpath:ehcache.xml\nlogging.level.org.ehcache=info\nbucket4j.enabled=true\nbucket4j.filters[0].cache-name=buckets\nbucket4j.filters[0].filter-method=servlet\nbucket4j.filters[0].url=.* \nbucket4j.filters[0].rate-limits[0].bandwidths[0].capacity=5\nbucket4j.filters[0].rate-limits[0].bandwidths[0].time=10\nbucket4j.filters[0].rate-limits[0].bandwidths[0].unit=seconds\nbucket4j.filters[0].rate-limits[0].expression=&quot;getRemoteAddress()&quot;\nbucket4j.filters[0].rate-limits[0].bandwidths[0].fixed-refill-interval=0\nbucket4j.filters[0].rate-limits[0].bandwidths[0].fixed-refill-interval-unit=seconds\n</code></pre>\n<p>this is encache.xml</p>\n<pre><code>&lt;config xmlns='http://www.ehcache.org/v3'\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xmlns:jsr107=&quot;http://www.ehcache.org/v3/jsr107&quot;\n        xsi:schemaLocation=&quot;http://www.ehcache.org/v3 http://www.ehcache.org/schema/ehcache-core-3.0.xsd\n        http://www.ehcache.org/v3/jsr107 http://www.ehcache.org/schema/ehcache-107-ext-3.0.xsd&quot;&gt;\n    &lt;cache alias=&quot;buckets&quot;&gt;\n        &lt;expiry&gt;&lt;ttl unit=&quot;seconds&quot;&gt;6&lt;/ttl&gt;&lt;/expiry&gt;\n        &lt;heap unit=&quot;entries&quot;&gt;2000&lt;/heap&gt;\n        &lt;jsr107:mbeans enable-statistics=&quot;true&quot;/&gt;\n    &lt;/cache&gt;\n&lt;/config&gt;\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.giffing.bucket4j.spring.boot.starter&lt;/groupId&gt;\n    &lt;artifactId&gt;bucket4j-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;0.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\n    &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.cache&lt;/groupId&gt;\n    &lt;artifactId&gt;cache-api&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>server Initializer</p>\n<pre><code>@EnableCaching\npublic class ServletInitializer extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(EwseparationApplication.class);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","mockito","junit5","java-17"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1666188771,"post_id":74126868,"comment_id":130877083,"body_markdown":"Please intent your code properly and add the complete error message","body":"Please intent your code properly and add the complete error message"}],"answers":[{"comments":[{"owner":{"account_id":4814573,"reputation":55,"user_id":3887042,"accept_rate":100,"display_name":"Anukul"},"score":0,"creation_date":1666189710,"post_id":74126931,"comment_id":130877518,"body_markdown":"Thanks for your time Jens after applying `@BeforeEach` , `@InjectMocks` is giving null","body":"Thanks for your time Jens after applying <code>@BeforeEach</code> , <code>@InjectMocks</code> is giving null"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1666199875,"post_id":74126931,"comment_id":130881353,"body_markdown":"@Anukul what is giving null?","body":"@Anukul what is giving null?"}],"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666188886,"creation_date":1666188886,"answer_id":74126931,"question_id":74126868,"body_markdown":"As I can see, you mix junt4 and junit5\r\n\r\n`@Before` is junit4 \r\n\r\n`@AfterEach` is junit5\r\n\r\nYou should change \r\n`@Before` to `@BeforeEach`","title":"Invalid use of Matcher while Creating build Junit","body":"<p>As I can see, you mix junt4 and junit5</p>\n<p><code>@Before</code> is junit4</p>\n<p><code>@AfterEach</code> is junit5</p>\n<p>You should change\n<code>@Before</code> to <code>@BeforeEach</code></p>\n"}],"owner":{"account_id":4814573,"reputation":55,"user_id":3887042,"accept_rate":100,"display_name":"Anukul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74126931,"answer_count":1,"score":-1,"last_activity_date":1666188973,"creation_date":1666188643,"question_id":74126868,"body_markdown":"After upgrading JDK 1.8 to 17 some of the Junit are giving error while Creating build however when  run that Junit independently its working fine .\r\n\r\n    public class MyClassTest{\r\n    @InjectMocks\r\n    MyClass myClass;\r\n    @Mock\r\n    AlertRuleMappingUtility alertRuleMappingUtility;\r\n    AutoCloseable closeable;\r\n    @Before\r\n    public void setUp()  {\r\n        closeable = MockitoAnnotations.openMocks(this);\r\n    }\r\n    @AfterEach\r\n    public void close() throws Exception {\r\n          closeable.close();\r\n      }\r\n    @Test\r\n    public void getDescriptionTextTest0()  throws Throwable  {\r\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;alert.secured_borrowings&quot;, &quot;xyz&quot;);\r\n    myClass.setAlertType(&quot;secured_borroWings&quot;);\r\n    doReturn(map).when(alertRuleMappingUtility).fetchAlertTypeAndLongDescMapping(any());\r\n    String result = myClass.getDescriptionText();\r\n    assertNotNull(result);\r\n    }\r\n    }\r\n\r\nError i&#39;m getting is `ERROR]   MyclassTest.setUp:31 InvalidUseOfMatchers\r\nMisplaced or mis...\r\n[INFO]\r\n[ERROR] Tests run: 750, Failures: 0, Errors: 1, Skipped: 0`","title":"Invalid use of Matcher while Creating build Junit","body":"<p>After upgrading JDK 1.8 to 17 some of the Junit are giving error while Creating build however when  run that Junit independently its working fine .</p>\n<pre><code>public class MyClassTest{\n@InjectMocks\nMyClass myClass;\n@Mock\nAlertRuleMappingUtility alertRuleMappingUtility;\nAutoCloseable closeable;\n@Before\npublic void setUp()  {\n    closeable = MockitoAnnotations.openMocks(this);\n}\n@AfterEach\npublic void close() throws Exception {\n      closeable.close();\n  }\n@Test\npublic void getDescriptionTextTest0()  throws Throwable  {\nMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;alert.secured_borrowings&quot;, &quot;xyz&quot;);\nmyClass.setAlertType(&quot;secured_borroWings&quot;);\ndoReturn(map).when(alertRuleMappingUtility).fetchAlertTypeAndLongDescMapping(any());\nString result = myClass.getDescriptionText();\nassertNotNull(result);\n}\n}\n</code></pre>\n<p>Error i'm getting is <code>ERROR]   MyclassTest.setUp:31 InvalidUseOfMatchers Misplaced or mis... [INFO] [ERROR] Tests run: 750, Failures: 0, Errors: 1, Skipped: 0</code></p>\n"},{"tags":["java","runtime-error","inputmismatchexception"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1666188079,"post_id":74126691,"comment_id":130876761,"body_markdown":"Please show an example input.","body":"Please show an example input."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":4,"creation_date":1666188258,"post_id":74126691,"comment_id":130876834,"body_markdown":"have you tried to use a comma `,` instead of a decimal point `.` (or vice-versa) ? (it uses the default locale to parse numbers - can be changed using the `useLocale()`  method)","body":"have you tried to use a comma <code>,</code> instead of a decimal point <code>.</code> (or vice-versa) ? (it uses the default locale to parse numbers - can be changed using the <code>useLocale()</code>  method)"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1666188334,"post_id":74126691,"comment_id":130876872,"body_markdown":"If you get an InputMismatchException is because you&#39;re inputting something that is not a Double. For example you&#39;re inputting `2b`, or `2,4` (instead of `2.4`) etc.","body":"If you get an InputMismatchException is because you&#39;re inputting something that is not a Double. For example you&#39;re inputting <code>2b</code>, or <code>2,4</code> (instead of <code>2.4</code>) etc."},{"owner":{"account_id":26671989,"reputation":1,"user_id":20283306,"display_name":"Thaelith"},"score":1,"creation_date":1666188430,"post_id":74126691,"comment_id":130876921,"body_markdown":"@user16320675 i am embarrassed about this but i&#39;ve never tried to put comma instead of a decimal so i tried it and it works! Sorry and thank you","body":"@user16320675 i am embarrassed about this but i&#39;ve never tried to put comma instead of a decimal so i tried it and it works! Sorry and thank you"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1666188734,"post_id":74126691,"comment_id":130877064,"body_markdown":"You may want to use more meaningful variable names (e.g. more meaningful than `a`  `b` and `c`).   They not only help with the documentation  but make it easier for others to understand what you are doing.","body":"You may want to use more meaningful variable names (e.g. more meaningful than <code>a</code>  <code>b</code> and <code>c</code>).   They not only help with the documentation  but make it easier for others to understand what you are doing."}],"answers":[{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1666188930,"post_id":74126922,"comment_id":130877150,"body_markdown":"This would best be entered as comment.  And you can change the locale if you want to use periods instead of commas.  And Welcome to StackOverflow.  I recommend you take the [tour] to see how things work here.","body":"This would best be entered as comment.  And you can change the locale if you want to use periods instead of commas.  And Welcome to StackOverflow.  I recommend you take the <a href=\"https://stackoverflow.com/tour\">tour</a> to see how things work here."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666398545,"post_id":74126922,"comment_id":130935275,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74126922/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26671989,"reputation":1,"user_id":20283306,"display_name":"Thaelith"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666188831,"creation_date":1666188831,"answer_id":74126922,"question_id":74126691,"body_markdown":"The problam was the decimal point so i tried using comma instead and it works!","title":"Why can&#39;t I put a double value for b here?","body":"<p>The problam was the decimal point so i tried using comma instead and it works!</p>\n"}],"owner":{"account_id":26671989,"reputation":1,"user_id":20283306,"display_name":"Thaelith"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666188831,"creation_date":1666187923,"question_id":74126691,"body_markdown":"I tried something like this but\r\n\r\n    public static void main(String[] args){\r\n        Scanner Inp = new Scanner(System.in);\r\n        System.out.println(&quot;****Bread Store Inventory****&quot;);\r\n        System.out.print(&quot;Enter the bread amount as the owner of the shop: &quot;);\r\n        int a = Inp.nextInt(); //The bread amount\r\n            if (a &lt; 0) {\r\n            System.out.println(&quot;ERROR: Value cannot be negative.&quot;);  return;\r\n        }\r\n        System.out.print(&quot;Enter the cost of a single bread: &quot;);\r\n        double b = Inp.nextDouble(); //The cost of a single bread\r\n            if (b &lt; 0) {\r\n            System.out.println(&quot;ERROR: Value cannot be negative.&quot;);  return;\r\n        }\r\n        System.out.println(&quot;****Customer User Interface****&quot;);\r\n        System.out.print(&quot;Welcome to our shop. We have &quot;+a+&quot; breads available. &quot;+&quot;How many would you like? &quot;);\r\n        int c = Inp.nextInt(); //How many breads will the customer buy\r\n            if (c &lt;= 0) {\r\n            System.out.println(&quot;ERROR: Value has to be a positive number.&quot;);  return;\r\n        }\r\n            else if (a &lt; c) System.out.print(&quot;We don&#39;t have that many breads at our store, sorry.&quot;);\r\n        double d = c*b; //This is cost of the breads that the customer buys.\r\n\r\n                    if (a &gt;= c) {\r\n                        a -= c;\r\n                        System.out.println(&quot;The cost is &quot; +d+&quot;.&quot;);\r\n                        System.out.println(&quot;Thanks for shopping with us today.&quot;);\r\n                        System.out.println(&quot;We have &quot; +a+ &quot; breads left.&quot;);\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\ni cant seem to put a double value for b and i don&#39;t know why it says its an inputmismatch but i still couldnt figure it out. Im so new to this so please help me.","title":"Why can&#39;t I put a double value for b here?","body":"<p>I tried something like this but</p>\n<pre><code>public static void main(String[] args){\n    Scanner Inp = new Scanner(System.in);\n    System.out.println(&quot;****Bread Store Inventory****&quot;);\n    System.out.print(&quot;Enter the bread amount as the owner of the shop: &quot;);\n    int a = Inp.nextInt(); //The bread amount\n        if (a &lt; 0) {\n        System.out.println(&quot;ERROR: Value cannot be negative.&quot;);  return;\n    }\n    System.out.print(&quot;Enter the cost of a single bread: &quot;);\n    double b = Inp.nextDouble(); //The cost of a single bread\n        if (b &lt; 0) {\n        System.out.println(&quot;ERROR: Value cannot be negative.&quot;);  return;\n    }\n    System.out.println(&quot;****Customer User Interface****&quot;);\n    System.out.print(&quot;Welcome to our shop. We have &quot;+a+&quot; breads available. &quot;+&quot;How many would you like? &quot;);\n    int c = Inp.nextInt(); //How many breads will the customer buy\n        if (c &lt;= 0) {\n        System.out.println(&quot;ERROR: Value has to be a positive number.&quot;);  return;\n    }\n        else if (a &lt; c) System.out.print(&quot;We don't have that many breads at our store, sorry.&quot;);\n    double d = c*b; //This is cost of the breads that the customer buys.\n\n                if (a &gt;= c) {\n                    a -= c;\n                    System.out.println(&quot;The cost is &quot; +d+&quot;.&quot;);\n                    System.out.println(&quot;Thanks for shopping with us today.&quot;);\n                    System.out.println(&quot;We have &quot; +a+ &quot; breads left.&quot;);\n                }\n            }\n        }\n</code></pre>\n<p>i cant seem to put a double value for b and i don't know why it says its an inputmismatch but i still couldnt figure it out. Im so new to this so please help me.</p>\n"},{"tags":["java","soap","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497900861,"creation_date":1497900861,"answer_id":44638537,"question_id":44638379,"body_markdown":"&gt; Starting with version 5.0, the `DefaultSoapHeaderMapper` supports user-defined headers of type `javax.xml.transform.Source` and populates them as child nodes of the `&lt;soapenv:Header&gt;`:\r\n\r\n    Map&lt;String, Object&gt; headers = new HashMap&lt;&gt;();\r\n\r\n    String authXml =\r\n         &quot;&lt;auth xmlns=&#39;http://test.auth.org&#39;&gt;&quot;\r\n               + &quot;&lt;username&gt;user&lt;/username&gt;&quot;\r\n               + &quot;&lt;password&gt;pass&lt;/password&gt;&quot;\r\n               + &quot;&lt;/auth&gt;&quot;;\r\n    headers.put(&quot;auth&quot;, new StringSource(authXml));\r\n    ...\r\n    DefaultSoapHeaderMapper mapper = new DefaultSoapHeaderMapper();\r\n    mapper.setRequestHeaderNames(&quot;auth&quot;);\r\n\r\nAnd in the end we have SOAP envelope as:\r\n\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n        &lt;soapenv:Header&gt;\r\n            &lt;auth xmlns=&quot;http://test.auth.org&quot;&gt;\r\n                &lt;username&gt;user&lt;/username&gt;\r\n                &lt;password&gt;pass&lt;/password&gt;\r\n            &lt;/auth&gt;\r\n        &lt;/soapenv:Header&gt;\r\n        &lt;soapenv:Body&gt;\r\n            ...\r\n        &lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\nIf you can&#39;t use Spring Integration `5.0` yet, you can borrow its logic on the matter from the `DefaultSoapHeaderMapper` for custom extension of this class:\r\n\r\n    protected void populateUserDefinedHeader(String headerName, Object headerValue, SoapMessage target) {\r\n\t\tSoapHeader soapHeader = target.getSoapHeader();\r\n\t\tif (headerValue instanceof String) {\r\n\t\t\tQName qname = QNameUtils.parseQNameString(headerName);\r\n\t\t\tsoapHeader.addAttribute(qname, (String) headerValue);\r\n\t\t}\r\n\t\telse if (headerValue instanceof Source) {\r\n\t\t\tResult result = soapHeader.getResult();\r\n\t\t\ttry {\r\n\t\t\t\tthis.transformerHelper.transform((Source) headerValue, result);\r\n\t\t\t}\r\n\t\t\tcatch (TransformerException e) {\r\n\t\t\t\tthrow new SoapHeaderException(\r\n\t\t\t\t\t\t&quot;Could not transform source [&quot; + headerValue + &quot;] to result [&quot; + result + &quot;]&quot;, e);\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Create custom Header using Spring Integration","body":"<blockquote>\n  <p>Starting with version 5.0, the <code>DefaultSoapHeaderMapper</code> supports user-defined headers of type <code>javax.xml.transform.Source</code> and populates them as child nodes of the <code>&lt;soapenv:Header&gt;</code>:</p>\n</blockquote>\n\n<pre><code>Map&lt;String, Object&gt; headers = new HashMap&lt;&gt;();\n\nString authXml =\n     \"&lt;auth xmlns='http://test.auth.org'&gt;\"\n           + \"&lt;username&gt;user&lt;/username&gt;\"\n           + \"&lt;password&gt;pass&lt;/password&gt;\"\n           + \"&lt;/auth&gt;\";\nheaders.put(\"auth\", new StringSource(authXml));\n...\nDefaultSoapHeaderMapper mapper = new DefaultSoapHeaderMapper();\nmapper.setRequestHeaderNames(\"auth\");\n</code></pre>\n\n<p>And in the end we have SOAP envelope as:</p>\n\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n    &lt;soapenv:Header&gt;\n        &lt;auth xmlns=\"http://test.auth.org\"&gt;\n            &lt;username&gt;user&lt;/username&gt;\n            &lt;password&gt;pass&lt;/password&gt;\n        &lt;/auth&gt;\n    &lt;/soapenv:Header&gt;\n    &lt;soapenv:Body&gt;\n        ...\n    &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n\n<p>If you can't use Spring Integration <code>5.0</code> yet, you can borrow its logic on the matter from the <code>DefaultSoapHeaderMapper</code> for custom extension of this class:</p>\n\n<pre><code>protected void populateUserDefinedHeader(String headerName, Object headerValue, SoapMessage target) {\n    SoapHeader soapHeader = target.getSoapHeader();\n    if (headerValue instanceof String) {\n        QName qname = QNameUtils.parseQNameString(headerName);\n        soapHeader.addAttribute(qname, (String) headerValue);\n    }\n    else if (headerValue instanceof Source) {\n        Result result = soapHeader.getResult();\n        try {\n            this.transformerHelper.transform((Source) headerValue, result);\n        }\n        catch (TransformerException e) {\n            throw new SoapHeaderException(\n                    \"Could not transform source [\" + headerValue + \"] to result [\" + result + \"]\", e);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10717116,"reputation":13,"user_id":7887349,"display_name":"va mosa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666188357,"creation_date":1497900143,"question_id":44638379,"body_markdown":"Need to hit a SOAP service whose request structure look as below \r\n\r\nIn spring integartion we can able to form the body part and hit the service and get the response .\r\n   \r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n\r\n    &lt;soap:Envelope\r\n    xmlns:soap=&quot;http://www.w3.org/2003/05/soap-envelope/&quot;\r\n    soap:encodingStyle=&quot;http://www.w3.org/2003/05/soap-encoding&quot;&gt;\r\n\r\n    &lt;soap:Header&gt;\r\n     &lt;m:Trans xmlns:m=&quot;https://www.w3schools.com/transaction/&quot;soap:mustUnderstand=&quot;1&quot;&gt;234\r\n     &lt;/m:Trans&gt;\r\n     &lt;authheader&gt;\r\n\t   &lt;username&gt; uname&lt;/username&gt;\r\n\t   &lt;password&gt;password&lt;/password&gt;\r\n     &lt;/authheader&gt;\r\n    &lt;/soap:Header&gt;\r\n\r\n    &lt;soap:Body xmlns:m=&quot;http://www.example.org/stock&quot;&gt;\r\n      &lt;m:GetStockPriceResponse&gt;\r\n      &lt;m:Price&gt;34.5&lt;/m:Price&gt;\r\n    &lt;/m:GetStockPriceResponse&gt;\r\n    &lt;/soap:Body&gt;\r\n   &lt;/soap:Envelope&gt;\r\n\r\nBut how to form the header part along with body and send it in outbound gateway ?\r\n\r\nCould someone help?","title":"Create custom Header using Spring Integration","body":"<p>Need to hit a SOAP service whose request structure look as below </p>\n\n<p>In spring integartion we can able to form the body part and hit the service and get the response .</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n\n&lt;soap:Envelope\nxmlns:soap=\"http://www.w3.org/2003/05/soap-envelope/\"\nsoap:encodingStyle=\"http://www.w3.org/2003/05/soap-encoding\"&gt;\n\n&lt;soap:Header&gt;\n &lt;m:Trans xmlns:m=\"https://www.w3schools.com/transaction/\"soap:mustUnderstand=\"1\"&gt;234\n &lt;/m:Trans&gt;\n &lt;authheader&gt;\n   &lt;username&gt; uname&lt;/username&gt;\n   &lt;password&gt;password&lt;/password&gt;\n &lt;/authheader&gt;\n&lt;/soap:Header&gt;\n\n&lt;soap:Body xmlns:m=\"http://www.example.org/stock\"&gt;\n  &lt;m:GetStockPriceResponse&gt;\n  &lt;m:Price&gt;34.5&lt;/m:Price&gt;\n&lt;/m:GetStockPriceResponse&gt;\n&lt;/soap:Body&gt;\n</code></pre>\n\n<p></p>\n\n<p>But how to form the header part along with body and send it in outbound gateway ?</p>\n\n<p>Could someone help?</p>\n"},{"tags":["java","json","servlets"],"answers":[{"comments":[{"owner":{"account_id":2384638,"reputation":80,"user_id":2085858,"accept_rate":75,"display_name":"Mallesh"},"score":0,"creation_date":1440991880,"post_id":32301162,"comment_id":52483231,"body_markdown":"ooh sorry.. ! Actually I passed requst parameter to a variable json_data and passed the string to the JSON Method. But I am still getting below error..\n\n`code`\nSEVERE: null\nUnexpected character (o) at position 1.\n\tat org.json.simple.parser.Yylex.yylex(Yylex.java:610)\n\tat org.json.simple.parser.JSONParser.nextToken(JSONParser.java:269)\n\tat org.json.simple.parser.JSONParser.parse(JSONParser.java:118)\n\tat org.json.simple.parser.JSONParser.parse(JSONParser.java:81)\n\tat org.json.simple.parser.JSONParser.parse(JSONParser.java:75)\n`code`","body":"ooh sorry.. ! Actually I passed requst parameter to a variable json_data and passed the string to the JSON Method. But I am still getting below error..  <code>code</code> SEVERE: null Unexpected character (o) at position 1. \tat org.json.simple.parser.Yylex.yylex(Yylex.java:610) \tat org.json.simple.parser.JSONParser.nextToken(JSONParser.java:&zwnj;&#8203;269) \tat org.json.simple.parser.JSONParser.parse(JSONParser.java:118) \tat org.json.simple.parser.JSONParser.parse(JSONParser.java:81) \tat org.json.simple.parser.JSONParser.parse(JSONParser.java:75) <code>code</code>"}],"tags":[],"owner":{"account_id":226463,"reputation":16416,"user_id":487524,"accept_rate":88,"display_name":"epoch"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440968863,"creation_date":1440968863,"answer_id":32301162,"question_id":32301144,"body_markdown":"You are passing a literal `String` to the function, not the actual data:\r\n\r\n    JSONObject json = (JSONObject) new JSONParser().parse(&quot;json_data&quot;);\r\n    //                                                    ^^^^^^^^^^^\r\n\r\nit should be:\r\n\r\n    JSONObject json = (JSONObject) new JSONParser().parse(json_data);\r\n\r\nassuming `json_data` is a variable that contains the `String` json data","title":"Unable to get JSON Object in request to the servlet","body":"<p>You are passing a literal <code>String</code> to the function, not the actual data:</p>\n\n<pre><code>JSONObject json = (JSONObject) new JSONParser().parse(\"json_data\");\n//                                                    ^^^^^^^^^^^\n</code></pre>\n\n<p>it should be:</p>\n\n<pre><code>JSONObject json = (JSONObject) new JSONParser().parse(json_data);\n</code></pre>\n\n<p>assuming <code>json_data</code> is a variable that contains the <code>String</code> json data</p>\n"},{"tags":[],"owner":{"account_id":2384638,"reputation":80,"user_id":2085858,"accept_rate":75,"display_name":"Mallesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1440996138,"creation_date":1440996138,"answer_id":32304119,"question_id":32301144,"body_markdown":"previously I created a JSON String and parsed it to JSON Object using JSON.parse(json_string); \r\n\r\nand i&#39;ve sent the same to the servlet. The servlet trying to read it but as it is got the object as string it is printing as [object object] and while trying to parse back to JSON String giving above mentioned error\r\n\r\nfinally i got help from stackoverflow from another post related \r\nhttps://stackoverflow.com/questions/19568142/how-to-read-json-sent-by-ajax-in-servlet \r\n\r\nI made a string out of json using the below and sent to the servlet. \r\n\r\nJSON.stringify(JSONobj)\r\n\r\nThe servlet received the string and created the JSON Object successfully using \r\n\r\nJSONObject json = (JSONObject) new JSONParser().parse(&quot;json_data&quot;);\r\n\r\n\r\nsorry if my english is bad... Thank you","title":"Unable to get JSON Object in request to the servlet","body":"<p>previously I created a JSON String and parsed it to JSON Object using JSON.parse(json_string); </p>\n\n<p>and i've sent the same to the servlet. The servlet trying to read it but as it is got the object as string it is printing as [object object] and while trying to parse back to JSON String giving above mentioned error</p>\n\n<p>finally i got help from stackoverflow from another post related \n<a href=\"https://stackoverflow.com/questions/19568142/how-to-read-json-sent-by-ajax-in-servlet\">How to read json sent by ajax in servlet</a> </p>\n\n<p>I made a string out of json using the below and sent to the servlet. </p>\n\n<p>JSON.stringify(JSONobj)</p>\n\n<p>The servlet received the string and created the JSON Object successfully using </p>\n\n<p>JSONObject json = (JSONObject) new JSONParser().parse(\"json_data\");</p>\n\n<p>sorry if my english is bad... Thank you</p>\n"},{"comments":[{"owner":{"account_id":4183182,"reputation":319,"user_id":3427547,"display_name":"Rahul Ahirrao"},"score":0,"creation_date":1441200476,"post_id":32354508,"comment_id":52581985,"body_markdown":"if you still get Unexpected character (j) at position 0 after this means problem is in your json_Data string.","body":"if you still get Unexpected character (j) at position 0 after this means problem is in your json_Data string."}],"tags":[],"owner":{"account_id":4183182,"reputation":319,"user_id":3427547,"display_name":"Rahul Ahirrao"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441200383,"creation_date":1441200383,"answer_id":32354508,"question_id":32301144,"body_markdown":"     String json_Data = &quot;{ .....}&quot;; // your json format data\r\n     JSONParser parser = new JSONParser();\r\n     Object obj = parser.parse(json_Data);\r\n\t JSONObject jsonObj = (JSONObject)obj;\r\n     \r\nThis works fine please test.","title":"Unable to get JSON Object in request to the servlet","body":"<pre><code> String json_Data = \"{ .....}\"; // your json format data\n JSONParser parser = new JSONParser();\n Object obj = parser.parse(json_Data);\n JSONObject jsonObj = (JSONObject)obj;\n</code></pre>\n\n<p>This works fine please test.</p>\n"},{"tags":[],"owner":{"account_id":9660059,"reputation":1877,"user_id":7168430,"display_name":"Debasish Ghosh"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666188215,"creation_date":1517045618,"answer_id":48474439,"question_id":32301144,"body_markdown":"You see only way to get json object from request is by reading lines from buffer reader and appending then to string builder. Then you get full json object request. Then you can parse that json object using getJsonobject or getString. I just implemented the same.\r\n\r\n\r\n    response.setContentType(&quot;application/json&quot;);\r\n\t\t\t //Gson gson = new Gson();\r\n\t\t\t StringBuilder sb = new StringBuilder();\r\n\t            String s;\r\n\t            while ((s = request.getReader().readLine()) != null) {\r\n\t                sb.append(s);\r\n\t            }\r\n\t        System.out.println(sb.toString());//got the full request as string. \r\n\t        \tJSONObject requestObj = new JSONObject(sb.toString());\r\n\t        JSONObject reqjson=requestObj.getJSONObject(&quot;Request&quot;);\r\n\t        \r\n\t        JSONObject auJsonObject=reqjson.getJSONObject(&quot;Verification&quot;);\r\n\t        JSONObject getopobj=reqjson.getJSONObject(&quot;GetAllOperators&quot;);\r\n    \t    String userid=auJsonObject.getString(&quot;username&quot;);\r\n      \t    String\tpass=auJsonObject.getString(&quot;password&quot;);\r\n      \t\tString service_type=getopobj.getString(&quot;type&quot;);\r\n\r\nThen using these values i send some response in json format.\r\n\r\n    out.println(obj);//obj is my jsonobject for response.\r\n\r\n ","title":"Unable to get JSON Object in request to the servlet","body":"<p>You see only way to get json object from request is by reading lines from buffer reader and appending then to string builder. Then you get full json object request. Then you can parse that json object using getJsonobject or getString. I just implemented the same.</p>\n<pre><code>response.setContentType(&quot;application/json&quot;);\n         //Gson gson = new Gson();\n         StringBuilder sb = new StringBuilder();\n            String s;\n            while ((s = request.getReader().readLine()) != null) {\n                sb.append(s);\n            }\n        System.out.println(sb.toString());//got the full request as string. \n            JSONObject requestObj = new JSONObject(sb.toString());\n        JSONObject reqjson=requestObj.getJSONObject(&quot;Request&quot;);\n        \n        JSONObject auJsonObject=reqjson.getJSONObject(&quot;Verification&quot;);\n        JSONObject getopobj=reqjson.getJSONObject(&quot;GetAllOperators&quot;);\n        String userid=auJsonObject.getString(&quot;username&quot;);\n        String  pass=auJsonObject.getString(&quot;password&quot;);\n        String service_type=getopobj.getString(&quot;type&quot;);\n</code></pre>\n<p>Then using these values i send some response in json format.</p>\n<pre><code>out.println(obj);//obj is my jsonobject for response.\n</code></pre>\n"}],"owner":{"account_id":2384638,"reputation":80,"user_id":2085858,"accept_rate":75,"display_name":"Mallesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32304119,"answer_count":4,"score":0,"last_activity_date":1666188215,"creation_date":1440968698,"question_id":32301144,"body_markdown":"I have created a JSON object manually using the data obtained in java script and sent the JSON Object to a servlet using Ajax.\r\n\r\nThe Object is able to receive but unable to convert to JSON Object again. I am using json-simple-1.1.jar .\r\n\r\nI tried \r\n\r\n    JSONObject json=(JSONObject)new JSONParser().parse(&quot;json_data&quot;);\r\n\r\n\r\nBut ended with the following error \r\n\r\n\r\n    Aug 31, 2015 2:28:13 AM source.main.UpdateDetails doGet\r\n    SEVERE: null\r\n    Unexpected character (j) at position 0.\r\n    \tat org.json.simple.parser.Yylex.yylex(Yylex.java:610)\r\n    \tat org.json.simple.parser.JSONParser.nextToken(JSONParser.java:269)\r\n    \tat org.json.simple.parser.JSONParser.parse(JSONParser.java:118)\r\n    \tat org.json.simple.parser.JSONParser.parse(JSONParser.java:81)\r\n    \tat org.json.simple.parser.JSONParser.parse(JSONParser.java:75)\r\n    \tat source.main.UpdateDetails.processRequest(UpdateDetails.java:55)\r\n    \tat source.main.UpdateDetails.doGet(UpdateDetails.java:107)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n    \tat org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:225)\r\n\r\nThe output of JSON File sent as request is as follows :\r\n\r\n\r\n    {\t\r\n    \t&quot;0&quot;:\r\n    \t{\r\n    \t&quot;card_name&quot;:&quot;Pallela.Manga&quot;,\r\n    \t&quot;aadhar_eid&quot;:&quot;1046106160065750110728131521&quot;,\r\n    \t&quot;aadhar_uid&quot;:&quot;693228374919&quot;,\r\n    \t&quot;relation&quot;:&quot;SELF&quot;,\r\n    \t&quot;age&quot;:&quot;43&quot;\r\n    \t},\r\n    \t&quot;1&quot;:\r\n    \t{\r\n    \t&quot;card_name&quot;:&quot;KondaBabu&quot;,\r\n    \t&quot;aadhar_eid&quot;:&quot;1046106160008020110728125714&quot;,\r\n    \t&quot;aadhar_uid&quot;:&quot;996251988555&quot;,\r\n    \t&quot;relation&quot;:&quot;HUSBAND&quot;,\r\n    \t&quot;age&quot;:&quot;47&quot;\r\n    \t},\r\n    \t&quot;2&quot;:\r\n    \t{\r\n    \t&quot;card_name&quot;:&quot;SrinivasaRao&quot;,\r\n    \t&quot;aadhar_eid&quot;:&quot;1046106125348220110728131743&quot;,\r\n    \t&quot;aadhar_uid&quot;:&quot;609986909901&quot;,\r\n    \t&quot;relation&quot;:&quot;SON&quot;,&quot;age&quot;:&quot;25&quot;\r\n    \t},\r\n    \t&quot;3&quot;:\r\n    \t{\r\n    \t&quot;card_name&quot;:&quot;Ganesh&quot;,\r\n    \t&quot;aadhar_eid&quot;:&quot;1046106160002957110728132026&quot;,\r\n    \t&quot;aadhar_uid&quot;:&quot;603873912563&quot;,\r\n    \t&quot;relation&quot;:&quot;SON&quot;,\r\n    \t&quot;age&quot;:&quot;23&quot;\r\n    \t}\r\n    }\r\n\r\nPlease help me out of this.. Thank you\r\n\r\n","title":"Unable to get JSON Object in request to the servlet","body":"<p>I have created a JSON object manually using the data obtained in java script and sent the JSON Object to a servlet using Ajax.</p>\n\n<p>The Object is able to receive but unable to convert to JSON Object again. I am using json-simple-1.1.jar .</p>\n\n<p>I tried </p>\n\n<pre><code>JSONObject json=(JSONObject)new JSONParser().parse(\"json_data\");\n</code></pre>\n\n<p>But ended with the following error </p>\n\n<pre><code>Aug 31, 2015 2:28:13 AM source.main.UpdateDetails doGet\nSEVERE: null\nUnexpected character (j) at position 0.\n    at org.json.simple.parser.Yylex.yylex(Yylex.java:610)\n    at org.json.simple.parser.JSONParser.nextToken(JSONParser.java:269)\n    at org.json.simple.parser.JSONParser.parse(JSONParser.java:118)\n    at org.json.simple.parser.JSONParser.parse(JSONParser.java:81)\n    at org.json.simple.parser.JSONParser.parse(JSONParser.java:75)\n    at source.main.UpdateDetails.processRequest(UpdateDetails.java:55)\n    at source.main.UpdateDetails.doGet(UpdateDetails.java:107)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:225)\n</code></pre>\n\n<p>The output of JSON File sent as request is as follows :</p>\n\n<pre><code>{   \n    \"0\":\n    {\n    \"card_name\":\"Pallela.Manga\",\n    \"aadhar_eid\":\"1046106160065750110728131521\",\n    \"aadhar_uid\":\"693228374919\",\n    \"relation\":\"SELF\",\n    \"age\":\"43\"\n    },\n    \"1\":\n    {\n    \"card_name\":\"KondaBabu\",\n    \"aadhar_eid\":\"1046106160008020110728125714\",\n    \"aadhar_uid\":\"996251988555\",\n    \"relation\":\"HUSBAND\",\n    \"age\":\"47\"\n    },\n    \"2\":\n    {\n    \"card_name\":\"SrinivasaRao\",\n    \"aadhar_eid\":\"1046106125348220110728131743\",\n    \"aadhar_uid\":\"609986909901\",\n    \"relation\":\"SON\",\"age\":\"25\"\n    },\n    \"3\":\n    {\n    \"card_name\":\"Ganesh\",\n    \"aadhar_eid\":\"1046106160002957110728132026\",\n    \"aadhar_uid\":\"603873912563\",\n    \"relation\":\"SON\",\n    \"age\":\"23\"\n    }\n}\n</code></pre>\n\n<p>Please help me out of this.. Thank you</p>\n"},{"tags":["java","format","bigdecimal"],"comments":[{"owner":{"account_id":1551642,"reputation":5667,"user_id":1443896,"accept_rate":17,"display_name":"Cheruvian"},"score":0,"creation_date":1404466748,"post_id":24571166,"comment_id":38060476,"body_markdown":"Without seeing what these functions do it&#39;ll be hard to help you.","body":"Without seeing what these functions do it&#39;ll be hard to help you."}],"answers":[{"comments":[{"owner":{"account_id":6660400,"reputation":63,"user_id":5139688,"display_name":"reinardhz"},"score":4,"creation_date":1601322816,"post_id":24571380,"comment_id":113366194,"body_markdown":"Error. You should escape the regex. `String correctstring[] = mystring.split(&quot;\\\\.&quot;);`","body":"Error. You should escape the regex. <code>String correctstring[] = mystring.split(&quot;\\\\.&quot;);</code>"}],"tags":[],"owner":{"account_id":3782852,"reputation":86,"user_id":3141772,"display_name":"Crow EH"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1404467694,"creation_date":1404467190,"answer_id":24571380,"question_id":24571166,"body_markdown":"What is the language? Java?\r\nYou can use the split() function of String if you just want to keep numbers before &quot;.&quot; :\r\n\r\n    String mystring = &quot;34.000000&quot;;\r\n    String correctstring[] = mystring.split(&quot;.&quot;);\r\n    System.out.println(correctstring[0]);\r\n    // display : 34\r\n\r\n**it will delete all digits after &quot;.&quot;** !","title":"Remove Decimals from String","body":"<p>What is the language? Java?\nYou can use the split() function of String if you just want to keep numbers before \".\" :</p>\n\n<pre><code>String mystring = \"34.000000\";\nString correctstring[] = mystring.split(\".\");\nSystem.out.println(correctstring[0]);\n// display : 34\n</code></pre>\n\n<p><strong>it will delete all digits after \".\"</strong> !</p>\n"},{"tags":[],"owner":{"account_id":4679990,"reputation":56,"user_id":3788951,"display_name":"dbaneman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1404482890,"creation_date":1404482890,"answer_id":24576128,"question_id":24571166,"body_markdown":"Inside your method that converts a BigDecimal into a String, you can use BigDecimal.setScale() to set the number of digits after the decimal point. For example:\r\n\r\n    BigDecimal d = new BigDecimal(&quot;34.000000&quot;);\r\n    BigDecimal d1 = d.setScale(2, BigDecimal.ROUND_HALF_UP); // yields 34.00\r\n    BigDecimal d2 = d.setScale(0, BigDecimal.ROUND_HALF_UP); // yields 34","title":"Remove Decimals from String","body":"<p>Inside your method that converts a BigDecimal into a String, you can use BigDecimal.setScale() to set the number of digits after the decimal point. For example:</p>\n\n<pre><code>BigDecimal d = new BigDecimal(\"34.000000\");\nBigDecimal d1 = d.setScale(2, BigDecimal.ROUND_HALF_UP); // yields 34.00\nBigDecimal d2 = d.setScale(0, BigDecimal.ROUND_HALF_UP); // yields 34\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14175406,"reputation":91,"user_id":10240836,"display_name":"roy"},"score":0,"creation_date":1673567565,"post_id":74126649,"comment_id":132534712,"body_markdown":"awesome thank you. This worked number.split(Pattern.quote(&quot;.&quot;))[0];","body":"awesome thank you. This worked number.split(Pattern.quote(&quot;.&quot;))[0];"}],"tags":[],"owner":{"account_id":10055174,"reputation":11,"user_id":7433608,"display_name":"m4nn3"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666187776,"creation_date":1666187776,"answer_id":74126649,"question_id":24571166,"body_markdown":"You can use this:\r\n\r\n    String number = &quot;150.000&quot;;\r\n    number.replaceAll(&quot;\\\\.\\\\d+$&quot;, &quot;&quot;);\r\n\r\nOr you can use this:\r\n    \r\n    number.split(Pattern.quote(&quot;.&quot;))[0];","title":"Remove Decimals from String","body":"<p>You can use this:</p>\n<pre><code>String number = &quot;150.000&quot;;\nnumber.replaceAll(&quot;\\\\.\\\\d+$&quot;, &quot;&quot;);\n</code></pre>\n<p>Or you can use this:</p>\n<pre><code>number.split(Pattern.quote(&quot;.&quot;))[0];\n</code></pre>\n"}],"owner":{"account_id":2284463,"reputation":980,"user_id":2008828,"accept_rate":63,"display_name":"Katherine99"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15900,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1666187776,"creation_date":1404466561,"question_id":24571166,"body_markdown":"I have a function that converst a BigDecimal into a String plus the currency. When  I use this the number (e.g. 34) turns into a number with a lot of decimals (e.g. 34.000000).\r\n\r\nWhat can I do to solve this and just show the 34?\r\n\r\nHere is my function:\r\n\r\n\t\r\n\r\n\t\trow.put(&quot;Money&quot;, GcomNullPointerValidator.isNullField(formatUtils.formatCurrency(MoneyDto.getAmount().stripTrailingZeros())));\r\n\r\n","title":"Remove Decimals from String","body":"<p>I have a function that converst a BigDecimal into a String plus the currency. When  I use this the number (e.g. 34) turns into a number with a lot of decimals (e.g. 34.000000).</p>\n\n<p>What can I do to solve this and just show the 34?</p>\n\n<p>Here is my function:</p>\n\n<pre><code>    row.put(\"Money\", GcomNullPointerValidator.isNullField(formatUtils.formatCurrency(MoneyDto.getAmount().stripTrailingZeros())));\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"score":0,"creation_date":1666182679,"post_id":74125074,"comment_id":130874433,"body_markdown":"Is there a reason you need specifically run Eclipse with Java 1.8? As a rule of a thumb your IDE should run using the latest Java version available, you can change what JDK you compile with in it&#39;s settings if you need to. You even found the setting in eclipse.ini that allows it to start with a different JDK than the one on PATH!","body":"Is there a reason you need specifically run Eclipse with Java 1.8? As a rule of a thumb your IDE should run using the latest Java version available, you can change what JDK you compile with in it&#39;s settings if you need to. You even found the setting in eclipse.ini that allows it to start with a different JDK than the one on PATH!"},{"owner":{"account_id":15428646,"reputation":53,"user_id":11130693,"display_name":"sujata shinde"},"score":0,"creation_date":1666261071,"post_id":74125074,"comment_id":130896422,"body_markdown":"Thank you for your help and response.  I have tried on jdk-11.0.16 also but still same issue persist.","body":"Thank you for your help and response.  I have tried on jdk-11.0.16 also but still same issue persist."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666187748,"creation_date":1666181629,"answer_id":74125146,"question_id":74125074,"body_markdown":"There is a chance your organization is using an SSL intercepting proxy. It can also be titled as SSL inspection or man-in-the-middle-attack.\r\n\r\nYou will either have to tell Eclipse to no longer check the certificates (and trust blindly - not recommended) or to add the server&#39;s (or proxy&#39;s) CA certificate to Eclipse&#39;s truststore.","title":"PKIX path building failed: unable to find valid certification path to requested target. facing issue in eclipse version: 2020-06 (4.16.0)","body":"<p>There is a chance your organization is using an SSL intercepting proxy. It can also be titled as SSL inspection or man-in-the-middle-attack.</p>\n<p>You will either have to tell Eclipse to no longer check the certificates (and trust blindly - not recommended) or to add the server's (or proxy's) CA certificate to Eclipse's truststore.</p>\n"}],"owner":{"account_id":15428646,"reputation":53,"user_id":11130693,"display_name":"sujata shinde"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666187748,"creation_date":1666181299,"question_id":74125074,"body_markdown":"I am struggling with this issue and not able to install Spring plugin through eclipse marketplace even after setting up corporate proxy.\r\nI already performed below steps:\r\n1) Tried too many eclipse version compatible with JDK now I have eclipse Version: 2020-06 (4.16.0) and JDK1.8.0_331\r\n2) Set JAVA_HOME path as C:\\Program Files\\Java\\jdk1.8.0_331\\bin in user variables\r\n3) Tried to modified eclipse.ini file to and set -Djavax.net.ssl.trustStore=C:\\Program Files\\Java\\jre1.8.0_331\\lib\\security\\cacerts under -vmargs\r\n4) Added -vm\r\nC:\\Program Files\\Java\\jdk1.8.0_331\\bin\\javaw.exe in eclipse.ini file and restarted eclipse.\r\n5) Also cross checked configuration for -vm and -vmargs in eclipse -&gt; installation details -&gt; configuration and seems to be good.\r\n\r\nAfter performing all above steps still I am getting same issue of eclipse marketplace. Attached is the error snapshot. If anybody can assist/suggest it would be really helpful.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IQwk0.png","title":"PKIX path building failed: unable to find valid certification path to requested target. facing issue in eclipse version: 2020-06 (4.16.0)","body":"<p>I am struggling with this issue and not able to install Spring plugin through eclipse marketplace even after setting up corporate proxy.\nI already performed below steps:</p>\n<ol>\n<li>Tried too many eclipse version compatible with JDK now I have eclipse Version: 2020-06 (4.16.0) and JDK1.8.0_331</li>\n<li>Set JAVA_HOME path as C:\\Program Files\\Java\\jdk1.8.0_331\\bin in user variables</li>\n<li>Tried to modified eclipse.ini file to and set -Djavax.net.ssl.trustStore=C:\\Program Files\\Java\\jre1.8.0_331\\lib\\security\\cacerts under -vmargs</li>\n<li>Added -vm\nC:\\Program Files\\Java\\jdk1.8.0_331\\bin\\javaw.exe in eclipse.ini file and restarted eclipse.</li>\n<li>Also cross checked configuration for -vm and -vmargs in eclipse -&gt; installation details -&gt; configuration and seems to be good.</li>\n</ol>\n<p>After performing all above steps still I am getting same issue of eclipse marketplace. Attached is the error snapshot. If anybody can assist/suggest it would be really helpful.\n<a href=\"https://i.stack.imgur.com/IQwk0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IQwk0.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1665367888,"post_id":74009649,"comment_id":130676295,"body_markdown":"&quot;Is it dependent on what IDE I am using for Java?&quot;  Yes.  But &quot;dropping Java files&quot; into an IDE is probably the wrong approach.  A better approach is to use Maven or Gradle (or similar) build files, and then rely on the IDE&#39;s respective plugins to set up the project from what is in the build file, download dependencies + add them to the project, etc.","body":"&quot;Is it dependent on what IDE I am using for Java?&quot;  Yes.  But &quot;dropping Java files&quot; into an IDE is probably the wrong approach.  A better approach is to use Maven or Gradle (or similar) build files, and then rely on the IDE&#39;s respective plugins to set up the project from what is in the build file, download dependencies + add them to the project, etc."}],"answers":[{"comments":[{"owner":{"account_id":8661996,"reputation":81,"user_id":6483989,"display_name":"Manoj Baishya"},"score":0,"creation_date":1666164598,"post_id":74009714,"comment_id":130867879,"body_markdown":"Suggestion @ _Those build files are what you&#39;re looking for_ : It will be more clear if “build.gradle” and “pom.xml” are highlighted prominently at the very top of the answer (in a summary and details format)","body":"Suggestion @ <i>Those build files are what you&#39;re looking for</i> : It will be more clear if “build.gradle” and “pom.xml” are highlighted prominently at the very top of the answer (in a summary and details format)"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1666184521,"post_id":74009714,"comment_id":130875205,"body_markdown":"Edited the answer a bit to highlight the notion that you probably want to look for the build files instead.","body":"Edited the answer a bit to highlight the notion that you probably want to look for the build files instead."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666187092,"creation_date":1665368797,"answer_id":74009714,"question_id":74009649,"body_markdown":"You&#39;re probably looking for the build file, not the IDE project definition.\r\n\r\n&gt; Is it dependent on what IDE I am using for Java?\r\n\r\nYes. IntelliJ has `.iml` files, and Eclipse has `.project` (that&#39;s not a file ending - that&#39;s the file), as well as `.classpath`, `.factorypath`, and more. But, many of these are effectively generated or just refer to the build file. In C that tends to be called `Makefile`, in the Java ecosystem, Gradle and Maven are the 2 most popular build tools; they have __`build.gradle`__ and __`pom.xml`__ respectively. These would be more useful as basis for knowing how a project is &#39;put together&#39;, so to speak.\r\n\r\n&gt; From memory, it seems to me, that all I have to do is drop the Java files into an IDE and then, somehow, a project file is automatically generated.\r\n\r\nThat&#39;s _very_ basic and should rarely work except for the simplest projects. For example, most Java projects have source files, test files (also source files but they are not part of the distribution), and resource files (non-Java files that are also needed for the app; think about the images for the icon on a button), as well as a ton of dependencies (third party libraries used by the Java app).\r\n\r\nGiven that folks like many IDEs, the IDE &#39;config file&#39; is __not__ what you are looking for, and many projects don&#39;t even check these into source control (and probably shouldn&#39;t). Together with the source, you have a build file. This build file knows how to download dependencies, compile every artifact (there doesn&#39;t have to be one; maybe there&#39;s the test code to the built, the main app, a plugin for some other tool, and an installer. Build tools can handle all that), run the tests and report on them, possibly even tell you about code coverage, and they usually _can_ run the app, but more generally, you just want to tell the build tool to build a distributable for each relevant artifact.\r\n\r\nThose build files are what you&#39;re looking for. With those you can build your project, _or_ point an IDE at them and then you can edit the project with all the dependencies and classpath linkages all worked out for you.\r\n\r\n","title":"what is the equivalent project file for a Java project?","body":"<p>You're probably looking for the build file, not the IDE project definition.</p>\n<blockquote>\n<p>Is it dependent on what IDE I am using for Java?</p>\n</blockquote>\n<p>Yes. IntelliJ has <code>.iml</code> files, and Eclipse has <code>.project</code> (that's not a file ending - that's the file), as well as <code>.classpath</code>, <code>.factorypath</code>, and more. But, many of these are effectively generated or just refer to the build file. In C that tends to be called <code>Makefile</code>, in the Java ecosystem, Gradle and Maven are the 2 most popular build tools; they have <strong><code>build.gradle</code></strong> and <strong><code>pom.xml</code></strong> respectively. These would be more useful as basis for knowing how a project is 'put together', so to speak.</p>\n<blockquote>\n<p>From memory, it seems to me, that all I have to do is drop the Java files into an IDE and then, somehow, a project file is automatically generated.</p>\n</blockquote>\n<p>That's <em>very</em> basic and should rarely work except for the simplest projects. For example, most Java projects have source files, test files (also source files but they are not part of the distribution), and resource files (non-Java files that are also needed for the app; think about the images for the icon on a button), as well as a ton of dependencies (third party libraries used by the Java app).</p>\n<p>Given that folks like many IDEs, the IDE 'config file' is <strong>not</strong> what you are looking for, and many projects don't even check these into source control (and probably shouldn't). Together with the source, you have a build file. This build file knows how to download dependencies, compile every artifact (there doesn't have to be one; maybe there's the test code to the built, the main app, a plugin for some other tool, and an installer. Build tools can handle all that), run the tests and report on them, possibly even tell you about code coverage, and they usually <em>can</em> run the app, but more generally, you just want to tell the build tool to build a distributable for each relevant artifact.</p>\n<p>Those build files are what you're looking for. With those you can build your project, <em>or</em> point an IDE at them and then you can edit the project with all the dependencies and classpath linkages all worked out for you.</p>\n"}],"owner":{"account_id":22267,"reputation":8899,"user_id":54760,"accept_rate":54,"display_name":"xarzu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666187113,"creation_date":1665367690,"question_id":74009649,"body_markdown":"What is the equivalent project file for a Java project?  For example, a C# project file is denoted by the delimiter of .csproj.  So what would it be for a Java project?  Is it dependent on what IDE I am using for Java?\r\n\r\nI did some search online about this and it seems to me that the answer to this question is dependent on the IDE.  From memory, it seems to me, that all I have to do is drop the Java files into an IDE and then, somehow, a project file is automatically generated.  I do not want to be steered in the wrong direction on this and so I want to first ask around for guidance.","title":"what is the equivalent project file for a Java project?","body":"<p>What is the equivalent project file for a Java project?  For example, a C# project file is denoted by the delimiter of .csproj.  So what would it be for a Java project?  Is it dependent on what IDE I am using for Java?</p>\n<p>I did some search online about this and it seems to me that the answer to this question is dependent on the IDE.  From memory, it seems to me, that all I have to do is drop the Java files into an IDE and then, somehow, a project file is automatically generated.  I do not want to be steered in the wrong direction on this and so I want to first ask around for guidance.</p>\n"},{"tags":["java","spring","server"],"comments":[{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1666091246,"post_id":74087018,"comment_id":130848204,"body_markdown":"Is it a web application?","body":"Is it a web application?"},{"owner":{"account_id":25960057,"reputation":27,"user_id":19676831,"display_name":"kathmandui"},"score":0,"creation_date":1666168942,"post_id":74087018,"comment_id":130869392,"body_markdown":"What do you mean? It&#39;s on localhost, not in public. It&#39;s a simple hell world text test. No other functionality on the homepage.","body":"What do you mean? It&#39;s on localhost, not in public. It&#39;s a simple hell world text test. No other functionality on the homepage."},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1666186297,"post_id":74087018,"comment_id":130875988,"body_markdown":"&quot;Homepage&quot;, ok, so you need a web-browser for the homepage so it is indeed a web-application.","body":"&quot;Homepage&quot;, ok, so you need a web-browser for the homepage so it is indeed a web-application."}],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666187056,"creation_date":1666187056,"answer_id":74126472,"question_id":74087018,"body_markdown":"You have a Web-Application. Web-Applications on Spring are using the Servlet-Specification. \r\n\r\nThe filetype of your application is a bundled `.war`-file, who is ready for deployment on a Servlet-Container.\r\n\r\nIn production state-of-the-art is a servlet-container like \r\n\r\n- Tomcat\r\n- JBoss / Wildfly\r\n- Jetty\r\n\r\nThey are running performance-optimized on a hardened operation-systems like Linux or Solaris. Starting a JRE who can not debug by default.\r\n\r\nThey use a VM-flag called `--server` what brings big performace-improvements from about 5-10%. But the 20x times faster execution does not seems a compiler-flag problem.\r\n\r\nDo you have a Antivirus-Program running? That might give such a impact.\r\n\r\nTry to install tomcat, package the application for production and copy the `.war`-file to tomcat&#39;s `webapps`-folder. This might give the performace-improvement you are looking for.","title":"How to run Spring server app in production mode?","body":"<p>You have a Web-Application. Web-Applications on Spring are using the Servlet-Specification.</p>\n<p>The filetype of your application is a bundled <code>.war</code>-file, who is ready for deployment on a Servlet-Container.</p>\n<p>In production state-of-the-art is a servlet-container like</p>\n<ul>\n<li>Tomcat</li>\n<li>JBoss / Wildfly</li>\n<li>Jetty</li>\n</ul>\n<p>They are running performance-optimized on a hardened operation-systems like Linux or Solaris. Starting a JRE who can not debug by default.</p>\n<p>They use a VM-flag called <code>--server</code> what brings big performace-improvements from about 5-10%. But the 20x times faster execution does not seems a compiler-flag problem.</p>\n<p>Do you have a Antivirus-Program running? That might give such a impact.</p>\n<p>Try to install tomcat, package the application for production and copy the <code>.war</code>-file to tomcat's <code>webapps</code>-folder. This might give the performace-improvement you are looking for.</p>\n"}],"owner":{"account_id":25960057,"reputation":27,"user_id":19676831,"display_name":"kathmandui"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666187056,"creation_date":1665922455,"question_id":74087018,"body_markdown":"I have followed the quickstart guide on the Spring website and successfully run the Spring app hello world server via `./mvnw spring-boot:run`.\r\n\r\nAnd it works.\r\n\r\nI did som benchmarking (on my local machine) but its on the RoR7 requests-per-second response level and I was hoping to get something at least Express like numbers - so at least something that is 15 - 20x or more times faster than RoR. \r\n\r\nIs there a command line flag parameter like `production` or `--release` to get a release-finetuned-app` that is faster?\r\n\r\nUPDATE:\r\neven if I do mvn build and run java -jar and the jar target name it is still the same ruby on rails level. Fr example, an express app of that same complexity is 40x faster and in Rust(Actix) 400x faster, while it should be something like the same or faster than Express and perhaps 3 - 5x slower than Rust. I need to turn off debugging and other stuff and produce a release build of a spring app somehow. Any idea how to realize that?\r\n\r\n","title":"How to run Spring server app in production mode?","body":"<p>I have followed the quickstart guide on the Spring website and successfully run the Spring app hello world server via <code>./mvnw spring-boot:run</code>.</p>\n<p>And it works.</p>\n<p>I did som benchmarking (on my local machine) but its on the RoR7 requests-per-second response level and I was hoping to get something at least Express like numbers - so at least something that is 15 - 20x or more times faster than RoR.</p>\n<p>Is there a command line flag parameter like <code>production</code> or <code>--release</code> to get a release-finetuned-app` that is faster?</p>\n<p>UPDATE:\neven if I do mvn build and run java -jar and the jar target name it is still the same ruby on rails level. Fr example, an express app of that same complexity is 40x faster and in Rust(Actix) 400x faster, while it should be something like the same or faster than Express and perhaps 3 - 5x slower than Rust. I need to turn off debugging and other stuff and produce a release build of a spring app somehow. Any idea how to realize that?</p>\n"},{"tags":["java","completable-future"],"answers":[{"tags":[],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666186938,"creation_date":1666186938,"answer_id":74126438,"question_id":74116288,"body_markdown":"One way to achieve this is via [`Stream.iterate`][1]: \r\n\r\n    var values = Stream.iterate(\r\n        makeFirstRequestFuture().get(),\r\n        Objects::nonNull,\r\n        previous -&gt; {\r\n            try {\r\n                return makeNextRequestFuture(previous).get();\r\n            } catch (InterruptedException | ExecutionException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    ).toList();\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#iterate(T,java.util.function.Predicate,java.util.function.UnaryOperator)","title":"How to set continuation for CompletableFuture from it&#39;s callback conditionally?","body":"<p>One way to achieve this is via <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#iterate(T,java.util.function.Predicate,java.util.function.UnaryOperator)\" rel=\"nofollow noreferrer\"><code>Stream.iterate</code></a>:</p>\n<pre><code>var values = Stream.iterate(\n    makeFirstRequestFuture().get(),\n    Objects::nonNull,\n    previous -&gt; {\n        try {\n            return makeNextRequestFuture(previous).get();\n        } catch (InterruptedException | ExecutionException e) {\n            throw new RuntimeException(e);\n        }\n    }\n).toList();\n</code></pre>\n"}],"owner":{"account_id":4279121,"reputation":37,"user_id":3499042,"display_name":"eexaxa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666186938,"creation_date":1666120181,"question_id":74116288,"body_markdown":"Given the code below - how the `readAllValuesFuture()` method should be implemented?\r\n\r\nMake a call and depending on the result of its `Future`:\r\n* either make the next call and pass the result of the previous one\r\n* or return an aggregated result of all previous calls.\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.CompletableFuture;\r\n\r\npublic class TestFuture\r\n{\r\n    @Test\r\n    public void testReadAllValues() throws Exception\r\n    {\r\n        counter = 0;\r\n        var list = readAllValues();\r\n        assert list.size() == 10;\r\n        assert counter == 11;\r\n    }\r\n\r\n    @Test\r\n    public void testReadAllValuesFuture() throws Exception\r\n    {\r\n        counter = 0;\r\n        var list = readAllValuesFuture().get();\r\n        assert list.size() == 10;\r\n        assert counter == 11;\r\n    }\r\n\r\n\r\n    // Synchronous logic - plain and simple\r\n    private List&lt;Integer&gt; readAllValues()\r\n    {\r\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        Integer res = makeFirstRequest();\r\n        while (res != null)\r\n        {\r\n            list.add(res);\r\n            res = makeNextRequest(res);\r\n        }\r\n\r\n        return list;\r\n    }\r\n\r\n    // Futures - how to implement it?\r\n    private CompletableFuture&lt;List&lt;Integer&gt;&gt; readAllValuesFuture()\r\n    {\r\n        return CompletableFuture.failedFuture(new UnsupportedOperationException());\r\n    }\r\n\r\n\r\n    private int counter = 0;\r\n\r\n    // Assuming this is external code which cannot be changed\r\n    private Integer makeFirstRequest()\r\n    {\r\n        counter++;\r\n        return 0;\r\n    }\r\n\r\n    // Assuming this is external code which cannot be changed\r\n    private Integer makeNextRequest(Integer prevValue)\r\n    {\r\n        counter++;\r\n        if (++prevValue &lt; 10)\r\n        {\r\n            return prevValue;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    // Assuming this is external code which cannot be changed\r\n    private CompletableFuture&lt;Integer&gt; makeFirstRequestFuture()\r\n    {\r\n        counter++;\r\n        return CompletableFuture.completedFuture(0);\r\n    }\r\n\r\n    // Assuming this is external code which cannot be changed\r\n    private CompletableFuture&lt;Integer&gt; makeNextRequestFuture(Integer prevValue)\r\n    {\r\n        counter++;\r\n        if (++prevValue &lt; 10)\r\n        {\r\n            return CompletableFuture.completedFuture(prevValue);\r\n        }\r\n\r\n        return CompletableFuture.completedFuture(null);\r\n    }\r\n}\r\n```\r\nReal-life use-case:\r\nImplement `listAllTables()` from the example below using `DynamoDbAsyncClient` (`DynamoDbAsyncClient.listTables()` returns `CompletableFuture&lt;ListTablesResponse&gt;` instead of `ListTablesResponse` as `DynamoDbClient.listTables()` does):\r\nhttps://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-dynamodb-tables.html","title":"How to set continuation for CompletableFuture from it&#39;s callback conditionally?","body":"<p>Given the code below - how the <code>readAllValuesFuture()</code> method should be implemented?</p>\n<p>Make a call and depending on the result of its <code>Future</code>:</p>\n<ul>\n<li>either make the next call and pass the result of the previous one</li>\n<li>or return an aggregated result of all previous calls.</li>\n</ul>\n<pre><code>package com.example.demo;\n\nimport org.junit.jupiter.api.Test;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.CompletableFuture;\n\npublic class TestFuture\n{\n    @Test\n    public void testReadAllValues() throws Exception\n    {\n        counter = 0;\n        var list = readAllValues();\n        assert list.size() == 10;\n        assert counter == 11;\n    }\n\n    @Test\n    public void testReadAllValuesFuture() throws Exception\n    {\n        counter = 0;\n        var list = readAllValuesFuture().get();\n        assert list.size() == 10;\n        assert counter == 11;\n    }\n\n\n    // Synchronous logic - plain and simple\n    private List&lt;Integer&gt; readAllValues()\n    {\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n        Integer res = makeFirstRequest();\n        while (res != null)\n        {\n            list.add(res);\n            res = makeNextRequest(res);\n        }\n\n        return list;\n    }\n\n    // Futures - how to implement it?\n    private CompletableFuture&lt;List&lt;Integer&gt;&gt; readAllValuesFuture()\n    {\n        return CompletableFuture.failedFuture(new UnsupportedOperationException());\n    }\n\n\n    private int counter = 0;\n\n    // Assuming this is external code which cannot be changed\n    private Integer makeFirstRequest()\n    {\n        counter++;\n        return 0;\n    }\n\n    // Assuming this is external code which cannot be changed\n    private Integer makeNextRequest(Integer prevValue)\n    {\n        counter++;\n        if (++prevValue &lt; 10)\n        {\n            return prevValue;\n        }\n\n        return null;\n    }\n\n    // Assuming this is external code which cannot be changed\n    private CompletableFuture&lt;Integer&gt; makeFirstRequestFuture()\n    {\n        counter++;\n        return CompletableFuture.completedFuture(0);\n    }\n\n    // Assuming this is external code which cannot be changed\n    private CompletableFuture&lt;Integer&gt; makeNextRequestFuture(Integer prevValue)\n    {\n        counter++;\n        if (++prevValue &lt; 10)\n        {\n            return CompletableFuture.completedFuture(prevValue);\n        }\n\n        return CompletableFuture.completedFuture(null);\n    }\n}\n</code></pre>\n<p>Real-life use-case:\nImplement <code>listAllTables()</code> from the example below using <code>DynamoDbAsyncClient</code> (<code>DynamoDbAsyncClient.listTables()</code> returns <code>CompletableFuture&lt;ListTablesResponse&gt;</code> instead of <code>ListTablesResponse</code> as <code>DynamoDbClient.listTables()</code> does):\n<a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-dynamodb-tables.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-dynamodb-tables.html</a></p>\n"},{"tags":["java","reactive-programming","spring-webflux"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1666193016,"post_id":74124117,"comment_id":130878968,"body_markdown":"It&#39;s very hard to answer the question correctly without knowing the context. How do you use this DTO? Is it part of some REST API? Although nothing happens without subscribe you should avoid calling it explicitly.","body":"It&#39;s very hard to answer the question correctly without knowing the context. How do you use this DTO? Is it part of some REST API? Although nothing happens without subscribe you should avoid calling it explicitly."}],"answers":[{"tags":[],"owner":{"account_id":3992180,"reputation":1524,"user_id":3290745,"display_name":"Tristate"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1666185941,"creation_date":1666185941,"answer_id":74126176,"question_id":74124117,"body_markdown":"Make your &quot;logic&quot; subscribe on this mono.\r\n\r\nOr\r\n\r\nExecute your &quot;logic&quot; inside subscribe body.\r\n\r\n    personMongoRepository.findByUserPrincipalNameIgnoreCaseAndIsActiveTrue(principalName)\r\n                            .subscribe(person -&gt; {\r\n                                personDTO.setPersonDepartment(person..getDepartment());\r\n    logic.start();\r\n                            });","title":"How to get result from Mono&lt;String&gt;","body":"<p>Make your &quot;logic&quot; subscribe on this mono.</p>\n<p>Or</p>\n<p>Execute your &quot;logic&quot; inside subscribe body.</p>\n<pre><code>personMongoRepository.findByUserPrincipalNameIgnoreCaseAndIsActiveTrue(principalName)\n                        .subscribe(person -&gt; {\n                            personDTO.setPersonDepartment(person..getDepartment());\nlogic.start();\n                        });\n</code></pre>\n"}],"owner":{"account_id":13364598,"reputation":119,"user_id":9645351,"display_name":"Oleksandr Onopriienko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666185941,"creation_date":1666176816,"question_id":74124117,"body_markdown":"I&#39;am not very familiar with reactive programming , but have a problem to deal with.\r\n\r\nFor example: \r\nI have an entity \r\n\r\n    public class PersonDTO {\r\n        private String personName;\r\n        private String personDepartment;\r\n    }\r\n\r\nAnd this repository \r\n\r\n    @Repository\r\n    public interface PersonEntityMongoRepository extends ReactiveMongoRepository&lt;PersonEntity, String&gt; {\r\n    \r\n        Mono&lt;Person&gt; findByUserPrincipalNameIgnoreCaseAndIsActiveTrue(String userPrincipalName);\r\n    \r\n    }\r\n\r\nThen I have the following logic:\r\n\r\n  \r\n\r\n    personMongoRepository.findByUserPrincipalNameIgnoreCaseAndIsActiveTrue(principalName)\r\n                            .subscribe(person -&gt; {\r\n                                personDTO.setPersonDepartment(person..getDepartment());\r\n                            });\r\n\r\nAfter this I have some logic that depends on PersonDTO.personDepartment field.\r\nBut this code can be lunched before Mono is done and line  personDTO.setPersonDepartment(person.getDepartment()) is executed \r\n\r\nSo, how can I get result from Mono , in order to have not null  PersonDTO.personDepartment field in next code steps?","title":"How to get result from Mono&lt;String&gt;","body":"<p>I'am not very familiar with reactive programming , but have a problem to deal with.</p>\n<p>For example:\nI have an entity</p>\n<pre><code>public class PersonDTO {\n    private String personName;\n    private String personDepartment;\n}\n</code></pre>\n<p>And this repository</p>\n<pre><code>@Repository\npublic interface PersonEntityMongoRepository extends ReactiveMongoRepository&lt;PersonEntity, String&gt; {\n\n    Mono&lt;Person&gt; findByUserPrincipalNameIgnoreCaseAndIsActiveTrue(String userPrincipalName);\n\n}\n</code></pre>\n<p>Then I have the following logic:</p>\n<pre><code>personMongoRepository.findByUserPrincipalNameIgnoreCaseAndIsActiveTrue(principalName)\n                        .subscribe(person -&gt; {\n                            personDTO.setPersonDepartment(person..getDepartment());\n                        });\n</code></pre>\n<p>After this I have some logic that depends on PersonDTO.personDepartment field.\nBut this code can be lunched before Mono is done and line  personDTO.setPersonDepartment(person.getDepartment()) is executed</p>\n<p>So, how can I get result from Mono , in order to have not null  PersonDTO.personDepartment field in next code steps?</p>\n"},{"tags":["java","android","android-studio","android-camera2"],"comments":[{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1666179144,"post_id":74123516,"comment_id":130873079,"body_markdown":"Have you enabled hardware acceleration?","body":"Have you enabled hardware acceleration?"},{"owner":{"account_id":18144463,"reputation":390,"user_id":13197940,"display_name":"Daniel"},"score":0,"creation_date":1666182215,"post_id":74123516,"comment_id":130874244,"body_markdown":"There are many possible reasons. Camera manager could be null (if the device has no cameras), but the list of cameraIds could also be empty.","body":"There are many possible reasons. Camera manager could be null (if the device has no cameras), but the list of cameraIds could also be empty."},{"owner":{"account_id":24698402,"reputation":31,"user_id":18590038,"display_name":"Salo"},"score":0,"creation_date":1666182464,"post_id":74123516,"comment_id":130874335,"body_markdown":"If you mean using hardware gpu for emulator, yes.","body":"If you mean using hardware gpu for emulator, yes."},{"owner":{"account_id":24698402,"reputation":31,"user_id":18590038,"display_name":"Salo"},"score":0,"creation_date":1666182816,"post_id":74123516,"comment_id":130874497,"body_markdown":"I tried to check if the list is empty with this. if (cameraManager.getCameraIdList() != null &amp;&amp; cameraManager.getCameraIdList().isEmpty()) {\n                Log.d(&quot;asd&quot;,&quot;LIST EMPTY!!!&quot;);\n            } But isEmpty method can not be resolved. How do i check this?","body":"I tried to check if the list is empty with this. if (cameraManager.getCameraIdList() != null &amp;&amp; cameraManager.getCameraIdList().isEmpty()) {                 Log.d(&quot;asd&quot;,&quot;LIST EMPTY!!!&quot;);             } But isEmpty method can not be resolved. How do i check this?"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1666185738,"post_id":74123516,"comment_id":130875767,"body_markdown":"No I mean the hardware acceleration in AndroidManifest. And also, some devices you need to instantiate camera manager in onResume() or onStart().","body":"No I mean the hardware acceleration in AndroidManifest. And also, some devices you need to instantiate camera manager in onResume() or onStart()."},{"owner":{"account_id":24698402,"reputation":31,"user_id":18590038,"display_name":"Salo"},"score":0,"creation_date":1666186099,"post_id":74123516,"comment_id":130875924,"body_markdown":"Oh, so doing it in onCreate() does not work for every device? I got the issue solved on my specific phone but if that&#39;s the case i ll have to look into that. Thanks for letting me know!","body":"Oh, so doing it in onCreate() does not work for every device? I got the issue solved on my specific phone but if that&#39;s the case i ll have to look into that. Thanks for letting me know!"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1666186364,"post_id":74123516,"comment_id":130876017,"body_markdown":"Yes or try instantiating TextureView on onResume instead. I can’t track this question anymore, you need to @ me here to notify me.","body":"Yes or try instantiating TextureView on onResume instead. I can’t track this question anymore, you need to @ me here to notify me."}],"answers":[{"tags":[],"owner":{"account_id":24698402,"reputation":31,"user_id":18590038,"display_name":"Salo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666185492,"creation_date":1666185492,"answer_id":74126064,"question_id":74123516,"body_markdown":"I found the cause; Like the idiot i am, i forgot to add camera permission request to the request line. Once this was added, the app would run perfectly fine. Although i have another question now; The first time i ran the app after adding the camera request, The permission request popped up on the screen and when i accepted it, the camera still wouldnt work for a few seconds then the app reset to the main activity by itself only then on the second try it would work normally. Why is that?\r\n\r\nA bit more detail; the app consists of several activities, the main activity is basically empty only with a button and speech recognition, it directs you to the camera activity where everything camera related takes place.","title":"NullPointerException Trouble using camera in android studio app","body":"<p>I found the cause; Like the idiot i am, i forgot to add camera permission request to the request line. Once this was added, the app would run perfectly fine. Although i have another question now; The first time i ran the app after adding the camera request, The permission request popped up on the screen and when i accepted it, the camera still wouldnt work for a few seconds then the app reset to the main activity by itself only then on the second try it would work normally. Why is that?</p>\n<p>A bit more detail; the app consists of several activities, the main activity is basically empty only with a button and speech recognition, it directs you to the camera activity where everything camera related takes place.</p>\n"}],"owner":{"account_id":24698402,"reputation":31,"user_id":18590038,"display_name":"Salo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666185563,"creation_date":1666173949,"question_id":74123516,"body_markdown":"Im trying to transmit phone&#39;s camera preview to a textureView in app. When i start the method i get the following error in logcat and the app crashes.\r\n\r\n&gt;Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.hardware.camera2.CaptureRequest$Builder android.hardware.camera2.CameraDevice.createCaptureRequest(int)&#39; on a null object reference\r\n\r\nThis is the code.\r\n```\r\ntry {\r\n            //[0] Usually is the back cam but may need to play with it.\r\n\r\n            ActivityCompat.requestPermissions(CameraActivity.this ,new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},PackageManager.PERMISSION_GRANTED);\r\n            Log.d(&quot;asd&quot;,&quot;here&quot;);\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\r\n                Log.d(&quot;asd&quot;,&quot;OOOOOPPPSs&quot;);\r\n                return;\r\n            }\r\n            Log.d(&quot;asd&quot;,&quot;BBBBBBBBBBBBBBBBBB&quot;);\r\n            cameraId=cameraManager.getCameraIdList()[0];\r\n            Log.d(&quot;asd&quot;,&quot;AAAAAAAAAAAAAAAAAAAAAAA&quot;);\r\n            cameraManager.openCamera(cameraId, stateCallbackForCamera, null);\r\n        }catch (Exception a){\r\n            a.printStackTrace();\r\n        } \r\n```\r\n\r\nThis is the log output i get.\r\n\r\n&gt;2022-10-19 12:56:06.227 11217-11217/com.example.testapp D/asd: here\r\n\r\n&gt;2022-10-19 12:56:06.227 11217-11217/com.example.testapp D/asd: OOOOOPPPSs\r\n\r\n\r\nIf i bypass the permission check by changing the if statement to \r\n\r\n```\r\nActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED\r\n```\r\n\r\nThe new log output i get becomes this\r\n&gt;2022-10-19 12:47:19.959 10777-10777/com.example.testapp D/asd: here\r\n\r\n&gt;2022-10-19 12:47:19.959 10777-10777/com.example.testapp D/asd: BBBBBBBBBBBBBBBBBB\r\n\r\nI have two questions, first; why does the permission check fail? (The app wont show popup to ask for permissions).\r\n\r\nSecond; I believe the code \r\n```\r\ncameraId=cameraManager.getCameraIdList()[0];\r\n```\r\nIs somehow breaking the app, why is that and how can i fix it? Perhaps cameraManager is null?\r\n\r\n\r\nThis is how the cameraManager is assigned, i took this from a video i saw and it was working fine for that person but im not familiar with these concepts so any help is appriciated.\r\n```\r\ncameraManager = (CameraManager) getSystemService(CAMERA_SERVICE);\r\n```\r\n\r\nEDIT: FOUND THE CAUSE AND FIX FOR MY OWN SITUATION, NOW RAN INTO ANOTHER QUESTION, CHECK MY FIRST ANSWER.\r\n","title":"NullPointerException Trouble using camera in android studio app","body":"<p>Im trying to transmit phone's camera preview to a textureView in app. When i start the method i get the following error in logcat and the app crashes.</p>\n<blockquote>\n<p>Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'android.hardware.camera2.CaptureRequest$Builder android.hardware.camera2.CameraDevice.createCaptureRequest(int)' on a null object reference</p>\n</blockquote>\n<p>This is the code.</p>\n<pre><code>try {\n            //[0] Usually is the back cam but may need to play with it.\n\n            ActivityCompat.requestPermissions(CameraActivity.this ,new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},PackageManager.PERMISSION_GRANTED);\n            Log.d(&quot;asd&quot;,&quot;here&quot;);\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\n                Log.d(&quot;asd&quot;,&quot;OOOOOPPPSs&quot;);\n                return;\n            }\n            Log.d(&quot;asd&quot;,&quot;BBBBBBBBBBBBBBBBBB&quot;);\n            cameraId=cameraManager.getCameraIdList()[0];\n            Log.d(&quot;asd&quot;,&quot;AAAAAAAAAAAAAAAAAAAAAAA&quot;);\n            cameraManager.openCamera(cameraId, stateCallbackForCamera, null);\n        }catch (Exception a){\n            a.printStackTrace();\n        } \n</code></pre>\n<p>This is the log output i get.</p>\n<blockquote>\n<p>2022-10-19 12:56:06.227 11217-11217/com.example.testapp D/asd: here</p>\n</blockquote>\n<blockquote>\n<p>2022-10-19 12:56:06.227 11217-11217/com.example.testapp D/asd: OOOOOPPPSs</p>\n</blockquote>\n<p>If i bypass the permission check by changing the if statement to</p>\n<pre><code>ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED\n</code></pre>\n<p>The new log output i get becomes this</p>\n<blockquote>\n<p>2022-10-19 12:47:19.959 10777-10777/com.example.testapp D/asd: here</p>\n</blockquote>\n<blockquote>\n<p>2022-10-19 12:47:19.959 10777-10777/com.example.testapp D/asd: BBBBBBBBBBBBBBBBBB</p>\n</blockquote>\n<p>I have two questions, first; why does the permission check fail? (The app wont show popup to ask for permissions).</p>\n<p>Second; I believe the code</p>\n<pre><code>cameraId=cameraManager.getCameraIdList()[0];\n</code></pre>\n<p>Is somehow breaking the app, why is that and how can i fix it? Perhaps cameraManager is null?</p>\n<p>This is how the cameraManager is assigned, i took this from a video i saw and it was working fine for that person but im not familiar with these concepts so any help is appriciated.</p>\n<pre><code>cameraManager = (CameraManager) getSystemService(CAMERA_SERVICE);\n</code></pre>\n<p>EDIT: FOUND THE CAUSE AND FIX FOR MY OWN SITUATION, NOW RAN INTO ANOTHER QUESTION, CHECK MY FIRST ANSWER.</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1666182145,"post_id":74124927,"comment_id":130874228,"body_markdown":"Even if this was possible, which I _think_ it isn&#39;t based on [the docs](https://projectlombok.org/features/GetterSetter), it would _definitely_ be a bad practice. A setter should set a field, any additional side-effects are unexpected and hard-to-understand by other developers. TooMuchMagicException. Just name your method `setNameAndSave()` and write it yourself if you really, really want to do this. The common way is to set all the fields, then call `repository.save(object)`.","body":"Even if this was possible, which I <i>think</i> it isn&#39;t based on <a href=\"https://projectlombok.org/features/GetterSetter\" rel=\"nofollow noreferrer\">the docs</a>, it would <i>definitely</i> be a bad practice. A setter should set a field, any additional side-effects are unexpected and hard-to-understand by other developers. TooMuchMagicException. Just name your method <code>setNameAndSave()</code> and write it yourself if you really, really want to do this. The common way is to set all the fields, then call <code>repository.save(object)</code>."},{"owner":{"account_id":24857577,"reputation":45,"user_id":18733729,"display_name":"Rubix327"},"score":0,"creation_date":1666182583,"post_id":74124927,"comment_id":130874387,"body_markdown":"@PetrJaneček The problem is that I have to have this &#39;save&#39; method for every single field. If I have like 30 fields in the class it is very cumbersome and annoying to create 30 setters. This &#39;save&#39; method just saves an updated field to the file, so it shouldn&#39;t be hard-to-understand by other developers.","body":"@PetrJaneček The problem is that I have to have this &#39;save&#39; method for every single field. If I have like 30 fields in the class it is very cumbersome and annoying to create 30 setters. This &#39;save&#39; method just saves an updated field to the file, so it shouldn&#39;t be hard-to-understand by other developers."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666185414,"creation_date":1666185414,"answer_id":74126042,"question_id":74124927,"body_markdown":"There is currently indeed no way to do this; `onMethod` isn&#39;t going to help either (SOURCE/DISCLAIMER: I&#39;m a core lombok dev).\r\n\r\nWe do have some plans to add such a thing, but before you go ahead and write a PullRequest to add such a feature, discuss it first. There are various ways to go here. The primary issue is syntax.\r\n\r\nYou can&#39;t put java code in an annotation (you can put it in a string but we veto such a move; your IDE is not going to help you, it&#39;s got the wrong syntax highlighting, and so on). You can&#39;t, unfortunately, put a method reference in an annotation either. You could put a string in there that mentions a method but we don&#39;t like that either (again, wrong colouring, no IDE autocomplete support).\r\n\r\nThat leaves magic naming (you make a method called `afterName`), but at that point lombok saves you nearly nothing, so why not just write the setter. A second option is to have a single &#39;validate&#39; method that is called after _any_ setter and is e.g. marked by an annotation. That&#39;s more the direction we&#39;re leaning into.\r\n\r\nThere&#39;s more to consider: Sometimes you&#39;d want to mutate the incoming value before assigning it, and the same mutation should be done in case you have a builder, or have a constructor that accepts this param, as well. Thus, we have:\r\n\r\n* Post-set actions after any setter _and_ construction, such as `save()`.\r\n* Pre-&quot;setting&quot;, validate and/or mutate, after any setter _and_ construction. For example, let&#39;s say you have a `setAge()` method and you want to throw an exception if someone attempts to pass a negative value. The set shouldn&#39;t even happen, so a post-set handler can&#39;t do the job (it&#39;d be too late, the object is already in an invalid state and you&#39;d want to avoid this). Complication: Given that we want to do this pre-setting the field, how does this method get the values, then?\r\n\r\nHopefully that illustrates why this feature isn&#39;t (yet) in lombok and why it&#39;s a matter of a simple PR to add it.\r\n","title":"How to run methods before and after Lombok @Setter","body":"<p>There is currently indeed no way to do this; <code>onMethod</code> isn't going to help either (SOURCE/DISCLAIMER: I'm a core lombok dev).</p>\n<p>We do have some plans to add such a thing, but before you go ahead and write a PullRequest to add such a feature, discuss it first. There are various ways to go here. The primary issue is syntax.</p>\n<p>You can't put java code in an annotation (you can put it in a string but we veto such a move; your IDE is not going to help you, it's got the wrong syntax highlighting, and so on). You can't, unfortunately, put a method reference in an annotation either. You could put a string in there that mentions a method but we don't like that either (again, wrong colouring, no IDE autocomplete support).</p>\n<p>That leaves magic naming (you make a method called <code>afterName</code>), but at that point lombok saves you nearly nothing, so why not just write the setter. A second option is to have a single 'validate' method that is called after <em>any</em> setter and is e.g. marked by an annotation. That's more the direction we're leaning into.</p>\n<p>There's more to consider: Sometimes you'd want to mutate the incoming value before assigning it, and the same mutation should be done in case you have a builder, or have a constructor that accepts this param, as well. Thus, we have:</p>\n<ul>\n<li>Post-set actions after any setter <em>and</em> construction, such as <code>save()</code>.</li>\n<li>Pre-&quot;setting&quot;, validate and/or mutate, after any setter <em>and</em> construction. For example, let's say you have a <code>setAge()</code> method and you want to throw an exception if someone attempts to pass a negative value. The set shouldn't even happen, so a post-set handler can't do the job (it'd be too late, the object is already in an invalid state and you'd want to avoid this). Complication: Given that we want to do this pre-setting the field, how does this method get the values, then?</li>\n</ul>\n<p>Hopefully that illustrates why this feature isn't (yet) in lombok and why it's a matter of a simple PR to add it.</p>\n"}],"owner":{"account_id":24857577,"reputation":45,"user_id":18733729,"display_name":"Rubix327"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74126042,"answer_count":1,"score":3,"last_activity_date":1666185414,"creation_date":1666180626,"question_id":74124927,"body_markdown":"I want some of my methods to run before and after the Lombok @Setter.\r\nFor example:\r\n\r\n    @Setter(after=&quot;save&quot;)\r\n    private String name;\r\n\r\nThis should run method called &quot;save&quot; after the original setter has assigned a value to the field.\r\nSo after compilation it should look like this:\r\n\r\n    public void setName(String name){\r\n        this.name = name;\r\n        this.save();\r\n    }\r\nMaybe there is something I could do with &quot;onMethod&quot; parameter? Sorry, I&#39;m not professional in annotations.","title":"How to run methods before and after Lombok @Setter","body":"<p>I want some of my methods to run before and after the Lombok @Setter.\nFor example:</p>\n<pre><code>@Setter(after=&quot;save&quot;)\nprivate String name;\n</code></pre>\n<p>This should run method called &quot;save&quot; after the original setter has assigned a value to the field.\nSo after compilation it should look like this:</p>\n<pre><code>public void setName(String name){\n    this.name = name;\n    this.save();\n}\n</code></pre>\n<p>Maybe there is something I could do with &quot;onMethod&quot; parameter? Sorry, I'm not professional in annotations.</p>\n"},{"tags":["java","rest-assured"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1666000859,"post_id":74070773,"comment_id":130823212,"body_markdown":"Check this part of the documentation to see if it helps: https://github.com/awaitility/awaitility/wiki/Usage#example-9---ignoring-exceptions","body":"Check this part of the documentation to see if it helps: <a href=\"https://github.com/awaitility/awaitility/wiki/Usage#example-9---ignoring-exceptions\" rel=\"nofollow noreferrer\">github.com/awaitility/awaitility/wiki/&hellip;</a>"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1666016836,"post_id":74070773,"comment_id":130829158,"body_markdown":"you can just wrap your call with try catch and handle timeouts. Awaitility is not designed to serve such needs.","body":"you can just wrap your call with try catch and handle timeouts. Awaitility is not designed to serve such needs."}],"answers":[{"comments":[{"owner":{"account_id":15622261,"reputation":1672,"user_id":11270766,"display_name":"Gaj Julije"},"score":0,"creation_date":1666298345,"post_id":74125749,"comment_id":130910406,"body_markdown":"Almost suitable. One thing I can not see in your answer and that is pull interval (something like fluent wait). But will try this solution tomorrow I hope","body":"Almost suitable. One thing I can not see in your answer and that is pull interval (something like fluent wait). But will try this solution tomorrow I hope"}],"tags":[],"owner":{"account_id":23057660,"reputation":477,"user_id":17173476,"display_name":"Vinz"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666185110,"creation_date":1666184333,"answer_id":74125749,"question_id":74070773,"body_markdown":"You can just use `java.util.concurrent` for what you described, no need for awaitility:\r\n```\r\nprivate Object invokeWithTimeout() {\r\n        ExecutorService execService = Executors.newSingleThreadExecutor();\r\n        Callable&lt;Object&gt; runWithTimeout = this::doYourThing; // Or your Lambda\r\n        Future&lt;Object&gt; result = execService.submit(runWithTimeout);\r\n        try {\r\n            return result.get(10, TimeUnit.SECONDS); //Set your Timeout here\r\n        } catch (TimeoutException | InterruptedException | ExecutionException e) {\r\n            result.cancel(true);            \r\n            return null;\r\n        }\r\n}\r\n```\r\n\r\nThis will return the result from `doYourThing()` or null, if the timeout is reached or another exception occurs.","title":"Wait for api response, if timout return null?","body":"<p>You can just use <code>java.util.concurrent</code> for what you described, no need for awaitility:</p>\n<pre><code>private Object invokeWithTimeout() {\n        ExecutorService execService = Executors.newSingleThreadExecutor();\n        Callable&lt;Object&gt; runWithTimeout = this::doYourThing; // Or your Lambda\n        Future&lt;Object&gt; result = execService.submit(runWithTimeout);\n        try {\n            return result.get(10, TimeUnit.SECONDS); //Set your Timeout here\n        } catch (TimeoutException | InterruptedException | ExecutionException e) {\n            result.cancel(true);            \n            return null;\n        }\n}\n</code></pre>\n<p>This will return the result from <code>doYourThing()</code> or null, if the timeout is reached or another exception occurs.</p>\n"}],"owner":{"account_id":15622261,"reputation":1672,"user_id":11270766,"display_name":"Gaj Julije"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74125749,"answer_count":1,"score":0,"last_activity_date":1666185110,"creation_date":1665757773,"question_id":74070773,"body_markdown":"The awaitility is from maven\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n        &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n```java\r\n   await().atMost(Duration.TEN_SECONDS)\r\n        .pollInterval(Duration.ONE_HUNDRED_MILLISECONDS)\r\n        .until(()-&gt; My Rest Call with response);\r\n```\r\nI want a way for if the timeout expires, will not be thrown an exception (do not know does it throw ex after time out),\r\ninstead, return null, or return a response if it exists.\r\nAnd I want to avoid that I make the call again in case the response is not empty inside the timeout interval (if possible).\r\n\r\nI do not know, why I find it complicated.:-)","title":"Wait for api response, if timout return null?","body":"<p>The awaitility is from maven</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n    &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>   await().atMost(Duration.TEN_SECONDS)\n        .pollInterval(Duration.ONE_HUNDRED_MILLISECONDS)\n        .until(()-&gt; My Rest Call with response);\n</code></pre>\n<p>I want a way for if the timeout expires, will not be thrown an exception (do not know does it throw ex after time out),\ninstead, return null, or return a response if it exists.\nAnd I want to avoid that I make the call again in case the response is not empty inside the timeout interval (if possible).</p>\n<p>I do not know, why I find it complicated.:-)</p>\n"},{"tags":["java","spring","filter"],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666185066,"creation_date":1657144075,"answer_id":72890212,"question_id":72887919,"body_markdown":"You can modify `doFilter()` in order to check if the requested URL belongs to the list of predefined excluded URLs, if so then just forward the request to the next filter or servlet in the chain, otherwise do whatever you want to do.\r\n\r\nHere is the code:\r\n\r\n    @Singleton\r\n    public class AppFilter implements Filter {\r\n    \r\n        private List&lt;String&gt; excludedUrls;\r\n    \r\n        @Override\r\n        public void init(FilterConfig filterConfig) throws ServletException {\r\n            excludedUrls = Arrays.asList(YOUR_LOGIN_URL);\r\n            Filter.super.init(filterConfig);\r\n        }\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n    String path = ((HttpServletRequest) servletRequest).getServletPath();\r\n            \r\n            if(!excludedUrls.contains(path))\r\n            {\r\n                // if url does not match your login url do what you want to do..\r\n            }\r\n            \r\n            // else forward the request to the next filter or servlet in the chain.\r\n            chain.doFilter(req, resp);\r\n        }\r\n    \r\n        @Override\r\n        public void destroy() {\r\n    \r\n        }\r\n    }\r\n\r\n","title":"how to allow access to login page without authentication from filter","body":"<p>You can modify <code>doFilter()</code> in order to check if the requested URL belongs to the list of predefined excluded URLs, if so then just forward the request to the next filter or servlet in the chain, otherwise do whatever you want to do.</p>\n<p>Here is the code:</p>\n<pre><code>@Singleton\npublic class AppFilter implements Filter {\n\n    private List&lt;String&gt; excludedUrls;\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n        excludedUrls = Arrays.asList(YOUR_LOGIN_URL);\n        Filter.super.init(filterConfig);\n    }\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\nString path = ((HttpServletRequest) servletRequest).getServletPath();\n        \n        if(!excludedUrls.contains(path))\n        {\n            // if url does not match your login url do what you want to do..\n        }\n        \n        // else forward the request to the next filter or servlet in the chain.\n        chain.doFilter(req, resp);\n    }\n\n    @Override\n    public void destroy() {\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10487879,"reputation":289,"user_id":8253322,"display_name":"Maher Ben Taleb Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666185066,"creation_date":1657129809,"question_id":72887919,"body_markdown":"the filter is always checking for authentication for the login page and I don&#39;t know how to configure it.\r\n\r\nhere is the **AppFilter.java** (I couldn&#39;t post all the code): \r\n\r\n```\r\n@Singleton\r\npublic class AppFilter implements Filter {\r\n  @Override\r\n  public void init(FilterConfig filterConfig) throws ServletException {\r\n    try {\r\n      final String appLocale = AppSettings.get().get(AvailableAppSettings.APPLICATION_LOCALE, null);\r\n      APP_LOCALE = appLocale == null ? null : new Locale(appLocale);\r\n    } catch (Exception e) {\r\n    }\r\n  }\r\n\r\n  public static String getBaseURL() {\r\n    return BASE_URL.get();\r\n  }\r\n\r\n  @Override\r\n  public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n      throws IOException, ServletException {\r\n\r\n    BASE_URL.set(computeBaseUrl(request));\r\n    LANGUAGE.set(request.getLocale());\r\n    try {\r\n      chain.doFilter(request, response);\r\n    } finally {\r\n      LANGUAGE.remove();\r\n      BASE_URL.remove();\r\n    }\r\n  }\r\n}\r\n\r\n```","title":"how to allow access to login page without authentication from filter","body":"<p>the filter is always checking for authentication for the login page and I don't know how to configure it.</p>\n<p>here is the <strong>AppFilter.java</strong> (I couldn't post all the code):</p>\n<pre><code>@Singleton\npublic class AppFilter implements Filter {\n  @Override\n  public void init(FilterConfig filterConfig) throws ServletException {\n    try {\n      final String appLocale = AppSettings.get().get(AvailableAppSettings.APPLICATION_LOCALE, null);\n      APP_LOCALE = appLocale == null ? null : new Locale(appLocale);\n    } catch (Exception e) {\n    }\n  }\n\n  public static String getBaseURL() {\n    return BASE_URL.get();\n  }\n\n  @Override\n  public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n      throws IOException, ServletException {\n\n    BASE_URL.set(computeBaseUrl(request));\n    LANGUAGE.set(request.getLocale());\n    try {\n      chain.doFilter(request, response);\n    } finally {\n      LANGUAGE.remove();\n      BASE_URL.remove();\n    }\n  }\n}\n\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1666162298,"post_id":74120925,"comment_id":130867159,"body_markdown":"Well, to get nested elements, especially if the depth can be variable, you&#39;d need to use either recursion or some stack. Since recursion is easier, have a look at this which should give you a hint on how to do it with streams: https://stackoverflow.com/questions/32656888/recursive-use-of-stream-flatmap","body":"Well, to get nested elements, especially if the depth can be variable, you&#39;d need to use either recursion or some stack. Since recursion is easier, have a look at this which should give you a hint on how to do it with streams: <a href=\"https://stackoverflow.com/questions/32656888/recursive-use-of-stream-flatmap\" title=\"recursive use of stream flatmap\">stackoverflow.com/questions/32656888/&hellip;</a>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1666162415,"post_id":74120925,"comment_id":130867198,"body_markdown":"Please also note that your question is of poor quality at the moment, e.g. you&#39;re basically just throwing code and data at us with the code not even being compilable. Thus it&#39;s hard to help in a more specific way. You might want to read [ask] and consider the following: we are putting time and effort into answering so we value this being appreciated by people putting effort into their questions as well.","body":"Please also note that your question is of poor quality at the moment, e.g. you&#39;re basically just throwing code and data at us with the code not even being compilable. Thus it&#39;s hard to help in a more specific way. You might want to read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and consider the following: we are putting time and effort into answering so we value this being appreciated by people putting effort into their questions as well."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1666162501,"post_id":74120925,"comment_id":130867232,"body_markdown":"Since the depth is arbitrary, streaming probably is not a good solution. You need to do traversal, either using [breadth-first search](https://en.wikipedia.org/wiki/Breadth-first_search) or [depth-first search](https://en.wikipedia.org/wiki/Depth-first_search), whichever you find easier to implement.","body":"Since the depth is arbitrary, streaming probably is not a good solution. You need to do traversal, either using <a href=\"https://en.wikipedia.org/wiki/Breadth-first_search\" rel=\"nofollow noreferrer\">breadth-first search</a> or <a href=\"https://en.wikipedia.org/wiki/Depth-first_search\" rel=\"nofollow noreferrer\">depth-first search</a>, whichever you find easier to implement."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1666163254,"post_id":74120925,"comment_id":130867443,"body_markdown":"What is this `samplejson.getchildmain()`? Are you using any library to convert the JSON to a POJO? Show your code.","body":"What is this <code>samplejson.getchildmain()</code>? Are you using any library to convert the JSON to a POJO? Show your code."},{"owner":{"account_id":26516885,"reputation":1,"user_id":20151260,"display_name":"Introvert"},"score":0,"creation_date":1666164362,"post_id":74120925,"comment_id":130867808,"body_markdown":"```\n*Note : I have included the class for reference* \n\n\n\npublic class samplejson {\n\n    private String id;\n\n    private List&lt;childmain&gt; orders = new ArrayList&lt;&gt;();\n\n    // getters &amp; setters\n}","body":"``` <i>Note : I have included the class for reference</i>     public class samplejson {      private String id;      private List&lt;childmain&gt; orders = new ArrayList&lt;&gt;();      // getters &amp; setters }"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1666175361,"post_id":74120925,"comment_id":130871768,"body_markdown":"@Introvert Add source code and new information to your question, not as a comment.","body":"@Introvert Add source code and new information to your question, not as a comment."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1666229302,"post_id":74120925,"comment_id":130888609,"body_markdown":"I would like to see the code that converts the JSON into samplejson Java class","body":"I would like to see the code that converts the JSON into samplejson Java class"}],"owner":{"account_id":26516885,"reputation":1,"user_id":20151260,"display_name":"Introvert"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666185032,"creation_date":1666161864,"question_id":74120925,"body_markdown":"Consider the following class\r\n\r\npublic class samplejson {\r\n\r\n    private String id;\r\n\r\n    private List&lt;childmain&gt; orders = new ArrayList&lt;&gt;();\r\n\r\n    // getters &amp; setters\r\n}\r\n```\r\nAfter setting values in the class the output is below :\r\n{\r\n  &quot;main&quot;: {\r\n    &quot;id&quot;: 1,\r\n    &quot;childmain&quot;: [\r\n      {\r\n        &quot;id&quot;: 2,\r\n        &quot;childmain&quot;: [\r\n          {\r\n            &quot;id&quot;: 3,\r\n            &quot;childmain&quot;: [\r\n\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        &quot;id&quot;: 4,\r\n        &quot;childmain&quot;: [\r\n          {\r\n            &quot;id&quot;: 5,\r\n            &quot;childmain&quot;: [\r\n              {\r\n                &quot;id&quot;: 6,\r\n                &quot;childmain&quot;: [\r\n\r\n                ]\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nQuestion: I want all the id in the child class in a list&lt;string&gt;. I have tried using streams . I got the id values of immediate child. I want the value of the nested child also.\r\n\r\nCode I tried:\r\n\r\n    List&lt;childmain&gt; somethings= samplejson.getchildmain();\r\n    List&lt;String&gt; cleanList = somethings.stream().map(somethings::getid)).collect(Collectors.toList());\r\n\r\n    Expected output: [2,3,4,5,6]\r\n    Actual output: [2,4]","title":"collect all nested values - Java","body":"<p>Consider the following class</p>\n<p>public class samplejson {</p>\n<pre><code>private String id;\n\nprivate List&lt;childmain&gt; orders = new ArrayList&lt;&gt;();\n\n// getters &amp; setters\n</code></pre>\n<p>}</p>\n<pre><code>After setting values in the class the output is below :\n{\n  &quot;main&quot;: {\n    &quot;id&quot;: 1,\n    &quot;childmain&quot;: [\n      {\n        &quot;id&quot;: 2,\n        &quot;childmain&quot;: [\n          {\n            &quot;id&quot;: 3,\n            &quot;childmain&quot;: [\n\n            ]\n          }\n        ]\n      },\n      {\n        &quot;id&quot;: 4,\n        &quot;childmain&quot;: [\n          {\n            &quot;id&quot;: 5,\n            &quot;childmain&quot;: [\n              {\n                &quot;id&quot;: 6,\n                &quot;childmain&quot;: [\n\n                ]\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  }\n}\n</code></pre>\n<p>Question: I want all the id in the child class in a list. I have tried using streams . I got the id values of immediate child. I want the value of the nested child also.</p>\n<p>Code I tried:</p>\n<pre><code>List&lt;childmain&gt; somethings= samplejson.getchildmain();\nList&lt;String&gt; cleanList = somethings.stream().map(somethings::getid)).collect(Collectors.toList());\n\nExpected output: [2,3,4,5,6]\nActual output: [2,4]\n</code></pre>\n"},{"tags":["java","polymorphism"],"answers":[{"tags":[],"owner":{"account_id":22328054,"reputation":11,"user_id":16549747,"display_name":"Olle2411s"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666174883,"creation_date":1666174883,"answer_id":74123727,"question_id":74123644,"body_markdown":"Split the current line by space or &quot;\\\\s+&quot; regex, check if the length is 3, then use the double.parse function from the double object on the 2nd and 3rd element in the array. ","title":"Use of java.txt files, polymorphism and delimiters","body":"<p>Split the current line by space or &quot;\\s+&quot; regex, check if the length is 3, then use the double.parse function from the double object on the 2nd and 3rd element in the array.</p>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666184984,"creation_date":1666184984,"answer_id":74125939,"question_id":74123644,"body_markdown":"It is unclear what role polymorphism is supposed to have here.\r\n\r\nAssuming that each row represents a record and each record has the same form then we can parse each row in an identical fashion.  That allows you to extract the numeric values using the parse methods in the appropriate Number classes.\r\n\r\nFor instance...\r\n\r\n    while(scan.hasNextLine()) {\r\n      String line = scan.nextLine());\r\n      String[] tokens = line.split(&quot; &quot;);\r\n      String name = tokens[0];\r\n      int amount = Integer.parse(tokens[1]);\r\n      double value = Double.parse(tokens[2]);\r\n    }\r\n\r\n*p.s. obligatory comment that you shouldn&#39;t represent money in floating point variables.*","title":"Use of java.txt files, polymorphism and delimiters","body":"<p>It is unclear what role polymorphism is supposed to have here.</p>\n<p>Assuming that each row represents a record and each record has the same form then we can parse each row in an identical fashion.  That allows you to extract the numeric values using the parse methods in the appropriate Number classes.</p>\n<p>For instance...</p>\n<pre><code>while(scan.hasNextLine()) {\n  String line = scan.nextLine());\n  String[] tokens = line.split(&quot; &quot;);\n  String name = tokens[0];\n  int amount = Integer.parse(tokens[1]);\n  double value = Double.parse(tokens[2]);\n}\n</code></pre>\n<p><em>p.s. obligatory comment that you shouldn't represent money in floating point variables.</em></p>\n"}],"owner":{"account_id":26330686,"reputation":1,"user_id":19991198,"display_name":"Curtis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666212289,"answer_count":2,"score":0,"last_activity_date":1666184984,"creation_date":1666174480,"question_id":74123644,"body_markdown":"I need to read from a text file in java and pass that information through a polymorphic method. My idea is a CryptoWallet in a .txt file reading as coin, amount and value, where in the text file its represented as Bitcoin 100 1.25.\r\n\r\nIve got the code reading from the file and printing it, as below.\r\n\r\n    public class CryptoCurrencies\r\n\r\n    public static void main (String[] args) throws IOException\r\n    {   \r\n        \r\n        System.out.println(&quot;Welcome to your Crypto Wallet&quot;\r\n                            + &quot;\\nCurrently, you only own one coin.&quot;);\r\n                            \r\n        File CryptoWallet = new File(&quot;/Users/curti/OneDrive/Desktop/crypto.txt&quot;);\r\n        Scanner scan = new Scanner(CryptoWallet);\r\n        \r\n        String fileContent = &quot; &quot;;\r\n        \r\n        while(scan.hasNextLine())\r\n        {\r\n            System.out.println(scan.nextLine());\r\n            continue;\r\n        }\r\n\r\nMy main issue is actually getting the text file too recognise the numbers as doubles and variables, and assigning them to run through a polymorphic method. I understand the polymorphism side, but if anyone has any ideas for a possible polymorphic method id really appreciate it, having trouble thinking at the moment!\r\n\r\nThanks everyone.","title":"Use of java.txt files, polymorphism and delimiters","body":"<p>I need to read from a text file in java and pass that information through a polymorphic method. My idea is a CryptoWallet in a .txt file reading as coin, amount and value, where in the text file its represented as Bitcoin 100 1.25.</p>\n<p>Ive got the code reading from the file and printing it, as below.</p>\n<pre><code>public class CryptoCurrencies\n\npublic static void main (String[] args) throws IOException\n{   \n    \n    System.out.println(&quot;Welcome to your Crypto Wallet&quot;\n                        + &quot;\\nCurrently, you only own one coin.&quot;);\n                        \n    File CryptoWallet = new File(&quot;/Users/curti/OneDrive/Desktop/crypto.txt&quot;);\n    Scanner scan = new Scanner(CryptoWallet);\n    \n    String fileContent = &quot; &quot;;\n    \n    while(scan.hasNextLine())\n    {\n        System.out.println(scan.nextLine());\n        continue;\n    }\n</code></pre>\n<p>My main issue is actually getting the text file too recognise the numbers as doubles and variables, and assigning them to run through a polymorphic method. I understand the polymorphism side, but if anyone has any ideas for a possible polymorphic method id really appreciate it, having trouble thinking at the moment!</p>\n<p>Thanks everyone.</p>\n"},{"tags":["java","spring","serialization"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1660137100,"post_id":73305927,"comment_id":129461464,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comments":[{"owner":{"account_id":26028272,"reputation":1,"user_id":19734885,"display_name":"Fares Salhi"},"score":0,"creation_date":1660133553,"post_id":73306047,"comment_id":129460036,"body_markdown":"Thanks for your response. The problem is that I want the scheme to be like this ```ChoicesResponseDTO{\n    type    string\n    idR integer($int64)\n    choicesResponseType stringEnum:\n    Array [ 3 ]\n    idQ integer($int64);\n   \n} ```","body":"Thanks for your response. The problem is that I want the scheme to be like this <code>ChoicesResponseDTO{     type    string     idR integer($int64)     choicesResponseType stringEnum:     Array [ 3 ]     idQ integer($int64);     } </code>"},{"owner":{"account_id":26012626,"reputation":11,"user_id":19721447,"display_name":"MathTheJinx"},"score":0,"creation_date":1660153338,"post_id":73306047,"comment_id":129467874,"body_markdown":"I think that you have to write an other DTO with an Id instead of full Question","body":"I think that you have to write an other DTO with an Id instead of full Question"},{"owner":{"account_id":26028272,"reputation":1,"user_id":19734885,"display_name":"Fares Salhi"},"score":0,"creation_date":1660161012,"post_id":73306047,"comment_id":129470281,"body_markdown":"Well that&#39;s the problem of mapping between a DTO and id. I tried with modelMapper but didn&#39;t work.","body":"Well that&#39;s the problem of mapping between a DTO and id. I tried with modelMapper but didn&#39;t work."}],"tags":[],"owner":{"account_id":26012626,"reputation":11,"user_id":19721447,"display_name":"MathTheJinx"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666184745,"creation_date":1660133137,"answer_id":73306047,"question_id":73305927,"body_markdown":"Lombok annotations @AllArgsConstructor @NoArgsConstructor generates constructors for you:\r\n\r\n    public ChoicesResponseDTO(Long idR, ChoicesResponseType choicesResponseType, QuestionDTO questionDTO)\r\n\r\n    public ChoicesResponseDTO();\r\n\r\nIf you want :\r\n\r\n    public ChoicesResponseDTO(Long idR)\r\n\r\ncode it yourself or set idR as NonNull or final and add `@RequiredArgsConstructor` to your class (not compatible with `@NoArgsConstructor` I guess).","title":"Problem in Serialization java spring boot","body":"<p>Lombok annotations @AllArgsConstructor @NoArgsConstructor generates constructors for you:</p>\n<pre><code>public ChoicesResponseDTO(Long idR, ChoicesResponseType choicesResponseType, QuestionDTO questionDTO)\n\npublic ChoicesResponseDTO();\n</code></pre>\n<p>If you want :</p>\n<pre><code>public ChoicesResponseDTO(Long idR)\n</code></pre>\n<p>code it yourself or set idR as NonNull or final and add <code>@RequiredArgsConstructor</code> to your class (not compatible with <code>@NoArgsConstructor</code> I guess).</p>\n"}],"owner":{"account_id":26028272,"reputation":1,"user_id":19734885,"display_name":"Fares Salhi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666184745,"creation_date":1660132697,"question_id":73305927,"body_markdown":"I have a problem in serialization. \r\n\r\nThis is my DTO class:\r\n```\r\n@Data @AllArgsConstructor @NoArgsConstructor\r\npublic class ChoicesResponseDTO extends ResponseDTO {\r\n\r\n\tprivate Long idR;\r\n\tprivate ChoicesResponseType choicesResponseType;\r\n\tprivate QuestionDTO questionDTO;\r\n} \r\n```\r\n\r\nand this is my scheme from swagger:\r\n```\r\nChoicesResponseDTO{\r\n    type\tstring\r\n    idR\tinteger($int64)\r\n    choicesResponseType\tstringEnum:\r\n    Array [ 3 ]\r\n    questionDTO\tQuestionDTO{\r\n         idQ\tinteger($int64)\r\n         contentQ\tstring\r\n         ordreQ\tinteger($int32)\r\n    }\r\n}\r\n```\r\nThe problem that if I want to add a new ChoicesDTO, it asks me to add a whole new question in it but I just want to add only the id of the question.\r\n\r\nThanks.","title":"Problem in Serialization java spring boot","body":"<p>I have a problem in serialization.</p>\n<p>This is my DTO class:</p>\n<pre><code>@Data @AllArgsConstructor @NoArgsConstructor\npublic class ChoicesResponseDTO extends ResponseDTO {\n\n    private Long idR;\n    private ChoicesResponseType choicesResponseType;\n    private QuestionDTO questionDTO;\n} \n</code></pre>\n<p>and this is my scheme from swagger:</p>\n<pre><code>ChoicesResponseDTO{\n    type    string\n    idR integer($int64)\n    choicesResponseType stringEnum:\n    Array [ 3 ]\n    questionDTO QuestionDTO{\n         idQ    integer($int64)\n         contentQ   string\n         ordreQ integer($int32)\n    }\n}\n</code></pre>\n<p>The problem that if I want to add a new ChoicesDTO, it asks me to add a whole new question in it but I just want to add only the id of the question.</p>\n<p>Thanks.</p>\n"},{"tags":["java","android","apache-commons","apache-commons-io"],"answers":[{"tags":[],"owner":{"account_id":10024511,"reputation":1639,"user_id":7413066,"display_name":"Ali Asjad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662354826,"creation_date":1662354826,"answer_id":73604739,"question_id":73604534,"body_markdown":"Internally commons-io is using ThreadLocal#withInitial API which is not part of [desugared library][1], hence the method is not available on API levels lower than 26 (Android OREO)\r\n\r\n\r\nTo read more about this you can read the discussion of [this thread][2] on google issue tracker.\r\n\r\n**Solution:** \r\n\r\nWe can use the previous versions of commons-io which are not using the ThreadLocal API. So i ended up using `implementation &#39;commons-io:commons-io:2.5&#39;`\r\n\r\n\r\n  [1]: https://developer.android.com/studio/write/java8-support-table\r\n  [2]: https://issuetracker.google.com/issues/160484830","title":"No static method ThreadLocal.withInitial() : commons-io dependency","body":"<p>Internally commons-io is using ThreadLocal#withInitial API which is not part of <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">desugared library</a>, hence the method is not available on API levels lower than 26 (Android OREO)</p>\n<p>To read more about this you can read the discussion of <a href=\"https://issuetracker.google.com/issues/160484830\" rel=\"nofollow noreferrer\">this thread</a> on google issue tracker.</p>\n<p><strong>Solution:</strong></p>\n<p>We can use the previous versions of commons-io which are not using the ThreadLocal API. So i ended up using <code>implementation 'commons-io:commons-io:2.5'</code></p>\n"},{"tags":[],"owner":{"account_id":24479754,"reputation":41,"user_id":18398332,"display_name":"prem"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666184301,"creation_date":1666184301,"answer_id":74125741,"question_id":73604534,"body_markdown":"You can downgrade the library to version &#39;2.8.0&#39; as after this version they are using ThreadLocal which is not supported in android 7.\r\n\r\nSo just use this in app/build.gradle \r\n\r\n     implementation &#39;commons-io:commons-io:2.8.0&#39;","title":"No static method ThreadLocal.withInitial() : commons-io dependency","body":"<p>You can downgrade the library to version '2.8.0' as after this version they are using ThreadLocal which is not supported in android 7.</p>\n<p>So just use this in app/build.gradle</p>\n<pre><code> implementation 'commons-io:commons-io:2.8.0'\n</code></pre>\n"}],"owner":{"account_id":10024511,"reputation":1639,"user_id":7413066,"display_name":"Ali Asjad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666184301,"creation_date":1662352003,"question_id":73604534,"body_markdown":"I am using commons-io dependency in my Android Studio project.\r\n \r\n`implementation &#39;commons-io:commons-io:2.11.0&#39;`\r\n\r\nBut I am seeing these weird crashes in Crashlytics. These crashes are showing up on Android 7 and below.\r\n\r\n    Fatal Exception: java.lang.NoSuchMethodError: No static method withInitial(Ljava/util/function/Supplier;)Ljava/lang/ThreadLocal; in class Ljava/lang/ThreadLocal; or its super classes (declaration of &#39;java.lang.ThreadLocal&#39; appears in /system/framework/core-oj.jar)\r\n       at org.apache.commons.io.IOUtils.&lt;clinit&gt;(IOUtils.java:183)\r\n       at org.apache.commons.io.IOUtils.closeQuietly(IOUtils.java:534)\r\n\r\nI have also included Java 8 compatibility in my project.\r\n\r\n    android {\r\n\r\n    ...\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    kotlinOptions {\r\n            jvmTarget = &quot;1.8&quot;\r\n        }\r\n    }\r\n\r\n","title":"No static method ThreadLocal.withInitial() : commons-io dependency","body":"<p>I am using commons-io dependency in my Android Studio project.</p>\n<p><code>implementation 'commons-io:commons-io:2.11.0'</code></p>\n<p>But I am seeing these weird crashes in Crashlytics. These crashes are showing up on Android 7 and below.</p>\n<pre><code>Fatal Exception: java.lang.NoSuchMethodError: No static method withInitial(Ljava/util/function/Supplier;)Ljava/lang/ThreadLocal; in class Ljava/lang/ThreadLocal; or its super classes (declaration of 'java.lang.ThreadLocal' appears in /system/framework/core-oj.jar)\n   at org.apache.commons.io.IOUtils.&lt;clinit&gt;(IOUtils.java:183)\n   at org.apache.commons.io.IOUtils.closeQuietly(IOUtils.java:534)\n</code></pre>\n<p>I have also included Java 8 compatibility in my project.</p>\n<pre><code>android {\n\n...\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n\nkotlinOptions {\n        jvmTarget = &quot;1.8&quot;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","illegalstateexception","huawei-developers"],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666184042,"creation_date":1665623147,"answer_id":74049444,"question_id":74042208,"body_markdown":"After having found the &quot;Export&quot; button (the screenshot in the documentation doesn&#39;t match the GUI, where it can be found inside the menu), I&#39;ve also found the `ObjectTypeInfoHelper.java` in the downloaded zip file. Working code for reference:\r\n\r\n    private AGConnectCloudDB db;\r\n    private CloudDBZone zone;\r\n\r\n    private final CloudDBZoneConfig.CloudDBZoneSyncProperty syncProperty =\r\n            CloudDBZoneConfig.CloudDBZoneSyncProperty.CLOUDDBZONE_CLOUD_CACHE;\r\n\r\n    private final CloudDBZoneConfig.CloudDBZoneAccessProperty accessProperty =\r\n            CloudDBZoneConfig.CloudDBZoneAccessProperty.CLOUDDBZONE_PUBLIC;\r\n\r\n    private final CloudDBZoneQuery.CloudDBZoneQueryPolicy queryPolicy =\r\n            CloudDBZoneQuery.CloudDBZoneQueryPolicy.POLICY_QUERY_DEFAULT;\r\n\r\n    /** class ObjectTypeInfoHelper originates from the downloaded zip file. */\r\n    public void openCloudDBZone(String zoneName, boolean isAllowToCreate) {\r\n        try {\r\n            CloudDBZoneConfig config = new CloudDBZoneConfig(zoneName, syncProperty, accessProperty);\r\n            this.db = AGConnectCloudDB.getInstance(AGConnectInstance.getInstance(), AGConnectAuth.getInstance());\r\n            this.db.createObjectType(ObjectTypeInfoHelper.getObjectTypeInfo());\r\n            this.db.openCloudDBZone2(config, isAllowToCreate)\r\n                    .addOnSuccessListener(cloudDBZone -&gt; {\r\n                        Log.d(LOG_TAG, &quot;CloudDBZone opened: &quot; + zoneName);\r\n                        zone = cloudDBZone;\r\n                    }).addOnFailureListener(e -&gt; {\r\n                        Log.e(LOG_TAG, e.getMessage());\r\n                    });\r\n        } catch (AGConnectCloudDBException e) {\r\n            Log.e(LOG_TAG, e.getMessage());\r\n        }\r\n    }\r\n\r\n    public void closeCloudDBZone() {\r\n        try {\r\n            this.db.closeCloudDBZone(this.zone);\r\n            Log.d(LOG_TAG, &quot;CloudDBZone closed.&quot;);\r\n        } catch (AGConnectCloudDBException e) {\r\n            Log.w(LOG_TAG, e.getMessage());\r\n        }\r\n    }\r\n\r\nThe difference is `ObjectTypeInfoHelper.getObjectTypeInfo()`.\r\n\r\n ---\r\n\r\nAnd I&#39;ve also wrote a `TypeConverter`, which converts `CloudDBZoneObject` to `BaseObservable`  (read) and `BaseObservable` to `CloudDBZoneObject` (write). Alike this data-binding isn&#39;t an issue anymore.\r\n","title":"Failed to open the CloudDBZone because the object type has not been created","body":"<p>After having found the &quot;Export&quot; button (the screenshot in the documentation doesn't match the GUI, where it can be found inside the menu), I've also found the <code>ObjectTypeInfoHelper.java</code> in the downloaded zip file. Working code for reference:</p>\n<pre><code>private AGConnectCloudDB db;\nprivate CloudDBZone zone;\n\nprivate final CloudDBZoneConfig.CloudDBZoneSyncProperty syncProperty =\n        CloudDBZoneConfig.CloudDBZoneSyncProperty.CLOUDDBZONE_CLOUD_CACHE;\n\nprivate final CloudDBZoneConfig.CloudDBZoneAccessProperty accessProperty =\n        CloudDBZoneConfig.CloudDBZoneAccessProperty.CLOUDDBZONE_PUBLIC;\n\nprivate final CloudDBZoneQuery.CloudDBZoneQueryPolicy queryPolicy =\n        CloudDBZoneQuery.CloudDBZoneQueryPolicy.POLICY_QUERY_DEFAULT;\n\n/** class ObjectTypeInfoHelper originates from the downloaded zip file. */\npublic void openCloudDBZone(String zoneName, boolean isAllowToCreate) {\n    try {\n        CloudDBZoneConfig config = new CloudDBZoneConfig(zoneName, syncProperty, accessProperty);\n        this.db = AGConnectCloudDB.getInstance(AGConnectInstance.getInstance(), AGConnectAuth.getInstance());\n        this.db.createObjectType(ObjectTypeInfoHelper.getObjectTypeInfo());\n        this.db.openCloudDBZone2(config, isAllowToCreate)\n                .addOnSuccessListener(cloudDBZone -&gt; {\n                    Log.d(LOG_TAG, &quot;CloudDBZone opened: &quot; + zoneName);\n                    zone = cloudDBZone;\n                }).addOnFailureListener(e -&gt; {\n                    Log.e(LOG_TAG, e.getMessage());\n                });\n    } catch (AGConnectCloudDBException e) {\n        Log.e(LOG_TAG, e.getMessage());\n    }\n}\n\npublic void closeCloudDBZone() {\n    try {\n        this.db.closeCloudDBZone(this.zone);\n        Log.d(LOG_TAG, &quot;CloudDBZone closed.&quot;);\n    } catch (AGConnectCloudDBException e) {\n        Log.w(LOG_TAG, e.getMessage());\n    }\n}\n</code></pre>\n<p>The difference is <code>ObjectTypeInfoHelper.getObjectTypeInfo()</code>.</p>\n<hr />\n<p>And I've also wrote a <code>TypeConverter</code>, which converts <code>CloudDBZoneObject</code> to <code>BaseObservable</code>  (read) and <code>BaseObservable</code> to <code>CloudDBZoneObject</code> (write). Alike this data-binding isn't an issue anymore.</p>\n"}],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74049444,"answer_count":1,"score":0,"last_activity_date":1666184042,"creation_date":1665579406,"question_id":74042208,"body_markdown":"I&#39;m trying to open an (existing) `AGConnectCloudDB` `CloudDBZone` with Android Java:\r\n\r\n    public void openCloudDBZone(String regionName, boolean isAllowToCreate) {\r\n        CloudDBZoneConfig config = new CloudDBZoneConfig(regionName, syncProperty, accessProperty);\r\n        this.db = AGConnectCloudDB.getInstance(AGConnectInstance.getInstance(), AGConnectAuth.getInstance());\r\n        this.db.openCloudDBZone2(config, isAllowToCreate)\r\n                .addOnSuccessListener(cloudDBZone -&gt; {\r\n                    zone = cloudDBZone;\r\n                }).addOnFailureListener(e -&gt; {\r\n                    Log.e(LOG_TAG, e.getMessage());\r\n                });\r\n    }\r\n\r\nThis fails with an `IllegalStateException` from `com.huawei.hmf.tasks`:\r\n\r\n&gt; Failed to open the CloudDBZone because the object type has not been created.\r\n\r\nI&#39;ve defined the object-types in the AGConnect console and also as `CloudDBZoneObject`.&lt;br/&gt;\r\nVersion number is `1.5.4.300`, which has `ObjectTypeInfo` but no `ObjectTypeInfoHelper`:\r\n\r\n    implementation &#39;com.huawei.agconnect:agconnect-cloud-database:1.5.4.300&#39;\r\n\r\nWhat does this error message mean and what to do about it?\r\n\r\n\r\n\r\n","title":"Failed to open the CloudDBZone because the object type has not been created","body":"<p>I'm trying to open an (existing) <code>AGConnectCloudDB</code> <code>CloudDBZone</code> with Android Java:</p>\n<pre><code>public void openCloudDBZone(String regionName, boolean isAllowToCreate) {\n    CloudDBZoneConfig config = new CloudDBZoneConfig(regionName, syncProperty, accessProperty);\n    this.db = AGConnectCloudDB.getInstance(AGConnectInstance.getInstance(), AGConnectAuth.getInstance());\n    this.db.openCloudDBZone2(config, isAllowToCreate)\n            .addOnSuccessListener(cloudDBZone -&gt; {\n                zone = cloudDBZone;\n            }).addOnFailureListener(e -&gt; {\n                Log.e(LOG_TAG, e.getMessage());\n            });\n}\n</code></pre>\n<p>This fails with an <code>IllegalStateException</code> from <code>com.huawei.hmf.tasks</code>:</p>\n<blockquote>\n<p>Failed to open the CloudDBZone because the object type has not been created.</p>\n</blockquote>\n<p>I've defined the object-types in the AGConnect console and also as <code>CloudDBZoneObject</code>.<br/>\nVersion number is <code>1.5.4.300</code>, which has <code>ObjectTypeInfo</code> but no <code>ObjectTypeInfoHelper</code>:</p>\n<pre><code>implementation 'com.huawei.agconnect:agconnect-cloud-database:1.5.4.300'\n</code></pre>\n<p>What does this error message mean and what to do about it?</p>\n"},{"tags":["java","json","gson","deepl"],"answers":[{"comments":[{"owner":{"account_id":24628834,"reputation":63,"user_id":18528284,"display_name":"lsa"},"score":0,"creation_date":1665685157,"post_id":74053971,"comment_id":130762893,"body_markdown":"Thanks for the rapid reply. Is it also possible to add a feature such as `Translator.isAuthKeyValid(&quot;key&quot;);`  to the class Translator?","body":"Thanks for the rapid reply. Is it also possible to add a feature such as <code>Translator.isAuthKeyValid(&quot;key&quot;);</code>  to the class Translator?"},{"owner":{"account_id":20848791,"reputation":116,"user_id":15313779,"display_name":"Daniel Jones"},"score":0,"creation_date":1666183842,"post_id":74053971,"comment_id":130874939,"body_markdown":"Sorry, I should have been clearer before: the Java client throws a JsonSyntaxException due to a bug; this bug is fixed in version 0.2.1. With that bug fixed the error response should be more helpful.\n\nHowever I am not sure why your input HTML was rejected in the first place, and I wasn&#39;t able to reproduce it yet. Can you share a minimal example input that triggers the error?","body":"Sorry, I should have been clearer before: the Java client throws a JsonSyntaxException due to a bug; this bug is fixed in version 0.2.1. With that bug fixed the error response should be more helpful.  However I am not sure why your input HTML was rejected in the first place, and I wasn&#39;t able to reproduce it yet. Can you share a minimal example input that triggers the error?"}],"tags":[],"owner":{"account_id":20848791,"reputation":116,"user_id":15313779,"display_name":"Daniel Jones"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666183942,"creation_date":1665655687,"answer_id":74053971,"question_id":74053063,"body_markdown":"I&#39;m a maintainer of the DeepL Java client library.\r\n\r\nThis problem seems to be caused by a bug in the Java client: the HTTP response is assumed to be valid JSON and this exception is thrown because the response was not valid. I&#39;ll work on a fix to the client, and update when it&#39;s released.\r\n\r\nEdit 19.10.2022: A bug causing JsonSyntaxException to be thrown is fixed in v0.2.1, however the underlying issue is still unknown.","title":"Why Deepl can&#39;t exclude jpg images while translating html text?","body":"<p>I'm a maintainer of the DeepL Java client library.</p>\n<p>This problem seems to be caused by a bug in the Java client: the HTTP response is assumed to be valid JSON and this exception is thrown because the response was not valid. I'll work on a fix to the client, and update when it's released.</p>\n<p>Edit 19.10.2022: A bug causing JsonSyntaxException to be thrown is fixed in v0.2.1, however the underlying issue is still unknown.</p>\n"},{"tags":[],"owner":{"account_id":24628834,"reputation":63,"user_id":18528284,"display_name":"lsa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665687291,"creation_date":1665687291,"answer_id":74060513,"question_id":74053063,"body_markdown":"As @Daniel Jones mentioned it is a bug that Deepl going to fix it.\r\n\r\nTo work around this until the definitive Deepl solution, I did the following.\r\n\r\n 1. Extracted all `&lt;img src =&quot;&quot; /&gt;` tags from `HTML text` and put them into a hash map with a  dynamically created `&lt;ignoreImage&gt; image1&lt;/ignoreImage&gt;` tags as key and the original `&lt;img src =&quot;&quot; /&gt;` tags as value `Map&lt;String,String&gt; imageTagMap = new HashMap();`\r\n\r\n2. Replaced all `&lt;img /&gt;` tags with `&lt;ignoreImage&gt;image1&lt;/ignoreImage&gt;` tags in my `HTML text`\r\n\r\n3. Translated the text and after getting translation result replaced the `&lt;ignoreImage&gt;image1&lt;/ignoreImage&gt;` tags with the original tags according to my `imageTagMap` .\r\n\r\nI think this solution can also be used in Deepl java lib to avoid unnecessary image transport over the network to their server.","title":"Why Deepl can&#39;t exclude jpg images while translating html text?","body":"<p>As @Daniel Jones mentioned it is a bug that Deepl going to fix it.</p>\n<p>To work around this until the definitive Deepl solution, I did the following.</p>\n<ol>\n<li><p>Extracted all <code>&lt;img src =&quot;&quot; /&gt;</code> tags from <code>HTML text</code> and put them into a hash map with a  dynamically created <code>&lt;ignoreImage&gt; image1&lt;/ignoreImage&gt;</code> tags as key and the original <code>&lt;img src =&quot;&quot; /&gt;</code> tags as value <code>Map&lt;String,String&gt; imageTagMap = new HashMap();</code></p>\n</li>\n<li><p>Replaced all <code>&lt;img /&gt;</code> tags with <code>&lt;ignoreImage&gt;image1&lt;/ignoreImage&gt;</code> tags in my <code>HTML text</code></p>\n</li>\n<li><p>Translated the text and after getting translation result replaced the <code>&lt;ignoreImage&gt;image1&lt;/ignoreImage&gt;</code> tags with the original tags according to my <code>imageTagMap</code> .</p>\n</li>\n</ol>\n<p>I think this solution can also be used in Deepl java lib to avoid unnecessary image transport over the network to their server.</p>\n"}],"owner":{"account_id":24628834,"reputation":63,"user_id":18528284,"display_name":"lsa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74060513,"answer_count":2,"score":0,"last_activity_date":1666183942,"creation_date":1665651445,"question_id":74053063,"body_markdown":"I use Deepl for translating HTML text. If I have a `.gif` file in my HTML it is okay but if I use `.jpg` I get the following error. I know `Deepl` uses `gson` in his lib but don&#39;t know how to solve it, I am wondering if any Deepl guys know about this issue?\r\nI use Deepl java lib.\r\n\r\n**Any solution welcome in advance?**\r\n\r\n**Error location in the code:**\r\n\r\n            boolean failed = false;\r\n    \t\tString translationResult = &quot;&quot;;\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tTextResult result = translator.translateText( text, source, target, translationOptions );\r\n    \t\t\ttranslationResult = result.getText( );\r\n    \t\t}\r\n    \t\tcatch (IllegalStateException | JsonSyntaxException exception)\r\n    \t\t{\r\n    \t\t  failed = true;\r\n    \t\t  //...\r\n    \t\t  exception.printStackTrace( );\r\n    \t\t  Show.error( &quot;failded&quot;+ exception.getMessage( ) +&quot;\\n&quot;+ exception.getCause( ) );\r\n    \t\t}\r\n    \t\t\r\n    \t\tif(failed) {\r\n    \t\t\tShow.error( &quot;failded&quot; );\r\n    \t\t}\r\n\r\n**Error**\r\n\r\n\r\n    com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $\r\n    13/10/2022 10:22:45,483 [AWT-EventQueue-0] ERROR [JBroker] User Message: faildedjava.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $\r\n    java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:225)\r\n    \tat com.google.gson.Gson.fromJson(Gson.java:991)\r\n    \tat com.google.gson.Gson.fromJson(Gson.java:956)\r\n    \tat com.google.gson.Gson.fromJson(Gson.java:905)\r\n    \tat com.google.gson.Gson.fromJson(Gson.java:876)\r\n    \tat com.deepl.api.parsing.Parser.parseErrorMessage(Parser.java:47)\r\n    \tat com.deepl.api.Translator.checkResponse(Translator.java:769)\r\n    \tat com.deepl.api.Translator.translateText(Translator.java:174)\r\n    \tat com.deepl.api.Translator.translateText(Translator.java:110)\r\n    \tat com.upsilon.screens.translator.DeeplTranslator.translate(DeeplTranslator.java:75)\r\n\r\n","title":"Why Deepl can&#39;t exclude jpg images while translating html text?","body":"<p>I use Deepl for translating HTML text. If I have a <code>.gif</code> file in my HTML it is okay but if I use <code>.jpg</code> I get the following error. I know <code>Deepl</code> uses <code>gson</code> in his lib but don't know how to solve it, I am wondering if any Deepl guys know about this issue?\nI use Deepl java lib.</p>\n<p><strong>Any solution welcome in advance?</strong></p>\n<p><strong>Error location in the code:</strong></p>\n<pre><code>        boolean failed = false;\n        String translationResult = &quot;&quot;;\n        try\n        {\n            TextResult result = translator.translateText( text, source, target, translationOptions );\n            translationResult = result.getText( );\n        }\n        catch (IllegalStateException | JsonSyntaxException exception)\n        {\n          failed = true;\n          //...\n          exception.printStackTrace( );\n          Show.error( &quot;failded&quot;+ exception.getMessage( ) +&quot;\\n&quot;+ exception.getCause( ) );\n        }\n        \n        if(failed) {\n            Show.error( &quot;failded&quot; );\n        }\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $\n13/10/2022 10:22:45,483 [AWT-EventQueue-0] ERROR [JBroker] User Message: faildedjava.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $\njava.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:225)\n    at com.google.gson.Gson.fromJson(Gson.java:991)\n    at com.google.gson.Gson.fromJson(Gson.java:956)\n    at com.google.gson.Gson.fromJson(Gson.java:905)\n    at com.google.gson.Gson.fromJson(Gson.java:876)\n    at com.deepl.api.parsing.Parser.parseErrorMessage(Parser.java:47)\n    at com.deepl.api.Translator.checkResponse(Translator.java:769)\n    at com.deepl.api.Translator.translateText(Translator.java:174)\n    at com.deepl.api.Translator.translateText(Translator.java:110)\n    at com.upsilon.screens.translator.DeeplTranslator.translate(DeeplTranslator.java:75)\n</code></pre>\n"},{"tags":["java","cryptography"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1302635950,"post_id":5639990,"comment_id":6430217,"body_markdown":"possible duplicate of [How to Encrypt or Decrypt a File in Java?](http://stackoverflow.com/questions/5632658/how-to-encrypt-or-decrypt-a-file-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5632658/how-to-encrypt-or-decrypt-a-file-in-java\">How to Encrypt or Decrypt a File in Java?</a>"}],"answers":[{"comments":[{"owner":{"account_id":329683,"reputation":55,"user_id":653345,"display_name":"Selvi Priya"},"score":0,"creation_date":1302856218,"post_id":5642353,"comment_id":6476944,"body_markdown":"Thanks, It helps me in a fine manner. Thank you very Much, :)","body":"Thanks, It helps me in a fine manner. Thank you very Much, :)"}],"tags":[],"owner":{"account_id":348326,"reputation":6607,"user_id":682965,"display_name":"Simon G."},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666183507,"creation_date":1302647169,"answer_id":5642353,"question_id":5639990,"body_markdown":"Until Java 9, the JDK shipped with only weak encryption, and simply will not allow the proper key sizes being created by openssl. The fix is happily very simple.\r\n\r\nIf you go to [here][1] to download &quot;Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 6&quot;. This will provide you with a ZIP file containing 4 files. One of these files is a README which has detailed instructions on what you do with the other files.\r\n\r\nOnce you have these policy files installed, you can use strong encryption and will not get this error message simply from using an AES-256 cipher.\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase-jce-all-downloads.html","title":"Need Help in Encrypting as well as Decrypting a file in java?","body":"<p>Until Java 9, the JDK shipped with only weak encryption, and simply will not allow the proper key sizes being created by openssl. The fix is happily very simple.</p>\n<p>If you go to <a href=\"https://www.oracle.com/java/technologies/javase-jce-all-downloads.html\" rel=\"nofollow noreferrer\">here</a> to download &quot;Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 6&quot;. This will provide you with a ZIP file containing 4 files. One of these files is a README which has detailed instructions on what you do with the other files.</p>\n<p>Once you have these policy files installed, you can use strong encryption and will not get this error message simply from using an AES-256 cipher.</p>\n"}],"owner":{"account_id":329683,"reputation":55,"user_id":653345,"display_name":"Selvi Priya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":721,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":5642353,"answer_count":1,"score":0,"last_activity_date":1666183507,"creation_date":1302633422,"question_id":5639990,"body_markdown":"I want to encrypt and decrypt a file in java, i had read this url http://www-users.york.ac.uk/~mal503/lore/pkencryption.htm and got two files namely public Security certificate and private security certificate file and private.pem file, i copied these files and pasted in the current directory , when i run this i got this error java.security.InvalidKeyException: Illegal key size or default parameters,i think may be openssl key generation is wrong, pls guide in proper path.\r\n\r\n","title":"Need Help in Encrypting as well as Decrypting a file in java?","body":"<p>I want to encrypt and decrypt a file in java, i had read this url <a href=\"http://www-users.york.ac.uk/~mal503/lore/pkencryption.htm\" rel=\"nofollow\">http://www-users.york.ac.uk/~mal503/lore/pkencryption.htm</a> and got two files namely public Security certificate and private security certificate file and private.pem file, i copied these files and pasted in the current directory , when i run this i got this error java.security.InvalidKeyException: Illegal key size or default parameters,i think may be openssl key generation is wrong, pls guide in proper path.</p>\n"},{"tags":["java","google-ads-api"],"comments":[{"owner":{"account_id":16510745,"reputation":98,"user_id":11929581,"display_name":"mrki102"},"score":0,"creation_date":1648455708,"post_id":70041224,"comment_id":126619096,"body_markdown":"im facing the same problem. did u resolve the issue?","body":"im facing the same problem. did u resolve the issue?"},{"owner":{"account_id":11526462,"reputation":375,"user_id":8446781,"display_name":"MJey"},"score":0,"creation_date":1648466956,"post_id":70041224,"comment_id":126623141,"body_markdown":"In my case, I store those references internally to access them later again. If you find a more convenient way, please let me know.","body":"In my case, I store those references internally to access them later again. If you find a more convenient way, please let me know."}],"answers":[{"comments":[{"owner":{"account_id":16510745,"reputation":98,"user_id":11929581,"display_name":"mrki102"},"score":0,"creation_date":1648474166,"post_id":71648294,"comment_id":126626008,"body_markdown":"https://developers.google.com/google-ads/api/fields/v10/keyword_plan","body":"<a href=\"https://developers.google.com/google-ads/api/fields/v10/keyword_plan\" rel=\"nofollow noreferrer\">developers.google.com/google-ads/api/fields/v10/keyword_plan</a>"},{"owner":{"account_id":11526462,"reputation":375,"user_id":8446781,"display_name":"MJey"},"score":0,"creation_date":1648904740,"post_id":71648294,"comment_id":126744039,"body_markdown":"Thank you for sharing! Indeed works nicely. For the future souls the client for me is: googleAdsClient.getVersion9.createGoogleAdsServiceClient()","body":"Thank you for sharing! Indeed works nicely. For the future souls the client for me is: googleAdsClient.getVersion9.createGoogleAdsServiceClient()"}],"tags":[],"owner":{"account_id":16510745,"reputation":98,"user_id":11929581,"display_name":"mrki102"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648474104,"creation_date":1648474104,"answer_id":71648294,"question_id":70041224,"body_markdown":"Maybe you can try to fetch the keyword_plan resource from your account.\r\nThis is how I&#39;ve done it to create remove operations for all the existing keywordPlans.\r\n\r\n```\r\nGoogleAdsServiceClient.SearchPagedResponse response = client.search(SearchGoogleAdsRequest.newBuilder()\r\n                    .setQuery(&quot;SELECT keyword_plan.resource_name FROM keyword_plan&quot;)\r\n                    .setCustomerId(Objects.requireNonNull(googleAdsClient.getLoginCustomerId()).toString())\r\n                    .build());\r\nList&lt;KeywordPlanOperation&gt; keywordPlanOperations = response.getPage().getResponse().getResultsList().stream()\r\n                    .map(x -&gt; KeywordPlanOperation.newBuilder()\r\n                            .setRemove(x.getKeywordPlan().getResourceName())\r\n                            .build())\r\n                    .collect(Collectors.toList());\r\n```\r\nOf course this can also be applied to your use-case.","title":"GoogleAds API - Java / How to get all existing Keyword Plans?","body":"<p>Maybe you can try to fetch the keyword_plan resource from your account.\nThis is how I've done it to create remove operations for all the existing keywordPlans.</p>\n<pre><code>GoogleAdsServiceClient.SearchPagedResponse response = client.search(SearchGoogleAdsRequest.newBuilder()\n                    .setQuery(&quot;SELECT keyword_plan.resource_name FROM keyword_plan&quot;)\n                    .setCustomerId(Objects.requireNonNull(googleAdsClient.getLoginCustomerId()).toString())\n                    .build());\nList&lt;KeywordPlanOperation&gt; keywordPlanOperations = response.getPage().getResponse().getResultsList().stream()\n                    .map(x -&gt; KeywordPlanOperation.newBuilder()\n                            .setRemove(x.getKeywordPlan().getResourceName())\n                            .build())\n                    .collect(Collectors.toList());\n</code></pre>\n<p>Of course this can also be applied to your use-case.</p>\n"},{"tags":[],"owner":{"account_id":1510415,"reputation":2072,"user_id":1412689,"accept_rate":80,"display_name":"Andr&#233;"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648532610,"creation_date":1648532610,"answer_id":71656989,"question_id":70041224,"body_markdown":"This is for PHP if you like to remove all of the existing keyword plans:\r\n\r\n    $googleAdsServiceClient = $this-&gt;googleAdsClient-&gt;getGoogleAdsServiceClient();\r\n    \r\n    /** @var GoogleAdsServerStreamDecorator $stream */\r\n    $stream = $googleAdsServiceClient-&gt;searchStream(\r\n        $linkedCustomerId,\r\n        &#39;SELECT keyword_plan.resource_name FROM keyword_plan&#39;\r\n    );\r\n    \r\n    $keywordPlanServiceClient = $this-&gt;googleAdsClient-&gt;getKeywordPlanServiceClient();\r\n    \r\n    /** @var GoogleAdsRow $googleAdsRow */\r\n    foreach ($stream-&gt;iterateAllElements() as $googleAdsRow) {\r\n    \r\n        $keywordPlanOperation = new KeywordPlanOperation();\r\n        $keywordPlanOperation-&gt;setRemove($googleAdsRow-&gt;getKeywordPlan()-&gt;getResourceName());\r\n        $keywordPlanServiceClient-&gt;mutateKeywordPlans($this-&gt;linkedCustomerId, [$keywordPlanOperation]);\r\n    }","title":"GoogleAds API - Java / How to get all existing Keyword Plans?","body":"<p>This is for PHP if you like to remove all of the existing keyword plans:</p>\n<pre><code>$googleAdsServiceClient = $this-&gt;googleAdsClient-&gt;getGoogleAdsServiceClient();\n\n/** @var GoogleAdsServerStreamDecorator $stream */\n$stream = $googleAdsServiceClient-&gt;searchStream(\n    $linkedCustomerId,\n    'SELECT keyword_plan.resource_name FROM keyword_plan'\n);\n\n$keywordPlanServiceClient = $this-&gt;googleAdsClient-&gt;getKeywordPlanServiceClient();\n\n/** @var GoogleAdsRow $googleAdsRow */\nforeach ($stream-&gt;iterateAllElements() as $googleAdsRow) {\n\n    $keywordPlanOperation = new KeywordPlanOperation();\n    $keywordPlanOperation-&gt;setRemove($googleAdsRow-&gt;getKeywordPlan()-&gt;getResourceName());\n    $keywordPlanServiceClient-&gt;mutateKeywordPlans($this-&gt;linkedCustomerId, [$keywordPlanOperation]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9929718,"reputation":85,"user_id":7350130,"display_name":"Ali Uyanık"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666183317,"creation_date":1666183317,"answer_id":74125518,"question_id":70041224,"body_markdown":"For python:\r\n\r\n    import argparse\r\n    import sys\r\n    \r\n    from google.ads.googleads.client import GoogleAdsClient\r\n    from google.ads.googleads.errors import GoogleAdsException\r\n    \r\n    \r\n    def main(client, customer_id):\r\n        ga_service = client.get_service(&quot;GoogleAdsService&quot;)\r\n        query = &quot;&quot;&quot;\r\n            SELECT keyword_plan.name, keyword_plan.id, keyword_plan.forecast_period, keyword_plan.resource_name\r\n             FROM keyword_plan\r\n        &quot;&quot;&quot;\r\n    \r\n        # Issues a search request using streaming.\r\n        search_request = client.get_type(&quot;SearchGoogleAdsStreamRequest&quot;)\r\n        search_request.customer_id = customer_id\r\n        search_request.query = query\r\n        stream = ga_service.search_stream(search_request)\r\n        for batch in stream:\r\n            for row in batch.results:\r\n                resource_name = row.keyword_plan.resource_name\r\n                forecast_period = row.keyword_plan.forecast_period\r\n                id = row.keyword_plan.id\r\n                name = row.keyword_plan.name\r\n    \r\n                print(\r\n                    f&#39;plan resource name &quot;{resource_name}&quot; with &#39;\r\n                    f&#39;forecast period &quot;{forecast_period.date_interval}&quot; &#39;\r\n                    f&quot;and ID {id} &quot;\r\n                    f&#39; name &quot;{name}&quot; &#39;\r\n                )\r\n    \r\n    \r\n    \r\n    if __name__ == &quot;__main__&quot;:\r\n        # GoogleAdsClient will read the google-ads.yaml configuration file in the\r\n        # home directory if none is specified.\r\n        googleads_client = GoogleAdsClient.load_from_storage(path=&#39;your-google-ads.yml-file-path&#39;,version=&quot;v10&quot;)\r\n    \r\n        parser = argparse.ArgumentParser(\r\n            description=(&quot;Retrieves a campaign&#39;s negative keywords.&quot;)\r\n        )\r\n        # The following argument(s) should be provided to run the example.\r\n        parser.add_argument(\r\n            &quot;-c&quot;,\r\n            &quot;--customer_id&quot;,\r\n            type=str,\r\n            required=True,\r\n            help=&quot;The Google Ads customer ID.&quot;,\r\n        )\r\n        args = parser.parse_args()\r\n    \r\n        try:\r\n            main(googleads_client, args.customer_id)\r\n        except GoogleAdsException as ex:\r\n            print(\r\n                f&#39;Request with ID &quot;{ex.request_id}&quot; failed with status &#39;\r\n                f&#39;&quot;{ex.error.code().name}&quot; and includes the following \r\n                  errors:&#39;\r\n            )\r\n            for error in ex.failure.errors:\r\n                print(f&#39;\\tError with message &quot;{error.message}&quot;.&#39;)\r\n                if error.location:\r\n                    for field_path_element in error.location.field_path_elements:\r\n                        print(f&quot;\\t\\tOn field: {field_path_element.field_name}&quot;)\r\n            sys.exit(1)\r\n\r\n","title":"GoogleAds API - Java / How to get all existing Keyword Plans?","body":"<p>For python:</p>\n<pre><code>import argparse\nimport sys\n\nfrom google.ads.googleads.client import GoogleAdsClient\nfrom google.ads.googleads.errors import GoogleAdsException\n\n\ndef main(client, customer_id):\n    ga_service = client.get_service(&quot;GoogleAdsService&quot;)\n    query = &quot;&quot;&quot;\n        SELECT keyword_plan.name, keyword_plan.id, keyword_plan.forecast_period, keyword_plan.resource_name\n         FROM keyword_plan\n    &quot;&quot;&quot;\n\n    # Issues a search request using streaming.\n    search_request = client.get_type(&quot;SearchGoogleAdsStreamRequest&quot;)\n    search_request.customer_id = customer_id\n    search_request.query = query\n    stream = ga_service.search_stream(search_request)\n    for batch in stream:\n        for row in batch.results:\n            resource_name = row.keyword_plan.resource_name\n            forecast_period = row.keyword_plan.forecast_period\n            id = row.keyword_plan.id\n            name = row.keyword_plan.name\n\n            print(\n                f'plan resource name &quot;{resource_name}&quot; with '\n                f'forecast period &quot;{forecast_period.date_interval}&quot; '\n                f&quot;and ID {id} &quot;\n                f' name &quot;{name}&quot; '\n            )\n\n\n\nif __name__ == &quot;__main__&quot;:\n    # GoogleAdsClient will read the google-ads.yaml configuration file in the\n    # home directory if none is specified.\n    googleads_client = GoogleAdsClient.load_from_storage(path='your-google-ads.yml-file-path',version=&quot;v10&quot;)\n\n    parser = argparse.ArgumentParser(\n        description=(&quot;Retrieves a campaign's negative keywords.&quot;)\n    )\n    # The following argument(s) should be provided to run the example.\n    parser.add_argument(\n        &quot;-c&quot;,\n        &quot;--customer_id&quot;,\n        type=str,\n        required=True,\n        help=&quot;The Google Ads customer ID.&quot;,\n    )\n    args = parser.parse_args()\n\n    try:\n        main(googleads_client, args.customer_id)\n    except GoogleAdsException as ex:\n        print(\n            f'Request with ID &quot;{ex.request_id}&quot; failed with status '\n            f'&quot;{ex.error.code().name}&quot; and includes the following \n              errors:'\n        )\n        for error in ex.failure.errors:\n            print(f'\\tError with message &quot;{error.message}&quot;.')\n            if error.location:\n                for field_path_element in error.location.field_path_elements:\n                    print(f&quot;\\t\\tOn field: {field_path_element.field_name}&quot;)\n        sys.exit(1)\n</code></pre>\n"}],"owner":{"account_id":11526462,"reputation":375,"user_id":8446781,"display_name":"MJey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71648294,"answer_count":3,"score":2,"last_activity_date":1666183317,"creation_date":1637358243,"question_id":70041224,"body_markdown":"I figured out how to create &amp; delete keyword plans, but I couldn&#39;t figure out how I can get a list of all my existing keyword plans (resource names / plan ids)?\r\n\r\n\r\n    final long customerId = Long.valueOf(&quot;XXXXXXXXXX&quot;);    \r\n    GoogleAdsClient googleAdsClient = new ...\r\n    KeywordPlanServiceClient client = googleAdsClient.getVersion8().createKeywordPlanServiceClient();\r\n\r\n    String[] allExistingKeywordPlans = client. ???\r\n\r\n---\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.api-ads&lt;/groupId&gt;\r\n        &lt;artifactId&gt;google-ads&lt;/artifactId&gt;\r\n        &lt;version&gt;16.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n---\r\nFurther resources:\r\nhttps://developers.google.com/google-ads/api/docs/samples/add-keyword-plan\r\n\r\nAny hints on how this can be solved is highly appreciated! Many thanks in advance!\r\n","title":"GoogleAds API - Java / How to get all existing Keyword Plans?","body":"<p>I figured out how to create &amp; delete keyword plans, but I couldn't figure out how I can get a list of all my existing keyword plans (resource names / plan ids)?</p>\n<pre><code>final long customerId = Long.valueOf(&quot;XXXXXXXXXX&quot;);    \nGoogleAdsClient googleAdsClient = new ...\nKeywordPlanServiceClient client = googleAdsClient.getVersion8().createKeywordPlanServiceClient();\n\nString[] allExistingKeywordPlans = client. ???\n</code></pre>\n<hr />\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.api-ads&lt;/groupId&gt;\n    &lt;artifactId&gt;google-ads&lt;/artifactId&gt;\n    &lt;version&gt;16.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<p>Further resources:\n<a href=\"https://developers.google.com/google-ads/api/docs/samples/add-keyword-plan\" rel=\"nofollow noreferrer\">https://developers.google.com/google-ads/api/docs/samples/add-keyword-plan</a></p>\n<p>Any hints on how this can be solved is highly appreciated! Many thanks in advance!</p>\n"},{"tags":["java","spring-boot","junit4","spring-boot-test","mockmvc"],"comments":[{"owner":{"account_id":3505857,"reputation":5593,"user_id":2931410,"accept_rate":33,"display_name":"Karthik R"},"score":0,"creation_date":1531379904,"post_id":51299015,"comment_id":89575752,"body_markdown":"Are you using embedded tomcat or external tomcat instance with Servlet intitializer?","body":"Are you using embedded tomcat or external tomcat instance with Servlet intitializer?"},{"owner":{"account_id":2835239,"reputation":1221,"user_id":2435969,"accept_rate":7,"display_name":"Prabhat Yadav"},"score":0,"creation_date":1531384778,"post_id":51299015,"comment_id":89578769,"body_markdown":"embedded tomcat : D:\\mavenrepo\\org\\springframework\\boot\\spring-boot-starter-tomcat\\1.5.3.RELEASE\\spring-boot-starter-tomcat-1.5.3.RELEASE.jar\nD:\\mavenrepo\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\8.5.14\\tomcat-embed-core-8.5.14.jar\nD:\\mavenrepo\\org\\apache\\tomcat\\embed\\tomcat-embed-el\\8.5.14\\tomcat-embed-el-8.5.14.jar\nD:\\mavenrepo\\org\\apache\\tomcat\\embed\\tomcat-embed-websocket\\8.5.14\\tomcat-embed-websocket-8.5.14.jar","body":"embedded tomcat : D:\\mavenrepo\\org\\springframework\\boot\\spring-boot-starter-to&zwnj;&#8203;mcat\\1.5.3.RELEASE\\s&zwnj;&#8203;pring-boot-starter-t&zwnj;&#8203;omcat-1.5.3.RELEASE.&zwnj;&#8203;jar D:\\mavenrepo\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\8.5.1&zwnj;&#8203;4\\tomcat-embed-core-&zwnj;&#8203;8.5.14.jar D:\\mavenrepo\\org\\apache\\tomcat\\embed\\tomcat-embed-el\\8.5.14\\&zwnj;&#8203;tomcat-embed-el-8.5.&zwnj;&#8203;14.jar D:\\mavenrepo\\org\\apache\\tomcat\\embed\\tomcat-embed-websocket\\&zwnj;&#8203;8.5.14\\tomcat-embed-&zwnj;&#8203;websocket-8.5.14.jar"}],"answers":[{"comments":[{"owner":{"account_id":2835239,"reputation":1221,"user_id":2435969,"accept_rate":7,"display_name":"Prabhat Yadav"},"score":2,"creation_date":1531385023,"post_id":51299687,"comment_id":89578932,"body_markdown":"using this  getting org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;com.hanselnpetal.ApplicationTest&#39;: Unsatisfied dependency expressed through field &#39;webApplicationContext&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.web.context.WebApplicationContext&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}","body":"using this  getting org.springframework.beans.factory.UnsatisfiedDependencyExcep&zwnj;&#8203;tion: Error creating bean with name &#39;com.hanselnpetal.ApplicationTest&#39;: Unsatisfied dependency expressed through field &#39;webApplicationContext&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionExcept&zwnj;&#8203;ion: No qualifying bean of type &#39;org.springframework.web.context.WebApplicationContext&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(req&zwnj;&#8203;uired=true)}"},{"owner":{"account_id":3505857,"reputation":5593,"user_id":2931410,"accept_rate":33,"display_name":"Karthik R"},"score":0,"creation_date":1531460292,"post_id":51299687,"comment_id":89612373,"body_markdown":"Please remove the `@AutoConfigureMockMvc` and try with my solution.","body":"Please remove the <code>@AutoConfigureMockMvc</code> and try with my solution."},{"owner":{"account_id":3505857,"reputation":5593,"user_id":2931410,"accept_rate":33,"display_name":"Karthik R"},"score":1,"creation_date":1531464539,"post_id":51299687,"comment_id":89614119,"body_markdown":"Something with ur dependency? you have spring-boot-starter-web right? This just works fine for me.","body":"Something with ur dependency? you have spring-boot-starter-web right? This just works fine for me."},{"owner":{"account_id":957542,"reputation":899,"user_id":3203998,"display_name":"trevorsky"},"score":4,"creation_date":1538764519,"post_id":51299687,"comment_id":92272721,"body_markdown":"Dependency on spring-boot-starter-web solved this issue for me","body":"Dependency on spring-boot-starter-web solved this issue for me"},{"owner":{"account_id":3505857,"reputation":5593,"user_id":2931410,"accept_rate":33,"display_name":"Karthik R"},"score":0,"creation_date":1539062932,"post_id":51299687,"comment_id":92353313,"body_markdown":"@trevorsky , please upvote if resolved. I will add this dependency check as update.","body":"@trevorsky , please upvote if resolved. I will add this dependency check as update."},{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":0,"creation_date":1575074540,"post_id":51299687,"comment_id":104455560,"body_markdown":"Tried it. Now I get a different error: `java.lang.Exception: No runnable methods`","body":"Tried it. Now I get a different error: <code>java.lang.Exception: No runnable methods</code>"},{"owner":{"account_id":2425828,"reputation":596,"user_id":2117774,"accept_rate":63,"display_name":"BreenDeen"},"score":0,"creation_date":1583015088,"post_id":51299687,"comment_id":106976183,"body_markdown":"I have all of that in my code.  I simply posted the relevant portions.  I have found a solution.","body":"I have all of that in my code.  I simply posted the relevant portions.  I have found a solution."},{"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"score":0,"creation_date":1680863235,"post_id":51299687,"comment_id":133971656,"body_markdown":"works fine with version 3.x .. it solved issue with maven dependencies that are using spring ...","body":"works fine with version 3.x .. it solved issue with maven dependencies that are using spring ..."}],"tags":[],"owner":{"account_id":3505857,"reputation":5593,"user_id":2931410,"accept_rate":33,"display_name":"Karthik R"},"comment_count":8,"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1539062967,"creation_date":1531380530,"answer_id":51299687,"question_id":51299015,"body_markdown":"Hope you have `spring-boot-starter-web` dependency. Not sure which version of Spring boot you use, but build mockMvc this way instead?\r\n\r\n  \r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class ApplicationTest {\r\n\r\n      @Autowired\r\n      private WebApplicationContext webApplicationContext;\r\n      private MockMvc mockMvc;\r\n    \r\n      @Before\r\n      public void setUp() {\r\n        mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\r\n      }\r\n\r\n","title":"SpringBootTest : No qualifying bean of type &#39;org.springframework.test.web.servlet.MockMvc&#39; available:","body":"<p>Hope you have <code>spring-boot-starter-web</code> dependency. Not sure which version of Spring boot you use, but build mockMvc this way instead?</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class ApplicationTest {\n\n  @Autowired\n  private WebApplicationContext webApplicationContext;\n  private MockMvc mockMvc;\n\n  @Before\n  public void setUp() {\n    mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7660127,"reputation":155,"user_id":5805687,"display_name":"Jhonatan S. Souza"},"score":0,"creation_date":1625097074,"post_id":65070959,"comment_id":120539692,"body_markdown":"Worked to me! Im using webflux and now works.","body":"Worked to me! Im using webflux and now works."}],"tags":[],"owner":{"account_id":9929339,"reputation":1941,"user_id":7349864,"display_name":"Sourcerer"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1606728460,"creation_date":1606728460,"answer_id":65070959,"question_id":51299015,"body_markdown":"I had the same issue, because I&#39;m following a tutorial using WebFlux (reactive Web) instead of synchronous Web. Assuming that unit tests can be synchronous, finally this worked for me (in Gradle) \t\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n    // Required for MockMvc autoconfigure\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;","title":"SpringBootTest : No qualifying bean of type &#39;org.springframework.test.web.servlet.MockMvc&#39; available:","body":"<p>I had the same issue, because I'm following a tutorial using WebFlux (reactive Web) instead of synchronous Web. Assuming that unit tests can be synchronous, finally this worked for me (in Gradle)</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-webflux'\n// Required for MockMvc autoconfigure\ntestImplementation 'org.springframework.boot:spring-boot-starter-web'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4572120,"reputation":1820,"user_id":3711562,"display_name":"Anantha Raju C"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1631914145,"creation_date":1630303560,"answer_id":68979553,"question_id":51299015,"body_markdown":"Try adding the following annotations to the class.\r\n\r\n```java\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\r\n\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@AutoConfigureMockMvc\r\n``` ","title":"SpringBootTest : No qualifying bean of type &#39;org.springframework.test.web.servlet.MockMvc&#39; available:","body":"<p>Try adding the following annotations to the class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\n\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@AutoConfigureMockMvc\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5072607,"reputation":478,"user_id":4070966,"display_name":"Milton Jacomini Neto"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632136409,"creation_date":1631913933,"answer_id":69229637,"question_id":51299015,"body_markdown":"I believe that the answer of @karthik-r is the one!\r\n\r\nI also had the same problem, so one thing that helps to &quot;debug&quot; what was beeing injected by Spring was that.\r\n\r\n    @BeforeEach\r\n    void printApplicationContext() {\r\n        mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\r\n        //This  \r\n        Arrays.stream(webApplicationContext.getBeanDefinitionNames())\r\n                .map(name -&gt; webApplicationContext.getBean(name).getClass().getName())\r\n                .sorted()\r\n                .forEach(System.out::println);\r\n    }\r\n\r\nOf course if you have \r\n\r\n    @Autowired\r\n    private WebApplicationContext webApplicationContext;\r\n\r\nThis will print all spring injected beans.\r\nAnd finaly one more thing that i had to modify and if you are using JUnit 5.\r\n\r\nChange the @RunWith to \r\n\r\n    @ExtendWith(SpringExtension.class)\r\n\r\nThat is it...\r\n\r\n=)","title":"SpringBootTest : No qualifying bean of type &#39;org.springframework.test.web.servlet.MockMvc&#39; available:","body":"<p>I believe that the answer of @karthik-r is the one!</p>\n<p>I also had the same problem, so one thing that helps to &quot;debug&quot; what was beeing injected by Spring was that.</p>\n<pre><code>@BeforeEach\nvoid printApplicationContext() {\n    mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\n    //This  \n    Arrays.stream(webApplicationContext.getBeanDefinitionNames())\n            .map(name -&gt; webApplicationContext.getBean(name).getClass().getName())\n            .sorted()\n            .forEach(System.out::println);\n}\n</code></pre>\n<p>Of course if you have</p>\n<pre><code>@Autowired\nprivate WebApplicationContext webApplicationContext;\n</code></pre>\n<p>This will print all spring injected beans.\nAnd finaly one more thing that i had to modify and if you are using JUnit 5.</p>\n<p>Change the @RunWith to</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n</code></pre>\n<p>That is it...</p>\n<p>=)</p>\n"},{"tags":[],"owner":{"account_id":4047822,"reputation":683,"user_id":3328545,"accept_rate":25,"display_name":"gscaparrotti"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666182894,"creation_date":1666182894,"answer_id":74125424,"question_id":51299015,"body_markdown":"I also had the same issue because I forgot to remove the following line from the `application.properties` file in the `test` folder:\r\n\r\n`spring.main.web-application-type=none`\r\n\r\nSimply removing it solved the problem.","title":"SpringBootTest : No qualifying bean of type &#39;org.springframework.test.web.servlet.MockMvc&#39; available:","body":"<p>I also had the same issue because I forgot to remove the following line from the <code>application.properties</code> file in the <code>test</code> folder:</p>\n<p><code>spring.main.web-application-type=none</code></p>\n<p>Simply removing it solved the problem.</p>\n"}],"owner":{"account_id":2835239,"reputation":1221,"user_id":2435969,"accept_rate":7,"display_name":"Prabhat Yadav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52294,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"answer_count":5,"score":40,"last_activity_date":1666182894,"creation_date":1531378338,"question_id":51299015,"body_markdown":"Hey  i have started  learing spring-boot junit testing using spring boot Test framework at the time of creating the test case  i am  facing  issues  below . \r\n\r\n        import static org.hamcrest.Matchers.containsString;\r\n        import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\r\n        import static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\r\n        import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;\r\n        import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n        \r\n        import org.junit.Test;\r\n        import org.junit.runner.RunWith;\r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n        import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\r\n        import org.springframework.boot.test.context.SpringBootTest;\r\n        import org.springframework.test.context.junit4.SpringRunner;\r\n        import org.springframework.test.web.servlet.MockMvc;\r\n        \r\n        \r\n        @RunWith(SpringRunner.class)\r\n        @SpringBootTest\r\n        @AutoConfigureMockMvc\r\n        public class ApplicationTest {\r\n    \r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n    \r\n        @Test\r\n        public void shouldReturnDefaultMessage() throws Exception {\r\n            this.mockMvc.perform(get(&quot;/&quot;)).andDo(print()).andExpect(status().isOk())\r\n                    .andExpect(content().string(containsString(&quot;Hello World&quot;)));\r\n        }\r\n    }\r\n\r\n\r\n In Above Code i am getting Error of \r\n\r\n        Caused by: **org.springframework.beans.factory.NoSuchBeanDefinitionException: \r\n    No qualifying bean of type &#39;org.springframework.test.web.servlet.MockMvc&#39; available: \r\n    expected at least 1 bean which qualifies as autowire candidate.\r\n     Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}**\r\n        \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1486) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]\r\n        \r\n I am aware of MockMvc name bean is not  found by spring-boot but why its not  able to find it  and how i can do so that application will work fine. \r\n\r\n","title":"SpringBootTest : No qualifying bean of type &#39;org.springframework.test.web.servlet.MockMvc&#39; available:","body":"<p>Hey  i have started  learing spring-boot junit testing using spring boot Test framework at the time of creating the test case  i am  facing  issues  below . </p>\n\n<pre><code>    import static org.hamcrest.Matchers.containsString;\n    import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\n    import static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\n    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;\n    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n    import org.junit.Test;\n    import org.junit.runner.RunWith;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\n    import org.springframework.boot.test.context.SpringBootTest;\n    import org.springframework.test.context.junit4.SpringRunner;\n    import org.springframework.test.web.servlet.MockMvc;\n\n\n    @RunWith(SpringRunner.class)\n    @SpringBootTest\n    @AutoConfigureMockMvc\n    public class ApplicationTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    public void shouldReturnDefaultMessage() throws Exception {\n        this.mockMvc.perform(get(\"/\")).andDo(print()).andExpect(status().isOk())\n                .andExpect(content().string(containsString(\"Hello World\")));\n    }\n}\n</code></pre>\n\n<p>In Above Code i am getting Error of </p>\n\n<pre><code>    Caused by: **org.springframework.beans.factory.NoSuchBeanDefinitionException: \nNo qualifying bean of type 'org.springframework.test.web.servlet.MockMvc' available: \nexpected at least 1 bean which qualifies as autowire candidate.\n Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}**\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1486) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]\n</code></pre>\n\n<p>I am aware of MockMvc name bean is not  found by spring-boot but why its not  able to find it  and how i can do so that application will work fine. </p>\n"},{"tags":["javascript","java","ajax","jsp","onclicklistener"],"comments":[{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":1,"creation_date":1666179227,"post_id":74124576,"comment_id":130873114,"body_markdown":"The HTML (and JavaScript) shown is malformed and invalid.  Can you update this to a runnable [stack snippet](https://meta.stackoverflow.com/a/358993/328193) which demonstrates the problem?  (JSP doesn&#39;t seem to be involved here at all if the problem is purely client-side, you can use the resulting HTML on your page to demonstrate the problem.)","body":"The HTML (and JavaScript) shown is malformed and invalid.  Can you update this to a runnable <a href=\"https://meta.stackoverflow.com/a/358993/328193\">stack snippet</a> which demonstrates the problem?  (JSP doesn&#39;t seem to be involved here at all if the problem is purely client-side, you can use the resulting HTML on your page to demonstrate the problem.)"},{"owner":{"account_id":13609308,"reputation":11,"user_id":9817376,"display_name":"karDEVproj"},"score":0,"creation_date":1666180852,"post_id":74124576,"comment_id":130873750,"body_markdown":"Hello, thanks for responding, i edited the code and put the html shown in the browser, sam for the js file","body":"Hello, thanks for responding, i edited the code and put the html shown in the browser, sam for the js file"},{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1666181122,"post_id":74124576,"comment_id":130873856,"body_markdown":"The code snippet is producing an error.  It would appear that there is extra code included which relies on code which is not included.  The example should be a [mcve] which demonstrates the problem.  Alternatively, if the error shown here is also occurring in your own project, then resolving that error (and any others you&#39;re seeing) would be your first step.","body":"The code snippet is producing an error.  It would appear that there is extra code included which relies on code which is not included.  The example should be a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which demonstrates the problem.  Alternatively, if the error shown here is also occurring in your own project, then resolving that error (and any others you&#39;re seeing) would be your first step."},{"owner":{"account_id":13609308,"reputation":11,"user_id":9817376,"display_name":"karDEVproj"},"score":0,"creation_date":1666181511,"post_id":74124576,"comment_id":130873994,"body_markdown":"I edited the code removing part not needed in this issue, the code snippet is runnnig now, have you any idea what my ajax event not firign problem can be?","body":"I edited the code removing part not needed in this issue, the code snippet is runnnig now, have you any idea what my ajax event not firign problem can be?"}],"answers":[{"tags":[],"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666181740,"creation_date":1666181740,"answer_id":74125167,"question_id":74124576,"body_markdown":"Notice the element(s) you&#39;re filtering on in your click handler:\r\n\r\n    $(document).on(&quot;click&quot;, &#39;.outi&#39;, (function(MyObj){\r\n\r\nThe handler function will specifically execute for elements with the `outi` class.  But your element doesn&#39;t *have* that class.\r\n\r\nIt does when the page first loads:\r\n\r\n    &lt;tr class=&quot;outi&quot; onMouseOver=&quot;this.className=&#39;over&#39;;&quot; onMouseOut=&quot;this.className=&#39;outi&#39;;&quot;&gt;\r\n\r\nBut notice what the inline JavaScript on that element is doing.  When the mouse hovers over the element, it *changes the class*.\r\n\r\nThe mouse is going to hover over the element before the user clicks the element.\r\n\r\nYou can target the class it actually has:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    $(document).ready(function() {\r\n      $(document).on(&quot;click&quot;, &#39;.over&#39;, (function(MyObj){\r\n        console.log(&#39;test&#39;);\r\n      }));\r\n    });\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;script src=&quot;https://code.jquery.com/jquery-3.1.1.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;table border=0 bgcolor=#92ADC2 cellspacing=1 cellpadding=3 width=95% align=center&gt;\r\n      &lt;tr class=entete&gt;\r\n        &lt;td class=texte8 align=center&gt;&amp;nbsp;Nom&lt;/td&gt;\r\n        &lt;td class=texte8 align=center&gt;&amp;nbsp;Date de naissance&lt;/td&gt;\r\n        &lt;td class=texte8 align=center&gt;&amp;nbsp;Collaborateur&lt;/td&gt;\r\n        &lt;td class=texte8 align=center&gt;&amp;nbsp;Num&#233;ro de la carte&lt;/td&gt;\r\n        &lt;td class=texte8 align=center&gt;&amp;nbsp;Num&#233;ro de contrat&lt;/td&gt;      \r\n        &lt;td class=texte8 align=center&gt;&amp;nbsp;TITULAIRE&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr class=&quot;outi&quot; onMouseOver=&quot;this.className=&#39;over&#39;;&quot; onMouseOut=&quot;this.className=&#39;outi&#39;;&quot;&gt;\r\n        &lt;td class=texte7 align=left colspan=5&gt;&amp;nbsp;Aucun client ne trouve&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nOr perhaps use *both* classes instead of replacing one with the other:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    $(document).ready(function() {\r\n      $(document).on(&quot;click&quot;, &#39;.outi&#39;, (function(MyObj){\r\n        console.log(&#39;test&#39;);\r\n      }));\r\n    });\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;script src=&quot;https://code.jquery.com/jquery-3.1.1.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;table border=0 bgcolor=#92ADC2 cellspacing=1 cellpadding=3 width=95% align=center&gt;\r\n      &lt;tr class=entete&gt;\r\n        &lt;td class=texte8 align=center&gt;&amp;nbsp;Nom&lt;/td&gt;\r\n        &lt;td class=texte8 align=center&gt;&amp;nbsp;Date de naissance&lt;/td&gt;\r\n        &lt;td class=texte8 align=center&gt;&amp;nbsp;Collaborateur&lt;/td&gt;\r\n        &lt;td class=texte8 align=center&gt;&amp;nbsp;Num&#233;ro de la carte&lt;/td&gt;\r\n        &lt;td class=texte8 align=center&gt;&amp;nbsp;Num&#233;ro de contrat&lt;/td&gt;      \r\n        &lt;td class=texte8 align=center&gt;&amp;nbsp;TITULAIRE&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr class=&quot;outi&quot; onMouseOver=&quot;this.classList.add(&#39;over&#39;);&quot; onMouseOut=&quot;this.classList.remove(&#39;over&#39;);&quot;&gt;\r\n        &lt;td class=texte7 align=left colspan=5&gt;&amp;nbsp;Aucun client ne trouve&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nHowever you approach it, the main point is that when you&#39;re filtering on a specific class then the element needs to have that class to trigger the event handler.","title":"Ajax click event not firing In Javascript File","body":"<p>Notice the element(s) you're filtering on in your click handler:</p>\n<pre><code>$(document).on(&quot;click&quot;, '.outi', (function(MyObj){\n</code></pre>\n<p>The handler function will specifically execute for elements with the <code>outi</code> class.  But your element doesn't <em>have</em> that class.</p>\n<p>It does when the page first loads:</p>\n<pre><code>&lt;tr class=&quot;outi&quot; onMouseOver=&quot;this.className='over';&quot; onMouseOut=&quot;this.className='outi';&quot;&gt;\n</code></pre>\n<p>But notice what the inline JavaScript on that element is doing.  When the mouse hovers over the element, it <em>changes the class</em>.</p>\n<p>The mouse is going to hover over the element before the user clicks the element.</p>\n<p>You can target the class it actually has:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\n  $(document).on(\"click\", '.over', (function(MyObj){\n    console.log('test');\n  }));\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://code.jquery.com/jquery-3.1.1.min.js\"&gt;&lt;/script&gt;\n&lt;table border=0 bgcolor=#92ADC2 cellspacing=1 cellpadding=3 width=95% align=center&gt;\n  &lt;tr class=entete&gt;\n    &lt;td class=texte8 align=center&gt;&amp;nbsp;Nom&lt;/td&gt;\n    &lt;td class=texte8 align=center&gt;&amp;nbsp;Date de naissance&lt;/td&gt;\n    &lt;td class=texte8 align=center&gt;&amp;nbsp;Collaborateur&lt;/td&gt;\n    &lt;td class=texte8 align=center&gt;&amp;nbsp;Numéro de la carte&lt;/td&gt;\n    &lt;td class=texte8 align=center&gt;&amp;nbsp;Numéro de contrat&lt;/td&gt;      \n    &lt;td class=texte8 align=center&gt;&amp;nbsp;TITULAIRE&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr class=\"outi\" onMouseOver=\"this.className='over';\" onMouseOut=\"this.className='outi';\"&gt;\n    &lt;td class=texte7 align=left colspan=5&gt;&amp;nbsp;Aucun client ne trouve&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Or perhaps use <em>both</em> classes instead of replacing one with the other:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\n  $(document).on(\"click\", '.outi', (function(MyObj){\n    console.log('test');\n  }));\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://code.jquery.com/jquery-3.1.1.min.js\"&gt;&lt;/script&gt;\n&lt;table border=0 bgcolor=#92ADC2 cellspacing=1 cellpadding=3 width=95% align=center&gt;\n  &lt;tr class=entete&gt;\n    &lt;td class=texte8 align=center&gt;&amp;nbsp;Nom&lt;/td&gt;\n    &lt;td class=texte8 align=center&gt;&amp;nbsp;Date de naissance&lt;/td&gt;\n    &lt;td class=texte8 align=center&gt;&amp;nbsp;Collaborateur&lt;/td&gt;\n    &lt;td class=texte8 align=center&gt;&amp;nbsp;Numéro de la carte&lt;/td&gt;\n    &lt;td class=texte8 align=center&gt;&amp;nbsp;Numéro de contrat&lt;/td&gt;      \n    &lt;td class=texte8 align=center&gt;&amp;nbsp;TITULAIRE&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr class=\"outi\" onMouseOver=\"this.classList.add('over');\" onMouseOut=\"this.classList.remove('over');\"&gt;\n    &lt;td class=texte7 align=left colspan=5&gt;&amp;nbsp;Aucun client ne trouve&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>However you approach it, the main point is that when you're filtering on a specific class then the element needs to have that class to trigger the event handler.</p>\n"}],"owner":{"account_id":13609308,"reputation":11,"user_id":9817376,"display_name":"karDEVproj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74125167,"answer_count":1,"score":0,"last_activity_date":1666182877,"creation_date":1666179055,"question_id":74124576,"body_markdown":"So i have a table in jsp and i&#39;m trying to fire a function when clicking on the table lines in order to post the data.\r\nI have a JS file where i creted my function with ajax click event\r\nproblem is the event is not firing\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n        $(document).ready(function() {\r\n        $(document).on(&quot;click&quot;,&#39;.outi&#39;,(function(MyObj)\r\n        {\tvar Myjson = JSON.stringify(MyObj); \r\n        \t $.ajax({\r\n                 // Methode POST\r\n                 method: &quot;POST&quot;,\r\n                 // URL\r\n                 url: &quot;Client_frameServlet&quot;,\r\n                 // Mode asynchrone pour attendre la fin de l&#39;ajax avant de continuer\r\n                 async: false, // Mode synchrone\r\n                 // Envoie des donnees\r\n                 data: Myjson ,\r\n                 //data: {user: document.princ_form.user.value, numero_carte: document.princ_form.password_old.value, password_n1: document.princ_form.password_n1.value},\r\n                 dataType: &quot;json&quot; ,\r\n                 success: function() {\r\n                alert(&#39;In Ajax&#39;);\r\n            }\r\n                 \r\n             })\r\n        }));\r\n        });\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n        \r\n        &lt;html&gt;\r\n        &lt;META HTTP-EQUIV=&quot;expires&quot; CONTENT=&quot;0&quot;&gt;\r\n        &lt;META HTTP-EQUIV=&quot;Pragma&quot; CONTENT=&quot;no-cache&quot;&gt;\r\n        &lt;META http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=&quot;iso-8859-1&quot;&gt;\r\n        &lt;head&gt;\r\n          &lt;title&gt;TX06&lt;/title&gt;\r\n          &lt;link rel=&#39;stylesheet&#39; type=&#39;text/css&#39; href=&#39;style.css&#39;&gt;\r\n          &lt;script src=&quot;date.js&quot;&gt;&lt;/SCRIPT&gt;\r\n        &lt;/head&gt;\r\n        &lt;script src=&quot;https://code.jquery.com/jquery-3.1.1.min.js&quot;\r\n        \t       &gt;&lt;/script&gt;\r\n        &lt;script src=&quot;res_gen.js&quot;&gt;\r\n        \r\n        &lt;/script&gt;\r\n        &lt;body&gt;\r\n         \r\n          &lt;table width=&quot;100%&quot; align=&quot;center&quot; border=0 cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;\r\n            &lt;tr&gt;\r\n              &lt;td&gt;\r\n        \t\t  &lt;table width=&quot;95%&quot; align=&quot;center&quot; border=0 cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;\r\n        \t\t\t&lt;tr&gt;\r\n        \t\t\t  &lt;td class=&quot;titre&quot;&gt;R&#233;sultat de la recherche&lt;/td&gt;\r\n        \t\t    &lt;/tr&gt;\r\n        \t\t  &lt;/table&gt;\r\n         \t  &lt;/td&gt;\r\n            &lt;/tr&gt;\r\n          &lt;/table&gt;\r\n        &lt;br&gt;\r\n        &lt;table border=0 bgcolor=#92ADC2 cellspacing=1 cellpadding=3 width=95% align=center&gt;\r\n        \t&lt;tr class=entete&gt;\r\n        \t\t&lt;td class=texte8 align=center&gt;&amp;nbsp;Nom&lt;/td&gt;\r\n        \t\t&lt;td class=texte8 align=center&gt;&amp;nbsp;Date de naissance&lt;/td&gt;\r\n        \t\t&lt;td class=texte8 align=center&gt;&amp;nbsp;Coll&lt;/td&gt;\r\n        \t\t&lt;td class=texte8 align=center&gt;&amp;nbsp;Num&#233;ro&lt;/td&gt;\r\n        \t\t&lt;td class=texte8 align=center&gt;&amp;nbsp;Num&#233;ro contact&lt;/td&gt;\t\t\r\n        \t\t&lt;td class=texte8 align=center&gt;&amp;nbsp;TITULAIRE&lt;/td&gt;\r\n        \t&lt;/tr&gt;\r\n        \t\r\n        \t\t\t&lt;tr class=&quot;outi&quot; onMouseOver=&quot;this.className=&#39;over&#39;;&quot; onMouseOut=&quot;this.className=&#39;outi&#39;;&quot;&gt;\r\n        \t\t\t\t&lt;td class=texte7 align=left colspan=5&gt;&amp;nbsp;Aucun client ne trouve&lt;/td&gt;\r\n        \t\t\t&lt;/tr&gt;\r\n        \t\t\r\n        &lt;/table&gt;\r\n        \r\n        &lt;br&gt;\r\n        &lt;table width=&quot;95%&quot; align=&quot;center&quot; border=&quot;0&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;\r\n          &lt;tr&gt;\r\n            &lt;td align=&quot;right&quot;&gt;\r\n              \t&lt;a target=&quot;corps&quot; href=&quot;gen_rech.jsp&quot; class=&quot;rub2&quot; onmouseover=&quot;voltar.src = &#39;../images/fr/voltar_s.gif&#39;;&quot; onmouseout=&quot;voltar.src = &#39;../images/fr/voltar.gif&#39;;&quot;&gt;&lt;img src=&quot;../images/fr/voltar.gif&quot; border=&quot;0&quot; name=voltar &gt;&lt;/a&gt;\r\n            &lt;/td&gt;\r\n          &lt;/tr&gt; \r\n        &lt;/table&gt;\r\n        &lt;/body&gt;\r\n        &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nPS: i already tried calling by classname it&#39;s not working\r\nAnd checked to browser params to see that it&#39;s actually not fired\r\n","title":"Ajax click event not firing In Javascript File","body":"<p>So i have a table in jsp and i'm trying to fire a function when clicking on the table lines in order to post the data.\nI have a JS file where i creted my function with ajax click event\nproblem is the event is not firing</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    $(document).ready(function() {\n    $(document).on(\"click\",'.outi',(function(MyObj)\n    {   var Myjson = JSON.stringify(MyObj); \n         $.ajax({\n             // Methode POST\n             method: \"POST\",\n             // URL\n             url: \"Client_frameServlet\",\n             // Mode asynchrone pour attendre la fin de l'ajax avant de continuer\n             async: false, // Mode synchrone\n             // Envoie des donnees\n             data: Myjson ,\n             //data: {user: document.princ_form.user.value, numero_carte: document.princ_form.password_old.value, password_n1: document.princ_form.password_n1.value},\n             dataType: \"json\" ,\n             success: function() {\n            alert('In Ajax');\n        }\n             \n         })\n    }));\n    });</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n    \n    &lt;html&gt;\n    &lt;META HTTP-EQUIV=\"expires\" CONTENT=\"0\"&gt;\n    &lt;META HTTP-EQUIV=\"Pragma\" CONTENT=\"no-cache\"&gt;\n    &lt;META http-equiv=\"Content-Type\" content=\"text/html; charset=\"iso-8859-1\"&gt;\n    &lt;head&gt;\n      &lt;title&gt;TX06&lt;/title&gt;\n      &lt;link rel='stylesheet' type='text/css' href='style.css'&gt;\n      &lt;script src=\"date.js\"&gt;&lt;/SCRIPT&gt;\n    &lt;/head&gt;\n    &lt;script src=\"https://code.jquery.com/jquery-3.1.1.min.js\"\n               &gt;&lt;/script&gt;\n    &lt;script src=\"res_gen.js\"&gt;\n    \n    &lt;/script&gt;\n    &lt;body&gt;\n     \n      &lt;table width=\"100%\" align=\"center\" border=0 cellspacing=\"0\" cellpadding=\"0\"&gt;\n        &lt;tr&gt;\n          &lt;td&gt;\n              &lt;table width=\"95%\" align=\"center\" border=0 cellspacing=\"0\" cellpadding=\"0\"&gt;\n                &lt;tr&gt;\n                  &lt;td class=\"titre\"&gt;Résultat de la recherche&lt;/td&gt;\n                &lt;/tr&gt;\n              &lt;/table&gt;\n          &lt;/td&gt;\n        &lt;/tr&gt;\n      &lt;/table&gt;\n    &lt;br&gt;\n    &lt;table border=0 bgcolor=#92ADC2 cellspacing=1 cellpadding=3 width=95% align=center&gt;\n        &lt;tr class=entete&gt;\n            &lt;td class=texte8 align=center&gt;&amp;nbsp;Nom&lt;/td&gt;\n            &lt;td class=texte8 align=center&gt;&amp;nbsp;Date de naissance&lt;/td&gt;\n            &lt;td class=texte8 align=center&gt;&amp;nbsp;Coll&lt;/td&gt;\n            &lt;td class=texte8 align=center&gt;&amp;nbsp;Numéro&lt;/td&gt;\n            &lt;td class=texte8 align=center&gt;&amp;nbsp;Numéro contact&lt;/td&gt;     \n            &lt;td class=texte8 align=center&gt;&amp;nbsp;TITULAIRE&lt;/td&gt;\n        &lt;/tr&gt;\n        \n                &lt;tr class=\"outi\" onMouseOver=\"this.className='over';\" onMouseOut=\"this.className='outi';\"&gt;\n                    &lt;td class=texte7 align=left colspan=5&gt;&amp;nbsp;Aucun client ne trouve&lt;/td&gt;\n                &lt;/tr&gt;\n            \n    &lt;/table&gt;\n    \n    &lt;br&gt;\n    &lt;table width=\"95%\" align=\"center\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\"&gt;\n      &lt;tr&gt;\n        &lt;td align=\"right\"&gt;\n            &lt;a target=\"corps\" href=\"gen_rech.jsp\" class=\"rub2\" onmouseover=\"voltar.src = '../images/fr/voltar_s.gif';\" onmouseout=\"voltar.src = '../images/fr/voltar.gif';\"&gt;&lt;img src=\"../images/fr/voltar.gif\" border=\"0\" name=voltar &gt;&lt;/a&gt;\n        &lt;/td&gt;\n      &lt;/tr&gt; \n    &lt;/table&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>PS: i already tried calling by classname it's not working\nAnd checked to browser params to see that it's actually not fired</p>\n"},{"tags":["java","apache-poi","docx4j"],"comments":[{"owner":{"account_id":16195067,"reputation":13,"user_id":11692903,"display_name":"ExitCode0"},"score":0,"creation_date":1561990492,"post_id":56836889,"comment_id":100226985,"body_markdown":"Can you please help me out in pointing what I missed? I did explore it but did not understand.","body":"Can you please help me out in pointing what I missed? I did explore it but did not understand."},{"owner":{"account_id":16195067,"reputation":13,"user_id":11692903,"display_name":"ExitCode0"},"score":0,"creation_date":1561991934,"post_id":56836889,"comment_id":100227726,"body_markdown":"Updated question, thanks. I will be more clear in future and explore resources properly before coming here.","body":"Updated question, thanks. I will be more clear in future and explore resources properly before coming here."},{"owner":{"account_id":16195067,"reputation":13,"user_id":11692903,"display_name":"ExitCode0"},"score":0,"creation_date":1561992374,"post_id":56836889,"comment_id":100227944,"body_markdown":"Updated subject now :)","body":"Updated subject now :)"},{"owner":{"account_id":30580,"reputation":15487,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1561997162,"post_id":56836889,"comment_id":100230221,"body_markdown":"docx4j can remove content controls (this is trivial: https://github.com/plutext/docx4j/blob/master/docx4j-samples-docx4j/src/main/java/org/docx4j/samples/ContentControlRemove.java ).  It can also bind content controls to an XML data part (more interesting).  Is your drop down list bound to an XML part?  Perhaps you could add the XML representing the content control to your question.","body":"docx4j can remove content controls (this is trivial: <a href=\"https://github.com/plutext/docx4j/blob/master/docx4j-samples-docx4j/src/main/java/org/docx4j/samples/ContentControlRemove.java\" rel=\"nofollow noreferrer\">github.com/plutext/docx4j/blob/master/docx4j-samples-docx4j/&zwnj;&#8203;src/&hellip;</a> ).  It can also bind content controls to an XML data part (more interesting).  Is your drop down list bound to an XML part?  Perhaps you could add the XML representing the content control to your question."},{"owner":{"account_id":30580,"reputation":15487,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1561997247,"post_id":56836889,"comment_id":100230259,"body_markdown":"Converting to legacy binary .doc just to get rid of content controls seems like an odd solution.","body":"Converting to legacy binary .doc just to get rid of content controls seems like an odd solution."},{"owner":{"account_id":16195067,"reputation":13,"user_id":11692903,"display_name":"ExitCode0"},"score":0,"creation_date":1562010969,"post_id":56836889,"comment_id":100235387,"body_markdown":"@JasonPlutext That github solution worked perfectly - It replaced content control with static content. And, yes. drop down list bounds to an XML part. Thanks Sir.","body":"@JasonPlutext That github solution worked perfectly - It replaced content control with static content. And, yes. drop down list bounds to an XML part. Thanks Sir."},{"owner":{"account_id":30580,"reputation":15487,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1562027537,"post_id":56836889,"comment_id":100239357,"body_markdown":"If it is bound to an XML part, be aware that you might need to apply the bindings so that the content is up to date before removing the content controls!","body":"If it is bound to an XML part, be aware that you might need to apply the bindings so that the content is up to date before removing the content controls!"},{"owner":{"account_id":16195067,"reputation":13,"user_id":11692903,"display_name":"ExitCode0"},"score":0,"creation_date":1562077826,"post_id":56836889,"comment_id":100259547,"body_markdown":"Sure, I will look into it. Thanks","body":"Sure, I will look into it. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":30580,"reputation":15487,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1562027443,"creation_date":1562027443,"answer_id":56843929,"question_id":56836889,"body_markdown":"docx4j can remove content controls\r\n\r\nThe essence of the sample code at https://github.com/plutext/docx4j/blob/master/docx4j-samples-docx4j/src/main/java/org/docx4j/samples/ContentControlRemove.java reproduced below:\r\n\r\n\t\tString input_DOCX = System.getProperty(&quot;user.dir&quot;) + &quot;/some.docx&quot;;\r\n\t\t\r\n\t\t// resulting docx\r\n\t\tString OUTPUT_DOCX = System.getProperty(&quot;user.dir&quot;) + &quot;/OUT_ContentControlRemove.docx&quot;;\r\n\t\t\r\n\t\t// Load input_template.docx\r\n\t\tWordprocessingMLPackage wordMLPackage = Docx4J.load(new File(input_DOCX));\r\n\r\n\t\t// There is no xml stream\r\n\t\tFileInputStream xmlStream = null;\r\n\r\n\t\tDocx4J.bind(wordMLPackage, xmlStream, Docx4J.FLAG_BIND_REMOVE_SDT);\r\n\t\t\r\n\t\t//Save the document \r\n\t\tDocx4J.save(wordMLPackage, new File(OUTPUT_DOCX), Docx4J.FLAG_NONE);","title":"Removing content controls from Docx","body":"<p>docx4j can remove content controls</p>\n\n<p>The essence of the sample code at <a href=\"https://github.com/plutext/docx4j/blob/master/docx4j-samples-docx4j/src/main/java/org/docx4j/samples/ContentControlRemove.java\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j/blob/master/docx4j-samples-docx4j/src/main/java/org/docx4j/samples/ContentControlRemove.java</a> reproduced below:</p>\n\n<pre><code>    String input_DOCX = System.getProperty(\"user.dir\") + \"/some.docx\";\n\n    // resulting docx\n    String OUTPUT_DOCX = System.getProperty(\"user.dir\") + \"/OUT_ContentControlRemove.docx\";\n\n    // Load input_template.docx\n    WordprocessingMLPackage wordMLPackage = Docx4J.load(new File(input_DOCX));\n\n    // There is no xml stream\n    FileInputStream xmlStream = null;\n\n    Docx4J.bind(wordMLPackage, xmlStream, Docx4J.FLAG_BIND_REMOVE_SDT);\n\n    //Save the document \n    Docx4J.save(wordMLPackage, new File(OUTPUT_DOCX), Docx4J.FLAG_NONE);\n</code></pre>\n"}],"owner":{"account_id":16195067,"reputation":13,"user_id":11692903,"display_name":"ExitCode0"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1004,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":56843929,"answer_count":1,"score":0,"last_activity_date":1666182867,"creation_date":1561989096,"question_id":56836889,"body_markdown":"I want to replace content controls(drop down list only) in a `docx` with actual text and then applying some logic on document to extract out tables using `apache-poi`. If I don&#39;t do it then cells having content control are not extracted.\r\nIf, I save my `docx` manually as Word 97-2003(`*.doc`) then it asks to removes all content controls and replace it with text being selected so I am planning to convert `docx` to `doc` to get rid of content controls.\r\nI&#39;ve explored so far:\r\n\r\n - I came across `Aspose.words` library but it is paid one and can do a\r\n   job in just 3 lines of code(tested with trial version).\r\n - I tried `POI` itself but did not understand how to do it exactly. I tried below code:\r\n\r\n \r\n\r\n        XWPFDocument doc = new XWPFDocument(new FileInputStream(&quot;&lt;DOCX_FILE_PATH&gt;&quot;));`\r\n        FileOutputStream fos = new FileOutputStream(&quot;&lt;PATH_FOR_DOC_FILE&gt;&quot;);\r\n        doc.write(fos);\r\n        fos.close();\r\n\r\nIt does create doc file but did not remove content controls as it did with `aspose`.\r\n\r\n - I am restraining for now to try `JODConverter` because it relies on `LibreOffice` or `OpenOffice`- We don&#39;t have it on server and don&#39;t have permission to install new softwares.\r\n - I looked into `Docx4J` but looks like it can&#39;t do it after checking its API.\r\n\r\nwhat would be a best way to handle this scenario, is there any way to replace content controls directly? Thanks!","title":"Removing content controls from Docx","body":"<p>I want to replace content controls(drop down list only) in a <code>docx</code> with actual text and then applying some logic on document to extract out tables using <code>apache-poi</code>. If I don't do it then cells having content control are not extracted.\nIf, I save my <code>docx</code> manually as Word 97-2003(<code>*.doc</code>) then it asks to removes all content controls and replace it with text being selected so I am planning to convert <code>docx</code> to <code>doc</code> to get rid of content controls.\nI've explored so far:</p>\n<ul>\n<li><p>I came across <code>Aspose.words</code> library but it is paid one and can do a\njob in just 3 lines of code(tested with trial version).</p>\n</li>\n<li><p>I tried <code>POI</code> itself but did not understand how to do it exactly. I tried below code:</p>\n<pre><code> XWPFDocument doc = new XWPFDocument(new FileInputStream(&quot;&lt;DOCX_FILE_PATH&gt;&quot;));`\n FileOutputStream fos = new FileOutputStream(&quot;&lt;PATH_FOR_DOC_FILE&gt;&quot;);\n doc.write(fos);\n fos.close();\n</code></pre>\n</li>\n</ul>\n<p>It does create doc file but did not remove content controls as it did with <code>aspose</code>.</p>\n<ul>\n<li>I am restraining for now to try <code>JODConverter</code> because it relies on <code>LibreOffice</code> or <code>OpenOffice</code>- We don't have it on server and don't have permission to install new softwares.</li>\n<li>I looked into <code>Docx4J</code> but looks like it can't do it after checking its API.</li>\n</ul>\n<p>what would be a best way to handle this scenario, is there any way to replace content controls directly? Thanks!</p>\n"},{"tags":["java","php","aes"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1665992181,"post_id":74093529,"comment_id":130820376,"body_markdown":"The PHP code is missing the hex decoding of IV and salt. By the way, a static salt and a static IV are insecure.","body":"The PHP code is missing the hex decoding of IV and salt. By the way, a static salt and a static IV are insecure."},{"owner":{"account_id":13221222,"reputation":21,"user_id":9547896,"display_name":"abar yadi"},"score":0,"creation_date":1665992685,"post_id":74093529,"comment_id":130820518,"body_markdown":"thank you for the reply, i was add hex for iv but the result is still different. and salt, iv static from document API","body":"thank you for the reply, i was add hex for iv but the result is still different. and salt, iv static from document API"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1665994338,"post_id":74093529,"comment_id":130821052,"body_markdown":"*... i was add hex for iv but...*: The hex decoding in the PHP code must be done for IV **and** salt (in the Java code both are hex decoded as well!). After this fix, both codes return the same ciphertext on my machine. If it still doesn&#39;t work for you, please edit your question and post test data.","body":"<i>... i was add hex for iv but...</i>: The hex decoding in the PHP code must be done for IV <b>and</b> salt (in the Java code both are hex decoded as well!). After this fix, both codes return the same ciphertext on my machine. If it still doesn&#39;t work for you, please edit your question and post test data."},{"owner":{"account_id":13221222,"reputation":21,"user_id":9547896,"display_name":"abar yadi"},"score":0,"creation_date":1666172623,"post_id":74093529,"comment_id":130870814,"body_markdown":"I couldn’t have done it without you","body":"I couldn’t have done it without you"}],"owner":{"account_id":13221222,"reputation":21,"user_id":9547896,"display_name":"abar yadi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666182808,"creation_date":1665989820,"question_id":74093529,"body_markdown":"I had issue when converting AES encryption from java to php, it show different value result in php, that should show the exact value from java\r\n\r\n   \r\n\r\nJava \r\n\r\n    public class AesUtil {\r\n        private final Cipher cipher;\r\n        public final static String passPhrase = &quot;&quot;;\r\n        public final static String IV = &quot;&quot;; //32bit IV Lenght\r\n        public final static  String SALT = &quot;&quot;;\r\n        public final static int KEY_SIZE = 128;\r\n        public final static int ITERATION_COUNT = 10000;\r\n    \r\n        public AesUtil() {\r\n            try {\r\n                cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n            }\r\n            catch (NoSuchAlgorithmException | NoSuchPaddingException e) {\r\n                throw fail(e);\r\n            }\r\n        }\r\n        //Call this function to encrypt some String\r\n        public String encrypt(String passPhrase, String plaintext) {\r\n            try {\r\n                SecretKey key = generateKey(SALT, passPhrase);\r\n    \r\n    \r\n    \r\n                byte[] encrypted = doFinal(Cipher.ENCRYPT_MODE, key, IV, plaintext.getBytes(&quot;UTF-8&quot;));\r\n                return base64(encrypted);\r\n    \r\n            }\r\n            catch (UnsupportedEncodingException e) {\r\n                throw fail(e);\r\n            }\r\n        }\r\n    \r\n        private byte[] doFinal(int encryptMode, SecretKey key, String iv, byte[] bytes) {\r\n            try {\r\n                cipher.init(encryptMode, key, new IvParameterSpec(hex(IV)));\r\n                return cipher.doFinal(bytes);\r\n            }\r\n            catch (InvalidKeyException\r\n                    | InvalidAlgorithmParameterException\r\n                    | IllegalBlockSizeException\r\n                    | BadPaddingException e) {\r\n                throw fail(e);\r\n            }\r\n        }\r\n    \r\n        private SecretKey generateKey(String salt, String passphrase) {\r\n            try {\r\n                SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\r\n                    KeySpec spec = new PBEKeySpec(passphrase.toCharArray(), hex(salt), ITERATION_COUNT, KEY_SIZE);\r\n                SecretKey key = new SecretKeySpec(factory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\r\n                return key;\r\n            }\r\n            catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\r\n                throw fail(e);\r\n            }\r\n        }\r\n    \r\n        public static String random(int length) {\r\n            byte[] salt = new byte[length];\r\n            new SecureRandom().nextBytes(salt);\r\n            return hex(salt);\r\n        }\r\n    \r\n        public static String base64(byte[] bytes) {\r\n            return new String(Base64.encodeBase64(bytes));\r\n        }\r\n    \r\n        public static byte[] base64(String str) {\r\n            return Base64.decodeBase64(str.getBytes());\r\n        }\r\n    \r\n        public static String hex(byte[] bytes) {\r\n            return Hex.encodeHexString(bytes);\r\n        }\r\n    \r\n        public static byte[] hex(String str) {\r\n            try {\r\n                return Hex.decodeHex(str.toCharArray());\r\n            }\r\n            catch (DecoderException e) {\r\n                throw new IllegalStateException(e);\r\n            }\r\n        }\r\n        private IllegalStateException fail(Exception e) {\r\n            return new IllegalStateException(e);\r\n        }\r\n    }\r\n\r\nthis is my code in php version, \r\n\r\n    &lt;?php\r\n        $password = &quot;&quot;;\r\n            $salt = &quot;&quot;;\r\n            $iv = &quot;&quot;; //32bit IV Lenght\r\n            $length = 16;\r\n            $salt = &quot;&quot;;\r\n            $interation = 10000;\r\n        \r\n            $key1 = mb_convert_encoding($password, &quot;UTF-8&quot;);\r\n            $bytes = openssl_pbkdf2($key1, $salt, $length, $interation, &quot;sha1&quot;);\r\n        \r\n            $bytes2 = hash_pbkdf2(&quot;sha1&quot;, $password, $salt, $interation, $length, true);\r\n        \r\n        \r\n            $ciphertext_b64 = base64_encode(openssl_encrypt($plaintext,&quot;aes-128-cbc&quot;, $bytes2,OPENSSL_RAW_DATA, $iv));\r\n    \r\n    ?&gt;\r\n\r\nPlease tell me how to solve this problem, if you have any suggestion in different programming language it&#39;s no problem, thank you \r\n","title":"AES with salt from java to PHP get different result","body":"<p>I had issue when converting AES encryption from java to php, it show different value result in php, that should show the exact value from java</p>\n<p>Java</p>\n<pre><code>public class AesUtil {\n    private final Cipher cipher;\n    public final static String passPhrase = &quot;&quot;;\n    public final static String IV = &quot;&quot;; //32bit IV Lenght\n    public final static  String SALT = &quot;&quot;;\n    public final static int KEY_SIZE = 128;\n    public final static int ITERATION_COUNT = 10000;\n\n    public AesUtil() {\n        try {\n            cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n        }\n        catch (NoSuchAlgorithmException | NoSuchPaddingException e) {\n            throw fail(e);\n        }\n    }\n    //Call this function to encrypt some String\n    public String encrypt(String passPhrase, String plaintext) {\n        try {\n            SecretKey key = generateKey(SALT, passPhrase);\n\n\n\n            byte[] encrypted = doFinal(Cipher.ENCRYPT_MODE, key, IV, plaintext.getBytes(&quot;UTF-8&quot;));\n            return base64(encrypted);\n\n        }\n        catch (UnsupportedEncodingException e) {\n            throw fail(e);\n        }\n    }\n\n    private byte[] doFinal(int encryptMode, SecretKey key, String iv, byte[] bytes) {\n        try {\n            cipher.init(encryptMode, key, new IvParameterSpec(hex(IV)));\n            return cipher.doFinal(bytes);\n        }\n        catch (InvalidKeyException\n                | InvalidAlgorithmParameterException\n                | IllegalBlockSizeException\n                | BadPaddingException e) {\n            throw fail(e);\n        }\n    }\n\n    private SecretKey generateKey(String salt, String passphrase) {\n        try {\n            SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\n                KeySpec spec = new PBEKeySpec(passphrase.toCharArray(), hex(salt), ITERATION_COUNT, KEY_SIZE);\n            SecretKey key = new SecretKeySpec(factory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\n            return key;\n        }\n        catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\n            throw fail(e);\n        }\n    }\n\n    public static String random(int length) {\n        byte[] salt = new byte[length];\n        new SecureRandom().nextBytes(salt);\n        return hex(salt);\n    }\n\n    public static String base64(byte[] bytes) {\n        return new String(Base64.encodeBase64(bytes));\n    }\n\n    public static byte[] base64(String str) {\n        return Base64.decodeBase64(str.getBytes());\n    }\n\n    public static String hex(byte[] bytes) {\n        return Hex.encodeHexString(bytes);\n    }\n\n    public static byte[] hex(String str) {\n        try {\n            return Hex.decodeHex(str.toCharArray());\n        }\n        catch (DecoderException e) {\n            throw new IllegalStateException(e);\n        }\n    }\n    private IllegalStateException fail(Exception e) {\n        return new IllegalStateException(e);\n    }\n}\n</code></pre>\n<p>this is my code in php version,</p>\n<pre><code>&lt;?php\n    $password = &quot;&quot;;\n        $salt = &quot;&quot;;\n        $iv = &quot;&quot;; //32bit IV Lenght\n        $length = 16;\n        $salt = &quot;&quot;;\n        $interation = 10000;\n    \n        $key1 = mb_convert_encoding($password, &quot;UTF-8&quot;);\n        $bytes = openssl_pbkdf2($key1, $salt, $length, $interation, &quot;sha1&quot;);\n    \n        $bytes2 = hash_pbkdf2(&quot;sha1&quot;, $password, $salt, $interation, $length, true);\n    \n    \n        $ciphertext_b64 = base64_encode(openssl_encrypt($plaintext,&quot;aes-128-cbc&quot;, $bytes2,OPENSSL_RAW_DATA, $iv));\n\n?&gt;\n</code></pre>\n<p>Please tell me how to solve this problem, if you have any suggestion in different programming language it's no problem, thank you</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1666183200,"post_id":74125407,"comment_id":130874658,"body_markdown":"I&#39;m not quite sure what you&#39;re asking for. Why not just iterate through the widgets, check the date and if you found one just return that otherwise return all? You might want to read [ask] and elaborate.","body":"I&#39;m not quite sure what you&#39;re asking for. Why not just iterate through the widgets, check the date and if you found one just return that otherwise return all? You might want to read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and elaborate."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1666183324,"post_id":74125407,"comment_id":130874717,"body_markdown":"Btw, `(id1, id2) -&gt; (id2.getWidgetId().compareTo(id1.getWidgetId())` could be written as `Comparator.comparing(WidgetData::getWidgetId)` or `Comparator.comparing(w -&gt; w.getWidgetId())`. - Also `for (WidgetData widgetData : widget.toArray(new WidgetData[0]));` doesn&#39;t do anything and if you&#39;d want to iterate then `for (WidgetData widgetData : widget)` would be sufficient as `widget` is a `List&lt;WidgetData&gt;`.","body":"Btw, <code>(id1, id2) -&gt; (id2.getWidgetId().compareTo(id1.getWidgetId())</code> could be written as <code>Comparator.comparing(WidgetData::getWidgetId)</code> or <code>Comparator.comparing(w -&gt; w.getWidgetId())</code>. - Also <code>for (WidgetData widgetData : widget.toArray(new WidgetData[0]));</code> doesn&#39;t do anything and if you&#39;d want to iterate then <code>for (WidgetData widgetData : widget)</code> would be sufficient as <code>widget</code> is a <code>List&lt;WidgetData&gt;</code>."},{"owner":{"account_id":26652044,"reputation":1,"user_id":20281919,"display_name":"Mahrukh Ahmad"},"score":0,"creation_date":1666183875,"post_id":74125407,"comment_id":130874952,"body_markdown":"Yes, i want to iterate through it to check that if startDate becomes equal to widget createdDate, craetedDate is dummy data , i cant understand the logic how to compare it and get the result.","body":"Yes, i want to iterate through it to check that if startDate becomes equal to widget createdDate, craetedDate is dummy data , i cant understand the logic how to compare it and get the result."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1666184164,"post_id":74125407,"comment_id":130875060,"body_markdown":"I&#39;m not sure what problem you&#39;re having in understanding. If you have the required date as a string in the same format your date data has (or better convert everything to `LocalDate`) then just iterate, compare the dates (use `equals()` or `compareTo()`) and if the condition is true collect the element into a list. Finally check if the list has some elements and if so return it. If not, return the user data you&#39;ve mentioned.","body":"I&#39;m not sure what problem you&#39;re having in understanding. If you have the required date as a string in the same format your date data has (or better convert everything to <code>LocalDate</code>) then just iterate, compare the dates (use <code>equals()</code> or <code>compareTo()</code>) and if the condition is true collect the element into a list. Finally check if the list has some elements and if so return it. If not, return the user data you&#39;ve mentioned."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1666184213,"post_id":74125407,"comment_id":130875081,"body_markdown":"Btw, if you have trouble iterating over a list and comparing element data you seem to be a beginner and should not be working on complex topics like rest controllers etc. just yet.","body":"Btw, if you have trouble iterating over a list and comparing element data you seem to be a beginner and should not be working on complex topics like rest controllers etc. just yet."},{"owner":{"account_id":26652044,"reputation":1,"user_id":20281919,"display_name":"Mahrukh Ahmad"},"score":0,"creation_date":1666184427,"post_id":74125407,"comment_id":130875162,"body_markdown":"Yes, i am beginner and i have trouble iterating through over list and comparing date element.","body":"Yes, i am beginner and i have trouble iterating through over list and comparing date element."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1666184672,"post_id":74125407,"comment_id":130875284,"body_markdown":"In that case I&#39;d suggest grabbing a Java tutorial and working through it. I already explained the basic approach above, let me add some simple sample code based on your&#39;s: `for( WidgetData w : widget) { if(query.getStartDate().equals(w.getCreatedDate()) { /*match found, do whatever you want with it*/ }}`. - I&#39;ll reiterate though: if you&#39;re such a beginner, start with basic tutorials and code instead of diving head first into complex topics such as controllers,  database access, etc. You will save yourself a lot of headaches.","body":"In that case I&#39;d suggest grabbing a Java tutorial and working through it. I already explained the basic approach above, let me add some simple sample code based on your&#39;s: <code>for( WidgetData w : widget) { if(query.getStartDate().equals(w.getCreatedDate()) { &#47;*match found, do whatever you want with it*&#47; }}</code>. - I&#39;ll reiterate though: if you&#39;re such a beginner, start with basic tutorials and code instead of diving head first into complex topics such as controllers,  database access, etc. You will save yourself a lot of headaches."}],"owner":{"account_id":26652044,"reputation":1,"user_id":20281919,"display_name":"Mahrukh Ahmad"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666182803,"creation_date":1666182803,"question_id":74125407,"body_markdown":"  \r\n**This is my controller class**\r\n \r\n\r\n     public Object getDashboardUser(@RequestParam (&quot;state&quot;) String state,@RequestParam(&quot;startDate&quot;) String startDate,\r\n                                           @RequestHeader(GradebookConstants.AUTHORIZATION) String token){\r\n                try {\r\n                    var query = new FindDashboardUser();\r\n                     query.setState(state);\r\n                     query.setStartDate(startDate);\r\n                    var response = queryGateway.query(query, ResponseTypes.instanceOf(Object.class)).join();\r\n        \r\n                    if (response == null){\r\n                        return new ResponseEntity&lt;&gt;(null, HttpStatus.NO_CONTENT);\r\n                    }\r\n                    return response;\r\n                }\r\n                catch (Exception ex){\r\n                    logger.info(ex.getMessage());\r\n                    var safeErrorMessage = GradebookConstants.FAILED_TO_GET_BY_ID;\r\n                    return new ResponseEntity&lt;&gt;(safeErrorMessage, \r\n                       HttpStatus.INTERNAL_SERVER_ERROR);\r\n                }\r\n        \r\n            }\r\n\r\n  **This is my implementation class, here i want to fetch data by date, so that if startDate is equal to my widget class(createdDate), it fetches just that record, if it not matches then it return all the data from user object.**\r\n\r\n    @QueryHandler\r\n        @Override\r\n        public Object getDashboardUser(FindDashboardUser query) {\r\n    \r\n            List&lt;WidgetData&gt; widget = new ArrayList&lt;WidgetData&gt;();\r\n            widget.add(new WidgetData(&quot;1&quot;, &quot;Needs Grading User&quot;, 1, &quot;0988-884884-144a&quot;,&quot;10-18-2022&quot;));\r\n            widget.add(new WidgetData(&quot;4&quot;, &quot;Needs Grading User&quot;, 3, &quot;0988-884884-244b&quot;,&quot;10-17-2022&quot;));\r\n            widget.add(new WidgetData(&quot;3&quot;, &quot;Needs Grading User&quot;, 5, &quot;0988-884884-344c&quot;,&quot;10-19-2022&quot;));\r\n            widget.add(new WidgetData(&quot;5&quot;, &quot;Needs Grading User&quot;, 4, &quot;0988-884884-444d&quot;,&quot;10-20-2022&quot;));\r\n            widget.add(new WidgetData(&quot;2&quot;, &quot;Needs Grading User&quot;, 2, &quot;0988-884884-544e&quot;,&quot;10-21-2022&quot;));\r\n    \r\n            List&lt;DashboardUserResponseDto&gt; user = new ArrayList&lt;DashboardUserResponseDto&gt;();\r\n            user.add(new DashboardUserResponseDto(&quot;0988-884884-344&quot;, &quot;User Dashboard Widget&quot;, &quot;Custom \r\n            Widget&quot;, widget));\r\n    \r\n            Collections.sort(widget, (id1, id2) -&gt; (id2.getWidgetId().compareTo(id1.getWidgetId())));\r\n    \r\n    \r\n             Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n             for (WidgetData widgetData : widget.toArray(new WidgetData[0]));\r\n    \r\n            return user;\r\n        }\r\n**This is widget class**\r\n\r\n    public class WidgetData {\r\n        private String widgetId;\r\n        private String widgetName;\r\n        private Integer sequence;\r\n        private String userId;\r\n        private String createdDate;\r\n    }\r\n**This is my DashboardUserResponseDto**\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public class DashboardUserResponseDto {\r\n        private String userId;\r\n        private String name;\r\n        private String type;\r\n        private List&lt;WidgetData&gt; widgetDetails;\r\n    }","title":"Fetch date data from list of objects in java using spring boot","body":"<p><strong>This is my controller class</strong></p>\n<pre><code> public Object getDashboardUser(@RequestParam (&quot;state&quot;) String state,@RequestParam(&quot;startDate&quot;) String startDate,\n                                       @RequestHeader(GradebookConstants.AUTHORIZATION) String token){\n            try {\n                var query = new FindDashboardUser();\n                 query.setState(state);\n                 query.setStartDate(startDate);\n                var response = queryGateway.query(query, ResponseTypes.instanceOf(Object.class)).join();\n    \n                if (response == null){\n                    return new ResponseEntity&lt;&gt;(null, HttpStatus.NO_CONTENT);\n                }\n                return response;\n            }\n            catch (Exception ex){\n                logger.info(ex.getMessage());\n                var safeErrorMessage = GradebookConstants.FAILED_TO_GET_BY_ID;\n                return new ResponseEntity&lt;&gt;(safeErrorMessage, \n                   HttpStatus.INTERNAL_SERVER_ERROR);\n            }\n    \n        }\n</code></pre>\n<p><strong>This is my implementation class, here i want to fetch data by date, so that if startDate is equal to my widget class(createdDate), it fetches just that record, if it not matches then it return all the data from user object.</strong></p>\n<pre><code>@QueryHandler\n    @Override\n    public Object getDashboardUser(FindDashboardUser query) {\n\n        List&lt;WidgetData&gt; widget = new ArrayList&lt;WidgetData&gt;();\n        widget.add(new WidgetData(&quot;1&quot;, &quot;Needs Grading User&quot;, 1, &quot;0988-884884-144a&quot;,&quot;10-18-2022&quot;));\n        widget.add(new WidgetData(&quot;4&quot;, &quot;Needs Grading User&quot;, 3, &quot;0988-884884-244b&quot;,&quot;10-17-2022&quot;));\n        widget.add(new WidgetData(&quot;3&quot;, &quot;Needs Grading User&quot;, 5, &quot;0988-884884-344c&quot;,&quot;10-19-2022&quot;));\n        widget.add(new WidgetData(&quot;5&quot;, &quot;Needs Grading User&quot;, 4, &quot;0988-884884-444d&quot;,&quot;10-20-2022&quot;));\n        widget.add(new WidgetData(&quot;2&quot;, &quot;Needs Grading User&quot;, 2, &quot;0988-884884-544e&quot;,&quot;10-21-2022&quot;));\n\n        List&lt;DashboardUserResponseDto&gt; user = new ArrayList&lt;DashboardUserResponseDto&gt;();\n        user.add(new DashboardUserResponseDto(&quot;0988-884884-344&quot;, &quot;User Dashboard Widget&quot;, &quot;Custom \n        Widget&quot;, widget));\n\n        Collections.sort(widget, (id1, id2) -&gt; (id2.getWidgetId().compareTo(id1.getWidgetId())));\n\n\n         Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n         for (WidgetData widgetData : widget.toArray(new WidgetData[0]));\n\n        return user;\n    }\n</code></pre>\n<p><strong>This is widget class</strong></p>\n<pre><code>public class WidgetData {\n    private String widgetId;\n    private String widgetName;\n    private Integer sequence;\n    private String userId;\n    private String createdDate;\n}\n</code></pre>\n<p><strong>This is my DashboardUserResponseDto</strong></p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class DashboardUserResponseDto {\n    private String userId;\n    private String name;\n    private String type;\n    private List&lt;WidgetData&gt; widgetDetails;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","unit-testing","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1666170137,"post_id":74121329,"comment_id":130869845,"body_markdown":"According to the error, you need to define a bean of type `DataSource` in your test context.","body":"According to the error, you need to define a bean of type <code>DataSource</code> in your test context."}],"answers":[{"comments":[{"owner":{"account_id":26659931,"reputation":3,"user_id":20272914,"display_name":"Kinder maxi"},"score":0,"creation_date":1666169350,"post_id":74122344,"comment_id":130869542,"body_markdown":"Yes, i have an application.properties with the following : spring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=password    but doesn&#39;t work","body":"Yes, i have an application.properties with the following : spring.datasource.url=jdbc:h2:mem:testdb spring.datasource.driverClassName=org.h2.Driver spring.datasource.username=sa spring.datasource.password=password    but doesn&#39;t work"},{"owner":{"account_id":25301977,"reputation":31,"user_id":19126107,"display_name":"Massnissa BELAID"},"score":0,"creation_date":1666170027,"post_id":74122344,"comment_id":130869807,"body_markdown":"have you another application.properties ? see src/test/rasources","body":"have you another application.properties ? see src/test/rasources"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1666170195,"post_id":74122344,"comment_id":130869873,"body_markdown":"Spring Batch does not create tables, it is Spring Boot that does that (if you instruct it to do so).","body":"Spring Batch does not create tables, it is Spring Boot that does that (if you instruct it to do so)."},{"owner":{"account_id":26659931,"reputation":3,"user_id":20272914,"display_name":"Kinder maxi"},"score":0,"creation_date":1666173493,"post_id":74122344,"comment_id":130871109,"body_markdown":"i have two .properties , one is application-dev.properties for main batch application e one is application.properties in src/test/resources with in memory H2 database for test","body":"i have two .properties , one is application-dev.properties for main batch application e one is application.properties in src/test/resources with in memory H2 database for test"}],"tags":[],"owner":{"account_id":25301977,"reputation":31,"user_id":19126107,"display_name":"Massnissa BELAID"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666168918,"creation_date":1666168918,"answer_id":74122344,"question_id":74121329,"body_markdown":"Spring Batch automatically creates tables in db, do you have a database launched and linked to your project ?\r\n\r\nIf not, use the application.properties file to bind your project to the database, Exemple for Postgres database, with db name dbName :\r\n\r\n    spring.datasource.platform=postgres\r\n    spring.datasource.jdbc-url=jdbc:postgresql://host:port/dbName\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=postgres","title":"How to test spring batch job","body":"<p>Spring Batch automatically creates tables in db, do you have a database launched and linked to your project ?</p>\n<p>If not, use the application.properties file to bind your project to the database, Exemple for Postgres database, with db name dbName :</p>\n<pre><code>spring.datasource.platform=postgres\nspring.datasource.jdbc-url=jdbc:postgresql://host:port/dbName\nspring.datasource.username=postgres\nspring.datasource.password=postgres\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26659931,"reputation":3,"user_id":20272914,"display_name":"Kinder maxi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666182582,"creation_date":1666182582,"answer_id":74125355,"question_id":74121329,"body_markdown":"I answer to myself, maybe it can be useful to someone, I created a configuration class for my Datasource with a configuration bean inside:\r\n\r\n    public class DataSourceConfig {\r\n    @Bean\r\n    public DataSource dataSource() {\r\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n        dataSource.setDriverClassName(&quot;org.h2.Driver&quot;);\r\n        dataSource.setUrl(&quot;jdbc:h2:mem:db;DB_CLOSE_DELAY=-1&quot;);\r\n        dataSource.setUsername(&quot;sa&quot;);\r\n        dataSource.setPassword(&quot;sa&quot;);\r\n\r\n        return dataSource;\r\n    }}\r\n\r\n\r\n\r\nalthough i solved this problem now i have others lol, i hope it will be useful to someone :-)","title":"How to test spring batch job","body":"<p>I answer to myself, maybe it can be useful to someone, I created a configuration class for my Datasource with a configuration bean inside:</p>\n<pre><code>public class DataSourceConfig {\n@Bean\npublic DataSource dataSource() {\n    DriverManagerDataSource dataSource = new DriverManagerDataSource();\n    dataSource.setDriverClassName(&quot;org.h2.Driver&quot;);\n    dataSource.setUrl(&quot;jdbc:h2:mem:db;DB_CLOSE_DELAY=-1&quot;);\n    dataSource.setUsername(&quot;sa&quot;);\n    dataSource.setPassword(&quot;sa&quot;);\n\n    return dataSource;\n}}\n</code></pre>\n<p>although i solved this problem now i have others lol, i hope it will be useful to someone :-)</p>\n"}],"owner":{"account_id":26659931,"reputation":3,"user_id":20272914,"display_name":"Kinder maxi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":850,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666182582,"creation_date":1666164080,"question_id":74121329,"body_markdown":"I&#39;m trying to test a job but I can&#39;t get to the bottom of it, basically my step consists of a single reader and a composite Processor and a Composite writer, all this because I have to read from a single .CSV and write on MongoDB and Mysql,\r\nhere is my Job Configuration class:      \r\n\r\n\r\n\r\n``` \r\n\r\n@Configuration\r\n@EnableBatchProcessing\r\npublic class BatchConfiguration {\r\n\r\n    @Autowired\r\n    public JobBuilderFactory jobBuilderFactory;\r\n    @Autowired\r\n    public StepBuilderFactory stepBuilderFactory;\r\n\r\n    @Autowired\r\n    public  MarketDataMySqlRepository marketDataMySqlRepository;\r\n\r\n\r\n    @Value(&quot;${file.input}&quot;)\r\n    private String fileInput;\r\n\r\n\r\n\r\n\r\n    @Bean\r\n    public TaskExecutor taskExecutor(){\r\n        SimpleAsyncTaskExecutor taskExecutor=new SimpleAsyncTaskExecutor(&quot;customerInfoThreads-&quot;);\r\n        return taskExecutor;\r\n    }\r\n\r\n\r\n    @Bean\r\n    public FlatFileItemReader&lt;MarketDataDto&gt; reader() {\r\n        return new FlatFileItemReaderBuilder&lt;MarketDataDto&gt;().name(&quot;ItemReader&quot;)\r\n                .resource(new PathResource(fileInput)).delimited()\r\n                .names(&quot;time&quot;,&quot;id&quot;, &quot;price&quot;, &quot;quantity&quot;, &quot;isbuyermaker&quot;)\r\n                .fieldSetMapper(new BeanWrapperFieldSetMapper&lt;MarketDataDto&gt;() {\r\n                    {\r\n                        setTargetType(MarketDataDto.class);\r\n                    }\r\n                }).build();\r\n    }\r\n\r\n    @Bean\r\n    public MongoItemWriter&lt;MarketDataMongo&gt; writer(MongoTemplate mongoTemplate) {\r\n\r\n        return new MongoItemWriterBuilder&lt;MarketDataMongo&gt;().template(mongoTemplate).collection(&quot;marketdata&quot;)\r\n                .build();\r\n\r\n    }\r\n    @Bean\r\n    public RepositoryItemWriter&lt;MarketDataMySql&gt; writer1() {\r\n        RepositoryItemWriter&lt;MarketDataMySql&gt; writer = new RepositoryItemWriter&lt;&gt;();\r\n        writer.setRepository(marketDataMySqlRepository);\r\n        writer.setMethodName(&quot;save&quot;);\r\n        return writer;\r\n    }\r\n\r\n    @Bean\r\n    public CompositeItemWriter CompositeItemWriter(MongoTemplate mongoTemplate){\r\n        CompositeItemWriter writer = new CompositeItemWriter();\r\n        writer.setDelegates(Arrays.asList(writer(mongoTemplate),writer1()));\r\n        return writer;\r\n    }\r\n\r\n\r\n    @Bean\r\n    public UserItemProcessorMongo MongoProcessor() {\r\n        return new UserItemProcessorMongo();\r\n    }\r\n    @Bean\r\n    public UserItemProcessorMySql MySqlProcessor() {return new UserItemProcessorMySql();}\r\n\r\n\r\n    @Bean\r\n    public CompositeItemProcessor compositeProcessor() throws Exception {\r\n        List&lt;ItemProcessor&lt;MarketDataDto,MarketDataMongo&gt;&gt; itemProcessors = new ArrayList&lt;&gt;(1);\r\n        List&lt;ItemProcessor&lt;MarketDataDto,MarketDataMySql&gt;&gt; itemProcessors1 = new ArrayList&lt;&gt;(1);\r\n        itemProcessors1.add(MySqlProcessor());\r\n        itemProcessors.add(MongoProcessor());\r\n        CompositeItemProcessor processor = new CompositeItemProcessor();\r\n        processor.setDelegates(itemProcessors);\r\n        processor.setDelegates(itemProcessors1);\r\n        //processor.afterPropertiesSet();\r\n        return processor;\r\n\r\n    }\r\n\r\n    @Bean\r\n    public Step step1(FlatFileItemReader&lt;MarketDataDto&gt; itemReader, MongoItemWriter&lt;MarketDataMongo&gt; itemWriter, MongoTemplate mongoTemplate)\r\n            throws Exception {\r\n        return this.stepBuilderFactory.get(&quot;step1&quot;).chunk(200000).reader(itemReader)\r\n                .processor(compositeProcessor()).writer(CompositeItemWriter(mongoTemplate)).build();\r\n\r\n    }\r\n\r\n    @Bean\r\n    public Job updateUserJob(JobCompletionNotificationListener listener, Step step1)\r\n            throws Exception {\r\n\r\n        return this.jobBuilderFactory.get(&quot;updateMarketJob&quot;).incrementer(new RunIdIncrementer())\r\n                .listener(listener).start(step1).build();\r\n    }\r\n\r\n    }\r\n```\r\nAnd this is my TestClass :\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBatchTest\r\n@ContextConfiguration(classes= {BatchConfiguration.class, BatchAutoConfiguration.class})\r\npublic class BatchConfigurationTest {\r\n\r\n\r\n    @Autowired\r\n    private JobLauncherTestUtils jobLauncherTestUtils;\r\n\r\n    @Autowired\r\n    private JobRepositoryTestUtils jobRepositoryTestUtils;\r\n\r\n    @Autowired\r\n    private MarketDataMySqlRepository marketDataMySqlRepository;\r\n\r\n\r\n\r\n\r\n    @Test\r\n    public void readerTest() throws Exception {\r\n        JobParameters jobParameters = this.jobLauncherTestUtils.getUniqueJobParameters();\r\n\r\n      \r\n        JobExecution jobExecution = this.jobLauncherTestUtils.launchJob(jobParameters);\r\n        Assert.assertEquals(ExitStatus.COMPLETED, jobExecution.getExitStatus());\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhen i try to launch my test i riceive this Exception :\r\n``` \r\n\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;jobRepositoryTestUtils&#39;: Unsatisfied dependency expressed through method &#39;setDataSource&#39; parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;javax.sql.DataSource&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:767)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:719)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)\r\n\t... 27 more\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;javax.sql.DataSource&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1801)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1357)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:759)\r\n\t... 46 more\r\n\r\n```\r\n\r\n","title":"How to test spring batch job","body":"<p>I'm trying to test a job but I can't get to the bottom of it, basically my step consists of a single reader and a composite Processor and a Composite writer, all this because I have to read from a single .CSV and write on MongoDB and Mysql,\nhere is my Job Configuration class:</p>\n<pre><code>\n@Configuration\n@EnableBatchProcessing\npublic class BatchConfiguration {\n\n    @Autowired\n    public JobBuilderFactory jobBuilderFactory;\n    @Autowired\n    public StepBuilderFactory stepBuilderFactory;\n\n    @Autowired\n    public  MarketDataMySqlRepository marketDataMySqlRepository;\n\n\n    @Value(&quot;${file.input}&quot;)\n    private String fileInput;\n\n\n\n\n    @Bean\n    public TaskExecutor taskExecutor(){\n        SimpleAsyncTaskExecutor taskExecutor=new SimpleAsyncTaskExecutor(&quot;customerInfoThreads-&quot;);\n        return taskExecutor;\n    }\n\n\n    @Bean\n    public FlatFileItemReader&lt;MarketDataDto&gt; reader() {\n        return new FlatFileItemReaderBuilder&lt;MarketDataDto&gt;().name(&quot;ItemReader&quot;)\n                .resource(new PathResource(fileInput)).delimited()\n                .names(&quot;time&quot;,&quot;id&quot;, &quot;price&quot;, &quot;quantity&quot;, &quot;isbuyermaker&quot;)\n                .fieldSetMapper(new BeanWrapperFieldSetMapper&lt;MarketDataDto&gt;() {\n                    {\n                        setTargetType(MarketDataDto.class);\n                    }\n                }).build();\n    }\n\n    @Bean\n    public MongoItemWriter&lt;MarketDataMongo&gt; writer(MongoTemplate mongoTemplate) {\n\n        return new MongoItemWriterBuilder&lt;MarketDataMongo&gt;().template(mongoTemplate).collection(&quot;marketdata&quot;)\n                .build();\n\n    }\n    @Bean\n    public RepositoryItemWriter&lt;MarketDataMySql&gt; writer1() {\n        RepositoryItemWriter&lt;MarketDataMySql&gt; writer = new RepositoryItemWriter&lt;&gt;();\n        writer.setRepository(marketDataMySqlRepository);\n        writer.setMethodName(&quot;save&quot;);\n        return writer;\n    }\n\n    @Bean\n    public CompositeItemWriter CompositeItemWriter(MongoTemplate mongoTemplate){\n        CompositeItemWriter writer = new CompositeItemWriter();\n        writer.setDelegates(Arrays.asList(writer(mongoTemplate),writer1()));\n        return writer;\n    }\n\n\n    @Bean\n    public UserItemProcessorMongo MongoProcessor() {\n        return new UserItemProcessorMongo();\n    }\n    @Bean\n    public UserItemProcessorMySql MySqlProcessor() {return new UserItemProcessorMySql();}\n\n\n    @Bean\n    public CompositeItemProcessor compositeProcessor() throws Exception {\n        List&lt;ItemProcessor&lt;MarketDataDto,MarketDataMongo&gt;&gt; itemProcessors = new ArrayList&lt;&gt;(1);\n        List&lt;ItemProcessor&lt;MarketDataDto,MarketDataMySql&gt;&gt; itemProcessors1 = new ArrayList&lt;&gt;(1);\n        itemProcessors1.add(MySqlProcessor());\n        itemProcessors.add(MongoProcessor());\n        CompositeItemProcessor processor = new CompositeItemProcessor();\n        processor.setDelegates(itemProcessors);\n        processor.setDelegates(itemProcessors1);\n        //processor.afterPropertiesSet();\n        return processor;\n\n    }\n\n    @Bean\n    public Step step1(FlatFileItemReader&lt;MarketDataDto&gt; itemReader, MongoItemWriter&lt;MarketDataMongo&gt; itemWriter, MongoTemplate mongoTemplate)\n            throws Exception {\n        return this.stepBuilderFactory.get(&quot;step1&quot;).chunk(200000).reader(itemReader)\n                .processor(compositeProcessor()).writer(CompositeItemWriter(mongoTemplate)).build();\n\n    }\n\n    @Bean\n    public Job updateUserJob(JobCompletionNotificationListener listener, Step step1)\n            throws Exception {\n\n        return this.jobBuilderFactory.get(&quot;updateMarketJob&quot;).incrementer(new RunIdIncrementer())\n                .listener(listener).start(step1).build();\n    }\n\n    }\n</code></pre>\n<p>And this is my TestClass :</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBatchTest\n@ContextConfiguration(classes= {BatchConfiguration.class, BatchAutoConfiguration.class})\npublic class BatchConfigurationTest {\n\n\n    @Autowired\n    private JobLauncherTestUtils jobLauncherTestUtils;\n\n    @Autowired\n    private JobRepositoryTestUtils jobRepositoryTestUtils;\n\n    @Autowired\n    private MarketDataMySqlRepository marketDataMySqlRepository;\n\n\n\n\n    @Test\n    public void readerTest() throws Exception {\n        JobParameters jobParameters = this.jobLauncherTestUtils.getUniqueJobParameters();\n\n      \n        JobExecution jobExecution = this.jobLauncherTestUtils.launchJob(jobParameters);\n        Assert.assertEquals(ExitStatus.COMPLETED, jobExecution.getExitStatus());\n\n    }\n}\n\n</code></pre>\n<p>When i try to launch my test i riceive this Exception :</p>\n<pre><code>\njava.lang.IllegalStateException: Failed to load ApplicationContext\n\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobRepositoryTestUtils': Unsatisfied dependency expressed through method 'setDataSource' parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'javax.sql.DataSource' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:767)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:719)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)\n    ... 27 more\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'javax.sql.DataSource' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1801)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1357)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:759)\n    ... 46 more\n\n</code></pre>\n"},{"tags":["java","switch-statement","multiple-return-values"],"comments":[{"owner":{"account_id":1251593,"reputation":10353,"user_id":1211906,"display_name":"Marc Baumbach"},"score":1,"creation_date":1564926441,"post_id":57347001,"comment_id":101181918,"body_markdown":"This answer provides good arguments for multiple return statements: https://stackoverflow.com/questions/36707/should-a-function-have-only-one-return-statement. I think it&#39;s really a matter of style and whether it&#39;s making the code more confusing or less. Dogmatic ideals rarely are good in every situation. Using a switch with return statements can be a great way of implementing a factory, for example.","body":"This answer provides good arguments for multiple return statements: <a href=\"https://stackoverflow.com/questions/36707/should-a-function-have-only-one-return-statement\" title=\"should a function have only one return statement\">stackoverflow.com/questions/36707/&hellip;</a>. I think it&#39;s really a matter of style and whether it&#39;s making the code more confusing or less. Dogmatic ideals rarely are good in every situation. Using a switch with return statements can be a great way of implementing a factory, for example."},{"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"score":0,"creation_date":1564926805,"post_id":57347001,"comment_id":101182022,"body_markdown":"of course it is relevant - what changed? Nothing - just a **syntax**. There are still multiple exists and debugger will still do the same thing. Some stuff in Java can be easier but it&#39;s still Java","body":"of course it is relevant - what changed? Nothing - just a <b>syntax</b>. There are still multiple exists and debugger will still do the same thing. Some stuff in Java can be easier but it&#39;s still Java"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1564926812,"post_id":57347001,"comment_id":101182028,"body_markdown":"@MarcBaumbach I agree, in a closed small set of cases","body":"@MarcBaumbach I agree, in a closed small set of cases"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1564926936,"post_id":57347001,"comment_id":101182055,"body_markdown":"@m.antkowicz java 12 syntax allow you to avoid multiple return statements","body":"@m.antkowicz java 12 syntax allow you to avoid multiple return statements"},{"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"score":0,"creation_date":1564927159,"post_id":57347001,"comment_id":101182107,"body_markdown":"&quot;removing&quot; *return* word is not &quot;avoiding multiple return statements&quot; ;) just think for a while - how debugger will deal with it?","body":"&quot;removing&quot; <i>return</i> word is not &quot;avoiding multiple return statements&quot; ;) just think for a while - how debugger will deal with it?"},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1564930747,"post_id":57347001,"comment_id":101182908,"body_markdown":"I don&#39;t really understand what you&#39;re asking here. You ask what switch is useful for, but also say you&#39;re &quot;reluctant&quot; to use it, implying you have a case where it would be useful.","body":"I don&#39;t really understand what you&#39;re asking here. You ask what switch is useful for, but also say you&#39;re &quot;reluctant&quot; to use it, implying you have a case where it would be useful."},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1564930918,"post_id":57347001,"comment_id":101182954,"body_markdown":"@Boann I thought switch was (as Andrew Tobilko stated) *usually an indicator that a design error*, but Java decided to enhance it in version 12, so I asked if the use case I presented of *returning different values from a small closed set of cases* is a valid use case","body":"@Boann I thought switch was (as Andrew Tobilko stated) <i>usually an indicator that a design error</i>, but Java decided to enhance it in version 12, so I asked if the use case I presented of <i>returning different values from a small closed set of cases</i> is a valid use case"},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1564931688,"post_id":57347001,"comment_id":101183177,"body_markdown":"@user7294900 Absolutely its valid. I have never heard this notion that using switch is an error, but it sounds like a myth peddled by cargo-cultists. Two Google developers gave a talk at the JVM language summit last year. They analyzed 300 million lines of Google-maintained Java code, which included 180551 switch statements, and found that 7.1% of all switch statements have all cases assigning to the same variable, and an additional 28.3% of switch statements have all cases simply returning a value. See: https://www.youtube.com/watch?v=sPW2Pz2dI9E","body":"@user7294900 Absolutely its valid. I have never heard this notion that using switch is an error, but it sounds like a myth peddled by cargo-cultists. Two Google developers gave a talk at the JVM language summit last year. They analyzed 300 million lines of Google-maintained Java code, which included 180551 switch statements, and found that 7.1% of all switch statements have all cases assigning to the same variable, and an additional 28.3% of switch statements have all cases simply returning a value. See: <a href=\"https://www.youtube.com/watch?v=sPW2Pz2dI9E\" rel=\"nofollow noreferrer\">youtube.com/watch?v=sPW2Pz2dI9E</a>"}],"answers":[{"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1564927565,"post_id":57347173,"comment_id":101182201,"body_markdown":"I understand your point, but if switch is always design error, why java is taking the effort to enhance it?","body":"I understand your point, but if switch is always design error, why java is taking the effort to enhance it?"},{"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"score":8,"creation_date":1564927672,"post_id":57347173,"comment_id":101182226,"body_markdown":"`switch is always an indicator that a design error was made` - I don&#39;t agree. Not always you are creating a huge, flexible libr...ekhm solution. It&#39;s always developer&#39;s responsibility to **understand** and decide when to use such thing as `switch` and when to implement some *Command* pattern etc","body":"<code>switch is always an indicator that a design error was made</code> - I don&#39;t agree. Not always you are creating a huge, flexible libr...ekhm solution. It&#39;s always developer&#39;s responsibility to <b>understand</b> and decide when to use such thing as <code>switch</code> and when to implement some <i>Command</i> pattern etc"},{"owner":{"account_id":7799965,"reputation":2027,"user_id":5899776,"accept_rate":83,"display_name":"vandench"},"score":2,"creation_date":1564928073,"post_id":57347173,"comment_id":101182321,"body_markdown":"Why do people dislike the switch statement so much? One it’s best benefits is its ability to create jump tables, the performance of those compared to a lot of ifs is huge, jump tables allow for getting to any given case to occur in O(1) time (except for strings where a single additional string compare has to occur).","body":"Why do people dislike the switch statement so much? One it’s best benefits is its ability to create jump tables, the performance of those compared to a lot of ifs is huge, jump tables allow for getting to any given case to occur in O(1) time (except for strings where a single additional string compare has to occur)."},{"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"score":0,"creation_date":1564929264,"post_id":57347173,"comment_id":101182610,"body_markdown":"@user7294900 &quot;several irregularities of the existing switch statement -- **which have long been an irritation to users** -- become impediments. These include the default control flow behavior (fall through) of switch blocks, the default scoping of switch blocks (the block is treated as one single scope) and that switch works only as a statement, even though it is commonly more natural to express multi-way conditionals as expressions.&quot; source : https://openjdk.java.net/jeps/325","body":"@user7294900 &quot;several irregularities of the existing switch statement -- <b>which have long been an irritation to users</b> -- become impediments. These include the default control flow behavior (fall through) of switch blocks, the default scoping of switch blocks (the block is treated as one single scope) and that switch works only as a statement, even though it is commonly more natural to express multi-way conditionals as expressions.&quot; source : <a href=\"https://openjdk.java.net/jeps/325\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/325</a>"},{"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"score":0,"creation_date":1564929465,"post_id":57347173,"comment_id":101182641,"body_markdown":"@user7294900 a language designer doesn&#39;t care how you write code, they care how the language allows you to write code (how expressive, laconic, flexible the language is)","body":"@user7294900 a language designer doesn&#39;t care how you write code, they care how the language allows you to write code (how expressive, laconic, flexible the language is)"}],"tags":[],"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"comment_count":5,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1564929622,"creation_date":1564927178,"answer_id":57347173,"question_id":57347001,"body_markdown":"&gt; Assigning a value to a local variable and then returning that at the end is considered a good practice.\r\n\r\nI have no idea when it was considered a good practice. To me, `switch` is *usually* * an indicator that a design error was made. I would rather put my effort into thinking how to avoid a switch than into wondering how to return a value from a switch.\r\n\r\nA few examples\r\n\r\nhttps://stackoverflow.com/questions/1199646/long-list-of-if-statements-in-java  \r\nhttps://stackoverflow.com/questions/39051356/how-to-avoid-switch-case-statements-in-java  \r\nhttps://stackoverflow.com/questions/14136721/converting-many-if-else-statements-to-a-cleaner-approach\r\n\r\n&gt; Methods having multiple exits are harder to debug and can be difficult to read.\r\n\r\nThe same goes for a method that has a lot of `break`s - that&#39;s what you are going to do if you choose the &quot;local-variable approach&quot;.\r\n\r\nIn my opinion, none of these\r\n\r\n    // 1\r\n    switch (input) {\r\n        case &quot;A&quot;:\r\n            return &quot;1&quot;;\r\n        case &quot;B&quot;:\r\n            return &quot;2&quot;;\r\n        default:\r\n            return &quot;0&quot;;\r\n    }\r\n\r\n    // 2\r\n    String varibleToReturn = null;\r\n    switch (input) {\r\n        case &quot;A&quot;:\r\n            varibleToReturn = &quot;1&quot;;\r\n            break;\r\n        case &quot;B&quot;:\r\n            varibleToReturn = &quot;2&quot;;\r\n            break;\r\n        default:\r\n            varibleToReturn = &quot;0&quot;;\r\n    }\r\n    return varibleToReturn;\r\n\r\n    // 3\r\n    return switch(digitInDecimal) {\r\n        case  0 -&gt; &#39;0&#39;;\r\n        case  1 -&gt; &#39;1&#39;;\r\n        case  2 -&gt; &#39;2&#39;;\r\n        default -&gt; &#39;?&#39;;\r\n    }\r\n\r\nmakes a significant difference, or a slight improvement. Yes, Java-12&#39;s switch would give more conciseness and expressiveness, but the fundamental idea remains the same.\r\n\r\n&gt; Must I wait for Java 12 where switch can be used without temporary variables and breaks?\r\n\r\nWhat does it mean? :) No, the deadline is tomorrow, you have to work with what you&#39;ve got at hand now.\r\n\r\n---\r\n\r\n*I am not underestimating the usefulness of switch. It may come in handy, for instance, when you programme at low-level, or you write an optimization. \r\n\r\nI am just saying that in the real world, with *Springs*, and *Hibernates*, in a world of patterns, switch is obsolescent.\r\n","title":"Java switch use case","body":"<blockquote>\n  <p>Assigning a value to a local variable and then returning that at the end is considered a good practice.</p>\n</blockquote>\n\n<p>I have no idea when it was considered a good practice. To me, <code>switch</code> is <em>usually</em> * an indicator that a design error was made. I would rather put my effort into thinking how to avoid a switch than into wondering how to return a value from a switch.</p>\n\n<p>A few examples</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1199646/long-list-of-if-statements-in-java\">Long list of if statements in Java</a><br>\n<a href=\"https://stackoverflow.com/questions/39051356/how-to-avoid-switch-case-statements-in-java\">How to avoid switch-case statements in Java</a><br>\n<a href=\"https://stackoverflow.com/questions/14136721/converting-many-if-else-statements-to-a-cleaner-approach\">Converting many &#39;if else&#39; statements to a cleaner approach</a></p>\n\n<blockquote>\n  <p>Methods having multiple exits are harder to debug and can be difficult to read.</p>\n</blockquote>\n\n<p>The same goes for a method that has a lot of <code>break</code>s - that's what you are going to do if you choose the \"local-variable approach\".</p>\n\n<p>In my opinion, none of these</p>\n\n<pre><code>// 1\nswitch (input) {\n    case \"A\":\n        return \"1\";\n    case \"B\":\n        return \"2\";\n    default:\n        return \"0\";\n}\n\n// 2\nString varibleToReturn = null;\nswitch (input) {\n    case \"A\":\n        varibleToReturn = \"1\";\n        break;\n    case \"B\":\n        varibleToReturn = \"2\";\n        break;\n    default:\n        varibleToReturn = \"0\";\n}\nreturn varibleToReturn;\n\n// 3\nreturn switch(digitInDecimal) {\n    case  0 -&gt; '0';\n    case  1 -&gt; '1';\n    case  2 -&gt; '2';\n    default -&gt; '?';\n}\n</code></pre>\n\n<p>makes a significant difference, or a slight improvement. Yes, Java-12's switch would give more conciseness and expressiveness, but the fundamental idea remains the same.</p>\n\n<blockquote>\n  <p>Must I wait for Java 12 where switch can be used without temporary variables and breaks?</p>\n</blockquote>\n\n<p>What does it mean? :) No, the deadline is tomorrow, you have to work with what you've got at hand now.</p>\n\n<hr>\n\n<p>*I am not underestimating the usefulness of switch. It may come in handy, for instance, when you programme at low-level, or you write an optimization. </p>\n\n<p>I am just saying that in the real world, with <em>Springs</em>, and <em>Hibernates</em>, in a world of patterns, switch is obsolescent.</p>\n"},{"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1666333701,"post_id":74125241,"comment_id":130916392,"body_markdown":"In my opinion this is an answer for one of the two questions that the OP asked, so it&#39;s valid here.","body":"In my opinion this is an answer for one of the two questions that the OP asked, so it&#39;s valid here."}],"tags":[],"owner":{"account_id":10767176,"reputation":19,"user_id":7925873,"display_name":"Rutger van Velzen"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1666182081,"creation_date":1666182081,"answer_id":74125241,"question_id":57347001,"body_markdown":"&gt; But I found an old but high-ranked answer that says to avoid multiple\r\n&gt; return statements:\r\n&gt; \r\n&gt; &gt; Assigning a value to a local variable and then returning that at the\r\n&gt; &gt; end is considered a good practice. Methods having multiple exits are\r\n&gt; &gt; harder to debug and can be difficult to read.\r\n&gt; \r\n&gt; So I wonder, is that answer still relevant due to switch changes?\r\n\r\nThis is a common misconception, it originates form the phrase: [&quot;Single entry, single exit.&quot;][1] (Page 24) All this originates from an other era, one that lead to structured programming languages and eventually to object oriented programming languages (like Java). \r\n\r\nDon&#39;t worry about multiple `return` statements, there is nothing wrong with it.\r\n\r\n\r\n  [1]: https://www.cs.utexas.edu/users/EWD/ewd02xx/EWD249.PDF\r\n  [2]: https://homepages.cwi.nl/~storm/teaching/reader/Dijkstra68.pdf","title":"Java switch use case","body":"<blockquote>\n<p>But I found an old but high-ranked answer that says to avoid multiple\nreturn statements:</p>\n<blockquote>\n<p>Assigning a value to a local variable and then returning that at the\nend is considered a good practice. Methods having multiple exits are\nharder to debug and can be difficult to read.</p>\n</blockquote>\n<p>So I wonder, is that answer still relevant due to switch changes?</p>\n</blockquote>\n<p>This is a common misconception, it originates form the phrase: <a href=\"https://www.cs.utexas.edu/users/EWD/ewd02xx/EWD249.PDF\" rel=\"nofollow noreferrer\">&quot;Single entry, single exit.&quot;</a> (Page 24) All this originates from an other era, one that lead to structured programming languages and eventually to object oriented programming languages (like Java).</p>\n<p>Don't worry about multiple <code>return</code> statements, there is nothing wrong with it.</p>\n"}],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2246,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":57347173,"answer_count":2,"score":4,"last_activity_date":1666182081,"creation_date":1564925756,"question_id":57347001,"body_markdown":"I&#39;m reluctant to use a switch, but I saw [switch will be improved in Java 12][1]\r\n\r\n&gt;Java 12 added the switch expression as an experimental feature. A Java switch expression is a switch statement which can return a value.\r\n\r\nThe only use case I found (before Java 12) where switch may be useful is returning different values from a small closed set of cases, e.g.:\r\n\r\n\t\tswitch (input) {\r\n\t\tcase &quot;A&quot;:\r\n\t\t\treturn &quot;1&quot;;\r\n\t\tcase &quot;B&quot;:\r\n\t\t\treturn &quot;2&quot;;\r\n\t\tdefault:\r\n\t\t\treturn &quot;0&quot;;\r\n\t\t}\r\n\r\nOr in Java 12 example:\r\n\r\n&gt;     return\r\n&gt;     switch(digitInDecimal){\r\n        case  0 -&gt; &#39;0&#39;;\r\n        case  1 -&gt; &#39;1&#39;;\r\n        case  2 -&gt; &#39;2&#39;;\r\n        default -&gt; &#39;?&#39;;\r\n\r\nBut I found an old but high-ranked [answer][2] that says to avoid multiple return statements:\r\n\r\n&gt;Assigning a value to a local variable and then returning that at the end is considered a good practice. Methods having multiple exits are harder to debug and can be difficult to read.\r\n\r\nSo I wonder, is that answer still relevant due to switch changes?\r\n\r\nMust I wait for Java 12 where switch can be used without temporary variables and breaks?\r\n[1]:http://tutorials.jenkov.com/java/switch.html\r\n\r\n[2]:https://stackoverflow.com/questions/18192255/regarding-java-switch-statements-using-return-and-omitting-breaks-in-each-case","title":"Java switch use case","body":"<p>I'm reluctant to use a switch, but I saw <a href=\"http://tutorials.jenkov.com/java/switch.html\" rel=\"nofollow noreferrer\">switch will be improved in Java 12</a></p>\n\n<blockquote>\n  <p>Java 12 added the switch expression as an experimental feature. A Java switch expression is a switch statement which can return a value.</p>\n</blockquote>\n\n<p>The only use case I found (before Java 12) where switch may be useful is returning different values from a small closed set of cases, e.g.:</p>\n\n<pre><code>    switch (input) {\n    case \"A\":\n        return \"1\";\n    case \"B\":\n        return \"2\";\n    default:\n        return \"0\";\n    }\n</code></pre>\n\n<p>Or in Java 12 example:</p>\n\n<blockquote>\n<pre><code>return\nswitch(digitInDecimal){\n    case  0 -&gt; '0';\n    case  1 -&gt; '1';\n    case  2 -&gt; '2';\n    default -&gt; '?';\n</code></pre>\n</blockquote>\n\n<p>But I found an old but high-ranked <a href=\"https://stackoverflow.com/questions/18192255/regarding-java-switch-statements-using-return-and-omitting-breaks-in-each-case\">answer</a> that says to avoid multiple return statements:</p>\n\n<blockquote>\n  <p>Assigning a value to a local variable and then returning that at the end is considered a good practice. Methods having multiple exits are harder to debug and can be difficult to read.</p>\n</blockquote>\n\n<p>So I wonder, is that answer still relevant due to switch changes?</p>\n\n<p>Must I wait for Java 12 where switch can be used without temporary variables and breaks?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9274,"page":949,"page_size":100}
