{"items":[{"tags":["java","spring","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":4151180,"reputation":880,"user_id":3403603,"display_name":"neal"},"score":0,"creation_date":1666041466,"post_id":74100613,"comment_id":130837323,"body_markdown":"Selenium seems heavy handed for the purpose of scraping data.  You could use Jsoup instead.  Your issue may be a duplicate.  Here&#39;s a similar thread: https://stackoverflow.com/questions/70053080/noclassdeffounderror-org-openqa-selenium-virtualauthenticator-hasvirtualauthent","body":"Selenium seems heavy handed for the purpose of scraping data.  You could use Jsoup instead.  Your issue may be a duplicate.  Here&#39;s a similar thread: <a href=\"https://stackoverflow.com/questions/70053080/noclassdeffounderror-org-openqa-selenium-virtualauthenticator-hasvirtualauthent\" title=\"noclassdeffounderror org openqa selenium virtualauthenticator hasvirtualauthent\">stackoverflow.com/questions/70053080/&hellip;</a>"},{"owner":{"account_id":26005788,"reputation":5,"user_id":19715509,"display_name":"Liudmila Zavyalova"},"score":0,"creation_date":1666176185,"post_id":74100613,"comment_id":130872051,"body_markdown":"Thanks @neal, but I tried this and also I use Gradle instead of Maven, and maybe because of it these answers are wrong for me.","body":"Thanks @neal, but I tried this and also I use Gradle instead of Maven, and maybe because of it these answers are wrong for me."}],"answers":[{"tags":[],"owner":{"account_id":26005788,"reputation":5,"user_id":19715509,"display_name":"Liudmila Zavyalova"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666176449,"creation_date":1666176449,"answer_id":74124039,"question_id":74100613,"body_markdown":"I found the answer on my own. It turned out that it was enough for Gradle to remove the versions altogether. Spring pulls those versions that are relevant for work.\r\n\r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \timplementation group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &#39;3.12.0&#39;\r\n    \timplementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-api&#39;\r\n    \timplementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-chrome-driver&#39;\r\n    \timplementation group: &#39;org.jsoup&#39;, name: &#39;jsoup&#39;, version: &#39;1.15.3&#39;\r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }","title":"java.lang.NoClassDefFoundError: org/openqa/selenium/virtualauthenticator/HasVirtualAuthenticator with Gradle, Selenium and ChromeDriver","body":"<p>I found the answer on my own. It turned out that it was enough for Gradle to remove the versions altogether. Spring pulls those versions that are relevant for work.</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation group: 'org.apache.commons', name: 'commons-lang3', version: '3.12.0'\n    implementation group: 'org.seleniumhq.selenium', name: 'selenium-api'\n    implementation group: 'org.seleniumhq.selenium', name: 'selenium-chrome-driver'\n    implementation group: 'org.jsoup', name: 'jsoup', version: '1.15.3'\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n"}],"owner":{"account_id":26005788,"reputation":5,"user_id":19715509,"display_name":"Liudmila Zavyalova"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74124039,"answer_count":1,"score":0,"last_activity_date":1666176449,"creation_date":1666025510,"question_id":74100613,"body_markdown":"I&#39;m new to this, I want to take html from the url. I decided to try to use Selenium and sketched a service that looks like this:\r\n\r\n    package dataox.keithgellmanrestaurantmenuscraping;\r\n    \r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.log4j.Log4j2;\r\n    import org.apache.commons.lang3.RandomUtils;\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.nodes.Element;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    import org.springframework.boot.context.event.ApplicationReadyEvent;\r\n    import org.springframework.context.event.EventListener;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Log4j2\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class ParserService {\r\n    \r\n            private final ChromeOptions options = new ChromeOptions();\r\n        \r\n        \r\n            @EventListener(ApplicationReadyEvent.class)\r\n            public void a() {\r\n                String url = &quot;some url&quot;;\r\n                WebDriver webDriver = getWebDriver(url);\r\n                log.info(webDriver.getPageSource());\r\n                quitWebdriver(webDriver);\r\n            }\r\n        \r\n            private WebDriver getWebDriver(String url) {\r\n                WebDriver webDriver = new ChromeDriver(options);\r\n                webDriver.get(url);\r\n                return webDriver;\r\n            }\r\n        \r\n            private void quitWebdriver(WebDriver webDriver) {\r\n                webDriver.close();\r\n                webDriver.quit();\r\n            }\r\n    }\r\n\r\nWhen I launch it, I get the following error at the moment &quot;WebDriver webDriver = new ChromeDriver(options)&quot;:\r\n\r\n    java.lang.reflect.UndeclaredThrowableException: Failed to invoke event listener method\r\n    HandlerMethod details: \r\n    Bean [dataox.keithgellmanrestaurantmenuscraping.ParserService]\r\n    Method [public void dataox.keithgellmanrestaurantmenuscraping.ParserService.a()]\r\n    Resolved arguments: \r\n    \r\n    Caused by: java.lang.NoClassDefFoundError: org/openqa/selenium/virtualauthenticator/HasVirtualAuthenticator\r\n\r\nI work with Gradle, my gradle.build looks like this:\r\n\r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \timplementation group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &#39;3.12.0&#39;\r\n    \timplementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-api&#39;, version: &#39;3.141.59&#39;\r\n    \timplementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-chrome-driver&#39;, version: &#39;3.141.59&#39;\r\n    \timplementation group: &#39;org.jsoup&#39;, name: &#39;jsoup&#39;, version: &#39;1.15.3&#39;\r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    } \r\n\r\nWhat is the best thing to do in this situation?","title":"java.lang.NoClassDefFoundError: org/openqa/selenium/virtualauthenticator/HasVirtualAuthenticator with Gradle, Selenium and ChromeDriver","body":"<p>I'm new to this, I want to take html from the url. I decided to try to use Selenium and sketched a service that looks like this:</p>\n<pre><code>package dataox.keithgellmanrestaurantmenuscraping;\n\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.log4j.Log4j2;\nimport org.apache.commons.lang3.RandomUtils;\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.springframework.boot.context.event.ApplicationReadyEvent;\nimport org.springframework.context.event.EventListener;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Log4j2\n@Service\n@RequiredArgsConstructor\npublic class ParserService {\n\n        private final ChromeOptions options = new ChromeOptions();\n    \n    \n        @EventListener(ApplicationReadyEvent.class)\n        public void a() {\n            String url = &quot;some url&quot;;\n            WebDriver webDriver = getWebDriver(url);\n            log.info(webDriver.getPageSource());\n            quitWebdriver(webDriver);\n        }\n    \n        private WebDriver getWebDriver(String url) {\n            WebDriver webDriver = new ChromeDriver(options);\n            webDriver.get(url);\n            return webDriver;\n        }\n    \n        private void quitWebdriver(WebDriver webDriver) {\n            webDriver.close();\n            webDriver.quit();\n        }\n}\n</code></pre>\n<p>When I launch it, I get the following error at the moment &quot;WebDriver webDriver = new ChromeDriver(options)&quot;:</p>\n<pre><code>java.lang.reflect.UndeclaredThrowableException: Failed to invoke event listener method\nHandlerMethod details: \nBean [dataox.keithgellmanrestaurantmenuscraping.ParserService]\nMethod [public void dataox.keithgellmanrestaurantmenuscraping.ParserService.a()]\nResolved arguments: \n\nCaused by: java.lang.NoClassDefFoundError: org/openqa/selenium/virtualauthenticator/HasVirtualAuthenticator\n</code></pre>\n<p>I work with Gradle, my gradle.build looks like this:</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation group: 'org.apache.commons', name: 'commons-lang3', version: '3.12.0'\n    implementation group: 'org.seleniumhq.selenium', name: 'selenium-api', version: '3.141.59'\n    implementation group: 'org.seleniumhq.selenium', name: 'selenium-chrome-driver', version: '3.141.59'\n    implementation group: 'org.jsoup', name: 'jsoup', version: '1.15.3'\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n} \n</code></pre>\n<p>What is the best thing to do in this situation?</p>\n"},{"tags":["java","multidimensional-array"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1666177368,"post_id":74123806,"comment_id":130872438,"body_markdown":"I would create `List&lt;Integer&gt;` containing all lotto numbers. Shuffle them with `Collections` and pick the first 15 for each row","body":"I would create <code>List&lt;Integer&gt;</code> containing all lotto numbers. Shuffle them with <code>Collections</code> and pick the first 15 for each row"}],"owner":{"account_id":26669562,"reputation":11,"user_id":20281168,"display_name":"Sszymon877"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666176019,"creation_date":1666175294,"question_id":74123806,"body_markdown":"I have a problem with generating non-repetitive random numbers using Math.random in Java. Numbers should be generated in each row of 2d array (each row is of predefined 15 numbers length). Each row of array should have numbers generated within set: 1 - 49. \r\n\r\nSo, for example the output should look like:\r\n\r\n```none\r\n{1,4,5,8,16,21,24,28,32,34,43,45,46,47,48}\r\n{2,5,6,7,8,11,16,19,24,27,34,35,36,45,49}\r\n```\r\n\r\nI wrote a function called generateLottos() of type returning: [][], so 2D Array, but I can&#39;t get an array of even more like 2 rows with non-repeated numbers, because the program doesn&#39;t show anything in console and looks like it runs in an infinite loop.\r\n\r\nFunction generateLottos() works like this:\r\n\r\n```java\r\npublic int [][] generateLottos(int[][] arrOfLottos){\r\n    boolean[] numbers = new boolean[MAX_NUM + 1];\r\n    int random;\r\n\r\n    for (int i=1; i&lt;=MAX_NUM; i++){\r\n        numbers[i] = false;\r\n    }\r\n\r\n    for (int i=0; i&lt; arrOfLottos.length; i++){\r\n        for (int j=0; j&lt;arrOfLottos[i].length; j++){\r\n            do {\r\n                random = (int) Math.floor(Math.random() *49 +1);\r\n            }while (numbers[random]);\r\n\r\n            arrOfLottos[i][j] = random;\r\n            numbers[random] =true;\r\n        }\r\n        if (i!=0) {\r\n            for (int k=1; k&lt;= MAX_NUM; k++){\r\n                numbers[i] = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    return arrOfLottos;\r\n}\r\n```\r\n\r\nBoolean array: boolean[] numbers = new boolean[MAX_NUM + 1]; is used to create an array of boolean which each index has value from 1 to MAX_NUM = 49 and is at the start set to false:\r\n\r\n```java\r\nboolean[] numbers = new boolean[MAX_NUM + 1];\r\nint random;\r\n\r\nfor (int i=1; i&lt;=MAX_NUM; i++){\r\n    numbers[i] = false;\r\n}\r\n```\r\n        \r\nThis array of boolean makes sure that the numbers in each row do not repeat. It is nested in for loop with do while instruction to generate random number. Instruction if(i!=0) sets boolean numbers to false for generating next row of non repeated random numbers:\r\n\r\n```java\r\nfor (int i=0; i&lt; arrOfLottos.length; i++){\r\n    for (int j=0; j&lt;arrOfLottos[i].length; j++){\r\n        do {\r\n            random = (int) Math.floor(Math.random() *49 +1);\r\n        }while (numbers[random]);\r\n\r\n        arrOfLottos[i][j] = random;\r\n        numbers[random] =true;\r\n    }\r\n    if (i!=0) {\r\n        for (int k=1; k&lt;= MAX_NUM; k++){\r\n            numbers[i] = false;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe code for whole program looks like this:\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\nclass LottoSorting {\r\n\r\n    private static final Scanner scanner = new Scanner(System.in);\r\n    private static final int drawSize = 15; // size of each row of an array\r\n\r\n    private static final int MAX_NUM = 49; //Max number possible to generate using rand function\r\n\r\n    // Function to get array&#39;s number of rows\r\n    public int[][] getLottosArr(){\r\n        System.out.println(&quot;Please enter number of draws to generate: &quot;);\r\n\r\n        int drawsNum = scanner.nextInt();\r\n\r\n        int[][] lottosArr = new int[drawsNum][drawSize];\r\n        scanner.close();\r\n\r\n        return lottosArr;\r\n    }\r\n\r\n    public int [][] generateLottos(int[][] arrOfLottos){\r\n        boolean[] numbers = new boolean[MAX_NUM + 1];\r\n        int random;\r\n\r\n        for (int i=1; i&lt;=MAX_NUM; i++){\r\n            numbers[i] = false;\r\n        }\r\n\r\n        for (int i=0; i&lt; arrOfLottos.length; i++){\r\n            for (int j=0; j&lt;arrOfLottos[i].length; j++){\r\n                do {\r\n                    random = (int) Math.floor(Math.random() *49 +1);\r\n                }while (numbers[random]);\r\n\r\n                arrOfLottos[i][j] = random;\r\n                numbers[random] =true;\r\n            }\r\n            if (i!=0) {\r\n                for (int k=1; k&lt;= MAX_NUM; k++){\r\n                    numbers[i] = false;\r\n                }\r\n            }\r\n        }\r\n\r\n        return arrOfLottos;\r\n    }\r\n\r\n\r\n    public void printArray(int [][] lottosArr){\r\n        System.out.println(&quot;lottos array:&quot;);\r\n\r\n        for (int i=0; i&lt; lottosArr.length; i++){\r\n            for (int j=0; j&lt; lottosArr[i].length; j++){\r\n                if ( j==0){\r\n                    System.out.println(&quot;\\n Draw nr: &quot; + (i+1));\r\n                }else  {\r\n                    System.out.print(&quot; &quot;);\r\n                }\r\n                System.out.print(lottosArr[i][j]);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n```java\r\nclass Lotto {\r\n\r\n    public static void main(String[] args) {\r\n        LottoSorting lottoSorting = new LottoSorting();\r\n\r\n        lottoSorting.printArray(lottoSorting.generateLottos(\r\n                lottoSorting.getLottosArr()\r\n        ));\r\n    }\r\n}\r\n```","title":"Problem with generating non-repetitive random numbers in each row of a 2D array in Java","body":"<p>I have a problem with generating non-repetitive random numbers using Math.random in Java. Numbers should be generated in each row of 2d array (each row is of predefined 15 numbers length). Each row of array should have numbers generated within set: 1 - 49.</p>\n<p>So, for example the output should look like:</p>\n<pre class=\"lang-none prettyprint-override\"><code>{1,4,5,8,16,21,24,28,32,34,43,45,46,47,48}\n{2,5,6,7,8,11,16,19,24,27,34,35,36,45,49}\n</code></pre>\n<p>I wrote a function called generateLottos() of type returning: [][], so 2D Array, but I can't get an array of even more like 2 rows with non-repeated numbers, because the program doesn't show anything in console and looks like it runs in an infinite loop.</p>\n<p>Function generateLottos() works like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int [][] generateLottos(int[][] arrOfLottos){\n    boolean[] numbers = new boolean[MAX_NUM + 1];\n    int random;\n\n    for (int i=1; i&lt;=MAX_NUM; i++){\n        numbers[i] = false;\n    }\n\n    for (int i=0; i&lt; arrOfLottos.length; i++){\n        for (int j=0; j&lt;arrOfLottos[i].length; j++){\n            do {\n                random = (int) Math.floor(Math.random() *49 +1);\n            }while (numbers[random]);\n\n            arrOfLottos[i][j] = random;\n            numbers[random] =true;\n        }\n        if (i!=0) {\n            for (int k=1; k&lt;= MAX_NUM; k++){\n                numbers[i] = false;\n            }\n        }\n    }\n\n    return arrOfLottos;\n}\n</code></pre>\n<p>Boolean array: boolean[] numbers = new boolean[MAX_NUM + 1]; is used to create an array of boolean which each index has value from 1 to MAX_NUM = 49 and is at the start set to false:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean[] numbers = new boolean[MAX_NUM + 1];\nint random;\n\nfor (int i=1; i&lt;=MAX_NUM; i++){\n    numbers[i] = false;\n}\n</code></pre>\n<p>This array of boolean makes sure that the numbers in each row do not repeat. It is nested in for loop with do while instruction to generate random number. Instruction if(i!=0) sets boolean numbers to false for generating next row of non repeated random numbers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i=0; i&lt; arrOfLottos.length; i++){\n    for (int j=0; j&lt;arrOfLottos[i].length; j++){\n        do {\n            random = (int) Math.floor(Math.random() *49 +1);\n        }while (numbers[random]);\n\n        arrOfLottos[i][j] = random;\n        numbers[random] =true;\n    }\n    if (i!=0) {\n        for (int k=1; k&lt;= MAX_NUM; k++){\n            numbers[i] = false;\n        }\n    }\n}\n</code></pre>\n<p>The code for whole program looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\nclass LottoSorting {\n\n    private static final Scanner scanner = new Scanner(System.in);\n    private static final int drawSize = 15; // size of each row of an array\n\n    private static final int MAX_NUM = 49; //Max number possible to generate using rand function\n\n    // Function to get array's number of rows\n    public int[][] getLottosArr(){\n        System.out.println(&quot;Please enter number of draws to generate: &quot;);\n\n        int drawsNum = scanner.nextInt();\n\n        int[][] lottosArr = new int[drawsNum][drawSize];\n        scanner.close();\n\n        return lottosArr;\n    }\n\n    public int [][] generateLottos(int[][] arrOfLottos){\n        boolean[] numbers = new boolean[MAX_NUM + 1];\n        int random;\n\n        for (int i=1; i&lt;=MAX_NUM; i++){\n            numbers[i] = false;\n        }\n\n        for (int i=0; i&lt; arrOfLottos.length; i++){\n            for (int j=0; j&lt;arrOfLottos[i].length; j++){\n                do {\n                    random = (int) Math.floor(Math.random() *49 +1);\n                }while (numbers[random]);\n\n                arrOfLottos[i][j] = random;\n                numbers[random] =true;\n            }\n            if (i!=0) {\n                for (int k=1; k&lt;= MAX_NUM; k++){\n                    numbers[i] = false;\n                }\n            }\n        }\n\n        return arrOfLottos;\n    }\n\n\n    public void printArray(int [][] lottosArr){\n        System.out.println(&quot;lottos array:&quot;);\n\n        for (int i=0; i&lt; lottosArr.length; i++){\n            for (int j=0; j&lt; lottosArr[i].length; j++){\n                if ( j==0){\n                    System.out.println(&quot;\\n Draw nr: &quot; + (i+1));\n                }else  {\n                    System.out.print(&quot; &quot;);\n                }\n                System.out.print(lottosArr[i][j]);\n            }\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Lotto {\n\n    public static void main(String[] args) {\n        LottoSorting lottoSorting = new LottoSorting();\n\n        lottoSorting.printArray(lottoSorting.generateLottos(\n                lottoSorting.getLottosArr()\n        ));\n    }\n}\n</code></pre>\n"},{"tags":["java","flutter","spring-boot","macos","ssl"],"comments":[{"owner":{"account_id":7268394,"reputation":1726,"user_id":5542309,"display_name":"Navneet kumar"},"score":0,"creation_date":1666178920,"post_id":74123947,"comment_id":130872997,"body_markdown":"what is the value of `Endpoints.register` ?","body":"what is the value of <code>Endpoints.register</code> ?"},{"owner":{"account_id":22402724,"reputation":101,"user_id":16612843,"display_name":"Seema Sharma"},"score":0,"creation_date":1666180165,"post_id":74123947,"comment_id":130873461,"body_markdown":"`&#39;https://192.168.1.33:8080/authentication/register&#39;`","body":"<code>&#39;https:&#47;&#47;192.168.1.33:8080&#47;authentication&#47;register&#39;</code>"}],"owner":{"account_id":22402724,"reputation":101,"user_id":16612843,"display_name":"Seema Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666175986,"creation_date":1666175986,"question_id":74123947,"body_markdown":"I am creating a Flutter frontend for Android. I have already created a Springboot backend which is **SSL Secured**(secured locally) and is secured by SpringbootSecurity. From the frontend I am trying to send request to my backend but local server is receiving no request.\r\nHere is my flutter class which is sending request code,\r\n```\r\nimport &#39;dart:convert&#39;;\r\nimport &#39;dart:developer&#39;;\r\nimport &#39;dart:io&#39;;\r\n\r\nimport &#39;package:flutter/rendering.dart&#39;;\r\nimport &#39;package:http/http.dart&#39; as http;\r\nimport &#39;package:test_flutter/enpoints.dart&#39;;\r\n\r\nclass ApiService {\r\n  Future register(String username, String password) async {\r\n    // HttpClientRequest req = HttpClientRequest()\r\n    try {\r\n      Uri url = Uri.parse(Endpoints.register);\r\n      print(url);\r\n      var response =\r\n          await http.post(url, body: {&quot;email&quot;: username, &quot;password&quot;: password});\r\n      print(response.body);\r\n      if (response.statusCode == 200) {\r\n        print(response.body);\r\n        return response.body;\r\n      }\r\n    } catch (e) {\r\n      log(e.toString());\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nHere is my Springboot Security configurations\r\n```\r\n@EnableWebSecurity\r\npublic class SecurityConfigurations {\r\n\r\n    @Autowired\r\n    private JWTAuthenticationFilter jwtAuthenticationFilter;\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain configureHttpSecurity(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity.authorizeRequests().antMatchers(&quot;/authentication/**&quot;, &quot;/public/**&quot;)\r\n                .permitAll();\r\n        httpSecurity.authorizeRequests().antMatchers(&quot;/api/**&quot;).authenticated();\r\n        httpSecurity.formLogin().disable();\r\n        httpSecurity.httpBasic().disable();\r\n        httpSecurity.csrf().disable();\r\n        httpSecurity.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        httpSecurity.cors().configurationSource(corsConfigSource());\r\n        // httpSecurity.cors().disable();\r\n        httpSecurity.addFilterBefore(jwtAuthenticationFilter,\r\n                UsernamePasswordAuthenticationFilter.class);\r\n        return httpSecurity.build();\r\n    }\r\n\r\n    @Bean\r\n    public UrlBasedCorsConfigurationSource corsConfigSource() {\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        CorsConfiguration config = new CorsConfiguration();\r\n        config.setAllowCredentials(true);\r\n        config.addAllowedOrigin(&quot;*&quot;);\r\n        config.addAllowedHeader(&quot;*&quot;);\r\n        config.addAllowedMethod(&quot;*&quot;);\r\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\r\n        return source;\r\n    }\r\n}\r\n```\r\nSSL configured in properties file\r\n```\r\nserver.port=8080\r\nserver.ssl.enabled=true\r\nserver.ssl.key-alias=local_ssl\r\nserver.ssl.key-store-password=keystore\r\nserver.ssl.key-password=keystore\r\nserver.ssl.key-store-type=PKCS12\r\nserver.ssl.key-store=classpath:local-ssl.p12\r\n```\r\n\r\nNow, to test the issue I also created a fresh sprinboot app with not SSL and SpringbootSecurity and exposed a `/test` api. Flutter was able to send request to this backend and get response.\r\nCan someone tell me what is the problem with my frontend or backend code. Btw, I am using Macbook. I would also like to list potential issue which I think might cause the issue,\r\n* Wrong Flutter code(maybe incorrect headers)\r\n* Springboot Security not configured properly\r\n* SSL causing the problem\r\n* Mac is stop the request because of SSL certificate(not sure)\r\n\r\nP.S. Springboot backed is running locally. Have tried running flutter on actual device and emulator. Firewall on Mac is turned off.","title":"Flutter not able send request to Springboot backend","body":"<p>I am creating a Flutter frontend for Android. I have already created a Springboot backend which is <strong>SSL Secured</strong>(secured locally) and is secured by SpringbootSecurity. From the frontend I am trying to send request to my backend but local server is receiving no request.\nHere is my flutter class which is sending request code,</p>\n<pre><code>import 'dart:convert';\nimport 'dart:developer';\nimport 'dart:io';\n\nimport 'package:flutter/rendering.dart';\nimport 'package:http/http.dart' as http;\nimport 'package:test_flutter/enpoints.dart';\n\nclass ApiService {\n  Future register(String username, String password) async {\n    // HttpClientRequest req = HttpClientRequest()\n    try {\n      Uri url = Uri.parse(Endpoints.register);\n      print(url);\n      var response =\n          await http.post(url, body: {&quot;email&quot;: username, &quot;password&quot;: password});\n      print(response.body);\n      if (response.statusCode == 200) {\n        print(response.body);\n        return response.body;\n      }\n    } catch (e) {\n      log(e.toString());\n    }\n  }\n}\n</code></pre>\n<p>Here is my Springboot Security configurations</p>\n<pre><code>@EnableWebSecurity\npublic class SecurityConfigurations {\n\n    @Autowired\n    private JWTAuthenticationFilter jwtAuthenticationFilter;\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain configureHttpSecurity(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.authorizeRequests().antMatchers(&quot;/authentication/**&quot;, &quot;/public/**&quot;)\n                .permitAll();\n        httpSecurity.authorizeRequests().antMatchers(&quot;/api/**&quot;).authenticated();\n        httpSecurity.formLogin().disable();\n        httpSecurity.httpBasic().disable();\n        httpSecurity.csrf().disable();\n        httpSecurity.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        httpSecurity.cors().configurationSource(corsConfigSource());\n        // httpSecurity.cors().disable();\n        httpSecurity.addFilterBefore(jwtAuthenticationFilter,\n                UsernamePasswordAuthenticationFilter.class);\n        return httpSecurity.build();\n    }\n\n    @Bean\n    public UrlBasedCorsConfigurationSource corsConfigSource() {\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowCredentials(true);\n        config.addAllowedOrigin(&quot;*&quot;);\n        config.addAllowedHeader(&quot;*&quot;);\n        config.addAllowedMethod(&quot;*&quot;);\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\n        return source;\n    }\n}\n</code></pre>\n<p>SSL configured in properties file</p>\n<pre><code>server.port=8080\nserver.ssl.enabled=true\nserver.ssl.key-alias=local_ssl\nserver.ssl.key-store-password=keystore\nserver.ssl.key-password=keystore\nserver.ssl.key-store-type=PKCS12\nserver.ssl.key-store=classpath:local-ssl.p12\n</code></pre>\n<p>Now, to test the issue I also created a fresh sprinboot app with not SSL and SpringbootSecurity and exposed a <code>/test</code> api. Flutter was able to send request to this backend and get response.\nCan someone tell me what is the problem with my frontend or backend code. Btw, I am using Macbook. I would also like to list potential issue which I think might cause the issue,</p>\n<ul>\n<li>Wrong Flutter code(maybe incorrect headers)</li>\n<li>Springboot Security not configured properly</li>\n<li>SSL causing the problem</li>\n<li>Mac is stop the request because of SSL certificate(not sure)</li>\n</ul>\n<p>P.S. Springboot backed is running locally. Have tried running flutter on actual device and emulator. Firewall on Mac is turned off.</p>\n"},{"tags":["java","performance","oop","optimization","boolean"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1666174208,"post_id":74123555,"comment_id":130871347,"body_markdown":"Having this many flags is a bit of a dubious design. Could you represent things by an enum, and use an EnumSet instead?","body":"Having this many flags is a bit of a dubious design. Could you represent things by an enum, and use an EnumSet instead?"},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1666174431,"post_id":74123555,"comment_id":130871430,"body_markdown":"@AndyTurner: I can&#39;t change the code unfortunately (at least not at the moment)","body":"@AndyTurner: I can&#39;t change the code unfortunately (at least not at the moment)"},{"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"score":0,"creation_date":1666174534,"post_id":74123555,"comment_id":130871469,"body_markdown":"@AndyTurner: If you want to provide some solution for enumset, that is welcome too although I wont be able to use it for the time being as I can&#39;t change that class as mentioned","body":"@AndyTurner: If you want to provide some solution for enumset, that is welcome too although I wont be able to use it for the time being as I can&#39;t change that class as mentioned"}],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666174829,"creation_date":1666174829,"answer_id":74123717,"question_id":74123555,"body_markdown":"Add `isAnyTrue()` method to the `Foo` and check all properties:\r\n```java\r\npublic boolean isAnyTrue() {\r\n    return isA || isB || ... || isY;\r\n}\r\n```\r\n\r\nIf the number of properties is too big to handle it in this way, you can use [Reflection][1] to find all `boolean` properties and check if any is set to `true`.\r\n\r\n\r\n  [1]: https://www.oracle.com/technical-resources/articles/java/javareflection.html","title":"Determine if any boolean flag is true","body":"<p>Add <code>isAnyTrue()</code> method to the <code>Foo</code> and check all properties:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isAnyTrue() {\n    return isA || isB || ... || isY;\n}\n</code></pre>\n<p>If the number of properties is too big to handle it in this way, you can use <a href=\"https://www.oracle.com/technical-resources/articles/java/javareflection.html\" rel=\"nofollow noreferrer\">Reflection</a> to find all <code>boolean</code> properties and check if any is set to <code>true</code>.</p>\n"},{"tags":[],"owner":{"account_id":9743027,"reputation":3,"user_id":7223898,"display_name":"Sanjeet Jagdev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666175828,"creation_date":1666175828,"answer_id":74123903,"question_id":74123555,"body_markdown":"First of all, I think this is a bad way to do things. But none the less since you mentioned that you can&#39;t change the code as of now. Maybe you could look into Reflection, which again isn&#39;t the most optimized way to do it. \r\n\r\n    public boolean isTruePresent() throws IllegalAccessException {\r\n        var fields = Foo.class.getDeclaredFields();\r\n        Foo test = new Foo();\r\n        boolean hasTrue = false;\r\n\r\n        for(var field : fields) {\r\n            if(field.getType().getSimpleName().equals(&quot;boolean&quot;)) {\r\n                hasTrue = hasTrue || (boolean) field.get(test);\r\n            }\r\n        }\r\n        return hasTrue;\r\n    }\r\n\r\n","title":"Determine if any boolean flag is true","body":"<p>First of all, I think this is a bad way to do things. But none the less since you mentioned that you can't change the code as of now. Maybe you could look into Reflection, which again isn't the most optimized way to do it.</p>\n<pre><code>public boolean isTruePresent() throws IllegalAccessException {\n    var fields = Foo.class.getDeclaredFields();\n    Foo test = new Foo();\n    boolean hasTrue = false;\n\n    for(var field : fields) {\n        if(field.getType().getSimpleName().equals(&quot;boolean&quot;)) {\n            hasTrue = hasTrue || (boolean) field.get(test);\n        }\n    }\n    return hasTrue;\n}\n</code></pre>\n"}],"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1666175828,"creation_date":1666174072,"question_id":74123555,"body_markdown":"There is a class that is like a structure for flags. I.e. it is comprised of flags.  \r\nE.g.  \r\n\r\n    public class Foo { \r\n      boolean isA;  \r\n      boolean isB;  \r\n      boolean isC;  \r\n      boolean isD;  \r\n      boolean isE;  \r\n      boolean isX;  \r\n      boolean isY;  \r\n    }\r\nI need to check at some point if at least one of the flags is `true`. \r\nBesides a series of `if` statements e.g.  \r\n\r\n    boolean isAnyTrue = false;  \r\n    if(foo.isA) isAnyTrue = true; \r\n    else if(foo.isB) isAnyTrue = true;\r\n    else if(foo.isC) isAnyTrue = true;\r\n    else if(foo.isD) isAnyTrue = true;\r\n    else if(foo.isE) isAnyTrue = true;  \r\n    else if(foo.isX) isAnyTrue = true;  \r\n    else if(foo.isY) isAnyTrue = true;\r\n\r\nOr   \r\n\r\n    boolean isAnyTrue = foo.isA || foo.isB || foo.isC || foo.isD || foo.isE || foo.isX || foo.isY;  \r\n\r\nIs there any other way to achieve this?\r\n\r\n","title":"Determine if any boolean flag is true","body":"<p>There is a class that is like a structure for flags. I.e. it is comprised of flags.<br />\nE.g.</p>\n<pre><code>public class Foo { \n  boolean isA;  \n  boolean isB;  \n  boolean isC;  \n  boolean isD;  \n  boolean isE;  \n  boolean isX;  \n  boolean isY;  \n}\n</code></pre>\n<p>I need to check at some point if at least one of the flags is <code>true</code>.\nBesides a series of <code>if</code> statements e.g.</p>\n<pre><code>boolean isAnyTrue = false;  \nif(foo.isA) isAnyTrue = true; \nelse if(foo.isB) isAnyTrue = true;\nelse if(foo.isC) isAnyTrue = true;\nelse if(foo.isD) isAnyTrue = true;\nelse if(foo.isE) isAnyTrue = true;  \nelse if(foo.isX) isAnyTrue = true;  \nelse if(foo.isY) isAnyTrue = true;\n</code></pre>\n<p>Or</p>\n<pre><code>boolean isAnyTrue = foo.isA || foo.isB || foo.isC || foo.isD || foo.isE || foo.isX || foo.isY;  \n</code></pre>\n<p>Is there any other way to achieve this?</p>\n"},{"tags":["java","gradle","dependencies","build.gradle","legacy"],"answers":[{"tags":[],"owner":{"account_id":146011,"reputation":4322,"user_id":356199,"display_name":"Peter Ledbrook"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1524813948,"creation_date":1524813948,"answer_id":50057411,"question_id":50054359,"body_markdown":"I can&#39;t say I understand what&#39;s happening in that build and I feel your pain. The first thing I would say is that  [composite builds][1] may offer a pathway to a &quot;normal&quot;, maintainable build, allowing you to keep _robotcontroller_ as a separate project. If you go down this route, you will have to remove the `include &quot;:robotcontroller&quot; from the parent&#39;s _settings.gradle_ file and replace it with the equivalent composite build configuration.\r\n\r\nThat said, I think you can get this working fairly easily, because most of the pieces appear to be in place. I would do this:\r\n\r\n  1. Move all of those JARs currently in _plugins/*/libs_ into _robotcontroller/libs_, adding a version to their file names\r\n\r\n  2. Update all the dependencies on those JARs so that they include the appropriate version\r\n\r\n  3. Remove the _&lt;rootProject&gt;/robocommons_ directory\r\n\r\nYou see, _robotcontroller/libs_ appears to already be set up as a flat directory repository in both _robotcontroller_ and the parent project. It seems to me that the only reason the problematic libraries are in project-specific directories is because they don&#39;t have version numbers in their names to distinguish them. By adding the version number, you can keep them side by side in the same directory.\r\n\r\nDoes that make sense? Hope it helps anyway!\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/composite_builds.html","title":"Dependencies relative to Gradle subprojects which are also buildable independently","body":"<p>I can't say I understand what's happening in that build and I feel your pain. The first thing I would say is that  <a href=\"https://docs.gradle.org/current/userguide/composite_builds.html\" rel=\"nofollow noreferrer\">composite builds</a> may offer a pathway to a \"normal\", maintainable build, allowing you to keep <em>robotcontroller</em> as a separate project. If you go down this route, you will have to remove the `include \":robotcontroller\" from the parent's <em>settings.gradle</em> file and replace it with the equivalent composite build configuration.</p>\n\n<p>That said, I think you can get this working fairly easily, because most of the pieces appear to be in place. I would do this:</p>\n\n<ol>\n<li><p>Move all of those JARs currently in <em>plugins/*/libs</em> into <em>robotcontroller/libs</em>, adding a version to their file names</p></li>\n<li><p>Update all the dependencies on those JARs so that they include the appropriate version</p></li>\n<li><p>Remove the <em>/robocommons</em> directory</p></li>\n</ol>\n\n<p>You see, <em>robotcontroller/libs</em> appears to already be set up as a flat directory repository in both <em>robotcontroller</em> and the parent project. It seems to me that the only reason the problematic libraries are in project-specific directories is because they don't have version numbers in their names to distinguish them. By adding the version number, you can keep them side by side in the same directory.</p>\n\n<p>Does that make sense? Hope it helps anyway!</p>\n"},{"tags":[],"owner":{"account_id":7609862,"reputation":385,"user_id":5771107,"display_name":"yuyu5"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666175749,"creation_date":1666175749,"answer_id":74123880,"question_id":50054359,"body_markdown":"I stumbled upon this recently as I was encountering a similar issue.\r\n\r\nNot that my solution is objectively better, but I feel with Gradle (at least v7 but probably lower versions as well b/c it&#39;s too late for me to search the changelog), the answer could probably be solved even easier than above.\r\n\r\nEither:\r\n\r\n1. Use `apply from: &lt;my-personal&gt;build.gradle` which will &quot;inject&quot; all sub-dependencies + source code from said sub-project.\r\n2. (Most ideal) The fact that you said it&#39;s a different repository means *you should be using a hosted registry* i.e. micro-service. Install said micro-service from some sort of registry (meaning publish it somewhere and install it in the `dependencies {}` block rather than anywhere else) and use it that way. After jumping through some loops myself, I found this was one of the easier ways to do what you&#39;re desiring.","title":"Dependencies relative to Gradle subprojects which are also buildable independently","body":"<p>I stumbled upon this recently as I was encountering a similar issue.</p>\n<p>Not that my solution is objectively better, but I feel with Gradle (at least v7 but probably lower versions as well b/c it's too late for me to search the changelog), the answer could probably be solved even easier than above.</p>\n<p>Either:</p>\n<ol>\n<li>Use <code>apply from: &lt;my-personal&gt;build.gradle</code> which will &quot;inject&quot; all sub-dependencies + source code from said sub-project.</li>\n<li>(Most ideal) The fact that you said it's a different repository means <em>you should be using a hosted registry</em> i.e. micro-service. Install said micro-service from some sort of registry (meaning publish it somewhere and install it in the <code>dependencies {}</code> block rather than anywhere else) and use it that way. After jumping through some loops myself, I found this was one of the easier ways to do what you're desiring.</li>\n</ol>\n"}],"owner":{"account_id":1482207,"reputation":3688,"user_id":1391325,"accept_rate":92,"display_name":"errantlinguist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1582,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50057411,"answer_count":2,"score":0,"last_activity_date":1666175749,"creation_date":1524796199,"question_id":50054359,"body_markdown":"# Background\r\n\r\nI&#39;ve inherited an old, extremely complicated Gradle-based Java project with many sub-projects. Many of these have closed-source `*.jar` libraries that should not leak to other (sub-)projects in order to avoid namespace clashes when multiple projects use different versions of the &quot;same&quot; library.\r\n\r\nI&#39;m trying to update the project to use some new versions of some of these libraries and in general clean up the dependencies, since development has become extremely complicated.\r\nTo make things worse, one project is nested as a [Git submodule](https://codingkilledthecat.wordpress.com/2012/04/28/why-your-company-shouldnt-use-git-submodules/), which is supposed to be able to be built either independently **or** as a subproject of the main Gradle project I&#39;m working with.\r\n\r\n## The Git submodule\r\n\r\nHere is a simplified structure analogous to the Git submodule/Gradle project/Gradle sub-project:\r\n\r\n\trobotcontroller\r\n\t+--.git\r\n\t+--gradle\r\n\t+--libs\r\n\t+--planning\r\n\t|  +--src\r\n\t|  +--build.gradle\r\n\t+--plugins\r\n\t|  +--nao\r\n\t|  |  +--libs\r\n\t|  |  |  +--robocommons.jar\r\n\t|  |  +--src\r\n\t|  |  +--build.gradle\r\n\t|  +--pepper\r\n\t|  |  +--libs\r\n\t|  |  |  +--graphadapter.jar\r\n\t|  |  +--src\r\n\t|  |  +--build.gradle\r\n\t+--build.gradle\r\n\t+--gradlew\r\n\t+--gradlew.bat\r\n\t+--settings.gradle\r\n\t\r\n\t\r\n**`plugins/nao/build.gradle`:**\t\r\n\t\r\n\tdependencies {\r\n\t\tcompile project(&#39;:planning&#39;)\r\n\t\t// This is inside the subproject&#39;s &quot;libs/&quot; dir\r\n\t\tcompile name: &#39;robocommons&#39;\r\n\t\tcompile group: &#39;org.apache.httpcomponents&#39;, name: &#39;httpclient&#39;, version: &#39;4.5.3&#39;\r\n\t}\r\n\r\n\t[rootProject, this].each {\r\n\t\tit.repositories {\r\n\t\t\tflatDir {\r\n\t\t\t\tdirs &quot;${rootDir}/plugins/nao/libs/&quot;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n**`plugins/pepper/build.gradle`:**\t\r\n\t\r\n\tdependencies {\r\n\t\tcompile project(&#39;:planning&#39;)\r\n\t\t// This is inside the subproject&#39;s &quot;libs/&quot; dir\r\n\t\tcompile name: &#39;graphadapter&#39;\r\n\t\tcompile group: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: &#39;19.0&#39;\r\n\t}\r\n\r\n\t[rootProject, this].each {\r\n\t\tit.repositories {\r\n\t\t\tmaven {\r\n\t\t\t\t// Some proprietary, closed-source repo\r\n\t\t\t}\r\n\t\t\tflatDir {\r\n\t\t\t\tdirs &quot;${rootDir}/plugins/pepper/libs/&quot;\r\n\t\t\t}\r\n\t\t}\r\n\t}\t\r\n\t\r\n**`plugins/build.gradle`:**\r\n\r\n\tdependencies {\r\n\t\tcompile project(&#39;:plugins:nao&#39;)\r\n\t\tcompile project(&#39;:plugins:pepper&#39;)\r\n\t}\r\n\t\r\n**`build.gradle`:**\r\n\r\n\t// Stuff like plugins here\r\n\t...\r\n\r\n\tallprojects {\r\n\t  repositories {\r\n\t\tflatDir {\r\n\t\t  dirs &quot;${rootDir}/libs&quot;\r\n\t\t}\r\n\t\tjcenter()\r\n\r\n\t\tmaven {\r\n\t\t\t// Some other proprietary repo here\r\n\t\t}\r\n\t  }\r\n\r\n\t  dependencies {\r\n\t\ttestCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n\t  }\r\n\t}\r\n\t\r\n\tdependencies {\r\n\t\tcompile subprojects\r\n\t}\r\n\t\r\n\t// Stuff like javadoc and sourceJar tasks\r\n\t...\r\n\t\r\n\t\r\n**`settings.gradle`:**\r\n\r\n\tinclude &#39;planning&#39;\r\n\tinclude &#39;plugins&#39;\r\n\tinclude &#39;plugins:nao&#39;\r\n\tinclude &#39;plugins:pepper&#39;\r\n\r\n\r\n## The &quot;root&quot; Git repository\r\n\r\nThe Gradle project and all of its sub-projects above not only need to be able to be built on their own, but the project is itself a sub-project of another Gradle project, which is in a different Git repository:\r\n\r\n\tcomplicatedrobotproject\r\n\t+--.git\r\n\t+--gradle\r\n\t+--robotcontroller@SOMEREVISION // This is managed by the &quot;.gitmodules&quot; file\r\n\t+--robocommons // A different, partially-compatible version of the source code used to make &quot;robocommons.jar&quot; is here\r\n\t|  +--src\r\n\t|  +--build.gradle\r\n\t+--.gitmodules\r\n\t+--build.gradle\r\n\t+--gradlew\r\n\t+--gradlew.bat\r\n\t+--settings.gradle\r\n\t\r\n\t\r\n**`build.gradle`:**\r\n\r\n\tallprojects {\r\n\t\trepositories {\r\n\t\t\tflatDir {\r\n\t\t\t\tdirs &quot;${rootDir}/robotcontroller/libs&quot;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tdependencies {\r\n\t\t// some external dependencies\r\n\t\t...\r\n\t\tcompile project(&quot;:robotcontroller&quot;)\r\n\t\tcompile project(&quot;:robocommons&quot;)\r\n\r\n\t\t// TEST\r\n\t\ttestCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n\t}\r\n\t\r\n\t\r\n**`settings.gradle`:**\r\n\r\n\tinclude &#39;robocommons&#39;\r\n\tinclude &#39;robotcontroller:planning&#39;\r\n\tinclude &#39;robotcontroller:plugins&#39;\r\n\tinclude &#39;robotcontroller:plugins:nao&#39;\r\n\tinclude &#39;robotcontroller:plugins:pepper&#39;\r\n\t\r\n\t\r\n\r\n\r\n----------\r\n\r\n# Problem\r\n\r\nIn the example above, my immediate goal is to replace the source code found at `complicatedrobotproject/robocommons` with `robocommons.jar`. However, the only way to build the project is with a modified version of the Git submodule `robotcontroller` that actually depends on that:\r\n\r\n**`robotcontroller/plugins/nao/build.gradle` from revision `SOMEREVISION`:**\t\r\n\r\n\tdependencies {\r\n\t\tcompile name &#39;:robocommons&#39; // When building &quot;complicatedrobotproject&quot;, this in fact links &quot;robocommons&quot; the directory, not &quot;robocommons.jar&quot;!\r\n\t\tcompile project(&#39;:robotcontroller:planning&#39;)\r\n\t\tcompile group: &#39;org.apache.httpcomponents&#39;, name: &#39;httpclient&#39;, version: &#39;4.5.3&#39;\r\n\t}\r\n\t\r\nBy adding `:robotcontroller` to the dependencies, the project `complicatedrobotproject` can be built, but `robotcontroller` cannot be built as a standalone Gradle project. Taking that qualifier then makes the latter buildable at the expense of the former. The classes present in `robocommons.jar` that are also present in the directory `robocommons` are largely but not completely equivalent. Ultimately, I want to replace **both** with a proper external dependency to e.g. `compile group: &#39;com.complicatedrobots&#39;, name: &#39;robocommons&#39;, version: &#39;2.0.3&#39;`, but that will require a lot of re-implementation, and I first need to sort out this dependency nightmare.\r\n\r\nMy task is not to make the project make sense; As much as this makes my head hurt, I just need both Git repositories to be buildable and also using a single version of `robocommons` across all Gradle projects, regardless of which Git repository is being built. I can&#39;t even think about the problem straight because every single possibility I think of blocks out some other thing that needs to work.","title":"Dependencies relative to Gradle subprojects which are also buildable independently","body":"<h1>Background</h1>\n\n<p>I've inherited an old, extremely complicated Gradle-based Java project with many sub-projects. Many of these have closed-source <code>*.jar</code> libraries that should not leak to other (sub-)projects in order to avoid namespace clashes when multiple projects use different versions of the \"same\" library.</p>\n\n<p>I'm trying to update the project to use some new versions of some of these libraries and in general clean up the dependencies, since development has become extremely complicated.\nTo make things worse, one project is nested as a <a href=\"https://codingkilledthecat.wordpress.com/2012/04/28/why-your-company-shouldnt-use-git-submodules/\" rel=\"nofollow noreferrer\">Git submodule</a>, which is supposed to be able to be built either independently <strong>or</strong> as a subproject of the main Gradle project I'm working with.</p>\n\n<h2>The Git submodule</h2>\n\n<p>Here is a simplified structure analogous to the Git submodule/Gradle project/Gradle sub-project:</p>\n\n<pre><code>robotcontroller\n+--.git\n+--gradle\n+--libs\n+--planning\n|  +--src\n|  +--build.gradle\n+--plugins\n|  +--nao\n|  |  +--libs\n|  |  |  +--robocommons.jar\n|  |  +--src\n|  |  +--build.gradle\n|  +--pepper\n|  |  +--libs\n|  |  |  +--graphadapter.jar\n|  |  +--src\n|  |  +--build.gradle\n+--build.gradle\n+--gradlew\n+--gradlew.bat\n+--settings.gradle\n</code></pre>\n\n<p><strong><code>plugins/nao/build.gradle</code>:</strong> </p>\n\n<pre><code>dependencies {\n    compile project(':planning')\n    // This is inside the subproject's \"libs/\" dir\n    compile name: 'robocommons'\n    compile group: 'org.apache.httpcomponents', name: 'httpclient', version: '4.5.3'\n}\n\n[rootProject, this].each {\n    it.repositories {\n        flatDir {\n            dirs \"${rootDir}/plugins/nao/libs/\"\n        }\n    }\n}\n</code></pre>\n\n<p><strong><code>plugins/pepper/build.gradle</code>:</strong>  </p>\n\n<pre><code>dependencies {\n    compile project(':planning')\n    // This is inside the subproject's \"libs/\" dir\n    compile name: 'graphadapter'\n    compile group: 'com.google.guava', name: 'guava', version: '19.0'\n}\n\n[rootProject, this].each {\n    it.repositories {\n        maven {\n            // Some proprietary, closed-source repo\n        }\n        flatDir {\n            dirs \"${rootDir}/plugins/pepper/libs/\"\n        }\n    }\n}   \n</code></pre>\n\n<p><strong><code>plugins/build.gradle</code>:</strong></p>\n\n<pre><code>dependencies {\n    compile project(':plugins:nao')\n    compile project(':plugins:pepper')\n}\n</code></pre>\n\n<p><strong><code>build.gradle</code>:</strong></p>\n\n<pre><code>// Stuff like plugins here\n...\n\nallprojects {\n  repositories {\n    flatDir {\n      dirs \"${rootDir}/libs\"\n    }\n    jcenter()\n\n    maven {\n        // Some other proprietary repo here\n    }\n  }\n\n  dependencies {\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n  }\n}\n\ndependencies {\n    compile subprojects\n}\n\n// Stuff like javadoc and sourceJar tasks\n...\n</code></pre>\n\n<p><strong><code>settings.gradle</code>:</strong></p>\n\n<pre><code>include 'planning'\ninclude 'plugins'\ninclude 'plugins:nao'\ninclude 'plugins:pepper'\n</code></pre>\n\n<h2>The \"root\" Git repository</h2>\n\n<p>The Gradle project and all of its sub-projects above not only need to be able to be built on their own, but the project is itself a sub-project of another Gradle project, which is in a different Git repository:</p>\n\n<pre><code>complicatedrobotproject\n+--.git\n+--gradle\n+--robotcontroller@SOMEREVISION // This is managed by the \".gitmodules\" file\n+--robocommons // A different, partially-compatible version of the source code used to make \"robocommons.jar\" is here\n|  +--src\n|  +--build.gradle\n+--.gitmodules\n+--build.gradle\n+--gradlew\n+--gradlew.bat\n+--settings.gradle\n</code></pre>\n\n<p><strong><code>build.gradle</code>:</strong></p>\n\n<pre><code>allprojects {\n    repositories {\n        flatDir {\n            dirs \"${rootDir}/robotcontroller/libs\"\n        }\n    }\n}\n\ndependencies {\n    // some external dependencies\n    ...\n    compile project(\":robotcontroller\")\n    compile project(\":robocommons\")\n\n    // TEST\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n}\n</code></pre>\n\n<p><strong><code>settings.gradle</code>:</strong></p>\n\n<pre><code>include 'robocommons'\ninclude 'robotcontroller:planning'\ninclude 'robotcontroller:plugins'\ninclude 'robotcontroller:plugins:nao'\ninclude 'robotcontroller:plugins:pepper'\n</code></pre>\n\n<hr>\n\n<h1>Problem</h1>\n\n<p>In the example above, my immediate goal is to replace the source code found at <code>complicatedrobotproject/robocommons</code> with <code>robocommons.jar</code>. However, the only way to build the project is with a modified version of the Git submodule <code>robotcontroller</code> that actually depends on that:</p>\n\n<p><strong><code>robotcontroller/plugins/nao/build.gradle</code> from revision <code>SOMEREVISION</code>:</strong>    </p>\n\n<pre><code>dependencies {\n    compile name ':robocommons' // When building \"complicatedrobotproject\", this in fact links \"robocommons\" the directory, not \"robocommons.jar\"!\n    compile project(':robotcontroller:planning')\n    compile group: 'org.apache.httpcomponents', name: 'httpclient', version: '4.5.3'\n}\n</code></pre>\n\n<p>By adding <code>:robotcontroller</code> to the dependencies, the project <code>complicatedrobotproject</code> can be built, but <code>robotcontroller</code> cannot be built as a standalone Gradle project. Taking that qualifier then makes the latter buildable at the expense of the former. The classes present in <code>robocommons.jar</code> that are also present in the directory <code>robocommons</code> are largely but not completely equivalent. Ultimately, I want to replace <strong>both</strong> with a proper external dependency to e.g. <code>compile group: 'com.complicatedrobots', name: 'robocommons', version: '2.0.3'</code>, but that will require a lot of re-implementation, and I first need to sort out this dependency nightmare.</p>\n\n<p>My task is not to make the project make sense; As much as this makes my head hurt, I just need both Git repositories to be buildable and also using a single version of <code>robocommons</code> across all Gradle projects, regardless of which Git repository is being built. I can't even think about the problem straight because every single possibility I think of blocks out some other thing that needs to work.</p>\n"},{"tags":["javascript","java","android","android-studio"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1662631642,"post_id":73645822,"comment_id":130052520,"body_markdown":"You can use `Certificate Pinning` or check for installed apps &amp; determine if any Sniffing app is installed but bear in mind that no app is 100% secure.","body":"You can use <code>Certificate Pinning</code> or check for installed apps &amp; determine if any Sniffing app is installed but bear in mind that no app is 100% secure."},{"owner":{"account_id":26278966,"reputation":27,"user_id":19947699,"display_name":"Anees"},"score":0,"creation_date":1662641146,"post_id":73645822,"comment_id":130056018,"body_markdown":"There are some apps on play store which doesn&#39;t open when someone is using a packet capture app, is there any way to block access to the app when someone is using a vpn? It will also block access from packet capture apps cause they uses vpn.","body":"There are some apps on play store which doesn&#39;t open when someone is using a packet capture app, is there any way to block access to the app when someone is using a vpn? It will also block access from packet capture apps cause they uses vpn."},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1662703684,"post_id":73645822,"comment_id":130071250,"body_markdown":"To check for active VPN, check this: https://stackoverflow.com/questions/28386553/check-if-a-vpn-connection-is-active-in-android","body":"To check for active VPN, check this: <a href=\"https://stackoverflow.com/questions/28386553/check-if-a-vpn-connection-is-active-in-android\" title=\"check if a vpn connection is active in android\">stackoverflow.com/questions/28386553/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":26278966,"reputation":27,"user_id":19947699,"display_name":"Anees"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666175705,"creation_date":1664541246,"answer_id":73908858,"question_id":73645822,"body_markdown":"I solved this using this:\r\n\r\nCreate a HelperUtils.java class in your utils folder and add the following code:\r\n\r\n    public class HelperUtils {\r\n    private Activity activity;\r\n\r\n    public HelperUtils(Activity activity) {\r\n        this.activity = activity;\r\n    }\r\n\r\n    public boolean isVpnConnectionAvailable(){\r\n        String iface = &quot;&quot;;\r\n        try {\r\n            for (NetworkInterface networkInst : Collections.list(NetworkInterface.getNetworkInterfaces())){\r\n                if (networkInst.isUp())\r\n                    iface = networkInst.getName();\r\n                if ( iface.contains(&quot;tun&quot;) || iface.contains(&quot;ppp&quot;) || iface.contains(&quot;pptp&quot;)) {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n\r\n        }catch (SocketException e){\r\n            e.printStackTrace();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public ApplicationInfo getRestrictApp() {\r\n        ApplicationInfo restrictPackageInfo = null;\r\n        final PackageManager pm = activity.getPackageManager();\r\n        //get a list of installed apps.\r\n        List&lt;ApplicationInfo&gt; packages = pm.getInstalledApplications(PackageManager.GET_META_DATA);\r\n        for (ApplicationInfo packageInfo : packages) {\r\n            if (packageInfo.packageName.equals(&quot;com.guoshi.httpcanary&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;app.greyshirts.sslcapture&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;com.guoshi.httpcanary.premium&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;com.minhui.networkcapture.pro&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;com.minhui.networkcapture&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;com.egorovandreyrm.pcapremote&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;com.packagesniffer.frtparlak&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;jp.co.taosoftware.android.packetcapture&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;com.emanuelef.remote_capture&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;com.minhui.wifianalyzer&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;com.evbadroid.proxymon&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;com.evbadroid.wicapdemo&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;com.evbadroid.wicap&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;com.luckypatchers.luckypatcherinstaller&quot;) ||\r\n                    packageInfo.packageName.equals(&quot;ru.UbLBBRLf.jSziIaUjL&quot;)) {\r\n                //restrictPackageName = packageInfo.packageName;\r\n                //restrictPackageName = packageInfo.loadLabel(activity.getPackageManager()).toString();\r\n                restrictPackageInfo = packageInfo;\r\n            }\r\n        }\r\n\r\n        return restrictPackageInfo;\r\n    }\r\n\r\n    public boolean isForeground( String myPackage){\r\n        ActivityManager manager = (ActivityManager) activity.getSystemService(ACTIVITY_SERVICE);\r\n        List&lt; ActivityManager.RunningTaskInfo &gt; runningTaskInfo = manager.getRunningTasks(1);\r\n\r\n        ComponentName componentInfo = runningTaskInfo.get(0).topActivity;\r\n        Log.e(&quot;123456&quot;, &quot;Background Apps: &quot; + componentInfo.getPackageName());\r\n        return componentInfo != null &amp;&amp; componentInfo.getPackageName().equals(myPackage);\r\n    }\r\n\r\n    public boolean isAppRunning(Context context, String packageName){\r\n        ActivityManager activityManager = (ActivityManager) context.getSystemService(ACTIVITY_SERVICE);\r\n        List&lt;ActivityManager.RunningAppProcessInfo&gt; processInfos = activityManager.getRunningAppProcesses();\r\n        if (processInfos != null){\r\n            for (ActivityManager.RunningAppProcessInfo processInfo : processInfos){\r\n                if (processInfo.processName.equals(packageName)){\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public void showWarningDialog(Activity context, String title, String message) {\r\n        new AlertDialog.Builder(context)\r\n                .setTitle(title)\r\n                .setMessage(message)\r\n                .setIcon(R.drawable.ic_warning)\r\n                .setPositiveButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        System.exit(0);\r\n                        context.finish();\r\n                    }\r\n                })\r\n                .setCancelable(false)\r\n                .show();\r\n    }\r\n\r\n}\r\n\r\nAfter this go to ur MainActivity.Java class and add the following code:\r\n\r\n    \r\n\r\n    private boolean vpnStatus;\r\n       \r\n    //check vpn connection\r\n                        helperUtils = new HelperUtils(MainActivity.this);\r\n                        vpnStatus = helperUtils.isVpnConnectionAvailable();\r\n                        if (vpnStatus) {\r\n                            helperUtils.showWarningDialog(MainActivity.this, getString(R.string.vpn_detected), getString(R.string.close_vpn));\r\n                            return;\r\n                        }\r\n\r\n   \r\n\r\nAdd the following code in your sting.xml file:\r\n\r\n        &lt;string name=&quot;vpn_detected&quot;&gt;VPN Detected!!&lt;/string&gt; \r\n    &lt;string name=&quot;close_vpn&quot;&gt;Close VPN and re-open the app to continue.&lt;/string&gt;\r\n\r\nThis is it, now your app will show &quot; Vpn Detected &quot; everytime someone try to access it using a vpn or ssl capture app. Good luck.","title":"How do I protect my android app from packet capture?","body":"<p>I solved this using this:</p>\n<p>Create a HelperUtils.java class in your utils folder and add the following code:</p>\n<pre><code>public class HelperUtils {\nprivate Activity activity;\n\npublic HelperUtils(Activity activity) {\n    this.activity = activity;\n}\n\npublic boolean isVpnConnectionAvailable(){\n    String iface = &quot;&quot;;\n    try {\n        for (NetworkInterface networkInst : Collections.list(NetworkInterface.getNetworkInterfaces())){\n            if (networkInst.isUp())\n                iface = networkInst.getName();\n            if ( iface.contains(&quot;tun&quot;) || iface.contains(&quot;ppp&quot;) || iface.contains(&quot;pptp&quot;)) {\n                return true;\n            }\n        }\n\n\n    }catch (SocketException e){\n        e.printStackTrace();\n    }\n    return false;\n}\n\npublic ApplicationInfo getRestrictApp() {\n    ApplicationInfo restrictPackageInfo = null;\n    final PackageManager pm = activity.getPackageManager();\n    //get a list of installed apps.\n    List&lt;ApplicationInfo&gt; packages = pm.getInstalledApplications(PackageManager.GET_META_DATA);\n    for (ApplicationInfo packageInfo : packages) {\n        if (packageInfo.packageName.equals(&quot;com.guoshi.httpcanary&quot;) ||\n                packageInfo.packageName.equals(&quot;app.greyshirts.sslcapture&quot;) ||\n                packageInfo.packageName.equals(&quot;com.guoshi.httpcanary.premium&quot;) ||\n                packageInfo.packageName.equals(&quot;com.minhui.networkcapture.pro&quot;) ||\n                packageInfo.packageName.equals(&quot;com.minhui.networkcapture&quot;) ||\n                packageInfo.packageName.equals(&quot;com.egorovandreyrm.pcapremote&quot;) ||\n                packageInfo.packageName.equals(&quot;com.packagesniffer.frtparlak&quot;) ||\n                packageInfo.packageName.equals(&quot;jp.co.taosoftware.android.packetcapture&quot;) ||\n                packageInfo.packageName.equals(&quot;com.emanuelef.remote_capture&quot;) ||\n                packageInfo.packageName.equals(&quot;com.minhui.wifianalyzer&quot;) ||\n                packageInfo.packageName.equals(&quot;com.evbadroid.proxymon&quot;) ||\n                packageInfo.packageName.equals(&quot;com.evbadroid.wicapdemo&quot;) ||\n                packageInfo.packageName.equals(&quot;com.evbadroid.wicap&quot;) ||\n                packageInfo.packageName.equals(&quot;com.luckypatchers.luckypatcherinstaller&quot;) ||\n                packageInfo.packageName.equals(&quot;ru.UbLBBRLf.jSziIaUjL&quot;)) {\n            //restrictPackageName = packageInfo.packageName;\n            //restrictPackageName = packageInfo.loadLabel(activity.getPackageManager()).toString();\n            restrictPackageInfo = packageInfo;\n        }\n    }\n\n    return restrictPackageInfo;\n}\n\npublic boolean isForeground( String myPackage){\n    ActivityManager manager = (ActivityManager) activity.getSystemService(ACTIVITY_SERVICE);\n    List&lt; ActivityManager.RunningTaskInfo &gt; runningTaskInfo = manager.getRunningTasks(1);\n\n    ComponentName componentInfo = runningTaskInfo.get(0).topActivity;\n    Log.e(&quot;123456&quot;, &quot;Background Apps: &quot; + componentInfo.getPackageName());\n    return componentInfo != null &amp;&amp; componentInfo.getPackageName().equals(myPackage);\n}\n\npublic boolean isAppRunning(Context context, String packageName){\n    ActivityManager activityManager = (ActivityManager) context.getSystemService(ACTIVITY_SERVICE);\n    List&lt;ActivityManager.RunningAppProcessInfo&gt; processInfos = activityManager.getRunningAppProcesses();\n    if (processInfos != null){\n        for (ActivityManager.RunningAppProcessInfo processInfo : processInfos){\n            if (processInfo.processName.equals(packageName)){\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\npublic void showWarningDialog(Activity context, String title, String message) {\n    new AlertDialog.Builder(context)\n            .setTitle(title)\n            .setMessage(message)\n            .setIcon(R.drawable.ic_warning)\n            .setPositiveButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialog, int which) {\n                    System.exit(0);\n                    context.finish();\n                }\n            })\n            .setCancelable(false)\n            .show();\n}\n</code></pre>\n<p>}</p>\n<p>After this go to ur MainActivity.Java class and add the following code:</p>\n<pre><code>private boolean vpnStatus;\n   \n//check vpn connection\n                    helperUtils = new HelperUtils(MainActivity.this);\n                    vpnStatus = helperUtils.isVpnConnectionAvailable();\n                    if (vpnStatus) {\n                        helperUtils.showWarningDialog(MainActivity.this, getString(R.string.vpn_detected), getString(R.string.close_vpn));\n                        return;\n                    }\n</code></pre>\n<p>Add the following code in your sting.xml file:</p>\n<pre><code>    &lt;string name=&quot;vpn_detected&quot;&gt;VPN Detected!!&lt;/string&gt; \n&lt;string name=&quot;close_vpn&quot;&gt;Close VPN and re-open the app to continue.&lt;/string&gt;\n</code></pre>\n<p>This is it, now your app will show &quot; Vpn Detected &quot; everytime someone try to access it using a vpn or ssl capture app. Good luck.</p>\n"}],"owner":{"account_id":26278966,"reputation":27,"user_id":19947699,"display_name":"Anees"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":998,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73908858,"answer_count":1,"score":1,"last_activity_date":1666175705,"creation_date":1662625194,"question_id":73645822,"body_markdown":"I want to make my Android app secure. In some applications, if the phone has a network sniffer program installed(packet capture, ssl capture etc), the application gives an alert(Remove packet capture) and turns off. How do I add a similar security measure? What technologies should I look for?","title":"How do I protect my android app from packet capture?","body":"<p>I want to make my Android app secure. In some applications, if the phone has a network sniffer program installed(packet capture, ssl capture etc), the application gives an alert(Remove packet capture) and turns off. How do I add a similar security measure? What technologies should I look for?</p>\n"},{"tags":["java","spring","unit-testing","junit","spring-data-jpa"],"comments":[{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1666152090,"post_id":74119714,"comment_id":130865138,"body_markdown":"When you run the `getAllProducts` test alone, does it pass?","body":"When you run the <code>getAllProducts</code> test alone, does it pass?"},{"owner":{"account_id":26319730,"reputation":1,"user_id":19981904,"display_name":"lumi"},"score":0,"creation_date":1666152397,"post_id":74119714,"comment_id":130865187,"body_markdown":"Hi! No. It fails in assertThat and assertEquals. It says expected is 2 but was 3.","body":"Hi! No. It fails in assertThat and assertEquals. It says expected is 2 but was 3."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1666153265,"post_id":74119714,"comment_id":130865307,"body_markdown":"I think your best bet is enabling `show-sql` (`spring.jpa.show-sql=true`) and trying to see what commands are being executed when the test is run.","body":"I think your best bet is enabling <code>show-sql</code> (<code>spring.jpa.show-sql=true</code>) and trying to see what commands are being executed when the test is run."}],"answers":[{"tags":[],"owner":{"account_id":14431921,"reputation":119,"user_id":10425028,"display_name":"Alberto Mart&#237;n"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666175366,"creation_date":1666175366,"answer_id":74123823,"question_id":74119714,"body_markdown":"You may add some code to clean the repository data.\r\n\r\nIt seems that you already have a product when the test starts.","title":"AssertEquals failing . List size is returning more than actual size","body":"<p>You may add some code to clean the repository data.</p>\n<p>It seems that you already have a product when the test starts.</p>\n"}],"owner":{"account_id":26319730,"reputation":1,"user_id":19981904,"display_name":"lumi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666175366,"creation_date":1666152010,"question_id":74119714,"body_markdown":"everyone. I&#39;m new to Spring and unit testing and I&#39;m trying to test my repository layer. My test is failing when using assertEquals when asserting the size of my products list. In the first test, it says actual is 3 when clearly it should be 2.Same goes for the second test, it&#39;s returning 2 when it should be 1 after deletion of product1.I don&#39;t know what I&#39;m doing wrong.\r\n\r\nThank you in advance.\r\n\r\n```\r\nimport com.eshop.shoppingcart.model.Product;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase;\r\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\n\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\n\r\n@DataJpaTest\r\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\npublic class ProductRepositoryTest {\r\n    @Autowired\r\n   ProductRepository productRepository;\r\n\r\n    @Test\r\n    void getAllProducts(){\r\n        Product product1 = new Product();\r\n        product1.setId(1L);\r\n        product1.setName(&quot;The Stranger&quot;);\r\n        product1.setPrice(124.5);\r\n        product1.setPictureUrl(&quot;https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1590930002l/49552._SY475_.jpg&quot;);\r\n\r\n        Product product2 = new Product();\r\n        product2.setId(2L);\r\n        product2.setName(&quot;Meditations&quot;);\r\n        product2.setPrice(164.5);\r\n        product2.setPictureUrl(&quot;https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1590930002l/49552._SY475_.jpg&quot;);\r\n\r\n        productRepository.save(product1);\r\n        productRepository.save(product2);\r\n\r\n        List&lt;Product&gt; products = productRepository.findAll();\r\n\r\n        assertNotNull(products);\r\n        assertThat(products).isNotNull();\r\n        assertThat(products.size()).isEqualTo(2);\r\n        assertEquals(2, products.size());\r\n\r\n    }\r\n\r\n    @Test\r\n    void deleteProduct(){\r\n        Product product1 = new Product();\r\n        product1.setId(1L);\r\n        product1.setName(&quot;The Stranger&quot;);\r\n        product1.setPrice(124.5);\r\n        product1.setPictureUrl(&quot;https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1590930002l/49552._SY475_.jpg&quot;);\r\n        productRepository.save(product1);\r\n        Long id = product1.getId();\r\n\r\n        Product product2 = new Product();\r\n        product2.setId(2L);\r\n        product2.setName(&quot;Meditations&quot;);\r\n        product2.setPrice(164.5);\r\n        product2.setPictureUrl(&quot;https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1590930002l/49552._SY475_.jpg&quot;);\r\n        productRepository.save(product2);\r\n\r\n        productRepository.delete(product1);\r\n        List&lt;Product&gt; products = productRepository.findAll();\r\n        Optional&lt;Product&gt; retrievedProduct =  productRepository.findById(id);\r\n\r\n        assertThat(retrievedProduct.isEmpty());\r\n        assertEquals(1, products.size());\r\n\r\n    }\r\n}\r\n```","title":"AssertEquals failing . List size is returning more than actual size","body":"<p>everyone. I'm new to Spring and unit testing and I'm trying to test my repository layer. My test is failing when using assertEquals when asserting the size of my products list. In the first test, it says actual is 3 when clearly it should be 2.Same goes for the second test, it's returning 2 when it should be 1 after deletion of product1.I don't know what I'm doing wrong.</p>\n<p>Thank you in advance.</p>\n<pre><code>import com.eshop.shoppingcart.model.Product;\nimport org.junit.jupiter.api.Test;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\n\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\n\n@DataJpaTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\npublic class ProductRepositoryTest {\n    @Autowired\n   ProductRepository productRepository;\n\n    @Test\n    void getAllProducts(){\n        Product product1 = new Product();\n        product1.setId(1L);\n        product1.setName(&quot;The Stranger&quot;);\n        product1.setPrice(124.5);\n        product1.setPictureUrl(&quot;https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1590930002l/49552._SY475_.jpg&quot;);\n\n        Product product2 = new Product();\n        product2.setId(2L);\n        product2.setName(&quot;Meditations&quot;);\n        product2.setPrice(164.5);\n        product2.setPictureUrl(&quot;https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1590930002l/49552._SY475_.jpg&quot;);\n\n        productRepository.save(product1);\n        productRepository.save(product2);\n\n        List&lt;Product&gt; products = productRepository.findAll();\n\n        assertNotNull(products);\n        assertThat(products).isNotNull();\n        assertThat(products.size()).isEqualTo(2);\n        assertEquals(2, products.size());\n\n    }\n\n    @Test\n    void deleteProduct(){\n        Product product1 = new Product();\n        product1.setId(1L);\n        product1.setName(&quot;The Stranger&quot;);\n        product1.setPrice(124.5);\n        product1.setPictureUrl(&quot;https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1590930002l/49552._SY475_.jpg&quot;);\n        productRepository.save(product1);\n        Long id = product1.getId();\n\n        Product product2 = new Product();\n        product2.setId(2L);\n        product2.setName(&quot;Meditations&quot;);\n        product2.setPrice(164.5);\n        product2.setPictureUrl(&quot;https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1590930002l/49552._SY475_.jpg&quot;);\n        productRepository.save(product2);\n\n        productRepository.delete(product1);\n        List&lt;Product&gt; products = productRepository.findAll();\n        Optional&lt;Product&gt; retrievedProduct =  productRepository.findById(id);\n\n        assertThat(retrievedProduct.isEmpty());\n        assertEquals(1, products.size());\n\n    }\n}\n</code></pre>\n"},{"tags":["java","casting","nullpointerexception"],"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1412813639,"post_id":26258751,"comment_id":41211315,"body_markdown":"It depends on who else is coming to the cotillion.","body":"It depends on who else is coming to the cotillion."}],"answers":[{"tags":[],"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412776928,"creation_date":1412776928,"answer_id":26258844,"question_id":26258751,"body_markdown":"If only one of the arguments may be `null` (as is the case when you&#39;re comparing an unknown value to a constant), use `equals()` like this:\r\n\r\n    Integer foo = Integer.valueOf(8); // you could write Integer foo = 8; here too but I prefer to avoid autoboxing\r\n    if (foo.equals(m.get(&quot;x&quot;))) { //will never throw an NPE because foo is never null\r\n       ...\r\n    }\r\n\r\nNote that your example isn&#39;t going to work in general because comparing non-primitive values with `==` only returns true if they refer to the same object instance. (Which in this case might even be true for very specific reasons but most of the time it isn&#39;t.)","title":"What is the cleanest way to compare an int with a potentially null Integer in Java?","body":"<p>If only one of the arguments may be <code>null</code> (as is the case when you're comparing an unknown value to a constant), use <code>equals()</code> like this:</p>\n\n<pre><code>Integer foo = Integer.valueOf(8); // you could write Integer foo = 8; here too but I prefer to avoid autoboxing\nif (foo.equals(m.get(\"x\"))) { //will never throw an NPE because foo is never null\n   ...\n}\n</code></pre>\n\n<p>Note that your example isn't going to work in general because comparing non-primitive values with <code>==</code> only returns true if they refer to the same object instance. (Which in this case might even be true for very specific reasons but most of the time it isn't.)</p>\n"},{"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1412776942,"creation_date":1412776942,"answer_id":26258851,"question_id":26258751,"body_markdown":"The `==` operator doesn&#39;t compare values, but references. \r\n\r\nYou should use the `.equals()` method, instead, applied to the `Integer` variable (for which you are sure that is not `null` and NPE won&#39;t be thrown):\r\n\r\n    Integer eight = 8; //autoboxed\r\n    System.out.println(eight.equals(m.get(&quot;null&quot;)));\r\n\r\nThis will print `false` even the `m.get(&quot;null&quot;)` returns `null`.","title":"What is the cleanest way to compare an int with a potentially null Integer in Java?","body":"<p>The <code>==</code> operator doesn't compare values, but references. </p>\n\n<p>You should use the <code>.equals()</code> method, instead, applied to the <code>Integer</code> variable (for which you are sure that is not <code>null</code> and NPE won't be thrown):</p>\n\n<pre><code>Integer eight = 8; //autoboxed\nSystem.out.println(eight.equals(m.get(\"null\")));\n</code></pre>\n\n<p>This will print <code>false</code> even the <code>m.get(\"null\")</code> returns <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":514320,"reputation":24520,"user_id":1392132,"accept_rate":91,"display_name":"5gon12eder"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1412776991,"creation_date":1412776991,"answer_id":26258870,"question_id":26258751,"body_markdown":"I try to avoid casts whenever possible, so I&#39;d rather use the following, which also looks nicer in my opinion:\r\n\r\n    Integer.valueOf(8).equals(m.get(&quot;null&quot;))\r\n","title":"What is the cleanest way to compare an int with a potentially null Integer in Java?","body":"<p>I try to avoid casts whenever possible, so I'd rather use the following, which also looks nicer in my opinion:</p>\n\n<pre><code>Integer.valueOf(8).equals(m.get(\"null\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":43373,"reputation":224943,"user_id":126769,"accept_rate":94,"display_name":"nos"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1412777026,"creation_date":1412777026,"answer_id":26258887,"question_id":26258751,"body_markdown":"No, because it will not work. You can&#39;t compare two `Integer` with `==`, as that compares references and not the integer values. See more info in [this question](https://stackoverflow.com/questions/10002037/comparing-integer-values-in-java-strange-behavior)\r\n\r\nYou&#39;ll need a helper method, such as:\r\n\r\n    boolean safeIntegerCompare(Integer a, int b)\r\n    {\r\n        if (a != null) \r\n          return a.intValue() == b;\r\n        return false;\r\n    }\r\n\r\n","title":"What is the cleanest way to compare an int with a potentially null Integer in Java?","body":"<p>No, because it will not work. You can't compare two <code>Integer</code> with <code>==</code>, as that compares references and not the integer values. See more info in <a href=\"https://stackoverflow.com/questions/10002037/comparing-integer-values-in-java-strange-behavior\">this question</a></p>\n\n<p>You'll need a helper method, such as:</p>\n\n<pre><code>boolean safeIntegerCompare(Integer a, int b)\n{\n    if (a != null) \n      return a.intValue() == b;\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":234362,"reputation":17407,"user_id":500451,"accept_rate":86,"display_name":"Bertie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609146807,"creation_date":1609146807,"answer_id":65475279,"question_id":26258751,"body_markdown":"To expand the accepted answer: i find myself having to check the equality of 2 Integer variables which might or might not be null.\r\n\r\nSo my solution would be:\r\n\r\n&gt; boolean equals =\r\n&gt; Optional.ofNullable(objectA.getNullableInteger()).equals(Optional.ofNullable(objectB.getNullableInteger());\r\n\r\n","title":"What is the cleanest way to compare an int with a potentially null Integer in Java?","body":"<p>To expand the accepted answer: i find myself having to check the equality of 2 Integer variables which might or might not be null.</p>\n<p>So my solution would be:</p>\n<blockquote>\n<p>boolean equals =\nOptional.ofNullable(objectA.getNullableInteger()).equals(Optional.ofNullable(objectB.getNullableInteger());</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":463580,"reputation":995,"user_id":866576,"display_name":"Mohammed Aslam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666175233,"creation_date":1666175233,"answer_id":74123790,"question_id":26258751,"body_markdown":"You can use Objects.equals\r\n\r\n    int foo = 1;\r\n    Integer bar = null;\r\n    Objects.equals(foo, bar);","title":"What is the cleanest way to compare an int with a potentially null Integer in Java?","body":"<p>You can use Objects.equals</p>\n<pre><code>int foo = 1;\nInteger bar = null;\nObjects.equals(foo, bar);\n</code></pre>\n"}],"owner":{"account_id":4751496,"reputation":2596,"user_id":3841420,"accept_rate":75,"display_name":"Andrew G"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19806,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":26258870,"answer_count":6,"score":11,"last_activity_date":1666175233,"creation_date":1412776659,"question_id":26258751,"body_markdown":"    Map&lt;String,Integer&gt; m;\r\n\tm = new TreeMap&lt;String,Integer&gt;();\r\n\r\nIs it good practice to add the following cast just to avoid the null pointer exception when m.get() is null.\r\n\r\n\tSystem.out.println( ((Integer) 8).equals( m.get(&quot;null&quot;) ) ); // returns false\r\n\r\nAlternatively with a prior null check it starts to look a bit ugly.\r\n\r\n\tSystem.out.println( m.contains(&quot;null&quot;) != null &amp;&amp; m.get(&quot;null&quot;).equals( 8 ) );\r\n\r\nIs there a better way to write this? Thanks.","title":"What is the cleanest way to compare an int with a potentially null Integer in Java?","body":"<pre><code>Map&lt;String,Integer&gt; m;\nm = new TreeMap&lt;String,Integer&gt;();\n</code></pre>\n\n<p>Is it good practice to add the following cast just to avoid the null pointer exception when m.get() is null.</p>\n\n<pre><code>System.out.println( ((Integer) 8).equals( m.get(\"null\") ) ); // returns false\n</code></pre>\n\n<p>Alternatively with a prior null check it starts to look a bit ugly.</p>\n\n<pre><code>System.out.println( m.contains(\"null\") != null &amp;&amp; m.get(\"null\").equals( 8 ) );\n</code></pre>\n\n<p>Is there a better way to write this? Thanks.</p>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":10427913,"reputation":967,"user_id":7688585,"display_name":"Akarsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492692419,"creation_date":1492691214,"answer_id":43519531,"question_id":43519342,"body_markdown":"Below method returns true in case element present.\r\n\r\n    public boolean isElementPresent(WebDriver driver,By locator){\r\n\r\n\t\tif(driver.findElements(locator).size()!=0){\r\n\t\t\t//Element present\r\n\t\t\treturn true;\r\n\r\n\t\t}\r\n\t\telse{\r\n\t\t\t//Element not present \r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\nExample:\r\n\r\n       isElementPresent(By.id(&quot;test&quot;));\r\n\r\n       isElementPresent(By.xpath(&quot;//test1&quot;));\r\n\r\nFor your case solution will be Try/Catch:\r\n\r\n    public boolean isElementPresent(WebElement element) {\r\n       try {\r\n           element.getText();\r\n           return true;\r\n          } catch (NoSuchElementException e) {\r\n           return false;\r\n          }\r\n\r\nIf element not exists on the page then element.getText() will throw NosuchElementException, method will catch this exception and returns false.\r\n\r\nTry it and let me know if it works for you.","title":"In selenium with java need reusable method to verify isElement present which may have different locators like xpath, id, class name","body":"<p>Below method returns true in case element present.</p>\n\n<pre><code>public boolean isElementPresent(WebDriver driver,By locator){\n\n    if(driver.findElements(locator).size()!=0){\n        //Element present\n        return true;\n\n    }\n    else{\n        //Element not present \n        return false;\n    }\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>   isElementPresent(By.id(\"test\"));\n\n   isElementPresent(By.xpath(\"//test1\"));\n</code></pre>\n\n<p>For your case solution will be Try/Catch:</p>\n\n<pre><code>public boolean isElementPresent(WebElement element) {\n   try {\n       element.getText();\n       return true;\n      } catch (NoSuchElementException e) {\n       return false;\n      }\n</code></pre>\n\n<p>If element not exists on the page then element.getText() will throw NosuchElementException, method will catch this exception and returns false.</p>\n\n<p>Try it and let me know if it works for you.</p>\n"}],"owner":{"account_id":10728845,"reputation":25,"user_id":7895555,"accept_rate":40,"display_name":"Thiru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1516,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1666175196,"creation_date":1492690760,"question_id":43519342,"body_markdown":"I want to write a reusable method to identify whether the web Element is Present or not.\r\nThis method needs to accept e different locators like xpath, id, class name. \r\n\r\nHere is the code snipped I tried, but not worked for the line.\r\nif(Obj.isDisplayed())\r\n\r\n\r\n    public static boolean isElementPresent(WebDriver driver, WebElement Obj)\r\n    {\r\n        boolean result = false;\r\n    \ttry \r\n\t\t{\r\n            // if(Obj.isDisplayed())\r\n    \t\tif(driver.findElement(By.id(&quot;username&quot;)) != null)\r\n\t\t\t{\r\n    \t\t\tSystem.out.println(&quot;WEBELEMENT Username FOUND&quot;);\r\n    \t\t\tresult = true;\r\n    \t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n    \t\t\tresult = false;\r\n\t\t\t}\r\n    \t} \t\r\n\t\tcatch (Exception e) \r\n\t\t{\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \treturn result;\r\n    }","title":"In selenium with java need reusable method to verify isElement present which may have different locators like xpath, id, class name","body":"<p>I want to write a reusable method to identify whether the web Element is Present or not.\nThis method needs to accept e different locators like xpath, id, class name. </p>\n\n<p>Here is the code snipped I tried, but not worked for the line.\nif(Obj.isDisplayed())</p>\n\n<pre><code>public static boolean isElementPresent(WebDriver driver, WebElement Obj)\n{\n    boolean result = false;\n    try \n    {\n        // if(Obj.isDisplayed())\n        if(driver.findElement(By.id(\"username\")) != null)\n        {\n            System.out.println(\"WEBELEMENT Username FOUND\");\n            result = true;\n        }\n        else\n        {\n            result = false;\n        }\n    }   \n    catch (Exception e) \n    {\n        e.printStackTrace();\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jackson","lombok"],"comments":[{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1646992531,"post_id":71434813,"comment_id":126265764,"body_markdown":"How do you serialize your POJOs? Is it plain Spring? Or some other frameworks involved?\nPS: lombok should give you a warning on `@Jacksonized`, because that annotation has no effect without `@(Super)Builder`. You can remove it if you do not intend to use a builder for Jackson&#39;s instantiation.","body":"How do you serialize your POJOs? Is it plain Spring? Or some other frameworks involved? PS: lombok should give you a warning on <code>@Jacksonized</code>, because that annotation has no effect without <code>@(Super)Builder</code>. You can remove it if you do not intend to use a builder for Jackson&#39;s instantiation."},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":1,"creation_date":1646993317,"post_id":71434813,"comment_id":126266020,"body_markdown":"I&#39;ve ran your code and it&#39;s working as expected (Lombok=1.18.22, Jackson=2.13.1). Please post your ObjectMapper configuration and the version of Jackson/Lombok","body":"I&#39;ve ran your code and it&#39;s working as expected (Lombok=1.18.22, Jackson=2.13.1). Please post your ObjectMapper configuration and the version of Jackson/Lombok"}],"answers":[{"tags":[],"owner":{"account_id":5720158,"reputation":348,"user_id":4518837,"accept_rate":80,"display_name":"Gauranga Rathod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666174985,"creation_date":1666174985,"answer_id":74123744,"question_id":71434813,"body_markdown":"Fix it in this way:-\r\n\r\n@NoArgsConstructor\r\n\r\n@AllArgsConstructor\r\n\r\npublic class Token {\r\n\r\n    @Setter(onMethod = @__(@JsonSetter(value = &quot;access_token&quot;))) \r\n\r\n    @Getter(onMethod = @__(@JsonGetter(value = &quot;accessToken&quot;))) \r\n\r\n    private String accessToken;\r\n}","title":"JsonProperty and lombok: Renaming is not done","body":"<p>Fix it in this way:-</p>\n<p>@NoArgsConstructor</p>\n<p>@AllArgsConstructor</p>\n<p>public class Token {</p>\n<pre><code>@Setter(onMethod = @__(@JsonSetter(value = &quot;access_token&quot;))) \n\n@Getter(onMethod = @__(@JsonGetter(value = &quot;accessToken&quot;))) \n\nprivate String accessToken;\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":4787866,"reputation":823,"user_id":3867820,"accept_rate":22,"display_name":"Daniel Pomrehn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666174985,"creation_date":1646982552,"question_id":71434813,"body_markdown":"I have a class annotat with @Data and @JsonProperty like in this example: \r\n\r\n    @Data\r\n    @Jacksonized\r\n    public class Request {\r\n\r\n      private Request.RequestRoot root;\r\n\r\n      @Data\r\n      @Jacksonized\r\n      public class RequestRoot {\r\n\r\n        @JsonProperty(&quot;AEND-DAT&quot;)\r\n        private LocalDate aenderungsdatum;\r\n\r\n        @JsonProperty(&quot;ANR-SL&quot;)\r\n        private String anredeSl;\r\n      }\r\n    }\r\n\r\nThis object is passed to a REST call and converted to JSON. But the JsonProperty is ignored, the fields are not named like this porperty says. It just ends in aenderungsdatum ant not AEND-DAT. \r\nBut I am required to use the names given in JsonProperty because the REST interface only accepts this values. \r\n\r\nAm I missing anything? ","title":"JsonProperty and lombok: Renaming is not done","body":"<p>I have a class annotat with @Data and @JsonProperty like in this example:</p>\n<pre><code>@Data\n@Jacksonized\npublic class Request {\n\n  private Request.RequestRoot root;\n\n  @Data\n  @Jacksonized\n  public class RequestRoot {\n\n    @JsonProperty(&quot;AEND-DAT&quot;)\n    private LocalDate aenderungsdatum;\n\n    @JsonProperty(&quot;ANR-SL&quot;)\n    private String anredeSl;\n  }\n}\n</code></pre>\n<p>This object is passed to a REST call and converted to JSON. But the JsonProperty is ignored, the fields are not named like this porperty says. It just ends in aenderungsdatum ant not AEND-DAT.\nBut I am required to use the names given in JsonProperty because the REST interface only accepts this values.</p>\n<p>Am I missing anything?</p>\n"},{"tags":["java","inheritance","annotations","gson"],"comments":[{"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"score":0,"creation_date":1338589739,"post_id":10857984,"comment_id":14143903,"body_markdown":"Wouldn&#39;t that break the class contract? A class B object would be an instance of class B (due to inheritance) but would not offer the id field that class A object offer...","body":"Wouldn&#39;t that break the class contract? A class B object would be an instance of class B (due to inheritance) but would not offer the id field that class A object offer..."},{"owner":{"account_id":1535520,"reputation":443,"user_id":1431685,"accept_rate":86,"display_name":"tpcordeiro"},"score":0,"creation_date":1338740044,"post_id":10857984,"comment_id":14165917,"body_markdown":"I understand your idea, but I dont think so, because annotations changes caracteristics of the attribute, like getters and setters, so theorically I can do this in a  child class.","body":"I understand your idea, but I dont think so, because annotations changes caracteristics of the attribute, like getters and setters, so theorically I can do this in a  child class."},{"owner":{"account_id":1535520,"reputation":443,"user_id":1431685,"accept_rate":86,"display_name":"tpcordeiro"},"score":0,"creation_date":1338740507,"post_id":10857984,"comment_id":14166014,"body_markdown":"For example, Hibernate allow me  [Hibernate inheritance](http://viralpatel.net/blogs/2011/12/hibernate-inheritance-table-per-concrete-class-annotation-xml-mapping.html)  See &quot;Hibernate Inheritance: Annotation Mapping&quot;, where @Inheritance makes the trick. I just want to know if GSON has the same feature.","body":"For example, Hibernate allow me  <a href=\"http://viralpatel.net/blogs/2011/12/hibernate-inheritance-table-per-concrete-class-annotation-xml-mapping.html\" rel=\"nofollow noreferrer\">Hibernate inheritance</a>  See &quot;Hibernate Inheritance: Annotation Mapping&quot;, where @Inheritance makes the trick. I just want to know if GSON has the same feature."}],"answers":[{"tags":[],"owner":{"account_id":17735,"reputation":39493,"user_id":40013,"accept_rate":75,"display_name":"Jesse Wilson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1338607536,"creation_date":1338607536,"answer_id":10859559,"question_id":10857984,"body_markdown":"It isn&#39;t possible out of the box. You&#39;ll need to write a custom type adapter. See the [Custom Serialization and Deserialization][1] section of the Gson user&#39;s guide.\r\n\r\n\r\n  [1]: https://sites.google.com/site/gson/gson-user-guide#TOC-Custom-Serialization-and-Deserialization","title":"How to change @SerializedName, from GSON, of an attribute in a extended class","body":"<p>It isn't possible out of the box. You'll need to write a custom type adapter. See the <a href=\"https://sites.google.com/site/gson/gson-user-guide#TOC-Custom-Serialization-and-Deserialization\" rel=\"nofollow\">Custom Serialization and Deserialization</a> section of the Gson user's guide.</p>\n"},{"tags":[],"owner":{"account_id":3347100,"reputation":9,"user_id":2812053,"display_name":"Reinzekuken"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1481899859,"creation_date":1481899859,"answer_id":41186950,"question_id":10857984,"body_markdown":"apply @SerializedName(&quot;b_id&quot;) to the setter in B\r\n\r\nclass B {\r\n    private String id;\r\n    \r\n    @SerializedName(&quot;b_id&quot;)\r\n    private void setId(String id);\r\n}","title":"How to change @SerializedName, from GSON, of an attribute in a extended class","body":"<p>apply @SerializedName(\"b_id\") to the setter in B</p>\n\n<p>class B {\n    private String id;</p>\n\n<pre><code>@SerializedName(\"b_id\")\nprivate void setId(String id);\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":111208,"reputation":1645,"user_id":293918,"accept_rate":100,"display_name":"Alberto M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666174905,"creation_date":1666174905,"answer_id":74123734,"question_id":10857984,"body_markdown":"this is what I did: I extended the class A, added a new parameter with the new serializer, and then  the overridden getter returns the new parameter:\r\n\r\n\r\n    class B extends A {\r\n    \r\n        @SerializedName(&quot;b_id&quot;)\r\n        private String newId;\r\n    \r\n        @Override\r\n        public @NotNull String getId() {\r\n            return newId;\r\n        }\r\n    }","title":"How to change @SerializedName, from GSON, of an attribute in a extended class","body":"<p>this is what I did: I extended the class A, added a new parameter with the new serializer, and then  the overridden getter returns the new parameter:</p>\n<pre><code>class B extends A {\n\n    @SerializedName(&quot;b_id&quot;)\n    private String newId;\n\n    @Override\n    public @NotNull String getId() {\n        return newId;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1535520,"reputation":443,"user_id":1431685,"accept_rate":86,"display_name":"tpcordeiro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7788,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1666174905,"creation_date":1338588927,"question_id":10857984,"body_markdown":"I have a class like this:\r\n\r\n    class A {\r\n\t    @Expose\r\n\t    @SerializedName(&quot;a_id&quot;)\r\n\t    private String id;\r\n    }\r\n\r\nNow I want to create class B that extends A, but, in B, I want to change the SerializedName of id to &quot;b_id&quot;. Is there a way to do this?\r\n","title":"How to change @SerializedName, from GSON, of an attribute in a extended class","body":"<p>I have a class like this:</p>\n\n<pre><code>class A {\n    @Expose\n    @SerializedName(\"a_id\")\n    private String id;\n}\n</code></pre>\n\n<p>Now I want to create class B that extends A, but, in B, I want to change the SerializedName of id to \"b_id\". Is there a way to do this?</p>\n"},{"tags":["java","json","slack-api","jayway"],"comments":[{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1575863715,"post_id":59098877,"comment_id":104695699,"body_markdown":"your question is very abstract, what parser you are using, this is client application, or a web application, from where `$.messages.` is coming, is it a kind of templating?","body":"your question is very abstract, what parser you are using, this is client application, or a web application, from where <code>$.messages.</code> is coming, is it a kind of templating?"},{"owner":{"account_id":8918408,"reputation":3806,"user_id":6656050,"display_name":"Jeremy Kahan"},"score":0,"creation_date":1575864407,"post_id":59098877,"comment_id":104695813,"body_markdown":"not sure if https://stackoverflow.com/questions/23897661/or-operator-in-jsonpath is relevant","body":"not sure if <a href=\"https://stackoverflow.com/questions/23897661/or-operator-in-jsonpath\" title=\"or operator in jsonpath\">stackoverflow.com/questions/23897661/or-operator-in-jsonpath</a> is relevant"},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1575875598,"post_id":59098877,"comment_id":104698501,"body_markdown":"What did you mean &quot;each read operation returns sorted list&quot;?","body":"What did you mean &quot;each read operation returns sorted list&quot;?"},{"owner":{"account_id":4942873,"reputation":191,"user_id":3979126,"accept_rate":25,"display_name":"amit"},"score":0,"creation_date":1576036992,"post_id":59098877,"comment_id":104764140,"body_markdown":"@silentsudo I am using com.jayway.jsonpath.JsonPath parser. Its a client. Messages are coming from slack api response.","body":"@silentsudo I am using com.jayway.jsonpath.JsonPath parser. Its a client. Messages are coming from slack api response."},{"owner":{"account_id":4942873,"reputation":191,"user_id":3979126,"accept_rate":25,"display_name":"amit"},"score":0,"creation_date":1576037053,"post_id":59098877,"comment_id":104764153,"body_markdown":"@LHCHIN the response by the api is in sorted manner. Thus every time I parse response it gives me sorted list.","body":"@LHCHIN the response by the api is in sorted manner. Thus every time I parse response it gives me sorted list."},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1576064616,"post_id":59098877,"comment_id":104775610,"body_markdown":"OK, so the response has been sorted by itself and you cannot prevent it from sorting. You invoked the API only once and it returned the sorted result, then you performed `JsonPath.read(document, jsonPathExpression)` twice to the sorted result and combined them, right?","body":"OK, so the response has been sorted by itself and you cannot prevent it from sorting. You invoked the API only once and it returned the sorted result, then you performed <code>JsonPath.read(document, jsonPathExpression)</code> twice to the sorted result and combined them, right?"},{"owner":{"account_id":1656067,"reputation":496,"user_id":1525602,"display_name":"Petr Bodn&#225;r"},"score":1,"creation_date":1576183640,"post_id":59098877,"comment_id":104826818,"body_markdown":"What are your exact intentions of combining the found and sorted messages with their seemingly optional nested &quot;previous&quot; messages (or even &quot;next&quot;, as I can see from the [docs](https://api.slack.com/methods/search.messages) - but they don&#39;t describe the data model behind though)? Does it really make sense to make one sorted list from them all? Sorted by which property? I would suggest to give a concrete example of expected vs. obtained results...","body":"What are your exact intentions of combining the found and sorted messages with their seemingly optional nested &quot;previous&quot; messages (or even &quot;next&quot;, as I can see from the <a href=\"https://api.slack.com/methods/search.messages\" rel=\"nofollow noreferrer\">docs</a> - but they don&#39;t describe the data model behind though)? Does it really make sense to make one sorted list from them all? Sorted by which property? I would suggest to give a concrete example of expected vs. obtained results..."},{"owner":{"account_id":4942873,"reputation":191,"user_id":3979126,"accept_rate":25,"display_name":"amit"},"score":0,"creation_date":1576630204,"post_id":59098877,"comment_id":104959903,"body_markdown":"@LHCHIN yes that&#39;s correct .","body":"@LHCHIN yes that&#39;s correct ."}],"answers":[{"tags":[],"owner":{"account_id":10074768,"reputation":3044,"user_id":7650222,"display_name":"Anar Sultanov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1576233035,"creation_date":1576233035,"answer_id":59320663,"question_id":59098877,"body_markdown":"You can get both values using this expression:\r\n\r\n`$.messages.matches[*]..text`","title":"Combine jsonpath expression to read 2 nested properties in JSON string","body":"<p>You can get both values using this expression:</p>\n\n<p><code>$.messages.matches[*]..text</code></p>\n"}],"owner":{"account_id":4942873,"reputation":191,"user_id":3979126,"accept_rate":25,"display_name":"amit"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1910,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1666174491,"creation_date":1575002602,"question_id":59098877,"body_markdown":"I am using Slack API (`https://slack.com/api/search.messages`) to fetch posts in slack channel and parse the posts using Java code.\r\n\r\nFollowing is the sample Slack response where slack posts are &#39;text&#39; under &#39;matches&#39; and matches - previous&#39; :\r\n\r\n        {\r\n      &quot;ok&quot;: true,\r\n      &quot;query&quot;: &quot;\\&quot;@DTR:JQL\\&quot; in:#sydtest-reporting&quot;,\r\n      &quot;messages&quot;: {\r\n        &quot;total&quot;: 16,        \r\n        &quot;matches&quot;: [\r\n          {\r\n            &quot;iid&quot;: &quot;370f1cc2-aef9-4681-93f1-fa3787ce9d17&quot;,\r\n            &quot;team&quot;: &quot;T9180DGJH&quot;,\r\n            &quot;channel&quot;: {\r\n              &quot;id&quot;: &quot;C9UPLJ9D2&quot;,\r\n              &quot;is_channel&quot;: true,              \r\n              &quot;name&quot;: &quot;sydtest-reporting&quot;,              \r\n              &quot;teams&quot;: [\r\n                &quot;T9180DGJH&quot;\r\n              ]\r\n            },\r\n            &quot;type&quot;: &quot;message&quot;,\r\n            &quot;user&quot;: &quot;W9G7PAUCF&quot;,\r\n            &quot;username&quot;: &quot;200848&quot;,\r\n            &quot;ts&quot;: &quot;1568962541.016200&quot;,\r\n            &quot;text&quot;: &quot;@DTR:JQL#SYDEPS AND labels = Nov_2019_CSS_Cycle1&quot;,\r\n            &quot;previous&quot;: {\r\n              &quot;type&quot;: &quot;message&quot;,\r\n              &quot;user&quot;: &quot;WGGUL08NA&quot;,\r\n              &quot;username&quot;: &quot;208977&quot;,\r\n              &quot;ts&quot;: &quot;1568962184.015700&quot;,\r\n              &quot;text&quot;: &quot;@DTR:2019 November Release&quot;,\r\n              &quot;iid&quot;: &quot;4bdb76cf-015b-4b43-9608-013b56e47820&quot;,\r\n            },\r\n\r\nAbove response is sorted (&quot;sort&quot;, &quot;timestamp&quot;). I am using read() from com.jayway.jsonpath.JsonPath library to parse above JSON and using following 2 jsonPathExpression:\r\n\r\n    $.messages.matches[*].text\r\n    $.messages.matches[*].previous.text\r\n\r\nCurrently I am firing two separate `JsonPath.read(document, jsonPathExpression)` calls (one call for each jsonPathExpression above) and then make a combined list as below :\r\n\r\n    @DTR:JQL#SYDEPS AND labels = Nov_2019_CSS_Cycle1\r\n    @DTR:2019 November Release\r\n    ... many more\r\n\r\nProblem with this approach is, though each read operation returns sorted list, when I combine both lists, sorting is meaningless.\r\n\r\nWhat I am looking for is, single read operation for both jsonPathExpression. I can use some other JSON lib if needed.\r\n","title":"Combine jsonpath expression to read 2 nested properties in JSON string","body":"<p>I am using Slack API (<code>https://slack.com/api/search.messages</code>) to fetch posts in slack channel and parse the posts using Java code.</p>\n<p>Following is the sample Slack response where slack posts are 'text' under 'matches' and matches - previous' :</p>\n<pre><code>    {\n  &quot;ok&quot;: true,\n  &quot;query&quot;: &quot;\\&quot;@DTR:JQL\\&quot; in:#sydtest-reporting&quot;,\n  &quot;messages&quot;: {\n    &quot;total&quot;: 16,        \n    &quot;matches&quot;: [\n      {\n        &quot;iid&quot;: &quot;370f1cc2-aef9-4681-93f1-fa3787ce9d17&quot;,\n        &quot;team&quot;: &quot;T9180DGJH&quot;,\n        &quot;channel&quot;: {\n          &quot;id&quot;: &quot;C9UPLJ9D2&quot;,\n          &quot;is_channel&quot;: true,              \n          &quot;name&quot;: &quot;sydtest-reporting&quot;,              \n          &quot;teams&quot;: [\n            &quot;T9180DGJH&quot;\n          ]\n        },\n        &quot;type&quot;: &quot;message&quot;,\n        &quot;user&quot;: &quot;W9G7PAUCF&quot;,\n        &quot;username&quot;: &quot;200848&quot;,\n        &quot;ts&quot;: &quot;1568962541.016200&quot;,\n        &quot;text&quot;: &quot;@DTR:JQL#SYDEPS AND labels = Nov_2019_CSS_Cycle1&quot;,\n        &quot;previous&quot;: {\n          &quot;type&quot;: &quot;message&quot;,\n          &quot;user&quot;: &quot;WGGUL08NA&quot;,\n          &quot;username&quot;: &quot;208977&quot;,\n          &quot;ts&quot;: &quot;1568962184.015700&quot;,\n          &quot;text&quot;: &quot;@DTR:2019 November Release&quot;,\n          &quot;iid&quot;: &quot;4bdb76cf-015b-4b43-9608-013b56e47820&quot;,\n        },\n</code></pre>\n<p>Above response is sorted (&quot;sort&quot;, &quot;timestamp&quot;). I am using read() from com.jayway.jsonpath.JsonPath library to parse above JSON and using following 2 jsonPathExpression:</p>\n<pre><code>$.messages.matches[*].text\n$.messages.matches[*].previous.text\n</code></pre>\n<p>Currently I am firing two separate <code>JsonPath.read(document, jsonPathExpression)</code> calls (one call for each jsonPathExpression above) and then make a combined list as below :</p>\n<pre><code>@DTR:JQL#SYDEPS AND labels = Nov_2019_CSS_Cycle1\n@DTR:2019 November Release\n... many more\n</code></pre>\n<p>Problem with this approach is, though each read operation returns sorted list, when I combine both lists, sorting is meaningless.</p>\n<p>What I am looking for is, single read operation for both jsonPathExpression. I can use some other JSON lib if needed.</p>\n"},{"tags":["java","selenium","jenkins"],"answers":[{"tags":[],"owner":{"account_id":10621254,"reputation":2629,"user_id":7822301,"accept_rate":56,"display_name":"Zakaria Shahed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666174480,"creation_date":1666174480,"answer_id":74123645,"question_id":74122485,"body_markdown":"I am sharing my experience in this type of situation..\r\n\r\nI added a shell script that triggers after the build&#39;s success. Which will move your JSON file to a generic location. \r\n\r\nhere is an example of post-build. You can even execute the shell script.\r\n\r\nImage : https://issues.jenkins.io/secure/attachment/40480/JENKINS-48169_configuration.png \r\n\r\nAnd you have to read the JSON file from the generic location so every build will get latest updated data\r\n\r\n\r\n  \r\n\r\n\r\n","title":"How to use test data (json files) given by one build in subsequent builds?","body":"<p>I am sharing my experience in this type of situation..</p>\n<p>I added a shell script that triggers after the build's success. Which will move your JSON file to a generic location.</p>\n<p>here is an example of post-build. You can even execute the shell script.</p>\n<p>Image : <a href=\"https://issues.jenkins.io/secure/attachment/40480/JENKINS-48169_configuration.png\" rel=\"nofollow noreferrer\">https://issues.jenkins.io/secure/attachment/40480/JENKINS-48169_configuration.png</a></p>\n<p>And you have to read the JSON file from the generic location so every build will get latest updated data</p>\n"}],"owner":{"account_id":17770522,"reputation":89,"user_id":12904248,"display_name":"NoNoNo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666174480,"creation_date":1666169547,"question_id":74122485,"body_markdown":"I have few json files which get updated during jenkins build. I need to use updated data in the next jenkins build. \r\nWhen I run build from jenkins second time, jenkins is not taking data which was generated in previous build. And when I see my repository in CodeCommit, first build is not updating the json files. \r\nMy requirement is to use the data in second build which is generated from first build.\r\n","title":"How to use test data (json files) given by one build in subsequent builds?","body":"<p>I have few json files which get updated during jenkins build. I need to use updated data in the next jenkins build.\nWhen I run build from jenkins second time, jenkins is not taking data which was generated in previous build. And when I see my repository in CodeCommit, first build is not updating the json files.\nMy requirement is to use the data in second build which is generated from first build.</p>\n"},{"tags":["java","spring","security","authentication","authorization"],"answers":[{"tags":[],"owner":{"account_id":14192303,"reputation":13,"user_id":10252536,"display_name":"Nadra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666174424,"creation_date":1539643963,"answer_id":52825748,"question_id":52825679,"body_markdown":"I&#39;m using Spring Boot 2.0.4.RELEASE and Spring Security 5.0.7.RELEASE and in my WebSecurityController I&#39;m using the method `hasAuthority(&#39;ROLE_ADMIN&#39;)`.\r\n\r\nHere is a fix example:\r\n\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n       http.authorizeRequests()\r\n      // old\r\n      //.antMatchers(&quot;/users/getAll&quot;).hasAuthority(&quot;ROLE_ADMIN&quot;) \r\n      //.anyRequest().permitAll() \r\n      // Update    \r\n      .anyRequest().permitAll()\r\n      .antMatchers(&quot;/users/getAll&quot;).hasAuthority(&quot;ROLE_ADMIN&quot;) \r\n      .and()\r\n        .formLogin().loginPage(&quot;/login&quot;)\r\n        .usernameParameter(&quot;name&quot;).passwordParameter(&quot;password&quot;)\r\n      .and()\r\n        .logout().logoutSuccessUrl(&quot;/login?logout&quot;) \r\n       .and()\r\n       .exceptionHandling().accessDeniedPage(&quot;/403&quot;)\r\n      .and()\r\n        .csrf();\r\n     }\r\n","title":"How to use hasRole in Spring Security?","body":"<p>I'm using Spring Boot 2.0.4.RELEASE and Spring Security 5.0.7.RELEASE and in my WebSecurityController I'm using the method <code>hasAuthority('ROLE_ADMIN')</code>.</p>\n<p>Here is a fix example:</p>\n<pre><code>protected void configure(HttpSecurity http) throws Exception {\n   http.authorizeRequests()\n  // old\n  //.antMatchers(&quot;/users/getAll&quot;).hasAuthority(&quot;ROLE_ADMIN&quot;) \n  //.anyRequest().permitAll() \n  // Update    \n  .anyRequest().permitAll()\n  .antMatchers(&quot;/users/getAll&quot;).hasAuthority(&quot;ROLE_ADMIN&quot;) \n  .and()\n    .formLogin().loginPage(&quot;/login&quot;)\n    .usernameParameter(&quot;name&quot;).passwordParameter(&quot;password&quot;)\n  .and()\n    .logout().logoutSuccessUrl(&quot;/login?logout&quot;) \n   .and()\n   .exceptionHandling().accessDeniedPage(&quot;/403&quot;)\n  .and()\n    .csrf();\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8510347,"reputation":382,"user_id":6380596,"accept_rate":50,"display_name":"Rinat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666174364,"creation_date":1539657352,"answer_id":52827170,"question_id":52825679,"body_markdown":"Finally I repair the method `configure()` and extends from `WebSecurityConfigurerAdapter` as it said in Spring Security reference [6.4 Authorize Requests][1]:\r\n\r\n\r\n    @Controller\r\n    @EnableWebSecurity\r\n    public class WebSecurityController extends WebSecurityConfigurerAdapter {\r\n    \t\r\n\t@Autowired\r\n\tDataSource dataSource;\r\n\t\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t \r\n\t\t http\r\n\t        .authorizeRequests()                                                                \r\n\t            .antMatchers(&quot;/resources/**&quot;, &quot;/signup&quot;, &quot;/about&quot;).permitAll()                  \r\n\t            .antMatchers(&quot;/users/**&quot;).hasRole(&quot;ADMIN&quot;)                                      \r\n\t            .antMatchers(&quot;/db/**&quot;).access(&quot;hasRole(&#39;ADMIN&#39;) and hasRole(&#39;DBA&#39;)&quot;)            \r\n\t            .anyRequest().authenticated()                                                   \r\n\t        .and()\r\n\t        \t.formLogin()\r\n\t        .and()\r\n\t        \t.logout().logoutSuccessUrl(&quot;/login?logout&quot;) \r\n\t        .and()\r\n\t    \t\t.exceptionHandling().accessDeniedPage(&quot;/403&quot;)\r\n\t    \t\t;\r\n\t}\r\n\t\t \r\n \t@Autowired\r\n \tpublic void configAuthentication(AuthenticationManagerBuilder auth) throws Exception {\r\n \t\t auth.jdbcAuthentication().dataSource(dataSource)\r\n\t \t  .usersByUsernameQuery(&quot;select name,password,enabled from users where name=?&quot;)\r\n\t \t  .authoritiesByUsernameQuery(&quot;select username, role from user_roles where username=?&quot;)\r\n\t \t  .passwordEncoder(new BCryptPasswordEncoder());\r\n \t} \r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#jc-authorize-requests","title":"How to use hasRole in Spring Security?","body":"<p>Finally I repair the method <code>configure()</code> and extends from <code>WebSecurityConfigurerAdapter</code> as it said in Spring Security reference <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#jc-authorize-requests\" rel=\"nofollow noreferrer\">6.4 Authorize Requests</a>:</p>\n<pre><code>@Controller\n@EnableWebSecurity\npublic class WebSecurityController extends WebSecurityConfigurerAdapter {\n    \n@Autowired\nDataSource dataSource;\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n     \n     http\n        .authorizeRequests()                                                                \n            .antMatchers(&quot;/resources/**&quot;, &quot;/signup&quot;, &quot;/about&quot;).permitAll()                  \n            .antMatchers(&quot;/users/**&quot;).hasRole(&quot;ADMIN&quot;)                                      \n            .antMatchers(&quot;/db/**&quot;).access(&quot;hasRole('ADMIN') and hasRole('DBA')&quot;)            \n            .anyRequest().authenticated()                                                   \n        .and()\n            .formLogin()\n        .and()\n            .logout().logoutSuccessUrl(&quot;/login?logout&quot;) \n        .and()\n            .exceptionHandling().accessDeniedPage(&quot;/403&quot;)\n            ;\n}\n     \n@Autowired\npublic void configAuthentication(AuthenticationManagerBuilder auth) throws Exception {\n     auth.jdbcAuthentication().dataSource(dataSource)\n      .usersByUsernameQuery(&quot;select name,password,enabled from users where name=?&quot;)\n      .authoritiesByUsernameQuery(&quot;select username, role from user_roles where username=?&quot;)\n      .passwordEncoder(new BCryptPasswordEncoder());\n} \n</code></pre>\n"}],"owner":{"account_id":8510347,"reputation":382,"user_id":6380596,"accept_rate":50,"display_name":"Rinat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666174424,"creation_date":1539643437,"question_id":52825679,"body_markdown":"I wrote SpringBoot application with authentication via web login form. Class **WebSecurityController** is responsible for authentication and authorization.\r\nHere is its code:\r\n\r\n    @Controller\r\n    @EnableWebSecurity\r\n    public class WebSecurityController extends WebSecurityConfiguration {\r\n\r\n\t@Autowired\r\n\tDataSource dataSource;\r\n \t\r\n \tprotected void configure(HttpSecurity http) throws Exception {\r\n \t   http.authorizeRequests()\r\n \t  .antMatchers(&quot;/users/getAll&quot;).access(&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot;)  \r\n \t  .anyRequest().permitAll()\r\n \t  .and()\r\n \t    .formLogin().loginPage(&quot;/login&quot;)\r\n \t    .usernameParameter(&quot;name&quot;).passwordParameter(&quot;password&quot;)\r\n \t  .and()\r\n \t    .logout().logoutSuccessUrl(&quot;/login?logout&quot;) \r\n \t   .and()\r\n \t   .exceptionHandling().accessDeniedPage(&quot;/403&quot;)\r\n \t  .and()\r\n \t    .csrf();\r\n \t }\r\n\r\n \t @Autowired\r\n \t public void configAuthentication(AuthenticationManagerBuilder auth) throws Exception {\r\n \t\t auth.jdbcAuthentication().dataSource(dataSource)\r\n\t \t  .usersByUsernameQuery(&quot;select name,password,enabled from users where name=?&quot;)\r\n\t \t  .authoritiesByUsernameQuery(&quot;select username, role from user_roles where username=?&quot;)\r\n\t \t  .passwordEncoder(new BCryptPasswordEncoder());\r\n \t }\r\n\r\n    }\r\n\r\nIt retrieves the user credentials from **users** and **user_roles** tables of the database:\r\n\r\n    mysql&gt; select * from users;\r\n    +----+--------+---------+---------+--------------------------------------------------------------+\r\n    | id | name   | salary  | enabled | password                                                     |\r\n    +----+--------+---------+---------+--------------------------------------------------------------+\r\n    |  1 | Rinat  |  100000 |       1 | $2a$10$Md.HmF6dVbwKLxcb09dgy.JTHKq3BLLg0ZrBHHx75fNmkH8.kGeGy |\r\n    |  2 | Juliya | 1000000 |       1 | $2a$10$XWksiqEwqJ4jWp00F37i/.A8YpknUPKi36kDd2NgwKI6EBPRRMzXa |\r\n    +----+--------+---------+---------+--------------------------------------------------------------+\r\n\r\n    mysql&gt; select * from user_roles;\r\n    +----+----------+------------+\r\n    | id | username | role       |\r\n    +----+----------+------------+\r\n    |  1 | Rinat    | ROLE_ADMIN |\r\n    |  2 | Juliya   | ROLE_USER  |\r\n    +----+----------+------------+\r\nAuthentication works fine, but unfortunately any users can access to protected resource &quot;/users/getAll&quot;. It seems that `access(&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot;` not working.\r\n","title":"How to use hasRole in Spring Security?","body":"<p>I wrote SpringBoot application with authentication via web login form. Class <strong>WebSecurityController</strong> is responsible for authentication and authorization.\nHere is its code:</p>\n\n<pre><code>@Controller\n@EnableWebSecurity\npublic class WebSecurityController extends WebSecurityConfiguration {\n\n@Autowired\nDataSource dataSource;\n\nprotected void configure(HttpSecurity http) throws Exception {\n   http.authorizeRequests()\n  .antMatchers(\"/users/getAll\").access(\"hasRole('ROLE_ADMIN')\")  \n  .anyRequest().permitAll()\n  .and()\n    .formLogin().loginPage(\"/login\")\n    .usernameParameter(\"name\").passwordParameter(\"password\")\n  .and()\n    .logout().logoutSuccessUrl(\"/login?logout\") \n   .and()\n   .exceptionHandling().accessDeniedPage(\"/403\")\n  .and()\n    .csrf();\n }\n\n @Autowired\n public void configAuthentication(AuthenticationManagerBuilder auth) throws Exception {\n     auth.jdbcAuthentication().dataSource(dataSource)\n      .usersByUsernameQuery(\"select name,password,enabled from users where name=?\")\n      .authoritiesByUsernameQuery(\"select username, role from user_roles where username=?\")\n      .passwordEncoder(new BCryptPasswordEncoder());\n }\n\n}\n</code></pre>\n\n<p>It retrieves the user credentials from <strong>users</strong> and <strong>user_roles</strong> tables of the database:</p>\n\n<pre><code>mysql&gt; select * from users;\n+----+--------+---------+---------+--------------------------------------------------------------+\n| id | name   | salary  | enabled | password                                                     |\n+----+--------+---------+---------+--------------------------------------------------------------+\n|  1 | Rinat  |  100000 |       1 | $2a$10$Md.HmF6dVbwKLxcb09dgy.JTHKq3BLLg0ZrBHHx75fNmkH8.kGeGy |\n|  2 | Juliya | 1000000 |       1 | $2a$10$XWksiqEwqJ4jWp00F37i/.A8YpknUPKi36kDd2NgwKI6EBPRRMzXa |\n+----+--------+---------+---------+--------------------------------------------------------------+\n\nmysql&gt; select * from user_roles;\n+----+----------+------------+\n| id | username | role       |\n+----+----------+------------+\n|  1 | Rinat    | ROLE_ADMIN |\n|  2 | Juliya   | ROLE_USER  |\n+----+----------+------------+\n</code></pre>\n\n<p>Authentication works fine, but unfortunately any users can access to protected resource \"/users/getAll\". It seems that <code>access(\"hasRole('ROLE_ADMIN')\"</code> not working.</p>\n"},{"tags":["java","action","switch-statement"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1350498905,"post_id":12940969,"comment_id":17539975,"body_markdown":"Any specific reason why would you want switch-case?","body":"Any specific reason why would you want switch-case?"},{"owner":{"account_id":1927768,"reputation":1890,"user_id":1737830,"accept_rate":81,"display_name":"AbreQueVoy"},"score":0,"creation_date":1350499283,"post_id":12940969,"comment_id":17540117,"body_markdown":"The only reason is to make the code more clear.","body":"The only reason is to make the code more clear."},{"owner":{"account_id":1325935,"reputation":6668,"user_id":1270725,"accept_rate":74,"display_name":"mcalex"},"score":1,"creation_date":1350499462,"post_id":12940969,"comment_id":17540195,"body_markdown":"then, as dystroy says down below, move all the common code into the main bit of the `if (source == comboUnit)` condition and just have the `valmeter = ` lines in the if statement (`labelDesc.setText(unit);` will work in the common code)","body":"then, as dystroy says down below, move all the common code into the main bit of the <code>if (source == comboUnit)</code> condition and just have the <code>valmeter = </code> lines in the if statement (<code>labelDesc.setText(unit);</code> will work in the common code)"}],"answers":[{"tags":[],"owner":{"account_id":437352,"reputation":19077,"user_id":824987,"accept_rate":56,"display_name":"Amit Deshpande"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350499221,"creation_date":1350498899,"answer_id":12940983,"question_id":12940969,"body_markdown":"You can use `Enum` and replace string with Enum values\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tUnits unit = Units.Unit1;\r\n\t\tswitch (unit) {\r\n\t\tcase Unit1:\r\n\t\t\tbreak;\r\n\t\tcase Unit2:\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tenum Units {\r\n\t\tUnit1, Unit2,\r\n\t}\r\n\r\nJava 7 allows you [Using Strings in switch Statements](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html)\r\n","title":"Is it possible to replace if-else with switch statement using strings as switching values?","body":"<p>You can use <code>Enum</code> and replace string with Enum values</p>\n\n<pre><code>public static void main(String[] args) {\n    Units unit = Units.Unit1;\n    switch (unit) {\n    case Unit1:\n        break;\n    case Unit2:\n        break;\n    }\n}\n\nenum Units {\n    Unit1, Unit2,\n}\n</code></pre>\n\n<p>Java 7 allows you <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow\">Using Strings in switch Statements</a></p>\n"},{"tags":[],"owner":{"account_id":92878,"reputation":8722,"user_id":254343,"accept_rate":64,"display_name":"Armen Michaeli"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666174364,"creation_date":1350498903,"answer_id":12940985,"question_id":12940969,"body_markdown":"Java 7 allows you to `switch` on `String`s.\r\n\r\nYour code needs refactoring though, and the question of whether to use `switch` or [enumerations][1] or [maps][2], is something that comes second, I would say.\r\n\r\nYou have too much duplicated code doing essentially the same thing. I am referring to:\r\n\r\n    unitValue = Double.parseDouble(tfUnit.getText());\r\n    valMeter = unitValue * defined1;\r\n    labelDesc.setText(&quot;Unit 1&quot;);\r\n    convert();\r\n\r\nObviously, because you multiply using different factors depending on the unit used, you need a function of unit evaluating to the factor to use. In less mathematical terms, you need something that yields value of either `defined1` or `defined2` depending on a string supplied.  You already have the `unit` referring to the &quot;name&quot; of your unit in question, you can use it. I call the method returning the factor for `factor`, taking in a unit name and returning a `Number` (since it does not follow from your example whether you are multiplying integers or real numbers of some sort). I am also assuming your `defined1` and `defined2` etc, are variables or literals.\r\n\r\n    unitValue = Double.parseDouble(tfUnit.getText());\r\n    valMeter = unitValue * factor(unit);\r\n    labelDesc.setText(unit);\r\n    convert();\r\n\r\n    Number factor(String unitName) {\r\n         switch(unitName) {\r\n             case &quot;Unit 1&quot;: return defined1;\r\n             case &quot;Unit 2&quot;: return defined2;\r\n             default: throw new Exception(&quot;Unknown unit&quot;);\r\n         }\r\n    }\r\n\r\nThe method itself is where your &quot;to switch or not to switch&quot; problem creeps in. You are free to use a [map][2] if you want:\r\n\r\n    Map&lt;String, Number&gt; unitNameValueMap = new HashMap&lt;String, Number&gt;();\r\n\r\n    unitNameValueMap.put(&quot;Unit 1&quot;, defined1);\r\n    unitNameValueMap.put(&quot;Unit 2&quot;, defined2);\r\n\r\n    Number factor(String unitName) {\r\n        Number result = unitNameValueMap.get(unitName);\r\n        if(result == null) throw new Exception(&quot;Unknown unit&quot;);\r\n        return result;\r\n    }\r\n\r\nOr you can use enumerations:\r\n\r\n    enum UnitValue {\r\n        UNIT1(defined1), UNIT2(defined2);\r\n        final Number value;\r\n        private UnitValue(Number value) {\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\n    Number factor(String unitName) {\r\n        return Enum.valueOf(UnitValue.class, &quot;UNIT&quot; + Integer.parseInt(unitName.substring(5)).value;\r\n    }\r\n\r\nYou can even `switch` or use a map inside enumerations, which will give you good code readability as well.\r\n\r\nYou need to profile your program to see if you need `switch`-based solution or enum-based one or a map-based one. The way it currently stands and as you can see for yourself, the `enum`-based solution is a bit messy because of relationship between your unit names, enumeration constants, and their values. If someone can do better with enums, then take their code instead, naturally.\r\n\r\nUsually, shortest code is best, as it is easier to read and most often understand. But be careful with maps - they induce more overhead than other solutions, so I for one prefer to use them where I have fewer maps with many keys each, not the other way around.\r\n\r\n[1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Enum.html\r\n[2]: http://docs.oracle.com/javase/6/docs/api/java/util/Map.html","title":"Is it possible to replace if-else with switch statement using strings as switching values?","body":"<p>Java 7 allows you to <code>switch</code> on <code>String</code>s.</p>\n<p>Your code needs refactoring though, and the question of whether to use <code>switch</code> or <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Enum.html\" rel=\"nofollow noreferrer\">enumerations</a> or <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">maps</a>, is something that comes second, I would say.</p>\n<p>You have too much duplicated code doing essentially the same thing. I am referring to:</p>\n<pre><code>unitValue = Double.parseDouble(tfUnit.getText());\nvalMeter = unitValue * defined1;\nlabelDesc.setText(&quot;Unit 1&quot;);\nconvert();\n</code></pre>\n<p>Obviously, because you multiply using different factors depending on the unit used, you need a function of unit evaluating to the factor to use. In less mathematical terms, you need something that yields value of either <code>defined1</code> or <code>defined2</code> depending on a string supplied.  You already have the <code>unit</code> referring to the &quot;name&quot; of your unit in question, you can use it. I call the method returning the factor for <code>factor</code>, taking in a unit name and returning a <code>Number</code> (since it does not follow from your example whether you are multiplying integers or real numbers of some sort). I am also assuming your <code>defined1</code> and <code>defined2</code> etc, are variables or literals.</p>\n<pre><code>unitValue = Double.parseDouble(tfUnit.getText());\nvalMeter = unitValue * factor(unit);\nlabelDesc.setText(unit);\nconvert();\n\nNumber factor(String unitName) {\n     switch(unitName) {\n         case &quot;Unit 1&quot;: return defined1;\n         case &quot;Unit 2&quot;: return defined2;\n         default: throw new Exception(&quot;Unknown unit&quot;);\n     }\n}\n</code></pre>\n<p>The method itself is where your &quot;to switch or not to switch&quot; problem creeps in. You are free to use a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">map</a> if you want:</p>\n<pre><code>Map&lt;String, Number&gt; unitNameValueMap = new HashMap&lt;String, Number&gt;();\n\nunitNameValueMap.put(&quot;Unit 1&quot;, defined1);\nunitNameValueMap.put(&quot;Unit 2&quot;, defined2);\n\nNumber factor(String unitName) {\n    Number result = unitNameValueMap.get(unitName);\n    if(result == null) throw new Exception(&quot;Unknown unit&quot;);\n    return result;\n}\n</code></pre>\n<p>Or you can use enumerations:</p>\n<pre><code>enum UnitValue {\n    UNIT1(defined1), UNIT2(defined2);\n    final Number value;\n    private UnitValue(Number value) {\n        this.value = value;\n    }\n}\n\nNumber factor(String unitName) {\n    return Enum.valueOf(UnitValue.class, &quot;UNIT&quot; + Integer.parseInt(unitName.substring(5)).value;\n}\n</code></pre>\n<p>You can even <code>switch</code> or use a map inside enumerations, which will give you good code readability as well.</p>\n<p>You need to profile your program to see if you need <code>switch</code>-based solution or enum-based one or a map-based one. The way it currently stands and as you can see for yourself, the <code>enum</code>-based solution is a bit messy because of relationship between your unit names, enumeration constants, and their values. If someone can do better with enums, then take their code instead, naturally.</p>\n<p>Usually, shortest code is best, as it is easier to read and most often understand. But be careful with maps - they induce more overhead than other solutions, so I for one prefer to use them where I have fewer maps with many keys each, not the other way around.</p>\n"},{"tags":[],"owner":{"account_id":97082,"reputation":375006,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350498919,"creation_date":1350498919,"answer_id":12940990,"question_id":12940969,"body_markdown":"You mean like \r\n\r\n    switch (unit) {\r\n    case &quot;Unit 1&quot;:\r\n      // do something\r\n      break;\r\n\r\n    case &quot;Unit 2&quot;:\r\n\r\n    }\r\n\r\n?\r\n\r\nYes you can, starting with Java7.\r\n\r\nBut in your case, you don&#39;t seem to need neither switch nor if/else. You do the same thing in both cases :\r\n\r\n     String unit = comboUnit.getSelectedItem().toString();\r\n     unitValue = Double.parseDouble(tfUnit.getText());\r\n     valMeter = unitValue * defined1;\r\n     labelDesc.setText(unit);\r\n     convert();","title":"Is it possible to replace if-else with switch statement using strings as switching values?","body":"<p>You mean like </p>\n\n<pre><code>switch (unit) {\ncase \"Unit 1\":\n  // do something\n  break;\n\ncase \"Unit 2\":\n\n}\n</code></pre>\n\n<p>?</p>\n\n<p>Yes you can, starting with Java7.</p>\n\n<p>But in your case, you don't seem to need neither switch nor if/else. You do the same thing in both cases :</p>\n\n<pre><code> String unit = comboUnit.getSelectedItem().toString();\n unitValue = Double.parseDouble(tfUnit.getText());\n valMeter = unitValue * defined1;\n labelDesc.setText(unit);\n convert();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350499012,"creation_date":1350499012,"answer_id":12941018,"question_id":12940969,"body_markdown":"Only in Java 7 and later is it possible to use Strings in a switch-case statement. Here is a link to the documentation, you will need to scroll down to the String section.\r\n\r\nhttp://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html","title":"Is it possible to replace if-else with switch statement using strings as switching values?","body":"<p>Only in Java 7 and later is it possible to use Strings in a switch-case statement. Here is a link to the documentation, you will need to scroll down to the String section.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html</a></p>\n"}],"owner":{"account_id":1927768,"reputation":1890,"user_id":1737830,"accept_rate":81,"display_name":"AbreQueVoy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1855,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":12940985,"answer_count":4,"score":0,"last_activity_date":1666174364,"creation_date":1350498843,"question_id":12940969,"body_markdown":"I&#39;m wondering if it&#39;s possible to use switch statement instead of if-else one in this case. Variables are taken from JComboBoxes and processed by ActionEvent here:\r\n\r\n    public void actionPerformed(ActionEvent event) {\r\n\r\n        Object source = event.getSource();\r\n\r\n         if (source == comboUnit) {\r\n\r\n            String unit = comboUnit.getSelectedItem().toString();\r\n\r\n                if (unit.equals(&quot;Unit 1&quot;)) {\r\n                unitValue = Double.parseDouble(tfUnit.getText());\r\n                valMeter = unitValue * defined1;\r\n                labelDesc.setText(&quot;Unit 1&quot;);\r\n                convert();\r\n            }\r\n\r\n            else if (unit.equals(&quot;Unit 2&quot;)) {\r\n                unitValue = Double.parseDouble(tfUnit.getText());\r\n                valMeter = unitValue * defined2;\r\n                labelDesc.setText(&quot;Unit 2&quot;);\r\n                convert();\r\n            }\r\n    (...)\r\n\r\nI was trying to pass pure strings as the values but with no success. Do you have any hints on how it should be done (and if it&#39;s even possible)?","title":"Is it possible to replace if-else with switch statement using strings as switching values?","body":"<p>I'm wondering if it's possible to use switch statement instead of if-else one in this case. Variables are taken from JComboBoxes and processed by ActionEvent here:</p>\n\n<pre><code>public void actionPerformed(ActionEvent event) {\n\n    Object source = event.getSource();\n\n     if (source == comboUnit) {\n\n        String unit = comboUnit.getSelectedItem().toString();\n\n            if (unit.equals(\"Unit 1\")) {\n            unitValue = Double.parseDouble(tfUnit.getText());\n            valMeter = unitValue * defined1;\n            labelDesc.setText(\"Unit 1\");\n            convert();\n        }\n\n        else if (unit.equals(\"Unit 2\")) {\n            unitValue = Double.parseDouble(tfUnit.getText());\n            valMeter = unitValue * defined2;\n            labelDesc.setText(\"Unit 2\");\n            convert();\n        }\n(...)\n</code></pre>\n\n<p>I was trying to pass pure strings as the values but with no success. Do you have any hints on how it should be done (and if it's even possible)?</p>\n"},{"tags":["java","list","duplicates"],"comments":[{"owner":{"account_id":14679090,"reputation":1359,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1666115475,"post_id":74115247,"comment_id":130857622,"body_markdown":"You could use the [`Collection.containsAll()`](https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#containsAll-java.util.Collection-) method to check if a list contains every item in another list. As for performance, you can play the odds a bit. Since bigger lists will have a higher chance of containing smaller lists, you can iterate through the smaller lists and check if the biggest lists contain them. Since these lists are big, you can also use `HashSet` instead of `List` so it doesn&#39;t have to loop through everything when checking if the bigger list contains the smaller one.","body":"You could use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#containsAll-java.util.Collection-\" rel=\"nofollow noreferrer\"><code>Collection.containsAll()</code></a> method to check if a list contains every item in another list. As for performance, you can play the odds a bit. Since bigger lists will have a higher chance of containing smaller lists, you can iterate through the smaller lists and check if the biggest lists contain them. Since these lists are big, you can also use <code>HashSet</code> instead of <code>List</code> so it doesn&#39;t have to loop through everything when checking if the bigger list contains the smaller one."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666116526,"post_id":74115247,"comment_id":130858044,"body_markdown":"Are there any criteria how that would allow to determine that a *list* belongs to a particular *group of lists* (that share common elements) without looking at other lists? For instance, in your dummy example all the smaller lists share the same last element, is there something like that in real data?","body":"Are there any criteria how that would allow to determine that a <i>list</i> belongs to a particular <i>group of lists</i> (that share common elements) without looking at other lists? For instance, in your dummy example all the smaller lists share the same last element, is there something like that in real data?"},{"owner":{"account_id":2174712,"reputation":498,"user_id":2039591,"accept_rate":88,"display_name":"user007"},"score":0,"creation_date":1666116573,"post_id":74115247,"comment_id":130858065,"body_markdown":"@Jesse Unfortunately, I can&#39;t use containsAll()  as it&#39;s a list of objects. My object:\nclass MyObjectOne { String name, String value; } \nclass MyObjectBig { String startElem, String endElem, List&lt;MyObjectOne&gt; list } \nList&lt;MyObjectOne&gt; thatsMyList &lt;--- I&#39;d like to remove duplicates described above from it. \n\nHowever, collecting all the &#39;names&#39; and then iterating would help. Might be a good idea!","body":"@Jesse Unfortunately, I can&#39;t use containsAll()  as it&#39;s a list of objects. My object: class MyObjectOne { String name, String value; }  class MyObjectBig { String startElem, String endElem, List&lt;MyObjectOne&gt; list }  List&lt;MyObjectOne&gt; thatsMyList &lt;--- I&#39;d like to remove duplicates described above from it.   However, collecting all the &#39;names&#39; and then iterating would help. Might be a good idea!"},{"owner":{"account_id":2174712,"reputation":498,"user_id":2039591,"accept_rate":88,"display_name":"user007"},"score":0,"creation_date":1666116741,"post_id":74115247,"comment_id":130858132,"body_markdown":"@AlexanderIvanchenko kind of. Every object in the outer list contains the name of the first and last element in the inner list. See my object in my previous comment above.","body":"@AlexanderIvanchenko kind of. Every object in the outer list contains the name of the first and last element in the inner list. See my object in my previous comment above."},{"owner":{"account_id":14679090,"reputation":1359,"user_id":10601203,"display_name":"Jesse"},"score":1,"creation_date":1666116850,"post_id":74115247,"comment_id":130858164,"body_markdown":"You can though. You would just have to override the equality members. In most cases you can have your IDE do this for you. Another approach, if you don&#39;t care about keeping it 2 dimensional, would just be to override the equality members (I believe it&#39;s just `getHashCode` in this case), then add every item in every list to a `HashSet`. This will remove duplicates and you&#39;ll be left with a nice list of distinct objects.","body":"You can though. You would just have to override the equality members. In most cases you can have your IDE do this for you. Another approach, if you don&#39;t care about keeping it 2 dimensional, would just be to override the equality members (I believe it&#39;s just <code>getHashCode</code> in this case), then add every item in every list to a <code>HashSet</code>. This will remove duplicates and you&#39;ll be left with a nice list of distinct objects."},{"owner":{"account_id":2174712,"reputation":498,"user_id":2039591,"accept_rate":88,"display_name":"user007"},"score":0,"creation_date":1666116993,"post_id":74115247,"comment_id":130858215,"body_markdown":"doh. Indeed! I&#39;ll try that @Jesse sounds like a brilliant idea. I think I&#39;ve spent way too much time on that going in the wrong direction. I&#39;ll try to implement that - I&#39;ll keep you posted :) thank you!","body":"doh. Indeed! I&#39;ll try that @Jesse sounds like a brilliant idea. I think I&#39;ve spent way too much time on that going in the wrong direction. I&#39;ll try to implement that - I&#39;ll keep you posted :) thank you!"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666117541,"post_id":74115247,"comment_id":130858415,"body_markdown":"Does `MyObjectOne` has a natural ordering (or potentially could have) and does the names `startElem` and `endElem` imply that all elements in the list `&gt;=` that `startElem` and `&lt;=` than `endElem`?","body":"Does <code>MyObjectOne</code> has a natural ordering (or potentially could have) and does the names <code>startElem</code> and <code>endElem</code> imply that all elements in the list <code>&gt;=</code> that <code>startElem</code> and <code>&lt;=</code> than <code>endElem</code>?"},{"owner":{"account_id":2174712,"reputation":498,"user_id":2039591,"accept_rate":88,"display_name":"user007"},"score":0,"creation_date":1666118473,"post_id":74115247,"comment_id":130858704,"body_markdown":"@AlexanderIvanchenko these are just strings, they aren&#39;t sorted in any way. They need to stay in the order of how they were inserted into the list.","body":"@AlexanderIvanchenko these are just strings, they aren&#39;t sorted in any way. They need to stay in the order of how they were inserted into the list."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1666122771,"post_id":74115247,"comment_id":130860090,"body_markdown":"What if 2nd sublist doesn&#39;t have a 7, but instead has a 9? Is the end result that the first 2 element are preserved, since neither is a subset of the other? In this case you end up with multiple elements repeated across both lists (3,4,5,6,8) - acceptable? If not then I don&#39;t understand the problem as you&#39;ve presented it","body":"What if 2nd sublist doesn&#39;t have a 7, but instead has a 9? Is the end result that the first 2 element are preserved, since neither is a subset of the other? In this case you end up with multiple elements repeated across both lists (3,4,5,6,8) - acceptable? If not then I don&#39;t understand the problem as you&#39;ve presented it"},{"owner":{"account_id":2174712,"reputation":498,"user_id":2039591,"accept_rate":88,"display_name":"user007"},"score":0,"creation_date":1666126320,"post_id":74115247,"comment_id":130861034,"body_markdown":"@Michael that bit won&#39;t match the largest list, so should not be removed. Only exact matches counts.","body":"@Michael that bit won&#39;t match the largest list, so should not be removed. Only exact matches counts."},{"owner":{"account_id":2174712,"reputation":498,"user_id":2039591,"accept_rate":88,"display_name":"user007"},"score":1,"creation_date":1666293972,"post_id":74115247,"comment_id":130909097,"body_markdown":"@Jesse your hint with equals and hashCode helped me as well resolving the issue. Looks like I&#39;ve been looking at my code way too long to spot the obvious stuff. Anyways. Thank you!","body":"@Jesse your hint with equals and hashCode helped me as well resolving the issue. Looks like I&#39;ve been looking at my code way too long to spot the obvious stuff. Anyways. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666121492,"creation_date":1666121492,"answer_id":74116513,"question_id":74115247,"body_markdown":"I would work with an algorithm like this:\r\n\r\n1. Order the lists by their length. You can do this by assigning the inner lists to a new outer list that you sort with `Collections.sort(List&lt;T&gt; newOuter, Comparator&lt;? super T&gt; c))` with T being your inner `List&lt;String&gt;` and a custom Comparator that compares for the length of a list. (`String` used here only since you used that for your example, type doesn&#39;t actually matter.)\r\n\r\n2. Start searching for the shortest list, first in the longest, then in the second longest, etc. until you can either remove the searched list or have searched all other lists. You don&#39;t have to touch that shortest list then, it will be kept. Repeat with the second shortest list, etc. \r\n\r\nTo search a list in another list:\r\n\r\n1. Search the index of the first element of the shorter list in the longer list. \r\n2. When you found that and the rest of the longer list is long enough to contain the shorter list, you grab a `.subList` from the longer list starting with the found index over the length of the shorter list. \r\n3. You can then compare these lists with `.equals()` to find if the shorter list is contained within the longer one. If your inner list elements don&#39;t support `.equals()` sufficiently for this comparison, you can write your own Comparator and use that to compare the two lists.\r\n\r\nIf no match was found in step 3, you can continue searching the first element of the shorter list in the longer list. As `List.indexOf` doesn&#39;t provide a parameter at which index to start the search, probably better use a classic for-loop with an index for this. (It also would allow you to use a custom comparison if `.equals` doesn&#39;t work for you.)\r\n\r\nTo remove a list that was found within another one, you have to take care to remove it from the original outer list, not from your sorted version.\r\n\r\nAfter thinking a bit about it I&#39;m actually not so sure if starting the search in the longest list will save you time on average, due to the length of the searched list. It probably depends a bit on the distribution of lengths.\r\n\r\nAlso I would like to warn you of premature optimization: first implement a working version, then use a profiler to find the places in your code where optimization will have the biggest impact.","title":"Finding duplications in a List of Lists","body":"<p>I would work with an algorithm like this:</p>\n<ol>\n<li><p>Order the lists by their length. You can do this by assigning the inner lists to a new outer list that you sort with <code>Collections.sort(List&lt;T&gt; newOuter, Comparator&lt;? super T&gt; c))</code> with T being your inner <code>List&lt;String&gt;</code> and a custom Comparator that compares for the length of a list. (<code>String</code> used here only since you used that for your example, type doesn't actually matter.)</p>\n</li>\n<li><p>Start searching for the shortest list, first in the longest, then in the second longest, etc. until you can either remove the searched list or have searched all other lists. You don't have to touch that shortest list then, it will be kept. Repeat with the second shortest list, etc.</p>\n</li>\n</ol>\n<p>To search a list in another list:</p>\n<ol>\n<li>Search the index of the first element of the shorter list in the longer list.</li>\n<li>When you found that and the rest of the longer list is long enough to contain the shorter list, you grab a <code>.subList</code> from the longer list starting with the found index over the length of the shorter list.</li>\n<li>You can then compare these lists with <code>.equals()</code> to find if the shorter list is contained within the longer one. If your inner list elements don't support <code>.equals()</code> sufficiently for this comparison, you can write your own Comparator and use that to compare the two lists.</li>\n</ol>\n<p>If no match was found in step 3, you can continue searching the first element of the shorter list in the longer list. As <code>List.indexOf</code> doesn't provide a parameter at which index to start the search, probably better use a classic for-loop with an index for this. (It also would allow you to use a custom comparison if <code>.equals</code> doesn't work for you.)</p>\n<p>To remove a list that was found within another one, you have to take care to remove it from the original outer list, not from your sorted version.</p>\n<p>After thinking a bit about it I'm actually not so sure if starting the search in the longest list will save you time on average, due to the length of the searched list. It probably depends a bit on the distribution of lengths.</p>\n<p>Also I would like to warn you of premature optimization: first implement a working version, then use a profiler to find the places in your code where optimization will have the biggest impact.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666174246,"creation_date":1666125517,"answer_id":74117205,"question_id":74115247,"body_markdown":"Assuming that `equals/hashCode` contract is properly implemented in the `MyObjectOne` you can define an auxiliary wrapper class which would hold a reference to the original `MyObjectBig` instance and maintain a `HashMap` of *map entries* containing *frequencies* of each `MyObjectOne` elements from the *original list* (so if there could be duplicated elements within a list, they would be taken into account during comparison).\r\n\r\nThat&#39;s how such wrapper class might look like:\r\n\r\n    public static class BigObjectWrapper {\r\n        private MyObjectBig bigObject;\r\n        private Map&lt;MyObjectOne, Long&gt; frequencies;\r\n        private int listSize;\r\n        private int mapSize;\r\n        private boolean isDuplicate;\r\n        \r\n        public BigObjectWrapper(MyObjectBig bigObject) {\r\n            this.bigObject = bigObject;\r\n            this.frequencies = bigObject.getList().stream()\r\n                .collect(Collectors.groupingBy(\r\n                    Function.identity(),\r\n                    Collectors.counting()\r\n                ));\r\n            \r\n            this.listSize = bigObject.getList().size();\r\n            this.mapSize = frequencies.size();\r\n        }\r\n        \r\n        public boolean contains(BigObjectWrapper other) {\r\n            if (listSize &lt; other.listSize || mapSize &lt; other.mapSize) return false;\r\n            \r\n            return containsAll(other.frequencies);\r\n        }\r\n        \r\n        private boolean containsAll(Map&lt;MyObjectOne, Long&gt; otherFrequencies) {\r\n            \r\n            return otherFrequencies.entrySet().stream() // frequency of each element in other map less or equal to frequency of this element\r\n                .allMatch(entry -&gt; frequencies.getOrDefault(entry.getKey(), 0L) &gt;= entry.getValue());\r\n        }\r\n        \r\n        public boolean isDuplicate() {\r\n            return isDuplicate;\r\n        }\r\n        \r\n        public void setDuplicate() {\r\n            isDuplicate = true;\r\n        }\r\n        \r\n        // getters, equals/hashCode implemented based on the size and set properties\r\n    }\r\n\r\nNow, the algorithm can be implemented in the following steps:\r\n\r\n* Create a list of wrapped objects.\r\n* Compare each wrapper against others. If the wrapper has been already proven to be a duplicate, it would be skipped. Also, in cases when a wrapper object containing a smaller set would be compared against a wrapper object holding a greater set, the call would terminate immediately returning `false` (therefore there&#39;s no point in sorting the data).\r\n* Generate a new list of `MyObjectBig` from wrapper objects that were not proven to be duplicates.\r\n\r\nThat&#39;s how implementation might look like:\r\n\r\n```\r\nList&lt;MyObjectBig&gt; source = List.of();\r\n        \r\nList&lt;BigObjectWrapper&gt; wrappers = source.stream()\r\n    .map(BigObjectWrapper::new)\r\n    .toList();\r\n        \r\nfor (BigObjectWrapper wrapper : wrappers) {\r\n    if (wrapper.isDuplicate()) continue;\r\n    for (BigObjectWrapper next : wrappers) {\r\n        if (next.isDuplicate()) continue;\r\n        if (wrapper.contains(next)) next.setDuplicate();\r\n    }\r\n}\r\n        \r\nList&lt;MyObjectBig&gt; result = wrappers.stream()\r\n    .filter(w -&gt; !w.isDuplicate())\r\n    .map(BigObjectWrapper::getBigObject)\r\n    .toList();\r\n```\r\n\r\n***Note:** if you don&#39;t need to consider the case when one larger list can be a part of another larger list, then you can split the data into two parts. And then as the first step, check only smaller lists against the larger once, and as the second step, check the remained non-duplicated smaller lists against each other.*","title":"Finding duplications in a List of Lists","body":"<p>Assuming that <code>equals/hashCode</code> contract is properly implemented in the <code>MyObjectOne</code> you can define an auxiliary wrapper class which would hold a reference to the original <code>MyObjectBig</code> instance and maintain a <code>HashMap</code> of <em>map entries</em> containing <em>frequencies</em> of each <code>MyObjectOne</code> elements from the <em>original list</em> (so if there could be duplicated elements within a list, they would be taken into account during comparison).</p>\n<p>That's how such wrapper class might look like:</p>\n<pre><code>public static class BigObjectWrapper {\n    private MyObjectBig bigObject;\n    private Map&lt;MyObjectOne, Long&gt; frequencies;\n    private int listSize;\n    private int mapSize;\n    private boolean isDuplicate;\n    \n    public BigObjectWrapper(MyObjectBig bigObject) {\n        this.bigObject = bigObject;\n        this.frequencies = bigObject.getList().stream()\n            .collect(Collectors.groupingBy(\n                Function.identity(),\n                Collectors.counting()\n            ));\n        \n        this.listSize = bigObject.getList().size();\n        this.mapSize = frequencies.size();\n    }\n    \n    public boolean contains(BigObjectWrapper other) {\n        if (listSize &lt; other.listSize || mapSize &lt; other.mapSize) return false;\n        \n        return containsAll(other.frequencies);\n    }\n    \n    private boolean containsAll(Map&lt;MyObjectOne, Long&gt; otherFrequencies) {\n        \n        return otherFrequencies.entrySet().stream() // frequency of each element in other map less or equal to frequency of this element\n            .allMatch(entry -&gt; frequencies.getOrDefault(entry.getKey(), 0L) &gt;= entry.getValue());\n    }\n    \n    public boolean isDuplicate() {\n        return isDuplicate;\n    }\n    \n    public void setDuplicate() {\n        isDuplicate = true;\n    }\n    \n    // getters, equals/hashCode implemented based on the size and set properties\n}\n</code></pre>\n<p>Now, the algorithm can be implemented in the following steps:</p>\n<ul>\n<li>Create a list of wrapped objects.</li>\n<li>Compare each wrapper against others. If the wrapper has been already proven to be a duplicate, it would be skipped. Also, in cases when a wrapper object containing a smaller set would be compared against a wrapper object holding a greater set, the call would terminate immediately returning <code>false</code> (therefore there's no point in sorting the data).</li>\n<li>Generate a new list of <code>MyObjectBig</code> from wrapper objects that were not proven to be duplicates.</li>\n</ul>\n<p>That's how implementation might look like:</p>\n<pre><code>List&lt;MyObjectBig&gt; source = List.of();\n        \nList&lt;BigObjectWrapper&gt; wrappers = source.stream()\n    .map(BigObjectWrapper::new)\n    .toList();\n        \nfor (BigObjectWrapper wrapper : wrappers) {\n    if (wrapper.isDuplicate()) continue;\n    for (BigObjectWrapper next : wrappers) {\n        if (next.isDuplicate()) continue;\n        if (wrapper.contains(next)) next.setDuplicate();\n    }\n}\n        \nList&lt;MyObjectBig&gt; result = wrappers.stream()\n    .filter(w -&gt; !w.isDuplicate())\n    .map(BigObjectWrapper::getBigObject)\n    .toList();\n</code></pre>\n<p><em><strong>Note:</strong> if you don't need to consider the case when one larger list can be a part of another larger list, then you can split the data into two parts. And then as the first step, check only smaller lists against the larger once, and as the second step, check the remained non-duplicated smaller lists against each other.</em></p>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666132132,"creation_date":1666132132,"answer_id":74118099,"question_id":74115247,"body_markdown":"More of a partial answer... This is the dumbest solution I could think of. I believe it&#39;s `O(N&#178; * M)` where N is the length of the parent list, and M is the length of the sublist.\r\n\r\nI was interested in how slow this would be. It&#39;s often a mistake to simply assume the stupid solution is going to be &quot;too slow&quot; without any proof.\r\n\r\nI assumed the values in each sublist were unique - making them more like ordered sets - and played around with a pool size of possible values. Fewer possible values in the sublist = more sublists removed = faster.\r\n\r\nOn my modest CPU, for 20 possible values it takes 100ms, for 25 possible values it takes 3secs, and for 40 possible values, between 8 and 10 seconds.\r\n\r\nNot posting this because I believe it&#39;s a good solution, but it is at least a working benchmark (as far as I know!) that a more complex solution should be surpassing.\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;List&lt;String&gt;&gt; listOfList = randomData();\r\n\r\n        long start = System.currentTimeMillis();\r\n        Set&lt;Integer&gt; idxToRemove = new HashSet&lt;&gt;();\r\n        for (int i = 0; i &lt; listOfList.size() - 1; ++i) {\r\n            if (idxToRemove.contains(i)) continue;\r\n            for (int j = i + 1; j &lt; listOfList.size(); ++j) {\r\n                if (idxToRemove.contains(j)) continue;\r\n                if (listOfList.get(i).containsAll(listOfList.get(j))) {\r\n                    idxToRemove.add(j);\r\n                }\r\n            }\r\n        }\r\n        idxToRemove.stream()\r\n            .sorted(Comparator.reverseOrder())\r\n            .mapToInt(i -&gt; i)\r\n            .forEach(listOfList::remove);\r\n        long duration = System.currentTimeMillis() - start;\r\n        System.out.println(idxToRemove.size());\r\n        System.out.println(&quot;Took &quot; + duration + &quot;ms&quot;);\r\n    }\r\n\r\n    private static List&lt;List&lt;String&gt;&gt; randomData() {\r\n        Random random = new Random();\r\n        int mainLength = 21_000;\r\n        int possibleValues = 40;\r\n\r\n        List&lt;List&lt;String&gt;&gt; listOfList = new ArrayList&lt;&gt;(mainLength);\r\n        for (int i = 0; i &lt; mainLength; ++i) {\r\n            int subListSize = random.nextInt(5, 20);\r\n\r\n            List&lt;Integer&gt; subList = new ArrayList&lt;&gt;(subListSize);\r\n            while (subList.size() &lt; subListSize) {\r\n                int value = random.nextInt(possibleValues);\r\n                if (!subList.contains(value)) {\r\n                    subList.add(value);\r\n                }\r\n            }\r\n            listOfList.add(\r\n                subList.stream().sorted().map(String::valueOf).collect(Collectors.toList())\r\n            );\r\n        }\r\n        return listOfList;\r\n    }","title":"Finding duplications in a List of Lists","body":"<p>More of a partial answer... This is the dumbest solution I could think of. I believe it's <code>O(N² * M)</code> where N is the length of the parent list, and M is the length of the sublist.</p>\n<p>I was interested in how slow this would be. It's often a mistake to simply assume the stupid solution is going to be &quot;too slow&quot; without any proof.</p>\n<p>I assumed the values in each sublist were unique - making them more like ordered sets - and played around with a pool size of possible values. Fewer possible values in the sublist = more sublists removed = faster.</p>\n<p>On my modest CPU, for 20 possible values it takes 100ms, for 25 possible values it takes 3secs, and for 40 possible values, between 8 and 10 seconds.</p>\n<p>Not posting this because I believe it's a good solution, but it is at least a working benchmark (as far as I know!) that a more complex solution should be surpassing.</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;List&lt;String&gt;&gt; listOfList = randomData();\n\n    long start = System.currentTimeMillis();\n    Set&lt;Integer&gt; idxToRemove = new HashSet&lt;&gt;();\n    for (int i = 0; i &lt; listOfList.size() - 1; ++i) {\n        if (idxToRemove.contains(i)) continue;\n        for (int j = i + 1; j &lt; listOfList.size(); ++j) {\n            if (idxToRemove.contains(j)) continue;\n            if (listOfList.get(i).containsAll(listOfList.get(j))) {\n                idxToRemove.add(j);\n            }\n        }\n    }\n    idxToRemove.stream()\n        .sorted(Comparator.reverseOrder())\n        .mapToInt(i -&gt; i)\n        .forEach(listOfList::remove);\n    long duration = System.currentTimeMillis() - start;\n    System.out.println(idxToRemove.size());\n    System.out.println(&quot;Took &quot; + duration + &quot;ms&quot;);\n}\n\nprivate static List&lt;List&lt;String&gt;&gt; randomData() {\n    Random random = new Random();\n    int mainLength = 21_000;\n    int possibleValues = 40;\n\n    List&lt;List&lt;String&gt;&gt; listOfList = new ArrayList&lt;&gt;(mainLength);\n    for (int i = 0; i &lt; mainLength; ++i) {\n        int subListSize = random.nextInt(5, 20);\n\n        List&lt;Integer&gt; subList = new ArrayList&lt;&gt;(subListSize);\n        while (subList.size() &lt; subListSize) {\n            int value = random.nextInt(possibleValues);\n            if (!subList.contains(value)) {\n                subList.add(value);\n            }\n        }\n        listOfList.add(\n            subList.stream().sorted().map(String::valueOf).collect(Collectors.toList())\n        );\n    }\n    return listOfList;\n}\n</code></pre>\n"}],"owner":{"account_id":2174712,"reputation":498,"user_id":2039591,"accept_rate":88,"display_name":"user007"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74117205,"answer_count":3,"score":1,"last_activity_date":1666174246,"creation_date":1666114917,"question_id":74115247,"body_markdown":"I&#39;ve got a list of lists of an object having properties (let&#39;s say a name and a value).\r\n\r\nI&#39;d like to find and remove the duplicated lists if it&#39;s a part of another list - their order does matter.\r\n\r\nExample in a pseudocode (I&#39;ll present it as a list of strings to make it easier):\r\n\r\n    List&lt;List&lt;String&gt;&gt;  = [\r\n    [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;], \r\n    [&quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;],\r\n    [&quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;],\r\n    [&quot;7&quot;, &quot;8&quot;]\r\n    ]\r\n\r\nin this case, I&#39;d like to remove shorter lists because they are part of the longer/most extended list.\r\n\r\nMy classes can be described like that:\r\n\r\n    public static class MyObjectBig {\r\n        private String startElem;\r\n        private String endElem;\r\n        private List&lt;MyObjectOne&gt; list;\r\n        \r\n        // constructors, getters, etc.\r\n    }\r\n\r\n    public static class MyObjectOne {\r\n        private String name;\r\n        private String value;\r\n    \r\n        // constructors, getters, etc.\r\n    }\r\n\r\nThe large lists are massive - like 21,000 elements, and the small lists are most at 20 elements, usually ~10.\r\n\r\nI&#39;ve got a couple of ideas, like creating a `Map` of the having the first item as a *key* and all list as a value. Then iterating over all items checking if it exists in it if it does, then checking the next items. But that&#39;s very slow.\r\n\r\nI&#39;ll appreciate any hints or ideas.","title":"Finding duplications in a List of Lists","body":"<p>I've got a list of lists of an object having properties (let's say a name and a value).</p>\n<p>I'd like to find and remove the duplicated lists if it's a part of another list - their order does matter.</p>\n<p>Example in a pseudocode (I'll present it as a list of strings to make it easier):</p>\n<pre><code>List&lt;List&lt;String&gt;&gt;  = [\n[&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;], \n[&quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;],\n[&quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;],\n[&quot;7&quot;, &quot;8&quot;]\n]\n</code></pre>\n<p>in this case, I'd like to remove shorter lists because they are part of the longer/most extended list.</p>\n<p>My classes can be described like that:</p>\n<pre><code>public static class MyObjectBig {\n    private String startElem;\n    private String endElem;\n    private List&lt;MyObjectOne&gt; list;\n    \n    // constructors, getters, etc.\n}\n\npublic static class MyObjectOne {\n    private String name;\n    private String value;\n\n    // constructors, getters, etc.\n}\n</code></pre>\n<p>The large lists are massive - like 21,000 elements, and the small lists are most at 20 elements, usually ~10.</p>\n<p>I've got a couple of ideas, like creating a <code>Map</code> of the having the first item as a <em>key</em> and all list as a value. Then iterating over all items checking if it exists in it if it does, then checking the next items. But that's very slow.</p>\n<p>I'll appreciate any hints or ideas.</p>\n"},{"tags":["java","reactjs","spring","spring-boot","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":10810559,"reputation":79,"user_id":7951276,"display_name":"Ayush Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666173812,"creation_date":1666173812,"answer_id":74123487,"question_id":73305627,"body_markdown":"Facing same issue with react app. Seems like you are missing default-filters.\r\nI have fixed using below config for cors in spring cloud gateway :- \r\n\r\n        spring:\r\n      cloud:\r\n        gateway:\r\n          default-filters:\r\n            - DedupeResponseHeader=Access-Control-Allow-Credentials Access-Control-Allow-Origin\r\n          globalcors:\r\n            corsConfigurations:\r\n              &#39;[/**]&#39;:\r\n                allowedOrigins: &quot;*&quot;\r\n                allowedMethods: &quot;*&quot;\r\n                allowedHeaders: &quot;*&quot;\r\n          routes:\r\n            - id: portalModule\r\n\r\n\r\n\r\nSpring-Boot v2.7.4,\r\nJava v11,\r\nSpring-cloud-version v2021.0.4","title":"Configure CORS for Spring Cloud Gateway using react not working","body":"<p>Facing same issue with react app. Seems like you are missing default-filters.\nI have fixed using below config for cors in spring cloud gateway :-</p>\n<pre><code>    spring:\n  cloud:\n    gateway:\n      default-filters:\n        - DedupeResponseHeader=Access-Control-Allow-Credentials Access-Control-Allow-Origin\n      globalcors:\n        corsConfigurations:\n          '[/**]':\n            allowedOrigins: &quot;*&quot;\n            allowedMethods: &quot;*&quot;\n            allowedHeaders: &quot;*&quot;\n      routes:\n        - id: portalModule\n</code></pre>\n<p>Spring-Boot v2.7.4,\nJava v11,\nSpring-cloud-version v2021.0.4</p>\n"}],"owner":{"account_id":20465610,"reputation":51,"user_id":15017186,"display_name":"Dhanashree Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1002,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666173812,"creation_date":1660131462,"question_id":73305627,"body_markdown":"I have a React application which is running locally with a Spring Cloud Gateway. I get this error:\r\n```\r\nadminLogin:1 Access to XMLHttpRequest at &#39;http://localhost:9191/admin/authenticate&#39; from origin &#39;http://localhost:3000&#39; has been blocked by CORS policy: The &#39;Access-Control-Allow-Origin&#39; header contains multiple values &#39;http://localhost:3000, http://localhost:3000&#39;, but only one is allowed.\r\n```\r\n9191 is my cloud gateway port number\r\nMy yml file of cloud gateway:\r\n```\r\nserver:\r\n  port: 9191\r\n\r\nspring:\r\n  application:\r\n    name: API-GATEWAY\r\n  cloud:\r\n    gateway:\r\n      globalcors:\r\n        corsConfigurations:\r\n          &#39;[/**]&#39;:\r\n            allowedOrigins: &quot;http://localhost:3000/&quot;\r\n            allowedMethods:\r\n            - GET\r\n            - POST\r\n            - PUT\r\n            - DELETE\r\n        \r\n      routes:\r\n        - id: ADMIN-SERVICE\r\n          uri: lb://ADMIN-SERVICE\r\n          predicates:\r\n            - Path=/admin/**\r\n        - id: CUSTOMER-SERVICE\r\n          uri: lb://CUSTOMER-SERVICE\r\n          predicates:\r\n            - Path=/customer/**\r\n        - id: DEALER-SERVICE\r\n          uri: lb://DEALER-SERVICE\r\n          predicates:\r\n            - Path=/dealer/**\r\n        - id: VENUE-SERVICE\r\n          uri: lb://VENUE-SERVICE\r\n          predicates:\r\n            - Path=/venue/**\r\n      \r\n\r\neureka:\r\n  client:\r\n    fetch-registry: true\r\n    register-with-eureka: true\r\n    service-url:\r\n      defaultZone: http://localhost:8761/eureka/\r\n  instance:\r\n    hostname: localhost\r\n\r\n```\r\nHow can I fix this issue?\r\n","title":"Configure CORS for Spring Cloud Gateway using react not working","body":"<p>I have a React application which is running locally with a Spring Cloud Gateway. I get this error:</p>\n<pre><code>adminLogin:1 Access to XMLHttpRequest at 'http://localhost:9191/admin/authenticate' from origin 'http://localhost:3000' has been blocked by CORS policy: The 'Access-Control-Allow-Origin' header contains multiple values 'http://localhost:3000, http://localhost:3000', but only one is allowed.\n</code></pre>\n<p>9191 is my cloud gateway port number\nMy yml file of cloud gateway:</p>\n<pre><code>server:\n  port: 9191\n\nspring:\n  application:\n    name: API-GATEWAY\n  cloud:\n    gateway:\n      globalcors:\n        corsConfigurations:\n          '[/**]':\n            allowedOrigins: &quot;http://localhost:3000/&quot;\n            allowedMethods:\n            - GET\n            - POST\n            - PUT\n            - DELETE\n        \n      routes:\n        - id: ADMIN-SERVICE\n          uri: lb://ADMIN-SERVICE\n          predicates:\n            - Path=/admin/**\n        - id: CUSTOMER-SERVICE\n          uri: lb://CUSTOMER-SERVICE\n          predicates:\n            - Path=/customer/**\n        - id: DEALER-SERVICE\n          uri: lb://DEALER-SERVICE\n          predicates:\n            - Path=/dealer/**\n        - id: VENUE-SERVICE\n          uri: lb://VENUE-SERVICE\n          predicates:\n            - Path=/venue/**\n      \n\neureka:\n  client:\n    fetch-registry: true\n    register-with-eureka: true\n    service-url:\n      defaultZone: http://localhost:8761/eureka/\n  instance:\n    hostname: localhost\n\n</code></pre>\n<p>How can I fix this issue?</p>\n"},{"tags":["java","android","itext","ambiguous"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":2,"creation_date":1490258931,"post_id":42971071,"comment_id":73034567,"body_markdown":"Is Phrase a sub-class of ArrayList? What does the `add` method look like?","body":"Is Phrase a sub-class of ArrayList? What does the <code>add</code> method look like?"},{"owner":{"account_id":9094295,"reputation":1988,"user_id":6768769,"accept_rate":40,"display_name":"Dileep Patel"},"score":1,"creation_date":1490258967,"post_id":42971071,"comment_id":73034585,"body_markdown":"try to this link http://stackoverflow.com/questions/20255420/what-is-an-ambiguous-type-error-in-java","body":"try to this link <a href=\"http://stackoverflow.com/questions/20255420/what-is-an-ambiguous-type-error-in-java\" title=\"what is an ambiguous type error in java\">stackoverflow.com/questions/20255420/&hellip;</a>"},{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1490276217,"post_id":42971071,"comment_id":73047204,"body_markdown":"Place there the minimized copy of your code (from which you remove EVERYTHING which is NOT needed to produce your error), including the `import` commands.","body":"Place there the minimized copy of your code (from which you remove EVERYTHING which is NOT needed to produce your error), including the <code>import</code> commands."},{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":2,"creation_date":1490276488,"post_id":42971071,"comment_id":73047424,"body_markdown":"Try `((Phrase) p).add(c)`. If it works, I will put it as an answer :) now I just have a certain suspicion.","body":"Try <code>((Phrase) p).add(c)</code>. If it works, I will put it as an answer :) now I just have a certain suspicion."},{"owner":{"account_id":400683,"reputation":7350,"user_id":766786,"accept_rate":68,"display_name":"Amedee Van Gasse"},"score":0,"creation_date":1490278313,"post_id":42971071,"comment_id":73048908,"body_markdown":"I stand corrected. In any case we need to see more of the code, and NOT as a screenshot but as actual code that anyone can copy/paste into their ID.","body":"I stand corrected. In any case we need to see more of the code, and NOT as a screenshot but as actual code that anyone can copy/paste into their ID."},{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1490278861,"post_id":42971071,"comment_id":73049380,"body_markdown":"@DileepPatel: it is not the same case! Here he has &quot;ambiguous **method call**&quot; (the compiler cannot decide which **method** to use), whilst your linked question has &quot;ambiguous **type**&quot; (the compiler cannot decide which **type** to use: java.util.List vs. java.awt.List).","body":"@DileepPatel: it is not the same case! Here he has &quot;ambiguous <b>method call</b>&quot; (the compiler cannot decide which <b>method</b> to use), whilst your linked question has &quot;ambiguous <b>type</b>&quot; (the compiler cannot decide which <b>type</b> to use: java.util.List vs. java.awt.List)."}],"answers":[{"tags":[],"owner":{"account_id":10291193,"reputation":11,"user_id":7592904,"display_name":"Rahul Puri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490259969,"creation_date":1490259576,"answer_id":42971325,"question_id":42971071,"body_markdown":"&quot;ambiguous&quot; error comes up when u already have a file/varibale etc with same name.\r\nfor example when you make a project using entity framework , entity framework make class and dbcontext files for u. but if u add a class with same name as entity framework had made for u then this error comes up. check ur project/programe correctly and fully again... \r\nHope its helpfull !!\r\n\r\nand checkout this link for ur answer https://stackoverflow.com/questions/18505973/android-studio-ambiguous-method-call-getclass","title":"Why this particular code generates &quot;ambiguous method call&quot; error in Android Studio?","body":"<p>\"ambiguous\" error comes up when u already have a file/varibale etc with same name.\nfor example when you make a project using entity framework , entity framework make class and dbcontext files for u. but if u add a class with same name as entity framework had made for u then this error comes up. check ur project/programe correctly and fully again... \nHope its helpfull !!</p>\n\n<p>and checkout this link for ur answer <a href=\"https://stackoverflow.com/questions/18505973/android-studio-ambiguous-method-call-getclass\">Android Studio - Ambiguous method call getClass()</a></p>\n"},{"tags":[],"owner":{"account_id":3598164,"reputation":493,"user_id":3002218,"accept_rate":12,"display_name":"mr.burns"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490865569,"creation_date":1490865569,"answer_id":43113523,"question_id":42971071,"body_markdown":"thanks for reply - indeed I needed help regarding why &#39;ambiguous&#39; appears in this context.\r\nBut now the problem is solved - this error does not appear anymore - but I don&#39;t know exactly why.\r\nI did some Android Studio updates last week may this helped?\r\n\r\nThanks anyway!\r\n","title":"Why this particular code generates &quot;ambiguous method call&quot; error in Android Studio?","body":"<p>thanks for reply - indeed I needed help regarding why 'ambiguous' appears in this context.\nBut now the problem is solved - this error does not appear anymore - but I don't know exactly why.\nI did some Android Studio updates last week may this helped?</p>\n\n<p>Thanks anyway!</p>\n"},{"tags":[],"owner":{"account_id":11714229,"reputation":31,"user_id":8575276,"display_name":"George Vortelinos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666173777,"creation_date":1666003983,"answer_id":74096162,"question_id":42971071,"body_markdown":"In case when we use data binding, some java files are auto-generated  \r\nThe problem was occured when a getter/setter has the same name with a function.\r\neg \r\n- var newData\r\n- fun getNewData()\r\n\r\nin this case, in the generated java file, the variable&#39;s getter has the same name with the function =&gt; **getNewData**. \r\n\r\nSo simply you have to change variable name or fuction name\r\n\r\n","title":"Why this particular code generates &quot;ambiguous method call&quot; error in Android Studio?","body":"<p>In case when we use data binding, some java files are auto-generated<br />\nThe problem was occured when a getter/setter has the same name with a function.\neg</p>\n<ul>\n<li>var newData</li>\n<li>fun getNewData()</li>\n</ul>\n<p>in this case, in the generated java file, the variable's getter has the same name with the function =&gt; <strong>getNewData</strong>.</p>\n<p>So simply you have to change variable name or fuction name</p>\n"}],"owner":{"account_id":3598164,"reputation":493,"user_id":3002218,"accept_rate":12,"display_name":"mr.burns"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1949,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1666173777,"creation_date":1490258820,"question_id":42971071,"body_markdown":"I use iText 5 in Android Studio to create a PDF document but I get an error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BvXVW.jpg\r\n\r\nI also tried\r\n\r\n    p.add((Phrase)c);\r\n\r\nbut I get same error :-(\r\n\r\nHow I can get rid of this error?","title":"Why this particular code generates &quot;ambiguous method call&quot; error in Android Studio?","body":"<p>I use iText 5 in Android Studio to create a PDF document but I get an error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BvXVW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BvXVW.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I also tried</p>\n\n<pre><code>p.add((Phrase)c);\n</code></pre>\n\n<p>but I get same error :-(</p>\n\n<p>How I can get rid of this error?</p>\n"},{"tags":["java","serialization","file-handling"],"comments":[{"owner":{"account_id":1837525,"reputation":3545,"user_id":1667562,"accept_rate":99,"display_name":"Incredible"},"score":0,"creation_date":1666173641,"post_id":74123339,"comment_id":130871168,"body_markdown":"ObjectInputStream ois = null; and then assigned to ois = new ObjectInputStream(new FileInputStream(file)); ? Why ?","body":"ObjectInputStream ois = null; and then assigned to ois = new ObjectInputStream(new FileInputStream(file)); ? Why ?"},{"owner":{"account_id":7139308,"reputation":2282,"user_id":5457643,"display_name":"Turamarth"},"score":0,"creation_date":1666173671,"post_id":74123339,"comment_id":130871178,"body_markdown":"Does this answer your question? [Why does writeObject throw java.io.NotSerializableException and how do I fix it?](https://stackoverflow.com/questions/13895867/why-does-writeobject-throw-java-io-notserializableexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13895867/why-does-writeobject-throw-java-io-notserializableexception-and-how-do-i-fix-it\">Why does writeObject throw java.io.NotSerializableException and how do I fix it?</a>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1666174083,"post_id":74123339,"comment_id":130871307,"body_markdown":"Do you have another class called `Serializable`?","body":"Do you have another class called <code>Serializable</code>?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1666174833,"post_id":74123339,"comment_id":130871586,"body_markdown":"Nothing wrong with your code itself. That&#39;s not a text file though","body":"Nothing wrong with your code itself. That&#39;s not a text file though"},{"owner":{"account_id":25739326,"reputation":17,"user_id":19493559,"display_name":"sushil"},"score":0,"creation_date":1666174953,"post_id":74123339,"comment_id":130871621,"body_markdown":"@AndyTurner No.","body":"@AndyTurner No."},{"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"score":0,"creation_date":1666177858,"post_id":74123339,"comment_id":130872614,"body_markdown":"I am assuming the class Employee should be public in order for making it serializable. Option 1) Try moving Employee class to different file Option 2) include the main method also in Employee class itself, make it public and remove Employees class.","body":"I am assuming the class Employee should be public in order for making it serializable. Option 1) Try moving Employee class to different file Option 2) include the main method also in Employee class itself, make it public and remove Employees class."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666405205,"post_id":74123339,"comment_id":130935900,"body_markdown":"I just tried pasting this code into my IDE, running it and testing. Everything works fine for me, including adding employees, exiting, then running again and displaying from the saved file. I did not receive any exceptions. There must be something else wrong. Perhaps the compiled classes need to be deleted and recompiled.","body":"I just tried pasting this code into my IDE, running it and testing. Everything works fine for me, including adding employees, exiting, then running again and displaying from the saved file. I did not receive any exceptions. There must be something else wrong. Perhaps the compiled classes need to be deleted and recompiled."}],"owner":{"account_id":25739326,"reputation":17,"user_id":19493559,"display_name":"sushil"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666173709,"creation_date":1666173285,"question_id":74123339,"body_markdown":"\r\n\r\n    import java.util.*;\r\n    \r\n    import java.io.*;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    class Employee implements Serializable{\r\n    \t\r\n    \tint empno;\r\n    \tString ename;\r\n    \tString contact;\r\n    \t\r\n    \tEmployee(int empno, String ename, String contact){\r\n    \t\tthis.empno = empno;\r\n    \t\tthis.ename = ename;\r\n    \t\tthis.contact = contact;\r\n    \t}\r\n     \r\n    \tpublic String toString() {\r\n    \t\treturn empno+&quot; &quot;+ename+&quot; &quot;+contact;\r\n    \t}\r\n    }\r\n    \r\n    public class Employees {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception{\r\n    \t\t\r\n    \t\tint choice = -1;\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tScanner sc1 = new Scanner(System.in);\r\n    \t\t\r\n    \t\tFile file = new File(&quot;employee.txt&quot;);\r\n    \t\t\r\n    \t\tArrayList&lt;Employee&gt; al = new ArrayList&lt;Employee&gt;();\r\n    \t\t\r\n    \t\tObjectOutputStream oos = null;\r\n    \t\tObjectInputStream ois = null;\r\n    \t\t\r\n    \t\tif(file.isFile()) {\r\n    \t\t\tois = new ObjectInputStream(new FileInputStream(file));\r\n    \t\t\tal = (ArrayList&lt;Employee&gt;)ois.readObject();\r\n    \t\t\tois.close();\r\n    \t\t}\r\n    \t\t\r\n    \t\tdo{\r\n    \t\t\tSystem.out.println(&quot;1.INSERT&quot;);\r\n    \t\t\tSystem.out.println(&quot;2.DISPLAY&quot;);\r\n    \t\t\tSystem.out.println(&quot;0.EXIT&quot;);\r\n    \t\t\t\r\n    \t\t\tchoice = sc.nextInt();\r\n    \t\t\t\r\n    \t\t\tswitch(choice) {\r\n    \t\t\tcase 1:\r\n    \t\t\t\tSystem.out.println(&quot;Enter how many Employees you want to add:&quot;);\r\n    \t\t\t\tint n = sc.nextInt();\r\n    \t\t\t\tfor(int i = 0; i &lt; n; i++) {\r\n    \t\t\t\tSystem.out.println(&quot;Enter Employee No: &quot;);\r\n    \t\t\t\tint empno = sc.nextInt();\r\n    \t\t\t\t\r\n    \t\t\t\tSystem.out.println(&quot;Enter Employee Name: &quot;);\r\n    \t\t\t\tString name = sc1.nextLine();\r\n    \t\t\t\t\r\n    \t\t\t\tSystem.out.println(&quot;Enter Employee Contact: &quot;);\r\n    \t\t\t\tString contact = sc1.nextLine();\r\n    \t\t\t\t\r\n    \t\t\t\tal.add(new Employee(empno, name, contact));\r\n    \t\t\t\t}\r\n    \t\t\t\toos = new ObjectOutputStream(new FileOutputStream(file));\r\n    \t\t\t\toos.writeObject(al);\r\n    \t\t\t\toos.close();\r\n    \t\t\t\tbreak;\r\n    \t\t\t\t\r\n    \t\t\tcase 2:\r\n    \t\t\t\tSystem.out.println(al);\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}while(choice!=0);\r\n    \t}\r\n    }\r\n\r\nI&#39;m getting this exception:\r\n\r\n    Caused by: java.io.NotSerializableException: Employee\r\n    \tat java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1202)\r\n    \tat java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:362)\r\n    \tat java.base/java.util.ArrayList.writeObject(ArrayList.java:866)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n    \tat java.base/java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1201)\r\n    \tat java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1531)\r\n    \tat java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1453)\r\n    \tat java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1196)\r\n    \tat java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:362)\r\n    \tat Employees.main(Employees.java:69)","title":"Java Exception NotSerializableException for ObjectOutputStream","body":"<pre><code>import java.util.*;\n\nimport java.io.*;\n\nimport java.io.Serializable;\n\nclass Employee implements Serializable{\n    \n    int empno;\n    String ename;\n    String contact;\n    \n    Employee(int empno, String ename, String contact){\n        this.empno = empno;\n        this.ename = ename;\n        this.contact = contact;\n    }\n \n    public String toString() {\n        return empno+&quot; &quot;+ename+&quot; &quot;+contact;\n    }\n}\n\npublic class Employees {\n\n    public static void main(String[] args) throws Exception{\n        \n        int choice = -1;\n        Scanner sc = new Scanner(System.in);\n        Scanner sc1 = new Scanner(System.in);\n        \n        File file = new File(&quot;employee.txt&quot;);\n        \n        ArrayList&lt;Employee&gt; al = new ArrayList&lt;Employee&gt;();\n        \n        ObjectOutputStream oos = null;\n        ObjectInputStream ois = null;\n        \n        if(file.isFile()) {\n            ois = new ObjectInputStream(new FileInputStream(file));\n            al = (ArrayList&lt;Employee&gt;)ois.readObject();\n            ois.close();\n        }\n        \n        do{\n            System.out.println(&quot;1.INSERT&quot;);\n            System.out.println(&quot;2.DISPLAY&quot;);\n            System.out.println(&quot;0.EXIT&quot;);\n            \n            choice = sc.nextInt();\n            \n            switch(choice) {\n            case 1:\n                System.out.println(&quot;Enter how many Employees you want to add:&quot;);\n                int n = sc.nextInt();\n                for(int i = 0; i &lt; n; i++) {\n                System.out.println(&quot;Enter Employee No: &quot;);\n                int empno = sc.nextInt();\n                \n                System.out.println(&quot;Enter Employee Name: &quot;);\n                String name = sc1.nextLine();\n                \n                System.out.println(&quot;Enter Employee Contact: &quot;);\n                String contact = sc1.nextLine();\n                \n                al.add(new Employee(empno, name, contact));\n                }\n                oos = new ObjectOutputStream(new FileOutputStream(file));\n                oos.writeObject(al);\n                oos.close();\n                break;\n                \n            case 2:\n                System.out.println(al);\n                break;\n            }\n        }while(choice!=0);\n    }\n}\n</code></pre>\n<p>I'm getting this exception:</p>\n<pre><code>Caused by: java.io.NotSerializableException: Employee\n    at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1202)\n    at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:362)\n    at java.base/java.util.ArrayList.writeObject(ArrayList.java:866)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at java.base/java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1201)\n    at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1531)\n    at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1453)\n    at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1196)\n    at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:362)\n    at Employees.main(Employees.java:69)\n</code></pre>\n"},{"tags":["java","xml","jackson"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666173644,"creation_date":1666173644,"answer_id":74123445,"question_id":74121338,"body_markdown":"The *Caused by: com.fasterxml.jackson.databind.JsonMappingException: Can not set final java.lang.String...* exception message is related to the fact that Jackson library because of the absence of a `JsonCreator` annotated method in the `User` record firstly creates the `User` record and then tries to modify the final field called *name*, then the exception. This scenario can be avoided adding a `JsonCreator` annotated constructor to your `User` record :\r\n\r\n~~~\r\npublic record User(@JacksonXmlProperty(isAttribute = true) String name) {\r\n\r\n    @JsonCreator\r\n    public User(String name) {\r\n        this.name = name;\r\n    }\r\n    \r\n}\r\n~~~\r\n\r\nI tried your code with the Jackson version 2.12 with no luck (maybe the constructor in the `User` record solves your issue with jackson 2.13, but I haven&#39;t verified it), using one [incremental reading](https://github.com/FasterXML/jackson-dataformat-xml) as suggested in the official documentation solves your problem:\r\n\r\n~~~\r\nFile xml = new File(&quot;msg.xml&quot;);\r\nXMLInputFactory f = XMLInputFactory.newFactory();\r\nXMLStreamReader sr = f.createXMLStreamReader(new FileInputStream(xml));\r\nXmlMapper xmlMapper = new XmlMapper();\r\nsr.nextTag(); //points to Root_to_unwrap tag\r\nsr.nextTag(); //points to User tag     \r\nUser user = xmlMapper.readValue(sr, User.class);\r\nsr.close();\r\n~~~\r\n","title":"How to Jackson Deserialize XML into Record - ignore root element","body":"<p>The <em>Caused by: com.fasterxml.jackson.databind.JsonMappingException: Can not set final java.lang.String...</em> exception message is related to the fact that Jackson library because of the absence of a <code>JsonCreator</code> annotated method in the <code>User</code> record firstly creates the <code>User</code> record and then tries to modify the final field called <em>name</em>, then the exception. This scenario can be avoided adding a <code>JsonCreator</code> annotated constructor to your <code>User</code> record :</p>\n<pre><code>public record User(@JacksonXmlProperty(isAttribute = true) String name) {\n\n    @JsonCreator\n    public User(String name) {\n        this.name = name;\n    }\n    \n}\n</code></pre>\n<p>I tried your code with the Jackson version 2.12 with no luck (maybe the constructor in the <code>User</code> record solves your issue with jackson 2.13, but I haven't verified it), using one <a href=\"https://github.com/FasterXML/jackson-dataformat-xml\" rel=\"nofollow noreferrer\">incremental reading</a> as suggested in the official documentation solves your problem:</p>\n<pre><code>File xml = new File(&quot;msg.xml&quot;);\nXMLInputFactory f = XMLInputFactory.newFactory();\nXMLStreamReader sr = f.createXMLStreamReader(new FileInputStream(xml));\nXmlMapper xmlMapper = new XmlMapper();\nsr.nextTag(); //points to Root_to_unwrap tag\nsr.nextTag(); //points to User tag     \nUser user = xmlMapper.readValue(sr, User.class);\nsr.close();\n</code></pre>\n"}],"owner":{"account_id":9754794,"reputation":28,"user_id":7231902,"display_name":"Koala Lam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666173644,"creation_date":1666164122,"question_id":74121338,"body_markdown":"XML Input:\r\n\r\n```xml\r\n&lt;Root_to_unwrap&gt;&lt;User name=&quot;a&quot;&gt;&lt;/User&gt;&lt;/Root_to_unwrap&gt;\r\n```\r\n\r\nJava Record:\r\n```java\r\npackage x.y.z;\r\n\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\r\n\r\npublic record User(@JacksonXmlProperty(isAttribute = true) String name) {\r\n}\r\n```\r\n\r\nTried the following with Jackson version 2.13.3, both doesn&#39;t work:\r\n\r\nTry #1\r\n```java\r\n  @Test\r\n  void testCase1() {\r\n    try (InputStream is = this.getClass().getClassLoader().getResourceAsStream(&quot;input.xml&quot;)) {\r\n      XmlMapper xmlMapper = new XmlMapper();\r\n      ObjectReader reader = xmlMapper.reader().withFeatures(DeserializationFeature.UNWRAP_ROOT_VALUE);\r\n      User user = reader.readValue(is, User.class);\r\n    } catch (IOException ioe) {\r\n      fail(ioe); // failed with &quot;Caused by: com.fasterxml.jackson.databind.JsonMappingException: Can not set final java.lang.String field x.y.z.User.name to java.lang.String&quot;\r\n    }\r\n  }\r\n```\r\n\r\nTry #2\r\n```java\r\n  @Test\r\n  void testCase2() {\r\n    try (InputStream is = this.getClass().getClassLoader().getResourceAsStream(&quot;input.xml&quot;)) {\r\n      XmlMapper xmlMapper = new XmlMapper();\r\n      ObjectReader reader = xmlMapper.reader().withRootName(&quot;Root_to_unwrap&quot;).withFeatures(DeserializationFeature.UNWRAP_ROOT_VALUE);\r\n      User user = reader.readValue(is, User.class);\r\n    } catch (IOException ioe) {\r\n      fail(ioe); // failed with &quot;Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Root name (&#39;User&#39;) does not match expected (&#39;Root_to_unwrap&#39;) for type `x.y.z.User`&quot;\r\n    }\r\n  }\r\n```\r\n\r\nAny idea how deserialize XML into Record? Thank you!","title":"How to Jackson Deserialize XML into Record - ignore root element","body":"<p>XML Input:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Root_to_unwrap&gt;&lt;User name=&quot;a&quot;&gt;&lt;/User&gt;&lt;/Root_to_unwrap&gt;\n</code></pre>\n<p>Java Record:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package x.y.z;\n\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\n\npublic record User(@JacksonXmlProperty(isAttribute = true) String name) {\n}\n</code></pre>\n<p>Tried the following with Jackson version 2.13.3, both doesn't work:</p>\n<p>Try #1</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Test\n  void testCase1() {\n    try (InputStream is = this.getClass().getClassLoader().getResourceAsStream(&quot;input.xml&quot;)) {\n      XmlMapper xmlMapper = new XmlMapper();\n      ObjectReader reader = xmlMapper.reader().withFeatures(DeserializationFeature.UNWRAP_ROOT_VALUE);\n      User user = reader.readValue(is, User.class);\n    } catch (IOException ioe) {\n      fail(ioe); // failed with &quot;Caused by: com.fasterxml.jackson.databind.JsonMappingException: Can not set final java.lang.String field x.y.z.User.name to java.lang.String&quot;\n    }\n  }\n</code></pre>\n<p>Try #2</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Test\n  void testCase2() {\n    try (InputStream is = this.getClass().getClassLoader().getResourceAsStream(&quot;input.xml&quot;)) {\n      XmlMapper xmlMapper = new XmlMapper();\n      ObjectReader reader = xmlMapper.reader().withRootName(&quot;Root_to_unwrap&quot;).withFeatures(DeserializationFeature.UNWRAP_ROOT_VALUE);\n      User user = reader.readValue(is, User.class);\n    } catch (IOException ioe) {\n      fail(ioe); // failed with &quot;Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Root name ('User') does not match expected ('Root_to_unwrap') for type `x.y.z.User`&quot;\n    }\n  }\n</code></pre>\n<p>Any idea how deserialize XML into Record? Thank you!</p>\n"},{"tags":["java","tomcat","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":2418539,"reputation":259,"user_id":2112089,"accept_rate":100,"display_name":"Pascal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666173492,"creation_date":1457943763,"answer_id":35982557,"question_id":35982475,"body_markdown":"I don&#39;t know why the placeholder isn&#39;t resolved but here is my working configuration:\r\n\r\n```xml\r\n&lt;Appenders&gt;\r\n    &lt;RollingFile name=&quot;Permament&quot;\r\n                 fileName=&quot;E:/workspace/myproject/logs/ergo.log&quot;\r\n                 filePattern=&quot;E:/workspace/myproject/logs/ergo.%d{yyyy-MM-dd.HH:mm}.log&quot;\r\n                 immediateFlush=&quot;true&quot;&gt;\r\n        &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} %5p{length=5} - %c{1} %m %ex%n&quot;/&gt;\r\n        &lt;Policies&gt;\r\n            &lt;TimeBasedTriggeringPolicy/&gt;\r\n        &lt;/Policies&gt;\r\n    &lt;/RollingFile&gt;\r\n...\r\n```","title":"How to use current date pattern in log4j2 fileName?","body":"<p>I don't know why the placeholder isn't resolved but here is my working configuration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Appenders&gt;\n    &lt;RollingFile name=&quot;Permament&quot;\n                 fileName=&quot;E:/workspace/myproject/logs/ergo.log&quot;\n                 filePattern=&quot;E:/workspace/myproject/logs/ergo.%d{yyyy-MM-dd.HH:mm}.log&quot;\n                 immediateFlush=&quot;true&quot;&gt;\n        &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} %5p{length=5} - %c{1} %m %ex%n&quot;/&gt;\n        &lt;Policies&gt;\n            &lt;TimeBasedTriggeringPolicy/&gt;\n        &lt;/Policies&gt;\n    &lt;/RollingFile&gt;\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1457943885,"creation_date":1457943885,"answer_id":35982587,"question_id":35982475,"body_markdown":"This one worked (whyever):\r\n\r\n    &lt;property name=&quot;filePattern&quot;&gt;${date:yyyy-MM-dd}&lt;/property&gt;","title":"How to use current date pattern in log4j2 fileName?","body":"<p>This one worked (whyever):</p>\n\n<pre><code>&lt;property name=\"filePattern\"&gt;${date:yyyy-MM-dd}&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15316178,"reputation":111,"user_id":11050016,"display_name":"Ravinda Dissanayake"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1549965951,"creation_date":1549965951,"answer_id":54647486,"question_id":35982475,"body_markdown":"Remove the filename attribute. It worked for me. (got the solution from: https://issues.apache.org/jira/browse/LOG4J2-1859) Here is my working configuration \r\n\r\n\r\n        &lt;RollingFile name=&quot;File&quot; filePattern=&quot;${basePath}/api_test_execution_log_%d{yyyy-MM-dd}_%d{HH-mm-ss}_%i.log&quot; immediateFlush=&quot;true&quot;&gt;\r\n           &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n            \r\n           &lt;Policies&gt;\r\n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;32 MB&quot; /&gt;\r\n                &lt;OnStartupTriggeringPolicy/&gt;\r\n           &lt;/Policies&gt;\r\n        &lt;/RollingFile&gt;","title":"How to use current date pattern in log4j2 fileName?","body":"<p>Remove the filename attribute. It worked for me. (got the solution from: <a href=\"https://issues.apache.org/jira/browse/LOG4J2-1859\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/LOG4J2-1859</a>) Here is my working configuration </p>\n\n<pre><code>    &lt;RollingFile name=\"File\" filePattern=\"${basePath}/api_test_execution_log_%d{yyyy-MM-dd}_%d{HH-mm-ss}_%i.log\" immediateFlush=\"true\"&gt;\n       &lt;PatternLayout pattern=\"%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n\"/&gt;\n\n       &lt;Policies&gt;\n            &lt;TimeBasedTriggeringPolicy interval=\"1\" modulate=\"true\"/&gt;\n            &lt;SizeBasedTriggeringPolicy size=\"32 MB\" /&gt;\n            &lt;OnStartupTriggeringPolicy/&gt;\n       &lt;/Policies&gt;\n    &lt;/RollingFile&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1619369,"reputation":193,"user_id":1496280,"display_name":"danieltc07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597151164,"creation_date":1597151164,"answer_id":63358793,"question_id":35982475,"body_markdown":"For those are using Log4j2 version 2.6.2 and below:\r\n\r\n&gt; The fileName is indeed a file name that never changes while the\r\n&gt; application is running. If you do not want this behavior upgrade to\r\n&gt; the latest version of Log4j 2 and do not specify the fileName\r\n&gt; attribute.\r\n\r\nFrom [https://issues.apache.org/jira/browse/LOG4J2-1859][1]\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/LOG4J2-1859","title":"How to use current date pattern in log4j2 fileName?","body":"<p>For those are using Log4j2 version 2.6.2 and below:</p>\n<blockquote>\n<p>The fileName is indeed a file name that never changes while the\napplication is running. If you do not want this behavior upgrade to\nthe latest version of Log4j 2 and do not specify the fileName\nattribute.</p>\n</blockquote>\n<p>From <a href=\"https://issues.apache.org/jira/browse/LOG4J2-1859\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/LOG4J2-1859</a></p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19777,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1666173563,"creation_date":1457943440,"question_id":35982475,"body_markdown":"```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration&gt;\r\n    &lt;Properties&gt;\r\n        &lt;property name=&quot;filePattern&quot;&gt;%d{yyyy-MM-dd}&lt;/property&gt;\r\n    &lt;/Properties&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;RollingFile name=&quot;TEST&quot;\r\n                     fileName=&quot;application-${filePattern}.log&quot;\r\n                     filePattern=&quot;application-${filePattern}-rolled.log&quot;&gt;\r\n            &lt;Policies&gt;\r\n                &lt;TimeBasedTriggeringPolicy modulate=&quot;true&quot;/&gt;\r\n            &lt;/Policies&gt;\r\n        &lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n    ...\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nI&#39;d like to use the current date directly in the written logfile. But the result of the configuration above is `application-%{yyyy-MM-dd}` as filename.\r\n\r\nWhy is the date placeholder not resolved?\r\nBy the way: the renamed file on midnight is properly renamed like `application-2016-03-13-rolled.log`. Why does it work there, but not in the current logfile?\r\n\r\nI&#39;m running  `tomcat 8` and `java 8`, if that matters.","title":"How to use current date pattern in log4j2 fileName?","body":"<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n    &lt;Properties&gt;\n        &lt;property name=&quot;filePattern&quot;&gt;%d{yyyy-MM-dd}&lt;/property&gt;\n    &lt;/Properties&gt;\n    &lt;Appenders&gt;\n        &lt;RollingFile name=&quot;TEST&quot;\n                     fileName=&quot;application-${filePattern}.log&quot;\n                     filePattern=&quot;application-${filePattern}-rolled.log&quot;&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy modulate=&quot;true&quot;/&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    ...\n&lt;/Configuration&gt;\n</code></pre>\n<p>I'd like to use the current date directly in the written logfile. But the result of the configuration above is <code>application-%{yyyy-MM-dd}</code> as filename.</p>\n<p>Why is the date placeholder not resolved?\nBy the way: the renamed file on midnight is properly renamed like <code>application-2016-03-13-rolled.log</code>. Why does it work there, but not in the current logfile?</p>\n<p>I'm running  <code>tomcat 8</code> and <code>java 8</code>, if that matters.</p>\n"},{"tags":["java","tree-traversal"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1645824245,"post_id":71270375,"comment_id":125981377,"body_markdown":"Can you give an example of the output your want for your traversal?","body":"Can you give an example of the output your want for your traversal?"}],"answers":[{"tags":[],"owner":{"account_id":9055663,"reputation":2527,"user_id":6744133,"display_name":"Oli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645833524,"creation_date":1645829523,"answer_id":71272528,"question_id":71270375,"body_markdown":"Firstly, your preorder traversal code traverses children in reverse order. When you push the children onto the stack in order, they get popped in reverse order, leading to incorrect behaviour. It should be something like this:\r\n\r\n```java\r\nstatic List&lt;Node&gt; preorderTraversal(Node root) {\r\n    List&lt;Node&gt; list = new ArrayList&lt;&gt;();\r\n    if (root == null) return list;\r\n    Stack&lt;Node&gt; stack = new Stack&lt;&gt;();\r\n    stack.push(root);\r\n\r\n    while (!stack.empty()) {\r\n        root = stack.pop();\r\n        list.add(root);\r\n\r\n        if (root.children != null) {\r\n            // iterate in reverse\r\n            for (int i = root.children.size() - 1; i &gt;= 0; i--) {\r\n                Node child = root.children.get(i);\r\n                if (child != null) {\r\n                    stack.push(child);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return list;\r\n}\r\n```\r\n\r\nBefore we look at modified preorder traversal, it is helpful to look at how to implement preorder traversal recursively:\r\n\r\n```java\r\nstatic List&lt;Node&gt; preorderTraversalRecursive(Node root) {\r\n    ArrayList&lt;Node&gt; outList = new ArrayList&lt;&gt;();\r\n    preorderTraversalRecursive(root, outList);\r\n    return outList;\r\n}\r\n\r\nprivate static void preorderTraversalRecursive(Node root, ArrayList&lt;Node&gt; outList) {\r\n    if (root == null) {\r\n        return;\r\n    }\r\n    outList.add(root);\r\n\r\n    if (root.children != null) {\r\n        for (Node child : root.children) {\r\n            preorderTraversalRecursive(child, outList);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis code simple outputs a node before traversing its children.\r\n\r\nTo make this into a modified preorder traversal, you only need to keep track of a counter that is incremented before and after every node is processed, and record it before and after the children are processed in order to get `left` and `right` values. Here, the current `count` is returned by the method so that it can be changed during processing of child nodes and this updated value used for their parents&#39; `right` value:\r\n\r\n```java\r\nstatic List&lt;MPTTNode&gt; modifiedPreorderTraversalRecursive(Node root) {\r\n    ArrayList&lt;MPTTNode&gt; outList = new ArrayList&lt;&gt;();\r\n    modifiedPreorderTraversalRecursive(root, 0, outList);\r\n    return outList;\r\n}\r\n\r\nprivate static int modifiedPreorderTraversalRecursive(Node root, int counter, ArrayList&lt;MPTTNode&gt; outList) {\r\n    if (root == null) {\r\n        return counter;\r\n    }\r\n    counter++;\r\n    MPTTNode mpttNode = new MPTTNode(root.data, counter, 0); // right value is unknown, leave as 0 for now\r\n    outList.add(mpttNode);\r\n\r\n    if (root.children != null) {\r\n        for (Node child : root.children) {\r\n            // modify counter\r\n            counter = modifiedPreorderTraversalRecursive(child, counter, outList);\r\n        }\r\n    }\r\n    counter++;\r\n\r\n    mpttNode.right = counter;\r\n\r\n    return counter;\r\n}\r\n```\r\n\r\nThis can also be implemented iteratively:\r\n\r\n```java\r\nstatic List&lt;MPTTNode&gt; modifiedPreorderTraversal(Node root) {\r\n    List&lt;MPTTNode&gt; list = new ArrayList&lt;&gt;();\r\n    if (root == null) return list;\r\n    Stack&lt;Node&gt; stack = new Stack&lt;&gt;();\r\n    Stack&lt;Integer&gt; pending = new Stack&lt;&gt;();\r\n    stack.push(root);\r\n\r\n    int counter = 0;\r\n    while (!stack.empty()) {\r\n        root = stack.pop();\r\n        if (root == null) {\r\n            int nodeIndex = pending.pop();\r\n            counter++;\r\n            list.get(nodeIndex).right = counter;\r\n            continue;\r\n        }\r\n        counter++;\r\n        pending.push(list.size());\r\n        list.add(new MPTTNode(root.data, counter, 0)); // right value is unknown, leave as 0 for now\r\n\r\n\r\n        stack.push(null);\r\n        if (root.children != null) {\r\n            // iterate in reverse\r\n            for (int i = root.children.size() - 1; i &gt;= 0; i--) {\r\n                Node child = root.children.get(i);\r\n                if (child != null) {\r\n                    stack.push(child);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return list;\r\n}\r\n```\r\nThis works by using a `pending` stack to keep track of the indices of parent nodes within the output list (`list`). It uses `null` values in the `stack` stack to signal that all children of a node have been processed and so the `right` value of their parent is known.\r\n\r\n---\r\n\r\nHere&#39;s all my code, including the same example tree as is used in the linked question:\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Node tree = new Node(&quot;Electronics&quot;,\r\n                Arrays.asList(\r\n                        new Node(&quot;Televisions&quot;,\r\n                                Arrays.asList(\r\n                                        new Node(&quot;Tube&quot;),\r\n                                        new Node(&quot;LCD&quot;),\r\n                                        new Node(&quot;Plasma&quot;)\r\n                                )\r\n                        ),\r\n                        new Node(&quot;Portable Electronics&quot;,\r\n                                Arrays.asList(\r\n                                        new Node(&quot;MP3 Players&quot;, Collections.singletonList(\r\n                                                new Node(&quot;Flash&quot;)\r\n                                        )),\r\n                                        new Node(&quot;CD Players&quot;),\r\n                                        new Node(&quot;2 Way Radios&quot;)\r\n                                )\r\n                        )\r\n                )\r\n        );\r\n\r\n        List&lt;MPTTNode&gt; list1 = Node.modifiedPreorderTraversal(tree);\r\n        List&lt;MPTTNode&gt; list2 = Node.modifiedPreorderTraversalRecursive(tree);\r\n\r\n        if (!list1.equals(list2)) {\r\n            throw new RuntimeException(&quot;Traversals not equal&quot;);\r\n        }\r\n\r\n        for (var node : list1) {\r\n            System.out.printf(&quot;%-30s left:%5d, right:%5d\\n&quot;, node.data, node.left, node.right);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Stack;\r\n\r\npublic class Node {\r\n    String data;\r\n    List&lt;Node&gt; children;\r\n\r\n    public Node(String data, List&lt;Node&gt; children) {\r\n        this.data = data;\r\n        this.children = children;\r\n    }\r\n\r\n    public Node(String data) {\r\n        this.data = data;\r\n    }\r\n\r\n    static List&lt;Node&gt; preorderTraversal(Node root) {\r\n        List&lt;Node&gt; list = new ArrayList&lt;&gt;();\r\n        if (root == null) return list;\r\n        Stack&lt;Node&gt; stack = new Stack&lt;&gt;();\r\n        stack.push(root);\r\n\r\n        while (!stack.empty()) {\r\n            root = stack.pop();\r\n            list.add(root);\r\n\r\n            if (root.children != null) {\r\n                // iterate in reverse\r\n                for (int i = root.children.size() - 1; i &gt;= 0; i--) {\r\n                    Node child = root.children.get(i);\r\n                    if (child != null) {\r\n                        stack.push(child);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return list;\r\n    }\r\n\r\n    static List&lt;MPTTNode&gt; modifiedPreorderTraversal(Node root) {\r\n        List&lt;MPTTNode&gt; list = new ArrayList&lt;&gt;();\r\n        if (root == null) return list;\r\n        Stack&lt;Node&gt; stack = new Stack&lt;&gt;();\r\n        Stack&lt;Integer&gt; pending = new Stack&lt;&gt;();\r\n        stack.push(root);\r\n\r\n        int counter = 0;\r\n        while (!stack.empty()) {\r\n            root = stack.pop();\r\n            if (root == null) {\r\n                int nodeIndex = pending.pop();\r\n                counter++;\r\n                list.get(nodeIndex).right = counter;\r\n                continue;\r\n            }\r\n            counter++;\r\n            pending.push(list.size());\r\n            list.add(new MPTTNode(root.data, counter, 0)); // right value is unknown, leave as 0 for now\r\n\r\n\r\n            stack.push(null);\r\n            if (root.children != null) {\r\n                // iterate in reverse\r\n                for (int i = root.children.size() - 1; i &gt;= 0; i--) {\r\n                    Node child = root.children.get(i);\r\n                    if (child != null) {\r\n                        stack.push(child);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return list;\r\n    }\r\n\r\n    static List&lt;Node&gt; preorderTraversalRecursive(Node root) {\r\n        ArrayList&lt;Node&gt; outList = new ArrayList&lt;&gt;();\r\n        preorderTraversalRecursive(root, outList);\r\n        return outList;\r\n    }\r\n\r\n    private static void preorderTraversalRecursive(Node root, ArrayList&lt;Node&gt; outList) {\r\n        if (root == null) {\r\n            return;\r\n        }\r\n        outList.add(root);\r\n\r\n        if (root.children != null) {\r\n            for (Node child : root.children) {\r\n                preorderTraversalRecursive(child, outList);\r\n            }\r\n        }\r\n    }\r\n    static List&lt;MPTTNode&gt; modifiedPreorderTraversalRecursive(Node root) {\r\n        ArrayList&lt;MPTTNode&gt; outList = new ArrayList&lt;&gt;();\r\n        modifiedPreorderTraversalRecursive(root, 0, outList);\r\n        return outList;\r\n    }\r\n\r\n    private static int modifiedPreorderTraversalRecursive(Node root, int counter, ArrayList&lt;MPTTNode&gt; outList) {\r\n        if (root == null) {\r\n            return counter;\r\n        }\r\n        counter++;\r\n        MPTTNode mpttNode = new MPTTNode(root.data, counter, 0);\r\n        outList.add(mpttNode);\r\n\r\n        if (root.children != null) {\r\n            for (Node child : root.children) {\r\n                counter = modifiedPreorderTraversalRecursive(child, counter, outList);\r\n            }\r\n        }\r\n        counter++;\r\n\r\n        mpttNode.right = counter;\r\n\r\n        return counter;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nimport java.util.Objects;\r\n\r\npublic class MPTTNode {\r\n    String data;\r\n    int left;\r\n    int right;\r\n\r\n    public MPTTNode(String data, int left, int right) {\r\n        this.data = data;\r\n        this.left = left;\r\n        this.right = right;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        MPTTNode mpttNode = (MPTTNode) o;\r\n        return left == mpttNode.left &amp;&amp; right == mpttNode.right &amp;&amp; Objects.equals(data, mpttNode.data);\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```lang-none\r\nElectronics                    left:    1, right:   20\r\nTelevisions                    left:    2, right:    9\r\nTube                           left:    3, right:    4\r\nLCD                            left:    5, right:    6\r\nPlasma                         left:    7, right:    8\r\nPortable Electronics           left:   10, right:   19\r\nMP3 Players                    left:   11, right:   14\r\nFlash                          left:   12, right:   13\r\nCD Players                     left:   15, right:   16\r\n2 Way Radios                   left:   17, right:   18\r\n```\r\n","title":"Algorithm for Modified Preorder Tree Traversal in Java","body":"<p>Firstly, your preorder traversal code traverses children in reverse order. When you push the children onto the stack in order, they get popped in reverse order, leading to incorrect behaviour. It should be something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static List&lt;Node&gt; preorderTraversal(Node root) {\n    List&lt;Node&gt; list = new ArrayList&lt;&gt;();\n    if (root == null) return list;\n    Stack&lt;Node&gt; stack = new Stack&lt;&gt;();\n    stack.push(root);\n\n    while (!stack.empty()) {\n        root = stack.pop();\n        list.add(root);\n\n        if (root.children != null) {\n            // iterate in reverse\n            for (int i = root.children.size() - 1; i &gt;= 0; i--) {\n                Node child = root.children.get(i);\n                if (child != null) {\n                    stack.push(child);\n                }\n            }\n        }\n    }\n    return list;\n}\n</code></pre>\n<p>Before we look at modified preorder traversal, it is helpful to look at how to implement preorder traversal recursively:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static List&lt;Node&gt; preorderTraversalRecursive(Node root) {\n    ArrayList&lt;Node&gt; outList = new ArrayList&lt;&gt;();\n    preorderTraversalRecursive(root, outList);\n    return outList;\n}\n\nprivate static void preorderTraversalRecursive(Node root, ArrayList&lt;Node&gt; outList) {\n    if (root == null) {\n        return;\n    }\n    outList.add(root);\n\n    if (root.children != null) {\n        for (Node child : root.children) {\n            preorderTraversalRecursive(child, outList);\n        }\n    }\n}\n</code></pre>\n<p>This code simple outputs a node before traversing its children.</p>\n<p>To make this into a modified preorder traversal, you only need to keep track of a counter that is incremented before and after every node is processed, and record it before and after the children are processed in order to get <code>left</code> and <code>right</code> values. Here, the current <code>count</code> is returned by the method so that it can be changed during processing of child nodes and this updated value used for their parents' <code>right</code> value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static List&lt;MPTTNode&gt; modifiedPreorderTraversalRecursive(Node root) {\n    ArrayList&lt;MPTTNode&gt; outList = new ArrayList&lt;&gt;();\n    modifiedPreorderTraversalRecursive(root, 0, outList);\n    return outList;\n}\n\nprivate static int modifiedPreorderTraversalRecursive(Node root, int counter, ArrayList&lt;MPTTNode&gt; outList) {\n    if (root == null) {\n        return counter;\n    }\n    counter++;\n    MPTTNode mpttNode = new MPTTNode(root.data, counter, 0); // right value is unknown, leave as 0 for now\n    outList.add(mpttNode);\n\n    if (root.children != null) {\n        for (Node child : root.children) {\n            // modify counter\n            counter = modifiedPreorderTraversalRecursive(child, counter, outList);\n        }\n    }\n    counter++;\n\n    mpttNode.right = counter;\n\n    return counter;\n}\n</code></pre>\n<p>This can also be implemented iteratively:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static List&lt;MPTTNode&gt; modifiedPreorderTraversal(Node root) {\n    List&lt;MPTTNode&gt; list = new ArrayList&lt;&gt;();\n    if (root == null) return list;\n    Stack&lt;Node&gt; stack = new Stack&lt;&gt;();\n    Stack&lt;Integer&gt; pending = new Stack&lt;&gt;();\n    stack.push(root);\n\n    int counter = 0;\n    while (!stack.empty()) {\n        root = stack.pop();\n        if (root == null) {\n            int nodeIndex = pending.pop();\n            counter++;\n            list.get(nodeIndex).right = counter;\n            continue;\n        }\n        counter++;\n        pending.push(list.size());\n        list.add(new MPTTNode(root.data, counter, 0)); // right value is unknown, leave as 0 for now\n\n\n        stack.push(null);\n        if (root.children != null) {\n            // iterate in reverse\n            for (int i = root.children.size() - 1; i &gt;= 0; i--) {\n                Node child = root.children.get(i);\n                if (child != null) {\n                    stack.push(child);\n                }\n            }\n        }\n    }\n    return list;\n}\n</code></pre>\n<p>This works by using a <code>pending</code> stack to keep track of the indices of parent nodes within the output list (<code>list</code>). It uses <code>null</code> values in the <code>stack</code> stack to signal that all children of a node have been processed and so the <code>right</code> value of their parent is known.</p>\n<hr />\n<p>Here's all my code, including the same example tree as is used in the linked question:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\n\n\npublic class Main {\n    public static void main(String[] args) {\n        Node tree = new Node(&quot;Electronics&quot;,\n                Arrays.asList(\n                        new Node(&quot;Televisions&quot;,\n                                Arrays.asList(\n                                        new Node(&quot;Tube&quot;),\n                                        new Node(&quot;LCD&quot;),\n                                        new Node(&quot;Plasma&quot;)\n                                )\n                        ),\n                        new Node(&quot;Portable Electronics&quot;,\n                                Arrays.asList(\n                                        new Node(&quot;MP3 Players&quot;, Collections.singletonList(\n                                                new Node(&quot;Flash&quot;)\n                                        )),\n                                        new Node(&quot;CD Players&quot;),\n                                        new Node(&quot;2 Way Radios&quot;)\n                                )\n                        )\n                )\n        );\n\n        List&lt;MPTTNode&gt; list1 = Node.modifiedPreorderTraversal(tree);\n        List&lt;MPTTNode&gt; list2 = Node.modifiedPreorderTraversalRecursive(tree);\n\n        if (!list1.equals(list2)) {\n            throw new RuntimeException(&quot;Traversals not equal&quot;);\n        }\n\n        for (var node : list1) {\n            System.out.printf(&quot;%-30s left:%5d, right:%5d\\n&quot;, node.data, node.left, node.right);\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Stack;\n\npublic class Node {\n    String data;\n    List&lt;Node&gt; children;\n\n    public Node(String data, List&lt;Node&gt; children) {\n        this.data = data;\n        this.children = children;\n    }\n\n    public Node(String data) {\n        this.data = data;\n    }\n\n    static List&lt;Node&gt; preorderTraversal(Node root) {\n        List&lt;Node&gt; list = new ArrayList&lt;&gt;();\n        if (root == null) return list;\n        Stack&lt;Node&gt; stack = new Stack&lt;&gt;();\n        stack.push(root);\n\n        while (!stack.empty()) {\n            root = stack.pop();\n            list.add(root);\n\n            if (root.children != null) {\n                // iterate in reverse\n                for (int i = root.children.size() - 1; i &gt;= 0; i--) {\n                    Node child = root.children.get(i);\n                    if (child != null) {\n                        stack.push(child);\n                    }\n                }\n            }\n        }\n        return list;\n    }\n\n    static List&lt;MPTTNode&gt; modifiedPreorderTraversal(Node root) {\n        List&lt;MPTTNode&gt; list = new ArrayList&lt;&gt;();\n        if (root == null) return list;\n        Stack&lt;Node&gt; stack = new Stack&lt;&gt;();\n        Stack&lt;Integer&gt; pending = new Stack&lt;&gt;();\n        stack.push(root);\n\n        int counter = 0;\n        while (!stack.empty()) {\n            root = stack.pop();\n            if (root == null) {\n                int nodeIndex = pending.pop();\n                counter++;\n                list.get(nodeIndex).right = counter;\n                continue;\n            }\n            counter++;\n            pending.push(list.size());\n            list.add(new MPTTNode(root.data, counter, 0)); // right value is unknown, leave as 0 for now\n\n\n            stack.push(null);\n            if (root.children != null) {\n                // iterate in reverse\n                for (int i = root.children.size() - 1; i &gt;= 0; i--) {\n                    Node child = root.children.get(i);\n                    if (child != null) {\n                        stack.push(child);\n                    }\n                }\n            }\n        }\n        return list;\n    }\n\n    static List&lt;Node&gt; preorderTraversalRecursive(Node root) {\n        ArrayList&lt;Node&gt; outList = new ArrayList&lt;&gt;();\n        preorderTraversalRecursive(root, outList);\n        return outList;\n    }\n\n    private static void preorderTraversalRecursive(Node root, ArrayList&lt;Node&gt; outList) {\n        if (root == null) {\n            return;\n        }\n        outList.add(root);\n\n        if (root.children != null) {\n            for (Node child : root.children) {\n                preorderTraversalRecursive(child, outList);\n            }\n        }\n    }\n    static List&lt;MPTTNode&gt; modifiedPreorderTraversalRecursive(Node root) {\n        ArrayList&lt;MPTTNode&gt; outList = new ArrayList&lt;&gt;();\n        modifiedPreorderTraversalRecursive(root, 0, outList);\n        return outList;\n    }\n\n    private static int modifiedPreorderTraversalRecursive(Node root, int counter, ArrayList&lt;MPTTNode&gt; outList) {\n        if (root == null) {\n            return counter;\n        }\n        counter++;\n        MPTTNode mpttNode = new MPTTNode(root.data, counter, 0);\n        outList.add(mpttNode);\n\n        if (root.children != null) {\n            for (Node child : root.children) {\n                counter = modifiedPreorderTraversalRecursive(child, counter, outList);\n            }\n        }\n        counter++;\n\n        mpttNode.right = counter;\n\n        return counter;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Objects;\n\npublic class MPTTNode {\n    String data;\n    int left;\n    int right;\n\n    public MPTTNode(String data, int left, int right) {\n        this.data = data;\n        this.left = left;\n        this.right = right;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        MPTTNode mpttNode = (MPTTNode) o;\n        return left == mpttNode.left &amp;&amp; right == mpttNode.right &amp;&amp; Objects.equals(data, mpttNode.data);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Electronics                    left:    1, right:   20\nTelevisions                    left:    2, right:    9\nTube                           left:    3, right:    4\nLCD                            left:    5, right:    6\nPlasma                         left:    7, right:    8\nPortable Electronics           left:   10, right:   19\nMP3 Players                    left:   11, right:   14\nFlash                          left:   12, right:   13\nCD Players                     left:   15, right:   16\n2 Way Radios                   left:   17, right:   18\n</code></pre>\n"}],"owner":{"account_id":512425,"reputation":287,"user_id":2647867,"accept_rate":43,"display_name":"Student"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666173394,"creation_date":1645814423,"question_id":71270375,"body_markdown":"In the spirit of https://stackoverflow.com/questions/3623645/how-to-repair-a-corrupted-mptt-tree-nested-set-in-the-database-using-sql, I am trying to figure out an algorithm to determine the left and right values of a Modified Preorder Tree Traversal in Java given a root Node. Does anyone have any experience converting a regular pre order traversal into the modified traversal? \r\n\r\nI currently have this as my preorder traversal.\r\n```\r\nList&lt;Node&gt; preorderTraversal(Node root) {\r\n    List&lt;Node&gt; list = new ArrayList&lt;&gt;();\r\n    if(root == null) return list;\r\n    Stack&lt;Node&gt; stack = new Stack&lt;&gt;();\r\n    stack.push(root);\r\n\r\n    while(!stack.empty()) {\r\n        root = stack.pop();\r\n        list.add(root);\r\n\r\n        if(root.children != null) {\r\n            for(Node child : root.children) {\r\n                if(child != null) {\r\n                    stack.push(child);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return list;\r\n}\r\n```","title":"Algorithm for Modified Preorder Tree Traversal in Java","body":"<p>In the spirit of <a href=\"https://stackoverflow.com/questions/3623645/how-to-repair-a-corrupted-mptt-tree-nested-set-in-the-database-using-sql\">How to repair a corrupted MPTT tree (nested set) in the database using SQL?</a>, I am trying to figure out an algorithm to determine the left and right values of a Modified Preorder Tree Traversal in Java given a root Node. Does anyone have any experience converting a regular pre order traversal into the modified traversal?</p>\n<p>I currently have this as my preorder traversal.</p>\n<pre><code>List&lt;Node&gt; preorderTraversal(Node root) {\n    List&lt;Node&gt; list = new ArrayList&lt;&gt;();\n    if(root == null) return list;\n    Stack&lt;Node&gt; stack = new Stack&lt;&gt;();\n    stack.push(root);\n\n    while(!stack.empty()) {\n        root = stack.pop();\n        list.add(root);\n\n        if(root.children != null) {\n            for(Node child : root.children) {\n                if(child != null) {\n                    stack.push(child);\n                }\n            }\n        }\n    }\n    return list;\n}\n</code></pre>\n"},{"tags":["java","spring","project-reactor","blocking","spring-cloud-gateway"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1664455738,"post_id":73894468,"comment_id":130479169,"body_markdown":"No it won&#39;t as it is still blocking underneath whereas R2DBC isn&#39;t. It will exhuast the pool, create additional threads, basically you are loosing what you want to achieve with reactive programming. There is a reason why it is not recommended to use JDBC (and JPA for that matter) in a reactive application due to the inherent blocking nature of those technologies.","body":"No it won&#39;t as it is still blocking underneath whereas R2DBC isn&#39;t. It will exhuast the pool, create additional threads, basically you are loosing what you want to achieve with reactive programming. There is a reason why it is not recommended to use JDBC (and JPA for that matter) in a reactive application due to the inherent blocking nature of those technologies."}],"answers":[{"tags":[],"owner":{"account_id":11471404,"reputation":180,"user_id":8408114,"display_name":"Khepu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666172805,"creation_date":1666172805,"answer_id":74123242,"question_id":73894468,"body_markdown":"I have used both approaches in production, wrapped JDBC calls and pure R2DBC. They were different applications so I won&#39;t speak to the performance because there are other parameters that affect it a lot, e.g. existence of ORM.\r\n\r\nYour approach is mostly correct but it does have a few issues. The first one is that you are currently &quot;leaking&quot; the scheduler outside of your repository, which means that any stream that connects to it will now run your code on the bounded elastic scheduler that you want to use for your DB calls. This will eventually lead to a nasty deadlock. Make sure to define an output scheduler (parallel or single) and transfer execution there before leaving the repository. \r\n\r\nThe other issue I see here is that your implementation will not play well with retry and repeat mechanisms. Using any of those would not cause a DB call to be made but instead, use the data that was fetched previously. Use `Mono.defer` to fix that:\r\n\r\n```java\r\n    public Mono&lt;String&gt; getSomeData(){\r\n        return Mono.defer(() -&gt; Mono.fromCallable(\r\n                () -&gt; template.queryForObject(SOME_SQL_QUERY, String.class)))\r\n           .subscribeOn(Schedulers.boundedElastic())\r\n           .publishOn(Schedulers.parallel());\r\n    }\r\n```\r\n\r\nUsing the default schedulers is fine for small applications but for more involved projects it would be better to have a dedicated DB bounded elastic and a parameterized output scheduler.\r\n\r\nThe last issue, which was a pain to figure out, is that your JDBC threadpool should be the same size as the boundedElastic used for the db calls. Otherwise some calls &quot;go missing&quot; under a lot of stress.\r\n\r\nI hope this helps!","title":"Spring gateway: Wrapping blocking calls with Mono.fromCallable()","body":"<p>I have used both approaches in production, wrapped JDBC calls and pure R2DBC. They were different applications so I won't speak to the performance because there are other parameters that affect it a lot, e.g. existence of ORM.</p>\n<p>Your approach is mostly correct but it does have a few issues. The first one is that you are currently &quot;leaking&quot; the scheduler outside of your repository, which means that any stream that connects to it will now run your code on the bounded elastic scheduler that you want to use for your DB calls. This will eventually lead to a nasty deadlock. Make sure to define an output scheduler (parallel or single) and transfer execution there before leaving the repository.</p>\n<p>The other issue I see here is that your implementation will not play well with retry and repeat mechanisms. Using any of those would not cause a DB call to be made but instead, use the data that was fetched previously. Use <code>Mono.defer</code> to fix that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Mono&lt;String&gt; getSomeData(){\n        return Mono.defer(() -&gt; Mono.fromCallable(\n                () -&gt; template.queryForObject(SOME_SQL_QUERY, String.class)))\n           .subscribeOn(Schedulers.boundedElastic())\n           .publishOn(Schedulers.parallel());\n    }\n</code></pre>\n<p>Using the default schedulers is fine for small applications but for more involved projects it would be better to have a dedicated DB bounded elastic and a parameterized output scheduler.</p>\n<p>The last issue, which was a pain to figure out, is that your JDBC threadpool should be the same size as the boundedElastic used for the db calls. Otherwise some calls &quot;go missing&quot; under a lot of stress.</p>\n<p>I hope this helps!</p>\n"}],"owner":{"account_id":7066200,"reputation":43,"user_id":5569569,"display_name":"martino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74123242,"answer_count":1,"score":2,"last_activity_date":1666172805,"creation_date":1664449449,"question_id":73894468,"body_markdown":"The scenario: In my Spring cloud gateway I need to modify the request based on some data persisted in my database. Therefore I am implementing a gateway-filter. Consider the following implementations:\r\n\r\nRepository Interface:\r\n```lang-java\r\npublic interface MyReactiveRepository{\r\n    Mono&lt;String&gt; getSomeData();\r\n}\r\n```\r\n\r\nRepository implementation:\r\n\r\n```lang-java\r\n@Repository\r\npublic class MyReactiveRepositoryImpl implements MyReactiveRepository\r\n{\r\n    private final JdbcTemplate template;\r\n\r\n    public MyReactiveRepositoryImpl(@Autowired JdbcTemplate template){\r\n        this.template = template;\r\n    }\r\n\r\n    @Override\r\n    public Mono&lt;String&gt; getSomeData(){\r\n        return Mono.fromCallable(\r\n            // Wrapping blocking code in a Mono:\r\n            () -&gt; template.queryForObject(SOME_SQL_QUERY, String.class)\r\n        ).subscribeOn(Schedulers.boundedElastic());\r\n    }\r\n}\r\n```\r\n\r\nAnd the filter:\r\n```lang-java\r\n@Component\r\npublic class MyGatewayFilter implements GatewayFilter\r\n{\r\n    private final MyReactiveRepository repository;\r\n\r\n    public MyGatewayFilter(@Autowired MyReactiveRepository repository){\r\n        this.repository = repository;\r\n    }\r\n\r\n    @Override\r\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain){\r\n        return repository.getSomeData()\r\n            .flatMap(\r\n                (repositoryData) -&gt; {\r\n                    // Modify the exchange based on the repository data in some way...\r\n                    // Then return\r\n                    return chain.filter(exchange);\r\n                }\r\n            );\r\n    }\r\n}\r\n```\r\nThe key here is that I have the blocking JDBCTemplate which I am &quot;attempting&quot; to make non-blocking as to preserve the non-blocking nature of the spring gateway. Naturally, I could make use of Spring R2DBC, but by Googling I have gotten the impression that the&quot;Mono.fromCallable+BoundedElastic-scheduler&quot;-trick also will work.\r\n\r\nMy question is whether or not my implementation actually will have the same performance compared to an implementation making use of R2DBC: What are the disadvantages of my implementation?\r\n\r\nThank you\r\n\r\n**Edit**: I first saw the &quot;fromCallable&quot; pattern at the [project reactor FAQ](https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking) so I would assume that there are scenarios where it is acceptable?","title":"Spring gateway: Wrapping blocking calls with Mono.fromCallable()","body":"<p>The scenario: In my Spring cloud gateway I need to modify the request based on some data persisted in my database. Therefore I am implementing a gateway-filter. Consider the following implementations:</p>\n<p>Repository Interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyReactiveRepository{\n    Mono&lt;String&gt; getSomeData();\n}\n</code></pre>\n<p>Repository implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic class MyReactiveRepositoryImpl implements MyReactiveRepository\n{\n    private final JdbcTemplate template;\n\n    public MyReactiveRepositoryImpl(@Autowired JdbcTemplate template){\n        this.template = template;\n    }\n\n    @Override\n    public Mono&lt;String&gt; getSomeData(){\n        return Mono.fromCallable(\n            // Wrapping blocking code in a Mono:\n            () -&gt; template.queryForObject(SOME_SQL_QUERY, String.class)\n        ).subscribeOn(Schedulers.boundedElastic());\n    }\n}\n</code></pre>\n<p>And the filter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class MyGatewayFilter implements GatewayFilter\n{\n    private final MyReactiveRepository repository;\n\n    public MyGatewayFilter(@Autowired MyReactiveRepository repository){\n        this.repository = repository;\n    }\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain){\n        return repository.getSomeData()\n            .flatMap(\n                (repositoryData) -&gt; {\n                    // Modify the exchange based on the repository data in some way...\n                    // Then return\n                    return chain.filter(exchange);\n                }\n            );\n    }\n}\n</code></pre>\n<p>The key here is that I have the blocking JDBCTemplate which I am &quot;attempting&quot; to make non-blocking as to preserve the non-blocking nature of the spring gateway. Naturally, I could make use of Spring R2DBC, but by Googling I have gotten the impression that the&quot;Mono.fromCallable+BoundedElastic-scheduler&quot;-trick also will work.</p>\n<p>My question is whether or not my implementation actually will have the same performance compared to an implementation making use of R2DBC: What are the disadvantages of my implementation?</p>\n<p>Thank you</p>\n<p><strong>Edit</strong>: I first saw the &quot;fromCallable&quot; pattern at the <a href=\"https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking\" rel=\"nofollow noreferrer\">project reactor FAQ</a> so I would assume that there are scenarios where it is acceptable?</p>\n"},{"tags":["java","spring-boot","jms"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1656596702,"post_id":72815680,"comment_id":128615782,"body_markdown":"Where is this defined `weblogic.jms.backend.jms` , are you sure the ConnectionFactory in your weblogic configuration is named `ConnectionFactory`?","body":"Where is this defined <code>weblogic.jms.backend.jms</code> , are you sure the ConnectionFactory in your weblogic configuration is named <code>ConnectionFactory</code>?"},{"owner":{"account_id":3617395,"reputation":61,"user_id":3016930,"display_name":"Chris Romkema"},"score":0,"creation_date":1656911478,"post_id":72815680,"comment_id":128677419,"body_markdown":"Yes I am 100% sure that the name of the ConnectionFactory is correct and I have no idea where this `weblogic.jms.backend.jms` is defined. It is not within my application nor the only other application deployed on that WebLogic server.","body":"Yes I am 100% sure that the name of the ConnectionFactory is correct and I have no idea where this <code>weblogic.jms.backend.jms</code> is defined. It is not within my application nor the only other application deployed on that WebLogic server."}],"answers":[{"tags":[],"owner":{"account_id":3617395,"reputation":61,"user_id":3016930,"display_name":"Chris Romkema"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666172796,"creation_date":1666172796,"answer_id":74123240,"question_id":72815680,"body_markdown":"I have found the solution. This is a case where WebLogic does not return a ConnectionFactory that can be used to create a JmsTemplate in order to interact with JmsQueue&#39;s.\r\n\r\nThe solution is to not create a JmsTemplate from a supplied ConnectionFactory but to directly refer to a JmsTemplate.\r\n\r\n```java\r\n@Component\r\npublic class JmsMessageSender {\r\n\r\n    @Resource\r\n    private JmsTemplate jmsTemplate;\r\n\r\n    public JmsMessageSender() {\r\n        ...\r\n    }\r\n    ...\r\n```","title":"Trying to send a message to a queue on weblogic","body":"<p>I have found the solution. This is a case where WebLogic does not return a ConnectionFactory that can be used to create a JmsTemplate in order to interact with JmsQueue's.</p>\n<p>The solution is to not create a JmsTemplate from a supplied ConnectionFactory but to directly refer to a JmsTemplate.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class JmsMessageSender {\n\n    @Resource\n    private JmsTemplate jmsTemplate;\n\n    public JmsMessageSender() {\n        ...\n    }\n    ...\n</code></pre>\n"}],"owner":{"account_id":3617395,"reputation":61,"user_id":3016930,"display_name":"Chris Romkema"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":754,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74123240,"answer_count":1,"score":0,"last_activity_date":1666172796,"creation_date":1656591440,"question_id":72815680,"body_markdown":"I have a spring boot application that is deployed on a WebLogic server, on that server there is a JmsModule defined that I need to use to send messages.\r\n\r\nI have the following as my sending class:\r\n```\r\n@Component\r\npublic class JmsMessageSender {\r\n    @Value(&quot;${spring.jms.queue}&quot;)\r\n    private String jmsQueue;\r\n\r\n    public JmsMessageSender(ConnectionFactory connectionFactory) {\r\n        this.jmsTemplate = new JmsTemplate(connectionFactory);\r\n    }\r\n\r\n    public void send(Message message) {\r\n        jmsTemplate.convertAndSend(jmsQueue, message.getBody(), mess -&gt; {\r\n            log.info(&quot;setting standard JMS headers before sending&quot;);\r\n            mess.setJMSMessageID(determineMessageId(message));\r\n            return mess;\r\n        });\r\n    }\r\n...\r\n```\r\n\r\nThe queue has a JNDI name and is retrieved via spring properties, it&#39;s defined as:\r\n\r\n```\r\nspring:\r\n  jms:\r\n    jndi-name: jms/ConnectionFactory\r\n    queue: jms/ProcessEventQueue\r\n```\r\n\r\nWhen starting the application I see no errors&#39; in the log but when I try to access this piece of code the following error is shown:\r\n\r\n```\r\n2022-06-30T10:22:20,072 [ERROR] org.springframework.boot.web.servlet.support.ErrorPageFilter ([ACTIVE] ExecuteThread: &#39;19&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;) - Forwarding to error page from request [/ha] due to exception [Uncategorized exception occurred during JMS processing; nested exception is weblogic.jms.common.JMSException: [JMSExceptions:045103]While trying to find a topic or a queue, the specific JMS server requested could not be found. The linked exception may contain more information about the reason for failure.]\r\norg.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is weblogic.jms.common.JMSException: [JMSExceptions:045103]While trying to find a topic or a queue, the specific JMS server requested could not be found. The linked exception may contain more information about the reason for failure.\r\n\tat org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:311) ~[spring-jms-5.3.20.jar:5.3.20]\r\n\tat org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:185) ~[spring-jms-5.3.20.jar:5.3.20]\r\n\tat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:507) ~[spring-jms-5.3.20.jar:5.3.20]\r\n\tat org.springframework.jms.core.JmsTemplate.send(JmsTemplate.java:584) ~[spring-jms-5.3.20.jar:5.3.20]\r\n\tat org.springframework.jms.core.JmsTemplate.convertAndSend(JmsTemplate.java:691) ~[spring-jms-5.3.20.jar:5.3.20]\r\n...\r\nCaused by: javax.naming.NameNotFoundException: Unable to resolve &#39;weblogic.jms.backend.jms&#39;. Resolved &#39;weblogic.jms.backend&#39;\r\n\tat weblogic.jndi.internal.BasicNamingNode.newNameNotFoundException(BasicNamingNode.java:1292) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.BasicNamingNode.lookupHere(BasicNamingNode.java:354) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.ServerNamingNode.lookupHere(ServerNamingNode.java:227) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.BasicNamingNode.lookup(BasicNamingNode.java:214) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.ServerNamingNode.lookup(ServerNamingNode.java:532) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.BasicNamingNode.lookup(BasicNamingNode.java:228) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.ServerNamingNode.lookup(ServerNamingNode.java:532) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.BasicNamingNode.lookup(BasicNamingNode.java:228) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.ServerNamingNode.lookup(ServerNamingNode.java:532) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.BasicNamingNode.lookup(BasicNamingNode.java:228) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.ServerNamingNode.lookup(ServerNamingNode.java:532) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.RootNamingNode.lookup(RootNamingNode.java:84) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.WLEventContextImpl.lookup(WLEventContextImpl.java:307) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jndi.internal.WLContextImpl.lookup(WLContextImpl.java:435) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\r\n\tat weblogic.jms.frontend.FEManager.destinationCreate(FEManager.java:300) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\r\n\tat weblogic.jms.frontend.FEManager.invoke(FEManager.java:588) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\r\n\tat weblogic.messaging.dispatcher.Request.wrappedFiniteStateMachine(Request.java:1015) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\r\n\tat weblogic.messaging.dispatcher.DispatcherImpl.syncRequest(DispatcherImpl.java:256) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\r\n\tat weblogic.messaging.dispatcher.DispatcherImpl.dispatchSyncNoTran(DispatcherImpl.java:359) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\r\n\tat weblogic.jms.dispatcher.DispatcherAdapter.dispatchSyncNoTran(DispatcherAdapter.java:67) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\r\n\tat weblogic.messaging.dispatcher.CrossPartitionDispatcher.dispatchSyncNoTran(CrossPartitionDispatcher.java:64) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\r\n\tat weblogic.jms.client.JMSSession.createDestination(JMSSession.java:3460) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\r\n\tat weblogic.jms.client.JMSSession.createQueue(JMSSession.java:2749) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\r\n\tat weblogic.jms.client.WLSessionImpl.createQueue(WLSessionImpl.java:945) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\r\n\tat org.springframework.jms.support.destination.DynamicDestinationResolver.resolveQueue(DynamicDestinationResolver.java:85) ~[spring-jms-5.3.20.jar:5.3.20]\r\n\tat org.springframework.jms.support.destination.DynamicDestinationResolver.resolveDestinationName(DynamicDestinationResolver.java:59) ~[spring-jms-5.3.20.jar:5.3.20]\r\n\tat org.springframework.jms.support.destination.JmsDestinationAccessor.resolveDestinationName(JmsDestinationAccessor.java:115) ~[spring-jms-5.3.20.jar:5.3.20]\r\n\tat org.springframework.jms.core.JmsTemplate.lambda$send$3(JmsTemplate.java:585) ~[spring-jms-5.3.20.jar:5.3.20]\r\n\tat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:504) ~[spring-jms-5.3.20.jar:5.3.20]\r\n```\r\n\r\nI have verified that the correct property is retrieved and that it matches the JNDI name of the JmsModule in WebLogic. The web.xml and weblogic.xml are standard and do not contain anything related to JMS. Is there something that I&#39;m doing wrong/is missing?","title":"Trying to send a message to a queue on weblogic","body":"<p>I have a spring boot application that is deployed on a WebLogic server, on that server there is a JmsModule defined that I need to use to send messages.</p>\n<p>I have the following as my sending class:</p>\n<pre><code>@Component\npublic class JmsMessageSender {\n    @Value(&quot;${spring.jms.queue}&quot;)\n    private String jmsQueue;\n\n    public JmsMessageSender(ConnectionFactory connectionFactory) {\n        this.jmsTemplate = new JmsTemplate(connectionFactory);\n    }\n\n    public void send(Message message) {\n        jmsTemplate.convertAndSend(jmsQueue, message.getBody(), mess -&gt; {\n            log.info(&quot;setting standard JMS headers before sending&quot;);\n            mess.setJMSMessageID(determineMessageId(message));\n            return mess;\n        });\n    }\n...\n</code></pre>\n<p>The queue has a JNDI name and is retrieved via spring properties, it's defined as:</p>\n<pre><code>spring:\n  jms:\n    jndi-name: jms/ConnectionFactory\n    queue: jms/ProcessEventQueue\n</code></pre>\n<p>When starting the application I see no errors' in the log but when I try to access this piece of code the following error is shown:</p>\n<pre><code>2022-06-30T10:22:20,072 [ERROR] org.springframework.boot.web.servlet.support.ErrorPageFilter ([ACTIVE] ExecuteThread: '19' for queue: 'weblogic.kernel.Default (self-tuning)') - Forwarding to error page from request [/ha] due to exception [Uncategorized exception occurred during JMS processing; nested exception is weblogic.jms.common.JMSException: [JMSExceptions:045103]While trying to find a topic or a queue, the specific JMS server requested could not be found. The linked exception may contain more information about the reason for failure.]\norg.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is weblogic.jms.common.JMSException: [JMSExceptions:045103]While trying to find a topic or a queue, the specific JMS server requested could not be found. The linked exception may contain more information about the reason for failure.\n    at org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:311) ~[spring-jms-5.3.20.jar:5.3.20]\n    at org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:185) ~[spring-jms-5.3.20.jar:5.3.20]\n    at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:507) ~[spring-jms-5.3.20.jar:5.3.20]\n    at org.springframework.jms.core.JmsTemplate.send(JmsTemplate.java:584) ~[spring-jms-5.3.20.jar:5.3.20]\n    at org.springframework.jms.core.JmsTemplate.convertAndSend(JmsTemplate.java:691) ~[spring-jms-5.3.20.jar:5.3.20]\n...\nCaused by: javax.naming.NameNotFoundException: Unable to resolve 'weblogic.jms.backend.jms'. Resolved 'weblogic.jms.backend'\n    at weblogic.jndi.internal.BasicNamingNode.newNameNotFoundException(BasicNamingNode.java:1292) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.BasicNamingNode.lookupHere(BasicNamingNode.java:354) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.ServerNamingNode.lookupHere(ServerNamingNode.java:227) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.BasicNamingNode.lookup(BasicNamingNode.java:214) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.ServerNamingNode.lookup(ServerNamingNode.java:532) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.BasicNamingNode.lookup(BasicNamingNode.java:228) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.ServerNamingNode.lookup(ServerNamingNode.java:532) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.BasicNamingNode.lookup(BasicNamingNode.java:228) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.ServerNamingNode.lookup(ServerNamingNode.java:532) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.BasicNamingNode.lookup(BasicNamingNode.java:228) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.ServerNamingNode.lookup(ServerNamingNode.java:532) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.RootNamingNode.lookup(RootNamingNode.java:84) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.WLEventContextImpl.lookup(WLEventContextImpl.java:307) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jndi.internal.WLContextImpl.lookup(WLContextImpl.java:435) ~[com.oracle.weblogic.jndi.jar:12.2.1.4]\n    at weblogic.jms.frontend.FEManager.destinationCreate(FEManager.java:300) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\n    at weblogic.jms.frontend.FEManager.invoke(FEManager.java:588) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\n    at weblogic.messaging.dispatcher.Request.wrappedFiniteStateMachine(Request.java:1015) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\n    at weblogic.messaging.dispatcher.DispatcherImpl.syncRequest(DispatcherImpl.java:256) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\n    at weblogic.messaging.dispatcher.DispatcherImpl.dispatchSyncNoTran(DispatcherImpl.java:359) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\n    at weblogic.jms.dispatcher.DispatcherAdapter.dispatchSyncNoTran(DispatcherAdapter.java:67) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\n    at weblogic.messaging.dispatcher.CrossPartitionDispatcher.dispatchSyncNoTran(CrossPartitionDispatcher.java:64) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\n    at weblogic.jms.client.JMSSession.createDestination(JMSSession.java:3460) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\n    at weblogic.jms.client.JMSSession.createQueue(JMSSession.java:2749) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\n    at weblogic.jms.client.WLSessionImpl.createQueue(WLSessionImpl.java:945) ~[com.oracle.weblogic.jms.jar:12.2.1.4]\n    at org.springframework.jms.support.destination.DynamicDestinationResolver.resolveQueue(DynamicDestinationResolver.java:85) ~[spring-jms-5.3.20.jar:5.3.20]\n    at org.springframework.jms.support.destination.DynamicDestinationResolver.resolveDestinationName(DynamicDestinationResolver.java:59) ~[spring-jms-5.3.20.jar:5.3.20]\n    at org.springframework.jms.support.destination.JmsDestinationAccessor.resolveDestinationName(JmsDestinationAccessor.java:115) ~[spring-jms-5.3.20.jar:5.3.20]\n    at org.springframework.jms.core.JmsTemplate.lambda$send$3(JmsTemplate.java:585) ~[spring-jms-5.3.20.jar:5.3.20]\n    at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:504) ~[spring-jms-5.3.20.jar:5.3.20]\n</code></pre>\n<p>I have verified that the correct property is retrieved and that it matches the JNDI name of the JmsModule in WebLogic. The web.xml and weblogic.xml are standard and do not contain anything related to JMS. Is there something that I'm doing wrong/is missing?</p>\n"},{"tags":["java","groovy","graphql","jmeter","jmeter-5.0"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666171479,"creation_date":1666171479,"answer_id":74122939,"question_id":74122770,"body_markdown":"You need to [escape quotation marks][1] which you&#39;re getting from the CSV file\r\n\r\nYou&#39;re sending:\r\n\r\n    (input_data: [&quot;aqwedasd&quot;,&quot;aqwedasq&quot;])\r\n\r\nand it needs to be\r\n \r\n    (input_data: [\\&quot;aqwedasd\\&quot;,\\&quot;aqwedasq\\&quot;])\r\n\r\n\r\n\r\n\r\nMy expectation is that instead of `vars.putObject(&quot;listdata&quot;, listdata)` you need to do something like:\r\n\r\n    def json = new groovy.json.JsonBuilder(listdata).toString()\r\n    def escapedJson = org.apache.commons.text.StringEscapeUtils.escapeJson(json)\r\n    vars.put(&#39;listdata&#39;, escapedJson)\r\n\r\n\r\nMore information on Groovy scripting in JMeter: [Apache Groovy: What Is Groovy Used For?][2]\r\n\r\n    \r\n\r\n\r\n  [1]: https://www.edureka.co/community/23839/escaping-strings-in-json\r\n  [2]: https://www.blazemeter.com/blog/apache-groovy","title":"list of string formatting issue in request","body":"<p>You need to <a href=\"https://www.edureka.co/community/23839/escaping-strings-in-json\" rel=\"nofollow noreferrer\">escape quotation marks</a> which you're getting from the CSV file</p>\n<p>You're sending:</p>\n<pre><code>(input_data: [&quot;aqwedasd&quot;,&quot;aqwedasq&quot;])\n</code></pre>\n<p>and it needs to be</p>\n<pre><code>(input_data: [\\&quot;aqwedasd\\&quot;,\\&quot;aqwedasq\\&quot;])\n</code></pre>\n<p>My expectation is that instead of <code>vars.putObject(&quot;listdata&quot;, listdata)</code> you need to do something like:</p>\n<pre><code>def json = new groovy.json.JsonBuilder(listdata).toString()\ndef escapedJson = org.apache.commons.text.StringEscapeUtils.escapeJson(json)\nvars.put('listdata', escapedJson)\n</code></pre>\n<p>More information on Groovy scripting in JMeter: <a href=\"https://www.blazemeter.com/blog/apache-groovy\" rel=\"nofollow noreferrer\">Apache Groovy: What Is Groovy Used For?</a></p>\n"}],"owner":{"account_id":20320342,"reputation":41,"user_id":14905175,"display_name":"Gopirengaraj C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666172520,"creation_date":1666170847,"question_id":74122770,"body_markdown":"I&#39;m trying to load test my Graphql API using Jmeter&#39;s GraphQL HTTP Request. I&#39;m reading a CSV file in JSR223 preprocessor to create an ArrayList&lt;String&gt;. I&#39;m loading the ArrayList to the parameter. When I&#39;m using the parameter value, I get the error because of a formatting issue.\r\nQuery without using the parameter\r\n\r\n```\r\nquery MyQuery {\r\n  batchGetData(input_data: [&quot;aqwedasd&quot;,&quot;aqwedasq&quot;]) {\r\n    data {\r\n      value1\r\n      value2\r\n      value3\r\n    }\r\n  }\r\n}\r\n\r\n```\r\nThe body of JMeter request without the parameter. **The below request works fine without any issues.** \r\n```\r\nPOST https://example.com/graphql\r\n\r\nPOST data:\r\n{&quot;operationName&quot;:null,&quot;query&quot;:&quot;query MyQuery {\\n  batchGetData(input_data: [\\&quot;aqwedasd\\&quot;,\\&quot;aqwedasq\\&quot;]) {\\n    data {\\n      value1\\n      value2\\n      value3\\n    }\\n  }\\n}&quot;}\r\n\r\n[no cookies]\r\n```\r\n\r\nNow using the JSR223 preprocessor, I read a CSV file and created an ArrayList using the below script and added it to the **listdata** parameter. \r\n```\r\ndef rows = new File(&quot;values.csv&quot;).readLines()\r\nCollections.shuffle(rows)\r\nArrayList&lt;String&gt; listdata = new ArrayList&lt;String&gt;()\r\nlistdata  = rows.subList(0, 5)\r\nvars.putObject(&quot;listdata&quot;, listdata)\r\n```\r\n\r\nNow in my query I&#39;m using the above **listdata** parameter. \r\n\r\nGraphQL query:\r\n```\r\nquery MyQuery {\r\n  batchGetData(input_data: ${listdata}) {\r\n    data {\r\n      value1\r\n      value2\r\n      value3\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\nNow when I ran the thread group, the JMeter transforms the query into the below request body. This fails because it doesn&#39;t have **\\** like the previous request.\r\n```\r\nPOST https://example.com/graphql\r\n\r\nPOST data:\r\n{&quot;operationName&quot;:null,&quot;query&quot;:&quot;query MyQuery {\\n  batchGetData(input_data: [&quot;aqwedasd&quot;,&quot;aqwedasq&quot;]) {\\n    data {\\n      value1\\n      value2\\n      value3\\n    }\\n  }\\n}&quot;}\r\n\r\n[no cookies]\r\n```\r\nI&#39;m getting the below error for the above request\r\n```\r\n{\r\n  &quot;errors&quot; : [ {\r\n    &quot;message&quot; : &quot;Invalid JSON payload in GraphQLAuth POST request.&quot;,\r\n    &quot;errorType&quot; : &quot;MalformedHttpRequestException&quot;\r\n  } ]\r\n}\r\n```\r\n\r\nPlease let me know if I&#39;m doing something wrong. ","title":"list of string formatting issue in request","body":"<p>I'm trying to load test my Graphql API using Jmeter's GraphQL HTTP Request. I'm reading a CSV file in JSR223 preprocessor to create an ArrayList. I'm loading the ArrayList to the parameter. When I'm using the parameter value, I get the error because of a formatting issue.\nQuery without using the parameter</p>\n<pre><code>query MyQuery {\n  batchGetData(input_data: [&quot;aqwedasd&quot;,&quot;aqwedasq&quot;]) {\n    data {\n      value1\n      value2\n      value3\n    }\n  }\n}\n\n</code></pre>\n<p>The body of JMeter request without the parameter. <strong>The below request works fine without any issues.</strong></p>\n<pre><code>POST https://example.com/graphql\n\nPOST data:\n{&quot;operationName&quot;:null,&quot;query&quot;:&quot;query MyQuery {\\n  batchGetData(input_data: [\\&quot;aqwedasd\\&quot;,\\&quot;aqwedasq\\&quot;]) {\\n    data {\\n      value1\\n      value2\\n      value3\\n    }\\n  }\\n}&quot;}\n\n[no cookies]\n</code></pre>\n<p>Now using the JSR223 preprocessor, I read a CSV file and created an ArrayList using the below script and added it to the <strong>listdata</strong> parameter.</p>\n<pre><code>def rows = new File(&quot;values.csv&quot;).readLines()\nCollections.shuffle(rows)\nArrayList&lt;String&gt; listdata = new ArrayList&lt;String&gt;()\nlistdata  = rows.subList(0, 5)\nvars.putObject(&quot;listdata&quot;, listdata)\n</code></pre>\n<p>Now in my query I'm using the above <strong>listdata</strong> parameter.</p>\n<p>GraphQL query:</p>\n<pre><code>query MyQuery {\n  batchGetData(input_data: ${listdata}) {\n    data {\n      value1\n      value2\n      value3\n    }\n  }\n}\n\n</code></pre>\n<p>Now when I ran the thread group, the JMeter transforms the query into the below request body. This fails because it doesn't have *<em>*</em> like the previous request.</p>\n<pre><code>POST https://example.com/graphql\n\nPOST data:\n{&quot;operationName&quot;:null,&quot;query&quot;:&quot;query MyQuery {\\n  batchGetData(input_data: [&quot;aqwedasd&quot;,&quot;aqwedasq&quot;]) {\\n    data {\\n      value1\\n      value2\\n      value3\\n    }\\n  }\\n}&quot;}\n\n[no cookies]\n</code></pre>\n<p>I'm getting the below error for the above request</p>\n<pre><code>{\n  &quot;errors&quot; : [ {\n    &quot;message&quot; : &quot;Invalid JSON payload in GraphQLAuth POST request.&quot;,\n    &quot;errorType&quot; : &quot;MalformedHttpRequestException&quot;\n  } ]\n}\n</code></pre>\n<p>Please let me know if I'm doing something wrong.</p>\n"},{"tags":["java","json","spring","spring-boot"],"comments":[{"owner":{"account_id":8741282,"reputation":1956,"user_id":6538278,"display_name":"0009laH"},"score":1,"creation_date":1666169025,"post_id":74122332,"comment_id":130869431,"body_markdown":"`private String List&lt;Response&gt; value;` You&#39;re declaring `value` as a list and as a string, this is strange...","body":"<code>private String List&lt;Response&gt; value;</code> You&#39;re declaring <code>value</code> as a list and as a string, this is strange..."},{"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"score":0,"creation_date":1666169182,"post_id":74122332,"comment_id":130869489,"body_markdown":"your code does not compile!","body":"your code does not compile!"},{"owner":{"account_id":26668769,"reputation":1,"user_id":20280477,"display_name":"Daboo"},"score":0,"creation_date":1666170090,"post_id":74122332,"comment_id":130869829,"body_markdown":"Yes, it compiles but it gives 500 internal error on postman","body":"Yes, it compiles but it gives 500 internal error on postman"},{"owner":{"account_id":26668769,"reputation":1,"user_id":20280477,"display_name":"Daboo"},"score":0,"creation_date":1666170125,"post_id":74122332,"comment_id":130869839,"body_markdown":"private String List&lt;Response&gt; value sorry typo error it is -&gt; private List&lt;Response&gt; value;","body":"private String List&lt;Response&gt; value sorry typo error it is -&gt; private List&lt;Response&gt; value;"}],"answers":[{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666172466,"creation_date":1666171644,"answer_id":74122985,"question_id":74122332,"body_markdown":"*If I understood it correctly you are trying to return the `DetailsField` object after setting the `List&lt;Response&gt; res` which you are getting from the API so it seems you can have the `DetailsField` object as the return type instead of `List&lt;DetailsField&gt; list`*\r\n\r\n**Note:**  \r\n\r\n1) Replace the `Response.java` class with your required implementation.\r\n2) Replace the hardcoded list `res` with your actual API response.\r\n\r\n***You can try this approach:***\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            System.out.println(getDetails(&quot;1&quot;));\r\n        }\r\n    \r\n        public static DetailsField getDetails(String id){\r\n            List&lt;Response&gt; res = Arrays.asList(new Response(&quot;response1&quot;),new Response(&quot;response2&quot;));\r\n            // I have hardcoded it for the demo\r\n            System.out.println(res); //here res is coming\r\n            DetailsField detail = new DetailsField();\r\n            detail.setIdS(id);\r\n            detail.setValue(res);\r\n            return detail;\r\n        }\r\n    }\r\n\r\n \r\n**Response.java**\r\n\r\n    public class Response {\r\n    \r\n        private String output;\r\n    \r\n        public Response(String output) {\r\n            this.output = output;\r\n        }\r\n    \r\n        public String getOutput() {\r\n            return output;\r\n        }\r\n    \r\n        public void setOutput(String output) {\r\n            this.output = output;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Response{&quot; +\r\n                    &quot;output=&#39;&quot; + output + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n**DetailsField.java**\r\n\r\n    public class DetailsField {\r\n    \r\n        private String idS;\r\n        private List&lt;Response&gt; value;\r\n    \r\n        public DetailsField(){}\r\n    \r\n        public DetailsField(String idS, List&lt;Response&gt; value) {\r\n            this.idS = idS;\r\n            this.value = value;\r\n        }\r\n    \r\n        public String getIdS() {\r\n            return idS;\r\n        }\r\n    \r\n        public void setIdS(String idS) {\r\n            this.idS = idS;\r\n        }\r\n    \r\n        public List&lt;Response&gt; getValue() {\r\n            return value;\r\n        }\r\n    \r\n        public void setValue(List&lt;Response&gt; value) {\r\n            this.value = value;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;DetailsField{&quot; +\r\n                    &quot;idS=&#39;&quot; + idS + &#39;\\&#39;&#39; +\r\n                    &quot;, value=&quot; + value +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    [Response{output=&#39;response1&#39;}, Response{output=&#39;response2&#39;}]\r\n    DetailsField{idS=&#39;1&#39;, value=[Response{output=&#39;response1&#39;}, Response{output=&#39;response2&#39;}]}","title":"How to set List value to a entity field","body":"<p><em>If I understood it correctly you are trying to return the <code>DetailsField</code> object after setting the <code>List&lt;Response&gt; res</code> which you are getting from the API so it seems you can have the <code>DetailsField</code> object as the return type instead of <code>List&lt;DetailsField&gt; list</code></em></p>\n<p><strong>Note:</strong></p>\n<ol>\n<li>Replace the <code>Response.java</code> class with your required implementation.</li>\n<li>Replace the hardcoded list <code>res</code> with your actual API response.</li>\n</ol>\n<p><em><strong>You can try this approach:</strong></em></p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        System.out.println(getDetails(&quot;1&quot;));\n    }\n\n    public static DetailsField getDetails(String id){\n        List&lt;Response&gt; res = Arrays.asList(new Response(&quot;response1&quot;),new Response(&quot;response2&quot;));\n        // I have hardcoded it for the demo\n        System.out.println(res); //here res is coming\n        DetailsField detail = new DetailsField();\n        detail.setIdS(id);\n        detail.setValue(res);\n        return detail;\n    }\n}\n</code></pre>\n<p><strong>Response.java</strong></p>\n<pre><code>public class Response {\n\n    private String output;\n\n    public Response(String output) {\n        this.output = output;\n    }\n\n    public String getOutput() {\n        return output;\n    }\n\n    public void setOutput(String output) {\n        this.output = output;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Response{&quot; +\n                &quot;output='&quot; + output + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p><strong>DetailsField.java</strong></p>\n<pre><code>public class DetailsField {\n\n    private String idS;\n    private List&lt;Response&gt; value;\n\n    public DetailsField(){}\n\n    public DetailsField(String idS, List&lt;Response&gt; value) {\n        this.idS = idS;\n        this.value = value;\n    }\n\n    public String getIdS() {\n        return idS;\n    }\n\n    public void setIdS(String idS) {\n        this.idS = idS;\n    }\n\n    public List&lt;Response&gt; getValue() {\n        return value;\n    }\n\n    public void setValue(List&lt;Response&gt; value) {\n        this.value = value;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;DetailsField{&quot; +\n                &quot;idS='&quot; + idS + '\\'' +\n                &quot;, value=&quot; + value +\n                '}';\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[Response{output='response1'}, Response{output='response2'}]\nDetailsField{idS='1', value=[Response{output='response1'}, Response{output='response2'}]}\n</code></pre>\n"}],"owner":{"account_id":26668769,"reputation":1,"user_id":20280477,"display_name":"Daboo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":608,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666172466,"creation_date":1666168829,"question_id":74122332,"body_markdown":"    public List&lt;DetailsField&gt; getDetails(String id){\r\n    List&lt;Response&gt; res = detailsService.getApiDetails(id);//I am getting details from API\r\n    System.out.println(res); //here res is coming\r\n    DetailsField detail = new DetailsField();\r\n    for(Response response: res){\r\n    System.out.println(response); //here response is coming\r\n    detail.setValue(List&lt;Response&gt; response);\r\n    }\r\n    return (List&lt;DetailsField&gt; )detail);\r\n    }\r\n\r\nBasically I am getting the details from res but I need to set res details to value field of DetailsField class.\r\n\r\n    public class DetailsField\r\n    {\r\n     private String idS;\r\n     private List&lt;Response&gt; value;\r\n    }\r\n\r\nBut I get an 500 internal error and when I check the logs, I see that Response cannot be casted to list. I am not sure of as res -&gt; I am getting the values and response -&gt; I am getting the values, I feel issue is while setting up the res values to DetailsField class field value.\r\n","title":"How to set List value to a entity field","body":"<pre><code>public List&lt;DetailsField&gt; getDetails(String id){\nList&lt;Response&gt; res = detailsService.getApiDetails(id);//I am getting details from API\nSystem.out.println(res); //here res is coming\nDetailsField detail = new DetailsField();\nfor(Response response: res){\nSystem.out.println(response); //here response is coming\ndetail.setValue(List&lt;Response&gt; response);\n}\nreturn (List&lt;DetailsField&gt; )detail);\n}\n</code></pre>\n<p>Basically I am getting the details from res but I need to set res details to value field of DetailsField class.</p>\n<pre><code>public class DetailsField\n{\n private String idS;\n private List&lt;Response&gt; value;\n}\n</code></pre>\n<p>But I get an 500 internal error and when I check the logs, I see that Response cannot be casted to list. I am not sure of as res -&gt; I am getting the values and response -&gt; I am getting the values, I feel issue is while setting up the res values to DetailsField class field value.</p>\n"},{"tags":["java","android","android-layout","android-library","android-gradle-3.0"],"comments":[{"owner":{"account_id":23733633,"reputation":742,"user_id":17752564,"display_name":"ninhnau19"},"score":0,"creation_date":1666000833,"post_id":74092374,"comment_id":130823207,"body_markdown":"I updated my answear, you could check it","body":"I updated my answear, you could check it"}],"answers":[{"tags":[],"owner":{"account_id":23733633,"reputation":742,"user_id":17752564,"display_name":"ninhnau19"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666000796,"creation_date":1665981680,"answer_id":74092650,"question_id":74092374,"body_markdown":"make sure you add jcenter in build.gradle(project level)\r\n```\r\nallprojects {\r\n\t\trepositories {\r\n\t\t\t...\r\n\t\t\tjcenter()\r\n\t\t\tmaven { url &#39;https://jitpack.io&#39; }\r\n\t\t}\r\n\t}\r\n```\r\n\r\nAnd add support design library, such as\r\n```\r\n    implementation &#39;com.android.support:design:26.1.0&#39;\r\n```\r\nor migrate to android X, using:\r\n```\r\n    implementation &#39;com.google.android.material:material:v.v.v&#39;\r\n```","title":"Error cannot resolve class &#39; library&#39; in xml file","body":"<p>make sure you add jcenter in build.gradle(project level)</p>\n<pre><code>allprojects {\n        repositories {\n            ...\n            jcenter()\n            maven { url 'https://jitpack.io' }\n        }\n    }\n</code></pre>\n<p>And add support design library, such as</p>\n<pre><code>    implementation 'com.android.support:design:26.1.0'\n</code></pre>\n<p>or migrate to android X, using:</p>\n<pre><code>    implementation 'com.google.android.material:material:v.v.v'\n</code></pre>\n"}],"owner":{"account_id":25149817,"reputation":11,"user_id":18995214,"display_name":"Userint2122"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666172298,"creation_date":1665977901,"question_id":74092374,"body_markdown":"\r\n\r\nI want this library but keep getting error in the layout \r\n&#39; cannot resolve class devs.mulham.horizontalcalendar.HorizontalCalendarView &#39;  \r\nand &#39;Class referenced in the layout file, devs.mulham.horizontalcalendar.HorizontalCalendarView , was not found in the project or the libraries&#39; which i tried to  tools:ignore=&quot;MissingClass&quot; but nothing changed. \r\n\r\n\r\nI searched for solutions found this &quot;https://stackoverflow.com/questions/71929304/i-get-the-error-class-referenced-in-the-layout-file-was-not-found-in-the-pro/71929922#71929922&quot; but doesn&#39;t work, i also tried to invalidate cashes/restart, rebuild project/clean project, changing gradle classpath/version,.. deleting and reinstalling android studio \r\n\r\n\r\n\r\nHere is build gradle, the library i need `implementation &#39;devs.mulham.horizontalcalendar:horizontalcalendar:1.3.4&#39;` \r\n\r\n        plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    \r\n    android {\r\n        namespace &#39;com.example.calendarv511&#39;\r\n        compileSdk 32\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.calendarv511&quot;\r\n            minSdk 21\r\n            targetSdk 32\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n        implementation &#39;devs.mulham.horizontalcalendar:horizontalcalendar:1.3.4&#39;\r\n    }\r\n\r\n**Updated dependencies-gradle:** \r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.6.1&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;devs.mulham.horizontalcalendar:horizontalcalendar:1.3.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    implementation &#39;devs.mulham.horizontalcalendar:horizontalcalendar:1.3.4&#39;","title":"Error cannot resolve class &#39; library&#39; in xml file","body":"<p>I want this library but keep getting error in the layout\n' cannot resolve class devs.mulham.horizontalcalendar.HorizontalCalendarView '<br />\nand 'Class referenced in the layout file, devs.mulham.horizontalcalendar.HorizontalCalendarView , was not found in the project or the libraries' which i tried to  tools:ignore=&quot;MissingClass&quot; but nothing changed.</p>\n<p>I searched for solutions found this &quot;https://stackoverflow.com/questions/71929304/i-get-the-error-class-referenced-in-the-layout-file-was-not-found-in-the-pro/71929922#71929922&quot; but doesn't work, i also tried to invalidate cashes/restart, rebuild project/clean project, changing gradle classpath/version,.. deleting and reinstalling android studio</p>\n<p>Here is build gradle, the library i need <code>implementation 'devs.mulham.horizontalcalendar:horizontalcalendar:1.3.4'</code></p>\n<pre><code>    plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.calendarv511'\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.example.calendarv511&quot;\n        minSdk 21\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    implementation 'devs.mulham.horizontalcalendar:horizontalcalendar:1.3.4'\n}\n</code></pre>\n<p><strong>Updated dependencies-gradle:</strong></p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.5.1'\nimplementation 'com.google.android.material:material:1.6.1'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.4'\nimplementation 'devs.mulham.horizontalcalendar:horizontalcalendar:1.3.4'\ntestImplementation 'junit:junit:4.13.2'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.3'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\nimplementation 'devs.mulham.horizontalcalendar:horizontalcalendar:1.3.4'\n</code></pre>\n"},{"tags":["java","pdfbox","boxable"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1665949959,"post_id":74089752,"comment_id":130813789,"body_markdown":"As @KJ says, parts of the pdf required for text extraction are not finished before asking the document. The optimal solution would be for you to keep track of whether or not the *project name* is on each page while *creating* the document pages. Alternatively, you Indeed have to store and load again.","body":"As @KJ says, parts of the pdf required for text extraction are not finished before asking the document. The optimal solution would be for you to keep track of whether or not the <i>project name</i> is on each page while <i>creating</i> the document pages. Alternatively, you Indeed have to store and load again."},{"owner":{"account_id":8901665,"reputation":315,"user_id":6644926,"accept_rate":12,"display_name":"Владимир Гичев"},"score":0,"creation_date":1665977991,"post_id":74089752,"comment_id":130817737,"body_markdown":"I&#39;m using boxable library to create a tables. On the first page i&#39;m adding all project info and when the table is bigger than one page is auto creating second page and i should add only project name there. Maybe i will try different approache. I&#39;ll try to calculate pages automatically created and add  the project name only on them.","body":"I&#39;m using boxable library to create a tables. On the first page i&#39;m adding all project info and when the table is bigger than one page is auto creating second page and i should add only project name there. Maybe i will try different approache. I&#39;ll try to calculate pages automatically created and add  the project name only on them."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1666002489,"post_id":74089752,"comment_id":130823795,"body_markdown":"You could save and reload to get your project working. But this is not an elegant development style. Does boxable tell you whether it created an extra page? Or can you detect it by calling `PDDocument.getNumberOfPages()` before and after?","body":"You could save and reload to get your project working. But this is not an elegant development style. Does boxable tell you whether it created an extra page? Or can you detect it by calling <code>PDDocument.getNumberOfPages()</code> before and after?"}],"answers":[{"tags":[],"owner":{"account_id":8901665,"reputation":315,"user_id":6644926,"accept_rate":12,"display_name":"Владимир Гичев"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666172180,"creation_date":1666172180,"answer_id":74123097,"question_id":74089752,"body_markdown":"Obviasly there is no way to find text before saving the document so I started a new approach.\r\n\r\n\r\n    oldPagesCount = document.getNumberOfPages();\r\n    addTableInformation(List&lt;String&gt; informationToAdd);\r\n    if (oldPagesCount &lt; document.getNumberOfPages()) {\r\n    \t    // we have auto generated pages and we should add projec name-number\r\n    \t    for (int i = oldPagesCount; i &lt; document.getNumberOfPages(); i++) {\r\n    \t\tpage = document.getPage(i);\r\n    \t    }\r\n    \t    addProjectInfo(project);\r\n    \t}\r\n      }\r\n\r\nIn this case if table info is moved to multiple pages the code is going on every newly added page and adding project information. Hope that this will help to everybody that need to do something like this.","title":"PDFBox search for text on specific page in new PDF","body":"<p>Obviasly there is no way to find text before saving the document so I started a new approach.</p>\n<pre><code>oldPagesCount = document.getNumberOfPages();\naddTableInformation(List&lt;String&gt; informationToAdd);\nif (oldPagesCount &lt; document.getNumberOfPages()) {\n        // we have auto generated pages and we should add projec name-number\n        for (int i = oldPagesCount; i &lt; document.getNumberOfPages(); i++) {\n        page = document.getPage(i);\n        }\n        addProjectInfo(project);\n    }\n  }\n</code></pre>\n<p>In this case if table info is moved to multiple pages the code is going on every newly added page and adding project information. Hope that this will help to everybody that need to do something like this.</p>\n"}],"owner":{"account_id":8901665,"reputation":315,"user_id":6644926,"accept_rate":12,"display_name":"Владимир Гичев"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74123097,"answer_count":1,"score":0,"last_activity_date":1666172180,"creation_date":1665945188,"question_id":74089752,"body_markdown":"I&#39;m searching a way to check my new PDF for a specific `String` on every page.\r\nThe idea is to go on every page and if project name is missing from the page to add it (before saving the pdf -  `doc.save(new FileOutputStream(new File(pathToFile)));`\r\n\r\nI already tried:\r\n\r\n`document.save(new FileOutputStream(new File(pathToFile)));`\r\n\r\n `PDDocument document = PDDocument.load(new File(pathToFile));`\r\n\r\n  \r\n\r\n     for (int i = 1; i &lt; document.getNumberOfPages(); i++) {\r\n        \t    PDFTextStripper reader = new PDFTextStripper();\r\n        \t    reader.setStartPage(i);\r\n        \t    reader.setEndPage(i);\r\n        \t    String pageText = reader.getText(document);\r\n        \t    System.out.println(pageText);\r\n        \t}\r\n\r\nthe result is : `Hello World` which is ok.\r\n\r\nbut this is working only if document is already saved and then load it again.\r\n\r\nIn my case when the document is not saved yet:\r\n\r\n     for (int i = 1; i &lt; document.getNumberOfPages(); i++) {\r\n            \t    PDFTextStripper reader = new PDFTextStripper();\r\n            \t    reader.setStartPage(i);\r\n            \t    reader.setEndPage(i);\r\n            \t    String pageText = reader.getText(document);\r\n            \t    System.out.println(pageText);\r\n            \t}\r\n\r\n\r\n\r\n the result is `empty String`\r\n\r\n","title":"PDFBox search for text on specific page in new PDF","body":"<p>I'm searching a way to check my new PDF for a specific <code>String</code> on every page.\nThe idea is to go on every page and if project name is missing from the page to add it (before saving the pdf -  <code>doc.save(new FileOutputStream(new File(pathToFile)));</code></p>\n<p>I already tried:</p>\n<p><code>document.save(new FileOutputStream(new File(pathToFile)));</code></p>\n<p><code>PDDocument document = PDDocument.load(new File(pathToFile));</code></p>\n<pre><code> for (int i = 1; i &lt; document.getNumberOfPages(); i++) {\n            PDFTextStripper reader = new PDFTextStripper();\n            reader.setStartPage(i);\n            reader.setEndPage(i);\n            String pageText = reader.getText(document);\n            System.out.println(pageText);\n        }\n</code></pre>\n<p>the result is : <code>Hello World</code> which is ok.</p>\n<p>but this is working only if document is already saved and then load it again.</p>\n<p>In my case when the document is not saved yet:</p>\n<pre><code> for (int i = 1; i &lt; document.getNumberOfPages(); i++) {\n                PDFTextStripper reader = new PDFTextStripper();\n                reader.setStartPage(i);\n                reader.setEndPage(i);\n                String pageText = reader.getText(document);\n                System.out.println(pageText);\n            }\n</code></pre>\n<p>the result is <code>empty String</code></p>\n"},{"tags":["java","bots","discord","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1666171276,"creation_date":1586956242,"answer_id":61229594,"question_id":61226721,"body_markdown":"I assume you&#39;re using a development version of the 4.2.0 release (4.1.1_102 and above)\r\n\r\nIn these versions, the new factory methods have been introduced to make people aware of the new discord API design. In the future, bots will be limited to cache members who connected to voice channels by default.\r\n\r\n**If all you need is the count of members you can just use [Guild#getMemberCount][5]! Otherwise:**\r\n\r\nThe `createDefault`/`createLight` will only cache members connected to voice channels or owners of guilds (on first sight). To cache more members, you will have to enable the `GUILD_MEMBERS` intent in both the application dashboard for your bot and in JDA.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow you can do something like this:\r\n\r\n```java\r\nJDA api = JDABuilder.createDefault(token)\r\n                    .setMemberCachePolicy(MemberCachePolicy.ALL)\r\n                    .enableIntents(GatewayIntent.GUILD_MEMBERS)\r\n                    .build();\r\n```\r\n\r\nThe `GUILD_MEMBERS` intent is needed because it enables the `GUILD_MEMBER_REMOVE` dispatch to tell the library to remove a member from the cache when they are kicked/banned/leave.\r\n\r\nThis setup will perform **lazy loading**, which means it will start with only voice members and add more members to the cache once they become active.\r\n\r\nTo load all members on startup you have to additionally enable **member chunking**:\r\n\r\n```java\r\nJDABuilder.createDefault(token)\r\n          .setChunkingFilter(ChunkingFilter.ALL) // enable member chunking for all guilds\r\n          .setMemberCachePolicy(MemberCachePolicy.ALL)\r\n          .enableIntents(GatewayIntent.GUILD_MEMBERS)\r\n          .build();\r\n```\r\n\r\nYou can also load them for individual guilds using [Guild#loadMembers][2] or [Guild#findMembers][3].\r\n\r\nI recommend to also read this JDA wiki article: [Gateway Intents and Member Cache Policy][4].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/csqMM.png\r\n  [2]: https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/Guild.html#loadMembers()\r\n  [3]: https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/Guild.html#findMembers(java.util.function.Predicate)\r\n  [4]: https://github.com/DV8FromTheWorld/JDA/wiki/Gateway-Intents-and-Member-Cache-Policy\r\n  [5]: https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/Guild.html#getMemberCount()","title":"Discord JDA - Invalid Member List","body":"<p>I assume you're using a development version of the 4.2.0 release (4.1.1_102 and above)</p>\n<p>In these versions, the new factory methods have been introduced to make people aware of the new discord API design. In the future, bots will be limited to cache members who connected to voice channels by default.</p>\n<p><strong>If all you need is the count of members you can just use <a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/Guild.html#getMemberCount()\" rel=\"nofollow noreferrer\">Guild#getMemberCount</a>! Otherwise:</strong></p>\n<p>The <code>createDefault</code>/<code>createLight</code> will only cache members connected to voice channels or owners of guilds (on first sight). To cache more members, you will have to enable the <code>GUILD_MEMBERS</code> intent in both the application dashboard for your bot and in JDA.</p>\n<p><a href=\"https://i.stack.imgur.com/csqMM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/csqMM.png\" alt=\"enter image description here\" /></a></p>\n<p>Now you can do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JDA api = JDABuilder.createDefault(token)\n                    .setMemberCachePolicy(MemberCachePolicy.ALL)\n                    .enableIntents(GatewayIntent.GUILD_MEMBERS)\n                    .build();\n</code></pre>\n<p>The <code>GUILD_MEMBERS</code> intent is needed because it enables the <code>GUILD_MEMBER_REMOVE</code> dispatch to tell the library to remove a member from the cache when they are kicked/banned/leave.</p>\n<p>This setup will perform <strong>lazy loading</strong>, which means it will start with only voice members and add more members to the cache once they become active.</p>\n<p>To load all members on startup you have to additionally enable <strong>member chunking</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JDABuilder.createDefault(token)\n          .setChunkingFilter(ChunkingFilter.ALL) // enable member chunking for all guilds\n          .setMemberCachePolicy(MemberCachePolicy.ALL)\n          .enableIntents(GatewayIntent.GUILD_MEMBERS)\n          .build();\n</code></pre>\n<p>You can also load them for individual guilds using <a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/Guild.html#loadMembers()\" rel=\"nofollow noreferrer\">Guild#loadMembers</a> or <a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/Guild.html#findMembers(java.util.function.Predicate)\" rel=\"nofollow noreferrer\">Guild#findMembers</a>.</p>\n<p>I recommend to also read this JDA wiki article: <a href=\"https://github.com/DV8FromTheWorld/JDA/wiki/Gateway-Intents-and-Member-Cache-Policy\" rel=\"nofollow noreferrer\">Gateway Intents and Member Cache Policy</a>.</p>\n"}],"owner":{"account_id":15064274,"reputation":412,"user_id":10871976,"display_name":"Shadow4571"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6207,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":61229594,"answer_count":1,"score":5,"last_activity_date":1666171276,"creation_date":1586947190,"question_id":61226721,"body_markdown":"I am creating a Discord bot and have encountered a strange problem. I need to go through each user on the server and perform a conditional action. But when receiving a list of all Members, it contains only me and the bot itself.\r\n\r\n    public class Bot extends ListenerAdapter {\r\n\t\tpublic void onGuildMessageReceived(GuildMessageReceivedEvent Event) {\r\n\t\t\tString Message = Event.getMessage().getContentRaw();\r\n\t\t\r\n\t\t\tif(Message.charAt(0) == Globals.BOT_PREFIX) {\r\n\t\t\t\tString[] Args = Message.split(&quot;\\\\s+&quot;);\r\n\t\t\t\r\n\t\t\tif(Args[0].equalsIgnoreCase(CommandType.COMMAND_DEV_TEST)) {\r\n\t\t\t\tList&lt;Member&gt; MemberList = Event.getGuild().getMembers();\r\n\t\t\t\tfor(int i = 0; i &lt; MemberList.size(); i++)\r\n\t\t\t\t\tSystem.out.println(MemberList.get(i));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nIf another person writes, then only me and the bot are still displayed.","title":"Discord JDA - Invalid Member List","body":"<p>I am creating a Discord bot and have encountered a strange problem. I need to go through each user on the server and perform a conditional action. But when receiving a list of all Members, it contains only me and the bot itself.</p>\n\n<pre><code>public class Bot extends ListenerAdapter {\n    public void onGuildMessageReceived(GuildMessageReceivedEvent Event) {\n        String Message = Event.getMessage().getContentRaw();\n\n        if(Message.charAt(0) == Globals.BOT_PREFIX) {\n            String[] Args = Message.split(\"\\\\s+\");\n\n        if(Args[0].equalsIgnoreCase(CommandType.COMMAND_DEV_TEST)) {\n            List&lt;Member&gt; MemberList = Event.getGuild().getMembers();\n            for(int i = 0; i &lt; MemberList.size(); i++)\n                System.out.println(MemberList.get(i));\n        }\n    }\n}\n</code></pre>\n\n<p>If another person writes, then only me and the bot are still displayed.</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1666171638,"post_id":74122785,"comment_id":130870403,"body_markdown":"Since you are getting an http 500, you should have the error with stack trace in the server log. Please provide this.","body":"Since you are getting an http 500, you should have the error with stack trace in the server log. Please provide this."},{"owner":{"account_id":26025376,"reputation":3,"user_id":19732377,"display_name":"Chatboat2.0"},"score":0,"creation_date":1666195348,"post_id":74122785,"comment_id":130879877,"body_markdown":"How to Provide stack trace in the server log?","body":"How to Provide stack trace in the server log?"},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1666249849,"post_id":74122785,"comment_id":130892206,"body_markdown":"Looks like you are running your project from your IDE (IntelliJ?) so you will see it in the run (or debug) console there. It i the window on the bottom right on your first screenshot.","body":"Looks like you are running your project from your IDE (IntelliJ?) so you will see it in the run (or debug) console there. It i the window on the bottom right on your first screenshot."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666645840,"post_id":74122785,"comment_id":130982422,"body_markdown":"`WARN` and `org.springfr...MissingPathVariab..` is far from &quot;all looks fine&quot; ;) (and that is where &quot;console&quot; and server.log ...please prefer text to images where possible;)","body":"<code>WARN</code> and <code>org.springfr...MissingPathVariab..</code> is far from &quot;all looks fine&quot; ;) (and that is where &quot;console&quot; and server.log ...please prefer text to images where possible;)"},{"owner":{"account_id":26025376,"reputation":3,"user_id":19732377,"display_name":"Chatboat2.0"},"score":0,"creation_date":1668706409,"post_id":74122785,"comment_id":131477106,"body_markdown":"grekier I am using SpringToolSuit(STS)","body":"grekier I am using SpringToolSuit(STS)"}],"owner":{"account_id":26025376,"reputation":3,"user_id":19732377,"display_name":"Chatboat2.0"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666171207,"creation_date":1666170917,"question_id":74122785,"body_markdown":"All looks fine [![enter image description here][1]][1]\r\n     \r\nMyController Code ..\r\n    \r\n    package com.springrest.springrest.controller;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.DeleteMapping;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.PutMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.springrest.springrest.entities.Course;\r\n    import com.springrest.springrest.services.CourseService;\r\n    \r\n    @RestController    //This will tell spring boot that this is the Controller whenever we send a request by GET method in POSTMAN, to identify where the Controller is located \r\n    public class MyController {\r\n    \t@GetMapping(&quot;/home&quot;)    // This is necessary in order to map with controller whenever we call by GET method in POSTMAN home method will be called.\r\n    \tpublic String home() {\r\n    \t\treturn &quot;Welcome to home page&quot;;\r\n    \t\t\r\n    \t}\r\n    \t`enter code here`@Autowired     // we don&#39;t need to create object Springboot will automatically create an object for us\r\n    \tprivate CourseService courseService; // a variable must be created same as service package parent class of CourseServiceImpl i.e CourseService\r\n    \t\r\n    \t//Get all the courese \r\n    \t// this getCourses will return List of courses \r\n    \t@GetMapping(&quot;/courses&quot;)\r\n    \tpublic List&lt;Course&gt; getCourses(){           //the Course is defined in entities package \r\n    \t\treturn courseService.getCourses();   // courseService will call getCourses method from CourseService Class but it us abstract so It will go to CourseServiceImpl list will be returned by getCourse but implemented in Constructor\r\n    \t}\r\n    \t\r\n    \t//get course by id\r\n    \t// this getCourse will return one course \r\n    \t@GetMapping(&quot;/courses/{courseId}&quot;)\r\n    \tpublic Course getCourse(@PathVariable String courseId) {\r\n    \t\treturn this.courseService.getCourse(Long.parseLong(courseId));\r\n    \t}\r\n    \t@PostMapping(&quot;/courses&quot;)    // \r\n    \tpublic Course addCourse(@RequestBody Course course) {\r\n    \t\treturn this.courseService.addCourse(course);\r\n    \t}\r\n    \t//Update the course using  PUT request\r\n    \t@PutMapping(&quot;/courses&quot;) \r\n    \t//@Autowired  \r\n    \tpublic Course updateCourse(@RequestBody Course course){\r\n    \t\treturn this.courseService.updateCourse(course);\r\n    \t}\r\n    \t\r\n    \t// DELETE method delete the course  \r\n    \t\r\n    \t@DeleteMapping(&quot;/courses/{courseId}&quot;)\r\n    \t\r\n    \tpublic ResponseEntity&lt;HttpStatus&gt; deleteCourse(@PathVariable String CourseId) {\r\n    \t\ttry {\r\n    \t\t\tthis.courseService.deleteCourse(Long.parseLong(CourseId));\r\n    \t\t\treturn new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n    \t\t} catch(Exception e) {\r\n    \t\t\treturn new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nCourseService code... \r\n\r\n    package com.springrest.springrest.services;\r\n    \r\n    import java.util.List;\r\n    \r\n    import com.springrest.springrest.entities.Course;\r\n    \r\n    public interface CourseService {\r\n    \tpublic List&lt;Course&gt; getCourses();   // Because its a abstract class therefore it don&#39;t have body\r\n    \tpublic Course getCourse(long courseId);\r\n    \tpublic Course addCourse(Course course);\r\n    \tpublic Course updateCourse(Course course);\r\n    \tpublic void deleteCourse(long parseLong);\r\n     }\r\n    \r\nCourseServiceImpl..\r\n\r\n     package com.springrest.springrest.services;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import com.springrest.springrest.entities.Course;\r\n    @Service\r\n    public class CourseServiceImpl implements CourseService {\r\n    \t\r\n    \tList&lt;Course&gt;  list;\r\n    \r\n    \tpublic CourseServiceImpl() {\r\n    \t\t\r\n    \t\tlist = new ArrayList&lt;&gt;();\r\n    \t\tlist.add(new Course(145,&quot;Java Core Course &quot;,&quot; This course contains basics of Core Java &quot;));\r\n    \t\tlist.add(new Course(420,&quot;Spring boot Course&quot;, &quot;Creating REST API using Spring boot&quot;));\r\n    \t\tlist.add(new Course(110, &quot;Python Course&quot;,&quot;This is Python course for beginners&quot;));\r\n    \t\tlist.add(new Course(220, &quot;Angular JS Course&quot;,&quot;This is Angular JS course for beginners&quot;));\r\n    \t\tlist.add(new Course(330, &quot;React JS Course&quot;,&quot;This is React JS course for beginners&quot;));\r\n    \r\n    \t}\r\n       @Override\r\n    \tpublic List&lt;Course&gt; getCourses() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn list;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Course getCourse(long courseId) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tCourse c= null;\r\n    \t\tfor(Course course:list) {\r\n    \t\t\tif(course.getId()==courseId) {\r\n    \t\t\t\tc= course; \r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn c;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Course addCourse(Course course) {\r\n    \t\tlist.add(course);\r\n    \t\treturn course;\r\n    \t}\r\n    \r\n    \t\r\n         @Override\r\n    \tpublic Course updateCourse(Course course) {\r\n    \t\tlist.forEach(e -&gt; {\r\n    \t\t\tif(e.getId()==course.getId()) {\r\n    \t\t\t\te.setTitle(course.getTitle());\r\n    \t\t\t\te.setDescription(course.getDescription());\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\treturn course;\r\n    \t}\r\n         @Override\r\n       \r\n     \tpublic void deleteCourse(long parseLong) {\r\n     \t\tlist= this.list.stream().filter(e -&gt; e.getId()!=parseLong).collect(Collectors.toList());\r\n     \t}\r\n    }\r\n\r\nI am new Learning REST API I have created Controller Class, Service Class, Implementation Class But When I run PUTMAPPING or DeleteMapping It Shows Given error( POSTMAN Screentshot Given )\r\nI don&#39;t know where the Problem is I have given The problem in Header Section POSTMAN Screen Shot and all class Screen Shot I have attaeched in Imagag section Kindly Rectify This.\r\n\r\n[1]: https://i.stack.imgur.com/JxaP9.png\r\n   ","title":"getting this { &quot;timestamp&quot;: &quot;2022-10-19T08:57:38.327+00:00&quot;, &quot;status&quot;: 500, &quot;error&quot;: &quot;Internal Server Error&quot;, &quot;path&quot;: &quot;/courses/420&quot; }","body":"<p>All looks fine <a href=\"https://i.stack.imgur.com/JxaP9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JxaP9.png\" alt=\"enter image description here\" /></a></p>\n<p>MyController Code ..</p>\n<pre><code>package com.springrest.springrest.controller;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.springrest.springrest.entities.Course;\nimport com.springrest.springrest.services.CourseService;\n\n@RestController    //This will tell spring boot that this is the Controller whenever we send a request by GET method in POSTMAN, to identify where the Controller is located \npublic class MyController {\n    @GetMapping(&quot;/home&quot;)    // This is necessary in order to map with controller whenever we call by GET method in POSTMAN home method will be called.\n    public String home() {\n        return &quot;Welcome to home page&quot;;\n        \n    }\n    `enter code here`@Autowired     // we don't need to create object Springboot will automatically create an object for us\n    private CourseService courseService; // a variable must be created same as service package parent class of CourseServiceImpl i.e CourseService\n    \n    //Get all the courese \n    // this getCourses will return List of courses \n    @GetMapping(&quot;/courses&quot;)\n    public List&lt;Course&gt; getCourses(){           //the Course is defined in entities package \n        return courseService.getCourses();   // courseService will call getCourses method from CourseService Class but it us abstract so It will go to CourseServiceImpl list will be returned by getCourse but implemented in Constructor\n    }\n    \n    //get course by id\n    // this getCourse will return one course \n    @GetMapping(&quot;/courses/{courseId}&quot;)\n    public Course getCourse(@PathVariable String courseId) {\n        return this.courseService.getCourse(Long.parseLong(courseId));\n    }\n    @PostMapping(&quot;/courses&quot;)    // \n    public Course addCourse(@RequestBody Course course) {\n        return this.courseService.addCourse(course);\n    }\n    //Update the course using  PUT request\n    @PutMapping(&quot;/courses&quot;) \n    //@Autowired  \n    public Course updateCourse(@RequestBody Course course){\n        return this.courseService.updateCourse(course);\n    }\n    \n    // DELETE method delete the course  \n    \n    @DeleteMapping(&quot;/courses/{courseId}&quot;)\n    \n    public ResponseEntity&lt;HttpStatus&gt; deleteCourse(@PathVariable String CourseId) {\n        try {\n            this.courseService.deleteCourse(Long.parseLong(CourseId));\n            return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n        } catch(Exception e) {\n            return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n}\n</code></pre>\n<p>CourseService code...</p>\n<pre><code>package com.springrest.springrest.services;\n\nimport java.util.List;\n\nimport com.springrest.springrest.entities.Course;\n\npublic interface CourseService {\n    public List&lt;Course&gt; getCourses();   // Because its a abstract class therefore it don't have body\n    public Course getCourse(long courseId);\n    public Course addCourse(Course course);\n    public Course updateCourse(Course course);\n    public void deleteCourse(long parseLong);\n }\n</code></pre>\n<p>CourseServiceImpl..</p>\n<pre><code> package com.springrest.springrest.services;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.springrest.springrest.entities.Course;\n@Service\npublic class CourseServiceImpl implements CourseService {\n    \n    List&lt;Course&gt;  list;\n\n    public CourseServiceImpl() {\n        \n        list = new ArrayList&lt;&gt;();\n        list.add(new Course(145,&quot;Java Core Course &quot;,&quot; This course contains basics of Core Java &quot;));\n        list.add(new Course(420,&quot;Spring boot Course&quot;, &quot;Creating REST API using Spring boot&quot;));\n        list.add(new Course(110, &quot;Python Course&quot;,&quot;This is Python course for beginners&quot;));\n        list.add(new Course(220, &quot;Angular JS Course&quot;,&quot;This is Angular JS course for beginners&quot;));\n        list.add(new Course(330, &quot;React JS Course&quot;,&quot;This is React JS course for beginners&quot;));\n\n    }\n   @Override\n    public List&lt;Course&gt; getCourses() {\n        // TODO Auto-generated method stub\n        return list;\n    }\n\n    @Override\n    public Course getCourse(long courseId) {\n        // TODO Auto-generated method stub\n        Course c= null;\n        for(Course course:list) {\n            if(course.getId()==courseId) {\n                c= course; \n                break;\n            }\n        }\n        return c;\n    }\n\n    @Override\n    public Course addCourse(Course course) {\n        list.add(course);\n        return course;\n    }\n\n    \n     @Override\n    public Course updateCourse(Course course) {\n        list.forEach(e -&gt; {\n            if(e.getId()==course.getId()) {\n                e.setTitle(course.getTitle());\n                e.setDescription(course.getDescription());\n            }\n        });\n        return course;\n    }\n     @Override\n   \n    public void deleteCourse(long parseLong) {\n        list= this.list.stream().filter(e -&gt; e.getId()!=parseLong).collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p>I am new Learning REST API I have created Controller Class, Service Class, Implementation Class But When I run PUTMAPPING or DeleteMapping It Shows Given error( POSTMAN Screentshot Given )\nI don't know where the Problem is I have given The problem in Header Section POSTMAN Screen Shot and all class Screen Shot I have attaeched in Imagag section Kindly Rectify This.</p>\n"},{"tags":["java","validation","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666164300,"creation_date":1666164300,"answer_id":74121372,"question_id":74121337,"body_markdown":"Add all valid characters:\r\n   \r\n    if (in.hasNext(&quot;[A-Za-z0-9\\-]&quot;)) {","title":"Java validation vehicle registration","body":"<p>Add all valid characters:</p>\n<pre><code>if (in.hasNext(&quot;[A-Za-z0-9\\-]&quot;)) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666170966,"creation_date":1666170966,"answer_id":74122797,"question_id":74121337,"body_markdown":"I&#39;m not sure if what you show as an example registration number is the actual format for a vehicle registration number (3 chars, a dash, 4 chars). Does the whitespace before and after the dash need to be there or is that optional? Are there only three alphanumeric characters before the dash and always 4 alphanumeric character after the dash? Because you haven&#39;t indicated as such either way I&#39;m going to assume so. The supplied Regular Expression below can be easily modified to accommodate whatever format(s) are required.\r\n\r\nHere is the code:\r\n\r\n    String ls = System.lineSeparator();\r\n    Scanner in = new Scanner(System.in);\r\n    String vrn = &quot;&quot;;\r\n    while (vrn.isEmpty()) {\r\n        System.out.print(&quot;Please enter a valid Vehicle Registration number&quot; + ls \r\n                       + &quot;or &#39;q&#39; to quit: -&gt; &quot;);\r\n        vrn = in.nextLine().trim();\r\n        if (vrn.equalsIgnoreCase(&quot;Q&quot;)) { //Quit?\r\n            return;\r\n        }\r\n            \r\n        // Validate entry...\r\n        if (!vrn.matches(&quot;(?i)[A-Z0-9]{3} ?\\\\- ?[A-Z0-9]{4}&quot;)) {\r\n            System.out.println(&quot;Invalid Vehicle Registation Number! (&quot; \r\n                       + vrn + &quot;) Try again...&quot; + ls);\r\n            vrn = &quot;&quot;; // Empty vrn so to re-loop.\r\n        }\r\n    }\r\n    System.out.println(&quot;VALID VRN!&quot;);\r\n\r\n**About the Regular Expression (regex):**\r\n\r\n - `(?i)`  Letter case insensitive;\r\n - `[A-Z0-9]{3}` Any 3 alphanumeric character (**A** to **Z**, **a** to **z**, or **0** to **9**) *before* the dash;\r\n - ` ?`  An optional single whitespace **before** the mandatory dash (-);\r\n - `\\\\-`  A mandatory single literal Dash character;\r\n - ` ?`  An optional single whitespace **after** the mandatory dash (-);\r\n - `[A-Z0-9]{4}` Any 4 alphanumeric characters (**A** to **Z**, **a** to **z**, or **0** to **9**) *after* the dash;\r\n\r\nIf you want to change the number of allowable characters within the regex then you can consider any one of these few **examples**:\r\n\r\n - `{3}` Strictly 3 characters allowed only;\r\n - `{3,6}` Strictly 3 to 6 characters allowed only;\r\n - `{3,}` 3 or more characters allowed;\r\n - `{0,} 0 or more characters allowed.\r\n\r\n ","title":"Java validation vehicle registration","body":"<p>I'm not sure if what you show as an example registration number is the actual format for a vehicle registration number (3 chars, a dash, 4 chars). Does the whitespace before and after the dash need to be there or is that optional? Are there only three alphanumeric characters before the dash and always 4 alphanumeric character after the dash? Because you haven't indicated as such either way I'm going to assume so. The supplied Regular Expression below can be easily modified to accommodate whatever format(s) are required.</p>\n<p>Here is the code:</p>\n<pre><code>String ls = System.lineSeparator();\nScanner in = new Scanner(System.in);\nString vrn = &quot;&quot;;\nwhile (vrn.isEmpty()) {\n    System.out.print(&quot;Please enter a valid Vehicle Registration number&quot; + ls \n                   + &quot;or 'q' to quit: -&gt; &quot;);\n    vrn = in.nextLine().trim();\n    if (vrn.equalsIgnoreCase(&quot;Q&quot;)) { //Quit?\n        return;\n    }\n        \n    // Validate entry...\n    if (!vrn.matches(&quot;(?i)[A-Z0-9]{3} ?\\\\- ?[A-Z0-9]{4}&quot;)) {\n        System.out.println(&quot;Invalid Vehicle Registation Number! (&quot; \n                   + vrn + &quot;) Try again...&quot; + ls);\n        vrn = &quot;&quot;; // Empty vrn so to re-loop.\n    }\n}\nSystem.out.println(&quot;VALID VRN!&quot;);\n</code></pre>\n<p><strong>About the Regular Expression (regex):</strong></p>\n<ul>\n<li><code>(?i)</code>  Letter case insensitive;</li>\n<li><code>[A-Z0-9]{3}</code> Any 3 alphanumeric character (<strong>A</strong> to <strong>Z</strong>, <strong>a</strong> to <strong>z</strong>, or <strong>0</strong> to <strong>9</strong>) <em>before</em> the dash;</li>\n<li><code> ?</code>  An optional single whitespace <strong>before</strong> the mandatory dash (-);</li>\n<li><code>\\\\-</code>  A mandatory single literal Dash character;</li>\n<li><code> ?</code>  An optional single whitespace <strong>after</strong> the mandatory dash (-);</li>\n<li><code>[A-Z0-9]{4}</code> Any 4 alphanumeric characters (<strong>A</strong> to <strong>Z</strong>, <strong>a</strong> to <strong>z</strong>, or <strong>0</strong> to <strong>9</strong>) <em>after</em> the dash;</li>\n</ul>\n<p>If you want to change the number of allowable characters within the regex then you can consider any one of these few <strong>examples</strong>:</p>\n<ul>\n<li><code>{3}</code> Strictly 3 characters allowed only;</li>\n<li><code>{3,6}</code> Strictly 3 to 6 characters allowed only;</li>\n<li><code>{3,}</code> 3 or more characters allowed;</li>\n<li>`{0,} 0 or more characters allowed.</li>\n</ul>\n"}],"owner":{"account_id":22658656,"reputation":1,"user_id":16832138,"display_name":"Tharuka Ravisara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74122797,"answer_count":2,"score":0,"last_activity_date":1666170966,"creation_date":1666164121,"question_id":74121337,"body_markdown":"I&#39;m trying to do a simple validation for vehicle registration number.\r\n\r\n - It must include &quot;**-**&quot; Dash/Hyphen symbol. Example: BIR - 5698\r\n - It allows Numbers/Letters and Hyphen symbol only.\r\n - All the other symbols are invalid. ( `~!@#$%^&amp;*()_+=./;,&lt;&gt;&quot;:|\\[]{} )\r\n\r\n   My code - \r\n\r\n    \tpublic static void main(String[] args) {\r\n\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tif (in.hasNext(&quot;[A-Za]&quot;)) {\r\n\t\t\tSystem.out.println(&quot;Vehicles :&quot; + vehicles );\r\n\t\t}else {\r\n\t\t\tSystem.out.println(&quot;Enter a Valid Value&quot;);\r\n\r\n\r\nThank you. Your kind help highly appreciated. ","title":"Java validation vehicle registration","body":"<p>I'm trying to do a simple validation for vehicle registration number.</p>\n<ul>\n<li><p>It must include &quot;<strong>-</strong>&quot; Dash/Hyphen symbol. Example: BIR - 5698</p>\n</li>\n<li><p>It allows Numbers/Letters and Hyphen symbol only.</p>\n</li>\n<li><p>All the other symbols are invalid. ( `~!@#$%^&amp;*()_+=./;,&lt;&gt;&quot;:|[]{} )</p>\n<p>My code -</p>\n<pre><code> public static void main(String[] args) {\n\n Scanner in = new Scanner(System.in);\n if (in.hasNext(&quot;[A-Za]&quot;)) {\n     System.out.println(&quot;Vehicles :&quot; + vehicles );\n }else {\n     System.out.println(&quot;Enter a Valid Value&quot;);\n</code></pre>\n</li>\n</ul>\n<p>Thank you. Your kind help highly appreciated.</p>\n"},{"tags":["java","algorithm","search","tree"],"answers":[{"tags":[],"owner":{"account_id":6426024,"reputation":1723,"user_id":4981150,"display_name":"Pieter12345"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627592570,"creation_date":1627592570,"answer_id":68582751,"question_id":68582415,"body_markdown":"What you can do is create a method that takes a starting point, a target point and a set of already visited airports. In this method, you can:\r\n - Return the path if the starting point is the end point.\r\n - Loop over all neighbors of the starting point minus all already visited airports and make a recursive call using the neighbor as the starting point and with the set of already visited airports plus the current starting point (make sure that you clone this set, or use a stack and restore its state after the recursive call).\r\n\r\nIf you do this, you effectively attempt every path from the given starting point to the given target point without visiting the same airport twice. I will leave the return value of this recursive method as an exercise for you (the return value has to be used to obtain the succesful paths that were found).","title":"Finding paths from node A to node B using the given data structure","body":"<p>What you can do is create a method that takes a starting point, a target point and a set of already visited airports. In this method, you can:</p>\n<ul>\n<li>Return the path if the starting point is the end point.</li>\n<li>Loop over all neighbors of the starting point minus all already visited airports and make a recursive call using the neighbor as the starting point and with the set of already visited airports plus the current starting point (make sure that you clone this set, or use a stack and restore its state after the recursive call).</li>\n</ul>\n<p>If you do this, you effectively attempt every path from the given starting point to the given target point without visiting the same airport twice. I will leave the return value of this recursive method as an exercise for you (the return value has to be used to obtain the succesful paths that were found).</p>\n"},{"tags":[],"owner":{"account_id":2318302,"reputation":23679,"user_id":2034787,"accept_rate":53,"display_name":"גלעד ברקן"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627596276,"creation_date":1627596276,"answer_id":68583291,"question_id":68582415,"body_markdown":"Here is a solution in Python as I&#39;m not versed in Java; but since you tagged the question with &quot;algorithm,&quot; I think can be easily understood and converted.\r\n\r\n```python\r\ndef getPaths(source, destination):\r\n  # We’ve reached the destination\r\n  if source[&quot;name&quot;] == destination[&quot;name&quot;]:\r\n    # Return a list of lists\r\n    return [[destination[&quot;name&quot;]]]\r\n\r\n  result = []\r\n\r\n  # If there are no neighbours or\r\n  # none of them yield a destination,\r\n  # ‘result’ will be an empty list\r\n  for neighbour in source[&quot;neighbours&quot;]:\r\n    paths = getPaths(neighbour, destination)\r\n    result.extend([[source[&quot;name&quot;]] + path for path in paths])\r\n\r\n  return result\r\n```\r\n\r\nExample:\r\n```\r\nmumbai = {&quot;name&quot;: &quot;Mumbai&quot;}\r\npune = {&quot;name&quot;: &quot;Pune&quot;}\r\ndelhi = {&quot;name&quot;: &quot;Delhi&quot;}\r\nahmedabad = {&quot;name&quot;: &quot;Ahmedabad&quot;}\r\nnoida = {&quot;name&quot;: &quot;Noida&quot;}\r\n\r\n# Assign neighbours\r\nmumbai[&quot;neighbours&quot;] = [pune, ahmedabad]\r\npune[&quot;neighbours&quot;] = [delhi]\r\ndelhi[&quot;neighbours&quot;] = []\r\nahmedabad[&quot;neighbours&quot;] = [noida]\r\nnoida[&quot;neighbours&quot;] = [delhi]\r\n\r\nprint(getPaths(mumbai, delhi))\r\n```","title":"Finding paths from node A to node B using the given data structure","body":"<p>Here is a solution in Python as I'm not versed in Java; but since you tagged the question with &quot;algorithm,&quot; I think can be easily understood and converted.</p>\n<pre class=\"lang-py prettyprint-override\"><code>def getPaths(source, destination):\n  # We’ve reached the destination\n  if source[&quot;name&quot;] == destination[&quot;name&quot;]:\n    # Return a list of lists\n    return [[destination[&quot;name&quot;]]]\n\n  result = []\n\n  # If there are no neighbours or\n  # none of them yield a destination,\n  # ‘result’ will be an empty list\n  for neighbour in source[&quot;neighbours&quot;]:\n    paths = getPaths(neighbour, destination)\n    result.extend([[source[&quot;name&quot;]] + path for path in paths])\n\n  return result\n</code></pre>\n<p>Example:</p>\n<pre><code>mumbai = {&quot;name&quot;: &quot;Mumbai&quot;}\npune = {&quot;name&quot;: &quot;Pune&quot;}\ndelhi = {&quot;name&quot;: &quot;Delhi&quot;}\nahmedabad = {&quot;name&quot;: &quot;Ahmedabad&quot;}\nnoida = {&quot;name&quot;: &quot;Noida&quot;}\n\n# Assign neighbours\nmumbai[&quot;neighbours&quot;] = [pune, ahmedabad]\npune[&quot;neighbours&quot;] = [delhi]\ndelhi[&quot;neighbours&quot;] = []\nahmedabad[&quot;neighbours&quot;] = [noida]\nnoida[&quot;neighbours&quot;] = [delhi]\n\nprint(getPaths(mumbai, delhi))\n</code></pre>\n"}],"owner":{"account_id":5809819,"reputation":3680,"user_id":4581287,"accept_rate":51,"display_name":"Parag Kadam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666170932,"creation_date":1627590308,"question_id":68582415,"body_markdown":"I am stuck with a tricky problem as I am not able to think in a recursive way to find a solution for it. \r\n\r\nHere is my data structure:\r\n\r\n    public class Airport {\r\n        String name;\r\n        Set&lt;Neighbour&gt; neighbours;\r\n        ...\r\n    }\r\n\r\n    public class Neighbour {\r\n        Airport airport;\r\n        double costToReach;\r\n        ...\r\n    }\r\n\r\nI am trying to get the available paths(list of list) from one `Airport` to another `Airport`.\r\n\r\n    List&lt;List&lt;Airport&gt;&gt; getPaths(Airport source, Airport destination) {\r\n        // Logic goes here\r\n    }\r\n\r\nExpected input sample:\r\n\r\n    Source airport - Mumbai\r\n    Destination airport - Delhi\r\n\r\nExpected output sample:\r\n\r\n    Mumbai -&gt; Pune -&gt; Delhi\r\n    Mumbai -&gt; Ahmedabad -&gt; Noida -&gt; Delhi\r\n","title":"Finding paths from node A to node B using the given data structure","body":"<p>I am stuck with a tricky problem as I am not able to think in a recursive way to find a solution for it.</p>\n<p>Here is my data structure:</p>\n<pre><code>public class Airport {\n    String name;\n    Set&lt;Neighbour&gt; neighbours;\n    ...\n}\n\npublic class Neighbour {\n    Airport airport;\n    double costToReach;\n    ...\n}\n</code></pre>\n<p>I am trying to get the available paths(list of list) from one <code>Airport</code> to another <code>Airport</code>.</p>\n<pre><code>List&lt;List&lt;Airport&gt;&gt; getPaths(Airport source, Airport destination) {\n    // Logic goes here\n}\n</code></pre>\n<p>Expected input sample:</p>\n<pre><code>Source airport - Mumbai\nDestination airport - Delhi\n</code></pre>\n<p>Expected output sample:</p>\n<pre><code>Mumbai -&gt; Pune -&gt; Delhi\nMumbai -&gt; Ahmedabad -&gt; Noida -&gt; Delhi\n</code></pre>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":4166159,"reputation":951,"user_id":3415090,"display_name":"mohammedkhan"},"score":0,"creation_date":1652781147,"post_id":72271308,"comment_id":127683611,"body_markdown":"It looks like you&#39;re explicitly setting all of your security settings for each of your controllers in `security.xml`, in that case do you need to have anything for `/rest`? I would assume if there is no setting defined it won&#39;t restrict it.","body":"It looks like you&#39;re explicitly setting all of your security settings for each of your controllers in <code>security.xml</code>, in that case do you need to have anything for <code>&#47;rest</code>? I would assume if there is no setting defined it won&#39;t restrict it."},{"owner":{"account_id":5809819,"reputation":3680,"user_id":4581287,"accept_rate":51,"display_name":"Parag Kadam"},"score":0,"creation_date":1652924450,"post_id":72271308,"comment_id":127727427,"body_markdown":"@dbaltor It doesn&#39;t seem to work somehow. However, I have fixed it by while listing all the URLs one by one that needs to be tracked by spring security in web.xml.","body":"@dbaltor It doesn&#39;t seem to work somehow. However, I have fixed it by while listing all the URLs one by one that needs to be tracked by spring security in web.xml."},{"owner":{"account_id":9507708,"reputation":2869,"user_id":7066647,"display_name":"dbaltor"},"score":1,"creation_date":1652945463,"post_id":72271308,"comment_id":127731704,"body_markdown":"Thank you for the feedback. I&#39;m glad you found out a solution in the end.","body":"Thank you for the feedback. I&#39;m glad you found out a solution in the end."}],"answers":[{"tags":[],"owner":{"account_id":4166159,"reputation":951,"user_id":3415090,"display_name":"mohammedkhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652781280,"creation_date":1652781280,"answer_id":72271843,"question_id":72271308,"body_markdown":"As per my comment on the question, you _may_ not need to define the controller to not have any security settings. But if you do, there are already other controllers in your `security.xml` that do something similar:\r\n```\r\n&lt;security:intercept-url pattern=&quot;^\\/rest/*$&quot; access=&quot;permitAll&quot;/&gt;\r\n```","title":"Exclude certain URL patterns from Spring Security","body":"<p>As per my comment on the question, you <em>may</em> not need to define the controller to not have any security settings. But if you do, there are already other controllers in your <code>security.xml</code> that do something similar:</p>\n<pre><code>&lt;security:intercept-url pattern=&quot;^\\/rest/*$&quot; access=&quot;permitAll&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9507708,"reputation":2869,"user_id":7066647,"display_name":"dbaltor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652786221,"creation_date":1652783394,"answer_id":72272408,"question_id":72271308,"body_markdown":"I&#39;ve never used it but I think this could work for you: [DelegatingFilterProxy][1]. \r\n\r\nTo use it, you need to add the snippet below to your `web.xml`:\r\n```\r\n&lt;filter&gt;\r\n    &lt;filter-name&gt;filterProxy&lt;/filter-name&gt;\r\n    &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n&lt;/filter&gt;\r\n\r\n&lt;filter-mapping&gt;\r\n    &lt;filter-name&gt;filterProxy&lt;/filter-name&gt;\r\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n&lt;/filter-mapping&gt;\r\n```\r\n\r\nand then configure the `filterChainProxy` bean to whitelist the `/rest` URL whilst applying all filters you need to the general case. Here is an example:\r\n```\r\n&lt;bean id=&quot;filterChainProxy&quot; class=&quot;org.springframework.security.web.FilterChainProxy&quot;&gt;\r\n&lt;constructor-arg&gt;\r\n\t&lt;list&gt;\r\n\t&lt;sec:filter-chain pattern=&quot;/rest/**&quot; filters=&quot;none&quot; /&gt;\r\n\t&lt;sec:filter-chain pattern=&quot;/**&quot; filters=&quot;\r\n        UsernamePasswordAuthenticationFilter,\r\n        basicAuthenticationFilter,\r\n\t\tformLoginFilter,\r\n\t\tsecurityContextPersistenceFilterWithASCTrue,\r\n\t\texceptionTranslationFilter,\r\n\t\tfilterSecurityInterceptor&quot; /&gt;\r\n\t&lt;/list&gt;\r\n&lt;/constructor-arg&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\nThe order above is important. The more restrict URLs must come first.\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/4.2.x/reference/html/security-filter-chain.html#security-filter-chain","title":"Exclude certain URL patterns from Spring Security","body":"<p>I've never used it but I think this could work for you: <a href=\"https://docs.spring.io/spring-security/site/docs/4.2.x/reference/html/security-filter-chain.html#security-filter-chain\" rel=\"nofollow noreferrer\">DelegatingFilterProxy</a>.</p>\n<p>To use it, you need to add the snippet below to your <code>web.xml</code>:</p>\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;filterProxy&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;filterProxy&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n<p>and then configure the <code>filterChainProxy</code> bean to whitelist the <code>/rest</code> URL whilst applying all filters you need to the general case. Here is an example:</p>\n<pre><code>&lt;bean id=&quot;filterChainProxy&quot; class=&quot;org.springframework.security.web.FilterChainProxy&quot;&gt;\n&lt;constructor-arg&gt;\n    &lt;list&gt;\n    &lt;sec:filter-chain pattern=&quot;/rest/**&quot; filters=&quot;none&quot; /&gt;\n    &lt;sec:filter-chain pattern=&quot;/**&quot; filters=&quot;\n        UsernamePasswordAuthenticationFilter,\n        basicAuthenticationFilter,\n        formLoginFilter,\n        securityContextPersistenceFilterWithASCTrue,\n        exceptionTranslationFilter,\n        filterSecurityInterceptor&quot; /&gt;\n    &lt;/list&gt;\n&lt;/constructor-arg&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>The order above is important. The more restrict URLs must come first.</p>\n"}],"owner":{"account_id":5809819,"reputation":3680,"user_id":4581287,"accept_rate":51,"display_name":"Parag Kadam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":841,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1666170892,"creation_date":1652778888,"question_id":72271308,"body_markdown":"I am using Spring Security 4 in my Struts app and want all the URLs to go through Spring Security except the URLs starting with `/rest`. How can I get this to work as I understand that regex patterns are not allowed to be used in web.xml.\r\n\r\nHence, `&lt;url-pattern&gt;^(?!\\/rest).*$&lt;/url-pattern&gt;` does not work.\r\n\r\n**web.xml**\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t    &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;^(?!\\/rest).*$&lt;/url-pattern&gt;              &lt;!-- Doesn&#39;t work --&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\n\r\n**security.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans:beans xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\r\n           xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n        http://www.springframework.org/schema/beans/spring-beans.xsd\r\n        http://www.springframework.org/schema/security\r\n        http://www.springframework.org/schema/security/spring-security.xsd&quot;&gt;\r\n    \r\n        &lt;security:http use-expressions=&quot;true&quot; create-session=&quot;ifRequired&quot; request-matcher=&quot;regex&quot;&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/(css|fonts|help|images|layouts|scripts).*$&quot; access=&quot;permitAll&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/login.*$&quot; access=&quot;permitAll&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/logout.*$&quot; access=&quot;permitAll&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/accessDenied.cprms$&quot; access=&quot;permitAll&quot;/&gt;\r\n    \r\n            &lt;security:intercept-url pattern=&quot;^.*.jsp$&quot; access=&quot;isAuthenticated()&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/errors\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;adminRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;,&#39;changePasswordRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/control\\/.*$&quot; access=&quot;isAuthenticated()&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/control\\/jobStatus.cprms$&quot; access=&quot;isAuthenticated()&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/sysad\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/userad\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;adminRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/myprofile\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;adminRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;,&#39;changePasswordRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/config\\/carpark\\/carParkDetails.cprms$&quot; access=&quot;isAuthenticated()&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/config\\/carpark\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;adminRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/config\\/product\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;adminRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/config\\/splevt\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;adminRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/config\\/alert\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;adminRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/config\\/location\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;supportRole&#39;,&#39;nolocation&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/config\\/competitor\\/details\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;adminRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/config\\/competitor\\/product\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;adminRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/config\\/consolidator\\/interface\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;adminRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/config\\/consolidator\\/details\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;adminRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/config\\/consolidator\\/product\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/monitor\\/config\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;adminRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/monitor\\/configure\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;adminRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/monitor\\/operation\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;superRole&#39;,&#39;systemRole&#39;,&#39;supportRole&#39;,&#39;adminRole&#39;,&#39;businessRole&#39;,&#39;operationalRole&#39;)&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/recommendedSettings.cprms$&quot; access=&quot;isAuthenticated()&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/.*errors.cprms$&quot; access=&quot;isAuthenticated()&quot;/&gt;\r\n            &lt;security:intercept-url pattern=&quot;^\\/upload\\/uploadExtract\\/.*$&quot; access=&quot;hasAnyAuthority(&#39;uploadExtractRole&#39;)&quot;/&gt;\r\n    \r\n            &lt;security:intercept-url pattern=&quot;^\\/.*$&quot; access=&quot;isAuthenticated()&quot;/&gt;\r\n    \r\n            &lt;security:form-login\r\n                    login-page=&quot;/loginRedirector.jsp&quot;\r\n                    login-processing-url=&quot;/login&quot;\r\n                    authentication-failure-handler-ref=&quot;authenticationFailureHandler&quot;\r\n                    default-target-url=&quot;/welcome.jsp&quot;\r\n                    always-use-default-target=&quot;true&quot;\r\n                    username-parameter=&quot;j_username&quot;\r\n                    password-parameter=&quot;j_password&quot;\r\n            /&gt;\r\n            &lt;security:logout logout-success-url=&quot;/loginRedirector.jsp&quot; /&gt;\r\n    \r\n            &lt;security:session-management invalid-session-url=&quot;/loginRedirector.jsp&quot;&gt;\r\n                &lt;security:concurrency-control max-sessions=&quot;1&quot; /&gt;\r\n            &lt;/security:session-management&gt;\r\n            &lt;security:csrf disabled=&quot;true&quot;/&gt;\r\n        &lt;/security:http&gt;\r\n    \r\n        &lt;security:authentication-manager erase-credentials=&quot;false&quot;&gt;\r\n            &lt;security:authentication-provider&gt;\r\n                &lt;security:password-encoder ref=&quot;passwordEncoder&quot; /&gt;\r\n                &lt;security:jdbc-user-service\r\n                    data-source-ref=&quot;globalDataSource&quot;\r\n                    users-by-username-query=&quot;SELECT user_id AS `username`, PASSWORD AS `password`, IF(user_locked = &#39;N&#39;, 1, 0) AS `enabled` FROM `user` WHERE user_id = ?&quot;\r\n                    authorities-by-username-query=&quot;SELECT u.user_id AS `username`, r.NAME AS `role` FROM `user` u INNER JOIN user_role ur ON ur.user_fk = u.user_pk INNER JOIN role AS r ON ur.role_fk = r.role_pk WHERE u.user_id = ?&quot;\r\n                /&gt;\r\n            &lt;/security:authentication-provider&gt;\r\n            &lt;security:authentication-provider ref=&quot;ssoAuthenticationProvider&quot; /&gt;\r\n        &lt;/security:authentication-manager&gt;\r\n    \r\n        &lt;beans:bean id=&quot;authenticationFailureHandler&quot; class=&quot;com.ideas.carparkpro.core.service.impl.LoginFailureHandler&quot; /&gt;\r\n        &lt;beans:bean id=&quot;passwordEncoder&quot; class=&quot;org.springframework.security.authentication.encoding.ShaPasswordEncoder&quot;/&gt;\r\n        &lt;beans:bean id=&quot;ssoAuthenticationProvider&quot; class=&quot;com.ideas.carparkpro.core.service.impl.SSOAuthenticationProvider&quot; /&gt;\r\n    \r\n    &lt;/beans:beans&gt;\r\n\r\n","title":"Exclude certain URL patterns from Spring Security","body":"<p>I am using Spring Security 4 in my Struts app and want all the URLs to go through Spring Security except the URLs starting with <code>/rest</code>. How can I get this to work as I understand that regex patterns are not allowed to be used in web.xml.</p>\n<p>Hence, <code>&lt;url-pattern&gt;^(?!\\/rest).*$&lt;/url-pattern&gt;</code> does not work.</p>\n<p><strong>web.xml</strong></p>\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n    &lt;url-pattern&gt;^(?!\\/rest).*$&lt;/url-pattern&gt;              &lt;!-- Doesn't work --&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n<p><strong>security.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans:beans xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\n       xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/security\n    http://www.springframework.org/schema/security/spring-security.xsd&quot;&gt;\n\n    &lt;security:http use-expressions=&quot;true&quot; create-session=&quot;ifRequired&quot; request-matcher=&quot;regex&quot;&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/(css|fonts|help|images|layouts|scripts).*$&quot; access=&quot;permitAll&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/login.*$&quot; access=&quot;permitAll&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/logout.*$&quot; access=&quot;permitAll&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/accessDenied.cprms$&quot; access=&quot;permitAll&quot;/&gt;\n\n        &lt;security:intercept-url pattern=&quot;^.*.jsp$&quot; access=&quot;isAuthenticated()&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/errors\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','adminRole','businessRole','operationalRole','changePasswordRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/control\\/.*$&quot; access=&quot;isAuthenticated()&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/control\\/jobStatus.cprms$&quot; access=&quot;isAuthenticated()&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/sysad\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/userad\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','adminRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/myprofile\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','adminRole','businessRole','operationalRole','changePasswordRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/config\\/carpark\\/carParkDetails.cprms$&quot; access=&quot;isAuthenticated()&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/config\\/carpark\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','adminRole','businessRole','operationalRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/config\\/product\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','adminRole','businessRole','operationalRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/config\\/splevt\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','adminRole','businessRole','operationalRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/config\\/alert\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','adminRole','businessRole','operationalRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/config\\/location\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','supportRole','nolocation')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/config\\/competitor\\/details\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','adminRole','businessRole','operationalRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/config\\/competitor\\/product\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','adminRole','businessRole','operationalRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/config\\/consolidator\\/interface\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','adminRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/config\\/consolidator\\/details\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','adminRole','businessRole','operationalRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/config\\/consolidator\\/product\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','businessRole','operationalRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/monitor\\/config\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','adminRole','businessRole','operationalRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/monitor\\/configure\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','adminRole','businessRole','operationalRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/monitor\\/operation\\/.*$&quot; access=&quot;hasAnyAuthority('superRole','systemRole','supportRole','adminRole','businessRole','operationalRole')&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/recommendedSettings.cprms$&quot; access=&quot;isAuthenticated()&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/.*errors.cprms$&quot; access=&quot;isAuthenticated()&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;^\\/upload\\/uploadExtract\\/.*$&quot; access=&quot;hasAnyAuthority('uploadExtractRole')&quot;/&gt;\n\n        &lt;security:intercept-url pattern=&quot;^\\/.*$&quot; access=&quot;isAuthenticated()&quot;/&gt;\n\n        &lt;security:form-login\n                login-page=&quot;/loginRedirector.jsp&quot;\n                login-processing-url=&quot;/login&quot;\n                authentication-failure-handler-ref=&quot;authenticationFailureHandler&quot;\n                default-target-url=&quot;/welcome.jsp&quot;\n                always-use-default-target=&quot;true&quot;\n                username-parameter=&quot;j_username&quot;\n                password-parameter=&quot;j_password&quot;\n        /&gt;\n        &lt;security:logout logout-success-url=&quot;/loginRedirector.jsp&quot; /&gt;\n\n        &lt;security:session-management invalid-session-url=&quot;/loginRedirector.jsp&quot;&gt;\n            &lt;security:concurrency-control max-sessions=&quot;1&quot; /&gt;\n        &lt;/security:session-management&gt;\n        &lt;security:csrf disabled=&quot;true&quot;/&gt;\n    &lt;/security:http&gt;\n\n    &lt;security:authentication-manager erase-credentials=&quot;false&quot;&gt;\n        &lt;security:authentication-provider&gt;\n            &lt;security:password-encoder ref=&quot;passwordEncoder&quot; /&gt;\n            &lt;security:jdbc-user-service\n                data-source-ref=&quot;globalDataSource&quot;\n                users-by-username-query=&quot;SELECT user_id AS `username`, PASSWORD AS `password`, IF(user_locked = 'N', 1, 0) AS `enabled` FROM `user` WHERE user_id = ?&quot;\n                authorities-by-username-query=&quot;SELECT u.user_id AS `username`, r.NAME AS `role` FROM `user` u INNER JOIN user_role ur ON ur.user_fk = u.user_pk INNER JOIN role AS r ON ur.role_fk = r.role_pk WHERE u.user_id = ?&quot;\n            /&gt;\n        &lt;/security:authentication-provider&gt;\n        &lt;security:authentication-provider ref=&quot;ssoAuthenticationProvider&quot; /&gt;\n    &lt;/security:authentication-manager&gt;\n\n    &lt;beans:bean id=&quot;authenticationFailureHandler&quot; class=&quot;com.ideas.carparkpro.core.service.impl.LoginFailureHandler&quot; /&gt;\n    &lt;beans:bean id=&quot;passwordEncoder&quot; class=&quot;org.springframework.security.authentication.encoding.ShaPasswordEncoder&quot;/&gt;\n    &lt;beans:bean id=&quot;ssoAuthenticationProvider&quot; class=&quot;com.ideas.carparkpro.core.service.impl.SSOAuthenticationProvider&quot; /&gt;\n\n&lt;/beans:beans&gt;\n</code></pre>\n"},{"tags":["java","hashmap"],"answers":[{"tags":[],"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"down_vote_count":2,"up_vote_count":5,"is_accepted":true,"score":3,"last_activity_date":1653925710,"creation_date":1653924394,"answer_id":72436681,"question_id":72436555,"body_markdown":"What you&#39;re trying to do is to invert the map (values become keys and keys get grouped by old values). There should be libraries that do that, but a sample solution with streams:\r\n\r\n    result = map.entrySet()\r\n    .stream()\r\n    .filter(e -&gt; Collections.frequency(map.values(), e.getValue()) &gt; 1)\r\n    .collect(Collectors.groupingBy(Map.Entry::getValue, Collectors.mapping(Map.Entry::getKey, Collectors.toList())))","title":"Mapping duplicate values from Map against the keys in which they are found","body":"<p>What you're trying to do is to invert the map (values become keys and keys get grouped by old values). There should be libraries that do that, but a sample solution with streams:</p>\n<pre><code>result = map.entrySet()\n.stream()\n.filter(e -&gt; Collections.frequency(map.values(), e.getValue()) &gt; 1)\n.collect(Collectors.groupingBy(Map.Entry::getValue, Collectors.mapping(Map.Entry::getKey, Collectors.toList())))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653924427,"creation_date":1653924427,"answer_id":72436690,"question_id":72436555,"body_markdown":"You can do this with [Guava&#39;s Multimap][1].\r\n\r\n\tfinal Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\tmap.put(&quot;Shop1&quot;, &quot;Product1&quot;);\r\n\tmap.put(&quot;Shop2&quot;, &quot;Product2&quot;);\r\n\tmap.put(&quot;Shop3&quot;, &quot;Product1&quot;);\r\n\tmap.put(&quot;Shop4&quot;, &quot;Product2&quot;);\r\n\tmap.put(&quot;Shop5&quot;, &quot;Product3&quot;);\r\n\r\n\tfinal Multimap&lt;String, String&gt; shopToProduct = Multimaps.forMap(map), productToShop = HashMultimap.create();\r\n\r\n\tMultimaps.invertFrom(shopToProduct, productToShop);\r\n\r\n\t// Prints the output you want\r\n\tproductToShop.asMap().entrySet().forEach(System.out::println);\r\n\r\n\t// You can also get the backing map, but ideally use the Multimap abstraction\r\n\tfinal Map&lt;String, Collection&lt;String&gt;&gt; backingMap = productToShop.asMap();\r\n\r\n\r\n  [1]: https://github.com/google/guava/wiki/NewCollectionTypesExplained#multimap","title":"Mapping duplicate values from Map against the keys in which they are found","body":"<p>You can do this with <a href=\"https://github.com/google/guava/wiki/NewCollectionTypesExplained#multimap\" rel=\"nofollow noreferrer\">Guava's Multimap</a>.</p>\n<pre><code>final Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;Shop1&quot;, &quot;Product1&quot;);\nmap.put(&quot;Shop2&quot;, &quot;Product2&quot;);\nmap.put(&quot;Shop3&quot;, &quot;Product1&quot;);\nmap.put(&quot;Shop4&quot;, &quot;Product2&quot;);\nmap.put(&quot;Shop5&quot;, &quot;Product3&quot;);\n\nfinal Multimap&lt;String, String&gt; shopToProduct = Multimaps.forMap(map), productToShop = HashMultimap.create();\n\nMultimaps.invertFrom(shopToProduct, productToShop);\n\n// Prints the output you want\nproductToShop.asMap().entrySet().forEach(System.out::println);\n\n// You can also get the backing map, but ideally use the Multimap abstraction\nfinal Map&lt;String, Collection&lt;String&gt;&gt; backingMap = productToShop.asMap();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653924533,"creation_date":1653924533,"answer_id":72436713,"question_id":72436555,"body_markdown":"Find the `distinct` values first. After that, you can iterate through each value and search for their  `key` on the map, whenever you find a `key` you just put them into a `list`.\r\n\r\n\r\n```\r\nList&lt;String&gt; list = map.values().stream().distinct().collect(Collectors.toList()); //Collecting the distinct values\r\n```\r\n\r\n```\r\nfor (String value : list) {  //iterating through each key\r\n    List&lt;String&gt; temp =  map.entrySet()\r\n             .stream()\r\n             .filter(entry -&gt; value.equals(entry.getValue())) //filtering out similar entries\r\n             .map(Map.Entry::getKey)\r\n             .collect(Collectors.toList());\r\n     result.put(value, temp);\r\n }\r\n System.out.println(result);\r\n```","title":"Mapping duplicate values from Map against the keys in which they are found","body":"<p>Find the <code>distinct</code> values first. After that, you can iterate through each value and search for their  <code>key</code> on the map, whenever you find a <code>key</code> you just put them into a <code>list</code>.</p>\n<pre><code>List&lt;String&gt; list = map.values().stream().distinct().collect(Collectors.toList()); //Collecting the distinct values\n</code></pre>\n<pre><code>for (String value : list) {  //iterating through each key\n    List&lt;String&gt; temp =  map.entrySet()\n             .stream()\n             .filter(entry -&gt; value.equals(entry.getValue())) //filtering out similar entries\n             .map(Map.Entry::getKey)\n             .collect(Collectors.toList());\n     result.put(value, temp);\n }\n System.out.println(result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4338279,"reputation":558,"user_id":3542239,"display_name":"Idan Elhalwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653925053,"creation_date":1653925053,"answer_id":72436828,"question_id":72436555,"body_markdown":"You can use Guava&#39;s [Multimap][1] to achieve this, however you&#39;d need to invert the map.\r\n\r\n```java\r\nMultimap&lt;String, String&gt; map = HashMultimap.create();\r\nmap.put(&quot;Product1&quot;, &quot;Shop1&quot;);\r\nmap.put(&quot;Product2&quot;, &quot;Shop2&quot;);\r\nmap.put(&quot;Product2&quot;, &quot;Shop1&quot;);\r\nmap.put(&quot;Product2&quot;, &quot;Shop4&quot;);\r\nmap.put(&quot;Product3&quot;, &quot;Shop5&quot;);\r\nSystem.out.println(map.get(&quot;Product2&quot;)); // [Shop4, Shop1, Shop2]\r\n```\r\n\r\nAlternatively, if you&#39;d prefer not to invert the original map - you can use a `Map&lt;String, List&lt;String&gt;` (Or combine the following solution with the `Multimap` above) and add records with `computeIfAbsent`, then invert the map to get the values you want.\r\n\r\n```java\r\n        Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\r\n        map.computeIfAbsent(&quot;Shop1&quot;, (x) -&gt; new ArrayList&lt;&gt;()).add(&quot;Product1&quot;);\r\n        map.computeIfAbsent(&quot;Shop2&quot;, (x) -&gt; new ArrayList&lt;&gt;()).add(&quot;Product2&quot;);\r\n        map.computeIfAbsent(&quot;Shop3&quot;, (x) -&gt; new ArrayList&lt;&gt;()).add(&quot;Product1&quot;);\r\n        map.computeIfAbsent(&quot;Shop4&quot;, (x) -&gt; new ArrayList&lt;&gt;()).add(&quot;Product2&quot;);\r\n        map.computeIfAbsent(&quot;Shop5&quot;, (x) -&gt; new ArrayList&lt;&gt;()).add(&quot;Product3&quot;);\r\n        // Invert the map\r\n        Map&lt;String, List&lt;String&gt;&gt; invertedMap = map\r\n                .entrySet()\r\n                .stream()\r\n                .collect(HashMap::new, (m, entry) -&gt; {\r\n                    entry.getValue().forEach((value) -&gt; {\r\n                        m.computeIfAbsent(value, (x) -&gt; new ArrayList&lt;&gt;()).add(entry.getKey());\r\n                    });\r\n                }, Map::putAll);\r\n\r\n        System.out.println(invertedMap); // {Product3=[Shop5], Product1=[Shop1, Shop3], Product2=[Shop4, Shop2]}\r\n```\r\n\r\n\r\n\r\n  [1]: https://guava.dev/releases/23.0/api/docs/com/google/common/collect/Multimap.html","title":"Mapping duplicate values from Map against the keys in which they are found","body":"<p>You can use Guava's <a href=\"https://guava.dev/releases/23.0/api/docs/com/google/common/collect/Multimap.html\" rel=\"nofollow noreferrer\">Multimap</a> to achieve this, however you'd need to invert the map.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Multimap&lt;String, String&gt; map = HashMultimap.create();\nmap.put(&quot;Product1&quot;, &quot;Shop1&quot;);\nmap.put(&quot;Product2&quot;, &quot;Shop2&quot;);\nmap.put(&quot;Product2&quot;, &quot;Shop1&quot;);\nmap.put(&quot;Product2&quot;, &quot;Shop4&quot;);\nmap.put(&quot;Product3&quot;, &quot;Shop5&quot;);\nSystem.out.println(map.get(&quot;Product2&quot;)); // [Shop4, Shop1, Shop2]\n</code></pre>\n<p>Alternatively, if you'd prefer not to invert the original map - you can use a <code>Map&lt;String, List&lt;String&gt;</code> (Or combine the following solution with the <code>Multimap</code> above) and add records with <code>computeIfAbsent</code>, then invert the map to get the values you want.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\n        map.computeIfAbsent(&quot;Shop1&quot;, (x) -&gt; new ArrayList&lt;&gt;()).add(&quot;Product1&quot;);\n        map.computeIfAbsent(&quot;Shop2&quot;, (x) -&gt; new ArrayList&lt;&gt;()).add(&quot;Product2&quot;);\n        map.computeIfAbsent(&quot;Shop3&quot;, (x) -&gt; new ArrayList&lt;&gt;()).add(&quot;Product1&quot;);\n        map.computeIfAbsent(&quot;Shop4&quot;, (x) -&gt; new ArrayList&lt;&gt;()).add(&quot;Product2&quot;);\n        map.computeIfAbsent(&quot;Shop5&quot;, (x) -&gt; new ArrayList&lt;&gt;()).add(&quot;Product3&quot;);\n        // Invert the map\n        Map&lt;String, List&lt;String&gt;&gt; invertedMap = map\n                .entrySet()\n                .stream()\n                .collect(HashMap::new, (m, entry) -&gt; {\n                    entry.getValue().forEach((value) -&gt; {\n                        m.computeIfAbsent(value, (x) -&gt; new ArrayList&lt;&gt;()).add(entry.getKey());\n                    });\n                }, Map::putAll);\n\n        System.out.println(invertedMap); // {Product3=[Shop5], Product1=[Shop1, Shop3], Product2=[Shop4, Shop2]}\n</code></pre>\n"}],"owner":{"account_id":5809819,"reputation":3680,"user_id":4581287,"accept_rate":51,"display_name":"Parag Kadam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1653925304,"accepted_answer_id":72436681,"answer_count":4,"score":-1,"last_activity_date":1666170834,"creation_date":1653923714,"question_id":72436555,"body_markdown":"What I have is:\r\n\r\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;Shop1&quot;, &quot;Product1&quot;);\r\n    map.put(&quot;Shop2&quot;, &quot;Product2&quot;);\r\n    map.put(&quot;Shop3&quot;, &quot;Product1&quot;);\r\n    map.put(&quot;Shop4&quot;, &quot;Product2&quot;);\r\n    map.put(&quot;Shop5&quot;, &quot;Product3&quot;);\r\n\r\nWhat I want is:\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; result = new HashMap&lt;&gt;();\r\n\r\nWherein `result` contains:\r\n\r\nProduct1 -&gt; Shop1,Shop3\r\n\r\nProduct2 -&gt; Shop2,Shop4\r\n\r\nHere Product1 is found at multiple times in shops Shop1 &amp; Shop3 and Product2 is found multiple times in shops Shop2 &amp; Shop4.\r\n","title":"Mapping duplicate values from Map against the keys in which they are found","body":"<p>What I have is:</p>\n<pre><code>Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;Shop1&quot;, &quot;Product1&quot;);\nmap.put(&quot;Shop2&quot;, &quot;Product2&quot;);\nmap.put(&quot;Shop3&quot;, &quot;Product1&quot;);\nmap.put(&quot;Shop4&quot;, &quot;Product2&quot;);\nmap.put(&quot;Shop5&quot;, &quot;Product3&quot;);\n</code></pre>\n<p>What I want is:</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; result = new HashMap&lt;&gt;();\n</code></pre>\n<p>Wherein <code>result</code> contains:</p>\n<p>Product1 -&gt; Shop1,Shop3</p>\n<p>Product2 -&gt; Shop2,Shop4</p>\n<p>Here Product1 is found at multiple times in shops Shop1 &amp; Shop3 and Product2 is found multiple times in shops Shop2 &amp; Shop4.</p>\n"},{"tags":["java","intellij-idea","logging"],"comments":[{"owner":{"account_id":7548491,"reputation":844,"user_id":5730762,"display_name":"Alexander Terekhov"},"score":1,"creation_date":1666170892,"post_id":74122662,"comment_id":130870135,"body_markdown":"If you have &quot;Class : method&quot; pattern in the logging you can try search by regex:\nlog.error\\(&quot;[A-z0-9]+ : [A-z0-9]+","body":"If you have &quot;Class : method&quot; pattern in the logging you can try search by regex: log.error&#40;&quot;[A-z0-9]+ : [A-z0-9]+"},{"owner":{"account_id":17234105,"reputation":41,"user_id":12477935,"display_name":"gan7202"},"score":0,"creation_date":1666171270,"post_id":74122662,"comment_id":130870259,"body_markdown":"I got message as .... Bad pattern &quot;log.error(&quot;[A-z0-9]+ : [A-z0-9]+&quot;: Unclosed group.","body":"I got message as .... Bad pattern &quot;log.error(&quot;[A-z0-9]+ : [A-z0-9]+&quot;: Unclosed group."},{"owner":{"account_id":7548491,"reputation":844,"user_id":5730762,"display_name":"Alexander Terekhov"},"score":0,"creation_date":1666171547,"post_id":74122662,"comment_id":130870365,"body_markdown":"Did you insert the pattern in the &quot;Find in files&quot; dialog?\nAnd chose the &quot;regexp&quot; search?","body":"Did you insert the pattern in the &quot;Find in files&quot; dialog? And chose the &quot;regexp&quot; search?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":3,"creation_date":1666171901,"post_id":74122662,"comment_id":130870512,"body_markdown":"The regex must be `log.error\\(&quot;[A-z0-9]+ : [A-z0-9]+` (note the backslash before the &quot;(&quot; - otherwise the ( is interpreted as start of a capturing group)","body":"The regex must be <code>log.error\\(&quot;[A-z0-9]+ : [A-z0-9]+</code> (note the backslash before the &quot;(&quot; - otherwise the ( is interpreted as start of a capturing group)"}],"owner":{"account_id":17234105,"reputation":41,"user_id":12477935,"display_name":"gan7202"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666170404,"creation_date":1666170404,"question_id":74122662,"body_markdown":"The below is the example, How to find the java files which logging the function/class names in log statements.\r\n\r\n    log.error(&quot;ManagerServiceImpl : processDeviceMgrNotification - failed for device [{}] due to: &quot;);\r\n\r\nCould any one suggest me the proper search criteria to use in intellij to get above result.","title":"how to find all methods names which are used in log statements in java","body":"<p>The below is the example, How to find the java files which logging the function/class names in log statements.</p>\n<pre><code>log.error(&quot;ManagerServiceImpl : processDeviceMgrNotification - failed for device [{}] due to: &quot;);\n</code></pre>\n<p>Could any one suggest me the proper search criteria to use in intellij to get above result.</p>\n"},{"tags":["java","android","android-studio","kotlin","android-cursor"],"answers":[{"tags":[],"owner":{"account_id":25739271,"reputation":653,"user_id":19493508,"display_name":"Hanif Shaikh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666080211,"creation_date":1666080211,"answer_id":74107645,"question_id":74085065,"body_markdown":"Reference:- https://developer.android.com/training/contacts-provider/retrieve-details\r\n\r\nThe above Link has - ContactsContract.Data.DATA1 \r\n that only retrieves the phone number \r\ncheckout above link for more detail","title":"How to get the only phone number from the device contact, not whats app and duo number, etc","body":"<p>Reference:- <a href=\"https://developer.android.com/training/contacts-provider/retrieve-details\" rel=\"nofollow noreferrer\">https://developer.android.com/training/contacts-provider/retrieve-details</a></p>\n<p>The above Link has - ContactsContract.Data.DATA1\nthat only retrieves the phone number\ncheckout above link for more detail</p>\n"},{"tags":[],"owner":{"account_id":25739271,"reputation":653,"user_id":19493508,"display_name":"Hanif Shaikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666170256,"creation_date":1666170256,"answer_id":74122632,"question_id":74085065,"body_markdown":"try this one i hope this will help you.\r\n\r\n    //ContactsContract defines an extensible database of contact-related information\r\n        var uri = ContactsContract.Data.CONTENT_URI\r\n\r\n        val PROJECTION = arrayOf(\r\n            ContactsContract.Data.CONTACT_ID,\r\n            ContactsContract.Data.DISPLAY_NAME,\r\n            ContactsContract.Data.PHOTO_URI,\r\n            ContactsContract.Data.DATA1\r\n        )\r\n\r\n\r\n        var cursor =\r\n            contentResolver.query(uri, PROJECTION, ContactsContract.Data.MIMETYPE + &quot; = ?&quot;, arrayOf(\r\n                ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE\r\n            ), ContactsContract.Contacts.DISPLAY_NAME + &quot; ASC &quot;, null)\r\n\r\n        while (cursor.moveToNext())\r\n        {\r\n            val contactId =\r\n                cursor!!.getString(cursor!!.getColumnIndex(ContactsContract.Data.CONTACT_ID))\r\n            val photo = cursor!!.getString(cursor!!.getColumnIndex(ContactsContract.Data.PHOTO_URI))\r\n            val name = cursor!!.getString(cursor!!.getColumnIndex(ContactsContract.Data.DISPLAY_NAME))\r\n            val phone = cursor!!.getString(cursor!!.getColumnIndex(ContactsContract.Data.DATA1))\r\n        }","title":"How to get the only phone number from the device contact, not whats app and duo number, etc","body":"<p>try this one i hope this will help you.</p>\n<pre><code>//ContactsContract defines an extensible database of contact-related information\n    var uri = ContactsContract.Data.CONTENT_URI\n\n    val PROJECTION = arrayOf(\n        ContactsContract.Data.CONTACT_ID,\n        ContactsContract.Data.DISPLAY_NAME,\n        ContactsContract.Data.PHOTO_URI,\n        ContactsContract.Data.DATA1\n    )\n\n\n    var cursor =\n        contentResolver.query(uri, PROJECTION, ContactsContract.Data.MIMETYPE + &quot; = ?&quot;, arrayOf(\n            ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE\n        ), ContactsContract.Contacts.DISPLAY_NAME + &quot; ASC &quot;, null)\n\n    while (cursor.moveToNext())\n    {\n        val contactId =\n            cursor!!.getString(cursor!!.getColumnIndex(ContactsContract.Data.CONTACT_ID))\n        val photo = cursor!!.getString(cursor!!.getColumnIndex(ContactsContract.Data.PHOTO_URI))\n        val name = cursor!!.getString(cursor!!.getColumnIndex(ContactsContract.Data.DISPLAY_NAME))\n        val phone = cursor!!.getString(cursor!!.getColumnIndex(ContactsContract.Data.DATA1))\n    }\n</code></pre>\n"}],"owner":{"account_id":16192048,"reputation":2376,"user_id":11690526,"display_name":"Tippu Fisal Sheriff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666170256,"creation_date":1665901883,"question_id":74085065,"body_markdown":"How to get the only phone number from the device contact, not whats app and duo number, etc...\r\n\r\nExample:\r\nI got the device contact number, but that return\r\n\r\n 1. Phone Number\r\n 2. What&#39;s App Number\r\n 3. Google Duo Number etc...\r\n\r\nNote: I need only a phone number from the local device contact.\r\n\r\n\r\n    val phones: Cursor? = contentResolver.query(\r\n            ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\r\n            null,\r\n            ContactsContract.CommonDataKinds.Phone.CONTACT_ID + &quot; = ?&quot;,\r\n            arrayOf(contactId),\r\n            null\r\n        )\r\n\r\n    // This will return list of contact number\r\n    val phoneNumbers: Int = it.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER)\r\n\r\n","title":"How to get the only phone number from the device contact, not whats app and duo number, etc","body":"<p>How to get the only phone number from the device contact, not whats app and duo number, etc...</p>\n<p>Example:\nI got the device contact number, but that return</p>\n<ol>\n<li>Phone Number</li>\n<li>What's App Number</li>\n<li>Google Duo Number etc...</li>\n</ol>\n<p>Note: I need only a phone number from the local device contact.</p>\n<pre><code>val phones: Cursor? = contentResolver.query(\n        ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\n        null,\n        ContactsContract.CommonDataKinds.Phone.CONTACT_ID + &quot; = ?&quot;,\n        arrayOf(contactId),\n        null\n    )\n\n// This will return list of contact number\nval phoneNumbers: Int = it.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER)\n</code></pre>\n"},{"tags":["java","spring-boot","gradle","intellij-idea","class-diagram"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1665569559,"post_id":74039783,"comment_id":130729794,"body_markdown":"Could you clarify please? &quot;Java Classes&quot; option shows diagram for selected file or package.","body":"Could you clarify please? &quot;Java Classes&quot; option shows diagram for selected file or package."},{"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"score":0,"creation_date":1665570057,"post_id":74039783,"comment_id":130729945,"body_markdown":"It shows a diagram for the file class, but instead of the class diagram, it only shows the annotations of the class.","body":"It shows a diagram for the file class, but instead of the class diagram, it only shows the annotations of the class."},{"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"score":0,"creation_date":1665570145,"post_id":74039783,"comment_id":130729971,"body_markdown":"I want to see the dependencies of the class, you could say a &quot;flow&quot; diagram.","body":"I want to see the dependencies of the class, you could say a &quot;flow&quot; diagram."},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1665583653,"post_id":74039783,"comment_id":130735343,"body_markdown":"Please vote the elated request on YouTrack: https://youtrack.jetbrains.com/issue/IDEA-81834/Show-dependencies-of-a-class-in-UML-diagram-without-manually-opening-the-dependencies","body":"Please vote the elated request on YouTrack: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-81834/Show-dependencies-of-a-class-in-UML-diagram-without-manually-opening-the-dependencies\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-81834/&hellip;</a>"},{"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"score":0,"creation_date":1665586755,"post_id":74039783,"comment_id":130736693,"body_markdown":"the fact that this request is 11 years old makes me a bit skeptical about it... But I&#39;ve upvoted it anyhow :).\nSo, I understand it is not possible in IntelliJ?","body":"the fact that this request is 11 years old makes me a bit skeptical about it... But I&#39;ve upvoted it anyhow :). So, I understand it is not possible in IntelliJ?"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1665603677,"post_id":74039783,"comment_id":130742326,"body_markdown":"Yes, there is no such feature. You may try to build diagram for &quot;src&quot; folder to avoid all dependencies shown.","body":"Yes, there is no such feature. You may try to build diagram for &quot;src&quot; folder to avoid all dependencies shown."},{"owner":{"account_id":8900126,"reputation":1612,"user_id":6643833,"display_name":"Tobias Otto"},"score":0,"creation_date":1665753900,"post_id":74039783,"comment_id":130778062,"body_markdown":"Please explain what information do you want to see. IntelliJ can show you methods, fields or properties. Right-Click in the class-diagramm -&gt; Content -&gt; Show Categories -&gt; Fields","body":"Please explain what information do you want to see. IntelliJ can show you methods, fields or properties. Right-Click in the class-diagramm -&gt; Content -&gt; Show Categories -&gt; Fields"},{"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"score":0,"creation_date":1666118785,"post_id":74039783,"comment_id":130858793,"body_markdown":"@TobiasOtto I&#39;ve tried to clarify things, please tell me if my needs are still not clear.","body":"@TobiasOtto I&#39;ve tried to clarify things, please tell me if my needs are still not clear."},{"owner":{"account_id":442668,"reputation":1431,"user_id":833399,"accept_rate":75,"display_name":"Knight Industries"},"score":1,"creation_date":1666345034,"post_id":74039783,"comment_id":130919982,"body_markdown":"IntelliJ can show UML [class diagrams](https://en.wikipedia.org/wiki/Class_diagram) including fields, methods, inheritance and relations out of the box. What you are probably looking for in order to visualize the &#39;flow&#39; of methods are [sequence diagrams](https://plugins.jetbrains.com/plugin/8286-sequencediagram).","body":"IntelliJ can show UML <a href=\"https://en.wikipedia.org/wiki/Class_diagram\" rel=\"nofollow noreferrer\">class diagrams</a> including fields, methods, inheritance and relations out of the box. What you are probably looking for in order to visualize the &#39;flow&#39; of methods are <a href=\"https://plugins.jetbrains.com/plugin/8286-sequencediagram\" rel=\"nofollow noreferrer\">sequence diagrams</a>."},{"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"score":0,"creation_date":1666345915,"post_id":74039783,"comment_id":130920269,"body_markdown":"@KnightIndustries you are right. This is what I am looking for, but the IntelliJ dependencies diagram should also be suitable for my needs if it just could be applied to 1 class.\nI have already checked out the sequence plugin and it is buggy when used on long flows, and has issues displaying flows of classes implementing interfaces or extending abstract classes.\nIt isn&#39;t a good enough solution :(","body":"@KnightIndustries you are right. This is what I am looking for, but the IntelliJ dependencies diagram should also be suitable for my needs if it just could be applied to 1 class. I have already checked out the sequence plugin and it is buggy when used on long flows, and has issues displaying flows of classes implementing interfaces or extending abstract classes. It isn&#39;t a good enough solution :("},{"owner":{"account_id":442668,"reputation":1431,"user_id":833399,"accept_rate":75,"display_name":"Knight Industries"},"score":0,"creation_date":1666348352,"post_id":74039783,"comment_id":130921098,"body_markdown":"So your question is about visualizing all imports of a class? The [dependency analysis](https://www.jetbrains.com/help/idea/dependencies-analysis.html) can help with this, but for a typical Java class with 20-30 imports, I suspect a diagram would quickly become incomprehensible.","body":"So your question is about visualizing all imports of a class? The <a href=\"https://www.jetbrains.com/help/idea/dependencies-analysis.html\" rel=\"nofollow noreferrer\">dependency analysis</a> can help with this, but for a typical Java class with 20-30 imports, I suspect a diagram would quickly become incomprehensible."}],"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":780,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666170047,"creation_date":1665567971,"question_id":74039783,"body_markdown":"I am writing in java SpringBoot and Gradle via IntelliJ. \r\nI want to be able to see all the classes my flow needs and the dependencies between them. The ideal diagram would contain the methods call flow.\r\nBut another good enough diagram would give me all the class contained in my flow.\r\nSo the best thing is something like:\r\n```\r\nClass1.method1 -&gt; Class2.method2 -&gt; Class3.method3\r\n```\r\nand ok diagram:\r\n```\r\nClass1 -&gt; Class2 -&gt; Class3\r\n```\r\n\r\nWhen trying to use the Diagrams | Show Diagram in a class I have the next options:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhen trying to use `Java Classes` - I am getting a diagram of only the class and its annotations:\r\n[![enter image description here][2]][2]\r\n\r\n\r\nWhen trying `Gradle Dependencies` / `Spring Beans Dependencies` I am getting it for the whole package, and I am having this super frightening (but very pretty) diagram:\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4M7ik.png\r\n  [2]: https://i.stack.imgur.com/W3Qx6.png\r\n  [3]: https://i.stack.imgur.com/54uvX.png\r\n\r\nSo it seems like IntelliJ has what I need but it can display it for the whole project, which is not realistic to use it.\r\nIs there a way I can have a diagram for only 1 class (as a root)?\r\nOr alternatively, do you know of another way (e.g. another IDE) to achieve this kind of diagram?","title":"IntelliJ class diagram as a &quot;flow&quot; diagram for only 1 class (or alternative)","body":"<p>I am writing in java SpringBoot and Gradle via IntelliJ.\nI want to be able to see all the classes my flow needs and the dependencies between them. The ideal diagram would contain the methods call flow.\nBut another good enough diagram would give me all the class contained in my flow.\nSo the best thing is something like:</p>\n<pre><code>Class1.method1 -&gt; Class2.method2 -&gt; Class3.method3\n</code></pre>\n<p>and ok diagram:</p>\n<pre><code>Class1 -&gt; Class2 -&gt; Class3\n</code></pre>\n<p>When trying to use the Diagrams | Show Diagram in a class I have the next options:</p>\n<p><a href=\"https://i.stack.imgur.com/4M7ik.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4M7ik.png\" alt=\"enter image description here\" /></a></p>\n<p>When trying to use <code>Java Classes</code> - I am getting a diagram of only the class and its annotations:\n<a href=\"https://i.stack.imgur.com/W3Qx6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W3Qx6.png\" alt=\"enter image description here\" /></a></p>\n<p>When trying <code>Gradle Dependencies</code> / <code>Spring Beans Dependencies</code> I am getting it for the whole package, and I am having this super frightening (but very pretty) diagram:\n<a href=\"https://i.stack.imgur.com/54uvX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/54uvX.png\" alt=\"enter image description here\" /></a></p>\n<p>So it seems like IntelliJ has what I need but it can display it for the whole project, which is not realistic to use it.\nIs there a way I can have a diagram for only 1 class (as a root)?\nOr alternatively, do you know of another way (e.g. another IDE) to achieve this kind of diagram?</p>\n"},{"tags":["java","http","testing","junit"],"comments":[{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":2,"creation_date":1666170199,"post_id":74122561,"comment_id":130869874,"body_markdown":"`429 Too Many Requests` is the HTTP status code you receive and its name is already giving it away. Seems like your API has some kind of [leaky-bucket filter](https://en.wikipedia.org/wiki/Leaky_bucket) that only allows a certain amount of API calls within a given time. As you didn&#39;t include any hints on what framework your API is made of or how its configured, it&#39;s hard to give further advice.","body":"<code>429 Too Many Requests</code> is the HTTP status code you receive and its name is already giving it away. Seems like your API has some kind of <a href=\"https://en.wikipedia.org/wiki/Leaky_bucket\" rel=\"nofollow noreferrer\">leaky-bucket filter</a> that only allows a certain amount of API calls within a given time. As you didn&#39;t include any hints on what framework your API is made of or how its configured, it&#39;s hard to give further advice."},{"owner":{"account_id":26036770,"reputation":11,"user_id":19742116,"display_name":"Albert Albatros"},"score":0,"creation_date":1666170667,"post_id":74122561,"comment_id":130870051,"body_markdown":"I can not really post some screens unfortunatelly but ye i have set the limit for 50 requests, but i want it to stay as it is and only increase that number in tests scope.","body":"I can not really post some screens unfortunatelly but ye i have set the limit for 50 requests, but i want it to stay as it is and only increase that number in tests scope."}],"owner":{"account_id":26036770,"reputation":11,"user_id":19742116,"display_name":"Albert Albatros"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666169884,"creation_date":1666169884,"question_id":74122561,"body_markdown":"Im testing my api and after 50 tests every next test is returning 429 instead of 200. Can you tell me how to fix it? How to inject rate limiter only to this test unit?","title":"Http 429 response while testing","body":"<p>Im testing my api and after 50 tests every next test is returning 429 instead of 200. Can you tell me how to fix it? How to inject rate limiter only to this test unit?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":7669559,"reputation":184,"user_id":5812260,"accept_rate":75,"display_name":"Dmitry K"},"score":0,"creation_date":1651234771,"post_id":71913235,"comment_id":127321722,"body_markdown":"I found the similar issue: https://stackoverflow.com/questions/30082281/manytoonefetch-fetchtype-lazy-doesnt-work-on-non-primary-key-referenced-co","body":"I found the similar issue: <a href=\"https://stackoverflow.com/questions/30082281/manytoonefetch-fetchtype-lazy-doesnt-work-on-non-primary-key-referenced-co\" title=\"manytoonefetch fetchtype lazy doesnt work on non primary key referenced co\">stackoverflow.com/questions/30082281/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3032783,"reputation":5092,"user_id":2571455,"display_name":"Rambler"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650310083,"creation_date":1650310083,"answer_id":71916207,"question_id":71913235,"body_markdown":"Just looking at the entity definition ` @ManyToOne(fetch = FetchType.LAZY)` is the cause.\r\n\r\nYou are explicitly telling JPA to fetch BB1 only when it is needed/accessed.Hence when the first call to get the parent entity is made BB1 is not loaded.It is only when you are accessing the child that triggers JPA to fetch it.\r\n\r\nIf you change it to `FetchType.EAGER` , both the entities will be queried in a single call.\r\n\r\nBut be careful there are advantages/pit-falls with either approach.\r\nRead more abt it here : https://thorben-janssen.com/entity-mappings-introduction-jpa-fetchtypes/\r\n","title":"Hibernate left join fetch by non-primary keys","body":"<p>Just looking at the entity definition <code> @ManyToOne(fetch = FetchType.LAZY)</code> is the cause.</p>\n<p>You are explicitly telling JPA to fetch BB1 only when it is needed/accessed.Hence when the first call to get the parent entity is made BB1 is not loaded.It is only when you are accessing the child that triggers JPA to fetch it.</p>\n<p>If you change it to <code>FetchType.EAGER</code> , both the entities will be queried in a single call.</p>\n<p>But be careful there are advantages/pit-falls with either approach.\nRead more abt it here : <a href=\"https://thorben-janssen.com/entity-mappings-introduction-jpa-fetchtypes/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/entity-mappings-introduction-jpa-fetchtypes/</a></p>\n"},{"tags":[],"owner":{"account_id":3261458,"reputation":232,"user_id":5035345,"accept_rate":57,"display_name":"Guillaume Delafosse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666165653,"creation_date":1666165653,"answer_id":74121643,"question_id":71913235,"body_markdown":"You must add FETCH to your JPQL query :\r\n\r\n    SELECT a FROM AA1 a LEFT JOIN FETCH a.bb1 b;\r\n\r\nbut keep the LAZY loading, because Hibernante will always try to get ManyToOne or OneToOne relationship, which are EAGER by default, with an additional query.\r\n\r\nLook at this article [https://thorben-janssen.com/5-common-hibernate-mistakes-that-cause-dozens-of-unexpected-queries/][1] from Th\r\n\r\n\r\n  [1]: https://thorben-janssen.com/5-common-hibernate-mistakes-that-cause-dozens-of-unexpected-queries/#Use_FetchTypeLAZY_for_all_Associations","title":"Hibernate left join fetch by non-primary keys","body":"<p>You must add FETCH to your JPQL query :</p>\n<pre><code>SELECT a FROM AA1 a LEFT JOIN FETCH a.bb1 b;\n</code></pre>\n<p>but keep the LAZY loading, because Hibernante will always try to get ManyToOne or OneToOne relationship, which are EAGER by default, with an additional query.</p>\n<p>Look at this article <a href=\"https://thorben-janssen.com/5-common-hibernate-mistakes-that-cause-dozens-of-unexpected-queries/#Use_FetchTypeLAZY_for_all_Associations\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/5-common-hibernate-mistakes-that-cause-dozens-of-unexpected-queries/</a> from Th</p>\n"},{"tags":[],"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666169744,"creation_date":1666169744,"answer_id":74122533,"question_id":71913235,"body_markdown":"By default, to make lazy loading work for `@OneToOne` and `@ManyToOne`, you need to enable &quot;no proxy lazy associations&quot;. Otherwize, despite the FetchType.LAZY annotation, the associated object will be &quot;fetched&quot; and the &quot;fetch&quot; will be done with an extra sql query. \r\n\r\nTherefore, one half-way solution to leverage performances without enabling &quot;no proxy lazy associations&quot; is to avoid extra queries by forcing a join fetch on the associated objet. Various technics allow to reach this goal : &quot;LEFT JOIN FETCH&quot; in JPQL queries or EntityGraph.","title":"Hibernate left join fetch by non-primary keys","body":"<p>By default, to make lazy loading work for <code>@OneToOne</code> and <code>@ManyToOne</code>, you need to enable &quot;no proxy lazy associations&quot;. Otherwize, despite the FetchType.LAZY annotation, the associated object will be &quot;fetched&quot; and the &quot;fetch&quot; will be done with an extra sql query.</p>\n<p>Therefore, one half-way solution to leverage performances without enabling &quot;no proxy lazy associations&quot; is to avoid extra queries by forcing a join fetch on the associated objet. Various technics allow to reach this goal : &quot;LEFT JOIN FETCH&quot; in JPQL queries or EntityGraph.</p>\n"}],"owner":{"account_id":7669559,"reputation":184,"user_id":5812260,"accept_rate":75,"display_name":"Dmitry K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":657,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1666169744,"creation_date":1650292735,"question_id":71913235,"body_markdown":"Following entities:\r\n\r\n    @Table\r\n    class AA1 {\r\n     @Id\r\n     Long id;\r\n\r\n     String a_number;\r\n    \r\n     Category category;\r\n    \r\n     @ManyToOne(fetch = FetchType.LAZY)\r\n     @JoinColumn(name= &#39;a_number&#39;, referencedColumnName=&#39;a_number&#39;)\r\n     @JoinColumn(name= &#39;category&#39;, referencedColumnName=&#39;category&#39;)\r\n     BB1 bb1 \r\n    \r\n    ...other fields...\r\n    }\r\n    \r\n    @Table\r\n    class BB1 {\r\n     @Id\r\n     String a_number;\r\n\r\n     Category category;\r\n\r\n     String value;\r\n    }\r\n\r\nJPQL query:\r\n\r\n    SELECT a FROM AA1 a LEFT JOIN a.bb1 b;\r\n\r\nHibernate produces correct sql query, but when it tries to collect data it makes additional call like: \r\n\r\n    SELECT b.a_number, b.category, b.value FROM BB1 b WHERE b.a_number = ? AND b.category = ?\r\n\r\nI checked that query returns null.\r\nHow can I avoid such database queries?\r\n\r\n**My investigation:** As far as I see Hibernate creates key by(AA1.a_number and AA1.category) and tries to retrieve entity from context. And for specific row &#39;left join&#39; query returns null values and Hibernate asks context by key and context returns null, it leads to call to database for it.\r\n","title":"Hibernate left join fetch by non-primary keys","body":"<p>Following entities:</p>\n<pre><code>@Table\nclass AA1 {\n @Id\n Long id;\n\n String a_number;\n\n Category category;\n\n @ManyToOne(fetch = FetchType.LAZY)\n @JoinColumn(name= 'a_number', referencedColumnName='a_number')\n @JoinColumn(name= 'category', referencedColumnName='category')\n BB1 bb1 \n\n...other fields...\n}\n\n@Table\nclass BB1 {\n @Id\n String a_number;\n\n Category category;\n\n String value;\n}\n</code></pre>\n<p>JPQL query:</p>\n<pre><code>SELECT a FROM AA1 a LEFT JOIN a.bb1 b;\n</code></pre>\n<p>Hibernate produces correct sql query, but when it tries to collect data it makes additional call like:</p>\n<pre><code>SELECT b.a_number, b.category, b.value FROM BB1 b WHERE b.a_number = ? AND b.category = ?\n</code></pre>\n<p>I checked that query returns null.\nHow can I avoid such database queries?</p>\n<p><strong>My investigation:</strong> As far as I see Hibernate creates key by(AA1.a_number and AA1.category) and tries to retrieve entity from context. And for specific row 'left join' query returns null values and Hibernate asks context by key and context returns null, it leads to call to database for it.</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":6991584,"reputation":2672,"user_id":5360672,"accept_rate":86,"display_name":"Jonathan Laliberte"},"score":0,"creation_date":1542019852,"post_id":53260316,"comment_id":93405470,"body_markdown":"you want to pass a value the user enters in your jsp to your servlet?","body":"you want to pass a value the user enters in your jsp to your servlet?"},{"owner":{"account_id":12881336,"reputation":61,"user_id":9316276,"display_name":"SKH"},"score":1,"creation_date":1542020642,"post_id":53260316,"comment_id":93405889,"body_markdown":"Yes, I want to pass it in @WebInitParam","body":"Yes, I want to pass it in @WebInitParam"},{"owner":{"account_id":6991584,"reputation":2672,"user_id":5360672,"accept_rate":86,"display_name":"Jonathan Laliberte"},"score":0,"creation_date":1542020932,"post_id":53260316,"comment_id":93406056,"body_markdown":"that doesn&#39;t really make much sense though. WebInitParam isn&#39;t used for this kind of thing. So you want every user who makes a request to the servlet to have a clientId of 123?? You cannot change WebInitParam in runtime.","body":"that doesn&#39;t really make much sense though. WebInitParam isn&#39;t used for this kind of thing. So you want every user who makes a request to the servlet to have a clientId of 123?? You cannot change WebInitParam in runtime."}],"answers":[{"tags":[],"owner":{"account_id":213337,"reputation":3691,"user_id":466677,"display_name":"Marek Gregor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666169714,"creation_date":1666169714,"answer_id":74122524,"question_id":53260316,"body_markdown":"@WebInitParam&#39;s are used for the configuration of servlets implemented by third-party libraries. Usually, these libraries use methods getInitParameterNames() and getInitParameter() of abstract class GenericServlet (but you should check in library code for it).\r\n\r\nFor the dynamic setting of the @WebInitParam you can override those methods in your servlet implementation. Below is an example of how to do it.\r\n\r\n    @WebServlet(urlPatterns = &quot;/abc/*&quot;)\r\n    public class DynamicInitParamServlet extends SomeCustomLibraryHttpServlet {\r\n    private static final String WEB_INIT_PARAM_NAME = &quot;some.param.name&quot;;\r\n    private Integer webInitParamValue = null;\r\n\r\n    @Override\r\n    public void init(ServletConfig config) throws ServletException {\r\n        // calculate init param value dynamically,\r\n        // TODO: implement your own code\r\n        webInitParamValue = 2 * 3;\r\n\r\n        // call custom library servlet init after init parameter value is set\r\n        super.init(config);\r\n    }\r\n\r\n    @Override\r\n    public Enumeration&lt;String&gt; getInitParameterNames() {\r\n        if (webInitParamValue != null) {\r\n            final Set&lt;String&gt; initParameterNames = new HashSet&lt;&gt;(Collections.list(super.getInitParameterNames()));\r\n            initParameterNames.add(WEB_INIT_PARAM_NAME);\r\n            return Collections.enumeration(initParameterNames);\r\n        } else {\r\n            return super.getInitParameterNames();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String getInitParameter(String name) {\r\n        if (WEB_INIT_PARAM_NAME.compareTo(name) == 0 &amp;&amp; webInitParamValue != null) {\r\n            return &quot;&quot; + webInitParamValue;\r\n        } else {\r\n            return super.getInitParameter(name);\r\n        }\r\n    }\r\n    }\r\n\r\n","title":"Is it possible to get the values dynamically in @WebInitParam?","body":"<p>@WebInitParam's are used for the configuration of servlets implemented by third-party libraries. Usually, these libraries use methods getInitParameterNames() and getInitParameter() of abstract class GenericServlet (but you should check in library code for it).</p>\n<p>For the dynamic setting of the @WebInitParam you can override those methods in your servlet implementation. Below is an example of how to do it.</p>\n<pre><code>@WebServlet(urlPatterns = &quot;/abc/*&quot;)\npublic class DynamicInitParamServlet extends SomeCustomLibraryHttpServlet {\nprivate static final String WEB_INIT_PARAM_NAME = &quot;some.param.name&quot;;\nprivate Integer webInitParamValue = null;\n\n@Override\npublic void init(ServletConfig config) throws ServletException {\n    // calculate init param value dynamically,\n    // TODO: implement your own code\n    webInitParamValue = 2 * 3;\n\n    // call custom library servlet init after init parameter value is set\n    super.init(config);\n}\n\n@Override\npublic Enumeration&lt;String&gt; getInitParameterNames() {\n    if (webInitParamValue != null) {\n        final Set&lt;String&gt; initParameterNames = new HashSet&lt;&gt;(Collections.list(super.getInitParameterNames()));\n        initParameterNames.add(WEB_INIT_PARAM_NAME);\n        return Collections.enumeration(initParameterNames);\n    } else {\n        return super.getInitParameterNames();\n    }\n}\n\n@Override\npublic String getInitParameter(String name) {\n    if (WEB_INIT_PARAM_NAME.compareTo(name) == 0 &amp;&amp; webInitParamValue != null) {\n        return &quot;&quot; + webInitParamValue;\n    } else {\n        return super.getInitParameter(name);\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":12881336,"reputation":61,"user_id":9316276,"display_name":"SKH"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666169714,"creation_date":1542018866,"question_id":53260316,"body_markdown":"I have a JSP page wherein user has to enter some custom URL. I want to pass that custom url in @WebInitParam in my servlet \r\n\r\n    @WebServlet(name = &quot;oauthCustomURL&quot;, initParams = {\r\n    \t @WebInitParam(name = &quot;clientId&quot;, value = &quot;123&quot;),\r\n    \t @WebInitParam(name = &quot;key&quot;, value = &quot;***&quot;),\r\n    \t @WebInitParam(name = &quot;environment&quot;, value = &quot;customUrl&quot;),\r\n    }) //in value I want to pass the value entered by user\r\n\r\n","title":"Is it possible to get the values dynamically in @WebInitParam?","body":"<p>I have a JSP page wherein user has to enter some custom URL. I want to pass that custom url in @WebInitParam in my servlet </p>\n\n<pre><code>@WebServlet(name = \"oauthCustomURL\", initParams = {\n     @WebInitParam(name = \"clientId\", value = \"123\"),\n     @WebInitParam(name = \"key\", value = \"***\"),\n     @WebInitParam(name = \"environment\", value = \"customUrl\"),\n}) //in value I want to pass the value entered by user\n</code></pre>\n"},{"tags":["java","html","selenium-webdriver","xpath","iframe"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1666169466,"post_id":74122422,"comment_id":130869579,"body_markdown":"Check if a namespace is in use.","body":"Check if a namespace is in use."},{"owner":{"account_id":26668811,"reputation":1,"user_id":20280515,"display_name":"sekhar"},"score":0,"creation_date":1666169676,"post_id":74122422,"comment_id":130869673,"body_markdown":"where do i check this namespace and how can i use it","body":"where do i check this namespace and how can i use it"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1666171842,"post_id":74122422,"comment_id":130870485,"body_markdown":"This question is missing a minimal debugging details","body":"This question is missing a minimal debugging details"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1666181359,"post_id":74122422,"comment_id":130873941,"body_markdown":"@sekhar Does your input document (besides the snippet you showed to us) contain attributes like `xmlns`? If yes, you are using namespaces and want to check https://stackoverflow.com/search?q=java+xpath+namespace","body":"@sekhar Does your input document (besides the snippet you showed to us) contain attributes like <code>xmlns</code>? If yes, you are using namespaces and want to check <a href=\"https://stackoverflow.com/search?q=java+xpath+namespace\">stackoverflow.com/search?q=java+xpath+namespace</a>"}],"owner":{"account_id":26668811,"reputation":1,"user_id":20280515,"display_name":"sekhar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666169235,"creation_date":1666169235,"question_id":74122422,"body_markdown":"Given the xpath `//iframe[@id=&#39;gst_main&#39;]`\r\n\r\nMy DOM Element is `&lt;iframe title=&quot;Main Content&quot; id=&quot;gst_main&quot; name=&quot;gst_main&quot; src=&quot;incident_list.do?sysparm_query= slot=&quot;apple-ui&quot; style=&quot;visibility: visible;&quot;&gt;&lt;/iframe&gt;`\r\n\r\nThe problem is the xpath is not found in DOM by using chrome dev tools\r\n\r\n","title":"iframe is not found via xpath even iframe is exists","body":"<p>Given the xpath <code>//iframe[@id='gst_main']</code></p>\n<p>My DOM Element is <code>&lt;iframe title=&quot;Main Content&quot; id=&quot;gst_main&quot; name=&quot;gst_main&quot; src=&quot;incident_list.do?sysparm_query= slot=&quot;apple-ui&quot; style=&quot;visibility: visible;&quot;&gt;&lt;/iframe&gt;</code></p>\n<p>The problem is the xpath is not found in DOM by using chrome dev tools</p>\n"},{"tags":["java","quarkus","metrics"],"answers":[{"tags":[],"owner":{"account_id":5621681,"reputation":229,"user_id":6935180,"display_name":"Bruno Baptista"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666169134,"creation_date":1666169134,"answer_id":74122388,"question_id":74121676,"body_markdown":"Currently the recommended way to produce metrics on Quarkus is with Micrometer. Quarkus is moving away from MicroProfile Metrics and it&#39;s implementation with SmallRye Metrics\r\n\r\nWith Micrometer on Quarkus you can output the results in the standard OTLP (OpenTelemetry) format with the [OTLP exporter](https://github.com/quarkiverse/quarkus-micrometer-registry/tree/main/micrometer-registry-otlp).\r\nPlease also check the Guide: https://quarkus.io/guides/micrometer\r\n","title":"OpenTelemetry Metrics for Quarkus","body":"<p>Currently the recommended way to produce metrics on Quarkus is with Micrometer. Quarkus is moving away from MicroProfile Metrics and it's implementation with SmallRye Metrics</p>\n<p>With Micrometer on Quarkus you can output the results in the standard OTLP (OpenTelemetry) format with the <a href=\"https://github.com/quarkiverse/quarkus-micrometer-registry/tree/main/micrometer-registry-otlp\" rel=\"nofollow noreferrer\">OTLP exporter</a>.\nPlease also check the Guide: <a href=\"https://quarkus.io/guides/micrometer\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/micrometer</a></p>\n"}],"owner":{"account_id":887243,"reputation":859,"user_id":926383,"display_name":"A B Vijay Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":826,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666169134,"creation_date":1666165792,"question_id":74121676,"body_markdown":"I have used OTEL for quakrus for tracing. But is there also metrics? like can I stream SmallRyeMetrics to OTEL?","title":"OpenTelemetry Metrics for Quarkus","body":"<p>I have used OTEL for quakrus for tracing. But is there also metrics? like can I stream SmallRyeMetrics to OTEL?</p>\n"},{"tags":["java","eclipse","applet"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1666168868,"post_id":74063856,"comment_id":130869371,"body_markdown":"Applets are a discontinued technology, originally intended to run in browsers, but there no longer supported. So you might reconsider swing or javafx.","body":"Applets are a discontinued technology, originally intended to run in browsers, but there no longer supported. So you might reconsider swing or javafx."}],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665717770,"creation_date":1665717770,"answer_id":74063980,"question_id":74063856,"body_markdown":"Java 17 removed supports for Applets, and most browsers had long since removed their support for them. The only way they can work is with a version of Java before Java 9. I don&#39;t want to be mean, but you solve this problem &quot;professionally&quot; by moving to a different technology.\r\n\r\nhttps://www.oracle.com/technetwork/java/javase/migratingfromapplets-2872444.pdf","title":"How can to java applet program in eclipse?","body":"<p>Java 17 removed supports for Applets, and most browsers had long since removed their support for them. The only way they can work is with a version of Java before Java 9. I don't want to be mean, but you solve this problem &quot;professionally&quot; by moving to a different technology.</p>\n<p><a href=\"https://www.oracle.com/technetwork/java/javase/migratingfromapplets-2872444.pdf\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/java/javase/migratingfromapplets-2872444.pdf</a></p>\n"},{"tags":[],"owner":{"account_id":84493,"reputation":1255,"user_id":236152,"display_name":"Anthony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666168647,"creation_date":1666168647,"answer_id":74122288,"question_id":74063856,"body_markdown":"You can install Eclipse *Applet Runner* plug-in and run your applet in it: https://marketplace.eclipse.org/content/applet-runner-eclipse\r\n\r\nNote that you can also download it from the application website https://www.japplis.com/applet-runner/","title":"How can to java applet program in eclipse?","body":"<p>You can install Eclipse <em>Applet Runner</em> plug-in and run your applet in it: <a href=\"https://marketplace.eclipse.org/content/applet-runner-eclipse\" rel=\"nofollow noreferrer\">https://marketplace.eclipse.org/content/applet-runner-eclipse</a></p>\n<p>Note that you can also download it from the application website <a href=\"https://www.japplis.com/applet-runner/\" rel=\"nofollow noreferrer\">https://www.japplis.com/applet-runner/</a></p>\n"}],"owner":{"account_id":26612374,"reputation":11,"user_id":20232378,"display_name":"sanalsabu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":841,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666168647,"creation_date":1665716334,"question_id":74063856,"body_markdown":"Now I am using the JDK 18 version. When I tried to execute the applet program I am getting an error telling could not find or load the main class sun.applet.appletviewer.\r\n\r\nI saw many videos on YouTube to solve this problem, they are asking me to uninstall the current version of the JDK file and install JDK 8 which allows running an applet program in eclipse, is there any other way to solve this problem professionally? ","title":"How can to java applet program in eclipse?","body":"<p>Now I am using the JDK 18 version. When I tried to execute the applet program I am getting an error telling could not find or load the main class sun.applet.appletviewer.</p>\n<p>I saw many videos on YouTube to solve this problem, they are asking me to uninstall the current version of the JDK file and install JDK 8 which allows running an applet program in eclipse, is there any other way to solve this problem professionally?</p>\n"},{"tags":["java","broadcastreceiver","android-usb"],"answers":[{"tags":[],"owner":{"account_id":19731402,"reputation":144,"user_id":14446786,"display_name":"scr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666168615,"creation_date":1666167925,"answer_id":74122129,"question_id":72097649,"body_markdown":"You need to register the broadcast receiver and call the requestPermission() method to display a dialog that asks users for permission to connect to the device,\r\nplease refer the [official doc][1]  and search for keyword &quot;requestPermission()&quot;\r\n\r\n    \r\n    permissionIntent = PendingIntent.getBroadcast(this, 0, Intent(ACTION_USB_PERMISSION), PendingIntent.FLAG_MUTABLE)\r\n    lateinit var device: UsbDevice\r\n            ...\r\n    usbManager.requestPermission(device, permissionIntent)\r\n\r\n  [1]: https://developer.android.com/guide/topics/connectivity/usb/host#kotlin","title":"Issue with getting USB device permission from BroadcastReceiver?","body":"<p>You need to register the broadcast receiver and call the requestPermission() method to display a dialog that asks users for permission to connect to the device,\nplease refer the <a href=\"https://developer.android.com/guide/topics/connectivity/usb/host#kotlin\" rel=\"nofollow noreferrer\">official doc</a>  and search for keyword &quot;requestPermission()&quot;</p>\n<pre><code>permissionIntent = PendingIntent.getBroadcast(this, 0, Intent(ACTION_USB_PERMISSION), PendingIntent.FLAG_MUTABLE)\nlateinit var device: UsbDevice\n        ...\nusbManager.requestPermission(device, permissionIntent)\n</code></pre>\n"}],"owner":{"account_id":20591283,"reputation":135,"user_id":15114844,"display_name":"yamut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666168615,"creation_date":1651571589,"question_id":72097649,"body_markdown":"I am using below code to get usb access permission from user when its detected, but it never get detected in android 11. Any help would be highly appreciated    \r\n\r\n\r\n \r\n\r\n    public final String ACTION_USB_PERMISSION = &quot;com.domain.ftd.USB_PERMISSION&quot;;\r\n\r\n    private final BroadcastReceiver broadcastReceiver = new BroadcastReceiver() { \r\n            @Override\r\n            public void onReceive(Context context, Intent intent) {\r\n    \r\n    \r\n                if (intent.getAction().equals(ACTION_USB_PERMISSION)) {\r\n                    boolean granted = intent.getExtras().getBoolean(UsbManager.EXTRA_PERMISSION_GRANTED);\r\n                    Log.e(&quot;usb started&quot;,&quot;really&quot;);\r\n                    if (granted) {\r\n                         //DO SOMETHING \r\n                    }\r\n             }\r\n    \r\n         @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n               super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_main);\r\n                 usbManager = (UsbManager) getSystemService(this.USB_SERVICE);\r\n                IntentFilter filter = new IntentFilter();\r\n                filter.addAction(ACTION_USB_PERMISSION);\r\n                filter.addAction(UsbManager.ACTION_USB_DEVICE_ATTACHED);\r\n                filter.addAction(UsbManager.ACTION_USB_DEVICE_DETACHED);\r\n                registerReceiver(broadcastReceiver, filter);\r\n        \r\n        \r\n        \r\n        \r\n            }\r\n                            \r\n    \r\n         \r\n        ","title":"Issue with getting USB device permission from BroadcastReceiver?","body":"<p>I am using below code to get usb access permission from user when its detected, but it never get detected in android 11. Any help would be highly appreciated</p>\n<pre><code>public final String ACTION_USB_PERMISSION = &quot;com.domain.ftd.USB_PERMISSION&quot;;\n\nprivate final BroadcastReceiver broadcastReceiver = new BroadcastReceiver() { \n        @Override\n        public void onReceive(Context context, Intent intent) {\n\n\n            if (intent.getAction().equals(ACTION_USB_PERMISSION)) {\n                boolean granted = intent.getExtras().getBoolean(UsbManager.EXTRA_PERMISSION_GRANTED);\n                Log.e(&quot;usb started&quot;,&quot;really&quot;);\n                if (granted) {\n                     //DO SOMETHING \n                }\n         }\n\n     @Override\n        protected void onCreate(Bundle savedInstanceState) {\n           super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n             usbManager = (UsbManager) getSystemService(this.USB_SERVICE);\n            IntentFilter filter = new IntentFilter();\n            filter.addAction(ACTION_USB_PERMISSION);\n            filter.addAction(UsbManager.ACTION_USB_DEVICE_ATTACHED);\n            filter.addAction(UsbManager.ACTION_USB_DEVICE_DETACHED);\n            registerReceiver(broadcastReceiver, filter);\n    \n    \n    \n    \n        }\n                        \n\n     \n    \n</code></pre>\n"},{"tags":["java","elasticsearch","kibana","elasticsearch-painless"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1657699205,"post_id":72962658,"comment_id":128869824,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1666169426,"post_id":72962658,"comment_id":130869571,"body_markdown":"`int array.indexOf(String)` maybe?","body":"<code>int array.indexOf(String)</code> maybe?"}],"owner":{"account_id":25797021,"reputation":1,"user_id":19540023,"display_name":"lhy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666168119,"creation_date":1657698475,"question_id":72962658,"body_markdown":"As shown in the figure, the indexOf of the longer id is valid but the indexOf of the shorter id is all -1.\r\n[my search result][1] I would like to know how to make the indexOf for these short ids also take effect!\r\n\r\n  [1]: https://i.stack.imgur.com/JtU6h.png","title":"Problem: indexOf not taking effect when using script syntax in elasticsearch","body":"<p>As shown in the figure, the indexOf of the longer id is valid but the indexOf of the shorter id is all -1.\n<a href=\"https://i.stack.imgur.com/JtU6h.png\" rel=\"nofollow noreferrer\">my search result</a> I would like to know how to make the indexOf for these short ids also take effect!</p>\n"},{"tags":["java","websocket","ocpp"],"answers":[{"tags":[],"owner":{"account_id":3488925,"reputation":238,"user_id":2919078,"accept_rate":71,"display_name":"Gautam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666167850,"creation_date":1666167850,"answer_id":74122113,"question_id":73855216,"body_markdown":"You need to do plenty of things to send command from your side to station.\r\n\r\n 1. When station connect to your server, you need to keep that session\r\n    in a Map with chargepointId probably.\r\n 2. If you would like to send\r\n    command then use that session then use websocket instance to send\r\n    command to station. \r\n 3. To initiate Step-2, you need to have service or\r\n    API to initiate it.\r\n\r\nShould you need information, follow this URL: https://github.com/ChargeTimeEU/Java-OCA-OCPP","title":"How can enter in a open session using Spring Websocket Handler?","body":"<p>You need to do plenty of things to send command from your side to station.</p>\n<ol>\n<li>When station connect to your server, you need to keep that session\nin a Map with chargepointId probably.</li>\n<li>If you would like to send\ncommand then use that session then use websocket instance to send\ncommand to station.</li>\n<li>To initiate Step-2, you need to have service or\nAPI to initiate it.</li>\n</ol>\n<p>Should you need information, follow this URL: <a href=\"https://github.com/ChargeTimeEU/Java-OCA-OCPP\" rel=\"nofollow noreferrer\">https://github.com/ChargeTimeEU/Java-OCA-OCPP</a></p>\n"}],"owner":{"account_id":25465021,"reputation":19,"user_id":19264203,"display_name":"Lucas silva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666167850,"creation_date":1664200429,"question_id":73855216,"body_markdown":"I&#39;m testing a Ocpp Server comunication using Spring Websocket. The handshake works well, I can interact with the client when a station send a message (BootNotification,StatusNotification...). But sometimes I need to send things with the server (request remote transaction, get informations, etc), without the station send first.\r\nHow can I access a open session (example: ws:localhost:8080/central/station01) with another service?\r\n\r\nMy Wesocket config:\r\n\r\n    @Configuration\r\n    @EnableWebSocket\r\n    public class WebSocketConfig implements WebSocketConfigurer {\r\n    \t@Bean\r\n        public WebSocketHandler myHandler() {\r\n            return new MyHandler();\r\n        }\r\n    \t\r\n        @Override\r\n        public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\r\n            registry.addHandler(myHandler(), &quot;/central/**&quot;)\r\n            .addInterceptors(new HttpSessionHandshakeInterceptor());\r\n            \r\n        }   \r\n    }\r\n\r\nMy WebSocket Handler:\r\n\r\n    public class MyHandler extends TextWebSocketHandler implements SubProtocolCapable {\r\n    \t\r\n    \t\r\n    \r\n    \tprivate final String[] subProtocols = {&quot;ocpp1.6&quot;, &quot;ocpp2.0&quot;};\r\n    \t\r\n    \t@Autowired\r\n    \tprivate ClientRepository clientRepo;\r\n    \t\r\n    \t@Override\r\n    \tpublic void afterConnectionClosed(WebSocketSession session, CloseStatus status) {\r\n    \t\tGlobal.id=&quot;&quot;;\r\n    \t\tGlobal.session=&quot;&quot;;\r\n    \t\tGlobal.client=&quot;Close&quot;;\r\n    \t\tSystem.out.print(&quot;\\n Connection Close \\n&quot;+&quot;Session: &quot;+session.getId()+&quot;\\n&quot;);\r\n    \t\tsession.getHandshakeHeaders();\r\n    \t\tSystem.out.print(&quot;session enabled&quot;+session);\r\n    \t\t\r\n    \t}\r\n    \t@Override\r\n    \tpublic void afterConnectionEstablished(WebSocketSession session)\r\n                throws Exception{\r\n    \t\tGlobal.id=session.getId();\r\n    \t\tGlobal.session=session.getUri().toString();\r\n    \t\tGlobal.client=&quot;ok&quot;;\r\n    \t\t\r\n    \t\t\r\n    \t\tClient aa= new Client(null,session.getId(),session.getUri().toString(),&quot;ok&quot;,&quot;&quot;);\r\n    \t\tSystem.out.print(&quot;\\n Connected \\n&quot;+&quot;Session: &quot;+session.getId()+&quot;\\n&quot;);\r\n    \t\t\r\n    \t\tSystem.out.print(session.getUri());\r\n    \t\t\r\n    \t}\r\n    \r\n        @Override\r\n        public void handleMessage(WebSocketSession session,WebSocketMessage&lt;?&gt; message)  throws Exception {\r\n        \t//WebSocketHttpHeaders expectedHeaders = new WebSocketHttpHeaders();\r\n        \tSystem.out.print(&quot;\\n &quot;+message.getPayload());\r\n        \tInteger id=0;\r\n        \tGlobal.ocpp=Global.ocpp+&quot; \\n &quot;+message.getPayload().toString();\r\n        \t\r\n        \tZonedDateTime data = ZonedDateTime.now();\r\n        \tBootNotificationResponse stat=new BootNotificationResponse(&quot;Accepted&quot;,data.toString().substring(0,data.toString().length()-&quot;[America/Sao_Paulo]&quot;.length()),300);\r\n        \tJSONArray mm=new JSONArray((message.getPayload()).toString());\r\n        \tid=(int )mm.get(0)+1;\r\n    //    \tsession.sendMessage(new TextMessage(message.getPayload().toString()));\r\n    //    \tSystem.out.print(&quot;\\n Remote: &quot;+session.getRemoteAddress()+&quot;\\n&quot;);\r\n        \tJSONObject ss=new JSONObject(stat);\r\n        \tSystem.out.print(session.getHandshakeHeaders());\r\n        \tJSONArray ja = new JSONArray();\r\n        \t\r\n        \tja.put(3);\r\n        \tja.put(mm.get(1));\r\n        \t//\r\n        \tja.put(ss);\r\n    //    \tSystem.out.print(&quot;\\n&quot;+message.getPayload()+&quot;\\n&quot;);\r\n    //    \tSystem.out.print(mm.get(2)+&quot;\\n&quot;);\r\n        \tClient dados=new Client(null,Global.id,Global.session,Global.client,message.getPayload().toString());\r\n        \tclientRepo.save(dados);\r\n        \tif(mm.get(2).equals(&quot;Authorize&quot;)) {\r\n        \t\t\r\n        \t\tJSONArray nob = new JSONArray();\r\n        \t\tJSONObject iii=new JSONObject(new Auth(new AuthorizeResponse(&quot;1233434&quot;,&quot;ddfd&quot;,&quot;Accepted&quot;)));\r\n        \t\tnob.put(3);\r\n        \t\tnob.put(mm.get(1));\r\n        \t\tnob.put(iii);\r\n        \t\tSystem.out.print(nob);\r\n        \t\t//[2,&quot;4&quot;,&quot;Authorize&quot;,{&quot;idToken&quot;:{&quot;idToken&quot;:&quot;111111&quot;,&quot;type&quot;:&quot;ISO14443&quot;},&quot;evseId&quot;:[1]}]\r\n        \t\tsession.sendMessage(new TextMessage(nob.toString()));\r\n        \t}\r\n        \tif(mm.get(2).equals(&quot;BootNotification&quot;)) {\r\n        \t\tSystem.out.print(&quot;Boot \\n&quot;);\r\n        \t\t\r\n        \t\tsession.sendMessage(new TextMessage(ja.toString()));\r\n        \t}\r\n        \t\r\n        \t\r\n        }\r\n        \r\n        \r\n        @Override\r\n        public List&lt;String&gt; getSubProtocols() {\r\n        \tSystem.out.print(Arrays.asList(subProtocols));\r\n            return Arrays.asList(subProtocols);\r\n        }\r\n        \r\n        \r\n    \r\n    }\r\n\r\n","title":"How can enter in a open session using Spring Websocket Handler?","body":"<p>I'm testing a Ocpp Server comunication using Spring Websocket. The handshake works well, I can interact with the client when a station send a message (BootNotification,StatusNotification...). But sometimes I need to send things with the server (request remote transaction, get informations, etc), without the station send first.\nHow can I access a open session (example: ws:localhost:8080/central/station01) with another service?</p>\n<p>My Wesocket config:</p>\n<pre><code>@Configuration\n@EnableWebSocket\npublic class WebSocketConfig implements WebSocketConfigurer {\n    @Bean\n    public WebSocketHandler myHandler() {\n        return new MyHandler();\n    }\n    \n    @Override\n    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\n        registry.addHandler(myHandler(), &quot;/central/**&quot;)\n        .addInterceptors(new HttpSessionHandshakeInterceptor());\n        \n    }   \n}\n</code></pre>\n<p>My WebSocket Handler:</p>\n<pre><code>public class MyHandler extends TextWebSocketHandler implements SubProtocolCapable {\n    \n    \n\n    private final String[] subProtocols = {&quot;ocpp1.6&quot;, &quot;ocpp2.0&quot;};\n    \n    @Autowired\n    private ClientRepository clientRepo;\n    \n    @Override\n    public void afterConnectionClosed(WebSocketSession session, CloseStatus status) {\n        Global.id=&quot;&quot;;\n        Global.session=&quot;&quot;;\n        Global.client=&quot;Close&quot;;\n        System.out.print(&quot;\\n Connection Close \\n&quot;+&quot;Session: &quot;+session.getId()+&quot;\\n&quot;);\n        session.getHandshakeHeaders();\n        System.out.print(&quot;session enabled&quot;+session);\n        \n    }\n    @Override\n    public void afterConnectionEstablished(WebSocketSession session)\n            throws Exception{\n        Global.id=session.getId();\n        Global.session=session.getUri().toString();\n        Global.client=&quot;ok&quot;;\n        \n        \n        Client aa= new Client(null,session.getId(),session.getUri().toString(),&quot;ok&quot;,&quot;&quot;);\n        System.out.print(&quot;\\n Connected \\n&quot;+&quot;Session: &quot;+session.getId()+&quot;\\n&quot;);\n        \n        System.out.print(session.getUri());\n        \n    }\n\n    @Override\n    public void handleMessage(WebSocketSession session,WebSocketMessage&lt;?&gt; message)  throws Exception {\n        //WebSocketHttpHeaders expectedHeaders = new WebSocketHttpHeaders();\n        System.out.print(&quot;\\n &quot;+message.getPayload());\n        Integer id=0;\n        Global.ocpp=Global.ocpp+&quot; \\n &quot;+message.getPayload().toString();\n        \n        ZonedDateTime data = ZonedDateTime.now();\n        BootNotificationResponse stat=new BootNotificationResponse(&quot;Accepted&quot;,data.toString().substring(0,data.toString().length()-&quot;[America/Sao_Paulo]&quot;.length()),300);\n        JSONArray mm=new JSONArray((message.getPayload()).toString());\n        id=(int )mm.get(0)+1;\n//      session.sendMessage(new TextMessage(message.getPayload().toString()));\n//      System.out.print(&quot;\\n Remote: &quot;+session.getRemoteAddress()+&quot;\\n&quot;);\n        JSONObject ss=new JSONObject(stat);\n        System.out.print(session.getHandshakeHeaders());\n        JSONArray ja = new JSONArray();\n        \n        ja.put(3);\n        ja.put(mm.get(1));\n        //\n        ja.put(ss);\n//      System.out.print(&quot;\\n&quot;+message.getPayload()+&quot;\\n&quot;);\n//      System.out.print(mm.get(2)+&quot;\\n&quot;);\n        Client dados=new Client(null,Global.id,Global.session,Global.client,message.getPayload().toString());\n        clientRepo.save(dados);\n        if(mm.get(2).equals(&quot;Authorize&quot;)) {\n            \n            JSONArray nob = new JSONArray();\n            JSONObject iii=new JSONObject(new Auth(new AuthorizeResponse(&quot;1233434&quot;,&quot;ddfd&quot;,&quot;Accepted&quot;)));\n            nob.put(3);\n            nob.put(mm.get(1));\n            nob.put(iii);\n            System.out.print(nob);\n            //[2,&quot;4&quot;,&quot;Authorize&quot;,{&quot;idToken&quot;:{&quot;idToken&quot;:&quot;111111&quot;,&quot;type&quot;:&quot;ISO14443&quot;},&quot;evseId&quot;:[1]}]\n            session.sendMessage(new TextMessage(nob.toString()));\n        }\n        if(mm.get(2).equals(&quot;BootNotification&quot;)) {\n            System.out.print(&quot;Boot \\n&quot;);\n            \n            session.sendMessage(new TextMessage(ja.toString()));\n        }\n        \n        \n    }\n    \n    \n    @Override\n    public List&lt;String&gt; getSubProtocols() {\n        System.out.print(Arrays.asList(subProtocols));\n        return Arrays.asList(subProtocols);\n    }\n    \n    \n\n}\n</code></pre>\n"},{"tags":["java","performance","optimization","data-structures","hashmap"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1666165267,"post_id":74121299,"comment_id":130868129,"body_markdown":"Btw, `tokenLookupMap.containsKey(token) ? tokenLookupMap.get(token)` could be optimized because you&#39;re doing the lookup twice. Instead use `Set&lt;Integer&gt; docs = tokenLookupMap.get(token); if( docs == null ) docs = new HashSet();`.","body":"Btw, <code>tokenLookupMap.containsKey(token) ? tokenLookupMap.get(token)</code> could be optimized because you&#39;re doing the lookup twice. Instead use <code>Set&lt;Integer&gt; docs = tokenLookupMap.get(token); if( docs == null ) docs = new HashSet();</code>."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1666249995,"post_id":74121299,"comment_id":130892259,"body_markdown":"Thinking some more about your problem it seems like you basically need 2 indices into your data which made me think a DB might be best. Would it be an option to use a specialized DB or even search engine like Lucene? If you need to do it in memory, maybe this can help: https://github.com/npgall/cqengine - it seems to provide a couple of indexing options. If it doesn&#39;t provide better performance (I&#39;d assume it requires more memory) then it might at least be a tested and stable implementation to help keep everything in sync.","body":"Thinking some more about your problem it seems like you basically need 2 indices into your data which made me think a DB might be best. Would it be an option to use a specialized DB or even search engine like Lucene? If you need to do it in memory, maybe this can help: <a href=\"https://github.com/npgall/cqengine\" rel=\"nofollow noreferrer\">github.com/npgall/cqengine</a> - it seems to provide a couple of indexing options. If it doesn&#39;t provide better performance (I&#39;d assume it requires more memory) then it might at least be a tested and stable implementation to help keep everything in sync."}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666167534,"creation_date":1666165058,"answer_id":74121522,"question_id":74121299,"body_markdown":"One thing that comes to my mind would be to maintain the Document-Token relation in separate classes and maintain 2 maps only for lookup:\r\n\r\n    class Document {\r\n      Integer docId;\r\n\r\n      //using arrays saves some space and tokens don&#39;t seem to change that often\r\n      Token[] tokens;\r\n    }\r\n\r\n    class Token {\r\n      String token;\r\n      Set&lt;Document&gt; documents;\r\n    }\r\n \r\n    Map&lt;Integer, Document&gt; docs = new HashMap&lt;&gt;();\r\n    Map&lt;String, Token&gt; tokens = new WeakHashMap&lt;&gt;();\r\n\r\nWhen inserting a new document you basically clear the set of tokens and rebuild it:\r\n\r\n    private void insertDocument(int docId, Set&lt;String&gt; tokens ) {\r\n      Document doc = docs.computeIfAbsent(docId, ...);\r\n      \r\n      //clear the tokens\r\n      for( Token old : doc.tokens ) {       \r\n        old.documents.remove(doc);\r\n      }\r\n      \r\n      //add the new tokens\r\n      Set&lt;Token&gt; newTokens = new HashSet&lt;&gt;();\r\n      for( String t: tokens ) {\r\n        Token newToken = tokens.computeIfAbsent(t, ...);\r\n        newToken.documents.add(doc);\r\n        newTokens.add(newToken);\r\n      }\r\n\r\n      doc.tokens = newTokens.toArray(new Token[0]);\r\n    }\r\n\r\nOf course this could be optimized to ignore tokens that aren&#39;t changed.\r\n\r\nNote the use of `WeakHashMap` for tokens: since tokens could be abandoned at some point they should not use up any more memory. `WeakHashMap` would allow the garbage collector to remove those that aren&#39;t reachably by anyone else, e.g. those that aren&#39;t listed in any document.\r\n\r\nOf course it could take some time until gc kicks in and in the meantime token lookup could return tokens that aren&#39;t used anymore. You&#39;d either need to filter those or remove the tokens from the token map manually if they don&#39;t have document references anymore.","title":"Optimal way to maintain and quickly look up which objects contain a specific token (string) without maintaining two hash maps?","body":"<p>One thing that comes to my mind would be to maintain the Document-Token relation in separate classes and maintain 2 maps only for lookup:</p>\n<pre><code>class Document {\n  Integer docId;\n\n  //using arrays saves some space and tokens don't seem to change that often\n  Token[] tokens;\n}\n\nclass Token {\n  String token;\n  Set&lt;Document&gt; documents;\n}\n\nMap&lt;Integer, Document&gt; docs = new HashMap&lt;&gt;();\nMap&lt;String, Token&gt; tokens = new WeakHashMap&lt;&gt;();\n</code></pre>\n<p>When inserting a new document you basically clear the set of tokens and rebuild it:</p>\n<pre><code>private void insertDocument(int docId, Set&lt;String&gt; tokens ) {\n  Document doc = docs.computeIfAbsent(docId, ...);\n  \n  //clear the tokens\n  for( Token old : doc.tokens ) {       \n    old.documents.remove(doc);\n  }\n  \n  //add the new tokens\n  Set&lt;Token&gt; newTokens = new HashSet&lt;&gt;();\n  for( String t: tokens ) {\n    Token newToken = tokens.computeIfAbsent(t, ...);\n    newToken.documents.add(doc);\n    newTokens.add(newToken);\n  }\n\n  doc.tokens = newTokens.toArray(new Token[0]);\n}\n</code></pre>\n<p>Of course this could be optimized to ignore tokens that aren't changed.</p>\n<p>Note the use of <code>WeakHashMap</code> for tokens: since tokens could be abandoned at some point they should not use up any more memory. <code>WeakHashMap</code> would allow the garbage collector to remove those that aren't reachably by anyone else, e.g. those that aren't listed in any document.</p>\n<p>Of course it could take some time until gc kicks in and in the meantime token lookup could return tokens that aren't used anymore. You'd either need to filter those or remove the tokens from the token map manually if they don't have document references anymore.</p>\n"}],"owner":{"account_id":14623340,"reputation":101,"user_id":10561318,"display_name":"Blasterdude8"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666167534,"creation_date":1666163882,"question_id":74121299,"body_markdown":"My system takes in a documentID and list of strings that represent tokens associated with the document. The primary metric I am trying to optimize for is returning a list of all the document ids that are associated with a given token. I am pretty confident I should start with something like `HashMap&lt;String, HashSet&lt;Integer&gt;&gt; tokenLookupMap` where the string is the token and the hash set is the set of documents IDs that contain that token. The tricky part is how to easily deal with documents being overwritten with new token lists (inserts completely overwrite the existing token lists with the new input).  For example if my input looks like:\r\n```\r\ninsertDocument(docId: 1, tokens: {token1, token2, token3} )\r\n// query on token1 returns docIDs:[1]\r\ninsertDocument(docId: 2, tokens: {token1, token2, token3} )\r\n// query on token1 returns docIDs:[1, 2]\r\ninsertDocument(docId: 1, tokens: {token4, token5, token6} )\r\n// query on token1 returns docIDs:[2]\r\n// query on token4 returns docIDs:[1]\r\n``` \r\n\r\nI need to be able to efficiently update all the values in `tokenLookupMap` to reflect any tokens that are no longer present in the overridden document. Currently I&#39;m maintaining a second hash map `HashMap&lt;Integer, HashSet&lt;String&gt;&gt; documentLookupMap;` to provide the &quot;opposite&quot; lookup perspective such that I can quickly look up what tokens are associated with a given document id and remove the old ones before an overwrite. This definitely allows me to optimize for lookups by token (insert time doesn&#39;t matter as much as queries) but it feels silly or even dangerous to have two structs that sort of represent the same thing and share a lot of overlapping space. Aside from the space increase and slight time increase on insert I technically run the risk of the structures getting out of sync. \r\n\r\nAre there more optimal ways I could go about this? I could always put the two hash maps in a separate class and lock it down with limited public methods but are there ways to change the structure and perhaps avoid maintaining two structures altogether? Here&#39;s the most relevant code:\r\n\r\n```\r\n    private HashMap&lt;Integer, HashSet&lt;String&gt;&gt; documentLookupMap;\r\n    private HashMap&lt;String, HashSet&lt;Integer&gt;&gt; tokenLookupMap;\r\n\r\n    private void insertDocument(int docId, HashSet&lt;String&gt; tokens ) {\r\n\r\n        if( documentLookupMap.containsKey(docId)) {\r\n            // if we&#39;ve aleady indexed a doc with the same id we need to clean up first\r\n            var oldTokens = documentLookupMap.get(docId);\r\n            for (String token : oldTokens) {\r\n                tokenLookupMap.get(token).remove(docId);\r\n                // not sure if this is beneficial big picture on large data sets / space constraints\r\n                if(tokenLookupMap.get(token).isEmpty()) {\r\n                    tokenLookupMap.remove(token);\r\n                }\r\n            }\r\n        }\r\n\r\n        documentLookupMap.put(docId, tokens);\r\n        for (String token : tokens) {\r\n            tokenLookupMap.computeIfAbsent(token,t-&gt;new HashSet&lt;Integer&gt;()).add(docId);\r\n        }\r\n    }\r\n\r\n    private Set&lt;Integer&gt; getDocsForToken(String token) {\r\n        return tokenLookupMap.containsKey(token) ? tokenLookupMap.get(token) : new HashSet&lt;Integer&gt;();\r\n    }\r\n\r\n\r\n```\r\n\r\nThis needs to scale efficiently to tens of thousands of documents / tokens\r\n\r\nThanks in advance for any insights!\r\n","title":"Optimal way to maintain and quickly look up which objects contain a specific token (string) without maintaining two hash maps?","body":"<p>My system takes in a documentID and list of strings that represent tokens associated with the document. The primary metric I am trying to optimize for is returning a list of all the document ids that are associated with a given token. I am pretty confident I should start with something like <code>HashMap&lt;String, HashSet&lt;Integer&gt;&gt; tokenLookupMap</code> where the string is the token and the hash set is the set of documents IDs that contain that token. The tricky part is how to easily deal with documents being overwritten with new token lists (inserts completely overwrite the existing token lists with the new input).  For example if my input looks like:</p>\n<pre><code>insertDocument(docId: 1, tokens: {token1, token2, token3} )\n// query on token1 returns docIDs:[1]\ninsertDocument(docId: 2, tokens: {token1, token2, token3} )\n// query on token1 returns docIDs:[1, 2]\ninsertDocument(docId: 1, tokens: {token4, token5, token6} )\n// query on token1 returns docIDs:[2]\n// query on token4 returns docIDs:[1]\n</code></pre>\n<p>I need to be able to efficiently update all the values in <code>tokenLookupMap</code> to reflect any tokens that are no longer present in the overridden document. Currently I'm maintaining a second hash map <code>HashMap&lt;Integer, HashSet&lt;String&gt;&gt; documentLookupMap;</code> to provide the &quot;opposite&quot; lookup perspective such that I can quickly look up what tokens are associated with a given document id and remove the old ones before an overwrite. This definitely allows me to optimize for lookups by token (insert time doesn't matter as much as queries) but it feels silly or even dangerous to have two structs that sort of represent the same thing and share a lot of overlapping space. Aside from the space increase and slight time increase on insert I technically run the risk of the structures getting out of sync.</p>\n<p>Are there more optimal ways I could go about this? I could always put the two hash maps in a separate class and lock it down with limited public methods but are there ways to change the structure and perhaps avoid maintaining two structures altogether? Here's the most relevant code:</p>\n<pre><code>    private HashMap&lt;Integer, HashSet&lt;String&gt;&gt; documentLookupMap;\n    private HashMap&lt;String, HashSet&lt;Integer&gt;&gt; tokenLookupMap;\n\n    private void insertDocument(int docId, HashSet&lt;String&gt; tokens ) {\n\n        if( documentLookupMap.containsKey(docId)) {\n            // if we've aleady indexed a doc with the same id we need to clean up first\n            var oldTokens = documentLookupMap.get(docId);\n            for (String token : oldTokens) {\n                tokenLookupMap.get(token).remove(docId);\n                // not sure if this is beneficial big picture on large data sets / space constraints\n                if(tokenLookupMap.get(token).isEmpty()) {\n                    tokenLookupMap.remove(token);\n                }\n            }\n        }\n\n        documentLookupMap.put(docId, tokens);\n        for (String token : tokens) {\n            tokenLookupMap.computeIfAbsent(token,t-&gt;new HashSet&lt;Integer&gt;()).add(docId);\n        }\n    }\n\n    private Set&lt;Integer&gt; getDocsForToken(String token) {\n        return tokenLookupMap.containsKey(token) ? tokenLookupMap.get(token) : new HashSet&lt;Integer&gt;();\n    }\n\n\n</code></pre>\n<p>This needs to scale efficiently to tens of thousands of documents / tokens</p>\n<p>Thanks in advance for any insights!</p>\n"},{"tags":["java","profiler"],"answers":[{"tags":[],"owner":{"account_id":15923,"reputation":28380,"user_id":34161,"accept_rate":83,"display_name":"Yoni Roit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1229449108,"creation_date":1229357715,"answer_id":368873,"question_id":368831,"body_markdown":"JVMPI spec: http://java.sun.com/j2se/1.5.0/docs/guide/jvmpi/jvmpi.html\r\n\r\nI salute your courage and bravery\r\n\r\nEDIT: And as noted by user Boune, JVMTI: \r\nhttp://java.sun.com/developer/technicalArticles/Programming/jvmti/","title":"How to write a profiler?","body":"<p>JVMPI spec: <a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/jvmpi/jvmpi.html\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.5.0/docs/guide/jvmpi/jvmpi.html</a></p>\n\n<p>I salute your courage and bravery</p>\n\n<p>EDIT: And as noted by user Boune, JVMTI: \n<a href=\"http://java.sun.com/developer/technicalArticles/Programming/jvmti/\" rel=\"nofollow noreferrer\">http://java.sun.com/developer/technicalArticles/Programming/jvmti/</a></p>\n"},{"tags":[],"owner":{"account_id":11315,"reputation":41450,"user_id":21755,"accept_rate":85,"display_name":"The Archetypal Paul"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1666167518,"creation_date":1229359521,"answer_id":368978,"question_id":368831,"body_markdown":"Encouraging lot, aren&#39;t we :)\r\n\r\nProfilers aren&#39;t too hard if you&#39;re just trying to get a reasonable idea of where the program&#39;s spending most of its time. If you&#39;re bothered about high accuracy and minimum disruption, things get difficult.\r\n\r\nSo if you just want the answers a profiler would give you, go for one someone else has written. If you&#39;re looking for the intellectual challenge, why not have a go at writing one?\r\n\r\nI&#39;ve written a couple, for run time environments that the years have rendered irrelevant. \r\n\r\nThere are two approaches\r\n\r\n  - adding something to each function or other significant point that logs the time and where it is.\r\n\r\n  - having a timer going off regularly and taking a peek where the program currently is. \r\n\r\nThe JVMPI version seems to be the first kind - the link provided by uzhin shows that it can report on quite a number of things (see section 1.3). What gets executed changes to do this, so the profiling can affect the performance (and if you&#39;re profiling what was otherwise a very lightweight but often called function, it can mislead).\r\n\r\nIf you can get a timer/interrupt telling you where the program counter was at the time of the interrupt, you can use the symbol table/debugging information to work out which function it was in at the time. This provides less information but can be less disruptive. A bit more information can be obtained from walking the call stack to identify callers etc. I&#39;ve no idea if these is even possible in Java...\r\n\r\nPaul.","title":"How to write a profiler?","body":"<p>Encouraging lot, aren't we :)</p>\n<p>Profilers aren't too hard if you're just trying to get a reasonable idea of where the program's spending most of its time. If you're bothered about high accuracy and minimum disruption, things get difficult.</p>\n<p>So if you just want the answers a profiler would give you, go for one someone else has written. If you're looking for the intellectual challenge, why not have a go at writing one?</p>\n<p>I've written a couple, for run time environments that the years have rendered irrelevant.</p>\n<p>There are two approaches</p>\n<ul>\n<li><p>adding something to each function or other significant point that logs the time and where it is.</p>\n</li>\n<li><p>having a timer going off regularly and taking a peek where the program currently is.</p>\n</li>\n</ul>\n<p>The JVMPI version seems to be the first kind - the link provided by uzhin shows that it can report on quite a number of things (see section 1.3). What gets executed changes to do this, so the profiling can affect the performance (and if you're profiling what was otherwise a very lightweight but often called function, it can mislead).</p>\n<p>If you can get a timer/interrupt telling you where the program counter was at the time of the interrupt, you can use the symbol table/debugging information to work out which function it was in at the time. This provides less information but can be less disruptive. A bit more information can be obtained from walking the call stack to identify callers etc. I've no idea if these is even possible in Java...</p>\n<p>Paul.</p>\n"},{"tags":[],"owner":{"account_id":19498,"reputation":1063,"user_id":45757,"display_name":"Boune"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1229386804,"creation_date":1229386804,"answer_id":370167,"question_id":368831,"body_markdown":"I would look at those open-source projects first:\r\n\r\n - Eclipse TPTP (http://www.eclipse.org/tptp/)\r\n - VisualVM (https://visualvm.dev.java.net/)\r\n\r\nThen I would look at JVMTI (not JVMPI)\r\n\r\n - http://java.sun.com/developer/technicalArticles/Programming/jvmti/","title":"How to write a profiler?","body":"<p>I would look at those open-source projects first:</p>\n\n<ul>\n<li>Eclipse TPTP (<a href=\"http://www.eclipse.org/tptp/\" rel=\"noreferrer\">http://www.eclipse.org/tptp/</a>)</li>\n<li>VisualVM (<a href=\"https://visualvm.dev.java.net/\" rel=\"noreferrer\">https://visualvm.dev.java.net/</a>)</li>\n</ul>\n\n<p>Then I would look at JVMTI (not JVMPI)</p>\n\n<ul>\n<li><a href=\"http://java.sun.com/developer/technicalArticles/Programming/jvmti/\" rel=\"noreferrer\">http://java.sun.com/developer/technicalArticles/Programming/jvmti/</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12145,"reputation":40207,"user_id":23771,"accept_rate":60,"display_name":"Mike Dunlavey"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1242388857,"creation_date":1239392173,"answer_id":738647,"question_id":368831,"body_markdown":"I wrote one once, mainly as an attempt to make &quot;deep sampling&quot; more user-friendly. When you do the method manually, [it is explained here][1]. It is based on sampling, but rather than take a large number of small samples, you take a small number of large samples.\r\n\r\nIt can tell you, for example, that instruction `I` (usually a function call) is costing you some percent X of total execution time, more or less, since it appears on the stack on X% of samples.\r\n\r\nThink about it, because **this is a key point**. The call stack exists as long as the program is running. If a particular call instruction `I` is on the stack X% of the time, then if that instruction could disappear, that X% of time would disappear. *This does not depend on how many times `I` is executed, or how long the function call takes. So timers and counters are missing the point.* And in a sense all instructions are call instructions, even if they only call microcode.\r\n\r\nThe sampler is based on the premise that it is better to know the address of instruction `I` with precision (*because that is what you are looking for*) than to know the number X% with precision. If you know that you could save roughly 30% of time by recoding something, do you really care that you might be off by 5%? You&#39;re still going to want to fix it. The amount of time it actually saves won&#39;t be made any less or greater by your knowing X precisely.\r\n\r\nSo it is possible to drive samples off of a timer, but frankly I found it just as useful to trigger an interrupt by the user pressing both shift keys as the same time. Since 20 samples is generally plenty, and this way you can be sure to take samples at a relevant time (i.e. not while waiting for user input) it was quite adequate. Another way would be to only do the timer-driven samples while the user holds down both shift keys (or something like that).\r\n\r\nIt did not concern me that the taking of samples might slow down the program, because the goal was not to measure speed, but to locate the most costly instructions. After fixing something, the overall speedup is easy to measure.\r\n\r\nThe main thing that the profiler provided was a UI so you could examine the results painlessly. What comes out of the sampling phase is a collection of call stack samples, where each sample is a list of addresses of instructions, where every instruction but the last is a call instruction. The UI was mainly what is called a &quot;butterfly view&quot;.\r\nIt has a current &quot;focus&quot;, which is a particular instruction. To the left is displayed the call instructions immediately above that instruction, as culled from the stack samples. If the focus instruction is a call instruction, then the instructions below it appear to the right, as culled from the samples. On the focus instruction is displayed a percent, which is the percent of stacks containing that instruction. Similarly for each instruction on the left or right, the percent is broken down by the frequency of each such instruction. Of course, the instruction was represented by file, line number, and the name of the function it was in. The user could easily explore the data by clicking any of the instructions to make it the new focus.\r\n\r\nA variation on this UI treated the butterfly as bipartite, consisting of alternating layers of function call instructions and the functions containing them. That can give a little more clarity of time spent in each function.\r\n\r\nMaybe it&#39;s not obvious, so it&#39;s worth mentioning some properties of this technique.\r\n\r\n- Recursion is not an issue, because if an instruction appears more than once on any given stack sample, that still counts as only one sample containing it. It still remains true that the estimated time that would be saved by its removal is the percent of stacks it is on.\r\n\r\n- Notice this is not the same as a call tree. It gives you the cost of an instruction no matter how many different branches of a call tree it is in.\r\n\r\n- Performance of the UI is not an issue, because the number of samples need not be very large. If a particular instruction I is the focus, it is quite simple to find how may samples contain it, and for each adjacent instruction, how many of the samples containing I also contain the adjacent instruction next to it.\r\n\r\n- As mentioned before, speed of sampling is not an issue, because we&#39;re not measuring performance, we&#39;re diagnosing. The sampling does not bias the results, because the sampling does not affect what the overall program does. An algorithm that takes N instructions to complete still takes N instructions even if it is halted any number of times.\r\n\r\n- I&#39;m often asked how to sample a program that completes in milliseconds. The simple answer is wrap it in an outer loop to make it take long enough to sample. You can find out what takes X% of time, remove it, get the X% speedup, and then remove the outer loop.\r\n\r\nThis little profiler, that I called YAPA (yet another performance analyzer) was DOS-based and made a nice little demo, but when I had serious work to do, I would fall back on the manual method. The main reason for this is that the call stack alone is often not enough state information to tell you why a particular cycle is being spent. You may also need to know other state information so you have a more complete idea of what the program was doing at that time. Since I found the manual method pretty satisfactory, I shelved the tool.\r\n\r\nA point that&#39;s often missed when talking about profiling is that you can do it repeatedly to find multiple problems. For example, suppose instruction `I1` is on the stack 5% of the time, and `I2` is on the stack 50% of the time. Twenty samples will easily find `I2`, but maybe not `I1`. So you fix `I2`. Then you do it all again, but now `I1` takes 10% of the time, so 20 samples will probably see it. This *magnification effect* allows repeated applications of profiling to achieve large compounded speedup factors.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/375913/what-can-i-use-to-profile-c-code-in-linux/378024#378024","title":"How to write a profiler?","body":"<p>I wrote one once, mainly as an attempt to make \"deep sampling\" more user-friendly. When you do the method manually, <a href=\"https://stackoverflow.com/questions/375913/what-can-i-use-to-profile-c-code-in-linux/378024#378024\">it is explained here</a>. It is based on sampling, but rather than take a large number of small samples, you take a small number of large samples.</p>\n\n<p>It can tell you, for example, that instruction <code>I</code> (usually a function call) is costing you some percent X of total execution time, more or less, since it appears on the stack on X% of samples.</p>\n\n<p>Think about it, because <strong>this is a key point</strong>. The call stack exists as long as the program is running. If a particular call instruction <code>I</code> is on the stack X% of the time, then if that instruction could disappear, that X% of time would disappear. <em>This does not depend on how many times <code>I</code> is executed, or how long the function call takes. So timers and counters are missing the point.</em> And in a sense all instructions are call instructions, even if they only call microcode.</p>\n\n<p>The sampler is based on the premise that it is better to know the address of instruction <code>I</code> with precision (<em>because that is what you are looking for</em>) than to know the number X% with precision. If you know that you could save roughly 30% of time by recoding something, do you really care that you might be off by 5%? You're still going to want to fix it. The amount of time it actually saves won't be made any less or greater by your knowing X precisely.</p>\n\n<p>So it is possible to drive samples off of a timer, but frankly I found it just as useful to trigger an interrupt by the user pressing both shift keys as the same time. Since 20 samples is generally plenty, and this way you can be sure to take samples at a relevant time (i.e. not while waiting for user input) it was quite adequate. Another way would be to only do the timer-driven samples while the user holds down both shift keys (or something like that).</p>\n\n<p>It did not concern me that the taking of samples might slow down the program, because the goal was not to measure speed, but to locate the most costly instructions. After fixing something, the overall speedup is easy to measure.</p>\n\n<p>The main thing that the profiler provided was a UI so you could examine the results painlessly. What comes out of the sampling phase is a collection of call stack samples, where each sample is a list of addresses of instructions, where every instruction but the last is a call instruction. The UI was mainly what is called a \"butterfly view\".\nIt has a current \"focus\", which is a particular instruction. To the left is displayed the call instructions immediately above that instruction, as culled from the stack samples. If the focus instruction is a call instruction, then the instructions below it appear to the right, as culled from the samples. On the focus instruction is displayed a percent, which is the percent of stacks containing that instruction. Similarly for each instruction on the left or right, the percent is broken down by the frequency of each such instruction. Of course, the instruction was represented by file, line number, and the name of the function it was in. The user could easily explore the data by clicking any of the instructions to make it the new focus.</p>\n\n<p>A variation on this UI treated the butterfly as bipartite, consisting of alternating layers of function call instructions and the functions containing them. That can give a little more clarity of time spent in each function.</p>\n\n<p>Maybe it's not obvious, so it's worth mentioning some properties of this technique.</p>\n\n<ul>\n<li><p>Recursion is not an issue, because if an instruction appears more than once on any given stack sample, that still counts as only one sample containing it. It still remains true that the estimated time that would be saved by its removal is the percent of stacks it is on.</p></li>\n<li><p>Notice this is not the same as a call tree. It gives you the cost of an instruction no matter how many different branches of a call tree it is in.</p></li>\n<li><p>Performance of the UI is not an issue, because the number of samples need not be very large. If a particular instruction I is the focus, it is quite simple to find how may samples contain it, and for each adjacent instruction, how many of the samples containing I also contain the adjacent instruction next to it.</p></li>\n<li><p>As mentioned before, speed of sampling is not an issue, because we're not measuring performance, we're diagnosing. The sampling does not bias the results, because the sampling does not affect what the overall program does. An algorithm that takes N instructions to complete still takes N instructions even if it is halted any number of times.</p></li>\n<li><p>I'm often asked how to sample a program that completes in milliseconds. The simple answer is wrap it in an outer loop to make it take long enough to sample. You can find out what takes X% of time, remove it, get the X% speedup, and then remove the outer loop.</p></li>\n</ul>\n\n<p>This little profiler, that I called YAPA (yet another performance analyzer) was DOS-based and made a nice little demo, but when I had serious work to do, I would fall back on the manual method. The main reason for this is that the call stack alone is often not enough state information to tell you why a particular cycle is being spent. You may also need to know other state information so you have a more complete idea of what the program was doing at that time. Since I found the manual method pretty satisfactory, I shelved the tool.</p>\n\n<p>A point that's often missed when talking about profiling is that you can do it repeatedly to find multiple problems. For example, suppose instruction <code>I1</code> is on the stack 5% of the time, and <code>I2</code> is on the stack 50% of the time. Twenty samples will easily find <code>I2</code>, but maybe not <code>I1</code>. So you fix <code>I2</code>. Then you do it all again, but now <code>I1</code> takes 10% of the time, so 20 samples will probably see it. This <em>magnification effect</em> allows repeated applications of profiling to achieve large compounded speedup factors.</p>\n"},{"tags":[],"owner":{"account_id":12145,"reputation":40207,"user_id":23771,"accept_rate":60,"display_name":"Mike Dunlavey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1242579462,"creation_date":1242567180,"answer_id":874632,"question_id":368831,"body_markdown":"As another answer, I just looked at LukeStackwalker on sourceforge. It is a nice, small, example of a stack-sampler, and a nice place to start if you want to write a profiler.\r\n\r\nHere, in my opinion, is what it does right:\r\n\r\n- It samples the entire call stack.\r\n\r\nSigh ... so near yet so far. Here, IMO, is what it (and other stack samplers like xPerf) should do:\r\n\r\n- It should retain the raw stack samples. As it is, it summarizes at the function level as it samples. This loses the key line-number information locating the problematic call sites.\r\n\r\n- It need not take so many samples, if storage to hold them is an issue. Since typical performance problems cost from 10% to 90%, 20-40 samples will show them quite reliably. Hundreds of samples give more measurement precision, but they do not increase the probability of locating the problems.\r\n\r\n- The UI should summarize in terms of statements, not functions. This is easy to do if the raw samples are kept. The key measure to attach to a statement is the fraction of samples containing it. For example:\r\n\r\n    5/20 MyFile.cpp:326   for (i = 0; i &lt; strlen(s); ++i)\r\n\r\nThis says that line 326 in MyFile.cpp showed up on 5 out of 20 samples, in the process of calling `strlen`. This is very significant, because you can instantly see the problem, and you know how much speedup you can expect from fixing it. If you replace `strlen(s)` by `s[i]`, it will no longer be spending time in that call, so these samples will not occur, and the speedup will be approximately 1/(1-5/20) = 20/(20-5) = 4/3 = 33% speedup. (Thanks to David Thornley for this sample code.)\r\n\r\n- The UI should have a &quot;butterfly&quot; view showing statements. (If it shows functions too, that&#39;s OK, but the statements are what really matter.) For example:\r\n\r\n    3/20 MyFile.cpp:502  MyFunction(myArgs)  \r\n    2/20 HisFile.cpp:113 MyFunction(hisArgs)\r\n\r\n    5/20 MyFile.cpp:326  for (i = 0; i &lt; strlen(s); ++i)\r\n    \r\n    5/20 strlen.asm:23   ... some assembly code ...\r\n\r\n\r\nIn this example, the line containing the `for` statement is the &quot;focus of attention&quot;. It occurred on 5 samples. The two lines above it say that on 3 of those samples, it was called from `MyFile.cpp:502`, and on 2 of those samples, it was called from `HisFile.cpp:113`. The line below it says that on all 5 of those samples, it was in `strlen` (no surprise there). In general, the focus line will have a tree of &quot;parents&quot; and a tree of &quot;children&quot;. If for some reason, the focus line is not something you can fix, you can go up or down. The goal is to find lines that you can fix that are on as many samples as possible.\r\n\r\nIMPORTANT: Profiling should not be looked at as something you do **once**. For example, in the sample above, we got a 4/3 speedup by fixing one line of code. When the process is repeated, other problematic lines of code should show up at 4/3 the frequency they did before, and thus be easier to find. I never hear of people talking about iterating the profiling process, but it is crucial to getting overall large compounded speedups.\r\n\r\nP.S. If a statement occurs more than once in a single sample, that means there is recursion taking place. It is not a problem. It still only counts as one sample containing the statement. It is still the case that the cost of the statement is approximated by the fraction of samples containing it.\r\n\r\n","title":"How to write a profiler?","body":"<p>As another answer, I just looked at LukeStackwalker on sourceforge. It is a nice, small, example of a stack-sampler, and a nice place to start if you want to write a profiler.</p>\n\n<p>Here, in my opinion, is what it does right:</p>\n\n<ul>\n<li>It samples the entire call stack.</li>\n</ul>\n\n<p>Sigh ... so near yet so far. Here, IMO, is what it (and other stack samplers like xPerf) should do:</p>\n\n<ul>\n<li><p>It should retain the raw stack samples. As it is, it summarizes at the function level as it samples. This loses the key line-number information locating the problematic call sites.</p></li>\n<li><p>It need not take so many samples, if storage to hold them is an issue. Since typical performance problems cost from 10% to 90%, 20-40 samples will show them quite reliably. Hundreds of samples give more measurement precision, but they do not increase the probability of locating the problems.</p></li>\n<li><p>The UI should summarize in terms of statements, not functions. This is easy to do if the raw samples are kept. The key measure to attach to a statement is the fraction of samples containing it. For example:</p>\n\n<p>5/20 MyFile.cpp:326   for (i = 0; i &lt; strlen(s); ++i)</p></li>\n</ul>\n\n<p>This says that line 326 in MyFile.cpp showed up on 5 out of 20 samples, in the process of calling <code>strlen</code>. This is very significant, because you can instantly see the problem, and you know how much speedup you can expect from fixing it. If you replace <code>strlen(s)</code> by <code>s[i]</code>, it will no longer be spending time in that call, so these samples will not occur, and the speedup will be approximately 1/(1-5/20) = 20/(20-5) = 4/3 = 33% speedup. (Thanks to David Thornley for this sample code.)</p>\n\n<ul>\n<li><p>The UI should have a \"butterfly\" view showing statements. (If it shows functions too, that's OK, but the statements are what really matter.) For example:</p>\n\n<p>3/20 MyFile.cpp:502  MyFunction(myArgs)<br>\n2/20 HisFile.cpp:113 MyFunction(hisArgs)</p>\n\n<p>5/20 MyFile.cpp:326  for (i = 0; i &lt; strlen(s); ++i)</p>\n\n<p>5/20 strlen.asm:23   ... some assembly code ...</p></li>\n</ul>\n\n<p>In this example, the line containing the <code>for</code> statement is the \"focus of attention\". It occurred on 5 samples. The two lines above it say that on 3 of those samples, it was called from <code>MyFile.cpp:502</code>, and on 2 of those samples, it was called from <code>HisFile.cpp:113</code>. The line below it says that on all 5 of those samples, it was in <code>strlen</code> (no surprise there). In general, the focus line will have a tree of \"parents\" and a tree of \"children\". If for some reason, the focus line is not something you can fix, you can go up or down. The goal is to find lines that you can fix that are on as many samples as possible.</p>\n\n<p>IMPORTANT: Profiling should not be looked at as something you do <strong>once</strong>. For example, in the sample above, we got a 4/3 speedup by fixing one line of code. When the process is repeated, other problematic lines of code should show up at 4/3 the frequency they did before, and thus be easier to find. I never hear of people talking about iterating the profiling process, but it is crucial to getting overall large compounded speedups.</p>\n\n<p>P.S. If a statement occurs more than once in a single sample, that means there is recursion taking place. It is not a problem. It still only counts as one sample containing the statement. It is still the case that the cost of the statement is approximated by the fraction of samples containing it.</p>\n"}],"owner":{"account_id":12501,"reputation":3966,"user_id":24639,"accept_rate":88,"display_name":"Agusti-N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4687,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":370167,"answer_count":5,"score":17,"last_activity_date":1666167518,"creation_date":1229356967,"question_id":368831,"body_markdown":"i would to know how to write a profiler? What books and / or articles recommended? Can anyone help me please?\r\n\r\nSomeone has already done something like this?\r\n","title":"How to write a profiler?","body":"<p>i would to know how to write a profiler? What books and / or articles recommended? Can anyone help me please?</p>\n\n<p>Someone has already done something like this?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1666165056,"post_id":74121448,"comment_id":130868042,"body_markdown":"Just don’t make them nullable. Especially lists should never be nullable, just use an empty list as default value.","body":"Just don’t make them nullable. Especially lists should never be nullable, just use an empty list as default value."},{"owner":{"account_id":8778895,"reputation":375,"user_id":6563164,"accept_rate":43,"display_name":"rura6502"},"score":0,"creation_date":1666165744,"post_id":74121448,"comment_id":130868271,"body_markdown":"thanks. this data structure is response dto by outside API, so I am not sure fields is not null.","body":"thanks. this data structure is response dto by outside API, so I am not sure fields is not null."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1666191697,"post_id":74121448,"comment_id":130878387,"body_markdown":"@rura6502 You mean you receive this data from an external API and some properties come as `null` right? In such a case, you need to instruct your desirialization tool (like Jackson, Gson) to assign default values instead of `null`. That would be the proper solution to the problem. You can provide a sample response message you&#39;re getting and specify the tool you&#39;re using for parsing. And, by the way, you should be aware that using `Optional` to hide *null-checks* is an abuse `Optional`.","body":"@rura6502 You mean you receive this data from an external API and some properties come as <code>null</code> right? In such a case, you need to instruct your desirialization tool (like Jackson, Gson) to assign default values instead of <code>null</code>. That would be the proper solution to the problem. You can provide a sample response message you&#39;re getting and specify the tool you&#39;re using for parsing. And, by the way, you should be aware that using <code>Optional</code> to hide <i>null-checks</i> is an abuse <code>Optional</code>."}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666167460,"creation_date":1666165059,"answer_id":74121523,"question_id":74121448,"body_markdown":"Something like this:\r\n\r\n    var result = Optional.of(a)\r\n            .map(A::getB)\r\n            .map(B::getCs)\r\n            .stream()\r\n            .flatMap(List::stream)\r\n            .filter(Objects::nonNull)\r\n            .map(C::getDs)\r\n            .filter(Objects::nonNull)\r\n            .flatMap(List::stream)\r\n            .filter(Objects::nonNull)\r\n            .map(D::getValue)\r\n            .filter(Objects::nonNull)\r\n            .toList();","title":"flat elements in arrays with optional, null safe","body":"<p>Something like this:</p>\n<pre><code>var result = Optional.of(a)\n        .map(A::getB)\n        .map(B::getCs)\n        .stream()\n        .flatMap(List::stream)\n        .filter(Objects::nonNull)\n        .map(C::getDs)\n        .filter(Objects::nonNull)\n        .flatMap(List::stream)\n        .filter(Objects::nonNull)\n        .map(D::getValue)\n        .filter(Objects::nonNull)\n        .toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666166023,"creation_date":1666166023,"answer_id":74121727,"question_id":74121448,"body_markdown":"I would make every DTO responsible for returning not-null value (either `Optional` or empty `List`)\r\n\r\n    @Data @AllArgsConstructor\r\n    class C {\r\n      private List&lt;D&gt; ds;\r\n      public List&lt;D&gt; getDs() {\r\n        return ds == null ? Collections.emptyList() : ds;\r\n      }\r\n    }\r\n    \r\n    @Data @AllArgsConstructor\r\n    class D {\r\n      private String value;\r\n      public Optional&lt;String&gt; getValue() {\r\n        return Optional.ofNullable(value);\r\n      }\r\n    }","title":"flat elements in arrays with optional, null safe","body":"<p>I would make every DTO responsible for returning not-null value (either <code>Optional</code> or empty <code>List</code>)</p>\n<pre><code>@Data @AllArgsConstructor\nclass C {\n  private List&lt;D&gt; ds;\n  public List&lt;D&gt; getDs() {\n    return ds == null ? Collections.emptyList() : ds;\n  }\n}\n\n@Data @AllArgsConstructor\nclass D {\n  private String value;\n  public Optional&lt;String&gt; getValue() {\n    return Optional.ofNullable(value);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":8778895,"reputation":375,"user_id":6563164,"accept_rate":43,"display_name":"rura6502"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666167460,"creation_date":1666164705,"question_id":74121448,"body_markdown":"my data structure is \r\n\r\n```java\r\n@Data @AllArgsConstructor\r\nclass A {\r\n  private B b;\r\n}\r\n\r\n@Data @AllArgsConstructor\r\nclass B {\r\n  private List&lt;C&gt; cs;\r\n}\r\n\r\n@Data @AllArgsConstructor\r\nclass C {\r\n  private List&lt;D&gt; ds;\r\n}\r\n\r\n@Data @AllArgsConstructor\r\nclass D {\r\n  private String value;\r\n}\r\n```\r\n\r\nand all member is nullable. so I want to extract all values(in class D) in this data structure with optional for nullsafe.\r\n\r\nI imagine\r\n\r\n```java\r\nA a = new A(\r\n  new B(List.of(\r\n    new C(List.of(\r\n      new D(&quot;a&quot;), new D(&quot;b&quot;), new D(&quot;c&quot;)\r\n    ))\r\n    , new C(List.of(\r\n      new D(&quot;d&quot;), new D(&quot;e&quot;), new D(&quot;f&quot;)\r\n    ))\r\n  ))\r\n);\r\n\r\n\r\n// it will be List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;)\r\nvar result = Optional.ofNullable(a)\r\n  .map(A::getB)\r\n  .flatMap(.......)   // &lt;-- i don&#39;t know this point how to do to flat elements\r\n  .orElse(List.of(&quot;empty&quot;)) // or &#39;orThrow`\r\n```","title":"flat elements in arrays with optional, null safe","body":"<p>my data structure is</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data @AllArgsConstructor\nclass A {\n  private B b;\n}\n\n@Data @AllArgsConstructor\nclass B {\n  private List&lt;C&gt; cs;\n}\n\n@Data @AllArgsConstructor\nclass C {\n  private List&lt;D&gt; ds;\n}\n\n@Data @AllArgsConstructor\nclass D {\n  private String value;\n}\n</code></pre>\n<p>and all member is nullable. so I want to extract all values(in class D) in this data structure with optional for nullsafe.</p>\n<p>I imagine</p>\n<pre class=\"lang-java prettyprint-override\"><code>A a = new A(\n  new B(List.of(\n    new C(List.of(\n      new D(&quot;a&quot;), new D(&quot;b&quot;), new D(&quot;c&quot;)\n    ))\n    , new C(List.of(\n      new D(&quot;d&quot;), new D(&quot;e&quot;), new D(&quot;f&quot;)\n    ))\n  ))\n);\n\n\n// it will be List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;)\nvar result = Optional.ofNullable(a)\n  .map(A::getB)\n  .flatMap(.......)   // &lt;-- i don't know this point how to do to flat elements\n  .orElse(List.of(&quot;empty&quot;)) // or 'orThrow`\n</code></pre>\n"},{"tags":["java","spigot"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1666127275,"post_id":74117489,"comment_id":130861261,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666167459,"creation_date":1666167459,"answer_id":74122040,"question_id":74117489,"body_markdown":"It&#39;s normal that it doesn&#39;t change the config file on the plugin folder. If you want to update it, just remove it and it will create a new one.\r\n\r\nFor the file `config.yml` you can just do `saveDefaultConfig()` in your `onEnable()` and it will be copied in good folder.\r\n\r\nFor others, you can simply do:\r\n```java\r\nFile file = new File(getDataFolder(), &quot;my-file.yml&quot;);\r\ntry (InputStream in = getResource(&quot;my-config-file.yml&quot;); OutputStream out = new FileOutputStream(file)) {\r\n\tByteStreams.copy(in, out);\r\n} catch (Exception e) {\r\n\te.printStackTrace();\r\n}\r\n```\r\nThis code copied `my-config-file.yml` from your plugin to `plugins/YourPlugin/my-file.yml` in your server file.","title":"Comparing 2 configfile in java (for spigot plugin)","body":"<p>It's normal that it doesn't change the config file on the plugin folder. If you want to update it, just remove it and it will create a new one.</p>\n<p>For the file <code>config.yml</code> you can just do <code>saveDefaultConfig()</code> in your <code>onEnable()</code> and it will be copied in good folder.</p>\n<p>For others, you can simply do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(getDataFolder(), &quot;my-file.yml&quot;);\ntry (InputStream in = getResource(&quot;my-config-file.yml&quot;); OutputStream out = new FileOutputStream(file)) {\n    ByteStreams.copy(in, out);\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>This code copied <code>my-config-file.yml</code> from your plugin to <code>plugins/YourPlugin/my-file.yml</code> in your server file.</p>\n"}],"owner":{"account_id":10513989,"reputation":1,"user_id":7748675,"display_name":"Meridias"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666167459,"creation_date":1666127260,"question_id":74117489,"body_markdown":"I try to learn some thing about plugin for minecraft.  \r\nIn my way i got to make config files.  \r\nFrom there everything is ok i can read it, save it into the pluginfolder..  \r\nBut when i change it into my resourceFolder it dosn&#39;t update into the pluginfolder.  \r\nI try to find a way to do it but i dont know how to do.\r\n\r\nIf someone can help me, thanks a lot\r\n\r\nMy FilesUtils class:\r\n```\r\npublic enum FilesUtil {\r\n  // D&#233;finie les fichiers de config\r\n  CONFIG(&quot;config.yml&quot;),\r\n  LANG(&quot;lang.yml&quot;);\r\n\r\n  private final String fileName;\r\n  private final File dataFolder;\r\n\r\n  FilesUtil(String fileName) {\r\n    this.fileName = fileName;\r\n    this.dataFolder = FirstPlugin.getInstance().getDataFolder();\r\n  }\r\n\r\n  // Copie le fichier resource du jar vers le fichier du dossier du plugin\r\n  public void create(Logger logger) {\r\n    // V&#233;rifie si le fichier resource jar n&#39;est pas null et n&#39;est pas vide\r\n    if (fileName == null || fileName.isEmpty()) {\r\n      throw new IllegalArgumentException(&quot;ResourcePath cannot be null or empty&quot;);\r\n    }\r\n\r\n    // lit le fichier resource jar\r\n    InputStream in = FirstPlugin.getInstance().getResource(fileName);\r\n\r\n    // V&#233;rifie que le fichier n&#39;est pas null\r\n    if (in == null) {\r\n      throw new IllegalArgumentException(&quot;The resource &#39;&quot; + fileName + &quot;&#39; cannot be found in plugin jar&quot;);\r\n    }\r\n\r\n    // V&#233;rifie si le dossier du plugin n&#39;existe pas et qu&#39;on&#39;a pas pu le cr&#233;er\r\n    if (!dataFolder.exists() &amp;&amp; !dataFolder.mkdir()) {\r\n      logger.severe(&quot;Failed to make directory&quot;);\r\n    }\r\n\r\n    // Fichier plugin\r\n    File outFile = getFile();\r\n\r\n    try {\r\n      // V&#233;rifie si le fichier plugin existe\r\n      if (!outFile.exists()) {\r\n        logger.info(&quot;The &quot; + fileName + &quot; was not found, creation in progress ...&quot;);\r\n\r\n        // Permet d&#39;&#233;crire sur le fichier\r\n        OutputStream out = new FileOutputStream(outFile);\r\n        // Indique le nombre d&#39;octets lu &#224; chaque tour de boucle\r\n        byte[] buf = new byte[1024];\r\n        // R&#233;sultat de la lecture\r\n        int n;\r\n        // Tant qu&#39;infile n&#39;est pas lu\r\n        while ((n = in.read(buf)) &gt;= 0) {\r\n          // &#201;crire dans outfile\r\n          out.write(buf, 0, n);\r\n        }\r\n\r\n        // Fermeture des flux\r\n        out.close();\r\n        in.close();\r\n\r\n        // On v&#233;rifie si le fichier du plugin est bien cr&#233;&#233;\r\n        if (!(outFile.exists())) {\r\n          logger.severe(&quot;Unable to copy the file&quot;);\r\n        }\r\n\r\n      }\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n    }\r\n\r\n  // Retourne un File plut&#244;t qu&#39;un nom de fichier\r\n  public File getFile() {\r\n    return new File(dataFolder, fileName);\r\n  }\r\n\r\n  // Permet de r&#233;cup&#233;rer facilement le fichier config\r\n  public FileConfiguration getConfig() {\r\n    return YamlConfiguration.loadConfiguration(getFile());\r\n  }\r\n\r\n  // Permet de sauvegarder le fichier de configuration\r\n  public void save(FileConfiguration config) {\r\n    try {\r\n      config.save(getFile());\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n\r\n  public String getFileName() {\r\n    return fileName;\r\n  }\r\n\r\n}\r\n```","title":"Comparing 2 configfile in java (for spigot plugin)","body":"<p>I try to learn some thing about plugin for minecraft.<br />\nIn my way i got to make config files.<br />\nFrom there everything is ok i can read it, save it into the pluginfolder..<br />\nBut when i change it into my resourceFolder it dosn't update into the pluginfolder.<br />\nI try to find a way to do it but i dont know how to do.</p>\n<p>If someone can help me, thanks a lot</p>\n<p>My FilesUtils class:</p>\n<pre><code>public enum FilesUtil {\n  // Définie les fichiers de config\n  CONFIG(&quot;config.yml&quot;),\n  LANG(&quot;lang.yml&quot;);\n\n  private final String fileName;\n  private final File dataFolder;\n\n  FilesUtil(String fileName) {\n    this.fileName = fileName;\n    this.dataFolder = FirstPlugin.getInstance().getDataFolder();\n  }\n\n  // Copie le fichier resource du jar vers le fichier du dossier du plugin\n  public void create(Logger logger) {\n    // Vérifie si le fichier resource jar n'est pas null et n'est pas vide\n    if (fileName == null || fileName.isEmpty()) {\n      throw new IllegalArgumentException(&quot;ResourcePath cannot be null or empty&quot;);\n    }\n\n    // lit le fichier resource jar\n    InputStream in = FirstPlugin.getInstance().getResource(fileName);\n\n    // Vérifie que le fichier n'est pas null\n    if (in == null) {\n      throw new IllegalArgumentException(&quot;The resource '&quot; + fileName + &quot;' cannot be found in plugin jar&quot;);\n    }\n\n    // Vérifie si le dossier du plugin n'existe pas et qu'on'a pas pu le créer\n    if (!dataFolder.exists() &amp;&amp; !dataFolder.mkdir()) {\n      logger.severe(&quot;Failed to make directory&quot;);\n    }\n\n    // Fichier plugin\n    File outFile = getFile();\n\n    try {\n      // Vérifie si le fichier plugin existe\n      if (!outFile.exists()) {\n        logger.info(&quot;The &quot; + fileName + &quot; was not found, creation in progress ...&quot;);\n\n        // Permet d'écrire sur le fichier\n        OutputStream out = new FileOutputStream(outFile);\n        // Indique le nombre d'octets lu à chaque tour de boucle\n        byte[] buf = new byte[1024];\n        // Résultat de la lecture\n        int n;\n        // Tant qu'infile n'est pas lu\n        while ((n = in.read(buf)) &gt;= 0) {\n          // Écrire dans outfile\n          out.write(buf, 0, n);\n        }\n\n        // Fermeture des flux\n        out.close();\n        in.close();\n\n        // On vérifie si le fichier du plugin est bien créé\n        if (!(outFile.exists())) {\n          logger.severe(&quot;Unable to copy the file&quot;);\n        }\n\n      }\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n    }\n\n  // Retourne un File plutôt qu'un nom de fichier\n  public File getFile() {\n    return new File(dataFolder, fileName);\n  }\n\n  // Permet de récupérer facilement le fichier config\n  public FileConfiguration getConfig() {\n    return YamlConfiguration.loadConfiguration(getFile());\n  }\n\n  // Permet de sauvegarder le fichier de configuration\n  public void save(FileConfiguration config) {\n    try {\n      config.save(getFile());\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n  }\n\n  public String getFileName() {\n    return fileName;\n  }\n\n}\n</code></pre>\n"},{"tags":["java","authentication","uri"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666170140,"post_id":74122036,"comment_id":130869847,"body_markdown":"Without looking into it, my best guess that it&#39;s nothing really to do with the ```URI``` . It will probably be to do with the fact that the api you&#39;re using won&#39;t automatically produce the authorization from what I think can be got from ```URI.getUserInfo()``` You&#39;ll have to do that yourself with the api&#39;s auth mechanism","body":"Without looking into it, my best guess that it&#39;s nothing really to do with the <code>URI</code> . It will probably be to do with the fact that the api you&#39;re using won&#39;t automatically produce the authorization from what I think can be got from <code>URI.getUserInfo()</code> You&#39;ll have to do that yourself with the api&#39;s auth mechanism"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666170459,"post_id":74122036,"comment_id":130869968,"body_markdown":"The  [auth mechanism](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/Authenticator.html)","body":"The  <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/Authenticator.html\" rel=\"nofollow noreferrer\">auth mechanism</a>"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1666173322,"post_id":74122036,"comment_id":130871043,"body_markdown":"@g00se does that also work for the new HTTP client?","body":"@g00se does that also work for the new HTTP client?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1666173335,"post_id":74122036,"comment_id":130871045,"body_markdown":"When adding username and password to the URL like that, it&#39;s the same as basic authentication. That can be replaced with a header: `Authorization: Basic &lt;username:password in base64&gt;`","body":"When adding username and password to the URL like that, it&#39;s the same as basic authentication. That can be replaced with a header: <code>Authorization: Basic &lt;username:password in base64&gt;</code>"},{"owner":{"account_id":2392816,"reputation":2925,"user_id":2092322,"accept_rate":88,"display_name":"BairDev"},"score":0,"creation_date":1666249042,"post_id":74122036,"comment_id":130891943,"body_markdown":"@g00se Well, like I&#39;ve said: *When I use the same URI as URL in a browser, the request works just fine: the response has 200 status and the content looks like I&#39;d expect it.* It might be the case that the problem is not related to `URI`, so I would need to debug this a little bit deeper.","body":"@g00se Well, like I&#39;ve said: <i>When I use the same URI as URL in a browser, the request works just fine: the response has 200 status and the content looks like I&#39;d expect it.</i> It might be the case that the problem is not related to <code>URI</code>, so I would need to debug this a little bit deeper."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666249857,"post_id":74122036,"comment_id":130892210,"body_markdown":"I&#39;m not sure why you&#39;d expect a simple api to behave in the same way as a massively complex piece of software..?   But i&#39;ve given you a possible way of making it do so","body":"I&#39;m not sure why you&#39;d expect a simple api to behave in the same way as a massively complex piece of software..?   But i&#39;ve given you a possible way of making it do so"},{"owner":{"account_id":2392816,"reputation":2925,"user_id":2092322,"accept_rate":88,"display_name":"BairDev"},"score":0,"creation_date":1666253715,"post_id":74122036,"comment_id":130893610,"body_markdown":"@g00se You are right, I should think again, because this way of authentication is designed for a PHP script (a PHP script is receiving). So I need to look in this direction. A PHP line like this should work: `file_get_contents(&quot;https://&quot;.$user.&quot;:&quot;.$pw.&quot;@cool-domain.com/Export.php);` and trying to reproduce this in Java by using a very basic client might be hybris.","body":"@g00se You are right, I should think again, because this way of authentication is designed for a PHP script (a PHP script is receiving). So I need to look in this direction. A PHP line like this should work: <code>file_get_contents(&quot;https:&#47;&#47;&quot;.$user.&quot;:&quot;.$pw.&quot;@cool-domain.com&zwnj;&#8203;&#47;Export.php);</code> and trying to reproduce this in Java by using a very basic client might be hybris."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666254512,"post_id":74122036,"comment_id":130893912,"body_markdown":"In a way it doesn&#39;t matter what kind of page is at the receiving end. Basic authentication is performed at the web server level. If you put up a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) I might be able to help you fix it so that it authenticates","body":"In a way it doesn&#39;t matter what kind of page is at the receiving end. Basic authentication is performed at the web server level. If you put up a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> I might be able to help you fix it so that it authenticates"},{"owner":{"account_id":2392816,"reputation":2925,"user_id":2092322,"accept_rate":88,"display_name":"BairDev"},"score":0,"creation_date":1666255649,"post_id":74122036,"comment_id":130894340,"body_markdown":"@g00se thanks a lot! I am going to figure out a way of using an `Authenticator` and ask again after some &#39;research&#39;. This will probably happen next week.","body":"@g00se thanks a lot! I am going to figure out a way of using an <code>Authenticator</code> and ask again after some &#39;research&#39;. This will probably happen next week."},{"owner":{"account_id":2392816,"reputation":2925,"user_id":2092322,"accept_rate":88,"display_name":"BairDev"},"score":0,"creation_date":1666261821,"post_id":74122036,"comment_id":130896721,"body_markdown":"@g00se Alright, using a very simple `Authenticator` in the client works. I am overriding `getPasswordAuthentication` and add an instance of my class to the client builder. `HttpClient.newBuilder().connectTimeout(Duration.ofMillis(90 * 1000)).sslContext(sslContext).authenticator(new MyAuthenticator()).build()`. Now I need to understand, why this works.","body":"@g00se Alright, using a very simple <code>Authenticator</code> in the client works. I am overriding <code>getPasswordAuthentication</code> and add an instance of my class to the client builder. <code>HttpClient.newBuilder().connectTimeout(Duration.ofMillis(90 * 1000)).sslContext(sslContext).authenticator(new MyAuthenticator()).build()</code>. Now I need to understand, why this works."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666265225,"post_id":74122036,"comment_id":130897830,"body_markdown":"What&#39;s the mystery? ;)","body":"What&#39;s the mystery? ;)"},{"owner":{"account_id":2392816,"reputation":2925,"user_id":2092322,"accept_rate":88,"display_name":"BairDev"},"score":0,"creation_date":1666616108,"post_id":74122036,"comment_id":130972258,"body_markdown":"@g00se The mystery is in my lack of knowledge. I guess that the authenticator adds an `Authorization` header. But I cannot see this, when I inspect the request in the browser, which somehow manages to do the authentication. Something must happen in the browser, which I don&#39;t understand yet.","body":"@g00se The mystery is in my lack of knowledge. I guess that the authenticator adds an <code>Authorization</code> header. But I cannot see this, when I inspect the request in the browser, which somehow manages to do the authentication. Something must happen in the browser, which I don&#39;t understand yet."}],"owner":{"account_id":2392816,"reputation":2925,"user_id":2092322,"accept_rate":88,"display_name":"BairDev"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666167435,"creation_date":1666167435,"question_id":74122036,"body_markdown":"I need to use a very outdated variant of authentication for a third party server in my Java application. It looks like a subdomain:\r\n\r\n`https://{user}:{password}@cool-domain.com/etc/etc`.\r\n\r\n#### I know this is weird, ugly, dangerous and almost a crime.\r\n\r\nBut my question is: how can use this kind of *URI* with a simple Java URI?\r\n\r\nI am doing this:\r\n\r\n```\r\nfinal URI myURI = URI.create(&quot;https://username:admin@cool-domain.com/etc/etc&quot;);\r\nfinal HttpRequest requ = HttpRequest.newBuilder().GET().uri(myURI).build();\r\n```\r\n\r\nWhen I just log the URI based on the **sent request**:\r\n\r\n```\r\nHttpResponse&lt;String&gt; response = client.send(requ, BodyHandlers.ofString()); // which is the java.net.http.HttpClient\r\nHelpers.logger.debug(response.request().uri().toString());\r\n```\r\n\r\nI am getting the exact given URI. But the server does not recognize the authorization and gives a 401. When I use the same URI als URL in a browser, the request works just fine: the response has 200 status and the content looks like I&#39;d expect it.\r\n\r\nSo I have actually two questions:\r\n\r\n### 1. How can I debug what is actually happening with the URI string?\r\n\r\nI have used *lsof* like this: `watch -n1 lsof -i TCP:80,443`. \r\n\r\nWhen *lsof* catches the request, some domain name resolution has happened in the meantime and cannot see what has happened:\r\n\r\n```\r\njava    76953    myname   56u  IPv6 1525771      0t0  TCP myname-work:60370-&gt;ns1.server-name.com:https (ESTABLISHED)\r\n```\r\n\r\n(*cool-domain.com* is a server alias, so it points to *server-name.com*).\r\n\r\nI am not familiar with networking details, but I guess that *lsof* catches a package **after some DNS lookup process**. But I need to see, what is actually sent by my Java application. \r\n\r\n### 2. Is it possible at all to use a form like this with Java URI:\r\n*https://{user}:{password}@cool-domain.com/etc/etc* and how can I achieve it?\r\n\r\n","title":"How can I add {user}:{password}@ to Java URI?","body":"<p>I need to use a very outdated variant of authentication for a third party server in my Java application. It looks like a subdomain:</p>\n<p><code>https://{user}:{password}@cool-domain.com/etc/etc</code>.</p>\n<h4>I know this is weird, ugly, dangerous and almost a crime.</h4>\n<p>But my question is: how can use this kind of <em>URI</em> with a simple Java URI?</p>\n<p>I am doing this:</p>\n<pre><code>final URI myURI = URI.create(&quot;https://username:admin@cool-domain.com/etc/etc&quot;);\nfinal HttpRequest requ = HttpRequest.newBuilder().GET().uri(myURI).build();\n</code></pre>\n<p>When I just log the URI based on the <strong>sent request</strong>:</p>\n<pre><code>HttpResponse&lt;String&gt; response = client.send(requ, BodyHandlers.ofString()); // which is the java.net.http.HttpClient\nHelpers.logger.debug(response.request().uri().toString());\n</code></pre>\n<p>I am getting the exact given URI. But the server does not recognize the authorization and gives a 401. When I use the same URI als URL in a browser, the request works just fine: the response has 200 status and the content looks like I'd expect it.</p>\n<p>So I have actually two questions:</p>\n<h3>1. How can I debug what is actually happening with the URI string?</h3>\n<p>I have used <em>lsof</em> like this: <code>watch -n1 lsof -i TCP:80,443</code>.</p>\n<p>When <em>lsof</em> catches the request, some domain name resolution has happened in the meantime and cannot see what has happened:</p>\n<pre><code>java    76953    myname   56u  IPv6 1525771      0t0  TCP myname-work:60370-&gt;ns1.server-name.com:https (ESTABLISHED)\n</code></pre>\n<p>(<em>cool-domain.com</em> is a server alias, so it points to <em>server-name.com</em>).</p>\n<p>I am not familiar with networking details, but I guess that <em>lsof</em> catches a package <strong>after some DNS lookup process</strong>. But I need to see, what is actually sent by my Java application.</p>\n<h3>2. Is it possible at all to use a form like this with Java URI:</h3>\n<p><em>https://{user}:{password}@cool-domain.com/etc/etc</em> and how can I achieve it?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1666156697,"post_id":74120085,"comment_id":130865856,"body_markdown":"What is the concise problem? What behaviour do you get, what do you expect instead?","body":"What is the concise problem? What behaviour do you get, what do you expect instead?"},{"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"score":1,"creation_date":1666157664,"post_id":74120085,"comment_id":130866034,"body_markdown":"what does the error say?","body":"what does the error say?"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666166989,"creation_date":1666160754,"answer_id":74120753,"question_id":74120085,"body_markdown":"Basically, you need to get the frequencies of all the letters in the string. If at least one of those frequencies is odd, you print *NO*, otherwise you print *YES*.\r\n\r\nLet&#39;s analyze your code.\r\n```java\r\nString str = in.next();\r\n```\r\nI think this is more appropriate:\r\n```java\r\nString str = in.nextLine();\r\n```\r\nAfter calling `nextInt` and before calling `nextLine`, you need to add an extra call to `nextLine`\r\n```java\r\nlong n = in.nextInt();\r\nin.nextLine();\r\nString str = in.nextLine();\r\n```\r\nRefer to [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)\r\n\r\nIt seems like you want to iterate through each letter of `str` and for each letter, you iterate `str` again and count how many times it appears.\r\n```java\r\nfor(int i=0; i&lt;n; i++){\r\n    if(s.charAt(0)==str.charAt(i)){\r\n```\r\nI don&#39;t understand the `if`. You are comparing every letter in `str` with the first letter in `str`. You simply need a nested `for` loop.\r\n```java\r\ntry (Scanner in = new Scanner(System.in)) {\r\n    int t = in.nextInt();\r\n    while (t-- &gt; 0) {\r\n        long count = 0;\r\n        long n = in.nextInt();\r\n        in.nextLine();\r\n        String str = in.nextLine();\r\n        if (n % 2 != 0) {\r\n            System.out.println(&quot;NO&quot;);\r\n        }\r\n        else {\r\n            String s = str;\r\n            for (int i = 0; i &lt; n; i++) {\r\n                count = 1;\r\n                for (int j = 0; j &lt; n; j++) {\r\n                    if (i != j) {\r\n                        if (s.charAt(j) == str.charAt(i)) {\r\n                            count++;\r\n                        }\r\n                    }\r\n                }\r\n                if (count % 2 == 1) {\r\n                    System.out.println(&quot;NO&quot;);\r\n                    count = 0;\r\n                    break;\r\n                }\r\n            }\r\n            if (count &gt; 0) {\r\n                if (count % 2 == 0) {\r\n                    System.out.println(&quot;YES&quot;);\r\n                }\r\n                else {\r\n                    System.out.println(&quot;NO&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nBasicaly, in the nested `for` loops, we are comparing a given character, in `str`, with every other character in `str` and we repeat this for every character in `str`. Thus we count how many times each character appears in `str`. After obtaining the count, we check to see whether that count is odd. If it is then we print *NO*. After we have counted the occurrences of all the characters in `str`, we check whether we already printed *NO*. If we have not, then we check the final value of `count` to see whether it is even or odd and print *YES* or *NO*, respectively.\r\n\r\nAlternatively, here is a solution that uses [streams](https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html).\r\n```java\r\nimport java.util.Scanner;\r\nimport java.util.function.Function;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        int t = in.nextInt();\r\n        while (t-- &gt; 0) {\r\n            int n = in.nextInt();\r\n            in.nextLine();\r\n            String str = in.nextLine();\r\n            if (n % 2 != 0) {\r\n                System.out.println(&quot;NO&quot;);\r\n            }\r\n            else {\r\n                str.chars()\r\n                   .boxed()\r\n                   .collect(Collectors.groupingBy(Function.identity(),\r\n                                                  Collectors.counting()))\r\n                   .values()\r\n                   .stream()\r\n                   .filter(v -&gt; v % 2 == 1)\r\n                   .findFirst()\r\n                   .ifPresentOrElse(v -&gt; System.out.println(&quot;NO&quot;),\r\n                                    () -&gt; System.out.println(&quot;YES&quot;));\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n1. The characters in the string are converted to a stream of `int`s.\r\n2. The stream of `int`s is converted to a stream of `Integer` objects.\r\n3. A frequency map is created where the map key is [essentially] a letter and the map value is the number of occurrences of that letter in the string.\r\n4. The map values, i.e. the letter frequencies, are searched for one that is odd.\r\n5. If an odd frequency is found, *NO* is printed and if no odd frequencies are found, *YES* is printed.\r\n\r\nThe solution passed all the tests on [CodeChef](https://www.codechef.com/).","title":"Code delivering the wrong result at higher inputs","body":"<p>Basically, you need to get the frequencies of all the letters in the string. If at least one of those frequencies is odd, you print <em>NO</em>, otherwise you print <em>YES</em>.</p>\n<p>Let's analyze your code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = in.next();\n</code></pre>\n<p>I think this is more appropriate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = in.nextLine();\n</code></pre>\n<p>After calling <code>nextInt</code> and before calling <code>nextLine</code>, you need to add an extra call to <code>nextLine</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>long n = in.nextInt();\nin.nextLine();\nString str = in.nextLine();\n</code></pre>\n<p>Refer to <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a></p>\n<p>It seems like you want to iterate through each letter of <code>str</code> and for each letter, you iterate <code>str</code> again and count how many times it appears.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int i=0; i&lt;n; i++){\n    if(s.charAt(0)==str.charAt(i)){\n</code></pre>\n<p>I don't understand the <code>if</code>. You are comparing every letter in <code>str</code> with the first letter in <code>str</code>. You simply need a nested <code>for</code> loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Scanner in = new Scanner(System.in)) {\n    int t = in.nextInt();\n    while (t-- &gt; 0) {\n        long count = 0;\n        long n = in.nextInt();\n        in.nextLine();\n        String str = in.nextLine();\n        if (n % 2 != 0) {\n            System.out.println(&quot;NO&quot;);\n        }\n        else {\n            String s = str;\n            for (int i = 0; i &lt; n; i++) {\n                count = 1;\n                for (int j = 0; j &lt; n; j++) {\n                    if (i != j) {\n                        if (s.charAt(j) == str.charAt(i)) {\n                            count++;\n                        }\n                    }\n                }\n                if (count % 2 == 1) {\n                    System.out.println(&quot;NO&quot;);\n                    count = 0;\n                    break;\n                }\n            }\n            if (count &gt; 0) {\n                if (count % 2 == 0) {\n                    System.out.println(&quot;YES&quot;);\n                }\n                else {\n                    System.out.println(&quot;NO&quot;);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Basicaly, in the nested <code>for</code> loops, we are comparing a given character, in <code>str</code>, with every other character in <code>str</code> and we repeat this for every character in <code>str</code>. Thus we count how many times each character appears in <code>str</code>. After obtaining the count, we check to see whether that count is odd. If it is then we print <em>NO</em>. After we have counted the occurrences of all the characters in <code>str</code>, we check whether we already printed <em>NO</em>. If we have not, then we check the final value of <code>count</code> to see whether it is even or odd and print <em>YES</em> or <em>NO</em>, respectively.</p>\n<p>Alternatively, here is a solution that uses <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">streams</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int t = in.nextInt();\n        while (t-- &gt; 0) {\n            int n = in.nextInt();\n            in.nextLine();\n            String str = in.nextLine();\n            if (n % 2 != 0) {\n                System.out.println(&quot;NO&quot;);\n            }\n            else {\n                str.chars()\n                   .boxed()\n                   .collect(Collectors.groupingBy(Function.identity(),\n                                                  Collectors.counting()))\n                   .values()\n                   .stream()\n                   .filter(v -&gt; v % 2 == 1)\n                   .findFirst()\n                   .ifPresentOrElse(v -&gt; System.out.println(&quot;NO&quot;),\n                                    () -&gt; System.out.println(&quot;YES&quot;));\n            }\n        }\n    }\n}\n</code></pre>\n<ol>\n<li>The characters in the string are converted to a stream of <code>int</code>s.</li>\n<li>The stream of <code>int</code>s is converted to a stream of <code>Integer</code> objects.</li>\n<li>A frequency map is created where the map key is [essentially] a letter and the map value is the number of occurrences of that letter in the string.</li>\n<li>The map values, i.e. the letter frequencies, are searched for one that is odd.</li>\n<li>If an odd frequency is found, <em>NO</em> is printed and if no odd frequencies are found, <em>YES</em> is printed.</li>\n</ol>\n<p>The solution passed all the tests on <a href=\"https://www.codechef.com/\" rel=\"nofollow noreferrer\">CodeChef</a>.</p>\n"}],"owner":{"account_id":26667011,"reputation":3,"user_id":20278955,"display_name":"flyingbridges"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74120753,"answer_count":1,"score":-2,"last_activity_date":1666166989,"creation_date":1666155620,"question_id":74120085,"body_markdown":"I am an aspiring coder. I have been trying to solve this question on codechef. What do you reckon is the problem here? A link to the question: https://www.codechef.com/submit/EVENTUAL?tab=statement\r\nMy code fail when the input is 990, which, in the question refers to the value of n. The value of &#39;n&#39; refers to the length of the string. My code for the question has been provided below.\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class eventual_reduction {\r\n    public static void main(String[] args) {\r\n        try (Scanner in = new Scanner(System.in)) {\r\n            int t = in.nextInt();\r\n            while(t--&gt;0){\r\n                long count =0;\r\n                long n = in.nextInt();\r\n                String str = in.next();\r\n                if(n%2!=0){\r\n                    System.out.println(&quot;NO&quot;);\r\n                }else{\r\n                    String s = str;\r\n                    for(int i=0; i&lt;n; i++){\r\n                        if(s.charAt(0)==str.charAt(i)){\r\n                            count++;\r\n                            if((count+1)%2==0){\r\n                                for(int j=1; j&lt;n;j++){\r\n                                    if(s.charAt(j)==str.charAt(i)){\r\n                                        count++;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    if(count%2==0){\r\n                        System.out.println(&quot;YES&quot;);\r\n                    }else{\r\n                        System.out.println(&quot;NO&quot;);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nCould you please help me out with the code? Would love to see ways to improve my code. Thank you!","title":"Code delivering the wrong result at higher inputs","body":"<p>I am an aspiring coder. I have been trying to solve this question on codechef. What do you reckon is the problem here? A link to the question: <a href=\"https://www.codechef.com/submit/EVENTUAL?tab=statement\" rel=\"nofollow noreferrer\">https://www.codechef.com/submit/EVENTUAL?tab=statement</a>\nMy code fail when the input is 990, which, in the question refers to the value of n. The value of 'n' refers to the length of the string. My code for the question has been provided below.</p>\n<pre><code>import java.util.Scanner;\n\npublic class eventual_reduction {\npublic static void main(String[] args) {\n    try (Scanner in = new Scanner(System.in)) {\n        int t = in.nextInt();\n        while(t--&gt;0){\n            long count =0;\n            long n = in.nextInt();\n            String str = in.next();\n            if(n%2!=0){\n                System.out.println(&quot;NO&quot;);\n            }else{\n                String s = str;\n                for(int i=0; i&lt;n; i++){\n                    if(s.charAt(0)==str.charAt(i)){\n                        count++;\n                        if((count+1)%2==0){\n                            for(int j=1; j&lt;n;j++){\n                                if(s.charAt(j)==str.charAt(i)){\n                                    count++;\n                                }\n                            }\n                        }\n                    }\n                }\n                if(count%2==0){\n                    System.out.println(&quot;YES&quot;);\n                }else{\n                    System.out.println(&quot;NO&quot;);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Could you please help me out with the code? Would love to see ways to improve my code. Thank you!</p>\n"},{"tags":["java","java-io","outputstream"],"answers":[{"tags":[],"owner":{"account_id":4904091,"reputation":1206,"user_id":3951318,"display_name":"Bitcoin M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430935090,"creation_date":1430935090,"answer_id":30084242,"question_id":30083921,"body_markdown":"There is no difference. However, the first example is a lot easier to program with. In fact, the second example is still using `FileOutputStream`, except you are putting it in an `OutputStream` variable.","title":"FileOutputStream vs OutputStream, why and when?","body":"<p>There is no difference. However, the first example is a lot easier to program with. In fact, the second example is still using <code>FileOutputStream</code>, except you are putting it in an <code>OutputStream</code> variable.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430935194,"creation_date":1430935194,"answer_id":30084273,"question_id":30083921,"body_markdown":"You should code deliberately and be no more specific than you actually need.\r\n\r\nIf you have a variable which must refer to a `FileOutputStream` use that.  It means you can&#39;t use some other `OutputStream` for some good reason.\r\n\r\nHowever, if there is no good reason to be more specific than `OutputStream` this is what you should use.\r\n\r\nSay someone has to change this code later and need to change the type of OutputStream e.g. to a `BufferedOutputStream` or `GZIPOutputStream`.  However, the code says it must be a `FileOutputStream`  why?, well there is no good reason.  Trying to find something which is not there takes a lot longer.\r\n\r\nIn short, make the type of reference match what it has to be, not what it happens to be now.","title":"FileOutputStream vs OutputStream, why and when?","body":"<p>You should code deliberately and be no more specific than you actually need.</p>\n\n<p>If you have a variable which must refer to a <code>FileOutputStream</code> use that.  It means you can't use some other <code>OutputStream</code> for some good reason.</p>\n\n<p>However, if there is no good reason to be more specific than <code>OutputStream</code> this is what you should use.</p>\n\n<p>Say someone has to change this code later and need to change the type of OutputStream e.g. to a <code>BufferedOutputStream</code> or <code>GZIPOutputStream</code>.  However, the code says it must be a <code>FileOutputStream</code>  why?, well there is no good reason.  Trying to find something which is not there takes a lot longer.</p>\n\n<p>In short, make the type of reference match what it has to be, not what it happens to be now.</p>\n"},{"tags":[],"owner":{"account_id":2722145,"reputation":616,"user_id":2348212,"accept_rate":39,"display_name":"eatinasandwich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430935419,"creation_date":1430935419,"answer_id":30084347,"question_id":30083921,"body_markdown":"According to the java docs, OutputStream is just the abstract class that FileOutputStream inherits from. Also, the way you are using it in your two examples doesn&#39;t really show a practical difference because the instance in both cases is still a FileOutputStream. The second case just allows you to use the variable polymorphically so if you didn&#39;t know what type of output stream you would need on perhaps a particular iteration of a loop you could type the variable with the abstract class and instantiate it to whichever subclass you needed.","title":"FileOutputStream vs OutputStream, why and when?","body":"<p>According to the java docs, OutputStream is just the abstract class that FileOutputStream inherits from. Also, the way you are using it in your two examples doesn't really show a practical difference because the instance in both cases is still a FileOutputStream. The second case just allows you to use the variable polymorphically so if you didn't know what type of output stream you would need on perhaps a particular iteration of a loop you could type the variable with the abstract class and instantiate it to whichever subclass you needed.</p>\n"},{"tags":[],"owner":{"account_id":6266127,"reputation":181,"user_id":4871814,"display_name":"Ivan1211"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1430937028,"creation_date":1430937028,"answer_id":30084816,"question_id":30083921,"body_markdown":"So, depending on the question you are trying to ask, there are two different answers here.  (1) Is there a difference between the two OutputStream objects that have been created in your example? And (2) is there a difference between the two Object types and when should each be used? \r\n\r\n(1)\r\n\r\n    ObjectStream os = new FileObjectStream(File file);\r\nand \r\n\r\n    FileObjectStream fos = new FileObjectStream(File file);\r\n*are no different.*  \r\n\r\nBecause FileObjectStream is a subclass of the abstract ObjectStream, the Object can be created using the subclass constructor and will inherit all subclass functionality. \r\n\r\n(2) \r\nOutputStream is an abstract class which should be sub classed, *by an Object such as FileOutputStream*, so that the `write(byte[] b)` call may be overridden and any functionality specific to the output sink may be added.  More simply, FileOutputStream (and subclasses of OutputStream like it) &quot;is a&quot; OutputStrem object, but OutputStream is not a FileOutputStream object.  ","title":"FileOutputStream vs OutputStream, why and when?","body":"<p>So, depending on the question you are trying to ask, there are two different answers here.  (1) Is there a difference between the two OutputStream objects that have been created in your example? And (2) is there a difference between the two Object types and when should each be used? </p>\n\n<p>(1)</p>\n\n<pre><code>ObjectStream os = new FileObjectStream(File file);\n</code></pre>\n\n<p>and </p>\n\n<pre><code>FileObjectStream fos = new FileObjectStream(File file);\n</code></pre>\n\n<p><em>are no different.</em>  </p>\n\n<p>Because FileObjectStream is a subclass of the abstract ObjectStream, the Object can be created using the subclass constructor and will inherit all subclass functionality. </p>\n\n<p>(2) \nOutputStream is an abstract class which should be sub classed, <em>by an Object such as FileOutputStream</em>, so that the <code>write(byte[] b)</code> call may be overridden and any functionality specific to the output sink may be added.  More simply, FileOutputStream (and subclasses of OutputStream like it) \"is a\" OutputStrem object, but OutputStream is not a FileOutputStream object.  </p>\n"},{"tags":[],"owner":{"account_id":9096854,"reputation":11,"user_id":6770536,"display_name":"Ewebs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483720077,"creation_date":1483720077,"answer_id":41509919,"question_id":30083921,"body_markdown":"Outputstream is an abstract class whereas FileOutputStream is the child class.\r\n\r\nIt&#39;s possible that you could use Outputstream to just write in bytes for a prexisting file instead of outputting a file.  \r\n\r\nIf your just writing a file normally FileOutputStream would be the way to go","title":"FileOutputStream vs OutputStream, why and when?","body":"<p>Outputstream is an abstract class whereas FileOutputStream is the child class.</p>\n\n<p>It's possible that you could use Outputstream to just write in bytes for a prexisting file instead of outputting a file.  </p>\n\n<p>If your just writing a file normally FileOutputStream would be the way to go</p>\n"},{"tags":[],"owner":{"account_id":11042485,"reputation":815,"user_id":8109855,"display_name":"Richie Rizal Amir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666166985,"creation_date":1666166985,"answer_id":74121932,"question_id":30083921,"body_markdown":"FileOutputStream implemented finalize method. Which means that objects created will likely hang around until a full garbage collection occurs, which will leave excessive garbage on the heap for longer, and potentially much longer than expected. Whereas outputstream and Inputstream that do not have this concern.","title":"FileOutputStream vs OutputStream, why and when?","body":"<p>FileOutputStream implemented finalize method. Which means that objects created will likely hang around until a full garbage collection occurs, which will leave excessive garbage on the heap for longer, and potentially much longer than expected. Whereas outputstream and Inputstream that do not have this concern.</p>\n"}],"owner":{"account_id":3541080,"reputation":1607,"user_id":2958190,"accept_rate":68,"display_name":"Lauro182"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16802,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30084816,"answer_count":6,"score":1,"last_activity_date":1666166985,"creation_date":1430934123,"question_id":30083921,"body_markdown":"So, you can save a form file through several methods, I guess, I use 2, but I never really know when to use which. I have these 2 pieces of codes that do the same:\r\n\r\n1-This writes my form file to specified path.\r\n\r\n    FormFile archivo = myForm.getArchivo();\r\n    File newFile = new File(path, archivo.getFileName());\r\n    FileOutputStream fos = new FileOutputStream(newFile);\r\n    fos.write(archivo.getFileData());\r\n    fos.flush();\r\n    fos.close();\r\n\r\n\r\n\r\n2-This does too.\r\n\r\n    FormFile archivo = myForm.getArchivo();\r\n    InputStream in = archivo.getInputStream();\r\n    OutputStream bos = new FileOutputStream(path + &quot;archivo.ext&quot;);\r\n\r\n    int byteRead = 0;\r\n    byte[] buffer = new byte[8192];\r\n    while ((byteRead = in.read(buffer, 0, 8192)) != -1) {\r\n         bos.write(buffer, 0, byteRead);\r\n    }\r\n    bos.close();\r\n    in.close();\r\n\r\nSo, my question here is, what&#39;s the difference between the 2 of them, and when should I use which?","title":"FileOutputStream vs OutputStream, why and when?","body":"<p>So, you can save a form file through several methods, I guess, I use 2, but I never really know when to use which. I have these 2 pieces of codes that do the same:</p>\n\n<p>1-This writes my form file to specified path.</p>\n\n<pre><code>FormFile archivo = myForm.getArchivo();\nFile newFile = new File(path, archivo.getFileName());\nFileOutputStream fos = new FileOutputStream(newFile);\nfos.write(archivo.getFileData());\nfos.flush();\nfos.close();\n</code></pre>\n\n<p>2-This does too.</p>\n\n<pre><code>FormFile archivo = myForm.getArchivo();\nInputStream in = archivo.getInputStream();\nOutputStream bos = new FileOutputStream(path + \"archivo.ext\");\n\nint byteRead = 0;\nbyte[] buffer = new byte[8192];\nwhile ((byteRead = in.read(buffer, 0, 8192)) != -1) {\n     bos.write(buffer, 0, byteRead);\n}\nbos.close();\nin.close();\n</code></pre>\n\n<p>So, my question here is, what's the difference between the 2 of them, and when should I use which?</p>\n"},{"tags":["java","spring-boot","ssl-certificate","truststore"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1665993432,"post_id":74094008,"comment_id":130820758,"body_markdown":"I guest that if the property is set too late, the SSL system has already bean initialized and the properties are not read anymore.","body":"I guest that if the property is set too late, the SSL system has already bean initialized and the properties are not read anymore."}],"answers":[{"tags":[],"owner":{"account_id":6257410,"reputation":495,"user_id":4865531,"accept_rate":60,"display_name":"Safa Kadir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666166795,"creation_date":1666166795,"answer_id":74121905,"question_id":74094008,"body_markdown":"I solve the problem by initializing my custom SSLContext and setting as default, after setting the *trustStoreType* system property.\r\n\r\nThis solution works, so it indicates that when I set the system property during late stage, the default SSLContext was already created at somewhere and will not be affected by setting system property after creation. So it&#39;s risky to set *javax.net.ssl.trustStoreType* or other ssl related properties at runtime, unless you&#39;re using below solution. Setting them as JVM options would be safe.\r\n\r\n```\r\nif(properties.useWindowsStore) {\r\n    System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;WINDOWS-ROOT&quot;);\r\n}\r\n\r\n/*\r\n* Initializing a TrustManagerFactory with null is configuring TrustManager to use system&#39;s default keystore.\r\n* If useWindowsStore = true then system certificates are from OS, else system certificates are from JDK.\r\n*/\r\nTrustManagerFactory trustManagerFactorySystem = TrustManagerFactory.getInstance(&quot;X509&quot;);\r\ntrustManagerFactorySystem.init((KeyStore) null);\r\n\r\nSSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\nsslContext.init(null, trustManagerFactorySystem.getTrustManagers(), null);\r\nSSLContext.setDefault(sslContext);\r\n```\r\n\r\nIf you want to merge system certificates with some of your certificates, you could initiate another TrustManagerFactory with a new KeyStore and combine them into one TrustManager as described in this question: https://stackoverflow.com/questions/1793979/registering-multiple-keystores-in-jvm/16229909","title":"Setting trustStoreType is not working properly in Spring Boot","body":"<p>I solve the problem by initializing my custom SSLContext and setting as default, after setting the <em>trustStoreType</em> system property.</p>\n<p>This solution works, so it indicates that when I set the system property during late stage, the default SSLContext was already created at somewhere and will not be affected by setting system property after creation. So it's risky to set <em>javax.net.ssl.trustStoreType</em> or other ssl related properties at runtime, unless you're using below solution. Setting them as JVM options would be safe.</p>\n<pre><code>if(properties.useWindowsStore) {\n    System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;WINDOWS-ROOT&quot;);\n}\n\n/*\n* Initializing a TrustManagerFactory with null is configuring TrustManager to use system's default keystore.\n* If useWindowsStore = true then system certificates are from OS, else system certificates are from JDK.\n*/\nTrustManagerFactory trustManagerFactorySystem = TrustManagerFactory.getInstance(&quot;X509&quot;);\ntrustManagerFactorySystem.init((KeyStore) null);\n\nSSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\nsslContext.init(null, trustManagerFactorySystem.getTrustManagers(), null);\nSSLContext.setDefault(sslContext);\n</code></pre>\n<p>If you want to merge system certificates with some of your certificates, you could initiate another TrustManagerFactory with a new KeyStore and combine them into one TrustManager as described in this question: <a href=\"https://stackoverflow.com/questions/1793979/registering-multiple-keystores-in-jvm/16229909\">Registering multiple keystores in JVM</a></p>\n"}],"owner":{"account_id":6257410,"reputation":495,"user_id":4865531,"accept_rate":60,"display_name":"Safa Kadir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74121905,"answer_count":1,"score":0,"last_activity_date":1666166795,"creation_date":1665992787,"question_id":74094008,"body_markdown":"We have a Spring Boot application where we need to set javax.net.ssl.trustStoreType to WINDOWS-ROOT.\r\n\r\n    System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;WINDOWS-ROOT&quot;);\r\n\r\nI have a class named TestService in my src folder (not from test package) to see if the target URL is accessible properly, without SSL error. I&#39;m adding this class and running application to manually check the result. It&#39;s working fine.\r\n\r\n```\r\n@Service\r\npublic class TestService {\r\n    private RestTemplate restTemplate;\r\n\r\n    public TestService(RestTemplateBuilder restTemplateBuilder) {\r\n        this.restTemplate = restTemplateBuilder.build();\r\n    }\r\n\r\n    @EventListener(ApplicationReadyEvent.class)\r\n    public void testSslAccesibility() {\r\n       try {\r\n           ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(&quot;https://THE_URL_WE_RE_TESTING&quot;, String.class);\r\n       }\r\n       catch (Exception e) {\r\n           if(e.getCause() instanceof SSLHandshakeException) {\r\n               logger.debug(&quot;SSL CERTIFICATE ERROR&quot;);\r\n           }\r\n       }\r\n   }\r\n}\r\n```\r\n\r\n**The problem is**, even though we set the *trustStoreType* property during initialization(before test method run), the behavior changes according to which bean I placed it in.\r\n\r\nIf I set it in constructor of the bean where we get some part of application.properties, the test method works and gets actual response from target server. (Below I hide the actual names by renaming classes and variables)\r\n\r\n```\r\n@ConstructorBinding\r\n@ConfigurationProperties(&quot;myconf&quot;)\r\npublic class MyConfProperties {\r\n    public final ConfSet1 confSet1; \r\n    public final ConfSet2 confSet2;\r\n\r\n    public MyConfProperties(ConfSet1 confSet1, ConfSet2 confSet2) {\r\n        this.confSet1 = confSet1;\r\n        this.confSet2 = confSet2;\r\n\r\n        if(confSet2.useWindowsStore) {\r\n            System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;WINDOWS-ROOT&quot;);\r\n        }\r\n    }\r\n    \r\n    public static class ConfSet1 {\r\n        public final String cs1attr1;\r\n        public final String cs1attr2;\r\n        \r\n        public ConfSet1(String cs1attr1, String cs1attr2) {\r\n            this.cs1attr1 = cs1attr1;\r\n            this.cs1attr2 = cs1attr2;\r\n        }\r\n    }\r\n\r\n    public static class ConfSet2 {\r\n        public final String cs2attr1;\r\n        public final String useWindowsStore;\r\n        \r\n        public ConfSet2(String cs2attr1, String useWindowsStore) {\r\n            this.cs2attr1 = cs2attr1;\r\n            this.useWindowsStore = useWindowsStore;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIf I set it in a new separate bean, it&#39;s set but takes no effect. The test fails with SSL CERTIFICATE error.\r\n\r\n```\r\n@Component\r\npublic class StoreTypeManager {\r\n    private MyConfProperties.confSet2 properties;\r\n\r\n    public StoreTypeManager(MyConfProperties myConfProperties) {\r\n        this.properties = myConfProperties.confSet2;\r\n\r\n        if(properties.useWindowsStore) {\r\n            System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;WINDOWS-ROOT&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI only change the place of a single System.setProperty() line.\r\n\r\nFor the timing when I debug, new bean is created much more later. But normally, it should not matter.\r\n\r\n- What is the reason of this strange behavior?\r\n- How can I make it work even if executed later in the initialization?\r\n- If I cannot, how can I adjust the new bean to initialize earlier?\r\n\r\n","title":"Setting trustStoreType is not working properly in Spring Boot","body":"<p>We have a Spring Boot application where we need to set javax.net.ssl.trustStoreType to WINDOWS-ROOT.</p>\n<pre><code>System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;WINDOWS-ROOT&quot;);\n</code></pre>\n<p>I have a class named TestService in my src folder (not from test package) to see if the target URL is accessible properly, without SSL error. I'm adding this class and running application to manually check the result. It's working fine.</p>\n<pre><code>@Service\npublic class TestService {\n    private RestTemplate restTemplate;\n\n    public TestService(RestTemplateBuilder restTemplateBuilder) {\n        this.restTemplate = restTemplateBuilder.build();\n    }\n\n    @EventListener(ApplicationReadyEvent.class)\n    public void testSslAccesibility() {\n       try {\n           ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(&quot;https://THE_URL_WE_RE_TESTING&quot;, String.class);\n       }\n       catch (Exception e) {\n           if(e.getCause() instanceof SSLHandshakeException) {\n               logger.debug(&quot;SSL CERTIFICATE ERROR&quot;);\n           }\n       }\n   }\n}\n</code></pre>\n<p><strong>The problem is</strong>, even though we set the <em>trustStoreType</em> property during initialization(before test method run), the behavior changes according to which bean I placed it in.</p>\n<p>If I set it in constructor of the bean where we get some part of application.properties, the test method works and gets actual response from target server. (Below I hide the actual names by renaming classes and variables)</p>\n<pre><code>@ConstructorBinding\n@ConfigurationProperties(&quot;myconf&quot;)\npublic class MyConfProperties {\n    public final ConfSet1 confSet1; \n    public final ConfSet2 confSet2;\n\n    public MyConfProperties(ConfSet1 confSet1, ConfSet2 confSet2) {\n        this.confSet1 = confSet1;\n        this.confSet2 = confSet2;\n\n        if(confSet2.useWindowsStore) {\n            System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;WINDOWS-ROOT&quot;);\n        }\n    }\n    \n    public static class ConfSet1 {\n        public final String cs1attr1;\n        public final String cs1attr2;\n        \n        public ConfSet1(String cs1attr1, String cs1attr2) {\n            this.cs1attr1 = cs1attr1;\n            this.cs1attr2 = cs1attr2;\n        }\n    }\n\n    public static class ConfSet2 {\n        public final String cs2attr1;\n        public final String useWindowsStore;\n        \n        public ConfSet2(String cs2attr1, String useWindowsStore) {\n            this.cs2attr1 = cs2attr1;\n            this.useWindowsStore = useWindowsStore;\n        }\n    }\n}\n</code></pre>\n<p>If I set it in a new separate bean, it's set but takes no effect. The test fails with SSL CERTIFICATE error.</p>\n<pre><code>@Component\npublic class StoreTypeManager {\n    private MyConfProperties.confSet2 properties;\n\n    public StoreTypeManager(MyConfProperties myConfProperties) {\n        this.properties = myConfProperties.confSet2;\n\n        if(properties.useWindowsStore) {\n            System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;WINDOWS-ROOT&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I only change the place of a single System.setProperty() line.</p>\n<p>For the timing when I debug, new bean is created much more later. But normally, it should not matter.</p>\n<ul>\n<li>What is the reason of this strange behavior?</li>\n<li>How can I make it work even if executed later in the initialization?</li>\n<li>If I cannot, how can I adjust the new bean to initialize earlier?</li>\n</ul>\n"},{"tags":["java","maven","junit","autotest"],"answers":[{"tags":[],"owner":{"account_id":26479761,"reputation":1,"user_id":20119184,"display_name":"avatar277"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666166650,"creation_date":1666103916,"answer_id":74112845,"question_id":73290047,"body_markdown":"I had the exact same problem as you, including Intellij reporting the properties in `junit-platform.properties` as not being used. \r\n\r\nAdding the JUnit properties to my `build.gradle` ended up being the solution for me. \r\n```\r\ntest {\r\n    useJUnitPlatform {\r\n        includeEngines &#39;junit-jupiter&#39;, &#39;junit-vintage&#39;\r\n        systemProperty &#39;junit.jupiter.execution.parallel.enabled&#39;, &#39;true&#39;\r\n        systemProperty &#39;junit.jupiter.execution.parallel.config.strategy&#39;, &#39;dynamic&#39;\r\n        systemProperty &#39;junit.jupiter.execution.parallel.mode.default&#39;, &#39;concurrent&#39;\r\n        systemProperty &#39;junit.jupiter.execution.parallel.mode.classes.default&#39;, &#39;concurrent&#39;\r\n    }\r\n}\r\n```\r\n","title":"JUnit 5 parallel tests not running in junit-platform.properties file","body":"<p>I had the exact same problem as you, including Intellij reporting the properties in <code>junit-platform.properties</code> as not being used.</p>\n<p>Adding the JUnit properties to my <code>build.gradle</code> ended up being the solution for me.</p>\n<pre><code>test {\n    useJUnitPlatform {\n        includeEngines 'junit-jupiter', 'junit-vintage'\n        systemProperty 'junit.jupiter.execution.parallel.enabled', 'true'\n        systemProperty 'junit.jupiter.execution.parallel.config.strategy', 'dynamic'\n        systemProperty 'junit.jupiter.execution.parallel.mode.default', 'concurrent'\n        systemProperty 'junit.jupiter.execution.parallel.mode.classes.default', 'concurrent'\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18141370,"reputation":143,"user_id":13762114,"display_name":"Otto Rahn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":878,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666166650,"creation_date":1660039761,"question_id":73290047,"body_markdown":"The tests do not run in parallel, &quot;Unused property&quot; is written in the properties file, what could be the problem? POM:\r\n\r\nhttps://gist.github.com/vindus940/60b1a6440d3be9f25ff2b00f0e74dcea\r\n\r\nfile structure: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mAxYr.png\r\n","title":"JUnit 5 parallel tests not running in junit-platform.properties file","body":"<p>The tests do not run in parallel, &quot;Unused property&quot; is written in the properties file, what could be the problem? POM:</p>\n<p><a href=\"https://gist.github.com/vindus940/60b1a6440d3be9f25ff2b00f0e74dcea\" rel=\"nofollow noreferrer\">https://gist.github.com/vindus940/60b1a6440d3be9f25ff2b00f0e74dcea</a></p>\n<p>file structure:</p>\n<p><a href=\"https://i.stack.imgur.com/mAxYr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mAxYr.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":6076299,"reputation":2304,"user_id":4743567,"accept_rate":73,"display_name":"Subburaj"},"score":0,"creation_date":1527701650,"post_id":50610249,"comment_id":88230847,"body_markdown":"Whether you want to extract the &quot;Price &amp; \nAvailability Check cannot be executed for your order&quot; text from element 1 and &quot; Part# 00000&quot; text from element 2 html?","body":"Whether you want to extract the &quot;Price &amp;  Availability Check cannot be executed for your order&quot; text from element 1 and &quot; Part# 00000&quot; text from element 2 html?"},{"owner":{"account_id":13091224,"reputation":121,"user_id":9458620,"display_name":"Y_Sh"},"score":0,"creation_date":1527701998,"post_id":50610249,"comment_id":88231022,"body_markdown":"something like: if (&quot;Price &amp; Availability Check cannot be executed for your order&quot;.isDispayed) { do this} else { get text of element &quot;Part# 00000&quot;. but when first text is displayed, another one (Part# 00000&quot;) doesn&#39;t exist.","body":"something like: if (&quot;Price &amp; Availability Check cannot be executed for your order&quot;.isDispayed) { do this} else { get text of element &quot;Part# 00000&quot;. but when first text is displayed, another one (Part# 00000&quot;) doesn&#39;t exist."},{"owner":{"account_id":6076299,"reputation":2304,"user_id":4743567,"accept_rate":73,"display_name":"Subburaj"},"score":0,"creation_date":1527704390,"post_id":50610249,"comment_id":88232246,"body_markdown":"Okay. So,I have assumed,  At any point of time, we can see either element 1 html or element 2 html and updated the answer","body":"Okay. So,I have assumed,  At any point of time, we can see either element 1 html or element 2 html and updated the answer"}],"answers":[{"tags":[],"owner":{"account_id":6076299,"reputation":2304,"user_id":4743567,"accept_rate":73,"display_name":"Subburaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528128391,"creation_date":1527704160,"answer_id":50611128,"question_id":50610249,"body_markdown":"You can modify the code as below\r\n\r\n**Code:**\r\n\r\n        public void checkTextInPopUp(){\r\n\r\n            WebElement rootElement=driver.findElement(By.id(&quot;CheckStockProductAvailabilityWidget&quot;));\r\n            List&lt;WebElement&gt; element1List=rootElement.findElements(By.xpath(&quot;.//div[@class=&#39;span11&#39;]/p&quot;));\r\n\r\n            if (element1List.size()==1) {\r\n                ---Do your stuff----\r\n                addToCartStock.click();\r\n            } else {\r\n                System.out.println(rootElement.findElement(By.xpath(&quot;.//div[@class=&#39;span12&#39;]&quot;)).getText());\r\n            }\r\n        }\r\n    }\r\n\r\n**Details:**\r\n\r\n 1. Find the Root WebElement. Since, this element always visible in both element 1 and element2 HTML\r\n 2. Element 1 may or may not be visible at a time. To avoid `NoSuchElementException`, find the element using `findElements` Method and store the element in List (You can find the element using the root element)\r\n 3. If the element 1 is **found**, then element 1 will be visible and element1 size will be 1.\r\n 4. If the element 1 is **not found**, then element 2 will be visible and\r\n    element 1 size will be 0.\r\n5. logic can be added based on the element size condition\r\n\r\n**Updated Code:**\r\n\r\n    List&lt;WebElement&gt; elementList=driver.findElements(By.xpath(&quot;//p[@id=&#39;ajaxErrorMsg&#39;]&quot;));\r\n    //If the element 1 html is present, then element list size will be 1, else it will be 0.\r\n    if(elementList.size()&gt;0){\r\n        //element 1 related stuff\r\n        ---Do your stuff----\r\n                addToCartStock.click();\r\n    }\r\n    else{\r\n        //element 2 related stuff\r\n        System.out.println(rootElement.findElement(By.xpath(&quot;.//div[@class=&#39;span12&#39;]&quot;)).getText());\r\n    }","title":"Selenium check dynamic elements","body":"<p>You can modify the code as below</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>    public void checkTextInPopUp(){\n\n        WebElement rootElement=driver.findElement(By.id(\"CheckStockProductAvailabilityWidget\"));\n        List&lt;WebElement&gt; element1List=rootElement.findElements(By.xpath(\".//div[@class='span11']/p\"));\n\n        if (element1List.size()==1) {\n            ---Do your stuff----\n            addToCartStock.click();\n        } else {\n            System.out.println(rootElement.findElement(By.xpath(\".//div[@class='span12']\")).getText());\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Details:</strong></p>\n\n<ol>\n<li>Find the Root WebElement. Since, this element always visible in both element 1 and element2 HTML</li>\n<li>Element 1 may or may not be visible at a time. To avoid <code>NoSuchElementException</code>, find the element using <code>findElements</code> Method and store the element in List (You can find the element using the root element)</li>\n<li>If the element 1 is <strong>found</strong>, then element 1 will be visible and element1 size will be 1.</li>\n<li>If the element 1 is <strong>not found</strong>, then element 2 will be visible and\nelement 1 size will be 0.\n\n<ol start=\"5\">\n<li>logic can be added based on the element size condition</li>\n</ol></li>\n</ol>\n\n<p><strong>Updated Code:</strong></p>\n\n<pre><code>List&lt;WebElement&gt; elementList=driver.findElements(By.xpath(\"//p[@id='ajaxErrorMsg']\"));\n//If the element 1 html is present, then element list size will be 1, else it will be 0.\nif(elementList.size()&gt;0){\n    //element 1 related stuff\n    ---Do your stuff----\n            addToCartStock.click();\n}\nelse{\n    //element 2 related stuff\n    System.out.println(rootElement.findElement(By.xpath(\".//div[@class='span12']\")).getText());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13091224,"reputation":121,"user_id":9458620,"display_name":"Y_Sh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527745091,"creation_date":1527709459,"answer_id":50612336,"question_id":50610249,"body_markdown":"I&#39;ve found out the solution by using try and catch. Will see if it&#39;s an ideal one.\r\n\r\n    public void getStockPopUpMessage() {\r\n\r\n        try {\r\n            driver.findElement(By.xpath(&quot;.//*[@id=&#39;ajaxErrorMsg&#39;]&quot;));\r\n            System.out.println(&quot;Stock displays: &quot; + \r\n            driver.findElement(By.xpath(&quot;.//*[@id=&#39;ajaxErrorMsg&#39;]&quot;)).getText());\r\n            closeCheckStock.click();\r\n        } catch (NoSuchElementException e) {\r\n            System.out.println(&quot;No ajax&quot;);\r\n            dothis();\r\n        }\r\n    }","title":"Selenium check dynamic elements","body":"<p>I've found out the solution by using try and catch. Will see if it's an ideal one.</p>\n\n<pre><code>public void getStockPopUpMessage() {\n\n    try {\n        driver.findElement(By.xpath(\".//*[@id='ajaxErrorMsg']\"));\n        System.out.println(\"Stock displays: \" + \n        driver.findElement(By.xpath(\".//*[@id='ajaxErrorMsg']\")).getText());\n        closeCheckStock.click();\n    } catch (NoSuchElementException e) {\n        System.out.println(\"No ajax\");\n        dothis();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25202098,"reputation":1,"user_id":19040859,"display_name":"AYaman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666166271,"creation_date":1666166271,"answer_id":74121790,"question_id":50610249,"body_markdown":"Simply use \r\n    @FindAll ({\r\n               @FindBy(locator elem1)\r\n               @FindBy(locator elem2)`enter code here`\r\n             })\r\n    private WebElement elem`enter code here`X;\r\n\r\nFindAll annotation works with OR logic. It will find elem1 or elem2 and store  it as a web element. Alternatively you can store it in a List of web element within your object repository.","title":"Selenium check dynamic elements","body":"<p>Simply use\n@FindAll ({\n@FindBy(locator elem1)\n@FindBy(locator elem2)<code>enter code here</code>\n})\nprivate WebElement elem<code>enter code here</code>X;</p>\n<p>FindAll annotation works with OR logic. It will find elem1 or elem2 and store  it as a web element. Alternatively you can store it in a List of web element within your object repository.</p>\n"}],"owner":{"account_id":13091224,"reputation":121,"user_id":9458620,"display_name":"Y_Sh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1666166271,"creation_date":1527700595,"question_id":50610249,"body_markdown":"Selenium/Java\r\n\r\nthe task is to get text of two possible elements: elem1 and elem2. \r\nWhen Scenario A - elem1 is displayed, and the locator of elem2 doesn&#39;t exist. And vice versa.\r\n\r\nMy code:\r\n\r\n     public void checkTextInPopUp() {\r\n        List&lt;WebElement&gt; commonDiv= driver.findElements(By.xpath(&quot;.//* \r\n    [@id=&#39;CheckStockProductAvailabilityWidget&#39;]/div/div&quot;));\r\n\r\n        if (commonDiv.size()&gt;=1) {\r\n            \r\n            addToCartStock.click();         \r\n\r\n        } else {\r\n          \r\n    System.out.println(driver.findElement(By.id(&quot;ajaxErrorMsg&quot;)).getText());\r\n            closeCheckStock.click();            \r\n        }\r\n    }\r\n\r\nMy code is always work only in scenario1 and failed when element2 is dispayed, saying: unable to locate element2.\r\n\r\nElem1 html:\r\n\r\n        &lt;div id=&quot;CheckStockProductAvailabilityWidget&quot; class=&quot;dijitContentPane&quot; \r\n    lang=&quot;en&quot; controllerid=&quot;CheckStockProductAvailabilityController&quot; \r\n    widgetid=&quot;CheckStockProductAvailabilityWidget&quot; \r\n    dojotype=&quot;wc.widget.RefreshArea&quot; style=&quot;&quot;&gt;\r\n          &lt;div class=&quot;row-fluid&quot;&gt;\r\n             &lt;div class=&quot;span11&quot;&gt;\r\n                &lt;p id=&quot;ajaxErrorMsg&quot; class=&quot;error-font-color&quot;&gt;Price &amp; \r\n    Availability Check cannot be executed for your order.&lt;/p&gt;\r\n             &lt;/div&gt;\r\n         &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\nElem2 html:\r\n\r\n    &lt;div id=&quot;CheckStockProductAvailabilityWidget&quot; class=&quot;dijitContentPane&quot; \r\n    lang=&quot;en&quot; controllerid=&quot;CheckStockProductAvailabilityController&quot; \r\n    widgetid=&quot;CheckStockProductAvailabilityWidget&quot; \r\n    dojotype=&quot;wc.widget.RefreshArea&quot; style=&quot;&quot;&gt;\r\n    &lt;div class=&quot;row-fluid&quot;&gt;\r\n      &lt;div class=&quot;span11&quot;&gt;\r\n        &lt;div class=&quot;row-fluid &quot;&gt;\r\n           &lt;div class=&quot;span12&quot;&gt;\r\n\r\n                  Part# 00000\r\n                 &lt;br/&gt;\r\n                 &lt;p&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n      &lt;div class=&quot;row-fluid space-bottom&quot;&gt;\r\n      &lt;div class=&quot;row-fluid &quot;&gt;\r\n      &lt;div class=&quot;row-fluid mobile-inline-block&quot;&gt;\r\n   &lt;/div&gt;\r\n\r\n\r\nBoth elements have a common &lt;div class=&quot;span11&quot;&gt;, and both returns &quot;1&quot; when getting element.size","title":"Selenium check dynamic elements","body":"<p>Selenium/Java</p>\n\n<p>the task is to get text of two possible elements: elem1 and elem2. \nWhen Scenario A - elem1 is displayed, and the locator of elem2 doesn't exist. And vice versa.</p>\n\n<p>My code:</p>\n\n<pre><code> public void checkTextInPopUp() {\n    List&lt;WebElement&gt; commonDiv= driver.findElements(By.xpath(\".//* \n[@id='CheckStockProductAvailabilityWidget']/div/div\"));\n\n    if (commonDiv.size()&gt;=1) {\n\n        addToCartStock.click();         \n\n    } else {\n\nSystem.out.println(driver.findElement(By.id(\"ajaxErrorMsg\")).getText());\n        closeCheckStock.click();            \n    }\n}\n</code></pre>\n\n<p>My code is always work only in scenario1 and failed when element2 is dispayed, saying: unable to locate element2.</p>\n\n<p>Elem1 html:</p>\n\n<pre><code>    &lt;div id=\"CheckStockProductAvailabilityWidget\" class=\"dijitContentPane\" \nlang=\"en\" controllerid=\"CheckStockProductAvailabilityController\" \nwidgetid=\"CheckStockProductAvailabilityWidget\" \ndojotype=\"wc.widget.RefreshArea\" style=\"\"&gt;\n      &lt;div class=\"row-fluid\"&gt;\n         &lt;div class=\"span11\"&gt;\n            &lt;p id=\"ajaxErrorMsg\" class=\"error-font-color\"&gt;Price &amp; \nAvailability Check cannot be executed for your order.&lt;/p&gt;\n         &lt;/div&gt;\n     &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Elem2 html:</p>\n\n<pre><code>&lt;div id=\"CheckStockProductAvailabilityWidget\" class=\"dijitContentPane\" \nlang=\"en\" controllerid=\"CheckStockProductAvailabilityController\" \nwidgetid=\"CheckStockProductAvailabilityWidget\" \ndojotype=\"wc.widget.RefreshArea\" style=\"\"&gt;\n&lt;div class=\"row-fluid\"&gt;\n  &lt;div class=\"span11\"&gt;\n    &lt;div class=\"row-fluid \"&gt;\n       &lt;div class=\"span12\"&gt;\n\n              Part# 00000\n             &lt;br/&gt;\n             &lt;p&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n  &lt;div class=\"row-fluid space-bottom\"&gt;\n  &lt;div class=\"row-fluid \"&gt;\n  &lt;div class=\"row-fluid mobile-inline-block\"&gt;\n</code></pre>\n\n<p></p>\n\n<p>Both elements have a common , and both returns \"1\" when getting element.size</p>\n"},{"tags":["java","spring-boot","spring-security","single-sign-on","cas"],"answers":[{"tags":[],"owner":{"account_id":3580437,"reputation":513,"user_id":2988780,"display_name":"Creamstout10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649434265,"creation_date":1649434265,"answer_id":71800197,"question_id":71753882,"body_markdown":"If you need to make calls to the other service&#39;s API do you need to make the request as the logged-in user? Typically service to service calls use a machine token and not a user token. If the user context is required you could look at minting JWTs as service tickets:\r\n\r\nhttps://apereo.github.io/cas/6.0.x/installation/JWT-Authentication.html\r\n\r\nYou could pass the JWT to the other service&#39;s API to provide user context but I would recommend using a different form of authentication as it would allow anyone with a valid JWT to call your service&#39;s API.","title":"How to call an external rest api authenticated by the same CAS SSO","body":"<p>If you need to make calls to the other service's API do you need to make the request as the logged-in user? Typically service to service calls use a machine token and not a user token. If the user context is required you could look at minting JWTs as service tickets:</p>\n<p><a href=\"https://apereo.github.io/cas/6.0.x/installation/JWT-Authentication.html\" rel=\"nofollow noreferrer\">https://apereo.github.io/cas/6.0.x/installation/JWT-Authentication.html</a></p>\n<p>You could pass the JWT to the other service's API to provide user context but I would recommend using a different form of authentication as it would allow anyone with a valid JWT to call your service's API.</p>\n"},{"tags":[],"owner":{"account_id":309979,"reputation":26,"user_id":622709,"display_name":"Nesteban"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666166202,"creation_date":1666166202,"answer_id":74121766,"question_id":71753882,"body_markdown":"I like [@creamstout10][1] answer, I think it is the way to go although I have been using the CAS Protocol proxy tickets approach for service to service calls with older versions of CAS. \r\n\r\nYou don&#39;t specify which CAS client you are using. In all cases, if you don&#39;t get a proxy ticket usually you need to configure the proxy receptor URL correctly, so that CAS server can call it (to confirm, check CAS server logs for errors). For example, if you are using java cas client directly, check ***proxyReceptorUrl*** property here: \r\n\r\n&lt;https://github.com/apereo/java-cas-client#orgapereocasclientvalidationcas20proxyreceivingticketvalidationfilter&gt;\r\n\r\nIf using spring-security-cas you should check that module&#39;s documentation for settings those properties in Spring config.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2988780/creamstout10","title":"How to call an external rest api authenticated by the same CAS SSO","body":"<p>I like <a href=\"https://stackoverflow.com/users/2988780/creamstout10\">@creamstout10</a> answer, I think it is the way to go although I have been using the CAS Protocol proxy tickets approach for service to service calls with older versions of CAS.</p>\n<p>You don't specify which CAS client you are using. In all cases, if you don't get a proxy ticket usually you need to configure the proxy receptor URL correctly, so that CAS server can call it (to confirm, check CAS server logs for errors). For example, if you are using java cas client directly, check <em><strong>proxyReceptorUrl</strong></em> property here:</p>\n<p><a href=\"https://github.com/apereo/java-cas-client#orgapereocasclientvalidationcas20proxyreceivingticketvalidationfilter\" rel=\"nofollow noreferrer\">https://github.com/apereo/java-cas-client#orgapereocasclientvalidationcas20proxyreceivingticketvalidationfilter</a></p>\n<p>If using spring-security-cas you should check that module's documentation for settings those properties in Spring config.</p>\n"}],"owner":{"account_id":2326732,"reputation":69,"user_id":2041057,"accept_rate":100,"display_name":"user2041057"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":626,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666166202,"creation_date":1649170159,"question_id":71753882,"body_markdown":"I have a microservice that is protected by cas sso. There is also another microservice that is also authenticated by the same cas server. In my app I need to call a rest api from the second microservice. I&#39;ve searched alot and just found a few about it, e.g. [this][1]. I agve it a try as follows:\r\n\r\n    final String targetUrl = &quot;https://server/webappB&quot;;\r\n    final CasAuthenticationToken token = (CasAuthenticationToken) request.getUserPrincipal();\r\n    final String proxyTicket = token.getAssertion().getPrincipal().getProxyTicketFor(targetUrl);\r\n    final String serviceUrl = targetUrl+&quot;?ticket=&quot;+URLEncoder.encode(proxyTicket, &quot;UTF-8&quot;);\r\n    String proxyResponse = CommonUtils.getResponseFromServer(serviceUrl, &quot;UTF-8&quot;);\r\n\r\nbut the `proxyTicket` is `null`! What I must to do (probably in my client app cas settings) to get it working?\r\n  \r\np.s. I&#39;m new to sso and don&#39;t know if this is the only way to call an external rest api or not. I get manually the `JSESSIONID` cookie of the external rest service from `firefox` and somehow set it in a request in my app code and could to get response but have no idea how I can do this automatically? \r\n\r\n  [1]: https://stackoverflow.com/questions/8838545/spring-and-cas-using-proxy-tickets","title":"How to call an external rest api authenticated by the same CAS SSO","body":"<p>I have a microservice that is protected by cas sso. There is also another microservice that is also authenticated by the same cas server. In my app I need to call a rest api from the second microservice. I've searched alot and just found a few about it, e.g. <a href=\"https://stackoverflow.com/questions/8838545/spring-and-cas-using-proxy-tickets\">this</a>. I agve it a try as follows:</p>\n<pre><code>final String targetUrl = &quot;https://server/webappB&quot;;\nfinal CasAuthenticationToken token = (CasAuthenticationToken) request.getUserPrincipal();\nfinal String proxyTicket = token.getAssertion().getPrincipal().getProxyTicketFor(targetUrl);\nfinal String serviceUrl = targetUrl+&quot;?ticket=&quot;+URLEncoder.encode(proxyTicket, &quot;UTF-8&quot;);\nString proxyResponse = CommonUtils.getResponseFromServer(serviceUrl, &quot;UTF-8&quot;);\n</code></pre>\n<p>but the <code>proxyTicket</code> is <code>null</code>! What I must to do (probably in my client app cas settings) to get it working?</p>\n<p>p.s. I'm new to sso and don't know if this is the only way to call an external rest api or not. I get manually the <code>JSESSIONID</code> cookie of the external rest service from <code>firefox</code> and somehow set it in a request in my app code and could to get response but have no idea how I can do this automatically?</p>\n"},{"tags":["java","c++","reference"],"comments":[{"owner":{"account_id":8261,"reputation":4480,"user_id":14788,"display_name":"Mark Kegel"},"score":1,"creation_date":1231560562,"post_id":430479,"comment_id":254073,"body_markdown":"Java only passes around object-references. You can think of them essentially the same as boost shared_ptr&#39;s. Just box the primitive in an object and you&#39;re set. You may want to correct the wording of your question.","body":"Java only passes around object-references. You can think of them essentially the same as boost shared_ptr&#39;s. Just box the primitive in an object and you&#39;re set. You may want to correct the wording of your question."},{"owner":{"account_id":6555,"reputation":813,"user_id":11077,"display_name":"Steve Lacey"},"score":1,"creation_date":1232696132,"post_id":430479,"comment_id":289828,"body_markdown":"Sorry, but I have to chime in. Pass by reference out parameters in c++ are evil. Don&#39;t do it.","body":"Sorry, but I have to chime in. Pass by reference out parameters in c++ are evil. Don&#39;t do it."},{"owner":{"display_name":"user140327"},"score":0,"creation_date":1251822717,"post_id":430479,"comment_id":1201020,"body_markdown":"@Steve Lacey - why are they evil?","body":"@Steve Lacey - why are they evil?"}],"answers":[{"tags":[],"owner":{"account_id":11948,"reputation":737748,"user_id":23283,"accept_rate":100,"display_name":"JaredPar"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1666166069,"creation_date":1231557015,"answer_id":430488,"question_id":430479,"body_markdown":"Java has no equivalent of C++ references.  The only way to get this to work is to encapsulate the values in another class and swap the values within the class.  \r\n\r\nHere is a lengthy discussion on the issue: https://jonskeet.uk/java/passing.html","title":"How do I use an equivalent to C++ reference parameters in Java?","body":"<p>Java has no equivalent of C++ references.  The only way to get this to work is to encapsulate the values in another class and swap the values within the class.</p>\n<p>Here is a lengthy discussion on the issue: <a href=\"https://jonskeet.uk/java/passing.html\" rel=\"nofollow noreferrer\">https://jonskeet.uk/java/passing.html</a></p>\n"},{"tags":[],"owner":{"account_id":18835,"reputation":82183,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1231557087,"creation_date":1231557087,"answer_id":430491,"question_id":430479,"body_markdown":"Well, there are a couple of workarounds. You mentioned one yourself. Another one would be:\r\n\r\n    public void test(int[] values) {\r\n        ++values[0];\r\n        ++values[1];\r\n    }\r\n\r\nI would go with the custom object, though. It’s a much cleaner way. Also, try to re-arrange your problem so that a single method doesn’t need to return two values.","title":"How do I use an equivalent to C++ reference parameters in Java?","body":"<p>Well, there are a couple of workarounds. You mentioned one yourself. Another one would be:</p>\n\n<pre><code>public void test(int[] values) {\n    ++values[0];\n    ++values[1];\n}\n</code></pre>\n\n<p>I would go with the custom object, though. It’s a much cleaner way. Also, try to re-arrange your problem so that a single method doesn’t need to return two values.</p>\n"},{"tags":[],"owner":{"account_id":19555,"reputation":237913,"user_id":45914,"accept_rate":68,"display_name":"jason"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1231557149,"creation_date":1231557149,"answer_id":430492,"question_id":430479,"body_markdown":"Java does not have pass-by-reference. You must encapsulate to achieve the desired functionality. Jon Skeet has a brief [explanation](http://www.yoda.arachsys.com/java/passing.html) why pass-by-reference was excluded from Java.","title":"How do I use an equivalent to C++ reference parameters in Java?","body":"<p>Java does not have pass-by-reference. You must encapsulate to achieve the desired functionality. Jon Skeet has a brief <a href=\"http://www.yoda.arachsys.com/java/passing.html\" rel=\"noreferrer\">explanation</a> why pass-by-reference was excluded from Java.</p>\n"},{"tags":[],"owner":{"account_id":16216,"reputation":110776,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"down_vote_count":6,"up_vote_count":2,"is_accepted":false,"score":-4,"last_activity_date":1231559491,"creation_date":1231557295,"answer_id":430496,"question_id":430479,"body_markdown":"You could construct boxed objects, ie,\r\n\r\n    Integer iObj = new Integer(i);\r\n    Integer jObj = new Integer(j);\r\n\r\nand write your routine as\r\n\r\n    public void test(Integer i, Integer j){\r\n      i = i.add(1);\r\n      j = j.add(1);\r\n    }\r\n\r\nFor any number of reasons, the designers of Java felt call-by-value was better; they purposefully didn&#39;t include a method for call by reference.  (Strictly, they pass copies of references to the objects, with the special case for the primitive types that they are purely call by value.  But the effect is the same.)\r\n\r\n","title":"How do I use an equivalent to C++ reference parameters in Java?","body":"<p>You could construct boxed objects, ie,</p>\n\n<pre><code>Integer iObj = new Integer(i);\nInteger jObj = new Integer(j);\n</code></pre>\n\n<p>and write your routine as</p>\n\n<pre><code>public void test(Integer i, Integer j){\n  i = i.add(1);\n  j = j.add(1);\n}\n</code></pre>\n\n<p>For any number of reasons, the designers of Java felt call-by-value was better; they purposefully didn't include a method for call by reference.  (Strictly, they pass copies of references to the objects, with the special case for the primitive types that they are purely call by value.  But the effect is the same.)</p>\n"},{"tags":[],"owner":{"account_id":17447,"reputation":30170,"user_id":39057,"accept_rate":89,"display_name":"Loki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1231559565,"creation_date":1231559565,"answer_id":430530,"question_id":430479,"body_markdown":"You have to box it (your way) somehow.\r\n\r\nInteger is immutable. so useless.\r\nint is mutable but since java is pass by value then its unusable again in that case.\r\nSee these pages for more explanations: [Java is Pass-by-Value, Dammit!][1] and [int vs Integer][2]\r\n\r\n\r\nApache commons lang has a MutableInt class. Or you could write it yourself.\r\n\r\nIn any case, it should not be that bad because it should not happen often. If it does, then you should definitively change the way you code in Java.\r\n\r\n\r\n  [1]: http://javadude.com/articles/passbyvalue.htm\r\n  [2]: http://mindprod.com/jgloss/intvsinteger.html","title":"How do I use an equivalent to C++ reference parameters in Java?","body":"<p>You have to box it (your way) somehow.</p>\n\n<p>Integer is immutable. so useless.\nint is mutable but since java is pass by value then its unusable again in that case.\nSee these pages for more explanations: <a href=\"http://javadude.com/articles/passbyvalue.htm\" rel=\"nofollow noreferrer\">Java is Pass-by-Value, Dammit!</a> and <a href=\"http://mindprod.com/jgloss/intvsinteger.html\" rel=\"nofollow noreferrer\">int vs Integer</a></p>\n\n<p>Apache commons lang has a MutableInt class. Or you could write it yourself.</p>\n\n<p>In any case, it should not be that bad because it should not happen often. If it does, then you should definitively change the way you code in Java.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1251821757,"creation_date":1231602436,"answer_id":431152,"question_id":430479,"body_markdown":"Simulating reference with wrappers.\r\n-\r\nOne way you can have this behavior somehow simulated is create a generic wrapper. \r\n\r\n    public class _&lt;E&gt; {\r\n        E ref;\r\n        public _( E e ){\r\n            ref = e;\r\n        }\r\n        public E g() { return ref; }\r\n        public void s( E e ){ this.ref = e; }\r\n\r\n        public String toString() {\r\n            return ref.toString();\r\n        }\r\n    }\r\n\r\nI&#39;m not too convinced about the value of this code, by I couldn&#39;t help it, I had to code it :) \r\n\r\nSo here it is.\r\n\r\nThe sample usage:\r\n\r\n    public class Test {\r\n\r\n        public static void main ( String [] args ) {\r\n            _&lt;Integer&gt; iByRef = new _&lt;Integer&gt;( 1 );\r\n            addOne( iByRef );\r\n            System.out.println( iByRef ); // prints 2\r\n\r\n            _&lt;String&gt; sByRef = new _&lt;String&gt;( &quot;Hola&quot; );\r\n            reverse( sByRef ); \r\n            System.out.println( sByRef ); // prints aloH\r\n\r\n        }\r\n\r\n        // Change the value of ref by adding 1\r\n        public static void addOne( _&lt;Integer&gt; ref ) { \r\n            int i = ref.g();\r\n            ref.s( ++i  );\r\n            \r\n            // or \r\n            //int i = ref.g();\r\n            //ref.s( i + 1 );\r\n\r\n        }\r\n        // Reverse the vale of a string.\r\n        public static void reverse( _&lt;String&gt; otherRef ) { \r\n            String v = otherRef.g();\r\n            String reversed = new StringBuilder( v ).reverse().toString();\r\n            otherRef.s( reversed );\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\nThe amusing thing here, is the generic wrapper class name is &quot;_&quot; which is a valid class identifier.  So a declaration reads:\r\n\r\nFor an integer:\r\n\r\n    _&lt;Integer&gt; iByRef = new _&lt;Integer&gt;( 1 );\r\n\r\nFor a String:\r\n\r\n    _&lt;String&gt; sByRef = new _&lt;String&gt;( &quot;Hola&quot; );\r\n\r\nFor any other class\r\n\r\n    _&lt;Employee&gt; employee = new _&lt;Employee&gt;( Employee.byId(123) );\r\n\r\n\r\nThe methods &quot;s&quot; and &quot;g&quot; stands for set and get :P \r\n\r\n\r\n\r\n\r\n","title":"How do I use an equivalent to C++ reference parameters in Java?","body":"<h2>Simulating reference with wrappers.</h2>\n\n<p>One way you can have this behavior somehow simulated is create a generic wrapper. </p>\n\n<pre><code>public class _&lt;E&gt; {\n    E ref;\n    public _( E e ){\n        ref = e;\n    }\n    public E g() { return ref; }\n    public void s( E e ){ this.ref = e; }\n\n    public String toString() {\n        return ref.toString();\n    }\n}\n</code></pre>\n\n<p>I'm not too convinced about the value of this code, by I couldn't help it, I had to code it :) </p>\n\n<p>So here it is.</p>\n\n<p>The sample usage:</p>\n\n<pre><code>public class Test {\n\n    public static void main ( String [] args ) {\n        _&lt;Integer&gt; iByRef = new _&lt;Integer&gt;( 1 );\n        addOne( iByRef );\n        System.out.println( iByRef ); // prints 2\n\n        _&lt;String&gt; sByRef = new _&lt;String&gt;( \"Hola\" );\n        reverse( sByRef ); \n        System.out.println( sByRef ); // prints aloH\n\n    }\n\n    // Change the value of ref by adding 1\n    public static void addOne( _&lt;Integer&gt; ref ) { \n        int i = ref.g();\n        ref.s( ++i  );\n\n        // or \n        //int i = ref.g();\n        //ref.s( i + 1 );\n\n    }\n    // Reverse the vale of a string.\n    public static void reverse( _&lt;String&gt; otherRef ) { \n        String v = otherRef.g();\n        String reversed = new StringBuilder( v ).reverse().toString();\n        otherRef.s( reversed );\n    }\n\n}\n</code></pre>\n\n<p>The amusing thing here, is the generic wrapper class name is \"_\" which is a valid class identifier.  So a declaration reads:</p>\n\n<p>For an integer:</p>\n\n<pre><code>_&lt;Integer&gt; iByRef = new _&lt;Integer&gt;( 1 );\n</code></pre>\n\n<p>For a String:</p>\n\n<pre><code>_&lt;String&gt; sByRef = new _&lt;String&gt;( \"Hola\" );\n</code></pre>\n\n<p>For any other class</p>\n\n<pre><code>_&lt;Employee&gt; employee = new _&lt;Employee&gt;( Employee.byId(123) );\n</code></pre>\n\n<p>The methods \"s\" and \"g\" stands for set and get :P </p>\n"},{"tags":[],"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1231604580,"creation_date":1231604580,"answer_id":431241,"question_id":430479,"body_markdown":"A better question: why are you creating methods with such side-effects?\r\n\r\nGenerally, this is a strong indication that you should extract the data into a separate class, with public accessors that describe why the operation is taking place.","title":"How do I use an equivalent to C++ reference parameters in Java?","body":"<p>A better question: why are you creating methods with such side-effects?</p>\n\n<p>Generally, this is a strong indication that you should extract the data into a separate class, with public accessors that describe why the operation is taking place.</p>\n"},{"tags":[],"owner":{"account_id":7670,"reputation":34993,"user_id":13379,"accept_rate":86,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1231705989,"creation_date":1231705989,"answer_id":433631,"question_id":430479,"body_markdown":"Are the two integers related?  Like a pair of x/y coordinates?  If so, I would put the integers in a new class and pass that class into the method.\r\n\r\n    class A{ \r\n      public void test(Coord c)\r\n      {\r\n        c.x++;\r\n        c.y++;\r\n      }\r\n      private class Coord{\r\n        public int x, y;\r\n      }\r\n    }\r\n\r\nIf the two integers are not related, you might want to think about why you are passing them into the same method in the first place.","title":"How do I use an equivalent to C++ reference parameters in Java?","body":"<p>Are the two integers related?  Like a pair of x/y coordinates?  If so, I would put the integers in a new class and pass that class into the method.</p>\n\n<pre><code>class A{ \n  public void test(Coord c)\n  {\n    c.x++;\n    c.y++;\n  }\n  private class Coord{\n    public int x, y;\n  }\n}\n</code></pre>\n\n<p>If the two integers are not related, you might want to think about why you are passing them into the same method in the first place.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1232695792,"creation_date":1232695792,"answer_id":472188,"question_id":430479,"body_markdown":"Though its a bad design pattern IMHO, Another possible solution is\r\n\r\n    static void test(AtomicInteger i, AtomicInteger j)\r\n    {\r\n        i.incrementAndGet();\r\n        j.incrementAndGet();\r\n    }\r\n\r\n","title":"How do I use an equivalent to C++ reference parameters in Java?","body":"<p>Though its a bad design pattern IMHO, Another possible solution is</p>\n\n<pre><code>static void test(AtomicInteger i, AtomicInteger j)\n{\n    i.incrementAndGet();\n    j.incrementAndGet();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1179412,"reputation":4177,"user_id":1154692,"accept_rate":97,"display_name":"Marwen Trabelsi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354217162,"creation_date":1354217162,"answer_id":13633169,"question_id":430479,"body_markdown":"The easiest solution is to use [org.apache.commons.lang.mutable.MutableInt][1] class you don&#39;t need to write by yourself.\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/api-2.6/org/apache/commons/lang/mutable/MutableInt.html","title":"How do I use an equivalent to C++ reference parameters in Java?","body":"<p>The easiest solution is to use <a href=\"http://commons.apache.org/lang/api-2.6/org/apache/commons/lang/mutable/MutableInt.html\" rel=\"nofollow\">org.apache.commons.lang.mutable.MutableInt</a> class you don't need to write by yourself.</p>\n"},{"tags":[],"owner":{"account_id":5788862,"reputation":11,"user_id":4567117,"display_name":"Bahram Manafi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1423936338,"creation_date":1423936338,"answer_id":28518436,"question_id":430479,"body_markdown":"Java passes parameters by value, and has no mechanism to allow pass-by-reference.","title":"How do I use an equivalent to C++ reference parameters in Java?","body":"<p>Java passes parameters by value, and has no mechanism to allow pass-by-reference.</p>\n"}],"owner":{"display_name":"al bundy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14624,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":11,"score":8,"last_activity_date":1666166069,"creation_date":1231556814,"question_id":430479,"body_markdown":"Suppose I have this in C++:\r\n\r\n    void test(int &amp;i, int &amp;j)\r\n    {\r\n        ++i;\r\n        ++j;\r\n    }\r\n\r\nThe values are altered inside the function and then used outside. How could I write a code that does the same in Java? I imagine I could return a class that encapsulates both values, but that seems really cumbersome.","title":"How do I use an equivalent to C++ reference parameters in Java?","body":"<p>Suppose I have this in C++:</p>\n\n<pre><code>void test(int &amp;i, int &amp;j)\n{\n    ++i;\n    ++j;\n}\n</code></pre>\n\n<p>The values are altered inside the function and then used outside. How could I write a code that does the same in Java? I imagine I could return a class that encapsulates both values, but that seems really cumbersome.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7012111,"reputation":598,"user_id":5374606,"display_name":"Pasindu Weerakoon"},"score":0,"creation_date":1619088994,"post_id":67211508,"comment_id":118801890,"body_markdown":"can you share the coolers.xml file here. I think &quot;black&quot; color not available in it.","body":"can you share the coolers.xml file here. I think &quot;black&quot; color not available in it."}],"answers":[{"tags":[],"owner":{"account_id":19400960,"reputation":1653,"user_id":14187529,"display_name":"Kamal Nayan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619087969,"creation_date":1619087969,"answer_id":67211625,"question_id":67211508,"body_markdown":"Try to remove button colour and use some another attribute like background color or something else.","title":"AAPT: error: attribute buttonColor (aka com.example.*appName*) not found","body":"<p>Try to remove button colour and use some another attribute like background color or something else.</p>\n"},{"tags":[],"owner":{"account_id":23523151,"reputation":1,"user_id":17570024,"display_name":"Ardita Krasniqi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666165765,"creation_date":1666165436,"answer_id":74121596,"question_id":67211508,"body_markdown":"In xml, instead of `fbutton:buttonColor` use `fbutton:fButtonColor`\r\n\r\n```\r\nfbutton:fButtonColor=&quot;@color/black&quot;\r\n```","title":"AAPT: error: attribute buttonColor (aka com.example.*appName*) not found","body":"<p>In xml, instead of <code>fbutton:buttonColor</code> use <code>fbutton:fButtonColor</code></p>\n<pre><code>fbutton:fButtonColor=&quot;@color/black&quot;\n</code></pre>\n"}],"owner":{"account_id":20998200,"reputation":1,"user_id":15615834,"display_name":"Kemi Kuti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":836,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666165765,"creation_date":1619087503,"question_id":67211508,"body_markdown":"I have searched far and high for a solution and tried to also understand this error but there seems not to be much info about this particular error.\r\n\r\nHere is the activity.xml line where is saying the error is residing (I have two of these as I have two buttons) \r\n\r\n    &lt;info.hoang8f.widget.FButton\r\n                android:id=&quot;@+id/btnMakeAnAccount&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:layout_margin=&quot;8dp&quot;\r\n                android:text=&quot;Make An Account&quot;\r\n                android:textColor=&quot;@color/pink&quot;\r\n                fbutton:buttonColor=&quot;@color/black&quot;\r\n                fbutton:cornerRadius=&quot;4dp&quot;\r\n                fbutton:shadowColor=&quot;@android:color/black&quot;\r\n                fbutton:shadowEnabled=&quot;true&quot;\r\n                fbutton:shadowHeight=&quot;5dp&quot;\r\n                /&gt;\r\n\r\nat first I was using this library --&gt; implementation &#39;info.hoang8f:fbutton:1.0.5&#39;\r\n\r\nhowever due to my emulator not working I came to learn to use this library instead --&gt; implementation &#39;com.github.jd-alexander:android-flat-button:v1.1&#39; the library details of use is found here https://github.com/jd-alexander/android-flat-button I thought in my code I have adapted it so it could work but obviously not lol\r\n\r\n\r\nthis is the code of me casting the button and its methods in my main btnLogin = (FButton)findViewById(R.id.btnLogin);\r\n        btnMakeAnAccount = (FButton)findViewById(R.id.btnMakeAnAccount);\r\n\r\n\r\n        btnLogin.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n            }\r\n        });\r\n\r\n        btnMakeAnAccount.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n            }\r\n        });\r\n","title":"AAPT: error: attribute buttonColor (aka com.example.*appName*) not found","body":"<p>I have searched far and high for a solution and tried to also understand this error but there seems not to be much info about this particular error.</p>\n<p>Here is the activity.xml line where is saying the error is residing (I have two of these as I have two buttons)</p>\n<pre><code>&lt;info.hoang8f.widget.FButton\n            android:id=&quot;@+id/btnMakeAnAccount&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;1&quot;\n            android:layout_margin=&quot;8dp&quot;\n            android:text=&quot;Make An Account&quot;\n            android:textColor=&quot;@color/pink&quot;\n            fbutton:buttonColor=&quot;@color/black&quot;\n            fbutton:cornerRadius=&quot;4dp&quot;\n            fbutton:shadowColor=&quot;@android:color/black&quot;\n            fbutton:shadowEnabled=&quot;true&quot;\n            fbutton:shadowHeight=&quot;5dp&quot;\n            /&gt;\n</code></pre>\n<p>at first I was using this library --&gt; implementation 'info.hoang8f:fbutton:1.0.5'</p>\n<p>however due to my emulator not working I came to learn to use this library instead --&gt; implementation 'com.github.jd-alexander:android-flat-button:v1.1' the library details of use is found here <a href=\"https://github.com/jd-alexander/android-flat-button\" rel=\"nofollow noreferrer\">https://github.com/jd-alexander/android-flat-button</a> I thought in my code I have adapted it so it could work but obviously not lol</p>\n<p>this is the code of me casting the button and its methods in my main btnLogin = (FButton)findViewById(R.id.btnLogin);\nbtnMakeAnAccount = (FButton)findViewById(R.id.btnMakeAnAccount);</p>\n<pre><code>    btnLogin.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n        }\n    });\n\n    btnMakeAnAccount.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n        }\n    });\n</code></pre>\n"},{"tags":["java","spring","dependency-injection","transactions"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1665996492,"post_id":74094601,"comment_id":130821734,"body_markdown":"`myService` is just a proxy wrapper around `this` presumably. There is only one `MyService` instance, `this` which is also the backing instance of the proxy class referenced by `myService`!?","body":"<code>myService</code> is just a proxy wrapper around <code>this</code> presumably. There is only one <code>MyService</code> instance, <code>this</code> which is also the backing instance of the proxy class referenced by <code>myService</code>!?"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665996489,"creation_date":1665996489,"answer_id":74094687,"question_id":74094601,"body_markdown":"The service is not copied, it is only a reference. But I&#39;d be wary of such a design: it creates a circular reference and the object graph is impossible to create at once. You first need to create the incomplete service, then set its field. Furthermore, it is kind of confusing and surprising to find such a dependency to self\r\n\r\nI&#39;d propose a different solution:\r\n\r\n```\r\n@Component\r\npublic class WithTransaction {\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    public void requiresNew(final Runnable runnable) {\r\n        runnable.run();\r\n    }\r\n}\r\n\r\n@Service\r\npublic class MyService{\r\n    private final WithTransaction withTransaction;\r\n\r\n    @Autowired\r\n    public MyService(final WithTransaction withTransaction) {\r\n      this.withTransaction = withTransaction;\r\n    }\r\n\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    public void method1(){\r\n      method2();// runs in the same transaction with method1\r\n      withTransaction.requiresNew(this::method2); // runs in separate transaction from method1\r\n    }\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    public void method2(){\r\n\r\n    }\r\n}\r\n```\r\n\r\nAnd if you can avoid it: don&#39;t call any public methods from your service on the service itself. Split the service into smaller components so that each &quot;public&quot; call must go through the proxy.","title":"Does spring self injection lead to memory leakage?","body":"<p>The service is not copied, it is only a reference. But I'd be wary of such a design: it creates a circular reference and the object graph is impossible to create at once. You first need to create the incomplete service, then set its field. Furthermore, it is kind of confusing and surprising to find such a dependency to self</p>\n<p>I'd propose a different solution:</p>\n<pre><code>@Component\npublic class WithTransaction {\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    public void requiresNew(final Runnable runnable) {\n        runnable.run();\n    }\n}\n\n@Service\npublic class MyService{\n    private final WithTransaction withTransaction;\n\n    @Autowired\n    public MyService(final WithTransaction withTransaction) {\n      this.withTransaction = withTransaction;\n    }\n\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    public void method1(){\n      method2();// runs in the same transaction with method1\n      withTransaction.requiresNew(this::method2); // runs in separate transaction from method1\n    }\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    public void method2(){\n\n    }\n}\n</code></pre>\n<p>And if you can avoid it: don't call any public methods from your service on the service itself. Split the service into smaller components so that each &quot;public&quot; call must go through the proxy.</p>\n"}],"owner":{"account_id":13807566,"reputation":61,"user_id":9966043,"display_name":"Ahmet Erdem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74094687,"answer_count":1,"score":-2,"last_activity_date":1666164998,"creation_date":1665996078,"question_id":74094601,"body_markdown":"In Spring, beans are encapsulated by a proxy object and when called from outer object the proxy object&#39;s method is also called. By using this trick transaction management is performed in proxy object&#39;s methods. \r\nBut when you are calling a method in the same bean and if you want the called method to be run in another transaction with the caller method it is not possible. Since the method calls in the same bean does not pass through the proxy object which performs transaction operations.\r\nIn order to solve this, self-injection of the bean inside itself is proposed.   \r\n\r\nlike this \r\n\r\n    @Service\r\n    public class MyService{\r\n        @Autowired\r\n        public MyService myService;\r\n    \r\n        @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n        public void method1(){\r\n          method2();// runs in the same transaction with method1\r\n          myService.method2();// runs in separate transaction from method1\r\n        }\r\n        @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n        public void method2(){\r\n    \r\n        }\r\n    }\r\n\r\nI want to ask whether self-injection leads to memory leakage.\r\nOuter bean MyService includes injected myService and myService should include attribute of type MyService, which should include  attribute of type MyService ....\r\n\r\n\r\n\r\n","title":"Does spring self injection lead to memory leakage?","body":"<p>In Spring, beans are encapsulated by a proxy object and when called from outer object the proxy object's method is also called. By using this trick transaction management is performed in proxy object's methods.\nBut when you are calling a method in the same bean and if you want the called method to be run in another transaction with the caller method it is not possible. Since the method calls in the same bean does not pass through the proxy object which performs transaction operations.\nIn order to solve this, self-injection of the bean inside itself is proposed.</p>\n<p>like this</p>\n<pre><code>@Service\npublic class MyService{\n    @Autowired\n    public MyService myService;\n\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    public void method1(){\n      method2();// runs in the same transaction with method1\n      myService.method2();// runs in separate transaction from method1\n    }\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    public void method2(){\n\n    }\n}\n</code></pre>\n<p>I want to ask whether self-injection leads to memory leakage.\nOuter bean MyService includes injected myService and myService should include attribute of type MyService, which should include  attribute of type MyService ....</p>\n"},{"tags":["java","android","google-cloud-firestore","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1665836397,"post_id":74078233,"comment_id":130794450,"body_markdown":"As you discovered anyone who has the FCM server key can send whatever message they want to all of your users. By including this key in your Android app, a malicious user can find it and you&#39;re putting your users at risk. See https://stackoverflow.com/a/37993724 for a better solution.","body":"As you discovered anyone who has the FCM server key can send whatever message they want to all of your users. By including this key in your Android app, a malicious user can find it and you&#39;re putting your users at risk. See <a href=\"https://stackoverflow.com/a/37993724\">stackoverflow.com/a/37993724</a> for a better solution."},{"owner":{"account_id":24326117,"reputation":2235,"user_id":18265638,"display_name":"Sathi Aiswarya"},"score":0,"creation_date":1666446823,"post_id":74078233,"comment_id":130941499,"body_markdown":"I have posted comment as&#160;[community wiki](https://stackoverflow.com/help/privileges/community-wiki). so that others could spot the workaround easier","body":"I have posted comment as <a href=\"https://stackoverflow.com/help/privileges/community-wiki\">community wiki</a>. so that others could spot the workaround easier"}],"answers":[{"tags":[],"owner":{"account_id":24326117,"reputation":2235,"user_id":18265638,"display_name":"Sathi Aiswarya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666164992,"creation_date":1666164992,"answer_id":74121509,"question_id":74078233,"body_markdown":"Answering this as community wiki.As mentioned above in comments by  Frank van Puffelen\r\n\r\nAs you discovered anyone who has the FCM server key can send whatever message they want to all of your users. By including this key in your Android app, a malicious user can find it and you&#39;re putting your users at risk.\r\n \r\nYou can check this stackoverflow [thread][1] for a better solution.\r\n\r\n[1]:https://stackoverflow.com/a/37993724\r\n","title":"Send Firebase Cloud Messaging Notifications via App without exposing the Server Key","body":"<p>Answering this as community wiki.As mentioned above in comments by  Frank van Puffelen</p>\n<p>As you discovered anyone who has the FCM server key can send whatever message they want to all of your users. By including this key in your Android app, a malicious user can find it and you're putting your users at risk.</p>\n<p>You can check this stackoverflow <a href=\"https://stackoverflow.com/a/37993724\">thread</a> for a better solution.</p>\n"}],"owner":{"account_id":26090846,"reputation":113,"user_id":19787762,"display_name":"Vince Yba&#241;ez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666164992,"creation_date":1665826067,"question_id":74078233,"body_markdown":"I am using the old Firebase Cloud Messaging API. I can send notifications to all my users with the application that I made. But as I watched tutorials, I realized that it is not good to expose your Server Key in your app because apps can be reverse engineered. So, is there any way to send notifications to all users without your server key being exposed? How?","title":"Send Firebase Cloud Messaging Notifications via App without exposing the Server Key","body":"<p>I am using the old Firebase Cloud Messaging API. I can send notifications to all my users with the application that I made. But as I watched tutorials, I realized that it is not good to expose your Server Key in your app because apps can be reverse engineered. So, is there any way to send notifications to all users without your server key being exposed? How?</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1567490009,"post_id":57765709,"comment_id":101966810,"body_markdown":"Are you using the itext 7 *pdfCalligraph* add on?","body":"Are you using the itext 7 <i>pdfCalligraph</i> add on?"},{"owner":{"account_id":10024751,"reputation":1,"user_id":7413217,"display_name":"Rahul.Raj"},"score":0,"creation_date":1567490757,"post_id":57765709,"comment_id":101967049,"body_markdown":"Actually I need to use itext5 and its not working. So I have tried with itext7 and added pdfCalligraph as dependency","body":"Actually I need to use itext5 and its not working. So I have tried with itext7 and added pdfCalligraph as dependency"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1567497591,"post_id":57765709,"comment_id":101970002,"body_markdown":"pdfCalligraph is necessary for non-trivial scripts. Whether it suffices, I cannot tell. You might want ask itext support.","body":"pdfCalligraph is necessary for non-trivial scripts. Whether it suffices, I cannot tell. You might want ask itext support."}],"answers":[{"tags":[],"owner":{"account_id":26668130,"reputation":1,"user_id":20279901,"display_name":"Tarsem Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666164641,"creation_date":1666164641,"answer_id":74121440,"question_id":57765709,"body_markdown":"I know its quite late on answering this question but for future references, I am writing my solution here, on adding following dependencies to pom.xml and updating version of iText7-core &amp; html2pdf dependencies works for me\r\n\r\n- Add below repository to your pom.xml\r\n```\r\n&lt;!-- All add-ons and iText 7 core--&gt;\r\n&lt;repositories&gt;\r\n  &lt;repository&gt;\r\n    &lt;id&gt;itext&lt;/id&gt;\r\n    &lt;name&gt;iText Repository - releases&lt;/name&gt;\r\n    &lt;url&gt;https://repo.itextsupport.com/releases&lt;/url&gt;\r\n  &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n\r\n```\r\n- Add the pdfCalligraph dependency to .pom project file\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n   &lt;artifactId&gt;typography&lt;/artifactId&gt;\r\n   &lt;version&gt;3.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```","title":"Kannada font issue in pdf genration with itext","body":"<p>I know its quite late on answering this question but for future references, I am writing my solution here, on adding following dependencies to pom.xml and updating version of iText7-core &amp; html2pdf dependencies works for me</p>\n<ul>\n<li>Add below repository to your pom.xml</li>\n</ul>\n<pre><code>&lt;!-- All add-ons and iText 7 core--&gt;\n&lt;repositories&gt;\n  &lt;repository&gt;\n    &lt;id&gt;itext&lt;/id&gt;\n    &lt;name&gt;iText Repository - releases&lt;/name&gt;\n    &lt;url&gt;https://repo.itextsupport.com/releases&lt;/url&gt;\n  &lt;/repository&gt;\n&lt;/repositories&gt;\n\n</code></pre>\n<ul>\n<li>Add the pdfCalligraph dependency to .pom project file</li>\n</ul>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n   &lt;artifactId&gt;typography&lt;/artifactId&gt;\n   &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n"}],"owner":{"account_id":10024751,"reputation":1,"user_id":7413217,"display_name":"Rahul.Raj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":640,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666164641,"creation_date":1567489770,"question_id":57765709,"body_markdown":"I have tried to use Itext5 and Itext7 in my application to generate Kannada(Indian language) PDF document. But the character joins are not coming properly \r\n\r\niText7:\r\n\r\n    String dir = &quot;D:\\\\test\\\\sample pdf file\\\\itext7\\\\itext7pdf_&quot; +System.currentTimeMillis()+&quot;.pdf&quot;;\r\n      \r\n    File licenseFile = ResourceUtils.getFile(&quot;classpath:license/itextkey1567154651327_0.xml&quot;);\r\n    LicenseKey.loadLicenseFile(licenseFile.getAbsolutePath());\r\n\r\n    FileOutputStream fos = new FileOutputStream(dir);\r\n    PdfWriter writer = new PdfWriter(fos);\r\n    PdfDocument pdf = new PdfDocument(writer);\r\n    Document document = new Document(pdf);\r\n    File file = ResourceUtils.getFile(&quot;classpath:font/tunga.ttf&quot;);\r\n    PdfFont font = PdfFontFactory.createFont(file.getAbsolutePath(),PdfEncodings.IDENTITY_H, true);\r\n    document.add(new Paragraph().setFont(font)\r\n            .add(&quot;\\u0CAA\\u0CCD\\u0CAF\\u0CBE\\u0CB0\\u0CBE\\u0CAE\\u0CC0\\u0C9F\\u0CB0\\u0CCD \\u0CAA\\u0CCD\\u0CB0\\u0C95\\u0CBE\\u0CB0\\u0C97\\u0CB3\\u0CA8\\u0CCD\\u0CA8\\u0CC1 \\u0CAA\\u0CA1\\u0CC6\\u0CAF\\u0CC1\\u0CB5\\u0CBE\\u0C97 \\u0CA6\\u0CCB\\u0CB7&quot;));\r\n    document.close();\r\n\r\n       \r\n\r\nThe expected output is\r\nಪ್ಯಾರಾಮೀಟರ್ ಪ್ರಕಾರಗಳನ್ನು ಪಡೆಯುವಾಗ ದೋಷ\r\nbut I got words like in the link\r\nhttps://ibb.co/2sbxV6B","title":"Kannada font issue in pdf genration with itext","body":"<p>I have tried to use Itext5 and Itext7 in my application to generate Kannada(Indian language) PDF document. But the character joins are not coming properly </p>\n\n<p>iText7:</p>\n\n<pre><code>String dir = \"D:\\\\test\\\\sample pdf file\\\\itext7\\\\itext7pdf_\" +System.currentTimeMillis()+\".pdf\";\n\nFile licenseFile = ResourceUtils.getFile(\"classpath:license/itextkey1567154651327_0.xml\");\nLicenseKey.loadLicenseFile(licenseFile.getAbsolutePath());\n\nFileOutputStream fos = new FileOutputStream(dir);\nPdfWriter writer = new PdfWriter(fos);\nPdfDocument pdf = new PdfDocument(writer);\nDocument document = new Document(pdf);\nFile file = ResourceUtils.getFile(\"classpath:font/tunga.ttf\");\nPdfFont font = PdfFontFactory.createFont(file.getAbsolutePath(),PdfEncodings.IDENTITY_H, true);\ndocument.add(new Paragraph().setFont(font)\n        .add(\"\\u0CAA\\u0CCD\\u0CAF\\u0CBE\\u0CB0\\u0CBE\\u0CAE\\u0CC0\\u0C9F\\u0CB0\\u0CCD \\u0CAA\\u0CCD\\u0CB0\\u0C95\\u0CBE\\u0CB0\\u0C97\\u0CB3\\u0CA8\\u0CCD\\u0CA8\\u0CC1 \\u0CAA\\u0CA1\\u0CC6\\u0CAF\\u0CC1\\u0CB5\\u0CBE\\u0C97 \\u0CA6\\u0CCB\\u0CB7\"));\ndocument.close();\n</code></pre>\n\n<p>The expected output is\nಪ್ಯಾರಾಮೀಟರ್ ಪ್ರಕಾರಗಳನ್ನು ಪಡೆಯುವಾಗ ದೋಷ\nbut I got words like in the link\n<a href=\"https://ibb.co/2sbxV6B\" rel=\"nofollow noreferrer\">https://ibb.co/2sbxV6B</a></p>\n"},{"tags":["java","rest","web-services","browser"],"answers":[{"tags":[],"owner":{"account_id":25637854,"reputation":1,"user_id":19407198,"display_name":"Anil Dhangar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666164388,"creation_date":1662542553,"answer_id":73632992,"question_id":73632669,"body_markdown":"using java and spring boot we can start browser by a web service\r\n\r\nafter this number of line added hit http//localhost:yourPort/openBrowser\r\nfrom your browser it will Open new instance of your pc Default browser\r\n\r\n\r\n----------\r\n\r\n    package test;\r\n    \r\n    import java.awt.Desktop;\r\n    import java.io.IOException;\r\n    import java.net.URI;\r\n    import java.net.URISyntaxException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n\r\n\r\n    @RestController\r\n    public class Example {\r\n\r\n        @GetMapping(&quot;/openBrowser&quot;)\r\n    \tpublic void openBrowser(){\r\n    \r\n    \t\tDesktop desktop = Desktop.getDesktop();\r\n    \t\tdesktop.browse(new URI(&quot;www.xyz.com&quot;));\r\n    \t}\r\n    }\r\n\r\n","title":"How do I open a web browser using a rest service call?","body":"<p>using java and spring boot we can start browser by a web service</p>\n<p>after this number of line added hit http//localhost:yourPort/openBrowser\nfrom your browser it will Open new instance of your pc Default browser</p>\n<hr />\n<pre><code>package test;\n\nimport java.awt.Desktop;\nimport java.io.IOException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.util.ArrayList;\nimport java.util.List;\n\n\n\n@RestController\npublic class Example {\n\n    @GetMapping(&quot;/openBrowser&quot;)\n    public void openBrowser(){\n\n        Desktop desktop = Desktop.getDesktop();\n        desktop.browse(new URI(&quot;www.xyz.com&quot;));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":300083,"reputation":25180,"user_id":607033,"accept_rate":94,"display_name":"inf3rno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662559234,"creation_date":1662559234,"answer_id":73636815,"question_id":73632669,"body_markdown":"You need a tool that can control browser opening and a tool that can control the browser itself. The former one is shell, the latter one is for example selenium: https://www.selenium.dev/ You can solve most of the upper with java and selenium I think. Here is an example of how you can use selenium to open browser: https://automationbyte.com/how-to-launch-firefox-browser-using-selenium/ As of the REST service it must run in the same OS you want to use to open the browser. There are already existing similar solutions like SauceLabs, maybe they use REST services in the background to control testing, who knows. https://saucelabs.com/","title":"How do I open a web browser using a rest service call?","body":"<p>You need a tool that can control browser opening and a tool that can control the browser itself. The former one is shell, the latter one is for example selenium: <a href=\"https://www.selenium.dev/\" rel=\"nofollow noreferrer\">https://www.selenium.dev/</a> You can solve most of the upper with java and selenium I think. Here is an example of how you can use selenium to open browser: <a href=\"https://automationbyte.com/how-to-launch-firefox-browser-using-selenium/\" rel=\"nofollow noreferrer\">https://automationbyte.com/how-to-launch-firefox-browser-using-selenium/</a> As of the REST service it must run in the same OS you want to use to open the browser. There are already existing similar solutions like SauceLabs, maybe they use REST services in the background to control testing, who knows. <a href=\"https://saucelabs.com/\" rel=\"nofollow noreferrer\">https://saucelabs.com/</a></p>\n"}],"owner":{"account_id":5560474,"reputation":185,"user_id":4409964,"accept_rate":83,"display_name":"Devanshu Kashyap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73636815,"answer_count":2,"score":2,"last_activity_date":1666164388,"creation_date":1662541008,"question_id":73632669,"body_markdown":"I came across the following question asked in interviews which ask about controlling a web browser using a web service calls.\r\n\r\nImplement the following 4 WebServices in the choice of your language.\r\n\r\nstartBrowser() -&gt; Start the browser(User Input) and opens given URL(User Input)\r\n\r\nstopBrowser()-&gt; Kill the specified opened browser.\r\n\r\ngetLatestURL()-&gt; Fetched last visited URL (Doesn’t matter browser is running or it’s closed)\r\n\r\ndeleteAllHistory()-&gt; Delete all the data -&gt; Browser History, cookies, cache, saved passwords, bookmarks etc.\r\n\r\nhttps://www.geeksforgeeks.org/browserstack-mumbai-interview-experience-software-engineer/\r\n\r\nMost of what I saw while trying to find answer to it ( on SO and other websites) was to use the main method to open a java framework based browser using java.awt and URL processing.\r\n\r\nThe above question demands opening a web browser using a web service call, which is possibly by hitting a rest service which opens and closes browser and does other operations mentioned in the question.\r\n\r\nMay I know how is it possible to interface a web browser (client side installed tool ) with a web service call ? Are there any special apis or annotations using REST.\r\nI am not able to understand the only part regarding interfacing web service call ( possibly using postman) with an application ( web browser) installed on client side.","title":"How do I open a web browser using a rest service call?","body":"<p>I came across the following question asked in interviews which ask about controlling a web browser using a web service calls.</p>\n<p>Implement the following 4 WebServices in the choice of your language.</p>\n<p>startBrowser() -&gt; Start the browser(User Input) and opens given URL(User Input)</p>\n<p>stopBrowser()-&gt; Kill the specified opened browser.</p>\n<p>getLatestURL()-&gt; Fetched last visited URL (Doesn’t matter browser is running or it’s closed)</p>\n<p>deleteAllHistory()-&gt; Delete all the data -&gt; Browser History, cookies, cache, saved passwords, bookmarks etc.</p>\n<p><a href=\"https://www.geeksforgeeks.org/browserstack-mumbai-interview-experience-software-engineer/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/browserstack-mumbai-interview-experience-software-engineer/</a></p>\n<p>Most of what I saw while trying to find answer to it ( on SO and other websites) was to use the main method to open a java framework based browser using java.awt and URL processing.</p>\n<p>The above question demands opening a web browser using a web service call, which is possibly by hitting a rest service which opens and closes browser and does other operations mentioned in the question.</p>\n<p>May I know how is it possible to interface a web browser (client side installed tool ) with a web service call ? Are there any special apis or annotations using REST.\nI am not able to understand the only part regarding interfacing web service call ( possibly using postman) with an application ( web browser) installed on client side.</p>\n"},{"tags":["java","spring","spring-boot","cas"],"answers":[{"tags":[],"owner":{"account_id":1371634,"reputation":4233,"user_id":1306655,"accept_rate":40,"display_name":"Misagh Moayyed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661356386,"creation_date":1661356386,"answer_id":73476213,"question_id":73445162,"body_markdown":"&gt; Anyone got any ideas?\r\n\r\nPlease read:\r\nhttps://apereo.github.io/cas/6.5.x/installation/Troubleshooting-Guide.html#review-logs\r\n\r\n&gt; CAS server logs are the best resource for determining the root cause of the problem, provided you have configured the appropriate log levels. Specifically you want to make sure DEBUG levels are turned on the org.apereo package in the log configuration\r\n\r\nYou could consider moving the configuration inside the CAS build itself  in an application.yml file, instead of keeping it outside.\r\n\r\nhttps://apereo.github.io/cas/6.5.x/configuration/Configuration-Server-Management-Standalone.html\r\n\r\n","title":"cannot start cas-overlay-template on windows - missing \\etc\\cas\\thekeystore","body":"<blockquote>\n<p>Anyone got any ideas?</p>\n</blockquote>\n<p>Please read:\n<a href=\"https://apereo.github.io/cas/6.5.x/installation/Troubleshooting-Guide.html#review-logs\" rel=\"nofollow noreferrer\">https://apereo.github.io/cas/6.5.x/installation/Troubleshooting-Guide.html#review-logs</a></p>\n<blockquote>\n<p>CAS server logs are the best resource for determining the root cause of the problem, provided you have configured the appropriate log levels. Specifically you want to make sure DEBUG levels are turned on the org.apereo package in the log configuration</p>\n</blockquote>\n<p>You could consider moving the configuration inside the CAS build itself  in an application.yml file, instead of keeping it outside.</p>\n<p><a href=\"https://apereo.github.io/cas/6.5.x/configuration/Configuration-Server-Management-Standalone.html\" rel=\"nofollow noreferrer\">https://apereo.github.io/cas/6.5.x/configuration/Configuration-Server-Management-Standalone.html</a></p>\n"},{"tags":[],"owner":{"account_id":1214804,"reputation":1085,"user_id":1182619,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662559410,"creation_date":1662559410,"answer_id":73636847,"question_id":73445162,"body_markdown":"Try switching from tomcat to jetty as an embedded servlet server. It seems to have better windows support, and *properly* looks for `c:\\etc\\cas\\thekeystore`.\r\n\r\nTo do that just replace `-tomcat` with `-jetty` as `appServer` in the  `gradle.properties` file.\r\n\r\nThere might be a way to teach tomcat to look at the right place, but I didn&#39;t found it. The `server.ssl.key-store` setting didn&#39;t had any effect.","title":"cannot start cas-overlay-template on windows - missing \\etc\\cas\\thekeystore","body":"<p>Try switching from tomcat to jetty as an embedded servlet server. It seems to have better windows support, and <em>properly</em> looks for <code>c:\\etc\\cas\\thekeystore</code>.</p>\n<p>To do that just replace <code>-tomcat</code> with <code>-jetty</code> as <code>appServer</code> in the  <code>gradle.properties</code> file.</p>\n<p>There might be a way to teach tomcat to look at the right place, but I didn't found it. The <code>server.ssl.key-store</code> setting didn't had any effect.</p>\n"},{"tags":[],"owner":{"account_id":309979,"reputation":26,"user_id":622709,"display_name":"Nesteban"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666164350,"creation_date":1666164350,"answer_id":74121378,"question_id":73445162,"body_markdown":"You can change the keystore location in spring config. You can pass the property either in cas.properties or with command line flags or ENV. Two examples:\r\n\r\nExample: absolute windwos path\r\n\r\n    server.ssl.key-store=D:/dev/cas/etc/theKeystore.jks\r\n\r\n\r\nExample: relative path\r\n\r\n    server.ssl.key-store=file:etc/cas/thekeystore\r\n\r\nBy the way, you can also change the location of the cas.properties file with the cas.standalone.configurationDirectory parameter. This is how I usually work in a local environment on Windows:\r\n\r\n    java -jar build/libs/cas.war --cas.standalone.configurationDirectory=etc/cas/config --debug","title":"cannot start cas-overlay-template on windows - missing \\etc\\cas\\thekeystore","body":"<p>You can change the keystore location in spring config. You can pass the property either in cas.properties or with command line flags or ENV. Two examples:</p>\n<p>Example: absolute windwos path</p>\n<pre><code>server.ssl.key-store=D:/dev/cas/etc/theKeystore.jks\n</code></pre>\n<p>Example: relative path</p>\n<pre><code>server.ssl.key-store=file:etc/cas/thekeystore\n</code></pre>\n<p>By the way, you can also change the location of the cas.properties file with the cas.standalone.configurationDirectory parameter. This is how I usually work in a local environment on Windows:</p>\n<pre><code>java -jar build/libs/cas.war --cas.standalone.configurationDirectory=etc/cas/config --debug\n</code></pre>\n"}],"owner":{"account_id":774916,"reputation":325,"user_id":545800,"accept_rate":100,"display_name":"bluebloodedboy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":894,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74121378,"answer_count":3,"score":2,"last_activity_date":1666164350,"creation_date":1661171442,"question_id":73445162,"body_markdown":"I am trying to run https://github.com/apereo/cas-overlay-template on Windows 11 and JDK 11 (Eclipse Adoptium 11.0.16.1), using the 6.5 branch. I have ran the &quot;createKeystore&quot; and &quot;copyCasConfiguration&quot; gradle tasks using gradlew.bat, and it created the files below:\r\n\r\n 1. c:/etc/cas/cas.crt\r\n 1. c:/etc/cas/thekeystore\r\n 1. c:/etc/cas/config/cas.properties\r\n 1. c:/etc/cas/config/log4j2.xml\r\n\r\nwhen I tried to run &quot;gradlew.bat run&quot;, it hit the following error:\r\n\r\n```\r\n2022-08-22 20:26:06,670 WARN [org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext] - &lt;Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: FaException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n        at org.springframework.boot.loader.WarLauncher.main(WarLauncher.java:59)\r\nCaused by: org.springframework.context.ApplicationContextException: Failed to start bean &#39;webServerStartStop&#39;; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181)\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)\r\n        at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356)\r\n        at java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155)\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\r\n        at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164)\r\n        at org.apereo.cas.web.CasWebApplication.main(CasWebApplication.java:62)\r\n        ... 8 more\r\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:229)\r\n        at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:43)\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178)\r\n        ... 21 more\r\nCaused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\r\n        at org.apache.catalina.core.StandardService.addConnector(StandardService.java:238)\r\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:282)\r\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:213)\r\n        ... 23 more\r\nCaused by: org.apache.catalina.LifecycleException: Protocol handler start failed\r\n        at org.apache.catalina.connector.Connector.startInternal(Connector.java:1077)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n        at org.apache.catalina.core.StandardService.addConnector(StandardService.java:234)\r\n        ... 25 more\r\nCaused by: java.lang.IllegalArgumentException: \\etc\\cas\\thekeystore (The system cannot find the path specified)\r\n        at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:107)\r\n        at org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71)\r\n        at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:235)\r\n        at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1227)\r\n        at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1313)\r\n        at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:614)\r\n        at org.apache.catalina.connector.Connector.startInternal(Connector.java:1074)\r\n        ... 27 more\r\nCaused by: java.io.FileNotFoundException: \\etc\\cas\\thekeystore (The system cannot find the path specified)\r\n        at java.base/java.io.FileInputStream.open0(Native Method)\r\n        at java.base/java.io.FileInputStream.open(FileInputStream.java:219)\r\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\r\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:112)\r\n        at java.base/sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java:86)\r\n        at java.base/sun.net.www.protocol.file.FileURLConnection.getInputStream(FileURLConnection.java:184)\r\n        at org.apache.catalina.startup.CatalinaBaseConfigurationSource.getResource(CatalinaBaseConfigurationSource.java:118)\r\n        at org.apache.tomcat.util.net.SSLUtilBase.getStore(SSLUtilBase.java:199)\r\n        at org.apache.tomcat.util.net.SSLHostConfigCertificate.getCertificateKeystore(SSLHostConfigCertificate.java:207)\r\n        at org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:283)\r\n        at org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247)\r\n        at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:105)\r\n        ... 33 more\r\n```\r\n\r\nI believe this is due to Gradle thinking its running inside a Unix environment instead of a Windows one. Any changes I make to the c:/etc/cas/config/cas.properties file is ignored, which makes me believe that its looking elsewhere for the cas folder (not c:/etc/cas). Anyone got any ideas?","title":"cannot start cas-overlay-template on windows - missing \\etc\\cas\\thekeystore","body":"<p>I am trying to run <a href=\"https://github.com/apereo/cas-overlay-template\" rel=\"nofollow noreferrer\">https://github.com/apereo/cas-overlay-template</a> on Windows 11 and JDK 11 (Eclipse Adoptium 11.0.16.1), using the 6.5 branch. I have ran the &quot;createKeystore&quot; and &quot;copyCasConfiguration&quot; gradle tasks using gradlew.bat, and it created the files below:</p>\n<ol>\n<li>c:/etc/cas/cas.crt</li>\n<li>c:/etc/cas/thekeystore</li>\n<li>c:/etc/cas/config/cas.properties</li>\n<li>c:/etc/cas/config/log4j2.xml</li>\n</ol>\n<p>when I tried to run &quot;gradlew.bat run&quot;, it hit the following error:</p>\n<pre><code>2022-08-22 20:26:06,670 WARN [org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext] - &lt;Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: FaException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n        at org.springframework.boot.loader.WarLauncher.main(WarLauncher.java:59)\nCaused by: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181)\n        at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)\n        at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356)\n        at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n        at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155)\n        at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123)\n        at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\n        at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164)\n        at org.apereo.cas.web.CasWebApplication.main(CasWebApplication.java:62)\n        ... 8 more\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:229)\n        at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:43)\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178)\n        ... 21 more\nCaused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\n        at org.apache.catalina.core.StandardService.addConnector(StandardService.java:238)\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:282)\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:213)\n        ... 23 more\nCaused by: org.apache.catalina.LifecycleException: Protocol handler start failed\n        at org.apache.catalina.connector.Connector.startInternal(Connector.java:1077)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardService.addConnector(StandardService.java:234)\n        ... 25 more\nCaused by: java.lang.IllegalArgumentException: \\etc\\cas\\thekeystore (The system cannot find the path specified)\n        at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:107)\n        at org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71)\n        at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:235)\n        at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1227)\n        at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1313)\n        at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:614)\n        at org.apache.catalina.connector.Connector.startInternal(Connector.java:1074)\n        ... 27 more\nCaused by: java.io.FileNotFoundException: \\etc\\cas\\thekeystore (The system cannot find the path specified)\n        at java.base/java.io.FileInputStream.open0(Native Method)\n        at java.base/java.io.FileInputStream.open(FileInputStream.java:219)\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:112)\n        at java.base/sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java:86)\n        at java.base/sun.net.www.protocol.file.FileURLConnection.getInputStream(FileURLConnection.java:184)\n        at org.apache.catalina.startup.CatalinaBaseConfigurationSource.getResource(CatalinaBaseConfigurationSource.java:118)\n        at org.apache.tomcat.util.net.SSLUtilBase.getStore(SSLUtilBase.java:199)\n        at org.apache.tomcat.util.net.SSLHostConfigCertificate.getCertificateKeystore(SSLHostConfigCertificate.java:207)\n        at org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:283)\n        at org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247)\n        at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:105)\n        ... 33 more\n</code></pre>\n<p>I believe this is due to Gradle thinking its running inside a Unix environment instead of a Windows one. Any changes I make to the c:/etc/cas/config/cas.properties file is ignored, which makes me believe that its looking elsewhere for the cas folder (not c:/etc/cas). Anyone got any ideas?</p>\n"},{"tags":["java","spring","spring-boot","jpa","junit"],"comments":[{"owner":{"account_id":2610115,"reputation":434,"user_id":2260370,"accept_rate":50,"display_name":"Noushad"},"score":0,"creation_date":1666078793,"post_id":74107337,"comment_id":130844139,"body_markdown":"Can you please edit and add the structure of PoiDto and Poi Classes as well ?","body":"Can you please edit and add the structure of PoiDto and Poi Classes as well ?"},{"owner":{"account_id":2610115,"reputation":434,"user_id":2260370,"accept_rate":50,"display_name":"Noushad"},"score":2,"creation_date":1666078914,"post_id":74107337,"comment_id":130844172,"body_markdown":"Looks like `saveDto.position()` returns an object instead of a String.","body":"Looks like <code>saveDto.position()</code> returns an object instead of a String."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666082227,"post_id":74107337,"comment_id":130845226,"body_markdown":"Use `assertEquals(saveDto.position().toString(), entity.getPosition());`!?","body":"Use <code>assertEquals(saveDto.position().toString(), entity.getPosition());</code>!?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666082330,"post_id":74107337,"comment_id":130845260,"body_markdown":"But this relies (I would not) on &quot;order&quot; of x,y,z (in the resulting string...json is different !)","body":"But this relies (I would not) on &quot;order&quot; of x,y,z (in the resulting string...json is different !)"},{"owner":{"account_id":5156519,"reputation":3345,"user_id":5272567,"display_name":"Matthias"},"score":0,"creation_date":1666095868,"post_id":74107337,"comment_id":130849888,"body_markdown":"to expand on xerx593&#39;s comment, instead of toString I would instead change the string to a dict but using json.loads. For example `assertEquals(saveDto.position(), json.loads(entity.getPosition()));`","body":"to expand on xerx593&#39;s comment, instead of toString I would instead change the string to a dict but using json.loads. For example <code>assertEquals(saveDto.position(), json.loads(entity.getPosition()));</code>"}],"answers":[{"tags":[],"owner":{"account_id":26224674,"reputation":19,"user_id":19901531,"display_name":"user19901531"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666164344,"creation_date":1666164344,"answer_id":74121376,"question_id":74107337,"body_markdown":"I sovled as like below\r\n\r\n`Assertions.assertThat(a).isEqualTo(b)`","title":"Why is my unit test failing when saving a json string?","body":"<p>I sovled as like below</p>\n<p><code>Assertions.assertThat(a).isEqualTo(b)</code></p>\n"}],"owner":{"account_id":26224674,"reputation":19,"user_id":19901531,"display_name":"user19901531"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666164344,"creation_date":1666078668,"question_id":74107337,"body_markdown":"Why is my unit test failing when saving a json string?\r\n\r\nHere is my unit test.\r\n\r\n    @Test\r\n    void save() {\r\n        PoiDto saveDto = createPoi();\r\n\r\n        Poi entity = poiRepository.findById(saveDto.id()).orElseThrow();\r\n\r\n        assertEquals(saveDto.id(), entity.getId());\r\n        assertEquals(saveDto.code(), entity.getCode());\r\n        assertEquals(saveDto.position(), entity.getPosition());\r\n        assertEquals(&quot;\\&quot;&quot; + saveDto.position() + &quot;\\&quot;&quot;, entity.getPosition());\r\n    }\r\n\r\n3&lt;sup&gt;rd&lt;/sup&gt; assert does not pass but the 4&lt;sup&gt;th&lt;/sup&gt; assert passes.\r\n\r\nThe error is:\r\n\r\n```\r\norg.opentest4j.AssertionFailedError:\r\nExpected :{x: 75, y: 40, z: 13}\r\nActual :&quot;{x: 75, y: 40, z: 13}&quot;\r\n```\r\n\r\nI wonder why `&quot;&quot;` is appended when searching json with entity.\r\n\r\nI&#39;m also wondering how I should modify this test code.","title":"Why is my unit test failing when saving a json string?","body":"<p>Why is my unit test failing when saving a json string?</p>\n<p>Here is my unit test.</p>\n<pre><code>@Test\nvoid save() {\n    PoiDto saveDto = createPoi();\n\n    Poi entity = poiRepository.findById(saveDto.id()).orElseThrow();\n\n    assertEquals(saveDto.id(), entity.getId());\n    assertEquals(saveDto.code(), entity.getCode());\n    assertEquals(saveDto.position(), entity.getPosition());\n    assertEquals(&quot;\\&quot;&quot; + saveDto.position() + &quot;\\&quot;&quot;, entity.getPosition());\n}\n</code></pre>\n<p>3<sup>rd</sup> assert does not pass but the 4<sup>th</sup> assert passes.</p>\n<p>The error is:</p>\n<pre><code>org.opentest4j.AssertionFailedError:\nExpected :{x: 75, y: 40, z: 13}\nActual :&quot;{x: 75, y: 40, z: 13}&quot;\n</code></pre>\n<p>I wonder why <code>&quot;&quot;</code> is appended when searching json with entity.</p>\n<p>I'm also wondering how I should modify this test code.</p>\n"},{"tags":["java","apache-camel","apache-camel-mail"],"answers":[{"tags":[],"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666164080,"creation_date":1666163486,"answer_id":74121226,"question_id":74115317,"body_markdown":"Your mistake is in the **simple language expression** used in the log EIP, indeed the expression `${exchange.message}` asks Camel to call dynamically the method `getMessage` on the current exchange but as mentioned in the error message, there are 2 existing methods called `getMessage` in `Exchange` which are [`getMessage()`][1] and [`getMessage(java.lang.Class)`][2] and Camel has no way to know which one to call which causes this specific exception.\r\n\r\nI don&#39;t know what you wanted to log but if it is the body of your message the expected expression is rather `${body}`. Please refer to the doc about [the simple language][3] for more details.\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.apache.camel/camel-api/latest/org/apache/camel/Exchange.html#getMessage()\r\n  [2]: https://www.javadoc.io/doc/org.apache.camel/camel-api/latest/org/apache/camel/Exchange.html#getMessage(java.lang.Class)\r\n  [3]: https://camel.apache.org/components/next/languages/simple-language.html","title":"AmbiguousMethodCallException Camel - Mail on Exchange.getMessage()","body":"<p>Your mistake is in the <strong>simple language expression</strong> used in the log EIP, indeed the expression <code>${exchange.message}</code> asks Camel to call dynamically the method <code>getMessage</code> on the current exchange but as mentioned in the error message, there are 2 existing methods called <code>getMessage</code> in <code>Exchange</code> which are <a href=\"https://www.javadoc.io/doc/org.apache.camel/camel-api/latest/org/apache/camel/Exchange.html#getMessage()\" rel=\"nofollow noreferrer\"><code>getMessage()</code></a> and <a href=\"https://www.javadoc.io/doc/org.apache.camel/camel-api/latest/org/apache/camel/Exchange.html#getMessage(java.lang.Class)\" rel=\"nofollow noreferrer\"><code>getMessage(java.lang.Class)</code></a> and Camel has no way to know which one to call which causes this specific exception.</p>\n<p>I don't know what you wanted to log but if it is the body of your message the expected expression is rather <code>${body}</code>. Please refer to the doc about <a href=\"https://camel.apache.org/components/next/languages/simple-language.html\" rel=\"nofollow noreferrer\">the simple language</a> for more details.</p>\n"}],"owner":{"account_id":16125832,"reputation":498,"user_id":11640603,"display_name":"Amit Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74121226,"answer_count":1,"score":1,"last_activity_date":1666164080,"creation_date":1666115274,"question_id":74115317,"body_markdown":"I am working with `camel-mail-starter` version `3.12.0`\r\n\r\nI have configured the route this way:\r\n\r\n```\r\nString from = protocol + &quot;://&quot; + host + &quot;:&quot; + port + &quot;?username=&quot; \r\n    + username + &quot;&amp;password=&quot; + password + &quot;&amp;delete=&quot; + removeAfterConsuming \r\n    + &quot;&amp;mail.pop3.starttls.enable=true&amp;debugMode=true&quot;;\r\nRouteBuilder emailListener = new RouteBuilder () {\r\n    @Override\r\n    public void configure() throws Exception {\r\n        from (from)\r\n            .process (new EmailProcessor (body, client))\r\n            .log(&quot;${exchange.message}&quot;);\r\n    }\r\n};\r\n```\r\n\r\n**My Processor**\r\n\r\n```\r\npublic void process(Exchange exchange) throws Exception {\r\n    MailMessage message = exchange.getIn(MailMessage.class);\r\n    MimeMessageParser parser = new MimeMessageParser(\r\n        (IMAPMessage) message.getOriginalMessage()\r\n    );\r\n\r\n    try {\r\n        parser.parse();\r\n    } catch (Exception e) {\r\n        ApplicationException applicationException = new ApplicationException(\r\n            e.getStackTrace(), \r\n            Collections.singletonMap(&quot;process&quot;, &quot; Inside camel mail&quot;), \r\n            getClass(), &quot;33&quot;\r\n        );\r\n        applicationException.notifyViaEmail();\r\n    }\r\n}\r\n```\r\n\r\nWhen I run this, I get the following exception\r\n```\r\nCaused by: org.apache.camel.component.bean.AmbiguousMethodCallException: Ambiguous method invocations possible: [public abstract org.apache.camel.Message org.apache.camel.Exchange.getMessage(), public abstract java.lang.Object org.apache.camel.Exchange.getMessage(java.lang.Class)] on the exchange: Exchange[166D4FAD964C49D-0000000000000000]\r\n```\r\n\r\nI don&#39;t know what I am doing wrong\r\n","title":"AmbiguousMethodCallException Camel - Mail on Exchange.getMessage()","body":"<p>I am working with <code>camel-mail-starter</code> version <code>3.12.0</code></p>\n<p>I have configured the route this way:</p>\n<pre><code>String from = protocol + &quot;://&quot; + host + &quot;:&quot; + port + &quot;?username=&quot; \n    + username + &quot;&amp;password=&quot; + password + &quot;&amp;delete=&quot; + removeAfterConsuming \n    + &quot;&amp;mail.pop3.starttls.enable=true&amp;debugMode=true&quot;;\nRouteBuilder emailListener = new RouteBuilder () {\n    @Override\n    public void configure() throws Exception {\n        from (from)\n            .process (new EmailProcessor (body, client))\n            .log(&quot;${exchange.message}&quot;);\n    }\n};\n</code></pre>\n<p><strong>My Processor</strong></p>\n<pre><code>public void process(Exchange exchange) throws Exception {\n    MailMessage message = exchange.getIn(MailMessage.class);\n    MimeMessageParser parser = new MimeMessageParser(\n        (IMAPMessage) message.getOriginalMessage()\n    );\n\n    try {\n        parser.parse();\n    } catch (Exception e) {\n        ApplicationException applicationException = new ApplicationException(\n            e.getStackTrace(), \n            Collections.singletonMap(&quot;process&quot;, &quot; Inside camel mail&quot;), \n            getClass(), &quot;33&quot;\n        );\n        applicationException.notifyViaEmail();\n    }\n}\n</code></pre>\n<p>When I run this, I get the following exception</p>\n<pre><code>Caused by: org.apache.camel.component.bean.AmbiguousMethodCallException: Ambiguous method invocations possible: [public abstract org.apache.camel.Message org.apache.camel.Exchange.getMessage(), public abstract java.lang.Object org.apache.camel.Exchange.getMessage(java.lang.Class)] on the exchange: Exchange[166D4FAD964C49D-0000000000000000]\n</code></pre>\n<p>I don't know what I am doing wrong</p>\n"},{"tags":["java","networking","wmi","windows-server","dcom"],"owner":{"account_id":26660754,"reputation":11,"user_id":20273622,"display_name":"Tirumala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":735,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666163880,"creation_date":1666103832,"question_id":74112828,"body_markdown":"We have application which was using by Customer and customer like to update authentication from our application to AD from NTLM to Kerberos.  Based on this article, it may have to be done by early 2022.\r\n\r\nhttps://support.microsoft.com/en-us/topic/kb5004442-manage-changes-for-windows-dcom-server-security-feature-bypass-cve-2021-26414-f1400b52-c141-43d2-941e-37ed901c769c\r\n\r\nIn the document below, it is listing the different levels that are required, and Microsoft is stating that RPC_C_AUTHN_LEVEL_PKT_INTEGRITY or higher is required shortly.  Right now the error we are having on their DC&#39;s from Our application authentications is that the user in our AD scope under passive ID for monitoring is attempting to connect to our domain at too low of a security level.\r\n\r\nhttps://docs.microsoft.com/en-us/windows/win32/rpc/authentication-level-constants\r\n\r\nIn our application Admin Web UI we are geeing the issue:\r\nThe connection was tested on &#39;&lt;ise domain&gt;&#39; PassiveID active node.\r\nConnection to &#39;ws2022-a.lab2022.local&#39; failed.\r\nAccess is denied. Please check credentials, permissions and configure the Windows machine for WMI access.\r\n\r\nIn AD event viewer &gt; Administrative Events: 10036 Errors. which says that\r\n\r\n&quot;The server-side authentication level policy does not allow the user LAB2022\\dev-admin SID (S-1-5-21-4164125427-177154609-51000486-1108) from address &lt;ip&gt; to activate DCOM server. Please raise the activation authentication level at least to RPC_C_AUTHN_LEVEL_PKT_INTEGRITY in client application&quot;.\r\n\r\nCan anyone help me how we can fix the issue from application side since MS workaround was not working(disabling the registry key in DC)?\r\nwe found some possible solution from sourceforge forum site discussion (https://sourceforge.net/p/j-interop/discussion/600729/thread/731d99133f/) that need to fix the issue in third party library j-interop-ng and tried the solution to set the sign and seal flags in JIComserver.java before init() block but not worked as expected.\r\n\r\nWe are using j-interop-ng-3.0.jar in our application and need some quick solution to fix the issue further to work the WMI provider.","title":"WMI Providers Not Working after Windows DCOM Server Hardening for CVE-2021-26414","body":"<p>We have application which was using by Customer and customer like to update authentication from our application to AD from NTLM to Kerberos.  Based on this article, it may have to be done by early 2022.</p>\n<p><a href=\"https://support.microsoft.com/en-us/topic/kb5004442-manage-changes-for-windows-dcom-server-security-feature-bypass-cve-2021-26414-f1400b52-c141-43d2-941e-37ed901c769c\" rel=\"nofollow noreferrer\">https://support.microsoft.com/en-us/topic/kb5004442-manage-changes-for-windows-dcom-server-security-feature-bypass-cve-2021-26414-f1400b52-c141-43d2-941e-37ed901c769c</a></p>\n<p>In the document below, it is listing the different levels that are required, and Microsoft is stating that RPC_C_AUTHN_LEVEL_PKT_INTEGRITY or higher is required shortly.  Right now the error we are having on their DC's from Our application authentications is that the user in our AD scope under passive ID for monitoring is attempting to connect to our domain at too low of a security level.</p>\n<p><a href=\"https://docs.microsoft.com/en-us/windows/win32/rpc/authentication-level-constants\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/windows/win32/rpc/authentication-level-constants</a></p>\n<p>In our application Admin Web UI we are geeing the issue:\nThe connection was tested on '' PassiveID active node.\nConnection to 'ws2022-a.lab2022.local' failed.\nAccess is denied. Please check credentials, permissions and configure the Windows machine for WMI access.</p>\n<p>In AD event viewer &gt; Administrative Events: 10036 Errors. which says that</p>\n<p>&quot;The server-side authentication level policy does not allow the user LAB2022\\dev-admin SID (S-1-5-21-4164125427-177154609-51000486-1108) from address  to activate DCOM server. Please raise the activation authentication level at least to RPC_C_AUTHN_LEVEL_PKT_INTEGRITY in client application&quot;.</p>\n<p>Can anyone help me how we can fix the issue from application side since MS workaround was not working(disabling the registry key in DC)?\nwe found some possible solution from sourceforge forum site discussion (<a href=\"https://sourceforge.net/p/j-interop/discussion/600729/thread/731d99133f/\" rel=\"nofollow noreferrer\">https://sourceforge.net/p/j-interop/discussion/600729/thread/731d99133f/</a>) that need to fix the issue in third party library j-interop-ng and tried the solution to set the sign and seal flags in JIComserver.java before init() block but not worked as expected.</p>\n<p>We are using j-interop-ng-3.0.jar in our application and need some quick solution to fix the issue further to work the WMI provider.</p>\n"},{"tags":["java","spring-boot","postman"],"comments":[{"owner":{"account_id":4712900,"reputation":3227,"user_id":3812888,"accept_rate":73,"display_name":"The Head Rush"},"score":0,"creation_date":1549466581,"post_id":54556868,"comment_id":95913573,"body_markdown":"Using Spring Security?","body":"Using Spring Security?"},{"owner":{"account_id":37236,"reputation":2594,"user_id":106418,"accept_rate":81,"display_name":"Nicholas Hirras"},"score":0,"creation_date":1549466621,"post_id":54556868,"comment_id":95913598,"body_markdown":"If you have CORS protection you might need to include an Origin header in your postman request.","body":"If you have CORS protection you might need to include an Origin header in your postman request."},{"owner":{"account_id":8491796,"reputation":135,"user_id":6367865,"accept_rate":42,"display_name":"alonso05"},"score":0,"creation_date":1549466651,"post_id":54556868,"comment_id":95913617,"body_markdown":"@TheHeadRush i don&#39;t use spring security","body":"@TheHeadRush i don&#39;t use spring security"},{"owner":{"account_id":8491796,"reputation":135,"user_id":6367865,"accept_rate":42,"display_name":"alonso05"},"score":0,"creation_date":1549466669,"post_id":54556868,"comment_id":95913627,"body_markdown":"@NicholasHirras i dont&#39;t have cors","body":"@NicholasHirras i dont&#39;t have cors"},{"owner":{"account_id":23678540,"reputation":343,"user_id":17704418,"display_name":"salam_verdim_alana_panyatkasi"},"score":0,"creation_date":1665820237,"post_id":54556868,"comment_id":130791678,"body_markdown":"probably you use spring security in your app, otherwise never you get 403 forbidden error http status code in your app.","body":"probably you use spring security in your app, otherwise never you get 403 forbidden error http status code in your app."}],"answers":[{"tags":[],"owner":{"account_id":12248710,"reputation":990,"user_id":8939708,"display_name":"Farhan Qasim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549466934,"creation_date":1549466934,"answer_id":54557109,"question_id":54556868,"body_markdown":"    {&quot;timestamp&quot;:1549465915019,&quot;status&quot;:403,&quot;error&quot;:&quot;Forbidden&quot;,&quot;message&quot;:&quot;Access Denied&quot;,&quot;path&quot;:&quot;/e/api/user/create&quot;}\r\n\r\nYou are getting the error 403. The true definition of 403 is following:\r\n\r\n    The 403 Forbidden error is an HTTP status code which means that accessing the page or resource you were trying to reach is absolutely forbidden for some reason.\r\n\r\nYou might not have the permission to reach this method, hence the error. \r\n\r\n\r\nIf you are using spring security and it GET works correctly, it might be because of CSRF and you can disable it through doing the following in your configuration method. \r\n\r\n    http.csrf().disable();","title":"Why does post request cause forbidden error?","body":"<pre><code>{\"timestamp\":1549465915019,\"status\":403,\"error\":\"Forbidden\",\"message\":\"Access Denied\",\"path\":\"/e/api/user/create\"}\n</code></pre>\n\n<p>You are getting the error 403. The true definition of 403 is following:</p>\n\n<pre><code>The 403 Forbidden error is an HTTP status code which means that accessing the page or resource you were trying to reach is absolutely forbidden for some reason.\n</code></pre>\n\n<p>You might not have the permission to reach this method, hence the error. </p>\n\n<p>If you are using spring security and it GET works correctly, it might be because of CSRF and you can disable it through doing the following in your configuration method. </p>\n\n<pre><code>http.csrf().disable();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4124176,"reputation":1017,"user_id":3383771,"display_name":"blueDexter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568898324,"creation_date":1568898324,"answer_id":58011679,"question_id":54556868,"body_markdown":"If you are using spring security then try with the following security configuration.`http.authorizeRequests().antMatchers(&quot;//e/api/**&quot;).permitAll().and().cors().and().csrf().disable();`","title":"Why does post request cause forbidden error?","body":"<p>If you are using spring security then try with the following security configuration.<code>http.authorizeRequests().antMatchers(\"//e/api/**\").permitAll().and().cors().and().csrf().disable();</code></p>\n"},{"tags":[],"owner":{"account_id":26629773,"reputation":1,"user_id":20247137,"display_name":"elakkiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666163836,"creation_date":1665819999,"answer_id":74077631,"question_id":54556868,"body_markdown":"I got 403 forbidden error in postman. so i changed the statement in security configuration \r\nfrom\r\n\r\n     http.authorizeRequests().antMatchers( &quot;/employee*&quot;).hasRole(&quot;developer&quot;).anyRequest().permitAll();\r\n\r\n to  \r\n\r\n    .http.authorizeRequests().antMatchers(&quot;/*&quot;).permitAll().and().cors().and().csrf().disable();\r\n\r\ni tried this.. its working now. thank you","title":"Why does post request cause forbidden error?","body":"<p>I got 403 forbidden error in postman. so i changed the statement in security configuration\nfrom</p>\n<pre><code> http.authorizeRequests().antMatchers( &quot;/employee*&quot;).hasRole(&quot;developer&quot;).anyRequest().permitAll();\n</code></pre>\n<p>to</p>\n<pre><code>.http.authorizeRequests().antMatchers(&quot;/*&quot;).permitAll().and().cors().and().csrf().disable();\n</code></pre>\n<p>i tried this.. its working now. thank you</p>\n"}],"owner":{"account_id":8491796,"reputation":135,"user_id":6367865,"accept_rate":42,"display_name":"alonso05"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10042,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1666163836,"creation_date":1549466241,"question_id":54556868,"body_markdown":"Here is my code:\r\n\r\nController:\r\n\r\n    @PostMapping(&quot;/create&quot;)\r\n    \tpublic ResponseEntity&lt;?&gt; createUser(@RequestBody UserExternalResource newUser) {\r\n    \t\ttry {\r\n    \t\t\tLOGGER.info(&quot;Incoming request to create a user: {}&quot;, newUser);\r\n    \t\t\treturn userService.createUser(newUser);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tLOGGER.error(&quot;Error create user: &quot; + newUser + &quot;. Message: &quot; + e.getMessage(), e);\r\n    \t\t\treturn new ResponseEntity&lt;&gt;(new ResponseResource(&quot;Error creating user!&quot;), HttpStatus.INTERNAL_SERVER_ERROR);\r\n    \t\t}\r\n    \t}\r\n\r\nRequest body:\r\n\r\n    {\r\n        &quot;user&quot; : &quot;John&quot;,\r\n        &quot;username&quot; : &quot;john1&quot;\r\n    \r\n    }\r\n\r\n\r\nWhen i try to send this request with postman i get 403 Forbidden error.\r\n\r\nResponse from Postman console:\r\n\r\n    POST /e/api/user/create\r\n    Content-Type: text/plain\r\n    cache-control: no-cache\r\n    Postman-Token: b6590554-b54e-4935-b0c2-bc43857b3dc1\r\n    User-Agent: PostmanRuntime/7.6.0\r\n    Accept: */*\r\n    Host: localhost:8500\r\n    cookie: EXAMPLE SERVICE-SESSIONID=3TWT113hsJ0e1LVQEDlQqp69O6U8VZx-7sFSyH63\r\n    accept-encoding: gzip, deflate\r\n    content-length: 284\r\n    {\r\n     &quot;user&quot; : &quot;John&quot;,\r\n     &quot;username&quot; : &quot;john1&quot;\r\n     }\r\n    HTTP/1.1 403\r\n    status: 403\r\n    Expires: 0\r\n    Cache-Control: no-cache, no-store, max-age=0, must-revalidate\r\n    X-XSS-Protection: 1; mode=block\r\n    Pragma: no-cache\r\n    Date: Wed, 06 Feb 2019 15:11:55 GMT\r\n    Connection: keep-alive\r\n    X-Content-Type-Options: nosniff\r\n    Transfer-Encoding: chunked\r\n    Content-Type: application/json;charset=UTF-8\r\n    {&quot;timestamp&quot;:1549465915019,&quot;status&quot;:403,&quot;error&quot;:&quot;Forbidden&quot;,&quot;message&quot;:&quot;Access Denied&quot;,&quot;path&quot;:&quot;/e/api/user/create&quot;}\r\n\r\nDoes anyone know what could be problem?\r\n","title":"Why does post request cause forbidden error?","body":"<p>Here is my code:</p>\n\n<p>Controller:</p>\n\n<pre><code>@PostMapping(\"/create\")\n    public ResponseEntity&lt;?&gt; createUser(@RequestBody UserExternalResource newUser) {\n        try {\n            LOGGER.info(\"Incoming request to create a user: {}\", newUser);\n            return userService.createUser(newUser);\n        } catch (Exception e) {\n            LOGGER.error(\"Error create user: \" + newUser + \". Message: \" + e.getMessage(), e);\n            return new ResponseEntity&lt;&gt;(new ResponseResource(\"Error creating user!\"), HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n</code></pre>\n\n<p>Request body:</p>\n\n<pre><code>{\n    \"user\" : \"John\",\n    \"username\" : \"john1\"\n\n}\n</code></pre>\n\n<p>When i try to send this request with postman i get 403 Forbidden error.</p>\n\n<p>Response from Postman console:</p>\n\n<pre><code>POST /e/api/user/create\nContent-Type: text/plain\ncache-control: no-cache\nPostman-Token: b6590554-b54e-4935-b0c2-bc43857b3dc1\nUser-Agent: PostmanRuntime/7.6.0\nAccept: */*\nHost: localhost:8500\ncookie: EXAMPLE SERVICE-SESSIONID=3TWT113hsJ0e1LVQEDlQqp69O6U8VZx-7sFSyH63\naccept-encoding: gzip, deflate\ncontent-length: 284\n{\n \"user\" : \"John\",\n \"username\" : \"john1\"\n }\nHTTP/1.1 403\nstatus: 403\nExpires: 0\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nX-XSS-Protection: 1; mode=block\nPragma: no-cache\nDate: Wed, 06 Feb 2019 15:11:55 GMT\nConnection: keep-alive\nX-Content-Type-Options: nosniff\nTransfer-Encoding: chunked\nContent-Type: application/json;charset=UTF-8\n{\"timestamp\":1549465915019,\"status\":403,\"error\":\"Forbidden\",\"message\":\"Access Denied\",\"path\":\"/e/api/user/create\"}\n</code></pre>\n\n<p>Does anyone know what could be problem?</p>\n"},{"tags":["java","android","string","android-fragments","localization"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1509680133,"post_id":47087904,"comment_id":81125749,"body_markdown":"You really aren&#39;t meant to directly change the locale like that.  It mostly works, but the way the system is meant to work is for you to follow the system locale and never change it yourself.  If you want to change it yourself you&#39;re almost better off writing your own system of strings.","body":"You really aren&#39;t meant to directly change the locale like that.  It mostly works, but the way the system is meant to work is for you to follow the system locale and never change it yourself.  If you want to change it yourself you&#39;re almost better off writing your own system of strings."},{"owner":{"account_id":7351713,"reputation":153,"user_id":5597621,"accept_rate":43,"display_name":"A. N"},"score":0,"creation_date":1509681267,"post_id":47087904,"comment_id":81126002,"body_markdown":"Hello there! Sorry maybe I write wrong title. what I mean is that I have this &quot;change language&quot; setting on my app, I need to change language only on app. Can you explain more or give reference about how to write our &quot;own system of strings&quot;? Thanks!","body":"Hello there! Sorry maybe I write wrong title. what I mean is that I have this &quot;change language&quot; setting on my app, I need to change language only on app. Can you explain more or give reference about how to write our &quot;own system of strings&quot;? Thanks!"},{"owner":{"account_id":8989082,"reputation":64,"user_id":6701660,"display_name":"Aqsa Shahid"},"score":0,"creation_date":1607247014,"post_id":47087904,"comment_id":115207708,"body_markdown":"did you find any solution? I am having the same issue.","body":"did you find any solution? I am having the same issue."}],"answers":[{"tags":[],"owner":{"account_id":9542098,"reputation":91,"user_id":7092449,"display_name":"Kamil Kulig"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1509679528,"creation_date":1509679528,"answer_id":47088022,"question_id":47087904,"body_markdown":"Check this out. Maybe some string is not include.\r\nFrom documentation.\r\n\r\nhttps://developer.android.com/guide/topics/resources/localization.html#using-framework\r\n\r\n&gt; Suppose that your application&#39;s default language is English. Suppose\r\n&gt; also that you want to localize all the text in your application to\r\n&gt; French, and most of the text in your application (everything except\r\n&gt; the application&#39;s title) to Japanese. In this case, you could create\r\n&gt; three alternative strings.xml files, each stored in a locale-specific\r\n&gt; resource directory:\r\n&gt; \r\n&gt; res/values/strings.xml Contains English text for all the strings that\r\n&gt; the application uses, including text for a string named title.\r\n&gt; res/values-fr/strings.xml Contain French text for all the strings,\r\n&gt; including title. res/values-ja/strings.xml Contain Japanese text for\r\n&gt; all the strings except title. If your Java code refers to\r\n&gt; R.string.title, here is what will happen at runtime:\r\n&gt; \r\n&gt; If the device is set to any language other than French, Android will\r\n&gt; load title from the res/values/strings.xml file. If the device is set\r\n&gt; to French, Android will load title from the res/values-fr/strings.xml\r\n&gt; file. Notice that if the device is set to Japanese, Android will look\r\n&gt; for title in the res/values-ja/strings.xml file. But because no such\r\n&gt; string is included in that file, Android **will fall back to the\r\n&gt; default**, and will load title in English from the\r\n&gt; res/values/strings.xml file.\r\n\r\nI hope it will work.","title":"Android change language in app only: Some strings not translated properly","body":"<p>Check this out. Maybe some string is not include.\nFrom documentation.</p>\n\n<p><a href=\"https://developer.android.com/guide/topics/resources/localization.html#using-framework\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/resources/localization.html#using-framework</a></p>\n\n<blockquote>\n  <p>Suppose that your application's default language is English. Suppose\n  also that you want to localize all the text in your application to\n  French, and most of the text in your application (everything except\n  the application's title) to Japanese. In this case, you could create\n  three alternative strings.xml files, each stored in a locale-specific\n  resource directory:</p>\n  \n  <p>res/values/strings.xml Contains English text for all the strings that\n  the application uses, including text for a string named title.\n  res/values-fr/strings.xml Contain French text for all the strings,\n  including title. res/values-ja/strings.xml Contain Japanese text for\n  all the strings except title. If your Java code refers to\n  R.string.title, here is what will happen at runtime:</p>\n  \n  <p>If the device is set to any language other than French, Android will\n  load title from the res/values/strings.xml file. If the device is set\n  to French, Android will load title from the res/values-fr/strings.xml\n  file. Notice that if the device is set to Japanese, Android will look\n  for title in the res/values-ja/strings.xml file. But because no such\n  string is included in that file, Android <strong>will fall back to the\n  default</strong>, and will load title in English from the\n  res/values/strings.xml file.</p>\n</blockquote>\n\n<p>I hope it will work.</p>\n"},{"tags":[],"owner":{"account_id":13475857,"reputation":41,"user_id":9722864,"display_name":"Jasper Y."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532256938,"creation_date":1532256938,"answer_id":51464359,"question_id":47087904,"body_markdown":"I had the same issue as you. The language changes in Activities but doesn&#39;t change in Fragments. I tried it on more than one device, all had the same result. Later, I figured out a solution and it does work for me.\r\n\r\nSolution:\r\nInside the Android Studio, go to the &quot;Build&quot; tab, select &quot;Clean Project&quot;. Wait until it finished. (A loading bar is placed at the bottom right corner indicating the progress rate)\r\nNext, go to the &quot;Build&quot; tab again, select &quot;Rebuild Project&quot;. When it finished rebuilding, the problem should be solved.\r\n\r\nHope this help.","title":"Android change language in app only: Some strings not translated properly","body":"<p>I had the same issue as you. The language changes in Activities but doesn't change in Fragments. I tried it on more than one device, all had the same result. Later, I figured out a solution and it does work for me.</p>\n\n<p>Solution:\nInside the Android Studio, go to the \"Build\" tab, select \"Clean Project\". Wait until it finished. (A loading bar is placed at the bottom right corner indicating the progress rate)\nNext, go to the \"Build\" tab again, select \"Rebuild Project\". When it finished rebuilding, the problem should be solved.</p>\n\n<p>Hope this help.</p>\n"},{"tags":[],"owner":{"account_id":7320847,"reputation":41,"user_id":5576951,"display_name":"Ahtsham Asghar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666163294,"creation_date":1638980369,"answer_id":70278296,"question_id":47087904,"body_markdown":"This happened to me as well, what I did is I set text from Java/Kotlin instead of XML.\r\nI did this for headings as well though in my case headings are not changing.","title":"Android change language in app only: Some strings not translated properly","body":"<p>This happened to me as well, what I did is I set text from Java/Kotlin instead of XML.\nI did this for headings as well though in my case headings are not changing.</p>\n"}],"owner":{"account_id":7351713,"reputation":153,"user_id":5597621,"accept_rate":43,"display_name":"A. N"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7223,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1666163294,"creation_date":1509678619,"question_id":47087904,"body_markdown":"**(I&#39;ve added an update on the bottom of the post)**\r\n\r\nI am currently working on a project that will support multiple language. I have written all strings for all languages.\r\n\r\nI use BaseActivity, Application class, and LocaleHelper to manage the localization on my app. \r\nAnd then I found this behavior on my app. After I setLocale to another language, Strings in some activities are changed and correct, but NOT in MainActivity even though they have some same strings. I tried to restart app and it&#39;s still not working. \r\n\r\nI also have another activity which some of the words in activity got translated but all words inside a fragment and a recyclerview didn&#39;t get translated at all.\r\n\r\nI still couldn&#39;t find why it&#39;s not translated properly. Can someone help me??\r\n\r\nHere&#39;s some snippet:\r\n\r\n**Application class**\r\n\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        LocaleUtil.setLocale(new Locale(LocaleUtil.with(this).getPreference()));\r\n        LocaleUtil.updateConfig(this,getBaseContext().getResources().getConfiguration());\r\n    }\r\n\r\n    @Override\r\n    public void onConfigurationChanged(Configuration newConfig) {\r\n        super.onConfigurationChanged(newConfig);\r\n        LocaleUtil.setLocale(new Locale(LocaleUtil.with(this).getPreference()));\r\n        LocaleUtil.updateConfig(this, newConfig);\r\n    }\r\n\r\n\r\n**BaseActivity**\r\n\r\n    public BaseActivity() {\r\n        LocaleUtil.updateConfig(this);\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        initLocale();\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    public void initLocale(){\r\n        localeUtil = new LocaleUtil(this);\r\n        localeUtil.setListener(this);\r\n        localeUtil.setLanguageByCode(localeUtil.getPreference());\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4ulj2.png\r\n\r\nPlease help me! THanks!!\r\n\r\n(**UPDATE**)\r\n\r\nI found out that I have to setLocale again whenever I want to access **Strings.xml** for any views in a recyclerview and a fragment. This is totally inconvenient and I&#39;m worried about the performance. I would love to hear a better advice to change language.\r\n","title":"Android change language in app only: Some strings not translated properly","body":"<p><strong>(I've added an update on the bottom of the post)</strong></p>\n\n<p>I am currently working on a project that will support multiple language. I have written all strings for all languages.</p>\n\n<p>I use BaseActivity, Application class, and LocaleHelper to manage the localization on my app. \nAnd then I found this behavior on my app. After I setLocale to another language, Strings in some activities are changed and correct, but NOT in MainActivity even though they have some same strings. I tried to restart app and it's still not working. </p>\n\n<p>I also have another activity which some of the words in activity got translated but all words inside a fragment and a recyclerview didn't get translated at all.</p>\n\n<p>I still couldn't find why it's not translated properly. Can someone help me??</p>\n\n<p>Here's some snippet:</p>\n\n<p><strong>Application class</strong></p>\n\n<pre><code>@Override\npublic void onCreate() {\n    super.onCreate();\n    LocaleUtil.setLocale(new Locale(LocaleUtil.with(this).getPreference()));\n    LocaleUtil.updateConfig(this,getBaseContext().getResources().getConfiguration());\n}\n\n@Override\npublic void onConfigurationChanged(Configuration newConfig) {\n    super.onConfigurationChanged(newConfig);\n    LocaleUtil.setLocale(new Locale(LocaleUtil.with(this).getPreference()));\n    LocaleUtil.updateConfig(this, newConfig);\n}\n</code></pre>\n\n<p><strong>BaseActivity</strong></p>\n\n<pre><code>public BaseActivity() {\n    LocaleUtil.updateConfig(this);\n}\n\n@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    initLocale();\n    super.onCreate(savedInstanceState);\n}\n\npublic void initLocale(){\n    localeUtil = new LocaleUtil(this);\n    localeUtil.setListener(this);\n    localeUtil.setLanguageByCode(localeUtil.getPreference());\n}\n</code></pre>\n\n<p>Please help me! THanks!!</p>\n\n<p>(<strong>UPDATE</strong>)</p>\n\n<p>I found out that I have to setLocale again whenever I want to access <strong>Strings.xml</strong> for any views in a recyclerview and a fragment. This is totally inconvenient and I'm worried about the performance. I would love to hear a better advice to change language.</p>\n"},{"tags":["java","junit","operators"],"comments":[{"owner":{"account_id":7990857,"reputation":113,"user_id":6028761,"display_name":"Nautilus "},"score":1,"creation_date":1666159910,"post_id":74120587,"comment_id":130866518,"body_markdown":"What&#39;s the error code?\nPlease, make sure your naming conventions are right.","body":"What&#39;s the error code? Please, make sure your naming conventions are right."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1666159910,"post_id":74120587,"comment_id":130866519,"body_markdown":"Either change Salary &lt; 20000, or Salary &gt; 20000 in other if","body":"Either change Salary &lt; 20000, or Salary &gt; 20000 in other if"},{"owner":{"account_id":24482009,"reputation":1906,"user_id":18400272,"display_name":"Logan"},"score":0,"creation_date":1666159919,"post_id":74120587,"comment_id":130866525,"body_markdown":"it should only be either 10000-19999 or 20001 - 40000","body":"it should only be either 10000-19999 or 20001 - 40000"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1666159920,"post_id":74120587,"comment_id":130866526,"body_markdown":"First of all: Take care of java naming conventions. Class names should start with upper case character, variable names with lower case character","body":"First of all: Take care of java naming conventions. Class names should start with upper case character, variable names with lower case character"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1666159979,"post_id":74120587,"comment_id":130866538,"body_markdown":"Please share the code of the test.","body":"Please share the code of the test."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":5,"creation_date":1666160054,"post_id":74120587,"comment_id":130866559,"body_markdown":"And also share the specification. Should the return value C or B if the salary is exactly 20000","body":"And also share the specification. Should the return value C or B if the salary is exactly 20000"},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1666160111,"post_id":74120587,"comment_id":130866574,"body_markdown":"you need to define what the expected output is if the salary is 20000, then write the code according to that","body":"you need to define what the expected output is if the salary is 20000, then write the code according to that"}],"answers":[{"tags":[],"owner":{"account_id":12799909,"reputation":16,"user_id":9261565,"display_name":"Mohammad Zeryab Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666163234,"creation_date":1666163234,"answer_id":74121183,"question_id":74120587,"body_markdown":"FOR 20000 below code will always return C. because if first condition is True in IF-ELSE then all other if-else will not be used(try using breakpoint you will understand). Also you need to find out what is your boundary value. like if 20000 mean B, then you should use &lt;20000 for C. \r\n","title":"How to do Salary &gt;= 10000 &amp;&amp; Salary &lt;= 20000","body":"<p>FOR 20000 below code will always return C. because if first condition is True in IF-ELSE then all other if-else will not be used(try using breakpoint you will understand). Also you need to find out what is your boundary value. like if 20000 mean B, then you should use &lt;20000 for C.</p>\n"}],"owner":{"account_id":26667510,"reputation":1,"user_id":20279380,"display_name":"potatocode0"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1666163234,"creation_date":1666159736,"question_id":74120587,"body_markdown":"So heres my code: \r\n\r\n    public class employee {\r\n    \r\n        //attributes\r\n        String Name = &quot;name&quot;;\r\n        String Position = &quot;position&quot;;\r\n    \r\n    \r\n        //behavior\r\n        public static char getSalary(int Salary) {\r\n            if (Salary &gt;= 10000 &amp;&amp; Salary &lt;= 20000) {\r\n                return &#39;C&#39;;\r\n            } else if (Salary &gt;= 20000 &amp;&amp; Salary &lt;= 40000) {\r\n                return &#39;B&#39;;\r\n            } else {\r\n                return &#39;A&#39;;\r\n            }\r\n        }\r\n    }\r\n\r\nwhen I run a test it gets error because if (Salary &gt;= 10000 &amp;&amp; Salary &lt;= 20000) and\r\n       (Salary &gt;= 20000 &amp;&amp; Salary &lt;= 40000) both have 20000, what should I do?\r\n            \r\n","title":"How to do Salary &gt;= 10000 &amp;&amp; Salary &lt;= 20000","body":"<p>So heres my code:</p>\n<pre><code>public class employee {\n\n    //attributes\n    String Name = &quot;name&quot;;\n    String Position = &quot;position&quot;;\n\n\n    //behavior\n    public static char getSalary(int Salary) {\n        if (Salary &gt;= 10000 &amp;&amp; Salary &lt;= 20000) {\n            return 'C';\n        } else if (Salary &gt;= 20000 &amp;&amp; Salary &lt;= 40000) {\n            return 'B';\n        } else {\n            return 'A';\n        }\n    }\n}\n</code></pre>\n<p>when I run a test it gets error because if (Salary &gt;= 10000 &amp;&amp; Salary &lt;= 20000) and\n(Salary &gt;= 20000 &amp;&amp; Salary &lt;= 40000) both have 20000, what should I do?</p>\n"},{"tags":["java","testing","integration-testing"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1666007185,"post_id":74096725,"comment_id":130825447,"body_markdown":"Don&#39;t call one test from another. Each of your tests uses a different instance of `ParkingService`.","body":"Don&#39;t call one test from another. Each of your tests uses a different instance of <code>ParkingService</code>."},{"owner":{"account_id":26429682,"reputation":1,"user_id":20076062,"display_name":"Moutaz Abdelhadey"},"score":0,"creation_date":1666007372,"post_id":74096725,"comment_id":130825533,"body_markdown":"Thanks for helping. Actually I had to keep the lines before //TODO, but maybe I need to remove it, I will try like that :)","body":"Thanks for helping. Actually I had to keep the lines before //TODO, but maybe I need to remove it, I will try like that :)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666007679,"post_id":74096725,"comment_id":130825652,"body_markdown":"As you&#39;re using the same DAO objects, perhaps it will work, but it is bad practice generally.","body":"As you&#39;re using the same DAO objects, perhaps it will work, but it is bad practice generally."}],"answers":[{"tags":[],"owner":{"account_id":26599247,"reputation":21,"user_id":20221114,"display_name":"AstralJaeger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666007705,"creation_date":1666007705,"answer_id":74096886,"question_id":74096725,"body_markdown":"You are seeing multiple issues here.\r\n(I&#39;ll assume you use JUnit as the syntax looks somewhat familiar)\r\n\r\n - Firstly the execution order of Junit tests is not [predicatable but deterministic][1]. This means you don&#39;t know if a car leaves and enters or enters and leaves, you have no control over the order.\r\n - Secondly, you have 2 instances of ``ParkingService`` one in ``testParkingACar`` and one in ``testParkingLotExit`` see ``new ParkingService(...);``.\r\n - Thirdly, as user [tgdavies][2] meantioned in the comment you make a call from one unit test to another, this should be avoided.\r\n\r\nI would recomment you use one unit test instead of 2 to test the basic functionality, this scenario is a little challanging since you need to wait for a specified amount of time but this time is not exact and you shouldn&#39;t count on that for repeatability. \r\n\r\n\r\n  [1]: https://www.baeldung.com/junit-5-test-order\r\n  [2]: https://stackoverflow.com/users/11002/tgdavies","title":"IT on a parking exercise","body":"<p>You are seeing multiple issues here.\n(I'll assume you use JUnit as the syntax looks somewhat familiar)</p>\n<ul>\n<li>Firstly the execution order of Junit tests is not <a href=\"https://www.baeldung.com/junit-5-test-order\" rel=\"nofollow noreferrer\">predicatable but deterministic</a>. This means you don't know if a car leaves and enters or enters and leaves, you have no control over the order.</li>\n<li>Secondly, you have 2 instances of <code>ParkingService</code> one in <code>testParkingACar</code> and one in <code>testParkingLotExit</code> see <code>new ParkingService(...);</code>.</li>\n<li>Thirdly, as user <a href=\"https://stackoverflow.com/users/11002/tgdavies\">tgdavies</a> meantioned in the comment you make a call from one unit test to another, this should be avoided.</li>\n</ul>\n<p>I would recomment you use one unit test instead of 2 to test the basic functionality, this scenario is a little challanging since you need to wait for a specified amount of time but this time is not exact and you shouldn't count on that for repeatability.</p>\n"},{"tags":[],"owner":{"account_id":26429682,"reputation":1,"user_id":20076062,"display_name":"Moutaz Abdelhadey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666163232,"creation_date":1666163156,"answer_id":74121165,"question_id":74096725,"body_markdown":"I tried to inject a custom clock but my in-time recorded was equals to my out-time recorded , don&#39;t understand why.\r\n\r\nFinally, I used this code: I have to wait 5 seconds for my test but it works correctly. And for the price to be up to date in the database, I just have to change the price calculation method and put it in seconds. This is the best solution I found, hopefully it&#39;s enough to pass my exam ;)\r\n\r\n\r\n        @Test\r\n        public void testParkingLotExit(){\r\n    \ttestParkingACar();\r\n        ParkingService parkingService = new ParkingService(inputReaderUtil, parkingSpotDAO, ticketDAO);\r\n        try {\r\n\t\t\tThread.sleep(5000);\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n        parkingService.processExitingVehicle();\r\n        //TODO: check that the fare generated and out time are populated correctly in the database\r\n\r\n        Ticket ticket = ticketDAO.getTicket(&quot;ABCDEF&quot;);\r\n        \r\n        Assert.assertNotNull(ticket.getPrice());\r\n        Assert.assertNotNull(ticket.getOutTime());\r\n        }\r\n\r\nThanks again for your precious help!","title":"IT on a parking exercise","body":"<p>I tried to inject a custom clock but my in-time recorded was equals to my out-time recorded , don't understand why.</p>\n<p>Finally, I used this code: I have to wait 5 seconds for my test but it works correctly. And for the price to be up to date in the database, I just have to change the price calculation method and put it in seconds. This is the best solution I found, hopefully it's enough to pass my exam ;)</p>\n<pre><code>    @Test\n    public void testParkingLotExit(){\n    testParkingACar();\n    ParkingService parkingService = new ParkingService(inputReaderUtil, parkingSpotDAO, ticketDAO);\n    try {\n        Thread.sleep(5000);\n    } catch (InterruptedException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    parkingService.processExitingVehicle();\n    //TODO: check that the fare generated and out time are populated correctly in the database\n\n    Ticket ticket = ticketDAO.getTicket(&quot;ABCDEF&quot;);\n    \n    Assert.assertNotNull(ticket.getPrice());\n    Assert.assertNotNull(ticket.getOutTime());\n    }\n</code></pre>\n<p>Thanks again for your precious help!</p>\n"}],"owner":{"account_id":26429682,"reputation":1,"user_id":20076062,"display_name":"Moutaz Abdelhadey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1666163232,"creation_date":1666006962,"question_id":74096725,"body_markdown":"I have to make an IT on the entry in a parking lot (a ticket must be recorded in my DB and the places updated) and an IT on the exit of this same parking lot with the same vehicle (the place must be updated in the DB with the exit time + the price).\r\n\r\nAt this stage, I succeeded to do my first IT, but the on second one I have 2 problems:\r\n- The price remains at 0;\r\n- The vehicle goes out and comes in again directly, so the DB is not updated correctly.\r\n\r\nHere is the code :\r\n\r\n    @Test\r\n    public void testParkingACar(){\r\n        ParkingService parkingService = new ParkingService(inputReaderUtil, parkingSpotDAO, ticketDAO);\r\n        parkingService.processIncomingVehicle();\r\n        //TODO: check that a ticket is actually saved in DB and Parking table is updated with availability\t\r\n        Date inTime = new Date(System.currentTimeMillis() - (  45 * 60 * 1000));\r\n\r\n        Ticket ticket = ticketDAO.getTicket(&quot;ABCDEF&quot;);\r\n        ticket.setInTime(inTime);\r\n\r\n        Assert.assertNotNull(ticket.getInTime());\r\n\t}\r\n\r\n    @Test\r\n    public void testParkingLotExit(){\r\n\t\ttestParkingACar();\r\n\t\tParkingService parkingService = new ParkingService(inputReaderUtil, parkingSpotDAO, ticketDAO);\r\n\t\tparkingService.processExitingVehicle();\r\n\t\t// TODO: check that the fare generated and out time are populated correctly in\r\n\t\t// the database\r\n\t\tTicket ticket = ticketDAO.getTicket(&quot;ABCDEF&quot;);\r\n\r\n\r\n\t\tAssert.assertNotNull(ticket.getPrice());\r\n\t\tAssert.assertNotNull(ticket.getOutTime());\r\n\t\tassertEquals(0.75*Fare.CAR_RATE_PER_HOUR, ticket.getPrice());\r\n    }\r\n\r\nI hope I&#39;ve been clear, if you have any questions about certain methods/variables don&#39;t hesitate.\r\n","title":"IT on a parking exercise","body":"<p>I have to make an IT on the entry in a parking lot (a ticket must be recorded in my DB and the places updated) and an IT on the exit of this same parking lot with the same vehicle (the place must be updated in the DB with the exit time + the price).</p>\n<p>At this stage, I succeeded to do my first IT, but the on second one I have 2 problems:</p>\n<ul>\n<li>The price remains at 0;</li>\n<li>The vehicle goes out and comes in again directly, so the DB is not updated correctly.</li>\n</ul>\n<p>Here is the code :</p>\n<pre><code>@Test\npublic void testParkingACar(){\n    ParkingService parkingService = new ParkingService(inputReaderUtil, parkingSpotDAO, ticketDAO);\n    parkingService.processIncomingVehicle();\n    //TODO: check that a ticket is actually saved in DB and Parking table is updated with availability  \n    Date inTime = new Date(System.currentTimeMillis() - (  45 * 60 * 1000));\n\n    Ticket ticket = ticketDAO.getTicket(&quot;ABCDEF&quot;);\n    ticket.setInTime(inTime);\n\n    Assert.assertNotNull(ticket.getInTime());\n}\n\n@Test\npublic void testParkingLotExit(){\n    testParkingACar();\n    ParkingService parkingService = new ParkingService(inputReaderUtil, parkingSpotDAO, ticketDAO);\n    parkingService.processExitingVehicle();\n    // TODO: check that the fare generated and out time are populated correctly in\n    // the database\n    Ticket ticket = ticketDAO.getTicket(&quot;ABCDEF&quot;);\n\n\n    Assert.assertNotNull(ticket.getPrice());\n    Assert.assertNotNull(ticket.getOutTime());\n    assertEquals(0.75*Fare.CAR_RATE_PER_HOUR, ticket.getPrice());\n}\n</code></pre>\n<p>I hope I've been clear, if you have any questions about certain methods/variables don't hesitate.</p>\n"},{"tags":["java","jms","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":2441548,"reputation":2592,"user_id":2129937,"accept_rate":60,"display_name":"matt helliwell"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1381764350,"creation_date":1381764350,"answer_id":19363686,"question_id":18633917,"body_markdown":"In terms of the reconnecting to your queue, it depends on what JMS broker you are using. If you are using ActiveMQ then you can configure how it reconnects through the URI so it can try and reconnect to another broker, reconnect to the same broker after a timeout etc. The docs for it are [here][1]. \r\n\r\nTo detect when the connection has failed, the easiest from the point of the view of the program is to just use persistent queues instead of topics. However, assuming that isn&#39;t feasible then I think you&#39;ve got two options.\r\n\r\n1. Define a [JMS exception listener][2]. This should let you know when the underlying connection has disappeared. \r\n\r\nTo detect when its back up again I think you&#39;re stuck with posting a message to a particular topic and watching for messages from this topic in another route. When you read a message on this topic, you know the broker has come back up so you can reload your data from the DB.\r\n\r\nor 2. You could post regular hearbeat messages onto your JMS topic. If you stop receiving them you know the broker has gone down. Once you start to get them again, you know it is back up and you need to reload data from the DB.\r\n\r\n  [1]: http://activemq.apache.org/failover-transport-reference.html\r\n  [2]: http://camel.apache.org/jms.html","title":"How to detect broken/recovered JMS connection in Apache Camel?","body":"<p>In terms of the reconnecting to your queue, it depends on what JMS broker you are using. If you are using ActiveMQ then you can configure how it reconnects through the URI so it can try and reconnect to another broker, reconnect to the same broker after a timeout etc. The docs for it are <a href=\"http://activemq.apache.org/failover-transport-reference.html\" rel=\"nofollow\">here</a>. </p>\n\n<p>To detect when the connection has failed, the easiest from the point of the view of the program is to just use persistent queues instead of topics. However, assuming that isn't feasible then I think you've got two options.</p>\n\n<ol>\n<li>Define a <a href=\"http://camel.apache.org/jms.html\" rel=\"nofollow\">JMS exception listener</a>. This should let you know when the underlying connection has disappeared. </li>\n</ol>\n\n<p>To detect when its back up again I think you're stuck with posting a message to a particular topic and watching for messages from this topic in another route. When you read a message on this topic, you know the broker has come back up so you can reload your data from the DB.</p>\n\n<p>or 2. You could post regular hearbeat messages onto your JMS topic. If you stop receiving them you know the broker has gone down. Once you start to get them again, you know it is back up and you need to reload data from the DB.</p>\n"},{"tags":[],"owner":{"account_id":24072178,"reputation":31,"user_id":18047991,"display_name":"izaac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666163036,"creation_date":1666110994,"answer_id":74114490,"question_id":18633917,"body_markdown":"Sorry to answer some years later ! I was looking for a solution for this problem since a few days, in order to supervising an AMQP connection in an Apache Camel application. \r\n\r\nI finally find a way, I do not know if in the last Camel versions (i am using 2.25.4), it is possible do listen more &quot;natively&quot; the JMS connection changes :\r\n\r\n- The JMS consumer route must use the option &quot;messageListenerContainerFactory&quot; in the URL : `&quot;messageListenerContainerFactory=#customJmsListernerContainerFactory&quot;`\r\n\r\nThe factory would be instancied before of course and added to a registry associated to the camel context :\r\n\r\n    MessageListenerContainerFactory customJmsListenerContainerFactory = new CustomJmsListenerContainerFactory();\r\n            this.registry.put(&quot;customJmsListernerContainerFactory&quot;, customJmsListenerContainerFactory);\r\n\r\n\r\n- not working on producer, for this kind, you must add an exception clause : \r\nonException(javax.jms.JMSException.class)...\r\n\r\n- create the class CustomJmsListenerContainerFactory used above, implementing MessageListenerContainerFactory :\r\n\r\n        public class CustomJmsListenerContainerFactory implements MessageListenerContainerFactory {\r\n        \r\n       \r\n        @Override\r\n        public AbstractMessageListenerContainer createMessageListenerContainer(JmsEndpoint endpoint) {\r\n           \r\n            CustomJmsListenerContainer customJmsListener = new CustomJmsListenerContainer();\r\n                    \r\n            return customJmsListener;\r\n        }\r\n\r\n\r\n- create a class CustomJmsListenerContainer extending DefaultMessageListenerContainer AND implementing JmsConnectionListener. The trick is to ovveride createConnection, in order to temporary get the created connection in order to manually add a listener (the container itself):\r\n\r\n        public class CustomJmsListenerContainer extends DefaultMessageListenerContainer implements JmsConnectionListener {\r\n        \r\n        protected Connection createConnection() throws JMSException {\r\n            JmsConnection myConnection = (JmsConnection)super.createConnection();\r\n            this.myConnection.addConnectionListener(this);\r\n            return myConnection;\r\n        }\r\n    \r\n        @Override\r\n        public void onConnectionEstablished(URI remoteURI) {\r\n            LOGGER.info(&quot;JMS connection detected&quot;);\r\n            \r\n          \r\n        @Override\r\n        public void onConnectionFailure(Throwable error) {\r\n            LOGGER.info(&quot;JMS connection failure&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onConnectionInterrupted(URI remoteURI) {\r\n            LOGGER.info(&quot;JMS connection interrupted&quot;);\r\n    \r\n        @Override\r\n        public void onConnectionRestored(URI remoteURI) {\r\n            LOGGER.info(&quot;JMS connection restored&quot;);\r\n    \r\n        @Override\r\n        public void onInboundMessage(JmsInboundMessageDispatch envelope) {\r\n            // TODO Auto-generated method stub\r\n            \r\n        }\r\n    \r\n        @Override\r\n        public void onSessionClosed(Session session, Throwable cause) {\r\n            // TODO Auto-generated method stub\r\n            \r\n        }\r\n    \r\n        @Override\r\n        public void onConsumerClosed(MessageConsumer consumer, Throwable cause) {\r\n            // TODO Auto-generated method stub\r\n            \r\n        }\r\n    \r\n        @Override\r\n        public void onProducerClosed(MessageProducer producer, Throwable cause) {\r\n            // TODO Auto-generated method stub\r\n            \r\n        } \r\n    }\r\n\r\n","title":"How to detect broken/recovered JMS connection in Apache Camel?","body":"<p>Sorry to answer some years later ! I was looking for a solution for this problem since a few days, in order to supervising an AMQP connection in an Apache Camel application.</p>\n<p>I finally find a way, I do not know if in the last Camel versions (i am using 2.25.4), it is possible do listen more &quot;natively&quot; the JMS connection changes :</p>\n<ul>\n<li>The JMS consumer route must use the option &quot;messageListenerContainerFactory&quot; in the URL : <code>&quot;messageListenerContainerFactory=#customJmsListernerContainerFactory&quot;</code></li>\n</ul>\n<p>The factory would be instancied before of course and added to a registry associated to the camel context :</p>\n<pre><code>MessageListenerContainerFactory customJmsListenerContainerFactory = new CustomJmsListenerContainerFactory();\n        this.registry.put(&quot;customJmsListernerContainerFactory&quot;, customJmsListenerContainerFactory);\n</code></pre>\n<ul>\n<li><p>not working on producer, for this kind, you must add an exception clause :\nonException(javax.jms.JMSException.class)...</p>\n</li>\n<li><p>create the class CustomJmsListenerContainerFactory used above, implementing MessageListenerContainerFactory :</p>\n<pre><code>  public class CustomJmsListenerContainerFactory implements MessageListenerContainerFactory {\n\n\n  @Override\n  public AbstractMessageListenerContainer createMessageListenerContainer(JmsEndpoint endpoint) {\n\n      CustomJmsListenerContainer customJmsListener = new CustomJmsListenerContainer();\n\n      return customJmsListener;\n  }\n</code></pre>\n</li>\n<li><p>create a class CustomJmsListenerContainer extending DefaultMessageListenerContainer AND implementing JmsConnectionListener. The trick is to ovveride createConnection, in order to temporary get the created connection in order to manually add a listener (the container itself):</p>\n<pre><code>  public class CustomJmsListenerContainer extends DefaultMessageListenerContainer implements JmsConnectionListener {\n\n  protected Connection createConnection() throws JMSException {\n      JmsConnection myConnection = (JmsConnection)super.createConnection();\n      this.myConnection.addConnectionListener(this);\n      return myConnection;\n  }\n\n  @Override\n  public void onConnectionEstablished(URI remoteURI) {\n      LOGGER.info(&quot;JMS connection detected&quot;);\n\n\n  @Override\n  public void onConnectionFailure(Throwable error) {\n      LOGGER.info(&quot;JMS connection failure&quot;);\n  }\n\n  @Override\n  public void onConnectionInterrupted(URI remoteURI) {\n      LOGGER.info(&quot;JMS connection interrupted&quot;);\n\n  @Override\n  public void onConnectionRestored(URI remoteURI) {\n      LOGGER.info(&quot;JMS connection restored&quot;);\n\n  @Override\n  public void onInboundMessage(JmsInboundMessageDispatch envelope) {\n      // TODO Auto-generated method stub\n\n  }\n\n  @Override\n  public void onSessionClosed(Session session, Throwable cause) {\n      // TODO Auto-generated method stub\n\n  }\n\n  @Override\n  public void onConsumerClosed(MessageConsumer consumer, Throwable cause) {\n      // TODO Auto-generated method stub\n\n  }\n\n  @Override\n  public void onProducerClosed(MessageProducer producer, Throwable cause) {\n      // TODO Auto-generated method stub\n\n  } \n</code></pre>\n<p>}</p>\n</li>\n</ul>\n"}],"owner":{"account_id":1780071,"reputation":3303,"user_id":1623046,"accept_rate":64,"display_name":"Matt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4856,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":2,"score":12,"last_activity_date":1666163036,"creation_date":1378377034,"question_id":18633917,"body_markdown":"We are building an integration project using Apache Camel (Camel 2.10.3, Java DSL based). \r\n\r\nWe have a route that extracts data from a database (lets call it IN_DB), does some logic and inserts into another database (OUT_DB) once a day, and another route that subscribes to a JMS topic for XML data, does some logic and inserts it into the same database (OUT_DB) throughout the day.\r\n\r\nThe requirement is that when the JMS topic connection goes down for whatever reason, we keep trying to reconnect indefinitely, and once reconnection is successful we need to go back to the database (IN_DB) and do another load to fill in the gap where the topic was down.\r\n\r\nMy question is how can we do this logic (&#39;I was connected then I got disconnected and now I am connected again&#39;) in Camel? What happens to the route that starts with a topic consumer when the topic goes down, will the route just stop? Or will it issue an error message to some error queue? Do I have to write my own handler to monitor the topic connection, or will Camel automatically reconnect when the topic comes back up and set some message header, or set some context variable to indicate that the &#39;I was connected then I got disconnected and now I am connected again&#39; scenario has happened? I am happy building the route logic around calling the database load I just can&#39;t figure out the best way to &#39;detect&#39; in Camel that this scenario has happened.\r\n\r\nAny suggestions much appreciated.","title":"How to detect broken/recovered JMS connection in Apache Camel?","body":"<p>We are building an integration project using Apache Camel (Camel 2.10.3, Java DSL based). </p>\n\n<p>We have a route that extracts data from a database (lets call it IN_DB), does some logic and inserts into another database (OUT_DB) once a day, and another route that subscribes to a JMS topic for XML data, does some logic and inserts it into the same database (OUT_DB) throughout the day.</p>\n\n<p>The requirement is that when the JMS topic connection goes down for whatever reason, we keep trying to reconnect indefinitely, and once reconnection is successful we need to go back to the database (IN_DB) and do another load to fill in the gap where the topic was down.</p>\n\n<p>My question is how can we do this logic ('I was connected then I got disconnected and now I am connected again') in Camel? What happens to the route that starts with a topic consumer when the topic goes down, will the route just stop? Or will it issue an error message to some error queue? Do I have to write my own handler to monitor the topic connection, or will Camel automatically reconnect when the topic comes back up and set some message header, or set some context variable to indicate that the 'I was connected then I got disconnected and now I am connected again' scenario has happened? I am happy building the route logic around calling the database load I just can't figure out the best way to 'detect' in Camel that this scenario has happened.</p>\n\n<p>Any suggestions much appreciated.</p>\n"},{"tags":["java","mysql","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640489773,"creation_date":1640489773,"answer_id":70484059,"question_id":70481536,"body_markdown":"I would do like this:\r\n    \r\n    @Entity\r\n    @Table(name = &quot;menu_tbl&quot;)\r\n    public class Menu {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;menu_description&quot;)\r\n        private String menuName;\r\n    \r\n        @Column(name = &quot;menu_link&quot;, nullable = false)\r\n        private String link;\r\n    \r\n        @Column(name = &quot;menu_css&quot;)\r\n        private String css;\r\n    \r\n        @Column(name = &quot;menu_ico&quot;)\r\n        private String icon;\r\n    \r\n        @Column(name = &quot;active&quot;)\r\n        private Boolean active;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;main_id&quot;,\r\n                nullable = true)\r\n        private Menu mainMenu;\r\n    \r\n        @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;mainMenu&quot;, cascade = CascadeType.REMOVE)\r\n        private Set&lt;Menu&gt; children = new HashSet&lt;&gt;();\r\n    }\r\n\r\n\r\nAnd \r\n\r\n    List&lt;Menu&gt; findAllByMainMenuIdAndActiveIsTrue(Long mainMenuid);\r\n\r\n","title":"How to create dynamic menu from MySQL database with Spring Boot","body":"<p>I would do like this:</p>\n<pre><code>@Entity\n@Table(name = &quot;menu_tbl&quot;)\npublic class Menu {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;menu_description&quot;)\n    private String menuName;\n\n    @Column(name = &quot;menu_link&quot;, nullable = false)\n    private String link;\n\n    @Column(name = &quot;menu_css&quot;)\n    private String css;\n\n    @Column(name = &quot;menu_ico&quot;)\n    private String icon;\n\n    @Column(name = &quot;active&quot;)\n    private Boolean active;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;main_id&quot;,\n            nullable = true)\n    private Menu mainMenu;\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;mainMenu&quot;, cascade = CascadeType.REMOVE)\n    private Set&lt;Menu&gt; children = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>And</p>\n<pre><code>List&lt;Menu&gt; findAllByMainMenuIdAndActiveIsTrue(Long mainMenuid);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5796865,"reputation":7,"user_id":4572402,"display_name":"dbarasuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666162949,"creation_date":1665800911,"answer_id":74076277,"question_id":70481536,"body_markdown":"Enable `spring-jpa-show-sql=true` to watch which queries are being executed against your database from your IDE console. That will give you more insights on how you&#39;ll write your method. ","title":"How to create dynamic menu from MySQL database with Spring Boot","body":"<p>Enable <code>spring-jpa-show-sql=true</code> to watch which queries are being executed against your database from your IDE console. That will give you more insights on how you'll write your method.</p>\n"}],"owner":{"account_id":4901964,"reputation":11,"user_id":3949886,"display_name":"Sanket Khandre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":822,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666162949,"creation_date":1640452029,"question_id":70481536,"body_markdown":"I have been trying to load the menu from a database using Spring JPA and Spring Boot with a MySQL database.\r\n\r\nI have to load only active menu from database. I have tried with JPQL, i.e. findByActiveTrue() method of JPA, but I get all records.\r\n\r\n    @Entity\r\n    @Table(name = &quot;menu_tbl&quot;)\r\n    //@Cacheable\r\n    //@org.hibernate.annotations.Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n    \r\n    public class Menu implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \r\n    \t@Column(name = &quot;menu_description&quot;)\r\n    \tprivate String menuName;\r\n    \r\n    \t@Column(name = &quot;menu_link&quot;, nullable = false)\r\n    \tprivate String link;\r\n    \r\n    \t@Column(name = &quot;menu_css&quot;)\r\n    \tprivate String css;\r\n    \r\n    \t@Column(name = &quot;menu_ico&quot;)\r\n    \tprivate String icon;\r\n    \t \r\n    \t@Column(name = &quot;active&quot;)\r\n    \t@\r\n    \tprivate Boolean active;\r\n    \r\n    \t@JsonManagedReference\r\n    \t@OneToMany(mappedBy = &quot;parent&quot;)\r\n    \t@OrderBy(&quot;id ASC&quot;)\r\n    \tprivate Set&lt;Menu&gt; children;\r\n    \r\n    \t@ManyToOne\r\n    \t@JsonBackReference\r\n    \tprivate Menu parent;\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getMenuName() {\r\n    \t\treturn menuName;\r\n    \t}\r\n    \r\n    \tpublic void setMenuName(String menuName) {\r\n    \t\tthis.menuName = menuName;\r\n    \t}\r\n    \r\n    \tpublic String getLink() {\r\n    \t\treturn link;\r\n    \t}\r\n    \r\n    \tpublic void setLink(String link) {\r\n    \t\tthis.link = link;\r\n    \t}\r\n    \r\n    \tpublic String getCss() {\r\n    \t\treturn css;\r\n    \t}\r\n    \r\n    \tpublic void setCss(String css) {\r\n    \t\tthis.css = css;\r\n    \t}\r\n    \r\n    \tpublic String getIcon() {\r\n    \t\treturn icon;\r\n    \t}\r\n    \r\n    \tpublic void setIcon(String icon) {\r\n    \t\tthis.icon = icon;\r\n    \t}\r\n    \r\n    \tpublic Set&lt;Menu&gt; getChildren() {\r\n    \t\treturn children;\r\n    \t}\r\n    \r\n    \tpublic void setChildren(Set&lt;Menu&gt; children) {\r\n    \t\tthis.children = children;\r\n    \t}\r\n    \r\n    \tpublic Menu getParent() {\r\n    \t\treturn parent;\r\n    \t}\r\n    \r\n    \tpublic void setParent(Menu parent) {\r\n    \t\tthis.parent = parent;\r\n    \t}\r\n    \r\n    \tpublic Boolean getActive() {\r\n    \t\treturn active;\r\n    \t}\r\n    \r\n    \tpublic void setActive(Boolean active) {\r\n    \t\tthis.active = active;\r\n    \t}\r\n    \r\n    }\r\n\r\nRepository\r\n\r\n    public interface MenuRepository extends JpaRepository&lt;Menu, Long&gt; {\r\n    \t\r\n    \t\r\n    \tList&lt;Menu&gt; findByActiveTrue();\r\n    \r\n    }\r\n\r\nAnd getting output \r\n\r\n```json\r\n[\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;menuName&quot;: &quot;Customer&quot;,\r\n        &quot;link&quot;: &quot;/customer&quot;,\r\n        &quot;css&quot;: null,\r\n        &quot;icon&quot;: null,\r\n        &quot;active&quot;: true,\r\n        &quot;children&quot;: [\r\n            {\r\n                &quot;id&quot;: 2,\r\n                &quot;menuName&quot;: &quot;Add Customer&quot;,\r\n                &quot;link&quot;: &quot;/addCustomer&quot;,\r\n                &quot;css&quot;: null,\r\n                &quot;icon&quot;: null,\r\n                &quot;active&quot;: false,\r\n                &quot;children&quot;: []\r\n            },\r\n            {\r\n                &quot;id&quot;: 3,\r\n                &quot;menuName&quot;: &quot;View Customer&quot;,\r\n                &quot;link&quot;: &quot;/viewCustomer&quot;,\r\n                &quot;css&quot;: null,\r\n                &quot;icon&quot;: null,\r\n                &quot;active&quot;: false,\r\n                &quot;children&quot;: []\r\n            }\r\n        ]\r\n    }\r\n]\r\n```\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tmLvS.png","title":"How to create dynamic menu from MySQL database with Spring Boot","body":"<p>I have been trying to load the menu from a database using Spring JPA and Spring Boot with a MySQL database.</p>\n<p>I have to load only active menu from database. I have tried with JPQL, i.e. findByActiveTrue() method of JPA, but I get all records.</p>\n<pre><code>@Entity\n@Table(name = &quot;menu_tbl&quot;)\n//@Cacheable\n//@org.hibernate.annotations.Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\n\npublic class Menu implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;menu_description&quot;)\n    private String menuName;\n\n    @Column(name = &quot;menu_link&quot;, nullable = false)\n    private String link;\n\n    @Column(name = &quot;menu_css&quot;)\n    private String css;\n\n    @Column(name = &quot;menu_ico&quot;)\n    private String icon;\n     \n    @Column(name = &quot;active&quot;)\n    @\n    private Boolean active;\n\n    @JsonManagedReference\n    @OneToMany(mappedBy = &quot;parent&quot;)\n    @OrderBy(&quot;id ASC&quot;)\n    private Set&lt;Menu&gt; children;\n\n    @ManyToOne\n    @JsonBackReference\n    private Menu parent;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getMenuName() {\n        return menuName;\n    }\n\n    public void setMenuName(String menuName) {\n        this.menuName = menuName;\n    }\n\n    public String getLink() {\n        return link;\n    }\n\n    public void setLink(String link) {\n        this.link = link;\n    }\n\n    public String getCss() {\n        return css;\n    }\n\n    public void setCss(String css) {\n        this.css = css;\n    }\n\n    public String getIcon() {\n        return icon;\n    }\n\n    public void setIcon(String icon) {\n        this.icon = icon;\n    }\n\n    public Set&lt;Menu&gt; getChildren() {\n        return children;\n    }\n\n    public void setChildren(Set&lt;Menu&gt; children) {\n        this.children = children;\n    }\n\n    public Menu getParent() {\n        return parent;\n    }\n\n    public void setParent(Menu parent) {\n        this.parent = parent;\n    }\n\n    public Boolean getActive() {\n        return active;\n    }\n\n    public void setActive(Boolean active) {\n        this.active = active;\n    }\n\n}\n</code></pre>\n<p>Repository</p>\n<pre><code>public interface MenuRepository extends JpaRepository&lt;Menu, Long&gt; {\n    \n    \n    List&lt;Menu&gt; findByActiveTrue();\n\n}\n</code></pre>\n<p>And getting output</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;menuName&quot;: &quot;Customer&quot;,\n        &quot;link&quot;: &quot;/customer&quot;,\n        &quot;css&quot;: null,\n        &quot;icon&quot;: null,\n        &quot;active&quot;: true,\n        &quot;children&quot;: [\n            {\n                &quot;id&quot;: 2,\n                &quot;menuName&quot;: &quot;Add Customer&quot;,\n                &quot;link&quot;: &quot;/addCustomer&quot;,\n                &quot;css&quot;: null,\n                &quot;icon&quot;: null,\n                &quot;active&quot;: false,\n                &quot;children&quot;: []\n            },\n            {\n                &quot;id&quot;: 3,\n                &quot;menuName&quot;: &quot;View Customer&quot;,\n                &quot;link&quot;: &quot;/viewCustomer&quot;,\n                &quot;css&quot;: null,\n                &quot;icon&quot;: null,\n                &quot;active&quot;: false,\n                &quot;children&quot;: []\n            }\n        ]\n    }\n]\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/tmLvS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tmLvS.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","rest","exception"],"comments":[{"owner":{"account_id":6589256,"reputation":12808,"user_id":5091073,"display_name":"Nir Levy"},"score":2,"creation_date":1648364477,"post_id":71634239,"comment_id":126602138,"body_markdown":"does `uz.pdp.warehouse.exception.NotFoundException` extend `RuntimeException` or just `Exception`?","body":"does <code>uz.pdp.warehouse.exception.NotFoundException</code> extend <code>RuntimeException</code> or just <code>Exception</code>?"},{"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"score":0,"creation_date":1648438930,"post_id":71634239,"comment_id":126615560,"body_markdown":"You first refer to this https://www.bezkoder.com/spring-boot-controlleradvice-exceptionhandler/ tutorial, try again your self and come back if it&#39;s not working","body":"You first refer to this <a href=\"https://www.bezkoder.com/spring-boot-controlleradvice-exceptionhandler/\" rel=\"nofollow noreferrer\">bezkoder.com/spring-boot-controlleradvice-exceptionhandler</a> tutorial, try again your self and come back if it&#39;s not working"}],"answers":[{"tags":[],"owner":{"account_id":26612311,"reputation":16,"user_id":20232322,"display_name":"Ferran Closa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666162926,"creation_date":1665670402,"answer_id":74057257,"question_id":71634239,"body_markdown":"You would need to extend ResponseEntityExceptionHandler as follows: \r\n\r\n    @ControllerAdvice(&quot;uz.pdp.warehouse&quot;)\r\n    public class GlobalExceptionHandler extends ResponseEntityExceptionHandler  {\r\n    \r\n        @ExceptionHandler({RuntimeException.class})\r\n        public ResponseEntity&lt;DataDto&lt;AppError&gt;&gt; handle500(RuntimeException e, WebRequest webRequest) {\r\n            return new ResponseEntity&lt;&gt;(\r\n                    new DataDto&lt;&gt;(AppErrorDto.builder()\r\n                            .message(e.getMessage())\r\n                            .status(HttpStatus.INTERNAL_SERVER_ERROR)\r\n                            .path(webRequest.getContextPath())\r\n                            .build()));\r\n        }\r\n    \r\n    }","title":"Customize Global Exception Handler in java Spring Boot","body":"<p>You would need to extend ResponseEntityExceptionHandler as follows:</p>\n<pre><code>@ControllerAdvice(&quot;uz.pdp.warehouse&quot;)\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler  {\n\n    @ExceptionHandler({RuntimeException.class})\n    public ResponseEntity&lt;DataDto&lt;AppError&gt;&gt; handle500(RuntimeException e, WebRequest webRequest) {\n        return new ResponseEntity&lt;&gt;(\n                new DataDto&lt;&gt;(AppErrorDto.builder()\n                        .message(e.getMessage())\n                        .status(HttpStatus.INTERNAL_SERVER_ERROR)\n                        .path(webRequest.getContextPath())\n                        .build()));\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":22984835,"reputation":3,"user_id":17111200,"display_name":"Nodirbek Jo&#39;rayev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":674,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74057257,"answer_count":1,"score":0,"last_activity_date":1666162926,"creation_date":1648363346,"question_id":71634239,"body_markdown":"My GlobalExceptionHandler\r\n\r\n    @ControllerAdvice(&quot;uz.pdp.warehouse&quot;)\r\n    public class GlobalExceptionHandler {\r\n    \r\n        @ExceptionHandler({RuntimeException.class})\r\n        public ResponseEntity&lt;DataDto&lt;AppError&gt;&gt; handle500(RuntimeException e, WebRequest webRequest) {\r\n            return new ResponseEntity&lt;&gt;(\r\n                    new DataDto&lt;&gt;(AppErrorDto.builder()\r\n                            .message(e.getMessage())\r\n                            .status(HttpStatus.INTERNAL_SERVER_ERROR)\r\n                            .path(webRequest.getContextPath())\r\n                            .build()));\r\n        }\r\n    \r\n    }\r\n\r\nI want to return my customized ResponseEntity but it returns something different\r\n \r\n\r\n    {\r\n    &quot;timestamp&quot;: &quot;2022-03-27T06:21:00.845+00:00&quot;,`\r\n    &quot;status&quot;: 404,\r\n    &quot;error&quot;: &quot;Not Found&quot;,\r\n    &quot;trace&quot;: &quot;uz.pdp.warehouse.exception.NotFoundException: QWE\\r\\n&quot;,\r\n    &quot;message&quot;: &quot;QWE&quot;,\r\n    &quot;path&quot;: &quot;/test/testN&quot;\r\n    }\r\n\r\nthen I also catch exception with `try{}catch(){}` it is working but I want to handle exception via my `GlobalExceptionHandler`.\r\n\r\n    so what can I do?\r\nis it possible return customized `AppError `or `ResposeEntity`?\r\n\r\n","title":"Customize Global Exception Handler in java Spring Boot","body":"<p>My GlobalExceptionHandler</p>\n<pre><code>@ControllerAdvice(&quot;uz.pdp.warehouse&quot;)\npublic class GlobalExceptionHandler {\n\n    @ExceptionHandler({RuntimeException.class})\n    public ResponseEntity&lt;DataDto&lt;AppError&gt;&gt; handle500(RuntimeException e, WebRequest webRequest) {\n        return new ResponseEntity&lt;&gt;(\n                new DataDto&lt;&gt;(AppErrorDto.builder()\n                        .message(e.getMessage())\n                        .status(HttpStatus.INTERNAL_SERVER_ERROR)\n                        .path(webRequest.getContextPath())\n                        .build()));\n    }\n\n}\n</code></pre>\n<p>I want to return my customized ResponseEntity but it returns something different</p>\n<pre><code>{\n&quot;timestamp&quot;: &quot;2022-03-27T06:21:00.845+00:00&quot;,`\n&quot;status&quot;: 404,\n&quot;error&quot;: &quot;Not Found&quot;,\n&quot;trace&quot;: &quot;uz.pdp.warehouse.exception.NotFoundException: QWE\\r\\n&quot;,\n&quot;message&quot;: &quot;QWE&quot;,\n&quot;path&quot;: &quot;/test/testN&quot;\n}\n</code></pre>\n<p>then I also catch exception with <code>try{}catch(){}</code> it is working but I want to handle exception via my <code>GlobalExceptionHandler</code>.</p>\n<pre><code>so what can I do?\n</code></pre>\n<p>is it possible return customized <code>AppError </code>or <code>ResposeEntity</code>?</p>\n"},{"tags":["java","jackson","swagger","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":12864991,"reputation":21,"user_id":9305570,"display_name":"Michael H&#246;nnig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666162912,"creation_date":1665755123,"answer_id":74070218,"question_id":66676450,"body_markdown":"I had a similar problem with `io.openapiprocessor:openapi-processor-spring`. No validation annotations were generated.\r\n\r\nThe cause was a missing &quot;bean-validation: true&quot; options part of the `mappings.yaml` of that module. For required fields, it now generates `@NotNull` next to the `@JsonProperty` annotation of the Java fields. Also the @Valid annotation is now added to the body parameters of methods in the API interfaces for the controllers.","title":"Swagger ignored the required field for generated code","body":"<p>I had a similar problem with <code>io.openapiprocessor:openapi-processor-spring</code>. No validation annotations were generated.</p>\n<p>The cause was a missing &quot;bean-validation: true&quot; options part of the <code>mappings.yaml</code> of that module. For required fields, it now generates <code>@NotNull</code> next to the <code>@JsonProperty</code> annotation of the Java fields. Also the @Valid annotation is now added to the body parameters of methods in the API interfaces for the controllers.</p>\n"}],"owner":{"account_id":1716785,"reputation":133,"user_id":1573684,"display_name":"Adrian Klimczak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":914,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1666162912,"creation_date":1615995784,"question_id":66676450,"body_markdown":"I have element like this:\r\n\r\n```\r\n@ApiModel(description = &quot;...&quot;)\r\n@javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;)\r\npublic class MissionContext   {\r\n  @JsonProperty(&quot;missionName&quot;)\r\n  private String missionName;\r\n....\r\n  @ApiModelProperty(required = true, value = &quot;&quot;)\r\n  public String getMissionName() {\r\n    return missionName;\r\n  }\r\n...\r\n}\r\n```\r\n\r\nOk, this looks nice and this mission name should be required in the body in the post request, but it isn&#39;t. \r\n\r\nMy openapi 3.0.0 definition:\r\n```\r\n    MissionContext:\r\n      type: object\r\n      description: text\r\n      properties:\r\n        missionName:\r\n          type: string\r\n      required: [ missionName ]\r\n```\r\n\r\nPart to generate code\r\n```\r\n &lt;plugin&gt;\r\n        &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n        &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${openapi.generator.version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;apiPackage&gt;com.fake&lt;/apiPackage&gt;\r\n              &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\r\n              &lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n              &lt;inputSpec&gt;${project.basedir}/src/etc/file.yaml&lt;/inputSpec&gt;\r\n              &lt;configOptions&gt;\r\n                &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n                &lt;modelPackage&gt;portal&lt;/modelPackage&gt;\r\n                &lt;skipDefaultInterface&gt;true&lt;/skipDefaultInterface&gt;\r\n                &lt;useBeanValidation&gt;false&lt;/useBeanValidation&gt;\r\n              &lt;/configOptions&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n```\r\n\r\nJackson bean - default configuration without any added modules etc.\r\n\r\nCould anyone help me? How to response bad request without a mission name in the body request?\r\n","title":"Swagger ignored the required field for generated code","body":"<p>I have element like this:</p>\n<pre><code>@ApiModel(description = &quot;...&quot;)\n@javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;)\npublic class MissionContext   {\n  @JsonProperty(&quot;missionName&quot;)\n  private String missionName;\n....\n  @ApiModelProperty(required = true, value = &quot;&quot;)\n  public String getMissionName() {\n    return missionName;\n  }\n...\n}\n</code></pre>\n<p>Ok, this looks nice and this mission name should be required in the body in the post request, but it isn't.</p>\n<p>My openapi 3.0.0 definition:</p>\n<pre><code>    MissionContext:\n      type: object\n      description: text\n      properties:\n        missionName:\n          type: string\n      required: [ missionName ]\n</code></pre>\n<p>Part to generate code</p>\n<pre><code> &lt;plugin&gt;\n        &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n        &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${openapi.generator.version}&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;apiPackage&gt;com.fake&lt;/apiPackage&gt;\n              &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\n              &lt;generatorName&gt;spring&lt;/generatorName&gt;\n              &lt;inputSpec&gt;${project.basedir}/src/etc/file.yaml&lt;/inputSpec&gt;\n              &lt;configOptions&gt;\n                &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n                &lt;modelPackage&gt;portal&lt;/modelPackage&gt;\n                &lt;skipDefaultInterface&gt;true&lt;/skipDefaultInterface&gt;\n                &lt;useBeanValidation&gt;false&lt;/useBeanValidation&gt;\n              &lt;/configOptions&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>Jackson bean - default configuration without any added modules etc.</p>\n<p>Could anyone help me? How to response bad request without a mission name in the body request?</p>\n"},{"tags":["java","linked-list","doubly-linked-list"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666133049,"post_id":74118137,"comment_id":130862506,"body_markdown":"It looks like you already have a method called `addBetween`, but you haven&#39;t set it up so you have access to the `Node` objects for 30 and 40.  The easiest solution is probably just to have your `add` methods return the newly created `Node` objects.","body":"It looks like you already have a method called <code>addBetween</code>, but you haven&#39;t set it up so you have access to the <code>Node</code> objects for 30 and 40.  The easiest solution is probably just to have your <code>add</code> methods return the newly created <code>Node</code> objects."},{"owner":{"account_id":26664928,"reputation":11,"user_id":20277163,"display_name":"kolakolya"},"score":0,"creation_date":1666138202,"post_id":74118137,"comment_id":130863272,"body_markdown":"So I&#39;d be doing somehing like ` public void addFirst(E e) {\n\taddBetween(e, this.header, this.header.getNext());\n\treturn Node = new DoublyLinkedList&lt;&gt;();\n}`  ? Maybe I&#39;m not understanding how to make each entry a node","body":"So I&#39;d be doing somehing like ` public void addFirst(E e) { \taddBetween(e, this.header, this.header.getNext()); \treturn Node = new DoublyLinkedList&lt;&gt;(); }`  ? Maybe I&#39;m not understanding how to make each entry a node"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1666162862,"post_id":74118137,"comment_id":130867338,"body_markdown":"What you should also think about: *comparing* Nodes. You see, in order to say: I want to add after Node(10) ... well, you need to be able to distinguish those Node objects. Meaning: you need to know what is INSIDE a node, and whether two node are equal nor not.","body":"What you should also think about: <i>comparing</i> Nodes. You see, in order to say: I want to add after Node(10) ... well, you need to be able to distinguish those Node objects. Meaning: you need to know what is INSIDE a node, and whether two node are equal nor not."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1666162931,"post_id":74118137,"comment_id":130867358,"body_markdown":"Unrelated: read about java naming conventions. Variable names start lower case. And then, remember: these names are for HUMAN readers. Use names that say what they mean, mean what they say. &quot;Node&quot; is very bad name. Because ... it isnt a single Node. It is an instance of your list. So why not just call it `numbers` for example?!","body":"Unrelated: read about java naming conventions. Variable names start lower case. And then, remember: these names are for HUMAN readers. Use names that say what they mean, mean what they say. &quot;Node&quot; is very bad name. Because ... it isnt a single Node. It is an instance of your list. So why not just call it <code>numbers</code> for example?!"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666152664,"creation_date":1666152664,"answer_id":74119773,"question_id":74118137,"body_markdown":"Start by changing `addBetween` to return the node.\r\n\r\n```java\r\n    public Node&lt;E&gt; addBetween(E e, Node&lt;E&gt; predecessor, Node&lt;E&gt; successor) {\r\n        Node&lt;E&gt; newest = new Node&lt;&gt;(e, predecessor, successor);\r\n        predecessor.setNext(newest);\r\n        successor.setPrev(newest);\r\n        this.size++;\r\n        return newest;\r\n    }\r\n```\r\n\r\nChange `addFirst` and `addLast` to return that node.  I&#39;ll only show `addFirst`:\r\n\r\n```\r\n    public Node&lt;E&gt; addFirst(E e) {\r\n        return addBetween(e, this.header, this.header.getNext());\r\n    }\r\n```\r\n\r\nSave the nodes for 30 and 40:\r\n\r\n```\r\nNode&lt;Integer&gt; node30 = Node.addFirst(30);\r\nNode&lt;Integer&gt; node40 = Node.addFirst(40);\r\n```\r\n\r\nThen you can use `addBetween`:\r\n\r\n```\r\nNode.addBetween(newNumber, node30, node40);\r\n```","title":"How do I add elements (integers or string) in the middle of my doubly-linked list? -Java","body":"<p>Start by changing <code>addBetween</code> to return the node.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Node&lt;E&gt; addBetween(E e, Node&lt;E&gt; predecessor, Node&lt;E&gt; successor) {\n        Node&lt;E&gt; newest = new Node&lt;&gt;(e, predecessor, successor);\n        predecessor.setNext(newest);\n        successor.setPrev(newest);\n        this.size++;\n        return newest;\n    }\n</code></pre>\n<p>Change <code>addFirst</code> and <code>addLast</code> to return that node.  I'll only show <code>addFirst</code>:</p>\n<pre><code>    public Node&lt;E&gt; addFirst(E e) {\n        return addBetween(e, this.header, this.header.getNext());\n    }\n</code></pre>\n<p>Save the nodes for 30 and 40:</p>\n<pre><code>Node&lt;Integer&gt; node30 = Node.addFirst(30);\nNode&lt;Integer&gt; node40 = Node.addFirst(40);\n</code></pre>\n<p>Then you can use <code>addBetween</code>:</p>\n<pre><code>Node.addBetween(newNumber, node30, node40);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666162612,"creation_date":1666162612,"answer_id":74121057,"question_id":74118137,"body_markdown":"- You need not expose the class Node and indeed you made it private.\r\n  But then you cannot navigate by Node, just by E. So `remove(Node)` is not possible as public method.\r\n- Node&#39;s methods could be private too.\r\n- Node need not be parametrized by `&lt;E&gt;`. That can even give serious programming problems, as there then are two `E`s. Remove it.\r\n- `addBetween` is nicely symmetric, but `successor` is redundant. I would remove it as parameter and make it a local variable.\r\n- Rename the local variable `Node` to `list`.\r\n\r\nSo:\r\n\r\n    private E removeNode(Node node) {\r\n        node.next.setPrev(node.prev);\r\n        node.prev.setNext(node.next);\r\n        size--;\r\n        return node.getElement();\r\n    }\r\n\r\n    private Optional&lt;Node&gt; find(E element) {\r\n        for (Node node = header.next; node != trailer; node = node.next) {\r\n            if (node.element == element) {\r\n                return Optional.of(node);\r\n            }\r\n        }\r\n        return Optional.empty();\r\n    }\r\n\r\n    public boolean remove(E e) {\r\n        Optional&lt;Node&gt; nodeOpt = find(e);\r\n        nodeOpt.ifPresent(n -&gt; removeNode(n));\r\n        return nodeOpt.isPresent();\r\n    }\r\n\r\nThe same for an `insertBefore(E)`, `insertAfter(E)`.","title":"How do I add elements (integers or string) in the middle of my doubly-linked list? -Java","body":"<ul>\n<li>You need not expose the class Node and indeed you made it private.\nBut then you cannot navigate by Node, just by E. So <code>remove(Node)</code> is not possible as public method.</li>\n<li>Node's methods could be private too.</li>\n<li>Node need not be parametrized by <code>&lt;E&gt;</code>. That can even give serious programming problems, as there then are two <code>E</code>s. Remove it.</li>\n<li><code>addBetween</code> is nicely symmetric, but <code>successor</code> is redundant. I would remove it as parameter and make it a local variable.</li>\n<li>Rename the local variable <code>Node</code> to <code>list</code>.</li>\n</ul>\n<p>So:</p>\n<pre><code>private E removeNode(Node node) {\n    node.next.setPrev(node.prev);\n    node.prev.setNext(node.next);\n    size--;\n    return node.getElement();\n}\n\nprivate Optional&lt;Node&gt; find(E element) {\n    for (Node node = header.next; node != trailer; node = node.next) {\n        if (node.element == element) {\n            return Optional.of(node);\n        }\n    }\n    return Optional.empty();\n}\n\npublic boolean remove(E e) {\n    Optional&lt;Node&gt; nodeOpt = find(e);\n    nodeOpt.ifPresent(n -&gt; removeNode(n));\n    return nodeOpt.isPresent();\n}\n</code></pre>\n<p>The same for an <code>insertBefore(E)</code>, <code>insertAfter(E)</code>.</p>\n"}],"owner":{"account_id":26664928,"reputation":11,"user_id":20277163,"display_name":"kolakolya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1666162612,"creation_date":1666132494,"question_id":74118137,"body_markdown":"1. This code allows me to create a linked list and I want to be able to add elements\r\nbetween two nodes. \r\n2. I&#39;m having trouble understanding how to set it up so I can insert a number between 40 and 30.\r\n\r\n---\r\n\r\n```java\r\npublic class DoublyLinkedList&lt;E&gt; {\r\n\r\n\tprivate static class Node&lt;E&gt; {\r\n\t\t//Node Fields\r\n\t\tprivate E element;\r\n\t\tprivate Node&lt;E&gt; prev;\r\n\t\tprivate Node&lt;E&gt; next;\r\n\r\n\t\t// Node Constructor\r\n\t\tpublic Node(E e, Node&lt;E&gt; p, Node&lt;E&gt; n) {\r\n\t\t\tthis.element = e;\r\n\t\t\tthis.prev = p;\r\n\t\t\tthis.next = n;\r\n\t\t}\r\n\r\n\t\t// Node Methods\r\n\t\tpublic E getElement() {\r\n\t\t\treturn element;\r\n\t\t}\r\n\r\n\t\tpublic Node&lt;E&gt; getPrev() {\r\n\t\t\treturn this.prev;\r\n\t\t}\r\n\r\n\t\tpublic Node&lt;E&gt; getNext() {\r\n\t\t\treturn this.next;\r\n\t\t}\r\n\r\n\t\tpublic void setPrev(Node&lt;E&gt; p) {\r\n\t\t\tthis.prev = p;\r\n\t\t}\r\n\r\n\t\tpublic void setNext(Node&lt;E&gt; n) {\r\n\t\t\tthis.next = n;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// DLinkedList Fields\r\n\tprivate Node&lt;E&gt; header;\r\n\tprivate Node&lt;E&gt; trailer;\r\n\tint size;\r\n\r\n\t// DLinkedList Constructor\r\n\tpublic DoublyLinkedList() {\r\n\t\tthis.header = new Node&lt;&gt;(null, null, null);\r\n\t\tthis.trailer = new Node&lt;&gt;(null, this.header, null);\r\n\t\tthis.header.setNext(this.trailer);\r\n\t}\r\n\r\n\t// DLinkedList Methods\r\n\tpublic int size() {\r\n\t\treturn this.size;\r\n\t}\r\n\r\n\tpublic E first() {\r\n\t\tif (isEmpty()) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn this.header.next.getElement();\r\n\t}\r\n\r\n\tpublic E last() {\r\n\t\tif (isEmpty()) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn this.trailer.prev.getElement();\r\n\t}\r\n\r\n\tpublic boolean isEmpty() {\r\n\t\treturn size == 0;\r\n\t}\r\n\r\n\tpublic void addFirst(E e) {\r\n\t\taddBetween(e, this.header, this.header.getNext());\r\n\t}\r\n\r\n\tpublic void addLast(E e) {\r\n\t\taddBetween(e, this.trailer.getPrev(), this.trailer);\r\n\t}\r\n\r\n\tpublic void addBetween(E e, Node&lt;E&gt; predecessor, Node&lt;E&gt; successor) {\r\n\t\tNode&lt;E&gt; newest = new Node&lt;&gt;(e, predecessor, successor);\r\n\t\tpredecessor.setNext(newest);\r\n\t\tsuccessor.setPrev(newest);\r\n\t\tthis.size++;\r\n\t}\r\n\r\n\tpublic E removeFirst() {\r\n\t\tif (this.isEmpty()) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn this.remove(header.getNext());\r\n\t}\r\n\r\n\tpublic E removeLast() {\r\n\t\tif (this.isEmpty()) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn this.remove(trailer.getPrev());\r\n\t}\r\n\r\n\tpublic E remove(Node&lt;E&gt; e) {\r\n\t\te.next.setPrev(e.prev);\r\n\t\te.prev.setNext(e.next);\r\n\t\tthis.size--;\r\n\t\treturn e.getElement();\r\n\t}\r\n\r\n\tpublic String toString() {\r\n\t\tStringBuilder sb = new StringBuilder(&quot;(&quot;);\r\n\t\tNode&lt;E&gt; walk = this.header.next;\r\n\t\twhile (walk != this.trailer) {\r\n\t\t\tsb.append(walk.element);\r\n\t\t\tif (walk.next != this.trailer)\r\n\t\t\t\tsb.append(&quot;--&gt; &quot;);\r\n\t\t\twalk = walk.next;\r\n\t\t}\r\n\t\tsb.append(&quot;)&quot;);\r\n\t\treturn sb.toString();\r\n\t}\r\n\t// Node myList = new Node&lt;E&gt;(null, trailer, header);\r\n\t// myList.e.addFirst\r\n\r\n\t// Node myList2 = new Node&lt;E&gt;(null, 1, null);\r\n}\r\n\r\n\r\nclass Main {\r\n\tpublic static void main(String[] args) {\r\n\t\t// create a DoublyLinkedList object\r\n\t\tDoublyLinkedList Node = new DoublyLinkedList();\r\n\t\t// Add nodes to the list\r\n\t\tNode.addFirst(10);\r\n\t\tNode.addFirst(20);\r\n\t\tNode.addFirst(30);\r\n\t\tNode.addFirst(40);\r\n\t\tNode.addFirst(50);\r\n\t\tNode.removeFirst();\r\n\t\tNode.removeLast();\r\n\t\t//Node.addBetween(Node, null, null);\r\n\r\n\t\t// print the nodes of DoublyLinkedList\r\n\t\tSystem.out.println(Node);\r\n\t}\r\n}\r\n```","title":"How do I add elements (integers or string) in the middle of my doubly-linked list? -Java","body":"<ol>\n<li>This code allows me to create a linked list and I want to be able to add elements\nbetween two nodes.</li>\n<li>I'm having trouble understanding how to set it up so I can insert a number between 40 and 30.</li>\n</ol>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>public class DoublyLinkedList&lt;E&gt; {\n\n    private static class Node&lt;E&gt; {\n        //Node Fields\n        private E element;\n        private Node&lt;E&gt; prev;\n        private Node&lt;E&gt; next;\n\n        // Node Constructor\n        public Node(E e, Node&lt;E&gt; p, Node&lt;E&gt; n) {\n            this.element = e;\n            this.prev = p;\n            this.next = n;\n        }\n\n        // Node Methods\n        public E getElement() {\n            return element;\n        }\n\n        public Node&lt;E&gt; getPrev() {\n            return this.prev;\n        }\n\n        public Node&lt;E&gt; getNext() {\n            return this.next;\n        }\n\n        public void setPrev(Node&lt;E&gt; p) {\n            this.prev = p;\n        }\n\n        public void setNext(Node&lt;E&gt; n) {\n            this.next = n;\n        }\n\n    }\n\n    // DLinkedList Fields\n    private Node&lt;E&gt; header;\n    private Node&lt;E&gt; trailer;\n    int size;\n\n    // DLinkedList Constructor\n    public DoublyLinkedList() {\n        this.header = new Node&lt;&gt;(null, null, null);\n        this.trailer = new Node&lt;&gt;(null, this.header, null);\n        this.header.setNext(this.trailer);\n    }\n\n    // DLinkedList Methods\n    public int size() {\n        return this.size;\n    }\n\n    public E first() {\n        if (isEmpty()) {\n            return null;\n        }\n        return this.header.next.getElement();\n    }\n\n    public E last() {\n        if (isEmpty()) {\n            return null;\n        }\n        return this.trailer.prev.getElement();\n    }\n\n    public boolean isEmpty() {\n        return size == 0;\n    }\n\n    public void addFirst(E e) {\n        addBetween(e, this.header, this.header.getNext());\n    }\n\n    public void addLast(E e) {\n        addBetween(e, this.trailer.getPrev(), this.trailer);\n    }\n\n    public void addBetween(E e, Node&lt;E&gt; predecessor, Node&lt;E&gt; successor) {\n        Node&lt;E&gt; newest = new Node&lt;&gt;(e, predecessor, successor);\n        predecessor.setNext(newest);\n        successor.setPrev(newest);\n        this.size++;\n    }\n\n    public E removeFirst() {\n        if (this.isEmpty()) {\n            return null;\n        }\n        return this.remove(header.getNext());\n    }\n\n    public E removeLast() {\n        if (this.isEmpty()) {\n            return null;\n        }\n        return this.remove(trailer.getPrev());\n    }\n\n    public E remove(Node&lt;E&gt; e) {\n        e.next.setPrev(e.prev);\n        e.prev.setNext(e.next);\n        this.size--;\n        return e.getElement();\n    }\n\n    public String toString() {\n        StringBuilder sb = new StringBuilder(&quot;(&quot;);\n        Node&lt;E&gt; walk = this.header.next;\n        while (walk != this.trailer) {\n            sb.append(walk.element);\n            if (walk.next != this.trailer)\n                sb.append(&quot;--&gt; &quot;);\n            walk = walk.next;\n        }\n        sb.append(&quot;)&quot;);\n        return sb.toString();\n    }\n    // Node myList = new Node&lt;E&gt;(null, trailer, header);\n    // myList.e.addFirst\n\n    // Node myList2 = new Node&lt;E&gt;(null, 1, null);\n}\n\n\nclass Main {\n    public static void main(String[] args) {\n        // create a DoublyLinkedList object\n        DoublyLinkedList Node = new DoublyLinkedList();\n        // Add nodes to the list\n        Node.addFirst(10);\n        Node.addFirst(20);\n        Node.addFirst(30);\n        Node.addFirst(40);\n        Node.addFirst(50);\n        Node.removeFirst();\n        Node.removeLast();\n        //Node.addBetween(Node, null, null);\n\n        // print the nodes of DoublyLinkedList\n        System.out.println(Node);\n    }\n}\n</code></pre>\n"},{"tags":["java","sftp","apache-commons-vfs"],"comments":[{"owner":{"account_id":1652887,"reputation":2038,"user_id":1523115,"display_name":"Hannes"},"score":0,"creation_date":1413725876,"post_id":26450910,"comment_id":41543452,"body_markdown":"Have another look at your `sftpUri`. What happens to the `remoteServerAddress` parameter if you password contains an @?","body":"Have another look at your <code>sftpUri</code>. What happens to the <code>remoteServerAddress</code> parameter if you password contains an @?"},{"owner":{"account_id":3605469,"reputation":1723,"user_id":3007732,"accept_rate":64,"display_name":"Ayelet"},"score":0,"creation_date":1413725995,"post_id":26450910,"comment_id":41543469,"body_markdown":"As I said, I know what the problem is (the URI is parsed incorectly because of the @ in the password). My question was how to solve it.","body":"As I said, I know what the problem is (the URI is parsed incorectly because of the @ in the password). My question was how to solve it."},{"owner":{"account_id":1652887,"reputation":2038,"user_id":1523115,"display_name":"Hannes"},"score":1,"creation_date":1413726139,"post_id":26450910,"comment_id":41543501,"body_markdown":"Sry. I didn&#39;t see. Have a look at http://stackoverflow.com/questions/6718471/escaping-username-characters-in-basic-auth-urls","body":"Sry. I didn&#39;t see. Have a look at <a href=\"http://stackoverflow.com/questions/6718471/escaping-username-characters-in-basic-auth-urls\" title=\"escaping username characters in basic auth urls\">stackoverflow.com/questions/6718471/&hellip;</a>"},{"owner":{"account_id":3605469,"reputation":1723,"user_id":3007732,"accept_rate":64,"display_name":"Ayelet"},"score":0,"creation_date":1413727619,"post_id":26450910,"comment_id":41543874,"body_markdown":"This might be a silly question, but how do encode the password?","body":"This might be a silly question, but how do encode the password?"},{"owner":{"account_id":1652887,"reputation":2038,"user_id":1523115,"display_name":"Hannes"},"score":0,"creation_date":1413731029,"post_id":26450910,"comment_id":41544886,"body_markdown":"You can use `URLEncoder.encode(...)` from `java.net`. Do only encode username and password.","body":"You can use <code>URLEncoder.encode(...)</code> from <code>java.net</code>. Do only encode username and password."}],"answers":[{"tags":[],"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1413730576,"creation_date":1413730576,"answer_id":26451764,"question_id":26450910,"body_markdown":"Use [an actual URI constructor][1] instead of hand-rolling your own:\r\n\r\n    String userInfo = userName + &quot;:&quot; + password;\r\n    String path = remoteDirectory + filename;  // Need a &#39;/&#39; between them?\r\n    URI sftpUri = new URI(&quot;sftp&quot;, userInfo, remoteServerAddress, -1, path, null, null);\r\n    ...\r\n    FileObject remoteFile = manager.resolveFile(sftpUri.toString(), opts);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/net/URI.html#URI(java.lang.String,%20java.lang.String,%20java.lang.String,%20int,%20java.lang.String,%20java.lang.String,%20java.lang.String)","title":"Java SFTP (apache vfs2) - password with @","body":"<p>Use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/URI.html#URI(java.lang.String,%20java.lang.String,%20java.lang.String,%20int,%20java.lang.String,%20java.lang.String,%20java.lang.String)\" rel=\"noreferrer\">an actual URI constructor</a> instead of hand-rolling your own:</p>\n\n<pre><code>String userInfo = userName + \":\" + password;\nString path = remoteDirectory + filename;  // Need a '/' between them?\nURI sftpUri = new URI(\"sftp\", userInfo, remoteServerAddress, -1, path, null, null);\n...\nFileObject remoteFile = manager.resolveFile(sftpUri.toString(), opts);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23458279,"reputation":1,"user_id":17513448,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666162572,"creation_date":1665731698,"answer_id":74065622,"question_id":26450910,"body_markdown":"You need to encode the your password by `UriParser.encode()`, you can change your code like below:\r\n\r\nyou code:\r\n\r\n    String sftpUri = &quot;sftp://&quot; + userName + &quot;:&quot; + password + &quot;@&quot;\r\n            + remoteServerAddress + &quot;/&quot; + remoteDirectory + fileName;\r\n\r\nchange to:\r\n\r\n    String sftpUri = &quot;sftp://&quot; + userName + &quot;:&quot; + **UriParser.encode(password, &quot;@&quot;.toCharArray())**+ &quot;@&quot;\r\n            + remoteServerAddress + &quot;/&quot; + remoteDirectory + fileName;\r\n\r\nHope it help, thank you.\r\n","title":"Java SFTP (apache vfs2) - password with @","body":"<p>You need to encode the your password by <code>UriParser.encode()</code>, you can change your code like below:</p>\n<p>you code:</p>\n<pre><code>String sftpUri = &quot;sftp://&quot; + userName + &quot;:&quot; + password + &quot;@&quot;\n        + remoteServerAddress + &quot;/&quot; + remoteDirectory + fileName;\n</code></pre>\n<p>change to:</p>\n<pre><code>String sftpUri = &quot;sftp://&quot; + userName + &quot;:&quot; + **UriParser.encode(password, &quot;@&quot;.toCharArray())**+ &quot;@&quot;\n        + remoteServerAddress + &quot;/&quot; + remoteDirectory + fileName;\n</code></pre>\n<p>Hope it help, thank you.</p>\n"}],"owner":{"account_id":3605469,"reputation":1723,"user_id":3007732,"accept_rate":64,"display_name":"Ayelet"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4188,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":26451764,"answer_count":2,"score":5,"last_activity_date":1666162572,"creation_date":1413724533,"question_id":26450910,"body_markdown":"I&#39;m trying to use the org.apache.commons.vfs2 to download a file via SFTP.\r\nThe problem is, the password contains the &#39;@&#39; char, so this causes the URI to be parsed incorrectly:\r\n\r\n    org.apache.commons.vfs2.FileSystemException: Expecting / to follow the hostname in URI\r\n\r\nDoes anyone has an idea how to get around this issue? (I can&#39;t change the password, obviously). This is the code I&#39;m using:\r\n\r\n    String sftpUri = &quot;sftp://&quot; + userName + &quot;:&quot; + password + &quot;@&quot;\r\n\t\t    + remoteServerAddress + &quot;/&quot; + remoteDirectory + fileName;\r\n\r\n\tString filepath = localDirectory + fileName;\r\n\tFile file = new File(filepath);\r\n\tFileObject localFile = manager.resolveFile(file.getAbsolutePath());\r\n\r\n\tFileObject remoteFile = manager.resolveFile(sftpUri, opts);\r\n\tlocalFile.copyFrom(remoteFile, Selectors.SELECT_SELF);\r\n\r\n\r\n","title":"Java SFTP (apache vfs2) - password with @","body":"<p>I'm trying to use the org.apache.commons.vfs2 to download a file via SFTP.\nThe problem is, the password contains the '@' char, so this causes the URI to be parsed incorrectly:</p>\n\n<pre><code>org.apache.commons.vfs2.FileSystemException: Expecting / to follow the hostname in URI\n</code></pre>\n\n<p>Does anyone has an idea how to get around this issue? (I can't change the password, obviously). This is the code I'm using:</p>\n\n<pre><code>String sftpUri = \"sftp://\" + userName + \":\" + password + \"@\"\n        + remoteServerAddress + \"/\" + remoteDirectory + fileName;\n\nString filepath = localDirectory + fileName;\nFile file = new File(filepath);\nFileObject localFile = manager.resolveFile(file.getAbsolutePath());\n\nFileObject remoteFile = manager.resolveFile(sftpUri, opts);\nlocalFile.copyFrom(remoteFile, Selectors.SELECT_SELF);\n</code></pre>\n"},{"tags":["java","arraylist","linked-list","nodes","element"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666134490,"post_id":74118267,"comment_id":130862741,"body_markdown":"Think about `temp.getNext() == element` What type does `getNext` return? Is it the same type as `element`? What is the difference between using `==` and `.equals`? Which should you use here?","body":"Think about <code>temp.getNext() == element</code> What type does <code>getNext</code> return? Is it the same type as <code>element</code>? What is the difference between using <code>==</code> and <code>.equals</code>? Which should you use here?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666136221,"post_id":74118267,"comment_id":130862985,"body_markdown":"And what&#39;s the reason for `int node = 0;` and `return node;`? That last line gives you a compile error, doesn&#39;t it?","body":"And what&#39;s the reason for <code>int node = 0;</code> and <code>return node;</code>? That last line gives you a compile error, doesn&#39;t it?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666136447,"post_id":74118267,"comment_id":130863022,"body_markdown":"Your `toString` method overrides the implementation of `toString` in the `Object` class (because that&#39;s the class that `DoublyLinkedList` extends). You&#39;ll need to explain in more detail what you want it to do.","body":"Your <code>toString</code> method overrides the implementation of <code>toString</code> in the <code>Object</code> class (because that&#39;s the class that <code>DoublyLinkedList</code> extends). You&#39;ll need to explain in more detail what you want it to do."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1666138307,"post_id":74118267,"comment_id":130863292,"body_markdown":"```findNode``` does a linear search.  I would recommend use a for loop.  This method should contain no more than 4 lines of code.  The method ```toString()``` probably returns a string similar to ```ArrayList```.  You will wan to use a ```StringBuilder```.  Append the first element to the buffer, then append , follows by the next element.  You can use a for loop for this.  When the loop terminates, return the string of the string builder object.  This should not be more than 10 lines.","body":"<code>findNode</code> does a linear search.  I would recommend use a for loop.  This method should contain no more than 4 lines of code.  The method <code>toString()</code> probably returns a string similar to <code>ArrayList</code>.  You will wan to use a <code>StringBuilder</code>.  Append the first element to the buffer, then append , follows by the next element.  You can use a for loop for this.  When the loop terminates, return the string of the string builder object.  This should not be more than 10 lines."}],"owner":{"account_id":20995598,"reputation":1,"user_id":20277339,"display_name":"bolokbee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666162310,"creation_date":1666133750,"question_id":74118267,"body_markdown":"Not sure how to fill in the last two methods at the bottom of this code. The findNode(E e) should return the Node that contains the element e, or it returns null if the list is empty. The last toString() method is meant to override a previous one in another class and prints the content of a list.\r\n```\r\npublic class DoublyLinkedList&lt;E&gt; {\r\n\r\n    public static class Node&lt;E&gt; {\r\n        private E element; // reference to the element stored at\r\n\r\n        private Node&lt;E&gt; prev; // reference to the previous node in the\r\n\r\n        private Node&lt;E&gt; next; // reference to the subsequent node in\r\n\r\n        public Node(E element, Node&lt;E&gt; prev, Node&lt;E&gt; next) {\r\n            this.element = element;\r\n            this.prev = prev;\r\n            this.next = next;\r\n        }\r\n        // public accessor methods\r\n\r\n        public E getElement() {\r\n            return element;\r\n        }\r\n\r\n        public Node&lt;E&gt; getPrev() {\r\n            return prev;\r\n        }\r\n\r\n        public Node&lt;E&gt; getNext() {\r\n            return next;\r\n        }\r\n        // Update methods\r\n\r\n        public void setPrev(Node&lt;E&gt; p) {\r\n            prev = p;\r\n        }\r\n\r\n        public void setNext(Node&lt;E&gt; n) {\r\n            next = n;\r\n        }\r\n    } //----------- end of nested Node class -----------\r\n\r\n    // instance variables of the DoublyLinkedList\r\n    private Node&lt;E&gt; header; // header sentinel\r\n    private Node&lt;E&gt; trailer; // trailer sentinel\r\n    private int size = 0; // number of elements in the list\r\n\r\n    public DoublyLinkedList() {\r\n        header = new Node&lt;&gt;(null, null, null); // create header\r\n        trailer = new Node&lt;&gt;(null, header, null); // trailer is preceded by\r\n\r\n        header.setNext(trailer); // header is followed by\r\n\r\n    }\r\n    // public accessor methods\r\n\r\n    public int size() {\r\n        return size;\r\n    }\r\n\r\n    public boolean isEmpty() {\r\n        return size == 0;\r\n    }\r\n\r\n    public void addLast(E e) {\r\n        addBetween(e, trailer.getPrev(), trailer); // place just before the\r\n\r\n    }\r\n    // public update methods\r\n\r\n    public void addBetween(E e, Node&lt;E&gt; predecessor, Node&lt;E&gt; successor) {\r\n        // create and link a new node\r\n        Node&lt;E&gt; newest = new Node&lt;&gt;(e, predecessor, successor);\r\n        predecessor.setNext(newest);\r\n        successor.setPrev(newest);\r\n        size++;\r\n\r\n    }\r\n\r\n    public Node&lt;E&gt; findNode(E e) {\r\n        E element = e;\r\n        if (isEmpty()) {\r\n            return null;\r\n        }\r\n        int node = 0;\r\n        Node&lt;E&gt; temp = header;\r\n        while (temp != null) {\r\n            if (temp.getNext() == element) {\r\n                return node;\r\n            }\r\n            node++;\r\n            temp = temp.getNext();\r\n        }\r\n    }\r\n\r\n    public String toString() {\r\n        ArrayList&lt;E&gt; ref = new ArrayList&lt;&gt;();\r\n        int counter = 1;\r\n\r\n        return ref.toString();\r\n    }\r\n}\r\n```","title":"Node&lt;&gt; and toString() methods when finding elements and creating new lists","body":"<p>Not sure how to fill in the last two methods at the bottom of this code. The findNode(E e) should return the Node that contains the element e, or it returns null if the list is empty. The last toString() method is meant to override a previous one in another class and prints the content of a list.</p>\n<pre><code>public class DoublyLinkedList&lt;E&gt; {\n\n    public static class Node&lt;E&gt; {\n        private E element; // reference to the element stored at\n\n        private Node&lt;E&gt; prev; // reference to the previous node in the\n\n        private Node&lt;E&gt; next; // reference to the subsequent node in\n\n        public Node(E element, Node&lt;E&gt; prev, Node&lt;E&gt; next) {\n            this.element = element;\n            this.prev = prev;\n            this.next = next;\n        }\n        // public accessor methods\n\n        public E getElement() {\n            return element;\n        }\n\n        public Node&lt;E&gt; getPrev() {\n            return prev;\n        }\n\n        public Node&lt;E&gt; getNext() {\n            return next;\n        }\n        // Update methods\n\n        public void setPrev(Node&lt;E&gt; p) {\n            prev = p;\n        }\n\n        public void setNext(Node&lt;E&gt; n) {\n            next = n;\n        }\n    } //----------- end of nested Node class -----------\n\n    // instance variables of the DoublyLinkedList\n    private Node&lt;E&gt; header; // header sentinel\n    private Node&lt;E&gt; trailer; // trailer sentinel\n    private int size = 0; // number of elements in the list\n\n    public DoublyLinkedList() {\n        header = new Node&lt;&gt;(null, null, null); // create header\n        trailer = new Node&lt;&gt;(null, header, null); // trailer is preceded by\n\n        header.setNext(trailer); // header is followed by\n\n    }\n    // public accessor methods\n\n    public int size() {\n        return size;\n    }\n\n    public boolean isEmpty() {\n        return size == 0;\n    }\n\n    public void addLast(E e) {\n        addBetween(e, trailer.getPrev(), trailer); // place just before the\n\n    }\n    // public update methods\n\n    public void addBetween(E e, Node&lt;E&gt; predecessor, Node&lt;E&gt; successor) {\n        // create and link a new node\n        Node&lt;E&gt; newest = new Node&lt;&gt;(e, predecessor, successor);\n        predecessor.setNext(newest);\n        successor.setPrev(newest);\n        size++;\n\n    }\n\n    public Node&lt;E&gt; findNode(E e) {\n        E element = e;\n        if (isEmpty()) {\n            return null;\n        }\n        int node = 0;\n        Node&lt;E&gt; temp = header;\n        while (temp != null) {\n            if (temp.getNext() == element) {\n                return node;\n            }\n            node++;\n            temp = temp.getNext();\n        }\n    }\n\n    public String toString() {\n        ArrayList&lt;E&gt; ref = new ArrayList&lt;&gt;();\n        int counter = 1;\n\n        return ref.toString();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-layout","android-recyclerview","android-coordinatorlayout"],"comments":[{"owner":{"account_id":15731890,"reputation":917,"user_id":13049473,"display_name":"Sreehari K"},"score":0,"creation_date":1648310249,"post_id":71629440,"comment_id":126594156,"body_markdown":"Did you tried this https://stackoverflow.com/a/44778453/13049473","body":"Did you tried this <a href=\"https://stackoverflow.com/a/44778453/13049473\">stackoverflow.com/a/44778453/13049473</a>"},{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1648311979,"post_id":71629440,"comment_id":126594560,"body_markdown":"@SreehariK No, my bottom navigation bar is showing/hiding properly on swipe. But top ActionBar(Toolbar) is not. I want code for toolbar.","body":"@SreehariK No, my bottom navigation bar is showing/hiding properly on swipe. But top ActionBar(Toolbar) is not. I want code for toolbar."},{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1648398805,"post_id":71629440,"comment_id":126608565,"body_markdown":"Put toolbar inside an ActionBar","body":"Put toolbar inside an ActionBar"},{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1648447104,"post_id":71629440,"comment_id":126616741,"body_markdown":"@cmak Sorry, I couldn&#39;t understand. In ActionBar or AppBar?","body":"@cmak Sorry, I couldn&#39;t understand. In ActionBar or AppBar?"},{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1648462771,"post_id":71629440,"comment_id":126621607,"body_markdown":"Sorry yes, ActionBar https://stackoverflow.com/a/62870095/11880323","body":"Sorry yes, ActionBar <a href=\"https://stackoverflow.com/a/62870095/11880323\">stackoverflow.com/a/62870095/11880323</a>"}],"answers":[{"tags":[],"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666162280,"creation_date":1666162280,"answer_id":74120995,"question_id":71629440,"body_markdown":"Finally I found.\r\n\r\nThis is very simple to get swipeable (Show-Hide) both side of bottom Navigation and Top ActionBar without any backend code.\r\n\r\nFollow Below code\r\n```\r\n&lt;!--This is your parent layout--&gt;\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:id=&quot;@+id/appBarLayout&quot;\r\n        app:elevation=&quot;0dp&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;androidx.appcompat.widget.Toolbar\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:background=&quot;?attr/colorPrimary&quot;\r\n            app:layout_scrollFlags=&quot;scroll|enterAlways|snap&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;&gt; \r\n        &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n&lt;!--Move your main layout of the screen to a different layout and call it with include. Without including that, you cannot hide one of them Top or Bottom. So move that layout and include it here. (example-  @layout/content_main)--&gt;\r\n    &lt;FrameLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:fillViewport=&quot;true&quot;\r\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\r\n\r\n    &lt;include layout=&quot;@layout/content_main&quot;/&gt;\r\n\r\n    &lt;/FrameLayout&gt;\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/bottom_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;@dimen/custom_bottomBar_size&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_gravity=&quot;bottom&quot;\r\n        app:layout_behavior=&quot;com.google.android.material.behavior.HideBottomViewOnScrollBehavior&quot;\r\n        style=&quot;@style/Widget.Custom.BottomNavigationView&quot;\r\n        app:itemRippleColor=&quot;?android:attr/windowBackground&quot;\r\n        app:itemTextAppearanceActive=&quot;@color/white&quot;\r\n        app:labelVisibilityMode=&quot;labeled&quot;\r\n        app:menu=&quot;@menu/bottom_navigation&quot; /&gt;\r\n    \r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n```\r\nBy using ablow proper method, you&#39;ll easily swipe up-down both  `BottomNavigation` and Top `ActionBar`\r\n\r\nOutput is like below\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHope It&#39;ll help someone.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pFeS9.gif","title":"How to Show/Hide Action Bar on Swipe using Coordinator Layout?","body":"<p>Finally I found.</p>\n<p>This is very simple to get swipeable (Show-Hide) both side of bottom Navigation and Top ActionBar without any backend code.</p>\n<p>Follow Below code</p>\n<pre><code>&lt;!--This is your parent layout--&gt;\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:id=&quot;@+id/appBarLayout&quot;\n        app:elevation=&quot;0dp&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;androidx.appcompat.widget.Toolbar\n            android:id=&quot;@+id/toolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:background=&quot;?attr/colorPrimary&quot;\n            app:layout_scrollFlags=&quot;scroll|enterAlways|snap&quot;\n            android:layout_height=&quot;?attr/actionBarSize&quot;&gt; \n        &lt;/androidx.appcompat.widget.Toolbar&gt;\n\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n&lt;!--Move your main layout of the screen to a different layout and call it with include. Without including that, you cannot hide one of them Top or Bottom. So move that layout and include it here. (example-  @layout/content_main)--&gt;\n    &lt;FrameLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:fillViewport=&quot;true&quot;\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\n\n    &lt;include layout=&quot;@layout/content_main&quot;/&gt;\n\n    &lt;/FrameLayout&gt;\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/bottom_view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;@dimen/custom_bottomBar_size&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_gravity=&quot;bottom&quot;\n        app:layout_behavior=&quot;com.google.android.material.behavior.HideBottomViewOnScrollBehavior&quot;\n        style=&quot;@style/Widget.Custom.BottomNavigationView&quot;\n        app:itemRippleColor=&quot;?android:attr/windowBackground&quot;\n        app:itemTextAppearanceActive=&quot;@color/white&quot;\n        app:labelVisibilityMode=&quot;labeled&quot;\n        app:menu=&quot;@menu/bottom_navigation&quot; /&gt;\n    \n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>By using ablow proper method, you'll easily swipe up-down both  <code>BottomNavigation</code> and Top <code>ActionBar</code></p>\n<p>Output is like below</p>\n<p><a href=\"https://i.stack.imgur.com/pFeS9.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pFeS9.gif\" alt=\"enter image description here\" /></a></p>\n<p>Hope It'll help someone.</p>\n"}],"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74120995,"answer_count":1,"score":0,"last_activity_date":1666162280,"creation_date":1648309017,"question_id":71629440,"body_markdown":"I show/hide the bottom navigation bar on swiping with **CoordinatorLayout** but am unable to show/hide the action bar using **CoordinatorLayout**. What mistake I did in my layout?\r\n\r\nOn swiping, the bottom navigation bar in my layout is auto-hide and show but not on the top action bar?\r\n\r\nThis is My XML Layout:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=&quot;@+id/noInternet_layout&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/no_wifi_image&quot;\r\n            android:visibility=&quot;gone&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:srcCompat=&quot;@drawable/ic_wifi_off_24&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/no_wifi_text&quot;\r\n            android:visibility=&quot;gone&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            android:text=&quot;@string/noWifi&quot;\r\n            android:textSize=&quot;16sp&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/no_wifi_image&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/no_wifi_image&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/no_wifi_image&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/no_wifi_button&quot;\r\n            android:visibility=&quot;gone&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:text=&quot;TRY AGAIN&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/no_wifi_text&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/no_wifi_text&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/no_wifi_text&quot; /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=&quot;@+id/constraintLyt&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;include\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            layout=&quot;@layout/main_toolbar&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_scrollFlags=&quot;scroll|enterAlways&quot; /&gt;\r\n\r\n        &lt;androidx.fragment.app.FragmentContainerView\r\n            android:id=&quot;@+id/navHostFrag&quot;\r\n            android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            app:defaultNavHost=&quot;true&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/constraintLyt&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/toolbar&quot;\r\n            app:layout_constraintVertical_bias=&quot;1.0&quot;\r\n            app:navGraph=&quot;@navigation/mobile_navigation&quot; /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/navView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;?android:attr/windowBackground&quot;\r\n        app:itemTextColor=&quot;@drawable/bottom_text_selector&quot;\r\n        app:itemIconTint=&quot;@drawable/bottom_navigation_selector&quot;\r\n        app:layout_behavior=&quot;@string/hide_bottom_view_on_scroll_behavior&quot;\r\n        app:itemTextAppearanceActive=&quot;@color/white&quot;\r\n        app:labelVisibilityMode=&quot;labeled&quot;\r\n        app:itemRippleColor=&quot;@color/menucolor&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        android:layout_gravity=&quot;bottom&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\nPlease Help me to solve this issue?","title":"How to Show/Hide Action Bar on Swipe using Coordinator Layout?","body":"<p>I show/hide the bottom navigation bar on swiping with <strong>CoordinatorLayout</strong> but am unable to show/hide the action bar using <strong>CoordinatorLayout</strong>. What mistake I did in my layout?</p>\n<p>On swiping, the bottom navigation bar in my layout is auto-hide and show but not on the top action bar?</p>\n<p>This is My XML Layout:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout \nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:orientation=&quot;vertical&quot;\nandroid:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:id=&quot;@+id/noInternet_layout&quot;\n    android:visibility=&quot;gone&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/no_wifi_image&quot;\n        android:visibility=&quot;gone&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:srcCompat=&quot;@drawable/ic_wifi_off_24&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/no_wifi_text&quot;\n        android:visibility=&quot;gone&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        android:text=&quot;@string/noWifi&quot;\n        android:textSize=&quot;16sp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/no_wifi_image&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/no_wifi_image&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/no_wifi_image&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/no_wifi_button&quot;\n        android:visibility=&quot;gone&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:text=&quot;TRY AGAIN&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/no_wifi_text&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/no_wifi_text&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/no_wifi_text&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:id=&quot;@+id/constraintLyt&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;include\n        android:id=&quot;@+id/toolbar&quot;\n        layout=&quot;@layout/main_toolbar&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_scrollFlags=&quot;scroll|enterAlways&quot; /&gt;\n\n    &lt;androidx.fragment.app.FragmentContainerView\n        android:id=&quot;@+id/navHostFrag&quot;\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:defaultNavHost=&quot;true&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/constraintLyt&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/toolbar&quot;\n        app:layout_constraintVertical_bias=&quot;1.0&quot;\n        app:navGraph=&quot;@navigation/mobile_navigation&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n    android:id=&quot;@+id/navView&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;?android:attr/windowBackground&quot;\n    app:itemTextColor=&quot;@drawable/bottom_text_selector&quot;\n    app:itemIconTint=&quot;@drawable/bottom_navigation_selector&quot;\n    app:layout_behavior=&quot;@string/hide_bottom_view_on_scroll_behavior&quot;\n    app:itemTextAppearanceActive=&quot;@color/white&quot;\n    app:labelVisibilityMode=&quot;labeled&quot;\n    app:itemRippleColor=&quot;@color/menucolor&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n    android:layout_gravity=&quot;bottom&quot;\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\n    app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>Please Help me to solve this issue?</p>\n"},{"tags":["java","sql-server","eclipse"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1666158870,"post_id":74120354,"comment_id":130866265,"body_markdown":"Can you check in your tomcat `webapps/yourproject/WEB-INF/lib` directory if you have sqljdbc4 jar file?","body":"Can you check in your tomcat <code>webapps&#47;yourproject&#47;WEB-INF&#47;lib</code> directory if you have sqljdbc4 jar file?"}],"answers":[{"tags":[],"owner":{"account_id":8049065,"reputation":804,"user_id":6068297,"display_name":"Level_Up"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666162042,"creation_date":1666159744,"answer_id":74120588,"question_id":74120354,"body_markdown":"I look at your problem `Class [com.microsoft.jdbc.sqlserver.SQLServerDriver] not found` mean that it is missing from your classpath. My guess is that you load this class with set String `&quot;com.microsoft.jdbc.sqlserver.SQLServerDriver&quot;` somewhere in your application. You can check maybe in the file from your stacktrace: `cap_des_ui.xml`\r\n\r\nPlease try to change that string `&quot;com.microsoft.jdbc.sqlserver.SQLServerDriver&quot;` with `&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;`\r\n\r\nI see that in your `pom.xml` file you have `sqljdbc4` with version `4.2`. Also scope (`&lt;scope&gt;`) for that dependency is not set. More about dependency scopes here: https://blogs.oracle.com/developers/post/mastering-maven-dependency-basics\r\n\r\nBy default if you do not provide scope it will be compile. This mean that at compile time the artifact with the classes should be added inside your war file. If you want you can unzip your war file and search if really is there.\r\n\r\nAfter some research I found this answer:\r\nhttps://stackoverflow.com/a/32415105/6068297\r\nCredits to user: tanpham for this answer\r\n\r\n\r\nThis answer claim that there is difference in the path name of the class between the two version of the `sqljdbc4`.\r\n\r\nI read it like: sqljdbc4 with version 4.2 (I can&#39;t find artifact sqljdbc4.2 in Maven repository):\r\n\r\n`Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);`\r\n\r\nFor sqljdbc4 version below 4.2:\r\n\r\n`Class.forName(&quot;com.microsoft.jdbc.sqlserver.SQLServerDriver&quot;);`\r\n\r\nBy the way if this is the problem it will also explain why before it work and now not. You/your team simply updated the dependency `sqljdbc4` in the pom file. \r\n\r\nBest of luck to all!\r\n\r\n \r\n","title":"Exception Description: Configuration error. Class [com.microsoft.jdbc.sqlserver.SQLServerDriver] not found","body":"<p>I look at your problem <code>Class [com.microsoft.jdbc.sqlserver.SQLServerDriver] not found</code> mean that it is missing from your classpath. My guess is that you load this class with set String <code>&quot;com.microsoft.jdbc.sqlserver.SQLServerDriver&quot;</code> somewhere in your application. You can check maybe in the file from your stacktrace: <code>cap_des_ui.xml</code></p>\n<p>Please try to change that string <code>&quot;com.microsoft.jdbc.sqlserver.SQLServerDriver&quot;</code> with <code>&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;</code></p>\n<p>I see that in your <code>pom.xml</code> file you have <code>sqljdbc4</code> with version <code>4.2</code>. Also scope (<code>&lt;scope&gt;</code>) for that dependency is not set. More about dependency scopes here: <a href=\"https://blogs.oracle.com/developers/post/mastering-maven-dependency-basics\" rel=\"nofollow noreferrer\">https://blogs.oracle.com/developers/post/mastering-maven-dependency-basics</a></p>\n<p>By default if you do not provide scope it will be compile. This mean that at compile time the artifact with the classes should be added inside your war file. If you want you can unzip your war file and search if really is there.</p>\n<p>After some research I found this answer:\n<a href=\"https://stackoverflow.com/a/32415105/6068297\">https://stackoverflow.com/a/32415105/6068297</a>\nCredits to user: tanpham for this answer</p>\n<p>This answer claim that there is difference in the path name of the class between the two version of the <code>sqljdbc4</code>.</p>\n<p>I read it like: sqljdbc4 with version 4.2 (I can't find artifact sqljdbc4.2 in Maven repository):</p>\n<p><code>Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);</code></p>\n<p>For sqljdbc4 version below 4.2:</p>\n<p><code>Class.forName(&quot;com.microsoft.jdbc.sqlserver.SQLServerDriver&quot;);</code></p>\n<p>By the way if this is the problem it will also explain why before it work and now not. You/your team simply updated the dependency <code>sqljdbc4</code> in the pom file.</p>\n<p>Best of luck to all!</p>\n"}],"owner":{"account_id":26019398,"reputation":19,"user_id":19727296,"display_name":"Abikrish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74120588,"answer_count":1,"score":0,"last_activity_date":1666162042,"creation_date":1666157861,"question_id":74120354,"body_markdown":"My project was working fine until one day it didn&#39;t. I get the following error when I try to run the project in my tomcat server. I followed other threads in StackOverflow but none of them worked. I cleaned my repository, installed fresh workspace but none of them worked. Someone please help me identify what suddenly went wrong. My pom.xml is as follows\r\n\r\n```\r\n     &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;sqljdbc4&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t        &lt;exclusion&gt;\r\n\t\t            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n\t\t            &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\r\n\t\t        &lt;/exclusion&gt;\r\n\t\t        &lt;exclusion&gt;\r\n\t\t            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n\t\t            &lt;artifactId&gt;jakarta.persistence&lt;/artifactId&gt;\r\n\t\t        &lt;/exclusion&gt;\r\n\t\t    &lt;/exclusions&gt;\r\n\t\t\t&lt;!-- &lt;version&gt;2.6.4&lt;/version&gt; --&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nThe stack trace is as below\r\n\r\n```\r\n[EL Info]: 2022-10-19 10:48:17.06--ServerSession(1180572281)--Thread(Thread[main,5,main])--EclipseLink, version: Eclipse Persistence Services - 2.7.3.v20180807-4be1041\r\n[EL Severe]: ejb: 2022-10-19 10:48:17.077--ServerSession(1180572281)--Thread(Thread[main,5,main])--Exception [EclipseLink-4003] (Eclipse Persistence Services - 2.7.3.v20180807-4be1041): org.eclipse.persistence.exceptions.DatabaseException\r\nException Description: Configuration error.  Class [com.microsoft.jdbc.sqlserver.SQLServerDriver] not found.\r\nOct 19, 2022 10:48:17 AM org.apache.catalina.core.StandardContext listenerStart\r\nSEVERE: Exception sending context initialized event to listener instance of class [com.abb.se.ppc.core.boot.SpringContextListener]\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;ClientContext&#39; defined in URL [file:C:/CapDes_Stage/Code/HE_STAGE/CapDes_G_Config_DB/frame_work_config/frame_work/ui/cap_des_ui.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.abb.se.ppc.client.ClientContext]: Constructor threw exception; nested exception is javax.persistence.PersistenceException: Exception [EclipseLink-4003] (Eclipse Persistence Services - 2.7.3.v20180807-4be1041): org.eclipse.persistence.exceptions.DatabaseException\r\nException Description: Configuration error.  Class [com.microsoft.jdbc.sqlserver.SQLServerDriver] not found.\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1076)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1021)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:504)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:304)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:195)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:700)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:760)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482)\r\n\t....................\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n```","title":"Exception Description: Configuration error. Class [com.microsoft.jdbc.sqlserver.SQLServerDriver] not found","body":"<p>My project was working fine until one day it didn't. I get the following error when I try to run the project in my tomcat server. I followed other threads in StackOverflow but none of them worked. I cleaned my repository, installed fresh workspace but none of them worked. Someone please help me identify what suddenly went wrong. My pom.xml is as follows</p>\n<pre><code>     &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;sqljdbc4&lt;/artifactId&gt;\n            &lt;version&gt;4.2&lt;/version&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n            &lt;version&gt;2.7.3&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n                    &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n                    &lt;artifactId&gt;jakarta.persistence&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n            &lt;!-- &lt;version&gt;2.6.4&lt;/version&gt; --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\n            &lt;version&gt;2.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>The stack trace is as below</p>\n<pre><code>[EL Info]: 2022-10-19 10:48:17.06--ServerSession(1180572281)--Thread(Thread[main,5,main])--EclipseLink, version: Eclipse Persistence Services - 2.7.3.v20180807-4be1041\n[EL Severe]: ejb: 2022-10-19 10:48:17.077--ServerSession(1180572281)--Thread(Thread[main,5,main])--Exception [EclipseLink-4003] (Eclipse Persistence Services - 2.7.3.v20180807-4be1041): org.eclipse.persistence.exceptions.DatabaseException\nException Description: Configuration error.  Class [com.microsoft.jdbc.sqlserver.SQLServerDriver] not found.\nOct 19, 2022 10:48:17 AM org.apache.catalina.core.StandardContext listenerStart\nSEVERE: Exception sending context initialized event to listener instance of class [com.abb.se.ppc.core.boot.SpringContextListener]\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ClientContext' defined in URL [file:C:/CapDes_Stage/Code/HE_STAGE/CapDes_G_Config_DB/frame_work_config/frame_work/ui/cap_des_ui.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.abb.se.ppc.client.ClientContext]: Constructor threw exception; nested exception is javax.persistence.PersistenceException: Exception [EclipseLink-4003] (Eclipse Persistence Services - 2.7.3.v20180807-4be1041): org.eclipse.persistence.exceptions.DatabaseException\nException Description: Configuration error.  Class [com.microsoft.jdbc.sqlserver.SQLServerDriver] not found.\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1076)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1021)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:504)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:304)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:195)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:700)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:760)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482)\n    ....................\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\n</code></pre>\n"},{"tags":["java","hibernate","hql","jpql","hibernate-mapping"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1666086271,"post_id":74108798,"comment_id":130846510,"body_markdown":"Use the correct query :) - Seriously, without any code and maybe an example containing input data and output you expect/get it&#39;s hard to help other than making vague suggestions. You might want to read [ask] and try to put yourself in our spot: would you know what to do with as little information as you&#39;ve provided?","body":"Use the correct query :) - Seriously, without any code and maybe an example containing input data and output you expect/get it&#39;s hard to help other than making vague suggestions. You might want to read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and try to put yourself in our spot: would you know what to do with as little information as you&#39;ve provided?"},{"owner":{"account_id":15790667,"reputation":90,"user_id":11394009,"display_name":"Praveen kumar"},"score":0,"creation_date":1666089475,"post_id":74108798,"comment_id":130847664,"body_markdown":"@Thomas Sorry , my bad, I have updated my question with queries. Can you please check once.","body":"@Thomas Sorry , my bad, I have updated my question with queries. Can you please check once."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1666161121,"post_id":74108798,"comment_id":130866836,"body_markdown":"Those are some quite complex queries... One thing that immediately springs to my mind: you have multiple `left join fetch` which as far as I know has 2 &quot;issues&quot;: 1) a fetch join doesn&#39;t need `left` etc. and this is probably ignored and 2) Hibernate used to have problems with multiple fetch joins, especially if they are nested.","body":"Those are some quite complex queries... One thing that immediately springs to my mind: you have multiple <code>left join fetch</code> which as far as I know has 2 &quot;issues&quot;: 1) a fetch join doesn&#39;t need <code>left</code> etc. and this is probably ignored and 2) Hibernate used to have problems with multiple fetch joins, especially if they are nested."}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666161979,"creation_date":1666161979,"answer_id":74120945,"question_id":74108798,"body_markdown":"You might want to read up on what a fetch join is: it&#39;s a SQL join (which has no fetch) but JPA will ignore the result in its query. Nevertheless all those fetch joins will create a cartesian product which means `itinerary` is duplicated. If you use `distinct` as well as `group by` you&#39;ll truncate the result of that product which in turn won&#39;t include all the child records.\r\n\r\nThus I&#39;d suggest you go with the first query and filter the duplicates by putting them into a `LinkedHashSet` so you can maintain the order the query returns them in.\r\nThis of course required proper implementation of `equals()` and `hashCode()` which I assume you know already.\r\n\r\nExample:\r\n\r\n    List&lt;Itinerary&gt; queryResult = ...;\r\n  \r\n    Set&lt;Itinerary&gt; uniqueItineraries = new LinkedHashSet&lt;&gt;();\r\n    for( Itinerary itinerary : queryResult ) {\r\n      uniqueItineraries.add(itinerary);\r\n    }\r\n\r\n    List&lt;Itinerary&gt; filteredList = new ArrayList&lt;&gt;(uniqueItineraries);\r\n\r\nIn any case this query seems to load an aweful lot of data in one go so you might want to rethink your options, e.g. why not load the itineraries without their children and fetch the children separately when necessary. I&#39;d assume that most of this data won&#39;t be displayed in a larger listing anyway.","title":"Hibernate join fetch not giving all child records","body":"<p>You might want to read up on what a fetch join is: it's a SQL join (which has no fetch) but JPA will ignore the result in its query. Nevertheless all those fetch joins will create a cartesian product which means <code>itinerary</code> is duplicated. If you use <code>distinct</code> as well as <code>group by</code> you'll truncate the result of that product which in turn won't include all the child records.</p>\n<p>Thus I'd suggest you go with the first query and filter the duplicates by putting them into a <code>LinkedHashSet</code> so you can maintain the order the query returns them in.\nThis of course required proper implementation of <code>equals()</code> and <code>hashCode()</code> which I assume you know already.</p>\n<p>Example:</p>\n<pre><code>List&lt;Itinerary&gt; queryResult = ...;\n\nSet&lt;Itinerary&gt; uniqueItineraries = new LinkedHashSet&lt;&gt;();\nfor( Itinerary itinerary : queryResult ) {\n  uniqueItineraries.add(itinerary);\n}\n\nList&lt;Itinerary&gt; filteredList = new ArrayList&lt;&gt;(uniqueItineraries);\n</code></pre>\n<p>In any case this query seems to load an aweful lot of data in one go so you might want to rethink your options, e.g. why not load the itineraries without their children and fetch the children separately when necessary. I'd assume that most of this data won't be displayed in a larger listing anyway.</p>\n"}],"owner":{"account_id":15790667,"reputation":90,"user_id":11394009,"display_name":"Praveen kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666161979,"creation_date":1666085824,"question_id":74108798,"body_markdown":"As I am using HQL queries with join fetch. When I am using group by with parent id, Then I am not getting single child record. If I didn&#39;t use the group by, then I am getting all child records.\r\nBut if I didn&#39;t use group by I am getting duplicate parent records. Can you please help me how to get all child records with group by.\r\n\r\n**Edit 1**\r\n\r\n**Query without Group by**\r\n\r\n    select distinct itinerary from Itinerary itinerary \r\n       join fetch itinerary.customer customer \r\n       left join fetch customer.rewardProgram \r\n       left join fetch customer.customerContactDetails \r\n       left join fetch customer.customerPreferredAirlines \r\n       left join fetch itinerary.couponHistory \r\n       left join fetch itinerary.rewardUsageData \r\n       left join fetch itinerary.itineraryCancellationDetails \r\n       left join fetch itinerary.insuranceDetails \r\n       left join fetch itinerary.customerTravelRequest  \r\n       left join fetch itinerary.flightSegments flightSegments \r\n       left join fetch itinerary.employeeEmployerDetails \r\n       left join fetch itinerary.customerGSTClaimDetails \r\n       left join fetch itinerary.itineraryExtension \r\n       left join fetch itinerary.itineraryGSTDetails \r\n       left join fetch itinerary.itnerariesTravlersAssosciation assosciation \r\n       left join fetch assosciation.traveler\r\n       where (itinerary.status IN (&#39;BOOK&#39;,&#39;CONFIRM&#39;)) \r\n         AND (itinerary.id,flightSegments.arrivalTime) IN \r\n           (select flightSegments.itinerary,flightSegments.arrivalTime \r\n              from flightSegments where flightSegments.arrivalTime &gt;= ?2) \r\n         AND customer.id = ?1 AND itinerary.companyId = :companyId \r\n      ORDER BY itinerary.bookingDate DESC\r\n\r\n\r\n\r\n**Query with Group By**\r\n\r\n    select distinct itinerary from Itinerary itinerary \r\n       join fetch itinerary.customer customer \r\n       left join fetch customer.rewardProgram \r\n       left join fetch customer.customerContactDetails \r\n       left join fetch customer.customerPreferredAirlines \r\n       left join fetch itinerary.couponHistory \r\n       left join fetch itinerary.rewardUsageData \r\n       left join fetch itinerary.itineraryCancellationDetails \r\n       left join fetch itinerary.insuranceDetails \r\n       left join fetch itinerary.customerTravelRequest  \r\n       left join fetch itinerary.flightSegments flightSegments \r\n       left join fetch itinerary.employeeEmployerDetails \r\n       left join fetch itinerary.customerGSTClaimDetails \r\n       left join fetch itinerary.itineraryExtension \r\n       left join fetch itinerary.itineraryGSTDetails \r\n       left join fetch itinerary.itnerariesTravlersAssosciation assosciation \r\n       left join fetch assosciation.traveler \r\n       where (itinerary.status IN (&#39;BOOK&#39;,&#39;CONFIRM&#39;)) \r\n         AND (itinerary.id,flightSegments.arrivalTime) IN \r\n           (select flightSegments.itinerary,flightSegments.arrivalTime \r\n              from flightSegments where flightSegments.arrivalTime &gt;= ?2) \r\n         AND  customer.id = ?1 AND itinerary.companyId = :companyId \r\n       group by flightSegments.itinerary.id \r\n       ORDER BY itinerary.bookingDate DESC\r\n\r\n","title":"Hibernate join fetch not giving all child records","body":"<p>As I am using HQL queries with join fetch. When I am using group by with parent id, Then I am not getting single child record. If I didn't use the group by, then I am getting all child records.\nBut if I didn't use group by I am getting duplicate parent records. Can you please help me how to get all child records with group by.</p>\n<p><strong>Edit 1</strong></p>\n<p><strong>Query without Group by</strong></p>\n<pre><code>select distinct itinerary from Itinerary itinerary \n   join fetch itinerary.customer customer \n   left join fetch customer.rewardProgram \n   left join fetch customer.customerContactDetails \n   left join fetch customer.customerPreferredAirlines \n   left join fetch itinerary.couponHistory \n   left join fetch itinerary.rewardUsageData \n   left join fetch itinerary.itineraryCancellationDetails \n   left join fetch itinerary.insuranceDetails \n   left join fetch itinerary.customerTravelRequest  \n   left join fetch itinerary.flightSegments flightSegments \n   left join fetch itinerary.employeeEmployerDetails \n   left join fetch itinerary.customerGSTClaimDetails \n   left join fetch itinerary.itineraryExtension \n   left join fetch itinerary.itineraryGSTDetails \n   left join fetch itinerary.itnerariesTravlersAssosciation assosciation \n   left join fetch assosciation.traveler\n   where (itinerary.status IN ('BOOK','CONFIRM')) \n     AND (itinerary.id,flightSegments.arrivalTime) IN \n       (select flightSegments.itinerary,flightSegments.arrivalTime \n          from flightSegments where flightSegments.arrivalTime &gt;= ?2) \n     AND customer.id = ?1 AND itinerary.companyId = :companyId \n  ORDER BY itinerary.bookingDate DESC\n</code></pre>\n<p><strong>Query with Group By</strong></p>\n<pre><code>select distinct itinerary from Itinerary itinerary \n   join fetch itinerary.customer customer \n   left join fetch customer.rewardProgram \n   left join fetch customer.customerContactDetails \n   left join fetch customer.customerPreferredAirlines \n   left join fetch itinerary.couponHistory \n   left join fetch itinerary.rewardUsageData \n   left join fetch itinerary.itineraryCancellationDetails \n   left join fetch itinerary.insuranceDetails \n   left join fetch itinerary.customerTravelRequest  \n   left join fetch itinerary.flightSegments flightSegments \n   left join fetch itinerary.employeeEmployerDetails \n   left join fetch itinerary.customerGSTClaimDetails \n   left join fetch itinerary.itineraryExtension \n   left join fetch itinerary.itineraryGSTDetails \n   left join fetch itinerary.itnerariesTravlersAssosciation assosciation \n   left join fetch assosciation.traveler \n   where (itinerary.status IN ('BOOK','CONFIRM')) \n     AND (itinerary.id,flightSegments.arrivalTime) IN \n       (select flightSegments.itinerary,flightSegments.arrivalTime \n          from flightSegments where flightSegments.arrivalTime &gt;= ?2) \n     AND  customer.id = ?1 AND itinerary.companyId = :companyId \n   group by flightSegments.itinerary.id \n   ORDER BY itinerary.bookingDate DESC\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1354408272,"post_id":13665188,"comment_id":18755142,"body_markdown":"What happens when you compile this code?","body":"What happens when you compile this code?"},{"owner":{"account_id":2102275,"reputation":93,"user_id":1869570,"display_name":"vitriolik"},"score":0,"creation_date":1354408609,"post_id":13665188,"comment_id":18755186,"body_markdown":"It will run (I&#39;m writing in Netbeans IDE), but it prints the same random numbers, say 9,9,2 ten times.","body":"It will run (I&#39;m writing in Netbeans IDE), but it prints the same random numbers, say 9,9,2 ten times."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1354492960,"post_id":13665188,"comment_id":18772068,"body_markdown":"Did your original code using `int[]`s do the same thing?","body":"Did your original code using <code>int[]</code>s do the same thing?"}],"answers":[{"tags":[],"owner":{"account_id":952494,"reputation":9323,"user_id":978360,"accept_rate":59,"display_name":"TieDad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354408138,"creation_date":1354408138,"answer_id":13665227,"question_id":13665188,"body_markdown":"Besides the problem in the other answer, you cal it.next() two times, that cause the iterator move forward two times, obviously that&#39;s not what you want. The code like this:\r\n\r\n    element = (int[])it.next()); \r\n    String el = (String)element;\r\n\r\nBut actually, I don&#39;t see you used el. Although it&#39;s legal, it seems meaningless.","title":"ArrayList of integer arrays","body":"<p>Besides the problem in the other answer, you cal it.next() two times, that cause the iterator move forward two times, obviously that's not what you want. The code like this:</p>\n\n<pre><code>element = (int[])it.next()); \nString el = (String)element;\n</code></pre>\n\n<p>But actually, I don't see you used el. Although it's legal, it seems meaningless.</p>\n"},{"tags":[],"owner":{"account_id":1826914,"reputation":523,"user_id":1659362,"accept_rate":75,"display_name":"hologram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1354509263,"creation_date":1354408223,"answer_id":13665239,"question_id":13665188,"body_markdown":"You have an extra `)` here:\r\n\r\n    element = (int[])it.next()); //with the extra parenthesis the code will not compile \r\n\r\nshould be:\r\n\r\n    element = (int[])it.next(); \r\n\r\n\r\n","title":"ArrayList of integer arrays","body":"<p>You have an extra <code>)</code> here:</p>\n\n<pre><code>element = (int[])it.next()); //with the extra parenthesis the code will not compile \n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>element = (int[])it.next(); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":957076,"reputation":447,"user_id":982186,"accept_rate":37,"display_name":"saGii"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1354408554,"creation_date":1354408554,"answer_id":13665267,"question_id":13665188,"body_markdown":"I would highly recommend to enclose the integer array of 3 numbers into a meaningful class, that would hold, display and control an array of 3 integers.\r\n\r\nThen in your main, you can have an growing ArrayList of objects of that class.","title":"ArrayList of integer arrays","body":"<p>I would highly recommend to enclose the integer array of 3 numbers into a meaningful class, that would hold, display and control an array of 3 integers.</p>\n\n<p>Then in your main, you can have an growing ArrayList of objects of that class.</p>\n"},{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1354493901,"creation_date":1354493901,"answer_id":13675526,"question_id":13665188,"body_markdown":"First of all, several of the other answers are misleading and/or incorrect. Note that an array is an object. So you can use them as elements in a list, no matter whether the arrays themselves contain primitive types or object references.\r\n\r\nNext, declaring a variable as `List&lt;int[]&gt; list` is preferred over declaring it as `ArrayList&lt;int[]&gt;`. This allows you to easily change the `List` to a `LinkedList` or some other implementation without breaking the rest of your code because it is guaranteed to use only methods available in the `List` interface. For more information, you should research &quot;programming to the interface.&quot;\r\n\r\nNow to answer your real question, which was only added as a comment. Let&#39;s look at a few lines of your code:\r\n\r\n    Integer[] point = new Integer[3];\r\n\r\nThis line creates an array of `Integer`s, obviously.\r\n\r\n    for (int i = 0; i &lt; 10; i++) {\r\n        for (int j = 0; j &lt; 3; j++) {\r\n            point[j] = (int)(Math.random() * 10);\r\n        }            \r\n\r\n        //Doesn&#39;t this line add filled Integer[] point to the \r\n        //end of ArrayList list?\r\n        list.add(point);\r\n        //...\r\n    }\r\n\r\nHere you assign values to the elements of the array and then add a **reference** to the array to your `List`. Each time the loop iterates, you assign new values **to the same array** and add **another reference to the same array** to the `List`. This means that the `List` has 10 references **to the same array** which has been repeatedly written over.\r\n\r\n\r\n   Iterator it = list.iterator();\r\n    while (it.hasNext()) {\r\n        point = (Integer[])it.next();\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            System.out.print(point[i] + &quot;,&quot;);\r\n        } \r\n            System.out.println(); \r\n        } \r\n    }\r\n\r\nNow this loop prints out the **same array** 10 times. The values in the array are the last ones set at the end of the previous loop.\r\n\r\nTo fix the problem, you simply need to be sure to create 10 **different** arrays.\r\n\r\nOne last issue: If you declare `it` as `Iterator&lt;Integer[]&gt; it` (or `Iterator&lt;int[]&gt; it`), you do not need to cast the return value of `it.next()`. In fact this is preferred because it is type-safe.\r\n\r\nFinally, I want to ask what the `int`s in each array represent? You might want to revisit your program design and create a class that holds these three `int`s, either as an array or as three member variables.","title":"ArrayList of integer arrays","body":"<p>First of all, several of the other answers are misleading and/or incorrect. Note that an array is an object. So you can use them as elements in a list, no matter whether the arrays themselves contain primitive types or object references.</p>\n\n<p>Next, declaring a variable as <code>List&lt;int[]&gt; list</code> is preferred over declaring it as <code>ArrayList&lt;int[]&gt;</code>. This allows you to easily change the <code>List</code> to a <code>LinkedList</code> or some other implementation without breaking the rest of your code because it is guaranteed to use only methods available in the <code>List</code> interface. For more information, you should research \"programming to the interface.\"</p>\n\n<p>Now to answer your real question, which was only added as a comment. Let's look at a few lines of your code:</p>\n\n<pre><code>Integer[] point = new Integer[3];\n</code></pre>\n\n<p>This line creates an array of <code>Integer</code>s, obviously.</p>\n\n<pre><code>for (int i = 0; i &lt; 10; i++) {\n    for (int j = 0; j &lt; 3; j++) {\n        point[j] = (int)(Math.random() * 10);\n    }            \n\n    //Doesn't this line add filled Integer[] point to the \n    //end of ArrayList list?\n    list.add(point);\n    //...\n}\n</code></pre>\n\n<p>Here you assign values to the elements of the array and then add a <strong>reference</strong> to the array to your <code>List</code>. Each time the loop iterates, you assign new values <strong>to the same array</strong> and add <strong>another reference to the same array</strong> to the <code>List</code>. This means that the <code>List</code> has 10 references <strong>to the same array</strong> which has been repeatedly written over.</p>\n\n<p>Iterator it = list.iterator();\n    while (it.hasNext()) {\n        point = (Integer[])it.next();\n        for (int i = 0; i &lt; 3; i++) {\n            System.out.print(point[i] + \",\");\n        } \n            System.out.println(); \n        } \n    }</p>\n\n<p>Now this loop prints out the <strong>same array</strong> 10 times. The values in the array are the last ones set at the end of the previous loop.</p>\n\n<p>To fix the problem, you simply need to be sure to create 10 <strong>different</strong> arrays.</p>\n\n<p>One last issue: If you declare <code>it</code> as <code>Iterator&lt;Integer[]&gt; it</code> (or <code>Iterator&lt;int[]&gt; it</code>), you do not need to cast the return value of <code>it.next()</code>. In fact this is preferred because it is type-safe.</p>\n\n<p>Finally, I want to ask what the <code>int</code>s in each array represent? You might want to revisit your program design and create a class that holds these three <code>int</code>s, either as an array or as three member variables.</p>\n"}],"owner":{"account_id":2102275,"reputation":93,"user_id":1869570,"display_name":"vitriolik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46329,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":13675526,"answer_count":4,"score":9,"last_activity_date":1666161382,"creation_date":1354407811,"question_id":13665188,"body_markdown":"I&#39;m trying to write a simple game where an enemy chases the player on a grid. I&#39;m using the simple algorithm for pathfinding from the Wikipedia page on pathfinding. This involves creating two lists with each list item containing 3 integers. Here&#39;s test code I&#39;m trying out to build and display such a list.\r\n\r\nWhen I run the following code, it prints out the same numbers for each array in the ArrayList. Why does it do this?\r\n\r\n    public class ListTest {\r\n\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;Integer[]&gt; list = new ArrayList&lt;Integer[]&gt;(); \r\n        Integer[] point = new Integer[3];\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            for (int j = 0; j &lt; 3; j++) {\r\n                point[j] = (int)(Math.random() * 10);\r\n            }            \r\n\r\n            //Doesn&#39;t this line add filled Integer[] point to the \r\n            //end of ArrayList list?\r\n            list.add(point);      \r\n\r\n            //Added this line to confirm that Integer[] point is actually \r\n            //being filled with 3 random ints.\r\n            System.out.println(point[0] + &quot;,&quot; + point[1] + &quot;,&quot; + point[2]);\r\n        }\r\n        System.out.println();\r\n\r\n        //My current understanding is that this section should step through \r\n        //ArrayList list and retrieve each Integer[] point added above. It runs, but only \r\n        //the values of the last Integer[] point from above are displayed 10 times.\r\n        Iterator it = list.iterator();\r\n        while (it.hasNext()) {\r\n            point = (Integer[])it.next();  \r\n            for (int i = 0; i &lt; 3; i++) {\r\n                System.out.print(point[i] + &quot;,&quot;);\r\n            } \r\n                System.out.println(); \r\n            } \r\n        }\r\n    }","title":"ArrayList of integer arrays","body":"<p>I'm trying to write a simple game where an enemy chases the player on a grid. I'm using the simple algorithm for pathfinding from the Wikipedia page on pathfinding. This involves creating two lists with each list item containing 3 integers. Here's test code I'm trying out to build and display such a list.</p>\n<p>When I run the following code, it prints out the same numbers for each array in the ArrayList. Why does it do this?</p>\n<pre><code>public class ListTest {\n\npublic static void main(String[] args) {\n    ArrayList&lt;Integer[]&gt; list = new ArrayList&lt;Integer[]&gt;(); \n    Integer[] point = new Integer[3];\n    for (int i = 0; i &lt; 10; i++) {\n        for (int j = 0; j &lt; 3; j++) {\n            point[j] = (int)(Math.random() * 10);\n        }            \n\n        //Doesn't this line add filled Integer[] point to the \n        //end of ArrayList list?\n        list.add(point);      \n\n        //Added this line to confirm that Integer[] point is actually \n        //being filled with 3 random ints.\n        System.out.println(point[0] + &quot;,&quot; + point[1] + &quot;,&quot; + point[2]);\n    }\n    System.out.println();\n\n    //My current understanding is that this section should step through \n    //ArrayList list and retrieve each Integer[] point added above. It runs, but only \n    //the values of the last Integer[] point from above are displayed 10 times.\n    Iterator it = list.iterator();\n    while (it.hasNext()) {\n        point = (Integer[])it.next();  \n        for (int i = 0; i &lt; 3; i++) {\n            System.out.print(point[i] + &quot;,&quot;);\n        } \n            System.out.println(); \n        } \n    }\n}\n</code></pre>\n"},{"tags":["java","spring","postgresql","hibernate","partitioning"],"comments":[{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":1,"creation_date":1665651636,"post_id":74052929,"comment_id":130751427,"body_markdown":"I think you can call function like stored procedure https://www.postgresqltutorial.com/postgresql-jdbc/call-postgresql-stored-function/","body":"I think you can call function like stored procedure <a href=\"https://www.postgresqltutorial.com/postgresql-jdbc/call-postgresql-stored-function/\" rel=\"nofollow noreferrer\">postgresqltutorial.com/postgresql-jdbc/&hellip;</a>"},{"owner":{"account_id":101001,"reputation":119808,"user_id":271959,"display_name":"Frank Heikens"},"score":1,"creation_date":1665651936,"post_id":74052929,"comment_id":130751549,"body_markdown":"Why do you think your queries would be faster? This article doesn&#39;t even show it. A WHERE condition using the timestamp is good enough to go to the right partition(-s)","body":"Why do you think your queries would be faster? This article doesn&#39;t even show it. A WHERE condition using the timestamp is good enough to go to the right partition(-s)"},{"owner":{"account_id":5190004,"reputation":667,"user_id":4153207,"accept_rate":100,"display_name":"Felix"},"score":0,"creation_date":1665652622,"post_id":74052929,"comment_id":130751758,"body_markdown":"@Frank There is a lot of existing queries that would have to be rewritten to include the timestamp, that&#39;s why we&#39;re experiementing with that solution. In part 2 of the blog post you can see some numbers regarding performance https://database.one/blog/date_in_sequence_updates","body":"@Frank There is a lot of existing queries that would have to be rewritten to include the timestamp, that&#39;s why we&#39;re experiementing with that solution. In part 2 of the blog post you can see some numbers regarding performance <a href=\"https://database.one/blog/date_in_sequence_updates\" rel=\"nofollow noreferrer\">database.one/blog/date_in_sequence_updates</a>"},{"owner":{"account_id":101001,"reputation":119808,"user_id":271959,"display_name":"Frank Heikens"},"score":1,"creation_date":1665658080,"post_id":74052929,"comment_id":130753511,"body_markdown":"@Felix: There is not a single SELECT statement, nor query plan, that proves anything. There is a test on the INSERT statements, without any concurrency. I would be a little worried about setval() in a concurrent environment.","body":"@Felix: There is not a single SELECT statement, nor query plan, that proves anything. There is a test on the INSERT statements, without any concurrency. I would be a little worried about setval() in a concurrent environment."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":1,"creation_date":1666016007,"post_id":74052929,"comment_id":130828905,"body_markdown":"Can&#39;t you just create a new partition e.g. every day based on the current sequence value? That would approximate pretty good and you don&#39;t have to change anything in your existing code.","body":"Can&#39;t you just create a new partition e.g. every day based on the current sequence value? That would approximate pretty good and you don&#39;t have to change anything in your existing code."}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666014039,"creation_date":1666014039,"answer_id":74098258,"question_id":74052929,"body_markdown":"I think what you need here is a subtype of `SequenceStyleGenerator` that overrides `determineBulkInsertionIdentifierGenerationSelectFragment` to run the code of this function. You should be able to configure this generator on your entity with `@GenericGenerator`. I understand the desire to use this concept when you don&#39;t want to change your existing queries, but are you sure that partitioning will help you in your use case?\r\n\r\nAlso, be careful and do not rely on the date information in the primary key, because with pooled optimizers, it might happen that a value is generated way before it actually is used as primary key for a row.","title":"Generate Hibernate Id from database function, for table partitioning","body":"<p>I think what you need here is a subtype of <code>SequenceStyleGenerator</code> that overrides <code>determineBulkInsertionIdentifierGenerationSelectFragment</code> to run the code of this function. You should be able to configure this generator on your entity with <code>@GenericGenerator</code>. I understand the desire to use this concept when you don't want to change your existing queries, but are you sure that partitioning will help you in your use case?</p>\n<p>Also, be careful and do not rely on the date information in the primary key, because with pooled optimizers, it might happen that a value is generated way before it actually is used as primary key for a row.</p>\n"},{"tags":[],"owner":{"account_id":5190004,"reputation":667,"user_id":4153207,"accept_rate":100,"display_name":"Felix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666161270,"creation_date":1666161270,"answer_id":74120827,"question_id":74052929,"body_markdown":"So this is a solution that worked out in the end as suggested @ChristianBeikov here the entity with the annotations pointing to the `CustomIdGenerator`.  \r\n\r\n    public class Test {\r\n\r\n        @Id\r\n        @GenericGenerator(name = &quot;CustomIdGenerator&quot;, strategy = &quot;nl.test.components.CustomIdGenerator&quot;)\r\n        @GeneratedValue(generator = &quot;CustomIdGenerator&quot;)\r\n        private Long id;\r\n\r\n        private String something;\r\n        private OffsetDateTime tstamp;\r\n    }\r\n\r\nAs explained by @Mr_Thorynque [it is similarly possible to call a stored function as a procedure][1]. Just replace `&quot;CALL gen_test_key()&quot;` with `&quot;SELECT gen_test_key()&quot;` and don&#39;t pass it to the wrong method for stored procedures `connection.prepareCall(CALL_STORE_PROC);`, but instead `connection.prepareStatement(STORED_FUNCTION);` So, this is the `CustomIdGenerator`. \r\n\r\n    public class CustomIdGenerator implements IdentifierGenerator {\r\n\r\n    private static final String STORED_FUNCTION = &quot;select gen_test_key()&quot;;\r\n    \r\n    @Override\r\n    public Serializable generate(SharedSessionContractImplementor session, Object object) throws HibernateException {\r\n        Long result = null;\r\n        try {\r\n            Connection connection = session.connection();\r\n            PreparedStatement pstmt = connection.prepareStatement(STORED_FUNCTION);\r\n            ResultSet resultSet = pstmt.executeQuery();\r\n\r\n            if (resultSet.next()) {\r\n                result = resultSet.getLong(1);\r\n                System.out.println(&quot;Generated Id: &quot; + result);\r\n            }\r\n\r\n        } catch (SQLException sqlException) {\r\n            throw new HibernateException(sqlException);\r\n        }\r\n        return result;\r\n    }\r\n    }\r\n\r\n\r\n  [1]: https://www.postgresqltutorial.com/postgresql-jdbc/call-postgresql-stored-function/","title":"Generate Hibernate Id from database function, for table partitioning","body":"<p>So this is a solution that worked out in the end as suggested @ChristianBeikov here the entity with the annotations pointing to the <code>CustomIdGenerator</code>.</p>\n<pre><code>public class Test {\n\n    @Id\n    @GenericGenerator(name = &quot;CustomIdGenerator&quot;, strategy = &quot;nl.test.components.CustomIdGenerator&quot;)\n    @GeneratedValue(generator = &quot;CustomIdGenerator&quot;)\n    private Long id;\n\n    private String something;\n    private OffsetDateTime tstamp;\n}\n</code></pre>\n<p>As explained by @Mr_Thorynque <a href=\"https://www.postgresqltutorial.com/postgresql-jdbc/call-postgresql-stored-function/\" rel=\"nofollow noreferrer\">it is similarly possible to call a stored function as a procedure</a>. Just replace <code>&quot;CALL gen_test_key()&quot;</code> with <code>&quot;SELECT gen_test_key()&quot;</code> and don't pass it to the wrong method for stored procedures <code>connection.prepareCall(CALL_STORE_PROC);</code>, but instead <code>connection.prepareStatement(STORED_FUNCTION);</code> So, this is the <code>CustomIdGenerator</code>.</p>\n<pre><code>public class CustomIdGenerator implements IdentifierGenerator {\n\nprivate static final String STORED_FUNCTION = &quot;select gen_test_key()&quot;;\n\n@Override\npublic Serializable generate(SharedSessionContractImplementor session, Object object) throws HibernateException {\n    Long result = null;\n    try {\n        Connection connection = session.connection();\n        PreparedStatement pstmt = connection.prepareStatement(STORED_FUNCTION);\n        ResultSet resultSet = pstmt.executeQuery();\n\n        if (resultSet.next()) {\n            result = resultSet.getLong(1);\n            System.out.println(&quot;Generated Id: &quot; + result);\n        }\n\n    } catch (SQLException sqlException) {\n        throw new HibernateException(sqlException);\n    }\n    return result;\n}\n}\n</code></pre>\n"}],"owner":{"account_id":5190004,"reputation":667,"user_id":4153207,"accept_rate":100,"display_name":"Felix"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74098258,"answer_count":2,"score":0,"last_activity_date":1666161270,"creation_date":1665650856,"question_id":74052929,"body_markdown":"I want to embed date information in the primary key, for a table that will be partitioned (monthly) in a PostgreSQL database. This should in theory speed up the process on finding out in which partition to look for the data. I followed [this article][1] to embed the date in a date into the serial. \r\nNow, I am however facing the problem that I can&#39;t get the Id been used by Hibernate.\r\n\r\nc.f. the sql that should give an idea of the attempted approach.\r\n\r\n    CREATE SEQUENCE test_serial START 1;\r\n\r\n    CREATE OR REPLACE FUNCTION gen_test_key() RETURNS BIGINT AS $$\r\n    DECLARE\r\n        new_id bigint;\r\n    BEGIN\r\n        new_id = (nextval(&#39;public.test_serial&#39;::regclass)::bigint % 10000000000000::bigint\r\n            + ( (EXTRACT(year from now())-2000)::bigint * 10000::bigint\r\n                + EXTRACT(month from now())::bigint * 100::bigint\r\n                + EXTRACT(day from now())::bigint\r\n                  )::bigint * 10000000000000::bigint\r\n            )::bigint;\r\n        RETURN new_id;\r\n    END;\r\n    $$ LANGUAGE plpgsql;\r\n    \r\n    CREATE TABLE test\r\n    ( id bigint primary key default gen_test_key(),\r\n      something text,\r\n      tstamp timestamp default now()\r\n    ) PARTITION BY RANGE (id);\r\n    \r\n    CREATE TABLE test_2022_10 PARTITION OF test\r\n    FOR VALUES FROM (2210100000000000000::bigint ) TO (2211010000000000000::bigint);\r\n   \r\n\r\nI came across [a similar question][2], where it was suggested to use a stored procedure. Unfortunately only functions are allowed as default in the table definition and therefore stored procedures, seam not to work for me.\r\n\r\n  [1]: https://database.one/blog/date_in_sequence\r\n  [2]: https://stackoverflow.com/questions/22479912/hibernate-generate-id-from-database-function","title":"Generate Hibernate Id from database function, for table partitioning","body":"<p>I want to embed date information in the primary key, for a table that will be partitioned (monthly) in a PostgreSQL database. This should in theory speed up the process on finding out in which partition to look for the data. I followed <a href=\"https://database.one/blog/date_in_sequence\" rel=\"nofollow noreferrer\">this article</a> to embed the date in a date into the serial.\nNow, I am however facing the problem that I can't get the Id been used by Hibernate.</p>\n<p>c.f. the sql that should give an idea of the attempted approach.</p>\n<pre><code>CREATE SEQUENCE test_serial START 1;\n\nCREATE OR REPLACE FUNCTION gen_test_key() RETURNS BIGINT AS $$\nDECLARE\n    new_id bigint;\nBEGIN\n    new_id = (nextval('public.test_serial'::regclass)::bigint % 10000000000000::bigint\n        + ( (EXTRACT(year from now())-2000)::bigint * 10000::bigint\n            + EXTRACT(month from now())::bigint * 100::bigint\n            + EXTRACT(day from now())::bigint\n              )::bigint * 10000000000000::bigint\n        )::bigint;\n    RETURN new_id;\nEND;\n$$ LANGUAGE plpgsql;\n\nCREATE TABLE test\n( id bigint primary key default gen_test_key(),\n  something text,\n  tstamp timestamp default now()\n) PARTITION BY RANGE (id);\n\nCREATE TABLE test_2022_10 PARTITION OF test\nFOR VALUES FROM (2210100000000000000::bigint ) TO (2211010000000000000::bigint);\n</code></pre>\n<p>I came across <a href=\"https://stackoverflow.com/questions/22479912/hibernate-generate-id-from-database-function\">a similar question</a>, where it was suggested to use a stored procedure. Unfortunately only functions are allowed as default in the table definition and therefore stored procedures, seam not to work for me.</p>\n"},{"tags":["java","maven","visual-studio-code"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1666137969,"post_id":74118504,"comment_id":130863241,"body_markdown":"Based on your configuration you want to prevent your Maven from downloading anything from somewhere using http protocol, now what I don&#39;t understand is why do you think you need this configuration in the first place as Maven default repository is Maven Central (already https) as per its documentation: [Downloading from a Remote Repository](https://maven.apache.org/guides/introduction/introduction-to-repositories.html#downloading-from-a-remote-repository)","body":"Based on your configuration you want to prevent your Maven from downloading anything from somewhere using http protocol, now what I don&#39;t understand is why do you think you need this configuration in the first place as Maven default repository is Maven Central (already https) as per its documentation: <a href=\"https://maven.apache.org/guides/introduction/introduction-to-repositories.html#downloading-from-a-remote-repository\" rel=\"nofollow noreferrer\">Downloading from a Remote Repository</a>"},{"owner":{"account_id":10368178,"reputation":3402,"user_id":7646621,"accept_rate":63,"display_name":"qg_java_17137"},"score":0,"creation_date":1666146943,"post_id":74118504,"comment_id":130864464,"body_markdown":"@JorgeCampos Hi, thanks your response I will optimize it, my requirement is why my project do not use the `aliyun-sdk-oss`.","body":"@JorgeCampos Hi, thanks your response I will optimize it, my requirement is why my project do not use the <code>aliyun-sdk-oss</code>."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1666199559,"post_id":74118504,"comment_id":130881243,"body_markdown":"One thing to check, does VS code have access to that folder (/opt/apache-maven-3.8.6/repository)?","body":"One thing to check, does VS code have access to that folder (/opt/apache-maven-3.8.6/repository)?"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666159267,"creation_date":1666159267,"answer_id":74120522,"question_id":74118504,"body_markdown":"See if there is a reference to the `aliyun-sdk-oss` package in your maven panel.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf not, import as follows\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wxIX3.png\r\n  [2]: https://i.stack.imgur.com/Xkh1I.png","title":"Why my maven project cannot import the installed dependency in my vscode?","body":"<p>See if there is a reference to the <code>aliyun-sdk-oss</code> package in your maven panel.</p>\n<p><a href=\"https://i.stack.imgur.com/wxIX3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wxIX3.png\" alt=\"enter image description here\" /></a></p>\n<p>If not, import as follows</p>\n<p><a href=\"https://i.stack.imgur.com/Xkh1I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xkh1I.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":10368178,"reputation":3402,"user_id":7646621,"accept_rate":63,"display_name":"qg_java_17137"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666161253,"creation_date":1666136796,"question_id":74118504,"body_markdown":"I have a maven project:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nthe maven settings file is at there `/opt/apache-maven-3.8.6/conf/settings.xml`.\r\n\r\nthis is the content of maven `settings.xml`:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.2.0&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.2.0 https://maven.apache.org/xsd/settings-1.2.0.xsd&quot;&gt;\r\n\r\n  &lt;localRepository&gt;/opt/apache-maven-3.8.6/repository&lt;/localRepository&gt;\r\n\r\n  &lt;pluginGroups&gt;\r\n\r\n  &lt;/pluginGroups&gt;\r\n\r\n\r\n  &lt;proxies&gt;\r\n\r\n  &lt;/proxies&gt;\r\n\r\n\r\n  &lt;servers&gt;\r\n\r\n  &lt;/servers&gt;\r\n\r\n  &lt;mirrors&gt;\r\n    &lt;mirror&gt;\r\n      &lt;id&gt;maven-default-http-blocker&lt;/id&gt;\r\n      &lt;mirrorOf&gt;external:http:*&lt;/mirrorOf&gt;\r\n      &lt;name&gt;Pseudo repository to mirror external repositories initially using HTTP. \r\n      &lt;/name&gt;\r\n      &lt;url&gt;http://0.0.0.0/&lt;/url&gt;\r\n      &lt;blocked&gt;true&lt;/blocked&gt;\r\n    &lt;/mirror&gt;\r\n  &lt;/mirrors&gt;\r\n\r\n\r\n  &lt;profiles&gt;\r\n\r\n  &lt;/profiles&gt;\r\n\r\n&lt;/settings&gt;\r\n```\r\n\r\nin my maven project, the content of `pom.xml` is:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.markleo.app&lt;/groupId&gt;  \r\n    &lt;artifactId&gt;java-oss-upload-demo&lt;/artifactId&gt;  \r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n      &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n      &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n      &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.aliyun.oss&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aliyun-sdk-oss&lt;/artifactId&gt;\r\n        &lt;version&gt;3.15.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;1.8&lt;/source&gt;\r\n                &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nafter I execute `mvn install` success, the depency `aliyun-sdk-oss` be installed at there `/opt/apache-maven-3.8.6/repository/com/aliyun/oss/aliyun-sdk-oss`. \r\n\r\nbut in my project when I import it in `java-oss-upload-demo/src/main/java/com/markleo/app/Index.java`, \r\n```\r\npackage com.markleo.app;\r\n\r\nimport com.aliyun.oss.ClientException;\r\nimport com.aliyun.oss.OSS;\r\nimport com.aliyun.oss.OSSClientBuilder;\r\nimport com.aliyun.oss.OSSException;\r\nimport com.aliyun.oss.model.PutObjectRequest;\r\nimport java.io.File;\r\n...\r\n```\r\n\r\nI get error:\r\n```\r\nimport com.aliyun.oss.ClientException;\r\n                     ^\r\ncom/markleo/app/Index.java:4: error: package com.aliyun.oss does not exist\r\nimport com.aliyun.oss.OSS;\r\n                     ^\r\ncom/markleo/app/Index.java:5: error: package com.aliyun.oss does not exist\r\nimport com.aliyun.oss.OSSClientBuilder;\r\n                     ^\r\ncom/markleo/app/Index.java:6: error: package com.aliyun.oss does not exist\r\nimport com.aliyun.oss.OSSException;\r\n                     ^\r\n```\r\n\r\nI do have the package in maven panbel: repository.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/54aN4.png\r\n  [2]: https://i.stack.imgur.com/ByFSI.png","title":"Why my maven project cannot import the installed dependency in my vscode?","body":"<p>I have a maven project:</p>\n<p><a href=\"https://i.stack.imgur.com/54aN4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/54aN4.png\" alt=\"enter image description here\" /></a></p>\n<p>the maven settings file is at there <code>/opt/apache-maven-3.8.6/conf/settings.xml</code>.</p>\n<p>this is the content of maven <code>settings.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.2.0&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.2.0 https://maven.apache.org/xsd/settings-1.2.0.xsd&quot;&gt;\n\n  &lt;localRepository&gt;/opt/apache-maven-3.8.6/repository&lt;/localRepository&gt;\n\n  &lt;pluginGroups&gt;\n\n  &lt;/pluginGroups&gt;\n\n\n  &lt;proxies&gt;\n\n  &lt;/proxies&gt;\n\n\n  &lt;servers&gt;\n\n  &lt;/servers&gt;\n\n  &lt;mirrors&gt;\n    &lt;mirror&gt;\n      &lt;id&gt;maven-default-http-blocker&lt;/id&gt;\n      &lt;mirrorOf&gt;external:http:*&lt;/mirrorOf&gt;\n      &lt;name&gt;Pseudo repository to mirror external repositories initially using HTTP. \n      &lt;/name&gt;\n      &lt;url&gt;http://0.0.0.0/&lt;/url&gt;\n      &lt;blocked&gt;true&lt;/blocked&gt;\n    &lt;/mirror&gt;\n  &lt;/mirrors&gt;\n\n\n  &lt;profiles&gt;\n\n  &lt;/profiles&gt;\n\n&lt;/settings&gt;\n</code></pre>\n<p>in my maven project, the content of <code>pom.xml</code> is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.markleo.app&lt;/groupId&gt;  \n    &lt;artifactId&gt;java-oss-upload-demo&lt;/artifactId&gt;  \n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n      &lt;java.version&gt;1.8&lt;/java.version&gt;\n      &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n      &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.aliyun.oss&lt;/groupId&gt;\n        &lt;artifactId&gt;aliyun-sdk-oss&lt;/artifactId&gt;\n        &lt;version&gt;3.15.0&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>after I execute <code>mvn install</code> success, the depency <code>aliyun-sdk-oss</code> be installed at there <code>/opt/apache-maven-3.8.6/repository/com/aliyun/oss/aliyun-sdk-oss</code>.</p>\n<p>but in my project when I import it in <code>java-oss-upload-demo/src/main/java/com/markleo/app/Index.java</code>,</p>\n<pre><code>package com.markleo.app;\n\nimport com.aliyun.oss.ClientException;\nimport com.aliyun.oss.OSS;\nimport com.aliyun.oss.OSSClientBuilder;\nimport com.aliyun.oss.OSSException;\nimport com.aliyun.oss.model.PutObjectRequest;\nimport java.io.File;\n...\n</code></pre>\n<p>I get error:</p>\n<pre><code>import com.aliyun.oss.ClientException;\n                     ^\ncom/markleo/app/Index.java:4: error: package com.aliyun.oss does not exist\nimport com.aliyun.oss.OSS;\n                     ^\ncom/markleo/app/Index.java:5: error: package com.aliyun.oss does not exist\nimport com.aliyun.oss.OSSClientBuilder;\n                     ^\ncom/markleo/app/Index.java:6: error: package com.aliyun.oss does not exist\nimport com.aliyun.oss.OSSException;\n                     ^\n</code></pre>\n<p>I do have the package in maven panbel: repository.</p>\n<p><a href=\"https://i.stack.imgur.com/ByFSI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ByFSI.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","spinner","android-spinner"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1656342020,"post_id":72774086,"comment_id":128542304,"body_markdown":"Try looking at [How to get the Selected item position and Value in spinner-Android?](https://www.ingenioustechies.com/android-how-to-get-the-selected-item-position-and-value-in-spinner/).","body":"Try looking at <a href=\"https://www.ingenioustechies.com/android-how-to-get-the-selected-item-position-and-value-in-spinner/\" rel=\"nofollow noreferrer\">How to get the Selected item position and Value in spinner-Android?</a>."},{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1656348909,"post_id":72774086,"comment_id":128544962,"body_markdown":"@AliasCartellano Thank you. But I want complete Model Data from single id. I just updated my question for better understanding.","body":"@AliasCartellano Thank you. But I want complete Model Data from single id. I just updated my question for better understanding."},{"owner":{"account_id":15439934,"reputation":403,"user_id":11138845,"display_name":"S_i_l_e_n_t  C_o_d_e_r"},"score":0,"creation_date":1657253967,"post_id":72774086,"comment_id":128771933,"body_markdown":"try this : https://www.journaldev.com/9231/android-spinner-drop-down-list","body":"try this : <a href=\"https://www.journaldev.com/9231/android-spinner-drop-down-list\" rel=\"nofollow noreferrer\">journaldev.com/9231/android-spinner-drop-down-list</a>"}],"answers":[{"tags":[],"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666161126,"creation_date":1666161126,"answer_id":74120806,"question_id":72774086,"body_markdown":"I found the solution. \r\nJust create a custom Array with different data and can easily access them using `position` of onItemSelected.\r\n```\r\npublic void onItemSelected(AdapterView&lt;?&gt; arg0, View arg1,\r\n                                           int position, long id) {\r\n```\r\nIt works very fine. You&#39;ll achieve 2 data with the same spinner. ","title":"How to get multiple data from List using Spinner?","body":"<p>I found the solution.\nJust create a custom Array with different data and can easily access them using <code>position</code> of onItemSelected.</p>\n<pre><code>public void onItemSelected(AdapterView&lt;?&gt; arg0, View arg1,\n                                           int position, long id) {\n</code></pre>\n<p>It works very fine. You'll achieve 2 data with the same spinner.</p>\n"}],"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74120806,"answer_count":1,"score":0,"last_activity_date":1666161126,"creation_date":1656341346,"question_id":72774086,"body_markdown":"I want more required data from my Spinner but unable to get. This is my list `[&quot;id&quot;:&quot;1&quot;,&quot;title&quot;:&quot;test 1&quot;,&quot;tableid&quot;:&quot;my_value&quot;]` and my Spinner showing dropdown of `table` to users and I want `my_value` from list. But I want to show users to `table`. How can I achieve this?\r\n\r\n**`table` is properly showing on `dropdown` but item is not `selecting` and unable to get  `my_value` data.**\r\n\r\nLike this:  \r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is my Model Class\r\n```\r\npublic class myModel {\r\n    String id;\r\n    String title;\r\n    String tableid;\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public String getTableId() {\r\n        return tableid;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public String toString() {\r\n        return getTitle();\r\n    }\r\n}\r\n```\r\nThis is spinner XML\r\n```\r\n&lt;Spinner\r\n                    android:id=&quot;@+id/spinner&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;35dp&quot;\r\n                    android:layout_weight=&quot;1&quot; /&gt;\r\n```\r\n\r\nThis is Spinner Code\r\n```\r\nArrayList&lt;myModel&gt; dropList = new ArrayList&lt;&gt;();\r\n//DropList data is like this = [&quot;id&quot;:&quot;1&quot;,&quot;title&quot;:&quot;test 1&quot;,&quot;tableid&quot;:&quot;my_value&quot;]\r\n            ArrayAdapter&lt;myModel&gt; adapter = new ArrayAdapter&lt;&gt;(this, R.layout.my_spinner_textview, dropList); // my_spinner_textview is same as simple_spinner_item_view\r\n            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n            spinCategory.setAdapter(adapter);\r\n            spinCategory.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n                @Override\r\n                public void onItemSelected(AdapterView&lt;?&gt; arg0, View arg1,\r\n                                           int position, long id) {\r\n                   \r\n                    myModel modelcls = dropList.get(position);\r\n                    String val= modelcls.getTableId();\r\n                    String val2= modelcls.getTitle();\r\n                    Toast.makeText(ShayariEditor.this, &quot;value1: &quot;+val, Toast.LENGTH_SHORT).show();\r\n                    Toast.makeText(ShayariEditor.this, &quot;value2: &quot;+val2, Toast.LENGTH_SHORT).show();\r\n                    adapter.notifyDataSetChanged();\r\n                }\r\n\r\n                @Override\r\n                public void onNothingSelected(AdapterView&lt;?&gt; arg0) {\r\n                }\r\n            });\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ph9ko.png","title":"How to get multiple data from List using Spinner?","body":"<p>I want more required data from my Spinner but unable to get. This is my list <code>[&quot;id&quot;:&quot;1&quot;,&quot;title&quot;:&quot;test 1&quot;,&quot;tableid&quot;:&quot;my_value&quot;]</code> and my Spinner showing dropdown of <code>table</code> to users and I want <code>my_value</code> from list. But I want to show users to <code>table</code>. How can I achieve this?</p>\n<p><strong><code>table</code> is properly showing on <code>dropdown</code> but item is not <code>selecting</code> and unable to get  <code>my_value</code> data.</strong></p>\n<p>Like this:<br />\n<a href=\"https://i.stack.imgur.com/ph9ko.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ph9ko.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my Model Class</p>\n<pre><code>public class myModel {\n    String id;\n    String title;\n    String tableid;\n\n    public String getTitle() {\n        return title;\n    }\n\n    public String getTableId() {\n        return tableid;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    @NonNull\n    @Override\n    public String toString() {\n        return getTitle();\n    }\n}\n</code></pre>\n<p>This is spinner XML</p>\n<pre><code>&lt;Spinner\n                    android:id=&quot;@+id/spinner&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;35dp&quot;\n                    android:layout_weight=&quot;1&quot; /&gt;\n</code></pre>\n<p>This is Spinner Code</p>\n<pre><code>ArrayList&lt;myModel&gt; dropList = new ArrayList&lt;&gt;();\n//DropList data is like this = [&quot;id&quot;:&quot;1&quot;,&quot;title&quot;:&quot;test 1&quot;,&quot;tableid&quot;:&quot;my_value&quot;]\n            ArrayAdapter&lt;myModel&gt; adapter = new ArrayAdapter&lt;&gt;(this, R.layout.my_spinner_textview, dropList); // my_spinner_textview is same as simple_spinner_item_view\n            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n            spinCategory.setAdapter(adapter);\n            spinCategory.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n                @Override\n                public void onItemSelected(AdapterView&lt;?&gt; arg0, View arg1,\n                                           int position, long id) {\n                   \n                    myModel modelcls = dropList.get(position);\n                    String val= modelcls.getTableId();\n                    String val2= modelcls.getTitle();\n                    Toast.makeText(ShayariEditor.this, &quot;value1: &quot;+val, Toast.LENGTH_SHORT).show();\n                    Toast.makeText(ShayariEditor.this, &quot;value2: &quot;+val2, Toast.LENGTH_SHORT).show();\n                    adapter.notifyDataSetChanged();\n                }\n\n                @Override\n                public void onNothingSelected(AdapterView&lt;?&gt; arg0) {\n                }\n            });\n</code></pre>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1389807896,"creation_date":1389807896,"answer_id":21144585,"question_id":21144534,"body_markdown":"[You cannot create an array of type parameter][1]. Rather you can store an `Object[]` array, and type cast the element that you are returning to `T`:\r\n\r\n    public NamesRepository(){\r\n        names = new Object[5]; // You forgot size here\r\n    }\r\n    public Object names[];\r\n\r\nAnd then change the `next()` method as:\r\n\r\n        @Override\r\n        public T next() {\r\n            if(this.hasNext()) {\r\n                @SuppressWarnings(&quot;unchecked&quot;)\r\n                T value = (T)names[index++];\r\n                return value;\r\n            }\r\n            return null;\r\n        }\r\n\r\nAnd you can really change the `hasNext()` method to a single line:\r\n\r\n        @Override\r\n        public boolean hasNext() {\r\n            return index &lt; names.length;\r\n        }\r\n\r\n  [1]: https://stackoverflow.com/q/18581002/1679863","title":"Iterator design pattern for generic types","body":"<p><a href=\"https://stackoverflow.com/q/18581002/1679863\">You cannot create an array of type parameter</a>. Rather you can store an <code>Object[]</code> array, and type cast the element that you are returning to <code>T</code>:</p>\n\n<pre><code>public NamesRepository(){\n    names = new Object[5]; // You forgot size here\n}\npublic Object names[];\n</code></pre>\n\n<p>And then change the <code>next()</code> method as:</p>\n\n<pre><code>    @Override\n    public T next() {\n        if(this.hasNext()) {\n            @SuppressWarnings(\"unchecked\")\n            T value = (T)names[index++];\n            return value;\n        }\n        return null;\n    }\n</code></pre>\n\n<p>And you can really change the <code>hasNext()</code> method to a single line:</p>\n\n<pre><code>    @Override\n    public boolean hasNext() {\n        return index &lt; names.length;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1389808675,"creation_date":1389808675,"answer_id":21144872,"question_id":21144534,"body_markdown":"As has been discussed many times before, [you can&#39;t directly create a generic array using the type parameter][1].  You can follow that question&#39;s answers if you must use an array.\r\n\r\nHowever, you can create a `List` of a type parameter instead.  No tricks are necessary, and it&#39;s more flexible.\r\n\r\n    public NamesRepository(){\r\n        names = new ArrayList&lt;T&gt;();  // Easy creation\r\n    }\r\n    public List&lt;T&gt; names;\r\n\r\nThen, your iterator&#39;s `hasNext()` method can compare its `index` to `names.size()`, and the `next()` method can return `names.get(index++)`.  You can even implement the other method required for the `Iterator` interface, `remove()`, by calling `names.remove(index)`.\r\n\r\n[1]: https://stackoverflow.com/questions/529085/how-to-generic-array-creation","title":"Iterator design pattern for generic types","body":"<p>As has been discussed many times before, <a href=\"https://stackoverflow.com/questions/529085/how-to-generic-array-creation\">you can't directly create a generic array using the type parameter</a>.  You can follow that question's answers if you must use an array.</p>\n\n<p>However, you can create a <code>List</code> of a type parameter instead.  No tricks are necessary, and it's more flexible.</p>\n\n<pre><code>public NamesRepository(){\n    names = new ArrayList&lt;T&gt;();  // Easy creation\n}\npublic List&lt;T&gt; names;\n</code></pre>\n\n<p>Then, your iterator's <code>hasNext()</code> method can compare its <code>index</code> to <code>names.size()</code>, and the <code>next()</code> method can return <code>names.get(index++)</code>.  You can even implement the other method required for the <code>Iterator</code> interface, <code>remove()</code>, by calling <code>names.remove(index)</code>.</p>\n"},{"tags":[],"owner":{"account_id":23734931,"reputation":21,"user_id":17753712,"display_name":"Shravel Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666160967,"creation_date":1666160967,"answer_id":74120785,"question_id":21144534,"body_markdown":"The function NameRespositary() is wrongly creating a list of generic types. You have to create it through the type parameter.\r\n\r\n`public NamesRepository(){\r\n      names = new ArrayList&lt;T&gt;();\r\n}\r\npublic List&lt;T&gt; names;` ","title":"Iterator design pattern for generic types","body":"<p>The function NameRespositary() is wrongly creating a list of generic types. You have to create it through the type parameter.</p>\n<p><code>public NamesRepository(){ names = new ArrayList&lt;T&gt;(); } public List&lt;T&gt; names;</code></p>\n"}],"owner":{"account_id":1543184,"reputation":1580,"user_id":1437347,"accept_rate":52,"display_name":"Chowdappa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":633,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":21144585,"answer_count":3,"score":0,"last_activity_date":1666160967,"creation_date":1389807760,"question_id":21144534,"body_markdown":"I am trying to implement Iterator design pattern for generic type. I can not use generic array to store collection, Can someone help me to design Iterator pattern for generic types.\r\n\r\nMy code here:\r\n\r\n    public class NamesRepository&lt;T&gt; implements Container&lt;T&gt; {\r\n    \r\n    \tpublic NamesRepository(){\r\n    \t\tnames = new T[]; // Compilation error\r\n    \t}\r\n    \tpublic T names[];\r\n    \t\r\n    \t@Override\r\n    \tpublic Iterator&lt;T&gt; getIterator() {\r\n    \t\treturn new NameIterator();\r\n    \t}\r\n    \r\n    \tprivate class NameIterator implements Iterator&lt;T&gt;{\r\n    \t\tprivate int index;\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic boolean hasNext() {\r\n    \t\t\tif(index&lt;names.length)\r\n    \t\t\t\treturn true;\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic T next() {\r\n    \t\t\tif(this.hasNext())\r\n    \t\t\t\treturn names[index++];\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n","title":"Iterator design pattern for generic types","body":"<p>I am trying to implement Iterator design pattern for generic type. I can not use generic array to store collection, Can someone help me to design Iterator pattern for generic types.</p>\n\n<p>My code here:</p>\n\n<pre><code>public class NamesRepository&lt;T&gt; implements Container&lt;T&gt; {\n\n    public NamesRepository(){\n        names = new T[]; // Compilation error\n    }\n    public T names[];\n\n    @Override\n    public Iterator&lt;T&gt; getIterator() {\n        return new NameIterator();\n    }\n\n    private class NameIterator implements Iterator&lt;T&gt;{\n        private int index;\n\n        @Override\n        public boolean hasNext() {\n            if(index&lt;names.length)\n                return true;\n            return false;\n        }\n\n        @Override\n        public T next() {\n            if(this.hasNext())\n                return names[index++];\n            return null;\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-activity","nullpointerexception"],"comments":[{"owner":{"display_name":"user2711811"},"score":0,"creation_date":1588041979,"post_id":61471716,"comment_id":108740998,"body_markdown":"Try this: https://stackoverflow.com/a/31419916/2711811 when creating `Intent`.","body":"Try this: <a href=\"https://stackoverflow.com/a/31419916/2711811\">stackoverflow.com/a/31419916/2711811</a> when creating <code>Intent</code>."}],"answers":[{"tags":[],"owner":{"account_id":10151612,"reputation":338,"user_id":7498057,"accept_rate":40,"display_name":"Komal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588042509,"creation_date":1588042509,"answer_id":61471865,"question_id":61471716,"body_markdown":"Please try with getActivity() intsead of getContext()","title":"android.content.Context.getPackageName() on a null object reference","body":"<p>Please try with getActivity() intsead of getContext()</p>\n"},{"tags":[],"owner":{"account_id":11145843,"reputation":21,"user_id":8249987,"display_name":"Jose Antonio Sarria Garcia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588042632,"creation_date":1588042632,"answer_id":61471877,"question_id":61471716,"body_markdown":"I work the transaction of the fragment with this code\r\n\r\n    private Context context;\r\n\r\n    context.startActivity(new Intent(context, MainActivity.class)); \r\n","title":"android.content.Context.getPackageName() on a null object reference","body":"<p>I work the transaction of the fragment with this code</p>\n\n<pre><code>private Context context;\n\ncontext.startActivity(new Intent(context, MainActivity.class)); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1588044505,"creation_date":1588042996,"answer_id":61471935,"question_id":61471716,"body_markdown":"It seems that you&#39;re getting a wrong context that raises this `NullPointerException`\r\n\r\nTry to replace the below line:\r\n\r\n    Intent mainIntent = new Intent (getContext(), MainActivity.class);\r\n\r\nWith: &gt;&gt; if you&#39;re within an activity\r\n\r\n    Intent mainIntent = new Intent (this, MainActivity.class);\r\n\r\nwith: &gt;&gt; if you&#39;re within a callback listener within the activity\r\n\r\n    Intent mainIntent = new Intent (MyActivityName.this, MainActivity.class);     \r\n\r\nWith: &gt;&gt; if you&#39;re within a fragment\r\n\r\n    Intent mainIntent = new Intent (requireActivity(), MainActivity.class);\r\n\r\n","title":"android.content.Context.getPackageName() on a null object reference","body":"<p>It seems that you're getting a wrong context that raises this <code>NullPointerException</code></p>\n\n<p>Try to replace the below line:</p>\n\n<pre><code>Intent mainIntent = new Intent (getContext(), MainActivity.class);\n</code></pre>\n\n<p>With: >> if you're within an activity</p>\n\n<pre><code>Intent mainIntent = new Intent (this, MainActivity.class);\n</code></pre>\n\n<p>with: >> if you're within a callback listener within the activity</p>\n\n<pre><code>Intent mainIntent = new Intent (MyActivityName.this, MainActivity.class);     \n</code></pre>\n\n<p>With: >> if you're within a fragment</p>\n\n<pre><code>Intent mainIntent = new Intent (requireActivity(), MainActivity.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7380414,"reputation":653,"user_id":5617322,"display_name":"Amit Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588046111,"creation_date":1588046111,"answer_id":61472343,"question_id":61471716,"body_markdown":"Since, you are calling from a ***Fragment***, you should use **getActivity()** here instead of getContext()\r\n\r\n    Intent mainIntent = new Intent (getActivity(), MainActivity.class);\r\n            mainIntent.addFlags (Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n            startActivity (mainIntent);\r\n\r\nThis should help I hope.","title":"android.content.Context.getPackageName() on a null object reference","body":"<p>Since, you are calling from a <strong><em>Fragment</em></strong>, you should use <strong>getActivity()</strong> here instead of getContext()</p>\n\n<pre><code>Intent mainIntent = new Intent (getActivity(), MainActivity.class);\n        mainIntent.addFlags (Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n        startActivity (mainIntent);\n</code></pre>\n\n<p>This should help I hope.</p>\n"},{"tags":[],"owner":{"account_id":10902361,"reputation":84,"user_id":8014285,"display_name":"Dancan Angwenyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588051652,"creation_date":1588051652,"answer_id":61473207,"question_id":61471716,"body_markdown":"I have been able to find a work around this. I realised I am getting the error because I am creating the new Intent inside the firebase OnCompleteListener as shown below. So after i removed it from inside the listener and called it outside, my program works properly.\r\n\r\nI instead created a global boolean variable that I updated to true on successful data storage. Then I can access it somewhere else and then transtion to another if true. \r\n\r\n     \r\n     #BEFORE\r\n    \r\n        PostsRef.child(key).updateChildren(postsMap)\r\n                                        .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                            @Override\r\n                                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                                if (task.isSuccessful()) {\r\n                                                    Toast.makeText(getActivity(), &quot;New Post is updated successfully.&quot;, Toast.LENGTH_SHORT).show();\r\n                                                    Intent mainIntent = new Intent (getActivity(), MainActivity.class);\r\n                                                    mainIntent.addFlags (Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n                                                    startActivity (mainIntent);\r\n                                                } else {\r\n                                                    Toast.makeText(context, &quot;Error occured while updating your post.&quot;, Toast.LENGTH_SHORT).show();\r\n                                                }\r\n                                            }\r\n                                        });\r\n    #AFTER\r\n    \r\n     PostsRef.child(key).updateChildren(postsMap)\r\n                                .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                    @Override\r\n                                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                        if (task.isSuccessful()) {\r\n                                            mSuccess = true;\r\n                                            Toast.makeText(getActivity(), &quot;New Post is updated successfully.&quot;, Toast.LENGTH_SHORT).show();\r\n                                        } else {\r\n                                            Toast.makeText(context, &quot;Error occured while updating your post.&quot;, Toast.LENGTH_SHORT).show();\r\n                                        }\r\n                                    }\r\n                                });","title":"android.content.Context.getPackageName() on a null object reference","body":"<p>I have been able to find a work around this. I realised I am getting the error because I am creating the new Intent inside the firebase OnCompleteListener as shown below. So after i removed it from inside the listener and called it outside, my program works properly.</p>\n\n<p>I instead created a global boolean variable that I updated to true on successful data storage. Then I can access it somewhere else and then transtion to another if true. </p>\n\n<pre><code> #BEFORE\n\n    PostsRef.child(key).updateChildren(postsMap)\n                                    .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                        @Override\n                                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                            if (task.isSuccessful()) {\n                                                Toast.makeText(getActivity(), \"New Post is updated successfully.\", Toast.LENGTH_SHORT).show();\n                                                Intent mainIntent = new Intent (getActivity(), MainActivity.class);\n                                                mainIntent.addFlags (Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n                                                startActivity (mainIntent);\n                                            } else {\n                                                Toast.makeText(context, \"Error occured while updating your post.\", Toast.LENGTH_SHORT).show();\n                                            }\n                                        }\n                                    });\n#AFTER\n\n PostsRef.child(key).updateChildren(postsMap)\n                            .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                @Override\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                    if (task.isSuccessful()) {\n                                        mSuccess = true;\n                                        Toast.makeText(getActivity(), \"New Post is updated successfully.\", Toast.LENGTH_SHORT).show();\n                                    } else {\n                                        Toast.makeText(context, \"Error occured while updating your post.\", Toast.LENGTH_SHORT).show();\n                                    }\n                                }\n                            });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10902361,"reputation":84,"user_id":8014285,"display_name":"Dancan Angwenyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588232245,"creation_date":1588232245,"answer_id":61518201,"question_id":61471716,"body_markdown":"Hello guys I have also realised one of the big causes of this error is the lifecycle methods.So I was overriding them inside my fragment to update the user state on the firebase database. Because of this they caused the `android.content.Context.getPackageName() on a null object reference` error whenever I tried to move to the main activity managing it. Incase I used the fragment transition to move to another fragment, the MainActivity would get excecuted more than twice. After stopping to override them my application worked properly. **If someone would explain why that happens it would be great.**\r\n\r\n\r\n       @Override\r\n            public void onStart() {\r\n                super.onStart();\r\n        updateUserState(&quot;Online&quot;);\r\n            }\r\n    @Override\r\n            public void onResume() {\r\n                super.onResume();\r\n        updateUserState(&quot;Online&quot;);\r\n            }","title":"android.content.Context.getPackageName() on a null object reference","body":"<p>Hello guys I have also realised one of the big causes of this error is the lifecycle methods.So I was overriding them inside my fragment to update the user state on the firebase database. Because of this they caused the <code>android.content.Context.getPackageName() on a null object reference</code> error whenever I tried to move to the main activity managing it. Incase I used the fragment transition to move to another fragment, the MainActivity would get excecuted more than twice. After stopping to override them my application worked properly. <strong>If someone would explain why that happens it would be great.</strong></p>\n\n<pre><code>   @Override\n        public void onStart() {\n            super.onStart();\n    updateUserState(\"Online\");\n        }\n@Override\n        public void onResume() {\n            super.onResume();\n    updateUserState(\"Online\");\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11850608,"reputation":1127,"user_id":8672015,"display_name":"Samir Alakbarov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622903813,"creation_date":1622903813,"answer_id":67850682,"question_id":61471716,"body_markdown":"Sometimes startActivity method throws an exception like:\r\n\r\n&gt; Calling startActivity() from outside of an Activity  context requires\r\n&gt; the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?\r\n\r\nSo you should `intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK)` method","title":"android.content.Context.getPackageName() on a null object reference","body":"<p>Sometimes startActivity method throws an exception like:</p>\n<blockquote>\n<p>Calling startActivity() from outside of an Activity  context requires\nthe FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?</p>\n</blockquote>\n<p>So you should <code>intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK)</code> method</p>\n"}],"owner":{"account_id":10902361,"reputation":84,"user_id":8014285,"display_name":"Dancan Angwenyi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10419,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":7,"score":1,"last_activity_date":1666160547,"creation_date":1588041497,"question_id":61471716,"body_markdown":"I am getting this error when transtioning from a fragment to an activity as shown below:\r\n\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String android.content.Context.getPackageName()&#39; on a null object reference         at android.content.ComponentName.&lt;init&gt;(ComponentName.java:130)         at android.content.Intent.&lt;init&gt;(Intent.java:6108)\r\n\r\nBelow is my code for going to the next activity, The error occurs on the first line of the code below.\r\n\r\n      Intent mainIntent = new Intent (getContext(), MainActivity.class);\r\n                mainIntent.addFlags (Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n                startActivity (mainIntent);\r\n\r\nI don&#39;t see any solution so far online.\r\n","title":"android.content.Context.getPackageName() on a null object reference","body":"<p>I am getting this error when transtioning from a fragment to an activity as shown below:</p>\n\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String android.content.Context.getPackageName()' on a null object reference         at android.content.ComponentName.&lt;init&gt;(ComponentName.java:130)         at android.content.Intent.&lt;init&gt;(Intent.java:6108)\n</code></pre>\n\n<p>Below is my code for going to the next activity, The error occurs on the first line of the code below.</p>\n\n<pre><code>  Intent mainIntent = new Intent (getContext(), MainActivity.class);\n            mainIntent.addFlags (Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n            startActivity (mainIntent);\n</code></pre>\n\n<p>I don't see any solution so far online.</p>\n"},{"tags":["java","spring","null","request","http-request-parameters"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1541706884,"post_id":53214921,"comment_id":93317932,"body_markdown":"You&#39;re looking for `HttpMessageConverter` and the `Converter` framework generally, but you haven&#39;t really described enough of your case to understand if there&#39;s an underlying problem (for example, it&#39;s not clear whether you mean `s == null` or `s.equals(&quot;null&quot;)`). Including an actual HTTP request would be helpful.","body":"You&#39;re looking for <code>HttpMessageConverter</code> and the <code>Converter</code> framework generally, but you haven&#39;t really described enough of your case to understand if there&#39;s an underlying problem (for example, it&#39;s not clear whether you mean <code>s == null</code> or <code>s.equals(&quot;null&quot;)</code>). Including an actual HTTP request would be helpful."}],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666160173,"creation_date":1541706938,"answer_id":53215219,"question_id":53214921,"body_markdown":"Whatever the content you provide for the `@RequestParam` by default it will treat as string, that is the reason `null` is treating as `&quot;null&quot;` string. In the spring framework the `Converter&lt;S, R&gt;` and `ConverterFactory&lt;S, R&gt;` will convert from `String` to corresponding type.\r\n\r\nYou can write custom converter and add it to spring registry [here][1]\r\n\r\n    public class StringToIntegerConverter implements Converter&lt;String, Integer&gt; {\r\n \r\n    @Override\r\n    public Integer convert(String from) {\r\n        // custom logic\r\n       }\r\n    }\r\nregister\r\n\r\n    @Configuration\r\n    public class WebConfig implements WebMvcConfigurer {\r\n \r\n    @Override\r\n    public void addFormatters(FormatterRegistry registry) {\r\n        registry.addConverter(new StringToIntegerConverter());\r\n           }\r\n     }\r\n\r\n \r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-mvc-custom-data-binder","title":"Spring - Handling null values in Request Parameters","body":"<p>Whatever the content you provide for the <code>@RequestParam</code> by default it will treat as string, that is the reason <code>null</code> is treating as <code>&quot;null&quot;</code> string. In the spring framework the <code>Converter&lt;S, R&gt;</code> and <code>ConverterFactory&lt;S, R&gt;</code> will convert from <code>String</code> to corresponding type.</p>\n<p>You can write custom converter and add it to spring registry <a href=\"https://www.baeldung.com/spring-mvc-custom-data-binder\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>public class StringToIntegerConverter implements Converter&lt;String, Integer&gt; {\n\n@Override\npublic Integer convert(String from) {\n    // custom logic\n   }\n}\n</code></pre>\n<p>register</p>\n<pre><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n@Override\npublic void addFormatters(FormatterRegistry registry) {\n    registry.addConverter(new StringToIntegerConverter());\n       }\n }\n</code></pre>\n"}],"owner":{"account_id":6371020,"reputation":353,"user_id":4943412,"accept_rate":30,"display_name":"Mohan Krishnan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5210,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1666160173,"creation_date":1541705640,"question_id":53214921,"body_markdown":"In Spring (4.3.9):\r\n\r\nA Request param sent from client as null to server, the null object is getting treated as string null in the request when obtained via request-param like:\r\n\r\n    @RequestParam(value = key, required = false) Integer key\r\n\r\nAs for as the solution goes, I can handle this via client and prevent the null from being passed in the first place and I couldn&#39;t get a clear solution from this (https://stackoverflow.com/questions/53205938/javascript-formdata-append-null-value-numberformatexception). \r\n\r\nCan anyone please help me out as to what class or method in spring framework does this conversion from a null object to string null.\r\n","title":"Spring - Handling null values in Request Parameters","body":"<p>In Spring (4.3.9):</p>\n\n<p>A Request param sent from client as null to server, the null object is getting treated as string null in the request when obtained via request-param like:</p>\n\n<pre><code>@RequestParam(value = key, required = false) Integer key\n</code></pre>\n\n<p>As for as the solution goes, I can handle this via client and prevent the null from being passed in the first place and I couldn't get a clear solution from this (<a href=\"https://stackoverflow.com/questions/53205938/javascript-formdata-append-null-value-numberformatexception\">JavaScript: Formdata append null value - NumberFormatException</a>). </p>\n\n<p>Can anyone please help me out as to what class or method in spring framework does this conversion from a null object to string null.</p>\n"},{"tags":["java","spring","postgresql","ibm-cloud"],"comments":[{"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1666160111,"post_id":74120625,"comment_id":130866575,"body_markdown":"Looks like a network configuration problem.","body":"Looks like a network configuration problem."},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1666197379,"post_id":74120625,"comment_id":130880556,"body_markdown":"Are you sure you use correct endpoint (private/public)? Private endpoint will be available only from &quot;the cloud&quot; not externally.","body":"Are you sure you use correct endpoint (private/public)? Private endpoint will be available only from &quot;the cloud&quot; not externally."}],"owner":{"account_id":1718510,"reputation":1404,"user_id":1575062,"accept_rate":59,"display_name":"Faabass"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666159980,"creation_date":1666159980,"question_id":74120625,"body_markdown":"I have a legacy app that is currently working with Postgres9 that I have to migrate to postgres12.\r\nI did the dump the old database and restored it to the new one without issues.\r\n\r\nBut when I tried to connect my legacy app with the new database the app never connects.\r\n\r\nIn the past, my POM was:\r\n\r\n    &lt;!-- Postgresql Database Support --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;9.4.1211.jre7&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nand now (after checking that the old version was not working I tried to did some update here):\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n        &lt;version&gt;42.2.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIn my properties I have:\r\n\r\n    jdbc.driver=org.postgresql.Driver\r\n    jdbc.url=jdbc:postgresql://XXXXXXXXXXXXXXXXXXXXXXxxxx:XXXX/db_name\r\n    jdbc.username=db_user\r\n    jdbc.password=xxxxx\r\n\r\nBefore I was using a postgres installed in a server, but now, I&#39;m using a Database for postgres from IBM Cloud (I supossed this should not generate any issue). Similar to RDS from AWS.\r\n\r\nSo when I tried to run my app I got tomcat timeout. I increased the timeout to 120 but I&#39;m still getting that error...\r\n\r\nExactly same configuration on Dbeaver works like a charm.\r\nI tried with that version of the driver but same behavior (the one for org.postgres)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6zh2C.png","title":"Timeout when connecting Java app to new version of postgresql","body":"<p>I have a legacy app that is currently working with Postgres9 that I have to migrate to postgres12.\nI did the dump the old database and restored it to the new one without issues.</p>\n<p>But when I tried to connect my legacy app with the new database the app never connects.</p>\n<p>In the past, my POM was:</p>\n<pre><code>&lt;!-- Postgresql Database Support --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;9.4.1211.jre7&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>and now (after checking that the old version was not working I tried to did some update here):</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;version&gt;42.2.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In my properties I have:</p>\n<pre><code>jdbc.driver=org.postgresql.Driver\njdbc.url=jdbc:postgresql://XXXXXXXXXXXXXXXXXXXXXXxxxx:XXXX/db_name\njdbc.username=db_user\njdbc.password=xxxxx\n</code></pre>\n<p>Before I was using a postgres installed in a server, but now, I'm using a Database for postgres from IBM Cloud (I supossed this should not generate any issue). Similar to RDS from AWS.</p>\n<p>So when I tried to run my app I got tomcat timeout. I increased the timeout to 120 but I'm still getting that error...</p>\n<p>Exactly same configuration on Dbeaver works like a charm.\nI tried with that version of the driver but same behavior (the one for org.postgres)</p>\n<p><a href=\"https://i.stack.imgur.com/6zh2C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6zh2C.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666157405,"post_id":74120275,"comment_id":130865993,"body_markdown":"Use `Arrays.toString` instead of a custom loop. Or add an `if` to check for last element","body":"Use <code>Arrays.toString</code> instead of a custom loop. Or add an <code>if</code> to check for last element"}],"answers":[{"tags":[],"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666157692,"creation_date":1666157692,"answer_id":74120319,"question_id":74120275,"body_markdown":"**StringJoiner** is used to construct a sequence of characters separated by a delimiter and optionally starting with a supplied prefix and ending with a supplied suffix. Here in this case we are using the delimiter as `,`\r\n\r\n```\r\nint numbers[] = {23, 79, 41, 68, 17, 39, 51, 75, 95, 19};\r\nStringJoiner stringJoiner = new StringJoiner(&quot;,&quot;);\r\n\r\nSystem.out.print(&quot;Integer values: &quot;);\r\nfor (int i = 0; i &lt; numbers.length; i++) {\r\n   stringJoiner.add(String.valueOf(numbers[i]));\r\n}\r\n\r\nSystem.out.println(stringJoiner);\r\n```\r\n\r\n","title":"how to remove the comma after the number 19","body":"<p><strong>StringJoiner</strong> is used to construct a sequence of characters separated by a delimiter and optionally starting with a supplied prefix and ending with a supplied suffix. Here in this case we are using the delimiter as <code>,</code></p>\n<pre><code>int numbers[] = {23, 79, 41, 68, 17, 39, 51, 75, 95, 19};\nStringJoiner stringJoiner = new StringJoiner(&quot;,&quot;);\n\nSystem.out.print(&quot;Integer values: &quot;);\nfor (int i = 0; i &lt; numbers.length; i++) {\n   stringJoiner.add(String.valueOf(numbers[i]));\n}\n\nSystem.out.println(stringJoiner);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1666157800,"creation_date":1666157800,"answer_id":74120343,"question_id":74120275,"body_markdown":"You can modify the loop\r\n\r\n    for(int i = 0; i &lt; numbers.length - 1; i++) {\r\n      System.out.print(numbers[i] + &quot;,&quot;);\r\n    }\r\n    System.out.print(numbers[numbers.length - 1]);\r\n\r\nOr use streams\r\n\r\n     Arrays.stream(numbers).collect(Collectors.joining(&quot;,&quot;));","title":"how to remove the comma after the number 19","body":"<p>You can modify the loop</p>\n<pre><code>for(int i = 0; i &lt; numbers.length - 1; i++) {\n  System.out.print(numbers[i] + &quot;,&quot;);\n}\nSystem.out.print(numbers[numbers.length - 1]);\n</code></pre>\n<p>Or use streams</p>\n<pre><code> Arrays.stream(numbers).collect(Collectors.joining(&quot;,&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666159798,"creation_date":1666159798,"answer_id":74120595,"question_id":74120275,"body_markdown":"*Just to add-on:*\r\n\r\n***You can also use `streams` to find the minimum integer from the given array:***\r\n\r\n    int numbers[] = {23, 79, 41, 68, 17, 39, 51, 75, 95, 19};\r\n            Optional&lt;Integer&gt; minNumber = Arrays.stream(numbers).boxed()\r\n                                         .min(Comparator.naturalOrder());\r\n            minNumber.ifPresent(System.out::println);\r\n\r\n**Output:**\r\n\r\n    17","title":"how to remove the comma after the number 19","body":"<p><em>Just to add-on:</em></p>\n<p><em><strong>You can also use <code>streams</code> to find the minimum integer from the given array:</strong></em></p>\n<pre><code>int numbers[] = {23, 79, 41, 68, 17, 39, 51, 75, 95, 19};\n        Optional&lt;Integer&gt; minNumber = Arrays.stream(numbers).boxed()\n                                     .min(Comparator.naturalOrder());\n        minNumber.ifPresent(System.out::println);\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>17\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666159822,"creation_date":1666159822,"answer_id":74120598,"question_id":74120275,"body_markdown":"Since the array is hard coded, you know the array will never be size 0.  You can print the first element.  Then have a loop that prints the rest of the elements each with a comma prepended.\r\n\r\n```\r\n    int numbers[] = {23, 79, 41, 68, 17, 39, 51, 75, 95, 19};\r\n    \r\n    System.out.print(&quot;Integer values: &quot;);\r\n    System.out.print(numbers[0]);\r\n    for(int i = 1; i &lt; numbers.length; i++){\r\n      System.out.print(&quot;,&quot; + numbers[i]);\r\n    }\r\n```","title":"how to remove the comma after the number 19","body":"<p>Since the array is hard coded, you know the array will never be size 0.  You can print the first element.  Then have a loop that prints the rest of the elements each with a comma prepended.</p>\n<pre><code>    int numbers[] = {23, 79, 41, 68, 17, 39, 51, 75, 95, 19};\n    \n    System.out.print(&quot;Integer values: &quot;);\n    System.out.print(numbers[0]);\n    for(int i = 1; i &lt; numbers.length; i++){\n      System.out.print(&quot;,&quot; + numbers[i]);\n    }\n</code></pre>\n"}],"owner":{"account_id":26594629,"reputation":9,"user_id":20217226,"display_name":"user20217226"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":4,"score":-3,"last_activity_date":1666159822,"creation_date":1666157305,"question_id":74120275,"body_markdown":"How do I remove the comma after the number 19? \r\n\r\n\r\n    class Main {\r\n      public static void main(String[] args) {\r\n        int numbers[] = {23, 79, 41, 68, 17, 39, 51, 75, 95, 19};\r\n        System.out.print(&quot;Integer values: &quot;);\r\n        for(int i = 0; i &lt; numbers.length; i++){\r\n          System.out.print(numbers[i] + &quot;,&quot;);\r\n          \r\n    \r\n        }\r\n        int smallestNumber = numbers[0];\r\n        for(int i = 0; i &lt; numbers.length; i++){\r\n          if (numbers[i] &lt; smallestNumber){\r\n            smallestNumber = numbers[i];\r\n          }  \r\n      }\r\n        System.out.println(&quot;\\nSmallest integer: &quot; + smallestNumber);\r\n    \r\n    }\r\n    }\r\n\r\nThis is how it looks like after its run \r\n\r\n```lang-none\r\nInteger values: 23,79,41,68,17,39,51,75,95,19,\r\nSmallest integer: 17\r\n```\r\n\r\nThis is how I want it to look\r\n\r\n```lang-none\r\nInteger values: 23,79,41,68,17,39,51,75,95,19\r\nSmallest integer: 17\r\n```","title":"how to remove the comma after the number 19","body":"<p>How do I remove the comma after the number 19?</p>\n<pre><code>class Main {\n  public static void main(String[] args) {\n    int numbers[] = {23, 79, 41, 68, 17, 39, 51, 75, 95, 19};\n    System.out.print(&quot;Integer values: &quot;);\n    for(int i = 0; i &lt; numbers.length; i++){\n      System.out.print(numbers[i] + &quot;,&quot;);\n      \n\n    }\n    int smallestNumber = numbers[0];\n    for(int i = 0; i &lt; numbers.length; i++){\n      if (numbers[i] &lt; smallestNumber){\n        smallestNumber = numbers[i];\n      }  \n  }\n    System.out.println(&quot;\\nSmallest integer: &quot; + smallestNumber);\n\n}\n}\n</code></pre>\n<p>This is how it looks like after its run</p>\n<pre class=\"lang-none prettyprint-override\"><code>Integer values: 23,79,41,68,17,39,51,75,95,19,\nSmallest integer: 17\n</code></pre>\n<p>This is how I want it to look</p>\n<pre class=\"lang-none prettyprint-override\"><code>Integer values: 23,79,41,68,17,39,51,75,95,19\nSmallest integer: 17\n</code></pre>\n"},{"tags":["java","android","arduino","bluetooth","android-bluetooth"],"owner":{"account_id":14707754,"reputation":453,"user_id":10621921,"display_name":"Young.J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666159531,"creation_date":1666155815,"question_id":74120109,"body_markdown":"I&#39;m trying to connect android device with Arduino and receive the sensor value.\r\nI&#39;ve found the sample codes of Arduino-Android bluetooth examples but none of them worked in bluetooth connection. Mostly, the android device can&#39;t scan the arduino and the only examples that found arduino can&#39;t connect with it. Below is the bluetooth connection with butoon click and trying to receive the value :\r\n\r\n    Button btnConnect = findViewById(R.id.btnConnect); // trying to connect\r\n        btnConnect.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View v) {\r\n                Toast.makeText(getApplicationContext(), &quot;Button Clicked&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                if (bt.getServiceState() == BluetoothState.STATE_CONNECTED) {\r\n\r\n                    Toast.makeText(getApplicationContext(), &quot;Connected&quot;, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    Toast.makeText(getApplicationContext(), &quot;Trying to Connect&quot;, Toast.LENGTH_SHORT).show();\r\n                    Intent intent = new Intent(getApplicationContext(), DeviceList.class);\r\n                    startActivityForResult(intent, BluetoothState.REQUEST_CONNECT_DEVICE);\r\n\r\n\r\n                }\r\n            }\r\n        });\r\n\r\n        bt.setOnDataReceivedListener(new BluetoothSPP.OnDataReceivedListener() {\r\n\r\n            TextView dist = findViewById(R.id.data);\r\n\r\n            public void onDataReceived(byte[] data, String message) {\r\n\r\n                Toast.makeText(getApplicationContext(), &quot;Data receiving available&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                Toast.makeText(MainActivity.this, message, Toast.LENGTH_SHORT).show();\r\n                Log.d(&quot;Y message : &quot;, message);\r\n                Log.d(&quot;Y data : &quot;, String.valueOf(data));\r\n\r\n                String[] array = message.split(&quot;,&quot;);\r\n\r\n                dist.setText(array[0].concat(&quot;cm&quot;));\r\n\r\n            }\r\n        });\r\n\r\nAnd I found out that the startActivityForResult has deprecated, and wonder this cause the disconnection. I&#39;m not very familiar with android programming so any help would be very welcome. Thanks in advance.","title":"Does Arduino needs specific function command to connected in bluetooth?","body":"<p>I'm trying to connect android device with Arduino and receive the sensor value.\nI've found the sample codes of Arduino-Android bluetooth examples but none of them worked in bluetooth connection. Mostly, the android device can't scan the arduino and the only examples that found arduino can't connect with it. Below is the bluetooth connection with butoon click and trying to receive the value :</p>\n<pre><code>Button btnConnect = findViewById(R.id.btnConnect); // trying to connect\n    btnConnect.setOnClickListener(new View.OnClickListener() {\n        public void onClick(View v) {\n            Toast.makeText(getApplicationContext(), &quot;Button Clicked&quot;, Toast.LENGTH_SHORT).show();\n\n            if (bt.getServiceState() == BluetoothState.STATE_CONNECTED) {\n\n                Toast.makeText(getApplicationContext(), &quot;Connected&quot;, Toast.LENGTH_SHORT).show();\n            } else {\n                Toast.makeText(getApplicationContext(), &quot;Trying to Connect&quot;, Toast.LENGTH_SHORT).show();\n                Intent intent = new Intent(getApplicationContext(), DeviceList.class);\n                startActivityForResult(intent, BluetoothState.REQUEST_CONNECT_DEVICE);\n\n\n            }\n        }\n    });\n\n    bt.setOnDataReceivedListener(new BluetoothSPP.OnDataReceivedListener() {\n\n        TextView dist = findViewById(R.id.data);\n\n        public void onDataReceived(byte[] data, String message) {\n\n            Toast.makeText(getApplicationContext(), &quot;Data receiving available&quot;, Toast.LENGTH_SHORT).show();\n\n            Toast.makeText(MainActivity.this, message, Toast.LENGTH_SHORT).show();\n            Log.d(&quot;Y message : &quot;, message);\n            Log.d(&quot;Y data : &quot;, String.valueOf(data));\n\n            String[] array = message.split(&quot;,&quot;);\n\n            dist.setText(array[0].concat(&quot;cm&quot;));\n\n        }\n    });\n</code></pre>\n<p>And I found out that the startActivityForResult has deprecated, and wonder this cause the disconnection. I'm not very familiar with android programming so any help would be very welcome. Thanks in advance.</p>\n"},{"tags":["java","httpclient"],"answers":[{"tags":[],"owner":{"account_id":4911580,"reputation":3150,"user_id":3956751,"display_name":"kmandov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1438764183,"creation_date":1438764183,"answer_id":31827538,"question_id":31827397,"body_markdown":"If you want more control over the redirection behavior, you can probably change the [RedirectStrategy][1] of the http client.\r\n\r\nYou can create your own RedirectStrategy and use it:\r\n\r\n    HttpClient instance = HttpClientBuilder.create()\r\n                         .setRedirectStrategy(new LaxRedirectStrategy()).build();\r\n\r\n\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/client/RedirectStrategy.html","title":"Get cookies from redirect URL","body":"<p>If you want more control over the redirection behavior, you can probably change the <a href=\"https://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/client/RedirectStrategy.html\" rel=\"nofollow\">RedirectStrategy</a> of the http client.</p>\n\n<p>You can create your own RedirectStrategy and use it:</p>\n\n<pre><code>HttpClient instance = HttpClientBuilder.create()\n                     .setRedirectStrategy(new LaxRedirectStrategy()).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1317232,"reputation":3875,"user_id":1263837,"accept_rate":11,"display_name":"Kundan Atre"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1534434419,"creation_date":1438767205,"answer_id":31828627,"question_id":31827397,"body_markdown":"This worked for me&lt;br&gt;\r\n\r\n      HttpClient client = HttpClientBuilder.create().setRedirectStrategy(new DefaultRedirectStrategy() {   \r\n    \t\t  \r\n              public boolean isRedirected(HttpRequest request, HttpResponse response, HttpContext context)  {\r\n                  boolean isRedirect=false;\r\n                  try {\r\n                    isRedirect = super.isRedirected(request, response, context);\r\n                    Header[] requestheaders\t=\tresponse.getAllHeaders();\r\n    \t       \t\t System.out.println(&quot;getAuthToken  &gt;&gt;&gt; &quot;);\r\n    \t       \t\t for(Header header: requestheaders){\r\n    \t       \t\t\t System.out.println(header.getName()+&quot;-------------------- &quot;+header.getValue());\r\n    \t       \t\t\tif(header.getName().equalsIgnoreCase(&quot;Set-Cookie&quot;) &amp;&amp; header.getValue().startsWith(&quot;auth-token&quot;)){\r\n    \t  \t\t\t\t  System.out.println(&quot;Auth_Cookie &quot;+header.getValue().split(&quot;;&quot;)[0]);\r\n    \t  \t\t\t\t  auth_token\t=\theader.getValue().split(&quot;;&quot;)[0];\r\n    \t  \t\t\t  }\r\n    \t       \t\t }\r\n                  } catch (ProtocolException e) {\r\n                    e.printStackTrace();\r\n                  }\r\n                  if (!isRedirect) {\r\n                    int responseCode = response.getStatusLine().getStatusCode();\r\n                    if (responseCode == 301 || responseCode == 302) {\r\n                      return true;\r\n                    }\r\n                  }\r\n                  return false;\r\n                }\r\n              }).build();\r\n    \t  HttpGet get = new HttpGet(url);\r\n    \t  client.execute(get);\r\n\r\n\r\nFor more technical detail check my blog [here][1].\r\n\r\n\r\n  [1]: https://javaerrorandsolution.blogspot.com/","title":"Get cookies from redirect URL","body":"<p>This worked for me<br></p>\n\n<pre><code>  HttpClient client = HttpClientBuilder.create().setRedirectStrategy(new DefaultRedirectStrategy() {   \n\n          public boolean isRedirected(HttpRequest request, HttpResponse response, HttpContext context)  {\n              boolean isRedirect=false;\n              try {\n                isRedirect = super.isRedirected(request, response, context);\n                Header[] requestheaders =   response.getAllHeaders();\n                 System.out.println(\"getAuthToken  &gt;&gt;&gt; \");\n                 for(Header header: requestheaders){\n                     System.out.println(header.getName()+\"-------------------- \"+header.getValue());\n                    if(header.getName().equalsIgnoreCase(\"Set-Cookie\") &amp;&amp; header.getValue().startsWith(\"auth-token\")){\n                      System.out.println(\"Auth_Cookie \"+header.getValue().split(\";\")[0]);\n                      auth_token    =   header.getValue().split(\";\")[0];\n                  }\n                 }\n              } catch (ProtocolException e) {\n                e.printStackTrace();\n              }\n              if (!isRedirect) {\n                int responseCode = response.getStatusLine().getStatusCode();\n                if (responseCode == 301 || responseCode == 302) {\n                  return true;\n                }\n              }\n              return false;\n            }\n          }).build();\n      HttpGet get = new HttpGet(url);\n      client.execute(get);\n</code></pre>\n\n<p>For more technical detail check my blog <a href=\"https://javaerrorandsolution.blogspot.com/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":192352,"reputation":6747,"user_id":433432,"accept_rate":47,"display_name":"crowmagnumb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585858655,"creation_date":1585858655,"answer_id":61000378,"question_id":31827397,"body_markdown":"I had the same issue where I had a number of redirects but I needed the cookies from each response to be passed on to the redirects. I could have probably done more work to figure out what cookies each redirect really needed but I just built up a map of all the cookies and each redirect got the full set of cookies from the combined redirects before it. Here is my code...\r\n\r\n```\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport org.apache.http.Header;\r\nimport org.apache.http.HttpRequest;\r\nimport org.apache.http.HttpResponse;\r\nimport org.apache.http.ProtocolException;\r\nimport org.apache.http.client.HttpClient;\r\nimport org.apache.http.client.RedirectStrategy;\r\nimport org.apache.http.client.methods.HttpUriRequest;\r\nimport org.apache.http.impl.client.DefaultRedirectStrategy;\r\nimport org.apache.http.impl.client.HttpClientBuilder;\r\nimport org.apache.http.protocol.HttpContext;\r\nimport org.springframework.http.HttpEntity;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.http.client.HttpComponentsClientHttpRequestFactory;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\n...\r\n\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();\r\n    RedirectStrategy rs = new DefaultRedirectStrategy() {\r\n        Map&lt;String, Header&gt; cookies = new HashMap&lt;&gt;();\r\n\r\n        @Override\r\n        public HttpUriRequest getRedirect(HttpRequest request, HttpResponse response,\r\n                                          HttpContext context) throws ProtocolException {\r\n            //\r\n            // Get the cookies out of the response so we can inject them into the redirect.\r\n            //\r\n            for (Header header : response.getHeaders(&quot;Set-Cookie&quot;)) {\r\n                this.cookies.put(header.getName(), header);\r\n            }\r\n\r\n            HttpUriRequest redirect = super.getRedirect(request, response, context);\r\n\r\n            for (Header cookie : this.cookies.values()) {\r\n                redirect.addHeader(&quot;Cookie&quot;, cookie.getValue());\r\n            }\r\n            return redirect;\r\n        }\r\n    };\r\n\r\n    final HttpClient httpClient = HttpClientBuilder.create().setRedirectStrategy(rs).build();\r\n    factory.setHttpClient(httpClient);\r\n    restTemplate.setRequestFactory(factory);\r\n\r\n    ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(&quot;&lt;my_url&gt;&quot;, String.class);\r\n```\r\n","title":"Get cookies from redirect URL","body":"<p>I had the same issue where I had a number of redirects but I needed the cookies from each response to be passed on to the redirects. I could have probably done more work to figure out what cookies each redirect really needed but I just built up a map of all the cookies and each redirect got the full set of cookies from the combined redirects before it. Here is my code...</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\nimport org.apache.http.Header;\nimport org.apache.http.HttpRequest;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.ProtocolException;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.RedirectStrategy;\nimport org.apache.http.client.methods.HttpUriRequest;\nimport org.apache.http.impl.client.DefaultRedirectStrategy;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.protocol.HttpContext;\nimport org.springframework.http.HttpEntity;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.http.client.HttpComponentsClientHttpRequestFactory;\nimport org.springframework.web.client.RestTemplate;\n\n...\n\n    RestTemplate restTemplate = new RestTemplate();\n    HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();\n    RedirectStrategy rs = new DefaultRedirectStrategy() {\n        Map&lt;String, Header&gt; cookies = new HashMap&lt;&gt;();\n\n        @Override\n        public HttpUriRequest getRedirect(HttpRequest request, HttpResponse response,\n                                          HttpContext context) throws ProtocolException {\n            //\n            // Get the cookies out of the response so we can inject them into the redirect.\n            //\n            for (Header header : response.getHeaders(\"Set-Cookie\")) {\n                this.cookies.put(header.getName(), header);\n            }\n\n            HttpUriRequest redirect = super.getRedirect(request, response, context);\n\n            for (Header cookie : this.cookies.values()) {\n                redirect.addHeader(\"Cookie\", cookie.getValue());\n            }\n            return redirect;\n        }\n    };\n\n    final HttpClient httpClient = HttpClientBuilder.create().setRedirectStrategy(rs).build();\n    factory.setHttpClient(httpClient);\n    restTemplate.setRequestFactory(factory);\n\n    ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(\"&lt;my_url&gt;\", String.class);\n</code></pre>\n"}],"owner":{"account_id":1317232,"reputation":3875,"user_id":1263837,"accept_rate":11,"display_name":"Kundan Atre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5456,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1666158803,"creation_date":1438763763,"question_id":31827397,"body_markdown":"I have one url, which make 2 internal redirects then finally returns ok response. &lt;br&gt;\r\n**First URL:** : http://www.someurl.com/ &lt;br&gt;\r\n**Redirect URL 1:** : http://www.someurl_1.com/ with response 302&lt;br&gt;\r\n**Redirect URL 2:** : http://www.someurl_2.com/ with response 302&lt;br&gt;\r\n**Final URL:** : http://www.finalurl.com/ with response 200&lt;br&gt;\r\nInternally **Redirect URL 1** send some cookie to **Redirect URL 2**.\r\nWhat I have to do is get cookie of which set for **Redirect URL 2:**.\r\n\r\nHere is my java code.\r\n\r\n     HttpClient client = HttpClientBuilder.create().build();\r\n    \t  HttpGet get = new HttpGet(myurl);\r\n    \t  get.setHeader(&quot;User-Agent&quot;, &quot;Mozilla&quot;);\r\n    \t  get.setHeader(&quot;Accept&quot;,&quot; text/html,application/xhtml+xml,application/xml;&quot;);\r\n    \t  get.setHeader(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.8&quot;);\r\n    \t  get.setHeader(&quot;Accept-Encoding&quot;,&quot; gzip, deflate&quot;);\r\n    \t  get.setHeader(&quot;Connection&quot;,&quot;keep-alive&quot;);\r\n    \t  get.setHeader(&quot;Cookie&quot;,JSESSIONID+&quot;);\r\n    // \t  get.setHeader(&quot;Accept&quot;,&quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8&quot;);\r\n     \t  Header[] requestheaders\t=\tget.getAllHeaders();\r\n    \t\t System.out.println(&quot;requestheaders &gt;&gt;&gt; &quot;);\r\n    \t\t for(Header header: requestheaders){\r\n    \t\t\t System.out.println(header.getName()+&quot;-------------------- &quot;+header.getValue());\r\n    \t\t }\r\n    \t  HttpResponse response = client.execute(get);\r\n    \t  System.out.println(&quot;response 7 &quot;+response);\r\n    \t  System.out.println(&quot;Headers are&quot;);\r\n    \t  Header[] headers = response.getAllHeaders();\r\n    \t  for (int i = 0; i &lt; headers.length; i++) {\r\n    \t\t  System.out.println((headers[i].getName()+&quot;___________________&quot;+headers[i].getValue()));\r\n    \t  }\r\n    \t \r\nThis code gives me final response rather than intermediate redirected response.&lt;br&gt; So can anyone please suggest me what is better way of doing it. \r\n\r\nOther thing I have checked is:- &lt;br&gt;\r\n\r\n1. I have disable redirect, this response gives me very first url of this process.\r\n2. I have used Jsoup to disable redirect which gives same out put as above.\r\n\r\nWhereas fetching such redirected cookie is possible in ruby , i have done that.&lt;br&gt;\r\nBut I have to do this in java.\r\nhttpclient 4.5\r\n ","title":"Get cookies from redirect URL","body":"<p>I have one url, which make 2 internal redirects then finally returns ok response. <br>\n<strong>First URL:</strong> : <a href=\"http://www.someurl.com/\" rel=\"nofollow\">http://www.someurl.com/</a> <br>\n<strong>Redirect URL 1:</strong> : <a href=\"http://www.someurl_1.com/\" rel=\"nofollow\">http://www.someurl_1.com/</a> with response 302<br>\n<strong>Redirect URL 2:</strong> : <a href=\"http://www.someurl_2.com/\" rel=\"nofollow\">http://www.someurl_2.com/</a> with response 302<br>\n<strong>Final URL:</strong> : <a href=\"http://www.finalurl.com/\" rel=\"nofollow\">http://www.finalurl.com/</a> with response 200<br>\nInternally <strong>Redirect URL 1</strong> send some cookie to <strong>Redirect URL 2</strong>.\nWhat I have to do is get cookie of which set for <strong>Redirect URL 2:</strong>.</p>\n\n<p>Here is my java code.</p>\n\n<pre><code> HttpClient client = HttpClientBuilder.create().build();\n      HttpGet get = new HttpGet(myurl);\n      get.setHeader(\"User-Agent\", \"Mozilla\");\n      get.setHeader(\"Accept\",\" text/html,application/xhtml+xml,application/xml;\");\n      get.setHeader(\"Accept-Language\", \"en-US,en;q=0.8\");\n      get.setHeader(\"Accept-Encoding\",\" gzip, deflate\");\n      get.setHeader(\"Connection\",\"keep-alive\");\n      get.setHeader(\"Cookie\",JSESSIONID+\");\n//    get.setHeader(\"Accept\",\"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\");\n      Header[] requestheaders   =   get.getAllHeaders();\n         System.out.println(\"requestheaders &gt;&gt;&gt; \");\n         for(Header header: requestheaders){\n             System.out.println(header.getName()+\"-------------------- \"+header.getValue());\n         }\n      HttpResponse response = client.execute(get);\n      System.out.println(\"response 7 \"+response);\n      System.out.println(\"Headers are\");\n      Header[] headers = response.getAllHeaders();\n      for (int i = 0; i &lt; headers.length; i++) {\n          System.out.println((headers[i].getName()+\"___________________\"+headers[i].getValue()));\n      }\n</code></pre>\n\n<p>This code gives me final response rather than intermediate redirected response.<br> So can anyone please suggest me what is better way of doing it. </p>\n\n<p>Other thing I have checked is:- <br></p>\n\n<ol>\n<li>I have disable redirect, this response gives me very first url of this process.</li>\n<li>I have used Jsoup to disable redirect which gives same out put as above.</li>\n</ol>\n\n<p>Whereas fetching such redirected cookie is possible in ruby , i have done that.<br>\nBut I have to do this in java.\nhttpclient 4.5</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666018733,"post_id":74098532,"comment_id":130829892,"body_markdown":"Or you define (+enable!?) `Query` as `@ConfigurationProperties` as well ..or you nest the class (as shown in reference doc)","body":"Or you define (+enable!?) <code>Query</code> as <code>@ConfigurationProperties</code> as well ..or you nest the class (as shown in reference doc)"},{"owner":{"account_id":16100082,"reputation":37,"user_id":11621104,"display_name":"Gourav"},"score":0,"creation_date":1666020345,"post_id":74098532,"comment_id":130830578,"body_markdown":"It didn&#39;t work. Tried to create the nested class. but that also didn&#39;t work","body":"It didn&#39;t work. Tried to create the nested class. but that also didn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666018321,"creation_date":1666018321,"answer_id":74099114,"question_id":74098532,"body_markdown":"\r\n\r\nIf you want to have some nested things you need to initalize it and mark them as such. Also add getter/setter to this one:\r\n\r\n    @NestedConfigurationProperty\r\n    private final Map&lt;String,List&lt;Query&gt;&gt; units = new HashMap&lt;&gt;();","title":"Inject List of Custom Object to map using spring boot configuration properties","body":"<p>If you want to have some nested things you need to initalize it and mark them as such. Also add getter/setter to this one:</p>\n<pre><code>@NestedConfigurationProperty\nprivate final Map&lt;String,List&lt;Query&gt;&gt; units = new HashMap&lt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26667222,"reputation":36,"user_id":20279136,"display_name":"pkytech"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666157829,"creation_date":1666157829,"answer_id":74120347,"question_id":74098532,"body_markdown":"It looks like your YAML is not defined correctly. Here is working YAML along with Java code\r\n\r\nHere is formatted YAML\r\n```\r\nserver:\r\n  credentials:\r\n    - list1:\r\n      - key1:\r\n        username: root\r\n        password: rootpass\r\n      - key2:\r\n        username: root\r\n        password: rootpass\r\n    - list2:\r\n      - key21:\r\n        username: root\r\n        password: rootpass\r\n      - key22:\r\n        username: root\r\n        password: rootpass\r\n```\r\n\r\nHere is a Java code\r\n\r\n```\r\n@Component\r\n@ConfigurationProperties(prefix = &quot;server&quot;)\r\npublic class ServerProperties {\r\n\r\n    private Map&lt;String, List&lt;Credential&gt;&gt; credentials = new HashMap&lt;&gt;();\r\n    //getter and setter    \r\n\r\n    public static class Credential {\r\n\r\n        private String username;\r\n        private String password;\r\n\r\n        // Getter/Setter\r\n    }\r\n}\r\n```","title":"Inject List of Custom Object to map using spring boot configuration properties","body":"<p>It looks like your YAML is not defined correctly. Here is working YAML along with Java code</p>\n<p>Here is formatted YAML</p>\n<pre><code>server:\n  credentials:\n    - list1:\n      - key1:\n        username: root\n        password: rootpass\n      - key2:\n        username: root\n        password: rootpass\n    - list2:\n      - key21:\n        username: root\n        password: rootpass\n      - key22:\n        username: root\n        password: rootpass\n</code></pre>\n<p>Here is a Java code</p>\n<pre><code>@Component\n@ConfigurationProperties(prefix = &quot;server&quot;)\npublic class ServerProperties {\n\n    private Map&lt;String, List&lt;Credential&gt;&gt; credentials = new HashMap&lt;&gt;();\n    //getter and setter    \n\n    public static class Credential {\n\n        private String username;\n        private String password;\n\n        // Getter/Setter\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16100082,"reputation":37,"user_id":11621104,"display_name":"Gourav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":904,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74120347,"answer_count":2,"score":0,"last_activity_date":1666157829,"creation_date":1666015387,"question_id":74098532,"body_markdown":"Getting issue with ConfigurationProperties. I have a configuration like this \r\n```\r\ncom:\r\n  test:\r\n    app:\r\n      units:\r\n        unit:\r\n          - query:\r\n              matchType: &quot;sadas&quot;\r\n          - query:\r\n              matchType: &quot;sadas&quot;\r\n```\r\nWanted to inject this application.yaml to this Map&lt;String,List\\&lt;Query\\&gt;&gt;. My Configuration code is like this.\r\n\r\n```\r\n\r\n@Component\r\n@ConfigurationProperties(prefix = &quot;com.test.app&quot;)\r\npublic class UnitsConfiguration {\r\n\r\n    private Map&lt;String,List&lt;Query&gt;&gt; units;\r\n//settter, getter\r\n}\r\n\r\n\r\n\r\npublic class Query {\r\n    private String matchType;\r\n//settter, getter\r\n}\r\n```\r\n\r\nError I am getting while running this.\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nBinding to target [Bindable@7e357c39 type = java.util.List&lt;Query&gt;, value = &#39;none&#39;, annotations = array&lt;Annotation&gt;[[empty]]] failed:\r\n\r\n    Property: com.test.app.units.unit[0].query.matchtype\r\n    Value: &quot;sadas&quot;\r\n    Origin: class path resource [application.yaml] - 20:26\r\n    Reason: The elements [com.test.app.units.unit[0].query.matchtype,com.test.app.units.unit[1].query.matchtype] were left unbound.\r\n```","title":"Inject List of Custom Object to map using spring boot configuration properties","body":"<p>Getting issue with ConfigurationProperties. I have a configuration like this</p>\n<pre><code>com:\n  test:\n    app:\n      units:\n        unit:\n          - query:\n              matchType: &quot;sadas&quot;\n          - query:\n              matchType: &quot;sadas&quot;\n</code></pre>\n<p>Wanted to inject this application.yaml to this Map&lt;String,List&lt;Query&gt;&gt;. My Configuration code is like this.</p>\n<pre><code>\n@Component\n@ConfigurationProperties(prefix = &quot;com.test.app&quot;)\npublic class UnitsConfiguration {\n\n    private Map&lt;String,List&lt;Query&gt;&gt; units;\n//settter, getter\n}\n\n\n\npublic class Query {\n    private String matchType;\n//settter, getter\n}\n</code></pre>\n<p>Error I am getting while running this.</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nBinding to target [Bindable@7e357c39 type = java.util.List&lt;Query&gt;, value = 'none', annotations = array&lt;Annotation&gt;[[empty]]] failed:\n\n    Property: com.test.app.units.unit[0].query.matchtype\n    Value: &quot;sadas&quot;\n    Origin: class path resource [application.yaml] - 20:26\n    Reason: The elements [com.test.app.units.unit[0].query.matchtype,com.test.app.units.unit[1].query.matchtype] were left unbound.\n</code></pre>\n"},{"tags":["java","html","selenium","xpath","webdriver"],"answers":[{"tags":[],"owner":{"account_id":226259,"reputation":2571,"user_id":7372462,"display_name":"Conal Tuohy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666157357,"creation_date":1666157357,"answer_id":74120281,"question_id":74120206,"body_markdown":"The XPath expression you mention (`//html/*[not(*)]`) actually means: &quot;find all the `html` elements in the document, and then find all their child elements, and then filter that set to include only those which don&#39;t have any child elements of their own).\r\n\r\nIf you just want to retrieve the child elements of the root `html` element, then the XPath you need is just `/html/*`","title":"XPath - Select Elements at the first level ex: after Html tag all child tags","body":"<p>The XPath expression you mention (<code>//html/*[not(*)]</code>) actually means: &quot;find all the <code>html</code> elements in the document, and then find all their child elements, and then filter that set to include only those which don't have any child elements of their own).</p>\n<p>If you just want to retrieve the child elements of the root <code>html</code> element, then the XPath you need is just <code>/html/*</code></p>\n"}],"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74120281,"answer_count":1,"score":0,"last_activity_date":1666157357,"creation_date":1666156561,"question_id":74120206,"body_markdown":"So say I have a html structure like so\r\n\r\n    &lt;!DOCTYPE HTML&gt;\r\n    &lt;html&gt;\r\n        &lt;body&gt;&lt;child&gt;&lt;/child&gt;&lt;/body&gt;\r\n        &lt;div&gt;&lt;/div&gt;\r\n        &lt;div&gt;&lt;child&gt;&lt;/child&gt;&lt;/div&gt;\r\n        &lt;script&gt;&lt;child&gt;&lt;/child&gt;&lt;/script&gt;\r\n        &lt;iframe&gt;&lt;/iframe&gt;\r\n        &lt;div&gt;&lt;/div&gt;\r\n    &lt;/html&gt;\r\n\r\nsay I only wanted to get the children of the html tag and not the decendents of these children I would do something like: \r\n\r\n    webDriver.findElements(By.xpath(&quot;//html/*[not(*)]&quot;))\r\n\r\nand perhaps before I run that line I would wait for a full page load with a function like this:\r\n\r\n    public void waitForPageLoad() {\r\n    \r\n    \t    Wait&lt;WebDriver&gt; wait = new WebDriverWait(webDriver, Duration.of(30, ChronoUnit.SECONDS));\r\n    \t    wait.until(new Function&lt;WebDriver, Boolean&gt;() {\r\n    \t        public Boolean apply(WebDriver driver) {\r\n    \t            System.out.println(&quot;Current Window State       : &quot;\r\n    \t                + String.valueOf(((JavascriptExecutor) driver).executeScript(&quot;return document.readyState&quot;)));\r\n    \t            return String\r\n    \t                .valueOf(((JavascriptExecutor) driver).executeScript(&quot;return document.readyState&quot;))\r\n    \t                .equals(&quot;complete&quot;);\r\n    \t        }\r\n    \t    });\r\n    \t}\r\n\r\nWhen I run the above code however I only get the first div and the iframe tags and that is it. What could be the issue here? there is no shadow root elements at the top level only inside one of the body tags descendants. I have used different methods of waiting for page load like checking the hash of the page source then waiting for 30 seconds.\r\n\r\nAny help would be great to find out what the problem is.\r\n\r\n\r\n","title":"XPath - Select Elements at the first level ex: after Html tag all child tags","body":"<p>So say I have a html structure like so</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html&gt;\n    &lt;body&gt;&lt;child&gt;&lt;/child&gt;&lt;/body&gt;\n    &lt;div&gt;&lt;/div&gt;\n    &lt;div&gt;&lt;child&gt;&lt;/child&gt;&lt;/div&gt;\n    &lt;script&gt;&lt;child&gt;&lt;/child&gt;&lt;/script&gt;\n    &lt;iframe&gt;&lt;/iframe&gt;\n    &lt;div&gt;&lt;/div&gt;\n&lt;/html&gt;\n</code></pre>\n<p>say I only wanted to get the children of the html tag and not the decendents of these children I would do something like:</p>\n<pre><code>webDriver.findElements(By.xpath(&quot;//html/*[not(*)]&quot;))\n</code></pre>\n<p>and perhaps before I run that line I would wait for a full page load with a function like this:</p>\n<pre><code>public void waitForPageLoad() {\n\n        Wait&lt;WebDriver&gt; wait = new WebDriverWait(webDriver, Duration.of(30, ChronoUnit.SECONDS));\n        wait.until(new Function&lt;WebDriver, Boolean&gt;() {\n            public Boolean apply(WebDriver driver) {\n                System.out.println(&quot;Current Window State       : &quot;\n                    + String.valueOf(((JavascriptExecutor) driver).executeScript(&quot;return document.readyState&quot;)));\n                return String\n                    .valueOf(((JavascriptExecutor) driver).executeScript(&quot;return document.readyState&quot;))\n                    .equals(&quot;complete&quot;);\n            }\n        });\n    }\n</code></pre>\n<p>When I run the above code however I only get the first div and the iframe tags and that is it. What could be the issue here? there is no shadow root elements at the top level only inside one of the body tags descendants. I have used different methods of waiting for page load like checking the hash of the page source then waiting for 30 seconds.</p>\n<p>Any help would be great to find out what the problem is.</p>\n"},{"tags":["java","class","iterator","integer"],"answers":[{"tags":[],"owner":{"account_id":20802784,"reputation":35,"user_id":15278421,"display_name":"Eyal Hadad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666157357,"creation_date":1666124059,"answer_id":74116958,"question_id":74113222,"body_markdown":"when implementing the `Iterable Interface` you `@Override` the method `itertor()` that returns `Iterator&lt;Type&gt;` Type is Integer in your case, since `Iterator&lt;E&gt;` is Interface also to use its methods you should `@Override` them to use them as you pleased.\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html\r\n\r\nhttps://stackoverflow.com/questions/5849154/can-we-write-our-own-iterator-in-java\r\n\r\n`String.valueOf(int k)` -&gt; return the value of k as a String\r\nsince you state that the numbers that being checked cannot contains `k` it was easier for me to do it with a String - you could take digit by digit and check that as well - it should work both ways.\r\n\r\nsince I needed `k` as String for the whole process while iterating I converted at first and use the String from that point.\r\n\r\nThe logic in the code are very straight forward - I wanted to show how to implements Iterable Interface - one of many ways.\r\n \r\n\r\n\r\n\r\n        public static class BoundedSkipper implements Iterable&lt;Integer&gt; {\r\n        int k;\r\n        int n;\r\n\r\n        public BoundedSkipper(int k, int n) {\r\n            this.k = k;\r\n            this.n = n;\r\n\r\n        }\r\n\r\n        @Override\r\n        public Iterator&lt;Integer&gt; iterator() {\r\n            Iterator&lt;Integer&gt; iterator = new Iterator&lt;Integer&gt;() {\r\n\r\n                private int currentIndex = 1;\r\n                private final String K_AS_A_STRING = String.valueOf(k);\r\n                private int NUMBER_DISCOVERED = 0;\r\n\r\n                @Override\r\n                public boolean hasNext() {\r\n                    return NUMBER_DISCOVERED &lt; n - 1;\r\n                }\r\n\r\n                @Override\r\n                public Integer next() {\r\n                    if (currentIndex == 1) return currentIndex++;\r\n                    else {\r\n                        if(!String.valueOf(currentIndex).contains(K_AS_A_STRING) &amp;&amp;\r\n                                !(currentIndex % k == 0) ){\r\n                            NUMBER_DISCOVERED++;\r\n                            return currentIndex++;\r\n                        }else {\r\n                            currentIndex++;\r\n                            return next();\r\n                        }\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void remove() {\r\n                    throw new UnsupportedOperationException();\r\n                }\r\n            };\r\n            return iterator;\r\n        }\r\n    }","title":"How can I return n numbers that satisfy the condition WITHOUT constructing a new sequence?","body":"<p>when implementing the <code>Iterable Interface</code> you <code>@Override</code> the method <code>itertor()</code> that returns <code>Iterator&lt;Type&gt;</code> Type is Integer in your case, since <code>Iterator&lt;E&gt;</code> is Interface also to use its methods you should <code>@Override</code> them to use them as you pleased.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html</a></p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html</a></p>\n<p><a href=\"https://stackoverflow.com/questions/5849154/can-we-write-our-own-iterator-in-java\">Can we write our own iterator in Java?</a></p>\n<p><code>String.valueOf(int k)</code> -&gt; return the value of k as a String\nsince you state that the numbers that being checked cannot contains <code>k</code> it was easier for me to do it with a String - you could take digit by digit and check that as well - it should work both ways.</p>\n<p>since I needed <code>k</code> as String for the whole process while iterating I converted at first and use the String from that point.</p>\n<p>The logic in the code are very straight forward - I wanted to show how to implements Iterable Interface - one of many ways.</p>\n<pre><code>    public static class BoundedSkipper implements Iterable&lt;Integer&gt; {\n    int k;\n    int n;\n\n    public BoundedSkipper(int k, int n) {\n        this.k = k;\n        this.n = n;\n\n    }\n\n    @Override\n    public Iterator&lt;Integer&gt; iterator() {\n        Iterator&lt;Integer&gt; iterator = new Iterator&lt;Integer&gt;() {\n\n            private int currentIndex = 1;\n            private final String K_AS_A_STRING = String.valueOf(k);\n            private int NUMBER_DISCOVERED = 0;\n\n            @Override\n            public boolean hasNext() {\n                return NUMBER_DISCOVERED &lt; n - 1;\n            }\n\n            @Override\n            public Integer next() {\n                if (currentIndex == 1) return currentIndex++;\n                else {\n                    if(!String.valueOf(currentIndex).contains(K_AS_A_STRING) &amp;&amp;\n                            !(currentIndex % k == 0) ){\n                        NUMBER_DISCOVERED++;\n                        return currentIndex++;\n                    }else {\n                        currentIndex++;\n                        return next();\n                    }\n                }\n            }\n\n            @Override\n            public void remove() {\n                throw new UnsupportedOperationException();\n            }\n        };\n        return iterator;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666157357,"creation_date":1666105314,"question_id":74113222,"body_markdown":"I have a class `BoundedSkipper` that implements  `Iterable&lt;Integer&gt;`, which looks like `public Iterator&lt;Integer&gt; iterator() {}` \r\n\r\n`BoundedSkipper` is supposed to take in two integers (int k, int n) where int k is supposed to be the number of integers greater than 0 that should be printed if the integer is NOT divisible or contains 3 in it.\r\n\r\nFor example: \r\n\r\n    for (int v: new BoundedSkipper(3, 11)) {\r\n      System.out.println(v); \r\n    }\r\n\r\nthe output would be `1, 2, 4, 5, 7, 8, 10, 11, 14, 16, 17`  where `k` = 3 and `n` = 11, \r\n\r\nsince the total number of integers is `n` which is 11, and all the integers excluded, which are 3, 6, 9, 12, 13, 15 are all either divisible or contains `k` which is 3. \r\n\r\nHere is my code so far:\r\n\r\n    public class BoundedSkipper implements Iterable&lt;Integer&gt; {\r\n        int k;\r\n        int n;\r\n    \r\n        public BoundedSkipper(int k, int n) {\r\n            this.k = k;\r\n            this.n = n;\r\n    \r\n        }\r\n        int count = 0;\r\n    \r\n        @Override\r\n        public Iterator&lt;Integer&gt; iterator() {\r\n            while (count &lt; k) {\r\n                \r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nThe reason why I left this blank is I have absolutely no clue on how to return `k` numbers that satisfy the condition since there is no specific parameter in this. Any help WITH CODE EXPLANATION would be extremely useful. Thank you.","title":"How can I return n numbers that satisfy the condition WITHOUT constructing a new sequence?","body":"<p>I have a class <code>BoundedSkipper</code> that implements  <code>Iterable&lt;Integer&gt;</code>, which looks like <code>public Iterator&lt;Integer&gt; iterator() {}</code></p>\n<p><code>BoundedSkipper</code> is supposed to take in two integers (int k, int n) where int k is supposed to be the number of integers greater than 0 that should be printed if the integer is NOT divisible or contains 3 in it.</p>\n<p>For example:</p>\n<pre><code>for (int v: new BoundedSkipper(3, 11)) {\n  System.out.println(v); \n}\n</code></pre>\n<p>the output would be <code>1, 2, 4, 5, 7, 8, 10, 11, 14, 16, 17</code>  where <code>k</code> = 3 and <code>n</code> = 11,</p>\n<p>since the total number of integers is <code>n</code> which is 11, and all the integers excluded, which are 3, 6, 9, 12, 13, 15 are all either divisible or contains <code>k</code> which is 3.</p>\n<p>Here is my code so far:</p>\n<pre><code>public class BoundedSkipper implements Iterable&lt;Integer&gt; {\n    int k;\n    int n;\n\n    public BoundedSkipper(int k, int n) {\n        this.k = k;\n        this.n = n;\n\n    }\n    int count = 0;\n\n    @Override\n    public Iterator&lt;Integer&gt; iterator() {\n        while (count &lt; k) {\n            \n\n        }\n    }\n}\n</code></pre>\n<p>The reason why I left this blank is I have absolutely no clue on how to return <code>k</code> numbers that satisfy the condition since there is no specific parameter in this. Any help WITH CODE EXPLANATION would be extremely useful. Thank you.</p>\n"},{"tags":["java","null","option-type","nosuchelementexception"],"comments":[{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":0,"creation_date":1666081836,"post_id":74105594,"comment_id":130845100,"body_markdown":"You have been mistaken. Optionals exists only for the purpose of forcing the caller to handle null values in method return. It does not express the purpose why null exists, only that it exists. https://www.oracle.com/technical-resources/articles/java/java8-optional.html","body":"You have been mistaken. Optionals exists only for the purpose of forcing the caller to handle null values in method return. It does not express the purpose why null exists, only that it exists. <a href=\"https://www.oracle.com/technical-resources/articles/java/java8-optional.html\" rel=\"nofollow noreferrer\">oracle.com/technical-resources/articles/java/&hellip;</a>"},{"owner":{"account_id":16752149,"reputation":2993,"user_id":12109043,"display_name":"zr0gravity7"},"score":0,"creation_date":1666156550,"post_id":74105594,"comment_id":130865834,"body_markdown":"@user16320675 The title is more general to hopefully avoid falling to the XY problem (although using optionals this way is probably already the case). My intent is to distinguish between whether the optional was intentionally made empty or created from a null. The only way I see of achieving this is by retrieving information from the optional, using `get()`.","body":"@user16320675 The title is more general to hopefully avoid falling to the XY problem (although using optionals this way is probably already the case). My intent is to distinguish between whether the optional was intentionally made empty or created from a null. The only way I see of achieving this is by retrieving information from the optional, using <code>get()</code>."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666067128,"creation_date":1666067128,"answer_id":74105708,"question_id":74105594,"body_markdown":"Here&#39;s an example of how you can quickly encapsulate that pattern into a utility class:\r\n```java\r\nimport java.util.function.Function;\r\nimport java.util.function.Supplier;\r\n\r\npublic class Result&lt;T&gt; {\r\n    private final boolean required;\r\n    private final T value;\r\n\r\n    private Result(boolean required, T value) {\r\n        this.required = required;\r\n        this.value = value;\r\n    }\r\n\r\n    public static &lt;T&gt; Result&lt;T&gt; notRequired() {\r\n        return new Result&lt;&gt;(false, null);\r\n    }\r\n\r\n    public static &lt;T&gt; Result&lt;T&gt; ofNullable(T value) {\r\n        return new Result&lt;&gt;(true, value);\r\n    }\r\n\r\n    public &lt;U&gt; U consume(Supplier&lt;U&gt; notRequired, Supplier&lt;U&gt; unavailable, Function&lt;T,U&gt; available) {\r\n        if (!required) {\r\n            return notRequired.get();\r\n        } else {\r\n            return value == null ? unavailable.get() : available.apply(value);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Result&lt;Integer&gt; r = Result.ofNullable(10);\r\n        System.out.println(r.consume(() -&gt; &quot;all good&quot;, () -&gt; &quot;bad&quot;, x -&gt; &quot;$&quot; + x));\r\n    }\r\n}\r\n```\r\nThere are many details you could change in this implementation:\r\n- Use Optional&lt;T&gt; instead of a nullable field\r\n- A more fluent interface with three methods for the three cases instead of a single `consume`.\r\n- A factory method which abstracts some of the details of how the three cases occur, to reduce boilerplate in `myMethodToGetAFoo`.","title":"Distinguish between an Optional.empty() and an Optional.ofNullable(null)","body":"<p>Here's an example of how you can quickly encapsulate that pattern into a utility class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.function.Function;\nimport java.util.function.Supplier;\n\npublic class Result&lt;T&gt; {\n    private final boolean required;\n    private final T value;\n\n    private Result(boolean required, T value) {\n        this.required = required;\n        this.value = value;\n    }\n\n    public static &lt;T&gt; Result&lt;T&gt; notRequired() {\n        return new Result&lt;&gt;(false, null);\n    }\n\n    public static &lt;T&gt; Result&lt;T&gt; ofNullable(T value) {\n        return new Result&lt;&gt;(true, value);\n    }\n\n    public &lt;U&gt; U consume(Supplier&lt;U&gt; notRequired, Supplier&lt;U&gt; unavailable, Function&lt;T,U&gt; available) {\n        if (!required) {\n            return notRequired.get();\n        } else {\n            return value == null ? unavailable.get() : available.apply(value);\n        }\n    }\n\n    public static void main(String[] args) {\n        Result&lt;Integer&gt; r = Result.ofNullable(10);\n        System.out.println(r.consume(() -&gt; &quot;all good&quot;, () -&gt; &quot;bad&quot;, x -&gt; &quot;$&quot; + x));\n    }\n}\n</code></pre>\n<p>There are many details you could change in this implementation:</p>\n<ul>\n<li>Use Optional instead of a nullable field</li>\n<li>A more fluent interface with three methods for the three cases instead of a single <code>consume</code>.</li>\n<li>A factory method which abstracts some of the details of how the three cases occur, to reduce boilerplate in <code>myMethodToGetAFoo</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666157062,"creation_date":1666081267,"answer_id":74107856,"question_id":74105594,"body_markdown":"So in short, there are **two cases** in your business logic, and you need to differentiate between them, which is not possible with the current implementation.\r\n\r\nThat&#39;s fine and that&#39;s understandable.\r\n\r\nBut the direction in which you expect to find a solution seems to be wrong.\r\n\r\nThe first thing to keep in mind, is that both `null` and an *empty Optional* are intended to convey the same thing - **no data** (hence, no reference to the object). It&#39;s a smell when one of these is getting a special meaning in your application. That&#39;s not the way to go. And inventing a new container would be the same thing in disguise.\r\n\r\nTo address the problem properly, it&#39;s crucial to understand that the current problem statement is incorrect.\r\n\r\n# Possible solutions\r\n\r\nFirstly, you need to these two cases you want to discriminate between carefully. Should they both be treated as **normal**?\r\n\r\nI suspect that in the first case, when you deliberately don&#39;t want to return, the data might be an abnormal (*like wrong credentials, invalid amount to withdraw, etc.*). And the way you&#39;re logging this event `log.error()` implies that it&#39;s not how expect your app to function.\r\n\r\nIf this assumption is correct, then instead of returning, you can throw an exception.\r\n\r\n    Optional&lt;Foo&gt; myMethodToGetAFoo() {\r\n        boolean shouldWeGetAFoo = [business logic];\r\n        \r\n        if (!shouldWeGetAFoo) {\r\n            throw new MyException(&quot;You shall not pass!&quot;); // use the appropriate exception type and message here\r\n        }\r\n        \r\n        Foo myFooOrNull = serviceCallToGetAFoo();\r\n        return Optional.ofNullable(myFooOrNull); // optional either empty or contains a result\r\n    }\r\n\r\nAnd if you&#39;re using a framework, like Spring, you can leverage its built-in exception-handling mechanics to treat this exception properly.\r\n\r\nIf you don&#39;t want to resort to throwing an exception, which would be in contradiction with your intention of this behavior as abnormal via `log.error()`, an alternative could be to make the `Foo` implement the [Null object pattern](https://en.wikipedia.org/wiki/Null_object_pattern).\r\n\r\nA *&quot;null-instance&quot;* of `Foo` (which can be stored in a static final field) can be provided to signify that the data was expected to be returned, but the appropriate information wasn&#39;t found.\r\n\r\n    Optional&lt;Foo&gt; myMethodToGetAFoo() {\r\n        boolean shouldWeGetAFoo = [business logic];\r\n        \r\n        if (!shouldWeGetAFoo) {\r\n            return Optional.empty(); // communicate that we intentionally don&#39;t return a foo\r\n        }\r\n        \r\n        Foo myFooOrNull = serviceCallToGetAFoo();\r\n        return Optional.ofNullable(null).or(() -&gt; Optional.of(Foo.NULL_INSTANCE)); // communicate that we do return a foo, which may be null\r\n    }\r\n\r\nAnd that how the logic of your second method would look in this case:\r\n\r\n    void myMethodThatUsesAFoo() {\r\n    \r\n        Optional&lt;Foo&gt; myFoo = myMethodToGetAFoo();\r\n    \r\n        myFoo.ifPresentOrElse(foo -&gt; {\r\n                if (foo == Foo.NULL_INSTANCE) log.error(&quot;bad&quot;);\r\n                foo.useAsNormal(); // behavior of NULL_INSTANCE.useAsNormal() should be neutral\r\n            },\r\n            () -&gt; { log.info(&quot;all good&quot;); }\r\n        );\r\n    }\r\n\r\n**Note:**\r\n* Every time you&#39;re using `Optional.isPresent()` in your code - pause for a second, most likely you&#39;re not leveraging Optional API to its full power. When you&#39;re accustomed to it, you rarely need to resort `isPresent()` checks.\r\n* I would suggest the first approach over the second one. Since it is more explicit, easier to grasp and implement, and also consistent with your intention of logging that something serious has happened.","title":"Distinguish between an Optional.empty() and an Optional.ofNullable(null)","body":"<p>So in short, there are <strong>two cases</strong> in your business logic, and you need to differentiate between them, which is not possible with the current implementation.</p>\n<p>That's fine and that's understandable.</p>\n<p>But the direction in which you expect to find a solution seems to be wrong.</p>\n<p>The first thing to keep in mind, is that both <code>null</code> and an <em>empty Optional</em> are intended to convey the same thing - <strong>no data</strong> (hence, no reference to the object). It's a smell when one of these is getting a special meaning in your application. That's not the way to go. And inventing a new container would be the same thing in disguise.</p>\n<p>To address the problem properly, it's crucial to understand that the current problem statement is incorrect.</p>\n<h1>Possible solutions</h1>\n<p>Firstly, you need to these two cases you want to discriminate between carefully. Should they both be treated as <strong>normal</strong>?</p>\n<p>I suspect that in the first case, when you deliberately don't want to return, the data might be an abnormal (<em>like wrong credentials, invalid amount to withdraw, etc.</em>). And the way you're logging this event <code>log.error()</code> implies that it's not how expect your app to function.</p>\n<p>If this assumption is correct, then instead of returning, you can throw an exception.</p>\n<pre><code>Optional&lt;Foo&gt; myMethodToGetAFoo() {\n    boolean shouldWeGetAFoo = [business logic];\n    \n    if (!shouldWeGetAFoo) {\n        throw new MyException(&quot;You shall not pass!&quot;); // use the appropriate exception type and message here\n    }\n    \n    Foo myFooOrNull = serviceCallToGetAFoo();\n    return Optional.ofNullable(myFooOrNull); // optional either empty or contains a result\n}\n</code></pre>\n<p>And if you're using a framework, like Spring, you can leverage its built-in exception-handling mechanics to treat this exception properly.</p>\n<p>If you don't want to resort to throwing an exception, which would be in contradiction with your intention of this behavior as abnormal via <code>log.error()</code>, an alternative could be to make the <code>Foo</code> implement the <a href=\"https://en.wikipedia.org/wiki/Null_object_pattern\" rel=\"nofollow noreferrer\">Null object pattern</a>.</p>\n<p>A <em>&quot;null-instance&quot;</em> of <code>Foo</code> (which can be stored in a static final field) can be provided to signify that the data was expected to be returned, but the appropriate information wasn't found.</p>\n<pre><code>Optional&lt;Foo&gt; myMethodToGetAFoo() {\n    boolean shouldWeGetAFoo = [business logic];\n    \n    if (!shouldWeGetAFoo) {\n        return Optional.empty(); // communicate that we intentionally don't return a foo\n    }\n    \n    Foo myFooOrNull = serviceCallToGetAFoo();\n    return Optional.ofNullable(null).or(() -&gt; Optional.of(Foo.NULL_INSTANCE)); // communicate that we do return a foo, which may be null\n}\n</code></pre>\n<p>And that how the logic of your second method would look in this case:</p>\n<pre><code>void myMethodThatUsesAFoo() {\n\n    Optional&lt;Foo&gt; myFoo = myMethodToGetAFoo();\n\n    myFoo.ifPresentOrElse(foo -&gt; {\n            if (foo == Foo.NULL_INSTANCE) log.error(&quot;bad&quot;);\n            foo.useAsNormal(); // behavior of NULL_INSTANCE.useAsNormal() should be neutral\n        },\n        () -&gt; { log.info(&quot;all good&quot;); }\n    );\n}\n</code></pre>\n<p><strong>Note:</strong></p>\n<ul>\n<li>Every time you're using <code>Optional.isPresent()</code> in your code - pause for a second, most likely you're not leveraging Optional API to its full power. When you're accustomed to it, you rarely need to resort <code>isPresent()</code> checks.</li>\n<li>I would suggest the first approach over the second one. Since it is more explicit, easier to grasp and implement, and also consistent with your intention of logging that something serious has happened.</li>\n</ul>\n"}],"owner":{"account_id":16752149,"reputation":2993,"user_id":12109043,"display_name":"zr0gravity7"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":970,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666157062,"creation_date":1666065998,"question_id":74105594,"body_markdown":"The use case is to wrap some return value in an Optional to communicate two scenarios: \r\n1) the return value is not present intentionally\r\n2) the return value should be present, but was null unexpectedly\r\n\r\nFor example:\r\n\r\n```\r\nOptional&lt;Foo&gt; myMethodToGetAFoo() {\r\n  boolean shouldWeGetAFoo = [business logic];\r\n  if (!shouldWeGetAFoo) {\r\n    return Optional.empty(); // communicate that we intentionally don&#39;t return a foo\r\n  }\r\n  Foo myFooOrNull = serviceCallToGetAFoo();\r\n  Optional&lt;Foo&gt; returnValue = Optional.ofNullable(myFooOrNull); // communicate that we do return a foo, which may be null\r\n}\r\n\r\nvoid myMethodThatUsesAFoo() {\r\n  Optional&lt;Foo&gt; myFoo = myMethodToGetAFoo();\r\n  // what I would like to do\r\n  if (myFoo.isPresent()) {\r\n    if (myFoo.get() == null) { // ******* however, this throws NoSuchElementException if it is of null\r\n      // should have been present, but service call returned null (bad)\r\n      log.error(&quot;bad&quot;); return;\r\n    }\r\n    myFoo.get().useAsNormal();\r\n  } else {\r\n    // intentionally not present (fine)\r\n    log.info(&quot;all good&quot;); return;\r\n  }\r\n}\r\n```\r\n\r\nHowever, this is not possible because calling `get()` on an Optional of a null value throws a `NoSuchElementException`. This is problematic in this use case because no such element is overloaded to mean both:\r\n1) The optional is empty\r\n2) The optional is of a null value\r\n\r\nIs there a way to distinguish between these scenarios? I understand this is precisely the intent of Optionals, to prevent doing `get()` and getting a null value, but I am wondering if there is some other pattern to achieve this.","title":"Distinguish between an Optional.empty() and an Optional.ofNullable(null)","body":"<p>The use case is to wrap some return value in an Optional to communicate two scenarios:</p>\n<ol>\n<li>the return value is not present intentionally</li>\n<li>the return value should be present, but was null unexpectedly</li>\n</ol>\n<p>For example:</p>\n<pre><code>Optional&lt;Foo&gt; myMethodToGetAFoo() {\n  boolean shouldWeGetAFoo = [business logic];\n  if (!shouldWeGetAFoo) {\n    return Optional.empty(); // communicate that we intentionally don't return a foo\n  }\n  Foo myFooOrNull = serviceCallToGetAFoo();\n  Optional&lt;Foo&gt; returnValue = Optional.ofNullable(myFooOrNull); // communicate that we do return a foo, which may be null\n}\n\nvoid myMethodThatUsesAFoo() {\n  Optional&lt;Foo&gt; myFoo = myMethodToGetAFoo();\n  // what I would like to do\n  if (myFoo.isPresent()) {\n    if (myFoo.get() == null) { // ******* however, this throws NoSuchElementException if it is of null\n      // should have been present, but service call returned null (bad)\n      log.error(&quot;bad&quot;); return;\n    }\n    myFoo.get().useAsNormal();\n  } else {\n    // intentionally not present (fine)\n    log.info(&quot;all good&quot;); return;\n  }\n}\n</code></pre>\n<p>However, this is not possible because calling <code>get()</code> on an Optional of a null value throws a <code>NoSuchElementException</code>. This is problematic in this use case because no such element is overloaded to mean both:</p>\n<ol>\n<li>The optional is empty</li>\n<li>The optional is of a null value</li>\n</ol>\n<p>Is there a way to distinguish between these scenarios? I understand this is precisely the intent of Optionals, to prevent doing <code>get()</code> and getting a null value, but I am wondering if there is some other pattern to achieve this.</p>\n"},{"tags":["java","palindrome"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1588252159,"post_id":61524076,"comment_id":108831227,"body_markdown":"Your problem is that you already print out &quot;yes&quot; or &quot;no&quot; in the first iteration of the loop, when you will only have checked 1 letter position so far. This cannot work and you can only tell/print if something is a palindrome once you are done with checking all letters. (aka: After you are done with your loop)","body":"Your problem is that you already print out &quot;yes&quot; or &quot;no&quot; in the first iteration of the loop, when you will only have checked 1 letter position so far. This cannot work and you can only tell/print if something is a palindrome once you are done with checking all letters. (aka: After you are done with your loop)"},{"owner":{"account_id":1033857,"reputation":17546,"user_id":1041641,"accept_rate":67,"display_name":"TmTron"},"score":2,"creation_date":1588252174,"post_id":61524076,"comment_id":108831237,"body_markdown":"try to improve your question - currently it is [unclear what you are asking](https://idownvotedbecau.se/unclearquestion)","body":"try to improve your question - currently it is <a href=\"https://idownvotedbecau.se/unclearquestion\" rel=\"nofollow noreferrer\">unclear what you are asking</a>"}],"answers":[{"tags":[],"owner":{"account_id":18193410,"reputation":1213,"user_id":13238899,"display_name":"Sidak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1588252303,"creation_date":1588252303,"answer_id":61524214,"question_id":61524076,"body_markdown":"You&#39;re printing &quot;Yes&quot; for every character that has the same character at the opposite end of the String and &quot;No&quot; if not. Modify your loop to return a boolean that tells whether the String is a palindrome or not and then print it at the end like so:\r\n\r\n    boolean isPalindrome = true;\r\n    for (int i=0; i&lt;A.length()/2; i++){\r\n        if(!A.charAt(i)==A.charAt(A.length()-i-1)){\r\n        isPalindrome = false;            \r\n        }\r\n    }\r\n    \r\n    if(isPalindome){\r\n        System.out.println(&quot;Yes&quot;);\r\n    } else {\r\n        System.out.println(&quot;No&quot;);\r\n    }","title":"Given a A string , print Yes if it is a palindrome, print No otherwise","body":"<p>You're printing \"Yes\" for every character that has the same character at the opposite end of the String and \"No\" if not. Modify your loop to return a boolean that tells whether the String is a palindrome or not and then print it at the end like so:</p>\n\n<pre><code>boolean isPalindrome = true;\nfor (int i=0; i&lt;A.length()/2; i++){\n    if(!A.charAt(i)==A.charAt(A.length()-i-1)){\n    isPalindrome = false;            \n    }\n}\n\nif(isPalindome){\n    System.out.println(\"Yes\");\n} else {\n    System.out.println(\"No\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17412084,"reputation":1,"user_id":12619113,"display_name":"naitik kyada"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1592139205,"creation_date":1592131059,"answer_id":62371339,"question_id":61524076,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class test {\r\n    \r\n    public static void main(String args[]) {\r\n        \r\n        Scanner sc=new Scanner(System.in);\r\n        String A=sc.nextLine();\r\n\r\n        String temp=&quot;&quot;;\r\n        for(int i=A.length()-1;i&gt;=0;i--){\r\n            temp = temp + A.charAt(i);\r\n        }\r\n        if(A.equals(temp)){\r\n            System.out.println(&quot;Yes&quot;);\r\n        }else{\r\n            System.out.println(&quot;No&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"Given a A string , print Yes if it is a palindrome, print No otherwise","body":"<pre><code>import java.util.Scanner;\n\npublic class test {\n\n    public static void main(String args[]) {\n\n        Scanner sc=new Scanner(System.in);\n        String A=sc.nextLine();\n\n        String temp=\"\";\n        for(int i=A.length()-1;i&gt;=0;i--){\n            temp = temp + A.charAt(i);\n        }\n        if(A.equals(temp)){\n            System.out.println(\"Yes\");\n        }else{\n            System.out.println(\"No\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16810539,"reputation":91,"user_id":12153660,"display_name":"Abhishek Anand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602143777,"creation_date":1602143777,"answer_id":64258149,"question_id":61524076,"body_markdown":"    \tpublic static void main(String[] args) {\r\n\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tString A = sc.next();\r\n\r\n\t\tString reverse = new StringBuffer(A).reverse().toString();\r\n\t\tif (A.equals(reverse))\r\n\t\t\tSystem.out.println(&quot;Yes&quot;);\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;No&quot;);\r\n\r\n\t}","title":"Given a A string , print Yes if it is a palindrome, print No otherwise","body":"<pre><code>    public static void main(String[] args) {\n\n    Scanner sc = new Scanner(System.in);\n    String A = sc.next();\n\n    String reverse = new StringBuffer(A).reverse().toString();\n    if (A.equals(reverse))\n        System.out.println(&quot;Yes&quot;);\n    else\n        System.out.println(&quot;No&quot;);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10778102,"reputation":1,"user_id":7929388,"display_name":"Vasyl Mykhalyuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615741079,"creation_date":1615741079,"answer_id":66627202,"question_id":61524076,"body_markdown":"     int end = A.length()-1;\r\n        int i=0;\r\n        boolean isPol = true;\r\n        while (i&lt;=end){\r\n            if (A.charAt(i)!=A.charAt(end))\r\n                isPol = false;\r\n            i++;\r\n            end--;\r\n        }\r\n        if (isPol == true) System.out.println(&quot;Yes&quot;);\r\n        else System.out.println(&quot;No&quot;);","title":"Given a A string , print Yes if it is a palindrome, print No otherwise","body":"<pre><code> int end = A.length()-1;\n    int i=0;\n    boolean isPol = true;\n    while (i&lt;=end){\n        if (A.charAt(i)!=A.charAt(end))\n            isPol = false;\n        i++;\n        end--;\n    }\n    if (isPol == true) System.out.println(&quot;Yes&quot;);\n    else System.out.println(&quot;No&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22080407,"reputation":1,"user_id":16340065,"display_name":"Guru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631428142,"creation_date":1631349122,"answer_id":69141335,"question_id":61524076,"body_markdown":"```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Solution {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        String A = sc.next();\r\n        /* Enter your code here. Print output to STDOUT. */\r\n        String reverse = &quot;&quot;;\r\n        int length = A.length();\r\n        for (int i=length-1;i&gt;=0;i--){\r\n            reverse = reverse + A.charAt(i);\r\n        }\r\n        boolean ans = A.equals(reverse);\r\n        if (ans) {\r\n            System.out.println(&quot;Yes&quot;);\r\n        } else {\r\n            System.out.println(&quot;No&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"Given a A string , print Yes if it is a palindrome, print No otherwise","body":"<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class Solution {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        String A = sc.next();\n        /* Enter your code here. Print output to STDOUT. */\n        String reverse = &quot;&quot;;\n        int length = A.length();\n        for (int i=length-1;i&gt;=0;i--){\n            reverse = reverse + A.charAt(i);\n        }\n        boolean ans = A.equals(reverse);\n        if (ans) {\n            System.out.println(&quot;Yes&quot;);\n        } else {\n            System.out.println(&quot;No&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22309312,"reputation":1,"user_id":16533505,"display_name":"tuannd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666156783,"creation_date":1666156783,"answer_id":74120227,"question_id":61524076,"body_markdown":"        Scanner sc = new Scanner(System.in);\r\n        String A = sc.next();\r\n        \r\n        boolean isPalindrome = false;\r\n        int len = A.length();\r\n        \r\n        if(len &gt; 1) {\r\n            for (int i = 0; i &lt; len/2; i++) {\r\n            \tif (A.charAt(i) == A.charAt(len-i-1)) {\r\n            \t\tisPalindrome = true;\t\r\n    \t\t\t}else {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n    \t\t}\r\n        }else if (len &lt;= 1) {\r\n        \tisPalindrome = true;\r\n\t\t}\r\n\r\n        \r\n        if (isPalindrome) {\r\n\t\t\tSystem.out.println(&quot;Yes&quot;);\r\n\t\t}else {\r\n\t\t\tSystem.out.println(&quot;No&quot;);\r\n\t\t}\r\n        sc.close();","title":"Given a A string , print Yes if it is a palindrome, print No otherwise","body":"<pre><code>    Scanner sc = new Scanner(System.in);\n    String A = sc.next();\n    \n    boolean isPalindrome = false;\n    int len = A.length();\n    \n    if(len &gt; 1) {\n        for (int i = 0; i &lt; len/2; i++) {\n            if (A.charAt(i) == A.charAt(len-i-1)) {\n                isPalindrome = true;    \n            }else {\n                break;\n            }\n        }\n    }else if (len &lt;= 1) {\n        isPalindrome = true;\n    }\n\n    \n    if (isPalindrome) {\n        System.out.println(&quot;Yes&quot;);\n    }else {\n        System.out.println(&quot;No&quot;);\n    }\n    sc.close();\n</code></pre>\n"}],"owner":{"account_id":18450988,"reputation":139,"user_id":13441103,"display_name":"Jomer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6306,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"accepted_answer_id":61524214,"answer_count":6,"score":-4,"last_activity_date":1666156783,"creation_date":1588251900,"question_id":61524076,"body_markdown":"I want to check if the user input is a palindrome or not. But this is not working as expected. Please help.\r\n\r\nThe code I tried:\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    public class Solution {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner sc=new Scanner(System.in);\r\n            String A=sc.next();\r\n            for (int i=0; i&lt;A.length()/2; i++){\r\n                if(A.charAt(i)==A.charAt(A.length()-i-1)) {\r\n                    System.out.println(&quot;Yes&quot;);\r\n                } else {\r\n                    System.out.println(&quot;No&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Given a A string , print Yes if it is a palindrome, print No otherwise","body":"<p>I want to check if the user input is a palindrome or not. But this is not working as expected. Please help.</p>\n\n<p>The code I tried:</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner sc=new Scanner(System.in);\n        String A=sc.next();\n        for (int i=0; i&lt;A.length()/2; i++){\n            if(A.charAt(i)==A.charAt(A.length()-i-1)) {\n                System.out.println(\"Yes\");\n            } else {\n                System.out.println(\"No\");\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","file","account"],"comments":[{"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"score":0,"creation_date":1666116202,"post_id":74115345,"comment_id":130857930,"body_markdown":"your question is not clear, Please provide a proper explanation in fewer words with some piece of code.","body":"your question is not clear, Please provide a proper explanation in fewer words with some piece of code."},{"owner":{"account_id":25708079,"reputation":5,"user_id":19467065,"display_name":"AnsG"},"score":0,"creation_date":1666118105,"post_id":74115345,"comment_id":130858604,"body_markdown":"Code is not needed for my question since it&#39;s not about an error or something similar. Can you provide me what is unclear about my question?","body":"Code is not needed for my question since it&#39;s not about an error or something similar. Can you provide me what is unclear about my question?"}],"answers":[{"tags":[],"owner":{"account_id":25959828,"reputation":23,"user_id":19676635,"display_name":"Cosmin Popa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666125352,"creation_date":1666125352,"answer_id":74117171,"question_id":74115345,"body_markdown":"I think you should read about sqllite. It`s a database made for android studio. Basically you save the username and the password into a file for each user and when you try to login, you will read all the username-password combinations to see if one matches. If one matches ,it&#39;s a login.","title":"Good way for login aplication in Android Studio","body":"<p>I think you should read about sqllite. It`s a database made for android studio. Basically you save the username and the password into a file for each user and when you try to login, you will read all the username-password combinations to see if one matches. If one matches ,it's a login.</p>\n"},{"tags":[],"owner":{"account_id":25739271,"reputation":653,"user_id":19493508,"display_name":"Hanif Shaikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666156281,"creation_date":1666156281,"answer_id":74120164,"question_id":74115345,"body_markdown":"I Agree with **Cosmin** but we have also some best practices for this Like you can use the room database instead of Sqlite. Also, you can use SharedPreferences for storing the Current User.\r\n \r\nroom reference : https://www.geeksforgeeks.org/how-to-perform-crud-operations-in-room-database-in-android/\r\n\r\nshared preferences reference : https://www.tutlane.com/tutorial/android/android-shared-preferences-with-examples","title":"Good way for login aplication in Android Studio","body":"<p>I Agree with <strong>Cosmin</strong> but we have also some best practices for this Like you can use the room database instead of Sqlite. Also, you can use SharedPreferences for storing the Current User.</p>\n<p>room reference : <a href=\"https://www.geeksforgeeks.org/how-to-perform-crud-operations-in-room-database-in-android/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/how-to-perform-crud-operations-in-room-database-in-android/</a></p>\n<p>shared preferences reference : <a href=\"https://www.tutlane.com/tutorial/android/android-shared-preferences-with-examples\" rel=\"nofollow noreferrer\">https://www.tutlane.com/tutorial/android/android-shared-preferences-with-examples</a></p>\n"}],"owner":{"account_id":25708079,"reputation":5,"user_id":19467065,"display_name":"AnsG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666156281,"creation_date":1666115435,"question_id":74115345,"body_markdown":"I want to create a little Login application using Java in Android Studio. I have done this just with Java and have used a File on my own computer for it. That wont work with when the app is downloaded on other devices. at least that&#39;s what I think. I have used a file in the format of username:password, split it on &quot;:&quot; and then transferred it into a hash map. Can I have a &quot;central&quot; File where every new account gets added to? Or is there an other better way to do that? I have no clue on how to do that and can&#39;t find a solution on YouTube or google. I want to add: I don&#39;t want to have the best or most effective solution for it but the easiest. I am completely new to Android and kind of new to Java and programming in general. I just want something to write accounts to and read them out. ","title":"Good way for login aplication in Android Studio","body":"<p>I want to create a little Login application using Java in Android Studio. I have done this just with Java and have used a File on my own computer for it. That wont work with when the app is downloaded on other devices. at least that's what I think. I have used a file in the format of username:password, split it on &quot;:&quot; and then transferred it into a hash map. Can I have a &quot;central&quot; File where every new account gets added to? Or is there an other better way to do that? I have no clue on how to do that and can't find a solution on YouTube or google. I want to add: I don't want to have the best or most effective solution for it but the easiest. I am completely new to Android and kind of new to Java and programming in general. I just want something to write accounts to and read them out.</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user10316011"},"score":4,"creation_date":1559485400,"post_id":56415859,"comment_id":99427699,"body_markdown":"What version of java do you have installed and how are you running your program? The simplest way to work with java is to install the JDK and compile using `javac`, run stuff using `java` on the command line. As release 13 is planned to release in September, you are probably doing something else, possibly involving time machines. :) Can you decribe your steps?","body":"What version of java do you have installed and how are you running your program? The simplest way to work with java is to install the JDK and compile using <code>javac</code>, run stuff using <code>java</code> on the command line. As release 13 is planned to release in September, you are probably doing something else, possibly involving time machines. :) Can you decribe your steps?"},{"owner":{"account_id":16058398,"reputation":141,"user_id":11590051,"display_name":"mmassyn"},"score":0,"creation_date":1559488357,"post_id":56415859,"comment_id":99428379,"body_markdown":"Hi, \n:):):)\nI have version 12.0.1\nUsing IntelliJ IDEA\nnot sure if that helps","body":"Hi,  :):):) I have version 12.0.1 Using IntelliJ IDEA not sure if that helps"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1559490098,"post_id":56415859,"comment_id":99428830,"body_markdown":"Well, if you have Java 12, then you can not use features of Java 13... You must have specified configuration somewhere that causes IntelliJ to try and use Java 13 features.","body":"Well, if you have Java 12, then you can not use features of Java 13... You must have specified configuration somewhere that causes IntelliJ to try and use Java 13 features."},{"owner":{"display_name":"user10316011"},"score":0,"creation_date":1559490516,"post_id":56415859,"comment_id":99428949,"body_markdown":"At the level of detail you provided so far, the only answer you are likely to get is &quot;cannot reproduce&quot;. I can only speculate that you somehow managed to misconfigure your project to use java 13, try going through the project properties.","body":"At the level of detail you provided so far, the only answer you are likely to get is &quot;cannot reproduce&quot;. I can only speculate that you somehow managed to misconfigure your project to use java 13, try going through the project properties."},{"owner":{"account_id":16058398,"reputation":141,"user_id":11590051,"display_name":"mmassyn"},"score":1,"creation_date":1559493589,"post_id":56415859,"comment_id":99429746,"body_markdown":"Sorry guys, as I said, I&#39;m very new to this as well as community chats and appreciate your help. Is there a way to attach a file or send screen shot. I&#39;ve checked the Project structure, and the only option that gives the lease errors is X-Experimental features. I have no idea where to check for any other setups","body":"Sorry guys, as I said, I&#39;m very new to this as well as community chats and appreciate your help. Is there a way to attach a file or send screen shot. I&#39;ve checked the Project structure, and the only option that gives the lease errors is X-Experimental features. I have no idea where to check for any other setups"},{"owner":{"account_id":3368528,"reputation":362,"user_id":2828426,"accept_rate":40,"display_name":"Adarsh Singhal"},"score":0,"creation_date":1621061972,"post_id":56415859,"comment_id":119385994,"body_markdown":"File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Java Compiler -&gt; Project Bytecode Version. This worked for me. You can also check Edit Configuration which in under Run Menu","body":"File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Java Compiler -&gt; Project Bytecode Version. This worked for me. You can also check Edit Configuration which in under Run Menu"}],"answers":[{"tags":[],"owner":{"account_id":5534380,"reputation":268,"user_id":4472711,"display_name":"MNEMO"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1573008379,"creation_date":1573008379,"answer_id":58722373,"question_id":56415859,"body_markdown":"Try &quot;File&quot; menu &gt;&gt; &quot;Project Structure...&quot;\r\n\r\nAnd then click &quot;Project Settings &gt;&gt; Modules&quot; on left side pane.\r\n\r\nWhen selecting &quot;Sources&quot; tab on right-most pane,\r\nyou would see &quot;Language level:&quot; drop-down, and you might see &quot;13&quot; being selected.\r\n\r\nTry switching it to 12 or lower, the Error should be removed.","title":"Java: error: release version 13 not supported","body":"<p>Try \"File\" menu >> \"Project Structure...\"</p>\n\n<p>And then click \"Project Settings >> Modules\" on left side pane.</p>\n\n<p>When selecting \"Sources\" tab on right-most pane,\nyou would see \"Language level:\" drop-down, and you might see \"13\" being selected.</p>\n\n<p>Try switching it to 12 or lower, the Error should be removed.</p>\n"},{"tags":[],"owner":{"account_id":15118327,"reputation":4608,"user_id":10909844,"display_name":"tpikachu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1576450241,"creation_date":1576450241,"answer_id":59348759,"question_id":56415859,"body_markdown":"As @MNEMO shared, the low down your target java version to under 13 will be working.\r\nSeems only v11 JDK added to your intelliJ.\r\nBut if you are stilling targeting to Java v13 or your project requires v13 then you can add the JDK to your intelliJ\r\n\r\n&gt; **File** -&gt; **Project Structure** -&gt; **Project Settings**(nav) -&gt; **Project** -&gt; **Project SDK**\r\n\r\nJust clicking the **New...** to add newer JDK to your intelliJ.\r\nYou can find the JDK at /Library/Java if you are using MacOS and installed java v13.\r\n\r\nIt works for me well.","title":"Java: error: release version 13 not supported","body":"<p>As @MNEMO shared, the low down your target java version to under 13 will be working.\nSeems only v11 JDK added to your intelliJ.\nBut if you are stilling targeting to Java v13 or your project requires v13 then you can add the JDK to your intelliJ</p>\n\n<blockquote>\n  <p><strong>File</strong> -> <strong>Project Structure</strong> -> <strong>Project Settings</strong>(nav) -> <strong>Project</strong> -> <strong>Project SDK</strong></p>\n</blockquote>\n\n<p>Just clicking the <strong>New...</strong> to add newer JDK to your intelliJ.\nYou can find the JDK at /Library/Java if you are using MacOS and installed java v13.</p>\n\n<p>It works for me well.</p>\n"},{"tags":[],"owner":{"account_id":4708853,"reputation":455,"user_id":3810036,"display_name":"Garry Dias"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1579108793,"creation_date":1579108793,"answer_id":59756557,"question_id":56415859,"body_markdown":"There&#39;s a&#160; lot of places you must check:\r\n\r\n- File -&gt; Project Structure\r\n\r\n- Edit Configurations (in drop down near RUN button)\r\n\r\n- File -&gt; Settings -&gt; search for SDK\r\n\r\n\r\n\r\nBut what really worked for me after set everything above to my correctly Java 11 version was change this setting:\r\n\r\n- File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Java Copiler -&gt; Project Bytecode Version\r\n\r\n\r\n\r\nThis setting was pointing to Java 13, so I changed to Java 11 and everything started to work as expected\r\n\r\n\r\n\r\nGood luck","title":"Java: error: release version 13 not supported","body":"<p>There's a  lot of places you must check:</p>\n\n<ul>\n<li><p>File -> Project Structure</p></li>\n<li><p>Edit Configurations (in drop down near RUN button)</p></li>\n<li><p>File -> Settings -> search for SDK</p></li>\n</ul>\n\n<p>But what really worked for me after set everything above to my correctly Java 11 version was change this setting:</p>\n\n<ul>\n<li>File -> Settings -> Build, Execution, Deployment -> Compiler -> Java Copiler -> Project Bytecode Version</li>\n</ul>\n\n<p>This setting was pointing to Java 13, so I changed to Java 11 and everything started to work as expected</p>\n\n<p>Good luck</p>\n"},{"tags":[],"owner":{"account_id":5055569,"reputation":3946,"user_id":4058910,"accept_rate":23,"display_name":"Shravan Ramamurthy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579293412,"creation_date":1579293412,"answer_id":59794535,"question_id":56415859,"body_markdown":"I encountered the same error in IntelliJ, Above solutions didn&#39;t work for me, as I am using maven `3.6.3` in my project. Setting the proper jdk version (in my case, JDK-1.8) under maven profiles tool box, in IntelliJ, resolved my issue.[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/odJ4a.png","title":"Java: error: release version 13 not supported","body":"<p>I encountered the same error in IntelliJ, Above solutions didn't work for me, as I am using maven <code>3.6.3</code> in my project. Setting the proper jdk version (in my case, JDK-1.8) under maven profiles tool box, in IntelliJ, resolved my issue.<a href=\"https://i.stack.imgur.com/odJ4a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/odJ4a.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":15902244,"reputation":21,"user_id":11474311,"display_name":"Emil Andrag"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1582734802,"creation_date":1582734802,"answer_id":60418485,"question_id":56415859,"body_markdown":"I got my IntelliJ working by:\r\n\r\nfile/settings/java compiler; Module-&gt; target bytecode version set to 8,9 or 10.\r\n\r\nfile/project structure SDK and language set to 11, 12 or 13\r\n\r\nno need to add anything into the pom.xml file","title":"Java: error: release version 13 not supported","body":"<p>I got my IntelliJ working by:</p>\n\n<p>file/settings/java compiler; Module-> target bytecode version set to 8,9 or 10.</p>\n\n<p>file/project structure SDK and language set to 11, 12 or 13</p>\n\n<p>no need to add anything into the pom.xml file</p>\n"},{"tags":[],"owner":{"account_id":18162431,"reputation":101,"user_id":13213631,"display_name":"KNayak430"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1585999044,"creation_date":1585999044,"answer_id":61027267,"question_id":56415859,"body_markdown":"What worked for me was setting the language level to 13.\r\n\r\nGo to File --&gt; Project Structure --&gt; Modules","title":"Java: error: release version 13 not supported","body":"<p>What worked for me was setting the language level to 13.</p>\n\n<p>Go to File --> Project Structure --> Modules</p>\n"},{"tags":[],"owner":{"account_id":913256,"reputation":28297,"user_id":2564200,"accept_rate":83,"display_name":"Santhosh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591013720,"creation_date":1587387771,"answer_id":61323177,"question_id":56415859,"body_markdown":"For a maven project, I got it to work, by specifying source and target version for `maven-compiler-plugin`\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;13&lt;/source&gt;\r\n                    &lt;target&gt;13&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Java: error: release version 13 not supported","body":"<p>For a maven project, I got it to work, by specifying source and target version for <code>maven-compiler-plugin</code></p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;13&lt;/source&gt;\n                &lt;target&gt;13&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2121686,"reputation":11,"user_id":1884797,"display_name":"ITM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602206528,"creation_date":1602206528,"answer_id":64272710,"question_id":56415859,"body_markdown":"I got the same error as &quot;Error : java: error: invalid source release: 13&quot; and it is not related to &quot;File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Java Copiler -&gt; Project Bytecode Version&quot; as memtioned by others.\r\n\r\nIn IJ, there is 2 level of compiler setup, one is on system-level, another one is at your own project level. You must make a change in &quot;Project Settings --&gt; Project --&gt; Project language level&quot;. \r\n\r\nThomas\r\n","title":"Java: error: release version 13 not supported","body":"<p>I got the same error as &quot;Error : java: error: invalid source release: 13&quot; and it is not related to &quot;File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Java Copiler -&gt; Project Bytecode Version&quot; as memtioned by others.</p>\n<p>In IJ, there is 2 level of compiler setup, one is on system-level, another one is at your own project level. You must make a change in &quot;Project Settings --&gt; Project --&gt; Project language level&quot;.</p>\n<p>Thomas</p>\n"}],"owner":{"account_id":16058398,"reputation":141,"user_id":11590051,"display_name":"mmassyn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27009,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":8,"score":14,"last_activity_date":1666156156,"creation_date":1559484934,"question_id":56415859,"body_markdown":"My application is as simple as it can get:\r\n\r\n`System.out.println(&quot;Hello World!&quot;)`\r\n\r\nResults in:\r\n\r\n`Error: java: error: release versoin 13 not supported`","title":"Java: error: release version 13 not supported","body":"<p>My application is as simple as it can get:</p>\n<p><code>System.out.println(&quot;Hello World!&quot;)</code></p>\n<p>Results in:</p>\n<p><code>Error: java: error: release versoin 13 not supported</code></p>\n"},{"tags":["java","junit5","allure"],"answers":[{"tags":[],"owner":{"account_id":4853449,"reputation":2312,"user_id":3915166,"display_name":"Dmitry Baev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666155757,"creation_date":1666155757,"answer_id":74120101,"question_id":73951031,"body_markdown":"In order to enable test fixtures you need to use `allure-junit5` dependency.\r\nThen you can use AllureJunit5 extension on your tests - that will enable fixtures reporting.\r\n\r\nThe global configuration is also possible. To enable AllureJunit5 extension for all\r\nyour tests you need to start your JVM with `-Djunit.jupiter.extensions.autodetection.enabled=true` system property. \r\nFor more details on automatic extension registration please follow https://junit.org/junit5/docs/current/user-guide/#extensions-registration-automatic","title":"How can I display test setup and teardown in allure with junit5?","body":"<p>In order to enable test fixtures you need to use <code>allure-junit5</code> dependency.\nThen you can use AllureJunit5 extension on your tests - that will enable fixtures reporting.</p>\n<p>The global configuration is also possible. To enable AllureJunit5 extension for all\nyour tests you need to start your JVM with <code>-Djunit.jupiter.extensions.autodetection.enabled=true</code> system property.\nFor more details on automatic extension registration please follow <a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions-registration-automatic\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#extensions-registration-automatic</a></p>\n"}],"owner":{"account_id":13427003,"reputation":3,"user_id":9688019,"display_name":"Bumbibanane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74120101,"answer_count":1,"score":0,"last_activity_date":1666155757,"creation_date":1664901569,"question_id":73951031,"body_markdown":"I am trying to figure out how to work with test setup, body and teardown in the execution summary of an allure report generated from junit5. I am using aspectjweaver as jvm agent as this seams to be necessary to display the execution summary whatsoever.\r\n\r\nI figured the junit5 @BeforeEach and @AfterEach methods should be displayed in test setup and teardown. Unfortunately for me they are always displayed inside the test body and setup/teardown do not show up at all. \r\n\r\nIn following example\r\n\r\n    @BeforeEach\r\n    public void before() {\r\n        before_step();\r\n    }\r\n\r\n    @Step(&quot;before step&quot;)\r\n    public void before_step() {\r\n        assertTrue(true);\r\n    }\r\n\r\nthe allure report will show the method in the test body like [this][1]. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g5LjE.png\r\n\r\nDoes someone have an idea why this is? Is this just not implemented correctly, do i need to implement something differently or do I maybe have a completely wrong idea as how this should be displayed?\r\n\r\nThanks for any help!","title":"How can I display test setup and teardown in allure with junit5?","body":"<p>I am trying to figure out how to work with test setup, body and teardown in the execution summary of an allure report generated from junit5. I am using aspectjweaver as jvm agent as this seams to be necessary to display the execution summary whatsoever.</p>\n<p>I figured the junit5 @BeforeEach and @AfterEach methods should be displayed in test setup and teardown. Unfortunately for me they are always displayed inside the test body and setup/teardown do not show up at all.</p>\n<p>In following example</p>\n<pre><code>@BeforeEach\npublic void before() {\n    before_step();\n}\n\n@Step(&quot;before step&quot;)\npublic void before_step() {\n    assertTrue(true);\n}\n</code></pre>\n<p>the allure report will show the method in the test body like <a href=\"https://i.stack.imgur.com/g5LjE.png\" rel=\"nofollow noreferrer\">this</a>.</p>\n<p>Does someone have an idea why this is? Is this just not implemented correctly, do i need to implement something differently or do I maybe have a completely wrong idea as how this should be displayed?</p>\n<p>Thanks for any help!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9043,"page":949,"page_size":100}
