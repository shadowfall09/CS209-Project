{"items":[{"tags":["java","rtf","apache-tika"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1669657744,"post_id":74601651,"comment_id":131687335,"body_markdown":"Try asking Apache Tika for the XHTML version of the file, instead of the Plain Text version you&#39;re doing now?","body":"Try asking Apache Tika for the XHTML version of the file, instead of the Plain Text version you&#39;re doing now?"},{"owner":{"account_id":24795302,"reputation":1,"user_id":18678067,"display_name":"bricked"},"score":0,"creation_date":1669718683,"post_id":74601651,"comment_id":131701293,"body_markdown":"When I create XHTML from RTF, the list is still defined as an unordered list instead of an ordered one.","body":"When I create XHTML from RTF, the list is still defined as an unordered list instead of an ordered one."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1669719150,"post_id":74601651,"comment_id":131701470,"body_markdown":"Sounds like a bug - https://issues.apache.org/jira/projects/TIKA/summary is the place to report them","body":"Sounds like a bug - <a href=\"https://issues.apache.org/jira/projects/TIKA/summary\" rel=\"nofollow noreferrer\">issues.apache.org/jira/projects/TIKA/summary</a> is the place to report them"}],"owner":{"account_id":24795302,"reputation":1,"user_id":18678067,"display_name":"bricked"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669644649,"creation_date":1669643671,"question_id":74601651,"body_markdown":"I&#39;m trying to parse RTF file to plain text using Tika.\r\n \r\nWhen I&#39;m trying to parse .rtf file with ordered list items, the parser replaces numbers of list items with whitespace.\r\n\r\nDo you have any tips I could use?\r\n\r\nOriginal text:\r\n\r\n[![Original text][1]][1]\r\n\r\nActual output:\r\n\r\n[![Actual output][2]][2]\r\n\r\nI&#39;m using code below.\r\n\r\n```\r\nInputStream is = new FileInputStream(&quot;files/rtf_auto.rtf&quot;);\r\nAutoDetectParser autoDetectParser = new AutoDetectParser();\r\n\r\nBodyContentHandler contentHandler = new BodyContentHandler();\r\nMetadata metadata = new Metadata();\r\nautoDetectParser.parse(is, contentHandler, metadata, new ParseContext());\r\n\r\nSystem.out.println(contentHandler);\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zo3iW.png\r\n  [2]: https://i.stack.imgur.com/IN1NR.png","title":"Parse RTF file using Tika won&#39;t parse ordered lists","body":"<p>I'm trying to parse RTF file to plain text using Tika.</p>\n<p>When I'm trying to parse .rtf file with ordered list items, the parser replaces numbers of list items with whitespace.</p>\n<p>Do you have any tips I could use?</p>\n<p>Original text:</p>\n<p><a href=\"https://i.stack.imgur.com/zo3iW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zo3iW.png\" alt=\"Original text\" /></a></p>\n<p>Actual output:</p>\n<p><a href=\"https://i.stack.imgur.com/IN1NR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IN1NR.png\" alt=\"Actual output\" /></a></p>\n<p>I'm using code below.</p>\n<pre><code>InputStream is = new FileInputStream(&quot;files/rtf_auto.rtf&quot;);\nAutoDetectParser autoDetectParser = new AutoDetectParser();\n\nBodyContentHandler contentHandler = new BodyContentHandler();\nMetadata metadata = new Metadata();\nautoDetectParser.parse(is, contentHandler, metadata, new ParseContext());\n\nSystem.out.println(contentHandler);\n\n</code></pre>\n"},{"tags":["java","tomcat","docker"],"comments":[{"owner":{"account_id":9968459,"reputation":713,"user_id":7375412,"display_name":"TonyY"},"score":2,"creation_date":1510648881,"post_id":47280732,"comment_id":81512510,"body_markdown":"https://stackoverflow.com/questions/15555838/how-to-pass-tomcat-port-number-on-command-line","body":"<a href=\"https://stackoverflow.com/questions/15555838/how-to-pass-tomcat-port-number-on-command-line\" title=\"how to pass tomcat port number on command line\">stackoverflow.com/questions/15555838/&hellip;</a>"},{"owner":{"account_id":9968459,"reputation":713,"user_id":7375412,"display_name":"TonyY"},"score":0,"creation_date":1510649018,"post_id":47280732,"comment_id":81512574,"body_markdown":"Does it fulfill your requirement?","body":"Does it fulfill your requirement?"},{"owner":{"account_id":2507423,"reputation":2211,"user_id":2180697,"accept_rate":72,"display_name":"kaizenCoder"},"score":0,"creation_date":1511073434,"post_id":47280732,"comment_id":81701201,"body_markdown":"Hi @TonyY, yes that&#39;s something I can work with.","body":"Hi @TonyY, yes that&#39;s something I can work with."},{"owner":{"account_id":2507423,"reputation":2211,"user_id":2180697,"accept_rate":72,"display_name":"kaizenCoder"},"score":0,"creation_date":1511389126,"post_id":47280732,"comment_id":81844725,"body_markdown":"The following also helped:\nhttps://stackoverflow.com/questions/1045949/change-tomcat-port-on-the-fly","body":"The following also helped: <a href=\"https://stackoverflow.com/questions/1045949/change-tomcat-port-on-the-fly\" title=\"change tomcat port on the fly\">stackoverflow.com/questions/1045949/&hellip;</a>"}],"owner":{"account_id":2507423,"reputation":2211,"user_id":2180697,"accept_rate":72,"display_name":"kaizenCoder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":927,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669644391,"creation_date":1510647391,"question_id":47280732,"body_markdown":"I&#39;m interested to know if you can override HTTP connector [properties][1] like `port`, `protocol`, `scheme` etc. typically set in the `server.xml` file by passing in Catalina environment variables to the JVM at runtime? \r\n\r\nThis is so that I can pass in environment variables to a tomcat Docker application container without having to touch the default `server.xml` file.\r\n\r\nFor example is it enough to set the `-DcatalinaConnectorProxyName` in the `JAVA_OPTS` environment variable at JVM runtime to override the default setting in the `server.xml` file? \r\n\r\n\r\n  [1]: http://tomcat.apache.org/tomcat-7.0-doc/config/http.html","title":"Is it possible to override Tomcat HTTP connector properties in server.xml via JAVA_OPTS?","body":"<p>I'm interested to know if you can override HTTP connector <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/config/http.html\" rel=\"nofollow noreferrer\">properties</a> like <code>port</code>, <code>protocol</code>, <code>scheme</code> etc. typically set in the <code>server.xml</code> file by passing in Catalina environment variables to the JVM at runtime? </p>\n\n<p>This is so that I can pass in environment variables to a tomcat Docker application container without having to touch the default <code>server.xml</code> file.</p>\n\n<p>For example is it enough to set the <code>-DcatalinaConnectorProxyName</code> in the <code>JAVA_OPTS</code> environment variable at JVM runtime to override the default setting in the <code>server.xml</code> file? </p>\n"},{"tags":["java","concurrency","future","executorservice","completable-future"],"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1477439732,"post_id":40251528,"comment_id":67765503,"body_markdown":"You can also submit Callables (that return results): https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html","body":"You can also submit Callables (that return results): <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/concurrent/&hellip;</a>"},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":2,"creation_date":1477439814,"post_id":40251528,"comment_id":67765520,"body_markdown":"@Thilo Only for one-off tasks, not with scheduleWithFixedDelay or \tscheduleAtFixedRate, so polling is out","body":"@Thilo Only for one-off tasks, not with scheduleWithFixedDelay or \tscheduleAtFixedRate, so polling is out"},{"owner":{"account_id":3647119,"reputation":6259,"user_id":3040064,"accept_rate":59,"display_name":"Jason Hu"},"score":0,"creation_date":1477439849,"post_id":40251528,"comment_id":67765534,"body_markdown":"@Thilo i don&#39;t think `scheduleWithFixedDelay` ever receive a `Callable`.","body":"@Thilo i don&#39;t think <code>scheduleWithFixedDelay</code> ever receive a <code>Callable</code>."},{"owner":{"account_id":3647119,"reputation":6259,"user_id":3040064,"accept_rate":59,"display_name":"Jason Hu"},"score":0,"creation_date":1477439986,"post_id":40251528,"comment_id":67765574,"body_markdown":"Op, i think you are doing the right thing. `CompletableFuture` is in fact a promise in an async programming framework. what you should expose, however, a normal future that is not completable. and all your subsequent code should  subscribe to that future. i don&#39;t see any problem. what confuses you?","body":"Op, i think you are doing the right thing. <code>CompletableFuture</code> is in fact a promise in an async programming framework. what you should expose, however, a normal future that is not completable. and all your subsequent code should  subscribe to that future. i don&#39;t see any problem. what confuses you?"},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1477440237,"post_id":40251528,"comment_id":67765612,"body_markdown":"@HuStmpHrrr All examples seem to be doing `supplyAsync` instead of explicitly creating a `CompletableFuture`. But more importantly, in my case I need to shutdown the executor when the future is complete. Should I subclass `CompletableFuture` and override `complete`, `completeExceptionally` and `cancel` to do this? Should I worry about canceling the `ScheduledFuture` I got from executor?","body":"@HuStmpHrrr All examples seem to be doing <code>supplyAsync</code> instead of explicitly creating a <code>CompletableFuture</code>. But more importantly, in my case I need to shutdown the executor when the future is complete. Should I subclass <code>CompletableFuture</code> and override <code>complete</code>, <code>completeExceptionally</code> and <code>cancel</code> to do this? Should I worry about canceling the <code>ScheduledFuture</code> I got from executor?"},{"owner":{"account_id":3647119,"reputation":6259,"user_id":3040064,"accept_rate":59,"display_name":"Jason Hu"},"score":0,"creation_date":1477440710,"post_id":40251528,"comment_id":67765715,"body_markdown":"@kaqqao you should cancel the scheduledFuture. let me answer.","body":"@kaqqao you should cancel the scheduledFuture. let me answer."},{"owner":{"account_id":960456,"reputation":949,"user_id":984929,"accept_rate":50,"display_name":"lincolnadym"},"score":0,"creation_date":1477441282,"post_id":40251528,"comment_id":67765849,"body_markdown":"@kaqqao, if you don&#39;t get an answer, you can have a look at JBJF Daemons Framework on SourceForge, part of the JBJF Project.  I wrote the Daemons Framework more as a pure Daemon/Service though.  It doesn’t use ExecutorService, but instead, just straight Runnable/Thread for the Producers and Consumers.  But you may be able to fit it to your needs…A Producer will implement the polling.  But you’ll need to code it a little differently to turn around and fetch your result from the completed task.","body":"@kaqqao, if you don&#39;t get an answer, you can have a look at JBJF Daemons Framework on SourceForge, part of the JBJF Project.  I wrote the Daemons Framework more as a pure Daemon/Service though.  It doesn’t use ExecutorService, but instead, just straight Runnable/Thread for the Producers and Consumers.  But you may be able to fit it to your needs…A Producer will implement the polling.  But you’ll need to code it a little differently to turn around and fetch your result from the completed task."}],"answers":[{"comments":[{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1477441932,"post_id":40251790,"comment_id":67765990,"body_markdown":"Thank you! I finally realize how multiple steps are supposed to be combined. I was missing this the entire time. Will go try it out now.","body":"Thank you! I finally realize how multiple steps are supposed to be combined. I was missing this the entire time. Will go try it out now."},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1477445342,"post_id":40251790,"comment_id":67766822,"body_markdown":"What is a proper way to check inside `whenComplete` if the future was cancelled? I can only come up with `thrown instanceof CancelationException`","body":"What is a proper way to check inside <code>whenComplete</code> if the future was cancelled? I can only come up with <code>thrown instanceof CancelationException</code>"},{"owner":{"account_id":187570,"reputation":4917,"user_id":425722,"accept_rate":83,"display_name":"Andrew Rueckert"},"score":0,"creation_date":1477445542,"post_id":40251790,"comment_id":67766886,"body_markdown":"I don&#39;t recall off the top of my head; the CancellationException _may_ be wrapped in an ExecutionException. (So you&#39;d need to check `thrown.getCause() instanceof CancellationException`.) In my example code, however, there is nothing that would cause the `pollForCompletion` CompletableFuture to become canceled. Can you update your question with your new code?","body":"I don&#39;t recall off the top of my head; the CancellationException <i>may</i> be wrapped in an ExecutionException. (So you&#39;d need to check <code>thrown.getCause() instanceof CancellationException</code>.) In my example code, however, there is nothing that would cause the <code>pollForCompletion</code> CompletableFuture to become canceled. Can you update your question with your new code?"},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1477473212,"post_id":40251790,"comment_id":67777565,"body_markdown":"I posted my new code and my new problem as [a separate question](http://stackoverflow.com/questions/40258146/completablefuturewhencomplete-not-called-if-thenapply-is-used) as this one I&#39;d say you fully answered already. I&#39;m accepting your answer as you were the first to post. Please check the new question if you&#39;re still intererested in helping me out.","body":"I posted my new code and my new problem as <a href=\"http://stackoverflow.com/questions/40258146/completablefuturewhencomplete-not-called-if-thenapply-is-used\">a separate question</a> as this one I&#39;d say you fully answered already. I&#39;m accepting your answer as you were the first to post. Please check the new question if you&#39;re still intererested in helping me out."},{"owner":{"account_id":371767,"reputation":2919,"user_id":720484,"accept_rate":72,"display_name":"George Pligoropoulos"},"score":1,"creation_date":1582719830,"post_id":40251790,"comment_id":106872866,"body_markdown":"The usage of `whenComplete` seems incorrect because the completable future might throw an exception or timeout etc. Therefore `handle` seems like a more appropriate method to cancel the scheduler","body":"The usage of <code>whenComplete</code> seems incorrect because the completable future might throw an exception or timeout etc. Therefore <code>handle</code> seems like a more appropriate method to cancel the scheduler"},{"owner":{"account_id":1445731,"reputation":27016,"user_id":1364288,"accept_rate":88,"display_name":"danidiaz"},"score":1,"creation_date":1607344050,"post_id":40251790,"comment_id":115233755,"body_markdown":"@GeorgePligoropoulos I believe `whenComplete` works ok in this case. The `whenComplete` action is executed whether the original stage ends with a result or with an exception, and exceptions are re-thrown. I think the problem is that we aren&#39;t catching exceptions inside the `ScheduledFuture` job, in order to invoke `completeExceptionally` with the caught exception.","body":"@GeorgePligoropoulos I believe <code>whenComplete</code> works ok in this case. The <code>whenComplete</code> action is executed whether the original stage ends with a result or with an exception, and exceptions are re-thrown. I think the problem is that we aren&#39;t catching exceptions inside the <code>ScheduledFuture</code> job, in order to invoke <code>completeExceptionally</code> with the caught exception."}],"tags":[],"owner":{"account_id":187570,"reputation":4917,"user_id":425722,"accept_rate":83,"display_name":"Andrew Rueckert"},"comment_count":6,"down_vote_count":1,"up_vote_count":18,"is_accepted":true,"score":17,"last_activity_date":1634603316,"creation_date":1477441418,"answer_id":40251790,"question_id":40251528,"body_markdown":"I think CompletableFutures are a fine way to do this: \r\n\r\n    ScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor();\r\n\r\n    private void run() {\r\n        final Object jobResult = pollForCompletion(&quot;jobId1&quot;)\r\n                .thenApply(jobId -&gt; remoteServer.getJobResult(jobId))\r\n                .get();\r\n\r\n    }\r\n\r\n    private CompletableFuture&lt;String&gt; pollForCompletion(final String jobId) {\r\n        CompletableFuture&lt;String&gt; completionFuture = new CompletableFuture&lt;&gt;();\r\n        final ScheduledFuture&lt;Void&gt; checkFuture = executor.scheduleAtFixedRate(() -&gt; {\r\n            if (remoteServer.isJobDone(jobId)) {\r\n                completionFuture.complete(jobId);\r\n            }\r\n        }, 0, 10, TimeUnit.SECONDS);\r\n        completionFuture.whenComplete((result, thrown) -&gt; {\r\n            checkFuture.cancel(true);\r\n        });\r\n        return completionFuture;\r\n    }","title":"How to use ExecutorService to poll until a result arrives","body":"<p>I think CompletableFutures are a fine way to do this:</p>\n<pre><code>ScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor();\n\nprivate void run() {\n    final Object jobResult = pollForCompletion(&quot;jobId1&quot;)\n            .thenApply(jobId -&gt; remoteServer.getJobResult(jobId))\n            .get();\n\n}\n\nprivate CompletableFuture&lt;String&gt; pollForCompletion(final String jobId) {\n    CompletableFuture&lt;String&gt; completionFuture = new CompletableFuture&lt;&gt;();\n    final ScheduledFuture&lt;Void&gt; checkFuture = executor.scheduleAtFixedRate(() -&gt; {\n        if (remoteServer.isJobDone(jobId)) {\n            completionFuture.complete(jobId);\n        }\n    }, 0, 10, TimeUnit.SECONDS);\n    completionFuture.whenComplete((result, thrown) -&gt; {\n        checkFuture.cancel(true);\n    });\n    return completionFuture;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1477441800,"post_id":40251799,"comment_id":67765961,"body_markdown":"Aah, I now realize how one is supposed to combine steps with `Future`s. That was eluding me so far. Thanks, this is useful. I&#39;ll now go try it.","body":"Aah, I now realize how one is supposed to combine steps with <code>Future</code>s. That was eluding me so far. Thanks, this is useful. I&#39;ll now go try it."},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1477473657,"post_id":40251799,"comment_id":67777876,"body_markdown":"Still having issues with this code, but it&#39;s [a different question](http://stackoverflow.com/questions/40258146/completablefuturewhencomplete-not-called-if-thenapply-is-used) from this one. Please check out the new question if you&#39;re still interested in helping me out. Thanks again.","body":"Still having issues with this code, but it&#39;s <a href=\"http://stackoverflow.com/questions/40258146/completablefuturewhencomplete-not-called-if-thenapply-is-used\">a different question</a> from this one. Please check out the new question if you&#39;re still interested in helping me out. Thanks again."}],"tags":[],"owner":{"account_id":3647119,"reputation":6259,"user_id":3040064,"accept_rate":59,"display_name":"Jason Hu"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1477441913,"creation_date":1477441479,"answer_id":40251799,"question_id":40251528,"body_markdown":"it seems to me you are more worried by some stylistic problems than any others. in java 8, `CompletableFuture` has 2 roles: one is the traditional future, which gives an asynchronous source for task execution and status query; the other is what we usually call a promise. a promise, if you don&#39;t know yet, can be considered a builder of future and its completion source. so in this case, intuitively a promise is required, which is the exact case you are using here. the examples you are worrying about is something that introduces you the first usage, but not the promise way.\r\n\r\naccepting this, it should be easier for you to start dealing with your actual problem. i think the promise is supposed to have 2 roles, one is to notify your task completion of polling, and the other is to cancel your scheduled task on completion. here should be the final solution:\r\n\r\n    public CompletableFuture&lt;Object&gt; pollTask(int jobId) {\r\n        CompletableFuture&lt;Object&gt; fut = new CompletableFuture&lt;&gt;();\r\n        ScheduledFuture&lt;?&gt; sfuture = executor.scheduleWithFixedDelay(() -&gt; _poll(jobId, fut), 0, 10, TimeUnit.SECONDS);\r\n        fut.thenAccept(ignore -&gt; sfuture.cancel(false));\r\n        return fut;\r\n    }\r\n    \r\n    private void _poll(int jobId, CompletableFuture&lt;Object&gt; fut) {\r\n        // whatever polls\r\n        if (isDone) {\r\n            fut.complete(yourResult);\r\n        }\r\n    }\r\n\r\n","title":"How to use ExecutorService to poll until a result arrives","body":"<p>it seems to me you are more worried by some stylistic problems than any others. in java 8, <code>CompletableFuture</code> has 2 roles: one is the traditional future, which gives an asynchronous source for task execution and status query; the other is what we usually call a promise. a promise, if you don't know yet, can be considered a builder of future and its completion source. so in this case, intuitively a promise is required, which is the exact case you are using here. the examples you are worrying about is something that introduces you the first usage, but not the promise way.</p>\n\n<p>accepting this, it should be easier for you to start dealing with your actual problem. i think the promise is supposed to have 2 roles, one is to notify your task completion of polling, and the other is to cancel your scheduled task on completion. here should be the final solution:</p>\n\n<pre><code>public CompletableFuture&lt;Object&gt; pollTask(int jobId) {\n    CompletableFuture&lt;Object&gt; fut = new CompletableFuture&lt;&gt;();\n    ScheduledFuture&lt;?&gt; sfuture = executor.scheduleWithFixedDelay(() -&gt; _poll(jobId, fut), 0, 10, TimeUnit.SECONDS);\n    fut.thenAccept(ignore -&gt; sfuture.cancel(false));\n    return fut;\n}\n\nprivate void _poll(int jobId, CompletableFuture&lt;Object&gt; fut) {\n    // whatever polls\n    if (isDone) {\n        fut.complete(yourResult);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1616712622,"creation_date":1616672933,"answer_id":66798885,"question_id":40251528,"body_markdown":"I created a generic utility for this inspired by [this answer](https://stackoverflow.com/a/40251790/1089967) using `Supplier&lt;Optional&lt;T&gt;&gt;` whereby each poll can return `Optional.empty()` until the value is ready. I also implemented a `timeout` so that a `TimeoutException` is thrown if the max time is exceeded.\r\n\r\nUsage:\r\n```java\r\nScheduledExecutorService scheduledExecutor = Executors.newSingleThreadScheduledExecutor();\r\nSupplier&lt;Optional&lt;String&gt;&gt; supplier = () -&gt; remoteServer.isJobDone(jobId) ? Optional.of(jobId) : Optional.empty();\r\nCompletableFuture&lt;String&gt; future = ScheduledCompletableFuture.builder(String.class)\r\n   .supplier(supplier)\r\n   .executorService(scheduledExecutor)\r\n   .timeUnit(TimeUnit.SECONDS)\r\n   .initialDelay(5)\r\n   .period(5)\r\n   .timeout(60 * 5)\r\n   .build();\r\n```\r\n\r\nScheduledCompletableFuture.java\r\n```java\r\npublic class ScheduledCompletableFuture {\r\n    public static class ScheduledCompletableFutureBuilder&lt;T&gt; {\r\n        private Supplier&lt;Optional&lt;T&gt;&gt; supplier;\r\n        private ScheduledExecutorService executorService;\r\n        private Long initialDelay;\r\n        private Long period;\r\n        private Long timeout;\r\n        private TimeUnit timeUnit;\r\n\r\n        public ScheduledCompletableFutureBuilder() {\r\n        }\r\n\r\n        public ScheduledCompletableFutureBuilder&lt;T&gt; supplier(Supplier&lt;Optional&lt;T&gt;&gt; supplier) {\r\n            this.supplier = supplier;\r\n            return this;\r\n        }\r\n\r\n        public ScheduledCompletableFutureBuilder&lt;T&gt; executorService(ScheduledExecutorService executorService) {\r\n            this.executorService = executorService;\r\n            return this;\r\n        }\r\n\r\n        public ScheduledCompletableFutureBuilder&lt;T&gt; initialDelay(long initialDelay) {\r\n            this.initialDelay = initialDelay;\r\n            return this;\r\n        }\r\n\r\n        public ScheduledCompletableFutureBuilder&lt;T&gt; period(long period) {\r\n            this.period = period;\r\n            return this;\r\n        }\r\n\r\n        public ScheduledCompletableFutureBuilder&lt;T&gt; timeout(long timeout) {\r\n            this.timeout = timeout;\r\n            return this;\r\n        }\r\n\r\n        public ScheduledCompletableFutureBuilder&lt;T&gt; timeUnit(TimeUnit timeUnit) {\r\n            this.timeUnit = timeUnit;\r\n            return this;\r\n        }\r\n\r\n        public CompletableFuture&lt;T&gt; build() {\r\n            // take a copy of instance variables so that the Builder can be re-used\r\n            Supplier&lt;Optional&lt;T&gt;&gt; supplier = this.supplier;\r\n            ScheduledExecutorService executorService = this.executorService;\r\n            Long initialDelay = this.initialDelay;\r\n            Long period = this.period;\r\n            Long timeout = this.timeout;\r\n            TimeUnit timeUnit = this.timeUnit;\r\n\r\n            CompletableFuture&lt;T&gt; completableFuture = new CompletableFuture&lt;&gt;();\r\n            long endMillis = System.currentTimeMillis() + timeUnit.toMillis(timeout);\r\n            Runnable command = () -&gt; {\r\n                Optional&lt;T&gt; optional = supplier.get();\r\n                if (optional.isPresent()) {\r\n                    completableFuture.complete(optional.get());\r\n                } else if (System.currentTimeMillis() &gt; endMillis) {\r\n                    String msg = String.format(&quot;Supplier did not return a value within %s %s&quot;, timeout, timeUnit);\r\n                    completableFuture.completeExceptionally(new TimeoutException(msg));\r\n                }\r\n            };\r\n            ScheduledFuture&lt;?&gt; scheduledFuture = executorService.scheduleAtFixedRate(command, initialDelay, period, timeUnit);\r\n            return completableFuture.whenComplete((result, exception) -&gt; scheduledFuture.cancel(true));\r\n        }\r\n    }\r\n\r\n    public static &lt;T&gt; ScheduledCompletableFutureBuilder&lt;T&gt; builder(Class&lt;T&gt; type) {\r\n        return new ScheduledCompletableFutureBuilder&lt;&gt;();\r\n    }\r\n}\r\n```","title":"How to use ExecutorService to poll until a result arrives","body":"<p>I created a generic utility for this inspired by <a href=\"https://stackoverflow.com/a/40251790/1089967\">this answer</a> using <code>Supplier&lt;Optional&lt;T&gt;&gt;</code> whereby each poll can return <code>Optional.empty()</code> until the value is ready. I also implemented a <code>timeout</code> so that a <code>TimeoutException</code> is thrown if the max time is exceeded.</p>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ScheduledExecutorService scheduledExecutor = Executors.newSingleThreadScheduledExecutor();\nSupplier&lt;Optional&lt;String&gt;&gt; supplier = () -&gt; remoteServer.isJobDone(jobId) ? Optional.of(jobId) : Optional.empty();\nCompletableFuture&lt;String&gt; future = ScheduledCompletableFuture.builder(String.class)\n   .supplier(supplier)\n   .executorService(scheduledExecutor)\n   .timeUnit(TimeUnit.SECONDS)\n   .initialDelay(5)\n   .period(5)\n   .timeout(60 * 5)\n   .build();\n</code></pre>\n<p>ScheduledCompletableFuture.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ScheduledCompletableFuture {\n    public static class ScheduledCompletableFutureBuilder&lt;T&gt; {\n        private Supplier&lt;Optional&lt;T&gt;&gt; supplier;\n        private ScheduledExecutorService executorService;\n        private Long initialDelay;\n        private Long period;\n        private Long timeout;\n        private TimeUnit timeUnit;\n\n        public ScheduledCompletableFutureBuilder() {\n        }\n\n        public ScheduledCompletableFutureBuilder&lt;T&gt; supplier(Supplier&lt;Optional&lt;T&gt;&gt; supplier) {\n            this.supplier = supplier;\n            return this;\n        }\n\n        public ScheduledCompletableFutureBuilder&lt;T&gt; executorService(ScheduledExecutorService executorService) {\n            this.executorService = executorService;\n            return this;\n        }\n\n        public ScheduledCompletableFutureBuilder&lt;T&gt; initialDelay(long initialDelay) {\n            this.initialDelay = initialDelay;\n            return this;\n        }\n\n        public ScheduledCompletableFutureBuilder&lt;T&gt; period(long period) {\n            this.period = period;\n            return this;\n        }\n\n        public ScheduledCompletableFutureBuilder&lt;T&gt; timeout(long timeout) {\n            this.timeout = timeout;\n            return this;\n        }\n\n        public ScheduledCompletableFutureBuilder&lt;T&gt; timeUnit(TimeUnit timeUnit) {\n            this.timeUnit = timeUnit;\n            return this;\n        }\n\n        public CompletableFuture&lt;T&gt; build() {\n            // take a copy of instance variables so that the Builder can be re-used\n            Supplier&lt;Optional&lt;T&gt;&gt; supplier = this.supplier;\n            ScheduledExecutorService executorService = this.executorService;\n            Long initialDelay = this.initialDelay;\n            Long period = this.period;\n            Long timeout = this.timeout;\n            TimeUnit timeUnit = this.timeUnit;\n\n            CompletableFuture&lt;T&gt; completableFuture = new CompletableFuture&lt;&gt;();\n            long endMillis = System.currentTimeMillis() + timeUnit.toMillis(timeout);\n            Runnable command = () -&gt; {\n                Optional&lt;T&gt; optional = supplier.get();\n                if (optional.isPresent()) {\n                    completableFuture.complete(optional.get());\n                } else if (System.currentTimeMillis() &gt; endMillis) {\n                    String msg = String.format(&quot;Supplier did not return a value within %s %s&quot;, timeout, timeUnit);\n                    completableFuture.completeExceptionally(new TimeoutException(msg));\n                }\n            };\n            ScheduledFuture&lt;?&gt; scheduledFuture = executorService.scheduleAtFixedRate(command, initialDelay, period, timeUnit);\n            return completableFuture.whenComplete((result, exception) -&gt; scheduledFuture.cancel(true));\n        }\n    }\n\n    public static &lt;T&gt; ScheduledCompletableFutureBuilder&lt;T&gt; builder(Class&lt;T&gt; type) {\n        return new ScheduledCompletableFutureBuilder&lt;&gt;();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10466,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":40251790,"answer_count":3,"score":20,"last_activity_date":1669643677,"creation_date":1477439281,"question_id":40251528,"body_markdown":"I have a scenario where I have to poll a remote server checking if a task has completed. Once it has, I make a different call to retrieve the result.\r\n\r\nI originally figured I should use a `SingleThreadScheduledExecutor` with `scheduleWithFixedDelay` for polling:\r\n\r\n    ScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor();\r\n    ScheduledFuture future = executor.scheduleWithFixedDelay(() -&gt; poll(jobId), 0, 10, TimeUnit.SECONDS);\r\n\r\n    public void poll(String jobId) {\r\n       boolean jobDone = remoteServer.isJobDone(jobId);\r\n       if (jobDone) {\r\n           retrieveJobResult(jobId);\r\n       }\r\n    }\r\n\r\nBut since I can only provide a `Runnable` to `scheduleWithFixedDelay` which can&#39;t return anything, I don&#39;t understand when the `future` will be complete, if ever. What does calling `future.get()` even mean? What result am I waiting for?\r\n\r\nThe first time I detect the remote task has completed, I want to execute a different remote call and set its result as the value of the `future`. I figured I could use `CompletableFuture` for this, that I would forward to my `poll` method, which would in turn forward it to my `retrieveTask` method that would eventually complete it:\r\n\r\n    CompletableFuture&lt;Object&gt; result = new CompletableFuture&lt;Object&gt;();\r\n    ScheduledFuture future = executor.scheduleWithFixedDelay(() -&gt; poll(jobId, result), 0, 10, TimeUnit.SECONDS);\r\n\r\n    public void poll(String jobId, CompletableFuture&lt;Object&gt; result) {\r\n       boolean jobDone = remoteServer.isJobDone(jobId);\r\n       if (jobDone) {\r\n           retrieveJobResult(jobId, result);\r\n       }\r\n    }\r\n\r\n    public void retrieveJobResult(String jobId, CompletableFuture&lt;Object&gt; result) {\r\n        Object remoteResult = remoteServer.getJobResult(jobId);\r\n        result.complete(remoteResult);\r\n    }\r\n\r\nBut this has a ton of issues. For one, `CompletableFuture` doesn&#39;t even seem to be intended for this kind of use. Instead I should be doing `CompletableFuture.supplyAsync(() -&gt; poll(jobId))` I think, but how would I then properly shutdown the `executor` and cancel the `future` it returned when my `CompletableFuture` is canceled/complete? It feels like polling should be implemented in some completely different way.","title":"How to use ExecutorService to poll until a result arrives","body":"<p>I have a scenario where I have to poll a remote server checking if a task has completed. Once it has, I make a different call to retrieve the result.</p>\n<p>I originally figured I should use a <code>SingleThreadScheduledExecutor</code> with <code>scheduleWithFixedDelay</code> for polling:</p>\n<pre><code>ScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor();\nScheduledFuture future = executor.scheduleWithFixedDelay(() -&gt; poll(jobId), 0, 10, TimeUnit.SECONDS);\n\npublic void poll(String jobId) {\n   boolean jobDone = remoteServer.isJobDone(jobId);\n   if (jobDone) {\n       retrieveJobResult(jobId);\n   }\n}\n</code></pre>\n<p>But since I can only provide a <code>Runnable</code> to <code>scheduleWithFixedDelay</code> which can't return anything, I don't understand when the <code>future</code> will be complete, if ever. What does calling <code>future.get()</code> even mean? What result am I waiting for?</p>\n<p>The first time I detect the remote task has completed, I want to execute a different remote call and set its result as the value of the <code>future</code>. I figured I could use <code>CompletableFuture</code> for this, that I would forward to my <code>poll</code> method, which would in turn forward it to my <code>retrieveTask</code> method that would eventually complete it:</p>\n<pre><code>CompletableFuture&lt;Object&gt; result = new CompletableFuture&lt;Object&gt;();\nScheduledFuture future = executor.scheduleWithFixedDelay(() -&gt; poll(jobId, result), 0, 10, TimeUnit.SECONDS);\n\npublic void poll(String jobId, CompletableFuture&lt;Object&gt; result) {\n   boolean jobDone = remoteServer.isJobDone(jobId);\n   if (jobDone) {\n       retrieveJobResult(jobId, result);\n   }\n}\n\npublic void retrieveJobResult(String jobId, CompletableFuture&lt;Object&gt; result) {\n    Object remoteResult = remoteServer.getJobResult(jobId);\n    result.complete(remoteResult);\n}\n</code></pre>\n<p>But this has a ton of issues. For one, <code>CompletableFuture</code> doesn't even seem to be intended for this kind of use. Instead I should be doing <code>CompletableFuture.supplyAsync(() -&gt; poll(jobId))</code> I think, but how would I then properly shutdown the <code>executor</code> and cancel the <code>future</code> it returned when my <code>CompletableFuture</code> is canceled/complete? It feels like polling should be implemented in some completely different way.</p>\n"},{"tags":["java","android","json","android-asynctask"],"comments":[{"owner":{"account_id":1238981,"reputation":132436,"user_id":1202025,"accept_rate":80,"display_name":"ρяσѕρєя K"},"score":0,"creation_date":1387355713,"post_id":20653106,"comment_id":30919016,"body_markdown":"given webservice returning `JSONObject` as root element instead of `JSONArray`","body":"given webservice returning <code>JSONObject</code> as root element instead of <code>JSONArray</code>"},{"owner":{"account_id":2057494,"reputation":5154,"user_id":1834828,"accept_rate":75,"display_name":"Runcorn"},"score":0,"creation_date":1387356797,"post_id":20653106,"comment_id":30919503,"body_markdown":"you could use something like `new org.json.simple.parser.JSONParser().parse(&quot;jsonString&quot;);` to get JsonArray.","body":"you could use something like <code>new org.json.simple.parser.JSONParser().parse(&quot;jsonString&quot;);</code> to get JsonArray."}],"answers":[{"tags":[],"owner":{"account_id":2158928,"reputation":2616,"user_id":1913542,"accept_rate":62,"display_name":"stefana"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387355740,"creation_date":1387355740,"answer_id":20653151,"question_id":20653106,"body_markdown":"Result is not an array, Message is.","title":"JSON type mismatch or org.json.jsonecxeption","body":"<p>Result is not an array, Message is.</p>\n"},{"tags":[],"owner":{"account_id":2036629,"reputation":3421,"user_id":1818847,"accept_rate":72,"display_name":"Mario Stoilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387355793,"creation_date":1387355793,"answer_id":20653166,"question_id":20653106,"body_markdown":"    Value response of type java.lang.String cannot be converted to JSONArray\r\n\r\nYou are trying to convert a single object into an array.","title":"JSON type mismatch or org.json.jsonecxeption","body":"<pre><code>Value response of type java.lang.String cannot be converted to JSONArray\n</code></pre>\n\n<p>You are trying to convert a single object into an array.</p>\n"},{"tags":[],"owner":{"account_id":2358024,"reputation":3373,"user_id":2065418,"display_name":"Damien R."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387355992,"creation_date":1387355992,"answer_id":20653225,"question_id":20653106,"body_markdown":"Try this:\r\n\r\n    Log.i(&quot;result&quot;, result);\r\n    try {\r\n        if (result != null) {\r\n            JSONObject jObject = new JSONObject(result);\r\n            JSONArray jsonArray = jObject.getJSONObject(&quot;response&quot;).getJSONArray(&quot;Message&quot;);\r\n            for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n                JSONObject objJson = jsonArray.getJSONObject(i);\r\n    \r\n                TopTenGetterSetter obj = new TopTenGetterSetter();  \r\n                /*\r\n                 * [{&quot;job_id&quot;:&quot;1&quot;,&quot;job_staff_id&quot;:&quot;&quot;,&quot;job_name&quot;:&quot;Account&quot;,\r\n                 * &quot;job_detail&quot;:&quot;test\\r\\ntesds&quot;,&quot;job_start_date&quot;:\r\n                 * &quot;2013-11-08&quot;\r\n                 * ,&quot;job_end_date&quot;:&quot;2013-11-10&quot;,&quot;job_amount&quot;:&quot;500&quot;\r\n                 * ,&quot;job_progress&quot;:&quot;&quot;,&quot;job_complete_status&quot;:&quot;0&quot;}]\r\n                 */\r\n    \r\n                obj.setQ(objJson.getString(&quot;question&quot;));\r\n                obj.setA(objJson.getString(&quot;option1&quot;));\r\n                obj.setB(objJson.getString(&quot;option2&quot;));\r\n                obj.setC(objJson.getString(&quot;option3&quot;));\r\n                obj.setD(objJson.getString(&quot;option4&quot;));\r\n    \r\n                polls.add(obj);\r\n                // am = Customer.info.get(pos).getJamount();\r\n    \r\n                // Toast.makeText(getApplicationContext(), am + result,\r\n                // Toast.LENGTH_LONG).show();\r\n            }\r\n    \r\n        }\r\n    } catch (JSONException e) {\r\n        e.printStackTrace();\r\n        Toast.makeText(getApplicationContext(), &quot;error&quot;,\r\n                Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\nAs mario and nfear said, you are trying to cast a JSONObject into a JSONArray.","title":"JSON type mismatch or org.json.jsonecxeption","body":"<p>Try this:</p>\n\n<pre><code>Log.i(\"result\", result);\ntry {\n    if (result != null) {\n        JSONObject jObject = new JSONObject(result);\n        JSONArray jsonArray = jObject.getJSONObject(\"response\").getJSONArray(\"Message\");\n        for (int i = 0; i &lt; jsonArray.length(); i++) {\n            JSONObject objJson = jsonArray.getJSONObject(i);\n\n            TopTenGetterSetter obj = new TopTenGetterSetter();  \n            /*\n             * [{\"job_id\":\"1\",\"job_staff_id\":\"\",\"job_name\":\"Account\",\n             * \"job_detail\":\"test\\r\\ntesds\",\"job_start_date\":\n             * \"2013-11-08\"\n             * ,\"job_end_date\":\"2013-11-10\",\"job_amount\":\"500\"\n             * ,\"job_progress\":\"\",\"job_complete_status\":\"0\"}]\n             */\n\n            obj.setQ(objJson.getString(\"question\"));\n            obj.setA(objJson.getString(\"option1\"));\n            obj.setB(objJson.getString(\"option2\"));\n            obj.setC(objJson.getString(\"option3\"));\n            obj.setD(objJson.getString(\"option4\"));\n\n            polls.add(obj);\n            // am = Customer.info.get(pos).getJamount();\n\n            // Toast.makeText(getApplicationContext(), am + result,\n            // Toast.LENGTH_LONG).show();\n        }\n\n    }\n} catch (JSONException e) {\n    e.printStackTrace();\n    Toast.makeText(getApplicationContext(), \"error\",\n            Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n\n<p>As mario and nfear said, you are trying to cast a JSONObject into a JSONArray.</p>\n"},{"tags":[],"owner":{"account_id":1238981,"reputation":132436,"user_id":1202025,"accept_rate":80,"display_name":"ρяσѕρєя K"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387356004,"creation_date":1387356004,"answer_id":20653227,"question_id":20653106,"body_markdown":"String content JSONObject as root element instead of JSONArray.to get `Message` JSONArray from String you should first get `response` JSONObject then get `Message` JSONArray as:\r\n\r\n     JSONObject jsonobj = new JSONObject(result);\r\n     // get response JSONObject\r\n    \r\n     JSONObject jsonobj_response = jsonobj.getJSONObject(&quot;response&quot;);\r\n    \r\n    // get Message JSONArray from jsonobj_response\r\n    \r\n     JSONArray jsonArray = jsonobj_response.getJSONArray(&quot;Message&quot;);\r\n      // your code here.....\r\n\r\n","title":"JSON type mismatch or org.json.jsonecxeption","body":"<p>String content JSONObject as root element instead of JSONArray.to get <code>Message</code> JSONArray from String you should first get <code>response</code> JSONObject then get <code>Message</code> JSONArray as:</p>\n\n<pre><code> JSONObject jsonobj = new JSONObject(result);\n // get response JSONObject\n\n JSONObject jsonobj_response = jsonobj.getJSONObject(\"response\");\n\n// get Message JSONArray from jsonobj_response\n\n JSONArray jsonArray = jsonobj_response.getJSONArray(\"Message\");\n  // your code here.....\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1910620,"reputation":1644,"user_id":1724533,"accept_rate":36,"display_name":"SathishKumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387356008,"creation_date":1387356008,"answer_id":20653228,"question_id":20653106,"body_markdown":"Try this,\r\n\r\n    try {\r\n        if (result != null) {\r\n            JSONArray jsonArray = new JSONObject(result).getJSONObject(&quot;response&quot;).getJSONArray(&quot;Message&quot;);\r\n            for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n                JSONObject objJson = jsonArray.getJSONObject(i);\r\n    \r\n                TopTenGetterSetter obj = new TopTenGetterSetter();  \r\n                /*\r\n                 * [{&quot;job_id&quot;:&quot;1&quot;,&quot;job_staff_id&quot;:&quot;&quot;,&quot;job_name&quot;:&quot;Account&quot;,\r\n                 * &quot;job_detail&quot;:&quot;test\\r\\ntesds&quot;,&quot;job_start_date&quot;:\r\n                 * &quot;2013-11-08&quot;\r\n                 * ,&quot;job_end_date&quot;:&quot;2013-11-10&quot;,&quot;job_amount&quot;:&quot;500&quot;\r\n                 * ,&quot;job_progress&quot;:&quot;&quot;,&quot;job_complete_status&quot;:&quot;0&quot;}]\r\n                 */\r\n    \r\n                obj.setQ(objJson.getString(&quot;question&quot;));\r\n                obj.setA(objJson.getString(&quot;option1&quot;));\r\n                obj.setB(objJson.getString(&quot;option2&quot;));\r\n                obj.setC(objJson.getString(&quot;option3&quot;));\r\n                obj.setD(objJson.getString(&quot;option4&quot;));\r\n    \r\n                polls.add(obj);\r\n                // am = Customer.info.get(pos).getJamount();\r\n    \r\n                // Toast.makeText(getApplicationContext(), am + result,\r\n                // Toast.LENGTH_LONG).show();\r\n            }\r\n    \r\n        }\r\n    } ","title":"JSON type mismatch or org.json.jsonecxeption","body":"<p>Try this,</p>\n\n<pre><code>try {\n    if (result != null) {\n        JSONArray jsonArray = new JSONObject(result).getJSONObject(\"response\").getJSONArray(\"Message\");\n        for (int i = 0; i &lt; jsonArray.length(); i++) {\n            JSONObject objJson = jsonArray.getJSONObject(i);\n\n            TopTenGetterSetter obj = new TopTenGetterSetter();  \n            /*\n             * [{\"job_id\":\"1\",\"job_staff_id\":\"\",\"job_name\":\"Account\",\n             * \"job_detail\":\"test\\r\\ntesds\",\"job_start_date\":\n             * \"2013-11-08\"\n             * ,\"job_end_date\":\"2013-11-10\",\"job_amount\":\"500\"\n             * ,\"job_progress\":\"\",\"job_complete_status\":\"0\"}]\n             */\n\n            obj.setQ(objJson.getString(\"question\"));\n            obj.setA(objJson.getString(\"option1\"));\n            obj.setB(objJson.getString(\"option2\"));\n            obj.setC(objJson.getString(\"option3\"));\n            obj.setD(objJson.getString(\"option4\"));\n\n            polls.add(obj);\n            // am = Customer.info.get(pos).getJamount();\n\n            // Toast.makeText(getApplicationContext(), am + result,\n            // Toast.LENGTH_LONG).show();\n        }\n\n    }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":330005,"reputation":132780,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"comment_count":0,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1387369231,"creation_date":1387356011,"answer_id":20653231,"question_id":20653106,"body_markdown":"    org.json.JSONException: Value response of type java.lang.String cannot be converted to JSONArray\r\n\r\nLooks like response is a string not a json array\r\n\r\n\r\n    {  // json object node \r\n        &quot;response&quot;: { // json object response\r\n            &quot;result&quot;: 1,\r\n            &quot;Message&quot;: [ // json array Message\r\n                {        // json object node \r\n                    &quot;pollid&quot;: &quot;98&quot;,\r\n                     &quot;category&quot;: &quot;Entertainment&quot;,\r\n                     &quot;question&quot;: &quot;what&quot;,  //  string\r\n                     &quot;option1&quot;: &quot;981.mov&quot;,\r\n\r\nThe result is a json object not json array\r\n\r\n    JSONArray jsonArray = new JSONArray(result);\r\n\r\nShould be\r\n\r\n    JSONObject jObj = new JSONObject(result);\r\n    JSONObject response = jObj.getJSONObject(&quot;response&quot;);\r\n    //JSONObject jb = new JSONObject(response);\r\n    JSONArray jr = response.getJSONArray(&quot;Message&quot;);\r\n    for(int i=0;i&lt;jr.length();i++)\r\n    {\r\n    JSONObject jb1 = jr.getJSONObject(i);\r\n    String question = jb1.getString(&quot;question&quot;);\r\n    Log.i(&quot;.......&quot;,question);\r\n    }\r\n       \r\n\r\n ","title":"JSON type mismatch or org.json.jsonecxeption","body":"<pre><code>org.json.JSONException: Value response of type java.lang.String cannot be converted to JSONArray\n</code></pre>\n\n<p>Looks like response is a string not a json array</p>\n\n<pre><code>{  // json object node \n    \"response\": { // json object response\n        \"result\": 1,\n        \"Message\": [ // json array Message\n            {        // json object node \n                \"pollid\": \"98\",\n                 \"category\": \"Entertainment\",\n                 \"question\": \"what\",  //  string\n                 \"option1\": \"981.mov\",\n</code></pre>\n\n<p>The result is a json object not json array</p>\n\n<pre><code>JSONArray jsonArray = new JSONArray(result);\n</code></pre>\n\n<p>Should be</p>\n\n<pre><code>JSONObject jObj = new JSONObject(result);\nJSONObject response = jObj.getJSONObject(\"response\");\n//JSONObject jb = new JSONObject(response);\nJSONArray jr = response.getJSONArray(\"Message\");\nfor(int i=0;i&lt;jr.length();i++)\n{\nJSONObject jb1 = jr.getJSONObject(i);\nString question = jb1.getString(\"question\");\nLog.i(\".......\",question);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":282675,"reputation":9330,"user_id":579718,"accept_rate":67,"display_name":"Dinesh Prajapati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387356138,"creation_date":1387356138,"answer_id":20653280,"question_id":20653106,"body_markdown":"better to use GSON library instead of parsing it manually. GSON you can find it on goggling. and sample examples are given with that.","title":"JSON type mismatch or org.json.jsonecxeption","body":"<p>better to use GSON library instead of parsing it manually. GSON you can find it on goggling. and sample examples are given with that.</p>\n"},{"tags":[],"owner":{"account_id":1313894,"reputation":25682,"user_id":1261266,"accept_rate":53,"display_name":"Piyush Agarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1388257780,"creation_date":1387356585,"answer_id":20653407,"question_id":20653106,"body_markdown":"The JSON you have posted is having  \r\n\r\n    // Key &quot;response&quot; , Value type JsonObject\r\n\r\n     JSONObject jsonObject=jsonObjectOfRsponse.getJsonObject(key);\r\n\r\n    //Key &quot;Message&quot; , Value type Json Array\r\n\r\n     JSONArray jsonArray=jsonObject.getJsonArray(key);\r\n     \r\n\r\nAfter getting the jsonArray, use this in a loop to parse the Json according to the type of value inside it.\r\n\r\nSo check if you are parsing the json according to the type of value it is holding.\r\n\r\n\r\n\r\n","title":"JSON type mismatch or org.json.jsonecxeption","body":"<p>The JSON you have posted is having  </p>\n\n<pre><code>// Key \"response\" , Value type JsonObject\n\n JSONObject jsonObject=jsonObjectOfRsponse.getJsonObject(key);\n\n//Key \"Message\" , Value type Json Array\n\n JSONArray jsonArray=jsonObject.getJsonArray(key);\n</code></pre>\n\n<p>After getting the jsonArray, use this in a loop to parse the Json according to the type of value inside it.</p>\n\n<p>So check if you are parsing the json according to the type of value it is holding.</p>\n"},{"tags":[],"owner":{"account_id":10848000,"reputation":31,"user_id":7976800,"display_name":"Mudimba Moonde"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669643612,"creation_date":1669643612,"answer_id":74601639,"question_id":20653106,"body_markdown":"For example if you have a json code which is like this below you need to understand that a JSONArray string is enclosed in **[]**, while a JSONObject string is enclosed in **{}**\r\n\r\n    [\r\n    {\r\n    userId: 1,\r\n    id: 1,\r\n    title: &quot;sunt aut facere repellat provident occaecati excepturi optio reprehenderit&quot;,\r\n    body: &quot;quia et suscipit\r\n    suscipit recusandae consequuntur expedita et cum\r\n    reprehenderit molestiae ut ut quas totam\r\n    nostrum rerum est autem sunt rem eveniet architecto&quot;\r\n    }\r\n    ]\r\n\r\nin this case you need to call the **JSONArray** class and leter get the **JSONObject** \r\n \r\n    // Json Array []\r\n    JSONArray data = new JSONArray(jsonData);\r\n\r\n  \r\n\r\n    // JSON Object {}`\r\n      for(int i=0; i&lt;data.length(); i++){\r\n           JSONObject object =  data.getJSONObject(i);\r\n        }\r\n\r\n","title":"JSON type mismatch or org.json.jsonecxeption","body":"<p>For example if you have a json code which is like this below you need to understand that a JSONArray string is enclosed in <strong>[]</strong>, while a JSONObject string is enclosed in <strong>{}</strong></p>\n<pre><code>[\n{\nuserId: 1,\nid: 1,\ntitle: &quot;sunt aut facere repellat provident occaecati excepturi optio reprehenderit&quot;,\nbody: &quot;quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto&quot;\n}\n]\n</code></pre>\n<p>in this case you need to call the <strong>JSONArray</strong> class and leter get the <strong>JSONObject</strong></p>\n<pre><code>// Json Array []\nJSONArray data = new JSONArray(jsonData);\n\n\n\n// JSON Object {}`\n  for(int i=0; i&lt;data.length(); i++){\n       JSONObject object =  data.getJSONObject(i);\n    }\n</code></pre>\n"}],"owner":{"account_id":3216522,"reputation":1976,"user_id":2715065,"accept_rate":74,"display_name":"Vivek Warde"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35116,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":20653231,"answer_count":9,"score":6,"last_activity_date":1669643612,"creation_date":1387355573,"question_id":20653106,"body_markdown":"The link is \r\nhttp://iipacademy.in/askpoll/ten_feed.php\r\n\r\nexception is in onPostExecute() method  (4th line) :\r\n\r\n    Log.i(&quot;result&quot;, result);\r\n\ttry {\r\n\t\tif (result != null) {\r\n\t\t\tJSONArray jsonArray = new JSONArray(result); // erreor\r\n\t\t\tfor (int i = 0; i &lt; jsonArray.length(); i++) {\r\n\t\t\t\tJSONObject objJson = jsonArray.getJSONObject(i);\r\n\r\n\t\t\t\tTopTenGetterSetter obj = new TopTenGetterSetter();\t\r\n\t\t\t\t\r\n\r\n\t\t\t\tobj.setQ(objJson.getString(&quot;question&quot;));\r\n\t\t\t\tobj.setA(objJson.getString(&quot;option1&quot;));\r\n\t\t\t\tobj.setB(objJson.getString(&quot;option2&quot;));\r\n\t\t\t\tobj.setC(objJson.getString(&quot;option3&quot;));\r\n\t\t\t\tobj.setD(objJson.getString(&quot;option4&quot;));\r\n\r\n\t\t\t\tpolls.add(obj);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t}\r\n\t} catch (JSONException e) {\r\n\t\te.printStackTrace();\r\n\t\tToast.makeText(getApplicationContext(), &quot;error&quot;,\r\n\t\t\t\tToast.LENGTH_SHORT).show();\r\n\t}\r\n\r\n\r\n\r\n\r\nLOGCAT:\r\n\r\n    12-18 03:20:45.447: W/System.err(2790): org.json.JSONException: Value response of type java.lang.String cannot be converted to JSONArray\r\n    12-18 03:20:45.447: W/System.err(2790): \tat org.json.JSON.typeMismatch(JSON.java:111)\r\n    12-18 03:20:45.447: W/System.err(2790): \tat org.json.JSONArray.&lt;init&gt;(JSONArray.java:91)\r\n    12-18 03:20:45.447: W/System.err(2790): \tat org.json.JSONArray.&lt;init&gt;(JSONArray.java:103)\r\n    12-18 03:20:45.447: W/System.err(2790): \tat com.example.askpollie.LatestPollParticipated$FetchingEventsDetails.onPostExecute(LatestPollParticipated.java:188)\r\n    12-18 03:20:45.447: W/System.err(2790): \tat com.example.askpollie.LatestPollParticipated$FetchingEventsDetails.onPostExecute(LatestPollParticipated.java:1)\r\n    12-18 03:20:45.447: W/System.err(2790): \tat android.os.AsyncTask.finish(AsyncTask.java:631)\r\n    12-18 03:20:45.447: W/System.err(2790): \tat android.os.AsyncTask.access$600(AsyncTask.java:177)\r\n    12-18 03:20:45.447: W/System.err(2790): \tat android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:644)\r\n    12-18 03:20:45.447: W/System.err(2790): \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n    12-18 03:20:45.447: W/System.err(2790): \tat android.os.Looper.loop(Looper.java:137)\r\n    12-18 03:20:45.447: W/System.err(2790): \tat android.app.ActivityThread.main(ActivityThread.java:5103)\r\n    12-18 03:20:45.447: W/System.err(2790): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    12-18 03:20:45.447: W/System.err(2790): \tat java.lang.reflect.Method.invoke(Method.java:525)\r\n    12-18 03:20:45.447: W/System.err(2790): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:737)\r\n    12-18 03:20:45.447: W/System.err(2790): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)\r\n    12-18 03:20:45.447: W/System.err(2790): \tat dalvik.system.NativeStart.main(Native Method)\r\n    12-18 03:20:45.447: D/dalvikvm(2790): GC_FOR_ALLOC freed 5131K, 55% free 4437K/9672K, paused 2ms, total 2ms\r\n\r\n\r\nMessage is an array so what should be its code or how to can it be solved ?\r\n\r\nThanks\r\nin\r\nadvance . . .","title":"JSON type mismatch or org.json.jsonecxeption","body":"<p>The link is \n<a href=\"http://iipacademy.in/askpoll/ten_feed.php\" rel=\"noreferrer\">http://iipacademy.in/askpoll/ten_feed.php</a></p>\n\n<p>exception is in onPostExecute() method  (4th line) :</p>\n\n<pre><code>Log.i(\"result\", result);\ntry {\n    if (result != null) {\n        JSONArray jsonArray = new JSONArray(result); // erreor\n        for (int i = 0; i &lt; jsonArray.length(); i++) {\n            JSONObject objJson = jsonArray.getJSONObject(i);\n\n            TopTenGetterSetter obj = new TopTenGetterSetter();  \n\n\n            obj.setQ(objJson.getString(\"question\"));\n            obj.setA(objJson.getString(\"option1\"));\n            obj.setB(objJson.getString(\"option2\"));\n            obj.setC(objJson.getString(\"option3\"));\n            obj.setD(objJson.getString(\"option4\"));\n\n            polls.add(obj);\n                        }\n\n    }\n} catch (JSONException e) {\n    e.printStackTrace();\n    Toast.makeText(getApplicationContext(), \"error\",\n            Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n\n<p>LOGCAT:</p>\n\n<pre><code>12-18 03:20:45.447: W/System.err(2790): org.json.JSONException: Value response of type java.lang.String cannot be converted to JSONArray\n12-18 03:20:45.447: W/System.err(2790):     at org.json.JSON.typeMismatch(JSON.java:111)\n12-18 03:20:45.447: W/System.err(2790):     at org.json.JSONArray.&lt;init&gt;(JSONArray.java:91)\n12-18 03:20:45.447: W/System.err(2790):     at org.json.JSONArray.&lt;init&gt;(JSONArray.java:103)\n12-18 03:20:45.447: W/System.err(2790):     at com.example.askpollie.LatestPollParticipated$FetchingEventsDetails.onPostExecute(LatestPollParticipated.java:188)\n12-18 03:20:45.447: W/System.err(2790):     at com.example.askpollie.LatestPollParticipated$FetchingEventsDetails.onPostExecute(LatestPollParticipated.java:1)\n12-18 03:20:45.447: W/System.err(2790):     at android.os.AsyncTask.finish(AsyncTask.java:631)\n12-18 03:20:45.447: W/System.err(2790):     at android.os.AsyncTask.access$600(AsyncTask.java:177)\n12-18 03:20:45.447: W/System.err(2790):     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:644)\n12-18 03:20:45.447: W/System.err(2790):     at android.os.Handler.dispatchMessage(Handler.java:99)\n12-18 03:20:45.447: W/System.err(2790):     at android.os.Looper.loop(Looper.java:137)\n12-18 03:20:45.447: W/System.err(2790):     at android.app.ActivityThread.main(ActivityThread.java:5103)\n12-18 03:20:45.447: W/System.err(2790):     at java.lang.reflect.Method.invokeNative(Native Method)\n12-18 03:20:45.447: W/System.err(2790):     at java.lang.reflect.Method.invoke(Method.java:525)\n12-18 03:20:45.447: W/System.err(2790):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:737)\n12-18 03:20:45.447: W/System.err(2790):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)\n12-18 03:20:45.447: W/System.err(2790):     at dalvik.system.NativeStart.main(Native Method)\n12-18 03:20:45.447: D/dalvikvm(2790): GC_FOR_ALLOC freed 5131K, 55% free 4437K/9672K, paused 2ms, total 2ms\n</code></pre>\n\n<p>Message is an array so what should be its code or how to can it be solved ?</p>\n\n<p>Thanks\nin\nadvance . . .</p>\n"},{"tags":["java","performance-testing","gatling"],"answers":[{"comments":[{"owner":{"account_id":27072639,"reputation":1,"user_id":20623064,"display_name":"DaSki"},"score":0,"creation_date":1669737237,"post_id":74601598,"comment_id":131708131,"body_markdown":"Thanks for 2. and 3. tips\nCould you please give more details about 1.?\nI mean what is an example to pass the Cookie into Cookie header.\nWhile using \n&#39;.exec(addCookie(Cookie(&quot;set-cookie&quot;, authCookie.getAuthCookie()).withDomain(&quot;localhost&quot;)))&#39; \nI entering my Cookie name (set-cookie) - where can i set it to Header?","body":"Thanks for 2. and 3. tips Could you please give more details about 1.? I mean what is an example to pass the Cookie into Cookie header. While using  &#39;.exec(addCookie(Cookie(&quot;set-cookie&quot;, authCookie.getAuthCookie()).withDomain(&quot;localhost&quot;)))&#39;  I entering my Cookie name (set-cookie) - where can i set it to Header?"}],"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669643440,"creation_date":1669643440,"answer_id":74601598,"question_id":74600362,"body_markdown":" 1. When you&#39;re sending cookies they need to go in [`Cookie`][1] header, [`Set-Cookie`][2] is what **server** uses for creating the cookies\r\n 2. I don&#39;t think you really &quot;moving&quot; your login &quot;out of&quot; your performance tests, you&#39;re just using your custom code which will still be present in metrics and impacting response time and throughput (and leaving the connection to the server open by the way), maybe it worth simulating logins somewhere in [before hook][3] and use a [feeder][4] when the real simulation starts\r\n 3. Having load generator and the system under test running on the same machine is not the best idea as they both will be [struggling for the operating system resources][5] and even a comprehensive [APM tool][6] won&#39;t be able to tell you where the bottleneck is \r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cookie\r\n  [2]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie\r\n  [3]: https://gatling.io/docs/gatling/reference/current/core/simulation/#hooks\r\n  [4]: https://gatling.io/docs/gatling/reference/current/core/session/feeder/\r\n  [5]: https://en.wikipedia.org/wiki/Race_condition\r\n  [6]: https://www.blazemeter.com/blog/apm-tools-comparison","title":"Can&#39;t set correct auth cookie by using addCookie in Gatling","body":"<ol>\n<li>When you're sending cookies they need to go in <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cookie\" rel=\"nofollow noreferrer\"><code>Cookie</code></a> header, <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie\" rel=\"nofollow noreferrer\"><code>Set-Cookie</code></a> is what <strong>server</strong> uses for creating the cookies</li>\n<li>I don't think you really &quot;moving&quot; your login &quot;out of&quot; your performance tests, you're just using your custom code which will still be present in metrics and impacting response time and throughput (and leaving the connection to the server open by the way), maybe it worth simulating logins somewhere in <a href=\"https://gatling.io/docs/gatling/reference/current/core/simulation/#hooks\" rel=\"nofollow noreferrer\">before hook</a> and use a <a href=\"https://gatling.io/docs/gatling/reference/current/core/session/feeder/\" rel=\"nofollow noreferrer\">feeder</a> when the real simulation starts</li>\n<li>Having load generator and the system under test running on the same machine is not the best idea as they both will be <a href=\"https://en.wikipedia.org/wiki/Race_condition\" rel=\"nofollow noreferrer\">struggling for the operating system resources</a> and even a comprehensive <a href=\"https://www.blazemeter.com/blog/apm-tools-comparison\" rel=\"nofollow noreferrer\">APM tool</a> won't be able to tell you where the bottleneck is</li>\n</ol>\n"}],"owner":{"account_id":27072639,"reputation":1,"user_id":20623064,"display_name":"DaSki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669643440,"creation_date":1669637291,"question_id":74600362,"body_markdown":"I am trying to move my Login to application outside of my performance tests made in Gatling.\r\n\r\nLogin authentication is by stored Cookie, so I want to log in to app and obtain an auth cookie in another Class, and then parse it directly into &quot;addCookie&quot; method in gatling (so i guess it should be stored in session of next gatling performance tests)\r\n\r\nI have method getAuthCookie in class CookieSaver\r\n\r\n\r\n```\r\npublic String getAuthCookie() throws Exception {\r\n\r\n    Properties prop = new Properties();\r\n\r\n    prop.load(new FileInputStream(&quot;data.properties&quot;));\r\n    String user = prop.getProperty(&quot;username&quot;);\r\n    String pass = prop.getProperty(&quot;password&quot;);\r\n    String url = prop.getProperty(&quot;url&quot;);\r\n\r\n    Map&lt;Object, Object&gt; data = new HashMap&lt;&gt;();\r\n    data.put(&quot;username&quot;, user);\r\n    data.put(&quot;password&quot;, pass);\r\n\r\n    HttpRequest request2 = HttpRequest.newBuilder()\r\n            .POST(buildFormDataFromMap(data))\r\n            .uri(URI.create(url))\r\n            .setHeader(&quot;User-Agent&quot;, &quot;Java 11 HttpClient Bot&quot;)\r\n            .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n            .build();\r\n    HttpResponse&lt;String&gt; response = httpClient.send(request2, HttpResponse.BodyHandlers.ofString());\r\n    String cookie = String.valueOf(response.headers().firstValue(&quot;set-cookie&quot;));\r\n\r\n    System.out.println(response.statusCode());\r\n\r\n    System.out.println(response.body());\r\n    String fixedCookie = cookie.replace(&quot;Optional&quot;, &quot;&quot;);\r\n    return fixedCookie;\r\n}\r\n```\r\n\r\nand I am trying to use it in .exec(addCookie........\r\n\r\n\r\n```\r\nChainBuilder search;\r\n\r\n{\r\n\r\n    try {\r\n        search = exec(flushCookieJar())\r\n                .exec(flushHttpCache())\r\n\r\n                .exec(addCookie(Cookie(&quot;set-cookie&quot;, authCookie.getAuthCookie()).withDomain(&quot;localhost&quot;)))\r\n                \r\n                .pause(1)\r\n\r\n                .exec(\r\n                        http(&quot;Contacts&quot;)\r\n                                .get(&quot;/transactions/contacts&quot;)\r\n                                .check(\r\n                                        status().is(200).saveAs(&quot;Response&quot;)\r\n                                ))\r\n                .exec(session -&gt; {\r\n                    System.out.println(&quot;session1: &quot; +session);\r\n                    return session;\r\n                })\r\n\r\n                .exec(flushSessionCookies())\r\n\r\n\r\n                .pause(1);\r\n    } catch (Exception e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI obtain the Cookie and set it correctly into session (verified in logs after run), but i obtain 401 when trying to run next step of performance tests, which is simple get\r\n\r\nI&#39;ve tried log in to application inside performance tests and it&#39;s working correctly, but i would need to move log in outside of performance tests\r\n\r\nThis works:\r\n\r\n\r\n```\r\nChainBuilder search;\r\n\r\n{\r\n\r\n    try {\r\n        search = exec(http(&quot;Home&quot;).get(&quot;/&quot;))\r\n\r\n                .exec(\r\n                        http(&quot;Login&quot;)\r\n                                .post(&quot;/login&quot;)\r\n                                .formParam(&quot;username&quot;, &quot;user&quot;)\r\n                                .formParam(&quot;password&quot;, &quot;pw&quot;)\r\n                                .check(\r\n                                        status().is(200)\r\n                                )\r\n                )\r\n                .pause(1)\r\n\r\n                .exec(\r\n                        http(&quot;Contacts&quot;)\r\n                                .get(&quot;/transactions/contacts&quot;)\r\n                                .check(\r\n                                        status().is(200).saveAs(&quot;Response&quot;)\r\n                                ))\r\n                .exec(session -&gt; {\r\n                    System.out.println(&quot;sesja1: &quot; +session);\r\n                    return session;\r\n                })\r\n\r\n                .exec(flushSessionCookies())\r\n\r\n\r\n                .pause(1);\r\n    } catch (Exception e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n\r\n}\r\n```\r\n","title":"Can&#39;t set correct auth cookie by using addCookie in Gatling","body":"<p>I am trying to move my Login to application outside of my performance tests made in Gatling.</p>\n<p>Login authentication is by stored Cookie, so I want to log in to app and obtain an auth cookie in another Class, and then parse it directly into &quot;addCookie&quot; method in gatling (so i guess it should be stored in session of next gatling performance tests)</p>\n<p>I have method getAuthCookie in class CookieSaver</p>\n<pre><code>public String getAuthCookie() throws Exception {\n\n    Properties prop = new Properties();\n\n    prop.load(new FileInputStream(&quot;data.properties&quot;));\n    String user = prop.getProperty(&quot;username&quot;);\n    String pass = prop.getProperty(&quot;password&quot;);\n    String url = prop.getProperty(&quot;url&quot;);\n\n    Map&lt;Object, Object&gt; data = new HashMap&lt;&gt;();\n    data.put(&quot;username&quot;, user);\n    data.put(&quot;password&quot;, pass);\n\n    HttpRequest request2 = HttpRequest.newBuilder()\n            .POST(buildFormDataFromMap(data))\n            .uri(URI.create(url))\n            .setHeader(&quot;User-Agent&quot;, &quot;Java 11 HttpClient Bot&quot;)\n            .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n            .build();\n    HttpResponse&lt;String&gt; response = httpClient.send(request2, HttpResponse.BodyHandlers.ofString());\n    String cookie = String.valueOf(response.headers().firstValue(&quot;set-cookie&quot;));\n\n    System.out.println(response.statusCode());\n\n    System.out.println(response.body());\n    String fixedCookie = cookie.replace(&quot;Optional&quot;, &quot;&quot;);\n    return fixedCookie;\n}\n</code></pre>\n<p>and I am trying to use it in .exec(addCookie........</p>\n<pre><code>ChainBuilder search;\n\n{\n\n    try {\n        search = exec(flushCookieJar())\n                .exec(flushHttpCache())\n\n                .exec(addCookie(Cookie(&quot;set-cookie&quot;, authCookie.getAuthCookie()).withDomain(&quot;localhost&quot;)))\n                \n                .pause(1)\n\n                .exec(\n                        http(&quot;Contacts&quot;)\n                                .get(&quot;/transactions/contacts&quot;)\n                                .check(\n                                        status().is(200).saveAs(&quot;Response&quot;)\n                                ))\n                .exec(session -&gt; {\n                    System.out.println(&quot;session1: &quot; +session);\n                    return session;\n                })\n\n                .exec(flushSessionCookies())\n\n\n                .pause(1);\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n\n}\n</code></pre>\n<p>I obtain the Cookie and set it correctly into session (verified in logs after run), but i obtain 401 when trying to run next step of performance tests, which is simple get</p>\n<p>I've tried log in to application inside performance tests and it's working correctly, but i would need to move log in outside of performance tests</p>\n<p>This works:</p>\n<pre><code>ChainBuilder search;\n\n{\n\n    try {\n        search = exec(http(&quot;Home&quot;).get(&quot;/&quot;))\n\n                .exec(\n                        http(&quot;Login&quot;)\n                                .post(&quot;/login&quot;)\n                                .formParam(&quot;username&quot;, &quot;user&quot;)\n                                .formParam(&quot;password&quot;, &quot;pw&quot;)\n                                .check(\n                                        status().is(200)\n                                )\n                )\n                .pause(1)\n\n                .exec(\n                        http(&quot;Contacts&quot;)\n                                .get(&quot;/transactions/contacts&quot;)\n                                .check(\n                                        status().is(200).saveAs(&quot;Response&quot;)\n                                ))\n                .exec(session -&gt; {\n                    System.out.println(&quot;sesja1: &quot; +session);\n                    return session;\n                })\n\n                .exec(flushSessionCookies())\n\n\n                .pause(1);\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","azure","azure-functions","serverless"],"comments":[{"owner":{"account_id":8708088,"reputation":65,"user_id":6515307,"display_name":"Lesrac"},"score":1,"creation_date":1669715630,"post_id":74601033,"comment_id":131700269,"body_markdown":"There seems to be no simple solution for this. See also: https://stackoverflow.com/questions/54473126/azure-functions-how-to-use-the-multiparthttpservletrequest-class-from-the-de","body":"There seems to be no simple solution for this. See also: <a href=\"https://stackoverflow.com/questions/54473126/azure-functions-how-to-use-the-multiparthttpservletrequest-class-from-the-de\" title=\"azure functions how to use the multiparthttpservletrequest class from the de\">stackoverflow.com/questions/54473126/&hellip;</a>"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1669752797,"post_id":74601033,"comment_id":131713376,"body_markdown":"@Lesrac Wow, that&#39;s tough to do.","body":"@Lesrac Wow, that&#39;s tough to do."}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669643429,"creation_date":1669640776,"question_id":74601033,"body_markdown":"Hi how do I get `multipart form data` in case of **Java** `Azure Function Apps` ?\r\n\r\nI have looked at the [this][1] but there is no mention of multipart form data\r\n\r\n    public HttpResponseMessage run(\r\n                @HttpTrigger(\r\n                    name = &quot;req&quot;,\r\n                    methods = {HttpMethod.POST},\r\n                    authLevel = AuthorizationLevel.ANONYMOUS)\r\n                    HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\r\n                final ExecutionContext context) {\r\n            context.getLogger().info(&quot;Java HTTP trigger processed a request.&quot;);\r\n    \r\n            // This gives me the whole body\r\n            final String file = request.getBody().get();\r\n    \r\n            System.out.println(file);\r\n    \r\n    }\r\n\r\n\r\nHow can I filter out just my upload ?\r\n\r\nI seem to be having no API for this. I can access the whole body and that&#39;s it.\r\n\r\n**How do I do this in Java ?**\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/azure-functions/functions-bindings-http-webhook-trigger?tabs=in-process%2Cfunctionsv2&amp;pivots=programming-language-java#example","title":"How to get multipart form data with Azure Functions Java?","body":"<p>Hi how do I get <code>multipart form data</code> in case of <strong>Java</strong> <code>Azure Function Apps</code> ?</p>\n<p>I have looked at the <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/functions-bindings-http-webhook-trigger?tabs=in-process%2Cfunctionsv2&amp;pivots=programming-language-java#example\" rel=\"nofollow noreferrer\">this</a> but there is no mention of multipart form data</p>\n<pre><code>public HttpResponseMessage run(\n            @HttpTrigger(\n                name = &quot;req&quot;,\n                methods = {HttpMethod.POST},\n                authLevel = AuthorizationLevel.ANONYMOUS)\n                HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\n            final ExecutionContext context) {\n        context.getLogger().info(&quot;Java HTTP trigger processed a request.&quot;);\n\n        // This gives me the whole body\n        final String file = request.getBody().get();\n\n        System.out.println(file);\n\n}\n</code></pre>\n<p>How can I filter out just my upload ?</p>\n<p>I seem to be having no API for this. I can access the whole body and that's it.</p>\n<p><strong>How do I do this in Java ?</strong></p>\n"},{"tags":["java","enums","annotations"],"answers":[{"comments":[{"owner":{"account_id":1393884,"reputation":79,"user_id":1324074,"accept_rate":80,"display_name":"Mad Max"},"score":0,"creation_date":1669660020,"post_id":74601577,"comment_id":131688102,"body_markdown":"Thank you for your response and a nice solution example! I see this approach means new ValueSource class has to be created for each source. And I&#39;ll have to create new instance of ValueSource to call values() method where I&#39;m handling the annotation. But I guess this is what has to be done to deal with java annotation&#39;s limitations.","body":"Thank you for your response and a nice solution example! I see this approach means new ValueSource class has to be created for each source. And I&#39;ll have to create new instance of ValueSource to call values() method where I&#39;m handling the annotation. But I guess this is what has to be done to deal with java annotation&#39;s limitations."}],"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669643339,"creation_date":1669643339,"answer_id":74601577,"question_id":74601352,"body_markdown":"You can&#39;t use union types in an annotation member, so you&#39;ll have to give up on that idea.\r\n\r\nBut frame challenge: why do you even care that the implementer has to be an enum? \r\n\r\nWhat I assume you care about is that something can give you a finite set of implementations. An enum is one way to achieve that, but why be overly restrictive if someone wants to give you a list of values some other way?\r\n\r\nI&#39;d add a new interface which can provide a collection of values.\r\n\r\n    interface MyInterfaceValueSource {\r\n        List&lt;MyInterface&gt; values();\r\n    }\r\n\r\nThe enum gets a very simple implementation that just calls `MyEnum.values()`.\r\n\r\n    class MyEnumValueSource implements MyInterfaceValueSource {\r\n        @Override\r\n        public List&lt;MyInterface&gt; values() {\r\n            return Arrays.asList(MyEnum.values());\r\n        }\r\n    }\r\n\r\nYour annotation can then be altered to accept one of those\r\n\r\n    @interface MyAnnotation {\r\n        Class&lt;? extends MyInterfaceValueSource&gt; value();\r\n    }\r\n    \r\nand example of its usage would be\r\n\r\n    @MyAnnotation(MyEnumValueSource.class)\r\n\r\nNow if someone wants to provide a list of values but *not* implement it as an enum, they have the flexibility to do that.\r\n\r\n    class ExampleValueSource implements MyInterfaceValueSource {\r\n        @Override\r\n        public List&lt;MyInterface&gt; values() {\r\n            return Arrays.asList(\r\n                new MyInterfaceOne(), new MyInterfaceTwo()\r\n            );\r\n        }\r\n    }","title":"Java enum implementing interface as custom annotation parameter","body":"<p>You can't use union types in an annotation member, so you'll have to give up on that idea.</p>\n<p>But frame challenge: why do you even care that the implementer has to be an enum?</p>\n<p>What I assume you care about is that something can give you a finite set of implementations. An enum is one way to achieve that, but why be overly restrictive if someone wants to give you a list of values some other way?</p>\n<p>I'd add a new interface which can provide a collection of values.</p>\n<pre><code>interface MyInterfaceValueSource {\n    List&lt;MyInterface&gt; values();\n}\n</code></pre>\n<p>The enum gets a very simple implementation that just calls <code>MyEnum.values()</code>.</p>\n<pre><code>class MyEnumValueSource implements MyInterfaceValueSource {\n    @Override\n    public List&lt;MyInterface&gt; values() {\n        return Arrays.asList(MyEnum.values());\n    }\n}\n</code></pre>\n<p>Your annotation can then be altered to accept one of those</p>\n<pre><code>@interface MyAnnotation {\n    Class&lt;? extends MyInterfaceValueSource&gt; value();\n}\n</code></pre>\n<p>and example of its usage would be</p>\n<pre><code>@MyAnnotation(MyEnumValueSource.class)\n</code></pre>\n<p>Now if someone wants to provide a list of values but <em>not</em> implement it as an enum, they have the flexibility to do that.</p>\n<pre><code>class ExampleValueSource implements MyInterfaceValueSource {\n    @Override\n    public List&lt;MyInterface&gt; values() {\n        return Arrays.asList(\n            new MyInterfaceOne(), new MyInterfaceTwo()\n        );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1393884,"reputation":79,"user_id":1324074,"accept_rate":80,"display_name":"Mad Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74601577,"answer_count":1,"score":0,"last_activity_date":1669643339,"creation_date":1669642244,"question_id":74601352,"body_markdown":"I&#39;m creating an custom annotation with parameters. Parameters I want to use are enums that implement an interface. There are few enums that are candidates to b used as this annotation&#39;s parameter. Here are some code examples:\r\n\r\nInterface:\r\n\r\n    public interface MyInterface {\r\n        String getSomething();\r\n        int getMore();\r\n    }\r\nEnum example:\r\n\r\n    public enum MyEnum implements MyInterface {\r\n    \r\n        VAL1(&quot;some1&quot;, 1),\r\n        VAL2(&quot;2val&quot;, 22);\r\n\r\n        private String something;\r\n        private int more;\r\n    \r\n        private MyEnum(String something, int more) {\r\n            this.something = something;\r\n            this.more = more;\r\n        }\r\n    \r\n        public String getSomething() {\r\n            return something;\r\n        }\r\n    \r\n        public int getMore() {\r\n            return more;\r\n        }\r\n    }\r\n\r\nI want to implement an annotation with parameter that can be retrieved as multiple MyInterface values. Let&#39;s say annotation looks like this: \r\n\r\n    @MyAnnotation(MyEnum.class)\r\n\r\nor \r\n\r\n    @MyAnnotation(MyEnum.values())\r\nSo I can further retrieve it and pass it to a method that accepts Collection&lt;MyInterface&gt; parameter.\r\n\r\n \r\nHow do I implement an annotation with a parameter so I can retrieve all values of enum as MyInterface type?\r\n\r\nI was trying to do it like this:\r\n\r\n    public @interface MyAnnotation {\r\n        Class&lt;? extends Enum&lt;?&gt; &amp; MyInterface&gt; myValues();\r\n    }\r\nSo I could do:\r\n\r\n    Collection&lt;MyInterface&gt; desired = Arrays.asList(... .getAnnotation().myValues().enumValues());\r\n\r\nbut this syntax is invalid.\r\n","title":"Java enum implementing interface as custom annotation parameter","body":"<p>I'm creating an custom annotation with parameters. Parameters I want to use are enums that implement an interface. There are few enums that are candidates to b used as this annotation's parameter. Here are some code examples:</p>\n<p>Interface:</p>\n<pre><code>public interface MyInterface {\n    String getSomething();\n    int getMore();\n}\n</code></pre>\n<p>Enum example:</p>\n<pre><code>public enum MyEnum implements MyInterface {\n\n    VAL1(&quot;some1&quot;, 1),\n    VAL2(&quot;2val&quot;, 22);\n\n    private String something;\n    private int more;\n\n    private MyEnum(String something, int more) {\n        this.something = something;\n        this.more = more;\n    }\n\n    public String getSomething() {\n        return something;\n    }\n\n    public int getMore() {\n        return more;\n    }\n}\n</code></pre>\n<p>I want to implement an annotation with parameter that can be retrieved as multiple MyInterface values. Let's say annotation looks like this:</p>\n<pre><code>@MyAnnotation(MyEnum.class)\n</code></pre>\n<p>or</p>\n<pre><code>@MyAnnotation(MyEnum.values())\n</code></pre>\n<p>So I can further retrieve it and pass it to a method that accepts Collection parameter.</p>\n<p>How do I implement an annotation with a parameter so I can retrieve all values of enum as MyInterface type?</p>\n<p>I was trying to do it like this:</p>\n<pre><code>public @interface MyAnnotation {\n    Class&lt;? extends Enum&lt;?&gt; &amp; MyInterface&gt; myValues();\n}\n</code></pre>\n<p>So I could do:</p>\n<pre><code>Collection&lt;MyInterface&gt; desired = Arrays.asList(... .getAnnotation().myValues().enumValues());\n</code></pre>\n<p>but this syntax is invalid.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":1,"creation_date":1669635927,"post_id":74600079,"comment_id":131679557,"body_markdown":"Does this answer your question? [trim @domain.xxx from email leaving just username](https://stackoverflow.com/questions/10386025/trim-domain-xxx-from-email-leaving-just-username)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10386025/trim-domain-xxx-from-email-leaving-just-username\">trim @domain.xxx from email leaving just username</a>"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1669636005,"post_id":74600079,"comment_id":131679578,"body_markdown":"&quot;Tried in many ways&quot; - how? Plese include your attempt. A simple `split` should do the trick.","body":"&quot;Tried in many ways&quot; - how? Plese include your attempt. A simple <code>split</code> should do the trick."},{"owner":{"account_id":16340177,"reputation":87,"user_id":11801256,"display_name":"Sonya  gold"},"score":0,"creation_date":1669636238,"post_id":74600079,"comment_id":131679679,"body_markdown":"@joe No because I know how to do it with a regular string, but not with Optional strings and streams, but thanks","body":"@joe No because I know how to do it with a regular string, but not with Optional strings and streams, but thanks"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1669636467,"post_id":74600079,"comment_id":131679739,"body_markdown":"@Sonyagold you are overcomplicating things. Just call `.get()` on the Optional, then work on the `String`. Use `split` on the `String`.","body":"@Sonyagold you are overcomplicating things. Just call <code>.get()</code> on the Optional, then work on the <code>String</code>. Use <code>split</code> on the <code>String</code>."},{"owner":{"account_id":16340177,"reputation":87,"user_id":11801256,"display_name":"Sonya  gold"},"score":0,"creation_date":1669636650,"post_id":74600079,"comment_id":131679793,"body_markdown":"@f1sh  Thanks, see edit2. Does it make sense to use Arrays.Stream? It does not compile otherwise","body":"@f1sh  Thanks, see edit2. Does it make sense to use Arrays.Stream? It does not compile otherwise"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1669636836,"post_id":74600079,"comment_id":131679862,"body_markdown":"@Sonyagold you could just use `email.get().split(&quot;@&quot;)[0]`, but your approach with `Arrays.stream` and `findFirst` is cleaner because if the input does not contain a `@`, it gives you an empty `Optional` instead of throwing an `Exception`.","body":"@Sonyagold you could just use <code>email.get().split(&quot;@&quot;)[0]</code>, but your approach with <code>Arrays.stream</code> and <code>findFirst</code> is cleaner because if the input does not contain a <code>@</code>, it gives you an empty <code>Optional</code> instead of throwing an <code>Exception</code>."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1669637812,"post_id":74600079,"comment_id":131680169,"body_markdown":"Since you never have more than one element, using Streams is pointless. Streams are designed to handle *sequences of elements*, not cases where it is guaranteed to have at most a single element.","body":"Since you never have more than one element, using Streams is pointless. Streams are designed to handle <i>sequences of elements</i>, not cases where it is guaranteed to have at most a single element."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1669643089,"post_id":74600079,"comment_id":131681948,"body_markdown":"@f1sh `.split(&quot;@&quot;)[0]` doesn’t throw an exception.","body":"@f1sh <code>.split(&quot;@&quot;)[0]</code> doesn’t throw an exception."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669643212,"creation_date":1669637132,"answer_id":74600330,"question_id":74600079,"body_markdown":"You don&#39;t need to generate a Stream.\r\n\r\nInstead, you can make use of the [`String.replaceFirst()`][replaceFirst], which expects a regular expression and a replacing String, like that `replaceFirst(&quot;@.*&quot;, &quot;&quot;)`, which will remove everything after an *at sign* `@` (including `@` itself).\r\n\r\n```\r\nemail.ifPresent(\r\n    s -&gt; myBuilder.set(\r\n        UserName,\r\n        s.replaceFirst(&quot;@.*&quot;, &quot;&quot;))\r\n    );\r\n```\r\n\r\nBy the way, since you&#39;ve specified `email` variable with `private` access modifier, obviously it&#39;s a field. Hence, it is worth to point out that having field of `Optional` type isn&#39;t very beneficial. The common practice is to unpack the optional before instantiating the object, rather than storing a potentially empty optional (for instance, in some cases it might make no sense to create a new domain object if the optional doesn&#39;t contain data, e.g. : user without email can not exist).\r\n\r\nYou might be interested in reading these Questions:\r\n\r\n* [*Should Java 8 getters return optional type?*](https://stackoverflow.com/questions/26327957/should-java-8-getters-return-optional-type/26328555#26328555)\r\n\r\n* [Uses for Optional](https://stackoverflow.com/questions/23454952/uses-for-optional/23464794#23464794)\r\n\r\n\r\n\r\n   [replaceFirst]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replaceFirst(java.lang.String,java.lang.String)\r\n","title":"How to extract only the first word from a Java Optional String using a delimiter","body":"<p>You don't need to generate a Stream.</p>\n<p>Instead, you can make use of the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replaceFirst(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\"><code>String.replaceFirst()</code></a>, which expects a regular expression and a replacing String, like that <code>replaceFirst(&quot;@.*&quot;, &quot;&quot;)</code>, which will remove everything after an <em>at sign</em> <code>@</code> (including <code>@</code> itself).</p>\n<pre><code>email.ifPresent(\n    s -&gt; myBuilder.set(\n        UserName,\n        s.replaceFirst(&quot;@.*&quot;, &quot;&quot;))\n    );\n</code></pre>\n<p>By the way, since you've specified <code>email</code> variable with <code>private</code> access modifier, obviously it's a field. Hence, it is worth to point out that having field of <code>Optional</code> type isn't very beneficial. The common practice is to unpack the optional before instantiating the object, rather than storing a potentially empty optional (for instance, in some cases it might make no sense to create a new domain object if the optional doesn't contain data, e.g. : user without email can not exist).</p>\n<p>You might be interested in reading these Questions:</p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/26327957/should-java-8-getters-return-optional-type/26328555#26328555\"><em>Should Java 8 getters return optional type?</em></a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/23454952/uses-for-optional/23464794#23464794\">Uses for Optional</a></p>\n</li>\n</ul>\n"}],"owner":{"account_id":16340177,"reputation":87,"user_id":11801256,"display_name":"Sonya  gold"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":5,"up_vote_count":2,"answer_count":1,"score":-3,"last_activity_date":1669643212,"creation_date":1669635793,"question_id":74600079,"body_markdown":"I got this Optional String (non-null) for which I want to extract only the first word (in this case – username, out of an email address). What is the best way to do it with Optional, given the fact I can disregard everything after the delimiter (&#39;@&#39;, in this case). I do not want a stream as a result, just a single string.\r\n\r\n```java\r\n@NonNull private final Optional&lt;String&gt; email;\r\n\r\nemail.ifPresent(s -&gt; myBuilder.set(UserName, s));\r\n```\r\n\r\nSo an input for example: hello@domain.com\r\n\r\nDesired results: hello\r\n\r\n\r\nTried in many ways but theres always some sort of limitation with this Optional string &amp; streams. I am new to it so I&#39;m sure there&#39;s something I don&#39;t understand properly.\r\n\r\n```java\r\nOptional&lt;String&gt; userName = Stream.of(email)\r\n    .filter(Optional::isPresent)\r\n    .map(Optional::get)\r\n    .&lt;What&#39;s next?&gt;\r\n```\r\n\r\nOr\r\n\r\n```java\r\nif (email.isPresent()) {\r\n    Optional &lt;String&gt; userName = Pattern.compile(&quot;@&quot;).splitAsStream(email).toString();\r\n}\r\n```\r\n\r\nDoesn&#39;t compile but I know it is wrong.\r\n\r\nedit:\r\n\r\nI looked up https://stackoverflow.com/questions/10386025/trim-domain-xxx-from-email-leaving-just-username but it doesn&#39;t help me because this is not a regular string but Optional &amp; streams. Also, I do not want to get an array of results but a single result\r\n\r\n\r\nedit2:\r\n\r\n```java\r\nif (email.isPresent()) {\r\n    Optional&lt;String&gt; newAccountName = Arrays.stream(email.get().split(&quot;@&quot;)).findFirst();\r\n}\r\n```\r\n\r\nIs this the right way to go? ","title":"How to extract only the first word from a Java Optional String using a delimiter","body":"<p>I got this Optional String (non-null) for which I want to extract only the first word (in this case – username, out of an email address). What is the best way to do it with Optional, given the fact I can disregard everything after the delimiter ('@', in this case). I do not want a stream as a result, just a single string.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NonNull private final Optional&lt;String&gt; email;\n\nemail.ifPresent(s -&gt; myBuilder.set(UserName, s));\n</code></pre>\n<p>So an input for example: hello@domain.com</p>\n<p>Desired results: hello</p>\n<p>Tried in many ways but theres always some sort of limitation with this Optional string &amp; streams. I am new to it so I'm sure there's something I don't understand properly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;String&gt; userName = Stream.of(email)\n    .filter(Optional::isPresent)\n    .map(Optional::get)\n    .&lt;What's next?&gt;\n</code></pre>\n<p>Or</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (email.isPresent()) {\n    Optional &lt;String&gt; userName = Pattern.compile(&quot;@&quot;).splitAsStream(email).toString();\n}\n</code></pre>\n<p>Doesn't compile but I know it is wrong.</p>\n<p>edit:</p>\n<p>I looked up <a href=\"https://stackoverflow.com/questions/10386025/trim-domain-xxx-from-email-leaving-just-username\">trim @domain.xxx from email leaving just username</a> but it doesn't help me because this is not a regular string but Optional &amp; streams. Also, I do not want to get an array of results but a single result</p>\n<p>edit2:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (email.isPresent()) {\n    Optional&lt;String&gt; newAccountName = Arrays.stream(email.get().split(&quot;@&quot;)).findFirst();\n}\n</code></pre>\n<p>Is this the right way to go?</p>\n"},{"tags":["java","memory","java-11","metaspace"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1669720113,"post_id":74601458,"comment_id":131701792,"body_markdown":"https://blog.arkey.fr/2020/10/27/maxrampercentage-is-not-what-i-wished-for/","body":"<a href=\"https://blog.arkey.fr/2020/10/27/maxrampercentage-is-not-what-i-wished-for/\" rel=\"nofollow noreferrer\">blog.arkey.fr/2020/10/27/&hellip;</a>"},{"owner":{"account_id":6717152,"reputation":86,"user_id":5178626,"display_name":"Christopher"},"score":0,"creation_date":1669725972,"post_id":74601458,"comment_id":131703778,"body_markdown":"Nice article, thanks! But if I got why this is happening I would still like to know of there&#39;s a solution that doesn&#39;t involve hard coded limits.","body":"Nice article, thanks! But if I got why this is happening I would still like to know of there&#39;s a solution that doesn&#39;t involve hard coded limits."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1669735619,"post_id":74601458,"comment_id":131707478,"body_markdown":"The point is, `MaxRAMPercentage` is supposed to set the heap size and it does what it is supposed to do, as indicated by the `MaxHeapSize = 1048576000`. Which is the same as `-XX:MaxRAM=1G`. So when you say your problem is that you “didn&#39;t find any way to set the heap with percentage”, the problem has been solved.","body":"The point is, <code>MaxRAMPercentage</code> is supposed to set the heap size and it does what it is supposed to do, as indicated by the <code>MaxHeapSize = 1048576000</code>. Which is the same as <code>-XX:MaxRAM=1G</code>. So when you say your problem is that you “didn&#39;t find any way to set the heap with percentage”, the problem has been solved."}],"owner":{"account_id":6717152,"reputation":86,"user_id":5178626,"display_name":"Christopher"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669642765,"creation_date":1669642765,"question_id":74601458,"body_markdown":"I&#39;m facing a problem with JDK 11 with a container running Tomcat 9.0.68.\r\n\r\nShort story: the pod get evicted beacuse it exceeds the maximum memory.\r\n\r\nI have the following container set up on helm (I know that limits and requests should be the same, but I noticed this way the restart count is lower):\r\n```\r\n  containers:\r\n    tomcat:\r\n      resources:\r\n        limits:\r\n          cpu: 1000m\r\n          memory: 2000Mi\r\n        requests:\r\n          cpu: 50m\r\n          memory: 2000Mi\r\n```\r\n\r\nAnd I&#39;ve enabled the following memory related JAVA_OPTS:\r\n\r\n`-XX:+UnlockExperimentalVMOptions -XX:+UseContainerSupport -XX:MaxRAMPercentage=50.0`\r\n\r\nThe heap got sized correctly but I guess my problem is related to the non-heap part of the allocation. In fact if I run:\r\n`java -XX:+UnlockExperimentalVMOptions -XX:+UseContainerSupport -XX:MaxRAMPercentage=50.0 -XX:+PrintFlagsFinal -version | grep -Ei &#39;Heap|RAM|version&#39;`\r\n\r\nThis is the result:\r\n```\r\n   bool AggressiveHeap                           = false                                     {product} {default}\r\n    ccstr AllocateHeapAt                           =                                           {product} {default}\r\n   size_t EpsilonMinHeapExpand                     = 134217728                            {experimental} {default}\r\n   size_t EpsilonPrintHeapSteps                    = 20                                   {experimental} {default}\r\n   size_t ErgoHeapSizeLimit                        = 0                                         {product} {default}\r\n   size_t G1HeapRegionSize                         = 0                                         {product} {default}\r\n    uintx G1HeapWastePercent                       = 5                                         {product} {default}\r\n    uintx GCHeapFreeLimit                          = 2                                         {product} {default}\r\n   size_t HeapBaseMinAddress                       = 2147483648                             {pd product} {default}\r\n     bool HeapDumpAfterFullGC                      = false                                  {manageable} {default}\r\n     bool HeapDumpBeforeFullGC                     = false                                  {manageable} {default}\r\n     bool HeapDumpOnOutOfMemoryError               = false                                  {manageable} {default}\r\n    ccstr HeapDumpPath                             =                                        {manageable} {default}\r\n    uintx HeapFirstMaximumCompactionCount          = 3                                         {product} {default}\r\n    uintx HeapMaximumCompactionInterval            = 20                                        {product} {default}\r\n    uintx HeapSearchSteps                          = 3                                         {product} {default}\r\n   size_t HeapSizePerGCThread                      = 43620760                                  {product} {default}\r\n   size_t InitialHeapSize                          = 33554432                                  {product} {ergonomic}\r\n    uintx InitialRAMFraction                       = 64                                        {product} {default}\r\n   double InitialRAMPercentage                     = 1.562500                                  {product} {default}\r\n    uintx InitiatingHeapOccupancyPercent           = 45                                        {product} {default}\r\n   size_t LargePageHeapSizeThreshold               = 134217728                                 {product} {default}\r\n    uintx MaxHeapFreeRatio                         = 70                                     {manageable} {default}\r\n   size_t MaxHeapSize                              = 1048576000                                {product} {ergonomic}\r\n uint64_t MaxRAM                                   = 137438953472                           {pd product} {default}\r\n    uintx MaxRAMFraction                           = 4                                         {product} {default}\r\n   double MaxRAMPercentage                         = 50.000000                                 {product} {command line}\r\n   size_t MinHeapDeltaBytes                        = 196608                                    {product} {ergonomic}\r\n    uintx MinHeapFreeRatio                         = 40                                     {manageable} {default}\r\n    uintx MinRAMFraction                           = 2                                         {product} {default}\r\n   double MinRAMPercentage                         = 50.000000                                 {product} {default}\r\n    uintx NonNMethodCodeHeapSize                   = 5825164                                {pd product} {ergonomic}\r\n    uintx NonProfiledCodeHeapSize                  = 122916538                              {pd product} {ergonomic}\r\n     bool PostLoopMultiversioning                  = false                             {C2 experimental} {default}\r\n     bool PreserveFramePointer                     = false                                  {pd product} {default}\r\n     bool PrintClassHistogram                      = false                                  {manageable} {default}\r\n     bool PrintHeapAtSIGBREAK                      = true                                      {product} {default}\r\n    uintx ProfiledCodeHeapSize                     = 122916538                              {pd product} {ergonomic}\r\n   size_t ShenandoahSoftMaxHeapSize                = 0                                      {manageable} {default}\r\n     bool ShrinkHeapInSteps                        = true                                      {product} {default}\r\nopenjdk version &quot;11.0.16.1&quot; 2022-08-12\r\nOpenJDK Runtime Environment Temurin-11.0.16.1+1 (build 11.0.16.1+1)\r\nOpenJDK 64-Bit Server VM Temurin-11.0.16.1+1 (build 11.0.16.1+1, mixed mode, sharing)\r\n```\r\n\r\n\r\nI think the problem is the JVM is not reading correctly the RAM assigned to the POD, correct me if I&#39;m wrong.\r\n\r\nI found that I can force the MaxRAM with the -XX:MaxRAM flag and I can also force the maximum metaspace size with the -XX:MaxMetaspaceSize parameters.\r\n\r\nThat said I guess that if set something like -XX:MaxRAM=2G and -XX:MaxMetaspaceSize=1G the problem should solve right? (couldn&#39;t try this yet)\r\n\r\nAnyway this solution would require to set options based on the limits assigned and I didn&#39;t find any way to set the heap with percentage and still it would be not applicable as long as the JVM reads 137GB of RAM.\r\n\r\nSo I would like to know if anyone has faced the same problem and how to solve this without hardcoding the memory limits.\r\n\r\n\r\nNote:\r\nI saw also this question:\r\nhttps://stackoverflow.com/questions/57031566/why-is-java-showing-maxram-to-128gb\r\n\r\nBut the only answer doesn&#39;t explain how to avoid this","title":"JDK11: JVM MaxRAM wrong value on Kubernetes","body":"<p>I'm facing a problem with JDK 11 with a container running Tomcat 9.0.68.</p>\n<p>Short story: the pod get evicted beacuse it exceeds the maximum memory.</p>\n<p>I have the following container set up on helm (I know that limits and requests should be the same, but I noticed this way the restart count is lower):</p>\n<pre><code>  containers:\n    tomcat:\n      resources:\n        limits:\n          cpu: 1000m\n          memory: 2000Mi\n        requests:\n          cpu: 50m\n          memory: 2000Mi\n</code></pre>\n<p>And I've enabled the following memory related JAVA_OPTS:</p>\n<p><code>-XX:+UnlockExperimentalVMOptions -XX:+UseContainerSupport -XX:MaxRAMPercentage=50.0</code></p>\n<p>The heap got sized correctly but I guess my problem is related to the non-heap part of the allocation. In fact if I run:\n<code>java -XX:+UnlockExperimentalVMOptions -XX:+UseContainerSupport -XX:MaxRAMPercentage=50.0 -XX:+PrintFlagsFinal -version | grep -Ei 'Heap|RAM|version'</code></p>\n<p>This is the result:</p>\n<pre><code>   bool AggressiveHeap                           = false                                     {product} {default}\n    ccstr AllocateHeapAt                           =                                           {product} {default}\n   size_t EpsilonMinHeapExpand                     = 134217728                            {experimental} {default}\n   size_t EpsilonPrintHeapSteps                    = 20                                   {experimental} {default}\n   size_t ErgoHeapSizeLimit                        = 0                                         {product} {default}\n   size_t G1HeapRegionSize                         = 0                                         {product} {default}\n    uintx G1HeapWastePercent                       = 5                                         {product} {default}\n    uintx GCHeapFreeLimit                          = 2                                         {product} {default}\n   size_t HeapBaseMinAddress                       = 2147483648                             {pd product} {default}\n     bool HeapDumpAfterFullGC                      = false                                  {manageable} {default}\n     bool HeapDumpBeforeFullGC                     = false                                  {manageable} {default}\n     bool HeapDumpOnOutOfMemoryError               = false                                  {manageable} {default}\n    ccstr HeapDumpPath                             =                                        {manageable} {default}\n    uintx HeapFirstMaximumCompactionCount          = 3                                         {product} {default}\n    uintx HeapMaximumCompactionInterval            = 20                                        {product} {default}\n    uintx HeapSearchSteps                          = 3                                         {product} {default}\n   size_t HeapSizePerGCThread                      = 43620760                                  {product} {default}\n   size_t InitialHeapSize                          = 33554432                                  {product} {ergonomic}\n    uintx InitialRAMFraction                       = 64                                        {product} {default}\n   double InitialRAMPercentage                     = 1.562500                                  {product} {default}\n    uintx InitiatingHeapOccupancyPercent           = 45                                        {product} {default}\n   size_t LargePageHeapSizeThreshold               = 134217728                                 {product} {default}\n    uintx MaxHeapFreeRatio                         = 70                                     {manageable} {default}\n   size_t MaxHeapSize                              = 1048576000                                {product} {ergonomic}\n uint64_t MaxRAM                                   = 137438953472                           {pd product} {default}\n    uintx MaxRAMFraction                           = 4                                         {product} {default}\n   double MaxRAMPercentage                         = 50.000000                                 {product} {command line}\n   size_t MinHeapDeltaBytes                        = 196608                                    {product} {ergonomic}\n    uintx MinHeapFreeRatio                         = 40                                     {manageable} {default}\n    uintx MinRAMFraction                           = 2                                         {product} {default}\n   double MinRAMPercentage                         = 50.000000                                 {product} {default}\n    uintx NonNMethodCodeHeapSize                   = 5825164                                {pd product} {ergonomic}\n    uintx NonProfiledCodeHeapSize                  = 122916538                              {pd product} {ergonomic}\n     bool PostLoopMultiversioning                  = false                             {C2 experimental} {default}\n     bool PreserveFramePointer                     = false                                  {pd product} {default}\n     bool PrintClassHistogram                      = false                                  {manageable} {default}\n     bool PrintHeapAtSIGBREAK                      = true                                      {product} {default}\n    uintx ProfiledCodeHeapSize                     = 122916538                              {pd product} {ergonomic}\n   size_t ShenandoahSoftMaxHeapSize                = 0                                      {manageable} {default}\n     bool ShrinkHeapInSteps                        = true                                      {product} {default}\nopenjdk version &quot;11.0.16.1&quot; 2022-08-12\nOpenJDK Runtime Environment Temurin-11.0.16.1+1 (build 11.0.16.1+1)\nOpenJDK 64-Bit Server VM Temurin-11.0.16.1+1 (build 11.0.16.1+1, mixed mode, sharing)\n</code></pre>\n<p>I think the problem is the JVM is not reading correctly the RAM assigned to the POD, correct me if I'm wrong.</p>\n<p>I found that I can force the MaxRAM with the -XX:MaxRAM flag and I can also force the maximum metaspace size with the -XX:MaxMetaspaceSize parameters.</p>\n<p>That said I guess that if set something like -XX:MaxRAM=2G and -XX:MaxMetaspaceSize=1G the problem should solve right? (couldn't try this yet)</p>\n<p>Anyway this solution would require to set options based on the limits assigned and I didn't find any way to set the heap with percentage and still it would be not applicable as long as the JVM reads 137GB of RAM.</p>\n<p>So I would like to know if anyone has faced the same problem and how to solve this without hardcoding the memory limits.</p>\n<p>Note:\nI saw also this question:\n<a href=\"https://stackoverflow.com/questions/57031566/why-is-java-showing-maxram-to-128gb\">why is java showing MAXRAM to 128gb</a></p>\n<p>But the only answer doesn't explain how to avoid this</p>\n"},{"tags":["java","spring-boot","junit","spring-security","spring-cloud"],"comments":[{"owner":{"account_id":2866175,"reputation":1531,"user_id":2460460,"display_name":"Sergio Lema"},"score":0,"creation_date":1669838386,"post_id":74586470,"comment_id":131736816,"body_markdown":"Did you check where your requests reach? Do they reach the order-service? Add a breakpoint in the JWT filter of order-service to be sure","body":"Did you check where your requests reach? Do they reach the order-service? Add a breakpoint in the JWT filter of order-service to be sure"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1669849883,"post_id":74586470,"comment_id":131739750,"body_markdown":"@SergioLema I revised my code two days ago. I tried to fix it but I&#39;m not sure if it is right or not.","body":"@SergioLema I revised my code two days ago. I tried to fix it but I&#39;m not sure if it is right or not."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1670355884,"post_id":74586470,"comment_id":131856497,"body_markdown":"@SergioLema I updated my repository again but I couldn&#39;t run any test method in OrderServiceTest and OrderControllerTest. I hope you can help me?","body":"@SergioLema I updated my repository again but I couldn&#39;t run any test method in OrderServiceTest and OrderControllerTest. I hope you can help me?"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669642741,"creation_date":1669506616,"question_id":74586470,"body_markdown":"I have a communication problem in my spring boot microservices.\r\n\r\nI created some services as well as eureka server, api gateway and config server.\r\n\r\nI defined auth service connecting to api gateway for the process of authentication and authorization. I used this service as creating a user, logining and refreshing token.\r\n\r\nAfter I created a user and login in auth service through the port number of api gateway, I tried to make a request to the order service like `http://localhost:9090/order/placeorder` or `http://localhost:9090/order/{order_id}` but I got 403 forbidden issue.\r\n\r\nI knew there can be spring security problem among api gateway, auth service and order service but I couldn&#39;t find where the issue is.\r\n\r\nExcept for that, I cannot run any test method defined in OrderControllerTest because of this reason.\r\n\r\nHow can I fix these issues?\r\n\r\nI shared some code snippets regarding security config defined in 2 services and api gateway and gateway filter located in api gateway. \r\n\r\nHere is **SecurityConfig** in **auth service**.\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    @RequiredArgsConstructor\r\n    public class SecurityConfig {\r\n    \r\n        private final JwtAuthenticationEntryPoint authenticationEntryPoint;\r\n        private final JWTAccessDeniedHandler accessDeniedHandler;\r\n        private final JwtUtils jwtUtils;\r\n        private final CustomUserDetailsService customUserDetailsService;\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager(final AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n            return authenticationConfiguration.getAuthenticationManager();\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            return http\r\n                    .headers().frameOptions().disable().and()\r\n                    .csrf().disable()\r\n                    .cors().and()\r\n                    .authorizeRequests(auth -&gt; {\r\n                        auth.anyRequest().authenticated();\r\n                    })\r\n                    .formLogin().disable()\r\n                    .httpBasic().disable()\r\n                    .exceptionHandling().accessDeniedHandler(accessDeniedHandler)\r\n                    .authenticationEntryPoint(authenticationEntryPoint)\r\n                    .and()\r\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and()\r\n                    .addFilterBefore(authenticationJwtTokenFilter(jwtUtils,customUserDetailsService), UsernamePasswordAuthenticationFilter.class)\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public WebSecurityCustomizer webSecurityCustomizer() {\r\n            return (web) -&gt; web.ignoring().antMatchers(&quot;/authenticate/signup&quot;,&quot;/authenticate/login&quot;, &quot;/authenticate/refreshtoken&quot;);\r\n        }\r\n    \r\n        @Bean\r\n        public AuthTokenFilter authenticationJwtTokenFilter(JwtUtils jwtUtils, CustomUserDetailsService customUserDetailsService) {\r\n            return new AuthTokenFilter(jwtUtils, customUserDetailsService);\r\n        }\r\n    }\r\n\r\nHere is **SecurityConfig** in **api gateway**.\r\n\r\n    @Configuration\r\n    @EnableWebFluxSecurity\r\n    public class SecurityConfig {\r\n    \r\n        @Bean\r\n        public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity serverHttpSecurity){\r\n    \r\n            serverHttpSecurity.cors().and().csrf().disable()\r\n                    .authorizeExchange(exchange -&gt; exchange\r\n                            .anyExchange()\r\n                            .permitAll());\r\n            return serverHttpSecurity.build();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nHere is the **gatewayconfig** in **api gateway**\r\n\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    public class GatewayConfig {\r\n    \r\n        private final JwtAuthenticationFilter filter;\r\n    \r\n        @Bean\r\n        public RouteLocator routes(RouteLocatorBuilder builder) {\r\n            return builder.routes().route(&quot;AUTH-SERVICE&quot;, r -&gt; r.path(&quot;/authenticate/**&quot;).filters(f -&gt; f.filter(filter)).uri(&quot;lb://AUTH-SERVICE&quot;))\r\n                    .route(&quot;PRODUCT-SERVICE&quot;, r -&gt; r.path(&quot;/product/**&quot;).filters(f -&gt; f.filter(filter)).uri(&quot;lb://PRODUCT-SERVICE&quot;))\r\n                    .route(&quot;PAYMENT-SERVICE&quot;, r -&gt; r.path(&quot;/payment/**&quot;).filters(f -&gt; f.filter(filter)).uri(&quot;lb://PAYMENT-SERVICE&quot;))\r\n                    .route(&quot;ORDER-SERVICE&quot;, r -&gt; r.path(&quot;/order/**&quot;).filters(f -&gt; f.filter(filter)).uri(&quot;lb://ORDER-SERVICE&quot;)).build();\r\n        }\r\n    }\r\n\r\nHere is **SecurityConfig** in **order service**.\r\n\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class WebSecurityConfig {\r\n    \r\n        @Bean\r\n        public SecurityFilterChain securityWebFilterChain(HttpSecurity http) throws Exception {\r\n            http.csrf().disable()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/order/**&quot;)\r\n                         .access(&quot;hasAnyAuthority(&#39;ROLE_USER&#39;) or hasAnyAuthority(&#39;ROLE_ADMIN&#39;)&quot;);\r\n            return http.build();\r\n        }\r\n    }\r\n\r\nHere is the **OrderControllerTest** shown below.\r\n\r\n    @SpringBootTest({&quot;server.port=0&quot;})\r\n    @EnableConfigurationProperties\r\n    @AutoConfigureMockMvc\r\n    @ContextConfiguration(classes = {OrderServiceConfig.class})\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class OrderControllerTest {\r\n    \r\n        @RegisterExtension\r\n        static WireMockExtension wireMockserver\r\n                = WireMockExtension.newInstance()\r\n                .options(WireMockConfiguration\r\n                        .wireMockConfig()\r\n                        .port(8080))\r\n                .build();\r\n    \r\n        @Autowired\r\n        private OrderService orderService;\r\n        @Autowired\r\n        private OrderRepository orderRepository;\r\n    \r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n        private ObjectMapper objectMapper\r\n                = new ObjectMapper()\r\n                .findAndRegisterModules()\r\n                .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false)\r\n                .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    \r\n        @Autowired\r\n        JwtUtils jwtUtils;\r\n    \r\n        @BeforeEach\r\n        void setup() throws IOException {\r\n            getProductDetailsResponse();\r\n            doPayment();\r\n            getPaymentDetails();\r\n            reduceQuantity();\r\n        }\r\n    \r\n        private void reduceQuantity() {\r\n            wireMockserver.stubFor(put(urlMatching(&quot;/product/reduceQuantity/.*&quot;))\r\n                    .willReturn(aResponse()\r\n                            .withStatus(HttpStatus.OK.value())\r\n                            .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)));\r\n        }\r\n    \r\n        private void getPaymentDetails() throws IOException {\r\n            wireMockserver.stubFor(get(&quot;/payment/order/1&quot;)\r\n                    .willReturn(aResponse()\r\n                            .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\r\n                            .withStatus(HttpStatus.OK.value())\r\n                            .withBody(copyToString(OrderControllerTest.class.getClassLoader().getResourceAsStream(&quot;mock/GetPayment.json&quot;), defaultCharset()))));\r\n        }\r\n    \r\n        private void doPayment() {\r\n            wireMockserver.stubFor(post(urlEqualTo(&quot;/payment&quot;))\r\n                    .willReturn(aResponse()\r\n                            .withStatus(HttpStatus.OK.value())\r\n                            .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)));\r\n        }\r\n    \r\n        private void getProductDetailsResponse() throws IOException {\r\n    \r\n            wireMockserver.stubFor(get(&quot;/product/1&quot;)\r\n                    .willReturn(aResponse()\r\n                            .withStatus(HttpStatus.OK.value())\r\n                            .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\r\n                            .withBody(copyToString(\r\n                                    OrderControllerTest.class\r\n                                            .getClassLoader()\r\n                                            .getResourceAsStream(&quot;mock/GetProduct.json&quot;),\r\n                                    defaultCharset()))));\r\n        }\r\n    \r\n        private OrderRequest getMockOrderRequest() {\r\n            return OrderRequest.builder()\r\n                    .productId(1)\r\n                    .paymentMode(PaymentMode.CASH)\r\n                    .quantity(1)\r\n                    .totalAmount(100)\r\n                    .build();\r\n        }\r\n    \r\n        @Test\r\n        @DisplayName(&quot;Place Order -- Success Scenario&quot;)\r\n        @WithMockUser(username = &quot;User&quot;, authorities = { &quot;ROLE_USER&quot; })\r\n        void test_When_placeOrder_DoPayment_Success() throws Exception {\r\n    \r\n            OrderRequest orderRequest = getMockOrderRequest();\r\n            String jwt = getJWTTokenForRoleUser();\r\n    \r\n            MvcResult mvcResult\r\n                    = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/order/placeorder&quot;)\r\n                            .contentType(MediaType.APPLICATION_JSON_VALUE)\r\n                            .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt)\r\n                            .content(objectMapper.writeValueAsString(orderRequest)))\r\n                    .andExpect(MockMvcResultMatchers.status().isOk())\r\n                    .andReturn();\r\n    \r\n            String orderId = mvcResult.getResponse().getContentAsString();\r\n    \r\n            Optional&lt;Order&gt; order = orderRepository.findById(Long.valueOf(orderId));\r\n            assertTrue(order.isPresent());\r\n    \r\n            Order o = order.get();\r\n            assertEquals(Long.parseLong(orderId), o.getId());\r\n            assertEquals(&quot;PLACED&quot;, o.getOrderStatus());\r\n            assertEquals(orderRequest.getTotalAmount(), o.getAmount());\r\n            assertEquals(orderRequest.getQuantity(), o.getQuantity());\r\n        }\r\n    \r\n        @Test\r\n        @DisplayName(&quot;Place Order -- Failure Scenario&quot;)\r\n        @WithMockUser(username = &quot;Admin&quot;, authorities = { &quot;ROLE_ADMIN&quot; })\r\n        public void test_When_placeOrder_WithWrongAccess_thenThrow_403() throws Exception {\r\n    \r\n    \r\n            OrderRequest orderRequest = getMockOrderRequest();\r\n            String jwt = getJWTTokenForRoleAdmin();\r\n    \r\n            MvcResult mvcResult\r\n                    = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/order/placeorder&quot;)\r\n                            .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt)\r\n                            .contentType(MediaType.APPLICATION_JSON_VALUE)\r\n                            .content(objectMapper.writeValueAsString(orderRequest)))\r\n                    .andExpect(MockMvcResultMatchers.status().isForbidden())\r\n                    .andReturn();\r\n    \r\n        }\r\n    \r\n    \r\n        @Test\r\n        //@WithMockUser(username = &quot;Admin&quot;, authorities = { &quot;ROLE_ADMIN&quot; })\r\n        public void test_WhenGetOrder_Success() throws Exception {\r\n    \r\n            String jwt = getJWTTokenForRoleUser();\r\n    \r\n            MvcResult mvcResult\r\n                    = mockMvc.perform(MockMvcRequestBuilders.get(&quot;/order/1&quot;)\r\n                            .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt)\r\n                            .contentType(MediaType.APPLICATION_JSON_VALUE))\r\n                    .andExpect(MockMvcResultMatchers.status().isOk())\r\n                    .andReturn();\r\n    \r\n            String actualResponse = mvcResult.getResponse().getContentAsString();\r\n            Order order = orderRepository.findById(1l).get();\r\n            String expectedResponse = getOrderResponse(order);\r\n    \r\n            assertEquals(expectedResponse,actualResponse);\r\n        }\r\n    \r\n        @Test\r\n        //@WithMockUser(username = &quot;Admin&quot;, authorities = { &quot;ROLE_ADMIN&quot; })\r\n        public void testWhen_GetOrder_Order_Not_Found() throws Exception {\r\n    \r\n            String jwt = getJWTTokenForRoleAdmin();\r\n    \r\n            MvcResult mvcResult\r\n                    = mockMvc.perform(MockMvcRequestBuilders.get(&quot;/order/4&quot;)\r\n                            .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt)\r\n                            .contentType(MediaType.APPLICATION_JSON_VALUE))\r\n                    .andExpect(MockMvcResultMatchers.status().isNotFound())\r\n                    .andReturn();\r\n        }\r\n    \r\n        private String getOrderResponse(Order order) throws IOException {\r\n            OrderResponse.PaymentDetails paymentDetails\r\n                    = objectMapper.readValue(\r\n                    copyToString(\r\n                            OrderControllerTest.class.getClassLoader()\r\n                                    .getResourceAsStream(&quot;mock/GetPayment.json&quot;\r\n                                    ),\r\n                            defaultCharset()\r\n                    ), OrderResponse.PaymentDetails.class\r\n            );\r\n            paymentDetails.setPaymentStatus(&quot;SUCCESS&quot;);\r\n    \r\n            OrderResponse.ProductDetails productDetails\r\n                    = objectMapper.readValue(\r\n                    copyToString(\r\n                            OrderControllerTest.class.getClassLoader()\r\n                                    .getResourceAsStream(&quot;mock/GetProduct.json&quot;),\r\n                            defaultCharset()\r\n                    ), OrderResponse.ProductDetails.class\r\n            );\r\n    \r\n            OrderResponse orderResponse\r\n                    = OrderResponse.builder()\r\n                    .paymentDetails(paymentDetails)\r\n                    .productDetails(productDetails)\r\n                    .orderStatus(order.getOrderStatus())\r\n                    .orderDate(order.getOrderDate())\r\n                    .amount(order.getAmount())\r\n                    .orderId(order.getId())\r\n                    .build();\r\n            return objectMapper.writeValueAsString(orderResponse);\r\n        }\r\n    \r\n        private String getJWTTokenForRoleUser(){\r\n    \r\n            var loginRequest = new LoginRequest(&quot;User1&quot;,&quot;user1&quot;);\r\n    \r\n            String jwt = jwtUtils.generateJwtToken(loginRequest.getUsername());\r\n    \r\n            return jwt;\r\n        }\r\n    \r\n        private String getJWTTokenForRoleAdmin(){\r\n    \r\n            var loginRequest = new LoginRequest(&quot;Admin&quot;,&quot;admin&quot;);\r\n    \r\n            String jwt = jwtUtils.generateJwtToken(loginRequest.getUsername());\r\n    \r\n            return jwt;\r\n        }\r\n    \r\n        @Data\r\n        @AllArgsConstructor\r\n        @NoArgsConstructor\r\n        public class LoginRequest {\r\n    \r\n            private String username;\r\n            private String password;\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nHere is the repo : [Link][1]\r\n\r\nHere are the screenshots : [Link][2]\r\n\r\n**To run the app,**\r\n\r\n1 ) Run Service Registery (Eureka Server)\r\n\r\n2 ) Run config server\r\n\r\n3 ) Run zipkin and redis through these commands shown below on docker\r\n\r\n      docker run -d -p 9411:9411 openzipkin/zipkin\r\n      docker run -d --name redis -p 6379:6379 redis\r\n\r\n4 ) Run api gateway\r\n\r\n5 ) Run other services\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/microservicecoursedailybuffer\r\n  [2]: https://drive.google.com/drive/folders/1BCMSj9STszd-GaHWJZE4a0IuLpUcXBxj?usp=sharing\r\n","title":"Spring Boot Microservices (Spring Cloud) , 403 Forbidden among services (Controller and ControllerTest)","body":"<p>I have a communication problem in my spring boot microservices.</p>\n<p>I created some services as well as eureka server, api gateway and config server.</p>\n<p>I defined auth service connecting to api gateway for the process of authentication and authorization. I used this service as creating a user, logining and refreshing token.</p>\n<p>After I created a user and login in auth service through the port number of api gateway, I tried to make a request to the order service like <code>http://localhost:9090/order/placeorder</code> or <code>http://localhost:9090/order/{order_id}</code> but I got 403 forbidden issue.</p>\n<p>I knew there can be spring security problem among api gateway, auth service and order service but I couldn't find where the issue is.</p>\n<p>Except for that, I cannot run any test method defined in OrderControllerTest because of this reason.</p>\n<p>How can I fix these issues?</p>\n<p>I shared some code snippets regarding security config defined in 2 services and api gateway and gateway filter located in api gateway.</p>\n<p>Here is <strong>SecurityConfig</strong> in <strong>auth service</strong>.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@RequiredArgsConstructor\npublic class SecurityConfig {\n\n    private final JwtAuthenticationEntryPoint authenticationEntryPoint;\n    private final JWTAccessDeniedHandler accessDeniedHandler;\n    private final JwtUtils jwtUtils;\n    private final CustomUserDetailsService customUserDetailsService;\n\n    @Bean\n    public AuthenticationManager authenticationManager(final AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        return http\n                .headers().frameOptions().disable().and()\n                .csrf().disable()\n                .cors().and()\n                .authorizeRequests(auth -&gt; {\n                    auth.anyRequest().authenticated();\n                })\n                .formLogin().disable()\n                .httpBasic().disable()\n                .exceptionHandling().accessDeniedHandler(accessDeniedHandler)\n                .authenticationEntryPoint(authenticationEntryPoint)\n                .and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .addFilterBefore(authenticationJwtTokenFilter(jwtUtils,customUserDetailsService), UsernamePasswordAuthenticationFilter.class)\n                .build();\n    }\n\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web) -&gt; web.ignoring().antMatchers(&quot;/authenticate/signup&quot;,&quot;/authenticate/login&quot;, &quot;/authenticate/refreshtoken&quot;);\n    }\n\n    @Bean\n    public AuthTokenFilter authenticationJwtTokenFilter(JwtUtils jwtUtils, CustomUserDetailsService customUserDetailsService) {\n        return new AuthTokenFilter(jwtUtils, customUserDetailsService);\n    }\n}\n</code></pre>\n<p>Here is <strong>SecurityConfig</strong> in <strong>api gateway</strong>.</p>\n<pre><code>@Configuration\n@EnableWebFluxSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity serverHttpSecurity){\n\n        serverHttpSecurity.cors().and().csrf().disable()\n                .authorizeExchange(exchange -&gt; exchange\n                        .anyExchange()\n                        .permitAll());\n        return serverHttpSecurity.build();\n    }\n\n\n}\n</code></pre>\n<p>Here is the <strong>gatewayconfig</strong> in <strong>api gateway</strong></p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class GatewayConfig {\n\n    private final JwtAuthenticationFilter filter;\n\n    @Bean\n    public RouteLocator routes(RouteLocatorBuilder builder) {\n        return builder.routes().route(&quot;AUTH-SERVICE&quot;, r -&gt; r.path(&quot;/authenticate/**&quot;).filters(f -&gt; f.filter(filter)).uri(&quot;lb://AUTH-SERVICE&quot;))\n                .route(&quot;PRODUCT-SERVICE&quot;, r -&gt; r.path(&quot;/product/**&quot;).filters(f -&gt; f.filter(filter)).uri(&quot;lb://PRODUCT-SERVICE&quot;))\n                .route(&quot;PAYMENT-SERVICE&quot;, r -&gt; r.path(&quot;/payment/**&quot;).filters(f -&gt; f.filter(filter)).uri(&quot;lb://PAYMENT-SERVICE&quot;))\n                .route(&quot;ORDER-SERVICE&quot;, r -&gt; r.path(&quot;/order/**&quot;).filters(f -&gt; f.filter(filter)).uri(&quot;lb://ORDER-SERVICE&quot;)).build();\n    }\n}\n</code></pre>\n<p>Here is <strong>SecurityConfig</strong> in <strong>order service</strong>.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityWebFilterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/order/**&quot;)\n                     .access(&quot;hasAnyAuthority('ROLE_USER') or hasAnyAuthority('ROLE_ADMIN')&quot;);\n        return http.build();\n    }\n}\n</code></pre>\n<p>Here is the <strong>OrderControllerTest</strong> shown below.</p>\n<pre><code>@SpringBootTest({&quot;server.port=0&quot;})\n@EnableConfigurationProperties\n@AutoConfigureMockMvc\n@ContextConfiguration(classes = {OrderServiceConfig.class})\n@ActiveProfiles(&quot;test&quot;)\npublic class OrderControllerTest {\n\n    @RegisterExtension\n    static WireMockExtension wireMockserver\n            = WireMockExtension.newInstance()\n            .options(WireMockConfiguration\n                    .wireMockConfig()\n                    .port(8080))\n            .build();\n\n    @Autowired\n    private OrderService orderService;\n    @Autowired\n    private OrderRepository orderRepository;\n\n    @Autowired\n    private MockMvc mockMvc;\n    private ObjectMapper objectMapper\n            = new ObjectMapper()\n            .findAndRegisterModules()\n            .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false)\n            .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n\n    @Autowired\n    JwtUtils jwtUtils;\n\n    @BeforeEach\n    void setup() throws IOException {\n        getProductDetailsResponse();\n        doPayment();\n        getPaymentDetails();\n        reduceQuantity();\n    }\n\n    private void reduceQuantity() {\n        wireMockserver.stubFor(put(urlMatching(&quot;/product/reduceQuantity/.*&quot;))\n                .willReturn(aResponse()\n                        .withStatus(HttpStatus.OK.value())\n                        .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)));\n    }\n\n    private void getPaymentDetails() throws IOException {\n        wireMockserver.stubFor(get(&quot;/payment/order/1&quot;)\n                .willReturn(aResponse()\n                        .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\n                        .withStatus(HttpStatus.OK.value())\n                        .withBody(copyToString(OrderControllerTest.class.getClassLoader().getResourceAsStream(&quot;mock/GetPayment.json&quot;), defaultCharset()))));\n    }\n\n    private void doPayment() {\n        wireMockserver.stubFor(post(urlEqualTo(&quot;/payment&quot;))\n                .willReturn(aResponse()\n                        .withStatus(HttpStatus.OK.value())\n                        .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)));\n    }\n\n    private void getProductDetailsResponse() throws IOException {\n\n        wireMockserver.stubFor(get(&quot;/product/1&quot;)\n                .willReturn(aResponse()\n                        .withStatus(HttpStatus.OK.value())\n                        .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\n                        .withBody(copyToString(\n                                OrderControllerTest.class\n                                        .getClassLoader()\n                                        .getResourceAsStream(&quot;mock/GetProduct.json&quot;),\n                                defaultCharset()))));\n    }\n\n    private OrderRequest getMockOrderRequest() {\n        return OrderRequest.builder()\n                .productId(1)\n                .paymentMode(PaymentMode.CASH)\n                .quantity(1)\n                .totalAmount(100)\n                .build();\n    }\n\n    @Test\n    @DisplayName(&quot;Place Order -- Success Scenario&quot;)\n    @WithMockUser(username = &quot;User&quot;, authorities = { &quot;ROLE_USER&quot; })\n    void test_When_placeOrder_DoPayment_Success() throws Exception {\n\n        OrderRequest orderRequest = getMockOrderRequest();\n        String jwt = getJWTTokenForRoleUser();\n\n        MvcResult mvcResult\n                = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/order/placeorder&quot;)\n                        .contentType(MediaType.APPLICATION_JSON_VALUE)\n                        .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt)\n                        .content(objectMapper.writeValueAsString(orderRequest)))\n                .andExpect(MockMvcResultMatchers.status().isOk())\n                .andReturn();\n\n        String orderId = mvcResult.getResponse().getContentAsString();\n\n        Optional&lt;Order&gt; order = orderRepository.findById(Long.valueOf(orderId));\n        assertTrue(order.isPresent());\n\n        Order o = order.get();\n        assertEquals(Long.parseLong(orderId), o.getId());\n        assertEquals(&quot;PLACED&quot;, o.getOrderStatus());\n        assertEquals(orderRequest.getTotalAmount(), o.getAmount());\n        assertEquals(orderRequest.getQuantity(), o.getQuantity());\n    }\n\n    @Test\n    @DisplayName(&quot;Place Order -- Failure Scenario&quot;)\n    @WithMockUser(username = &quot;Admin&quot;, authorities = { &quot;ROLE_ADMIN&quot; })\n    public void test_When_placeOrder_WithWrongAccess_thenThrow_403() throws Exception {\n\n\n        OrderRequest orderRequest = getMockOrderRequest();\n        String jwt = getJWTTokenForRoleAdmin();\n\n        MvcResult mvcResult\n                = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/order/placeorder&quot;)\n                        .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt)\n                        .contentType(MediaType.APPLICATION_JSON_VALUE)\n                        .content(objectMapper.writeValueAsString(orderRequest)))\n                .andExpect(MockMvcResultMatchers.status().isForbidden())\n                .andReturn();\n\n    }\n\n\n    @Test\n    //@WithMockUser(username = &quot;Admin&quot;, authorities = { &quot;ROLE_ADMIN&quot; })\n    public void test_WhenGetOrder_Success() throws Exception {\n\n        String jwt = getJWTTokenForRoleUser();\n\n        MvcResult mvcResult\n                = mockMvc.perform(MockMvcRequestBuilders.get(&quot;/order/1&quot;)\n                        .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt)\n                        .contentType(MediaType.APPLICATION_JSON_VALUE))\n                .andExpect(MockMvcResultMatchers.status().isOk())\n                .andReturn();\n\n        String actualResponse = mvcResult.getResponse().getContentAsString();\n        Order order = orderRepository.findById(1l).get();\n        String expectedResponse = getOrderResponse(order);\n\n        assertEquals(expectedResponse,actualResponse);\n    }\n\n    @Test\n    //@WithMockUser(username = &quot;Admin&quot;, authorities = { &quot;ROLE_ADMIN&quot; })\n    public void testWhen_GetOrder_Order_Not_Found() throws Exception {\n\n        String jwt = getJWTTokenForRoleAdmin();\n\n        MvcResult mvcResult\n                = mockMvc.perform(MockMvcRequestBuilders.get(&quot;/order/4&quot;)\n                        .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt)\n                        .contentType(MediaType.APPLICATION_JSON_VALUE))\n                .andExpect(MockMvcResultMatchers.status().isNotFound())\n                .andReturn();\n    }\n\n    private String getOrderResponse(Order order) throws IOException {\n        OrderResponse.PaymentDetails paymentDetails\n                = objectMapper.readValue(\n                copyToString(\n                        OrderControllerTest.class.getClassLoader()\n                                .getResourceAsStream(&quot;mock/GetPayment.json&quot;\n                                ),\n                        defaultCharset()\n                ), OrderResponse.PaymentDetails.class\n        );\n        paymentDetails.setPaymentStatus(&quot;SUCCESS&quot;);\n\n        OrderResponse.ProductDetails productDetails\n                = objectMapper.readValue(\n                copyToString(\n                        OrderControllerTest.class.getClassLoader()\n                                .getResourceAsStream(&quot;mock/GetProduct.json&quot;),\n                        defaultCharset()\n                ), OrderResponse.ProductDetails.class\n        );\n\n        OrderResponse orderResponse\n                = OrderResponse.builder()\n                .paymentDetails(paymentDetails)\n                .productDetails(productDetails)\n                .orderStatus(order.getOrderStatus())\n                .orderDate(order.getOrderDate())\n                .amount(order.getAmount())\n                .orderId(order.getId())\n                .build();\n        return objectMapper.writeValueAsString(orderResponse);\n    }\n\n    private String getJWTTokenForRoleUser(){\n\n        var loginRequest = new LoginRequest(&quot;User1&quot;,&quot;user1&quot;);\n\n        String jwt = jwtUtils.generateJwtToken(loginRequest.getUsername());\n\n        return jwt;\n    }\n\n    private String getJWTTokenForRoleAdmin(){\n\n        var loginRequest = new LoginRequest(&quot;Admin&quot;,&quot;admin&quot;);\n\n        String jwt = jwtUtils.generateJwtToken(loginRequest.getUsername());\n\n        return jwt;\n    }\n\n    @Data\n    @AllArgsConstructor\n    @NoArgsConstructor\n    public class LoginRequest {\n\n        private String username;\n        private String password;\n\n    }\n\n}\n</code></pre>\n<p>Here is the repo : <a href=\"https://github.com/Rapter1990/microservicecoursedailybuffer\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Here are the screenshots : <a href=\"https://drive.google.com/drive/folders/1BCMSj9STszd-GaHWJZE4a0IuLpUcXBxj?usp=sharing\" rel=\"nofollow noreferrer\">Link</a></p>\n<p><strong>To run the app,</strong></p>\n<p>1 ) Run Service Registery (Eureka Server)</p>\n<p>2 ) Run config server</p>\n<p>3 ) Run zipkin and redis through these commands shown below on docker</p>\n<pre><code>  docker run -d -p 9411:9411 openzipkin/zipkin\n  docker run -d --name redis -p 6379:6379 redis\n</code></pre>\n<p>4 ) Run api gateway</p>\n<p>5 ) Run other services</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23771513,"reputation":330,"user_id":17785521,"display_name":"Mahadev K"},"score":0,"creation_date":1657087615,"post_id":72878610,"comment_id":128722835,"body_markdown":"You cannot define variable two times. Also you are missing a semicolon I believe.","body":"You cannot define variable two times. Also you are missing a semicolon I believe."}],"answers":[{"tags":[],"owner":{"account_id":13832344,"reputation":1457,"user_id":9984846,"display_name":"Christian"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1657087838,"creation_date":1657087838,"answer_id":72878655,"question_id":72878610,"body_markdown":"https://stackoverflow.com/a/288479\r\n\r\n-&gt; It seems that in some old C-Standards you had to declare all variables in the beginning of a method. So I think they are just adhering to this when teaching it like this, but nowadays there is no real reason for this.","title":"Is there a reason to create the string variable before input?","body":"<p><a href=\"https://stackoverflow.com/a/288479\">https://stackoverflow.com/a/288479</a></p>\n<p>-&gt; It seems that in some old C-Standards you had to declare all variables in the beginning of a method. So I think they are just adhering to this when teaching it like this, but nowadays there is no real reason for this.</p>\n"},{"tags":[],"owner":{"account_id":347665,"reputation":4574,"user_id":681929,"accept_rate":58,"display_name":"nobalG"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1669641837,"creation_date":1657087846,"answer_id":72878657,"question_id":72878610,"body_markdown":"Your correct extended version should be \r\n\r\n    Scanner scan = new Scanner(System.in);\r\n    String name;\r\n    System.out.println(&quot;What is your  name?&quot;);\r\n    name = scan.nextLine(); // no need of String keyword here\r\n    System.out.println(name);\r\n\r\nAnd why someone would prefer it?\r\n\r\nConsider a method definition, May be something like below,\r\n\r\n    public AccountDetails getDetails(Person person){\r\n       Address address;\r\n       AccountInfo accountInfo;\r\n       address = person.getAddresses();\r\n       accountInfo = getDetailsOfAccount();\r\n    \r\n    .......many more lines\r\n       return accountDetails;\r\n    }\r\n\r\nSo from the above code, declaring all the variables at the top of the method with proper naming conventions is just helping you out upfront like a sign barrier on the road ahead, that what the method is dealing with.\r\n\r\nOther than that, you can follow any version of the code, both are equally same.","title":"Is there a reason to create the string variable before input?","body":"<p>Your correct extended version should be</p>\n<pre><code>Scanner scan = new Scanner(System.in);\nString name;\nSystem.out.println(&quot;What is your  name?&quot;);\nname = scan.nextLine(); // no need of String keyword here\nSystem.out.println(name);\n</code></pre>\n<p>And why someone would prefer it?</p>\n<p>Consider a method definition, May be something like below,</p>\n<pre><code>public AccountDetails getDetails(Person person){\n   Address address;\n   AccountInfo accountInfo;\n   address = person.getAddresses();\n   accountInfo = getDetailsOfAccount();\n\n.......many more lines\n   return accountDetails;\n}\n</code></pre>\n<p>So from the above code, declaring all the variables at the top of the method with proper naming conventions is just helping you out upfront like a sign barrier on the road ahead, that what the method is dealing with.</p>\n<p>Other than that, you can follow any version of the code, both are equally same.</p>\n"},{"tags":[],"owner":{"account_id":4264716,"reputation":1243,"user_id":3488090,"accept_rate":75,"display_name":"Lalit Mehra"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657088704,"creation_date":1657088704,"answer_id":72878772,"question_id":72878610,"body_markdown":"In your case its one and the same thing. It is more useful though when used in the context of variable scoping.\r\n\r\nCreating a reference variable before initializing it with a value is the preferred way while using code blocks, so that the reference can be used outside of the block as well. Check out this example:\r\n\r\n    int sum = 0;\r\n    for(int idx=0; idx&lt;5; idx++) {\r\n       sum+=idx;\r\n    }\r\n    return sum;\r\n\r\n\r\n","title":"Is there a reason to create the string variable before input?","body":"<p>In your case its one and the same thing. It is more useful though when used in the context of variable scoping.</p>\n<p>Creating a reference variable before initializing it with a value is the preferred way while using code blocks, so that the reference can be used outside of the block as well. Check out this example:</p>\n<pre><code>int sum = 0;\nfor(int idx=0; idx&lt;5; idx++) {\n   sum+=idx;\n}\nreturn sum;\n</code></pre>\n"}],"owner":{"account_id":18898378,"reputation":79,"user_id":13786988,"display_name":"pasta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":72878772,"answer_count":3,"score":6,"last_activity_date":1669641837,"creation_date":1657087490,"question_id":72878610,"body_markdown":"Newly learning java and for input, we did\r\n```\r\nScanner scan = new Scanner(System.in);\r\nString name;\r\nSystem.out.println(&quot;What is your  name?&quot;);\r\nname = scan.nextLine();\r\nSystem.out.println(name);\r\n```\r\nHowever, I found that\r\n```\r\nScanner scan = new Scanner(System.in);\r\nString name = scan.nextLine();\r\nSystem.out.println(name);\r\n````\r\nworks the same. Is this being taught to me in the bigger form because it&#39;s more generally used/is clearer or am I just being taught the bigger form since I&#39;m a beginner to avoid too much confusion? (Basically, are there any reasons why people would use the expanded version rather than the condensed version?)","title":"Is there a reason to create the string variable before input?","body":"<p>Newly learning java and for input, we did</p>\n<pre><code>Scanner scan = new Scanner(System.in);\nString name;\nSystem.out.println(&quot;What is your  name?&quot;);\nname = scan.nextLine();\nSystem.out.println(name);\n</code></pre>\n<p>However, I found that</p>\n<pre><code>Scanner scan = new Scanner(System.in);\nString name = scan.nextLine();\nSystem.out.println(name);\n</code></pre>\n<p>works the same. Is this being taught to me in the bigger form because it's more generally used/is clearer or am I just being taught the bigger form since I'm a beginner to avoid too much confusion? (Basically, are there any reasons why people would use the expanded version rather than the condensed version?)</p>\n"},{"tags":["java","return","charat"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1669641563,"post_id":74601159,"comment_id":131681414,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551) Instead, post your code here, nicely formatted. Aside from that, `=` is the assignment operator, `==` is used for comparing equality. So either write `if (v1 == true)` or simply `if (v1)`.","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a> Instead, post your code here, nicely formatted. Aside from that, <code>=</code> is the assignment operator, <code>==</code> is used for comparing equality. So either write <code>if (v1 == true)</code> or simply <code>if (v1)</code>."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1669641667,"post_id":74601159,"comment_id":131681448,"body_markdown":"You assign values in your statements via `=` instead of comparing via `==`. But using a comparison operator for booleans ins not needed anyway. You can just do `if(someBoolean)` directly instead of `if(someBoolean == true)`.","body":"You assign values in your statements via <code>=</code> instead of comparing via <code>==</code>. But using a comparison operator for booleans ins not needed anyway. You can just do <code>if(someBoolean)</code> directly instead of <code>if(someBoolean == true)</code>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1669641944,"post_id":74601159,"comment_id":131681532,"body_markdown":"actually no `if` is needed: `return Character.isDigit(a) &amp;&amp; Character.isDigit(b) &amp;&amp; ...`","body":"actually no <code>if</code> is needed: <code>return Character.isDigit(a) &amp;&amp; Character.isDigit(b) &amp;&amp; ...</code>"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669641582,"creation_date":1669641582,"answer_id":74601198,"question_id":74601159,"body_markdown":"Just use `String#matches()` here with a regular expression:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public boolean validate(String input) {\r\n        return input.matches(&quot;[0-9]{2}[A-Za-z]&quot;);\r\n    }","title":"Trying to verify that a three character sting is in a specified format","body":"<p>Just use <code>String#matches()</code> here with a regular expression:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean validate(String input) {\n    return input.matches(&quot;[0-9]{2}[A-Za-z]&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":27073444,"reputation":1,"user_id":20623766,"display_name":"ReaperLPN"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669641582,"creation_date":1669641399,"question_id":74601159,"body_markdown":"[My result after passing the value &quot;A2A&quot; - which should return false](https://i.stack.imgur.com/UXqIF.png)\r\nI want to check that a three character string matches the format 12A. The first two must be a digit and the 3rd must be a letter. \r\nThe string &quot;A2A&quot; must therefore return false. \r\nWhat is happening here and how stupid am I being?\r\n\r\nI&#39;ve tried various ways of doing this and nothing seems to work. ","title":"Trying to verify that a three character sting is in a specified format","body":"<p><a href=\"https://i.stack.imgur.com/UXqIF.png\" rel=\"nofollow noreferrer\">My result after passing the value &quot;A2A&quot; - which should return false</a>\nI want to check that a three character string matches the format 12A. The first two must be a digit and the 3rd must be a letter.\nThe string &quot;A2A&quot; must therefore return false.\nWhat is happening here and how stupid am I being?</p>\n<p>I've tried various ways of doing this and nothing seems to work.</p>\n"},{"tags":["java","spring","spring-boot","opencsv"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669291849,"post_id":74560439,"comment_id":131614270,"body_markdown":"Is  zwnbsp your delimiter? If not, your file is corrupt","body":"Is  zwnbsp your delimiter? If not, your file is corrupt"},{"owner":{"account_id":3687151,"reputation":131,"user_id":3070677,"display_name":"G10"},"score":0,"creation_date":1669298156,"post_id":74560439,"comment_id":131616414,"body_markdown":"No. It is coming in header first header as [ZWNBPS]point. which is creating issue with @CsvBindByName and parse unable to identity that header and setting column value as null for all actual records in file while converting to bean","body":"No. It is coming in header first header as [ZWNBPS]point. which is creating issue with @CsvBindByName and parse unable to identity that header and setting column value as null for all actual records in file while converting to bean"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669298233,"post_id":74560439,"comment_id":131616428,"body_markdown":"Yes, that&#39;s corrupt. What *is* your delimiter btw?","body":"Yes, that&#39;s corrupt. What <i>is</i> your delimiter btw?"},{"owner":{"account_id":3687151,"reputation":131,"user_id":3070677,"display_name":"G10"},"score":0,"creation_date":1669298337,"post_id":74560439,"comment_id":131616453,"body_markdown":"default one. Comma","body":"default one. Comma"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669305967,"post_id":74560439,"comment_id":131619100,"body_markdown":"I can confirm that prepending zwnbsp to the first column name has no effect on successful parsing. What is your OS?","body":"I can confirm that prepending zwnbsp to the first column name has no effect on successful parsing. What is your OS?"},{"owner":{"account_id":3687151,"reputation":131,"user_id":3070677,"display_name":"G10"},"score":0,"creation_date":1669366226,"post_id":74560439,"comment_id":131629982,"body_markdown":"local setup on Windows and dev setup on Linux","body":"local setup on Windows and dev setup on Linux"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669367496,"post_id":74560439,"comment_id":131630371,"body_markdown":"The problem occurs in the dev setup?","body":"The problem occurs in the dev setup?"},{"owner":{"account_id":3687151,"reputation":131,"user_id":3070677,"display_name":"G10"},"score":1,"creation_date":1669383998,"post_id":74560439,"comment_id":131635680,"body_markdown":"Problem is in both environment.\n\nversion I am using : opencsv5.6.\n\n@CsvBindByName is considering as different column.","body":"Problem is in both environment.  version I am using : opencsv5.6.  @CsvBindByName is considering as different column."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669384441,"post_id":74560439,"comment_id":131635829,"body_markdown":"I&#39;m using 5.5 and it&#39;s not a problem there","body":"I&#39;m using 5.5 and it&#39;s not a problem there"},{"owner":{"account_id":3687151,"reputation":131,"user_id":3070677,"display_name":"G10"},"score":0,"creation_date":1669396694,"post_id":74560439,"comment_id":131639544,"body_markdown":"can you please share your pseudo code? Pojo(Bean), main method and file you are using","body":"can you please share your pseudo code? Pojo(Bean), main method and file you are using"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669399958,"post_id":74560439,"comment_id":131640273,"body_markdown":"Before I do, does the problem occur on the Linux box?","body":"Before I do, does the problem occur on the Linux box?"},{"owner":{"account_id":3687151,"reputation":131,"user_id":3070677,"display_name":"G10"},"score":0,"creation_date":1669439146,"post_id":74560439,"comment_id":131645894,"body_markdown":"problem is on Windows (local machine to debug) and Linux (logs from Splunk) both","body":"problem is on Windows (local machine to debug) and Linux (logs from Splunk) both"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669453982,"post_id":74560439,"comment_id":131647449,"body_markdown":"Do you have xxd on the Linux box? `which xxd`","body":"Do you have xxd on the Linux box? <code>which xxd</code>"},{"owner":{"account_id":3395647,"reputation":8928,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"score":0,"creation_date":1669572674,"post_id":74560439,"comment_id":131666733,"body_markdown":"I reproduced the problem with MacOS. Platform/OS seems irrelevant.","body":"I reproduced the problem with MacOS. Platform/OS seems irrelevant."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669573101,"post_id":74560439,"comment_id":131666843,"body_markdown":"Sorry folks - I made an error. I had NO-BREAK SPACE as opposed to ZERO WIDTH NO-BREAK SPACE","body":"Sorry folks - I made an error. I had NO-BREAK SPACE as opposed to ZERO WIDTH NO-BREAK SPACE"}],"answers":[{"comments":[{"owner":{"account_id":3687151,"reputation":131,"user_id":3070677,"display_name":"G10"},"score":0,"creation_date":1669605199,"post_id":74592552,"comment_id":131672278,"body_markdown":"I am not getting ZWNBSP in every file.","body":"I am not getting ZWNBSP in every file."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669636525,"post_id":74592552,"comment_id":131679758,"body_markdown":"This is most likely to be a BOM of course, so if that *is* the case, the correct solution would be to read in such a way that acknowledges and passes the BOM","body":"This is most likely to be a BOM of course, so if that <i>is</i> the case, the correct solution would be to read in such a way that acknowledges and passes the BOM"}],"tags":[],"owner":{"account_id":3395647,"reputation":8928,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669572587,"creation_date":1669572587,"answer_id":74592552,"question_id":74560439,"body_markdown":"Not a real answer, *yet* a potential workaround for you, in case all CSV files to be processed share the extra [zwnbsp][1] character at the very beginning of the input (file).\r\n\r\nIn `Pojo` switch to:\r\n\r\n    @CsvBindByName(column=&quot;\\uFEFFpoint&quot;)\r\n    Integer point;\r\n\r\nGiven input data\r\n\r\n- `var input = &quot;\\uFEFFpoint,name\\n1,A&quot;;`\r\n\r\nAnd\r\n\r\n    CSVReader csvReader = new CSVReader(new StringReader(input));\r\n    List&lt;Pojo&gt; beans = new CsvToBeanBuilder&lt;Pojo&gt;(csvReader)\r\n            .withType(Pojo.class)\r\n            .withIgnoreLeadingWhiteSpace(true)\r\n            .build()\r\n            .parse();\r\n    System.out.println(beans);\r\n\r\nThis will produce a valid `Pojo[point = 1, name = A]`. \r\nI tested the above scenario with OpenCSV version 5.7.1, with Java 17 under MacOS.\r\n\r\nWithout the above adjustment to the mapping annotation (&quot;point&quot; -&gt;  &quot;\\uFEFFpoint&quot;), `CSVReader` will interpret the extra UTF-8 symbol `\\uFEFF` as an extra character for the mapping to the field `point` which will produce a mismatch finally resulting in a non-populated field value.\r\n\r\nHowever, it seems to be incorrect/invalid CSV input, as others already pointed out in the comments below your question. OpenCSV does not seem to have a flag or switch for [`HeaderColumnNameMappingStrategy`][2] to circumvent such cases as reported by you.\r\n\r\n\r\n  [1]: https://www.fileformat.info/info/unicode/char/feff/index.htm\r\n  [2]: https://opencsv.sourceforge.net/apidocs/com/opencsv/bean/HeaderNameBaseMappingStrategy.html","title":"How to resolve CsvToBean header issue with zero-width no-break space character?","body":"<p>Not a real answer, <em>yet</em> a potential workaround for you, in case all CSV files to be processed share the extra <a href=\"https://www.fileformat.info/info/unicode/char/feff/index.htm\" rel=\"nofollow noreferrer\">zwnbsp</a> character at the very beginning of the input (file).</p>\n<p>In <code>Pojo</code> switch to:</p>\n<pre><code>@CsvBindByName(column=&quot;\\uFEFFpoint&quot;)\nInteger point;\n</code></pre>\n<p>Given input data</p>\n<ul>\n<li><code>var input = &quot;\\uFEFFpoint,name\\n1,A&quot;;</code></li>\n</ul>\n<p>And</p>\n<pre><code>CSVReader csvReader = new CSVReader(new StringReader(input));\nList&lt;Pojo&gt; beans = new CsvToBeanBuilder&lt;Pojo&gt;(csvReader)\n        .withType(Pojo.class)\n        .withIgnoreLeadingWhiteSpace(true)\n        .build()\n        .parse();\nSystem.out.println(beans);\n</code></pre>\n<p>This will produce a valid <code>Pojo[point = 1, name = A]</code>.\nI tested the above scenario with OpenCSV version 5.7.1, with Java 17 under MacOS.</p>\n<p>Without the above adjustment to the mapping annotation (&quot;point&quot; -&gt;  &quot;\\uFEFFpoint&quot;), <code>CSVReader</code> will interpret the extra UTF-8 symbol <code>\\uFEFF</code> as an extra character for the mapping to the field <code>point</code> which will produce a mismatch finally resulting in a non-populated field value.</p>\n<p>However, it seems to be incorrect/invalid CSV input, as others already pointed out in the comments below your question. OpenCSV does not seem to have a flag or switch for <a href=\"https://opencsv.sourceforge.net/apidocs/com/opencsv/bean/HeaderNameBaseMappingStrategy.html\" rel=\"nofollow noreferrer\"><code>HeaderColumnNameMappingStrategy</code></a> to circumvent such cases as reported by you.</p>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669641287,"creation_date":1669641287,"answer_id":74601141,"question_id":74560439,"body_markdown":"Apologies for misleading you and for some strange reason, missing the BOM problem. This is not extensively tested, but works:\r\n\r\n    package com.technojeeves.opencsvbeans;\r\n    \r\n    import com.opencsv.bean.CsvToBeanBuilder;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.util.Objects;\r\n    import java.util.List;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.Reader;\r\n    import java.io.FilterReader;\r\n    \r\n    public class App {\r\n        public static void main(String[] args) {\r\n            try {\r\n                System.out.println(new App().read(Path.of(args[0])));\r\n            } catch (Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public List&lt;Pojo&gt; read(Path path) {\r\n            try (Reader reader = new BomFilterReader(Files.newBufferedReader(path))) {\r\n            //try (Reader reader = Files.newBufferedReader(path)) {\r\n                return new CsvToBeanBuilder(reader).withType(Pojo.class).build().parse();\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(&quot;Cannot read file: &quot; + path.toFile().getName() + e);\r\n            }\r\n        }\r\n    \r\n    }\r\n    \r\n    class BomFilterReader extends FilterReader {\r\n        public static final char BOM = &#39;\\uFEFF&#39;;\r\n        private boolean haveReadBOM = false;\r\n        \r\n        public BomFilterReader(Reader in) {\r\n            super(in);\r\n        }\r\n    \r\n        @Override\r\n        public int read() throws IOException {\r\n            int c = super.read();\r\n            if (!haveReadBOM &amp;&amp; ((char)c == BOM)) {\r\n                return super.read();\r\n            }\r\n            \r\n            haveReadBOM = true;\r\n            return c;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public int read(char[] a) throws IOException {\r\n            return read(a, 0, a.length);\r\n        }\r\n    \r\n        @Override\r\n        public int read(char a[], int off, int len) throws IOException {\r\n            Objects.checkFromIndexSize(off, len, a.length);\r\n            if (len == 0) {\r\n                return 0;\r\n            }\r\n    \r\n            int c = read();\r\n            if (c == -1) {\r\n                return -1;\r\n            }\r\n            a[off] = (char) c;\r\n    \r\n            int i = 1;\r\n            try {\r\n                for (; i &lt; len; i++) {\r\n                    c = read();\r\n                    if (c == -1) {\r\n                        break;\r\n                    }\r\n                    a[off + i] = (char) c;\r\n                }\r\n            } catch (IOException ee) {\r\n            }\r\n            return i;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"How to resolve CsvToBean header issue with zero-width no-break space character?","body":"<p>Apologies for misleading you and for some strange reason, missing the BOM problem. This is not extensively tested, but works:</p>\n<pre><code>package com.technojeeves.opencsvbeans;\n\nimport com.opencsv.bean.CsvToBeanBuilder;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.Objects;\nimport java.util.List;\n\nimport java.io.IOException;\nimport java.io.Reader;\nimport java.io.FilterReader;\n\npublic class App {\n    public static void main(String[] args) {\n        try {\n            System.out.println(new App().read(Path.of(args[0])));\n        } catch (Throwable t) {\n            t.printStackTrace();\n        }\n    }\n\n    public List&lt;Pojo&gt; read(Path path) {\n        try (Reader reader = new BomFilterReader(Files.newBufferedReader(path))) {\n        //try (Reader reader = Files.newBufferedReader(path)) {\n            return new CsvToBeanBuilder(reader).withType(Pojo.class).build().parse();\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;Cannot read file: &quot; + path.toFile().getName() + e);\n        }\n    }\n\n}\n\nclass BomFilterReader extends FilterReader {\n    public static final char BOM = '\\uFEFF';\n    private boolean haveReadBOM = false;\n    \n    public BomFilterReader(Reader in) {\n        super(in);\n    }\n\n    @Override\n    public int read() throws IOException {\n        int c = super.read();\n        if (!haveReadBOM &amp;&amp; ((char)c == BOM)) {\n            return super.read();\n        }\n        \n        haveReadBOM = true;\n        return c;\n    }\n\n\n    @Override\n    public int read(char[] a) throws IOException {\n        return read(a, 0, a.length);\n    }\n\n    @Override\n    public int read(char a[], int off, int len) throws IOException {\n        Objects.checkFromIndexSize(off, len, a.length);\n        if (len == 0) {\n            return 0;\n        }\n\n        int c = read();\n        if (c == -1) {\n            return -1;\n        }\n        a[off] = (char) c;\n\n        int i = 1;\n        try {\n            for (; i &lt; len; i++) {\n                c = read();\n                if (c == -1) {\n                    break;\n                }\n                a[off + i] = (char) c;\n            }\n        } catch (IOException ee) {\n        }\n        return i;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3687151,"reputation":131,"user_id":3070677,"display_name":"G10"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669641287,"creation_date":1669291133,"question_id":74560439,"body_markdown":"I have this code snippet that uses OpenCSV:\r\n\r\n    class Pojo {\r\n    \r\n        @CsvBindByName(column=&quot;point&quot;)\r\n        Integer point;\r\n    \r\n        @CsvBindByName(column=&quot;name&quot;)\r\n        String name;\r\n    \r\n    }\r\n    \r\nAnd: \r\n\r\n    class Main {\r\n    \r\n       readFile(){\r\n    \r\n         CsvReader reader = new Csv(.....);\r\n        \r\n         CsvToBean&lt;Pojo&gt; bean = new CsvToBeanBuilder&lt;Pojo&gt;(reader)...;\r\n         \r\n         List&lt;Pojo&gt; list = bean.parse();\r\n         \r\n       }\r\n    \r\n    }\r\n\r\n\r\nWhy is it - while parsing  - not considering header coming with *[zwnbsp][1]* and that column value I am getting as `null`?\r\n\r\nExample input data:\r\n\r\n*ZWNBSPpoint*\r\n\r\n\r\n  [1]: https://www.fileformat.info/info/unicode/char/feff/index.htm","title":"How to resolve CsvToBean header issue with zero-width no-break space character?","body":"<p>I have this code snippet that uses OpenCSV:</p>\n<pre><code>class Pojo {\n\n    @CsvBindByName(column=&quot;point&quot;)\n    Integer point;\n\n    @CsvBindByName(column=&quot;name&quot;)\n    String name;\n\n}\n</code></pre>\n<p>And:</p>\n<pre><code>class Main {\n\n   readFile(){\n\n     CsvReader reader = new Csv(.....);\n    \n     CsvToBean&lt;Pojo&gt; bean = new CsvToBeanBuilder&lt;Pojo&gt;(reader)...;\n     \n     List&lt;Pojo&gt; list = bean.parse();\n     \n   }\n\n}\n</code></pre>\n<p>Why is it - while parsing  - not considering header coming with <em><a href=\"https://www.fileformat.info/info/unicode/char/feff/index.htm\" rel=\"nofollow noreferrer\">zwnbsp</a></em> and that column value I am getting as <code>null</code>?</p>\n<p>Example input data:</p>\n<p><em>ZWNBSPpoint</em></p>\n"},{"tags":["java","file","priority-queue"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1669557716,"post_id":74590624,"comment_id":131663432,"body_markdown":"*i want to print 5 max values* &quot;Max&quot; by what criteria?","body":"<i>i want to print 5 max values</i> &quot;Max&quot; by what criteria?"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1669557928,"post_id":74590624,"comment_id":131663485,"body_markdown":"You have created a `Queue` of `String`s.  Although I guess you could store full lines from the file in there, a more idiomatic approach would involve defining a class representing the structure of the lines, with three fields of appropriate types.  You would then use a `Queue` of objects of that type.","body":"You have created a <code>Queue</code> of <code>String</code>s.  Although I guess you could store full lines from the file in there, a more idiomatic approach would involve defining a class representing the structure of the lines, with three fields of appropriate types.  You would then use a <code>Queue</code> of objects of that type."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669558130,"post_id":74590624,"comment_id":131663523,"body_markdown":"... plus, your objects ought to implement `Comparable`","body":"... plus, your objects ought to implement <code>Comparable</code>"},{"owner":{"account_id":17141277,"reputation":134,"user_id":12405221,"display_name":"cha_lar"},"score":0,"creation_date":1669558188,"post_id":74590624,"comment_id":131663536,"body_markdown":"This post may help you https://stackoverflow.com/a/12917598/12405221","body":"This post may help you <a href=\"https://stackoverflow.com/a/12917598/12405221\">stackoverflow.com/a/12917598/12405221</a>"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669559997,"creation_date":1669559997,"answer_id":74590918,"question_id":74590624,"body_markdown":"Once you have your data class (let&#39;s call it `Order`) then you can do:\r\n\r\n        Queue&lt;Order&gt; orders = Files.lines(Path.of(args[0]))\r\n            .map(line -&gt; line.split(&quot; +&quot;))\r\n            .map(Order::new)\r\n            .collect(Collectors.toCollection(PriorityQueue::new));\r\n\r\nIf you&#39;ve made your class `Comparable` then all should be well.","title":"adding to priority queue from a text file","body":"<p>Once you have your data class (let's call it <code>Order</code>) then you can do:</p>\n<pre><code>    Queue&lt;Order&gt; orders = Files.lines(Path.of(args[0]))\n        .map(line -&gt; line.split(&quot; +&quot;))\n        .map(Order::new)\n        .collect(Collectors.toCollection(PriorityQueue::new));\n</code></pre>\n<p>If you've made your class <code>Comparable</code> then all should be well.</p>\n"},{"comments":[{"owner":{"account_id":12670153,"reputation":13,"user_id":9207957,"display_name":"TheMurteza"},"score":0,"creation_date":1669564415,"post_id":74591335,"comment_id":131664891,"body_markdown":"its working and 5 max values but when i want to print the name witch belongs to the value its printing wrong name i did this \nwhile (!queue.isEmpty()){\n            System.out.println(order + &quot;.Number: &quot; + queue.poll().getValue() + &quot;name :&quot; + queue.poll().name);\n            order++;\n        }","body":"its working and 5 max values but when i want to print the name witch belongs to the value its printing wrong name i did this  while (!queue.isEmpty()){             System.out.println(order + &quot;.Number: &quot; + queue.poll().getValue() + &quot;name :&quot; + queue.poll().name);             order++;         }"},{"owner":{"account_id":1482070,"reputation":145,"user_id":1391213,"display_name":"Knowledge_seeker"},"score":0,"creation_date":1669641197,"post_id":74591335,"comment_id":131681290,"body_markdown":"@TheMurteza : I have updated the solution to print the name . You are calling queue.poll() twice , that is the issue .If you are happy with solution please accept it as answer.","body":"@TheMurteza : I have updated the solution to print the name . You are calling queue.poll() twice , that is the issue .If you are happy with solution please accept it as answer."}],"tags":[],"owner":{"account_id":1482070,"reputation":145,"user_id":1391213,"display_name":"Knowledge_seeker"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669641095,"creation_date":1669563234,"answer_id":74591335,"question_id":74590624,"body_markdown":"Assuming you want compare by &quot;value&quot; i.e last value in input record e.g. 3747 from given input record &quot;tloxJcdiMqMWyDW 1976-11-24 3747&quot;.\r\n\r\n```\r\nQueue&lt;MyData&gt; queue = new PriorityQueue&lt;MyData&gt;(new Comparator&lt;MyData&gt;()\r\n        {\r\n            @Override\r\n            public int compare(MyData o1, MyData o2)\r\n            {\r\n                return o2.getValue() - o1.getValue();\r\n            }\r\n        });\r\n        String file = &quot;file&quot;;\r\n        String line;\r\n        int order = 1;\r\n        DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n                .appendOptional(DateTimeFormatter.ofPattern(&quot;yyyy-M-d&quot;))\r\n                .toFormatter();\r\n\r\n        List&lt;String&gt; lines = new ArrayList&lt;&gt;();\r\n        try{\r\n            FileReader fr = new FileReader(file);\r\n            BufferedReader br = new BufferedReader(fr);\r\n            while ((line = br.readLine()) != null)   {\r\n                lines.add(line);\r\n                String data[] = line.split(&quot;\\\\s&quot;);\r\n                MyData myData = new MyData(data[0],LocalDate.parse(data[1],formatter),Integer.parseInt(data[2]));\r\n                queue.offer(myData);\r\n            }\r\n            br.close();\r\n        } catch (IOException e){\r\n            System.out.println(&quot;File not found&quot;);\r\n        }\r\n\r\n        while (!queue.isEmpty()){\r\n           MyData result = queue.poll();\r\n            System.out.println(order + &quot;.Number: &quot; + result.getValue() + &quot; , Name: &quot; + result.getName());\r\n            order++;\r\n        }\r\n```\r\nI created a class with three fields from input file assuming these are separated by space \r\n\r\n```\r\nimport java.time.LocalDate;\r\nimport java.util.Objects;\r\n\r\npublic class MyData\r\n{\r\n    private String name;\r\n    private LocalDate date;\r\n    private int value;\r\n\r\n    public MyData(String name, LocalDate date, int value)\r\n    {\r\n        this.name = name;\r\n        this.date = date;\r\n        this.value = value;\r\n    }\r\n\r\n    public int getValue()\r\n    {\r\n        return value;\r\n    }\r\n   \r\n    public String getName()\r\n    {\r\n        return name;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o)\r\n    {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        MyData myData = (MyData) o;\r\n        return value == myData.value &amp;&amp; Objects.equals(name, myData.name) &amp;&amp; Objects.equals(date, myData.date);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode()\r\n    {\r\n        return Objects.hash(name, date, value);\r\n    }\r\n}\r\n```\r\nIf you want only first 5 values then you can add if condition in below while loop and break once order reaches 5.\r\n\r\n```\r\nwhile (!queue.isEmpty()){\r\n            System.out.println(order + &quot;.Number: &quot; + queue.poll().getValue());\r\n            order++;\r\n        }\r\n```","title":"adding to priority queue from a text file","body":"<p>Assuming you want compare by &quot;value&quot; i.e last value in input record e.g. 3747 from given input record &quot;tloxJcdiMqMWyDW 1976-11-24 3747&quot;.</p>\n<pre><code>Queue&lt;MyData&gt; queue = new PriorityQueue&lt;MyData&gt;(new Comparator&lt;MyData&gt;()\n        {\n            @Override\n            public int compare(MyData o1, MyData o2)\n            {\n                return o2.getValue() - o1.getValue();\n            }\n        });\n        String file = &quot;file&quot;;\n        String line;\n        int order = 1;\n        DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n                .appendOptional(DateTimeFormatter.ofPattern(&quot;yyyy-M-d&quot;))\n                .toFormatter();\n\n        List&lt;String&gt; lines = new ArrayList&lt;&gt;();\n        try{\n            FileReader fr = new FileReader(file);\n            BufferedReader br = new BufferedReader(fr);\n            while ((line = br.readLine()) != null)   {\n                lines.add(line);\n                String data[] = line.split(&quot;\\\\s&quot;);\n                MyData myData = new MyData(data[0],LocalDate.parse(data[1],formatter),Integer.parseInt(data[2]));\n                queue.offer(myData);\n            }\n            br.close();\n        } catch (IOException e){\n            System.out.println(&quot;File not found&quot;);\n        }\n\n        while (!queue.isEmpty()){\n           MyData result = queue.poll();\n            System.out.println(order + &quot;.Number: &quot; + result.getValue() + &quot; , Name: &quot; + result.getName());\n            order++;\n        }\n</code></pre>\n<p>I created a class with three fields from input file assuming these are separated by space</p>\n<pre><code>import java.time.LocalDate;\nimport java.util.Objects;\n\npublic class MyData\n{\n    private String name;\n    private LocalDate date;\n    private int value;\n\n    public MyData(String name, LocalDate date, int value)\n    {\n        this.name = name;\n        this.date = date;\n        this.value = value;\n    }\n\n    public int getValue()\n    {\n        return value;\n    }\n   \n    public String getName()\n    {\n        return name;\n    }\n\n    @Override\n    public boolean equals(Object o)\n    {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        MyData myData = (MyData) o;\n        return value == myData.value &amp;&amp; Objects.equals(name, myData.name) &amp;&amp; Objects.equals(date, myData.date);\n    }\n\n    @Override\n    public int hashCode()\n    {\n        return Objects.hash(name, date, value);\n    }\n}\n</code></pre>\n<p>If you want only first 5 values then you can add if condition in below while loop and break once order reaches 5.</p>\n<pre><code>while (!queue.isEmpty()){\n            System.out.println(order + &quot;.Number: &quot; + queue.poll().getValue());\n            order++;\n        }\n</code></pre>\n"}],"owner":{"account_id":12670153,"reputation":13,"user_id":9207957,"display_name":"TheMurteza"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669641095,"creation_date":1669557542,"question_id":74590624,"body_markdown":"i have a text file i want to add its data to priority queue and then print out 5 items with max value\r\neach line first has a name then a date then a value i want to print 5 max values with name and date\r\n\r\n\r\n\r\n\r\n\r\n```\r\nQueue&lt;String&gt; queue = new PriorityQueue&lt;String&gt;();\r\nString file = &quot;file&quot;;\r\nString line;\r\nint order = 1;\r\ntry{\r\n    FileReader fr = new FileReader(file);\r\n    BufferedReader br = new BufferedReader(fr);\r\n    while ((line = br.readLine()) != null)   {\r\n        queue.offer(line);\r\n    }\r\n    br.close();\r\n} catch (IOException e){\r\n    System.out.println(&quot;File not found&quot;);\r\n}\r\nwhile (!queue.isEmpty()){\r\n    System.out.println(order + &quot;.Number: &quot; + queue.poll());\r\n    order++;\r\n}\r\n\r\n```\r\n\r\n\r\ndata.txt :\r\n```\r\ntloxJcdiMqMWyDW 1976-11-24 3747\r\nKWuHczAFXRGCeTZ 2015-12-5 1740\r\nSyAckDyYyZhrsEK 1920-8-3 3164\r\npjKEnTTfcdoJwMy 2016-12-28 1941\r\nZsvJcYbmOFmdXfG 1923-10-10 8314\r\nqkqDyFhObQVpByH 1934-7-21 4907\r\nIRUMpmTSmJDVIJU 2012-12-26 376\r\nnOCCDAmTilqnukW 1968-5-3 5811\r\nuecbYlaCeaTSAsr 1937-4-1 9305\r\nAMdPXptNGayPPAM 1949-2-25 1130\r\nafTQNxogdxpQRpF 1912-11-18 5637\r\nhBUJpjBJgyShNqk 2011-12-9 4075\r\ndMGDWfIrPctuwBs 2005-3-15 8567\r\nUBELfqonZOmmEGf 1954-7-29 7875\r\nEuMbAKoKwYYERxy 1902-3-4 8291\r\nOXvvwLXJjsXrfVI 1927-4-29 4693\r\namHPTQXCqHkYtXW 1991-8-24 8778\r\ngfAcsQpChfukGlK 1971-7-14 4204\r\nWHguJUYeLBYoton 1987-11-24 9664\r\nZvMoXwJqLhBlWiG 2006-6-7 7893\r\n```\r\n\r\n\r\ni have tried some other ways to save data to PQ and still didnt get any result","title":"adding to priority queue from a text file","body":"<p>i have a text file i want to add its data to priority queue and then print out 5 items with max value\neach line first has a name then a date then a value i want to print 5 max values with name and date</p>\n<pre><code>Queue&lt;String&gt; queue = new PriorityQueue&lt;String&gt;();\nString file = &quot;file&quot;;\nString line;\nint order = 1;\ntry{\n    FileReader fr = new FileReader(file);\n    BufferedReader br = new BufferedReader(fr);\n    while ((line = br.readLine()) != null)   {\n        queue.offer(line);\n    }\n    br.close();\n} catch (IOException e){\n    System.out.println(&quot;File not found&quot;);\n}\nwhile (!queue.isEmpty()){\n    System.out.println(order + &quot;.Number: &quot; + queue.poll());\n    order++;\n}\n\n</code></pre>\n<p>data.txt :</p>\n<pre><code>tloxJcdiMqMWyDW 1976-11-24 3747\nKWuHczAFXRGCeTZ 2015-12-5 1740\nSyAckDyYyZhrsEK 1920-8-3 3164\npjKEnTTfcdoJwMy 2016-12-28 1941\nZsvJcYbmOFmdXfG 1923-10-10 8314\nqkqDyFhObQVpByH 1934-7-21 4907\nIRUMpmTSmJDVIJU 2012-12-26 376\nnOCCDAmTilqnukW 1968-5-3 5811\nuecbYlaCeaTSAsr 1937-4-1 9305\nAMdPXptNGayPPAM 1949-2-25 1130\nafTQNxogdxpQRpF 1912-11-18 5637\nhBUJpjBJgyShNqk 2011-12-9 4075\ndMGDWfIrPctuwBs 2005-3-15 8567\nUBELfqonZOmmEGf 1954-7-29 7875\nEuMbAKoKwYYERxy 1902-3-4 8291\nOXvvwLXJjsXrfVI 1927-4-29 4693\namHPTQXCqHkYtXW 1991-8-24 8778\ngfAcsQpChfukGlK 1971-7-14 4204\nWHguJUYeLBYoton 1987-11-24 9664\nZvMoXwJqLhBlWiG 2006-6-7 7893\n</code></pre>\n<p>i have tried some other ways to save data to PQ and still didnt get any result</p>\n"},{"tags":["java","string","function","substring","indexof"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1669638607,"post_id":74600539,"comment_id":131680399,"body_markdown":"&quot;I need to use only indexOf and substring&quot; why? Is this a homework exercise?","body":"&quot;I need to use only indexOf and substring&quot; why? Is this a homework exercise?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1669638915,"post_id":74600539,"comment_id":131680497,"body_markdown":"This should already work for the URL that you provided. In case there is no more slash after the host name, `endIndex` will be `-1`. Check for that case and adjust the parameters for `substring` accordingly.","body":"This should already work for the URL that you provided. In case there is no more slash after the host name, <code>endIndex</code> will be <code>-1</code>. Check for that case and adjust the parameters for <code>substring</code> accordingly."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1669638927,"post_id":74600539,"comment_id":131680501,"body_markdown":"Why reinvent the wheel? Java has classes for parsing URLs and extracting the components already. Or is this a homework task?","body":"Why reinvent the wheel? Java has classes for parsing URLs and extracting the components already. Or is this a homework task?"},{"owner":{"account_id":27072944,"reputation":11,"user_id":20623335,"display_name":"Digger"},"score":0,"creation_date":1669639253,"post_id":74600539,"comment_id":131680623,"body_markdown":"exactly, this is my homework task","body":"exactly, this is my homework task"},{"owner":{"account_id":27072944,"reputation":11,"user_id":20623335,"display_name":"Digger"},"score":0,"creation_date":1669640343,"post_id":74600539,"comment_id":131681000,"body_markdown":"@f1sh but I don&#39;t know how to check this case, the problem is essentially only this","body":"@f1sh but I don&#39;t know how to check this case, the problem is essentially only this"}],"answers":[{"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1669639001,"post_id":74600658,"comment_id":131680523,"body_markdown":"Also the usage of `split` is not allowed according to the question.","body":"Also the usage of <code>split</code> is not allowed according to the question."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1669640712,"post_id":74600658,"comment_id":131681123,"body_markdown":"Maybe irrelevant for OP, but note that this doesnt work with complex URLs that use `/` in the credentials part, for example. E.g. the complex but valid URL: `https://https:⁄⁄www.netmeister.org@https://www.netmeister.org/https:⁄⁄www.netmeister.org⁄?https://www.netmeister.org=https://www.netmeister.org;https://www.netmeister.org#https://www.netmeister.org`. See https://www.netmeister.org/blog/urls.html","body":"Maybe irrelevant for OP, but note that this doesnt work with complex URLs that use <code>&#47;</code> in the credentials part, for example. E.g. the complex but valid URL: <code>https:&#47;&#47;https:⁄⁄www.netmeister.org@https:&#47;&#47;www.netmeister.or&zwnj;&#8203;g&#47;https:⁄⁄www.netmei&zwnj;&#8203;ster.org⁄?https:&#47;&#47;ww&zwnj;&#8203;w.netmeister.org=htt&zwnj;&#8203;ps:&#47;&#47;www.netmeister.&zwnj;&#8203;org;https:&#47;&#47;www.netm&zwnj;&#8203;eister.org#https:&#47;&#47;w&zwnj;&#8203;ww.netmeister.org</code>. See <a href=\"https://www.netmeister.org/blog/urls.html\" rel=\"nofollow noreferrer\">netmeister.org/blog/urls.html</a>"}],"tags":[],"owner":{"account_id":3542929,"reputation":29,"user_id":2959556,"display_name":"user2959556"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1669640165,"creation_date":1669638896,"answer_id":74600658,"question_id":74600539,"body_markdown":"            // Sample String s.\r\n            String s = &quot;http://SomeServerName/abcd/dfdf.htm?dfdf=dfdf&quot;;\r\n            /*\r\n               get a substring(startIndex, endIndex)\r\n               startIndex : search for index of string &quot;//&quot; and add its length to get to end of it.\r\n               endIndex: input string length.\r\n             */\r\n            String s1 = s.substring(s.indexOf(&quot;//&quot;)+2,s.length());\r\n            /*\r\n               get a substring(startIndex, endIndex)\r\n               startIndex : 0\r\n               endIndex : starting index of &quot;/&quot; if present or length of string s1\r\n            */\r\n            String output = s1.substring(0, s1.indexOf(&quot;/&quot;) &gt; 0 ? s1.indexOf(&quot;/&quot;) : s1.length());\r\n            System.out.println(output);     // output : SomeServerName","title":"How to write a URL function?","body":"<pre><code>        // Sample String s.\n        String s = &quot;http://SomeServerName/abcd/dfdf.htm?dfdf=dfdf&quot;;\n        /*\n           get a substring(startIndex, endIndex)\n           startIndex : search for index of string &quot;//&quot; and add its length to get to end of it.\n           endIndex: input string length.\n         */\n        String s1 = s.substring(s.indexOf(&quot;//&quot;)+2,s.length());\n        /*\n           get a substring(startIndex, endIndex)\n           startIndex : 0\n           endIndex : starting index of &quot;/&quot; if present or length of string s1\n        */\n        String output = s1.substring(0, s1.indexOf(&quot;/&quot;) &gt; 0 ? s1.indexOf(&quot;/&quot;) : s1.length());\n        System.out.println(output);     // output : SomeServerName\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1669640301,"post_id":74600894,"comment_id":131680989,"body_markdown":"code-only solutions are discouraged. please read [answer]. explain what you changed, explain what fixes OPs problem and why it does so. give details, elaborate. SO is a place for **high quality** questions **and** answers.","body":"code-only solutions are discouraged. please read <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a>. explain what you changed, explain what fixes OPs problem and why it does so. give details, elaborate. SO is a place for <b>high quality</b> questions <b>and</b> answers."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1669640934,"post_id":74600894,"comment_id":131681204,"body_markdown":"Maybe irrelevant for OP, but note that this doesnt work with complex URLs that use `/` in the credentials part, for example. E.g. the complex but valid URL: `https://https:⁄⁄www.netmeister.org@https://www.netmeister.org/https:⁄⁄www.netmeister.org⁄?https://www.netmeister.org=https://www.netmeister.org;https://www.netmeister.org#https://www.netmeister.org`. See https://www.netmeister.org/blog/urls.html","body":"Maybe irrelevant for OP, but note that this doesnt work with complex URLs that use <code>&#47;</code> in the credentials part, for example. E.g. the complex but valid URL: <code>https:&#47;&#47;https:⁄⁄www.netmeister.org@https:&#47;&#47;www.netmeister.or&zwnj;&#8203;g&#47;https:⁄⁄www.netmei&zwnj;&#8203;ster.org⁄?https:&#47;&#47;ww&zwnj;&#8203;w.netmeister.org=htt&zwnj;&#8203;ps:&#47;&#47;www.netmeister.&zwnj;&#8203;org;https:&#47;&#47;www.netm&zwnj;&#8203;eister.org#https:&#47;&#47;w&zwnj;&#8203;ww.netmeister.org</code>. See <a href=\"https://www.netmeister.org/blog/urls.html\" rel=\"nofollow noreferrer\">netmeister.org/blog/urls.html</a>"}],"tags":[],"owner":{"account_id":19396151,"reputation":1,"user_id":14183807,"display_name":"vinith vasudevan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669640025,"creation_date":1669640025,"answer_id":74600894,"question_id":74600539,"body_markdown":"    String s=&quot;http://SomeServerName&quot;;\r\n    \t\t  String s1=s.substring(s.indexOf(&quot;://&quot;)+3);\r\n    \t\t  if(s1.indexOf(&quot;/&quot;)==-1) {\r\n    \t\t\t  System.out.println(s1);\r\n    \t\t  }else {\r\n    \t\t\t  System.out.println(s1.substring(0,s1.indexOf(&quot;/&quot;)));\r\n    \t\t  }","title":"How to write a URL function?","body":"<pre><code>String s=&quot;http://SomeServerName&quot;;\n          String s1=s.substring(s.indexOf(&quot;://&quot;)+3);\n          if(s1.indexOf(&quot;/&quot;)==-1) {\n              System.out.println(s1);\n          }else {\n              System.out.println(s1.substring(0,s1.indexOf(&quot;/&quot;)));\n          }\n</code></pre>\n"}],"owner":{"account_id":27072944,"reputation":11,"user_id":20623335,"display_name":"Digger"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669640962,"creation_date":1669638279,"question_id":74600539,"body_markdown":"i&#39;m new to Java, so i have a little problem here...\r\n\r\ni need to write a function that extracts the server name from the URL\r\nIt means the following:\r\nFor a row of the form http://SomeServerName/abcd/dfdf.htm?dfdf=dfdf\r\ni need to isolate &quot;SomeServerName&quot;\r\n\r\n* The string may not necessarily start with http, but also with https\r\nor something else. But :// there is always\r\n* Consider the case when there is no more slash after :// (for example http://SomeServerName)\r\n* I need to use only indexOf and substring\r\n\r\n```\r\n// This is what i got so far\r\n\r\npublic static String getURL(String string) {\r\n    int startIndex = string.indexOf(&#39;/&#39;) + 2;\r\n\r\n    int endIndex = string.indexOf(&quot;/&quot;, startIndex);\r\n\r\n    return string.substring(startIndex, endIndex);\r\n}\r\n\r\npublic static void main(String[] args) {\r\n        String string = &quot;https://SomeServerName/abcd/dfdf.htm?dfdf=dfdf&quot;;\r\n\r\n        System.out.println(getURL(string));\r\n    }\r\n\r\n```","title":"How to write a URL function?","body":"<p>i'm new to Java, so i have a little problem here...</p>\n<p>i need to write a function that extracts the server name from the URL\nIt means the following:\nFor a row of the form http://SomeServerName/abcd/dfdf.htm?dfdf=dfdf\ni need to isolate &quot;SomeServerName&quot;</p>\n<ul>\n<li>The string may not necessarily start with http, but also with https\nor something else. But :// there is always</li>\n<li>Consider the case when there is no more slash after :// (for example http://SomeServerName)</li>\n<li>I need to use only indexOf and substring</li>\n</ul>\n<pre><code>// This is what i got so far\n\npublic static String getURL(String string) {\n    int startIndex = string.indexOf('/') + 2;\n\n    int endIndex = string.indexOf(&quot;/&quot;, startIndex);\n\n    return string.substring(startIndex, endIndex);\n}\n\npublic static void main(String[] args) {\n        String string = &quot;https://SomeServerName/abcd/dfdf.htm?dfdf=dfdf&quot;;\n\n        System.out.println(getURL(string));\n    }\n\n</code></pre>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":322748,"reputation":36417,"user_id":642340,"accept_rate":83,"display_name":"soulcheck"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1326728443,"creation_date":1326728443,"answer_id":8882334,"question_id":8882310,"body_markdown":"You have to escape `\\` as `\\\\` in java Strings.","title":"Find the last index of &quot;\\&quot; in a string in java","body":"<p>You have to escape <code>\\</code> as <code>\\\\</code> in java Strings.</p>\n"},{"tags":[],"owner":{"account_id":9558,"reputation":12465,"user_id":17713,"accept_rate":86,"display_name":"Matthias Meid"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1326728447,"creation_date":1326728447,"answer_id":8882335,"question_id":8882310,"body_markdown":"You need to escape backslashes in `String` or `char` literals:\r\n\r\n    app.lastIndexOf(&#39;\\\\&#39;);","title":"Find the last index of &quot;\\&quot; in a string in java","body":"<p>You need to escape backslashes in <code>String</code> or <code>char</code> literals:</p>\n\n<pre><code>app.lastIndexOf('\\\\');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":360576,"reputation":60355,"user_id":702638,"accept_rate":98,"display_name":"Hunter McMillen"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1326728456,"creation_date":1326728456,"answer_id":8882336,"question_id":8882310,"body_markdown":"Since backslash is used as an escape character, to get a literal backslash you type two.\r\n\r\n    myString.lastIndexOf(&quot;\\\\&quot;);","title":"Find the last index of &quot;\\&quot; in a string in java","body":"<p>Since backslash is used as an escape character, to get a literal backslash you type two.</p>\n\n<pre><code>myString.lastIndexOf(\"\\\\\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1049835,"reputation":3025,"user_id":1054036,"display_name":"Viruzzo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1326728461,"creation_date":1326728461,"answer_id":8882338,"question_id":8882310,"body_markdown":"You have to escape the slash with another slash: `lastIndexOf(&#39;\\\\&#39;)`.","title":"Find the last index of &quot;\\&quot; in a string in java","body":"<p>You have to escape the slash with another slash: <code>lastIndexOf('\\\\')</code>.</p>\n"},{"tags":[],"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1326728472,"creation_date":1326728472,"answer_id":8882344,"question_id":8882310,"body_markdown":"use `\\\\` instead of `\\`, you need to &quot;escape&quot; the special character \\&#39;s meaning.","title":"Find the last index of &quot;\\&quot; in a string in java","body":"<p>use <code>\\\\</code> instead of <code>\\</code>, you need to \"escape\" the special character \\'s meaning.</p>\n"},{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1326728508,"creation_date":1326728508,"answer_id":8882353,"question_id":8882310,"body_markdown":"you need to use `app.lastIndexOf(&quot;\\\\&quot;);`","title":"Find the last index of &quot;\\&quot; in a string in java","body":"<p>you need to use <code>app.lastIndexOf(\"\\\\\");</code></p>\n"},{"tags":[],"owner":{"account_id":427403,"reputation":22575,"user_id":809150,"accept_rate":98,"display_name":"Patrick Perini"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1326728575,"creation_date":1326728575,"answer_id":8882376,"question_id":8882310,"body_markdown":"The `\\` character is used to escape other characters, in order to print special characters.\r\n\r\nFor example, `&#39;\\n&#39;` is the &quot;newline&quot; character, `&#39;\\t&#39;` is the &quot;tab&quot; character, `&#39;\\&#39;&#39;` is the literal `&#39;`, etc.\r\n\r\nIn order to use a `\\` in a string, you have to escape it: `\\\\`.\r\n\r\nUse `app.lastIndexOf(&#39;\\\\&#39;);`","title":"Find the last index of &quot;\\&quot; in a string in java","body":"<p>The <code>\\</code> character is used to escape other characters, in order to print special characters.</p>\n\n<p>For example, <code>'\\n'</code> is the \"newline\" character, <code>'\\t'</code> is the \"tab\" character, <code>'\\''</code> is the literal <code>'</code>, etc.</p>\n\n<p>In order to use a <code>\\</code> in a string, you have to escape it: <code>\\\\</code>.</p>\n\n<p>Use <code>app.lastIndexOf('\\\\');</code></p>\n"},{"tags":[],"owner":{"account_id":1430389,"reputation":3996,"user_id":1352919,"display_name":"Fakhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669640117,"creation_date":1669640117,"answer_id":74600912,"question_id":8882310,"body_markdown":"**Input:** We are speaking here &lt;as /&gt; but we need,&lt;1&gt; &lt;12/&gt; find last closing bracket /&gt; eat /&gt; this not required!!!\r\n\r\n**Output:** We are speaking here &lt;as /&gt; but we need,&lt;1&gt; &lt;12/&gt; find last closing bracket /&gt; eat /&gt;\r\n\r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        String myStr = &quot;We are speaking here &lt;as /&gt; but we need,&lt;1&gt; &lt;12/&gt; find last closing bracket /&gt; eat /&gt; this not required!!!&quot;;\r\n        String myFinalString = myStr.substring(0, myStr.lastIndexOf(&quot;/&gt;&quot;)+2);\r\n        System.out.println(myFinalString);\r\n        \r\n      }\r\n    }\r\n\r\n","title":"Find the last index of &quot;\\&quot; in a string in java","body":"<p><strong>Input:</strong> We are speaking here  but we need,&lt;1&gt; &lt;12/&gt; find last closing bracket /&gt; eat /&gt; this not required!!!</p>\n<p><strong>Output:</strong> We are speaking here  but we need,&lt;1&gt; &lt;12/&gt; find last closing bracket /&gt; eat /&gt;</p>\n<pre><code>public class Main {\n  public static void main(String[] args) {\n    String myStr = &quot;We are speaking here &lt;as /&gt; but we need,&lt;1&gt; &lt;12/&gt; find last closing bracket /&gt; eat /&gt; this not required!!!&quot;;\n    String myFinalString = myStr.substring(0, myStr.lastIndexOf(&quot;/&gt;&quot;)+2);\n    System.out.println(myFinalString);\n    \n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1176157,"reputation":213,"user_id":1152151,"display_name":"Nishant Nair"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33639,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":8882376,"answer_count":8,"score":20,"last_activity_date":1669640117,"creation_date":1326728344,"question_id":8882310,"body_markdown":"Can anyone help me find the LastIndexOf  &#39;\\&#39; in a string in java? I wrote the code as:\r\n\r\n    int i = app.lastIndexOf(&#39;\\&#39;);\r\n\r\n`app` is my string, but there is a error as &quot;Invalid character constant&quot;. I tried using double quotes but still no use. Can anyone help me on this?\r\n              ","title":"Find the last index of &quot;\\&quot; in a string in java","body":"<p>Can anyone help me find the LastIndexOf  '\\' in a string in java? I wrote the code as:</p>\n\n<pre><code>int i = app.lastIndexOf('\\');\n</code></pre>\n\n<p><code>app</code> is my string, but there is a error as \"Invalid character constant\". I tried using double quotes but still no use. Can anyone help me on this?</p>\n"},{"tags":["java","android","firebase","android-studio","firebase-realtime-database"],"comments":[{"owner":{"account_id":7045268,"reputation":443,"user_id":5396274,"display_name":"Arun Yogeshwaran"},"score":1,"creation_date":1585240213,"post_id":60871668,"comment_id":107697857,"body_markdown":"Do you mind sharing the logs so that others can get to know what has gone wrong?","body":"Do you mind sharing the logs so that others can get to know what has gone wrong?"}],"answers":[{"comments":[{"owner":{"account_id":18063072,"reputation":532,"user_id":13129731,"display_name":"eNeM"},"score":0,"creation_date":1585241369,"post_id":60871992,"comment_id":107698401,"body_markdown":"thank you.. I tried that but i can only retrieve null... is there any other error in this code","body":"thank you.. I tried that but i can only retrieve null... is there any other error in this code"}],"tags":[],"owner":{"account_id":15059705,"reputation":597,"user_id":10868923,"display_name":"Shimaa Yasser"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585240790,"creation_date":1585240790,"answer_id":60871992,"question_id":60871668,"body_markdown":"[![as shown in the picture attached to my answer you need to access 1 first, 2 and then 3 or 4. ][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vMlod.png\r\n\r\n\r\nSo you need to do that :\r\n\r\n\r\n        DatabaseReference reference = \r\n         FirebaseDatabase.getInstance().getReference(&quot;Contacts&quot;).child(&quot;2&quot;).child(&quot;3&quot;);\r\n\r\n        // of course you are not going to use 2 and 3 as a child but it&#39;s just to illustrate my point\r\n\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n            }\r\n        });","title":"I am having trouble retrieving data from Firebase real time database into String Variables","body":"<p><a href=\"https://i.stack.imgur.com/vMlod.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vMlod.png\" alt=\"as shown in the picture attached to my answer you need to access 1 first, 2 and then 3 or 4. \"></a></p>\n\n<p>So you need to do that :</p>\n\n<pre><code>    DatabaseReference reference = \n     FirebaseDatabase.getInstance().getReference(\"Contacts\").child(\"2\").child(\"3\");\n\n    // of course you are not going to use 2 and 3 as a child but it's just to illustrate my point\n\n    reference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n\n\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {\n\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18063072,"reputation":532,"user_id":13129731,"display_name":"eNeM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669639961,"creation_date":1585247044,"answer_id":60873815,"question_id":60871668,"body_markdown":"after changing the code a little the app ran smoothly\r\n\r\nthe changed code is: \r\n```\r\nfinal String[] retLastMessage = {null};\r\nfinal String[] retLastMessageTime = {null};\r\nfinal String[] retLastMessageDate = {null};\r\n\r\nDatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Contacts&quot;).child(currentUserID).child(usersIDs);\r\n\r\nreference.addValueEventListener(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n        if (dataSnapshot.hasChild(&quot;LastMessage&quot;)) {\r\n            retLastMessage[0] = dataSnapshot.child(&quot;LastMessage&quot;).getValue().toString();\r\n            retLastMessageTime[0] = dataSnapshot.child(&quot;LastMessageTime&quot;).getValue().toString();\r\n            retLastMessageDate[0] = dataSnapshot.child(&quot;LastMessageDate&quot;).getValue().toString();\r\n\r\n            holder.userLastMessage.setVisibility(View.VISIBLE);\r\n            holder.userLastMessage.setText(retLastMessage[0]);\r\n            String retLastMessageTimeDate = retLastMessageTime[0] + &quot; &quot; + retLastMessageDate[0];\r\n\r\n            holder.userLastMsgTime.setVisibility(View.VISIBLE);\r\n            holder.userLastMsgTime.setText(retLastMessageTimeDate);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n    }\r\n});\r\n```\r\nrest of the code remains same. the problem was i was assigning values after the ValueEventListener. i don&#39;t know the proper reason but aster assigning the values inside the ValueEventLister the code seems to run fine.","title":"I am having trouble retrieving data from Firebase real time database into String Variables","body":"<p>after changing the code a little the app ran smoothly</p>\n<p>the changed code is:</p>\n<pre><code>final String[] retLastMessage = {null};\nfinal String[] retLastMessageTime = {null};\nfinal String[] retLastMessageDate = {null};\n\nDatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Contacts&quot;).child(currentUserID).child(usersIDs);\n\nreference.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n        if (dataSnapshot.hasChild(&quot;LastMessage&quot;)) {\n            retLastMessage[0] = dataSnapshot.child(&quot;LastMessage&quot;).getValue().toString();\n            retLastMessageTime[0] = dataSnapshot.child(&quot;LastMessageTime&quot;).getValue().toString();\n            retLastMessageDate[0] = dataSnapshot.child(&quot;LastMessageDate&quot;).getValue().toString();\n\n            holder.userLastMessage.setVisibility(View.VISIBLE);\n            holder.userLastMessage.setText(retLastMessage[0]);\n            String retLastMessageTimeDate = retLastMessageTime[0] + &quot; &quot; + retLastMessageDate[0];\n\n            holder.userLastMsgTime.setVisibility(View.VISIBLE);\n            holder.userLastMsgTime.setText(retLastMessageTimeDate);\n        }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError databaseError) {\n\n    }\n});\n</code></pre>\n<p>rest of the code remains same. the problem was i was assigning values after the ValueEventListener. i don't know the proper reason but aster assigning the values inside the ValueEventLister the code seems to run fine.</p>\n"}],"owner":{"account_id":18063072,"reputation":532,"user_id":13129731,"display_name":"eNeM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60873815,"answer_count":2,"score":0,"last_activity_date":1669639961,"creation_date":1585239758,"question_id":60871668,"body_markdown":"My code is as below... I am new to this line so any help is appreciated.\r\n\r\n```\r\n@Override\r\n    public void onStart() {\r\n        super.onStart();\r\n\r\n        FirebaseRecyclerOptions&lt;Contacts&gt; options = new FirebaseRecyclerOptions.Builder&lt;Contacts&gt;().setQuery(ChatsRef, Contacts.class).build();\r\n        FirebaseRecyclerAdapter&lt;Contacts, ChatsViewHolder&gt; adapter = new FirebaseRecyclerAdapter&lt;Contacts, ChatsViewHolder&gt;(options) {\r\n            @Override\r\n            protected void onBindViewHolder(@NonNull final ChatsViewHolder holder, int position, @NonNull Contacts model) {\r\n                final String usersIDs = getRef(position).getKey();\r\n                final String[] retImage = {&quot;default_image&quot;};\r\n\r\n                UsersRef.child(usersIDs).addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                        if (dataSnapshot.exists())  {\r\n                            if (dataSnapshot.hasChild(&quot;image&quot;)) {\r\n                                retImage[0] = dataSnapshot.child(&quot;image&quot;).getValue().toString();\r\n                                Picasso.get().load(retImage[0]).into(holder.profileImage);\r\n                            }\r\n\r\n                            final String retName = dataSnapshot.child(&quot;name&quot;).getValue().toString();\r\n\r\n                            holder.userName.setText(retName);\r\n\r\n                            if (dataSnapshot.child(&quot;userState&quot;).hasChild(&quot;state&quot;)) {\r\n                                String state = dataSnapshot.child(&quot;userState&quot;).child(&quot;state&quot;).getValue().toString();\r\n\r\n                                if (state.equals(&quot;online&quot;)) {\r\n                                    holder.onlineIcon.setVisibility(View.VISIBLE);\r\n                                }\r\n                                else if (state.equals(&quot;offline&quot;)) {\r\n                                    holder.onlineIcon.setVisibility(View.INVISIBLE);\r\n                                }\r\n                            }\r\n\r\n                            else {\r\n                                holder.onlineIcon.setVisibility(View.INVISIBLE);\r\n                            }\r\n\r\n// i am having trouble from this portion onwards\r\n  \r\n                            final String[] retLastMessage = {null};\r\n                            final String[] retLastMessageTime = {null};\r\n                            final String[] retLastMessageDate = {null};\r\n\r\n                            RootRef.child(&quot;Contacts&quot;).child(currentUserID).child(usersIDs).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                                @Override\r\n                                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n\r\n                                    if (dataSnapshot.hasChild(&quot;LastMessage&quot;)) {\r\n                                        retLastMessage[0] = dataSnapshot.child(&quot;LastMessage&quot;).getValue().toString();\r\n                                        retLastMessageTime[0] = dataSnapshot.child(&quot;LastMessageTime&quot;).getValue().toString();\r\n                                        retLastMessageDate[0] = dataSnapshot.child(&quot;LastMessageDate&quot;).getValue().toString();\r\n                                    }\r\n                                }\r\n\r\n                                @Override\r\n                                public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                                }\r\n                            });\r\n\r\n                            holder.userLastMessage.setText(retLastMessage[0]);\r\n\r\n                            String retLastMessageTimeDate = retLastMessageTime[0] + &quot; &quot; + retLastMessageDate[0];\r\n\r\n                            holder.userLastMsgTime.setVisibility(View.VISIBLE);\r\n                            holder.userLastMsgTime.setText(retLastMessageTimeDate);\r\n//upto this I guess\r\n\r\n\r\n                            holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n                                @Override\r\n                                public void onClick(View view) {\r\n                                    Intent chatIntent = new Intent(getContext(), ChatActivity.class);\r\n                                    chatIntent.putExtra(&quot;visit_user_id&quot;, usersIDs);\r\n                                    chatIntent.putExtra(&quot;visit_user_name&quot;, retName);\r\n                                    chatIntent.putExtra(&quot;visit_image&quot;, retImage[0]);\r\n                                    startActivity(chatIntent);\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n                    }\r\n                });\r\n            }\r\n\r\n            @NonNull\r\n            @Override\r\n            public ChatsViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i) {\r\n                View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.users_display_layout, viewGroup, false);\r\n                return new ChatsViewHolder(view);\r\n            }\r\n        };\r\n        chatsList.setAdapter(adapter);\r\n        adapter.startListening();\r\n    }\r\n```\r\napp is crashing when it tries to retrieve these data from firebase\r\nplease help. I am using the above code to actually get the final message and time of last message to display it in chats fragment of my app. the last message and last message time are saved in contacts node\r\n[this is how the database entry looks like][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kXUAO.png","title":"I am having trouble retrieving data from Firebase real time database into String Variables","body":"<p>My code is as below... I am new to this line so any help is appreciated.</p>\n\n<pre><code>@Override\n    public void onStart() {\n        super.onStart();\n\n        FirebaseRecyclerOptions&lt;Contacts&gt; options = new FirebaseRecyclerOptions.Builder&lt;Contacts&gt;().setQuery(ChatsRef, Contacts.class).build();\n        FirebaseRecyclerAdapter&lt;Contacts, ChatsViewHolder&gt; adapter = new FirebaseRecyclerAdapter&lt;Contacts, ChatsViewHolder&gt;(options) {\n            @Override\n            protected void onBindViewHolder(@NonNull final ChatsViewHolder holder, int position, @NonNull Contacts model) {\n                final String usersIDs = getRef(position).getKey();\n                final String[] retImage = {\"default_image\"};\n\n                UsersRef.child(usersIDs).addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                        if (dataSnapshot.exists())  {\n                            if (dataSnapshot.hasChild(\"image\")) {\n                                retImage[0] = dataSnapshot.child(\"image\").getValue().toString();\n                                Picasso.get().load(retImage[0]).into(holder.profileImage);\n                            }\n\n                            final String retName = dataSnapshot.child(\"name\").getValue().toString();\n\n                            holder.userName.setText(retName);\n\n                            if (dataSnapshot.child(\"userState\").hasChild(\"state\")) {\n                                String state = dataSnapshot.child(\"userState\").child(\"state\").getValue().toString();\n\n                                if (state.equals(\"online\")) {\n                                    holder.onlineIcon.setVisibility(View.VISIBLE);\n                                }\n                                else if (state.equals(\"offline\")) {\n                                    holder.onlineIcon.setVisibility(View.INVISIBLE);\n                                }\n                            }\n\n                            else {\n                                holder.onlineIcon.setVisibility(View.INVISIBLE);\n                            }\n\n// i am having trouble from this portion onwards\n\n                            final String[] retLastMessage = {null};\n                            final String[] retLastMessageTime = {null};\n                            final String[] retLastMessageDate = {null};\n\n                            RootRef.child(\"Contacts\").child(currentUserID).child(usersIDs).addListenerForSingleValueEvent(new ValueEventListener() {\n                                @Override\n                                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n                                    if (dataSnapshot.hasChild(\"LastMessage\")) {\n                                        retLastMessage[0] = dataSnapshot.child(\"LastMessage\").getValue().toString();\n                                        retLastMessageTime[0] = dataSnapshot.child(\"LastMessageTime\").getValue().toString();\n                                        retLastMessageDate[0] = dataSnapshot.child(\"LastMessageDate\").getValue().toString();\n                                    }\n                                }\n\n                                @Override\n                                public void onCancelled(@NonNull DatabaseError databaseError) {\n                                }\n                            });\n\n                            holder.userLastMessage.setText(retLastMessage[0]);\n\n                            String retLastMessageTimeDate = retLastMessageTime[0] + \" \" + retLastMessageDate[0];\n\n                            holder.userLastMsgTime.setVisibility(View.VISIBLE);\n                            holder.userLastMsgTime.setText(retLastMessageTimeDate);\n//upto this I guess\n\n\n                            holder.itemView.setOnClickListener(new View.OnClickListener() {\n                                @Override\n                                public void onClick(View view) {\n                                    Intent chatIntent = new Intent(getContext(), ChatActivity.class);\n                                    chatIntent.putExtra(\"visit_user_id\", usersIDs);\n                                    chatIntent.putExtra(\"visit_user_name\", retName);\n                                    chatIntent.putExtra(\"visit_image\", retImage[0]);\n                                    startActivity(chatIntent);\n                                }\n                            });\n                        }\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError databaseError) {\n\n                    }\n                });\n            }\n\n            @NonNull\n            @Override\n            public ChatsViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i) {\n                View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.users_display_layout, viewGroup, false);\n                return new ChatsViewHolder(view);\n            }\n        };\n        chatsList.setAdapter(adapter);\n        adapter.startListening();\n    }\n</code></pre>\n\n<p>app is crashing when it tries to retrieve these data from firebase\nplease help. I am using the above code to actually get the final message and time of last message to display it in chats fragment of my app. the last message and last message time are saved in contacts node\n<a href=\"https://i.stack.imgur.com/kXUAO.png\" rel=\"nofollow noreferrer\">this is how the database entry looks like</a></p>\n"},{"tags":["java","gradle"],"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1669639530,"creation_date":1669638496,"question_id":74600575,"body_markdown":"How to exclude a module while defining a library using version-catalog plugin\r\nIn this scenario, I want to exclude org.yaml as defined below. \r\nHow should I do that?\r\n\r\n    &gt; // faker testImplementation(&#39;com.github.javafaker:javafaker:1.0.2&#39;) {\r\n    &gt; exclude module: &#39;org.yaml&#39; }\r\n\r\nMy definition looks like this, should I exclude here or should I exclude where I call this library in build.gradle\r\n\r\n&gt; library(&#39;javafaker&#39;, &#39;com.github.javafaker&#39;,\r\n&gt; &#39;javafaker&#39;).version(faker)\r\n\r\n","title":"How to exclude a module while defining a library in version-catalog","body":"<p>How to exclude a module while defining a library using version-catalog plugin\nIn this scenario, I want to exclude org.yaml as defined below.\nHow should I do that?</p>\n<pre><code>&gt; // faker testImplementation('com.github.javafaker:javafaker:1.0.2') {\n&gt; exclude module: 'org.yaml' }\n</code></pre>\n<p>My definition looks like this, should I exclude here or should I exclude where I call this library in build.gradle</p>\n<blockquote>\n<p>library('javafaker', 'com.github.javafaker',\n'javafaker').version(faker)</p>\n</blockquote>\n"},{"tags":["java","intellij-idea","osgi"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1669658521,"post_id":74600743,"comment_id":131687598,"body_markdown":"Is it possible to share sample project example?","body":"Is it possible to share sample project example?"},{"owner":{"account_id":91170,"reputation":6162,"user_id":250517,"accept_rate":75,"display_name":"Grzegorz Grzybek"},"score":0,"creation_date":1669700179,"post_id":74600743,"comment_id":131696057,"body_markdown":"IDEA doesn&#39;t know much (without plugins) about OSGi/SCR (at least that&#39;s how I interpret this annotation). You can always hit alt-enter and chose to ignore such kind of warning.","body":"IDEA doesn&#39;t know much (without plugins) about OSGi/SCR (at least that&#39;s how I interpret this annotation). You can always hit alt-enter and chose to ignore such kind of warning."}],"owner":{"account_id":16877693,"reputation":21,"user_id":12204672,"display_name":"Moribund"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669639233,"creation_date":1669639233,"question_id":74600743,"body_markdown":"InelliJ IDEA (2022.2.3) show @References as never assigned. In runtime, correct bean is injected. Is it possible to show Intellij this class to remove false-positive warning about not never assigned field? \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/13Hgt.png","title":"OSGI @Reference never assigned in Intelij IDEA","body":"<p>InelliJ IDEA (2022.2.3) show @References as never assigned. In runtime, correct bean is injected. Is it possible to show Intellij this class to remove false-positive warning about not never assigned field?</p>\n<p><a href=\"https://i.stack.imgur.com/13Hgt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/13Hgt.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","vaadin","vaadin7"],"answers":[{"tags":[],"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669639212,"creation_date":1669639212,"answer_id":74600737,"question_id":74599571,"body_markdown":"Sounds like the manual column resizing is not respecting the maximum width, so it&#39;s a bug in Grid. ","title":"Prevent frozen columns resize from extending out of the grid","body":"<p>Sounds like the manual column resizing is not respecting the maximum width, so it's a bug in Grid.</p>\n"}],"owner":{"account_id":17724887,"reputation":1,"user_id":12868911,"display_name":"notknownman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669639212,"creation_date":1669633107,"question_id":74599571,"body_markdown":"In Grid component when I try to resize frozen column too much it goes out of the grid and there is no way I can resize it back to its initial position[This is an example from Vaadin sampler](https://i.stack.imgur.com/ZVMug.gif).  \r\n\r\nIs there any way I can prevent frozen columns from extending out of the grid?\r\n\r\nI tried to call setMaximumWidth() on frozen columns however this seems to not work on columns that are being resized. ","title":"Prevent frozen columns resize from extending out of the grid","body":"<p>In Grid component when I try to resize frozen column too much it goes out of the grid and there is no way I can resize it back to its initial position<a href=\"https://i.stack.imgur.com/ZVMug.gif\" rel=\"nofollow noreferrer\">This is an example from Vaadin sampler</a>.</p>\n<p>Is there any way I can prevent frozen columns from extending out of the grid?</p>\n<p>I tried to call setMaximumWidth() on frozen columns however this seems to not work on columns that are being resized.</p>\n"},{"tags":["java","encryption","cryptography","shift","caesar-cipher"],"answers":[{"comments":[{"owner":{"account_id":27012951,"reputation":1,"user_id":20572292,"display_name":"gaming With HENEy"},"score":0,"creation_date":1669542055,"post_id":74582044,"comment_id":131660739,"body_markdown":"Thanks for replying but can you just modify my code above because i know im almost there. Thank you","body":"Thanks for replying but can you just modify my code above because i know im almost there. Thank you"}],"tags":[],"owner":{"account_id":13225721,"reputation":1061,"user_id":9550867,"display_name":"raiyan22"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669464648,"creation_date":1669464648,"answer_id":74582044,"question_id":74581953,"body_markdown":"    // import required classes and package, if any    \r\n    import java.util.Scanner;   \r\n       \r\n    // create class CaesarCipherExample for encryption and decryption    \r\n    public class CaesarCipherExample   \r\n    {   \r\n        // ALPHABET string denotes alphabet from a-z   \r\n        public static final String ALPHABET = &quot;abcdefghijklmnopqrstuvwxyz&quot;;   \r\n          \r\n        // create encryptData() method for encrypting user input string with given shift key   \r\n        public static String encryptData(String inputStr, int shiftKey)   \r\n        {   \r\n            // convert inputStr into lower case   \r\n            inputStr = inputStr.toLowerCase();   \r\n              \r\n            // encryptStr to store encrypted data   \r\n            String encryptStr = &quot;&quot;;   \r\n              \r\n            // use for loop for traversing each character of the input string   \r\n            for (int i = 0; i &lt; inputStr.length(); i++)   \r\n            {   \r\n                // get position of each character of inputStr in ALPHABET   \r\n                int pos = ALPHABET.indexOf(inputStr.charAt(i));   \r\n                  \r\n                // get encrypted char for each char of inputStr   \r\n                int encryptPos = (shiftKey + pos) % 26;   \r\n                char encryptChar = ALPHABET.charAt(encryptPos);   \r\n                  \r\n                // add encrypted char to encrypted string   \r\n                encryptStr += encryptChar;   \r\n            }   \r\n              \r\n            // return encrypted string   \r\n            return encryptStr;   \r\n        }   \r\n          \r\n        // create decryptData() method for decrypting user input string with given shift key   \r\n        public static String decryptData(String inputStr, int shiftKey)   \r\n        {   \r\n            // convert inputStr into lower case   \r\n            inputStr = inputStr.toLowerCase();   \r\n              \r\n            // decryptStr to store decrypted data   \r\n            String decryptStr = &quot;&quot;;   \r\n              \r\n            // use for loop for traversing each character of the input string   \r\n            for (int i = 0; i &lt; inputStr.length(); i++)   \r\n            {   \r\n                  \r\n                // get position of each character of inputStr in ALPHABET   \r\n                int pos = ALPHABET.indexOf(inputStr.charAt(i));   \r\n                  \r\n                // get decrypted char for each char of inputStr   \r\n                int decryptPos = (pos - shiftKey) % 26;   \r\n                  \r\n                // if decryptPos is negative   \r\n                if (decryptPos &lt; 0){   \r\n                    decryptPos = ALPHABET.length() + decryptPos;   \r\n                }   \r\n                char decryptChar = ALPHABET.charAt(decryptPos);   \r\n                  \r\n                // add decrypted char to decrypted string   \r\n                decryptStr += decryptChar;   \r\n            }   \r\n            // return decrypted string   \r\n            return decryptStr;   \r\n        }   \r\n          \r\n        // main() method start   \r\n        public static void main(String[] args)   \r\n        {   \r\n            // create an instance of Scanner class   \r\n            Scanner sc = new Scanner(System.in);   \r\n              \r\n            // take input from the user   \r\n            System.out.println(&quot;Enter a string for encryption using Caesar Cipher: &quot;);   \r\n            String inputStr = sc.nextLine();   \r\n              \r\n            System.out.println(&quot;Enter the value by which each character in the plaintext message gets shifted: &quot;);   \r\n            int shiftKey = Integer.valueOf(sc.nextLine());   \r\n              \r\n            System.out.println(&quot;Encrypted Data ===&gt; &quot;+encryptData(inputStr, shiftKey));   \r\n            System.out.println(&quot;Decrypted Data ===&gt; &quot;+decryptData(encryptData(inputStr, shiftKey), shiftKey));   \r\n              \r\n            // close Scanner class object   \r\n            sc.close();   \r\n        }   \r\n    }   ","title":"How do i modify my code below using Caesar Cipher - JAVA","body":"<pre><code>// import required classes and package, if any    \nimport java.util.Scanner;   \n   \n// create class CaesarCipherExample for encryption and decryption    \npublic class CaesarCipherExample   \n{   \n    // ALPHABET string denotes alphabet from a-z   \n    public static final String ALPHABET = &quot;abcdefghijklmnopqrstuvwxyz&quot;;   \n      \n    // create encryptData() method for encrypting user input string with given shift key   \n    public static String encryptData(String inputStr, int shiftKey)   \n    {   \n        // convert inputStr into lower case   \n        inputStr = inputStr.toLowerCase();   \n          \n        // encryptStr to store encrypted data   \n        String encryptStr = &quot;&quot;;   \n          \n        // use for loop for traversing each character of the input string   \n        for (int i = 0; i &lt; inputStr.length(); i++)   \n        {   \n            // get position of each character of inputStr in ALPHABET   \n            int pos = ALPHABET.indexOf(inputStr.charAt(i));   \n              \n            // get encrypted char for each char of inputStr   \n            int encryptPos = (shiftKey + pos) % 26;   \n            char encryptChar = ALPHABET.charAt(encryptPos);   \n              \n            // add encrypted char to encrypted string   \n            encryptStr += encryptChar;   \n        }   \n          \n        // return encrypted string   \n        return encryptStr;   \n    }   \n      \n    // create decryptData() method for decrypting user input string with given shift key   \n    public static String decryptData(String inputStr, int shiftKey)   \n    {   \n        // convert inputStr into lower case   \n        inputStr = inputStr.toLowerCase();   \n          \n        // decryptStr to store decrypted data   \n        String decryptStr = &quot;&quot;;   \n          \n        // use for loop for traversing each character of the input string   \n        for (int i = 0; i &lt; inputStr.length(); i++)   \n        {   \n              \n            // get position of each character of inputStr in ALPHABET   \n            int pos = ALPHABET.indexOf(inputStr.charAt(i));   \n              \n            // get decrypted char for each char of inputStr   \n            int decryptPos = (pos - shiftKey) % 26;   \n              \n            // if decryptPos is negative   \n            if (decryptPos &lt; 0){   \n                decryptPos = ALPHABET.length() + decryptPos;   \n            }   \n            char decryptChar = ALPHABET.charAt(decryptPos);   \n              \n            // add decrypted char to decrypted string   \n            decryptStr += decryptChar;   \n        }   \n        // return decrypted string   \n        return decryptStr;   \n    }   \n      \n    // main() method start   \n    public static void main(String[] args)   \n    {   \n        // create an instance of Scanner class   \n        Scanner sc = new Scanner(System.in);   \n          \n        // take input from the user   \n        System.out.println(&quot;Enter a string for encryption using Caesar Cipher: &quot;);   \n        String inputStr = sc.nextLine();   \n          \n        System.out.println(&quot;Enter the value by which each character in the plaintext message gets shifted: &quot;);   \n        int shiftKey = Integer.valueOf(sc.nextLine());   \n          \n        System.out.println(&quot;Encrypted Data ===&gt; &quot;+encryptData(inputStr, shiftKey));   \n        System.out.println(&quot;Decrypted Data ===&gt; &quot;+decryptData(encryptData(inputStr, shiftKey), shiftKey));   \n          \n        // close Scanner class object   \n        sc.close();   \n    }   \n}   \n</code></pre>\n"}],"owner":{"account_id":27012951,"reputation":1,"user_id":20572292,"display_name":"gaming With HENEy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1669638762,"creation_date":1669463731,"question_id":74581953,"body_markdown":"I want to implement a Caesar Cipher shift to shift each letter to the left in a string by 2 .The code above shift the words right by 2 using Caeser Cipher,How do I modify my code it to make it shift left by 2. For example, “Jgnnq vjgtg!” with a shift of 2 will become “Hello there!&quot;\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\t\tSystem.out.println(caesarEncrypt(&quot;Hello there!&quot;, 2)); \r\n\t}\r\n\r\n\tpublic static String caesarEncrypt(String ss, int shift){\r\n\t    String s = &quot;&quot;;\r\n\t    int len = ss.length();\r\n\t    for(int x = 0; x &lt; len; x++){\r\n\t        char c = (char)(ss.charAt(x) + shift);\r\n\t        if (c &gt; &#39;z&#39;) {\r\n\t            s += (char)(ss.charAt(x) - (26-shift));\r\n            }\r\n\t        else {\r\n\t            s += (char)(ss.charAt(x) + shift);\r\n            }\r\n\t    }\r\n\t    return s;\r\n\t}\r\n}\r\n```","title":"How do i modify my code below using Caesar Cipher - JAVA","body":"<p>I want to implement a Caesar Cipher shift to shift each letter to the left in a string by 2 .The code above shift the words right by 2 using Caeser Cipher,How do I modify my code it to make it shift left by 2. For example, “Jgnnq vjgtg!” with a shift of 2 will become “Hello there!&quot;</p>\n<pre><code>public static void main(String[] args) {\n        System.out.println(caesarEncrypt(&quot;Hello there!&quot;, 2)); \n    }\n\n    public static String caesarEncrypt(String ss, int shift){\n        String s = &quot;&quot;;\n        int len = ss.length();\n        for(int x = 0; x &lt; len; x++){\n            char c = (char)(ss.charAt(x) + shift);\n            if (c &gt; 'z') {\n                s += (char)(ss.charAt(x) - (26-shift));\n            }\n            else {\n                s += (char)(ss.charAt(x) + shift);\n            }\n        }\n        return s;\n    }\n}\n</code></pre>\n"},{"tags":["java","javascript","applet"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":10,"creation_date":1273044363,"post_id":2771167,"comment_id":2804631,"body_markdown":"Yes - it is a technique known as &quot;employing a programmer&quot;.  :-)","body":"Yes - it is a technique known as &quot;employing a programmer&quot;.  :-)"},{"owner":{"account_id":1263944,"reputation":1332,"user_id":1221661,"accept_rate":75,"display_name":"Fritz"},"score":0,"creation_date":1669638872,"post_id":2771167,"comment_id":131680479,"body_markdown":"Does this answer your question? [How to Cross-Compile Java Source Code to JavaScript?](https://stackoverflow.com/questions/440302/how-to-cross-compile-java-source-code-to-javascript)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/440302/how-to-cross-compile-java-source-code-to-javascript\">How to Cross-Compile Java Source Code to JavaScript?</a>"}],"answers":[{"comments":[{"owner":{"account_id":4054520,"reputation":813,"user_id":4709423,"display_name":"SkidRunner"},"score":0,"creation_date":1486385938,"post_id":2771184,"comment_id":71308020,"body_markdown":"You mean Java and ECMAScript are two entirely different technologies right...LOL","body":"You mean Java and ECMAScript are two entirely different technologies right...LOL"}],"tags":[],"owner":{"account_id":72238,"reputation":2962,"user_id":208660,"display_name":"Ham Vocke"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1273043122,"creation_date":1273043122,"answer_id":2771184,"question_id":2771167,"body_markdown":"I don&#39;t think there is a good way to do so. Please remember: Java and JavaScript are two entirely different technologies. Don&#39;t mix them up.","title":"convert java applet code in to java script","body":"<p>I don't think there is a good way to do so. Please remember: Java and JavaScript are two entirely different technologies. Don't mix them up.</p>\n"},{"comments":[{"owner":{"account_id":503387,"reputation":30660,"user_id":975097,"accept_rate":82,"display_name":"Anderson Green"},"score":0,"creation_date":1479533997,"post_id":2771191,"comment_id":68609319,"body_markdown":"Most of the answers to this question are now several years out of date. A more recent list of Java -&gt; JavaScript compilers can be found [here](http://stackoverflow.com/questions/440302/how-to-cross-compile-java-source-code-to-javascript).","body":"Most of the answers to this question are now several years out of date. A more recent list of Java -&gt; JavaScript compilers can be found <a href=\"http://stackoverflow.com/questions/440302/how-to-cross-compile-java-source-code-to-javascript\">here</a>."}],"tags":[],"owner":{"account_id":62022,"reputation":43632,"user_id":184499,"display_name":"Matt"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1273043220,"creation_date":1273043220,"answer_id":2771191,"question_id":2771167,"body_markdown":"Not really, no. They&#39;re different languages with different libraries.\r\n\r\nIf you want to develop for the client-side Web with Java, have a look at [GWT](http://code.google.com/webtoolkit/)","title":"convert java applet code in to java script","body":"<p>Not really, no. They're different languages with different libraries.</p>\n\n<p>If you want to develop for the client-side Web with Java, have a look at <a href=\"http://code.google.com/webtoolkit/\" rel=\"nofollow noreferrer\">GWT</a></p>\n"},{"tags":[],"owner":{"account_id":85644,"reputation":54700,"user_id":238639,"display_name":"bakkal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1273043483,"creation_date":1273043483,"answer_id":2771210,"question_id":2771167,"body_markdown":"Not directly and without effort as far as I know. However people have ported many things to HTML/JS, like Quake 2 on GWT. So you could invest some time and step into the code and port it with GWT.\r\nAdvantages of going with GWT arise from the fact that your applet is in Java language, which is the same language you use for GWT. Here is a list of what you can use in your code: [GWT JRE Emulation][1]\r\n\r\n\r\n  [1]: http://code.google.com/webtoolkit/doc/latest/RefJreEmulation.html","title":"convert java applet code in to java script","body":"<p>Not directly and without effort as far as I know. However people have ported many things to HTML/JS, like Quake 2 on GWT. So you could invest some time and step into the code and port it with GWT.\nAdvantages of going with GWT arise from the fact that your applet is in Java language, which is the same language you use for GWT. Here is a list of what you can use in your code: <a href=\"http://code.google.com/webtoolkit/doc/latest/RefJreEmulation.html\" rel=\"nofollow noreferrer\">GWT JRE Emulation</a></p>\n"},{"tags":[],"owner":{"account_id":121177,"reputation":18547,"user_id":314073,"accept_rate":88,"display_name":"Xorty"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1273044845,"creation_date":1273044845,"answer_id":2771309,"question_id":2771167,"body_markdown":"No.\r\nGoogle Web Toolkit (GWT) is what you might need. I recommend book [GWT In Practice 2008][1]\r\n\r\n\r\n  [1]: http://www.manning.com/cooper/","title":"convert java applet code in to java script","body":"<p>No.\nGoogle Web Toolkit (GWT) is what you might need. I recommend book <a href=\"http://www.manning.com/cooper/\" rel=\"nofollow noreferrer\">GWT In Practice 2008</a></p>\n"},{"tags":[],"owner":{"account_id":1263944,"reputation":1332,"user_id":1221661,"accept_rate":75,"display_name":"Fritz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669638682,"creation_date":1669638682,"answer_id":74600617,"question_id":2771167,"body_markdown":"12 years later there is now a tool called &quot;JSweet&quot; which claims to do exactly that: converting Java code to JavaScript: https://www.jsweet.org/\r\n\r\nThere is also a blog post from 2019 of someone using JSweet to convert some Java Applets to JavaScript: https://www.lprp.fr/2019/08/jsweet-convert-applets-to-javascript/","title":"convert java applet code in to java script","body":"<p>12 years later there is now a tool called &quot;JSweet&quot; which claims to do exactly that: converting Java code to JavaScript: <a href=\"https://www.jsweet.org/\" rel=\"nofollow noreferrer\">https://www.jsweet.org/</a></p>\n<p>There is also a blog post from 2019 of someone using JSweet to convert some Java Applets to JavaScript: <a href=\"https://www.lprp.fr/2019/08/jsweet-convert-applets-to-javascript/\" rel=\"nofollow noreferrer\">https://www.lprp.fr/2019/08/jsweet-convert-applets-to-javascript/</a></p>\n"}],"owner":{"account_id":132450,"reputation":1259,"user_id":333146,"display_name":"Danny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4653,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":2771191,"answer_count":5,"score":2,"last_activity_date":1669638682,"creation_date":1273042804,"question_id":2771167,"body_markdown":"Is any way to convert a java applet code to java script?","title":"convert java applet code in to java script","body":"<p>Is any way to convert a java applet code to java script?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8802865,"reputation":2206,"user_id":6578434,"accept_rate":100,"display_name":"Luk"},"score":0,"creation_date":1550152221,"post_id":54691873,"comment_id":96171332,"body_markdown":"https://stackoverflow.com/questions/477550/is-there-a-way-to-access-an-iteration-counter-in-javas-for-each-loop","body":"<a href=\"https://stackoverflow.com/questions/477550/is-there-a-way-to-access-an-iteration-counter-in-javas-for-each-loop\" title=\"is there a way to access an iteration counter in javas for each loop\">stackoverflow.com/questions/477550/&hellip;</a>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1550152230,"post_id":54691873,"comment_id":96171341,"body_markdown":"Changing the value of `m` will not modify the element in the array. See [Is Java “pass-by-reference” or “pass-by-value”?](https://stackoverflow.com/questions/40480/).","body":"Changing the value of <code>m</code> will not modify the element in the array. See <a href=\"https://stackoverflow.com/questions/40480/\">Is Java “pass-by-reference” or “pass-by-value”?</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1550153001,"post_id":54691873,"comment_id":96171791,"body_markdown":"The enhanced for loop (what you call *for each*) only takes elements out of the array, collection or iterable that you’re iterating. It cannot put anything back there. So it seems you are asking the impossible.","body":"The enhanced for loop (what you call <i>for each</i>) only takes elements out of the array, collection or iterable that you’re iterating. It cannot put anything back there. So it seems you are asking the impossible."}],"answers":[{"tags":[],"owner":{"account_id":3929075,"reputation":5785,"user_id":3248412,"accept_rate":89,"display_name":"vs97"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1550152058,"creation_date":1550152058,"answer_id":54691938,"question_id":54691873,"body_markdown":"You should use a for-loop with index for that, in order to write into the array:\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        int[] arr = new int[3];\r\n        for(int i=0;i&lt;arr.length;i++)\r\n        {\r\n            arr[i]=scanner.nextInt();\r\n        }\r\n\r\nCurrently what you are doing with the for-each is getting the value of `m` from the array, set it to the user input, but you are not adding it back into the array. Therefore your array remains empty.","title":"How to use &quot;for each&quot; in java to get input?","body":"<p>You should use a for-loop with index for that, in order to write into the array:</p>\n\n<pre><code>    Scanner scanner = new Scanner(System.in);\n    int[] arr = new int[3];\n    for(int i=0;i&lt;arr.length;i++)\n    {\n        arr[i]=scanner.nextInt();\n    }\n</code></pre>\n\n<p>Currently what you are doing with the for-each is getting the value of <code>m</code> from the array, set it to the user input, but you are not adding it back into the array. Therefore your array remains empty.</p>\n"},{"tags":[],"owner":{"account_id":9021005,"reputation":4164,"user_id":6722100,"accept_rate":67,"display_name":"achAmh&#225;in"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550152397,"creation_date":1550152397,"answer_id":54692048,"question_id":54691873,"body_markdown":"`int[] arr = new int[3];` sets up an `array` of 3 `0`s.\r\n\r\nWithin each iteration of your loop, `m = scanner.nextInt();` just sets `m` to whatever the input is, and adds nothing to the `array`.\r\n\r\nDo you specifically need to assign values within a `foreach` loop?\r\n\r\nIf not, then just assign a position in the `array` using a standard `for` loop to do it this way -&gt; `for (int i = 0; i &lt; arr.length; i++) {` and assign with `arr[i]= scanner.nextInt();`.\r\n\r\nIf so, I think you&#39;ll need to set up your own iteration counter, and use that.\r\n","title":"How to use &quot;for each&quot; in java to get input?","body":"<p><code>int[] arr = new int[3];</code> sets up an <code>array</code> of 3 <code>0</code>s.</p>\n\n<p>Within each iteration of your loop, <code>m = scanner.nextInt();</code> just sets <code>m</code> to whatever the input is, and adds nothing to the <code>array</code>.</p>\n\n<p>Do you specifically need to assign values within a <code>foreach</code> loop?</p>\n\n<p>If not, then just assign a position in the <code>array</code> using a standard <code>for</code> loop to do it this way -> <code>for (int i = 0; i &lt; arr.length; i++) {</code> and assign with <code>arr[i]= scanner.nextInt();</code>.</p>\n\n<p>If so, I think you'll need to set up your own iteration counter, and use that.</p>\n"},{"tags":[],"owner":{"account_id":14071686,"reputation":141,"user_id":10165054,"display_name":"M. Goodman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550152478,"creation_date":1550152478,"answer_id":54692087,"question_id":54691873,"body_markdown":"m is being declared as a local int and assigned, but the array is not being updated. You need to set arr[x] equal to the next int of the scanner. Right now you&#39;re just reading it, assigning it to m, and doing nothing with it.\r\n\r\n\r\n    \r\n    for(int i=0; i&lt;arr.length; i++){\r\n            arr[i]=scanner.nextInt();\r\n            \r\n    }\r\n\r\n","title":"How to use &quot;for each&quot; in java to get input?","body":"<p>m is being declared as a local int and assigned, but the array is not being updated. You need to set arr[x] equal to the next int of the scanner. Right now you're just reading it, assigning it to m, and doing nothing with it.</p>\n\n<pre><code>for(int i=0; i&lt;arr.length; i++){\n        arr[i]=scanner.nextInt();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15517942,"reputation":1,"user_id":11194855,"display_name":"Ramesh NR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640573485,"creation_date":1640573485,"answer_id":70491306,"question_id":54691873,"body_markdown":"I&#39;m Shouldn&#39;t recommend this solution, you just use for loop to get the input from the user.\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    int [] arr = new int[3];\r\n    int k = 0;\r\n    for(int m : arr) {\r\n        arr[k] = scanner.nextInt();\r\n        ++k;\r\n    }\r\n    scanner.close();\r\n\r\nnow, it will work\\\r\n//arr[0] = 1 , arr[1] = 5 , arr[2] = 61","title":"How to use &quot;for each&quot; in java to get input?","body":"<p>I'm Shouldn't recommend this solution, you just use for loop to get the input from the user.</p>\n<pre><code>Scanner scanner = new Scanner(System.in);\nint [] arr = new int[3];\nint k = 0;\nfor(int m : arr) {\n    arr[k] = scanner.nextInt();\n    ++k;\n}\nscanner.close();\n</code></pre>\n<p>now, it will work<br />\n//arr[0] = 1 , arr[1] = 5 , arr[2] = 61</p>\n"},{"tags":[],"owner":{"account_id":18513280,"reputation":1,"user_id":13487971,"display_name":"Hasudungan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640852180,"creation_date":1640852180,"answer_id":70529030,"question_id":54691873,"body_markdown":"    static void foreach()\r\n\t{\r\n\t\tint amount;\r\n\t\t\r\n\t\tScanner scanner = new Scanner(System.in);\t\t\r\n\t\t\r\n\t\tSystem.out.print(&quot;amount in arr : &quot;);\r\n\t\tamount = scanner.nextInt();\r\n\t\t\r\n\t\tint arr[] = new int[amount];\r\n\t\t\r\n\t\tfor(int newVar : arr)\r\n\t\t{\r\n\t\t\tSystem.out.print(&quot;[&quot; + (newVar +1) +&quot;] = &quot; );\r\n\t\t\tnewVar = scanner.nextInt();\r\n\t\t}","title":"How to use &quot;for each&quot; in java to get input?","body":"<pre><code>static void foreach()\n{\n    int amount;\n    \n    Scanner scanner = new Scanner(System.in);       \n    \n    System.out.print(&quot;amount in arr : &quot;);\n    amount = scanner.nextInt();\n    \n    int arr[] = new int[amount];\n    \n    for(int newVar : arr)\n    {\n        System.out.print(&quot;[&quot; + (newVar +1) +&quot;] = &quot; );\n        newVar = scanner.nextInt();\n    }\n</code></pre>\n"}],"owner":{"account_id":15022676,"reputation":13,"user_id":10843647,"display_name":"F.Rajabi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2112,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":54691938,"answer_count":5,"score":0,"last_activity_date":1669638643,"creation_date":1550151853,"question_id":54691873,"body_markdown":"I&#39;m a beginner in java. I have question about for each.\r\ncan I use it in order to get input from user?\r\nIf yes, How? \r\n\r\nI tried this code, but didn&#39;t work:\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    int[] arr = new int[3];\r\n    for(int m: arr){\r\n        m = scanner.nextInt();\r\n     }\r\n    //arr[0] = 1 , arr[1] = 5 , arr[2] = 61\r\n\r\nBut when I printed my array:  \r\n0 0 0  \r\nwas shown.\r\n\r\n","title":"How to use &quot;for each&quot; in java to get input?","body":"<p>I'm a beginner in java. I have question about for each.\ncan I use it in order to get input from user?\nIf yes, How? </p>\n\n<p>I tried this code, but didn't work:</p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);\nint[] arr = new int[3];\nfor(int m: arr){\n    m = scanner.nextInt();\n }\n//arr[0] = 1 , arr[1] = 5 , arr[2] = 61\n</code></pre>\n\n<p>But when I printed my array:<br>\n0 0 0<br>\nwas shown.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":23757056,"reputation":97,"user_id":17773053,"display_name":"xiunian"},"score":0,"creation_date":1669638326,"post_id":74581287,"comment_id":131680310,"body_markdown":"Thanks for nice answer! But I was still puzzled for what you said,&quot;When you then call exec.shutdown(), the thread pool will interrupt its threads to signal them they should end, when then means PrimeProducer.run will stop.&quot;  I actually call exec.shutdown() in the end, but the main thread still does not end, the PrimeProducer.run has not stopped.","body":"Thanks for nice answer! But I was still puzzled for what you said,&quot;When you then call exec.shutdown(), the thread pool will interrupt its threads to signal them they should end, when then means PrimeProducer.run will stop.&quot;  I actually call exec.shutdown() in the end, but the main thread still does not end, the PrimeProducer.run has not stopped."},{"owner":{"account_id":23757056,"reputation":97,"user_id":17773053,"display_name":"xiunian"},"score":0,"creation_date":1669638661,"post_id":74581287,"comment_id":131680418,"body_markdown":"I also changed the PrimeProducer class( I have edited my question) to implements Runnable rather than Thread, and change the cancel method, but it still doesn&#39;t work.","body":"I also changed the PrimeProducer class( I have edited my question) to implements Runnable rather than Thread, and change the cancel method, but it still doesn&#39;t work."}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669457943,"creation_date":1669457621,"answer_id":74581287,"question_id":74581025,"body_markdown":"You have `PrimeProducer` extend `Thread`, but you don&#39;t actually use it as a thread, you only use it as a `Runnable`, which is executed on a thread of the thread pool. The cancel has no effect, because it calls the `interrupt()` of a different thread than the one that is actually running. When you then call `exec.shutdown()`, the thread pool will interrupt its threads to signal them they should end, when then means `PrimeProducer.run` will stop.\r\n\r\nInstead, use a volatile boolean to end your run (and implement `Runnable` instead of extending `Thread`):\r\n\r\n```\r\npublic class PrimeProducer implements Runnable {\r\n\r\n    private final BlockingQueue&lt;BigInteger&gt; queue;\r\n    private volatile boolean cancelled;\r\n\r\n    PrimeProducer(BlockingQueue&lt;BigInteger&gt; queue) {\r\n        this.queue = queue;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            BigInteger p = BigInteger.ONE;\r\n            while (!cancelled) {\r\n                queue.put(p = p.nextProbablePrime());\r\n            }\r\n        } catch (InterruptedException e) {\r\n\r\n        }\r\n    }\r\n\r\n    public void cancel() {\r\n        cancelled = true;\r\n    }\r\n\r\n    public void get() {\r\n        for (BigInteger i : queue) {\r\n            System.out.println(i.toString());\r\n        }\r\n    }\r\n}\r\n```","title":"Why does the ThreadpoolExecutor code never stop running?","body":"<p>You have <code>PrimeProducer</code> extend <code>Thread</code>, but you don't actually use it as a thread, you only use it as a <code>Runnable</code>, which is executed on a thread of the thread pool. The cancel has no effect, because it calls the <code>interrupt()</code> of a different thread than the one that is actually running. When you then call <code>exec.shutdown()</code>, the thread pool will interrupt its threads to signal them they should end, when then means <code>PrimeProducer.run</code> will stop.</p>\n<p>Instead, use a volatile boolean to end your run (and implement <code>Runnable</code> instead of extending <code>Thread</code>):</p>\n<pre><code>public class PrimeProducer implements Runnable {\n\n    private final BlockingQueue&lt;BigInteger&gt; queue;\n    private volatile boolean cancelled;\n\n    PrimeProducer(BlockingQueue&lt;BigInteger&gt; queue) {\n        this.queue = queue;\n    }\n\n    @Override\n    public void run() {\n        try {\n            BigInteger p = BigInteger.ONE;\n            while (!cancelled) {\n                queue.put(p = p.nextProbablePrime());\n            }\n        } catch (InterruptedException e) {\n\n        }\n    }\n\n    public void cancel() {\n        cancelled = true;\n    }\n\n    public void get() {\n        for (BigInteger i : queue) {\n            System.out.println(i.toString());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23757056,"reputation":97,"user_id":17773053,"display_name":"xiunian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74581287,"answer_count":1,"score":1,"last_activity_date":1669638571,"creation_date":1669454599,"question_id":74581025,"body_markdown":"I run the code in IntelliJ IDEA and it would not stop. I use `exec.shutdownNow()` instead and it stops successfully. So, I think is the problem of `generator`, but I can&#39;t figure out what problem it is.\r\n\r\nThe main method:\r\n```\r\npublic static void main(String[] args) {\r\n    PrimeProducer generator = new PrimeProducer(new ArrayBlockingQueue&lt;&gt;(10));\r\n    ExecutorService exec = Executors.newFixedThreadPool(1);\r\n    exec.execute(generator);\r\n\r\n    try {\r\n        Thread.sleep(1000);\r\n    } catch (InterruptedException e) {\r\n        throw new RuntimeException(e);\r\n    } finally {\r\n        generator.cancel();\r\n    }\r\n\r\n    //generator.get();\r\n    exec.shutdown();\r\n}\r\n```\r\n\r\nAnd the PrimeProducer class:\r\n```\r\npublic class PrimeProducer extends Thread{\r\n    private final BlockingQueue&lt;BigInteger&gt; queue;\r\n\r\n    PrimeProducer(BlockingQueue&lt;BigInteger&gt; queue){\r\n        this.queue = queue;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            BigInteger p = BigInteger.ONE;\r\n            while(!Thread.currentThread().isInterrupted()){\r\n                queue.put(p = p.nextProbablePrime());\r\n            }\r\n        } catch (InterruptedException e) {\r\n\r\n        }\r\n    }\r\n\r\n    public void cancel(){interrupt();}\r\n\r\n    public void get(){\r\n        for(BigInteger i : queue){\r\n            System.out.println(i.toString());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe latest version that still can&#39;t work:\r\n```\r\npublic class PrimeProducer implements Runnable {\r\n    private final BlockingQueue&lt;BigInteger&gt; queue;\r\n\r\n    PrimeProducer(BlockingQueue&lt;BigInteger&gt; queue){\r\n        this.queue = queue;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            BigInteger p = BigInteger.ONE;\r\n            while(!Thread.currentThread().isInterrupted()){\r\n                queue.put(p = p.nextProbablePrime());\r\n            }\r\n        } catch (InterruptedException e) {\r\n\r\n        }\r\n    }\r\n\r\n    public void cancel(){Thread.currentThread().interrupt();}\r\n\r\n    public synchronized void get(){\r\n        for(BigInteger i : queue){\r\n            System.out.println(i.toString());\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n","title":"Why does the ThreadpoolExecutor code never stop running?","body":"<p>I run the code in IntelliJ IDEA and it would not stop. I use <code>exec.shutdownNow()</code> instead and it stops successfully. So, I think is the problem of <code>generator</code>, but I can't figure out what problem it is.</p>\n<p>The main method:</p>\n<pre><code>public static void main(String[] args) {\n    PrimeProducer generator = new PrimeProducer(new ArrayBlockingQueue&lt;&gt;(10));\n    ExecutorService exec = Executors.newFixedThreadPool(1);\n    exec.execute(generator);\n\n    try {\n        Thread.sleep(1000);\n    } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n    } finally {\n        generator.cancel();\n    }\n\n    //generator.get();\n    exec.shutdown();\n}\n</code></pre>\n<p>And the PrimeProducer class:</p>\n<pre><code>public class PrimeProducer extends Thread{\n    private final BlockingQueue&lt;BigInteger&gt; queue;\n\n    PrimeProducer(BlockingQueue&lt;BigInteger&gt; queue){\n        this.queue = queue;\n    }\n\n    @Override\n    public void run() {\n        try {\n            BigInteger p = BigInteger.ONE;\n            while(!Thread.currentThread().isInterrupted()){\n                queue.put(p = p.nextProbablePrime());\n            }\n        } catch (InterruptedException e) {\n\n        }\n    }\n\n    public void cancel(){interrupt();}\n\n    public void get(){\n        for(BigInteger i : queue){\n            System.out.println(i.toString());\n        }\n    }\n}\n</code></pre>\n<p>The latest version that still can't work:</p>\n<pre><code>public class PrimeProducer implements Runnable {\n    private final BlockingQueue&lt;BigInteger&gt; queue;\n\n    PrimeProducer(BlockingQueue&lt;BigInteger&gt; queue){\n        this.queue = queue;\n    }\n\n    @Override\n    public void run() {\n        try {\n            BigInteger p = BigInteger.ONE;\n            while(!Thread.currentThread().isInterrupted()){\n                queue.put(p = p.nextProbablePrime());\n            }\n        } catch (InterruptedException e) {\n\n        }\n    }\n\n    public void cancel(){Thread.currentThread().interrupt();}\n\n    public synchronized void get(){\n        for(BigInteger i : queue){\n            System.out.println(i.toString());\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","jpa","orm","spring-data"],"owner":{"account_id":27065960,"reputation":21,"user_id":20617319,"display_name":"Viktoria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1669638289,"creation_date":1669638269,"question_id":74600536,"body_markdown":"With in my domain module i have multiple kind of associations between entities as usual, however I would like to have some operations on associated entities with in one entity once the [state](https://support.intershop.com/kb/index.php/Display/253U81) of this entity changed with in ORM.\r\n\r\nA common practice is too use annotation like `@Preupdate` or `@Prepersist`  etc, but how can i access the associated entities and manage(all kind of operations) their state with in ORM as well.\r\n\r\nAn example to demonstrate the question.\r\n\r\n```\r\npublic class EntityOne {\r\n\r\n    @Id\r\n    @SequenceGenerator(name = &quot;generator&quot;)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;generator&quot;)\r\n    private Long id;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;attribute_to_join&quot;)\r\n    private EntityTwo entity;\r\n\r\n\r\n    ....\r\n\r\n    @PrePersist\r\n    @PreUpdate\r\n    void proxyOperation() {\r\n    ...\r\n    }\r\n}\r\n```\r\n\r\nHow can i manage the state of affected entities, i.e `EntityTwo` with in `proxyOperation` method ? which indeed, is going to trigger when ever an instance of EntityOne is persisted or updated.\r\n\r\n","title":"Associated entities on lifecycle of modified within ORM with JPA annotation","body":"<p>With in my domain module i have multiple kind of associations between entities as usual, however I would like to have some operations on associated entities with in one entity once the <a href=\"https://support.intershop.com/kb/index.php/Display/253U81\" rel=\"nofollow noreferrer\">state</a> of this entity changed with in ORM.</p>\n<p>A common practice is too use annotation like <code>@Preupdate</code> or <code>@Prepersist</code>  etc, but how can i access the associated entities and manage(all kind of operations) their state with in ORM as well.</p>\n<p>An example to demonstrate the question.</p>\n<pre><code>public class EntityOne {\n\n    @Id\n    @SequenceGenerator(name = &quot;generator&quot;)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;generator&quot;)\n    private Long id;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;attribute_to_join&quot;)\n    private EntityTwo entity;\n\n\n    ....\n\n    @PrePersist\n    @PreUpdate\n    void proxyOperation() {\n    ...\n    }\n}\n</code></pre>\n<p>How can i manage the state of affected entities, i.e <code>EntityTwo</code> with in <code>proxyOperation</code> method ? which indeed, is going to trigger when ever an instance of EntityOne is persisted or updated.</p>\n"},{"tags":["java","velocity"],"answers":[{"comments":[{"owner":{"account_id":3288331,"reputation":1507,"user_id":2767195,"accept_rate":39,"display_name":"Nitesh"},"score":0,"creation_date":1412660565,"post_id":26229207,"comment_id":41139347,"body_markdown":"in your case it displays the comma but I need to display 2 decimal also. in your code it is not showing value up to 2 decimals.","body":"in your case it displays the comma but I need to display 2 decimal also. in your code it is not showing value up to 2 decimals."},{"owner":{"account_id":3288331,"reputation":1507,"user_id":2767195,"accept_rate":39,"display_name":"Nitesh"},"score":0,"creation_date":1412660669,"post_id":26229207,"comment_id":41139373,"body_markdown":"I have tried your code..it shows value 1099 to 1,099\nBut required value has to be (1,099.00)like this","body":"I have tried your code..it shows value 1099 to 1,099 But required value has to be (1,099.00)like this"},{"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"score":0,"creation_date":1412661286,"post_id":26229207,"comment_id":41139552,"body_markdown":"Couldn&#39;t it be `&quot;###,###,##0.00&quot; ?","body":"Couldn&#39;t it be `&quot;###,###,##0.00&quot; ?"},{"owner":{"account_id":3288331,"reputation":1507,"user_id":2767195,"accept_rate":39,"display_name":"Nitesh"},"score":0,"creation_date":1412661524,"post_id":26229207,"comment_id":41139645,"body_markdown":"@Serge Ballesta :this is also not working. I am not getting value up to 2 decimal .:-(","body":"@Serge Ballesta :this is also not working. I am not getting value up to 2 decimal .:-("},{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":0,"creation_date":1524957500,"post_id":26229207,"comment_id":87179794,"body_markdown":"But `##` is a comment in Velocity.","body":"But <code>##</code> is a comment in Velocity."}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412660398,"creation_date":1412660398,"answer_id":26229207,"question_id":26229139,"body_markdown":"You&#39;re missing the handling of the grouping separator:\r\n\r\n    $numberTool.format(&quot;###,##,###.00&quot;, $credit);","title":"Formatting numbers in Velocity Templates?","body":"<p>You're missing the handling of the grouping separator:</p>\n\n<pre><code>$numberTool.format(\"###,##,###.00\", $credit);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3288331,"reputation":1507,"user_id":2767195,"accept_rate":39,"display_name":"Nitesh"},"score":0,"creation_date":1412661402,"post_id":26229351,"comment_id":41139599,"body_markdown":"let me verify it.\nbut is there any way to write code in velocity template to format numbers?","body":"let me verify it. but is there any way to write code in velocity template to format numbers?"}],"tags":[],"owner":{"account_id":4456643,"reputation":8628,"user_id":3626698,"accept_rate":78,"display_name":"afzalex"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412661058,"creation_date":1412661058,"answer_id":26229351,"question_id":26229139,"body_markdown":"Check this : \r\n\r\n    NumberFormat nf = new DecimalFormat(&quot;##,##,###.00&quot;);\r\n    System.out.println(nf.format(1099));\r\n\r\nOutput :\r\n\r\n    1,948.00\r\n\r\nIs it what you are wanting.","title":"Formatting numbers in Velocity Templates?","body":"<p>Check this : </p>\n\n<pre><code>NumberFormat nf = new DecimalFormat(\"##,##,###.00\");\nSystem.out.println(nf.format(1099));\n</code></pre>\n\n<p>Output :</p>\n\n<pre><code>1,948.00\n</code></pre>\n\n<p>Is it what you are wanting.</p>\n"},{"tags":[],"owner":{"account_id":10202127,"reputation":1,"user_id":7532026,"display_name":"Ch&#237;nh Nguyễn C&#244;ng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572362862,"creation_date":1572362862,"answer_id":58610551,"question_id":26229139,"body_markdown":"you can solve this problem like this\r\n\r\n    #set ($result = $number.format(&#39;#,##0.00&#39;, &quot;10000.5&quot;))\r\n    $result\r\nThe result will be 10,000.50","title":"Formatting numbers in Velocity Templates?","body":"<p>you can solve this problem like this</p>\n\n<pre><code>#set ($result = $number.format('#,##0.00', \"10000.5\"))\n$result\n</code></pre>\n\n<p>The result will be 10,000.50</p>\n"}],"owner":{"account_id":3288331,"reputation":1507,"user_id":2767195,"accept_rate":39,"display_name":"Nitesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4180,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1669638234,"creation_date":1412660023,"question_id":26229139,"body_markdown":"I need to display the amount in the following formats:\r\n\r\n1099 -&gt; 1,099.00\\\r\n100 -&gt; 100.00\\\r\n100.251 -&gt; 100.25\\\r\n10999 -&gt; 10,999.00\\\r\n1110999 -&gt; 11,10,999.00\r\n\r\nRight now I am using the following code to display the amount:\r\n\r\n    $numberTool.format(&quot;#0.00&quot;, $credit);\r\n\r\nIn this case, if the amount is 1099, then it displays 1099.00\r\nbut I want to display this amount in this format:- 1,099.00\r\n\r\n","title":"Formatting numbers in Velocity Templates?","body":"<p>I need to display the amount in the following formats:</p>\n<p>1099 -&gt; 1,099.00<br />\n100 -&gt; 100.00<br />\n100.251 -&gt; 100.25<br />\n10999 -&gt; 10,999.00<br />\n1110999 -&gt; 11,10,999.00</p>\n<p>Right now I am using the following code to display the amount:</p>\n<pre><code>$numberTool.format(&quot;#0.00&quot;, $credit);\n</code></pre>\n<p>In this case, if the amount is 1099, then it displays 1099.00\nbut I want to display this amount in this format:- 1,099.00</p>\n"},{"tags":["java","eclipse","loops"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":1,"creation_date":1669634501,"post_id":74599812,"comment_id":131679082,"body_markdown":"Check the while condition","body":"Check the while condition"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":4,"creation_date":1669635094,"post_id":74599812,"comment_id":131679273,"body_markdown":"The input will be `6` followed by the CR and LF characters so you go round the loop 3 times before it reads from the console again.","body":"The input will be <code>6</code> followed by the CR and LF characters so you go round the loop 3 times before it reads from the console again."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":3,"creation_date":1669635147,"post_id":74599812,"comment_id":131679288,"body_markdown":"`System.out.printf(&quot;choice = 0x%x.%n&quot;, (int)choice);` and you will find `&quot;\\r\\n&quot;  too.","body":"<code>System.out.printf(&quot;choice = 0x%x.%n&quot;, (int)choice);</code> and you will find `&quot;\\r\\n&quot;  too."},{"owner":{"account_id":12221317,"reputation":569,"user_id":8920328,"display_name":"Melron"},"score":1,"creation_date":1669635376,"post_id":74599812,"comment_id":131679365,"body_markdown":"Consider to use the Scanner class","body":"Consider to use the Scanner class"}],"answers":[{"tags":[],"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669636831,"creation_date":1669636831,"answer_id":74600289,"question_id":74599812,"body_markdown":"Your while statement is a bit wrong and you are trying to use &gt; and &lt; with char witch doesn&#39;t work well using the Scanner class you can then use it to get the next int and then you can use it in the while statement.\r\n\r\n    Scanner scan = new Scanner(System.in);\r\n    int choice;\r\n    do {\r\n        System.out.println(&quot;Help on:&quot;);\r\n        System.out.println(&quot; 1. if&quot;);\r\n        System.out.println(&quot; 2. while&quot;);\r\n        System.out.println(&quot; 3. do-while&quot;);\r\n        System.out.println(&quot; 4. for&quot;);\r\n        System.out.println(&quot; 5. switch&quot;);\r\n        choice = scan.nextInt();\r\n    } while (choice &gt;= 1 &amp;&amp; choice &lt;= 5);","title":"Why a loop is running three time in eclipse when the condition is false?","body":"<p>Your while statement is a bit wrong and you are trying to use &gt; and &lt; with char witch doesn't work well using the Scanner class you can then use it to get the next int and then you can use it in the while statement.</p>\n<pre><code>Scanner scan = new Scanner(System.in);\nint choice;\ndo {\n    System.out.println(&quot;Help on:&quot;);\n    System.out.println(&quot; 1. if&quot;);\n    System.out.println(&quot; 2. while&quot;);\n    System.out.println(&quot; 3. do-while&quot;);\n    System.out.println(&quot; 4. for&quot;);\n    System.out.println(&quot; 5. switch&quot;);\n    choice = scan.nextInt();\n} while (choice &gt;= 1 &amp;&amp; choice &lt;= 5);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669638203,"creation_date":1669638203,"answer_id":74600522,"question_id":74599812,"body_markdown":"The problem is that you press &#39;enter&#39; after entering &#39;6&#39; which is good, except, this means that there is an &#39;enter character&#39; (which is a &#39;character&#39; just as much as &#39;6&#39; is) in between your first input and your second, and the &#39;char value&#39; is below &#39;1&#39;. On windows, an enter is in fact 2 characters (CR and LF; 13 and 10 respectively, which are far below `&#39;1&#39;`), hence, 3 loops.\r\n\r\nMost likely you want a scanner configured to treat newline symbols as separators:\r\n\r\n```\r\nScanner s = new Scanner(System.in);\r\ns.useDelimiter(&quot;\\\\R&quot;); // Any newline symbol\r\nint c;\r\ndo {\r\n  // show menu here\r\n  c = s.nextInt();\r\n} while (c &gt;= 1 &amp;&amp; c &lt;= 5);\r\n```\r\n\r\nAlternatively, you can ignore newline symbols. These are &#39;\\r&#39; and &#39;\\n&#39; respectively. Replace `c = System.in.read();` with:\r\n\r\n```\r\nreadNextChar();\r\n\r\n.. below your main method:\r\n\r\npublic static char readNextChar() {\r\n  while (true) {\r\n    char c = System.in.read();\r\n    if (c != &#39;\\r&#39; &amp;&amp; c != &#39;\\n&#39;) return c;\r\n  }\r\n}\r\n```\r\n\r\nWhich will read the next char ignoring any newline symbols. (on windows, newline is &#39;\\r\\n&#39; - 2 characters in a row. On any other platform, it&#39;s just one &#39;\\n&#39;).","title":"Why a loop is running three time in eclipse when the condition is false?","body":"<p>The problem is that you press 'enter' after entering '6' which is good, except, this means that there is an 'enter character' (which is a 'character' just as much as '6' is) in between your first input and your second, and the 'char value' is below '1'. On windows, an enter is in fact 2 characters (CR and LF; 13 and 10 respectively, which are far below <code>'1'</code>), hence, 3 loops.</p>\n<p>Most likely you want a scanner configured to treat newline symbols as separators:</p>\n<pre><code>Scanner s = new Scanner(System.in);\ns.useDelimiter(&quot;\\\\R&quot;); // Any newline symbol\nint c;\ndo {\n  // show menu here\n  c = s.nextInt();\n} while (c &gt;= 1 &amp;&amp; c &lt;= 5);\n</code></pre>\n<p>Alternatively, you can ignore newline symbols. These are '\\r' and '\\n' respectively. Replace <code>c = System.in.read();</code> with:</p>\n<pre><code>readNextChar();\n\n.. below your main method:\n\npublic static char readNextChar() {\n  while (true) {\n    char c = System.in.read();\n    if (c != '\\r' &amp;&amp; c != '\\n') return c;\n  }\n}\n</code></pre>\n<p>Which will read the next char ignoring any newline symbols. (on windows, newline is '\\r\\n' - 2 characters in a row. On any other platform, it's just one '\\n').</p>\n"}],"owner":{"account_id":27072346,"reputation":1,"user_id":20622822,"display_name":"Moinuddin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1669638203,"creation_date":1669634418,"question_id":74599812,"body_markdown":"```\r\npublic class Menu {\r\n\r\n\tpublic static void main(String[] args)\r\n\tthrows java.io.IOException {\r\n\t\tchar choice;\r\n\t\tdo {\r\n\t\t\tSystem.out.println(&quot;Help on:&quot;);\r\n\t\t\tSystem.out.println(&quot; 1. if&quot;);\r\n\t\t\tSystem.out.println(&quot; 2. while&quot;);\r\n\t\t\tSystem.out.println(&quot; 3. do-while&quot;);\r\n\t\t\tSystem.out.println(&quot; 4. for&quot;);\r\n\t\t\tSystem.out.println(&quot; 5. switch&quot;);\r\n\t\t\tchoice = (char) System.in.read();\r\n\t\t} while(choice &lt; &#39;1&#39; || choice &gt; &#39;5&#39;);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nwhen i input 0 or greater than 5 it cause the loop to execute three time. like this:\r\n\r\n    Help on:\r\n     1. if\r\n     2. while\r\n     3. do-while\r\n     4. for\r\n     5. switch\r\n    6\r\n    Help on:\r\n     1. if\r\n     2. while\r\n     3. do-while\r\n     4. for\r\n     5. switch\r\n    Help on:\r\n     1. if\r\n     2. while\r\n     3. do-while\r\n     4. for\r\n     5. switch\r\n    Help on:\r\n     1. if\r\n     2. while\r\n     3. do-while\r\n     4. for\r\n     5. switch\r\n\r\nHow can I fix this problem?","title":"Why a loop is running three time in eclipse when the condition is false?","body":"<pre><code>public class Menu {\n\n    public static void main(String[] args)\n    throws java.io.IOException {\n        char choice;\n        do {\n            System.out.println(&quot;Help on:&quot;);\n            System.out.println(&quot; 1. if&quot;);\n            System.out.println(&quot; 2. while&quot;);\n            System.out.println(&quot; 3. do-while&quot;);\n            System.out.println(&quot; 4. for&quot;);\n            System.out.println(&quot; 5. switch&quot;);\n            choice = (char) System.in.read();\n        } while(choice &lt; '1' || choice &gt; '5');\n    }\n\n}\n\n</code></pre>\n<p>when i input 0 or greater than 5 it cause the loop to execute three time. like this:</p>\n<pre><code>Help on:\n 1. if\n 2. while\n 3. do-while\n 4. for\n 5. switch\n6\nHelp on:\n 1. if\n 2. while\n 3. do-while\n 4. for\n 5. switch\nHelp on:\n 1. if\n 2. while\n 3. do-while\n 4. for\n 5. switch\nHelp on:\n 1. if\n 2. while\n 3. do-while\n 4. for\n 5. switch\n</code></pre>\n<p>How can I fix this problem?</p>\n"},{"tags":["java","json","spring","jackson","uuid"],"answers":[{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669638087,"creation_date":1669638087,"answer_id":74600493,"question_id":74600492,"body_markdown":"The reason was in UUID generator, it was generating\r\n\r\n`a98c543` as the first block having 7 digits instead of 8, like they were missing leading zeroes","title":"not a valid textual representation, problem: UUID has to be represented by the standard","body":"<p>The reason was in UUID generator, it was generating</p>\n<p><code>a98c543</code> as the first block having 7 digits instead of 8, like they were missing leading zeroes</p>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74600493,"answer_count":1,"score":0,"last_activity_date":1669638087,"creation_date":1669638087,"question_id":74600492,"body_markdown":"What is the reason for not valid UUID not being processed with the exception below?\r\n\r\n    WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Can not construct instance of java.util.UUID from String value &#39;a98c543-22de-4330-2995-ff81889aa412&#39;: not a valid textual representation, problem: UUID has to be represented by the standard 36-char representation; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Can not construct instance of java.util.UUID from String value &#39;a98c543-22de-4330-2995-ff81889aa412&#39;: not a valid textual representation, problem: UUID has to be represented by the standard","title":"not a valid textual representation, problem: UUID has to be represented by the standard","body":"<p>What is the reason for not valid UUID not being processed with the exception below?</p>\n<pre><code>WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Can not construct instance of java.util.UUID from String value 'a98c543-22de-4330-2995-ff81889aa412': not a valid textual representation, problem: UUID has to be represented by the standard 36-char representation; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Can not construct instance of java.util.UUID from String value 'a98c543-22de-4330-2995-ff81889aa412': not a valid textual representation, problem: UUID has to be represented by the standard\n</code></pre>\n"},{"tags":["java","android","android-edittext","adjustpan"],"comments":[{"owner":{"account_id":893926,"reputation":1585,"user_id":931639,"accept_rate":77,"display_name":"Boe-Dev"},"score":2,"creation_date":1572090501,"post_id":58570342,"comment_id":103457991,"body_markdown":"Do you have the hole layout in a ScrollView? could you maybe post the Layout?","body":"Do you have the hole layout in a ScrollView? could you maybe post the Layout?"},{"owner":{"account_id":12410013,"reputation":693,"user_id":9042709,"display_name":"Suri"},"score":1,"creation_date":1572090518,"post_id":58570342,"comment_id":103457995,"body_markdown":"Can i see your xml file?","body":"Can i see your xml file?"},{"owner":{"account_id":12410013,"reputation":693,"user_id":9042709,"display_name":"Suri"},"score":0,"creation_date":1572090978,"post_id":58570342,"comment_id":103458082,"body_markdown":"Try to set paddings to your `EditText`, and add `layout_height = &quot;wrap_content&quot;`","body":"Try to set paddings to your <code>EditText</code>, and add <code>layout_height = &quot;wrap_content&quot;</code>"},{"owner":{"account_id":5574637,"reputation":1759,"user_id":4418481,"accept_rate":55,"display_name":"Ben"},"score":1,"creation_date":1572091084,"post_id":58570342,"comment_id":103458103,"body_markdown":"padding works but it make the text inside the EditText shifted towards the bottom which looks unsymmetrical","body":"padding works but it make the text inside the EditText shifted towards the bottom which looks unsymmetrical"},{"owner":{"account_id":12483943,"reputation":879,"user_id":9087754,"display_name":"Abdul"},"score":0,"creation_date":1581594660,"post_id":58570342,"comment_id":106492475,"body_markdown":"what about wrapping the whole layout inside a scroll view","body":"what about wrapping the whole layout inside a scroll view"}],"answers":[{"tags":[],"owner":{"account_id":11910788,"reputation":554,"user_id":9460261,"display_name":"Sagar"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1581492016,"creation_date":1581492016,"answer_id":60183064,"question_id":58570342,"body_markdown":"     &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/constraint2&quot;\r\n\r\n**Add** padding bottom in ConstraintLayout like android:paddingBottom=&quot;8dp&quot;\r\n\r\n\r\n**Remove** android:layout_marginBottom=&quot;8dp&quot; from **Edittext** and **Imageview**\r\ni.e. android:id=&quot;@+id/et_Message&quot; and  android:id=&quot;@+id/ib_Send&quot;\r\n\r\n\r\n**Then rerun again**\r\n\r\n","title":"Adding Margin between EditText and keyboard","body":"<pre><code> &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=\"@+id/constraint2\"\n</code></pre>\n\n<p><strong>Add</strong> padding bottom in ConstraintLayout like android:paddingBottom=\"8dp\"</p>\n\n<p><strong>Remove</strong> android:layout_marginBottom=\"8dp\" from <strong>Edittext</strong> and <strong>Imageview</strong>\ni.e. android:id=\"@+id/et_Message\" and  android:id=\"@+id/ib_Send\"</p>\n\n<p><strong>Then rerun again</strong></p>\n"},{"tags":[],"owner":{"account_id":438563,"reputation":16902,"user_id":1511776,"accept_rate":92,"display_name":"hardartcore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581502405,"creation_date":1581502405,"answer_id":60185890,"question_id":58570342,"body_markdown":"First of all I think your layout should be improved, there is no need to use two `ConstraintLayout` in a single xml file and the second one is a child of the first / main one. The idea behind this view is to flatten your whole layout, so as first step I think you should get rid off the second `ConstraintLayout`.\r\n\r\nI&#39;ve create a simple layout which looks a little like yours in order to test if my implementation will work, so here is the layout file:\r\n\r\n\r\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n        &lt;View\r\n            android:layout_width=&quot;0dip&quot;\r\n            android:layout_height=&quot;0dip&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/edit_text&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/edit_text&quot;\r\n            android:layout_width=&quot;0dip&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;12dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot;\r\n            android:background=&quot;@drawable/rounded&quot;\r\n            android:gravity=&quot;center_vertical&quot;\r\n            android:hint=&quot;Text&quot;\r\n            android:importantForAutofill=&quot;no&quot;\r\n            android:inputType=&quot;textMultiLine|textPersonName&quot;\r\n            android:paddingStart=&quot;32dip&quot;\r\n            android:paddingEnd=&quot;32dip&quot;\r\n            android:textSize=&quot;16sp&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@id/bottom_navigation_view&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@+id/btn_send&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            tools:ignore=&quot;HardcodedText&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn_send&quot;\r\n            android:layout_width=&quot;0dip&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;12dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot;\r\n            android:text=&quot;SEND&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@id/bottom_navigation_view&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            tools:ignore=&quot;HardcodedText&quot; /&gt;\r\n\r\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=&quot;@+id/bottom_navigation_view&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;#c5c6c7&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n&lt;/layout&gt;\r\n\r\nThe structure looks similar to yours, at least the part with the `BottomNavigatioView`, `EditText` and the `Button`. Adding `android:windowSoftInputMode=&quot;adjustPan&quot;` to the `Activity` which holds this layout will give this result (tested on a few devices) :\r\n\r\n\r\n[![screenshot 01][1]][1]\r\n[![screenshot 02][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bQMPr.png\r\n  [2]: https://i.stack.imgur.com/FMaDv.png","title":"Adding Margin between EditText and keyboard","body":"<p>First of all I think your layout should be improved, there is no need to use two <code>ConstraintLayout</code> in a single xml file and the second one is a child of the first / main one. The idea behind this view is to flatten your whole layout, so as first step I think you should get rid off the second <code>ConstraintLayout</code>.</p>\n\n<p>I've create a simple layout which looks a little like yours in order to test if my implementation will work, so here is the layout file:</p>\n\n<p></p>\n\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;View\n        android:layout_width=\"0dip\"\n        android:layout_height=\"0dip\"\n        app:layout_constraintBottom_toTopOf=\"@+id/edit_text\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/edit_text\"\n        android:layout_width=\"0dip\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"12dp\"\n        android:layout_marginTop=\"8dp\"\n        android:layout_marginBottom=\"8dp\"\n        android:background=\"@drawable/rounded\"\n        android:gravity=\"center_vertical\"\n        android:hint=\"Text\"\n        android:importantForAutofill=\"no\"\n        android:inputType=\"textMultiLine|textPersonName\"\n        android:paddingStart=\"32dip\"\n        android:paddingEnd=\"32dip\"\n        android:textSize=\"16sp\"\n        app:layout_constraintBottom_toTopOf=\"@id/bottom_navigation_view\"\n        app:layout_constraintEnd_toStartOf=\"@+id/btn_send\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        tools:ignore=\"HardcodedText\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/btn_send\"\n        android:layout_width=\"0dip\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"12dp\"\n        android:layout_marginTop=\"8dp\"\n        android:layout_marginBottom=\"8dp\"\n        android:text=\"SEND\"\n        app:layout_constraintBottom_toTopOf=\"@id/bottom_navigation_view\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        tools:ignore=\"HardcodedText\" /&gt;\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=\"@+id/bottom_navigation_view\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"#c5c6c7\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\" /&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p>The structure looks similar to yours, at least the part with the <code>BottomNavigatioView</code>, <code>EditText</code> and the <code>Button</code>. Adding <code>android:windowSoftInputMode=\"adjustPan\"</code> to the <code>Activity</code> which holds this layout will give this result (tested on a few devices) :</p>\n\n<p><a href=\"https://i.stack.imgur.com/bQMPr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bQMPr.png\" alt=\"screenshot 01\"></a>\n<a href=\"https://i.stack.imgur.com/FMaDv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FMaDv.png\" alt=\"screenshot 02\"></a></p>\n"},{"comments":[{"owner":{"account_id":6286298,"reputation":1368,"user_id":4885394,"display_name":"George Shalvashvili"},"score":0,"creation_date":1652705616,"post_id":60189637,"comment_id":127663131,"body_markdown":"This is same workaround or a hack repeated just like any other answer. Why not explain how keyboard works, why it is not possible in any other way. How keyboard knows where to show up...","body":"This is same workaround or a hack repeated just like any other answer. Why not explain how keyboard works, why it is not possible in any other way. How keyboard knows where to show up..."}],"tags":[],"owner":{"account_id":15010990,"reputation":1358,"user_id":10835478,"display_name":"niceumang"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1581586123,"creation_date":1581514633,"answer_id":60189637,"question_id":58570342,"body_markdown":"First add **ScrollView** into your XML and add below lines into \r\nAndroidManiFest.xml in your **activity** tag where you use this search **EditText**.\r\n\r\n    android:windowSoftInputMode=&quot;stateAlwaysHidden|adjustResize|adjustPan|adjustResize","title":"Adding Margin between EditText and keyboard","body":"<p>First add <strong>ScrollView</strong> into your XML and add below lines into \nAndroidManiFest.xml in your <strong>activity</strong> tag where you use this search <strong>EditText</strong>.</p>\n\n<pre><code>android:windowSoftInputMode=\"stateAlwaysHidden|adjustResize|adjustPan|adjustResize\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8183818,"reputation":4410,"user_id":6160172,"display_name":"Jamil Hasnine Tamim"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1581576003,"creation_date":1581576003,"answer_id":60201838,"question_id":58570342,"body_markdown":"Try this, add this code in your `AndroidManifest.xml` activity\r\n\r\n\r\n    android:windowSoftInputMode=&quot;adjustPan&quot; \r\n\r\nAdd the following into your root Layout at the `xml` file\r\n\r\n    android:fitsSystemWindows=&quot;true&quot;","title":"Adding Margin between EditText and keyboard","body":"<p>Try this, add this code in your <code>AndroidManifest.xml</code> activity</p>\n\n<pre><code>android:windowSoftInputMode=\"adjustPan\" \n</code></pre>\n\n<p>Add the following into your root Layout at the <code>xml</code> file</p>\n\n<pre><code>android:fitsSystemWindows=\"true\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16898195,"reputation":89,"user_id":12220260,"display_name":"ankitsinh corepix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581582929,"creation_date":1581581630,"answer_id":60203207,"question_id":58570342,"body_markdown":"In your `Layout` file add the following line in the `Constraint` tag.\r\n\r\n    android:isScrollContainer=&quot;true&quot;\r\n\r\n","title":"Adding Margin between EditText and keyboard","body":"<p>In your <code>Layout</code> file add the following line in the <code>Constraint</code> tag.</p>\n\n<pre><code>android:isScrollContainer=\"true\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14613657,"reputation":435,"user_id":10554417,"display_name":"Salar Arabpour"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1581609750,"creation_date":1581609750,"answer_id":60212008,"question_id":58570342,"body_markdown":"i had exact same issue and solved this problem forever with a &#39;easy implementation&#39; and &#39;tested&#39; method..the idea is that when the edit text gains focus scroll view auto scrolls to bottom.let me show you how...\r\n\r\nfirst you should use nested scroll view as parent of main layout\r\n\r\nsecond add a library to find out when keyboard opens\r\n\r\n    implementation &#39;net.yslibrary.keyboardvisibilityevent:keyboardvisibilityevent:2.0.1&#39;\r\n\r\nthird add this class to your project\r\n\r\n    public class KeyboardUtil {\r\n    private View decorView;\r\n    private View contentView;\r\n    //a small helper to allow showing the editText focus\r\n    ViewTreeObserver.OnGlobalLayoutListener onGlobalLayoutListener = new ViewTreeObserver.OnGlobalLayoutListener() {\r\n        @Override\r\n        public void onGlobalLayout() {\r\n            Rect r = new Rect();\r\n            //r will be populated with the coordinates of your view that area still visible.\r\n            decorView.getWindowVisibleDisplayFrame(r);\r\n\r\n            //get screen height and calculate the difference with the useable area from the r\r\n            int height = decorView.getContext().getResources().getDisplayMetrics().heightPixels;\r\n            int diff = height - r.bottom;\r\n\r\n            //if it could be a keyboard add the padding to the view\r\n            if (diff != 0) {\r\n                // if the use-able screen height differs from the total screen height we assume that it shows a keyboard now\r\n                //check if the padding is 0 (if yes set the padding for the keyboard)\r\n                if (contentView.getPaddingBottom() != diff) {\r\n                    //set the padding of the contentView for the keyboard\r\n                    contentView.setPadding(0, 0, 0, diff);\r\n                }\r\n            } else {\r\n                //check if the padding is != 0 (if yes reset the padding)\r\n                if (contentView.getPaddingBottom() != 0) {\r\n                    //reset the padding of the contentView\r\n                    contentView.setPadding(0, 0, 0, 0);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    public KeyboardUtil(Activity act, View contentView) {\r\n        this.decorView = act.getWindow().getDecorView();\r\n        this.contentView = contentView;\r\n\r\n        //only required on newer android versions. it was working on API level 19\r\n        if (Build.VERSION.SDK_INT &gt;= 19) {\r\n            decorView.getViewTreeObserver().addOnGlobalLayoutListener(onGlobalLayoutListener);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Helper to hide the keyboard\r\n     *\r\n     * @param act\r\n     */\r\n    public static void hideKeyboard(Activity act) {\r\n        if (act != null &amp;&amp; act.getCurrentFocus() != null) {\r\n            InputMethodManager inputMethodManager = (InputMethodManager) act.getSystemService(Activity.INPUT_METHOD_SERVICE);\r\n            inputMethodManager.hideSoftInputFromWindow(act.getCurrentFocus().getWindowToken(), 0);\r\n        }\r\n    }\r\n\r\n    public void enable() {\r\n        if (Build.VERSION.SDK_INT &gt;= 19) {\r\n            decorView.getViewTreeObserver().addOnGlobalLayoutListener(onGlobalLayoutListener);\r\n        }\r\n    }\r\n\r\n    public void disable() {\r\n        if (Build.VERSION.SDK_INT &gt;= 19) {\r\n            decorView.getViewTreeObserver().removeOnGlobalLayoutListener(onGlobalLayoutListener);\r\n        }\r\n    }\r\n\r\n    public static void adjustResize(Activity activity, final NestedScrollView scrollView) {\r\n        KeyboardVisibilityEvent.setEventListener(\r\n                activity,\r\n                new KeyboardVisibilityEventListener() {\r\n                    @Override\r\n                    public void onVisibilityChanged(boolean isOpen) {\r\n                        // some code depending on keyboard visiblity status\r\n                        if (isOpen) {\r\n\r\n                            //Scroll view scrolls bottom without changing focus\r\n                            View lastChild = scrollView.getChildAt(scrollView.getChildCount() - 1);\r\n                            int bottom = lastChild.getBottom() + scrollView.getPaddingBottom();\r\n                            int sy = scrollView.getScrollY();\r\n                            int sh = scrollView.getHeight();\r\n                            int delta = bottom - (sy + sh);\r\n\r\n                            scrollView.smoothScrollBy(0, delta);\r\n\r\n\r\n                        } else {\r\n                            //Toast.makeText(context, &quot;keyboard is close&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                        }\r\n                    }\r\n                });} }\r\n   \r\n\r\n\r\nthen use it in your activity like \r\n\r\n    new KeyboardUtil(activity,nestedScrollView);\r\n    KeyboardUtil.adjustResize(activity,nestedScrollView);\r\n\r\nand if you are in fragment you can pass below code as activity:\r\n\r\n    (AppCompatActivity)context\r\n\r\n\r\n","title":"Adding Margin between EditText and keyboard","body":"<p>i had exact same issue and solved this problem forever with a 'easy implementation' and 'tested' method..the idea is that when the edit text gains focus scroll view auto scrolls to bottom.let me show you how...</p>\n\n<p>first you should use nested scroll view as parent of main layout</p>\n\n<p>second add a library to find out when keyboard opens</p>\n\n<pre><code>implementation 'net.yslibrary.keyboardvisibilityevent:keyboardvisibilityevent:2.0.1'\n</code></pre>\n\n<p>third add this class to your project</p>\n\n<pre><code>public class KeyboardUtil {\nprivate View decorView;\nprivate View contentView;\n//a small helper to allow showing the editText focus\nViewTreeObserver.OnGlobalLayoutListener onGlobalLayoutListener = new ViewTreeObserver.OnGlobalLayoutListener() {\n    @Override\n    public void onGlobalLayout() {\n        Rect r = new Rect();\n        //r will be populated with the coordinates of your view that area still visible.\n        decorView.getWindowVisibleDisplayFrame(r);\n\n        //get screen height and calculate the difference with the useable area from the r\n        int height = decorView.getContext().getResources().getDisplayMetrics().heightPixels;\n        int diff = height - r.bottom;\n\n        //if it could be a keyboard add the padding to the view\n        if (diff != 0) {\n            // if the use-able screen height differs from the total screen height we assume that it shows a keyboard now\n            //check if the padding is 0 (if yes set the padding for the keyboard)\n            if (contentView.getPaddingBottom() != diff) {\n                //set the padding of the contentView for the keyboard\n                contentView.setPadding(0, 0, 0, diff);\n            }\n        } else {\n            //check if the padding is != 0 (if yes reset the padding)\n            if (contentView.getPaddingBottom() != 0) {\n                //reset the padding of the contentView\n                contentView.setPadding(0, 0, 0, 0);\n            }\n        }\n    }\n};\n\npublic KeyboardUtil(Activity act, View contentView) {\n    this.decorView = act.getWindow().getDecorView();\n    this.contentView = contentView;\n\n    //only required on newer android versions. it was working on API level 19\n    if (Build.VERSION.SDK_INT &gt;= 19) {\n        decorView.getViewTreeObserver().addOnGlobalLayoutListener(onGlobalLayoutListener);\n    }\n}\n\n/**\n * Helper to hide the keyboard\n *\n * @param act\n */\npublic static void hideKeyboard(Activity act) {\n    if (act != null &amp;&amp; act.getCurrentFocus() != null) {\n        InputMethodManager inputMethodManager = (InputMethodManager) act.getSystemService(Activity.INPUT_METHOD_SERVICE);\n        inputMethodManager.hideSoftInputFromWindow(act.getCurrentFocus().getWindowToken(), 0);\n    }\n}\n\npublic void enable() {\n    if (Build.VERSION.SDK_INT &gt;= 19) {\n        decorView.getViewTreeObserver().addOnGlobalLayoutListener(onGlobalLayoutListener);\n    }\n}\n\npublic void disable() {\n    if (Build.VERSION.SDK_INT &gt;= 19) {\n        decorView.getViewTreeObserver().removeOnGlobalLayoutListener(onGlobalLayoutListener);\n    }\n}\n\npublic static void adjustResize(Activity activity, final NestedScrollView scrollView) {\n    KeyboardVisibilityEvent.setEventListener(\n            activity,\n            new KeyboardVisibilityEventListener() {\n                @Override\n                public void onVisibilityChanged(boolean isOpen) {\n                    // some code depending on keyboard visiblity status\n                    if (isOpen) {\n\n                        //Scroll view scrolls bottom without changing focus\n                        View lastChild = scrollView.getChildAt(scrollView.getChildCount() - 1);\n                        int bottom = lastChild.getBottom() + scrollView.getPaddingBottom();\n                        int sy = scrollView.getScrollY();\n                        int sh = scrollView.getHeight();\n                        int delta = bottom - (sy + sh);\n\n                        scrollView.smoothScrollBy(0, delta);\n\n\n                    } else {\n                        //Toast.makeText(context, \"keyboard is close\", Toast.LENGTH_SHORT).show();\n\n                    }\n                }\n            });} }\n</code></pre>\n\n<p>then use it in your activity like </p>\n\n<pre><code>new KeyboardUtil(activity,nestedScrollView);\nKeyboardUtil.adjustResize(activity,nestedScrollView);\n</code></pre>\n\n<p>and if you are in fragment you can pass below code as activity:</p>\n\n<pre><code>(AppCompatActivity)context\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3288977,"reputation":9634,"user_id":2767703,"accept_rate":94,"display_name":"Kevin van Mierlo"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1582104581,"creation_date":1582104581,"answer_id":60296967,"question_id":58570342,"body_markdown":"I had a lot of problems with the keyboard myself, but I prefer using `android:windowSoftInputMode=&quot;adjustResize&quot;` so you can handle the changes yourself. You should add a windowInsetsListener to your root view and if you don&#39;t have a transparent navigation bar the `systemWindowInsetBottom` should only be the keyboard. So you can just add padding to the container you&#39;re interested in. This is an example I use:\r\n\r\n```\r\nrootContainer.setOnApplyWindowInsetsListener { view, windowInsets -&gt;\r\n    var containerPadding = 0\r\n    if (windowInsets.systemWindowInsetBottom &gt; 0) {\r\n        val bottomBarHeight = bottomBar.bottom - bottomBar.top\r\n        containerPadding = windowInsets.systemWindowInsetBottom - bottomBarHeight\r\n    }\r\n\r\n    if (containerPadding &lt; 0) {\r\n        containerPadding = 0\r\n    }\r\n\r\n    contentView.bottomPadding = containerPadding\r\n\r\n    return@setOnApplyWindowInsetsListener windowInsets.replaceSystemWindowInsets(windowInsets.systemWindowInsetLeft, windowInsets.systemWindowInsetTop, windowInsets.systemWindowInsetRight, 0)\r\n}\r\n```\r\n\r\nThis way you can move the container above the bottomBar up (which has your `EditText` in it).\r\n\r\nFor me this was the best option I&#39;ve found so far. Most options rely on GlobalLayoutListeners and see how much it changes, but this is far more reliable. ","title":"Adding Margin between EditText and keyboard","body":"<p>I had a lot of problems with the keyboard myself, but I prefer using <code>android:windowSoftInputMode=\"adjustResize\"</code> so you can handle the changes yourself. You should add a windowInsetsListener to your root view and if you don't have a transparent navigation bar the <code>systemWindowInsetBottom</code> should only be the keyboard. So you can just add padding to the container you're interested in. This is an example I use:</p>\n\n<pre><code>rootContainer.setOnApplyWindowInsetsListener { view, windowInsets -&gt;\n    var containerPadding = 0\n    if (windowInsets.systemWindowInsetBottom &gt; 0) {\n        val bottomBarHeight = bottomBar.bottom - bottomBar.top\n        containerPadding = windowInsets.systemWindowInsetBottom - bottomBarHeight\n    }\n\n    if (containerPadding &lt; 0) {\n        containerPadding = 0\n    }\n\n    contentView.bottomPadding = containerPadding\n\n    return@setOnApplyWindowInsetsListener windowInsets.replaceSystemWindowInsets(windowInsets.systemWindowInsetLeft, windowInsets.systemWindowInsetTop, windowInsets.systemWindowInsetRight, 0)\n}\n</code></pre>\n\n<p>This way you can move the container above the bottomBar up (which has your <code>EditText</code> in it).</p>\n\n<p>For me this was the best option I've found so far. Most options rely on GlobalLayoutListeners and see how much it changes, but this is far more reliable. </p>\n"},{"tags":[],"owner":{"account_id":9945338,"reputation":2500,"user_id":7360275,"display_name":"Osama Remlawi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1614868668,"creation_date":1614868668,"answer_id":66477225,"question_id":58570342,"body_markdown":"There is one trick to do it:\r\n\r\n1- put the EditText inside a CardView \r\n\r\n2- style the CardView to looks like a TextEdit\r\n\r\n3- add these properties to the  `EditText`\r\n\r\n    android:paddingBottom=&quot;15dp&quot;\r\n    android:paddingTop=&quot;15dp&quot;\r\n    android:background=&quot;@android:color/transparent&quot;","title":"Adding Margin between EditText and keyboard","body":"<p>There is one trick to do it:</p>\n<p>1- put the EditText inside a CardView</p>\n<p>2- style the CardView to looks like a TextEdit</p>\n<p>3- add these properties to the  <code>EditText</code></p>\n<pre><code>android:paddingBottom=&quot;15dp&quot;\nandroid:paddingTop=&quot;15dp&quot;\nandroid:background=&quot;@android:color/transparent&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2042440,"reputation":698,"user_id":1823280,"accept_rate":75,"display_name":"nibbana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640604661,"creation_date":1640604661,"answer_id":70494910,"question_id":58570342,"body_markdown":"Replace the `EditText` view with a `TextInputEditText` view and simply add padding to its bottom, like:\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        ...\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:paddingBottom=&quot;30dp&quot;\r\n            ...\r\n            android:textSize=&quot;15sp&quot;\r\n            android:hint=&quot;@string/txt_hint_add_comment&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n        /&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n","title":"Adding Margin between EditText and keyboard","body":"<p>Replace the <code>EditText</code> view with a <code>TextInputEditText</code> view and simply add padding to its bottom, like:</p>\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n    ...\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:paddingBottom=&quot;30dp&quot;\n        ...\n        android:textSize=&quot;15sp&quot;\n        android:hint=&quot;@string/txt_hint_add_comment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n    /&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17039341,"reputation":21,"user_id":12327643,"display_name":"Jimmy Hendrix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669637826,"creation_date":1669637826,"answer_id":74600447,"question_id":58570342,"body_markdown":"Add padding bottom to TextInputLayout","title":"Adding Margin between EditText and keyboard","body":"<p>Add padding bottom to TextInputLayout</p>\n"}],"owner":{"account_id":5574637,"reputation":1759,"user_id":4418481,"accept_rate":55,"display_name":"Ben"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4973,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":10,"score":10,"last_activity_date":1669637826,"creation_date":1572089374,"question_id":58570342,"body_markdown":"So this question has been asked few times already in here in the past years and non of the solutions worked for me.\r\n\r\nThe problem is that when I use `AdjustPan` to move the softkeyboard it hides part of the `EditText` as follows:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe solutions I tried are:\r\n\r\n[Solution 1 (2011)][2]\r\n\r\n[Solution 2 (2014)][3]\r\n\r\n[Solution 3 (2013)][4]\r\n\r\n\r\nMost of the answers include using `AdjustPan/AdjustResize` so I will just say that none of them give the desired solution (Showing the whole `EditText` when keyboard is opened).\r\n\r\nI was thinking maybe in 2019 there is a working solution for this problem.\r\n\r\nThe xml for this layout is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/colorWhite&quot;\r\n        tools:context=&quot;.ChatActivity&quot;&gt;\r\n    \r\n    \r\n        &lt;androidx.appcompat.widget.ActionMenuView\r\n            android:id=&quot;@+id/actionbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:background=&quot;@color/colorGrayBox&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHeight_percent=&quot;0.1&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n        &lt;/androidx.appcompat.widget.ActionMenuView&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/tv_This&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;24dp&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:fontFamily=&quot;@font/open_sans&quot;\r\n            android:text=&quot;@string/ActivityChat_This&quot;\r\n            android:textSize=&quot;12sp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/actionbar&quot; /&gt;\r\n    \r\n        &lt;View\r\n            android:id=&quot;@+id/v_Line&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;1px&quot;\r\n            android:layout_marginLeft=&quot;24dp&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:layout_marginRight=&quot;24dp&quot;\r\n            android:background=&quot;@color/colorLightGray&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/tv_This&quot; /&gt;\r\n    \r\n        &lt;androidx.cardview.widget.CardView\r\n            android:id=&quot;@+id/imagecard&quot;\r\n            android:layout_width=&quot;40dp&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            android:layout_marginStart=&quot;16dp&quot;\r\n            app:cardCornerRadius=&quot;20dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/actionbar&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    \r\n            &lt;ImageButton\r\n                android:id=&quot;@+id/ivPersonPic&quot;\r\n                android:layout_width=&quot;40dp&quot;\r\n                android:layout_height=&quot;40dp&quot;\r\n                android:background=&quot;@null&quot; /&gt;\r\n    \r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/username&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;16dp&quot;\r\n            android:fontFamily=&quot;@font/assistant_bold&quot;\r\n            android:textColor=&quot;@color/colorLightPurple&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/actionbar&quot;\r\n            app:layout_constraintStart_toEndOf=&quot;@+id/imagecard&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/rv_Messages&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/constraint2&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/v_Line&quot;/&gt;\r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/constraint2&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/bottom_navigation&quot;\r\n            app:layout_constraintHeight_percent=&quot;0.1&quot;&gt;\r\n    \r\n            &lt;EditText\r\n                android:id=&quot;@+id/et_Message&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_marginStart=&quot;12dp&quot;\r\n                android:layout_marginTop=&quot;8dp&quot;\r\n                android:layout_marginBottom=&quot;8dp&quot;\r\n                android:background=&quot;@drawable/et_rounded&quot;\r\n                android:fontFamily=&quot;@font/assistant&quot;\r\n                android:gravity=&quot;center_vertical&quot;\r\n                android:hint=&quot;@string/ActivityChat_Type&quot;\r\n                android:inputType=&quot;textMultiLine|textPersonName&quot;\r\n                android:paddingEnd=&quot;32dp&quot;\r\n                android:paddingStart=&quot;32dp&quot;\r\n                android:textSize=&quot;16sp&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintWidth_percent=&quot;0.85&quot; /&gt;\r\n    \r\n            &lt;ImageButton\r\n                android:id=&quot;@+id/ib_Send&quot;\r\n                style=&quot;?android:borderlessButtonStyle&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_marginTop=&quot;8dp&quot;\r\n                android:layout_marginEnd=&quot;8dp&quot;\r\n                android:layout_marginBottom=&quot;8dp&quot;\r\n                android:adjustViewBounds=&quot;true&quot;\r\n                android:src=&quot;@drawable/ic_chats_send&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintWidth_percent=&quot;0.1&quot; /&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=&quot;@+id/bottom_navigation&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            app:itemBackground=&quot;@color/colorWhite&quot;\r\n            app:itemIconTint=&quot;@drawable/btm_nav&quot;\r\n            app:itemTextColor=&quot;@drawable/btm_nav&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHeight_percent=&quot;0.08&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:menu=&quot;@menu/menu_btm_nav&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/XxqLw.png\r\n  [2]: https://stackoverflow.com/questions/4558810/adjustpan-not-preventing-keyboard-from-covering-edittext\r\n  [3]: https://stackoverflow.com/questions/21441372/how-to-add-margin-between-edittext-and-soft-keyboard\r\n  [4]: https://stackoverflow.com/questions/18658359/how-to-set-the-distance-from-soft-keyboard-to-edittext","title":"Adding Margin between EditText and keyboard","body":"<p>So this question has been asked few times already in here in the past years and non of the solutions worked for me.</p>\n\n<p>The problem is that when I use <code>AdjustPan</code> to move the softkeyboard it hides part of the <code>EditText</code> as follows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/XxqLw.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/XxqLw.png\" alt=\"enter image description here\"></a></p>\n\n<p>The solutions I tried are:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/4558810/adjustpan-not-preventing-keyboard-from-covering-edittext\">Solution 1 (2011)</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/21441372/how-to-add-margin-between-edittext-and-soft-keyboard\">Solution 2 (2014)</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/18658359/how-to-set-the-distance-from-soft-keyboard-to-edittext\">Solution 3 (2013)</a></p>\n\n<p>Most of the answers include using <code>AdjustPan/AdjustResize</code> so I will just say that none of them give the desired solution (Showing the whole <code>EditText</code> when keyboard is opened).</p>\n\n<p>I was thinking maybe in 2019 there is a working solution for this problem.</p>\n\n<p>The xml for this layout is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/colorWhite\"\n    tools:context=\".ChatActivity\"&gt;\n\n\n    &lt;androidx.appcompat.widget.ActionMenuView\n        android:id=\"@+id/actionbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\"\n        android:background=\"@color/colorGrayBox\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHeight_percent=\"0.1\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"&gt;\n    &lt;/androidx.appcompat.widget.ActionMenuView&gt;\n\n    &lt;TextView\n        android:id=\"@+id/tv_This\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"24dp\"\n        android:layout_marginTop=\"16dp\"\n        android:fontFamily=\"@font/open_sans\"\n        android:text=\"@string/ActivityChat_This\"\n        android:textSize=\"12sp\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/actionbar\" /&gt;\n\n    &lt;View\n        android:id=\"@+id/v_Line\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"1px\"\n        android:layout_marginLeft=\"24dp\"\n        android:layout_marginTop=\"16dp\"\n        android:layout_marginRight=\"24dp\"\n        android:background=\"@color/colorLightGray\"\n        app:layout_constraintTop_toBottomOf=\"@+id/tv_This\" /&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=\"@+id/imagecard\"\n        android:layout_width=\"40dp\"\n        android:layout_height=\"40dp\"\n        android:layout_marginStart=\"16dp\"\n        app:cardCornerRadius=\"20dp\"\n        app:layout_constraintBottom_toBottomOf=\"@+id/actionbar\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n        &lt;ImageButton\n            android:id=\"@+id/ivPersonPic\"\n            android:layout_width=\"40dp\"\n            android:layout_height=\"40dp\"\n            android:background=\"@null\" /&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;TextView\n        android:id=\"@+id/username\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"16dp\"\n        android:fontFamily=\"@font/assistant_bold\"\n        android:textColor=\"@color/colorLightPurple\"\n        android:textSize=\"18sp\"\n        app:layout_constraintBottom_toBottomOf=\"@+id/actionbar\"\n        app:layout_constraintStart_toEndOf=\"@+id/imagecard\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=\"@+id/rv_Messages\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:layout_marginTop=\"8dp\"\n        app:layout_constraintBottom_toTopOf=\"@+id/constraint2\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/v_Line\"/&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=\"@+id/constraint2\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\"\n        app:layout_constraintBottom_toTopOf=\"@+id/bottom_navigation\"\n        app:layout_constraintHeight_percent=\"0.1\"&gt;\n\n        &lt;EditText\n            android:id=\"@+id/et_Message\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"match_parent\"\n            android:layout_marginStart=\"12dp\"\n            android:layout_marginTop=\"8dp\"\n            android:layout_marginBottom=\"8dp\"\n            android:background=\"@drawable/et_rounded\"\n            android:fontFamily=\"@font/assistant\"\n            android:gravity=\"center_vertical\"\n            android:hint=\"@string/ActivityChat_Type\"\n            android:inputType=\"textMultiLine|textPersonName\"\n            android:paddingEnd=\"32dp\"\n            android:paddingStart=\"32dp\"\n            android:textSize=\"16sp\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintWidth_percent=\"0.85\" /&gt;\n\n        &lt;ImageButton\n            android:id=\"@+id/ib_Send\"\n            style=\"?android:borderlessButtonStyle\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"match_parent\"\n            android:layout_marginTop=\"8dp\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginBottom=\"8dp\"\n            android:adjustViewBounds=\"true\"\n            android:src=\"@drawable/ic_chats_send\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintWidth_percent=\"0.1\" /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=\"@+id/bottom_navigation\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        app:itemBackground=\"@color/colorWhite\"\n        app:itemIconTint=\"@drawable/btm_nav\"\n        app:itemTextColor=\"@drawable/btm_nav\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHeight_percent=\"0.08\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:menu=\"@menu/menu_btm_nav\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669637766,"creation_date":1669637356,"answer_id":74600369,"question_id":74599583,"body_markdown":"@Transformer(inputChannel = &quot;in&quot;, outputChannel = &quot;out.input&quot;)\r\n\r\nor define channel name manualy\r\n\r\n@Bean\r\npublic MessageChannel out() {\r\n    return MessageChannels.direct(&quot;out&quot;).get();\r\n}\r\n\r\n","title":"Spring Integration - replace XML by annotation, how to convert anonymous channels?","body":"<p>@Transformer(inputChannel = &quot;in&quot;, outputChannel = &quot;out.input&quot;)</p>\n<p>or define channel name manualy</p>\n<p>@Bean\npublic MessageChannel out() {\nreturn MessageChannels.direct(&quot;out&quot;).get();\n}</p>\n"}],"owner":{"account_id":27072153,"reputation":3,"user_id":20622661,"display_name":"Hopla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74600369,"answer_count":1,"score":0,"last_activity_date":1669637766,"creation_date":1669633166,"question_id":74599583,"body_markdown":"I am converting Spring Integration beans from XML to annotations. In my XML, I have the following transformer:\r\n\r\n```\r\n&lt;int:transformer ref=&quot;...&quot; input-channel=&quot;in&quot; output-channel=&quot;out&quot;&gt;\r\n    ...\r\n&lt;/int:transformer&gt;\r\n```\r\n\r\nI replaced this with:\r\n\r\n```\r\n@Transformer(inputChannel = &quot;in&quot;, outputChannel = &quot;out&quot;)\r\n```\r\n\r\nHere, the `out` channel is nowhere defined, it is anonymous. This no longer works in annotation, I get:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nA component required a bean named &#39;out&#39; that could not be found.\r\n```\r\n\r\nI should manually create such channel. My question is if the following is the correct and equivalent counter part of the implicit channel creation which is happening when using XML notation?\r\n\r\n```\r\n@Bean\r\npublic QueueChannel out() {\r\n    return new QueueChannel();\r\n}\r\n```\r\n\r\nThat is, is `QueueChannel` the correct channel type here?\r\n\r\nIt seems to work, but I am not sure if both solution are fully equal.","title":"Spring Integration - replace XML by annotation, how to convert anonymous channels?","body":"<p>I am converting Spring Integration beans from XML to annotations. In my XML, I have the following transformer:</p>\n<pre><code>&lt;int:transformer ref=&quot;...&quot; input-channel=&quot;in&quot; output-channel=&quot;out&quot;&gt;\n    ...\n&lt;/int:transformer&gt;\n</code></pre>\n<p>I replaced this with:</p>\n<pre><code>@Transformer(inputChannel = &quot;in&quot;, outputChannel = &quot;out&quot;)\n</code></pre>\n<p>Here, the <code>out</code> channel is nowhere defined, it is anonymous. This no longer works in annotation, I get:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nA component required a bean named 'out' that could not be found.\n</code></pre>\n<p>I should manually create such channel. My question is if the following is the correct and equivalent counter part of the implicit channel creation which is happening when using XML notation?</p>\n<pre><code>@Bean\npublic QueueChannel out() {\n    return new QueueChannel();\n}\n</code></pre>\n<p>That is, is <code>QueueChannel</code> the correct channel type here?</p>\n<p>It seems to work, but I am not sure if both solution are fully equal.</p>\n"},{"tags":["java","httprequest"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669637686,"creation_date":1669637686,"answer_id":74600420,"question_id":74600346,"body_markdown":"For responses with status codes 400 and higher you need to use `connection.getErrorStream()`. Calling `connection.getOutputStream()` will throw an exception. You can use `connection.getResponseCode()` before calling `connection.getOutputStream()` or `connection.getErrorStream()` to determine the status, and therefore which of the two methods to use.","title":"Http Request using java.net.* package","body":"<p>For responses with status codes 400 and higher you need to use <code>connection.getErrorStream()</code>. Calling <code>connection.getOutputStream()</code> will throw an exception. You can use <code>connection.getResponseCode()</code> before calling <code>connection.getOutputStream()</code> or <code>connection.getErrorStream()</code> to determine the status, and therefore which of the two methods to use.</p>\n"}],"owner":{"account_id":23791468,"reputation":11,"user_id":17802855,"display_name":"Harish Algat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669637686,"creation_date":1669637239,"question_id":74600346,"body_markdown":"I am firing API calls through java package java.net.* \r\nBut, for 400 and above Responses I am not getting the response body. So Not able to figure out why the call is failing.\r\n\r\nBelow snippet fires the call.\r\n\r\n    public static String sendPostRequest(String requestUrl, String payload, Map&lt;String, String&gt; requestProperties) {\r\n            StringBuffer jsonString = new StringBuffer();\r\n            try {\r\n                URL url = new URL(requestUrl);\r\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n    \r\n                connection.setDoInput(true);\r\n                connection.setDoOutput(true);\r\n                connection.setRequestMethod(&quot;POST&quot;);\r\n                Set&lt;String&gt; keys = requestProperties.keySet();\r\n                for (String property : keys) {\r\n                    connection.setRequestProperty(property, requestProperties.get(property));\r\n                }\r\n                OutputStreamWriter writer = new OutputStreamWriter(connection.getOutputStream(), StandardCharsets.UTF_8);\r\n                writer.write(payload);\r\n                writer.close();\r\n                BufferedReader br = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n                String line;\r\n                while ((line = br.readLine()) != null) {\r\n                    jsonString.append(line);\r\n                }\r\n                br.close();\r\n                connection.disconnect();\r\n                //  System.out.println(&quot;response  &quot; + jsonString.toString());\r\n    \r\n            } catch (Exception e) {\r\n                log.error(&quot;Error for call &quot; + requestUrl);\r\n                log.error(e.getMessage());\r\n            }\r\n            return jsonString.toString();\r\n        }\r\n\r\nIs there any work around?\r\n\r\n","title":"Http Request using java.net.* package","body":"<p>I am firing API calls through java package java.net.*\nBut, for 400 and above Responses I am not getting the response body. So Not able to figure out why the call is failing.</p>\n<p>Below snippet fires the call.</p>\n<pre><code>public static String sendPostRequest(String requestUrl, String payload, Map&lt;String, String&gt; requestProperties) {\n        StringBuffer jsonString = new StringBuffer();\n        try {\n            URL url = new URL(requestUrl);\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n\n            connection.setDoInput(true);\n            connection.setDoOutput(true);\n            connection.setRequestMethod(&quot;POST&quot;);\n            Set&lt;String&gt; keys = requestProperties.keySet();\n            for (String property : keys) {\n                connection.setRequestProperty(property, requestProperties.get(property));\n            }\n            OutputStreamWriter writer = new OutputStreamWriter(connection.getOutputStream(), StandardCharsets.UTF_8);\n            writer.write(payload);\n            writer.close();\n            BufferedReader br = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n            String line;\n            while ((line = br.readLine()) != null) {\n                jsonString.append(line);\n            }\n            br.close();\n            connection.disconnect();\n            //  System.out.println(&quot;response  &quot; + jsonString.toString());\n\n        } catch (Exception e) {\n            log.error(&quot;Error for call &quot; + requestUrl);\n            log.error(e.getMessage());\n        }\n        return jsonString.toString();\n    }\n</code></pre>\n<p>Is there any work around?</p>\n"},{"tags":["java","spring-boot","camunda","dmn"],"comments":[{"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"score":0,"creation_date":1669341088,"post_id":74548020,"comment_id":131625942,"body_markdown":"Can you add a test DMN?","body":"Can you add a test DMN?"},{"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"score":0,"creation_date":1669519016,"post_id":74548020,"comment_id":131657991,"body_markdown":"How are you applying the round function where? On the column header?","body":"How are you applying the round function where? On the column header?"}],"answers":[{"tags":[],"owner":{"account_id":24763818,"reputation":41,"user_id":18647882,"display_name":"Floor is Java"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669636821,"creation_date":1669636821,"answer_id":74600286,"question_id":74548020,"body_markdown":"I found solution. The problem was exactly with the float-values\r\n\r\n[![Camunda][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ydXl4.png\r\n\r\nI just added script in the Expression field\r\n","title":"Dmn table variable rounding using Camunda and SpringBoot (double calculation precision problem)","body":"<p>I found solution. The problem was exactly with the float-values</p>\n<p><a href=\"https://i.stack.imgur.com/ydXl4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ydXl4.png\" alt=\"Camunda\" /></a></p>\n<p>I just added script in the Expression field</p>\n"}],"owner":{"account_id":24763818,"reputation":41,"user_id":18647882,"display_name":"Floor is Java"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669636821,"creation_date":1669212029,"question_id":74548020,"body_markdown":"I use Camunda and Spring Boot.\r\n\r\nI created a dmn-table. But i discoverd a double precision calculation problem.\r\n \r\n[![enter image description here](https://i.stack.imgur.com/eSSNu.png)](https://i.stack.imgur.com/eSSNu.png)\r\n\r\nI need to calculate result with this dmn table.\r\nWe have two variables that come from java: float a, double b.\r\nFor example: a= 0.2, b=0.6\r\nAnd the interval:\r\n[![enter image description here](https://i.stack.imgur.com/SMGZ7.png)](https://i.stack.imgur.com/SMGZ7.png)\r\n\r\nBut the precision problem gives me b=0.600000000001~ insted of 0.6 and table gives me another interval\r\n[![enter image description here](https://i.stack.imgur.com/fAjQp.png)](https://i.stack.imgur.com/fAjQp.png)\r\n\r\nHow can i place rounding inside the dmn table to receive variable result as #.#?\r\n\r\n\r\nI found a way to round variable, but i doesn&#39;t work\r\n[![enter image description here](https://i.stack.imgur.com/4TDjr.png)](https://i.stack.imgur.com/4TDjr.png)","title":"Dmn table variable rounding using Camunda and SpringBoot (double calculation precision problem)","body":"<p>I use Camunda and Spring Boot.</p>\n<p>I created a dmn-table. But i discoverd a double precision calculation problem.</p>\n<p><a href=\"https://i.stack.imgur.com/eSSNu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eSSNu.png\" alt=\"enter image description here\" /></a></p>\n<p>I need to calculate result with this dmn table.\nWe have two variables that come from java: float a, double b.\nFor example: a= 0.2, b=0.6\nAnd the interval:\n<a href=\"https://i.stack.imgur.com/SMGZ7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SMGZ7.png\" alt=\"enter image description here\" /></a></p>\n<p>But the precision problem gives me b=0.600000000001~ insted of 0.6 and table gives me another interval\n<a href=\"https://i.stack.imgur.com/fAjQp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fAjQp.png\" alt=\"enter image description here\" /></a></p>\n<p>How can i place rounding inside the dmn table to receive variable result as #.#?</p>\n<p>I found a way to round variable, but i doesn't work\n<a href=\"https://i.stack.imgur.com/4TDjr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4TDjr.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","heroku","spring-boot-gradle-plugin"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1669625000,"post_id":74595549,"comment_id":131675996,"body_markdown":"You are using Java8 **not** Java17 as you can see from the output. Spring Boot 3 has as a minimum requirement Java17, so you must use at least java 17 or higher.","body":"You are using Java8 <b>not</b> Java17 as you can see from the output. Spring Boot 3 has as a minimum requirement Java17, so you must use at least java 17 or higher."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1669687036,"post_id":74595549,"comment_id":131694208,"body_markdown":"Why is this that you keep posting the same question under different guises? https://stackoverflow.com/q/74586031/839733","body":"Why is this that you keep posting the same question under different guises? <a href=\"https://stackoverflow.com/q/74586031/839733\">stackoverflow.com/q/74586031/839733</a>"},{"owner":{"account_id":11699911,"reputation":363,"user_id":8565380,"display_name":"Harsh"},"score":0,"creation_date":1670499317,"post_id":74595549,"comment_id":131891714,"body_markdown":"Hi, for me it was spring boot 3 causing the issue, if you are not very keen about it , try using spring 2.7.6 or some older version","body":"Hi, for me it was spring boot 3 causing the issue, if you are not very keen about it , try using spring 2.7.6 or some older version"}],"answers":[{"tags":[],"owner":{"account_id":145051,"reputation":130109,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669636760,"creation_date":1669636760,"answer_id":74600272,"question_id":74595549,"body_markdown":"You may be using Java 17 locally, but on Heroku you&#39;re using Java 8. [This is the default][1]:\r\n\r\n&gt; Heroku currently uses **OpenJDK 8** to run your application by default. Other OpenJDK versions are also available. Depending on the OpenJDK version you select the latest available version of that JDK will be used each time you deploy your app.\r\n\r\nYou need to [explicitly request the correct version of Java][2]. Add a file called `system.properties` to the root directory of your project that contains\r\n\r\n```none\r\njava.runtime.version=17\r\n```\r\n\r\nthen commit and redeploy.\r\n\r\n[1]: https://devcenter.heroku.com/articles/java-support#supported-java-versions\r\n[2]: https://devcenter.heroku.com/articles/java-support#specifying-a-java-version\r\n","title":"How to fix spring-boot-gradle-plugin:3.0.0 issue?","body":"<p>You may be using Java 17 locally, but on Heroku you're using Java 8. <a href=\"https://devcenter.heroku.com/articles/java-support#supported-java-versions\" rel=\"nofollow noreferrer\">This is the default</a>:</p>\n<blockquote>\n<p>Heroku currently uses <strong>OpenJDK 8</strong> to run your application by default. Other OpenJDK versions are also available. Depending on the OpenJDK version you select the latest available version of that JDK will be used each time you deploy your app.</p>\n</blockquote>\n<p>You need to <a href=\"https://devcenter.heroku.com/articles/java-support#specifying-a-java-version\" rel=\"nofollow noreferrer\">explicitly request the correct version of Java</a>. Add a file called <code>system.properties</code> to the root directory of your project that contains</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.runtime.version=17\n</code></pre>\n<p>then commit and redeploy.</p>\n"}],"owner":{"account_id":18727290,"reputation":137,"user_id":13653602,"display_name":"noBoom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9840,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1669689144,"answer_count":1,"score":2,"last_activity_date":1669636760,"creation_date":1669604422,"question_id":74595549,"body_markdown":"I am deploying `spring boot` app on heroku using gitlab ci/cd\r\n\r\ni am using `spring boot 3.0.0` and `java 17`\r\n\r\nAnyone knows how to fix it?\r\nAlso on line 8 it&#39;s `-----&gt; Installing OpenJDK 1.8... done` i don&#39;t know why and how even i have java 17 in app\r\n\r\n```\r\nDeploying application\r\nuploading application archive\r\ntriggering new deployment\r\n-----&gt; Building on the Heroku-22 stack\r\n-----&gt; Determining which buildpack to use for this app\r\n-----&gt; Gradle app detected\r\n-----&gt; Spring Boot detected\r\n-----&gt; Installing OpenJDK 1.8... done\r\n-----&gt; Building Gradle app...\r\n-----&gt; executing ./gradlew build -x check\r\n       Downloading https://services.gradle.org/distributions/gradle-7.5.1-bin.zip\r\n       ...........10%............20%...........30%............40%...........50%............60%...........70%............80%...........90%............100%\r\n       To honour the JVM settings for this build a single-use Daemon process will be forked. See https://docs.gradle.org/7.5.1/userguide/gradle_daemon.html#sec:disabling_the_daemon.\r\n       Daemon will be stopped at the end of the build \r\n       \r\n       FAILURE: Build failed with an exception.\r\n       \r\n       * What went wrong:\r\n       A problem occurred configuring root project &#39;auth&#39;.\r\n       &gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n          &gt; Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.0.0.\r\n            Required by:\r\n                project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.0.0\r\n             &gt; No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.0.0 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.5.1&#39; but:\r\n                 - Variant &#39;apiElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.0 declares a library, packaged as a jar, and its dependencies declared externally:\r\n                     - Incompatible because this component declares an API of a component compatible with Java 17 and the consumer needed a runtime of a component compatible with Java 8\r\n                     - Other compatible attribute:\r\n                         - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5.1&#39;)\r\n                 - Variant &#39;javadocElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.0 declares a runtime of a component, and its dependencies declared externally:\r\n                     - Incompatible because this component declares documentation and the consumer needed a library\r\n                     - Other compatible attributes:\r\n                         - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                         - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                         - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5.1&#39;)\r\n                 - Variant &#39;mavenOptionalApiElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.0.0 declares a library, packaged as a jar, and its dependencies declared externally:\r\n                     - Incompatible because this component declares an API of a component compatible with Java 17 and the consumer needed a runtime of a component compatible with Java 8\r\n                     - Other compatible attribute:\r\n                         - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5.1&#39;)\r\n                 - Variant &#39;mavenOptionalRuntimeElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.0.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\r\n                     - Incompatible because this component declares a component compatible with Java 17 and the consumer needed a component compatible with Java 8\r\n                     - Other compatible attribute:\r\n                         - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5.1&#39;)\r\n                 - Variant &#39;runtimeElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\r\n                     - Incompatible because this component declares a component compatible with Java 17 and the consumer needed a component compatible with Java 8\r\n                     - Other compatible attribute:\r\n                         - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5.1&#39;)\r\n                 - Variant &#39;sourcesElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.0 declares a runtime of a component, and its dependencies declared externally:\r\n                     - Incompatible because this component declares documentation and the consumer needed a library\r\n                     - Other compatible attributes:\r\n                         - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                         - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                         - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.5.1&#39;)\r\n       \r\n       * Try:\r\n       &gt; Run with --stacktrace option to get the stack trace.\r\n       &gt; Run with --info or --debug option to get more log output.\r\n       &gt; Run with --scan to get full insights.\r\n       \r\n       * Get more help at https://help.gradle.org\r\n       \r\n       BUILD FAILED in 9s\r\n !     ERROR: Failed to run Gradle!\r\n       We&#39;re sorry this build is failing. If you can&#39;t find the issue in application\r\n       code, please submit a ticket so we can help: https://help.heroku.com\r\n       You can also try reverting to the previous version of the buildpack by running:\r\n       $ heroku buildpacks:set https://github.com/heroku/heroku-buildpack-gradle#previous-version\r\n       \r\n       Thanks,\r\n       Heroku\r\n```","title":"How to fix spring-boot-gradle-plugin:3.0.0 issue?","body":"<p>I am deploying <code>spring boot</code> app on heroku using gitlab ci/cd</p>\n<p>i am using <code>spring boot 3.0.0</code> and <code>java 17</code></p>\n<p>Anyone knows how to fix it?\nAlso on line 8 it's <code>-----&gt; Installing OpenJDK 1.8... done</code> i don't know why and how even i have java 17 in app</p>\n<pre><code>Deploying application\nuploading application archive\ntriggering new deployment\n-----&gt; Building on the Heroku-22 stack\n-----&gt; Determining which buildpack to use for this app\n-----&gt; Gradle app detected\n-----&gt; Spring Boot detected\n-----&gt; Installing OpenJDK 1.8... done\n-----&gt; Building Gradle app...\n-----&gt; executing ./gradlew build -x check\n       Downloading https://services.gradle.org/distributions/gradle-7.5.1-bin.zip\n       ...........10%............20%...........30%............40%...........50%............60%...........70%............80%...........90%............100%\n       To honour the JVM settings for this build a single-use Daemon process will be forked. See https://docs.gradle.org/7.5.1/userguide/gradle_daemon.html#sec:disabling_the_daemon.\n       Daemon will be stopped at the end of the build \n       \n       FAILURE: Build failed with an exception.\n       \n       * What went wrong:\n       A problem occurred configuring root project 'auth'.\n       &gt; Could not resolve all files for configuration ':classpath'.\n          &gt; Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.0.0.\n            Required by:\n                project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.0.0\n             &gt; No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.0.0 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '7.5.1' but:\n                 - Variant 'apiElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.0.0 declares a library, packaged as a jar, and its dependencies declared externally:\n                     - Incompatible because this component declares an API of a component compatible with Java 17 and the consumer needed a runtime of a component compatible with Java 8\n                     - Other compatible attribute:\n                         - Doesn't say anything about org.gradle.plugin.api-version (required '7.5.1')\n                 - Variant 'javadocElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.0.0 declares a runtime of a component, and its dependencies declared externally:\n                     - Incompatible because this component declares documentation and the consumer needed a library\n                     - Other compatible attributes:\n                         - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                         - Doesn't say anything about its elements (required them packaged as a jar)\n                         - Doesn't say anything about org.gradle.plugin.api-version (required '7.5.1')\n                 - Variant 'mavenOptionalApiElements' capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.0.0 declares a library, packaged as a jar, and its dependencies declared externally:\n                     - Incompatible because this component declares an API of a component compatible with Java 17 and the consumer needed a runtime of a component compatible with Java 8\n                     - Other compatible attribute:\n                         - Doesn't say anything about org.gradle.plugin.api-version (required '7.5.1')\n                 - Variant 'mavenOptionalRuntimeElements' capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.0.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\n                     - Incompatible because this component declares a component compatible with Java 17 and the consumer needed a component compatible with Java 8\n                     - Other compatible attribute:\n                         - Doesn't say anything about org.gradle.plugin.api-version (required '7.5.1')\n                 - Variant 'runtimeElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.0.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\n                     - Incompatible because this component declares a component compatible with Java 17 and the consumer needed a component compatible with Java 8\n                     - Other compatible attribute:\n                         - Doesn't say anything about org.gradle.plugin.api-version (required '7.5.1')\n                 - Variant 'sourcesElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.0.0 declares a runtime of a component, and its dependencies declared externally:\n                     - Incompatible because this component declares documentation and the consumer needed a library\n                     - Other compatible attributes:\n                         - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                         - Doesn't say anything about its elements (required them packaged as a jar)\n                         - Doesn't say anything about org.gradle.plugin.api-version (required '7.5.1')\n       \n       * Try:\n       &gt; Run with --stacktrace option to get the stack trace.\n       &gt; Run with --info or --debug option to get more log output.\n       &gt; Run with --scan to get full insights.\n       \n       * Get more help at https://help.gradle.org\n       \n       BUILD FAILED in 9s\n !     ERROR: Failed to run Gradle!\n       We're sorry this build is failing. If you can't find the issue in application\n       code, please submit a ticket so we can help: https://help.heroku.com\n       You can also try reverting to the previous version of the buildpack by running:\n       $ heroku buildpacks:set https://github.com/heroku/heroku-buildpack-gradle#previous-version\n       \n       Thanks,\n       Heroku\n</code></pre>\n"},{"tags":["java","spring-boot","docker","ssl","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":987386,"reputation":1567,"user_id":1005567,"display_name":"spekdrum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669636704,"creation_date":1669636704,"answer_id":74600263,"question_id":72912839,"body_markdown":"I think you are maybe missing this important parameter in application configuration in order to enable SSL connection:\r\n\r\n    spring:\r\n      kafka:\r\n        security:\r\n          protocol: &quot;SSL&quot;\r\n\r\n","title":"Springboot and Kafka (Docker) communication via SSL results in Cancelled in-flight API_VERSIONS request","body":"<p>I think you are maybe missing this important parameter in application configuration in order to enable SSL connection:</p>\n<pre><code>spring:\n  kafka:\n    security:\n      protocol: &quot;SSL&quot;\n</code></pre>\n"}],"owner":{"account_id":5320288,"reputation":594,"user_id":4243929,"accept_rate":100,"display_name":"Christian Riese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2276,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1669636704,"creation_date":1657290115,"question_id":72912839,"body_markdown":"I do have a very simple Springboot App with a even simpler Kafka Producer and Client, that I try to connect to a Docker Kafka Broker via SSL. Unfortunately I am unable to get it to work. First of all my configuration looks like this:\r\n\r\ndocker-compose.yml \r\n\r\n    version: &#39;3.1&#39;\r\n    \r\n    services:\r\n    \r\n      zookeeper:\r\n        image: wurstmeister/zookeeper\r\n        environment:\r\n          ZOOKEEPER_CLIENT_PORT: 2181\r\n    \r\n      broker:\r\n        image: wurstmeister/kafka\r\n        ports:\r\n          - 9092:9092\r\n          - 9093:9093\r\n        volumes:\r\n          - ./security:/etc/kafka/secrets\r\n        environment:\r\n          KAFKA_LISTENERS: PLAINTEXT://broker:29092,PLAINTEXT_HOST://localhost:9092,TLS://broker:29093,TLS_HOST://localhost:9093\r\n          KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://broker:29092,PLAINTEXT_HOST://localhost:9092,TLS://broker:29093,TLS_HOST://localhost:9093\r\n          KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT,TLS:SSL,TLS_HOST:SSL\r\n          KAFKA_INTER_BROKER_LISTENER_NAME: TLS\r\n          KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\r\n          KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR: 1\r\n          KAFKA_AUTO_CREATE_TOPICS_ENABLE: &#39;false&#39;\r\n          KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n          KAFKA_SSL_KEYSTORE_LOCATION: /etc/kafka/secrets/broker-keypair.pem\r\n          KAFKA_SSL_KEY_PASSWORD: password\r\n          KAFKA_SSL_KEYSTORE_TYPE: PEM\r\n          KAFKA_SSL_TRUSTSTORE_LOCATION: /etc/kafka/secrets/root.crt\r\n          KAFKA_SSL_TRUSTSTORE_TYPE: PEM\r\n          KAFKA_SSL_ENDPOINT_IDENTIFICATION_ALGORITHM: &quot; &quot;\r\n          KAFKA_SSL_CLIENT_AUTH: &quot;required&quot;\r\n          KAFKA_ALLOW_EVERYONE_IF_NO_ACL_FOUND: &#39;true&#39;\r\n\r\nKafkaComsumerConfig.java\r\n  \r\n    @EnableKafka\r\n    @Configuration\r\n    public class KafkaConsumerConfig {\r\n    \r\n    \t@Value(value = &quot;${spring.kafka.properties.bootstrap.servers}&quot;)\r\n    \tprivate String bootstrapAddress;\r\n    \r\n    \t@Bean\r\n    \tpublic ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n    \t\tfinal Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n    \t\tprops.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n    \t\tprops.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;sales.quotation.quotation.receiver&quot;);\r\n    \t\tprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n    \t\tprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n    \r\n    \t\tprops.put(\r\n    \t\t\t\tSslConfigs.SSL_KEYSTORE_LOCATION_CONFIG,\r\n    \t\t\t\t&quot;path\\\\to\\\\consumer.keystore.jks&quot;);\r\n    \t\tprops.put(SslConfigs.SSL_KEYSTORE_PASSWORD_CONFIG, &quot;password&quot;);\r\n    \t\tprops.put(SslConfigs.SSL_KEY_PASSWORD_CONFIG, &quot;password&quot;);\r\n    \t\tprops.put(\r\n    \t\t\t\tSslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG,\r\n    \t\t\t\t&quot;path\\\\to\\\\truststore.jks&quot;);\r\n    \t\tprops.put(SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG, &quot;password&quot;);\r\n    \r\n    \t\treturn new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\r\n    \t\tfinal ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n    \t\tfactory.setConsumerFactory(consumerFactory());\r\n    \t\treturn factory;\r\n    \t}\r\n    }\r\n\r\nKafkaProucerConfig.java\r\n\r\n    @Configuration\r\n    public class KafkaProducerConfig {\r\n    \r\n    \t@Value(value = &quot;${spring.kafka.properties.bootstrap.servers}&quot;)\r\n    \tprivate String bootstrapAddress;\r\n    \r\n    \t@Bean\r\n    \tpublic ProducerFactory&lt;String, String&gt; producerFactory() {\r\n    \t\tfinal Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n    \t\tconfigProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n    \t\tconfigProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n    \t\tconfigProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n    \r\n    \t\tconfigProps.put(\r\n    \t\t\t\tSslConfigs.SSL_KEYSTORE_LOCATION_CONFIG,\r\n    \t\t\t\t&quot;path\\\\to\\\\producer.keystore.jks&quot;);\r\n    \t\tconfigProps.put(SslConfigs.SSL_KEYSTORE_PASSWORD_CONFIG, &quot;password&quot;);\r\n    \t\tconfigProps.put(SslConfigs.SSL_KEY_PASSWORD_CONFIG, &quot;password&quot;);\r\n    \t\tconfigProps.put(\r\n    \t\t\t\tSslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG,\r\n    \t\t\t\t&quot;path\\\\to\\\\truststore.jks&quot;);\r\n    \t\tconfigProps.put(SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG, &quot;password&quot;);\r\n    \r\n    \t\treturn new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n    \t\treturn new KafkaTemplate&lt;&gt;(producerFactory());\r\n    \t}\r\n    }\r\n\r\nMy application.properties does contain \r\n\r\n    spring.kafka.properties.bootstrap.servers=${KAFKA_BOOTSTRAP_SERVERS}\r\n\r\nwhich is set in a SpringBootTest via \r\n\r\n\tSystem.setProperty(&quot;KAFKA_BOOTSTRAP_SERVERS&quot;, &quot;localhost:9093&quot;);\r\n\r\n\r\nAll certificates are signed with the root CA.\r\nMy docker container starts just fine, but then, when I try to start my Springboot Test, which tries to connect to the broker I get those errors:\r\n\r\n    16:16:48.786 [kafka-admin-client-thread | adminclient-1] INFO  o.apache.kafka.clients.NetworkClient:341 - [AdminClient clientId=adminclient-1] Cancelled in-flight API_VERSIONS request with correlation id 26 due to node -1 being disconnected (elapsed time since creation: 2ms, elapsed time since send: 2ms, request timeout: 3600000ms)\r\n    16:16:48.893 [kafka-admin-client-thread | adminclient-1] INFO  o.apache.kafka.clients.NetworkClient:935 - [AdminClient clientId=adminclient-1] Node -1 disconnected.\r\n\r\n    16:17:42.434 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.apache.kafka.clients.NetworkClient:935 - [Consumer clientId=consumer-sales.quotation.quotation.receiver-1, groupId=sales.quotation.quotation.receiver] Node -1 disconnected.\r\n    16:17:42.434 [kafka-producer-network-thread | producer-1] INFO  o.apache.kafka.clients.NetworkClient:341 - [Producer clientId=producer-1] Cancelled in-flight API_VERSIONS request with correlation id 150 due to node -1 being disconnected (elapsed time since creation: 1ms, elapsed time since send: 1ms, request timeout: 30000ms)\r\n    16:17:42.434 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.apache.kafka.clients.NetworkClient:341 - [Consumer clientId=consumer-sales.quotation.quotation.receiver-1, groupId=sales.quotation.quotation.receiver] Cancelled in-flight API_VERSIONS request with correlation id 153 due to node -1 being disconnected (elapsed time since creation: 2ms, elapsed time since send: 2ms, request timeout: 30000ms)\r\n    16:17:42.434 [kafka-producer-network-thread | producer-1] WARN  o.apache.kafka.clients.NetworkClient:1063 - [Producer clientId=producer-1] Bootstrap broker localhost:9093 (id: -1 rack: null) disconnected\r\n    16:17:42.434 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  o.apache.kafka.clients.NetworkClient:1063 - [Consumer clientId=consumer-sales.quotation.quotation.receiver-1, groupId=sales.quotation.quotation.receiver] Bootstrap broker localhost:9093 (id: -1 rack: null) disconnected\r\n    16:17:42.542 [kafka-producer-network-thread | producer-1] INFO  o.apache.kafka.clients.NetworkClient:935 - [Producer clientId=producer-1] Node -1 disconnected.\r\n\r\nWhat am I missing here?","title":"Springboot and Kafka (Docker) communication via SSL results in Cancelled in-flight API_VERSIONS request","body":"<p>I do have a very simple Springboot App with a even simpler Kafka Producer and Client, that I try to connect to a Docker Kafka Broker via SSL. Unfortunately I am unable to get it to work. First of all my configuration looks like this:</p>\n<p>docker-compose.yml</p>\n<pre><code>version: '3.1'\n\nservices:\n\n  zookeeper:\n    image: wurstmeister/zookeeper\n    environment:\n      ZOOKEEPER_CLIENT_PORT: 2181\n\n  broker:\n    image: wurstmeister/kafka\n    ports:\n      - 9092:9092\n      - 9093:9093\n    volumes:\n      - ./security:/etc/kafka/secrets\n    environment:\n      KAFKA_LISTENERS: PLAINTEXT://broker:29092,PLAINTEXT_HOST://localhost:9092,TLS://broker:29093,TLS_HOST://localhost:9093\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://broker:29092,PLAINTEXT_HOST://localhost:9092,TLS://broker:29093,TLS_HOST://localhost:9093\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT,TLS:SSL,TLS_HOST:SSL\n      KAFKA_INTER_BROKER_LISTENER_NAME: TLS\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n      KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR: 1\n      KAFKA_AUTO_CREATE_TOPICS_ENABLE: 'false'\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n      KAFKA_SSL_KEYSTORE_LOCATION: /etc/kafka/secrets/broker-keypair.pem\n      KAFKA_SSL_KEY_PASSWORD: password\n      KAFKA_SSL_KEYSTORE_TYPE: PEM\n      KAFKA_SSL_TRUSTSTORE_LOCATION: /etc/kafka/secrets/root.crt\n      KAFKA_SSL_TRUSTSTORE_TYPE: PEM\n      KAFKA_SSL_ENDPOINT_IDENTIFICATION_ALGORITHM: &quot; &quot;\n      KAFKA_SSL_CLIENT_AUTH: &quot;required&quot;\n      KAFKA_ALLOW_EVERYONE_IF_NO_ACL_FOUND: 'true'\n</code></pre>\n<p>KafkaComsumerConfig.java</p>\n<pre><code>@EnableKafka\n@Configuration\npublic class KafkaConsumerConfig {\n\n    @Value(value = &quot;${spring.kafka.properties.bootstrap.servers}&quot;)\n    private String bootstrapAddress;\n\n    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        final Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;sales.quotation.quotation.receiver&quot;);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n\n        props.put(\n                SslConfigs.SSL_KEYSTORE_LOCATION_CONFIG,\n                &quot;path\\\\to\\\\consumer.keystore.jks&quot;);\n        props.put(SslConfigs.SSL_KEYSTORE_PASSWORD_CONFIG, &quot;password&quot;);\n        props.put(SslConfigs.SSL_KEY_PASSWORD_CONFIG, &quot;password&quot;);\n        props.put(\n                SslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG,\n                &quot;path\\\\to\\\\truststore.jks&quot;);\n        props.put(SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG, &quot;password&quot;);\n\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\n        final ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n}\n</code></pre>\n<p>KafkaProucerConfig.java</p>\n<pre><code>@Configuration\npublic class KafkaProducerConfig {\n\n    @Value(value = &quot;${spring.kafka.properties.bootstrap.servers}&quot;)\n    private String bootstrapAddress;\n\n    @Bean\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\n        final Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n\n        configProps.put(\n                SslConfigs.SSL_KEYSTORE_LOCATION_CONFIG,\n                &quot;path\\\\to\\\\producer.keystore.jks&quot;);\n        configProps.put(SslConfigs.SSL_KEYSTORE_PASSWORD_CONFIG, &quot;password&quot;);\n        configProps.put(SslConfigs.SSL_KEY_PASSWORD_CONFIG, &quot;password&quot;);\n        configProps.put(\n                SslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG,\n                &quot;path\\\\to\\\\truststore.jks&quot;);\n        configProps.put(SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG, &quot;password&quot;);\n\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n        return new KafkaTemplate&lt;&gt;(producerFactory());\n    }\n}\n</code></pre>\n<p>My application.properties does contain</p>\n<pre><code>spring.kafka.properties.bootstrap.servers=${KAFKA_BOOTSTRAP_SERVERS}\n</code></pre>\n<p>which is set in a SpringBootTest via</p>\n<pre><code>System.setProperty(&quot;KAFKA_BOOTSTRAP_SERVERS&quot;, &quot;localhost:9093&quot;);\n</code></pre>\n<p>All certificates are signed with the root CA.\nMy docker container starts just fine, but then, when I try to start my Springboot Test, which tries to connect to the broker I get those errors:</p>\n<pre><code>16:16:48.786 [kafka-admin-client-thread | adminclient-1] INFO  o.apache.kafka.clients.NetworkClient:341 - [AdminClient clientId=adminclient-1] Cancelled in-flight API_VERSIONS request with correlation id 26 due to node -1 being disconnected (elapsed time since creation: 2ms, elapsed time since send: 2ms, request timeout: 3600000ms)\n16:16:48.893 [kafka-admin-client-thread | adminclient-1] INFO  o.apache.kafka.clients.NetworkClient:935 - [AdminClient clientId=adminclient-1] Node -1 disconnected.\n\n16:17:42.434 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.apache.kafka.clients.NetworkClient:935 - [Consumer clientId=consumer-sales.quotation.quotation.receiver-1, groupId=sales.quotation.quotation.receiver] Node -1 disconnected.\n16:17:42.434 [kafka-producer-network-thread | producer-1] INFO  o.apache.kafka.clients.NetworkClient:341 - [Producer clientId=producer-1] Cancelled in-flight API_VERSIONS request with correlation id 150 due to node -1 being disconnected (elapsed time since creation: 1ms, elapsed time since send: 1ms, request timeout: 30000ms)\n16:17:42.434 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.apache.kafka.clients.NetworkClient:341 - [Consumer clientId=consumer-sales.quotation.quotation.receiver-1, groupId=sales.quotation.quotation.receiver] Cancelled in-flight API_VERSIONS request with correlation id 153 due to node -1 being disconnected (elapsed time since creation: 2ms, elapsed time since send: 2ms, request timeout: 30000ms)\n16:17:42.434 [kafka-producer-network-thread | producer-1] WARN  o.apache.kafka.clients.NetworkClient:1063 - [Producer clientId=producer-1] Bootstrap broker localhost:9093 (id: -1 rack: null) disconnected\n16:17:42.434 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  o.apache.kafka.clients.NetworkClient:1063 - [Consumer clientId=consumer-sales.quotation.quotation.receiver-1, groupId=sales.quotation.quotation.receiver] Bootstrap broker localhost:9093 (id: -1 rack: null) disconnected\n16:17:42.542 [kafka-producer-network-thread | producer-1] INFO  o.apache.kafka.clients.NetworkClient:935 - [Producer clientId=producer-1] Node -1 disconnected.\n</code></pre>\n<p>What am I missing here?</p>\n"},{"tags":["java","maven","class","intellij-idea","jena"],"comments":[{"owner":{"account_id":11381766,"reputation":452,"user_id":8344485,"display_name":"juwil"},"score":0,"creation_date":1669582076,"post_id":74592347,"comment_id":131668869,"body_markdown":"did you run mvn clean install from the command line directly or via idea?","body":"did you run mvn clean install from the command line directly or via idea?"},{"owner":{"account_id":10904919,"reputation":1,"user_id":8016056,"display_name":"Matt L"},"score":0,"creation_date":1669634414,"post_id":74592347,"comment_id":131679063,"body_markdown":"only in idea. Tried to run it in command line and it shows additional info - class file has wrong version 55.0, should be 52.0 ..so i guess the problem is that this library was compiled in java 11 while i am using java 8. Thank you.","body":"only in idea. Tried to run it in command line and it shows additional info - class file has wrong version 55.0, should be 52.0 ..so i guess the problem is that this library was compiled in java 11 while i am using java 8. Thank you."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1669634671,"post_id":74592347,"comment_id":131679144,"body_markdown":"Note that in IDEA that additional information is almost certainly printed too, but sometimes you have to click on a higher tree element in the &quot;tree of build steps&quot; to the left of the console to see the full output. That nasty detail has hidden many relevant pieces of information from me over the years.","body":"Note that in IDEA that additional information is almost certainly printed too, but sometimes you have to click on a higher tree element in the &quot;tree of build steps&quot; to the left of the console to see the full output. That nasty detail has hidden many relevant pieces of information from me over the years."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1669636462,"post_id":74592347,"comment_id":131679737,"body_markdown":"If you managed to solve your own question, please don&#39;t add things like _&quot;(resolved)&quot;_ to the question title. Either delete your question (e.g. if it was a typo), or **answer** your own question describing - in detail - how you solved the problem.","body":"If you managed to solve your own question, please don&#39;t add things like <i>&quot;(resolved)&quot;</i> to the question title. Either delete your question (e.g. if it was a typo), or <b>answer</b> your own question describing - in detail - how you solved the problem."},{"owner":{"account_id":394579,"reputation":16420,"user_id":757100,"display_name":"AndyS"},"score":0,"creation_date":1669842007,"post_id":74592347,"comment_id":131737803,"body_markdown":"Apache Jena 4 requires Java11.","body":"Apache Jena 4 requires Java11."}],"owner":{"account_id":10904919,"reputation":1,"user_id":8016056,"display_name":"Matt L"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669636398,"creation_date":1669570896,"question_id":74592347,"body_markdown":"Im using apache-jena-libs library version 4.3.2(tried various versions). I&#39;ve imported it as maven pom dependecny\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.jena&lt;/groupId&gt;\r\n  &lt;artifactId&gt;apache-jena-libs&lt;/artifactId&gt;\r\n  &lt;version&gt;4.3.2&lt;/version&gt;\r\n  &lt;type&gt;pom&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAnd it has successfuly loaded(no errors)\r\n(https://i.stack.imgur.com/h29Gp.png)\r\nimports are fine as well, no errors there\r\n\r\n```\r\nimport org.apache.jena.riot.*;\r\nimport org.apache.jena.graph.*;\r\n```\r\n\r\nbut when I actually use library in code as such:\r\n\r\n```\r\n@Override\r\n    public synchronized void add(Reader reader, String fullFilePath, RDFFormat dataFormat, Resource... contexts) throws IOException, RDFParseException, RepositoryException {\r\n        this.verifyIsOpen();\r\n        this.flushDelayAdd();\r\n//        final boolean useStatementContext = contexts != null &amp;&amp; contexts.length == 0;\r\n        IRI graphIri = (IRI) Arrays.stream(contexts).findFirst().get();\r\n        try {\r\n            Graph gf = Factory.createDefaultGraph();\r\n            org.apache.jena.riot.RDFParser.create()\r\n                    .source(fullFilePath)\r\n                    .forceLang(org.apache.jena.riot.Lang.JSONLD11)\r\n                    .base(graphIri.stringValue())\r\n                    .parse(gf);\r\n            gf.close();\r\n            ...\r\n```\r\n\r\nEverything looks fine but during maven clean-install I get error &quot;cannot access org.apache.jena.graph.Graph&quot;.\r\n\r\n\r\n\r\nThis method is a part of the standart public class(no bean).\r\nIm using Intelij Idea 2022.2.3 (Ultimate Edition) with JDK 1.8 and maven 3.8.1.\r\nThis problem I am encountering is only with this library, tried to search for answers but havent found anything exactly like this. Does anyone have any clue what could be wrong please?","title":"Java - Intelij Idea - Maven build fails on &quot;cannot access *library class* &quot; , but library is imported correctly (org.apache.jen)","body":"<p>Im using apache-jena-libs library version 4.3.2(tried various versions). I've imported it as maven pom dependecny</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.jena&lt;/groupId&gt;\n  &lt;artifactId&gt;apache-jena-libs&lt;/artifactId&gt;\n  &lt;version&gt;4.3.2&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And it has successfuly loaded(no errors)\n(<a href=\"https://i.stack.imgur.com/h29Gp.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/h29Gp.png</a>)\nimports are fine as well, no errors there</p>\n<pre><code>import org.apache.jena.riot.*;\nimport org.apache.jena.graph.*;\n</code></pre>\n<p>but when I actually use library in code as such:</p>\n<pre><code>@Override\n    public synchronized void add(Reader reader, String fullFilePath, RDFFormat dataFormat, Resource... contexts) throws IOException, RDFParseException, RepositoryException {\n        this.verifyIsOpen();\n        this.flushDelayAdd();\n//        final boolean useStatementContext = contexts != null &amp;&amp; contexts.length == 0;\n        IRI graphIri = (IRI) Arrays.stream(contexts).findFirst().get();\n        try {\n            Graph gf = Factory.createDefaultGraph();\n            org.apache.jena.riot.RDFParser.create()\n                    .source(fullFilePath)\n                    .forceLang(org.apache.jena.riot.Lang.JSONLD11)\n                    .base(graphIri.stringValue())\n                    .parse(gf);\n            gf.close();\n            ...\n</code></pre>\n<p>Everything looks fine but during maven clean-install I get error &quot;cannot access org.apache.jena.graph.Graph&quot;.</p>\n<p>This method is a part of the standart public class(no bean).\nIm using Intelij Idea 2022.2.3 (Ultimate Edition) with JDK 1.8 and maven 3.8.1.\nThis problem I am encountering is only with this library, tried to search for answers but havent found anything exactly like this. Does anyone have any clue what could be wrong please?</p>\n"},{"tags":["java","string","memory-leaks","apache-poi","heap-memory"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1669635161,"post_id":74599926,"comment_id":131679293,"body_markdown":"what is the size of `text`?  Actually what is `text`?","body":"what is the size of <code>text</code>?  Actually what is <code>text</code>?"},{"owner":{"account_id":25919934,"reputation":3,"user_id":19642753,"display_name":"Shivansh Nema"},"score":0,"creation_date":1669635515,"post_id":74599926,"comment_id":131679406,"body_markdown":"Consider it a string. Basically calling readAll method of openCSV library which returns String array and I am iterating on each string to convert it into UTF-8 string using new String(text..., StandardCharset(UTF-8), then finally getting a count.","body":"Consider it a string. Basically calling readAll method of openCSV library which returns String array and I am iterating on each string to convert it into UTF-8 string using new String(text..., StandardCharset(UTF-8), then finally getting a count."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1669635595,"post_id":74599926,"comment_id":131679437,"body_markdown":"If you just want to count some length, why do you create a new String from a byte[]?","body":"If you just want to count some length, why do you create a new String from a byte[]?"},{"owner":{"account_id":25919934,"reputation":3,"user_id":19642753,"display_name":"Shivansh Nema"},"score":0,"creation_date":1669635777,"post_id":74599926,"comment_id":131679505,"body_markdown":"Actually characters in Strings can be of different languages, so converting to UTF-8 is important, right?","body":"Actually characters in Strings can be of different languages, so converting to UTF-8 is important, right?"}],"answers":[{"comments":[{"owner":{"account_id":25919934,"reputation":3,"user_id":19642753,"display_name":"Shivansh Nema"},"score":0,"creation_date":1669637158,"post_id":74600107,"comment_id":131679942,"body_markdown":"Ok. Understood. Can you please let me know what could be the optimal way of doing this without creating memory pressure?","body":"Ok. Understood. Can you please let me know what could be the optimal way of doing this without creating memory pressure?"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1669637288,"post_id":74600107,"comment_id":131679978,"body_markdown":"@ShivanshNema: if by &quot;this&quot; you mean the code you posted in your question, then my answer already contains the best replacement. If you want an answer to your more general problem of handling all data at once, then I can&#39;t give a specific answer without specifics of your code. Please post a new question, if you want a more general solution.","body":"@ShivanshNema: if by &quot;this&quot; you mean the code you posted in your question, then my answer already contains the best replacement. If you want an answer to your more general problem of handling all data at once, then I can&#39;t give a specific answer without specifics of your code. Please post a new question, if you want a more general solution."}],"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669635935,"creation_date":1669635935,"answer_id":74600107,"question_id":74599926,"body_markdown":"Assuming `text` is a `String` this code is roughly equivalent to `count +=text.length()`. The difference are mostly:\r\n\r\n- it needlessly requires more memory (and CPU time) by basically encoding the code in the platform default encoding and decoding it again\r\n- if the platform default encoding can&#39;t represent any specific characters in `text`, then those will be replaced with a `?`. If those characters aren&#39;t in the BMP then this can actually result in a decreased length.\r\n\r\nSo it&#39;s arguably strictly worse than just taking the `length()` of text (if the second thing is actually intentional, then there&#39;s more efficient ways to check for that).\r\n\r\nApart from that, the major problem is probably the size of the content of `text`: if it&#39;s a whole file or some other huge junk of data, then keeping it all in memory instead of processing it as a stream will always produce some memory pressure. You &quot;just&quot; increased it with this code, but the fundamental solution is to not keep the whole thing in memory in the first place (which is possible more often than not).","title":"System.String is consuming too much heap memory","body":"<p>Assuming <code>text</code> is a <code>String</code> this code is roughly equivalent to <code>count +=text.length()</code>. The difference are mostly:</p>\n<ul>\n<li>it needlessly requires more memory (and CPU time) by basically encoding the code in the platform default encoding and decoding it again</li>\n<li>if the platform default encoding can't represent any specific characters in <code>text</code>, then those will be replaced with a <code>?</code>. If those characters aren't in the BMP then this can actually result in a decreased length.</li>\n</ul>\n<p>So it's arguably strictly worse than just taking the <code>length()</code> of text (if the second thing is actually intentional, then there's more efficient ways to check for that).</p>\n<p>Apart from that, the major problem is probably the size of the content of <code>text</code>: if it's a whole file or some other huge junk of data, then keeping it all in memory instead of processing it as a stream will always produce some memory pressure. You &quot;just&quot; increased it with this code, but the fundamental solution is to not keep the whole thing in memory in the first place (which is possible more often than not).</p>\n"}],"owner":{"account_id":25919934,"reputation":3,"user_id":19642753,"display_name":"Shivansh Nema"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74600107,"answer_count":1,"score":-1,"last_activity_date":1669635935,"creation_date":1669635007,"question_id":74599926,"body_markdown":"Consider the below code in any method. \r\n\r\n`count += new String(text.getBytes()).length()`\r\n\r\nI am facing memory issue. \r\n\r\n\r\nI am using this to count number of characters in file. When I am fetching heap dump I am getting huge amount of memory occupied by String Objects. Is it because of this line of code? I am just looking for suggestions. ","title":"System.String is consuming too much heap memory","body":"<p>Consider the below code in any method.</p>\n<p><code>count += new String(text.getBytes()).length()</code></p>\n<p>I am facing memory issue.</p>\n<p>I am using this to count number of characters in file. When I am fetching heap dump I am getting huge amount of memory occupied by String Objects. Is it because of this line of code? I am just looking for suggestions.</p>\n"},{"tags":["java","parallel-processing","java-stream"],"comments":[{"owner":{"account_id":230291,"reputation":6812,"user_id":493804,"accept_rate":88,"display_name":"Barkermn01"},"score":0,"creation_date":1669521237,"post_id":74587346,"comment_id":131658182,"body_markdown":"This is because of a race condition, you need to actually understand parallel computing, we also have to know this stuff for HPC workloads, you should never rely on data being altered by threads without using locks https://www.baeldung.com/java-concurrent-locks","body":"This is because of a race condition, you need to actually understand parallel computing, we also have to know this stuff for HPC workloads, you should never rely on data being altered by threads without using locks <a href=\"https://www.baeldung.com/java-concurrent-locks\" rel=\"nofollow noreferrer\">baeldung.com/java-concurrent-locks</a>"}],"answers":[{"tags":[],"owner":{"account_id":230291,"reputation":6812,"user_id":493804,"accept_rate":88,"display_name":"Barkermn01"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669521524,"creation_date":1669521524,"answer_id":74587400,"question_id":74587346,"body_markdown":"So the reason this happens is because of what is called race conditions CPU even many threaded ones are running more processes than just your applications processes so it could parse and instruction evaluate it and then have to jump off to do something for the OS and then come back and another parallel process for your application has managed to get past it because the core / hyper-thread has not been stolen from its job.\r\n\r\nyou can read about race conditions in books like: https://link.springer.com/referenceworkentry/10.1007/978-0-387-09766-4_36\r\n\r\nBut what you&#39;re supposed to do to prevent this is implemented locks on the memory you&#39;re altering, in Java you want to look at `java.util.concurrent.Locks` https://www.baeldung.com/java-concurrent-locks","title":"Why does list.size change when executing java parallel stream?","body":"<p>So the reason this happens is because of what is called race conditions CPU even many threaded ones are running more processes than just your applications processes so it could parse and instruction evaluate it and then have to jump off to do something for the OS and then come back and another parallel process for your application has managed to get past it because the core / hyper-thread has not been stolen from its job.</p>\n<p>you can read about race conditions in books like: <a href=\"https://link.springer.com/referenceworkentry/10.1007/978-0-387-09766-4_36\" rel=\"nofollow noreferrer\">https://link.springer.com/referenceworkentry/10.1007/978-0-387-09766-4_36</a></p>\n<p>But what you're supposed to do to prevent this is implemented locks on the memory you're altering, in Java you want to look at <code>java.util.concurrent.Locks</code> <a href=\"https://www.baeldung.com/java-concurrent-locks\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-concurrent-locks</a></p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669635200,"creation_date":1669558381,"answer_id":74590723,"question_id":74587346,"body_markdown":"***Note** that the problem itself is slightly artificial, because it&#39;s not very likely to get a significant performance gain by parallelizing this task.*\r\n\r\n# Issues Explained\r\n\r\nYour code accumulates the result by operating via side-effects which is **discouraged** by the [*Stream API documentation*][side-effects].\r\n\r\nAnd you&#39;ve stumbled on the very first bullet point from the link above:\r\n\r\n&gt; ... there are **no guarantees** as to:\r\n&gt; \r\n&gt;  * the visibility of those side-effects to other threads;\r\n\r\n`ArrayList` is not a thread-safe Collection, and as a consequence each thread is not guaranteed to observe the same state of the list.\r\n\r\nAlso, note that `map()` operation (*and all it&#39;s flavors*) is not intended to perform side-effects and it&#39;s function according to the [documentation][map] should be **stateless**:\r\n\r\n&gt; `mapper` - a non-interfering, **stateless function** to apply to each element\r\n\r\nIn this case, the correct way to incorporate from processing the previous stream elements would be to define a [`Collector`][collector].\r\n\r\nFor that we would need to define a mutable container which would hold a list \r\n\r\nIn a nut-shell, Collector can be implemented as concurrent (*i.e. optimized for a multithreaded environment, so that all the threads are updating the same mutable container*) or non-concurrent (*each thread creates its own instance of the mutable container and populates it, then results produces by each thread are getting merged*).\r\n\r\nIn order to implement a concurrent Collector, we need to provide a thread-safe mutable container and specify a characteristic `CONCURRENT`. If take a look at the implementations of the `List` interface, you&#39;ll find out that the only options that JDK offers are `CopyOnWriteArrayList` and outdated `Verctor`.\r\n\r\n`CopyOnWriteArrayList` would be a terrible choice since under the hood it would create a new list with every added element, that&#39;s a recipe on how to get an `OutOfMemoryError`. This Collection is not suitable for frequent updates.\r\n\r\nAnd if we would use a synchronized `List` it would buy anything in terms of performance, because threads would **not** be able to operate on this list simultaneously. While one thread is adding an element, the others are blocked. In fact, it would be **slower** than processing the data **sequentially**, because synchronization has a cost.\r\n\r\n*For that reason, Locking suggested in another answer would only allow to get a correct result, but you would not be able to benefit from the parallel execution.*\r\n\r\nWhat we can do is create a non-concurrent Collector (*i.e. a collector that uses a non-thread-safe container*) based on a plain `ArrayList` (*it still would be able to be used with a parallel stream, each thread would act independently on a separate container without locking and running into concurrency-related issues*).\r\n\r\n# Non-concurrent Collector\r\n\r\nFirstly, we need to define a custom accumulation type that encapsulates the `ArrayList` and the `sum` of consumed elements.\r\n\r\nAnd in order to create a Collector, we need to use static method [`Collector.of()`][collectorOf].\r\n\r\n*Collector:*\r\n\r\n    public static Collector&lt;Integer, ?, IntSumContainer&gt; toParallelIntSumContainer(int limit) {\r\n        \r\n        return Collector.of(\r\n            () -&gt; new IntSumContainer(limit),\r\n            IntSumContainer::accept,\r\n            IntSumContainer::merge\r\n        );\r\n    }\r\n\r\n*Custom accumulation type:*\r\n\r\n    public class IntSumContainer implements IntConsumer {\r\n        private int sum;\r\n        private List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        private final int limit;\r\n    \r\n        public IntSumContainer(int limit) {\r\n            this.limit = limit;\r\n        }\r\n    \r\n        @Override\r\n        public void accept(int value) {\r\n            if (list.size() &lt; limit) {\r\n                list.add(value);\r\n                sum += value;\r\n            }\r\n        }\r\n        \r\n        public IntSumContainer merge(IntSumContainer other) {\r\n            other.list.stream().limit(limit - list.size()).forEach(this::accept); // there couldn&#39;t be issues related to concurrent access in the case, hence performing side-effects via forEach is safe \r\n            return this;\r\n        }\r\n        \r\n        // getters\r\n    }\r\n\r\n*Usage example:*\r\n\r\n```\r\nList&lt;Integer&gt; source = List.of(1, 2, 3, 4, 5, 6);\r\n\r\nIntSumContainer result = s.parallelStream()\r\n    .collect(toIntSumContainer(3));\r\n\r\nList&lt;Integer&gt; list = result.getList();\r\nint sum = result.getSum();\r\n\r\nSystem.out.println(list);\r\nSystem.out.println(sum);\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\n[1, 2, 3]\r\n6\r\n```\r\n\r\n# Concurrent Collector\r\n\r\nSince you&#39;re using as a stream source a `HashSet`, which produces an **unordered** stream, probably it might be not important which elements would be present in the resulting collection and would contribute to the resulting sum. And since you were using a Set, you might be fine with getting a Set as a result as well.\r\n\r\nIn this case we can make use of the concurrent HashSet which is provided by the JDK in the form of a view over the keys of the `ConcurrentHashMap` and can be obtained via static method [`ConcurrentHashMap.newKeySet()`][newKeySet]. The implementation of `ConcurrentHashMap` is **lock-free**.\r\n\r\nTo accumulate the sum concurrently, we can use a [`LongAdder`][longAdder] which is more performant than `AtomicLong` when frequent updates are required because of not being synchronized (which is the case here).\r\n\r\nLike in the previous example, a custom accumulation type would  encapsulate the `Set` and the `sum` of consumed elements.\r\n\r\nWhile defining collector, in order to make it concurrent we need to specify the characteristic `CONCURRENT`, and `UNORDERED` would also be handy since we stated that the ordering is not important.\r\n\r\n*Collector:*\r\n\r\n    public static Collector&lt;Integer, ?, ConcurrentIntSumContainer&gt; toConcurrentIntSumContainer(int limit) {\r\n        \r\n        return Collector.of(\r\n            () -&gt; new ConcurrentIntSumContainer(limit),\r\n            ConcurrentIntSumContainer::accept,\r\n            (left, right) -&gt; { throw new AssertionError(&quot;merge function is not expected be called by the Parallel collector&quot;); },\r\n            Collector.Characteristics.UNORDERED, Collector.Characteristics.CONCURRENT\r\n        );\r\n    }\r\n\r\n*Custom accumulation type:*\r\n\r\n    public class ConcurrentIntSumContainer implements IntConsumer {\r\n        private LongAdder sum = new LongAdder();\r\n        private Set&lt;Integer&gt; set = ConcurrentHashMap.newKeySet();\r\n        private final int limit;\r\n        \r\n        public ConcurrentIntSumContainer(int limit) {\r\n            this.limit = limit;\r\n        }\r\n        \r\n        @Override\r\n        public void accept(int value) {\r\n            if (set.size() &lt; limit &amp;&amp; set.add(value)) {\r\n                sum.add(value);\r\n            }\r\n        }\r\n        \r\n        public Set&lt;Integer&gt; getSet() {\r\n            return new HashSet&lt;&gt;(set); // because a general purpose set is faster than concurrent set\r\n        }\r\n        \r\n        public long getSum() {\r\n            return sum.sum();\r\n        }\r\n    }\r\n\r\n*Usage example:*\r\n\r\n```\r\nList&lt;Integer&gt; source = List.of(1, 2, 3, 4, 5, 6);\r\n\r\nConcurrentIntSumContainer result1 = source.parallelStream()\r\n    .collect(toConcurrentIntSumContainer(3));\r\n    \r\nSet&lt;Integer&gt; set = result1.getSet();\r\nlong sum = result1.getSum();\r\n    \r\nSystem.out.println(set);\r\nSystem.out.println(sum);\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\n[1, 4, 5]\r\n10\r\n```\r\n\r\n\r\n\r\n   [side-effects]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\r\n\r\n   [map]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapToInt(java.util.function.ToIntFunction)\r\n\r\n   [collector]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html\r\n\r\n   [collectorOf]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.stream.Collector.Characteristics...)\r\n\r\n   [newKeySet]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#newKeySet(int)\r\n\r\n   [longAdder]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/LongAdder.html","title":"Why does list.size change when executing java parallel stream?","body":"<p><em><strong>Note</strong> that the problem itself is slightly artificial, because it's not very likely to get a significant performance gain by parallelizing this task.</em></p>\n<h1>Issues Explained</h1>\n<p>Your code accumulates the result by operating via side-effects which is <strong>discouraged</strong> by the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\" rel=\"nofollow noreferrer\"><em>Stream API documentation</em></a>.</p>\n<p>And you've stumbled on the very first bullet point from the link above:</p>\n<blockquote>\n<p>... there are <strong>no guarantees</strong> as to:</p>\n<ul>\n<li>the visibility of those side-effects to other threads;</li>\n</ul>\n</blockquote>\n<p><code>ArrayList</code> is not a thread-safe Collection, and as a consequence each thread is not guaranteed to observe the same state of the list.</p>\n<p>Also, note that <code>map()</code> operation (<em>and all it's flavors</em>) is not intended to perform side-effects and it's function according to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapToInt(java.util.function.ToIntFunction)\" rel=\"nofollow noreferrer\">documentation</a> should be <strong>stateless</strong>:</p>\n<blockquote>\n<p><code>mapper</code> - a non-interfering, <strong>stateless function</strong> to apply to each element</p>\n</blockquote>\n<p>In this case, the correct way to incorporate from processing the previous stream elements would be to define a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html\" rel=\"nofollow noreferrer\"><code>Collector</code></a>.</p>\n<p>For that we would need to define a mutable container which would hold a list</p>\n<p>In a nut-shell, Collector can be implemented as concurrent (<em>i.e. optimized for a multithreaded environment, so that all the threads are updating the same mutable container</em>) or non-concurrent (<em>each thread creates its own instance of the mutable container and populates it, then results produces by each thread are getting merged</em>).</p>\n<p>In order to implement a concurrent Collector, we need to provide a thread-safe mutable container and specify a characteristic <code>CONCURRENT</code>. If take a look at the implementations of the <code>List</code> interface, you'll find out that the only options that JDK offers are <code>CopyOnWriteArrayList</code> and outdated <code>Verctor</code>.</p>\n<p><code>CopyOnWriteArrayList</code> would be a terrible choice since under the hood it would create a new list with every added element, that's a recipe on how to get an <code>OutOfMemoryError</code>. This Collection is not suitable for frequent updates.</p>\n<p>And if we would use a synchronized <code>List</code> it would buy anything in terms of performance, because threads would <strong>not</strong> be able to operate on this list simultaneously. While one thread is adding an element, the others are blocked. In fact, it would be <strong>slower</strong> than processing the data <strong>sequentially</strong>, because synchronization has a cost.</p>\n<p><em>For that reason, Locking suggested in another answer would only allow to get a correct result, but you would not be able to benefit from the parallel execution.</em></p>\n<p>What we can do is create a non-concurrent Collector (<em>i.e. a collector that uses a non-thread-safe container</em>) based on a plain <code>ArrayList</code> (<em>it still would be able to be used with a parallel stream, each thread would act independently on a separate container without locking and running into concurrency-related issues</em>).</p>\n<h1>Non-concurrent Collector</h1>\n<p>Firstly, we need to define a custom accumulation type that encapsulates the <code>ArrayList</code> and the <code>sum</code> of consumed elements.</p>\n<p>And in order to create a Collector, we need to use static method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.stream.Collector.Characteristics...)\" rel=\"nofollow noreferrer\"><code>Collector.of()</code></a>.</p>\n<p><em>Collector:</em></p>\n<pre><code>public static Collector&lt;Integer, ?, IntSumContainer&gt; toParallelIntSumContainer(int limit) {\n    \n    return Collector.of(\n        () -&gt; new IntSumContainer(limit),\n        IntSumContainer::accept,\n        IntSumContainer::merge\n    );\n}\n</code></pre>\n<p><em>Custom accumulation type:</em></p>\n<pre><code>public class IntSumContainer implements IntConsumer {\n    private int sum;\n    private List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    private final int limit;\n\n    public IntSumContainer(int limit) {\n        this.limit = limit;\n    }\n\n    @Override\n    public void accept(int value) {\n        if (list.size() &lt; limit) {\n            list.add(value);\n            sum += value;\n        }\n    }\n    \n    public IntSumContainer merge(IntSumContainer other) {\n        other.list.stream().limit(limit - list.size()).forEach(this::accept); // there couldn't be issues related to concurrent access in the case, hence performing side-effects via forEach is safe \n        return this;\n    }\n    \n    // getters\n}\n</code></pre>\n<p><em>Usage example:</em></p>\n<pre><code>List&lt;Integer&gt; source = List.of(1, 2, 3, 4, 5, 6);\n\nIntSumContainer result = s.parallelStream()\n    .collect(toIntSumContainer(3));\n\nList&lt;Integer&gt; list = result.getList();\nint sum = result.getSum();\n\nSystem.out.println(list);\nSystem.out.println(sum);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[1, 2, 3]\n6\n</code></pre>\n<h1>Concurrent Collector</h1>\n<p>Since you're using as a stream source a <code>HashSet</code>, which produces an <strong>unordered</strong> stream, probably it might be not important which elements would be present in the resulting collection and would contribute to the resulting sum. And since you were using a Set, you might be fine with getting a Set as a result as well.</p>\n<p>In this case we can make use of the concurrent HashSet which is provided by the JDK in the form of a view over the keys of the <code>ConcurrentHashMap</code> and can be obtained via static method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#newKeySet(int)\" rel=\"nofollow noreferrer\"><code>ConcurrentHashMap.newKeySet()</code></a>. The implementation of <code>ConcurrentHashMap</code> is <strong>lock-free</strong>.</p>\n<p>To accumulate the sum concurrently, we can use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/LongAdder.html\" rel=\"nofollow noreferrer\"><code>LongAdder</code></a> which is more performant than <code>AtomicLong</code> when frequent updates are required because of not being synchronized (which is the case here).</p>\n<p>Like in the previous example, a custom accumulation type would  encapsulate the <code>Set</code> and the <code>sum</code> of consumed elements.</p>\n<p>While defining collector, in order to make it concurrent we need to specify the characteristic <code>CONCURRENT</code>, and <code>UNORDERED</code> would also be handy since we stated that the ordering is not important.</p>\n<p><em>Collector:</em></p>\n<pre><code>public static Collector&lt;Integer, ?, ConcurrentIntSumContainer&gt; toConcurrentIntSumContainer(int limit) {\n    \n    return Collector.of(\n        () -&gt; new ConcurrentIntSumContainer(limit),\n        ConcurrentIntSumContainer::accept,\n        (left, right) -&gt; { throw new AssertionError(&quot;merge function is not expected be called by the Parallel collector&quot;); },\n        Collector.Characteristics.UNORDERED, Collector.Characteristics.CONCURRENT\n    );\n}\n</code></pre>\n<p><em>Custom accumulation type:</em></p>\n<pre><code>public class ConcurrentIntSumContainer implements IntConsumer {\n    private LongAdder sum = new LongAdder();\n    private Set&lt;Integer&gt; set = ConcurrentHashMap.newKeySet();\n    private final int limit;\n    \n    public ConcurrentIntSumContainer(int limit) {\n        this.limit = limit;\n    }\n    \n    @Override\n    public void accept(int value) {\n        if (set.size() &lt; limit &amp;&amp; set.add(value)) {\n            sum.add(value);\n        }\n    }\n    \n    public Set&lt;Integer&gt; getSet() {\n        return new HashSet&lt;&gt;(set); // because a general purpose set is faster than concurrent set\n    }\n    \n    public long getSum() {\n        return sum.sum();\n    }\n}\n</code></pre>\n<p><em>Usage example:</em></p>\n<pre><code>List&lt;Integer&gt; source = List.of(1, 2, 3, 4, 5, 6);\n\nConcurrentIntSumContainer result1 = source.parallelStream()\n    .collect(toConcurrentIntSumContainer(3));\n    \nSet&lt;Integer&gt; set = result1.getSet();\nlong sum = result1.getSum();\n    \nSystem.out.println(set);\nSystem.out.println(sum);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[1, 4, 5]\n10\n</code></pre>\n"}],"owner":{"account_id":27058944,"reputation":11,"user_id":20611237,"display_name":"Powerful_Coder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669635200,"creation_date":1669520727,"question_id":74587346,"body_markdown":"Consider the following code:\r\n\r\n    static void statefullParallelLambdaSet() {\r\n        Set&lt;Integer&gt; s = new HashSet&lt;&gt;(\r\n            Arrays.asList(1, 2, 3, 4, 5, 6)\r\n        );\r\n        \r\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        int sum = s.parallelStream().mapToInt(e -&gt; {    // pipeline start\r\n            if (list.size() &lt;= 3) {     // list.size() changes while the pipeline operation is executing.\r\n                list.add(e);            // mapToInt&#39;s lambda expression depends on this value, so it&#39;s stateful.\r\n                return e;\r\n            }\r\n            else return 0;\r\n        }).sum();   // terminal operation\r\n\r\n        System.out.println(sum);\r\n    }\r\n\r\nIn the code above, it says that `list.size()` changes while the pipe operation is running, but I don&#39;t understand.\r\n\r\nSince `list.add(e)` is executed at once in multiple threads because it is executed in parallel, is it correct to assume that the value changes each time it is executed?\r\n\r\nThe reason why the value changes even if it is executed as a serial stream is that there is no order because it is a set, so the number drawn is different each time it is executed...\r\n\r\nAm I right?","title":"Why does list.size change when executing java parallel stream?","body":"<p>Consider the following code:</p>\n<pre><code>static void statefullParallelLambdaSet() {\n    Set&lt;Integer&gt; s = new HashSet&lt;&gt;(\n        Arrays.asList(1, 2, 3, 4, 5, 6)\n    );\n    \n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    int sum = s.parallelStream().mapToInt(e -&gt; {    // pipeline start\n        if (list.size() &lt;= 3) {     // list.size() changes while the pipeline operation is executing.\n            list.add(e);            // mapToInt's lambda expression depends on this value, so it's stateful.\n            return e;\n        }\n        else return 0;\n    }).sum();   // terminal operation\n\n    System.out.println(sum);\n}\n</code></pre>\n<p>In the code above, it says that <code>list.size()</code> changes while the pipe operation is running, but I don't understand.</p>\n<p>Since <code>list.add(e)</code> is executed at once in multiple threads because it is executed in parallel, is it correct to assume that the value changes each time it is executed?</p>\n<p>The reason why the value changes even if it is executed as a serial stream is that there is no order because it is a set, so the number drawn is different each time it is executed...</p>\n<p>Am I right?</p>\n"},{"tags":["java","spring","spring-boot","mapstruct"],"comments":[{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1669554376,"post_id":74590120,"comment_id":131662845,"body_markdown":"Make sure you added [maven-compiler-plugin](https://www.baeldung.com/mapstruct#Maven) to your `pom.xml`.","body":"Make sure you added <a href=\"https://www.baeldung.com/mapstruct#Maven\" rel=\"nofollow noreferrer\">maven-compiler-plugin</a> to your <code>pom.xml</code>."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1669566206,"post_id":74590120,"comment_id":131665301,"body_markdown":"@Wesquel add your `pom.xml` to inspect for errors there","body":"@Wesquel add your <code>pom.xml</code> to inspect for errors there"},{"owner":{"account_id":17109114,"reputation":33,"user_id":12406838,"display_name":"Wesquel"},"score":0,"creation_date":1669574094,"post_id":74590120,"comment_id":131667106,"body_markdown":"thank you @birca123 my problem was solved with your comment. The problem was that this dependency was missing in my pom.xml.","body":"thank you @birca123 my problem was solved with your comment. The problem was that this dependency was missing in my pom.xml."},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1669583864,"post_id":74590120,"comment_id":131669190,"body_markdown":"@birca123 how this can be related ? interesting ...","body":"@birca123 how this can be related ? interesting ..."},{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1669589491,"post_id":74590120,"comment_id":131670217,"body_markdown":"@muhammedozbilici If a mapper bean is not found in this case, probably the mapper wasn&#39;t even generated, which means mapstruct-processor is missing and should be added to maven-compiler-pugin.","body":"@muhammedozbilici If a mapper bean is not found in this case, probably the mapper wasn&#39;t even generated, which means mapstruct-processor is missing and should be added to maven-compiler-pugin."}],"answers":[{"comments":[{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1669554602,"post_id":74590239,"comment_id":131662883,"body_markdown":"`@Mapper(componentModel = &quot;spring&quot;)` generates a mapper that is a Spring bean, which makes `@Component` redundant.","body":"<code>@Mapper(componentModel = &quot;spring&quot;)</code> generates a mapper that is a Spring bean, which makes <code>@Component</code> redundant."},{"owner":{"account_id":17109114,"reputation":33,"user_id":12406838,"display_name":"Wesquel"},"score":0,"creation_date":1669573133,"post_id":74590239,"comment_id":131666854,"body_markdown":"Yes is redudant. i try but not work","body":"Yes is redudant. i try but not work"}],"tags":[],"owner":{"account_id":20086792,"reputation":144,"user_id":14728164,"display_name":"Vishwajit Rahatal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669554077,"creation_date":1669554077,"answer_id":74590239,"question_id":74590120,"body_markdown":"Try adding @Component annotation to your BetMapper class.","title":"Spring Boot Mapper no accept Autowired","body":"<p>Try adding @Component annotation to your BetMapper class.</p>\n"},{"tags":[],"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669574648,"creation_date":1669574648,"answer_id":74592828,"question_id":74590120,"body_markdown":" 1. Looks like Mapper is not working now. I am not sure, but looks like here incorrect usage, there is no param `bet` in ` betResquetToEntity`\r\ninstead of `@Mapping(target = &quot;bet.id&quot;, source = &quot;betId&quot;)` \r\nshould be `@Mapping(target = &quot;id&quot;, source = &quot;betRequest.betId&quot;)`\r\n\r\n 2. Check `mapstruct-processor` is added to your `maven-compiler-plugin`\r\n    in `plugin` section [link][1]\r\n\r\n  [1]: https://mapstruct.org/documentation/installation/","title":"Spring Boot Mapper no accept Autowired","body":"<ol>\n<li><p>Looks like Mapper is not working now. I am not sure, but looks like here incorrect usage, there is no param <code>bet</code> in <code> betResquetToEntity</code>\ninstead of <code>@Mapping(target = &quot;bet.id&quot;, source = &quot;betId&quot;)</code>\nshould be <code>@Mapping(target = &quot;id&quot;, source = &quot;betRequest.betId&quot;)</code></p>\n</li>\n<li><p>Check <code>mapstruct-processor</code> is added to your <code>maven-compiler-plugin</code>\nin <code>plugin</code> section <a href=\"https://mapstruct.org/documentation/installation/\" rel=\"nofollow noreferrer\">link</a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":17109114,"reputation":33,"user_id":12406838,"display_name":"Wesquel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74592828,"answer_count":2,"score":2,"last_activity_date":1669634776,"creation_date":1669553107,"question_id":74590120,"body_markdown":"I&#39;m trying to create a betting API, and I&#39;ve now discovered a way to minimize the code rework with Mapper, but I&#39;m not understanding the problem I&#39;m having in the code.\r\n\r\nERROR:\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 1 of constructor in api.loteria.loteriaapi.services.Mysql.BetServiceMysql required a bean of type &#39;api.loteria.loteriaapi.dtos.mappers.BetMapper&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n        - @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;api.loteria.loteriaapi.dtos.mappers.BetMapper&#39; in your configuration.\r\n```\r\nBetMapper.Java\r\n\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface BetMapper {\r\n    @Mapping(target = &quot;bet.id&quot;, source = &quot;betId&quot;)\r\n    Bet betResquetToEntity(BetRequest betRequest);\r\n\r\n    @Mapping(source = &quot;bet.id&quot;, target = &quot;betId&quot;)\r\n    BetResponse entityToBetResponse(Bet bet);\r\n}\r\n```\r\nBetServiceMysql.java\r\n\r\n\r\n```java\r\n@Service\r\n@AllArgsConstructor(onConstructor = @__(@Autowired))\r\npublic class BetServiceMysql implements BetService {\r\n\r\n    private BetRepository betRepository;\r\n    private BetMapper betMapper;\r\n\r\n    @Override\r\n    public List&lt;BetResponse&gt; list() {\r\n        List&lt;Bet&gt; bets = betRepository.findAll();\r\n        return bets.stream().map(bet -&gt; betMapper.entityToBetResponse(bet)).collect(Collectors.toList());\r\n    }\r\n\r\n    @Override\r\n    public BetResponse save(BetRequest betRequest) {\r\n        Bet bet = betMapper.betResquetToEntity(betRequest);\r\n        try {\r\n            betRepository.save(bet);\r\n        }catch(RuntimeException e){\r\n            throw new DataIntegrityViolationException(e.getMessage());\r\n        }\r\n        return betMapper.entityToBetResponse(bet);\r\n    }\r\n\r\n    @Override\r\n    public BetResponse update(Long id, BetRequest betRequest) {\r\n        Bet bet = verifyIfExist(id);\r\n        updateData(bet, betRequest);\r\n        betRepository.save(bet);\r\n        return betMapper.entityToBetResponse(bet);\r\n    }\r\n\r\n    @Override\r\n    public BetResponse delete(Long id) {\r\n        Bet bet = verifyIfExist(id);\r\n        betRepository.delete(bet);\r\n        return betMapper.entityToBetResponse(bet);\r\n    }\r\n\r\n    @Override\r\n    public BetResponse getBetById(Long id) {\r\n        // TODO Auto-generated method stub\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;BetResponse&gt; getBets() {\r\n        // TODO Auto-generated method stub\r\n        return null;\r\n    }\r\n\r\n    protected Bet verifyIfExist(Long id){\r\n        return betRepository.findById(id).orElseThrow(() -&gt; new EntityNotFoundException(String.format(&quot;ID: %s || N&#227;o foi encontrado nenhuma entidade para o id fornecido&quot;, id)));\r\n    }\r\n\r\n    protected void updateData(Bet bet, BetRequest betRequest){\r\n        bet.setMaxNumbersByUsers(betRequest.getMaxNumbersByUsers());\r\n    }\r\n\r\n}\r\n```\r\nBetService.java\r\n\r\n\r\n```java\r\npublic interface BetService {\r\n    List&lt;BetResponse&gt; list();\r\n    BetResponse save(BetRequest betRequest);\r\n    BetResponse update(Long id, BetRequest betRequest);\r\n    BetResponse delete(Long id);\r\n    BetResponse getBetById(Long id);\r\n    List&lt;BetResponse&gt; getBets();\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI tried removing `@Autowired` from Mapper, the code runs, but when a new bet is inserted there is another error from Mapper being `null`.","title":"Spring Boot Mapper no accept Autowired","body":"<p>I'm trying to create a betting API, and I've now discovered a way to minimize the code rework with Mapper, but I'm not understanding the problem I'm having in the code.</p>\n<p>ERROR:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 1 of constructor in api.loteria.loteriaapi.services.Mysql.BetServiceMysql required a bean of type 'api.loteria.loteriaapi.dtos.mappers.BetMapper' that could not be found.\n\nThe injection point has the following annotations:\n        - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'api.loteria.loteriaapi.dtos.mappers.BetMapper' in your configuration.\n</code></pre>\n<p>BetMapper.Java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface BetMapper {\n    @Mapping(target = &quot;bet.id&quot;, source = &quot;betId&quot;)\n    Bet betResquetToEntity(BetRequest betRequest);\n\n    @Mapping(source = &quot;bet.id&quot;, target = &quot;betId&quot;)\n    BetResponse entityToBetResponse(Bet bet);\n}\n</code></pre>\n<p>BetServiceMysql.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@AllArgsConstructor(onConstructor = @__(@Autowired))\npublic class BetServiceMysql implements BetService {\n\n    private BetRepository betRepository;\n    private BetMapper betMapper;\n\n    @Override\n    public List&lt;BetResponse&gt; list() {\n        List&lt;Bet&gt; bets = betRepository.findAll();\n        return bets.stream().map(bet -&gt; betMapper.entityToBetResponse(bet)).collect(Collectors.toList());\n    }\n\n    @Override\n    public BetResponse save(BetRequest betRequest) {\n        Bet bet = betMapper.betResquetToEntity(betRequest);\n        try {\n            betRepository.save(bet);\n        }catch(RuntimeException e){\n            throw new DataIntegrityViolationException(e.getMessage());\n        }\n        return betMapper.entityToBetResponse(bet);\n    }\n\n    @Override\n    public BetResponse update(Long id, BetRequest betRequest) {\n        Bet bet = verifyIfExist(id);\n        updateData(bet, betRequest);\n        betRepository.save(bet);\n        return betMapper.entityToBetResponse(bet);\n    }\n\n    @Override\n    public BetResponse delete(Long id) {\n        Bet bet = verifyIfExist(id);\n        betRepository.delete(bet);\n        return betMapper.entityToBetResponse(bet);\n    }\n\n    @Override\n    public BetResponse getBetById(Long id) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public List&lt;BetResponse&gt; getBets() {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    protected Bet verifyIfExist(Long id){\n        return betRepository.findById(id).orElseThrow(() -&gt; new EntityNotFoundException(String.format(&quot;ID: %s || Não foi encontrado nenhuma entidade para o id fornecido&quot;, id)));\n    }\n\n    protected void updateData(Bet bet, BetRequest betRequest){\n        bet.setMaxNumbersByUsers(betRequest.getMaxNumbersByUsers());\n    }\n\n}\n</code></pre>\n<p>BetService.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface BetService {\n    List&lt;BetResponse&gt; list();\n    BetResponse save(BetRequest betRequest);\n    BetResponse update(Long id, BetRequest betRequest);\n    BetResponse delete(Long id);\n    BetResponse getBetById(Long id);\n    List&lt;BetResponse&gt; getBets();\n}\n</code></pre>\n<p>I tried removing <code>@Autowired</code> from Mapper, the code runs, but when a new bet is inserted there is another error from Mapper being <code>null</code>.</p>\n"},{"tags":["java","angularjs","file","spring-mvc","multipartform-data"],"answers":[{"comments":[{"owner":{"account_id":9904386,"reputation":1316,"user_id":7333386,"accept_rate":51,"display_name":"deadend"},"score":0,"creation_date":1566541120,"post_id":57616300,"comment_id":101695620,"body_markdown":"formData.append(&quot;file&quot;, data.files); - passing file in formData and its working when upload image. my problem is when image is not uploaded it throws bad request","body":"formData.append(&quot;file&quot;, data.files); - passing file in formData and its working when upload image. my problem is when image is not uploaded it throws bad request"}],"tags":[],"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566503905,"creation_date":1566503905,"answer_id":57616300,"question_id":57606993,"body_markdown":"Your server code is expecting a request parameter with name &quot;file&quot; but you are not defining it properly.\r\n\r\n\r\nChange \r\n\r\n    &lt;input file=&quot;file&quot; \r\n\r\nTo \r\n\r\n    &lt;input type=&quot;file&quot; name=&quot;file&quot; ","title":"Angularjs pass null value in file multipart FormData to Spring MVC","body":"<p>Your server code is expecting a request parameter with name \"file\" but you are not defining it properly.</p>\n\n<p>Change </p>\n\n<pre><code>&lt;input file=\"file\" \n</code></pre>\n\n<p>To </p>\n\n<pre><code>&lt;input type=\"file\" name=\"file\" \n</code></pre>\n"},{"tags":[],"owner":{"account_id":15075269,"reputation":11,"user_id":10879577,"display_name":"yassir akhayad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669634760,"creation_date":1669312145,"answer_id":74564626,"question_id":57606993,"body_markdown":"When the image is not uploaded, the request is bad because Spring MVC assumes all parameters required unless otherwise defined.\r\nIn your case, you should add `required = false`.\r\n```java\r\n@RequestParam(value = &quot;file&quot;, required = false)\r\n```","title":"Angularjs pass null value in file multipart FormData to Spring MVC","body":"<p>When the image is not uploaded, the request is bad because Spring MVC assumes all parameters required unless otherwise defined.\nIn your case, you should add <code>required = false</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestParam(value = &quot;file&quot;, required = false)\n</code></pre>\n"}],"owner":{"account_id":9904386,"reputation":1316,"user_id":7333386,"accept_rate":51,"display_name":"deadend"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":873,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669634760,"creation_date":1566468799,"question_id":57606993,"body_markdown":"I am attempting to send form data with Multipart data (Image) to Spring MVC controller. From my form. image field is non mandatory. so when i call spring controller without input image field, i get below error in browser console.\r\n\r\n&gt; Failed to load resource: the server responded with a status of 400\r\n&gt; (Bad Request)\r\n\r\nHtml Code:\r\n\r\n    &lt;input file=&quot;file&quot; type=&quot;file&quot; id =&quot;file2&quot;/&gt;\r\n\r\nAngularjS Code:\r\n\r\n    $scope.saveData = function (formObj) {\r\n\t\t$http({\r\n            url: CONTEXT_PATH+&#39;saveFile&#39;,\r\n            method: &quot;POST&quot;,\r\n            headers: { &#39;Content-Type&#39;: undefined },\r\n            transformRequest: function (data) {\r\n            \talert(data.files);\r\n                var formData = new FormData();\r\n                formData.append(&quot;model&quot;, angular.toJson(data.model));\r\n                formData.append(&quot;file&quot;, data.files);\r\n                return formData;\r\n            },\r\n            data: { model: formObj, files: $scope.file }\r\n        }).then(function (response) {\r\n            //alert(response);\r\n        });\r\n\t};\r\n\r\n\r\n    app.directive(&#39;file&#39;, function () {\r\n        return {\r\n            scope: {\r\n                file: &#39;=&#39;\r\n            },\r\n            link: function (scope, el, attrs) {\r\n                el.bind(&#39;change&#39;, function (event) {\r\n                    var file = event.target.files[0];\r\n                    scope.file = file ? file : undefined;\r\n                    scope.$apply();\r\n                });\r\n            }\r\n        };\r\n    });\r\n\r\nSpring Controller Code:\r\n\r\n    @RequestMapping(value = &quot;/saveFile&quot;)\r\n    public @ResponseBody String storeAd(@RequestParam (&quot;model&quot;) String adString, @RequestParam (&quot;file&quot;) MultipartFile file) throws IOException {\r\n        System.out.println(&quot;adString &gt; &quot;+adString);\r\n        return &quot;OK&quot;;\r\n    }","title":"Angularjs pass null value in file multipart FormData to Spring MVC","body":"<p>I am attempting to send form data with Multipart data (Image) to Spring MVC controller. From my form. image field is non mandatory. so when i call spring controller without input image field, i get below error in browser console.</p>\n\n<blockquote>\n  <p>Failed to load resource: the server responded with a status of 400\n  (Bad Request)</p>\n</blockquote>\n\n<p>Html Code:</p>\n\n<pre><code>&lt;input file=\"file\" type=\"file\" id =\"file2\"/&gt;\n</code></pre>\n\n<p>AngularjS Code:</p>\n\n<pre><code>$scope.saveData = function (formObj) {\n    $http({\n        url: CONTEXT_PATH+'saveFile',\n        method: \"POST\",\n        headers: { 'Content-Type': undefined },\n        transformRequest: function (data) {\n            alert(data.files);\n            var formData = new FormData();\n            formData.append(\"model\", angular.toJson(data.model));\n            formData.append(\"file\", data.files);\n            return formData;\n        },\n        data: { model: formObj, files: $scope.file }\n    }).then(function (response) {\n        //alert(response);\n    });\n};\n\n\napp.directive('file', function () {\n    return {\n        scope: {\n            file: '='\n        },\n        link: function (scope, el, attrs) {\n            el.bind('change', function (event) {\n                var file = event.target.files[0];\n                scope.file = file ? file : undefined;\n                scope.$apply();\n            });\n        }\n    };\n});\n</code></pre>\n\n<p>Spring Controller Code:</p>\n\n<pre><code>@RequestMapping(value = \"/saveFile\")\npublic @ResponseBody String storeAd(@RequestParam (\"model\") String adString, @RequestParam (\"file\") MultipartFile file) throws IOException {\n    System.out.println(\"adString &gt; \"+adString);\n    return \"OK\";\n}\n</code></pre>\n"},{"tags":["java","visual-studio-code","redhat"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1669627738,"post_id":74581859,"comment_id":131676828,"body_markdown":"What problem are you having now? What effect do you expect to get? Can you describe the problem in more detail so others can help you solve it.","body":"What problem are you having now? What effect do you expect to get? Can you describe the problem in more detail so others can help you solve it."},{"owner":{"account_id":22030824,"reputation":37,"user_id":16298108,"display_name":"RandomGuy"},"score":0,"creation_date":1669716431,"post_id":74581859,"comment_id":131700579,"body_markdown":"I deleted the folder and I dont save any .java file directly on desktop","body":"I deleted the folder and I dont save any .java file directly on desktop"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1669771315,"post_id":74581859,"comment_id":131717389,"body_markdown":"So is your problem still there? Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.\n\nPlease see [how to ask](https://stackoverflow.com/help/how-to-ask).","body":"So is your problem still there? Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.  Please see <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>."}],"owner":{"account_id":22030824,"reputation":37,"user_id":16298108,"display_name":"RandomGuy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1669634659,"creation_date":1669463008,"question_id":74581859,"body_markdown":"I&#39;m on MacOs Mojave.\r\n\r\nWhen I browse to  `/../Code/User/WorkspaceStorage/../redhat.java`\r\nI noticed that the directory appears to have a copy of my whole desktop folder contained within it.\r\n\r\nI was wondering if it was safe to delete it, what might have caused this, and how/if I can prevent this from happening again.\r\n\r\nThese are the java extensions I have installed: \r\n* Debugger for Java\r\n* Extension Pack for Java\r\n* Project Manager for Java\r\n* Test Runner for Java\r\n* Language Support for Java(TM)by RedHat  \r\n\r\nI also have some C++ extensions.\r\n\r\nI&#39;ve figured out that it might be that Language Support for Java saved my desktop files to see any changes in the workspace since I&#39;ve previously saved some .java files on my desktop.","title":"Why is my Visual Studio Code workspaceStorage directory so large?","body":"<p>I'm on MacOs Mojave.</p>\n<p>When I browse to  <code>/../Code/User/WorkspaceStorage/../redhat.java</code>\nI noticed that the directory appears to have a copy of my whole desktop folder contained within it.</p>\n<p>I was wondering if it was safe to delete it, what might have caused this, and how/if I can prevent this from happening again.</p>\n<p>These are the java extensions I have installed:</p>\n<ul>\n<li>Debugger for Java</li>\n<li>Extension Pack for Java</li>\n<li>Project Manager for Java</li>\n<li>Test Runner for Java</li>\n<li>Language Support for Java(TM)by RedHat</li>\n</ul>\n<p>I also have some C++ extensions.</p>\n<p>I've figured out that it might be that Language Support for Java saved my desktop files to see any changes in the workspace since I've previously saved some .java files on my desktop.</p>\n"},{"tags":["java","json","org.json"],"comments":[{"owner":{"account_id":1232680,"reputation":1203,"user_id":1196928,"display_name":"bharatpatel"},"score":1,"creation_date":1669627117,"post_id":74598349,"comment_id":131676621,"body_markdown":"Have you confirmed that your json is valid? Code to convert string to json is valid but your string is in valid.","body":"Have you confirmed that your json is valid? Code to convert string to json is valid but your string is in valid."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1669627172,"post_id":74598349,"comment_id":131676641,"body_markdown":"try this &quot;{name:Alex, sex:male}&quot;","body":"try this &quot;{name:Alex, sex:male}&quot;"},{"owner":{"account_id":47518,"reputation":21228,"user_id":140803,"accept_rate":78,"display_name":"Blessed Geek"},"score":1,"creation_date":1669628098,"post_id":74598349,"comment_id":131676953,"body_markdown":"https://www.json.org/json-en.html","body":"<a href=\"https://www.json.org/json-en.html\" rel=\"nofollow noreferrer\">json.org/json-en.html</a>"}],"answers":[{"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1669628800,"post_id":74598543,"comment_id":131677184,"body_markdown":"Just a note - `JSONObject` can successfully parse this string even without `&quot;` around keys and string values. But a **properly** formatted json should  look as you described it.","body":"Just a note - <code>JSONObject</code> can successfully parse this string even without <code>&quot;</code> around keys and string values. But a <b>properly</b> formatted json should  look as you described it."}],"tags":[],"owner":{"account_id":14334883,"reputation":888,"user_id":10354667,"display_name":"chamal"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669627917,"creation_date":1669627917,"answer_id":74598543,"question_id":74598349,"body_markdown":"The string you&#39;re assigning to the variable ```s``` is not valid JSON. Property names and properties should be separated by ```:``` instead of ```=```, and double quotes should be used around strings and property names. \r\n\r\nSo the string in your example should be like this (with ```\\``` being used to escape the quote characters within the string quotes):\r\n```java\r\nString s = &quot;{\\&quot;name\\&quot;:\\&quot;Alex\\&quot;,\\&quot;sex\\&quot;:\\&quot;male\\&quot;}&quot;;\r\n```","title":"Convert string to json object giving error","body":"<p>The string you're assigning to the variable <code>s</code> is not valid JSON. Property names and properties should be separated by <code>:</code> instead of <code>=</code>, and double quotes should be used around strings and property names.</p>\n<p>So the string in your example should be like this (with <code>\\</code> being used to escape the quote characters within the string quotes):</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;{\\&quot;name\\&quot;:\\&quot;Alex\\&quot;,\\&quot;sex\\&quot;:\\&quot;male\\&quot;}&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669633927,"creation_date":1669632350,"answer_id":74599418,"question_id":74598349,"body_markdown":"The JSON you&#39;ve provided is not valid because separator colon `:` should be used a separator between a Key and a Value (*not an equals sign*).\r\n\r\nA quote from the standard [The JavaScript Object Notation (JSON) Data Interchange Format][json]:\r\n\r\n&gt; **4.  Objects**\r\n&gt; \r\n&gt;    An object structure is represented as a pair of curly brackets   \r\n&gt; surrounding zero or more name/value pairs (or members).  A name is a  \r\n&gt; string.  A **single colon comes after each name**, separating the name   \r\n&gt; from the value.  A single comma separates a value from a following   \r\n&gt; name.  The names within an object SHOULD be unique.\r\n\r\nYou can preprocess you JSON before parsing it using [`String.replace()`][stringReplace]\r\n\r\n```\r\nString s =&quot;{name=Alex, sex=male}&quot;;\r\n    \r\nJSONObject obj = new JSONObject(s.replace(&#39;=&#39;, &#39;:&#39;));\r\n    \r\nSystem.out.println(obj.get(&quot;name&quot;));\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nAlex\r\n```\r\n\r\nAlso, **note** that *Org.json* (as well as some other libraries like Gson) would take care of fixing missing double quotes `&quot;`. But it would not be the case with libraries like Jackson.\r\n\r\n\r\n\r\n   [json]: https://www.rfc-editor.org/rfc/rfc8259.html#section-4\r\n\r\n   [stringReplace]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replace(char,char)","title":"Convert string to json object giving error","body":"<p>The JSON you've provided is not valid because separator colon <code>:</code> should be used a separator between a Key and a Value (<em>not an equals sign</em>).</p>\n<p>A quote from the standard <a href=\"https://www.rfc-editor.org/rfc/rfc8259.html#section-4\" rel=\"nofollow noreferrer\">The JavaScript Object Notation (JSON) Data Interchange Format</a>:</p>\n<blockquote>\n<p><strong>4.  Objects</strong></p>\n<p>An object structure is represented as a pair of curly brackets<br />\nsurrounding zero or more name/value pairs (or members).  A name is a<br />\nstring.  A <strong>single colon comes after each name</strong>, separating the name<br />\nfrom the value.  A single comma separates a value from a following<br />\nname.  The names within an object SHOULD be unique.</p>\n</blockquote>\n<p>You can preprocess you JSON before parsing it using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replace(char,char)\" rel=\"nofollow noreferrer\"><code>String.replace()</code></a></p>\n<pre><code>String s =&quot;{name=Alex, sex=male}&quot;;\n    \nJSONObject obj = new JSONObject(s.replace('=', ':'));\n    \nSystem.out.println(obj.get(&quot;name&quot;));\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Alex\n</code></pre>\n<p>Also, <strong>note</strong> that <em>Org.json</em> (as well as some other libraries like Gson) would take care of fixing missing double quotes <code>&quot;</code>. But it would not be the case with libraries like Jackson.</p>\n"},{"tags":[],"owner":{"account_id":17601943,"reputation":91,"user_id":12771724,"display_name":"Enes Birisik"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1669634095,"creation_date":1669634095,"answer_id":74599745,"question_id":74598349,"body_markdown":"You should use : instead of =\r\n\r\nString s = &quot;&quot;&quot;{&quot;name&quot;:&quot;Alex&quot;,&quot;sex&quot;:&quot;male&quot;}&quot;&quot;&quot;; (Since Java 13 preview feature)\r\n","title":"Convert string to json object giving error","body":"<p>You should use : instead of =</p>\n<p>String s = &quot;&quot;&quot;{&quot;name&quot;:&quot;Alex&quot;,&quot;sex&quot;:&quot;male&quot;}&quot;&quot;&quot;; (Since Java 13 preview feature)</p>\n"}],"owner":{"account_id":27001234,"reputation":17,"user_id":20562483,"display_name":"marshmellow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1377,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74599418,"answer_count":3,"score":0,"last_activity_date":1669634120,"creation_date":1669626924,"question_id":74598349,"body_markdown":"I have a string which needs to be converted to `JSONObject`, I added the dependency, but I&#39;m getting error, which I&#39;m not able to figure out. I have the following dependency:\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\r\n\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n   &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n   &lt;version&gt;20220924&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```\r\nString s =&quot;{name=Alex, sex=male}&quot;;\r\n    \r\nJSONObject obj = new JSONObject(s);\r\n    \r\nSystem.out.println(obj.get(&quot;name&quot;));\r\n```\r\n\r\nI&#39;m getting an exception: \r\n\r\n```\r\norg.json.JSONException: Expected a &#39;:&#39; after a key at line 5\r\n```\r\n","title":"Convert string to json object giving error","body":"<p>I have a string which needs to be converted to <code>JSONObject</code>, I added the dependency, but I'm getting error, which I'm not able to figure out. I have the following dependency:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.json&lt;/groupId&gt;\n   &lt;artifactId&gt;json&lt;/artifactId&gt;\n   &lt;version&gt;20220924&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre><code>String s =&quot;{name=Alex, sex=male}&quot;;\n    \nJSONObject obj = new JSONObject(s);\n    \nSystem.out.println(obj.get(&quot;name&quot;));\n</code></pre>\n<p>I'm getting an exception:</p>\n<pre><code>org.json.JSONException: Expected a ':' after a key at line 5\n</code></pre>\n"},{"tags":["java","docker","maven","deployment","build"],"comments":[{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":2,"creation_date":1632334377,"post_id":69289289,"comment_id":122466959,"body_markdown":"Please avoid posting images. Also please go ahead and post your dockerfile in order to troubleshoot.","body":"Please avoid posting images. Also please go ahead and post your dockerfile in order to troubleshoot."},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1632353223,"post_id":69289289,"comment_id":122472132,"body_markdown":"Editing the question to include a [mcve] would also be helpful.  &quot;no match for platform in manifest&quot; could suggest a CPU architecture problem; are you using an M1 Mac, or an ARM system, or something else that&#39;s not x86-based?","body":"Editing the question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would also be helpful.  &quot;no match for platform in manifest&quot; could suggest a CPU architecture problem; are you using an M1 Mac, or an ARM system, or something else that&#39;s not x86-based?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1632973707,"post_id":69289289,"comment_id":122639038,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632807876,"creation_date":1632807876,"answer_id":69356376,"question_id":69289289,"body_markdown":"The information you gave leaves room for guessing.\r\n\r\nI believe the important part is `no match for platform in manifest`.\r\nThus I believe in your dockerfile you start `FROM someimage`, and this someimage is not available for the platform you are using (which could mean MacOS).","title":"Issue with Building Java Application in Docker","body":"<p>The information you gave leaves room for guessing.</p>\n<p>I believe the important part is <code>no match for platform in manifest</code>.\nThus I believe in your dockerfile you start <code>FROM someimage</code>, and this someimage is not available for the platform you are using (which could mean MacOS).</p>\n"},{"tags":[],"owner":{"account_id":13902531,"reputation":65,"user_id":10037807,"display_name":"Jamie van Eesteren"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1669633880,"creation_date":1669199259,"answer_id":74545302,"question_id":69289289,"body_markdown":"Try adding the following arg to the command: \r\n\r\n       --platform=linux/amd64\r\n\r\nor alternatively use the following command to set an env var: \r\n\r\n       export DOCKER_DEFAULT_PLATFORM=linux/amd64","title":"Issue with Building Java Application in Docker","body":"<p>Try adding the following arg to the command:</p>\n<pre><code>   --platform=linux/amd64\n</code></pre>\n<p>or alternatively use the following command to set an env var:</p>\n<pre><code>   export DOCKER_DEFAULT_PLATFORM=linux/amd64\n</code></pre>\n"}],"owner":{"account_id":14384356,"reputation":11,"user_id":10390767,"display_name":"Karthik John Babu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1798,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1669633880,"creation_date":1632334153,"question_id":69289289,"body_markdown":"I am at the Java Directory. And When I execute the build command:\r\ndocker build -t karthikjohnbabu/hello-world-java:0.0.2.RELEASE .\r\n\r\nI get the below error message. Please help me???\r\n\r\nfailed to solve with frontend dockerfile.v0: failed to create LLB definition: no match for platform in manifest sha256:195e9c227ad891282e80602cac2372a3085ecf4ceefbb395558ffe0f7bb0b9aa: not found.\r\n\r\nComplete details of error below:\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/pnX7w.jpg&quot; width=&quot;900&quot; height=&quot;250&quot;&gt;\r\n&lt;!-- ![Error Snapshot][1] --&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/pnX7w.jpg","title":"Issue with Building Java Application in Docker","body":"<p>I am at the Java Directory. And When I execute the build command:\ndocker build -t karthikjohnbabu/hello-world-java:0.0.2.RELEASE .</p>\n<p>I get the below error message. Please help me???</p>\n<p>failed to solve with frontend dockerfile.v0: failed to create LLB definition: no match for platform in manifest sha256:195e9c227ad891282e80602cac2372a3085ecf4ceefbb395558ffe0f7bb0b9aa: not found.</p>\n<p>Complete details of error below:</p>\n<img src=\"https://i.stack.imgur.com/pnX7w.jpg\" width=\"900\" height=\"250\">\n\n"},{"tags":["javascript","java","vue.js","rest","primevue"],"comments":[{"owner":{"account_id":11689602,"reputation":4755,"user_id":9568358,"display_name":"Wimanicesir"},"score":0,"creation_date":1668694148,"post_id":74462797,"comment_id":131472125,"body_markdown":"The example and the desired result you give is not an JSON but a array containing other arrays.","body":"The example and the desired result you give is not an JSON but a array containing other arrays."},{"owner":{"account_id":9101408,"reputation":11,"user_id":14756852,"display_name":"jpvandekerkhove"},"score":0,"creation_date":1668787760,"post_id":74462797,"comment_id":131498650,"body_markdown":"Thank&#39;s. I added the pom of rest project. May be something wrong or forgetted.","body":"Thank&#39;s. I added the pom of rest project. May be something wrong or forgetted."}],"answers":[{"comments":[{"owner":{"account_id":9101408,"reputation":11,"user_id":14756852,"display_name":"jpvandekerkhove"},"score":0,"creation_date":1669379000,"post_id":74492536,"comment_id":131633988,"body_markdown":"Thank for your help. Problem, the &quot;json&quot; is always the same as the first exemple. New codes are online. I hope to finally be right. I&#39;ve been looking for three months, I&#39;ve tried so many things that nervous breakdown threatens","body":"Thank for your help. Problem, the &quot;json&quot; is always the same as the first exemple. New codes are online. I hope to finally be right. I&#39;ve been looking for three months, I&#39;ve tried so many things that nervous breakdown threatens"}],"tags":[],"owner":{"account_id":8441268,"reputation":260,"user_id":6346196,"accept_rate":57,"display_name":"Joulin Nicolas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668788742,"creation_date":1668788342,"answer_id":74492536,"question_id":74462797,"body_markdown":"The *Json you need* is actually not json. here is what you actually want : \r\n\r\n```json\r\n[\r\n   {\r\n    &quot;id&quot;:32,\r\n    &quot;fullName&quot;:&quot;DE BELLOUET Jag&quot;,\r\n    &quot;acs&quot;:&quot;1.3.13.3.&quot;,\r\n    &quot;nom_service&quot;:&quot;Cid polseruti sau&quot;\r\n   },\r\n   {\r\n    &quot;id&quot;:15,\r\n    &quot;fullName&quot;:&quot;NOURAUD Benjamin&quot;,\r\n    &quot;acs&quot;:&quot;1.3.13.3.&quot;,\r\n    &quot;nom_service&quot;:&quot;Cid polseruti sau&quot;\r\n   }\r\n]\r\n``` \r\n\r\nthe important detail is the `{` and `}` characters that are used to denoted an Object or a map of properties.\r\n\r\nWith that said you should probably create a POJO to store the result of your SQL request. maybe something like :\r\n\r\n```java\r\npublic class Agent {\r\n    private Integer id;\r\n    private String fullName;\r\n    private String acs;\r\n    private String nomService;\r\n\r\n    // add some getters and setter here\r\n\r\n}\r\n```\r\n\r\nMaybe returning a `List&lt;Agent&gt;` from your rest method could be enough. If not you could take a look at the [jackson][1] library to serialize a `List&lt;Agent&gt;` into json.\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson","title":"How to have keys in my Json, not only values","body":"<p>The <em>Json you need</em> is actually not json. here is what you actually want :</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n   {\n    &quot;id&quot;:32,\n    &quot;fullName&quot;:&quot;DE BELLOUET Jag&quot;,\n    &quot;acs&quot;:&quot;1.3.13.3.&quot;,\n    &quot;nom_service&quot;:&quot;Cid polseruti sau&quot;\n   },\n   {\n    &quot;id&quot;:15,\n    &quot;fullName&quot;:&quot;NOURAUD Benjamin&quot;,\n    &quot;acs&quot;:&quot;1.3.13.3.&quot;,\n    &quot;nom_service&quot;:&quot;Cid polseruti sau&quot;\n   }\n]\n</code></pre>\n<p>the important detail is the <code>{</code> and <code>}</code> characters that are used to denoted an Object or a map of properties.</p>\n<p>With that said you should probably create a POJO to store the result of your SQL request. maybe something like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Agent {\n    private Integer id;\n    private String fullName;\n    private String acs;\n    private String nomService;\n\n    // add some getters and setter here\n\n}\n</code></pre>\n<p>Maybe returning a <code>List&lt;Agent&gt;</code> from your rest method could be enough. If not you could take a look at the <a href=\"https://www.baeldung.com/jackson\" rel=\"nofollow noreferrer\">jackson</a> library to serialize a <code>List&lt;Agent&gt;</code> into json.</p>\n"},{"tags":[],"owner":{"account_id":9101408,"reputation":11,"user_id":14756852,"display_name":"jpvandekerkhove"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669633142,"creation_date":1669633142,"answer_id":74599579,"question_id":74462797,"body_markdown":"The first part of the solution actually involves creating a class (AgentServ).\r\n\r\nBut hibernate doesn&#39;t like my request, and it had to have the results in a list of Object[].\r\n\r\nThen we had to cast the previous results, Include the lines in an agent object one step at a time and then add it to the &lt;AgentServ&gt; list.\r\n\r\nThe datatable now returns the requested result.\r\n\r\nBelow is the final code.\r\n\r\n    public List&lt;AgentServ&gt; listAgentService() {\r\n\t\tString buf = null;\r\n\t\tbuf = &quot;SELECT a.id AS id,(btrim(a.nom) || &#39; &#39; || btrim(a.prenom)) AS fullName, s.acs AS acs, s.libelle AS nom_service &quot;;\r\n\t\tbuf += &quot;FROM Agent a INNER JOIN Service s ON a.service = s &quot;;\r\n\t\tbuf += &quot;WHERE ((a.actif = true) OR ((a.actif = false) AND (a.dateSuppression &gt;= CURRENT_DATE)))&quot;;\r\n\r\n\t\tList&lt;Object[]&gt; query = em.createQuery(buf.toString(), Object[].class).getResultList();\r\n\t\tList&lt;AgentServ&gt; agents = new ArrayList&lt;AgentServ&gt;();\r\n\t\t\r\n\t\tfor(Object[] row : query) {\r\n\t\t\tAgentServ agent = new AgentServ();\r\n\t\t\tagent.setId((long) row[0]);\r\n\t\t\tagent.setFullName((String) row[1]);\r\n\t\t\tagent.setAcs((String) row[2]);\r\n\t\t\tagent.setNom_service((String) row[3]);\r\n\t\t\t\r\n\t\t\tagents.add(agent);\r\n\t\t}\r\n\t\t\r\n\t\treturn agents;\t\t\r\n\t}","title":"How to have keys in my Json, not only values","body":"<p>The first part of the solution actually involves creating a class (AgentServ).</p>\n<p>But hibernate doesn't like my request, and it had to have the results in a list of Object[].</p>\n<p>Then we had to cast the previous results, Include the lines in an agent object one step at a time and then add it to the  list.</p>\n<p>The datatable now returns the requested result.</p>\n<p>Below is the final code.</p>\n<pre><code>public List&lt;AgentServ&gt; listAgentService() {\n    String buf = null;\n    buf = &quot;SELECT a.id AS id,(btrim(a.nom) || ' ' || btrim(a.prenom)) AS fullName, s.acs AS acs, s.libelle AS nom_service &quot;;\n    buf += &quot;FROM Agent a INNER JOIN Service s ON a.service = s &quot;;\n    buf += &quot;WHERE ((a.actif = true) OR ((a.actif = false) AND (a.dateSuppression &gt;= CURRENT_DATE)))&quot;;\n\n    List&lt;Object[]&gt; query = em.createQuery(buf.toString(), Object[].class).getResultList();\n    List&lt;AgentServ&gt; agents = new ArrayList&lt;AgentServ&gt;();\n    \n    for(Object[] row : query) {\n        AgentServ agent = new AgentServ();\n        agent.setId((long) row[0]);\n        agent.setFullName((String) row[1]);\n        agent.setAcs((String) row[2]);\n        agent.setNom_service((String) row[3]);\n        \n        agents.add(agent);\n    }\n    \n    return agents;      \n}\n</code></pre>\n"}],"owner":{"account_id":9101408,"reputation":11,"user_id":14756852,"display_name":"jpvandekerkhove"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669633142,"creation_date":1668611104,"question_id":74462797,"body_markdown":"I created a datatable from primevue, but I only get empty rows.\r\n\r\nI looked where it could come from and I think it comes from my Json, whose fields have no key. What corrections should be made so that this Json becomes standard again and my data can be displayed? Thanks in advance.\r\n\r\n\r\n**A short exemple of the Json I get:**\r\n```\r\n[\r\n   [\r\n    32,\r\n    &quot;DE BELLOUET Jag&quot;,\r\n    &quot;1.3.13.3.&quot;,\r\n    &quot;Cid polseruti sau&quot;\r\n   ],\r\n   [\r\n    15,\r\n    &quot;NOURAUD Benjamin&quot;,\r\n    &quot;1.3.13.3.&quot;,\r\n    &quot;Cid polseruti sau&quot;\r\n   ]\r\n]\r\n```\r\n\r\n\r\n**A short exemple of the jSon I need:**\r\n```\r\n[\r\n   [\r\n    &quot;id&quot;:32,\r\n    &quot;fullName&quot;:&quot;DE BELLOUET Jag&quot;,\r\n    &quot;acs&quot;:&quot;1.3.13.3.&quot;,\r\n    &quot;nom_service&quot;:&quot;Cid polseruti sau&quot;\r\n   ],\r\n   [\r\n    &quot;id&quot;:15,\r\n    &quot;fullName&quot;:&quot;NOURAUD Benjamin&quot;,\r\n    &quot;acs&quot;:&quot;1.3.13.3.&quot;,\r\n    &quot;nom_service&quot;:&quot;Cid polseruti sau&quot;\r\n   ]\r\n]\r\n```\r\n\r\n\r\n**The main program: gererPersonnes.vue**\r\n\r\n```\r\n&lt;template&gt;\r\n    &lt;div class=&quot;principal_personnes&quot;&gt;\r\n        &lt;div class=&quot;bandeau&quot;&gt;\r\n            &lt;div&gt;{{titre}}&lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div&gt;\r\n            &lt;h2&gt;Liste des agents actifs&lt;/h2&gt;\r\n            &lt;DataTable :value=&quot;agents&quot; :paginator=&quot;true&quot; :rows=&quot;10&quot; class=&quot;tableau&quot;&gt;\r\n                 &lt;template #empty&gt;\r\n                    Pas d&#39;agent trouv&#233;.\r\n                &lt;/template&gt;\r\n                &lt;Column field=&quot;id&quot; :sortable=&quot;true&quot; header=&quot;Id&quot; headerStyle=&quot;width: 3em&quot; bodyStyle=&quot;text-align: center&quot;&gt;&lt;/Column&gt;\r\n                &lt;Column field=&quot;fullName&quot; :sortable=&quot;true&quot; header=&quot;Nom - Pr&#233;nom&quot; headerStyle=&quot;width: 250px&quot;&gt;&lt;/Column&gt;\r\n                &lt;Column field=&quot;service.acs&quot; :sortable=&quot;true&quot; header=&quot;A.C.S.&quot; headerStyle=&quot;width: 150px&quot;&gt;&lt;/Column&gt;\r\n                &lt;Column field=&quot;service.nom_service&quot; :sortable=&quot;true&quot; header=&quot;Service&quot; headerStyle=&quot;width: 250px; text-aling: left;&quot;&gt;&lt;/Column&gt;\r\n                &lt;Column headerStyle=&quot;width: 8em&quot;&gt;\r\n                    &lt;template #body &gt;\r\n                        &lt;Button type=&quot;button&quot; icon=&quot;pi pi-user&quot; class=&quot;p-button-text&quot; title=&quot;D&#233;tails&quot;&gt;&lt;/Button&gt;\r\n                        &lt;Button type=&quot;button&quot; icon=&quot;pi pi-pencil&quot; class=&quot;p-button-text&quot; title=&quot;Modifier&quot;&gt;&lt;/Button&gt;\r\n                        &lt;Button type=&quot;button&quot; icon=&quot;pi pi-trash&quot; class=&quot;p-button-text&quot; title=&quot;Supprimer&quot;&gt;&lt;/Button&gt;\r\n                    &lt;/template&gt;\r\n                &lt;/Column&gt;\r\n            &lt;/DataTable&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;button_gerer&quot;&gt;\r\n            &lt;button type=&quot;submit&quot; class=&quot;boutton coin_vert&quot; @click=&quot;cAjouter()&quot;&gt;Ajouter un agent&lt;/button&gt;\r\n            &lt;button type=&quot;button&quot; class=&quot;boutton coin_rouge&quot; @click=&quot;cQuitter()&quot;&gt;Abandon&lt;/button&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/template&gt;\r\n\r\n&lt;style&gt;\r\n:root {\r\n    --gaucheP: 660px;\r\n}\r\n\r\n.principal_personnes {\r\n    height: var(--haut);\r\n    width: var(--large);\r\n    background-color:cornsilk;\r\n}\r\n\r\n.tableau {\r\n    width: 1000px;\r\n    margin: 0 auto;\r\n}\r\n\r\n.pi-user {\r\n    color:blue;\r\n    font-size: 1em;\r\n}\r\n\r\n.pi-pencil {\r\n    color:green;\r\n    font-size: 1em;\r\n}\r\n\r\n.pi-trash {\r\n    color:red;\r\n    font-size: 1em;\r\n}\r\n\r\n.p-datatable .p-datatable-tbody &gt; tr &gt; td {\r\n    text-align: left;\r\n    border: 1px solid #e9ecef;\r\n    border-width: 0 0 1px 0;\r\n    padding: 0rem 0rem;\r\n}\r\n\r\nh2 {\r\n    text-align:center;\r\n}\r\n\r\n.button_gerer {\r\n    display: grid;\r\n    grid-template: 30px / 130px 130px;\r\n    column-gap: 220px;  /* Firefox 63+ Chrome 84+ */\r\n    justify-content: stretch;\r\n    align-content: stretch;\r\n    padding-left: var(--gaucheP);\r\n    padding-top: 40px;\r\n}\r\n\r\n&lt;/style&gt;\r\n\r\n&lt;script&gt;\r\nimport DataTable from &#39;primevue/datatable&#39;;\r\nimport Column from &#39;primevue/column&#39;;\r\nimport Button from &#39;primevue/button&#39;;\r\nimport (&#39;primeicons/primeicons.css&#39;);\r\n\r\nimport AgentService from &#39;../../services/AgentService&#39;\r\n\r\nexport default {\r\n    name: &#39;gererPersonnes&#39;,\r\n    beforeCreate() {\r\n        window.self.document.title = &quot;gererPersonnes&quot;; // modification du titre de l&#39;onglet\r\n        document.getElementById(&#39;menuU&#39;).style.setProperty(&#39;display&#39;, &#39;none&#39;); //menu non affich&#233;\r\n    },\r\n    components : {\r\n        DataTable,\r\n        Column,\r\n        Button\r\n    },\r\n    data() {\r\n        return {\r\n            agents : null,\r\n            titre: &#39;G&#233;rer les personnes&#39;,\r\n        }\r\n    },\r\n    methods : {\r\n        cQuitter() {\r\n            let a = confirm(&quot;Voulez quitter la gestion des personnes ?&quot;);\r\n            if (a == true) {\r\n                this.$router.push(&quot;/&quot;);\r\n            }\r\n        },\r\n        cAjouter() {\r\n            let routeUrl = this.$router.resolve({\r\n                path : &quot;/agents/add_agent&quot;,\r\n            });\r\n            window.open(routeUrl.href, &#39;_blank&#39;);\r\n        }\r\n    },\r\n    created() {\r\n        this.AgentService = new AgentService;\r\n    },\r\n    mounted () {\r\n        this.AgentService.getAgentServices().then(data =&gt; this.agents = data);\r\n    },\r\n    AgentService : null\r\n\r\n}\r\n\r\n\r\n//Centrage du formulaire de la page\r\nvar inHeight = window.innerHeight - 140;\r\nvar inWidth = window.innerWidth;\r\n\r\nif (inWidth &gt; 1680) {\r\n    inWidth = 1680;\r\n}\r\n\r\nvar l = Math.floor((inWidth - 460 - 20)/2);\r\nvar padLeft = l + &#39;px&#39;;\r\nvar hauteur = inHeight + &#39;px&#39;;\r\n\r\nvar r = document.querySelector(&#39;:root&#39;);\r\nr.style.setProperty(&#39;--gaucheP&#39;, padLeft);\r\nr.style.setProperty(&#39;--haut&#39;, hauteur);\r\n\r\n&lt;/script&gt;\r\n```\r\n\r\n**The service called by gererPersonnes.vue : AgentService.js**\r\n\r\n```\r\nimport axios from &quot;axios&quot;;\r\n\r\nconst URL = &quot;/cote-s-rest/rest/agent&quot;; \r\nconst URL2 = &quot;/cote-s-rest/rest/password/&quot;; \r\nconst URL3 = &quot;/cote-s-rest/rest/agent/patronyme&quot;; \r\nconst URL4 = &quot;/cote-s-rest/rest/agent/agentServ&quot;;\r\n\r\nexport default class AgentService {\r\n\r\ninsertAgent(agent) {\r\n    return axios.post(URL, agent).then(resp =&gt; {\r\n        return Promise.resolve(resp.data);\r\n    });\r\n}\r\n\r\npassNewAgent(agent) {\r\n    return axios.post(URL2, agent).then(resp =&gt; {\r\n        return Promise.resolve(resp.data);\r\n    });\r\n}\r\n\r\ngetAgents() {\r\n    return axios.get(URL3).then(resp =&gt; {\r\n        return Promise.resolve(resp.data);\r\n    });\r\n}\r\n\r\ngetAgentServices() {\r\n    return axios.get(URL4).then(resp =&gt; {\r\n        return Promise.resolve(resp.data);\r\n    });\r\n}\r\n\r\n}\r\n\r\n```\r\n\r\n**The class AgentServ use in Java**\r\n\r\n```\r\n\t\r\npackage fr.gouv.finances.douane.cotes.dao.agent;\r\n\r\n/**\r\n * Classe de requete pour la liste &quot;AgentServ&quot;\r\n * \r\n * @author Jean Paul Vandekerkhove\r\n * @version 0.0.2.SNAPSHOT\r\n */\r\npublic class AgentServ {\r\n\r\n\t//------------------------\r\n\t// Attributs\r\n\t//------------------------\r\n\tprivate long id;\r\n\tprivate String fullName;\r\n\tprivate String acs;\r\n\tprivate String nom_service;\r\n\t\t\r\n\t//------------------------\r\n\t// Constructeurs\r\n\t//------------------------\r\n\t\r\n\t/**\r\n\t * Constructeur vide\r\n\t */\r\n\tpublic AgentServ() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\t/**\r\n\t * Constructeur complet\r\n\t * \r\n\t * @param id\r\n\t * @param fullName\r\n\t * @param acs\r\n\t * @param nom_service\r\n\t */\r\n\tpublic AgentServ(long id, String fullName, String acs, String nom_service) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.fullName = fullName;\r\n\t\tthis.acs = acs;\r\n\t\tthis.nom_service = nom_service;\r\n\t}\r\n\r\n\t//------------------------\r\n\t// Getters et Setters\r\n\t//------------------------\r\n\t/**\r\n\t * Retourne l&#39;identifiant de l&#39;Agent\r\n\t * @return id - identifiant de l&#39;Agent\r\n\t */\r\n\tpublic long getId() {\r\n\t\treturn id;\r\n\t}\r\n\t\r\n\t/**\r\n\t * MaJ de l&#39;Identifiant de l&#39;Agent\r\n\t * @param id - Identifiant de l&#39;agent\r\n\t */\r\n\tpublic void setId(long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Retourne l&#39;identit&#233; complete de l&#39;Agent\r\n\t * @return fullName - nom-pr&#233;nom de l&#39;Agent\r\n\t */\r\n\tpublic String getFullName() {\r\n\t\treturn fullName;\r\n\t}\r\n\t\r\n\t/**\r\n\t * MaJ de l&#39;identit&#233; complete de l&#39;Agent\r\n\t * @param fullName - nom-pr&#233;nom de l&#39;Agent\r\n\t */\r\n\tpublic void setFullName(String fullName) {\r\n\t\tthis.fullName = fullName;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Retourne l&#39;acs du service de l&#39;Agent\r\n\t * @return acs - acs du service de l&#39;Agent\r\n\t */\r\n\tpublic String getAcs() {\r\n\t\treturn acs;\r\n\t}\r\n\t\r\n\t/**\r\n\t * MaJ de l&#39;acs du service de l&#39;Agent\r\n\t * @param acs - acs du service de l&#39;Agent\r\n\t */\r\n\tpublic void setAcs(String acs) {\r\n\t\tthis.acs = acs;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Retourne le libell&#233; du service de l&#39;Agent\r\n\t * @return nom_service - libell&#233; du service de l&#39;Agent\r\n\t */\r\n\tpublic String getNom_service() {\r\n\t\treturn nom_service;\r\n\t}\r\n\t\r\n\t/**\r\n\t * MaJ le libell&#233; du service de l&#39;Agent\r\n\t * @param nom_service - libell&#233; du service de l&#39;Agent\r\n\t */\r\n\tpublic void setNom_service(String nom_service) {\r\n\t\tthis.nom_service = nom_service;\r\n\t}\r\n\r\n}\r\n\t\r\n\r\n```\r\n\r\n**The List Method use in AgentDaoImpl.java**\r\n\r\n```\r\n\t\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tpublic List&lt;AgentServ&gt; listAgentService() {\r\n\t\tString buf = null;\r\n\t\tbuf = &quot;SELECT a.id AS id,(btrim(a.nom) || &#39; &#39; || btrim(a.prenom)) AS fullName, s.acs AS acs, s.libelle AS nom_service &quot;;\r\n\t\tbuf += &quot;FROM Agent a INNER JOIN Service s ON a.service = s &quot;;\r\n\t\tbuf += &quot;WHERE ((a.actif = true) OR ((a.actif = false) AND (a.dateSuppression &gt;= CURRENT_DATE)))&quot;;\r\n\r\n\t\tList&lt;AgentServ&gt; agents= em.createQuery(buf.toString()).getResultList();\r\n\r\n\t\treturn agents;\r\n\t}\r\n```\r\n\r\n**The REST method**\r\n\r\n```\r\npackage fr.gouv.finances.douane.cotes.rest.agent;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.HashSet;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\nimport java.util.logging.Logger;\r\n\r\nimport javax.enterprise.context.RequestScoped;\r\nimport javax.inject.Inject;\r\nimport javax.persistence.NoResultException;\r\nimport javax.validation.ConstraintViolation;\r\nimport javax.validation.ConstraintViolationException;\r\nimport javax.validation.ValidationException;\r\nimport javax.validation.Validator;\r\nimport javax.ws.rs.Consumes;\r\nimport javax.ws.rs.GET;\r\nimport javax.ws.rs.POST;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.Produces;\r\nimport javax.ws.rs.core.Response;\r\n\r\nimport fr.gouv.finances.douane.cotes.dao.agent.Agent;\r\nimport fr.gouv.finances.douane.cotes.dao.agent.AgentDAO;\r\nimport fr.gouv.finances.douane.cotes.dao.agent.AgentServ;\r\nimport fr.gouv.finances.douane.cotes.dao.agent.ListAgent;\r\n/**\r\n * Classe de ressources REST de la classe ejb Agent\r\n *\r\n * @author VANDEKERKHOVE\r\n * @version 0.0.1.SNAPSHOT\r\n */\r\n@Path(&quot;/agent&quot;)\r\n@RequestScoped\r\npublic class AgentResourceRESTService {\r\n\r\n\t@Inject\r\n\tprivate Logger log;\r\n\r\n\t@Inject\r\n\tprivate Validator validator;\r\n\r\n\t@Inject\r\n\tprivate AgentDAO repository;\r\n\r\n    @GET\r\n\t@Path(&quot;/agentServ&quot;)\r\n\t@Produces(&quot;application/json; charset=UTF-8&quot;)\r\n\tpublic List&lt;AgentServ&gt; ListAgentService() {\r\n\t\treturn (List&lt;AgentServ&gt;) repository.listAgentService();\r\n\t}\r\n```\r\n\r\n**The pom of the rest project**\r\n\r\n```\r\nproject xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  \r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;fr.gouv.finances.douane.cote-s&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cote-s&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n  \r\n  &lt;artifactId&gt;cote-s-rest&lt;/artifactId&gt;\r\n  &lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;description&gt;Modules Rest de Cote-S&lt;/description&gt;\r\n  \r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;fr.gouv.finances.douane.cote-s&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cote-s-ejb&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n\t\t\t&lt;type&gt;ejb&lt;/type&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t     &lt;dependency&gt;\r\n\t     \t&lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\r\n\t     \t&lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\r\n\t     \t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t     &lt;/dependency&gt;\r\n\r\n\t     &lt;dependency&gt;\r\n\t        &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t        &lt;scope&gt;provided&lt;/scope&gt;\r\n\t     &lt;/dependency&gt;\r\n\r\n\t \t&lt;dependency&gt;\r\n\t     \t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t     \t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n\t        &lt;scope&gt;provided&lt;/scope&gt;\r\n\t     &lt;/dependency&gt;\r\n\t\r\n\t     &lt;dependency&gt;\r\n\t        &lt;groupId&gt;org.jboss.spec.javax.ws.rs&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;jboss-jaxrs-api_2.1_spec&lt;/artifactId&gt;\r\n\t        &lt;scope&gt;provided&lt;/scope&gt;\r\n\t     &lt;/dependency&gt;\r\n\t\r\n\t     &lt;dependency&gt;\r\n\t        &lt;groupId&gt;org.jboss.spec.javax.servlet&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;jboss-servlet-api_4.0_spec&lt;/artifactId&gt;\r\n\t        &lt;scope&gt;provided&lt;/scope&gt;\r\n\t     &lt;/dependency&gt;\r\n\r\n\t    &lt;dependency&gt;\r\n\t       &lt;groupId&gt;org.jboss.spec.javax.ejb&lt;/groupId&gt;\r\n\t       &lt;artifactId&gt;jboss-ejb-api_3.2_spec&lt;/artifactId&gt;\r\n\t       &lt;scope&gt;provided&lt;/scope&gt;\r\n\t    &lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;resteasy-jackson2-provider&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.11.2.Final&lt;/version&gt; &lt;!-- $NO-MVN-MAN-VER$ --&gt;\t\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t      \r\n     \t &lt;!-- Tests --&gt;\r\n\t   \r\n\t\t &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t &lt;/dependency&gt;\r\n\t   \r\n\t&lt;/dependencies&gt;  \r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.2.3&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t  \r\n&lt;/project&gt;\r\n```","title":"How to have keys in my Json, not only values","body":"<p>I created a datatable from primevue, but I only get empty rows.</p>\n<p>I looked where it could come from and I think it comes from my Json, whose fields have no key. What corrections should be made so that this Json becomes standard again and my data can be displayed? Thanks in advance.</p>\n<p><strong>A short exemple of the Json I get:</strong></p>\n<pre><code>[\n   [\n    32,\n    &quot;DE BELLOUET Jag&quot;,\n    &quot;1.3.13.3.&quot;,\n    &quot;Cid polseruti sau&quot;\n   ],\n   [\n    15,\n    &quot;NOURAUD Benjamin&quot;,\n    &quot;1.3.13.3.&quot;,\n    &quot;Cid polseruti sau&quot;\n   ]\n]\n</code></pre>\n<p><strong>A short exemple of the jSon I need:</strong></p>\n<pre><code>[\n   [\n    &quot;id&quot;:32,\n    &quot;fullName&quot;:&quot;DE BELLOUET Jag&quot;,\n    &quot;acs&quot;:&quot;1.3.13.3.&quot;,\n    &quot;nom_service&quot;:&quot;Cid polseruti sau&quot;\n   ],\n   [\n    &quot;id&quot;:15,\n    &quot;fullName&quot;:&quot;NOURAUD Benjamin&quot;,\n    &quot;acs&quot;:&quot;1.3.13.3.&quot;,\n    &quot;nom_service&quot;:&quot;Cid polseruti sau&quot;\n   ]\n]\n</code></pre>\n<p><strong>The main program: gererPersonnes.vue</strong></p>\n<pre><code>&lt;template&gt;\n    &lt;div class=&quot;principal_personnes&quot;&gt;\n        &lt;div class=&quot;bandeau&quot;&gt;\n            &lt;div&gt;{{titre}}&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n            &lt;h2&gt;Liste des agents actifs&lt;/h2&gt;\n            &lt;DataTable :value=&quot;agents&quot; :paginator=&quot;true&quot; :rows=&quot;10&quot; class=&quot;tableau&quot;&gt;\n                 &lt;template #empty&gt;\n                    Pas d'agent trouvé.\n                &lt;/template&gt;\n                &lt;Column field=&quot;id&quot; :sortable=&quot;true&quot; header=&quot;Id&quot; headerStyle=&quot;width: 3em&quot; bodyStyle=&quot;text-align: center&quot;&gt;&lt;/Column&gt;\n                &lt;Column field=&quot;fullName&quot; :sortable=&quot;true&quot; header=&quot;Nom - Prénom&quot; headerStyle=&quot;width: 250px&quot;&gt;&lt;/Column&gt;\n                &lt;Column field=&quot;service.acs&quot; :sortable=&quot;true&quot; header=&quot;A.C.S.&quot; headerStyle=&quot;width: 150px&quot;&gt;&lt;/Column&gt;\n                &lt;Column field=&quot;service.nom_service&quot; :sortable=&quot;true&quot; header=&quot;Service&quot; headerStyle=&quot;width: 250px; text-aling: left;&quot;&gt;&lt;/Column&gt;\n                &lt;Column headerStyle=&quot;width: 8em&quot;&gt;\n                    &lt;template #body &gt;\n                        &lt;Button type=&quot;button&quot; icon=&quot;pi pi-user&quot; class=&quot;p-button-text&quot; title=&quot;Détails&quot;&gt;&lt;/Button&gt;\n                        &lt;Button type=&quot;button&quot; icon=&quot;pi pi-pencil&quot; class=&quot;p-button-text&quot; title=&quot;Modifier&quot;&gt;&lt;/Button&gt;\n                        &lt;Button type=&quot;button&quot; icon=&quot;pi pi-trash&quot; class=&quot;p-button-text&quot; title=&quot;Supprimer&quot;&gt;&lt;/Button&gt;\n                    &lt;/template&gt;\n                &lt;/Column&gt;\n            &lt;/DataTable&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;button_gerer&quot;&gt;\n            &lt;button type=&quot;submit&quot; class=&quot;boutton coin_vert&quot; @click=&quot;cAjouter()&quot;&gt;Ajouter un agent&lt;/button&gt;\n            &lt;button type=&quot;button&quot; class=&quot;boutton coin_rouge&quot; @click=&quot;cQuitter()&quot;&gt;Abandon&lt;/button&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;style&gt;\n:root {\n    --gaucheP: 660px;\n}\n\n.principal_personnes {\n    height: var(--haut);\n    width: var(--large);\n    background-color:cornsilk;\n}\n\n.tableau {\n    width: 1000px;\n    margin: 0 auto;\n}\n\n.pi-user {\n    color:blue;\n    font-size: 1em;\n}\n\n.pi-pencil {\n    color:green;\n    font-size: 1em;\n}\n\n.pi-trash {\n    color:red;\n    font-size: 1em;\n}\n\n.p-datatable .p-datatable-tbody &gt; tr &gt; td {\n    text-align: left;\n    border: 1px solid #e9ecef;\n    border-width: 0 0 1px 0;\n    padding: 0rem 0rem;\n}\n\nh2 {\n    text-align:center;\n}\n\n.button_gerer {\n    display: grid;\n    grid-template: 30px / 130px 130px;\n    column-gap: 220px;  /* Firefox 63+ Chrome 84+ */\n    justify-content: stretch;\n    align-content: stretch;\n    padding-left: var(--gaucheP);\n    padding-top: 40px;\n}\n\n&lt;/style&gt;\n\n&lt;script&gt;\nimport DataTable from 'primevue/datatable';\nimport Column from 'primevue/column';\nimport Button from 'primevue/button';\nimport ('primeicons/primeicons.css');\n\nimport AgentService from '../../services/AgentService'\n\nexport default {\n    name: 'gererPersonnes',\n    beforeCreate() {\n        window.self.document.title = &quot;gererPersonnes&quot;; // modification du titre de l'onglet\n        document.getElementById('menuU').style.setProperty('display', 'none'); //menu non affiché\n    },\n    components : {\n        DataTable,\n        Column,\n        Button\n    },\n    data() {\n        return {\n            agents : null,\n            titre: 'Gérer les personnes',\n        }\n    },\n    methods : {\n        cQuitter() {\n            let a = confirm(&quot;Voulez quitter la gestion des personnes ?&quot;);\n            if (a == true) {\n                this.$router.push(&quot;/&quot;);\n            }\n        },\n        cAjouter() {\n            let routeUrl = this.$router.resolve({\n                path : &quot;/agents/add_agent&quot;,\n            });\n            window.open(routeUrl.href, '_blank');\n        }\n    },\n    created() {\n        this.AgentService = new AgentService;\n    },\n    mounted () {\n        this.AgentService.getAgentServices().then(data =&gt; this.agents = data);\n    },\n    AgentService : null\n\n}\n\n\n//Centrage du formulaire de la page\nvar inHeight = window.innerHeight - 140;\nvar inWidth = window.innerWidth;\n\nif (inWidth &gt; 1680) {\n    inWidth = 1680;\n}\n\nvar l = Math.floor((inWidth - 460 - 20)/2);\nvar padLeft = l + 'px';\nvar hauteur = inHeight + 'px';\n\nvar r = document.querySelector(':root');\nr.style.setProperty('--gaucheP', padLeft);\nr.style.setProperty('--haut', hauteur);\n\n&lt;/script&gt;\n</code></pre>\n<p><strong>The service called by gererPersonnes.vue : AgentService.js</strong></p>\n<pre><code>import axios from &quot;axios&quot;;\n\nconst URL = &quot;/cote-s-rest/rest/agent&quot;; \nconst URL2 = &quot;/cote-s-rest/rest/password/&quot;; \nconst URL3 = &quot;/cote-s-rest/rest/agent/patronyme&quot;; \nconst URL4 = &quot;/cote-s-rest/rest/agent/agentServ&quot;;\n\nexport default class AgentService {\n\ninsertAgent(agent) {\n    return axios.post(URL, agent).then(resp =&gt; {\n        return Promise.resolve(resp.data);\n    });\n}\n\npassNewAgent(agent) {\n    return axios.post(URL2, agent).then(resp =&gt; {\n        return Promise.resolve(resp.data);\n    });\n}\n\ngetAgents() {\n    return axios.get(URL3).then(resp =&gt; {\n        return Promise.resolve(resp.data);\n    });\n}\n\ngetAgentServices() {\n    return axios.get(URL4).then(resp =&gt; {\n        return Promise.resolve(resp.data);\n    });\n}\n\n}\n\n</code></pre>\n<p><strong>The class AgentServ use in Java</strong></p>\n<pre><code>    \npackage fr.gouv.finances.douane.cotes.dao.agent;\n\n/**\n * Classe de requete pour la liste &quot;AgentServ&quot;\n * \n * @author Jean Paul Vandekerkhove\n * @version 0.0.2.SNAPSHOT\n */\npublic class AgentServ {\n\n    //------------------------\n    // Attributs\n    //------------------------\n    private long id;\n    private String fullName;\n    private String acs;\n    private String nom_service;\n        \n    //------------------------\n    // Constructeurs\n    //------------------------\n    \n    /**\n     * Constructeur vide\n     */\n    public AgentServ() {\n        super();\n    }\n\n    /**\n     * Constructeur complet\n     * \n     * @param id\n     * @param fullName\n     * @param acs\n     * @param nom_service\n     */\n    public AgentServ(long id, String fullName, String acs, String nom_service) {\n        super();\n        this.id = id;\n        this.fullName = fullName;\n        this.acs = acs;\n        this.nom_service = nom_service;\n    }\n\n    //------------------------\n    // Getters et Setters\n    //------------------------\n    /**\n     * Retourne l'identifiant de l'Agent\n     * @return id - identifiant de l'Agent\n     */\n    public long getId() {\n        return id;\n    }\n    \n    /**\n     * MaJ de l'Identifiant de l'Agent\n     * @param id - Identifiant de l'agent\n     */\n    public void setId(long id) {\n        this.id = id;\n    }\n    \n    /**\n     * Retourne l'identité complete de l'Agent\n     * @return fullName - nom-prénom de l'Agent\n     */\n    public String getFullName() {\n        return fullName;\n    }\n    \n    /**\n     * MaJ de l'identité complete de l'Agent\n     * @param fullName - nom-prénom de l'Agent\n     */\n    public void setFullName(String fullName) {\n        this.fullName = fullName;\n    }\n    \n    /**\n     * Retourne l'acs du service de l'Agent\n     * @return acs - acs du service de l'Agent\n     */\n    public String getAcs() {\n        return acs;\n    }\n    \n    /**\n     * MaJ de l'acs du service de l'Agent\n     * @param acs - acs du service de l'Agent\n     */\n    public void setAcs(String acs) {\n        this.acs = acs;\n    }\n    \n    /**\n     * Retourne le libellé du service de l'Agent\n     * @return nom_service - libellé du service de l'Agent\n     */\n    public String getNom_service() {\n        return nom_service;\n    }\n    \n    /**\n     * MaJ le libellé du service de l'Agent\n     * @param nom_service - libellé du service de l'Agent\n     */\n    public void setNom_service(String nom_service) {\n        this.nom_service = nom_service;\n    }\n\n}\n    \n\n</code></pre>\n<p><strong>The List Method use in AgentDaoImpl.java</strong></p>\n<pre><code>    \n    @SuppressWarnings(&quot;unchecked&quot;)\n    public List&lt;AgentServ&gt; listAgentService() {\n        String buf = null;\n        buf = &quot;SELECT a.id AS id,(btrim(a.nom) || ' ' || btrim(a.prenom)) AS fullName, s.acs AS acs, s.libelle AS nom_service &quot;;\n        buf += &quot;FROM Agent a INNER JOIN Service s ON a.service = s &quot;;\n        buf += &quot;WHERE ((a.actif = true) OR ((a.actif = false) AND (a.dateSuppression &gt;= CURRENT_DATE)))&quot;;\n\n        List&lt;AgentServ&gt; agents= em.createQuery(buf.toString()).getResultList();\n\n        return agents;\n    }\n</code></pre>\n<p><strong>The REST method</strong></p>\n<pre><code>package fr.gouv.finances.douane.cotes.rest.agent;\n\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.logging.Logger;\n\nimport javax.enterprise.context.RequestScoped;\nimport javax.inject.Inject;\nimport javax.persistence.NoResultException;\nimport javax.validation.ConstraintViolation;\nimport javax.validation.ConstraintViolationException;\nimport javax.validation.ValidationException;\nimport javax.validation.Validator;\nimport javax.ws.rs.Consumes;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.Response;\n\nimport fr.gouv.finances.douane.cotes.dao.agent.Agent;\nimport fr.gouv.finances.douane.cotes.dao.agent.AgentDAO;\nimport fr.gouv.finances.douane.cotes.dao.agent.AgentServ;\nimport fr.gouv.finances.douane.cotes.dao.agent.ListAgent;\n/**\n * Classe de ressources REST de la classe ejb Agent\n *\n * @author VANDEKERKHOVE\n * @version 0.0.1.SNAPSHOT\n */\n@Path(&quot;/agent&quot;)\n@RequestScoped\npublic class AgentResourceRESTService {\n\n    @Inject\n    private Logger log;\n\n    @Inject\n    private Validator validator;\n\n    @Inject\n    private AgentDAO repository;\n\n    @GET\n    @Path(&quot;/agentServ&quot;)\n    @Produces(&quot;application/json; charset=UTF-8&quot;)\n    public List&lt;AgentServ&gt; ListAgentService() {\n        return (List&lt;AgentServ&gt;) repository.listAgentService();\n    }\n</code></pre>\n<p><strong>The pom of the rest project</strong></p>\n<pre><code>project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  \n  &lt;parent&gt;\n    &lt;groupId&gt;fr.gouv.finances.douane.cote-s&lt;/groupId&gt;\n    &lt;artifactId&gt;cote-s&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n  \n  &lt;artifactId&gt;cote-s-rest&lt;/artifactId&gt;\n  &lt;version&gt;${project.parent.version}&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;description&gt;Modules Rest de Cote-S&lt;/description&gt;\n  \n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;fr.gouv.finances.douane.cote-s&lt;/groupId&gt;\n            &lt;artifactId&gt;cote-s-ejb&lt;/artifactId&gt;\n            &lt;version&gt;${project.parent.version}&lt;/version&gt;\n            &lt;type&gt;ejb&lt;/type&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n         &lt;dependency&gt;\n            &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\n            &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n         &lt;/dependency&gt;\n\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n         &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n         &lt;/dependency&gt;\n    \n         &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.spec.javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;jboss-jaxrs-api_2.1_spec&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n         &lt;/dependency&gt;\n    \n         &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.spec.javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jboss-servlet-api_4.0_spec&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n         &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n           &lt;groupId&gt;org.jboss.spec.javax.ejb&lt;/groupId&gt;\n           &lt;artifactId&gt;jboss-ejb-api_3.2_spec&lt;/artifactId&gt;\n           &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-jackson2-provider&lt;/artifactId&gt;\n            &lt;version&gt;3.11.2.Final&lt;/version&gt; &lt;!-- $NO-MVN-MAN-VER$ --&gt;   \n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n                  \n         &lt;!-- Tests --&gt;\n       \n         &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n         &lt;/dependency&gt;\n       \n    &lt;/dependencies&gt;  \n\n    &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n      \n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","ibm-mq"],"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1669373777,"post_id":74571128,"comment_id":131632420,"body_markdown":"Why can&#39;t you mock them?","body":"Why can&#39;t you mock them?"},{"owner":{"account_id":27043667,"reputation":3,"user_id":20598157,"display_name":"TwiKKz"},"score":0,"creation_date":1676501140,"post_id":74571128,"comment_id":133152043,"body_markdown":"Thank you all! I successfully wrote the tests. But one important information for yall. The MQEnviroment Attributes are static fields. Use a property Mapping when the application should be used by multiple users at the same time. Writing data to static fields could causw problems :)","body":"Thank you all! I successfully wrote the tests. But one important information for yall. The MQEnviroment Attributes are static fields. Use a property Mapping when the application should be used by multiple users at the same time. Writing data to static fields could causw problems :)"}],"answers":[{"tags":[],"owner":{"account_id":2099531,"reputation":6497,"user_id":1867549,"accept_rate":80,"display_name":"&#201;tienne Miret"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669391736,"creation_date":1669391736,"answer_id":74575223,"question_id":74571128,"body_markdown":"In order to do **unit tests**, you will need to mock the IBM MQ classes, using a framework like [Mockito].\r\n\r\nOne issue you&#39;ll encounter is that you cannot mock the call to the `MQQueueManager` constructor, as the `new` operator cannot be mocked. I would recommend creating a `MqQueueManagerFactory` service, autowire this service into your `QueueConnectionService` and mock it in the test.\r\n\r\nYour unit test will end up looking like this:\r\n\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\nclass QueueConnectionServiceTest {\r\n\r\n  private static final String TITLE = &quot;Some random string&quot;;\r\n  private static final String QUEUE_MANAGER = &quot;Actual value does not matter&quot;;\r\n  private static final String NAME = &quot;Really. Those constants are magic strings.&quot;;\r\n  private static final int OPTIONS = 42;\r\n\r\n  @InjectMock\r\n  private QueueConnectionService service;\r\n\r\n  @Mock(answer = RETURNS_DEEP_STUBS)\r\n  private MQConfigMapping configMapping;\r\n\r\n  @Mock\r\n  private MqConnectionManagerFactory connectionManagerFactory;\r\n\r\n  @Mock\r\n  private MQConnectionManager connectionManager;\r\n\r\n  @Mock\r\n  private MQQueue queue;\r\n\r\n  @Test\r\n  void should_provide_queue() {\r\n    when(configMapping.getNamed().get(TITLE).getQueueManager()).thenReturn(QUEUE_MANAGER);\r\n    // repeat above line for each configuration parameter.\r\n    // Alternatively, create a config object and:\r\n    when(configMapping.getNamed().get(TITLE)).thenReturn(config);\r\n\r\n    when(connectionManagerFactory.create(QUEUE_MANAGER)).thenReturn(connectionManager);\r\n    when(connectionManager.accessQueue(NAME, OPTIONS)).thenReturn(queue);\r\n\r\n    var actual = service.connect(TITLE, OPTIONS, NAME);\r\n\r\n    assertSame(actual, queue);\r\n  }\r\n\r\n}\r\n```\r\n\r\n(This is with [JUnit 5] and [Mockito]. You would have something slightly different with another testing framework or another mocking framework.)\r\n\r\n[Mockito]: https://site.mockito.org/\r\n[JUnit 5]: https://junit.org/junit5/\r\n\r\nAs a side note, creating a queue manager at each connection smells bad. You probably want to create it once in an `@PostConstruct` method.\r\n","title":"Unit Test IBM MQ","body":"<p>In order to do <strong>unit tests</strong>, you will need to mock the IBM MQ classes, using a framework like <a href=\"https://site.mockito.org/\" rel=\"nofollow noreferrer\">Mockito</a>.</p>\n<p>One issue you'll encounter is that you cannot mock the call to the <code>MQQueueManager</code> constructor, as the <code>new</code> operator cannot be mocked. I would recommend creating a <code>MqQueueManagerFactory</code> service, autowire this service into your <code>QueueConnectionService</code> and mock it in the test.</p>\n<p>Your unit test will end up looking like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\nclass QueueConnectionServiceTest {\n\n  private static final String TITLE = &quot;Some random string&quot;;\n  private static final String QUEUE_MANAGER = &quot;Actual value does not matter&quot;;\n  private static final String NAME = &quot;Really. Those constants are magic strings.&quot;;\n  private static final int OPTIONS = 42;\n\n  @InjectMock\n  private QueueConnectionService service;\n\n  @Mock(answer = RETURNS_DEEP_STUBS)\n  private MQConfigMapping configMapping;\n\n  @Mock\n  private MqConnectionManagerFactory connectionManagerFactory;\n\n  @Mock\n  private MQConnectionManager connectionManager;\n\n  @Mock\n  private MQQueue queue;\n\n  @Test\n  void should_provide_queue() {\n    when(configMapping.getNamed().get(TITLE).getQueueManager()).thenReturn(QUEUE_MANAGER);\n    // repeat above line for each configuration parameter.\n    // Alternatively, create a config object and:\n    when(configMapping.getNamed().get(TITLE)).thenReturn(config);\n\n    when(connectionManagerFactory.create(QUEUE_MANAGER)).thenReturn(connectionManager);\n    when(connectionManager.accessQueue(NAME, OPTIONS)).thenReturn(queue);\n\n    var actual = service.connect(TITLE, OPTIONS, NAME);\n\n    assertSame(actual, queue);\n  }\n\n}\n</code></pre>\n<p>(This is with <a href=\"https://junit.org/junit5/\" rel=\"nofollow noreferrer\">JUnit 5</a> and <a href=\"https://site.mockito.org/\" rel=\"nofollow noreferrer\">Mockito</a>. You would have something slightly different with another testing framework or another mocking framework.)</p>\n<p>As a side note, creating a queue manager at each connection smells bad. You probably want to create it once in an <code>@PostConstruct</code> method.</p>\n"},{"tags":[],"owner":{"account_id":7206986,"reputation":4285,"user_id":5502306,"display_name":"chughts"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669632968,"creation_date":1669632968,"answer_id":74599537,"question_id":74571128,"body_markdown":"You could set up a development queue manager to run unit tests against. See https://developer.ibm.com/learningpaths/ibm-mq-badge/\r\n","title":"Unit Test IBM MQ","body":"<p>You could set up a development queue manager to run unit tests against. See <a href=\"https://developer.ibm.com/learningpaths/ibm-mq-badge/\" rel=\"nofollow noreferrer\">https://developer.ibm.com/learningpaths/ibm-mq-badge/</a></p>\n"}],"owner":{"account_id":27043667,"reputation":3,"user_id":20598157,"display_name":"TwiKKz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":905,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74575223,"answer_count":2,"score":0,"last_activity_date":1669632968,"creation_date":1669370840,"question_id":74571128,"body_markdown":"I&#39;m new at the MQ topic.\r\n\r\nHow do I Test/Unit-Test my Java Services, which do actions against a real Queue.\r\nMy classes do connections, deletes etc.\r\n\r\nIs there any way to test these services without performing actions against the productive Queues?\r\n\r\n```\r\n@Service\r\npublic class QueueConnectionService {\r\n\r\n    private final MQConfigMapping configMapping;\r\n\r\n    private MQQueueManager queueManager;\r\n\r\n    @Autowired\r\n    public QueueConnectionService(MQConfigMapping configMapping) {\r\n        this.configMapping = configMapping;\r\n    }\r\n\r\n\r\n    MQQueue connect(String queuePropertyTitle, int openOptions, String queueName) throws MQException {\r\n        MQEnvironment.hostname = configMapping.getNamed().get(queuePropertyTitle).getHostname();\r\n        MQEnvironment.channel = configMapping.getNamed().get(queuePropertyTitle).getChannel();\r\n        MQEnvironment.port = configMapping.getNamed().get(queuePropertyTitle).getPort();\r\n        MQEnvironment.userID = configMapping.getNamed().get(queuePropertyTitle).getUser();\r\n        MQEnvironment.password = configMapping.getNamed().get(queuePropertyTitle).getPassword();\r\n        queueManager = new MQQueueManager(configMapping.getNamed().get(queuePropertyTitle).getQueueManager());\r\n        return queueManager.accessQueue(queueName, openOptions);\r\n    }\r\n}\r\n```\r\n\r\nThis is my QueueConnectionService, but I have no clue how to use this one at local tests.","title":"Unit Test IBM MQ","body":"<p>I'm new at the MQ topic.</p>\n<p>How do I Test/Unit-Test my Java Services, which do actions against a real Queue.\nMy classes do connections, deletes etc.</p>\n<p>Is there any way to test these services without performing actions against the productive Queues?</p>\n<pre><code>@Service\npublic class QueueConnectionService {\n\n    private final MQConfigMapping configMapping;\n\n    private MQQueueManager queueManager;\n\n    @Autowired\n    public QueueConnectionService(MQConfigMapping configMapping) {\n        this.configMapping = configMapping;\n    }\n\n\n    MQQueue connect(String queuePropertyTitle, int openOptions, String queueName) throws MQException {\n        MQEnvironment.hostname = configMapping.getNamed().get(queuePropertyTitle).getHostname();\n        MQEnvironment.channel = configMapping.getNamed().get(queuePropertyTitle).getChannel();\n        MQEnvironment.port = configMapping.getNamed().get(queuePropertyTitle).getPort();\n        MQEnvironment.userID = configMapping.getNamed().get(queuePropertyTitle).getUser();\n        MQEnvironment.password = configMapping.getNamed().get(queuePropertyTitle).getPassword();\n        queueManager = new MQQueueManager(configMapping.getNamed().get(queuePropertyTitle).getQueueManager());\n        return queueManager.accessQueue(queueName, openOptions);\n    }\n}\n</code></pre>\n<p>This is my QueueConnectionService, but I have no clue how to use this one at local tests.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":6,"creation_date":1614086731,"post_id":66333986,"comment_id":117272493,"body_markdown":"`next` only reads a token (up until a space, a _word_), use `nextLine` instead. And then be prepared for this https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo","body":"<code>next</code> only reads a token (up until a space, a <i>word</i>), use <code>nextLine</code> instead. And then be prepared for this <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\" title=\"scanner is skipping nextline after using next or nextfoo\">stackoverflow.com/questions/13102045/&hellip;</a>"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1614087486,"post_id":66333986,"comment_id":117272869,"body_markdown":"Do not use nextLine - it is common, but very bad advice (it breaks, see the first comment with &#39;but be prepared for&#39;). No, the right fix is to set up your delimiter properly: call `scanner.useDelimiter(&quot;\\r?\\n&quot;)` on your scanner right after making it, forget about nextLine, and use next() to grab strings.","body":"Do not use nextLine - it is common, but very bad advice (it breaks, see the first comment with &#39;but be prepared for&#39;). No, the right fix is to set up your delimiter properly: call <code>scanner.useDelimiter(&quot;\\r?\\n&quot;)</code> on your scanner right after making it, forget about nextLine, and use next() to grab strings."}],"answers":[{"comments":[{"owner":{"account_id":19407406,"reputation":7,"user_id":14192572,"display_name":"mdshohed"},"score":0,"creation_date":1614087406,"post_id":66334040,"comment_id":117272815,"body_markdown":"Sorry, It didn&#39;t give proper Answer.","body":"Sorry, It didn&#39;t give proper Answer."},{"owner":{"account_id":10433138,"reputation":984,"user_id":7692352,"display_name":"Aris"},"score":0,"creation_date":1614092401,"post_id":66334040,"comment_id":117275413,"body_markdown":"What do you mean by &quot;It didn&#39;t give the proper answer&quot;? I didn&#39;t give you an algorithm with a right or wrong answer. I suggested what you can use...","body":"What do you mean by &quot;It didn&#39;t give the proper answer&quot;? I didn&#39;t give you an algorithm with a right or wrong answer. I suggested what you can use..."},{"owner":{"account_id":19407406,"reputation":7,"user_id":14192572,"display_name":"mdshohed"},"score":0,"creation_date":1614093485,"post_id":66334040,"comment_id":117276012,"body_markdown":"Input:\n42\n3.1415\nWelcome to Java tutorials!\n\nOutput: \nString: Welcome to Java tutorials!\nDouble: 3.1415\nInt: 42\n\nPlease give me a source code of java language which take input and give output same above. And  kindly see again my question.","body":"Input: 42 3.1415 Welcome to Java tutorials!  Output:  String: Welcome to Java tutorials! Double: 3.1415 Int: 42  Please give me a source code of java language which take input and give output same above. And  kindly see again my question."}],"tags":[],"owner":{"account_id":10433138,"reputation":984,"user_id":7692352,"display_name":"Aris"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1614089703,"creation_date":1614086763,"answer_id":66334040,"question_id":66333986,"body_markdown":"Yes because `sc.next()` goes till the end of the word (eg. space). \r\n\r\nUse instead `sc.nextLine()`\r\n\r\nRead the util.Scanner [documentation](https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html)\r\n\r\nBut best practice would be to set a **delimiter** and keep using `sc.next()`. \r\n```\r\nString delimiter = &quot; some_delimiter_here &quot;; \\\\e.g. &quot;\\n&quot;\r\nScanner sc = new Scanner(System.in);\r\nsc.useDelimiter(delimiter);\r\n```","title":"How to take input int, double and String consecutive in Java language?","body":"<p>Yes because <code>sc.next()</code> goes till the end of the word (eg. space).</p>\n<p>Use instead <code>sc.nextLine()</code></p>\n<p>Read the util.Scanner <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n<p>But best practice would be to set a <strong>delimiter</strong> and keep using <code>sc.next()</code>.</p>\n<pre><code>String delimiter = &quot; some_delimiter_here &quot;; \\\\e.g. &quot;\\n&quot;\nScanner sc = new Scanner(System.in);\nsc.useDelimiter(delimiter);\n</code></pre>\n"}],"owner":{"account_id":19407406,"reputation":7,"user_id":14192572,"display_name":"mdshohed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1209,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1614087514,"accepted_answer_id":66334040,"answer_count":1,"score":-2,"last_activity_date":1669632462,"creation_date":1614086574,"question_id":66333986,"body_markdown":"I want to solve this java problem. but i did not proper answer form my code. Below here is my code:\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        int x = sc.nextInt();\r\n        double y = sc.nextDouble();\r\n        String s = sc.nextLine();\r\n\r\n        System.out.println(&quot;Int: &quot; + x);\r\n        System.out.println(&quot;Double: &quot; + y);\r\n        System.out.println(&quot;String: &quot; + s);\r\n    }\r\n\r\nWhen I take input int, double and string variable, I can&#39;t proper answer. below this code&#39;s is input and output:\r\n\r\n    input: \r\n    23\r\n    4434.2323\r\n    \r\n    Give output: \r\n    Int: 23\r\n    Double: 4434.2323\r\n    String: \r\n\r\nAt the input time, i can take int, double variable but i can&#39;t take string input. my code return int and double variable.\r\nIf can anybody help me, I will be benefited.","title":"How to take input int, double and String consecutive in Java language?","body":"<p>I want to solve this java problem. but i did not proper answer form my code. Below here is my code:</p>\n<pre><code>public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n\n    int x = sc.nextInt();\n    double y = sc.nextDouble();\n    String s = sc.nextLine();\n\n    System.out.println(&quot;Int: &quot; + x);\n    System.out.println(&quot;Double: &quot; + y);\n    System.out.println(&quot;String: &quot; + s);\n}\n</code></pre>\n<p>When I take input int, double and string variable, I can't proper answer. below this code's is input and output:</p>\n<pre><code>input: \n23\n4434.2323\n\nGive output: \nInt: 23\nDouble: 4434.2323\nString: \n</code></pre>\n<p>At the input time, i can take int, double variable but i can't take string input. my code return int and double variable.\nIf can anybody help me, I will be benefited.</p>\n"},{"tags":["java","list"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1669621255,"post_id":74597399,"comment_id":131674919,"body_markdown":"OK ... And what is your actual question/problem?","body":"OK ... And what is your actual question/problem?"},{"owner":{"account_id":15102352,"reputation":49,"user_id":10898983,"display_name":"kamrul Islam Tushar"},"score":0,"creation_date":1669622052,"post_id":74597399,"comment_id":131675158,"body_markdown":"@Stultuske I want to remove items from retailerConversionDtoList which doesn&#39;t exist in retailerDtoList how can I do that in optimized way?","body":"@Stultuske I want to remove items from retailerConversionDtoList which doesn&#39;t exist in retailerDtoList how can I do that in optimized way?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1669622332,"post_id":74597399,"comment_id":131675237,"body_markdown":"Extract ids into a separate list and then use `contains()` function to remove items which IDs are not found `List&lt;String&gt; ids = retailerDtoList.stream().map(e -&gt; e.getCode()).collect(Collectors.toList()); retailerConversionDtoList.removeIf(e -&gt; !ids.contains(e.getRetailerCode()));`","body":"Extract ids into a separate list and then use <code>contains()</code> function to remove items which IDs are not found <code>List&lt;String&gt; ids = retailerDtoList.stream().map(e -&gt; e.getCode()).collect(Collectors.toList()); retailerConversionDtoList.removeIf(e -&gt; !ids.contains(e.getRetailerCode()));</code>"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1669631923,"post_id":74597399,"comment_id":131678268,"body_markdown":"@XtremeBaumer I&#39;d use a `Set&lt;String&gt;` instead of a `List&lt;String&gt;`, that (usually) makes the `contains` check faster.","body":"@XtremeBaumer I&#39;d use a <code>Set&lt;String&gt;</code> instead of a <code>List&lt;String&gt;</code>, that (usually) makes the <code>contains</code> check faster."}],"answers":[{"tags":[],"owner":{"account_id":16001900,"reputation":328,"user_id":11548316,"display_name":"Preston"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669631861,"creation_date":1669622425,"answer_id":74597601,"question_id":74597399,"body_markdown":"In 8 or newer Java versions, you can simply use stream API to do it:  \r\n```java\r\nSet&lt;String&gt; retailerCodes = retailerDtoList.stream().map(t -&gt; t.code).collect(Collectors.toSet());\r\nretailerConversionDtoList = retailerConversionDtoList.stream()\r\n    .filter(t -&gt; retailerCodes.contains(t.retailerCode))\r\n    .collect(Collectors.toList());\r\n```\r\nBefore Java 8, then you need to do some hard work by looping:\r\n```java\r\nSet&lt;String&gt; retailerCodes = new HashSet&lt;&gt;();\r\nfor(RetailerDto retailer: retailerDtoList){\r\n    retailerCodes.add(retailer.code);\r\n}\r\n\r\nList&lt;RetailerExcelConversionDto&gt; newRetailerConversionDtoList = new ArrayList&lt;&gt;();\r\nfor(int i = 0; i &lt; retailerConversionDtoList.size(); i++){\r\n    if(retailerCodes.contains(retailerConversionDtoList.get(i).retailerCode))\r\n         newRetailerConversionDtoList.add(retailerConversionDtoList.get(i));\r\n}\r\n```\r\nor\r\n```java\r\nSet&lt;String&gt; retailerCodes = new HashSet&lt;&gt;();\r\nfor(RetailerDto retailer: retailerDtoList){\r\n    retailerCodes.add(retailer.code);\r\n}\r\n\r\nfor(Iterator&lt;RetailerExcelConversionDto&gt; it = retailerConversionDtoList.iterator(); it.hasNext();){\r\n    RetailerExcelConversionDto next = it.next();\r\n    if(!retailerCodes.contains(next.retailerCode))\r\n         it.remove();\r\n}\r\n\r\n```","title":"Remove items from a list of objects which key value doesn&#39;t exist in another one","body":"<p>In 8 or newer Java versions, you can simply use stream API to do it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;String&gt; retailerCodes = retailerDtoList.stream().map(t -&gt; t.code).collect(Collectors.toSet());\nretailerConversionDtoList = retailerConversionDtoList.stream()\n    .filter(t -&gt; retailerCodes.contains(t.retailerCode))\n    .collect(Collectors.toList());\n</code></pre>\n<p>Before Java 8, then you need to do some hard work by looping:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;String&gt; retailerCodes = new HashSet&lt;&gt;();\nfor(RetailerDto retailer: retailerDtoList){\n    retailerCodes.add(retailer.code);\n}\n\nList&lt;RetailerExcelConversionDto&gt; newRetailerConversionDtoList = new ArrayList&lt;&gt;();\nfor(int i = 0; i &lt; retailerConversionDtoList.size(); i++){\n    if(retailerCodes.contains(retailerConversionDtoList.get(i).retailerCode))\n         newRetailerConversionDtoList.add(retailerConversionDtoList.get(i));\n}\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;String&gt; retailerCodes = new HashSet&lt;&gt;();\nfor(RetailerDto retailer: retailerDtoList){\n    retailerCodes.add(retailer.code);\n}\n\nfor(Iterator&lt;RetailerExcelConversionDto&gt; it = retailerConversionDtoList.iterator(); it.hasNext();){\n    RetailerExcelConversionDto next = it.next();\n    if(!retailerCodes.contains(next.retailerCode))\n         it.remove();\n}\n\n</code></pre>\n"}],"owner":{"account_id":15102352,"reputation":49,"user_id":10898983,"display_name":"kamrul Islam Tushar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669631861,"creation_date":1669621168,"question_id":74597399,"body_markdown":"I have two following classes. \r\n\r\n```java\r\n    public class RetailerExcelConversionDto {\r\n    \tprivate String retailerCode;\r\n    \tprivate Integer isActive;\r\n    }\r\n    \r\n        public class RetailerDto {\r\n        \tprivate String code;\r\n        \tprivate Integer age;\r\n            private String name;\r\n        \r\n        }\r\n```\r\n\r\nAnd I have these following list \r\n\r\n```java\r\n    List&lt;RetailerExcelConversionDto&gt; retailerConversionDtoList = getAllRetailerConversionDtoList();\r\n    List&lt;RetailerDto&gt; retailerDtoList = getAllRetailer();\r\n```\r\n\r\nWhat I want to achieve is remove item from retailerConversionDtoList which key value (retailerCode) doesn&#39;t exist in retailerDtoList key value (code); In short I want to remove items from retailerConversionDtoList which doesn&#39;t exist in retailerDtoList how can I do that in optimized way?\r\n\r\n","title":"Remove items from a list of objects which key value doesn&#39;t exist in another one","body":"<p>I have two following classes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class RetailerExcelConversionDto {\n        private String retailerCode;\n        private Integer isActive;\n    }\n    \n        public class RetailerDto {\n            private String code;\n            private Integer age;\n            private String name;\n        \n        }\n</code></pre>\n<p>And I have these following list</p>\n<pre class=\"lang-java prettyprint-override\"><code>    List&lt;RetailerExcelConversionDto&gt; retailerConversionDtoList = getAllRetailerConversionDtoList();\n    List&lt;RetailerDto&gt; retailerDtoList = getAllRetailer();\n</code></pre>\n<p>What I want to achieve is remove item from retailerConversionDtoList which key value (retailerCode) doesn't exist in retailerDtoList key value (code); In short I want to remove items from retailerConversionDtoList which doesn't exist in retailerDtoList how can I do that in optimized way?</p>\n"},{"tags":["java","spring","junit","mockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1669628195,"post_id":74598387,"comment_id":131676992,"body_markdown":"Your code doesn&#39;t comply with your description or code. This doesn&#39;t even compile. Also your mocking is wrong as `new RequestModel()` isn&#39;t the same as the second `new RequestModel()`, Mockito will use the equals method (which I assume you haven&#39;t implemented) to check for equality, those aren&#39;t. Hence it feilas. Also don&#39;t use an `@SpringBootTest` for this, write a simple unit test and make sure you can inject everything through the constructor, instead of fields. Makes your testing way easier.","body":"Your code doesn&#39;t comply with your description or code. This doesn&#39;t even compile. Also your mocking is wrong as <code>new RequestModel()</code> isn&#39;t the same as the second <code>new RequestModel()</code>, Mockito will use the equals method (which I assume you haven&#39;t implemented) to check for equality, those aren&#39;t. Hence it feilas. Also don&#39;t use an <code>@SpringBootTest</code> for this, write a simple unit test and make sure you can inject everything through the constructor, instead of fields. Makes your testing way easier."},{"owner":{"account_id":20525751,"reputation":949,"user_id":15064224,"display_name":"Issa Khodadadi"},"score":0,"creation_date":1669628539,"post_id":74598387,"comment_id":131677104,"body_markdown":"add `@ExtendWith(MockitoExtension.class)` on top of your test class and try again.","body":"add <code>@ExtendWith(MockitoExtension.class)</code> on top of your test class and try again."}],"answers":[{"tags":[],"owner":{"account_id":17653774,"reputation":55,"user_id":12813770,"display_name":"D_J"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669630915,"creation_date":1669630915,"answer_id":74599143,"question_id":74598387,"body_markdown":"You can find demo application in this blog \r\n\r\n[https://blog.joshsoftware.com/2020/05/27/introduction-to-mockito-unit-testing-framework/][1]","title":"How to mock service in service test?","body":"<p>You can find demo application in this blog</p>\n<p>[https://blog.joshsoftware.com/2020/05/27/introduction-to-mockito-unit-testing-framework/][1]</p>\n"}],"owner":{"account_id":27042476,"reputation":13,"user_id":20597130,"display_name":"Jupiter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669630915,"creation_date":1669627137,"question_id":74598387,"body_markdown":"I try write service test, for example, I have this ExamServiceImpl:\r\n\r\n\r\n```\r\n@Service\r\npublic class ExamServiceImpl implements ExamService {\r\n\r\n@Autowired\r\nprivate final SubjectService subjectService;\r\nprivate final ScoreDAO scoreDAO;\r\n\r\n@Autowired\r\npublic ExamServiceImpl(ScoreDAO scoreDAO) {\r\n    this.scoreDAO = scoreDAO;\r\n}\r\n\r\n@Override\r\npublic ResponseModel insertScore(RequestModel request) throws IOException {\r\n    List&lt;TeacherModel&gt; teacher = teacherDAO.getNameList(request);\r\n    List&lt;StudentModel&gt; student = studentDAO.findStudentList(teacher.get(0).getName, request.getStudentScore);\r\n\r\n    String nameStudent = student.get(0).getFirstName() + student.get(0).getLastName();\r\n    SubjectModel subject = subjectService.getNameSubject(request, nameStudent);\r\n\r\n    ScoreModel score = new ScoreModel();\r\n    score.setStudentName(request.getStudentName);\r\n    score.setScore(request.getStudentScore);\r\n    score.setSubject(subject.getName);\r\n\r\n    int result = scoreDAO.insert(score);\r\n\r\n    return result;\r\n    }\r\n}\r\n```\r\n\r\n\r\nSample my test:\r\n\r\n\r\n```\r\n@SpringBootTest\r\npublic class ExamServiceImplTest {\r\n\r\n@MockBean\r\nprivate ScoreDAO scoreDAO;\r\n\r\n@Autowired\r\nprivate SubjectService subjectService;\r\n\r\n@Autowired\r\nprivate ExamService examService;\r\n\r\n\r\n@Test\r\nvoid insertScoreTest() {\r\n    SubjectModel resFromSubject = new SubjectModel();\r\n    resFromSubject.setSubject(&quot;Math&quot;);\r\n\r\n    TeacherModel resTeacher = new Teacher()\r\n    resTeacher.setName(&quot;test Teacher&quot;);\r\n\r\n    StudentModel studentData = new Student();\r\n    student.setFirstName(&quot;firstname&quot;);\r\n    studebt.setLastName(&quot;lastname&quot;);\r\n\r\n    Mockito.when(teacherDAO.getNameList(new RequestModel())).thenReturn(resTeacher);\r\n    Mockito.when(studentDAO.findStudentList(anyString(), anyString())).thenReturn(studentData);\r\n    Mockito.when(subjectService.getNameSubject(Mokito.any(RequestModel.class), anyString())).thenReturn(resFromSubject);\r\n    Mockito.when(scoreDAO.insert(Mokito.any(ScoreModel.class)).thenReturn(1);\r\n\r\n    int resultTest = examService.insertScore(new RequestModel());\r\n    assertSame(ex, 1);\r\n\r\n}\r\n```\r\n\r\nBut output resultTest is error. I try debugger, I found \r\n  1. Mock studentDAO.findStudentList() return null &gt;&gt; mock is not working. \r\n  2. When I close code + test teacherDAO and studentDAO for test mock subjectService &gt;&gt; mock subjectService is not working too. (I not sure mock service should be use @Autowired or @MorkBean)\r\n\r\nPlease, could you help write me test methods? I covered with tests more simple other services.\r\n\r\nThank you!","title":"How to mock service in service test?","body":"<p>I try write service test, for example, I have this ExamServiceImpl:</p>\n<pre><code>@Service\npublic class ExamServiceImpl implements ExamService {\n\n@Autowired\nprivate final SubjectService subjectService;\nprivate final ScoreDAO scoreDAO;\n\n@Autowired\npublic ExamServiceImpl(ScoreDAO scoreDAO) {\n    this.scoreDAO = scoreDAO;\n}\n\n@Override\npublic ResponseModel insertScore(RequestModel request) throws IOException {\n    List&lt;TeacherModel&gt; teacher = teacherDAO.getNameList(request);\n    List&lt;StudentModel&gt; student = studentDAO.findStudentList(teacher.get(0).getName, request.getStudentScore);\n\n    String nameStudent = student.get(0).getFirstName() + student.get(0).getLastName();\n    SubjectModel subject = subjectService.getNameSubject(request, nameStudent);\n\n    ScoreModel score = new ScoreModel();\n    score.setStudentName(request.getStudentName);\n    score.setScore(request.getStudentScore);\n    score.setSubject(subject.getName);\n\n    int result = scoreDAO.insert(score);\n\n    return result;\n    }\n}\n</code></pre>\n<p>Sample my test:</p>\n<pre><code>@SpringBootTest\npublic class ExamServiceImplTest {\n\n@MockBean\nprivate ScoreDAO scoreDAO;\n\n@Autowired\nprivate SubjectService subjectService;\n\n@Autowired\nprivate ExamService examService;\n\n\n@Test\nvoid insertScoreTest() {\n    SubjectModel resFromSubject = new SubjectModel();\n    resFromSubject.setSubject(&quot;Math&quot;);\n\n    TeacherModel resTeacher = new Teacher()\n    resTeacher.setName(&quot;test Teacher&quot;);\n\n    StudentModel studentData = new Student();\n    student.setFirstName(&quot;firstname&quot;);\n    studebt.setLastName(&quot;lastname&quot;);\n\n    Mockito.when(teacherDAO.getNameList(new RequestModel())).thenReturn(resTeacher);\n    Mockito.when(studentDAO.findStudentList(anyString(), anyString())).thenReturn(studentData);\n    Mockito.when(subjectService.getNameSubject(Mokito.any(RequestModel.class), anyString())).thenReturn(resFromSubject);\n    Mockito.when(scoreDAO.insert(Mokito.any(ScoreModel.class)).thenReturn(1);\n\n    int resultTest = examService.insertScore(new RequestModel());\n    assertSame(ex, 1);\n\n}\n</code></pre>\n<p>But output resultTest is error. I try debugger, I found</p>\n<ol>\n<li>Mock studentDAO.findStudentList() return null &gt;&gt; mock is not working.</li>\n<li>When I close code + test teacherDAO and studentDAO for test mock subjectService &gt;&gt; mock subjectService is not working too. (I not sure mock service should be use @Autowired or @MorkBean)</li>\n</ol>\n<p>Please, could you help write me test methods? I covered with tests more simple other services.</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot","spring-cloud"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1664281588,"post_id":73866196,"comment_id":130431176,"body_markdown":"Please try the latest boot 2.7 and spring cloud 2021.0. See https://start.spring.io","body":"Please try the latest boot 2.7 and spring cloud 2021.0. See <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">start.spring.io</a>"}],"answers":[{"tags":[],"owner":{"account_id":27071752,"reputation":11,"user_id":20622306,"display_name":"Вадим Кузьменко"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669630686,"creation_date":1669630686,"answer_id":74599093,"question_id":73866196,"body_markdown":"In my opinion, the problem may be a conflict of versions. I suggest you add the latest version of Spring Cloud Dependencies to the build file. For example\r\n\r\n    dependencyManagement {\r\n        imports {\r\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:2021.0.5&quot;\r\n        }\r\n    }\r\n\r\nin my case, this solved the problem\r\n\r\nSimular porblem : \r\nhttps://stackoverflow.com/questions/35844263/run-spring-boot-application-error-cannot-instantiate-interface-org-springframew\r\n","title":"Caused by: java.lang.IllegalArgumentException: Cannot instantiate interface BootstrapRegistryInitialize : ConfigClientRetryBootstrapper","body":"<p>In my opinion, the problem may be a conflict of versions. I suggest you add the latest version of Spring Cloud Dependencies to the build file. For example</p>\n<pre><code>dependencyManagement {\n    imports {\n    mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:2021.0.5&quot;\n    }\n}\n</code></pre>\n<p>in my case, this solved the problem</p>\n<p>Simular porblem :\n<a href=\"https://stackoverflow.com/questions/35844263/run-spring-boot-application-error-cannot-instantiate-interface-org-springframew\">Run spring boot application error: Cannot instantiate interface org.springframework.context.ApplicationListener</a></p>\n"}],"owner":{"account_id":12071113,"reputation":113,"user_id":8826447,"display_name":"P.S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1676,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669630686,"creation_date":1664274940,"question_id":73866196,"body_markdown":"I am currently getting this exception, can someone help please.\r\n\r\nI am using the following versions: \r\nspring-boot-starter-parent: 2.7.0\r\nspring-cloud-starter-bootstrap: 3.1.3\r\nspring-cloud-dependencies: 2021.0.3\r\n\r\nI started getting this exception when I added this maven dependency \r\n\t\t\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nException : \r\n\r\n&gt; Caused by: java.lang.IllegalArgumentException: Cannot instantiate\r\n&gt; interface org.springframework.boot.BootstrapRegistryInitializer :\r\n&gt; org.springframework.cloud.config.client.ConfigClientRetryBootstrapper\r\n&gt; \t\tat\r\n&gt; org.springframework.boot.SpringApplication.createSpringFactoriesInstances(SpringApplication.java:449)\r\n&gt; \t\tat\r\n&gt; org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:431)\r\n&gt; \t\tat\r\n&gt; org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:424)\r\n&gt; \t\tat\r\n&gt; org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:266)\r\n&gt; \t\tat\r\n&gt; org.springframework.boot.builder.SpringApplicationBuilder.createSpringApplication(SpringApplicationBuilder.java:129)\r\n&gt; \t\tat\r\n&gt; org.springframework.boot.builder.SpringApplicationBuilder.&lt;init&gt;(SpringApplicationBuilder.java:102)\r\n&gt; \t\tat\r\n&gt; org.springframework.boot.builder.SpringApplicationBuilder.&lt;init&gt;(SpringApplicationBuilder.java:98)\r\n&gt; \t\tat\r\n&gt; org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createSpringApplicationBuilder(SpringBootServletInitializer.java:166)\r\n&gt; \t\tat\r\n&gt; org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:130)\r\n&gt; \t\tat\r\n&gt; org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\r\n&gt; \t\tat\r\n&gt; org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\r\n&gt; \t\tat\r\n&gt; org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5221)\r\n&gt; \t\tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n&gt; \t\t... 44 more \tCaused by: java.lang.IllegalArgumentException: class\r\n&gt; org.springframework.cloud.config.client.ConfigClientRetryBootstrapper\r\n&gt; is not assignable to interface\r\n&gt; org.springframework.boot.BootstrapRegistryInitializer \t\tat\r\n&gt; org.springframework.util.Assert.assignableCheckFailed(Assert.java:720)\r\n&gt; \t\tat org.springframework.util.Assert.isAssignable(Assert.java:651)\r\n&gt; \t\tat org.springframework.util.Assert.isAssignable(Assert.java:682)\r\n&gt; \t\tat\r\n&gt; org.springframework.boot.SpringApplication.createSpringFactoriesInstances(SpringApplication.java:443)\r\n\r\nI am upgrading to spring 2.7.0 do i need to also upgrade all the Managed Dependencies mentioned in https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-dependencies/2.7.0 in my project also ?","title":"Caused by: java.lang.IllegalArgumentException: Cannot instantiate interface BootstrapRegistryInitialize : ConfigClientRetryBootstrapper","body":"<p>I am currently getting this exception, can someone help please.</p>\n<p>I am using the following versions:\nspring-boot-starter-parent: 2.7.0\nspring-cloud-starter-bootstrap: 3.1.3\nspring-cloud-dependencies: 2021.0.3</p>\n<p>I started getting this exception when I added this maven dependency</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;3.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Exception :</p>\n<blockquote>\n<p>Caused by: java.lang.IllegalArgumentException: Cannot instantiate\ninterface org.springframework.boot.BootstrapRegistryInitializer :\norg.springframework.cloud.config.client.ConfigClientRetryBootstrapper\nat\norg.springframework.boot.SpringApplication.createSpringFactoriesInstances(SpringApplication.java:449)\nat\norg.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:431)\nat\norg.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:424)\nat\norg.springframework.boot.SpringApplication.(SpringApplication.java:266)\nat\norg.springframework.boot.builder.SpringApplicationBuilder.createSpringApplication(SpringApplicationBuilder.java:129)\nat\norg.springframework.boot.builder.SpringApplicationBuilder.(SpringApplicationBuilder.java:102)\nat\norg.springframework.boot.builder.SpringApplicationBuilder.(SpringApplicationBuilder.java:98)\nat\norg.springframework.boot.web.servlet.support.SpringBootServletInitializer.createSpringApplicationBuilder(SpringBootServletInitializer.java:166)\nat\norg.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:130)\nat\norg.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\nat\norg.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\nat\norg.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5221)\nat\norg.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n... 44 more     Caused by: java.lang.IllegalArgumentException: class\norg.springframework.cloud.config.client.ConfigClientRetryBootstrapper\nis not assignable to interface\norg.springframework.boot.BootstrapRegistryInitializer         at\norg.springframework.util.Assert.assignableCheckFailed(Assert.java:720)\nat org.springframework.util.Assert.isAssignable(Assert.java:651)\nat org.springframework.util.Assert.isAssignable(Assert.java:682)\nat\norg.springframework.boot.SpringApplication.createSpringFactoriesInstances(SpringApplication.java:443)</p>\n</blockquote>\n<p>I am upgrading to spring 2.7.0 do i need to also upgrade all the Managed Dependencies mentioned in <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-dependencies/2.7.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-dependencies/2.7.0</a> in my project also ?</p>\n"},{"tags":["java","spring-webflux"],"comments":[{"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"score":0,"creation_date":1614075123,"post_id":66325962,"comment_id":117267395,"body_markdown":"there is a section on the spring reference documentation on how to do this. Please have a read through and update your question if there is still anything unclear.\nhttps://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-client-builder-reactor-timeout","body":"there is a section on the spring reference documentation on how to do this. Please have a read through and update your question if there is still anything unclear. <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-client-builder-reactor-timeout\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2343231,"reputation":723,"user_id":2054076,"accept_rate":44,"display_name":"Sedhu"},"score":0,"creation_date":1614063826,"post_id":66328285,"comment_id":117262859,"body_markdown":"this can be a comment to question","body":"this can be a comment to question"}],"tags":[],"owner":{"account_id":6017769,"reputation":1,"user_id":4725964,"display_name":"Piyush"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614071354,"creation_date":1614062537,"answer_id":66328285,"question_id":66325962,"body_markdown":"Try to set a `responseTimeout` as done for `WebTestClient` here :\r\nhttps://stackoverflow.com/a/48655749/4725964","title":"Webflux Webclient - increase my Webclient time out (wait a bit more a flaky service)","body":"<p>Try to set a <code>responseTimeout</code> as done for <code>WebTestClient</code> here :\n<a href=\"https://stackoverflow.com/a/48655749/4725964\">https://stackoverflow.com/a/48655749/4725964</a></p>\n"},{"tags":[],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1614686954,"creation_date":1614686954,"answer_id":66439099,"question_id":66325962,"body_markdown":"Per answer from Netty Team, it needs:\r\n\r\n```\r\n.responseTimeout(Duration.ofSeconds(10))\r\n\r\n.option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 10 * 1000)\r\n```\r\n\r\nFor an example to wait 10 seconds\r\n\r\nand\r\n\r\n```\r\nconn.addHandlerLast\r\n\r\n.timeout(Duration.ofSeconds(10L))\r\n```\r\n\r\nAre not needed","title":"Webflux Webclient - increase my Webclient time out (wait a bit more a flaky service)","body":"<p>Per answer from Netty Team, it needs:</p>\n<pre><code>.responseTimeout(Duration.ofSeconds(10))\n\n.option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 10 * 1000)\n</code></pre>\n<p>For an example to wait 10 seconds</p>\n<p>and</p>\n<pre><code>conn.addHandlerLast\n\n.timeout(Duration.ofSeconds(10L))\n</code></pre>\n<p>Are not needed</p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":777,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66439099,"answer_count":2,"score":1,"last_activity_date":1669630634,"creation_date":1614045362,"question_id":66325962,"body_markdown":"Small question regarding Spring Webflux Webclient, and how to increase the client side time out please.\r\n\r\nSetup, I am the client, I need to consume a third party API over the web.\r\n\r\nThis third party API is known to be flaky. For a same request, same response, sometimes, it takes 1-2sec, sometimes more than 4-5secs (mostly 4-5secs &#128539;)\r\n\r\nBut it is a good and important API, the payload response is very important.\r\n\r\nHence, I believe it is worth to &quot;wait them longer&quot;.\r\n\r\nMay I ask how to do that please?\r\n\r\nAfter investigation, this third party API do see some 499 response from their VIP.\r\n\r\nI believe this means &quot;I did not want to wait&quot;. But I do want to wait longer!\r\n\r\nAfter looking at the Webclient API, I am having a hard time finding how to do this.\r\n\r\nCurrently, I am constructing my WebClient as such:\r\n\r\n```\r\nWebClient.create().mutate().defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE, HttpHeaders.ACCEPT, MediaType.APPLICATION_JSON_VALUE).clientConnector(new ReactorClientHttpConnector(HttpClient.create().metrics(true, () -&gt; new MicrometerChannelMetricsRecorder(SERVICE, HTTP)).wiretap(true).secure(sslContextSpec -&gt; sslContextSpec.sslContext(getSslContextBuilder())))).build()\r\n```\r\n\r\nWhat is the current default time out?\r\n\r\nHow to increase it please via property or code?\r\n\r\nSomething like :\r\n\r\n```\r\n.setDefaultClientSideWaitTime() ?\r\n``` \r\n\r\nMany thanks for your help","title":"Webflux Webclient - increase my Webclient time out (wait a bit more a flaky service)","body":"<p>Small question regarding Spring Webflux Webclient, and how to increase the client side time out please.</p>\n<p>Setup, I am the client, I need to consume a third party API over the web.</p>\n<p>This third party API is known to be flaky. For a same request, same response, sometimes, it takes 1-2sec, sometimes more than 4-5secs (mostly 4-5secs 😛)</p>\n<p>But it is a good and important API, the payload response is very important.</p>\n<p>Hence, I believe it is worth to &quot;wait them longer&quot;.</p>\n<p>May I ask how to do that please?</p>\n<p>After investigation, this third party API do see some 499 response from their VIP.</p>\n<p>I believe this means &quot;I did not want to wait&quot;. But I do want to wait longer!</p>\n<p>After looking at the Webclient API, I am having a hard time finding how to do this.</p>\n<p>Currently, I am constructing my WebClient as such:</p>\n<pre><code>WebClient.create().mutate().defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE, HttpHeaders.ACCEPT, MediaType.APPLICATION_JSON_VALUE).clientConnector(new ReactorClientHttpConnector(HttpClient.create().metrics(true, () -&gt; new MicrometerChannelMetricsRecorder(SERVICE, HTTP)).wiretap(true).secure(sslContextSpec -&gt; sslContextSpec.sslContext(getSslContextBuilder())))).build()\n</code></pre>\n<p>What is the current default time out?</p>\n<p>How to increase it please via property or code?</p>\n<p>Something like :</p>\n<pre><code>.setDefaultClientSideWaitTime() ?\n</code></pre>\n<p>Many thanks for your help</p>\n"},{"tags":["java","selenium","webdriver"],"answers":[{"comments":[{"owner":{"account_id":71262,"reputation":20764,"user_id":206020,"accept_rate":89,"display_name":"ponzao"},"score":0,"creation_date":1271347184,"post_id":2646899,"comment_id":2662253,"body_markdown":"Works, but I still find this a bit annoying. I wonder what the reasoning is for not offering an WebElement.isDisplayed.","body":"Works, but I still find this a bit annoying. I wonder what the reasoning is for not offering an WebElement.isDisplayed."},{"owner":{"account_id":39749,"reputation":6764,"user_id":114804,"accept_rate":100,"display_name":"Gaim"},"score":5,"creation_date":1283844408,"post_id":2646899,"comment_id":3846141,"body_markdown":"This is not working but this interface delegates method isDisplayed and it works. Thanks for the hint. (+1)","body":"This is not working but this interface delegates method isDisplayed and it works. Thanks for the hint. (+1)"},{"owner":{"account_id":154496,"reputation":8593,"user_id":370481,"accept_rate":72,"display_name":"Eugen"},"score":1,"creation_date":1311850468,"post_id":2646899,"comment_id":8155564,"body_markdown":"Is this still relevant for selenium 2.0? I don&#39;t think there is a need for RenderedWebElement (the class itself is gone).","body":"Is this still relevant for selenium 2.0? I don&#39;t think there is a need for RenderedWebElement (the class itself is gone)."},{"owner":{"account_id":71262,"reputation":20764,"user_id":206020,"accept_rate":89,"display_name":"ponzao"},"score":4,"creation_date":1317370323,"post_id":2646899,"comment_id":9231467,"body_markdown":"@Eugen I think it has been changed to `RemoteWebElement`. But yeah as @sleske wrote `WebElement.isDisplayed` is now available and it probably will work in this use case (I don&#39;t have that code available anymore so cannot test).","body":"@Eugen I think it has been changed to <code>RemoteWebElement</code>. But yeah as @sleske wrote <code>WebElement.isDisplayed</code> is now available and it probably will work in this use case (I don&#39;t have that code available anymore so cannot test)."},{"owner":{"account_id":363551,"reputation":113607,"user_id":707381,"accept_rate":97,"display_name":"Randomblue"},"score":0,"creation_date":1326107244,"post_id":2646899,"comment_id":10959475,"body_markdown":"Does anyone know the equivalent of this in Python?","body":"Does anyone know the equivalent of this in Python?"},{"owner":{"account_id":25705,"reputation":9239,"user_id":66293,"accept_rate":88,"display_name":"Andrew M"},"score":0,"creation_date":1340210311,"post_id":2646899,"comment_id":14576365,"body_markdown":"Downvote - no longer the best answer since isDisplayed() was added to web driver. (see sleske&#39;s answer)","body":"Downvote - no longer the best answer since isDisplayed() was added to web driver. (see sleske&#39;s answer)"},{"owner":{"account_id":30443,"reputation":4470,"user_id":83047,"accept_rate":78,"display_name":"hleinone"},"score":15,"creation_date":1340315409,"post_id":2646899,"comment_id":14614836,"body_markdown":"For real? The question is about specific version of Selenium (2.0a2). So, using `isDisplayed()` is not a correct answer for the version in question.","body":"For real? The question is about specific version of Selenium (2.0a2). So, using <code>isDisplayed()</code> is not a correct answer for the version in question."},{"owner":{"account_id":3447189,"reputation":3101,"user_id":2887713,"accept_rate":25,"display_name":"Steve Staple"},"score":6,"creation_date":1520353945,"post_id":2646899,"comment_id":85276117,"body_markdown":"isDisplayed does not work. It says true even when element is clearly not shown.","body":"isDisplayed does not work. It says true even when element is clearly not shown."}],"tags":[],"owner":{"account_id":30443,"reputation":4470,"user_id":83047,"accept_rate":78,"display_name":"hleinone"},"comment_count":8,"down_vote_count":4,"up_vote_count":28,"is_accepted":true,"score":24,"last_activity_date":1271346932,"creation_date":1271346932,"answer_id":2646899,"question_id":2646195,"body_markdown":"`element instanceof RenderedWebElement` should work.","title":"How to check if an element is visible with WebDriver","body":"<p><code>element instanceof RenderedWebElement</code> should work.</p>\n"},{"comments":[{"owner":{"account_id":377254,"reputation":3394,"user_id":729242,"accept_rate":85,"display_name":"some_other_guy"},"score":1,"creation_date":1350896855,"post_id":7114440,"comment_id":17651142,"body_markdown":"If the element is present in HTML code then findElement will pass even if the element is hidden. Or say not visible (like a dropdown menu). The question is to find whether element is visible or not.","body":"If the element is present in HTML code then findElement will pass even if the element is hidden. Or say not visible (like a dropdown menu). The question is to find whether element is visible or not."},{"owner":{"account_id":68986,"reputation":21295,"user_id":200987,"accept_rate":69,"display_name":"oligofren"},"score":0,"creation_date":1536593924,"post_id":7114440,"comment_id":91470047,"body_markdown":"@CallumRogers Check my answer. It presents a Java version of how the Selenium based Webdriver.io NodeJS framework does it. Basically you need to run JS on the client to make sure.","body":"@CallumRogers Check my answer. It presents a Java version of how the Selenium based Webdriver.io NodeJS framework does it. Basically you need to run JS on the client to make sure."}],"tags":[],"owner":{"account_id":800951,"reputation":31,"user_id":901437,"display_name":"Jason"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1323961017,"creation_date":1313703394,"answer_id":7114440,"question_id":2646195,"body_markdown":"It is important to see if the element is visible or not as the `Driver.FindElement` will only check the HTML source. But popup code could be in the page html, and not be visible. Therefore, `Driver.FindElement` function returns a false positive (and your test will fail)","title":"How to check if an element is visible with WebDriver","body":"<p>It is important to see if the element is visible or not as the <code>Driver.FindElement</code> will only check the HTML source. But popup code could be in the page html, and not be visible. Therefore, <code>Driver.FindElement</code> function returns a false positive (and your test will fail)</p>\n"},{"comments":[{"owner":{"account_id":3447189,"reputation":3101,"user_id":2887713,"accept_rate":25,"display_name":"Steve Staple"},"score":9,"creation_date":1520354062,"post_id":7525678,"comment_id":85276192,"body_markdown":"isDisplayed returns true even of element is not visible.","body":"isDisplayed returns true even of element is not visible."},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":0,"creation_date":1520359465,"post_id":7525678,"comment_id":85279562,"body_markdown":"@SteveStaple: That should not happen. If it does, consider filing a bug.","body":"@SteveStaple: That should not happen. If it does, consider filing a bug."},{"owner":{"account_id":3447189,"reputation":3101,"user_id":2887713,"accept_rate":25,"display_name":"Steve Staple"},"score":4,"creation_date":1520593518,"post_id":7525678,"comment_id":85389519,"body_markdown":"I have been informed that it is not a bug, &amp; that this works as expected. displayed does not mean the same to them as it does to the rest of the English speaking world.","body":"I have been informed that it is not a bug, &amp; that this works as expected. displayed does not mean the same to them as it does to the rest of the English speaking world."},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":0,"creation_date":1520803718,"post_id":7525678,"comment_id":85454199,"body_markdown":"@SteveStaple: Well, welcome to the world of computers. Lots of things don&#39;t mean quite the same as they do elsewhere.","body":"@SteveStaple: Well, welcome to the world of computers. Lots of things don&#39;t mean quite the same as they do elsewhere."},{"owner":{"account_id":68986,"reputation":21295,"user_id":200987,"accept_rate":69,"display_name":"oligofren"},"score":2,"creation_date":1536593763,"post_id":7525678,"comment_id":91469951,"body_markdown":"this doesn&#39;t say if the element is visible, only if it exists on the page. it could be hidden by other elements and/or be outside the viewport. whether or not the `display` prop is set only covers a fraction of the possible states and will return false positives in a lot of cases.","body":"this doesn&#39;t say if the element is visible, only if it exists on the page. it could be hidden by other elements and/or be outside the viewport. whether or not the <code>display</code> prop is set only covers a fraction of the possible states and will return false positives in a lot of cases."},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":2,"creation_date":1536751939,"post_id":7525678,"comment_id":91535912,"body_markdown":"@oligofren: Yes, there are many reasons why an element could be invisible - and Selenium does cover most of them. For example, `isDisplayed()` _does_ return `false` if an element is outside the viewport, or has opacity=0. There are certainly edge cases where it does not work as expected, but it does usually work, unless you do very fancy things in your page. Answer updated.","body":"@oligofren: Yes, there are many reasons why an element could be invisible - and Selenium does cover most of them. For example, <code>isDisplayed()</code> <i>does</i> return <code>false</code> if an element is outside the viewport, or has opacity=0. There are certainly edge cases where it does not work as expected, but it does usually work, unless you do very fancy things in your page. Answer updated."},{"owner":{"account_id":6715688,"reputation":1891,"user_id":7858231,"display_name":"Ramzan Mahmood"},"score":0,"creation_date":1555425308,"post_id":7525678,"comment_id":98102134,"body_markdown":"@sleske isDisplayed() will not work every time. There can be a case that locator also finished when something disappears. so NoSuchElementException error will be generate in that case.","body":"@sleske isDisplayed() will not work every time. There can be a case that locator also finished when something disappears. so NoSuchElementException error will be generate in that case."},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":1,"creation_date":1555486013,"post_id":7525678,"comment_id":98123428,"body_markdown":"@RamzanMahmood: Yes, that is by design. You may not invoke `isDisplayed()` on an element that is no longer in the DOM.","body":"@RamzanMahmood: Yes, that is by design. You may not invoke <code>isDisplayed()</code> on an element that is no longer in the DOM."},{"owner":{"account_id":3385886,"reputation":1044,"user_id":2841855,"display_name":"Cosmin Sontu"},"score":1,"creation_date":1692797992,"post_id":7525678,"comment_id":135673185,"body_markdown":"isDisplayed means the element was rendered but it is not necessarily in view or top-level. This means it might be slightly outside the screen or covered by some other element or an overlay / popup.","body":"isDisplayed means the element was rendered but it is not necessarily in view or top-level. This means it might be slightly outside the screen or covered by some other element or an overlay / popup."}],"tags":[],"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"comment_count":9,"down_vote_count":1,"up_vote_count":164,"is_accepted":false,"score":163,"last_activity_date":1536757390,"creation_date":1316763079,"answer_id":7525678,"question_id":2646195,"body_markdown":"Even though I&#39;m somewhat late answering the question:\r\n\r\nYou can now use [`WebElement.isDisplayed()`][1] to check if an element is visible.\r\n\r\n*Note*:\r\n\r\nThere are many reasons why an element could be invisible. Selenium tries cover most of them, but there are edge cases where it does not work as expected.\r\n\r\nFor example, `isDisplayed()` _does_ return `false` if an element has `display: none` or `opacity: 0`, but at least in my test, it does not reliably detect if an element is covered by another due to CSS positioning.\r\n\r\n  [1]: https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/WebElement.html#isDisplayed--","title":"How to check if an element is visible with WebDriver","body":"<p>Even though I'm somewhat late answering the question:</p>\n\n<p>You can now use <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/WebElement.html#isDisplayed--\" rel=\"noreferrer\"><code>WebElement.isDisplayed()</code></a> to check if an element is visible.</p>\n\n<p><em>Note</em>:</p>\n\n<p>There are many reasons why an element could be invisible. Selenium tries cover most of them, but there are edge cases where it does not work as expected.</p>\n\n<p>For example, <code>isDisplayed()</code> <em>does</em> return <code>false</code> if an element has <code>display: none</code> or <code>opacity: 0</code>, but at least in my test, it does not reliably detect if an element is covered by another due to CSS positioning.</p>\n"},{"comments":[{"owner":{"account_id":1149936,"reputation":14493,"user_id":1131857,"accept_rate":76,"display_name":"wutzebaer"},"score":0,"creation_date":1511439965,"post_id":12832195,"comment_id":81865384,"body_markdown":"but this will always wait until timeout occurs","body":"but this will always wait until timeout occurs"},{"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"score":0,"creation_date":1526390576,"post_id":12832195,"comment_id":87718598,"body_markdown":"@Anna: It&#39;s my pleasure - Thank you.","body":"@Anna: It&#39;s my pleasure - Thank you."},{"owner":{"account_id":68986,"reputation":21295,"user_id":200987,"accept_rate":69,"display_name":"oligofren"},"score":3,"creation_date":1536593748,"post_id":12832195,"comment_id":91469944,"body_markdown":"this doesn&#39;t say if the element is visible, only if it exists on the page. it could be hidden by other elements and/or be outside the viewport, hence give false positives.","body":"this doesn&#39;t say if the element is visible, only if it exists on the page. it could be hidden by other elements and/or be outside the viewport, hence give false positives."},{"owner":{"account_id":16083035,"reputation":398,"user_id":11608469,"display_name":"lahimadhe"},"score":0,"creation_date":1696512577,"post_id":12832195,"comment_id":136164745,"body_markdown":"you can set the fail message within same line, that is a plus \nAssert.assertTrue(isElementPresent(By.id(&quot;idOfElement&quot;)), &quot;LogOut Button is not visible.&quot;);","body":"you can set the fail message within same line, that is a plus  Assert.assertTrue(isElementPresent(By.id(&quot;idOfElement&quot;)), &quot;LogOut Button is not visible.&quot;);"}],"tags":[],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"comment_count":4,"down_vote_count":3,"up_vote_count":20,"is_accepted":false,"score":17,"last_activity_date":1507892357,"creation_date":1349929548,"answer_id":12832195,"question_id":2646195,"body_markdown":"I have the following 2 suggested ways:\r\n\r\n1. You can use `isDisplayed()` as below:\r\n\r\n        driver.findElement(By.id(&quot;idOfElement&quot;)).isDisplayed();\r\n\r\n2. You can define a method as shown below and call it:\r\n\r\n        public boolean isElementPresent(By by) {\r\n          try {\r\n            driver.findElement(by);\r\n            return true;\r\n          }\r\n        catch (org.openqa.selenium.NoSuchElementException e) {\r\n            return false;\r\n          }\r\n        }\r\n\r\nNow, you can do assertion as below to check either the element is present or not:\r\n\r\n    assertTrue(isElementPresent(By.id(&quot;idOfElement&quot;)));\r\n\r\n","title":"How to check if an element is visible with WebDriver","body":"<p>I have the following 2 suggested ways:</p>\n\n<ol>\n<li><p>You can use <code>isDisplayed()</code> as below:</p>\n\n<pre><code>driver.findElement(By.id(\"idOfElement\")).isDisplayed();\n</code></pre></li>\n<li><p>You can define a method as shown below and call it:</p>\n\n<pre><code>public boolean isElementPresent(By by) {\n  try {\n    driver.findElement(by);\n    return true;\n  }\ncatch (org.openqa.selenium.NoSuchElementException e) {\n    return false;\n  }\n}\n</code></pre></li>\n</ol>\n\n<p>Now, you can do assertion as below to check either the element is present or not:</p>\n\n<pre><code>assertTrue(isElementPresent(By.id(\"idOfElement\")));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":68986,"reputation":21295,"user_id":200987,"accept_rate":69,"display_name":"oligofren"},"score":0,"creation_date":1536653908,"post_id":13587351,"comment_id":91490307,"body_markdown":"Visible is not the same as displayed. That just checks if the element has the css prop `display` set to something else than `none`. It still might be hidden by other elements, have a zero height, etc. This won&#39;t catch that.","body":"Visible is not the same as displayed. That just checks if the element has the css prop <code>display</code> set to something else than <code>none</code>. It still might be hidden by other elements, have a zero height, etc. This won&#39;t catch that."}],"tags":[],"owner":{"account_id":1277999,"reputation":1069,"user_id":1232818,"accept_rate":82,"display_name":"Christopher Bales"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1354029679,"creation_date":1354029679,"answer_id":13587351,"question_id":2646195,"body_markdown":"If you&#39;re using C#, it would be driver.Displayed. Here&#39;s an example from my own project:\r\n\r\n    if (!driver.FindElement(By.Name(&quot;newtagfield&quot;)).Displayed)      //if the tag options is not displayed\r\n        driver.FindElement(By.Id(&quot;expand-folder-tags&quot;)).Click();    //make sure the folder and tags options are visible","title":"How to check if an element is visible with WebDriver","body":"<p>If you're using C#, it would be driver.Displayed. Here's an example from my own project:</p>\n\n<pre><code>if (!driver.FindElement(By.Name(\"newtagfield\")).Displayed)      //if the tag options is not displayed\n    driver.FindElement(By.Id(\"expand-folder-tags\")).Click();    //make sure the folder and tags options are visible\n</code></pre>\n"},{"comments":[{"owner":{"account_id":92726,"reputation":489,"user_id":254011,"display_name":"Raymond Barlow"},"score":7,"creation_date":1412852264,"post_id":24186488,"comment_id":41225722,"body_markdown":"Not related to the OP, but you can simplify your function. How about:\n\nreturn driver.findElements(by).size() &gt; 0;","body":"Not related to the OP, but you can simplify your function. How about:  return driver.findElements(by).size() &gt; 0;"},{"owner":{"account_id":68986,"reputation":21295,"user_id":200987,"accept_rate":69,"display_name":"oligofren"},"score":0,"creation_date":1536588787,"post_id":24186488,"comment_id":91466863,"body_markdown":"that just checks if you can find it, not if it is visible. it will find a hidden element.","body":"that just checks if you can find it, not if it is visible. it will find a hidden element."}],"tags":[],"owner":{"account_id":2887650,"reputation":1345,"user_id":2477107,"accept_rate":33,"display_name":"Adnan Ghaffar"},"comment_count":2,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1402581967,"creation_date":1402581967,"answer_id":24186488,"question_id":2646195,"body_markdown":"\r\nVerifying ele is visible.\r\n\r\n    public static boolean isElementVisible(final By by)\r\n    \tthrows InterruptedException {\r\n    \t\tboolean value = false;\r\n    \r\n    \t\tif (driver.findElements(by).size() &gt; 0) {\r\n    \t\t\tvalue = true;\r\n    \t\t}\r\n    \t\treturn value;\r\n    \t}","title":"How to check if an element is visible with WebDriver","body":"<p>Verifying ele is visible.</p>\n\n<pre><code>public static boolean isElementVisible(final By by)\n    throws InterruptedException {\n        boolean value = false;\n\n        if (driver.findElements(by).size() &gt; 0) {\n            value = true;\n        }\n        return value;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5194588,"reputation":1,"user_id":4156365,"display_name":"Tarun Yaduvanshi"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1413627989,"creation_date":1413627989,"answer_id":26438735,"question_id":2646195,"body_markdown":"try this \r\n\r\n    public boolean isPrebuiltTestButtonVisible() {\r\n        try {\r\n\r\n            if (preBuiltTestButton.isEnabled()) {\r\n\r\n                return true;\r\n\r\n            } else {\r\n\r\n                return false;\r\n            }\r\n\r\n        } catch (Exception e) {\r\n\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n    }","title":"How to check if an element is visible with WebDriver","body":"<p>try this </p>\n\n<pre><code>public boolean isPrebuiltTestButtonVisible() {\n    try {\n\n        if (preBuiltTestButton.isEnabled()) {\n\n            return true;\n\n        } else {\n\n            return false;\n        }\n\n    } catch (Exception e) {\n\n        e.printStackTrace();\n        return false;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5356259,"reputation":191,"user_id":4268839,"display_name":"Tao Zhang"},"score":0,"creation_date":1480973708,"post_id":30395034,"comment_id":69177073,"body_markdown":"I am doing the same. Using isDisplayed() directly will throw exception, so can be a check but can&#39;t be a condition to drive the workflow like this.","body":"I am doing the same. Using isDisplayed() directly will throw exception, so can be a check but can&#39;t be a condition to drive the workflow like this."}],"tags":[],"owner":{"account_id":325558,"reputation":4429,"user_id":646818,"accept_rate":56,"display_name":"Charlie S"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1432293264,"creation_date":1432292538,"answer_id":30395034,"question_id":2646195,"body_markdown":"Here is how I would do it (please ignore worry Logger class calls):\r\n\r\n\tpublic boolean isElementExist(By by) {\r\n\t\tint count = driver.findElements(by).size();\r\n\t\tif (count&gt;=1) {\r\n\t\t\tLogger.LogMessage(&quot;isElementExist: &quot; + by + &quot; | Count: &quot; + count, Priority.Medium);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tLogger.LogMessage(&quot;isElementExist: &quot; + by + &quot; | Could not find element&quot;, Priority.High);\r\n\t\t\treturn false;\r\n\t\t}\t\r\n\t}\r\n\r\n\tpublic boolean isElementNotExist(By by) {\r\n\t\tint count = driver.findElements(by).size();\r\n\t\tif (count==0) {\r\n\t\t\tLogger.LogMessage(&quot;ElementDoesNotExist: &quot; + by, Priority.Medium);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tLogger.LogMessage(&quot;ElementDoesExist: &quot; + by, Priority.High);\r\n\t\t\treturn false;\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tpublic boolean isElementVisible(By by) {\r\n\t\ttry {\r\n\t\t\tif (driver.findElement(by).isDisplayed()) {\r\n\t\t\t\tLogger.LogMessage(&quot;Element is Displayed: &quot; + by, Priority.Medium);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e) {       \r\n\t\t\tLogger.LogMessage(&quot;Element is Not Displayed: &quot; + by, Priority.High);\r\n\t\t\treturn false;\r\n\t\t}       \r\n\t\t\r\n\t\treturn false;\r\n\t}","title":"How to check if an element is visible with WebDriver","body":"<p>Here is how I would do it (please ignore worry Logger class calls):</p>\n\n<pre><code>public boolean isElementExist(By by) {\n    int count = driver.findElements(by).size();\n    if (count&gt;=1) {\n        Logger.LogMessage(\"isElementExist: \" + by + \" | Count: \" + count, Priority.Medium);\n        return true;\n    }\n    else {\n        Logger.LogMessage(\"isElementExist: \" + by + \" | Could not find element\", Priority.High);\n        return false;\n    }   \n}\n\npublic boolean isElementNotExist(By by) {\n    int count = driver.findElements(by).size();\n    if (count==0) {\n        Logger.LogMessage(\"ElementDoesNotExist: \" + by, Priority.Medium);\n        return true;\n    }\n    else {\n        Logger.LogMessage(\"ElementDoesExist: \" + by, Priority.High);\n        return false;\n    }   \n}\n\npublic boolean isElementVisible(By by) {\n    try {\n        if (driver.findElement(by).isDisplayed()) {\n            Logger.LogMessage(\"Element is Displayed: \" + by, Priority.Medium);\n            return true;\n        }\n    }\n    catch(Exception e) {       \n        Logger.LogMessage(\"Element is Not Displayed: \" + by, Priority.High);\n        return false;\n    }       \n\n    return false;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1186986,"reputation":16456,"user_id":1160754,"accept_rate":100,"display_name":"Arnold Daniels"},"score":2,"creation_date":1487082800,"post_id":42224314,"comment_id":71616982,"body_markdown":"Please provide some more details to your answer. How does this work and how does this solve the problem of the OP?","body":"Please provide some more details to your answer. How does this work and how does this solve the problem of the OP?"},{"owner":{"account_id":68986,"reputation":21295,"user_id":200987,"accept_rate":69,"display_name":"oligofren"},"score":1,"creation_date":1536588737,"post_id":42224314,"comment_id":91466840,"body_markdown":"It&#39;s not about checking if an element is present, but whether it is _visible_.","body":"It&#39;s not about checking if an element is present, but whether it is <i>visible</i>."}],"tags":[],"owner":{"account_id":8909543,"reputation":128,"user_id":6650289,"accept_rate":0,"display_name":"akhilesh gulati"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1487089248,"creation_date":1487069704,"answer_id":42224314,"question_id":2646195,"body_markdown":"    public boolean isElementFound( String text) {\r\n    \t\ttry{\r\n    \t\t\tWebElement webElement = appiumDriver.findElement(By.xpath(text));\r\n    \t\t\tSystem.out.println(&quot;isElementFound : true :&quot;+text + &quot;true&quot;);\r\n    \t\t}catch(NoSuchElementException e){\r\n    \t\t\tSystem.out.println(&quot;isElementFound : false :&quot;+text);\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \ttext is the xpath which you would be passing when calling the function.\r\n    the return value will be true if the element is present else false if element is not pressent","title":"How to check if an element is visible with WebDriver","body":"<pre><code>public boolean isElementFound( String text) {\n        try{\n            WebElement webElement = appiumDriver.findElement(By.xpath(text));\n            System.out.println(\"isElementFound : true :\"+text + \"true\");\n        }catch(NoSuchElementException e){\n            System.out.println(\"isElementFound : false :\"+text);\n            return false;\n        }\n        return true;\n    }\n\n    text is the xpath which you would be passing when calling the function.\nthe return value will be true if the element is present else false if element is not pressent\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8950231,"reputation":2567,"user_id":6676466,"accept_rate":67,"display_name":"Vishal Chhodwani"},"score":0,"creation_date":1524041664,"post_id":49891813,"comment_id":86805897,"body_markdown":"While this code may answer the question, providing additional context regarding why and/or how this code answers the question improves its long-term value.","body":"While this code may answer the question, providing additional context regarding why and/or how this code answers the question improves its long-term value."},{"owner":{"account_id":68986,"reputation":21295,"user_id":200987,"accept_rate":69,"display_name":"oligofren"},"score":0,"creation_date":1536593710,"post_id":49891813,"comment_id":91469929,"body_markdown":"this doesn&#39;t say if the element is visible, only if it exists on the page. it could be hidden by other elements and/or be outside the viewport.","body":"this doesn&#39;t say if the element is visible, only if it exists on the page. it could be hidden by other elements and/or be outside the viewport."}],"tags":[],"owner":{"account_id":13383565,"reputation":21,"user_id":9658120,"display_name":"Vishnu B S"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1524029351,"creation_date":1524029351,"answer_id":49891813,"question_id":2646195,"body_markdown":"        try{\r\n    \t    if( driver.findElement(By.xpath(&quot;//div***&quot;)).isDisplayed()){\r\n              System.out.println(&quot;Element is Visible&quot;);\r\n            }\r\n    }\r\n    catch(NoSuchElementException e){\r\n       else{\r\n         System.out.println(&quot;Element is InVisible&quot;);\r\n            }\r\n    }","title":"How to check if an element is visible with WebDriver","body":"<pre><code>    try{\n        if( driver.findElement(By.xpath(\"//div***\")).isDisplayed()){\n          System.out.println(\"Element is Visible\");\n        }\n}\ncatch(NoSuchElementException e){\n   else{\n     System.out.println(\"Element is InVisible\");\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":68986,"reputation":21295,"user_id":200987,"accept_rate":69,"display_name":"oligofren"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1536654064,"creation_date":1536593192,"answer_id":52261060,"question_id":2646195,"body_markdown":"Short answer: use `#visibilityOfElementLocated`\r\n---\r\n\r\nNone of the answers using `isDisplayed` or similar are correct. They only check if the `display` property is not `none`, not if the element can actually be seen! Selenium had a bunch of static utility methods added in the [`ExpectedConditions`](https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html) class. Two of them can be used in this case:\r\n\r\n- [visibilityOfElementLocated][1] (element is allowed not to exist)\r\n- [visibilityOf][2] (element must exist)\r\n\r\n**Usage**\r\n\r\n    @Test\r\n    // visibilityOfElementLocated has been statically imported\r\n    public demo(){\r\n        By searchButtonSelector = By.className(&quot;search_button&quot;);\r\n        WebDriverWait wait = new WebDriverWait(driver, 10);\r\n        driver.get(homeUrl);\r\n\r\n        WebElement searchButton = wait.until(                \r\n                visibilityOfElementLocated\r\n                (searchButtonSelector)); \r\n\r\n        //clicks the search button \r\n        searchButton.click();\r\n\r\n\r\n\r\nCustom visibility check running on the client\r\n---\r\nThis was my answer before finding out about the utility methods on `ExpectedConditions`. It might still be relevant, as I assume it does more than the method mentioned above, which only checks the element has a height and a width.\r\n\r\nIn essence: this cannot be answered by Java and the `findElementBy*` methods and `WebElement#isDisplayed` alone, as they can only tell you if an element _exists_, not if it is actually _visible_. The OP hasn&#39;t defined what _visible_ means, but it normally entails\r\n\r\n- it has an `opacity` &gt; 0\r\n- it has the `display` property set to something else than `none`\r\n- the `visibility` prop is set to `visible`\r\n- there are no other elements hiding it (it&#39;s the topmost element)\r\n\r\nMost people would also include the requirement that it is actually within the viewport as well (so a person would be able to see it).\r\n\r\nFor some reason, this quite normal need is not met by the pure Java API, while front-ends to Selenium that builds upon it often implements some variation of `isVisible`, which is why I knew this should be possible. And after browsing the source of the Node framework _WebDriver.IO_ I found [the source](https://github.com/webdriverio/webdriverio/blob/v5.0.0-beta.2/packages/webdriverio/src/commands/element/isDisplayedInViewport.js) of `isVisible`, which is now renamed to the more aptly name of `isVisibleInViewport` in the 5.0-beta.\r\n\r\nBasically, they implement the custom command as a call that _delegates to a javascript that runs on the client_ and does the actual work! This is the &quot;server&quot; bit:\r\n\r\n    export default function isDisplayedInViewport () {\r\n        return getBrowserObject(this).execute(isDisplayedInViewportScript, {\r\n            [ELEMENT_KEY]: this.elementId, // w3c compatible\r\n            ELEMENT: this.elementId // jsonwp compatible\r\n        })\r\n    }\r\n\r\nSo the interesting bit is the javascript sent to run on the client:\r\n\r\n    /**\r\n     * check if element is visible and within the viewport\r\n     * @param  {HTMLElement} elem  element to check\r\n     * @return {Boolean}           true if element is within viewport\r\n     */\r\n    export default function isDisplayedInViewport (elem) {\r\n        const dde = document.documentElement\r\n    \r\n        let isWithinViewport = true\r\n        while (elem.parentNode &amp;&amp; elem.parentNode.getBoundingClientRect) {\r\n            const elemDimension = elem.getBoundingClientRect()\r\n            const elemComputedStyle = window.getComputedStyle(elem)\r\n            const viewportDimension = {\r\n                width: dde.clientWidth,\r\n                height: dde.clientHeight\r\n            }\r\n    \r\n            isWithinViewport = isWithinViewport &amp;&amp;\r\n                               (elemComputedStyle.display !== &#39;none&#39; &amp;&amp;\r\n                                elemComputedStyle.visibility === &#39;visible&#39; &amp;&amp;\r\n                                parseFloat(elemComputedStyle.opacity, 10) &gt; 0 &amp;&amp;\r\n                                elemDimension.bottom &gt; 0 &amp;&amp;\r\n                                elemDimension.right &gt; 0 &amp;&amp;\r\n                                elemDimension.top &lt; viewportDimension.height &amp;&amp;\r\n                                elemDimension.left &lt; viewportDimension.width)\r\n    \r\n            elem = elem.parentNode\r\n        }\r\n    \r\n        return isWithinViewport\r\n    }\r\n\r\nThis piece of JS can actually be copied (almost) verbatim into your own codebase (remove `export default` and replace `const` with `var` in case of non-evergreen browsers)! To use it, read it from `File` into a `String` that can be sent by Selenium for running on the client.\r\n\r\nAnother interesting and related script that might be worth looking into is [selectByVisibleText][3].\r\n\r\nIf you haven&#39;t executed JS using Selenium before you could have [a small peek into this](https://www.guru99.com/execute-javascript-selenium-webdriver.html) or browse the [JavaScriptExecutor API](https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/JavascriptExecutor.html).\r\n\r\nUsually, try to always use non-blocking async scripts (meaning [#executeAsyncScript][4]), but since we already have a synchronous, blocking script we might as well use the normal sync call.  The returned object can be many types of Object, so cast approprately. This could be one way of doing it:\r\n\r\n    /** \r\n     * Demo of a java version of webdriverio&#39;s isDisplayedInViewport\r\n     * https://github.com/webdriverio/webdriverio/blob/v5.0.0-beta.2/packages/webdriverio/src/commands/element/isDisplayedInViewport.js\r\n     * The super class GuiTest just deals with setup of the driver and such\r\n     */\r\n    class VisibleDemoTest extends GuiTest {\r\n        public static String readScript(String name) {\r\n            try {\r\n                File f = new File(&quot;selenium-scripts/&quot; + name + &quot;.js&quot;);\r\n                BufferedReader reader = new BufferedReader( new FileReader( file ) );\r\n                return reader.lines().collect(Collectors.joining(System.lineSeparator()));\r\n            } catch(IOError e){\r\n                throw new RuntimeError(&quot;No such Selenium script: &quot; + f.getAbsolutePath()); \r\n            }\r\n        }\r\n    \r\n        public static Boolean isVisibleInViewport(RemoteElement e){\r\n            // according to the Webdriver spec a string that identifies an element\r\n            // should be deserialized into the corresponding web element,\r\n            // meaning the &#39;isDisplayedInViewport&#39; function should receive the element, \r\n            // not just the string we passed to it originally - how this is done is not our concern\r\n            //\r\n            // This is probably when ELEMENT and ELEMENT_KEY refers to in the wd.io implementation\r\n            //\r\n            // Ref https://w3c.github.io/webdriver/#dfn-json-deserialize\r\n            return js.executeScript(readScript(&quot;isDisplayedInViewport&quot;), e.getId());\r\n        }\r\n    \r\n        public static Boolean isVisibleInViewport(String xPath){\r\n            driver().findElementByXPath(&quot;//button[@id=&#39;should_be_visible&#39;]&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public demo_isVisibleInViewport(){\r\n            // you can build all kinds of abstractions on top of the base method\r\n            // to make it more Selenium-ish using retries with timeouts, etc\r\n            assertTrue(isVisibleInViewport(&quot;//button[@id=&#39;should_be_visible&#39;]&quot;));\r\n            assertFalse(isVisibleInViewport(&quot;//button[@id=&#39;should_be_hidden&#39;]&quot;));\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#visibilityOfElementLocated-org.openqa.selenium.By-\r\n  [2]: https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#visibilityOf-org.openqa.selenium.WebElement-\r\n  [3]: https://github.com/webdriverio/webdriverio/blob/master/packages/webdriverio/src/commands/element/selectByVisibleText.js\r\n  [4]: https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/JavascriptExecutor.html","title":"How to check if an element is visible with WebDriver","body":"<h2>Short answer: use <code>#visibilityOfElementLocated</code></h2>\n\n<p>None of the answers using <code>isDisplayed</code> or similar are correct. They only check if the <code>display</code> property is not <code>none</code>, not if the element can actually be seen! Selenium had a bunch of static utility methods added in the <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html\" rel=\"noreferrer\"><code>ExpectedConditions</code></a> class. Two of them can be used in this case:</p>\n\n<ul>\n<li><a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#visibilityOfElementLocated-org.openqa.selenium.By-\" rel=\"noreferrer\">visibilityOfElementLocated</a> (element is allowed not to exist)</li>\n<li><a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#visibilityOf-org.openqa.selenium.WebElement-\" rel=\"noreferrer\">visibilityOf</a> (element must exist)</li>\n</ul>\n\n<p><strong>Usage</strong></p>\n\n<pre><code>@Test\n// visibilityOfElementLocated has been statically imported\npublic demo(){\n    By searchButtonSelector = By.className(\"search_button\");\n    WebDriverWait wait = new WebDriverWait(driver, 10);\n    driver.get(homeUrl);\n\n    WebElement searchButton = wait.until(                \n            visibilityOfElementLocated\n            (searchButtonSelector)); \n\n    //clicks the search button \n    searchButton.click();\n</code></pre>\n\n<h2>Custom visibility check running on the client</h2>\n\n<p>This was my answer before finding out about the utility methods on <code>ExpectedConditions</code>. It might still be relevant, as I assume it does more than the method mentioned above, which only checks the element has a height and a width.</p>\n\n<p>In essence: this cannot be answered by Java and the <code>findElementBy*</code> methods and <code>WebElement#isDisplayed</code> alone, as they can only tell you if an element <em>exists</em>, not if it is actually <em>visible</em>. The OP hasn't defined what <em>visible</em> means, but it normally entails</p>\n\n<ul>\n<li>it has an <code>opacity</code> > 0</li>\n<li>it has the <code>display</code> property set to something else than <code>none</code></li>\n<li>the <code>visibility</code> prop is set to <code>visible</code></li>\n<li>there are no other elements hiding it (it's the topmost element)</li>\n</ul>\n\n<p>Most people would also include the requirement that it is actually within the viewport as well (so a person would be able to see it).</p>\n\n<p>For some reason, this quite normal need is not met by the pure Java API, while front-ends to Selenium that builds upon it often implements some variation of <code>isVisible</code>, which is why I knew this should be possible. And after browsing the source of the Node framework <em>WebDriver.IO</em> I found <a href=\"https://github.com/webdriverio/webdriverio/blob/v5.0.0-beta.2/packages/webdriverio/src/commands/element/isDisplayedInViewport.js\" rel=\"noreferrer\">the source</a> of <code>isVisible</code>, which is now renamed to the more aptly name of <code>isVisibleInViewport</code> in the 5.0-beta.</p>\n\n<p>Basically, they implement the custom command as a call that <em>delegates to a javascript that runs on the client</em> and does the actual work! This is the \"server\" bit:</p>\n\n<pre><code>export default function isDisplayedInViewport () {\n    return getBrowserObject(this).execute(isDisplayedInViewportScript, {\n        [ELEMENT_KEY]: this.elementId, // w3c compatible\n        ELEMENT: this.elementId // jsonwp compatible\n    })\n}\n</code></pre>\n\n<p>So the interesting bit is the javascript sent to run on the client:</p>\n\n<pre><code>/**\n * check if element is visible and within the viewport\n * @param  {HTMLElement} elem  element to check\n * @return {Boolean}           true if element is within viewport\n */\nexport default function isDisplayedInViewport (elem) {\n    const dde = document.documentElement\n\n    let isWithinViewport = true\n    while (elem.parentNode &amp;&amp; elem.parentNode.getBoundingClientRect) {\n        const elemDimension = elem.getBoundingClientRect()\n        const elemComputedStyle = window.getComputedStyle(elem)\n        const viewportDimension = {\n            width: dde.clientWidth,\n            height: dde.clientHeight\n        }\n\n        isWithinViewport = isWithinViewport &amp;&amp;\n                           (elemComputedStyle.display !== 'none' &amp;&amp;\n                            elemComputedStyle.visibility === 'visible' &amp;&amp;\n                            parseFloat(elemComputedStyle.opacity, 10) &gt; 0 &amp;&amp;\n                            elemDimension.bottom &gt; 0 &amp;&amp;\n                            elemDimension.right &gt; 0 &amp;&amp;\n                            elemDimension.top &lt; viewportDimension.height &amp;&amp;\n                            elemDimension.left &lt; viewportDimension.width)\n\n        elem = elem.parentNode\n    }\n\n    return isWithinViewport\n}\n</code></pre>\n\n<p>This piece of JS can actually be copied (almost) verbatim into your own codebase (remove <code>export default</code> and replace <code>const</code> with <code>var</code> in case of non-evergreen browsers)! To use it, read it from <code>File</code> into a <code>String</code> that can be sent by Selenium for running on the client.</p>\n\n<p>Another interesting and related script that might be worth looking into is <a href=\"https://github.com/webdriverio/webdriverio/blob/master/packages/webdriverio/src/commands/element/selectByVisibleText.js\" rel=\"noreferrer\">selectByVisibleText</a>.</p>\n\n<p>If you haven't executed JS using Selenium before you could have <a href=\"https://www.guru99.com/execute-javascript-selenium-webdriver.html\" rel=\"noreferrer\">a small peek into this</a> or browse the <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/JavascriptExecutor.html\" rel=\"noreferrer\">JavaScriptExecutor API</a>.</p>\n\n<p>Usually, try to always use non-blocking async scripts (meaning <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/JavascriptExecutor.html\" rel=\"noreferrer\">#executeAsyncScript</a>), but since we already have a synchronous, blocking script we might as well use the normal sync call.  The returned object can be many types of Object, so cast approprately. This could be one way of doing it:</p>\n\n<pre><code>/** \n * Demo of a java version of webdriverio's isDisplayedInViewport\n * https://github.com/webdriverio/webdriverio/blob/v5.0.0-beta.2/packages/webdriverio/src/commands/element/isDisplayedInViewport.js\n * The super class GuiTest just deals with setup of the driver and such\n */\nclass VisibleDemoTest extends GuiTest {\n    public static String readScript(String name) {\n        try {\n            File f = new File(\"selenium-scripts/\" + name + \".js\");\n            BufferedReader reader = new BufferedReader( new FileReader( file ) );\n            return reader.lines().collect(Collectors.joining(System.lineSeparator()));\n        } catch(IOError e){\n            throw new RuntimeError(\"No such Selenium script: \" + f.getAbsolutePath()); \n        }\n    }\n\n    public static Boolean isVisibleInViewport(RemoteElement e){\n        // according to the Webdriver spec a string that identifies an element\n        // should be deserialized into the corresponding web element,\n        // meaning the 'isDisplayedInViewport' function should receive the element, \n        // not just the string we passed to it originally - how this is done is not our concern\n        //\n        // This is probably when ELEMENT and ELEMENT_KEY refers to in the wd.io implementation\n        //\n        // Ref https://w3c.github.io/webdriver/#dfn-json-deserialize\n        return js.executeScript(readScript(\"isDisplayedInViewport\"), e.getId());\n    }\n\n    public static Boolean isVisibleInViewport(String xPath){\n        driver().findElementByXPath(\"//button[@id='should_be_visible']\");\n    }\n\n    @Test\n    public demo_isVisibleInViewport(){\n        // you can build all kinds of abstractions on top of the base method\n        // to make it more Selenium-ish using retries with timeouts, etc\n        assertTrue(isVisibleInViewport(\"//button[@id='should_be_visible']\"));\n        assertFalse(isVisibleInViewport(\"//button[@id='should_be_hidden']\"));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16872570,"reputation":613,"user_id":12200765,"display_name":"Sudheer Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620825964,"creation_date":1620825964,"answer_id":67504588,"question_id":2646195,"body_markdown":"If you are using page factory then you can try the below code for your reference:\r\n\r\n    public static boolean isElementVisible(WebElement webElement, int timeOut) {\r\n        try {\r\n          WebDriverWait wait = new WebDriverWait(driver, timeOut);\r\n          wait.until(ExpectedConditions.visibilityOf(webElement));\r\n          return true;\r\n        } catch (org.openqa.selenium.NoSuchElementException e) {\r\n          return false;\r\n        }\r\n      }","title":"How to check if an element is visible with WebDriver","body":"<p>If you are using page factory then you can try the below code for your reference:</p>\n<pre><code>public static boolean isElementVisible(WebElement webElement, int timeOut) {\n    try {\n      WebDriverWait wait = new WebDriverWait(driver, timeOut);\n      wait.until(ExpectedConditions.visibilityOf(webElement));\n      return true;\n    } catch (org.openqa.selenium.NoSuchElementException e) {\n      return false;\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6243661,"reputation":302,"user_id":4856382,"display_name":"Sandeep Dharembra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669630538,"creation_date":1669630538,"answer_id":74599066,"question_id":2646195,"body_markdown":"Answer from [oligofren][1] - the method isDisplayedInViewport works. Thanks for that. Helped me. Just have a couple of suggestions -\r\n\r\n1. It is fine to check for opacity, visibility and display for all the parent nodes for the element in question as these when set on parent can hide the element as well, however the dimensions can be checked for the element itself only. In my case, the topmost parent node of the element scrolled out of the viewport and the dimension check was not allowing the method to return true.\r\n2. For ensuring that the complete element comes to view instead of just the top of it, we can use height and width instead of x and y (top/left)\r\n\r\nI have used the following code based on what [oligofren][1] provided in his answer. I am passing the WebElement as an argument to the selenium execute_script method and reading it as elem\r\n\r\n        var elem = arguments[0]\r\n        const dde = document.documentElement\r\n        let isWithinViewport = true\r\n        var firstTime = true\r\n        while (elem.parentNode &amp;&amp; elem.parentNode.getBoundingClientRect) {\r\n            const elemDimension = elem.getBoundingClientRect()\r\n            const elemComputedStyle = window.getComputedStyle(elem)\r\n            const viewportDimension = {\r\n                width: dde.clientWidth,\r\n                height: dde.clientHeight\r\n            }\r\n            let dimCondition = true\r\n            if (firstTime){\r\n\r\n            dimCondition = dimCondition &amp;&amp; (elemDimension.bottom &gt; 0 &amp;&amp;\r\n                                elemDimension.right &gt; 0 &amp;&amp;\r\n                                (elemDimension.top + elemDimension.height) &lt; viewportDimension.height  &amp;&amp;\r\n                                (elemDimension.left + elemDimension.width) &lt; viewportDimension.width)\r\n            firstTime = false\r\n\r\n            }\r\n            isWithinViewport = isWithinViewport &amp;&amp; dimCondition &amp;&amp;\r\n                               (elemComputedStyle.display !== &#39;none&#39; &amp;&amp;\r\n                                elemComputedStyle.visibility === &#39;visible&#39; &amp;&amp;\r\n                                parseFloat(elemComputedStyle.opacity, 10) &gt; 0\r\n                                 )\r\n            console.log(isWithinViewport)\r\n            console.log(elem.nodeName)\r\n\r\n            elem = elem.parentNode\r\n        }\r\n        return isWithinViewport\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/200987/oligofren","title":"How to check if an element is visible with WebDriver","body":"<p>Answer from <a href=\"https://stackoverflow.com/users/200987/oligofren\">oligofren</a> - the method isDisplayedInViewport works. Thanks for that. Helped me. Just have a couple of suggestions -</p>\n<ol>\n<li>It is fine to check for opacity, visibility and display for all the parent nodes for the element in question as these when set on parent can hide the element as well, however the dimensions can be checked for the element itself only. In my case, the topmost parent node of the element scrolled out of the viewport and the dimension check was not allowing the method to return true.</li>\n<li>For ensuring that the complete element comes to view instead of just the top of it, we can use height and width instead of x and y (top/left)</li>\n</ol>\n<p>I have used the following code based on what <a href=\"https://stackoverflow.com/users/200987/oligofren\">oligofren</a> provided in his answer. I am passing the WebElement as an argument to the selenium execute_script method and reading it as elem</p>\n<pre><code>    var elem = arguments[0]\n    const dde = document.documentElement\n    let isWithinViewport = true\n    var firstTime = true\n    while (elem.parentNode &amp;&amp; elem.parentNode.getBoundingClientRect) {\n        const elemDimension = elem.getBoundingClientRect()\n        const elemComputedStyle = window.getComputedStyle(elem)\n        const viewportDimension = {\n            width: dde.clientWidth,\n            height: dde.clientHeight\n        }\n        let dimCondition = true\n        if (firstTime){\n\n        dimCondition = dimCondition &amp;&amp; (elemDimension.bottom &gt; 0 &amp;&amp;\n                            elemDimension.right &gt; 0 &amp;&amp;\n                            (elemDimension.top + elemDimension.height) &lt; viewportDimension.height  &amp;&amp;\n                            (elemDimension.left + elemDimension.width) &lt; viewportDimension.width)\n        firstTime = false\n\n        }\n        isWithinViewport = isWithinViewport &amp;&amp; dimCondition &amp;&amp;\n                           (elemComputedStyle.display !== 'none' &amp;&amp;\n                            elemComputedStyle.visibility === 'visible' &amp;&amp;\n                            parseFloat(elemComputedStyle.opacity, 10) &gt; 0\n                             )\n        console.log(isWithinViewport)\n        console.log(elem.nodeName)\n\n        elem = elem.parentNode\n    }\n    return isWithinViewport\n</code></pre>\n"}],"owner":{"account_id":71262,"reputation":20764,"user_id":206020,"accept_rate":89,"display_name":"ponzao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294647,"favorite_count":0,"down_vote_count":0,"up_vote_count":87,"accepted_answer_id":2646899,"answer_count":13,"score":87,"last_activity_date":1669630538,"creation_date":1271342098,"question_id":2646195,"body_markdown":"With `WebDriver` from Selenium 2.0a2 I am having trouble checking if an element is visible.\r\n\r\n`WebDriver.findElement` returns a `WebElement`, which unfortunately doesn&#39;t offer an `isVisible` method. I can go around this by using `WebElement.clear` or `WebElement.click` both of which throw an `ElementNotVisibleException`, but this feels very dirty.\r\n\r\nAny better ideas?","title":"How to check if an element is visible with WebDriver","body":"<p>With <code>WebDriver</code> from Selenium 2.0a2 I am having trouble checking if an element is visible.</p>\n\n<p><code>WebDriver.findElement</code> returns a <code>WebElement</code>, which unfortunately doesn't offer an <code>isVisible</code> method. I can go around this by using <code>WebElement.clear</code> or <code>WebElement.click</code> both of which throw an <code>ElementNotVisibleException</code>, but this feels very dirty.</p>\n\n<p>Any better ideas?</p>\n"},{"tags":["java","javascript","apache-poi","excel-2007","xssf"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1424948419,"post_id":28739168,"comment_id":45764644,"body_markdown":"You appear to be writing the POI workbook into a file. Shouldn&#39;t you be writing it to your http response stream so it goes to the browser?","body":"You appear to be writing the POI workbook into a file. Shouldn&#39;t you be writing it to your http response stream so it goes to the browser?"}],"answers":[{"comments":[{"owner":{"account_id":9206079,"reputation":71,"user_id":6841308,"display_name":"espajava"},"score":0,"creation_date":1669630603,"post_id":33632416,"comment_id":131677806,"body_markdown":"It&#39;s a very bad practice to create for every cell it&#39;s own CellStyle and/or Font, by the way Excel sheet has style and fonts limited, so an advice for whom will use this example, to create some global styles/fonts for workbook and reuse it.","body":"It&#39;s a very bad practice to create for every cell it&#39;s own CellStyle and/or Font, by the way Excel sheet has style and fonts limited, so an advice for whom will use this example, to create some global styles/fonts for workbook and reuse it."}],"tags":[],"owner":{"account_id":5077641,"reputation":65,"user_id":4074604,"accept_rate":80,"display_name":"pluralton"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1447165977,"creation_date":1447165977,"answer_id":33632416,"question_id":28739168,"body_markdown":"Here is my own sollution, I forgot to add it when I solved the issue:\r\n\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    import org.apache.commons.collections.CollectionUtils;\r\n    import org.apache.poi.ss.usermodel.CellStyle;\r\n    import org.apache.poi.ss.usermodel.CreationHelper;\r\n    import org.apache.poi.ss.usermodel.Font;\r\n    import org.apache.poi.ss.usermodel.RichTextString;\r\n    import org.apache.poi.ss.usermodel.Workbook;\r\n    import org.apache.poi.xssf.usermodel.XSSFCell;\r\n    import org.apache.poi.xssf.usermodel.XSSFRow;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\n    import address.Class1;\r\n    import address.Class2;\r\n\r\n    public class CreateTable {\r\n\r\n\tpublic void newTableCompare(Class1 class1, Class1 class2,\r\n\t\t\tReportDcResultViewDto resultDto, OutputStream outputStream)\r\n\t\t\tthrows FileNotFoundException, IOException {\r\n\t\t\r\n\t\tWorkbook wb = new XSSFWorkbook();\r\n\r\n\t\tXSSFSheet sheet = (XSSFSheet) wb.createSheet();\r\n\t\tint rowCount = 1;\r\n\t\tint columnCount = 7;\r\n\t\tArrayList&lt;String&gt; columnNames = new ArrayList&lt;String&gt;();\r\n\r\n\t\tcolumnNames.add(&quot;filename&quot;);\r\n\t\tcolumnNames.add(&quot;type&quot;);\r\n\t\tcolumnNames.add(&quot;created by&quot;);\r\n\t\tcolumnNames.add(&quot;modified by&quot;);\r\n\t\tcolumnNames.add(&quot;modification date&quot;);\r\n\t\tcolumnNames.add(class1.getName());\r\n\t\tcolumnNames.add(class2.getName());\r\n\r\n\t\tCreationHelper creationHelper = wb.getCreationHelper();\r\n\t\t// Create\r\n\t\tXSSFRow rowHeader = sheet.createRow(0);\r\n\t\tfor (int j = 0; j &lt; columnCount; j++) {\r\n\t\t\t// create first row\r\n\t\t\tXSSFCell cell = rowHeader.createCell(j);\r\n\t\t\tRichTextString richString = creationHelper\r\n\t\t\t\t\t.createRichTextString(columnNames.get(j));\r\n\t\t\tFont font = wb.createFont();\r\n\t\t\tfont.setBold(true);\r\n\t\t\trichString.applyFont(font);\r\n\r\n\t\t\tcell.setCellValue(richString);\r\n\t\t\tCellStyle style = wb.createCellStyle();\r\n\t\t\tstyle.setFont(font);\r\n\r\n\t\t\tcell.setCellStyle(style);\r\n\t\t}\r\n\r\n\t\tif (CollectionUtils.isNotEmpty(resultDto\r\n\t\t\t\t.getClass1ExclusiveViewDtos())) {\r\n\t\t\tfor (ReportDcResultViewExclusiveDto dto : resultDto\r\n\t\t\t\t\t.getClass1ExclusiveViewDtos()) {\r\n\r\n\t\t\t\tXSSFRow row = sheet.createRow(rowCount);\r\n\t\t\t\tfor (int j = 0; j &lt; columnCount; j++) {\r\n\t\t\t\t\tXSSFCell cell = row.createCell(j);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tswitch (j) {\r\n\t\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\t\tcell.setCellValue(dto.getFile().getFilename());\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t\tcell.setCellValue(dto.getFile().getType()\r\n\t\t\t\t\t\t\t\t\t.toString());\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t\tcell.setCellValue(dto.getFile().getCreatedBy()\r\n\t\t\t\t\t\t\t\t\t.getUsername());\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\t\tcell.setCellValue(dto.getModification().getUser()\r\n\t\t\t\t\t\t\t\t\t.getUsername());\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\t\tcell.setCellValue(dto.getModification().getDate().toString());\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 5:\r\n\t\t\t\t\t\t\tcell.setCellValue(&quot;yes&quot;);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 6:\r\n\t\t\t\t\t\t\tcell.setCellValue(&quot; &quot;);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tcell.setCellValue(&quot;Missing&quot;);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n                    rowCount++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n            for (int k = 0; k &lt; columnCount; k++) {\r\n\t\t\t\tsheet.autoSizeColumn(k);\r\n        }\r\n\t\tSystem.out.println(&quot;check rowCount: current=&quot;+rowCount);\r\n\t\twb.write(outputStream);\r\n\t\toutputStream.close();\r\n\t\twb.close(); \r\n\t}\r\n    }\r\n\r\nI hope this will be of use to somebody. ","title":"Apache poi XSSF Creating Excel Files - Create returns empty file with format or file extension not valid?","body":"<p>Here is my own sollution, I forgot to add it when I solved the issue:</p>\n\n<pre><code>import java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.apache.commons.collections.CollectionUtils;\nimport org.apache.poi.ss.usermodel.CellStyle;\nimport org.apache.poi.ss.usermodel.CreationHelper;\nimport org.apache.poi.ss.usermodel.Font;\nimport org.apache.poi.ss.usermodel.RichTextString;\nimport org.apache.poi.ss.usermodel.Workbook;\nimport org.apache.poi.xssf.usermodel.XSSFCell;\nimport org.apache.poi.xssf.usermodel.XSSFRow;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport address.Class1;\nimport address.Class2;\n\npublic class CreateTable {\n\npublic void newTableCompare(Class1 class1, Class1 class2,\n        ReportDcResultViewDto resultDto, OutputStream outputStream)\n        throws FileNotFoundException, IOException {\n\n    Workbook wb = new XSSFWorkbook();\n\n    XSSFSheet sheet = (XSSFSheet) wb.createSheet();\n    int rowCount = 1;\n    int columnCount = 7;\n    ArrayList&lt;String&gt; columnNames = new ArrayList&lt;String&gt;();\n\n    columnNames.add(\"filename\");\n    columnNames.add(\"type\");\n    columnNames.add(\"created by\");\n    columnNames.add(\"modified by\");\n    columnNames.add(\"modification date\");\n    columnNames.add(class1.getName());\n    columnNames.add(class2.getName());\n\n    CreationHelper creationHelper = wb.getCreationHelper();\n    // Create\n    XSSFRow rowHeader = sheet.createRow(0);\n    for (int j = 0; j &lt; columnCount; j++) {\n        // create first row\n        XSSFCell cell = rowHeader.createCell(j);\n        RichTextString richString = creationHelper\n                .createRichTextString(columnNames.get(j));\n        Font font = wb.createFont();\n        font.setBold(true);\n        richString.applyFont(font);\n\n        cell.setCellValue(richString);\n        CellStyle style = wb.createCellStyle();\n        style.setFont(font);\n\n        cell.setCellStyle(style);\n    }\n\n    if (CollectionUtils.isNotEmpty(resultDto\n            .getClass1ExclusiveViewDtos())) {\n        for (ReportDcResultViewExclusiveDto dto : resultDto\n                .getClass1ExclusiveViewDtos()) {\n\n            XSSFRow row = sheet.createRow(rowCount);\n            for (int j = 0; j &lt; columnCount; j++) {\n                XSSFCell cell = row.createCell(j);\n\n                    switch (j) {\n                    case 0:\n                        cell.setCellValue(dto.getFile().getFilename());\n                        break;\n                    case 1:\n                        cell.setCellValue(dto.getFile().getType()\n                                .toString());\n                        break;\n                    case 2:\n                        cell.setCellValue(dto.getFile().getCreatedBy()\n                                .getUsername());\n                        break;\n                    case 3:\n                        cell.setCellValue(dto.getModification().getUser()\n                                .getUsername());\n                        break;\n                    case 4:\n                        cell.setCellValue(dto.getModification().getDate().toString());\n                        break;\n                    case 5:\n                        cell.setCellValue(\"yes\");\n                        break;\n                    case 6:\n                        cell.setCellValue(\" \");\n                        break;\n                    default:\n                        cell.setCellValue(\"Missing\");\n                        break;\n                    }\n                }\n                rowCount++;\n            }\n        }\n        for (int k = 0; k &lt; columnCount; k++) {\n            sheet.autoSizeColumn(k);\n    }\n    System.out.println(\"check rowCount: current=\"+rowCount);\n    wb.write(outputStream);\n    outputStream.close();\n    wb.close(); \n}\n}\n</code></pre>\n\n<p>I hope this will be of use to somebody. </p>\n"}],"owner":{"account_id":5077641,"reputation":65,"user_id":4074604,"accept_rate":80,"display_name":"pluralton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5672,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":33632416,"answer_count":1,"score":2,"last_activity_date":1669630524,"creation_date":1424944385,"question_id":28739168,"body_markdown":"The relevant part of the Controller class:\r\n\r\n    @RequestMapping(value = &quot;/DBCompare/download&quot;, method = RequestMethod.GET)\r\n    public void handleDownloadDBCompareReportGet(HttpServletResponse response, Model model){\r\n    try{\r\n    reportService.downloadResultsDto(reportDto);\r\n    }\r\n    finally{ \r\n    }\r\n    }\r\n\r\nThe ReportService in this case only fetches some information from the database, and calls newTableCompare() from the CreateTable class.\r\n\r\n\r\nThe following class should create a new Excel table, workbook, ect. \r\n\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import org.apache.poi.ss.usermodel.Workbook;\r\n    import org.apache.poi.ss.util.AreaReference;\r\n    import org.apache.poi.ss.util.CellReference;\r\n    import org.apache.poi.xssf.usermodel.XSSFCell;\r\n    import org.apache.poi.xssf.usermodel.XSSFRow;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFTable;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.CTTable;\r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.CTTableColumn;\r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.CTTableColumns;\r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.CTTableStyleInfo;\r\n\r\n\r\n    public class CreateTable {\r\n        \r\n    public void newTableCompare(Class1 c1, Class1 c2) throws FileNotFoundException, \r\n    IOException {\r\n    String tableName = &quot;DB compare report for &quot; + c1.getName() + &quot;and&quot; +c2.getName();\r\n    Workbook wb = new XSSFWorkbook();\r\n    XSSFSheet sheet = (XSSFSheet) wb.createSheet();\r\n        \r\n    XSSFTable table = sheet.createTable();\r\n    table.setDisplayName(&quot;Test&quot;);       \r\n    CTTable cttable = table.getCTTable();\r\n        \r\n    CTTableStyleInfo style = cttable.addNewTableStyleInfo();\r\n    style.setName(&quot;TableStyle1&quot;);\r\n    style.setShowColumnStripes(true);\r\n    style.setShowRowStripes(true);\r\n        \r\n    AreaReference reference = new AreaReference(new CellReference(0, 0), \r\n                new CellReference(2,2));\r\n    cttable.setRef(reference.formatAsString());\r\n    cttable.setId(1);\r\n    cttable.setName(&quot;Test&quot;);\r\n    cttable.setTotalsRowCount(1);\r\n        \r\n    CTTableColumns columns = cttable.addNewTableColumns();\r\n    columns.setCount(3);\r\n    CTTableColumn column;\r\n    XSSFRow row;\r\n    XSSFCell cell;\r\n    for(int i=0; i&lt;3; i++) {\r\n    column = columns.addNewTableColumn();\r\n    column.setName(&quot;Column&quot;);\r\n    column.setId(i+1);\r\n    row = sheet.createRow(i);\r\n    for(int j=0; j&lt;3; j++) {\r\n    \r\n    cell = row.createCell(j);\r\n    if(i == 0) {\r\n    cell.setCellValue(&quot;Column&quot;+j);\r\n    } else {\r\n    cell.setCellValue(&quot;0&quot;);\r\n    }\r\n    }\r\n    }\r\n    //this correctly creates a table in workbook\r\n    FileOutputStream fos = new FileOutputStream(&quot;workbook.xlsx&quot;);\r\n    wb.write(fos);\r\n    fos.close();\r\n    wb.close();\r\n\r\n    }\r\n    }\r\nBut in the end, when download is triggered, the result is only an empty file and if I try to open it with Excel, format or file extension not valid error is shown. Does anybody know how to fix this or what I am doing wrong?\r\n\r\n\r\n----------\r\nIn the end I did find out what I have been doing wrong.","title":"Apache poi XSSF Creating Excel Files - Create returns empty file with format or file extension not valid?","body":"<p>The relevant part of the Controller class:</p>\n\n<pre><code>@RequestMapping(value = \"/DBCompare/download\", method = RequestMethod.GET)\npublic void handleDownloadDBCompareReportGet(HttpServletResponse response, Model model){\ntry{\nreportService.downloadResultsDto(reportDto);\n}\nfinally{ \n}\n}\n</code></pre>\n\n<p>The ReportService in this case only fetches some information from the database, and calls newTableCompare() from the CreateTable class.</p>\n\n<p>The following class should create a new Excel table, workbook, ect. </p>\n\n<pre><code>import java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport org.apache.poi.ss.usermodel.Workbook;\nimport org.apache.poi.ss.util.AreaReference;\nimport org.apache.poi.ss.util.CellReference;\nimport org.apache.poi.xssf.usermodel.XSSFCell;\nimport org.apache.poi.xssf.usermodel.XSSFRow;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFTable;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.openxmlformats.schemas.spreadsheetml.x2006.main.CTTable;\nimport org.openxmlformats.schemas.spreadsheetml.x2006.main.CTTableColumn;\nimport org.openxmlformats.schemas.spreadsheetml.x2006.main.CTTableColumns;\nimport org.openxmlformats.schemas.spreadsheetml.x2006.main.CTTableStyleInfo;\n\n\npublic class CreateTable {\n\npublic void newTableCompare(Class1 c1, Class1 c2) throws FileNotFoundException, \nIOException {\nString tableName = \"DB compare report for \" + c1.getName() + \"and\" +c2.getName();\nWorkbook wb = new XSSFWorkbook();\nXSSFSheet sheet = (XSSFSheet) wb.createSheet();\n\nXSSFTable table = sheet.createTable();\ntable.setDisplayName(\"Test\");       \nCTTable cttable = table.getCTTable();\n\nCTTableStyleInfo style = cttable.addNewTableStyleInfo();\nstyle.setName(\"TableStyle1\");\nstyle.setShowColumnStripes(true);\nstyle.setShowRowStripes(true);\n\nAreaReference reference = new AreaReference(new CellReference(0, 0), \n            new CellReference(2,2));\ncttable.setRef(reference.formatAsString());\ncttable.setId(1);\ncttable.setName(\"Test\");\ncttable.setTotalsRowCount(1);\n\nCTTableColumns columns = cttable.addNewTableColumns();\ncolumns.setCount(3);\nCTTableColumn column;\nXSSFRow row;\nXSSFCell cell;\nfor(int i=0; i&lt;3; i++) {\ncolumn = columns.addNewTableColumn();\ncolumn.setName(\"Column\");\ncolumn.setId(i+1);\nrow = sheet.createRow(i);\nfor(int j=0; j&lt;3; j++) {\n\ncell = row.createCell(j);\nif(i == 0) {\ncell.setCellValue(\"Column\"+j);\n} else {\ncell.setCellValue(\"0\");\n}\n}\n}\n//this correctly creates a table in workbook\nFileOutputStream fos = new FileOutputStream(\"workbook.xlsx\");\nwb.write(fos);\nfos.close();\nwb.close();\n\n}\n}\n</code></pre>\n\n<p>But in the end, when download is triggered, the result is only an empty file and if I try to open it with Excel, format or file extension not valid error is shown. Does anybody know how to fix this or what I am doing wrong?</p>\n\n<hr>\n\n<p>In the end I did find out what I have been doing wrong.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1669627355,"post_id":74598329,"comment_id":131676699,"body_markdown":"Sounds like you want to lazy load the relationships","body":"Sounds like you want to lazy load the relationships"},{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1669629052,"post_id":74598329,"comment_id":131677264,"body_markdown":"You will find a lot of posts on this performance strategy you can start with in this one : https://stackoverflow.com/questions/32453989/what-is-the-solution-for-the-n1-issue-in-jpa-and-hibernate","body":"You will find a lot of posts on this performance strategy you can start with in this one : <a href=\"https://stackoverflow.com/questions/32453989/what-is-the-solution-for-the-n1-issue-in-jpa-and-hibernate\" title=\"what is the solution for the n1 issue in jpa and hibernate\">stackoverflow.com/questions/32453989/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669630151,"creation_date":1669629808,"answer_id":74598930,"question_id":74598329,"body_markdown":"1) use Hibernate Second-Level Cache\r\n2) Lazy loading\r\n3) @Batch","title":"How to use JPA Hibernate with tons of coupled entities","body":"<ol>\n<li>use Hibernate Second-Level Cache</li>\n<li>Lazy loading</li>\n<li>@Batch</li>\n</ol>\n"}],"owner":{"account_id":8566524,"reputation":73,"user_id":6418839,"display_name":"JLopez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669630151,"creation_date":1669626822,"question_id":74598329,"body_markdown":"I&#39;m working in a project and we have tons of data for each call that we are doing from the front-end to the back-end.\r\n\r\nThe thing is that we have a really huge database and we have tons of coupled entities.\r\n\r\nFor example, we have to bring the user, but it has an &quot;address&quot; object with a lot of information, and also this has a &quot;city&quot; object with more information, and then we have &quot;zip code&quot; same and so...\r\n\r\nThe thing is that we are facing some performance issues when we have some concurrent users. We are creating a query for each user, and then another one for each address, and then another one for each city... The thing is that when we are getting all the users all this nested objects, even if it&#39;s the same city, we create a SQL for each user.\r\n\r\nCan we use something in hibernate to improve this performance?\r\n\r\nThank you so much\r\nBest regards","title":"How to use JPA Hibernate with tons of coupled entities","body":"<p>I'm working in a project and we have tons of data for each call that we are doing from the front-end to the back-end.</p>\n<p>The thing is that we have a really huge database and we have tons of coupled entities.</p>\n<p>For example, we have to bring the user, but it has an &quot;address&quot; object with a lot of information, and also this has a &quot;city&quot; object with more information, and then we have &quot;zip code&quot; same and so...</p>\n<p>The thing is that we are facing some performance issues when we have some concurrent users. We are creating a query for each user, and then another one for each address, and then another one for each city... The thing is that when we are getting all the users all this nested objects, even if it's the same city, we create a SQL for each user.</p>\n<p>Can we use something in hibernate to improve this performance?</p>\n<p>Thank you so much\nBest regards</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1669622558,"post_id":74596744,"comment_id":131675291,"body_markdown":"Might be obsolete, though I can&#39;t really tell. https://vladmihalcea.com/hibernate-dialect/ - what you can do however, is to copy the code from earlier versions and create your own dialect from it","body":"Might be obsolete, though I can&#39;t really tell. <a href=\"https://vladmihalcea.com/hibernate-dialect/\" rel=\"nofollow noreferrer\">vladmihalcea.com/hibernate-dialect</a> - what you can do however, is to copy the code from earlier versions and create your own dialect from it"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669629878,"creation_date":1669628835,"answer_id":74598725,"question_id":74596744,"body_markdown":"The CUBRID dialect still exists, but you need to add the `org.hibernate.orm:hibernate-community-dialects` dependency, and use the dialect name `org.hibernate.community.dialect.CUBRIDDialect`. You can find the sources in the [`hibernate-community-dialects` module on GitHub][1].\r\n\r\nThe Hibernate project decided to only support a small number of dialects in hibernate-core, and move the rest to hibernate-community-dialects, with the expectation that they are either improved by the community and/or database vendor, or split off (forked) to their own dependency.\r\n\r\nSee also [Community dialects](https://github.com/hibernate/hibernate-orm/blob/main/dialects.adoc#community-dialects):\r\n\r\n&gt; As of Hibernate 6.0, the Hibernate team decided to provide a clear way\r\n&gt; forward for community contributed dialects. The `hibernate-core`\r\n&gt; artifact had many legacy dialects before 6.0 that were only tested and\r\n&gt; maintained on a best effort basis.\r\n&gt; \r\n&gt; [..]\r\n&gt; \r\n&gt; Issues with dialects in the `hibernate-community-dialects` are usually\r\n&gt; not considered by the Hibernate team, as the community is responsible\r\n&gt; for providing fixes and improving the dialects for newer database\r\n&gt; versions or ORM capabilities.\r\n\r\nAnd the [Artifact for community-dialects][2] GitHub discussion and JIRA issue [HHH-14693][3].\r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-orm/tree/main/hibernate-community-dialects\r\n  [2]: https://github.com/hibernate/hibernate-orm/discussions/3783\r\n  [3]: https://hibernate.atlassian.net/browse/HHH-14693","title":"Why is there no CUBRID dialect in Hibernate 6.x versions?","body":"<p>The CUBRID dialect still exists, but you need to add the <code>org.hibernate.orm:hibernate-community-dialects</code> dependency, and use the dialect name <code>org.hibernate.community.dialect.CUBRIDDialect</code>. You can find the sources in the <a href=\"https://github.com/hibernate/hibernate-orm/tree/main/hibernate-community-dialects\" rel=\"nofollow noreferrer\"><code>hibernate-community-dialects</code> module on GitHub</a>.</p>\n<p>The Hibernate project decided to only support a small number of dialects in hibernate-core, and move the rest to hibernate-community-dialects, with the expectation that they are either improved by the community and/or database vendor, or split off (forked) to their own dependency.</p>\n<p>See also <a href=\"https://github.com/hibernate/hibernate-orm/blob/main/dialects.adoc#community-dialects\" rel=\"nofollow noreferrer\">Community dialects</a>:</p>\n<blockquote>\n<p>As of Hibernate 6.0, the Hibernate team decided to provide a clear way\nforward for community contributed dialects. The <code>hibernate-core</code>\nartifact had many legacy dialects before 6.0 that were only tested and\nmaintained on a best effort basis.</p>\n<p>[..]</p>\n<p>Issues with dialects in the <code>hibernate-community-dialects</code> are usually\nnot considered by the Hibernate team, as the community is responsible\nfor providing fixes and improving the dialects for newer database\nversions or ORM capabilities.</p>\n</blockquote>\n<p>And the <a href=\"https://github.com/hibernate/hibernate-orm/discussions/3783\" rel=\"nofollow noreferrer\">Artifact for community-dialects</a> GitHub discussion and JIRA issue <a href=\"https://hibernate.atlassian.net/browse/HHH-14693\" rel=\"nofollow noreferrer\">HHH-14693</a>.</p>\n"}],"owner":{"account_id":27069449,"reputation":13,"user_id":20620291,"display_name":"Dongmin kim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":447,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74598725,"answer_count":1,"score":1,"last_activity_date":1669629878,"creation_date":1669616730,"question_id":74596744,"body_markdown":"Hibernate version [5.6](https://github.com/hibernate/hibernate-orm/blob/5.6/hibernate-core/src/main/java/org/hibernate/dialect/CUBRIDDialect.java) has a CUBRID dialect. Why is there no CUBRID dialect in [Hibernate 6.0](https://github.com/hibernate/hibernate-orm/tree/6.0/hibernate-core/src/main/java/org/hibernate/dialect) and later versions? \r\n\r\nI want to modify CUBRID Dialect, but can&#39;t I reflect it in the latest version?\r\n\r\nI checked the JIRA issues, but I couldn&#39;t get the information.\r\n","title":"Why is there no CUBRID dialect in Hibernate 6.x versions?","body":"<p>Hibernate version <a href=\"https://github.com/hibernate/hibernate-orm/blob/5.6/hibernate-core/src/main/java/org/hibernate/dialect/CUBRIDDialect.java\" rel=\"nofollow noreferrer\">5.6</a> has a CUBRID dialect. Why is there no CUBRID dialect in <a href=\"https://github.com/hibernate/hibernate-orm/tree/6.0/hibernate-core/src/main/java/org/hibernate/dialect\" rel=\"nofollow noreferrer\">Hibernate 6.0</a> and later versions?</p>\n<p>I want to modify CUBRID Dialect, but can't I reflect it in the latest version?</p>\n<p>I checked the JIRA issues, but I couldn't get the information.</p>\n"},{"tags":["java","java-time","epoch","datetime-conversion","localdatetime"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666514283,"post_id":74169445,"comment_id":130951471,"body_markdown":"Do not use `LocalDateTime` for a point in time. It does not work. Stick to the `ZonedDateTime` you get from `atZone()`. You can use it for everyting that you can use a `LocalDateTime` for and more. If you need to call an API that requires a `LocalDateTime`,  then pass `yourZonedDateTime.toLocalDateTime()` to it.","body":"Do not use <code>LocalDateTime</code> for a point in time. It does not work. Stick to the <code>ZonedDateTime</code> you get from <code>atZone()</code>. You can use it for everyting that you can use a <code>LocalDateTime</code> for and more. If you need to call an API that requires a <code>LocalDateTime</code>,  then pass <code>yourZonedDateTime.toLocalDateTime()</code> to it."}],"answers":[{"comments":[{"owner":{"account_id":25542844,"reputation":21,"user_id":19328644,"display_name":"Alex"},"score":0,"creation_date":1666518114,"post_id":74169511,"comment_id":130951991,"body_markdown":"Yes, right you are. Its just for example. In fact its gonna be real micros.","body":"Yes, right you are. Its just for example. In fact its gonna be real micros."},{"owner":{"account_id":25542844,"reputation":21,"user_id":19328644,"display_name":"Alex"},"score":0,"creation_date":1666595616,"post_id":74169511,"comment_id":130965602,"body_markdown":"@dan1st But how about formatting it? When I write like this: LocalDateTime localDateTime = LocalDateTime.parse(LocalDateTime.ofInstant(Instant.ofEpochMilli(dateTime), ZoneId.systemDefault()).format(dateTimeFormatter));  It still returning parse exception.","body":"@dan1st But how about formatting it? When I write like this: LocalDateTime localDateTime = LocalDateTime.parse(LocalDateTime.ofInstant(Instant.ofEpochM&zwnj;&#8203;illi(dateTime), ZoneId.systemDefault()).format(dateTimeFormatter));  It still returning parse exception."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1666603611,"post_id":74169511,"comment_id":130968104,"body_markdown":"Don&#39;t use `LocalDateTime.parse` here. If you want to print it, you can use `.format`.","body":"Don&#39;t use <code>LocalDateTime.parse</code> here. If you want to print it, you can use <code>.format</code>."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1669577925,"post_id":74169511,"comment_id":131667977,"body_markdown":"@ArvindKumarAvinash I was talking about converting microseconds to milliseconds, not the other way.","body":"@ArvindKumarAvinash I was talking about converting microseconds to milliseconds, not the other way."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1669578559,"post_id":74169511,"comment_id":131668110,"body_markdown":"If one has 5 seconds in microseconds, they&#39;d have `5_000_000` microseconds. In order to convert that to milliseconds, one needs to divide it by 1000 so they get `5_000` milliseconds that can be used in `Instant.ofEpochMilli`. I was talking about converting milliseconds to an `Instant`. What should be wrong about that (apart from my typo)?","body":"If one has 5 seconds in microseconds, they&#39;d have <code>5_000_000</code> microseconds. In order to convert that to milliseconds, one needs to divide it by 1000 so they get <code>5_000</code> milliseconds that can be used in <code>Instant.ofEpochMilli</code>. I was talking about converting milliseconds to an <code>Instant</code>. What should be wrong about that (apart from my typo)?"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1669624424,"post_id":74169511,"comment_id":131675827,"body_markdown":"As I had said in my previous comment (which I deleted later because I had mentioned the wrong calculation in hurry), it&#39;s a great answer. There is no problem with division but I strongly recommend using `TimeUnit.MILLISECONDS.convert(timestamp-in-mircoseconds, TimeUnit.MICROSECONDS)`.","body":"As I had said in my previous comment (which I deleted later because I had mentioned the wrong calculation in hurry), it&#39;s a great answer. There is no problem with division but I strongly recommend using <code>TimeUnit.MILLISECONDS.convert(timestamp-in-mircoseconds, TimeUnit.MICROSECONDS)</code>."}],"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669629740,"creation_date":1666511883,"answer_id":74169511,"question_id":74169445,"body_markdown":"Don&#39;t convert your `ZonedDateTime` to a `String` and back to a `LocalDateTime`.\r\n\r\nInstead, use what the API provides.\r\nIn your case, [LocalDateTime.ofInstant](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/LocalDateTime.html#ofInstant(java.time.Instant,java.time.ZoneId)) seems to be just what you need:\r\n\r\n```java\r\nLocalDateTime localDateTime = LocalDateTime.ofInstant(Instant.ofEpochMilli(dateTime), ZoneId.systemDefault());\r\n```\r\n\r\nAside from that, you meantioned that the timestamp has the type `logical-timestamp-micros`. `Instant.ofEpochMilli` requires milliseconds. If your `long` is actually the time in microseconds, you might want to divide it by 1000 before using it in `Instant.ofEpochMilli`. Alternatively, the `TimeUnit` class can do that conversion for you as [pointed out in the comments](https://stackoverflow.com/questions/74169445/how-to-convert-long-to-localdatetime/74169511?noredirect=1#comment131675827_74169511) by @[Arvind Kumar Avinash](https://stackoverflow.com/users/10819573/arvind-kumar-avinash) like the following:\r\n`TimeUnit.MILLISECONDS.convert(milliTime, TimeUnit.MICROSECONDS)`\r\n\r\nIf you care about preserving microseconds, you can use `Instant.EPOCH.plus(timeMicros, ChronoUnit.MICROS)` for obtaining the `Instant` instead of using `Instant.ofEpochMilli` as suggested in the comments by [Ole V. V.](https://stackoverflow.com/users/5772882/ole-v-v) (the comment has been deleted). See [this answer](https://stackoverflow.com/a/57419228/10871900) for details on that.\r\n\r\nBoth methods assume the timestamp being in microseconds since January 1st, 1970 (the UNIX-Epoch).","title":"How to convert long to LocalDateTime?","body":"<p>Don't convert your <code>ZonedDateTime</code> to a <code>String</code> and back to a <code>LocalDateTime</code>.</p>\n<p>Instead, use what the API provides.\nIn your case, <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/LocalDateTime.html#ofInstant(java.time.Instant,java.time.ZoneId)\" rel=\"nofollow noreferrer\">LocalDateTime.ofInstant</a> seems to be just what you need:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime localDateTime = LocalDateTime.ofInstant(Instant.ofEpochMilli(dateTime), ZoneId.systemDefault());\n</code></pre>\n<p>Aside from that, you meantioned that the timestamp has the type <code>logical-timestamp-micros</code>. <code>Instant.ofEpochMilli</code> requires milliseconds. If your <code>long</code> is actually the time in microseconds, you might want to divide it by 1000 before using it in <code>Instant.ofEpochMilli</code>. Alternatively, the <code>TimeUnit</code> class can do that conversion for you as <a href=\"https://stackoverflow.com/questions/74169445/how-to-convert-long-to-localdatetime/74169511?noredirect=1#comment131675827_74169511\">pointed out in the comments</a> by @<a href=\"https://stackoverflow.com/users/10819573/arvind-kumar-avinash\">Arvind Kumar Avinash</a> like the following:\n<code>TimeUnit.MILLISECONDS.convert(milliTime, TimeUnit.MICROSECONDS)</code></p>\n<p>If you care about preserving microseconds, you can use <code>Instant.EPOCH.plus(timeMicros, ChronoUnit.MICROS)</code> for obtaining the <code>Instant</code> instead of using <code>Instant.ofEpochMilli</code> as suggested in the comments by <a href=\"https://stackoverflow.com/users/5772882/ole-v-v\">Ole V. V.</a> (the comment has been deleted). See <a href=\"https://stackoverflow.com/a/57419228/10871900\">this answer</a> for details on that.</p>\n<p>Both methods assume the timestamp being in microseconds since January 1st, 1970 (the UNIX-Epoch).</p>\n"}],"owner":{"account_id":25542844,"reputation":21,"user_id":19328644,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":913,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74169511,"answer_count":1,"score":0,"last_activity_date":1669629740,"creation_date":1666511214,"question_id":74169445,"body_markdown":"I get this field from kafka that use avro schema: \r\n\r\n    long dateTime = 1499070300000L;  //value is just for example, but have to be micros \r\n\r\nIt has logicalType: &quot;logical-timestamp-micros&quot;\r\n\r\nAnd I have this kind of Dto:\r\n\r\n    @JsonFormat(pattern = &quot;dd.MM.yy HH:mm:ss&quot;)\r\n      private LocalDateTime time;\r\n\r\nAnd I am trying to convert field dateTime to be currentDateTime field format:\r\n\r\n    long dateTime = 1499070300000L;\r\n            DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;dd.MM.yy HH:mm:ss&quot;);\r\n            LocalDateTime localDateTime = LocalDateTime.parse(Instant.ofEpochMilli(dateTime)\r\n                    .atZone(ZoneId.systemDefault())\r\n                    .format(dateTimeFormatter));\r\n    \r\nBut I am getting this error: \r\n\r\n    Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;03.07.17 11:25:00&#39; could not be parsed at index 0\r\n\r\nWhere am I doing wrong?\r\n\r\n","title":"How to convert long to LocalDateTime?","body":"<p>I get this field from kafka that use avro schema:</p>\n<pre><code>long dateTime = 1499070300000L;  //value is just for example, but have to be micros \n</code></pre>\n<p>It has logicalType: &quot;logical-timestamp-micros&quot;</p>\n<p>And I have this kind of Dto:</p>\n<pre><code>@JsonFormat(pattern = &quot;dd.MM.yy HH:mm:ss&quot;)\n  private LocalDateTime time;\n</code></pre>\n<p>And I am trying to convert field dateTime to be currentDateTime field format:</p>\n<pre><code>long dateTime = 1499070300000L;\n        DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;dd.MM.yy HH:mm:ss&quot;);\n        LocalDateTime localDateTime = LocalDateTime.parse(Instant.ofEpochMilli(dateTime)\n                .atZone(ZoneId.systemDefault())\n                .format(dateTimeFormatter));\n</code></pre>\n<p>But I am getting this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text '03.07.17 11:25:00' could not be parsed at index 0\n</code></pre>\n<p>Where am I doing wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1669629002,"post_id":74598734,"comment_id":131677250,"body_markdown":"the `class` attribute looks like it&#39;s using some autogenerated name. That is not a reliable way to identify that input field since that name will change.","body":"the <code>class</code> attribute looks like it&#39;s using some autogenerated name. That is not a reliable way to identify that input field since that name will change."}],"answers":[{"tags":[],"owner":{"account_id":10164332,"reputation":399,"user_id":11119684,"display_name":"Bas van der Linden"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669629572,"creation_date":1669629256,"answer_id":74598804,"question_id":74598734,"body_markdown":"The easiest way to do so is via the url when you perform driver.get(...).\r\n\r\nLook at the google url for `german shepards`: https://www.google.com/search?q=german+shepards .\r\n\r\nIf you want to go the google.com and type in the search box you need to perform a better xpath query then by class name. As mentioned by @f1sh this is because google generates the class names (for scope based css). For me the following works for the search bar.\r\n\r\n```python\r\nsearch_bar : WebElement = driver.get_element(By.XPATH, &quot;//input[@title=&#39;Search&#39;]&quot;)\r\n\r\n# then you can perform the send_keys\r\nsearch_bar.send_keys(...)\r\n```\r\n\r\n\r\n\r\nGood Luck!","title":"How about searching Google with Selenium?","body":"<p>The easiest way to do so is via the url when you perform driver.get(...).</p>\n<p>Look at the google url for <code>german shepards</code>: <a href=\"https://www.google.com/search?q=german+shepards\" rel=\"nofollow noreferrer\">https://www.google.com/search?q=german+shepards</a> .</p>\n<p>If you want to go the google.com and type in the search box you need to perform a better xpath query then by class name. As mentioned by @f1sh this is because google generates the class names (for scope based css). For me the following works for the search bar.</p>\n<pre class=\"lang-py prettyprint-override\"><code>search_bar : WebElement = driver.get_element(By.XPATH, &quot;//input[@title='Search']&quot;)\n\n# then you can perform the send_keys\nsearch_bar.send_keys(...)\n</code></pre>\n<p>Good Luck!</p>\n"},{"comments":[{"owner":{"account_id":10164332,"reputation":399,"user_id":11119684,"display_name":"Bas van der Linden"},"score":0,"creation_date":1669631981,"post_id":74598896,"comment_id":131678284,"body_markdown":"sendKeys(....) is not the problem. `findElements` is your problem. Read my answer carefully. After too many google searches, google give you captchas. Maybe you are getting blocked by those?","body":"sendKeys(....) is not the problem. <code>findElements</code> is your problem. Read my answer carefully. After too many google searches, google give you captchas. Maybe you are getting blocked by those?"},{"owner":{"account_id":10164332,"reputation":399,"user_id":11119684,"display_name":"Bas van der Linden"},"score":0,"creation_date":1669632059,"post_id":74598896,"comment_id":131678307,"body_markdown":"Also try debugging your code. Don&#39;t directly use sendKeys(...) but first do findElement, and print some values that belong to the element, to see if you have the correct WebElement.","body":"Also try debugging your code. Don&#39;t directly use sendKeys(...) but first do findElement, and print some values that belong to the element, to see if you have the correct WebElement."}],"tags":[],"owner":{"account_id":27032086,"reputation":29,"user_id":20588290,"display_name":"wowcode"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669629657,"creation_date":1669629657,"answer_id":74598896,"question_id":74598734,"body_markdown":"I think the problem is not the search text because I tried too many terms and it didn&#39;t work.\r\ndriver.findElement(By.xpath(&quot;//input[@class=&#39;desktopOldAutosuggestTheme-UyU36RyhCTcuRs_sXL9b&#39;]&quot;)).sendKeys(&quot;HBCV00000ODHHV&quot;); \r\n\tdriver.findElement(By.xpath(&quot;//input[@class=&#39;desktopOldAutosuggestTheme-UyU36RyhCTcuRs_sXL9b&#39;]&quot;)).sendKeys(Keys.ENTER);\r\n\r\nthese are just an example on different sites. I tried id class type as xpath in every way, but it didn&#39;t write the text I wrote in the search bar.\r\n","title":"How about searching Google with Selenium?","body":"<p>I think the problem is not the search text because I tried too many terms and it didn't work.\ndriver.findElement(By.xpath(&quot;//input[@class='desktopOldAutosuggestTheme-UyU36RyhCTcuRs_sXL9b']&quot;)).sendKeys(&quot;HBCV00000ODHHV&quot;);\n   driver.findElement(By.xpath(&quot;//input[@class='desktopOldAutosuggestTheme-UyU36RyhCTcuRs_sXL9b']&quot;)).sendKeys(Keys.ENTER);</p>\n<p>these are just an example on different sites. I tried id class type as xpath in every way, but it didn't write the text I wrote in the search bar.</p>\n"}],"owner":{"account_id":27032086,"reputation":29,"user_id":20588290,"display_name":"wowcode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1669629657,"creation_date":1669628915,"question_id":74598734,"body_markdown":"I want to search something on Google using Selenium chromedriver and enter it. I can normally do this within the site, but I couldn&#39;t type it into google. What code can we use for this?\r\n\r\n\r\ndriver.findElement(By.xpath(&quot;//input[@class=&#39;desktopOldAutosuggestTheme-UyU36RyhCTcuRs_sXL9b&#39;]&quot;)).sendKeys(&quot;HBCV00000ODHHV&quot;); \r\n\r\nFakat olmadı. ","title":"How about searching Google with Selenium?","body":"<p>I want to search something on Google using Selenium chromedriver and enter it. I can normally do this within the site, but I couldn't type it into google. What code can we use for this?</p>\n<p>driver.findElement(By.xpath(&quot;//input[@class='desktopOldAutosuggestTheme-UyU36RyhCTcuRs_sXL9b']&quot;)).sendKeys(&quot;HBCV00000ODHHV&quot;);</p>\n<p>Fakat olmadı.</p>\n"},{"tags":["java","spring","kotlin","range","http-range"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1606737433,"post_id":59787159,"comment_id":115042670,"body_markdown":"Are you able to pass the header as-is? It *sounds* like that may be enough. Otherwise: &quot;inspect the Range header and extract the values&quot; -- what are you looking for here in the case of open-ended ranges? How are you looking to transform them?","body":"Are you able to pass the header as-is? It <i>sounds</i> like that may be enough. Otherwise: &quot;inspect the Range header and extract the values&quot; -- what are you looking for here in the case of open-ended ranges? How are you looking to transform them?"}],"answers":[{"tags":[],"owner":{"account_id":1590496,"reputation":1304,"user_id":1473907,"accept_rate":73,"display_name":"mcacorner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669629034,"creation_date":1669629034,"answer_id":74598754,"question_id":59787159,"body_markdown":"You can try this:\r\n\r\n    HttpHeaders rangeHeaders = new ServletServerHttpRequest(httpRequest).getHeaders();\r\n    List&lt;HttpRange&gt; ranges = rangeHeaders.getRange();\r\n\r\nRefer: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpHeaders.html#getRange()\r\n","title":"Parsing and using the HTTP Range header with Spring","body":"<p>You can try this:</p>\n<pre><code>HttpHeaders rangeHeaders = new ServletServerHttpRequest(httpRequest).getHeaders();\nList&lt;HttpRange&gt; ranges = rangeHeaders.getRange();\n</code></pre>\n<p>Refer: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpHeaders.html#getRange()\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpHeaders.html#getRange()</a></p>\n"}],"owner":{"account_id":1268903,"reputation":21459,"user_id":1225617,"accept_rate":44,"display_name":"Adam Millerchip"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":834,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1669629034,"creation_date":1579263279,"question_id":59787159,"body_markdown":"I&#39;m writing a Spring controller that needs to accept the `Range` header, use the values there to request some data using a 3rd-party library, then return the result.\r\n\r\nThe Spring [`HttpRange`](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/HttpRange.html) class looks promising, specifically the [`parseRanges`](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/HttpRange.html#parseRanges-java.lang.String-) function, which says:\r\n&gt; Parse the given, comma-separated string into a list of `HttpRange` objects.\r\n&gt;\r\n&gt; This method can be used to parse an [sic] Range header.\r\n\r\nHowever, this class doesn&#39;t provide any interface to extract the parsed values without knowing the &quot;the total length of a representation&quot;.\r\n\r\nGiven I am handling a request which I&#39;ll forward to another API, I don&#39;t know the total length.\r\n\r\nIs there a standard Spring way to inspect the Range header and extract the values without knowing the length? I want to avoid writing a custom parser if possible.","title":"Parsing and using the HTTP Range header with Spring","body":"<p>I'm writing a Spring controller that needs to accept the <code>Range</code> header, use the values there to request some data using a 3rd-party library, then return the result.</p>\n\n<p>The Spring <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/HttpRange.html\" rel=\"nofollow noreferrer\"><code>HttpRange</code></a> class looks promising, specifically the <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/HttpRange.html#parseRanges-java.lang.String-\" rel=\"nofollow noreferrer\"><code>parseRanges</code></a> function, which says:</p>\n\n<blockquote>\n  <p>Parse the given, comma-separated string into a list of <code>HttpRange</code> objects.</p>\n  \n  <p>This method can be used to parse an [sic] Range header.</p>\n</blockquote>\n\n<p>However, this class doesn't provide any interface to extract the parsed values without knowing the \"the total length of a representation\".</p>\n\n<p>Given I am handling a request which I'll forward to another API, I don't know the total length.</p>\n\n<p>Is there a standard Spring way to inspect the Range header and extract the values without knowing the length? I want to avoid writing a custom parser if possible.</p>\n"},{"tags":["java","android","c++","android-ndk","android-source"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1669624672,"post_id":74597900,"comment_id":131675906,"body_markdown":"Did you check with `nm` that your .so file has public symbols that correspond to the native method?","body":"Did you check with <code>nm</code> that your .so file has public symbols that correspond to the native method?"},{"owner":{"account_id":23417617,"reputation":1,"user_id":17478333,"display_name":"S Tung"},"score":0,"creation_date":1669626022,"post_id":74597900,"comment_id":131676290,"body_markdown":"Yes. $ nm -D .so | grep &quot;nativeClassInit&quot;  I think java call JNI is no problem, but native code call getMethodID() is fail.","body":"Yes. $ nm -D .so | grep &quot;nativeClassInit&quot;  I think java call JNI is no problem, but native code call getMethodID() is fail."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1669626153,"post_id":74597900,"comment_id":131676332,"body_markdown":"Please edit your question with the output. Also, are you checking the generated library or the contents of the APK?","body":"Please edit your question with the output. Also, are you checking the generated library or the contents of the APK?"},{"owner":{"account_id":23417617,"reputation":1,"user_id":17478333,"display_name":"S Tung"},"score":0,"creation_date":1669626379,"post_id":74597900,"comment_id":131676402,"body_markdown":"I check /system/lib/.so and /system/lib64/.so How to check the contents of the APK?","body":"I check /system/lib/.so and /system/lib64/.so How to check the contents of the APK?"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1669626483,"post_id":74597900,"comment_id":131676429,"body_markdown":"You can just `unzip` it","body":"You can just <code>unzip</code> it"},{"owner":{"account_id":23417617,"reputation":1,"user_id":17478333,"display_name":"S Tung"},"score":0,"creation_date":1669626780,"post_id":74597900,"comment_id":131676517,"body_markdown":"No TestLib.so inside the APK. Is this a problem?","body":"No TestLib.so inside the APK. Is this a problem?"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1669626828,"post_id":74597900,"comment_id":131676536,"body_markdown":"It would have to be `libTestLib.so`, and yes. If it is not present your code cannot load it.","body":"It would have to be <code>libTestLib.so</code>, and yes. If it is not present your code cannot load it."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1669627378,"post_id":74597900,"comment_id":131676708,"body_markdown":"Oh wait, you actually get an error from inside the native code.. :facepalm: I would double-check that the proguard keep rules are being applied then.","body":"Oh wait, you actually get an error from inside the native code.. :facepalm: I would double-check that the proguard keep rules are being applied then."},{"owner":{"account_id":23417617,"reputation":1,"user_id":17478333,"display_name":"S Tung"},"score":0,"creation_date":1669628051,"post_id":74597900,"comment_id":131676933,"body_markdown":"The App is a system App. Why the app cannot load from /system/lib64/?","body":"The App is a system App. Why the app cannot load from /system/lib64/?"}],"owner":{"account_id":23417617,"reputation":1,"user_id":17478333,"display_name":"S Tung"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669628462,"creation_date":1669624299,"question_id":74597900,"body_markdown":"Building the APK from the Android Studio have no problem. Which is using Android.mk. I use ndk-build to build the TestLib.so\r\n\r\nI want to move the code to AOSP. It builds successfully, but a runtime error occurs.\r\n\r\nError message:\r\n\r\n    AndroidRuntime: java.lang.NoSuchMethodError: no non-static method `&quot;Lcom/example/TestTool;.nativeCompleteCallback([B)V&quot;`\r\n\r\nAndroid.bp:\r\n\r\n    cc_library_shared {\r\n        name: &quot;TestLib&quot;,\r\n        srcs: [\r\n            &quot;jni/*.cc&quot;,\r\n        ],\r\n        arch: {\r\n            arm: {\r\n                instruction_set: &quot;arm&quot;,\r\n            },\r\n        },\r\n    }\r\n    android_app {\r\n        name: &quot;Test_APP&quot;,\r\n    \r\n        srcs: [\r\n            &quot;src/**/*.java&quot;,\r\n        ],\r\n        product_specific: false,\r\n        platform_apis: true,\r\n    \r\n        certificate: &quot;platform&quot;,\r\n        \r\n        resource_dirs: [&quot;src/main/res&quot;],\r\n    \r\n        asset_dirs: [&quot;src/main/assets&quot;],\r\n    \r\n        required: [&quot;TestLib&quot;], \r\n        jni_libs: [&quot;TestLib&quot;],\r\n        static_libs: [],\r\n        \r\n        optimize: {\r\n            proguard_flags_files: [&quot;proguard.cfg&quot;],\r\n        },\r\n        \r\n    }\r\n\r\nJava code:\r\n\r\n    public class TestTool {\r\n    \r\n        private final static String LOG_TAG = &quot;TestTool&quot;;\r\n    \r\n        static {\r\n            Log.d(LOG_TAG, &quot;loadLibrary&quot;);\r\n            System.loadLibrary(&quot;TestLib&quot;);\r\n            nativeClassInit();\r\n        }\r\n        ...\r\n        private void nativeCompleteCallback(byte[] testData) {\r\n            Log.d(LOG_TAG, &quot;native Complete Callback&quot;);\r\n            ...\r\n        }\r\n        ...\r\n        private static native final boolean nativeClassInit();\r\n    }\r\n\r\nJNI code:\r\n\r\n    JNIEXPORT jboolean JNICALL Java_com_example_TestTool_nativeClassInit(JNIEnv * env, jclass cls) {\r\n        METHOD_nativeSynthCallback = env-&gt;GetMethodID(cls, &quot;nativeCompleteCallback&quot;,&quot;([B)V&quot;);\r\n        return JNI_TRUE;\r\n    }\r\n\r\nI try to proguard.cfg. But it doesn&#39;t fix the problem.\r\n\r\n    -keepclassmembers class * extends com.example.TestTool { \r\n        private void nativeCompleteCallback(byte[]);\r\n    }\r\n\r\nI have verified the /system/lib64/TestLib.so and /system/lib/TestLib.so have public symbols that correspond to the native method:\r\n\r\n    $ nm -D TestLib.so | grep &quot;nativeClassInit&quot;\r\n\r\n","title":"Call getMethodID() got NoSuchMethodError from JNI in AOSP. Build apk from android studio have no problem","body":"<p>Building the APK from the Android Studio have no problem. Which is using Android.mk. I use ndk-build to build the TestLib.so</p>\n<p>I want to move the code to AOSP. It builds successfully, but a runtime error occurs.</p>\n<p>Error message:</p>\n<pre><code>AndroidRuntime: java.lang.NoSuchMethodError: no non-static method `&quot;Lcom/example/TestTool;.nativeCompleteCallback([B)V&quot;`\n</code></pre>\n<p>Android.bp:</p>\n<pre><code>cc_library_shared {\n    name: &quot;TestLib&quot;,\n    srcs: [\n        &quot;jni/*.cc&quot;,\n    ],\n    arch: {\n        arm: {\n            instruction_set: &quot;arm&quot;,\n        },\n    },\n}\nandroid_app {\n    name: &quot;Test_APP&quot;,\n\n    srcs: [\n        &quot;src/**/*.java&quot;,\n    ],\n    product_specific: false,\n    platform_apis: true,\n\n    certificate: &quot;platform&quot;,\n    \n    resource_dirs: [&quot;src/main/res&quot;],\n\n    asset_dirs: [&quot;src/main/assets&quot;],\n\n    required: [&quot;TestLib&quot;], \n    jni_libs: [&quot;TestLib&quot;],\n    static_libs: [],\n    \n    optimize: {\n        proguard_flags_files: [&quot;proguard.cfg&quot;],\n    },\n    \n}\n</code></pre>\n<p>Java code:</p>\n<pre><code>public class TestTool {\n\n    private final static String LOG_TAG = &quot;TestTool&quot;;\n\n    static {\n        Log.d(LOG_TAG, &quot;loadLibrary&quot;);\n        System.loadLibrary(&quot;TestLib&quot;);\n        nativeClassInit();\n    }\n    ...\n    private void nativeCompleteCallback(byte[] testData) {\n        Log.d(LOG_TAG, &quot;native Complete Callback&quot;);\n        ...\n    }\n    ...\n    private static native final boolean nativeClassInit();\n}\n</code></pre>\n<p>JNI code:</p>\n<pre><code>JNIEXPORT jboolean JNICALL Java_com_example_TestTool_nativeClassInit(JNIEnv * env, jclass cls) {\n    METHOD_nativeSynthCallback = env-&gt;GetMethodID(cls, &quot;nativeCompleteCallback&quot;,&quot;([B)V&quot;);\n    return JNI_TRUE;\n}\n</code></pre>\n<p>I try to proguard.cfg. But it doesn't fix the problem.</p>\n<pre><code>-keepclassmembers class * extends com.example.TestTool { \n    private void nativeCompleteCallback(byte[]);\n}\n</code></pre>\n<p>I have verified the /system/lib64/TestLib.so and /system/lib/TestLib.so have public symbols that correspond to the native method:</p>\n<pre><code>$ nm -D TestLib.so | grep &quot;nativeClassInit&quot;\n</code></pre>\n"},{"tags":["java","android","postgresql","jdbc"],"comments":[{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1596451218,"post_id":63226859,"comment_id":111805637,"body_markdown":"Jar is not loaded from classpath or jar is missing","body":"Jar is not loaded from classpath or jar is missing"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1596452941,"post_id":63226859,"comment_id":111806355,"body_markdown":"You shouldn&#39;t use JDBC drivers from Android. JDBC drivers are developed for Java and the Java Virtual Machine and can expect classes that are not available on Android (in this case `java.lang.management.ManagementFactory`). if you want to connect to a database from Android, it is advisable to use a (rest) service (eg written in Java) to mediate between your Android application and the database.","body":"You shouldn&#39;t use JDBC drivers from Android. JDBC drivers are developed for Java and the Java Virtual Machine and can expect classes that are not available on Android (in this case <code>java.lang.management.ManagementFactory</code>). if you want to connect to a database from Android, it is advisable to use a (rest) service (eg written in Java) to mediate between your Android application and the database."},{"owner":{"account_id":8187862,"reputation":297,"user_id":6163123,"display_name":"Marco Giovanni"},"score":0,"creation_date":1636553607,"post_id":63226859,"comment_id":123587805,"body_markdown":"What version of driver are you using?","body":"What version of driver are you using?"}],"answers":[{"comments":[{"owner":{"account_id":2511958,"reputation":1442,"user_id":2184214,"accept_rate":57,"display_name":"JJJones_3860"},"score":0,"creation_date":1693674448,"post_id":72061073,"comment_id":135793009,"body_markdown":"Not sure why this was down-voted. I did exactly what he said, changed my dependencies in my build.gradle to &#39;org.postgresql:postgresql:42.2.5&#39; and it started working right away with only that change. I was referencing &#39;42.3.1&#39;.","body":"Not sure why this was down-voted. I did exactly what he said, changed my dependencies in my build.gradle to &#39;org.postgresql:postgresql:42.2.5&#39; and it started working right away with only that change. I was referencing &#39;42.3.1&#39;."}],"tags":[],"owner":{"account_id":12658245,"reputation":11,"user_id":17919073,"display_name":"GGaiteiro"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1651260742,"creation_date":1651250017,"answer_id":72061073,"question_id":63226859,"body_markdown":"Same problem using version 42.3.4. In [this blog post](https://medium.com/cyber-explorer/how-to-connect-an-android-project-to-a-postgresql-database-663cb0f5ba19), they are using 42.2.5 with success. I changed to 42.2.5 JDBC 42 and could connect.","title":"Error of connection jdbc postgreSQL Android Studio - Failed resolution of: Ljava/lang/management/ManagementFactory;","body":"<p>Same problem using version 42.3.4. In <a href=\"https://medium.com/cyber-explorer/how-to-connect-an-android-project-to-a-postgresql-database-663cb0f5ba19\" rel=\"nofollow noreferrer\">this blog post</a>, they are using 42.2.5 with success. I changed to 42.2.5 JDBC 42 and could connect.</p>\n"},{"tags":[],"owner":{"account_id":25996693,"reputation":1,"user_id":19707947,"display_name":"Angel Gonz&#225;lez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659816262,"creation_date":1659816262,"answer_id":73262940,"question_id":63226859,"body_markdown":"The web page https://jdbc.postgresql.org/download.html mentions that the latest versions of JDBC 4 do not implement all methods.\r\n\r\n&gt; JDK 8 - JDBC 4.2 Support for JDBC4 methods is not complete, but the majority of methods are implemented.\r\n\r\nIn my case I tried using the JDBC 4.2.9 version https://jdbc.postgresql.org/download/postgresql-42.2.9.jar.\r\n\r\nAdd the **postgresql-42.2.9.jar** file to the libs folder: **MyApplication\\app\\libs**\r\n\r\nAnd explicitly specify the version in the file: **build.gradle**\r\n\r\n    dependencies {\r\n         implementation &#39;org.postgresql:postgresql:42.2.9&#39;\r\n    }","title":"Error of connection jdbc postgreSQL Android Studio - Failed resolution of: Ljava/lang/management/ManagementFactory;","body":"<p>The web page <a href=\"https://jdbc.postgresql.org/download.html\" rel=\"nofollow noreferrer\">https://jdbc.postgresql.org/download.html</a> mentions that the latest versions of JDBC 4 do not implement all methods.</p>\n<blockquote>\n<p>JDK 8 - JDBC 4.2 Support for JDBC4 methods is not complete, but the majority of methods are implemented.</p>\n</blockquote>\n<p>In my case I tried using the JDBC 4.2.9 version <a href=\"https://jdbc.postgresql.org/download/postgresql-42.2.9.jar\" rel=\"nofollow noreferrer\">https://jdbc.postgresql.org/download/postgresql-42.2.9.jar</a>.</p>\n<p>Add the <strong>postgresql-42.2.9.jar</strong> file to the libs folder: <strong>MyApplication\\app\\libs</strong></p>\n<p>And explicitly specify the version in the file: <strong>build.gradle</strong></p>\n<pre><code>dependencies {\n     implementation 'org.postgresql:postgresql:42.2.9'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27071455,"reputation":1,"user_id":20622055,"display_name":"pPamaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669628338,"creation_date":1669628338,"answer_id":74598622,"question_id":63226859,"body_markdown":"Many thanks guys ;)\r\n\r\nAfter a lot of reading I have found the way. Let me to summarise it ;)\r\n\r\nAs ***Angel*** wrote (many many thanks)\r\nAdd the **postgresql-42.2.9.jar** file to the libs folder: **MyApplication\\app\\libs**\r\n\r\nAnd explicitly specify the version in the file: **build.gradle**\r\n\r\n    dependencies {\r\n         implementation &#39;org.postgresql:postgresql:42.2.9&#39;\r\n    }\r\n\r\nThen in the app:\r\n\r\n1) Need to enable Strict Mode\r\n\r\n        val policy = ThreadPolicy.Builder().permitAll().build()\r\n        StrictMode.setThreadPolicy(policy)\r\n\r\n2) set variables for connection\r\n\r\n        val jdbcUrl = &quot;jdbc:postgresql://x.x.x.x:5432/DatabaseName&quot;\r\n        val user = &quot;user&quot;\r\n        val password = &quot;password&quot;\r\n\r\n3) connect\r\n\r\n        val connection = DriverManager\r\n            .getConnection(jdbcUrl, user, password)\r\n\r\n\r\n\r\n","title":"Error of connection jdbc postgreSQL Android Studio - Failed resolution of: Ljava/lang/management/ManagementFactory;","body":"<p>Many thanks guys ;)</p>\n<p>After a lot of reading I have found the way. Let me to summarise it ;)</p>\n<p>As <em><strong>Angel</strong></em> wrote (many many thanks)\nAdd the <strong>postgresql-42.2.9.jar</strong> file to the libs folder: <strong>MyApplication\\app\\libs</strong></p>\n<p>And explicitly specify the version in the file: <strong>build.gradle</strong></p>\n<pre><code>dependencies {\n     implementation 'org.postgresql:postgresql:42.2.9'\n}\n</code></pre>\n<p>Then in the app:</p>\n<ol>\n<li><p>Need to enable Strict Mode</p>\n<pre><code> val policy = ThreadPolicy.Builder().permitAll().build()\n StrictMode.setThreadPolicy(policy)\n</code></pre>\n</li>\n<li><p>set variables for connection</p>\n<pre><code> val jdbcUrl = &quot;jdbc:postgresql://x.x.x.x:5432/DatabaseName&quot;\n val user = &quot;user&quot;\n val password = &quot;password&quot;\n</code></pre>\n</li>\n<li><p>connect</p>\n<pre><code> val connection = DriverManager\n     .getConnection(jdbcUrl, user, password)\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":18772631,"reputation":53,"user_id":13689138,"display_name":"Raza Char"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1952,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1669628338,"creation_date":1596446777,"question_id":63226859,"body_markdown":"I don&#39;t understand why the code doesn&#39;t works on Android, it&#39;s the same code in Java and it&#39;s works on my laptop. I&#39;ve already search on Google, Stackoverflow, and Youtube, but I didn&#39;t find the reason. On all Youtube tutorials, this type of code works on android.\r\nExample : https://www.youtube.com/watch?v=lM2vDPPx4Xg or https://www.youtube.com/watch?v=MnmEXqfV5BU\r\n\r\n\r\n\r\nHere is the code :\r\n\r\n```\r\n@Override\r\n    protected Void doInBackground(Void... voids) {\r\n        try{\r\n            Class c=Class.forName(&quot;org.postgresql.Driver&quot;);\r\n            Driver driver=(Driver) c.newInstance();\r\n            DriverManager.registerDriver(driver);\r\n            String url=&quot;jdbc:postgresql://url?sslmode=verify-ca&amp;sslfactory=org.postgresql.ssl.DefaultJavaSSLFactory&quot;;\r\n            String username=&quot;username&quot;;\r\n            String password=&quot;pwd&quot;;\r\n\r\n            this.conn=DriverManager.getConnection(url,username,password);\r\n\r\n            //statement for make request\r\n            this.stmt=this.conn.createStatement();\r\n            System.out.println(&quot;Connect&#233; !&quot;);\r\n            conn_load=false;\r\n        }catch (Exception e){\r\n            System.out.println(&quot;Connexion problem&quot;);\r\n            System.out.println(e.getCause());\r\n        }\r\n        return null;\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\nIn the windows terminal the code works but not on android :\r\n\r\n\r\n```\r\nCaused by: java.lang.NoClassDefFoundError: Failed resolution of: Ljava/lang/management/ManagementFactory;\r\n        at org.postgresql.util.PGPropertyMaxResultBufferParser.adjustResultSize(PGPropertyMaxResultBufferParser.java:200)\r\n        at org.postgresql.util.PGPropertyMaxResultBufferParser.parseProperty(PGPropertyMaxResultBufferParser.java:37)\r\n        at org.postgresql.core.PGStream.setMaxResultBuffer(PGStream.java:643)\r\n        at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:102)\r\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:197)\r\n        at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\r\n        at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:217)\r\n        at org.postgresql.Driver.makeConnection(Driver.java:458)\r\n        at org.postgresql.Driver.connect(Driver.java:260)\r\n        at java.sql.DriverManager.getConnection(DriverManager.java:569)\r\n        at java.sql.DriverManager.getConnection(DriverManager.java:219)\r\n        at com.devoteam.recrutement.model.bdd.BDD.doInBackground(BDD.java:54)\r\n        at com.devoteam.recrutement.model.bdd.BDD.doInBackground(BDD.java:12)\r\n        at android.os.AsyncTask$2.call(AsyncTask.java:333)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:245)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n        at java.lang.Thread.run(Thread.java:764)&#160;\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;java.lang.management.ManagementFactory&quot; on path: DexPathList[[zip file &quot;/data/app/com.devoteam.recrutement-B8V00xTM4oetyFeYswlxVQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.devoteam.recrutement-B8V00xTM4oetyFeYswlxVQ==/lib/arm, /system/lib]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:134)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at org.postgresql.util.PGPropertyMaxResultBufferParser.adjustResultSize(PGPropertyMaxResultBufferParser.java:200)&#160;\r\n        at org.postgresql.util.PGPropertyMaxResultBufferParser.parseProperty(PGPropertyMaxResultBufferParser.java:37)&#160;\r\n        at org.postgresql.core.PGStream.setMaxResultBuffer(PGStream.java:643)&#160;\r\n        at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:102)&#160;\r\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:197)&#160;\r\n        at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)&#160;\r\n        at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:217)&#160;\r\n        at org.postgresql.Driver.makeConnection(Driver.java:458)&#160;\r\n        at org.postgresql.Driver.connect(Driver.java:260)&#160;\r\n        at java.sql.DriverManager.getConnection(DriverManager.java:569)&#160;\r\n        at java.sql.DriverManager.getConnection(DriverManager.java:219)&#160;\r\n        at com.devoteam.recrutement.model.bdd.BDD.doInBackground(BDD.java:54)&#160;\r\n        at com.devoteam.recrutement.model.bdd.BDD.doInBackground(BDD.java:12)&#160;\r\n        at android.os.AsyncTask$2.call(AsyncTask.java:333)&#160;\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)&#160;\r\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:245)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n        at java.lang.Thread.run(Thread.java:764)&#160;\r\n```\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=lM2vDPPx4Xg","title":"Error of connection jdbc postgreSQL Android Studio - Failed resolution of: Ljava/lang/management/ManagementFactory;","body":"<p>I don't understand why the code doesn't works on Android, it's the same code in Java and it's works on my laptop. I've already search on Google, Stackoverflow, and Youtube, but I didn't find the reason. On all Youtube tutorials, this type of code works on android.\nExample : <a href=\"https://www.youtube.com/watch?v=lM2vDPPx4Xg\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=lM2vDPPx4Xg</a> or <a href=\"https://www.youtube.com/watch?v=MnmEXqfV5BU\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=MnmEXqfV5BU</a></p>\n<p>Here is the code :</p>\n<pre><code>@Override\n    protected Void doInBackground(Void... voids) {\n        try{\n            Class c=Class.forName(&quot;org.postgresql.Driver&quot;);\n            Driver driver=(Driver) c.newInstance();\n            DriverManager.registerDriver(driver);\n            String url=&quot;jdbc:postgresql://url?sslmode=verify-ca&amp;sslfactory=org.postgresql.ssl.DefaultJavaSSLFactory&quot;;\n            String username=&quot;username&quot;;\n            String password=&quot;pwd&quot;;\n\n            this.conn=DriverManager.getConnection(url,username,password);\n\n            //statement for make request\n            this.stmt=this.conn.createStatement();\n            System.out.println(&quot;Connecté !&quot;);\n            conn_load=false;\n        }catch (Exception e){\n            System.out.println(&quot;Connexion problem&quot;);\n            System.out.println(e.getCause());\n        }\n        return null;\n    }\n\n</code></pre>\n<p>In the windows terminal the code works but not on android :</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Ljava/lang/management/ManagementFactory;\n        at org.postgresql.util.PGPropertyMaxResultBufferParser.adjustResultSize(PGPropertyMaxResultBufferParser.java:200)\n        at org.postgresql.util.PGPropertyMaxResultBufferParser.parseProperty(PGPropertyMaxResultBufferParser.java:37)\n        at org.postgresql.core.PGStream.setMaxResultBuffer(PGStream.java:643)\n        at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:102)\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:197)\n        at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\n        at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:217)\n        at org.postgresql.Driver.makeConnection(Driver.java:458)\n        at org.postgresql.Driver.connect(Driver.java:260)\n        at java.sql.DriverManager.getConnection(DriverManager.java:569)\n        at java.sql.DriverManager.getConnection(DriverManager.java:219)\n        at com.devoteam.recrutement.model.bdd.BDD.doInBackground(BDD.java:54)\n        at com.devoteam.recrutement.model.bdd.BDD.doInBackground(BDD.java:12)\n        at android.os.AsyncTask$2.call(AsyncTask.java:333)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:245) \n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) \n        at java.lang.Thread.run(Thread.java:764) \n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;java.lang.management.ManagementFactory&quot; on path: DexPathList[[zip file &quot;/data/app/com.devoteam.recrutement-B8V00xTM4oetyFeYswlxVQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.devoteam.recrutement-B8V00xTM4oetyFeYswlxVQ==/lib/arm, /system/lib]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:134)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at org.postgresql.util.PGPropertyMaxResultBufferParser.adjustResultSize(PGPropertyMaxResultBufferParser.java:200) \n        at org.postgresql.util.PGPropertyMaxResultBufferParser.parseProperty(PGPropertyMaxResultBufferParser.java:37) \n        at org.postgresql.core.PGStream.setMaxResultBuffer(PGStream.java:643) \n        at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:102) \n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:197) \n        at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) \n        at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:217) \n        at org.postgresql.Driver.makeConnection(Driver.java:458) \n        at org.postgresql.Driver.connect(Driver.java:260) \n        at java.sql.DriverManager.getConnection(DriverManager.java:569) \n        at java.sql.DriverManager.getConnection(DriverManager.java:219) \n        at com.devoteam.recrutement.model.bdd.BDD.doInBackground(BDD.java:54) \n        at com.devoteam.recrutement.model.bdd.BDD.doInBackground(BDD.java:12) \n        at android.os.AsyncTask$2.call(AsyncTask.java:333) \n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) \n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:245) \n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) \n        at java.lang.Thread.run(Thread.java:764) \n</code></pre>\n"},{"tags":["java","bpmn","flowable"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19775,"user_id":1115491,"display_name":"Filip"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1629621982,"creation_date":1629621982,"answer_id":68879758,"question_id":68623233,"body_markdown":"Collecting variables from a multi instance is a problem that has been in Flowable (and other similar engines for a while).\r\n\r\nYour proposed solution with \r\n\r\n```\r\n&lt;flowable:out source=&quot;SUB_OUTPUT_VAR&quot; target=&quot;OUTPUT_VAR_${loopCounter}&quot;&gt;&lt;/flowable:out&gt;\r\n```\r\n\r\nHowever, in the upcoming 6.7.0 release. There will be a better solution for this. You would be able to use Variable Aggregations.\r\n\r\ne.g.\r\n\r\nYou would be able to define the output as \r\n\r\n```\r\n&lt;flowable:out source=&quot;SUB_OUTPUT_VAR&quot; target=&quot;OUTPUT_VAR&quot;&gt;&lt;/flowable:out&gt;\r\n```\r\n\r\nand then in the `multiInstanceLoopCharacteristics` you can define something like:\r\n\r\n```\r\n&lt;multiInstanceLoopCharacteristics isSequential=&quot;false&quot; flowable:collection=&quot;SOME_COLLECTION&quot; flowable:elementVariable=&quot;SOME_ELEMENT&gt;\r\n    &lt;extensionElements&gt;\r\n        &lt;flowable:variableAggregation target=&quot;outputResult&quot;&gt;\r\n            &lt;variable source=&quot;OUTPUT_VAR&quot; target=&quot;OUTPUT_VAR&quot;&gt;&lt;/variable&gt;\r\n        &lt;/flowable:variableAggregation&gt;\r\n    &lt;/extensionElements&gt;\r\n&lt;/multiInstanceLoopCharacteristics&gt;\r\n```\r\n\r\nDoing this it will create a JSON Array result with the following structure:\r\n\r\n```\r\n{\r\n    &quot;OUTPUT_VAR&quot;: &quot;result&quot;\r\n}\r\n```","title":"Flowable Multi Instance Call Activity - Output Parameters","body":"<p>Collecting variables from a multi instance is a problem that has been in Flowable (and other similar engines for a while).</p>\n<p>Your proposed solution with</p>\n<pre><code>&lt;flowable:out source=&quot;SUB_OUTPUT_VAR&quot; target=&quot;OUTPUT_VAR_${loopCounter}&quot;&gt;&lt;/flowable:out&gt;\n</code></pre>\n<p>However, in the upcoming 6.7.0 release. There will be a better solution for this. You would be able to use Variable Aggregations.</p>\n<p>e.g.</p>\n<p>You would be able to define the output as</p>\n<pre><code>&lt;flowable:out source=&quot;SUB_OUTPUT_VAR&quot; target=&quot;OUTPUT_VAR&quot;&gt;&lt;/flowable:out&gt;\n</code></pre>\n<p>and then in the <code>multiInstanceLoopCharacteristics</code> you can define something like:</p>\n<pre><code>&lt;multiInstanceLoopCharacteristics isSequential=&quot;false&quot; flowable:collection=&quot;SOME_COLLECTION&quot; flowable:elementVariable=&quot;SOME_ELEMENT&gt;\n    &lt;extensionElements&gt;\n        &lt;flowable:variableAggregation target=&quot;outputResult&quot;&gt;\n            &lt;variable source=&quot;OUTPUT_VAR&quot; target=&quot;OUTPUT_VAR&quot;&gt;&lt;/variable&gt;\n        &lt;/flowable:variableAggregation&gt;\n    &lt;/extensionElements&gt;\n&lt;/multiInstanceLoopCharacteristics&gt;\n</code></pre>\n<p>Doing this it will create a JSON Array result with the following structure:</p>\n<pre><code>{\n    &quot;OUTPUT_VAR&quot;: &quot;result&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":1360570,"reputation":5882,"user_id":1298028,"accept_rate":85,"display_name":"Łukasz Rzeszotarski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1000,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68879758,"answer_count":1,"score":1,"last_activity_date":1669628220,"creation_date":1627914103,"question_id":68623233,"body_markdown":"Having the following definition in my BPMN model (Flowable Engine):\r\n\r\n    &lt;callActivity id=&quot;111-example-111&quot; name=&quot;CALLING_SUBPROCESS_MULTIINSTANCE&quot; calledElement=&quot;SOME_SUBPROCESS&quot; flowable:calledElementType=&quot;key&quot; flowable:fallbackToDefaultTenant=&quot;false&quot;&gt;\r\n    &lt;extensionElement&gt;\r\n        &lt;flowable:in source=&quot;INPUT_VAR&quot; target=&quot;SUB_INPUT_VAR&quot;&gt;&lt;/flowable:in&gt;\r\n        &lt;flowable:out source=&quot;SUB_OUTPUT_VAR&quot; target=&quot;OUTPUT_VAR&quot;&gt;&lt;/flowable:out&gt;\r\n    &lt;/extensionElement&gt;\r\n    &lt;multiInstanceLoopCharacteristics isSequential=&quot;true&quot; flowable:collection=&quot;SOME_COLLECTION&quot; flowable:elementVariable=&quot;SOME_ELEMENT&quot;&gt;&lt;/multiInstanceLoopCharacteristics&gt;\r\n&lt;/callActivity&gt;\r\n\r\ncall activity is correctly processed but I am unable to pass the output variable `SUB_OUTPUT_VAR` to the parent process. I tried some other syntax like:\r\n\r\n    &lt;flowable:out source=&quot;SUB_OUTPUT_VAR&quot; target=&quot;OUTPUT_VAR_${loopCounter}&quot;&gt;&lt;/flowable:out&gt;\r\n\r\nbecause each loop can produce `SUB_OUTPUT_VAR` and I want to pass all of them to the parent process. But it didn&#39;t help.\r\n\r\nIs there any way to do it using Flowable BPMN Engine?\r\n\r\n","title":"Flowable Multi Instance Call Activity - Output Parameters","body":"<p>Having the following definition in my BPMN model (Flowable Engine):</p>\n<pre><code>&lt;callActivity id=&quot;111-example-111&quot; name=&quot;CALLING_SUBPROCESS_MULTIINSTANCE&quot; calledElement=&quot;SOME_SUBPROCESS&quot; flowable:calledElementType=&quot;key&quot; flowable:fallbackToDefaultTenant=&quot;false&quot;&gt;\n&lt;extensionElement&gt;\n    &lt;flowable:in source=&quot;INPUT_VAR&quot; target=&quot;SUB_INPUT_VAR&quot;&gt;&lt;/flowable:in&gt;\n    &lt;flowable:out source=&quot;SUB_OUTPUT_VAR&quot; target=&quot;OUTPUT_VAR&quot;&gt;&lt;/flowable:out&gt;\n&lt;/extensionElement&gt;\n&lt;multiInstanceLoopCharacteristics isSequential=&quot;true&quot; flowable:collection=&quot;SOME_COLLECTION&quot; flowable:elementVariable=&quot;SOME_ELEMENT&quot;&gt;&lt;/multiInstanceLoopCharacteristics&gt;\n</code></pre>\n\n<p>call activity is correctly processed but I am unable to pass the output variable <code>SUB_OUTPUT_VAR</code> to the parent process. I tried some other syntax like:</p>\n<pre><code>&lt;flowable:out source=&quot;SUB_OUTPUT_VAR&quot; target=&quot;OUTPUT_VAR_${loopCounter}&quot;&gt;&lt;/flowable:out&gt;\n</code></pre>\n<p>because each loop can produce <code>SUB_OUTPUT_VAR</code> and I want to pass all of them to the parent process. But it didn't help.</p>\n<p>Is there any way to do it using Flowable BPMN Engine?</p>\n"},{"tags":["java","multithreading","kotlin","kotlin-coroutines"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1669701015,"post_id":74596300,"comment_id":131696228,"body_markdown":"Dispatchers.IO will create as many threads as needed to process all incoming tasks as fast as they arrive.  If you don&#39;t want that behavior, don&#39;t use Dispatchers.IO.  (Really, don&#39;t use any of the Dispatchers.Anything except Main on some circumstances...)","body":"Dispatchers.IO will create as many threads as needed to process all incoming tasks as fast as they arrive.  If you don&#39;t want that behavior, don&#39;t use Dispatchers.IO.  (Really, don&#39;t use any of the Dispatchers.Anything except Main on some circumstances...)"},{"owner":{"account_id":7455080,"reputation":941,"user_id":5668587,"accept_rate":67,"display_name":"kirill.login"},"score":0,"creation_date":1669715808,"post_id":74596300,"comment_id":131700334,"body_markdown":"Actually not &quot;as many&quot; but only 64 by default. And this fact is visible on the chart. The question is about TTL of this threads, not about its total number.","body":"Actually not &quot;as many&quot; but only 64 by default. And this fact is visible on the chart. The question is about TTL of this threads, not about its total number."}],"owner":{"account_id":7455080,"reputation":941,"user_id":5668587,"accept_rate":67,"display_name":"kirill.login"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669628092,"creation_date":1669612798,"question_id":74596300,"body_markdown":"I have noticed weird behavior of Dispatchers.IO thread pool.\r\n\r\nI have a periodical type of load in my system. Once a minute it consumes hundreds of events which are being handled by coroutines running on Dispatchers.IO thread pool. \r\nOfficial docs tell us, that\r\n\r\n&gt; &quot;Additional threads in this pool are created and are shutdown on\r\n&gt; demand&quot;\r\n\r\nBut as I can see TTL of the threads between creating and shutdown in my case is 1 minute. By the way, it looks exactly like default setting of java&#39;s `Executors::newCachedThreadPool`. Which is so much weird in my opinion. Creating threads instead of reusing them is a notorious antipattern. But this is what exactly is going on here.\r\n\r\nActually I have no problems with memory leaks and GC in general, but anyway it looks suspicious.\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Dzcuk.png\r\n\r\n\r\nThe question is. Is it ok? If not - how can I tune TTL (or keep-alive) for threads from Dispatchers.IO thread pool?\r\n\r\nKotlin version: 1.7.0\r\nkotlinx-coroutines-core version: 1.6.1","title":"How do I manage TTL of Kotlin Dispathers.IO threads","body":"<p>I have noticed weird behavior of Dispatchers.IO thread pool.</p>\n<p>I have a periodical type of load in my system. Once a minute it consumes hundreds of events which are being handled by coroutines running on Dispatchers.IO thread pool.\nOfficial docs tell us, that</p>\n<blockquote>\n<p>&quot;Additional threads in this pool are created and are shutdown on\ndemand&quot;</p>\n</blockquote>\n<p>But as I can see TTL of the threads between creating and shutdown in my case is 1 minute. By the way, it looks exactly like default setting of java's <code>Executors::newCachedThreadPool</code>. Which is so much weird in my opinion. Creating threads instead of reusing them is a notorious antipattern. But this is what exactly is going on here.</p>\n<p>Actually I have no problems with memory leaks and GC in general, but anyway it looks suspicious.</p>\n<p><a href=\"https://i.stack.imgur.com/Dzcuk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dzcuk.png\" alt=\"enter image description here\" /></a></p>\n<p>The question is. Is it ok? If not - how can I tune TTL (or keep-alive) for threads from Dispatchers.IO thread pool?</p>\n<p>Kotlin version: 1.7.0\nkotlinx-coroutines-core version: 1.6.1</p>\n"},{"tags":["java","database","button","search","jtextfield"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1669627751,"post_id":74598461,"comment_id":131676830,"body_markdown":"ok. and what is your actual problem?","body":"ok. and what is your actual problem?"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1669627908,"post_id":74598461,"comment_id":131676886,"body_markdown":"You declared your select() method twice. Apart from that I would suggest giving that method an argument where you pass your condition/name.","body":"You declared your select() method twice. Apart from that I would suggest giving that method an argument where you pass your condition/name."},{"owner":{"account_id":27071050,"reputation":1,"user_id":20621690,"display_name":"최영준"},"score":0,"creation_date":1669627935,"post_id":74598461,"comment_id":131676899,"body_markdown":"public void select() {}; It doesn&#39;t work.","body":"public void select() {}; It doesn&#39;t work."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1669628511,"post_id":74598461,"comment_id":131677098,"body_markdown":"&quot;It doesn&#39;t work&quot; is not a problem description. I suspect you catch some sort of Exception. The reason is that you use `pstmt.setString` before you use `prepareStatement`. Switch these statements.","body":"&quot;It doesn&#39;t work&quot; is not a problem description. I suspect you catch some sort of Exception. The reason is that you use <code>pstmt.setString</code> before you use <code>prepareStatement</code>. Switch these statements."}],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669628027,"creation_date":1669628027,"answer_id":74598560,"question_id":74598461,"body_markdown":"This is wrong: Assigning parameters to a PreparedStatement before creating it:\r\n\r\n    PS pstmt.setString(1, userValue);\r\n    String sql=&quot;select name,phone,address from login where name = ?&quot;; \r\n    pstmt=con.prepareStatement(sql);             \r\n\r\nChange to:\r\n\r\n    String sql=&quot;select name,phone,address from login where name = ?&quot;; \r\n    pstmt=con.prepareStatement(sql);             \r\n    pstmt.setString(1, userValue);\r\n","title":"JAVA about select. please Help me","body":"<p>This is wrong: Assigning parameters to a PreparedStatement before creating it:</p>\n<pre><code>PS pstmt.setString(1, userValue);\nString sql=&quot;select name,phone,address from login where name = ?&quot;; \npstmt=con.prepareStatement(sql);             \n</code></pre>\n<p>Change to:</p>\n<pre><code>String sql=&quot;select name,phone,address from login where name = ?&quot;; \npstmt=con.prepareStatement(sql);             \npstmt.setString(1, userValue);\n</code></pre>\n"}],"owner":{"account_id":27071050,"reputation":1,"user_id":20621690,"display_name":"최영준"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1669628042,"accepted_answer_id":74598560,"answer_count":1,"score":-2,"last_activity_date":1669628088,"creation_date":1669627520,"question_id":74598461,"body_markdown":"First I want to make second select function in my java. first is SelectAll which show all data of my DB.\r\nand second is select which show data that fits the conditions.\r\nSecond I want to make a Checkbox in data. \r\nand Final when I check the checkbox to true, The data which is checked insert into ArraList\r\n\r\n```\r\n       JCheckBox[] buttons = new JCheckBox[4];\t\r\n       JCheckBox ch = new JCheckBox(&quot;전체선택&quot;,false);      \r\n       \tj2 = new JButton(&quot;초기화&quot;);\r\n        panel.add(l1);\r\n        panel.add(tf1);\r\n        panel.add(j1);\r\n        panel.add(ch);\r\n        panel.add(j2);     \t\r\n        this.add(&quot;North&quot;,panel); \r\n        JButton s1 = new JButton(&quot;보내기&quot;);\r\n        p1.add(s1);\r\n        this.add(&quot;South&quot;,p1); // 부착    \t\r\n        \t\tconnect(); // DB접속하는 메소드    \r\n        \t\tselectAll();\r\n        \t//select();\r\n        \tj1.addActionListener(e -&gt; {     \t\t\r\n        \t\tuserValue = tf1.getText();  \r\n        \t\tselect();\t\t      \t\t \t\r\n        \t }); \r\n    }    \r\n    public void selectAll() {//this is a &#39;select&#39; function which is show all data of my DB\t\t\r\n        try { \r\n            String sql=&quot;select name, phone, address from login&quot;; \r\n            pstmt=con.prepareStatement(sql);\r\n            System.out.println(&quot;pstmt : &quot;+pstmt);\r\n            rs1=pstmt.executeQuery(); \r\n            System.out.println(&quot;rs : &quot;+rs);                 \r\n            while(rs1.next()) {\r\n                String name=rs1.getString(&quot;name&quot;);\r\n                String age=rs1.getString(&quot;phone&quot;);\r\n                String tel=rs1.getString(&quot;address&quot;);              \t\t              \r\n              Object data[]= {name,age,tel};\r\n                model.addRow(data);                     \r\n            }\r\n        }catch(Exception e) {\r\n            System.out.println(&quot;select() 실행 오류 : &quot; +e);\r\n        }\r\n    } \r\npublic void select()  {//this is a second Search \r\n    \t try {  \t\t \r\n    \t\t pstmt.setString(1, userValue);\r\n            String sql=&quot;select name,phone,address from login where name = ?&quot;; \r\n            pstmt=con.prepareStatement(sql);             \r\n          \t rs=pstmt.executeQuery(); \r\n             while(rs.next()) {\r\n                 String name=rs.getString(&quot;name&quot;);\r\n                 String age=rs.getString(&quot;phone&quot;);\r\n                 String tel=rs.getString(&quot;address&quot;);      \t\t           \r\n                 Object data[]= {name,age,tel};              \r\n                 model.addRow(data); \r\n             }\r\n         }\tcatch(Exception e1) {\r\n             System.out.println(&quot;select() 실행 오류 : &quot; +e1);\r\n         } \r\n    }\r\n```\r\n","title":"JAVA about select. please Help me","body":"<p>First I want to make second select function in my java. first is SelectAll which show all data of my DB.\nand second is select which show data that fits the conditions.\nSecond I want to make a Checkbox in data.\nand Final when I check the checkbox to true, The data which is checked insert into ArraList</p>\n<pre><code>       JCheckBox[] buttons = new JCheckBox[4];  \n       JCheckBox ch = new JCheckBox(&quot;전체선택&quot;,false);      \n        j2 = new JButton(&quot;초기화&quot;);\n        panel.add(l1);\n        panel.add(tf1);\n        panel.add(j1);\n        panel.add(ch);\n        panel.add(j2);      \n        this.add(&quot;North&quot;,panel); \n        JButton s1 = new JButton(&quot;보내기&quot;);\n        p1.add(s1);\n        this.add(&quot;South&quot;,p1); // 부착     \n                connect(); // DB접속하는 메소드    \n                selectAll();\n            //select();\n            j1.addActionListener(e -&gt; {             \n                userValue = tf1.getText();  \n                select();                       \n             }); \n    }    \n    public void selectAll() {//this is a 'select' function which is show all data of my DB      \n        try { \n            String sql=&quot;select name, phone, address from login&quot;; \n            pstmt=con.prepareStatement(sql);\n            System.out.println(&quot;pstmt : &quot;+pstmt);\n            rs1=pstmt.executeQuery(); \n            System.out.println(&quot;rs : &quot;+rs);                 \n            while(rs1.next()) {\n                String name=rs1.getString(&quot;name&quot;);\n                String age=rs1.getString(&quot;phone&quot;);\n                String tel=rs1.getString(&quot;address&quot;);                                  \n              Object data[]= {name,age,tel};\n                model.addRow(data);                     \n            }\n        }catch(Exception e) {\n            System.out.println(&quot;select() 실행 오류 : &quot; +e);\n        }\n    } \npublic void select()  {//this is a second Search \n         try {           \n             pstmt.setString(1, userValue);\n            String sql=&quot;select name,phone,address from login where name = ?&quot;; \n            pstmt=con.prepareStatement(sql);             \n             rs=pstmt.executeQuery(); \n             while(rs.next()) {\n                 String name=rs.getString(&quot;name&quot;);\n                 String age=rs.getString(&quot;phone&quot;);\n                 String tel=rs.getString(&quot;address&quot;);                       \n                 Object data[]= {name,age,tel};              \n                 model.addRow(data); \n             }\n         }  catch(Exception e1) {\n             System.out.println(&quot;select() 실행 오류 : &quot; +e1);\n         } \n    }\n</code></pre>\n"},{"tags":["java","sonarqube"],"answers":[{"comments":[{"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"score":3,"creation_date":1672987458,"post_id":74598450,"comment_id":132401055,"body_markdown":"Seems you have just copied from this source and not changed the annotation names asked by OP! https://community.sonarsource.com/t/unresolved-imports-types-have-been-detected-during-analysis/43321/6","body":"Seems you have just copied from this source and not changed the annotation names asked by OP! <a href=\"https://community.sonarsource.com/t/unresolved-imports-types-have-been-detected-during-analysis/43321/6\" rel=\"nofollow noreferrer\">community.sonarsource.com/t/&hellip;</a>"}],"tags":[],"owner":{"account_id":10901642,"reputation":96,"user_id":8013743,"display_name":"Imad ALILAT"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1669627491,"creation_date":1669627491,"answer_id":74598450,"question_id":71996062,"body_markdown":"These warnings are raised when our Java parser does not recognize some types and can not find them in bytecode.\r\n\r\nLombok, precisely, has deep impacts on bytecode (the bytecode of the annotated class does not reflect the actual code that we parse), altering the way you write Java code, and confusing our parser. Our parser requires valid compilable java code as input, and this code can not be compiled with javac “as is”.\r\n\r\nMore precisely, the annotation @__ is actually not defined anywhere, and the log field is only generated in the bytecode thanks to @Slf4j annotation.","title":"Java SonarQube: Unresolved imports/types have been detected during analysis. Enable DEBUG mode to see them","body":"<p>These warnings are raised when our Java parser does not recognize some types and can not find them in bytecode.</p>\n<p>Lombok, precisely, has deep impacts on bytecode (the bytecode of the annotated class does not reflect the actual code that we parse), altering the way you write Java code, and confusing our parser. Our parser requires valid compilable java code as input, and this code can not be compiled with javac “as is”.</p>\n<p>More precisely, the annotation @__ is actually not defined anywhere, and the log field is only generated in the bytecode thanks to @Slf4j annotation.</p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2481,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74598450,"answer_count":1,"score":3,"last_activity_date":1669627491,"creation_date":1650872665,"question_id":71996062,"body_markdown":"Small question regarding an issue encountered during a SonarQube analysis of a Java project please.\r\n\r\nThe code of the Java project is a simple Hello World SpringBoot application, nothing special. The SonarQube is a 9.3.\r\n\r\nDuring CI/CD pipeline, I perform a Sonar analysis via the Sonar maven plugin. The analysis itself is successful.\r\n\r\nHowever, reproducible 100%, I am facing this:\r\n\r\n```\r\n         [WARNING] 23:25:32.937 Unresolved imports/types have been detected during analysis. Enable DEBUG mode to see them.\r\n         [DEBUG] 23:25:32.938 First 50 unresolved imports/types:\r\n         - Aspect cannot be resolved to a type\r\n         - Bean cannot be resolved to a type\r\n         - Before cannot be resolved to a type\r\n         - Components cannot be resolved to a type\r\n         - Configuration cannot be resolved to a type\r\n         - Contact cannot be resolved to a type\r\n         - CountedAspect cannot be resolved to a type\r\n         - CqlSession cannot be resolved\r\n         - CqlSession cannot be resolved to a type\r\n         - DefaultEndPoint cannot be resolved to a type\r\n         - EnableAspectJAutoProxy cannot be resolved to a type\r\n         - HttpClient cannot be resolved\r\n         - HttpClient cannot be resolved to a type\r\n         - HttpHeaders cannot be resolved to a variable\r\n         - HttpProtocol cannot be resolved to a variable\r\n         - Info cannot be resolved to a type\r\n         - JoinPoint cannot be resolved to a type\r\n         - License cannot be resolved to a type\r\n         - LogManager cannot be resolved\r\n         - Logger cannot be resolved to a type\r\n         - MDC cannot be resolved\r\n[...]\r\n```\r\n\r\nI do not understand what are those &quot;Unresolved imports/type&quot;.\r\n\r\nMay I ask what is the issue, and how can I &quot;resolve them please&quot;?\r\n\r\nThank you","title":"Java SonarQube: Unresolved imports/types have been detected during analysis. Enable DEBUG mode to see them","body":"<p>Small question regarding an issue encountered during a SonarQube analysis of a Java project please.</p>\n<p>The code of the Java project is a simple Hello World SpringBoot application, nothing special. The SonarQube is a 9.3.</p>\n<p>During CI/CD pipeline, I perform a Sonar analysis via the Sonar maven plugin. The analysis itself is successful.</p>\n<p>However, reproducible 100%, I am facing this:</p>\n<pre><code>         [WARNING] 23:25:32.937 Unresolved imports/types have been detected during analysis. Enable DEBUG mode to see them.\n         [DEBUG] 23:25:32.938 First 50 unresolved imports/types:\n         - Aspect cannot be resolved to a type\n         - Bean cannot be resolved to a type\n         - Before cannot be resolved to a type\n         - Components cannot be resolved to a type\n         - Configuration cannot be resolved to a type\n         - Contact cannot be resolved to a type\n         - CountedAspect cannot be resolved to a type\n         - CqlSession cannot be resolved\n         - CqlSession cannot be resolved to a type\n         - DefaultEndPoint cannot be resolved to a type\n         - EnableAspectJAutoProxy cannot be resolved to a type\n         - HttpClient cannot be resolved\n         - HttpClient cannot be resolved to a type\n         - HttpHeaders cannot be resolved to a variable\n         - HttpProtocol cannot be resolved to a variable\n         - Info cannot be resolved to a type\n         - JoinPoint cannot be resolved to a type\n         - License cannot be resolved to a type\n         - LogManager cannot be resolved\n         - Logger cannot be resolved to a type\n         - MDC cannot be resolved\n[...]\n</code></pre>\n<p>I do not understand what are those &quot;Unresolved imports/type&quot;.</p>\n<p>May I ask what is the issue, and how can I &quot;resolve them please&quot;?</p>\n<p>Thank you</p>\n"},{"tags":["java","design-patterns","nullpointerexception","builder"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1669627511,"post_id":74582411,"comment_id":131676747,"body_markdown":"The exception clearly states what is wrong.","body":"The exception clearly states what is wrong."}],"answers":[{"tags":[],"owner":{"account_id":15790667,"reputation":90,"user_id":11394009,"display_name":"Praveen kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669542583,"creation_date":1669542583,"answer_id":74588995,"question_id":74582411,"body_markdown":"In your code EngineBuilder class have only default constructor, Which does not initialize Engine Object. Write a constructor which initializes required objects. ","title":"Builder Pattern Null Pointer Exception","body":"<p>In your code EngineBuilder class have only default constructor, Which does not initialize Engine Object. Write a constructor which initializes required objects.</p>\n"},{"tags":[],"owner":{"account_id":1988337,"reputation":598,"user_id":1782997,"display_name":"Attila T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669626523,"creation_date":1669626523,"answer_id":74598272,"question_id":74582411,"body_markdown":"The attribute `Engine e` in `EngineBuilder` is initialized only in its `builder()` method which is never called. There&#39;s multiple ways to fix your code although I&#39;d implement the builder pattern in a different way:\r\n\r\n```java\r\npublic class Engine {\r\n\r\n  private final String name;\r\n\r\n  private Engine(Builder builder) {\r\n    this.name = builder.name;\r\n  }\r\n\r\n  public String getName() {\r\n    return name;\r\n  }\r\n\r\n  public static Builder builder() {\r\n    return new Builder();\r\n  }\r\n\r\n  @Override\r\n  public String toString() {\r\n    return name;\r\n  }\r\n\r\n  public static class Builder {\r\n\r\n    private String name;\r\n\r\n    private Builder() {\r\n    }\r\n\r\n    public Builder name(String name) {\r\n      this.name = name;\r\n      return this;\r\n    }\r\n\r\n    public Engine build() {\r\n      return new Engine(this);\r\n    }\r\n\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    Engine mercedes = Engine.builder().name(&quot;Mercedes&quot;).build();\r\n\r\n    System.out.println(mercedes);  // Mercedes\r\n  }\r\n\r\n}\r\n```\r\n\r\nIf you want the instances of the `Engine` class to act as traditional POJOs then remove `final` from its attributes and add a `public` default constructor and setters to it.","title":"Builder Pattern Null Pointer Exception","body":"<p>The attribute <code>Engine e</code> in <code>EngineBuilder</code> is initialized only in its <code>builder()</code> method which is never called. There's multiple ways to fix your code although I'd implement the builder pattern in a different way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Engine {\n\n  private final String name;\n\n  private Engine(Builder builder) {\n    this.name = builder.name;\n  }\n\n  public String getName() {\n    return name;\n  }\n\n  public static Builder builder() {\n    return new Builder();\n  }\n\n  @Override\n  public String toString() {\n    return name;\n  }\n\n  public static class Builder {\n\n    private String name;\n\n    private Builder() {\n    }\n\n    public Builder name(String name) {\n      this.name = name;\n      return this;\n    }\n\n    public Engine build() {\n      return new Engine(this);\n    }\n\n  }\n\n  public static void main(String[] args) {\n    Engine mercedes = Engine.builder().name(&quot;Mercedes&quot;).build();\n\n    System.out.println(mercedes);  // Mercedes\n  }\n\n}\n</code></pre>\n<p>If you want the instances of the <code>Engine</code> class to act as traditional POJOs then remove <code>final</code> from its attributes and add a <code>public</code> default constructor and setters to it.</p>\n"},{"tags":[],"owner":{"account_id":23018942,"reputation":1,"user_id":17140238,"display_name":"Ziyear"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669627262,"creation_date":1669627245,"answer_id":74598404,"question_id":74582411,"body_markdown":"you need add constructor in builder.\r\n\r\n```java\r\npublic class Engine{\r\n\r\n    private String name = null;\r\n    private Mercedes m = null;\r\n\r\n    private Engine() {\r\n\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public Mercedes getM() {\r\n        return m;\r\n    }\r\n\r\n    public void setM(Mercedes m) {\r\n        this.m = m;\r\n    }\r\n\r\n    public static EngineBuilder builder() {\r\n        return new EngineBuilder();\r\n    }\r\n\r\n    public static class EngineBuilder {\r\n        private Engine e = null;\r\n        // you need add Constructor in Builder\r\n        public EngineBuilder(){\r\n            e = new Engine();\r\n        }\r\n\r\n        public EngineBuilder builder() {\r\n            e = new Engine();\r\n            return this;\r\n        }\r\n\r\n        public Engine build() {\r\n            return this.e;\r\n        }\r\n\r\n        public EngineBuilder setName(String name) {\r\n            this.e.setName(name);\r\n            return this;\r\n        }\r\n\r\n        public EngineBuilder setM(Mercedes m) {\r\n            this.e.setM(m);\r\n            return this;\r\n        }\r\n\r\n    }\r\n    public static void main(String[] args) {\r\n        EngineBuilder builder = Engine.builder();\r\n        builder.setName(&quot;test&quot;);\r\n                \r\n        Engine e = builder.build();\r\n\r\n    }\r\n}","title":"Builder Pattern Null Pointer Exception","body":"<p>you need add constructor in builder.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Engine{\n\n    private String name = null;\n    private Mercedes m = null;\n\n    private Engine() {\n\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Mercedes getM() {\n        return m;\n    }\n\n    public void setM(Mercedes m) {\n        this.m = m;\n    }\n\n    public static EngineBuilder builder() {\n        return new EngineBuilder();\n    }\n\n    public static class EngineBuilder {\n        private Engine e = null;\n        // you need add Constructor in Builder\n        public EngineBuilder(){\n            e = new Engine();\n        }\n\n        public EngineBuilder builder() {\n            e = new Engine();\n            return this;\n        }\n\n        public Engine build() {\n            return this.e;\n        }\n\n        public EngineBuilder setName(String name) {\n            this.e.setName(name);\n            return this;\n        }\n\n        public EngineBuilder setM(Mercedes m) {\n            this.e.setM(m);\n            return this;\n        }\n\n    }\n    public static void main(String[] args) {\n        EngineBuilder builder = Engine.builder();\n        builder.setName(&quot;test&quot;);\n                \n        Engine e = builder.build();\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22340172,"reputation":1,"user_id":16560060,"display_name":"juniordevop"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":792,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1669627262,"creation_date":1669467898,"question_id":74582411,"body_markdown":"I get Null Pointer Exception when running the code below:\r\n\r\n```java\r\npublic class Engine{\r\n\r\n\tprivate String name = null;\r\n\tprivate Mercedes m = null;\r\n\r\n\tprivate Engine() {\r\n\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic Mercedes getM() {\r\n\t\treturn m;\r\n\t}\r\n\r\n\tpublic void setM(Mercedes m) {\r\n\t\tthis.m = m;\r\n\t}\r\n\r\n\tpublic static EngineBuilder builder() {\r\n\t\treturn new EngineBuilder();\r\n\t}\r\n\r\n\tpublic static class EngineBuilder {\r\n\t\tprivate Engine e = null;\r\n\r\n\t\tpublic EngineBuilder builder() {\r\n\t\t\te = new Engine();\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tpublic Engine build() {\r\n\t\t\treturn this.e;\r\n\t\t}\r\n\r\n\t\tpublic EngineBuilder setName(String name) {\r\n\t\t\tthis.e.setName(name);\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tpublic EngineBuilder setM(Mercedes m) {\r\n\t\t\tthis.e.setM(m);\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tEngineBuilder builder = Engine.builder();\r\n\t\tbuilder.setName(&quot;test&quot;);\r\n\t\t\t\t\r\n\t\tEngine e = builder.build();\r\n\r\n\t}\r\n}\r\n}\r\n```\r\n\r\n\r\nI expected the Builder pattern would work, but I got \r\n&gt; &quot;Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;Engine.setName(String)&quot; because &quot;this.e&quot; is null&quot;","title":"Builder Pattern Null Pointer Exception","body":"<p>I get Null Pointer Exception when running the code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Engine{\n\n    private String name = null;\n    private Mercedes m = null;\n\n    private Engine() {\n\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Mercedes getM() {\n        return m;\n    }\n\n    public void setM(Mercedes m) {\n        this.m = m;\n    }\n\n    public static EngineBuilder builder() {\n        return new EngineBuilder();\n    }\n\n    public static class EngineBuilder {\n        private Engine e = null;\n\n        public EngineBuilder builder() {\n            e = new Engine();\n            return this;\n        }\n\n        public Engine build() {\n            return this.e;\n        }\n\n        public EngineBuilder setName(String name) {\n            this.e.setName(name);\n            return this;\n        }\n\n        public EngineBuilder setM(Mercedes m) {\n            this.e.setM(m);\n            return this;\n        }\n\n    }\n    public static void main(String[] args) {\n        EngineBuilder builder = Engine.builder();\n        builder.setName(&quot;test&quot;);\n                \n        Engine e = builder.build();\n\n    }\n}\n}\n</code></pre>\n<p>I expected the Builder pattern would work, but I got</p>\n<blockquote>\n<p>&quot;Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;Engine.setName(String)&quot; because &quot;this.e&quot; is null&quot;</p>\n</blockquote>\n"},{"tags":["java","hibernate","hibernate-mapping"],"comments":[{"owner":{"account_id":1913180,"reputation":5333,"user_id":1726423,"display_name":"mh-dev"},"score":0,"creation_date":1455721734,"post_id":35460354,"comment_id":58617015,"body_markdown":"No time to write a good answer so just a comment -&gt; use left join fetch instead. The fetch strategies do only apply for none custom queries if I remember correct.","body":"No time to write a good answer so just a comment -&gt; use left join fetch instead. The fetch strategies do only apply for none custom queries if I remember correct."}],"answers":[{"comments":[{"owner":{"account_id":5117482,"reputation":165,"user_id":4102151,"accept_rate":29,"display_name":"partyboy"},"score":0,"creation_date":1455723298,"post_id":35460757,"comment_id":58618234,"body_markdown":"Thanks for your answer Isah, I&#39;m going to look at your blog, will update my answer after to tell if it&#39;s working.","body":"Thanks for your answer Isah, I&#39;m going to look at your blog, will update my answer after to tell if it&#39;s working."},{"owner":{"account_id":5117482,"reputation":165,"user_id":4102151,"accept_rate":29,"display_name":"partyboy"},"score":0,"creation_date":1455731756,"post_id":35460757,"comment_id":58624156,"body_markdown":"I&#39;ve answered to v.ladynev, I&#39;ve read your blog, the problem with left join is that I only got table1 data with a link to table2 not table1 data with no table2","body":"I&#39;ve answered to v.ladynev, I&#39;ve read your blog, the problem with left join is that I only got table1 data with a link to table2 not table1 data with no table2"},{"owner":{"account_id":1178649,"reputation":5261,"user_id":1154065,"accept_rate":92,"display_name":"isah"},"score":0,"creation_date":1455795229,"post_id":35460757,"comment_id":58654189,"body_markdown":"Use `inner join fetch table1.table2` instead of `left join fetch`.","body":"Use <code>inner join fetch table1.table2</code> instead of <code>left join fetch</code>."},{"owner":{"account_id":5117482,"reputation":165,"user_id":4102151,"accept_rate":29,"display_name":"partyboy"},"score":0,"creation_date":1456129471,"post_id":35460757,"comment_id":58785932,"body_markdown":"sorry for the late answer, I&#39;ve just tried the inner join fetch but the problem still remains, only getting table1 with a link to table 2.","body":"sorry for the late answer, I&#39;ve just tried the inner join fetch but the problem still remains, only getting table1 with a link to table 2."},{"owner":{"account_id":1178649,"reputation":5261,"user_id":1154065,"accept_rate":92,"display_name":"isah"},"score":0,"creation_date":1456217489,"post_id":35460757,"comment_id":58832483,"body_markdown":"`inner join fetch` - returns table1 which has table2 data. \n`left join fetch` - returns table1 data with or without table2 data. That&#39;s all.","body":"<code>inner join fetch</code> - returns table1 which has table2 data.  <code>left join fetch</code> - returns table1 data with or without table2 data. That&#39;s all."}],"tags":[],"owner":{"account_id":1178649,"reputation":5261,"user_id":1154065,"accept_rate":92,"display_name":"isah"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455722576,"creation_date":1455722576,"answer_id":35460757,"question_id":35460354,"body_markdown":"Because `Table2`(parent) is EAGER and you&#39;re selecting from `Table1`, for every row in `Table1` Hibernate will issue a query to populate `Table2` reference. One solution is to join fetch `table2` reference on the first query. \r\nThis is a known behavior of Hibernate when using HQL(with Criteria API I don&#39;t think it applies).\r\nI have blogged on detail about it [here][1] \r\n\r\n\r\n  [1]: http://www.javacents.com/2015/11/07/orm-pitfall-number-1-with-non-lazy-references/","title":"ManyToOne Outer Join in a single query (1 to 0 relationship)","body":"<p>Because <code>Table2</code>(parent) is EAGER and you're selecting from <code>Table1</code>, for every row in <code>Table1</code> Hibernate will issue a query to populate <code>Table2</code> reference. One solution is to join fetch <code>table2</code> reference on the first query. \nThis is a known behavior of Hibernate when using HQL(with Criteria API I don't think it applies).\nI have blogged on detail about it <a href=\"http://www.javacents.com/2015/11/07/orm-pitfall-number-1-with-non-lazy-references/\" rel=\"nofollow\">here</a> </p>\n"},{"comments":[{"owner":{"account_id":5117482,"reputation":165,"user_id":4102151,"accept_rate":29,"display_name":"partyboy"},"score":0,"creation_date":1455731610,"post_id":35463262,"comment_id":58624051,"body_markdown":"Thanks for your answer, the problem is that when I&#39;m doing a left join, I only retrieve table1 with a link to table 2, some of my table1 data don&#39;t have a link to table2 (the relation is more 1 or 0). This is why I&#39;ve tried with an outer fetch.","body":"Thanks for your answer, the problem is that when I&#39;m doing a left join, I only retrieve table1 with a link to table 2, some of my table1 data don&#39;t have a link to table2 (the relation is more 1 or 0). This is why I&#39;ve tried with an outer fetch."}],"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1455729791,"creation_date":1455729086,"answer_id":35463262,"question_id":35460354,"body_markdown":"Firstly, you need to change fetch of `table2` to `FetchType.LAZY`. Always do so, if you don&#39;t have a good reasons to eagerly fetching a `@ManyToOne` part of the association.\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name=&quot;CNT_ID&quot;,referencedColumnName = &quot;CNT_ID&quot;,insertable = false, updatable = false)\r\n    @NotFound(action=NotFoundAction.IGNORE)\r\n    private Table2 table2;\r\n\r\nIf you need to get `Table1` that have some properties in `table2` just use a join\r\n\r\n`from Table1 table1 left join table1.table2 table2 \r\n    where table2.someProperty = :somePropertyValue`\r\n\r\nIf you need to load `table2` use a join fetch\r\n\r\n`from Table1 table1 left join fetch table1.table2 table2 \r\n    where table2.someProperty = :somePropertyValue`\r\n\r\nif you need only part of `table2` use projections \r\n\r\n`select table1.property1, table1.property2, table2.someProperty\r\n    from Table1 table1 left join table1.table2 table2 \r\n    where table2.someProperty = :somePropertyValue`\r\n\r\nIf you will use a projections you can use a `new` syntax to populate DTO objects\r\n\r\n`select new com.pack.TableDto(table1.property1, table1.property2, table2.someProperty)\r\n    from Table1 table1 left join table1.table2 table2 \r\n    where table2.someProperty = :somePropertyValue`\r\n\r\nor you can use a transformer.\r\n  ","title":"ManyToOne Outer Join in a single query (1 to 0 relationship)","body":"<p>Firstly, you need to change fetch of <code>table2</code> to <code>FetchType.LAZY</code>. Always do so, if you don't have a good reasons to eagerly fetching a <code>@ManyToOne</code> part of the association.</p>\n\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name=\"CNT_ID\",referencedColumnName = \"CNT_ID\",insertable = false, updatable = false)\n@NotFound(action=NotFoundAction.IGNORE)\nprivate Table2 table2;\n</code></pre>\n\n<p>If you need to get <code>Table1</code> that have some properties in <code>table2</code> just use a join</p>\n\n<p><code>from Table1 table1 left join table1.table2 table2 \n    where table2.someProperty = :somePropertyValue</code></p>\n\n<p>If you need to load <code>table2</code> use a join fetch</p>\n\n<p><code>from Table1 table1 left join fetch table1.table2 table2 \n    where table2.someProperty = :somePropertyValue</code></p>\n\n<p>if you need only part of <code>table2</code> use projections </p>\n\n<p><code>select table1.property1, table1.property2, table2.someProperty\n    from Table1 table1 left join table1.table2 table2 \n    where table2.someProperty = :somePropertyValue</code></p>\n\n<p>If you will use a projections you can use a <code>new</code> syntax to populate DTO objects</p>\n\n<p><code>select new com.pack.TableDto(table1.property1, table1.property2, table2.someProperty)\n    from Table1 table1 left join table1.table2 table2 \n    where table2.someProperty = :somePropertyValue</code></p>\n\n<p>or you can use a transformer.</p>\n"}],"owner":{"account_id":5117482,"reputation":165,"user_id":4102151,"accept_rate":29,"display_name":"partyboy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2727,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1669627120,"creation_date":1455721588,"question_id":35460354,"body_markdown":"I&#39;m struggling with a mapping problem in hibernate. \r\n \r\nGot This mapping between 2 tables\r\n\r\nTable 1\r\n\r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n    \t@JoinColumn(name=&quot;CNT_ID&quot;,referencedColumnName = &quot;CNT_ID&quot;,insertable = false, updatable = false)\r\n    \t@NotFound(action=NotFoundAction.IGNORE)\r\n    \tprivate Table2 table2;\r\n\r\nTable 2\r\n\r\n    @OneToMany(mappedBy=&quot;table2&quot;)\r\n   \tprivate List&lt;Table1&gt; table1List;\r\n\r\nI&#39;m making a query like this : \r\n\r\n    select table1 from Table1 table1 left outer join table1.table2\r\n\r\nThe result is ok : got all data in table1 and some table2 (some table1 don&#39;t have link to table2) so the outer join is ok. \r\n\r\nThe problem is that hibernate is making one query to catch all table1 and after 1 query for each line result for table1.\r\nSo If I have 100lines in table 1, hibernate is making 101 queries ...\r\n\r\nDo I miss something ? I&#39;m working with oracle database, also try the (+) operator (outer operator in oracle) but hibernate didn&#39;t want it.\r\n\r\nThanks for your help !\r\n\r\n\r\n\r\n","title":"ManyToOne Outer Join in a single query (1 to 0 relationship)","body":"<p>I'm struggling with a mapping problem in hibernate. </p>\n\n<p>Got This mapping between 2 tables</p>\n\n<p>Table 1</p>\n\n<pre><code>    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name=\"CNT_ID\",referencedColumnName = \"CNT_ID\",insertable = false, updatable = false)\n    @NotFound(action=NotFoundAction.IGNORE)\n    private Table2 table2;\n</code></pre>\n\n<p>Table 2</p>\n\n<pre><code>@OneToMany(mappedBy=\"table2\")\nprivate List&lt;Table1&gt; table1List;\n</code></pre>\n\n<p>I'm making a query like this : </p>\n\n<pre><code>select table1 from Table1 table1 left outer join table1.table2\n</code></pre>\n\n<p>The result is ok : got all data in table1 and some table2 (some table1 don't have link to table2) so the outer join is ok. </p>\n\n<p>The problem is that hibernate is making one query to catch all table1 and after 1 query for each line result for table1.\nSo If I have 100lines in table 1, hibernate is making 101 queries ...</p>\n\n<p>Do I miss something ? I'm working with oracle database, also try the (+) operator (outer operator in oracle) but hibernate didn't want it.</p>\n\n<p>Thanks for your help !</p>\n"},{"tags":["java","jvm","gpu","hardware-acceleration"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1669564170,"post_id":74590854,"comment_id":131664838,"body_markdown":"If your goal is millions of threads rather than specifically GPU utilization, then [*Project Loom*](https://wiki.openjdk.org/display/loom/Main) is likely your solution. Virtual threads and structured concurrency are both being previewed/incubated now in Java 19.","body":"If your goal is millions of threads rather than specifically GPU utilization, then <a href=\"https://wiki.openjdk.org/display/loom/Main\" rel=\"nofollow noreferrer\"><i>Project Loom</i></a> is likely your solution. Virtual threads and structured concurrency are both being previewed/incubated now in Java 19."}],"answers":[{"tags":[],"owner":{"account_id":311559,"reputation":671,"user_id":625218,"display_name":"snatverk"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669625953,"creation_date":1669625628,"answer_id":74598116,"question_id":74590854,"body_markdown":"This is an interesting question. It all depends on which parts of the JVM you want to accelerate on GPUs, and if those parts are suitable for acceleration or not. Is it the bytecode interpreter? GC? There are academic works in these areas. \r\n\r\nFor example, [this work](https://github.com/jjfumero/jjfumero.github.io/blob/master/files/JuanFumero-MoreVMs2020-Preprint.pdf) ([code](https://github.com/beehive-lab/ProtonVM)) defines a byte-code interpreter suitable for acceleration on GPUs and FPGAs. This work proposes the use of heterogenous hardware, not only for the acceleration of user applications, but system applications (VMs, operating systems, etc). \r\n\r\nFor instance, [this work proposes](https://www.cs.utexas.edu/users/witchel/pubs/sosp11rossbach-ptask.pdf ) to integrate parallel tasks, that can run on GPUs, into the OS, and safe, for example, data transfer across different processes that want to use the same GPU. \r\n\r\nRegarding TornadoVM, it can accelerate Java programs. Thus, if the JVM would have been implemented in Java, then some software components can be accelerated with TornadoVM. There are works already accelerating other Java-based Virtual Machines, such as GraalVM for R programs (not using TornadoVM):\r\n- [FastR-GPU](https://github.com/jjfumero/fastr-gpu)  (integrated into Truffle/GraalVM, it automatically accelerates array operations on GPUs)\r\n- [Paper](https://dl.acm.org/doi/10.1145/3140607.3050761)\r\n","title":"How can the JVM be accelerated using a GPU?","body":"<p>This is an interesting question. It all depends on which parts of the JVM you want to accelerate on GPUs, and if those parts are suitable for acceleration or not. Is it the bytecode interpreter? GC? There are academic works in these areas.</p>\n<p>For example, <a href=\"https://github.com/jjfumero/jjfumero.github.io/blob/master/files/JuanFumero-MoreVMs2020-Preprint.pdf\" rel=\"nofollow noreferrer\">this work</a> (<a href=\"https://github.com/beehive-lab/ProtonVM\" rel=\"nofollow noreferrer\">code</a>) defines a byte-code interpreter suitable for acceleration on GPUs and FPGAs. This work proposes the use of heterogenous hardware, not only for the acceleration of user applications, but system applications (VMs, operating systems, etc).</p>\n<p>For instance, <a href=\"https://www.cs.utexas.edu/users/witchel/pubs/sosp11rossbach-ptask.pdf\" rel=\"nofollow noreferrer\">this work proposes</a> to integrate parallel tasks, that can run on GPUs, into the OS, and safe, for example, data transfer across different processes that want to use the same GPU.</p>\n<p>Regarding TornadoVM, it can accelerate Java programs. Thus, if the JVM would have been implemented in Java, then some software components can be accelerated with TornadoVM. There are works already accelerating other Java-based Virtual Machines, such as GraalVM for R programs (not using TornadoVM):</p>\n<ul>\n<li><a href=\"https://github.com/jjfumero/fastr-gpu\" rel=\"nofollow noreferrer\">FastR-GPU</a>  (integrated into Truffle/GraalVM, it automatically accelerates array operations on GPUs)</li>\n<li><a href=\"https://dl.acm.org/doi/10.1145/3140607.3050761\" rel=\"nofollow noreferrer\">Paper</a></li>\n</ul>\n"}],"owner":{"account_id":14035647,"reputation":851,"user_id":10138416,"display_name":"linker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":515,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"closed_date":1669626139,"accepted_answer_id":74598116,"answer_count":1,"score":1,"last_activity_date":1669627017,"creation_date":1669559407,"question_id":74590854,"body_markdown":"While this question is similar to what&#39;s [here][1] and [there][2] in that the problem being addressed is about the same, It&#39;s different since it&#39;s about finding ways to actually accelerate the JVM itself rather than some certain/specific parts of a Java program/project. \r\n\r\nI just recently looked up [TornadoVM][3] [here][4] and I was wondering if there are virtual software environments/containers capable of running/accelerating the JVM by providing it access to multiple threads via instances spawned from heterogeneous hardware (CPUs + GPUs).\r\n\r\nHypothetically speaking, say I have a fleet of CPUs and GPUs, I am simply asking about ways one can successfully go about running a JVM program (capable of handling 1,000,000+ threads simultaneously) across all devices on my fleet. \r\n\r\n\r\n  [1]: https://stackoverflow.com/q/55364038/10138416\r\n  [2]: https://stackoverflow.com/q/22866901/10138416\r\n  [3]: https://www.tornadovm.org/\r\n  [4]: https://www.infoq.com/articles/tornadovm-java-gpu-fpga/","title":"How can the JVM be accelerated using a GPU?","body":"<p>While this question is similar to what's <a href=\"https://stackoverflow.com/q/55364038/10138416\">here</a> and <a href=\"https://stackoverflow.com/q/22866901/10138416\">there</a> in that the problem being addressed is about the same, It's different since it's about finding ways to actually accelerate the JVM itself rather than some certain/specific parts of a Java program/project.</p>\n<p>I just recently looked up <a href=\"https://www.tornadovm.org/\" rel=\"nofollow noreferrer\">TornadoVM</a> <a href=\"https://www.infoq.com/articles/tornadovm-java-gpu-fpga/\" rel=\"nofollow noreferrer\">here</a> and I was wondering if there are virtual software environments/containers capable of running/accelerating the JVM by providing it access to multiple threads via instances spawned from heterogeneous hardware (CPUs + GPUs).</p>\n<p>Hypothetically speaking, say I have a fleet of CPUs and GPUs, I am simply asking about ways one can successfully go about running a JVM program (capable of handling 1,000,000+ threads simultaneously) across all devices on my fleet.</p>\n"},{"tags":["java","testing","methods","junit","service"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1669627326,"post_id":74598338,"comment_id":131676690,"body_markdown":"why do you use @Rule for something that should be a mock? what is the unit you are trying to test?","body":"why do you use @Rule for something that should be a mock? what is the unit you are trying to test?"},{"owner":{"account_id":26946521,"reputation":29,"user_id":20516430,"display_name":"David Moore"},"score":0,"creation_date":1669629324,"post_id":74598338,"comment_id":131677357,"body_markdown":"I use the System Rules to pass in the user input from the Java.lang.System . And about the unit test I am trying to test main method and other methods in Main class to see if it works like I expected or not.","body":"I use the System Rules to pass in the user input from the Java.lang.System . And about the unit test I am trying to test main method and other methods in Main class to see if it works like I expected or not."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1669629405,"post_id":74598338,"comment_id":131677379,"body_markdown":"this is more an integration test, compared to a unit test. You hardly have any units, and since they&#39;re all void methods, it&#39;s pretty hard to test anything","body":"this is more an integration test, compared to a unit test. You hardly have any units, and since they&#39;re all void methods, it&#39;s pretty hard to test anything"},{"owner":{"account_id":26946521,"reputation":29,"user_id":20516430,"display_name":"David Moore"},"score":0,"creation_date":1669629809,"post_id":74598338,"comment_id":131677541,"body_markdown":"And I don&#39;t know why I couldn&#39;t call static method like menuForBill directly from class Main.","body":"And I don&#39;t know why I couldn&#39;t call static method like menuForBill directly from class Main."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1669630274,"post_id":74598338,"comment_id":131677690,"body_markdown":"Seeing as you are calling it directly, I don&#39;t understand your question here.","body":"Seeing as you are calling it directly, I don&#39;t understand your question here."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669633357,"post_id":74598338,"comment_id":131678730,"body_markdown":"That error message is from javac. How are you building your code?","body":"That error message is from javac. How are you building your code?"}],"owner":{"account_id":26946521,"reputation":29,"user_id":20516430,"display_name":"David Moore"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669626875,"creation_date":1669626875,"question_id":74598338,"body_markdown":"I have want to write unit test to test methods in Main class. However, I don&#39;t know how to handle with the parameter **String[] args** in main method. Moreover, when I extract the static function like menuForBill, I can not extract it directly from class Main by Main.menuForBill and I really don&#39;t know why.\r\n\r\n**Main method in main class like this:**\r\n\r\n    public static void menuForBill(Bill bill, Menu menu) throws IOException {\r\n    \r\n            Scanner scanner = new Scanner(System.in);\r\n            String option=&quot;0&quot;;\r\n            BillServices billServices = new BillServicesImpl();\r\n            BillFileHandlingServices billFileHandlingServices = new BillFileHandlingServicesImpl();\r\n            BillPrinter billPrinter = new BillPrinterImpl();\r\n    \r\n            while (!option.equals(&quot;e&quot;)){\r\n                System.out.println(&quot;\\nBill management&quot;);\r\n                System.out.println(&quot;1. Create Bill &quot;);\r\n                System.out.println(&quot;2. Update Bill &quot;);\r\n                System.out.println(&quot;3. Delete Bill&quot;);\r\n                System.out.println(&quot;4. Show Bill&quot;);\r\n                System.out.println(&quot;5. Export bill&quot;);\r\n                System.out.println(&quot;6. Import bill&quot;);\r\n                System.out.println(&quot;e. To escape&quot;);\r\n                System.out.print(&quot;\\nChoose your option:&quot;);\r\n                option = scanner.next();\r\n                switch (option){\r\n                    case &quot;1&quot; -&gt; billServices.addBill(bill,menu);\r\n                    case &quot;2&quot; -&gt; billServices.updateBill(bill,menu);\r\n                    case &quot;3&quot; -&gt; billServices.deleteBillItems(bill);\r\n                    case &quot;4&quot; -&gt; {try {\r\n                        billPrinter.printBill(bill);\r\n                    }catch (NullPointerException exception){\r\n                        System.out.println(exception.getMessage());\r\n                    }}\r\n                    case &quot;5&quot; -&gt; billFileHandlingServices.exportBill(bill);\r\n                    case &quot;6&quot; -&gt; billFileHandlingServices.importBill();\r\n                    case &quot;e&quot; -&gt; {}\r\n                    default -&gt; System.out.println(&quot;Not found for your option !!!&quot;);\r\n                }\r\n            }\r\n        }\r\n        public static void main(String[] args) throws IOException {\r\n            Scanner scanner = new Scanner(System.in);\r\n            String option;\r\n            Menu menu = new Menu();\r\n            Bill bill = new Bill();\r\n            while (true){\r\n                System.out.println(&quot;\\n1.Menu management&quot;);\r\n                System.out.println(&quot;2.Bill management&quot;);\r\n                System.out.print(&quot;Please choose which types Management you want to work with:&quot;);\r\n                option = scanner.next();\r\n    \r\n                switch (option){\r\n                    case &quot;1&quot; -&gt; menuForOrder(menu);\r\n                    case &quot;2&quot; -&gt; menuForBill(bill,menu);\r\n                    default -&gt; System.out.println(&quot;Out of option !!!&quot;);\r\n                }\r\n            }\r\n        }\r\n**My unit test:**\r\n\r\n    public class MainTest {\r\n        private final InputStream systemIn = System.in;\r\n        private final PrintStream systemOut = System.out;\r\n    \r\n        private ByteArrayInputStream testIn;\r\n        private ByteArrayOutputStream testOut;\r\n        @Rule\r\n        public final TextFromStandardInputStream systemInMock = emptyStandardInputStream();\r\n    \r\n        @Before\r\n        public void init(){\r\n            testOut = new ByteArrayOutputStream();\r\n            System.setOut(new PrintStream(testOut));\r\n        }\r\n    \r\n        @After\r\n        public void restoreSystemInputOutput(){\r\n            System.setIn(systemIn);\r\n            System.setOut(systemOut);\r\n        }\r\n    \r\n        @Test\r\n        public void whenChoosingMenuManagement_returnMenuManagement() throws Exception {\r\n            System.out.println(&quot;main&quot;);\r\n            systemInMock.provideLines(&quot;1&quot;);\r\n            Main.main(new String[]{&quot;a&quot;});\r\n            assertTrue(true);\r\n        }\r\n    }\r\n\r\n**The error:**\r\n\r\n    error: Class names, &#39;a&#39;, are only accepted if annotation processing is explicitly requested\r\n    1 error\r\n\r\nHow I can write unit for main method and menuForBill method in this case. I am beginner in Unit test. Thanks for your support.\r\n\r\n","title":"How to write Unit test for main static method in Main class?","body":"<p>I have want to write unit test to test methods in Main class. However, I don't know how to handle with the parameter <strong>String[] args</strong> in main method. Moreover, when I extract the static function like menuForBill, I can not extract it directly from class Main by Main.menuForBill and I really don't know why.</p>\n<p><strong>Main method in main class like this:</strong></p>\n<pre><code>public static void menuForBill(Bill bill, Menu menu) throws IOException {\n\n        Scanner scanner = new Scanner(System.in);\n        String option=&quot;0&quot;;\n        BillServices billServices = new BillServicesImpl();\n        BillFileHandlingServices billFileHandlingServices = new BillFileHandlingServicesImpl();\n        BillPrinter billPrinter = new BillPrinterImpl();\n\n        while (!option.equals(&quot;e&quot;)){\n            System.out.println(&quot;\\nBill management&quot;);\n            System.out.println(&quot;1. Create Bill &quot;);\n            System.out.println(&quot;2. Update Bill &quot;);\n            System.out.println(&quot;3. Delete Bill&quot;);\n            System.out.println(&quot;4. Show Bill&quot;);\n            System.out.println(&quot;5. Export bill&quot;);\n            System.out.println(&quot;6. Import bill&quot;);\n            System.out.println(&quot;e. To escape&quot;);\n            System.out.print(&quot;\\nChoose your option:&quot;);\n            option = scanner.next();\n            switch (option){\n                case &quot;1&quot; -&gt; billServices.addBill(bill,menu);\n                case &quot;2&quot; -&gt; billServices.updateBill(bill,menu);\n                case &quot;3&quot; -&gt; billServices.deleteBillItems(bill);\n                case &quot;4&quot; -&gt; {try {\n                    billPrinter.printBill(bill);\n                }catch (NullPointerException exception){\n                    System.out.println(exception.getMessage());\n                }}\n                case &quot;5&quot; -&gt; billFileHandlingServices.exportBill(bill);\n                case &quot;6&quot; -&gt; billFileHandlingServices.importBill();\n                case &quot;e&quot; -&gt; {}\n                default -&gt; System.out.println(&quot;Not found for your option !!!&quot;);\n            }\n        }\n    }\n    public static void main(String[] args) throws IOException {\n        Scanner scanner = new Scanner(System.in);\n        String option;\n        Menu menu = new Menu();\n        Bill bill = new Bill();\n        while (true){\n            System.out.println(&quot;\\n1.Menu management&quot;);\n            System.out.println(&quot;2.Bill management&quot;);\n            System.out.print(&quot;Please choose which types Management you want to work with:&quot;);\n            option = scanner.next();\n\n            switch (option){\n                case &quot;1&quot; -&gt; menuForOrder(menu);\n                case &quot;2&quot; -&gt; menuForBill(bill,menu);\n                default -&gt; System.out.println(&quot;Out of option !!!&quot;);\n            }\n        }\n    }\n</code></pre>\n<p><strong>My unit test:</strong></p>\n<pre><code>public class MainTest {\n    private final InputStream systemIn = System.in;\n    private final PrintStream systemOut = System.out;\n\n    private ByteArrayInputStream testIn;\n    private ByteArrayOutputStream testOut;\n    @Rule\n    public final TextFromStandardInputStream systemInMock = emptyStandardInputStream();\n\n    @Before\n    public void init(){\n        testOut = new ByteArrayOutputStream();\n        System.setOut(new PrintStream(testOut));\n    }\n\n    @After\n    public void restoreSystemInputOutput(){\n        System.setIn(systemIn);\n        System.setOut(systemOut);\n    }\n\n    @Test\n    public void whenChoosingMenuManagement_returnMenuManagement() throws Exception {\n        System.out.println(&quot;main&quot;);\n        systemInMock.provideLines(&quot;1&quot;);\n        Main.main(new String[]{&quot;a&quot;});\n        assertTrue(true);\n    }\n}\n</code></pre>\n<p><strong>The error:</strong></p>\n<pre><code>error: Class names, 'a', are only accepted if annotation processing is explicitly requested\n1 error\n</code></pre>\n<p>How I can write unit for main method and menuForBill method in this case. I am beginner in Unit test. Thanks for your support.</p>\n"},{"tags":["java","spring-boot","swagger"],"answers":[{"comments":[{"owner":{"account_id":27065356,"reputation":5,"user_id":20616808,"display_name":"DoubleZeroWater"},"score":0,"creation_date":1669628123,"post_id":74595482,"comment_id":131676970,"body_markdown":"It like this (in swagger3)\n```\n    [\n      {\n        &quot;code&quot;: &quot;string&quot;,\n        &quot;isAdmin&quot;: &quot;string&quot;,\n        &quot;name&quot;: &quot;string&quot;,\n      }\n    ]\n```\nand it goes well.","body":"It like this (in swagger3) ```     [       {         &quot;code&quot;: &quot;string&quot;,         &quot;isAdmin&quot;: &quot;string&quot;,         &quot;name&quot;: &quot;string&quot;,       }     ] ``` and it goes well."}],"tags":[],"owner":{"account_id":14255669,"reputation":330,"user_id":10297961,"display_name":"Tan Sang"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669603666,"creation_date":1669603666,"answer_id":74595482,"question_id":74592919,"body_markdown":"To customize the HTTP code in `ResponseEntity`, you must return a `ResponseEntity` object.\r\n\r\nin your first block of code the swagger display like that because you didn&#39;t specify any type for `ResponseEntity`. I can understand that you want to use a dynamic response between a list or a message string but I didn&#39;t think that was good practice.\r\n\r\nYou could try something like this:\r\n\r\n    public ResponseEntity&lt;List&lt;ActiveCode&gt;&gt; showActivationCode() {\r\n      if (session.getAttribute(&quot;isAdmin&quot;) == &quot;1&quot;) {\r\n        return ResponseEntity.status(200).body(userService.getActiveCode());\r\n      }\r\n      else {\r\n        return ResponseEntity.status(403).body(Collections.emptyList());\r\n        or\r\n        return ResponseEntity.status(403).body(null);\r\n      }\r\n    }\r\n\r\nthe response in swagger then will be similar to this I guess\r\n\r\n    {\r\n      &quot;body&quot;: {\r\n        [\r\n          {\r\n            &quot;code&quot;: &quot;string&quot;,\r\n            &quot;isAdmin&quot;: &quot;string&quot;,\r\n            &quot;name&quot;: &quot;string&quot;,\r\n          }\r\n        ]\r\n      },\r\n      &quot;statusCode&quot;: &quot;ACCEPTED&quot;,\r\n      &quot;statusCodeValue&quot;: 0\r\n    }","title":"How can I pervent Swagger generating ResponseEntity and generating the real data?","body":"<p>To customize the HTTP code in <code>ResponseEntity</code>, you must return a <code>ResponseEntity</code> object.</p>\n<p>in your first block of code the swagger display like that because you didn't specify any type for <code>ResponseEntity</code>. I can understand that you want to use a dynamic response between a list or a message string but I didn't think that was good practice.</p>\n<p>You could try something like this:</p>\n<pre><code>public ResponseEntity&lt;List&lt;ActiveCode&gt;&gt; showActivationCode() {\n  if (session.getAttribute(&quot;isAdmin&quot;) == &quot;1&quot;) {\n    return ResponseEntity.status(200).body(userService.getActiveCode());\n  }\n  else {\n    return ResponseEntity.status(403).body(Collections.emptyList());\n    or\n    return ResponseEntity.status(403).body(null);\n  }\n}\n</code></pre>\n<p>the response in swagger then will be similar to this I guess</p>\n<pre><code>{\n  &quot;body&quot;: {\n    [\n      {\n        &quot;code&quot;: &quot;string&quot;,\n        &quot;isAdmin&quot;: &quot;string&quot;,\n        &quot;name&quot;: &quot;string&quot;,\n      }\n    ]\n  },\n  &quot;statusCode&quot;: &quot;ACCEPTED&quot;,\n  &quot;statusCodeValue&quot;: 0\n}\n</code></pre>\n"}],"owner":{"account_id":27065356,"reputation":5,"user_id":20616808,"display_name":"DoubleZeroWater"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74595482,"answer_count":1,"score":0,"last_activity_date":1669626804,"creation_date":1669575413,"question_id":74592919,"body_markdown":"I am using this code to show information in Swagger.\r\n```\r\n    @ApiOperation(value = &quot;show code&quot;)\r\n    @GetMapping(&quot;/showActivationCode&quot;)\r\n    @ApiResponses(\r\n            {\r\n                    @ApiResponse(code = 200, message = &quot;OK&quot;),\r\n                    @ApiResponse(code = 403, message = &quot;Not login&quot;),\r\n            })\r\n    public ResponseEntity showActivationCode() {\r\n        if (session.getAttribute(&quot;isAdmin&quot;) == &quot;1&quot;) {\r\n            return ResponseEntity.status(200).body(userService.getActiveCode());\r\n        } else {\r\n            return ResponseEntity.status(403).body(&quot;Not login&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nAnd when if goes true, it will return a `ActiveCode` array. \r\n```\r\n    public List&lt;ActiveCode&gt; getActiveCode() {\r\n        return activeCodeDao.getActiveCodeListDao();\r\n    }\r\n```\r\n\r\nAnd I am expecting Swagger show like this:\r\n```\r\n[\r\n{\r\n  &quot;code&quot;: &quot;string&quot;,\r\n  &quot;isAdmin&quot;: &quot;string&quot;,\r\n  &quot;name&quot;: &quot;string&quot;,\r\n}\r\n]\r\n```\r\nBut now it show like this\r\n```\r\n{\r\n  &quot;body&quot;: {},\r\n  &quot;statusCode&quot;: &quot;ACCEPTED&quot;,\r\n  &quot;statusCodeValue&quot;: 0\r\n}\r\n```\r\nThere is no information provided by Swagger.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nIf I am going to change the code like this:\r\n```\r\n    @ApiOperation(value = &quot;show code&quot;)\r\n    @GetMapping(&quot;/showActivationCode&quot;)\r\n    @ApiResponses(\r\n            {\r\n                    @ApiResponse(code = 200, message = &quot;OK&quot;),\r\n                    @ApiResponse(code = 403, message = &quot;Not login&quot;),\r\n            })\r\n    public List&lt;ActiveCode&gt; showActivationCode() {\r\n        if (session.getAttribute(&quot;isAdmin&quot;) == &quot;1&quot;) {\r\n            return userService.getActiveCode();\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n```\r\nIt is actually showing as I expected, but I can&#39;t customize the Http code in `ResponseEntity`. So it can&#39;t work.\r\n","title":"How can I pervent Swagger generating ResponseEntity and generating the real data?","body":"<p>I am using this code to show information in Swagger.</p>\n<pre><code>    @ApiOperation(value = &quot;show code&quot;)\n    @GetMapping(&quot;/showActivationCode&quot;)\n    @ApiResponses(\n            {\n                    @ApiResponse(code = 200, message = &quot;OK&quot;),\n                    @ApiResponse(code = 403, message = &quot;Not login&quot;),\n            })\n    public ResponseEntity showActivationCode() {\n        if (session.getAttribute(&quot;isAdmin&quot;) == &quot;1&quot;) {\n            return ResponseEntity.status(200).body(userService.getActiveCode());\n        } else {\n            return ResponseEntity.status(403).body(&quot;Not login&quot;);\n        }\n    }\n</code></pre>\n<p>And when if goes true, it will return a <code>ActiveCode</code> array.</p>\n<pre><code>    public List&lt;ActiveCode&gt; getActiveCode() {\n        return activeCodeDao.getActiveCodeListDao();\n    }\n</code></pre>\n<p>And I am expecting Swagger show like this:</p>\n<pre><code>[\n{\n  &quot;code&quot;: &quot;string&quot;,\n  &quot;isAdmin&quot;: &quot;string&quot;,\n  &quot;name&quot;: &quot;string&quot;,\n}\n]\n</code></pre>\n<p>But now it show like this</p>\n<pre><code>{\n  &quot;body&quot;: {},\n  &quot;statusCode&quot;: &quot;ACCEPTED&quot;,\n  &quot;statusCodeValue&quot;: 0\n}\n</code></pre>\n<p>There is no information provided by Swagger.</p>\n<p>If I am going to change the code like this:</p>\n<pre><code>    @ApiOperation(value = &quot;show code&quot;)\n    @GetMapping(&quot;/showActivationCode&quot;)\n    @ApiResponses(\n            {\n                    @ApiResponse(code = 200, message = &quot;OK&quot;),\n                    @ApiResponse(code = 403, message = &quot;Not login&quot;),\n            })\n    public List&lt;ActiveCode&gt; showActivationCode() {\n        if (session.getAttribute(&quot;isAdmin&quot;) == &quot;1&quot;) {\n            return userService.getActiveCode();\n        } else {\n            return null;\n        }\n    }\n</code></pre>\n<p>It is actually showing as I expected, but I can't customize the Http code in <code>ResponseEntity</code>. So it can't work.</p>\n"},{"tags":["java","hibernate","hql"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1669627264,"post_id":74598284,"comment_id":131676676,"body_markdown":"Did the query you tried not work? What was wrong with it? Also, any reason you need to use such an old hibernate version?","body":"Did the query you tried not work? What was wrong with it? Also, any reason you need to use such an old hibernate version?"},{"owner":{"account_id":11579393,"reputation":471,"user_id":8483777,"accept_rate":17,"display_name":"coder12349"},"score":0,"creation_date":1669628104,"post_id":74598284,"comment_id":131676959,"body_markdown":"It works, But it fetches complete book object, author object and Shop object. I am looking for performance optimization as i just need only shop name","body":"It works, But it fetches complete book object, author object and Shop object. I am looking for performance optimization as i just need only shop name"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1669630867,"post_id":74598284,"comment_id":131677916,"body_markdown":"I think you should go with a native SQL query in that case. I don&#39;t believe that HQL can do it.","body":"I think you should go with a native SQL query in that case. I don&#39;t believe that HQL can do it."}],"owner":{"account_id":11579393,"reputation":471,"user_id":8483777,"accept_rate":17,"display_name":"coder12349"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669626590,"creation_date":1669626590,"question_id":74598284,"body_markdown":"I am using oracle db and hibernate 4 for my development. I have following tables\r\n\r\n    Table =&gt; Shops\r\n    columns :\r\n     id(Pk),\r\n     name\r\n    \r\n    Table =&gt; Authors\r\n    columns :\r\n     id(Pk),\r\n     name,\r\n     shopId(FK from Shop)\r\n    \r\n    Table =&gt; Books\r\n    columns :\r\n     id(Pk),\r\n     name,\r\n     authorId(FK from Author)\r\n\r\n\r\n\r\nNow Books are connected to Author with &quot;Many to One&quot; relationship and similarly Author connected to Shop with &quot;Many to One&quot;. These relationships are eagerly loaded. \r\nNow i would like to just get shop name using &quot;Books&quot;.\r\n\r\n\r\nWhat i Have tried.\r\n\r\n  \r\n\r\n     select book.author.shop.name from Book book where book.id = 1\r\n\r\n I just need shop name and i have book details. How to fetch only shop name without loading authors and books object?\r\n\r\n    \r\n\r\n ","title":"HQL query to retrieve only one parent column using nested child record","body":"<p>I am using oracle db and hibernate 4 for my development. I have following tables</p>\n<pre><code>Table =&gt; Shops\ncolumns :\n id(Pk),\n name\n\nTable =&gt; Authors\ncolumns :\n id(Pk),\n name,\n shopId(FK from Shop)\n\nTable =&gt; Books\ncolumns :\n id(Pk),\n name,\n authorId(FK from Author)\n</code></pre>\n<p>Now Books are connected to Author with &quot;Many to One&quot; relationship and similarly Author connected to Shop with &quot;Many to One&quot;. These relationships are eagerly loaded.\nNow i would like to just get shop name using &quot;Books&quot;.</p>\n<p>What i Have tried.</p>\n<pre><code> select book.author.shop.name from Book book where book.id = 1\n</code></pre>\n<p>I just need shop name and i have book details. How to fetch only shop name without loading authors and books object?</p>\n"},{"tags":["java","javax.imageio","twelvemonkeys"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1669598887,"post_id":74595077,"comment_id":131671484,"body_markdown":"https://stackoverflow.com/questions/45487168/writing-a-bmp-with-transparency-using-imageio","body":"<a href=\"https://stackoverflow.com/questions/45487168/writing-a-bmp-with-transparency-using-imageio\" title=\"writing a bmp with transparency using imageio\">stackoverflow.com/questions/45487168/&hellip;</a>"},{"owner":{"account_id":18184757,"reputation":17,"user_id":13231742,"display_name":"Skillkiller"},"score":0,"creation_date":1669600095,"post_id":74595077,"comment_id":131671630,"body_markdown":"Yes thank you. I have also seen this thread but there is no solution. In the comments it only says that it was implemented by myself. Is there any way to get this implementation?","body":"Yes thank you. I have also seen this thread but there is no solution. In the comments it only says that it was implemented by myself. Is there any way to get this implementation?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1669600753,"post_id":74595077,"comment_id":131671722,"body_markdown":"Google would be the best place to start","body":"Google would be the best place to start"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1669628091,"post_id":74595077,"comment_id":131676949,"body_markdown":"Note that the bmp form is the most memory costly. **png** does lossless compression. You&#39;ll need the RGBA/ARGB with Alpha.","body":"Note that the bmp form is the most memory costly. <b>png</b> does lossless compression. You&#39;ll need the RGBA/ARGB with Alpha."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1669631399,"post_id":74595077,"comment_id":131678110,"body_markdown":"I added support for BMP with transparency in TwelveMonkeys years ago, I should probably have updated the other thread... However, I find the statements *&quot;I want to save the image using Java and ImageIO&quot;* and *&quot;the image is too large for the memory of the creating program and the program assembles the image piece by piece&quot;* contradicting. Can you elaborate on how you plan on implementing this?","body":"I added support for BMP with transparency in TwelveMonkeys years ago, I should probably have updated the other thread... However, I find the statements <i>&quot;I want to save the image using Java and ImageIO&quot;</i> and <i>&quot;the image is too large for the memory of the creating program and the program assembles the image piece by piece&quot;</i> contradicting. Can you elaborate on how you plan on implementing this?"}],"owner":{"account_id":18184757,"reputation":17,"user_id":13231742,"display_name":"Skillkiller"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669626374,"creation_date":1669598244,"question_id":74595077,"body_markdown":"Is it possible to store a `BufferedImage` with transparency in the BMP image format? With 32 bits per pixel this information should be storable. I also don&#39;t need a fine gradation of transparency but only is transparent or not. I want to save the image using Java and `ImageIO`. For this I also use the extensions of `TwelveMonkeys`.\r\n\r\nI need to save it in a directly modifiable format because the image is too large for the memory of the creating program and the program assembles the image piece by piece.","title":"Transparency in the BMP image format Java","body":"<p>Is it possible to store a <code>BufferedImage</code> with transparency in the BMP image format? With 32 bits per pixel this information should be storable. I also don't need a fine gradation of transparency but only is transparent or not. I want to save the image using Java and <code>ImageIO</code>. For this I also use the extensions of <code>TwelveMonkeys</code>.</p>\n<p>I need to save it in a directly modifiable format because the image is too large for the memory of the creating program and the program assembles the image piece by piece.</p>\n"},{"tags":["java","string","methods","string-concatenation"],"answers":[{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1669543866,"post_id":74588866,"comment_id":131661016,"body_markdown":"returning `boolean`  would be more appropriate (IMHO)","body":"returning <code>boolean</code>  would be more appropriate (IMHO)"},{"owner":{"account_id":26241395,"reputation":3478,"user_id":19915660,"display_name":"M_S"},"score":0,"creation_date":1669546932,"post_id":74588866,"comment_id":131661543,"body_markdown":"Ok, i included it in my edit","body":"Ok, i included it in my edit"},{"owner":{"account_id":26241395,"reputation":3478,"user_id":19915660,"display_name":"M_S"},"score":0,"creation_date":1669547482,"post_id":74588866,"comment_id":131661635,"body_markdown":"Yep, in the question there was Yes and No but in sample code True/False but for me its not very important in this question, author can adjust string at any time","body":"Yep, in the question there was Yes and No but in sample code True/False but for me its not very important in this question, author can adjust string at any time"}],"tags":[],"owner":{"account_id":26241395,"reputation":3478,"user_id":19915660,"display_name":"M_S"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669546898,"creation_date":1669541196,"answer_id":74588866,"question_id":74588837,"body_markdown":"Return type of your first method is void so you are not returning anything, you are just printing Yes or False in new line. To concatanate &quot;True&quot; or &quot;False&quot; to another String you need to return String from isFree method\r\n\r\nYou may try something like this\r\n\r\n    public String isFree(){\r\n      return sweet.isEmpty() ? &quot;True&quot; : &quot;False&quot;;\r\n    }`\r\n\r\n    public void information(){\r\n     System.out.println (isFree() + &quot; this item is available for purchase.&quot;);\r\n    }\r\n\r\nIn second method message doesnt make much sense with False but this is up to you to adjust it\r\n\r\nYou can also reutrn boolean directly\r\n\r\n    public boolean isFree() {\r\n       return sweet.isEmpty();\r\n    }\r\n\r\nKeep in mind that in this case it will be revolved to &quot;true&quot; or &quot;false&quot; and not &quot;True&quot;/&quot;False&quot;\r\n\r\nOf course if &quot;true&quot;/&quot;false&quot; is ok in your case you can remove isFree method completly and just use sweet.isEmpty() directly in information","title":"Returning the result of another method in a separate method","body":"<p>Return type of your first method is void so you are not returning anything, you are just printing Yes or False in new line. To concatanate &quot;True&quot; or &quot;False&quot; to another String you need to return String from isFree method</p>\n<p>You may try something like this</p>\n<pre><code>public String isFree(){\n  return sweet.isEmpty() ? &quot;True&quot; : &quot;False&quot;;\n}`\n\npublic void information(){\n System.out.println (isFree() + &quot; this item is available for purchase.&quot;);\n}\n</code></pre>\n<p>In second method message doesnt make much sense with False but this is up to you to adjust it</p>\n<p>You can also reutrn boolean directly</p>\n<pre><code>public boolean isFree() {\n   return sweet.isEmpty();\n}\n</code></pre>\n<p>Keep in mind that in this case it will be revolved to &quot;true&quot; or &quot;false&quot; and not &quot;True&quot;/&quot;False&quot;</p>\n<p>Of course if &quot;true&quot;/&quot;false&quot; is ok in your case you can remove isFree method completly and just use sweet.isEmpty() directly in information</p>\n"},{"tags":[],"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1669541509,"creation_date":1669541509,"answer_id":74588891,"question_id":74588837,"body_markdown":"You can achieve this from several ways:\r\n\r\n 1. Call first `isFree` from `information`, and then print the second string. For this, you would have to edit both methods, since you are using `println`.\r\n\r\n```\r\npublic void isFree() {\r\n    sweet.isEmpty() ? System.out.printf(&quot;True&quot;) : System.out.printf(&quot;False&quot;);\r\n}\r\n\r\npublic void information() {\r\n    isFree();\r\n    System.out.printf(&quot; this item is available for purchase.\\n&quot;);\r\n}\r\n```\r\n\r\n 2. Make `isFree` return a `String`.\r\n\r\n```\r\npublic String isFree() {\r\n    sweet.isEmpty() ? &quot;True&quot; : &quot;False&quot;;\r\n}\r\n\r\npublic void information() {\r\n    System.out.println(isFree() + &quot; this item is available for purchase.&quot;);\r\n}\r\n```","title":"Returning the result of another method in a separate method","body":"<p>You can achieve this from several ways:</p>\n<ol>\n<li>Call first <code>isFree</code> from <code>information</code>, and then print the second string. For this, you would have to edit both methods, since you are using <code>println</code>.</li>\n</ol>\n<pre><code>public void isFree() {\n    sweet.isEmpty() ? System.out.printf(&quot;True&quot;) : System.out.printf(&quot;False&quot;);\n}\n\npublic void information() {\n    isFree();\n    System.out.printf(&quot; this item is available for purchase.\\n&quot;);\n}\n</code></pre>\n<ol start=\"2\">\n<li>Make <code>isFree</code> return a <code>String</code>.</li>\n</ol>\n<pre><code>public String isFree() {\n    sweet.isEmpty() ? &quot;True&quot; : &quot;False&quot;;\n}\n\npublic void information() {\n    System.out.println(isFree() + &quot; this item is available for purchase.&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27061243,"reputation":1,"user_id":20613235,"display_name":"vimlesh kumar pandey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669626246,"creation_date":1669550604,"answer_id":74589848,"question_id":74588837,"body_markdown":"Is there any specific reason to use two methods, rather isEmpty in the collection will return the boolean (true, false) for you and you can directly use the second method removing the first completely.\r\n\r\n    public void information() {\r\n        String customText=&quot;, this item is available for purchase.&quot;;\r\n        System.out.println (sweet.isEmpty() ? &quot;YES&quot;+customText : &quot;NO&quot;+customText);}","title":"Returning the result of another method in a separate method","body":"<p>Is there any specific reason to use two methods, rather isEmpty in the collection will return the boolean (true, false) for you and you can directly use the second method removing the first completely.</p>\n<pre><code>public void information() {\n    String customText=&quot;, this item is available for purchase.&quot;;\n    System.out.println (sweet.isEmpty() ? &quot;YES&quot;+customText : &quot;NO&quot;+customText);}\n</code></pre>\n"}],"owner":{"account_id":23174659,"reputation":3,"user_id":17273353,"display_name":"user17273353"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1669626246,"creation_date":1669540890,"question_id":74588837,"body_markdown":"I have a method (shown below) which works fine. The purpose of this method is to confirm if a specific item is available in a shop, with a return value of true or false. \r\n\r\nI have a second method, which returns a description, but I can&#39;t see to work out how to get this method to pull through the first method response with &#39;true&#39; showing as &#39;Yes&#39; or &#39;false&#39; showing as &#39;No&#39;. I&#39;m assuming it is something to do with method calling and string concatenation. \r\n\r\nMy overall problem pulls through 2 methods, but I wanted to just try and understand how to pull one method first and then I&#39;ll hopefully work out the rest!\r\n\r\n\r\n\r\nMethod 1 \r\n\r\n    public void isFree()\r\n    {\r\n    if (sweet.isEmpty()){\r\n    System.out.println(&quot;True&quot;);\r\n    }\r\n    else {\r\n    System.out.println(&quot;False&quot;);\r\n    }\r\n    }`\r\n\r\nMethod 2 \r\n\r\n    public void information()\r\n    {\r\n    System.out.println (isFree+ &quot; this item is available for purchase.&quot;);\r\n    }","title":"Returning the result of another method in a separate method","body":"<p>I have a method (shown below) which works fine. The purpose of this method is to confirm if a specific item is available in a shop, with a return value of true or false.</p>\n<p>I have a second method, which returns a description, but I can't see to work out how to get this method to pull through the first method response with 'true' showing as 'Yes' or 'false' showing as 'No'. I'm assuming it is something to do with method calling and string concatenation.</p>\n<p>My overall problem pulls through 2 methods, but I wanted to just try and understand how to pull one method first and then I'll hopefully work out the rest!</p>\n<p>Method 1</p>\n<pre><code>public void isFree()\n{\nif (sweet.isEmpty()){\nSystem.out.println(&quot;True&quot;);\n}\nelse {\nSystem.out.println(&quot;False&quot;);\n}\n}`\n</code></pre>\n<p>Method 2</p>\n<pre><code>public void information()\n{\nSystem.out.println (isFree+ &quot; this item is available for purchase.&quot;);\n}\n</code></pre>\n"},{"tags":["java","jasper-reports"],"answers":[{"tags":[],"owner":{"account_id":23609768,"reputation":1,"user_id":17644962,"display_name":"Rıdvan Canayakın"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669625269,"creation_date":1669625269,"answer_id":74598068,"question_id":74375252,"body_markdown":"In master report pass the datasource expression like this.\r\n\r\n    &lt;dataSourceExpression&gt;&lt;![CDATA[(net.sf.jasperreports.engine.data.JRBeanCollectionDataSource)$P{influencerSubReport}]]&gt;&lt;/dataSourceExpression&gt;\r\n\r\n\r\n\r\nIn java code put datasource as a parameter not the report itself.\r\n\r\n    parameters.put(&quot;influencerSubReport&quot;, subReportListSource );\r\n\r\n\r\n\r\nIf you dont need datasource for your main report you can pass empty datasource\r\n\r\n    final JasperPrint pdfPrint = JasperFillManager.fillReport(masterReport, parameters, new JREmptyDataSource());\r\n\r\nIn this way main report will take a parameter and will pass it to the subreport as a datasource. This should work.","title":"jasper sub report page not showing (blank) from master report using JRBeanCollectionDataSource in java","body":"<p>In master report pass the datasource expression like this.</p>\n<pre><code>&lt;dataSourceExpression&gt;&lt;![CDATA[(net.sf.jasperreports.engine.data.JRBeanCollectionDataSource)$P{influencerSubReport}]]&gt;&lt;/dataSourceExpression&gt;\n</code></pre>\n<p>In java code put datasource as a parameter not the report itself.</p>\n<pre><code>parameters.put(&quot;influencerSubReport&quot;, subReportListSource );\n</code></pre>\n<p>If you dont need datasource for your main report you can pass empty datasource</p>\n<pre><code>final JasperPrint pdfPrint = JasperFillManager.fillReport(masterReport, parameters, new JREmptyDataSource());\n</code></pre>\n<p>In this way main report will take a parameter and will pass it to the subreport as a datasource. This should work.</p>\n"}],"owner":{"account_id":12530924,"reputation":9,"user_id":9119231,"display_name":"Sachin Sonawane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669625269,"creation_date":1667998603,"question_id":74375252,"body_markdown":"I have report with 1 sub-reports call from java, jasper master report in detail band pages is showing but jasper sub report in detail band is not showing. In report master 4 pages 1st and 4th page static and 2 page showing list and 3rd page showing sub-report but 1st, 2nd, 4th showing with blank sub-report. separately sub report generated and both reports compile, below master report, sub-Report and java code\r\n\r\nmaster report\r\n\r\n```\r\n\r\n\t&lt;parameter name=&quot;REPORT_DIR&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;&gt;\r\n\t\t&lt;parameterDescription&gt;&lt;![CDATA[]]&gt;&lt;/parameterDescription&gt;\r\n\t\t&lt;defaultValueExpression&gt;&lt;![CDATA[&quot;C:\\\\Users\\\\Sachin\\\\Desktop\\\\ChannelBuzz\\\\codebase\\\\backend\\\\channelBuzz-CMT\\\\src\\\\main\\\\resources\\\\&quot;]]&gt;&lt;/defaultValueExpression&gt;\r\n\t&lt;/parameter&gt;\r\n\t&lt;parameter name=&quot;bookMarkList&quot; class=&quot;net.sf.jasperreports.engine.data.JRBeanCollectionDataSource&quot;/&gt;\r\n\t&lt;parameter name=&quot;influencerSubReport&quot; class=&quot;net.sf.jasperreports.engine.data.JRBeanCollectionDataSource&quot;/&gt;\r\n\t&lt;!--&lt;field name=&quot;influencerSubReport&quot; class=&quot;java.util.List&quot;/&gt;--&gt;\r\n----------------------------------------------------------------------------------\t\r\n\t\t\t&lt;subreport&gt;\r\n\t\t\t\t&lt;reportElement x=&quot;14&quot; y=&quot;30&quot; width=&quot;525&quot; height=&quot;160&quot; backcolor=&quot;#120302&quot; uuid=&quot;b673878e-c46d-44f1-a694-9a74c2f33595&quot;/&gt;\r\n\t\t\t\t&lt;subreportParameter name=&quot;REPORT_DIR&quot;&gt;\r\n\t\t\t\t\t&lt;subreportParameterExpression&gt;&lt;![CDATA[$P{REPORT_DIR}]]&gt;&lt;/subreportParameterExpression&gt;\r\n\t\t\t\t&lt;/subreportParameter&gt;\r\n\t\t\t\t&lt;!--&lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($P{influencerSubReport})]]&gt;&lt;/dataSourceExpression&gt;--&gt;\r\n\t\t\t\t&lt;subreportExpression&gt;&lt;![CDATA[$P{REPORT_DIR}+&quot;subReport.jasper&quot;]]&gt;&lt;/subreportExpression&gt;\r\n\t\t\t&lt;/subreport&gt;\r\n\t\t\r\n```\r\n\r\nsub-Report\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!-- Created with Jaspersoft Studio version 6.20.0.final using JasperReports Library version 6.20.0-2bc7ab61c56f459e8176eb05c7705e145cd400ad  --&gt;\r\n&lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;subReport&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; uuid=&quot;c1e6d951-893e-47d6-aee0-ebf095bc2ad5&quot;&gt;\r\n\t&lt;property name=&quot;com.jaspersoft.studio.data.defaultdataadapter&quot; value=&quot;One Empty Record&quot;/&gt;\r\n\t&lt;field name=&quot;fullName&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\t&lt;field name=&quot;titleName&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\t&lt;background&gt;\r\n\t\t&lt;band splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/background&gt;\r\n\t&lt;detail&gt;\r\n\t\t&lt;band height=&quot;760&quot; splitType=&quot;Stretch&quot;&gt;\r\n\t\t\t&lt;property name=&quot;com.jaspersoft.studio.unit.height&quot; value=&quot;px&quot;/&gt;\r\n\t\t\t&lt;image&gt;\r\n\t\t\t\t&lt;reportElement x=&quot;162&quot; y=&quot;0&quot; width=&quot;219&quot; height=&quot;50&quot; uuid=&quot;48aaf691-c160-4377-a97e-a2f7911a7e85&quot;/&gt;\r\n\t\t\t\t&lt;imageExpression&gt;&lt;![CDATA[&quot;asset/Channel_Buzz_logo.PNG&quot;]]&gt;&lt;/imageExpression&gt;\r\n\t\t\t&lt;/image&gt;\r\n\t\t\t&lt;frame&gt;\r\n\t\t\t\t&lt;reportElement mode=&quot;Opaque&quot; x=&quot;14&quot; y=&quot;60&quot; width=&quot;525&quot; height=&quot;160&quot; forecolor=&quot;#4E059C&quot; backcolor=&quot;rgba(21, 13, 110, 0.6666667)&quot; uuid=&quot;aa3eecb5-d2ed-47aa-a919-dd6925ff62b3&quot;&gt;\r\n\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.unit.height&quot; value=&quot;px&quot;/&gt;\r\n\t\t\t\t&lt;/reportElement&gt;\r\n\t\t\t\t&lt;textField&gt;\r\n\t\t\t\t\t&lt;reportElement x=&quot;170&quot; y=&quot;20&quot; width=&quot;150&quot; height=&quot;30&quot; forecolor=&quot;#FAFAFA&quot; uuid=&quot;dbe450da-ffc5-4a37-a7c2-24bd909d0b6d&quot;/&gt;\r\n\t\t\t\t\t&lt;textElement&gt;\r\n\t\t\t\t\t\t&lt;font fontName=&quot;Leelawadee&quot; size=&quot;22&quot; isBold=&quot;true&quot;/&gt;\r\n\t\t\t\t\t&lt;/textElement&gt;\r\n\t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{titleName}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t\t&lt;/textField&gt;\r\n\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t&lt;reportElement x=&quot;330&quot; y=&quot;20&quot; width=&quot;34&quot; height=&quot;30&quot; forecolor=&quot;#FCF7F7&quot; uuid=&quot;0bd7c7ec-9b07-4800-b1f0-8ffc99619078&quot;/&gt;\r\n\t\t\t\t\t&lt;textElement&gt;\r\n\t\t\t\t\t\t&lt;font fontName=&quot;Leelawadee&quot; size=&quot;22&quot;/&gt;\r\n\t\t\t\t\t&lt;/textElement&gt;\r\n\t\t\t\t\t&lt;text&gt;&lt;![CDATA[by]]&gt;&lt;/text&gt;\r\n\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t&lt;textField&gt;\r\n\t\t\t\t\t&lt;reportElement x=&quot;373&quot; y=&quot;20&quot; width=&quot;140&quot; height=&quot;30&quot; forecolor=&quot;#FCF5F5&quot; uuid=&quot;14090b8c-c094-4a69-83c3-fbc8f28288c4&quot;/&gt;\r\n\t\t\t\t\t&lt;textElement&gt;\r\n\t\t\t\t\t\t&lt;font fontName=&quot;Leelawadee&quot; size=&quot;22&quot; isBold=&quot;true&quot;/&gt;\r\n\t\t\t\t\t&lt;/textElement&gt;\r\n\t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{fullName}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t\t&lt;/textField&gt;\r\n\t\t\t&lt;/frame&gt;\r\n\t\t&lt;/band&gt;\r\n\t&lt;/detail&gt;\r\n&lt;/jasperReport&gt;\r\n```\r\n\r\njava code\r\n\r\n```\r\nprivate void masterWordReport(InfluencerManagementData data) {\r\n\r\n\t\tfinal InputStream subStream = this.getClass().getResourceAsStream(&quot;/subReport.jrxml&quot;);\r\n\t\tfinal InputStream stream = this.getClass().getResourceAsStream(&quot;/ChannelBuzz_Influencer_JasperReport.jrxml&quot;);\r\n\t\ttry {\r\n\t\t\tList&lt;InfluencerManagementData&gt; influencerSubReport = data.getInfluencerSubReport();\r\n\t\t\tfinal JRBeanCollectionDataSource bookMarkListSource = new JRBeanCollectionDataSource(data.getBookmarkedInfluencersData(), false);\r\n\t\t\tfinal JRBeanCollectionDataSource subReportListSource = new JRBeanCollectionDataSource(influencerSubReport, false);\r\n\t\t\t// Compile the Jasper report from .jrxml to .japser\r\n\t\t\tfinal JasperReport masterReport = JasperCompileManager.compileReport(stream);\r\n\t\t\tfinal JasperReport subReport = JasperCompileManager.compileReport(subStream);\r\n\r\n\t\t\t// Adding the additional dynamic parameters to the pdf.\r\n\t\t\tfinal Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\r\n\t\t\tparameters.put(&quot;bookMarkList&quot;, bookMarkListSource);\r\n\t\t\tparameters.put(&quot;REPORT_DIR&quot;, &quot;C:\\\\Users\\\\Sachin\\\\Desktop\\\\ChannelBuzz\\\\codebase\\\\backend\\\\channelBuzz-CMT\\\\src\\\\main\\\\resources\\\\&quot;);\r\n\t\t\tparameters.put(&quot;influencerSubReport&quot;, subReport);\r\n\r\n//\t\t\tfinal JasperPrint pdfPrint = JasperFillManager.fillReport(masterReport, parameters, new JREmptyDataSource());\r\n\t\t\tfinal JasperPrint pdfPrint = JasperFillManager.fillReport(masterReport, parameters, subReportListSource);\r\n//\t\t\tJasperFillManager.fillReportToFile(masterReport,\r\n//\t\t\t\t\t&quot;C:\\\\Users\\\\Sachin\\\\Pictures\\\\Saved Pictures\\\\test\\\\master_report.jrprint&quot;, parameters, subReportListSource);\t\t\t\r\n\r\n\t\t\tfinal String filePath = &quot;C:\\\\Users\\\\Sachin\\\\Pictures\\\\Saved Pictures\\\\test\\\\&quot;;\r\n\t\t\t\r\n//\t\t\t  Export to Word\r\n\t\t      JRDocxExporter exporter = new JRDocxExporter();    \r\n\t\t      exporter.setExporterInput(new SimpleExporterInput(pdfPrint)); \r\n\t\t      File exportReportFile = new File(filePath+&quot;MasterReport&quot; + &quot;.docx&quot;);\r\n\t\t      exporter.setExporterOutput(new SimpleOutputStreamExporterOutput(exportReportFile));\r\n\t\t      exporter.exportReport();\r\n\t\t\tSystem.out.println(&quot;Genrating the word fle report via jasper.&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\n\r\nI try all solution but it&#39;s not showing pls check if something missing in this code\r\n\r\nI am trying to show sub-report in master report, i want to show 4 pages with sub report","title":"jasper sub report page not showing (blank) from master report using JRBeanCollectionDataSource in java","body":"<p>I have report with 1 sub-reports call from java, jasper master report in detail band pages is showing but jasper sub report in detail band is not showing. In report master 4 pages 1st and 4th page static and 2 page showing list and 3rd page showing sub-report but 1st, 2nd, 4th showing with blank sub-report. separately sub report generated and both reports compile, below master report, sub-Report and java code</p>\n<p>master report</p>\n<pre><code>\n    &lt;parameter name=&quot;REPORT_DIR&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;&gt;\n        &lt;parameterDescription&gt;&lt;![CDATA[]]&gt;&lt;/parameterDescription&gt;\n        &lt;defaultValueExpression&gt;&lt;![CDATA[&quot;C:\\\\Users\\\\Sachin\\\\Desktop\\\\ChannelBuzz\\\\codebase\\\\backend\\\\channelBuzz-CMT\\\\src\\\\main\\\\resources\\\\&quot;]]&gt;&lt;/defaultValueExpression&gt;\n    &lt;/parameter&gt;\n    &lt;parameter name=&quot;bookMarkList&quot; class=&quot;net.sf.jasperreports.engine.data.JRBeanCollectionDataSource&quot;/&gt;\n    &lt;parameter name=&quot;influencerSubReport&quot; class=&quot;net.sf.jasperreports.engine.data.JRBeanCollectionDataSource&quot;/&gt;\n    &lt;!--&lt;field name=&quot;influencerSubReport&quot; class=&quot;java.util.List&quot;/&gt;--&gt;\n----------------------------------------------------------------------------------  \n            &lt;subreport&gt;\n                &lt;reportElement x=&quot;14&quot; y=&quot;30&quot; width=&quot;525&quot; height=&quot;160&quot; backcolor=&quot;#120302&quot; uuid=&quot;b673878e-c46d-44f1-a694-9a74c2f33595&quot;/&gt;\n                &lt;subreportParameter name=&quot;REPORT_DIR&quot;&gt;\n                    &lt;subreportParameterExpression&gt;&lt;![CDATA[$P{REPORT_DIR}]]&gt;&lt;/subreportParameterExpression&gt;\n                &lt;/subreportParameter&gt;\n                &lt;!--&lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($P{influencerSubReport})]]&gt;&lt;/dataSourceExpression&gt;--&gt;\n                &lt;subreportExpression&gt;&lt;![CDATA[$P{REPORT_DIR}+&quot;subReport.jasper&quot;]]&gt;&lt;/subreportExpression&gt;\n            &lt;/subreport&gt;\n        \n</code></pre>\n<p>sub-Report</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!-- Created with Jaspersoft Studio version 6.20.0.final using JasperReports Library version 6.20.0-2bc7ab61c56f459e8176eb05c7705e145cd400ad  --&gt;\n&lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;subReport&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; uuid=&quot;c1e6d951-893e-47d6-aee0-ebf095bc2ad5&quot;&gt;\n    &lt;property name=&quot;com.jaspersoft.studio.data.defaultdataadapter&quot; value=&quot;One Empty Record&quot;/&gt;\n    &lt;field name=&quot;fullName&quot; class=&quot;java.lang.String&quot;/&gt;\n    &lt;field name=&quot;titleName&quot; class=&quot;java.lang.String&quot;/&gt;\n    &lt;background&gt;\n        &lt;band splitType=&quot;Stretch&quot;/&gt;\n    &lt;/background&gt;\n    &lt;detail&gt;\n        &lt;band height=&quot;760&quot; splitType=&quot;Stretch&quot;&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.unit.height&quot; value=&quot;px&quot;/&gt;\n            &lt;image&gt;\n                &lt;reportElement x=&quot;162&quot; y=&quot;0&quot; width=&quot;219&quot; height=&quot;50&quot; uuid=&quot;48aaf691-c160-4377-a97e-a2f7911a7e85&quot;/&gt;\n                &lt;imageExpression&gt;&lt;![CDATA[&quot;asset/Channel_Buzz_logo.PNG&quot;]]&gt;&lt;/imageExpression&gt;\n            &lt;/image&gt;\n            &lt;frame&gt;\n                &lt;reportElement mode=&quot;Opaque&quot; x=&quot;14&quot; y=&quot;60&quot; width=&quot;525&quot; height=&quot;160&quot; forecolor=&quot;#4E059C&quot; backcolor=&quot;rgba(21, 13, 110, 0.6666667)&quot; uuid=&quot;aa3eecb5-d2ed-47aa-a919-dd6925ff62b3&quot;&gt;\n                    &lt;property name=&quot;com.jaspersoft.studio.unit.height&quot; value=&quot;px&quot;/&gt;\n                &lt;/reportElement&gt;\n                &lt;textField&gt;\n                    &lt;reportElement x=&quot;170&quot; y=&quot;20&quot; width=&quot;150&quot; height=&quot;30&quot; forecolor=&quot;#FAFAFA&quot; uuid=&quot;dbe450da-ffc5-4a37-a7c2-24bd909d0b6d&quot;/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=&quot;Leelawadee&quot; size=&quot;22&quot; isBold=&quot;true&quot;/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{titleName}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement x=&quot;330&quot; y=&quot;20&quot; width=&quot;34&quot; height=&quot;30&quot; forecolor=&quot;#FCF7F7&quot; uuid=&quot;0bd7c7ec-9b07-4800-b1f0-8ffc99619078&quot;/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=&quot;Leelawadee&quot; size=&quot;22&quot;/&gt;\n                    &lt;/textElement&gt;\n                    &lt;text&gt;&lt;![CDATA[by]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n                &lt;textField&gt;\n                    &lt;reportElement x=&quot;373&quot; y=&quot;20&quot; width=&quot;140&quot; height=&quot;30&quot; forecolor=&quot;#FCF5F5&quot; uuid=&quot;14090b8c-c094-4a69-83c3-fbc8f28288c4&quot;/&gt;\n                    &lt;textElement&gt;\n                        &lt;font fontName=&quot;Leelawadee&quot; size=&quot;22&quot; isBold=&quot;true&quot;/&gt;\n                    &lt;/textElement&gt;\n                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{fullName}]]&gt;&lt;/textFieldExpression&gt;\n                &lt;/textField&gt;\n            &lt;/frame&gt;\n        &lt;/band&gt;\n    &lt;/detail&gt;\n&lt;/jasperReport&gt;\n</code></pre>\n<p>java code</p>\n<pre><code>private void masterWordReport(InfluencerManagementData data) {\n\n        final InputStream subStream = this.getClass().getResourceAsStream(&quot;/subReport.jrxml&quot;);\n        final InputStream stream = this.getClass().getResourceAsStream(&quot;/ChannelBuzz_Influencer_JasperReport.jrxml&quot;);\n        try {\n            List&lt;InfluencerManagementData&gt; influencerSubReport = data.getInfluencerSubReport();\n            final JRBeanCollectionDataSource bookMarkListSource = new JRBeanCollectionDataSource(data.getBookmarkedInfluencersData(), false);\n            final JRBeanCollectionDataSource subReportListSource = new JRBeanCollectionDataSource(influencerSubReport, false);\n            // Compile the Jasper report from .jrxml to .japser\n            final JasperReport masterReport = JasperCompileManager.compileReport(stream);\n            final JasperReport subReport = JasperCompileManager.compileReport(subStream);\n\n            // Adding the additional dynamic parameters to the pdf.\n            final Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\n            parameters.put(&quot;bookMarkList&quot;, bookMarkListSource);\n            parameters.put(&quot;REPORT_DIR&quot;, &quot;C:\\\\Users\\\\Sachin\\\\Desktop\\\\ChannelBuzz\\\\codebase\\\\backend\\\\channelBuzz-CMT\\\\src\\\\main\\\\resources\\\\&quot;);\n            parameters.put(&quot;influencerSubReport&quot;, subReport);\n\n//          final JasperPrint pdfPrint = JasperFillManager.fillReport(masterReport, parameters, new JREmptyDataSource());\n            final JasperPrint pdfPrint = JasperFillManager.fillReport(masterReport, parameters, subReportListSource);\n//          JasperFillManager.fillReportToFile(masterReport,\n//                  &quot;C:\\\\Users\\\\Sachin\\\\Pictures\\\\Saved Pictures\\\\test\\\\master_report.jrprint&quot;, parameters, subReportListSource);           \n\n            final String filePath = &quot;C:\\\\Users\\\\Sachin\\\\Pictures\\\\Saved Pictures\\\\test\\\\&quot;;\n            \n//            Export to Word\n              JRDocxExporter exporter = new JRDocxExporter();    \n              exporter.setExporterInput(new SimpleExporterInput(pdfPrint)); \n              File exportReportFile = new File(filePath+&quot;MasterReport&quot; + &quot;.docx&quot;);\n              exporter.setExporterOutput(new SimpleOutputStreamExporterOutput(exportReportFile));\n              exporter.exportReport();\n            System.out.println(&quot;Genrating the word fle report via jasper.&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I try all solution but it's not showing pls check if something missing in this code</p>\n<p>I am trying to show sub-report in master report, i want to show 4 pages with sub report</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1669624780,"post_id":74596554,"comment_id":131675938,"body_markdown":"You would need to write your own `MethodArgumentHandler` for this and invent your own annotation. What is the use-case you are trying to solve here? Why do you need a map containing the parameters that aren&#39;t part of the signature? Why is it impossible to use the map with the parameters?","body":"You would need to write your own <code>MethodArgumentHandler</code> for this and invent your own annotation. What is the use-case you are trying to solve here? Why do you need a map containing the parameters that aren&#39;t part of the signature? Why is it impossible to use the map with the parameters?"},{"owner":{"account_id":16502910,"reputation":61,"user_id":11923754,"display_name":"Abhishek Mishra"},"score":0,"creation_date":1669684433,"post_id":74596554,"comment_id":131693854,"body_markdown":"Use-case: The controller is a part of legacy code, client wants to send new parameters and trigger a new logic based on these new parameters. Since it is legacy code, we don&#39;t want to change the controller signature way too much as we don&#39;t know the impact on usage, hence adding the &quot;allParams&quot; Map and looking for a way to just have the new parameters passed from the URL in this Map.\n\nIt is not impossible, we can use the Map since it contains all the parameters, but I was looking for a better/cleaner way to pass around only the needed parameters.","body":"Use-case: The controller is a part of legacy code, client wants to send new parameters and trigger a new logic based on these new parameters. Since it is legacy code, we don&#39;t want to change the controller signature way too much as we don&#39;t know the impact on usage, hence adding the &quot;allParams&quot; Map and looking for a way to just have the new parameters passed from the URL in this Map.  It is not impossible, we can use the Map since it contains all the parameters, but I was looking for a better/cleaner way to pass around only the needed parameters."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1669704384,"post_id":74596554,"comment_id":131696864,"body_markdown":"As stated you would need to invent your own annotation. The easiest is to just change the method and add the parameters (or even better bind to a class and check which ones are there) as optional, check if they are they are there. The easiest is to just introduce a DTO which holds all parameters and in the method check which ones are available and depending on that do your logic.","body":"As stated you would need to invent your own annotation. The easiest is to just change the method and add the parameters (or even better bind to a class and check which ones are there) as optional, check if they are they are there. The easiest is to just introduce a DTO which holds all parameters and in the method check which ones are available and depending on that do your logic."}],"answers":[{"tags":[],"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669624988,"creation_date":1669624988,"answer_id":74598023,"question_id":74596554,"body_markdown":"I think you can&#39;t mix. \r\nYou can use @RequestParam Map&lt;String,String&gt; allParams\r\n\r\nand get specific param from map in method body.","title":"Reflectively filter the new parameters in Spring Controller","body":"<p>I think you can't mix.\nYou can use @RequestParam Map&lt;String,String&gt; allParams</p>\n<p>and get specific param from map in method body.</p>\n"}],"owner":{"account_id":16502910,"reputation":61,"user_id":11923754,"display_name":"Abhishek Mishra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669624988,"creation_date":1669615214,"question_id":74596554,"body_markdown":"I want to filter the explicitly defined query parameters from the Map of all parameters in a Spring controller, so that the resultant Map should only contain any undefined/new parameters.\r\n\r\nExample:\r\n\r\nSample Controller:\r\n```\r\n@RequestMapping(&quot;/api/foos&quot;)\r\npublic String updateFoos(@RequestParam String param1,\r\n                         @RequestParam Map&lt;String,String&gt; allParams) {\r\n    // do something\r\n}\r\n```\r\n\r\nSample URL:\r\n```\r\nhttps://localhost:8080/api/foos?param1=value1&amp;param2=value2\r\n```\r\n\r\nCurrent result: &quot;**allParams**&quot; Map contains two entries:\r\n```\r\nparam1=value1\r\nparam2=value2\r\n```\r\n\r\nExpected result: &quot;**allParams**&quot; Map should only contain one entry:\r\n```\r\nparam2=value2\r\n```\r\nIs there a way or is it even possible using Spring reflections or something similar to filter out the &quot; **allParams**&quot; Map such that it only contains the entries for new parameters? Without manually removing every predefined parameters one by one?","title":"Reflectively filter the new parameters in Spring Controller","body":"<p>I want to filter the explicitly defined query parameters from the Map of all parameters in a Spring controller, so that the resultant Map should only contain any undefined/new parameters.</p>\n<p>Example:</p>\n<p>Sample Controller:</p>\n<pre><code>@RequestMapping(&quot;/api/foos&quot;)\npublic String updateFoos(@RequestParam String param1,\n                         @RequestParam Map&lt;String,String&gt; allParams) {\n    // do something\n}\n</code></pre>\n<p>Sample URL:</p>\n<pre><code>https://localhost:8080/api/foos?param1=value1&amp;param2=value2\n</code></pre>\n<p>Current result: &quot;<strong>allParams</strong>&quot; Map contains two entries:</p>\n<pre><code>param1=value1\nparam2=value2\n</code></pre>\n<p>Expected result: &quot;<strong>allParams</strong>&quot; Map should only contain one entry:</p>\n<pre><code>param2=value2\n</code></pre>\n<p>Is there a way or is it even possible using Spring reflections or something similar to filter out the &quot; <strong>allParams</strong>&quot; Map such that it only contains the entries for new parameters? Without manually removing every predefined parameters one by one?</p>\n"},{"tags":["java","string","character-encoding","compression","base64"],"comments":[{"owner":{"account_id":3481521,"reputation":6000,"user_id":2913439,"display_name":"dkasipovic"},"score":0,"creation_date":1393423068,"post_id":22043451,"comment_id":33420858,"body_markdown":"Well hex is something similar, but just using 0-9A-F ? Can you convert it to hex?","body":"Well hex is something similar, but just using 0-9A-F ? Can you convert it to hex?"},{"owner":{"account_id":238547,"reputation":866,"user_id":507512,"accept_rate":100,"display_name":"pondigi"},"score":0,"creation_date":1393503918,"post_id":22043451,"comment_id":33464489,"body_markdown":"@D.Kasipovic, valid point, but i would prefer my suggested encoding as it will reduce the length of an ID further. Thanks.","body":"@D.Kasipovic, valid point, but i would prefer my suggested encoding as it will reduce the length of an ID further. Thanks."},{"owner":{"account_id":3481521,"reputation":6000,"user_id":2913439,"display_name":"dkasipovic"},"score":0,"creation_date":1393504370,"post_id":22043451,"comment_id":33464835,"body_markdown":"Yes, but HEX is just base 16 numerical system where it the numbers greater than 9 are represented with letter. Similar, you could use base convert to 63 or 64, and represent numbers greater than 9 by letters. There is actually an example (would you believe), matching your question, at http://korn19.ch/coding/base_converter.php and I quote: `Base-2 to base-62 are accepted. &quot;A&quot; stands for 10, &quot;Z&quot; for 35, &quot;a&quot; (lower-case) for 36 and &quot;z&quot; (lower-case) for 61. Decimals are supported`","body":"Yes, but HEX is just base 16 numerical system where it the numbers greater than 9 are represented with letter. Similar, you could use base convert to 63 or 64, and represent numbers greater than 9 by letters. There is actually an example (would you believe), matching your question, at <a href=\"http://korn19.ch/coding/base_converter.php\" rel=\"nofollow noreferrer\">korn19.ch/coding/base_converter.php</a> and I quote: <code>Base-2 to base-62 are accepted. &quot;A&quot; stands for 10, &quot;Z&quot; for 35, &quot;a&quot; (lower-case) for 36 and &quot;z&quot; (lower-case) for 61. Decimals are supported</code>"},{"owner":{"account_id":143589,"reputation":1483,"user_id":352035,"display_name":"AutomatedMike"},"score":0,"creation_date":1700671131,"post_id":22043451,"comment_id":136684000,"body_markdown":"Integer.toString(i, 36) / Integer.parseInt(s, 36)  \n- it&#39;s not base64 but it&#39;s much more compact than base 10, it&#39;s only one line and almost certainly bug free.","body":"Integer.toString(i, 36) / Integer.parseInt(s, 36)   - it&#39;s not base64 but it&#39;s much more compact than base 10, it&#39;s only one line and almost certainly bug free."}],"answers":[{"tags":[],"owner":{"account_id":2622745,"reputation":131,"user_id":2270433,"display_name":"ctutte"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1393423110,"creation_date":1393423110,"answer_id":22043599,"question_id":22043451,"body_markdown":"Depending on the language you use, there should already be a module which converts a string from/to base64. \r\nCheck this other post: https://stackoverflow.com/questions/13109588/base64-encoding-in-java","title":"How to convert integers to base64 (0-9A-Za-z)","body":"<p>Depending on the language you use, there should already be a module which converts a string from/to base64. \nCheck this other post: <a href=\"https://stackoverflow.com/questions/13109588/base64-encoding-in-java\">Base64 Encoding in Java</a></p>\n"},{"tags":[],"owner":{"account_id":2310941,"reputation":844,"user_id":2029079,"display_name":"Uday Shankar"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1393423471,"creation_date":1393423471,"answer_id":22043755,"question_id":22043451,"body_markdown":"You can refer to already existing logic for converting from Decimal [0-9] to Hexadecimal conversion present in `Integer` class and extend the logic for your Base 64 converison. Refer \r\n\r\n    Integer.toHexString(int i)\r\n\r\nThis maybe the efficient implementation for conversion.","title":"How to convert integers to base64 (0-9A-Za-z)","body":"<p>You can refer to already existing logic for converting from Decimal [0-9] to Hexadecimal conversion present in <code>Integer</code> class and extend the logic for your Base 64 converison. Refer </p>\n\n<pre><code>Integer.toHexString(int i)\n</code></pre>\n\n<p>This maybe the efficient implementation for conversion.</p>\n"},{"comments":[{"owner":{"account_id":238547,"reputation":866,"user_id":507512,"accept_rate":100,"display_name":"pondigi"},"score":0,"creation_date":1393504005,"post_id":22043836,"comment_id":33464558,"body_markdown":"thanks! Any chance you could see the update on my question, and possibly guide me as to where is my function wrong? :) Thanks","body":"thanks! Any chance you could see the update on my question, and possibly guide me as to where is my function wrong? :) Thanks"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1393505016,"post_id":22043836,"comment_id":33465312,"body_markdown":"Note: could be better. We could use a `List` instead of an array. The code in the decode function would then be MUCH simpler...","body":"Note: could be better. We could use a <code>List</code> instead of an array. The code in the decode function would then be MUCH simpler..."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1393507138,"post_id":22043836,"comment_id":33466931,"body_markdown":"@pondigi Look at the edit again, there is in fact a MUCH more simple way","body":"@pondigi Look at the edit again, there is in fact a MUCH more simple way"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1393507845,"post_id":22043836,"comment_id":33467497,"body_markdown":"@pondigi before you thank me, check that the decode actually works... I wrote it &quot;out of thin air&quot;, remember","body":"@pondigi before you thank me, check that the decode actually works... I wrote it &quot;out of thin air&quot;, remember"},{"owner":{"account_id":2625035,"reputation":453,"user_id":2272240,"display_name":"Matt Parlane"},"score":0,"creation_date":1517406170,"post_id":22043836,"comment_id":84082288,"body_markdown":"Very helpful! Here&#39;s a PHP version: https://gist.github.com/mattparlane/6b2b63aec32470b3b5ed27696e398f77","body":"Very helpful! Here&#39;s a PHP version: <a href=\"https://gist.github.com/mattparlane/6b2b63aec32470b3b5ed27696e398f77\" rel=\"nofollow noreferrer\">gist.github.com/mattparlane/6b2b63aec32470b3b5ed27696e398f77</a>"}],"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1481624624,"creation_date":1393423658,"answer_id":22043836,"question_id":22043451,"body_markdown":"This is not base64; base64 encodes binary data.\r\n\r\nAnyway, you don&#39;t need a s*load of `if` statements; use an array:\r\n\r\n    public final class AlphabetEncoder\r\n    {\r\n        private static final char[] ALPHABET = { &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, ...., &#39;z&#39; };\r\n        private static final int ENCODE_LENGTH = ALPHABET.length;\r\n    \r\n        public static String encode(int victim)\r\n        {\r\n            final List&lt;Character&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n            do {\r\n                list.add(ALPHABET[victim % ENCODE_LENGTH]);\r\n                victim /= ENCODE_LENGTH;\r\n            } while (victim &gt; 0);\r\n    \r\n            Collections.reverse(list);\r\n            return new String(list.toArray(new char[list.size()],\r\n                StandardCharsets.UTF_8);\r\n        }\r\n\r\n        public int decode(final String encoded)\r\n        {\r\n            int ret = 0;\r\n            char c;\r\n            for (int index = 0; index &lt; encoded.length(); index++) {\r\n                c = encoded.charAt(index);\r\n                ret *= ENCODE_LENGTH;\r\n                ret += Arrays.binarySearch(ALPHABET, c);\r\n           }\r\n           return ret;\r\n        }\r\n    }\r\n\r\nNOTE ABOUT THE DECODE FUNCTION: it is possible to use `Arrays.binarySearch()` here since the alphabet has the nice property of being naturally sorted (0 &lt; 1 &lt; 2 &lt; ... &lt; z). However, a test should probably be added that its return code not be negative!\r\n\r\n","title":"How to convert integers to base64 (0-9A-Za-z)","body":"<p>This is not base64; base64 encodes binary data.</p>\n\n<p>Anyway, you don't need a s*load of <code>if</code> statements; use an array:</p>\n\n<pre><code>public final class AlphabetEncoder\n{\n    private static final char[] ALPHABET = { '0', '1', '2', ...., 'z' };\n    private static final int ENCODE_LENGTH = ALPHABET.length;\n\n    public static String encode(int victim)\n    {\n        final List&lt;Character&gt; list = new ArrayList&lt;&gt;();\n\n        do {\n            list.add(ALPHABET[victim % ENCODE_LENGTH]);\n            victim /= ENCODE_LENGTH;\n        } while (victim &gt; 0);\n\n        Collections.reverse(list);\n        return new String(list.toArray(new char[list.size()],\n            StandardCharsets.UTF_8);\n    }\n\n    public int decode(final String encoded)\n    {\n        int ret = 0;\n        char c;\n        for (int index = 0; index &lt; encoded.length(); index++) {\n            c = encoded.charAt(index);\n            ret *= ENCODE_LENGTH;\n            ret += Arrays.binarySearch(ALPHABET, c);\n       }\n       return ret;\n    }\n}\n</code></pre>\n\n<p>NOTE ABOUT THE DECODE FUNCTION: it is possible to use <code>Arrays.binarySearch()</code> here since the alphabet has the nice property of being naturally sorted (0 &lt; 1 &lt; 2 &lt; ... &lt; z). However, a test should probably be added that its return code not be negative!</p>\n"},{"tags":[],"owner":{"account_id":8578289,"reputation":608,"user_id":6426900,"display_name":"Igor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669624869,"creation_date":1668351422,"answer_id":74422059,"question_id":22043451,"body_markdown":"My thanks to the @fge answer.\r\nUsing it with some changes I&#39;ve get it to support much larger integers with BigInteger, added support of negative integers and changed Arrays.binarySearch() with HashMap.\r\n\r\nBTW, it should be called **base62 encoding** because [0-9A-Za-z] contains just 62 chars.\r\n\r\n\tpublic class Base62{\r\n\r\n\t\tprivate static final char[] ALPHABET = new char[ 62 ];\r\n\t\tprivate static final Map&lt;Character, Integer&gt; ALPHABET_MAPPING = new HashMap&lt;&gt;();\r\n\t\tprivate static final BigInteger ENCODE_LENGTH = BigInteger.valueOf( ALPHABET.length );\r\n\r\n\t\tstatic{\r\n\t\t\tint position = 0;\r\n\t\t\t// numbers\r\n\t\t\tfor( int i = 48; i &lt;= 57; i++ ){\r\n\t\t\t\tALPHABET[ position++ ] = (char)i;\r\n\t\t\t}\r\n\t\t\t// uppercase letters\r\n\t\t\tfor( int i = 65; i &lt;= 90; i++ ){\r\n\t\t\t\tALPHABET[ position++ ] = (char)i;\r\n\t\t\t}\r\n\t\t\t// lowercase letters\r\n\t\t\tfor( int i = 97; i &lt;= 122; i++ ){\r\n\t\t\t\tALPHABET[ position++ ] = (char)i;\r\n\t\t\t}\r\n\t\t\tfor( int i = 0; i &lt; ALPHABET.length; i++ ){\r\n\t\t\t\tALPHABET_MAPPING.put( ALPHABET[ i ], i );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic static String encode( final BigInteger in ){\r\n\t\t\tfinal List&lt;Character&gt; list = new ArrayList&lt;&gt;();\r\n\t\t\tboolean negative = in.signum() == -1;\r\n\t\t\tBigInteger use;\r\n\t\t\tif( negative ){\r\n\t\t\t\tuse = in.negate();\r\n\t\t\t} else {\r\n\t\t\t\tuse = in;\r\n\t\t\t}\r\n\r\n\t\t\tdo{\r\n\t\t\t\tBigInteger[] divisionResultAndReminder = use.divideAndRemainder( ENCODE_LENGTH );\r\n\t\t\t\tlist.add( ALPHABET[ divisionResultAndReminder[ 1 ].intValue() ] );\r\n\t\t\t\tuse = divisionResultAndReminder[ 0 ];\r\n\t\t\t} while( use.equals( BigInteger.ZERO ) == false );\r\n\r\n\t\t\tCollections.reverse( list );\r\n\r\n\t\t\tchar[] res = new char[ list.size() ];\r\n\t\t\tfor( int i = 0; i &lt; list.size(); i++ ){\r\n\t\t\t\tres[ i ] = list.get( i );\r\n\t\t\t}\r\n\r\n\t\t\treturn ( negative ? &quot;-&quot; : &quot;&quot; ) + new String( res );\r\n\t\t}\r\n\r\n\t\tpublic static BigInteger decode( final String encoded ){\r\n\t\t\tBigInteger res = BigInteger.ZERO;\r\n\t\t\tchar c;\r\n\t\t\tboolean negative;\r\n\t\t\tString use;\r\n\t\t\tif( &#39;-&#39; == encoded.charAt( 0 ) ){\r\n\t\t\t\tnegative = true;\r\n\t\t\t\tuse = encoded.substring( 1 );\r\n\t\t\t} else {\r\n\t\t\t\tnegative = false;\r\n\t\t\t\tuse = encoded;\r\n\t\t\t}\r\n\r\n\t\t\tfor( int index = 0; index &lt; use.length(); index++ ){\r\n\t\t\t\tc = use.charAt( index );\r\n\t\t\t\tres = res.multiply( ENCODE_LENGTH );\r\n\t\t\t\tres = res.add( BigInteger.valueOf( ALPHABET_MAPPING.get( c ) ) );\r\n\t\t\t}\r\n\t\t\treturn negative ? res.negate() : res;\r\n\t\t}\r\n\t}\r\n","title":"How to convert integers to base64 (0-9A-Za-z)","body":"<p>My thanks to the @fge answer.\nUsing it with some changes I've get it to support much larger integers with BigInteger, added support of negative integers and changed Arrays.binarySearch() with HashMap.</p>\n<p>BTW, it should be called <strong>base62 encoding</strong> because [0-9A-Za-z] contains just 62 chars.</p>\n<pre><code>public class Base62{\n\n    private static final char[] ALPHABET = new char[ 62 ];\n    private static final Map&lt;Character, Integer&gt; ALPHABET_MAPPING = new HashMap&lt;&gt;();\n    private static final BigInteger ENCODE_LENGTH = BigInteger.valueOf( ALPHABET.length );\n\n    static{\n        int position = 0;\n        // numbers\n        for( int i = 48; i &lt;= 57; i++ ){\n            ALPHABET[ position++ ] = (char)i;\n        }\n        // uppercase letters\n        for( int i = 65; i &lt;= 90; i++ ){\n            ALPHABET[ position++ ] = (char)i;\n        }\n        // lowercase letters\n        for( int i = 97; i &lt;= 122; i++ ){\n            ALPHABET[ position++ ] = (char)i;\n        }\n        for( int i = 0; i &lt; ALPHABET.length; i++ ){\n            ALPHABET_MAPPING.put( ALPHABET[ i ], i );\n        }\n    }\n\n    public static String encode( final BigInteger in ){\n        final List&lt;Character&gt; list = new ArrayList&lt;&gt;();\n        boolean negative = in.signum() == -1;\n        BigInteger use;\n        if( negative ){\n            use = in.negate();\n        } else {\n            use = in;\n        }\n\n        do{\n            BigInteger[] divisionResultAndReminder = use.divideAndRemainder( ENCODE_LENGTH );\n            list.add( ALPHABET[ divisionResultAndReminder[ 1 ].intValue() ] );\n            use = divisionResultAndReminder[ 0 ];\n        } while( use.equals( BigInteger.ZERO ) == false );\n\n        Collections.reverse( list );\n\n        char[] res = new char[ list.size() ];\n        for( int i = 0; i &lt; list.size(); i++ ){\n            res[ i ] = list.get( i );\n        }\n\n        return ( negative ? &quot;-&quot; : &quot;&quot; ) + new String( res );\n    }\n\n    public static BigInteger decode( final String encoded ){\n        BigInteger res = BigInteger.ZERO;\n        char c;\n        boolean negative;\n        String use;\n        if( '-' == encoded.charAt( 0 ) ){\n            negative = true;\n            use = encoded.substring( 1 );\n        } else {\n            negative = false;\n            use = encoded;\n        }\n\n        for( int index = 0; index &lt; use.length(); index++ ){\n            c = use.charAt( index );\n            res = res.multiply( ENCODE_LENGTH );\n            res = res.add( BigInteger.valueOf( ALPHABET_MAPPING.get( c ) ) );\n        }\n        return negative ? res.negate() : res;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":238547,"reputation":866,"user_id":507512,"accept_rate":100,"display_name":"pondigi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21222,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":22043836,"answer_count":4,"score":5,"last_activity_date":1669624869,"creation_date":1393422808,"question_id":22043451,"body_markdown":"I have been trying to reduce the length of the way. I represent some integer ID&#39;s in my program. For Example\r\n\r\n    2\r\n    3\r\n    15\r\n    26\r\n    63\r\n    ...\r\n    151564852\r\n\r\nI would like them to be represented as such (0-9A-Za-z only)\r\n\r\n    2\r\n    3\r\n    F\r\n    Q\r\n    z\r\n    ...\r\n    vDF25a   //For example\r\n\r\nThe approach I thought of is to have 63 if statements which each of the mappings from 0-63 to 0-z respectively and for anything above 64 do a recursion on the value minus 63.\r\n\r\nNeedless to say, I think my approach is very flawed and impractical. What would be a more appropriate way of doing it?\r\n\r\n---\r\n\r\n**Update:**\r\n\r\nFollowing *fge&#39;s* suggestion I&#39;ve got the encoder to work correctly, however my decode function only works for up-to length 2 strings, in cases where the string is larger the sum becomes erroneous. For example for 3840 to 3845 this is the output\r\n\r\n    // Encoded \r\n    zw\r\n    x\r\n    zy\r\n    zz\r\n    100\r\n    \r\n    // Decoded\r\n    3840\r\n    3841\r\n    3842\r\n    3843\r\n    124         //Invalid decoding\r\n\r\n\r\nHere is my code for the decode function\r\n\r\n    public static int decode(String value)\r\n    {\r\n        String revStr = new StringBuilder(value).reverse().toString();\r\n\r\n        int sum = 0;\r\n\r\n\r\n\r\n        for (int i=1; i &lt; revStr.length(); i++)\r\n        {\r\n            for (int j=0; j &lt; ALPHABET.length; j++)\r\n            {\r\n                if (ALPHABET[j] == revStr.charAt(i))\r\n                {\r\n                    sum += (ALPHABET.length * j) * i;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        for (int j=0; j &lt; ALPHABET.length; j++)\r\n        {\r\n            if (ALPHABET[j] == revStr.charAt(0))\r\n            {\r\n                sum += j;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return sum;\r\n    }","title":"How to convert integers to base64 (0-9A-Za-z)","body":"<p>I have been trying to reduce the length of the way. I represent some integer ID's in my program. For Example</p>\n\n<pre><code>2\n3\n15\n26\n63\n...\n151564852\n</code></pre>\n\n<p>I would like them to be represented as such (0-9A-Za-z only)</p>\n\n<pre><code>2\n3\nF\nQ\nz\n...\nvDF25a   //For example\n</code></pre>\n\n<p>The approach I thought of is to have 63 if statements which each of the mappings from 0-63 to 0-z respectively and for anything above 64 do a recursion on the value minus 63.</p>\n\n<p>Needless to say, I think my approach is very flawed and impractical. What would be a more appropriate way of doing it?</p>\n\n<hr>\n\n<p><strong>Update:</strong></p>\n\n<p>Following <em>fge's</em> suggestion I've got the encoder to work correctly, however my decode function only works for up-to length 2 strings, in cases where the string is larger the sum becomes erroneous. For example for 3840 to 3845 this is the output</p>\n\n<pre><code>// Encoded \nzw\nx\nzy\nzz\n100\n\n// Decoded\n3840\n3841\n3842\n3843\n124         //Invalid decoding\n</code></pre>\n\n<p>Here is my code for the decode function</p>\n\n<pre><code>public static int decode(String value)\n{\n    String revStr = new StringBuilder(value).reverse().toString();\n\n    int sum = 0;\n\n\n\n    for (int i=1; i &lt; revStr.length(); i++)\n    {\n        for (int j=0; j &lt; ALPHABET.length; j++)\n        {\n            if (ALPHABET[j] == revStr.charAt(i))\n            {\n                sum += (ALPHABET.length * j) * i;\n                break;\n            }\n        }\n    }\n\n    for (int j=0; j &lt; ALPHABET.length; j++)\n    {\n        if (ALPHABET[j] == revStr.charAt(0))\n        {\n            sum += j;\n            break;\n        }\n    }\n\n    return sum;\n}\n</code></pre>\n"},{"tags":["java","discord","bots","discord-jda"],"answers":[{"comments":[{"owner":{"account_id":27063280,"reputation":21,"user_id":20615009,"display_name":"David"},"score":0,"creation_date":1669745816,"post_id":74597904,"comment_id":131711240,"body_markdown":"Hi! Ty for your answer but how can I make a List public? It says &quot;Modifier &#39;public&#39; not allowed here&quot; when I try `public List&lt;TextChannel&gt; channel = new ArrayList&lt;&gt;();`","body":"Hi! Ty for your answer but how can I make a List public? It says &quot;Modifier &#39;public&#39; not allowed here&quot; when I try <code>public List&lt;TextChannel&gt; channel = new ArrayList&lt;&gt;();</code>"},{"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"score":0,"creation_date":1670435593,"post_id":74597904,"comment_id":131877898,"body_markdown":"public keyword is only allowed in the class, you can&#39;t put it in a method.\nPut it right under your \n```public class myClass extends ListenerAdapter  {\n    public List&lt;TextChannel&gt; channel= new ArrayList&lt;&gt;();\n}```\nAlso, please google easy questions like this, instead of asking on Stack ;)","body":"public keyword is only allowed in the class, you can&#39;t put it in a method. Put it right under your  <code>public class myClass extends ListenerAdapter  {     public List&lt;TextChannel&gt; channel= new ArrayList&lt;&gt;(); }</code> Also, please google easy questions like this, instead of asking on Stack ;)"}],"tags":[],"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669624316,"creation_date":1669624316,"answer_id":74597904,"question_id":74590738,"body_markdown":"You have to store the data on the channel somewhere, preferably in a separate file, but you can also make a public `List&lt;TextChannel&gt;` and work on that, only problem being it will be reset every time you restart the project.","title":"How to use a channel, which is provided in a slashcommand received before in a onMessageReveived event?","body":"<p>You have to store the data on the channel somewhere, preferably in a separate file, but you can also make a public <code>List&lt;TextChannel&gt;</code> and work on that, only problem being it will be reset every time you restart the project.</p>\n"}],"owner":{"account_id":27063280,"reputation":21,"user_id":20615009,"display_name":"David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669624316,"creation_date":1669558547,"question_id":74590738,"body_markdown":"I started coding a new project today and I&#39;m having some issues. The bot should check every message in a channel provided in a slash command whether it&#39;s equal to a word, also provided in the slash command. For that I would normally need an onMessageReceived event, but I can&#39;t use something, which was provided in a slash command there. Has anyone an idea how to fix that?\r\n\r\nI tried some things, but you can&#39;t make a public string in an onSlashCommandInteractionEvent. I don&#39;t know how I could fix that problem otherwise, because I would normally do something like \r\n```\r\nevent.getOption(&quot;channel&quot;).getAsChannel().asTextChannel()\r\n```\r\nbut you can only do that in the event. There you can&#39;t use it in another event though.","title":"How to use a channel, which is provided in a slashcommand received before in a onMessageReveived event?","body":"<p>I started coding a new project today and I'm having some issues. The bot should check every message in a channel provided in a slash command whether it's equal to a word, also provided in the slash command. For that I would normally need an onMessageReceived event, but I can't use something, which was provided in a slash command there. Has anyone an idea how to fix that?</p>\n<p>I tried some things, but you can't make a public string in an onSlashCommandInteractionEvent. I don't know how I could fix that problem otherwise, because I would normally do something like</p>\n<pre><code>event.getOption(&quot;channel&quot;).getAsChannel().asTextChannel()\n</code></pre>\n<p>but you can only do that in the event. There you can't use it in another event though.</p>\n"},{"tags":["java","bouncycastle","signature","ecdsa"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1634065594,"post_id":69545649,"comment_id":122925103,"body_markdown":"An alternative to converting the ASN.1/DER signature to an IEEE P1363 (r|s) signature is to generate the signature directly in IEEE P1363 (r|s) format. Newer BC versions support this format with the algorithm `SHA256withPlain-ECDSA` (or `SHA384withPlain-ECDSA` or `SHA512withPlain-ECDSA`).","body":"An alternative to converting the ASN.1/DER signature to an IEEE P1363 (r|s) signature is to generate the signature directly in IEEE P1363 (r|s) format. Newer BC versions support this format with the algorithm <code>SHA256withPlain-ECDSA</code> (or <code>SHA384withPlain-ECDSA</code> or <code>SHA512withPlain-ECDSA</code>)."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1634066278,"post_id":69545649,"comment_id":122925308,"body_markdown":"Regarding the conversion it might be more efficient to use an ASN.1 parser (e.g. from BouncyCastle), see e.g. [DER Decode ECDSA Signature in Java](https://stackoverflow.com/q/39385718/9014097).","body":"Regarding the conversion it might be more efficient to use an ASN.1 parser (e.g. from BouncyCastle), see e.g. <a href=\"https://stackoverflow.com/q/39385718/9014097\">DER Decode ECDSA Signature in Java</a>."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":2,"creation_date":1634070921,"post_id":69545649,"comment_id":122926679,"body_markdown":"@Topaco+ Bouncy since 1.51 in 2014 -- or SunEC since 9 in 2017 with different (and clumsier) naming `{hash}withECDSAinP1363Format`. OP: your code, although kludgy, should _mostly_ work for any curve up to 488 bits including P-384; P-521/secp521r1 and brainpool512 are the only common ones above that, but some signatures which happen to have arithmetically small r and/or s will be wrong.","body":"@Topaco+ Bouncy since 1.51 in 2014 -- or SunEC since 9 in 2017 with different (and clumsier) naming <code>{hash}withECDSAinP1363Format</code>. OP: your code, although kludgy, should <i>mostly</i> work for any curve up to 488 bits including P-384; P-521/secp521r1 and brainpool512 are the only common ones above that, but some signatures which happen to have arithmetically small r and/or s will be wrong."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1634072523,"post_id":69545649,"comment_id":122927138,"body_markdown":"@dave_thompson_085 - Thx. I dimly remembered that support for r|s was added later, but not exactly when. Then I guess the BC version of the OP should work ;-)","body":"@dave_thompson_085 - Thx. I dimly remembered that support for r|s was added later, but not exactly when. Then I guess the BC version of the OP should work ;-)"},{"owner":{"account_id":10414687,"reputation":602,"user_id":7679136,"display_name":"Sox -"},"score":0,"creation_date":1634077027,"post_id":69545649,"comment_id":122928254,"body_markdown":"Thank you both for your answers, I ll take a look at it. Any reasons why it wont work with any curves after 488 bits ?","body":"Thank you both for your answers, I ll take a look at it. Any reasons why it wont work with any curves after 488 bits ?"},{"owner":{"account_id":1121028,"reputation":353,"user_id":1115256,"accept_rate":57,"display_name":"Harish"},"score":0,"creation_date":1677478575,"post_id":69545649,"comment_id":133338443,"body_markdown":"how does above logic works if either of R and S value has 0x00 as first byte and 0x00 is part of 32 byte value itself not added to handle negative value. In this case you will be copying only 31 bytes of R or S value.","body":"how does above logic works if either of R and S value has 0x00 as first byte and 0x00 is part of 32 byte value itself not added to handle negative value. In this case you will be copying only 31 bytes of R or S value."}],"answers":[{"tags":[],"owner":{"account_id":10414687,"reputation":602,"user_id":7679136,"display_name":"Sox -"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634077655,"creation_date":1634077655,"answer_id":69547674,"question_id":69545649,"body_markdown":"`{hash}withECDSAinP1363Format` did the trick ! Thank you ! I didn&#39;t even needed to read all those specs to see how to parse it...","title":"ECDSA DER signature","body":"<p><code>{hash}withECDSAinP1363Format</code> did the trick ! Thank you ! I didn't even needed to read all those specs to see how to parse it...</p>\n"}],"owner":{"account_id":10414687,"reputation":602,"user_id":7679136,"display_name":"Sox -"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":741,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69547674,"answer_count":1,"score":1,"last_activity_date":1669624217,"creation_date":1634064853,"question_id":69545649,"body_markdown":"I have generated an ECDSA signature in Java and I would like to get the R and S values from it in order to have the COSE encoded signature. It is my understanding that the signature I have generated is DER encoded (by default using bouncyCastle). I properly retrieve the R and S values when I used P-256 curve (SHA256withECDSA).\r\n\r\nI have some issues parsing the signature from one encoding to another when I use other curves (P-521, P-384).\r\n\r\nHere after is how I parse it :\r\n \r\n    public static byte[] extractRandSToCose(byte[] signature) {\r\n\r\n        if (signature[0] == 0x30) {\r\n            //parse R\r\n            int rSize = signature[3];\r\n            BigInteger rBigInt = new BigInteger(Arrays.copyOfRange(signature, 4, rSize+4));\r\n            //strip out sign byte 0x00\r\n            byte[] r = toByteArrayUnsigned(rBigInt);\r\n\r\n            //parse S\r\n            int sSize = signature[5 + rSize];\r\n            int index = rSize + 6;\r\n            BigInteger sBigInt = new BigInteger(Arrays.copyOfRange(signature, index, index+sSize));\r\n            //strip out sign byte 0x00\r\n            byte[] s = toByteArrayUnsigned(sBigInt);\r\n\r\n            return Bytes.concat(r,s);\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    public static byte[] toByteArrayUnsigned(BigInteger bigInteger) {\r\n        byte[] extractedBytes = bigInteger.toByteArray();\r\n        int skipped = 0;\r\n        boolean skip = true;\r\n        for (byte b : extractedBytes) {\r\n            boolean signByte = b == 0x00;\r\n\r\n            if (skip &amp;&amp; signByte) {\r\n                skipped++;\r\n                continue;\r\n            } else if (skip){\r\n                skip = false;\r\n            }\r\n        }\r\n        extractedBytes = Arrays.copyOfRange(extractedBytes, skipped, extractedBytes.length);\r\n        return extractedBytes;\r\n    }\r\n\r\nI dont get what I am doing wrong.\r\n\r\n&gt; PS: Those methods works from time to time. It works everytime for P-256 (whether the DER signature is 70 71 or 72 bytes long and properly gives me a 64 byte long Cose signature), P-384 (same for 102, 103 104 byte long and properly gives me a 96 byte long cose signature) but only works half the time for P-521 (138, 139, 140 byte long and even when it does the cose signature is only 31 byte long....)\r\n","title":"ECDSA DER signature","body":"<p>I have generated an ECDSA signature in Java and I would like to get the R and S values from it in order to have the COSE encoded signature. It is my understanding that the signature I have generated is DER encoded (by default using bouncyCastle). I properly retrieve the R and S values when I used P-256 curve (SHA256withECDSA).</p>\n<p>I have some issues parsing the signature from one encoding to another when I use other curves (P-521, P-384).</p>\n<p>Here after is how I parse it :</p>\n<pre><code>public static byte[] extractRandSToCose(byte[] signature) {\n\n    if (signature[0] == 0x30) {\n        //parse R\n        int rSize = signature[3];\n        BigInteger rBigInt = new BigInteger(Arrays.copyOfRange(signature, 4, rSize+4));\n        //strip out sign byte 0x00\n        byte[] r = toByteArrayUnsigned(rBigInt);\n\n        //parse S\n        int sSize = signature[5 + rSize];\n        int index = rSize + 6;\n        BigInteger sBigInt = new BigInteger(Arrays.copyOfRange(signature, index, index+sSize));\n        //strip out sign byte 0x00\n        byte[] s = toByteArrayUnsigned(sBigInt);\n\n        return Bytes.concat(r,s);\n    }\n    return null;\n}\n\n\npublic static byte[] toByteArrayUnsigned(BigInteger bigInteger) {\n    byte[] extractedBytes = bigInteger.toByteArray();\n    int skipped = 0;\n    boolean skip = true;\n    for (byte b : extractedBytes) {\n        boolean signByte = b == 0x00;\n\n        if (skip &amp;&amp; signByte) {\n            skipped++;\n            continue;\n        } else if (skip){\n            skip = false;\n        }\n    }\n    extractedBytes = Arrays.copyOfRange(extractedBytes, skipped, extractedBytes.length);\n    return extractedBytes;\n}\n</code></pre>\n<p>I dont get what I am doing wrong.</p>\n<blockquote>\n<p>PS: Those methods works from time to time. It works everytime for P-256 (whether the DER signature is 70 71 or 72 bytes long and properly gives me a 64 byte long Cose signature), P-384 (same for 102, 103 104 byte long and properly gives me a 96 byte long cose signature) but only works half the time for P-521 (138, 139, 140 byte long and even when it does the cose signature is only 31 byte long....)</p>\n</blockquote>\n"},{"tags":["java","apache","hibernate"],"answers":[{"comments":[{"owner":{"account_id":2663344,"reputation":103,"user_id":2302493,"accept_rate":83,"display_name":"Slava Chirița"},"score":0,"creation_date":1399981428,"post_id":23629808,"comment_id":36283363,"body_markdown":"Thank you for reply.\nUnfortunately I checked the spelling and I found no problem","body":"Thank you for reply. Unfortunately I checked the spelling and I found no problem"},{"owner":{"account_id":2663344,"reputation":103,"user_id":2302493,"accept_rate":83,"display_name":"Slava Chirița"},"score":1,"creation_date":1399983073,"post_id":23629808,"comment_id":36284418,"body_markdown":"I tried to delete the server on Eclipse IDE and, then, create it again. This steps fixed the problem.\nCould you explain why did this problem occure?","body":"I tried to delete the server on Eclipse IDE and, then, create it again. This steps fixed the problem. Could you explain why did this problem occure?"},{"owner":{"account_id":4362155,"reputation":1218,"user_id":3558875,"display_name":"AdityaKeyal"},"score":3,"creation_date":1399983725,"post_id":23629808,"comment_id":36284925,"body_markdown":"This could have been a problem with caching. Rarely what does happen is that eclipse+tomcat caches an earlier version of the war partially (due to thread hold). Thus resulting in this problem. If you face a situation where by your changes are not reflected you can also try to `Clea Tomcat Work Directory` next time.","body":"This could have been a problem with caching. Rarely what does happen is that eclipse+tomcat caches an earlier version of the war partially (due to thread hold). Thus resulting in this problem. If you face a situation where by your changes are not reflected you can also try to <code>Clea Tomcat Work Directory</code> next time."}],"tags":[],"owner":{"account_id":4362155,"reputation":1218,"user_id":3558875,"display_name":"AdityaKeyal"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1399980007,"creation_date":1399980007,"answer_id":23629808,"question_id":23629118,"body_markdown":"This is a case of `java.lang.ClassNotFoundException: com.iss.congress.core.util.HibernateListener ` which means that the class `HibernateListener` is not present in the class path. Make sure that the jar containing this class is present in the `WEB-INF/lib` folder of your application.  \r\n\r\nIf the class is present in the src folder then check the package name. Package names/Class Names are case-sensitive.","title":"Apache: Error configuring application listener","body":"<p>This is a case of <code>java.lang.ClassNotFoundException: com.iss.congress.core.util.HibernateListener</code> which means that the class <code>HibernateListener</code> is not present in the class path. Make sure that the jar containing this class is present in the <code>WEB-INF/lib</code> folder of your application.  </p>\n\n<p>If the class is present in the src folder then check the package name. Package names/Class Names are case-sensitive.</p>\n"},{"tags":[],"owner":{"account_id":7411429,"reputation":78038,"user_id":5638630,"accept_rate":88,"display_name":"Krunal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582535229,"creation_date":1582534619,"answer_id":60372386,"question_id":23629118,"body_markdown":"There can be any of the following reasons:\r\n\r\n1. Either, your class file is not available on specified location (check your package_name/class_file_name.java)\r\n\r\n2. **OR, your file exist at specified location but there is an error in your file, that could be built (generate class file)** \r\n\r\n(for me, the reason for an issue was point no. 2.) The root cause of an issue was, I changed (upgraded) version of rest libraries, which caused an issue with existing class files.\r\n\r\n---\r\n\r\nI resolved an issue by adding/selecting proper apache tomcat server.\r\n\r\n&gt; Project Properties =&gt; Java Build Path =&gt; Add Library =&gt; Select `Server Runtime` =&gt; click Next and Select &quot;Apache Tomcat&quot; =&gt; Finish","title":"Apache: Error configuring application listener","body":"<p>There can be any of the following reasons:</p>\n\n<ol>\n<li><p>Either, your class file is not available on specified location (check your package_name/class_file_name.java)</p></li>\n<li><p><strong>OR, your file exist at specified location but there is an error in your file, that could be built (generate class file)</strong> </p></li>\n</ol>\n\n<p>(for me, the reason for an issue was point no. 2.) The root cause of an issue was, I changed (upgraded) version of rest libraries, which caused an issue with existing class files.</p>\n\n<hr>\n\n<p>I resolved an issue by adding/selecting proper apache tomcat server.</p>\n\n<blockquote>\n  <p>Project Properties => Java Build Path => Add Library => Select <code>Server Runtime</code> => click Next and Select \"Apache Tomcat\" => Finish</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6834571,"reputation":1130,"user_id":5257091,"display_name":"Hasnaa Ibraheem"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595607913,"creation_date":1595607913,"answer_id":63077657,"question_id":23629118,"body_markdown":"It happened that I edited in the listener class and after I saved it and republish the app to tomcat I found that error of class not found.\r\n&lt;br&gt;What I did was to remove my updates in the listener class, republish to tomcat, then add the updates again.. I did this because I suspected that there is a problem in eclipse in .class generation for any reason, although I cleaned the projects several times.\r\n&lt;br&gt;Removing my updates, saving (to have a new compiled version of the class), then adding my updates back again has resolved the issue for me.\r\n&lt;br&gt;Yes this seems illogic, but IDEs issues occur sometimes.","title":"Apache: Error configuring application listener","body":"<p>It happened that I edited in the listener class and after I saved it and republish the app to tomcat I found that error of class not found.\n<br>What I did was to remove my updates in the listener class, republish to tomcat, then add the updates again.. I did this because I suspected that there is a problem in eclipse in .class generation for any reason, although I cleaned the projects several times.\n<br>Removing my updates, saving (to have a new compiled version of the class), then adding my updates back again has resolved the issue for me.\n<br>Yes this seems illogic, but IDEs issues occur sometimes.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1669827302,"post_id":74597879,"comment_id":131733253,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74597879/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27070749,"reputation":1,"user_id":20621431,"display_name":"Sachin Rajoriya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669624186,"creation_date":1669624186,"answer_id":74597879,"question_id":23629118,"body_markdown":"In my case some jar files was missing like \r\njavax.ejb-api-3.2.jar missing \r\nin Tomcat directory in libs folder. also check jars libs of your .m2 repository of  project.\r\n\r\n","title":"Apache: Error configuring application listener","body":"<p>In my case some jar files was missing like\njavax.ejb-api-3.2.jar missing\nin Tomcat directory in libs folder. also check jars libs of your .m2 repository of  project.</p>\n"}],"owner":{"account_id":2663344,"reputation":103,"user_id":2302493,"accept_rate":83,"display_name":"Slava Chirița"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51897,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":23629808,"answer_count":4,"score":4,"last_activity_date":1669624186,"creation_date":1399978025,"question_id":23629118,"body_markdown":"I&#39;m facing with this problem when I try to run the application:\r\n\r\n&gt; WARNING: [SetContextPropertiesRule]{Context} Setting property &#39;source&#39;\r\n&gt; to &#39;org.eclipse.jst.j2ee.server:CongressApp&#39; did not find a matching\r\n&gt; property. May 13, 2014 1:35:26 PM\r\n&gt; org.apache.catalina.core.StandardContext listenerStart SEVERE: Error\r\n&gt; configuring application listener of class\r\n&gt; org.apache.catalina.deploy.ApplicationListener@bdeab\r\n&gt; java.lang.ClassNotFoundException:\r\n&gt; com.iss.congress.core.util.CongressContextListener \tat\r\n&gt; org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)\r\n&gt; \tat\r\n&gt; org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:527)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:509)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:137)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4854)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:656)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1635)\r\n&gt; \tat\r\n&gt; java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n&gt; \tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\r\n&gt; \tat java.util.concurrent.FutureTask.run(FutureTask.java:166) \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n&gt; \tat java.lang.Thread.run(Thread.java:722)\r\n&gt; \r\n&gt; May 13, 2014 1:35:26 PM org.apache.catalina.core.StandardContext\r\n&gt; listenerStart SEVERE: Error configuring application listener of class\r\n&gt; org.apache.catalina.deploy.ApplicationListener@6a5b20\r\n&gt; java.lang.ClassNotFoundException:\r\n&gt; com.iss.congress.core.util.CongressHttpSessionListener \tat\r\n&gt; org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)\r\n&gt; \tat\r\n&gt; org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:527)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:509)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:137)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4854)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:656)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1635)\r\n&gt; \tat\r\n&gt; java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n&gt; \tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\r\n&gt; \tat java.util.concurrent.FutureTask.run(FutureTask.java:166) \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n&gt; \tat java.lang.Thread.run(Thread.java:722)\r\n&gt; \r\n&gt; May 13, 2014 1:35:26 PM org.apache.catalina.core.StandardContext\r\n&gt; listenerStart SEVERE: Error configuring application listener of class\r\n&gt; org.apache.catalina.deploy.ApplicationListener@1bacb12\r\n&gt; java.lang.ClassNotFoundException:\r\n&gt; com.iss.congress.core.util.HibernateListener \tat\r\n&gt; org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)\r\n&gt; \tat\r\n&gt; org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:527)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:509)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:137)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4854)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:656)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1635)\r\n&gt; \tat\r\n&gt; java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n&gt; \tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\r\n&gt; \tat java.util.concurrent.FutureTask.run(FutureTask.java:166) \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n&gt; \tat java.lang.Thread.run(Thread.java:722)\r\n\r\n\r\nIn web.xml listeners are configured in this manner:\r\n\r\n    &lt;listener&gt;\r\n    \t\t&lt;listener-class&gt;com.iss.congress.core.util.CongressContextListener&lt;/listener-class&gt;\r\n    \t&lt;/listener&gt;\r\n    \t\r\n    \t&lt;listener&gt;\r\n    \t\t&lt;listener-class&gt;com.iss.congress.core.util.CongressHttpSessionListener&lt;/listener-class&gt;\r\n    \t&lt;/listener&gt;\r\n    \r\n    \r\n    \t&lt;listener&gt;\r\n    \t\t&lt;display-name&gt;Hibernate Session Listener&lt;/display-name&gt;\r\n    \t\t&lt;listener-class&gt;com.iss.congress.core.util.HibernateListener&lt;/listener-class&gt;\r\n    \t&lt;/listener&gt;\r\n\r\n","title":"Apache: Error configuring application listener","body":"<p>I'm facing with this problem when I try to run the application:</p>\n\n<blockquote>\n  <p>WARNING: [SetContextPropertiesRule]{Context} Setting property 'source'\n  to 'org.eclipse.jst.j2ee.server:CongressApp' did not find a matching\n  property. May 13, 2014 1:35:26 PM\n  org.apache.catalina.core.StandardContext listenerStart SEVERE: Error\n  configuring application listener of class\n  org.apache.catalina.deploy.ApplicationListener@bdeab\n  java.lang.ClassNotFoundException:\n  com.iss.congress.core.util.CongressContextListener    at\n  org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)\n    at\n  org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\n    at\n  org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:527)\n    at\n  org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:509)\n    at\n  org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:137)\n    at\n  org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4854)\n    at\n  org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at\n  org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\n    at\n  org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\n    at\n  org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)\n    at\n  org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:656)\n    at\n  org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1635)\n    at\n  java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:166)     at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:722)</p>\n  \n  <p>May 13, 2014 1:35:26 PM org.apache.catalina.core.StandardContext\n  listenerStart SEVERE: Error configuring application listener of class\n  org.apache.catalina.deploy.ApplicationListener@6a5b20\n  java.lang.ClassNotFoundException:\n  com.iss.congress.core.util.CongressHttpSessionListener    at\n  org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)\n    at\n  org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\n    at\n  org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:527)\n    at\n  org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:509)\n    at\n  org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:137)\n    at\n  org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4854)\n    at\n  org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at\n  org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\n    at\n  org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\n    at\n  org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)\n    at\n  org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:656)\n    at\n  org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1635)\n    at\n  java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:166)     at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:722)</p>\n  \n  <p>May 13, 2014 1:35:26 PM org.apache.catalina.core.StandardContext\n  listenerStart SEVERE: Error configuring application listener of class\n  org.apache.catalina.deploy.ApplicationListener@1bacb12\n  java.lang.ClassNotFoundException:\n  com.iss.congress.core.util.HibernateListener  at\n  org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)\n    at\n  org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\n    at\n  org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:527)\n    at\n  org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:509)\n    at\n  org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:137)\n    at\n  org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4854)\n    at\n  org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at\n  org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\n    at\n  org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\n    at\n  org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)\n    at\n  org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:656)\n    at\n  org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1635)\n    at\n  java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:166)     at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:722)</p>\n</blockquote>\n\n<p>In web.xml listeners are configured in this manner:</p>\n\n<pre><code>&lt;listener&gt;\n        &lt;listener-class&gt;com.iss.congress.core.util.CongressContextListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;com.iss.congress.core.util.CongressHttpSessionListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n\n    &lt;listener&gt;\n        &lt;display-name&gt;Hibernate Session Listener&lt;/display-name&gt;\n        &lt;listener-class&gt;com.iss.congress.core.util.HibernateListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n</code></pre>\n"},{"tags":["java","date","datetime"],"comments":[{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1669620360,"post_id":74597081,"comment_id":131674670,"body_markdown":"There is a typo, I gues &quot;35&quot; vs &quot;53&quot; minutes. Also, your desired result yield _more_ information than your input. That won&#39;t fly. Then, your input does not _have_ an index 19, so you may need to review your parsing template.","body":"There is a typo, I gues &quot;35&quot; vs &quot;53&quot; minutes. Also, your desired result yield <i>more</i> information than your input. That won&#39;t fly. Then, your input does not <i>have</i> an index 19, so you may need to review your parsing template."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1669620436,"post_id":74597081,"comment_id":131674691,"body_markdown":"When you can use the modern `Instant`, class, then why on Earth use the outdated and poorly designed `Date`? Your `XMLGregorianCalendar` already prints in ISO 8601 format. Are you sure that it is in UTC? By appending `Z` you are claiming that it is.","body":"When you can use the modern <code>Instant</code>, class, then why on Earth use the outdated and poorly designed <code>Date</code>? Your <code>XMLGregorianCalendar</code> already prints in ISO 8601 format. Are you sure that it is in UTC? By appending <code>Z</code> you are claiming that it is."},{"owner":{"account_id":10112469,"reputation":638,"user_id":7472239,"accept_rate":68,"display_name":"Sikandar Sahab"},"score":0,"creation_date":1669621047,"post_id":74597081,"comment_id":131674865,"body_markdown":"@Fildor the issue is not type, I have updated to be same.","body":"@Fildor the issue is not type, I have updated to be same."},{"owner":{"account_id":10112469,"reputation":638,"user_id":7472239,"accept_rate":68,"display_name":"Sikandar Sahab"},"score":0,"creation_date":1669621129,"post_id":74597081,"comment_id":131674888,"body_markdown":"@OleV.V. Yes I am sure it is ISO_8601 format. In the whole response I am getting all dates ending with `Z` but this only is coming without `Z`. if I append `Z` at the last. Should it be considered good thing ?","body":"@OleV.V. Yes I am sure it is ISO_8601 format. In the whole response I am getting all dates ending with <code>Z</code> but this only is coming without <code>Z</code>. if I append <code>Z</code> at the last. Should it be considered good thing ?"},{"owner":{"account_id":10112469,"reputation":638,"user_id":7472239,"accept_rate":68,"display_name":"Sikandar Sahab"},"score":0,"creation_date":1669621230,"post_id":74597081,"comment_id":131674912,"body_markdown":"@OleV.V. or else is there any way that i can convert this date to java date and from their make a conversion to iso_8601 so the the new date comes with `Z` ?","body":"@OleV.V. or else is there any way that i can convert this date to java date and from their make a conversion to iso_8601 so the the new date comes with <code>Z</code> ?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":3,"creation_date":1669622865,"post_id":74597081,"comment_id":131675392,"body_markdown":"You have a datetime as `String` without an offset or a zone, which has a length of 19. It cannot be parsed at index 19, which it does not have. The conclusion is the parser expects more than this `String` can offer, in particular, an offset or a zone. Do you want to declare this datetime UTC?","body":"You have a datetime as <code>String</code> without an offset or a zone, which has a length of 19. It cannot be parsed at index 19, which it does not have. The conclusion is the parser expects more than this <code>String</code> can offer, in particular, an offset or a zone. Do you want to declare this datetime UTC?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1669624573,"post_id":74597081,"comment_id":131675870,"body_markdown":"*if I append Z at the last. Should it be considered good thing ?* It’s a dangerous thing to do if you are not 100 % sure the time is in UTC. I am thinking it is more likely in the local time zone of the sender (or your local time zone if the sender knows which one that is), in which case you need to convert to UTC first.","body":"<i>if I append Z at the last. Should it be considered good thing ?</i> It’s a dangerous thing to do if you are not 100 % sure the time is in UTC. I am thinking it is more likely in the local time zone of the sender (or your local time zone if the sender knows which one that is), in which case you need to convert to UTC first."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1669624725,"post_id":74597081,"comment_id":131675924,"body_markdown":"A detail, where are you expecting the `.890` (fraction of second) to come from? They are not in your input. Fortunately [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) does not require any fraction, so you can likely leave it out.","body":"A detail, where are you expecting the <code>.890</code> (fraction of second) to come from? They are not in your input. Fortunately <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> does not require any fraction, so you can likely leave it out."}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669624148,"creation_date":1669624148,"answer_id":74597874,"question_id":74597081,"body_markdown":"If you just want to convert the example input to UTC, you will need to make sure it actually is UTC. Otherwise you would just *append* a `Z` and declare it UTC.\r\n\r\nThe `DateTimeParseException` tells you there&#39;s information missing in the `String` because a non existent index is attempted to be parsed. The input has a length of 19, so its last index is 18.\r\n\r\nThat means, in this case, the `String` cannot be (reliably) assigned to a zone or offset. Zone and offset are unkown. They have been expected at/from index 19.\r\n\r\nIf you can verify the input is a UTC time, you can use the following example that makes the input a comparable UTC datetime: An `OffsetDateTime`…\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\t// example input WITHOUT OFFSET\r\n\tString input = &quot;2022-11-23T13:53:31&quot;;\r\n\t// parse it AND DECLARE IT UTC\r\n\tOffsetDateTime odt = LocalDateTime.parse(input)\r\n\t\t\t\t\t\t\t\t\t  .atOffset(ZoneOffset.UTC);\r\n\t// print the result\r\n\tString msg = String.format(&quot;IN:  %s\\nOUT: %s&quot;, \r\n\t\t\t\t\t\t\t   input, \r\n\t\t\t\t\t\t\t   odt.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME));\r\n\tSystem.out.println(msg);\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\nIN:  2022-11-23T13:53:31\r\nOUT: 2022-11-23T13:53:31Z\r\n```\r\n\r\nYou can compare `OffsetDateTime`s, just have a look at the docs.  \r\nIf you need the milliseconds / fractions of second, define a custom `DateTimeFormatter`.\r\n\r\nRemember to make sure the input **is UTC**.","title":"Exception while converting XMLGregorianCalendar date 2022-11-24T13:35:00 into ISO_8601","body":"<p>If you just want to convert the example input to UTC, you will need to make sure it actually is UTC. Otherwise you would just <em>append</em> a <code>Z</code> and declare it UTC.</p>\n<p>The <code>DateTimeParseException</code> tells you there's information missing in the <code>String</code> because a non existent index is attempted to be parsed. The input has a length of 19, so its last index is 18.</p>\n<p>That means, in this case, the <code>String</code> cannot be (reliably) assigned to a zone or offset. Zone and offset are unkown. They have been expected at/from index 19.</p>\n<p>If you can verify the input is a UTC time, you can use the following example that makes the input a comparable UTC datetime: An <code>OffsetDateTime</code>…</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    // example input WITHOUT OFFSET\n    String input = &quot;2022-11-23T13:53:31&quot;;\n    // parse it AND DECLARE IT UTC\n    OffsetDateTime odt = LocalDateTime.parse(input)\n                                      .atOffset(ZoneOffset.UTC);\n    // print the result\n    String msg = String.format(&quot;IN:  %s\\nOUT: %s&quot;, \n                               input, \n                               odt.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME));\n    System.out.println(msg);\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>IN:  2022-11-23T13:53:31\nOUT: 2022-11-23T13:53:31Z\n</code></pre>\n<p>You can compare <code>OffsetDateTime</code>s, just have a look at the docs.<br />\nIf you need the milliseconds / fractions of second, define a custom <code>DateTimeFormatter</code>.</p>\n<p>Remember to make sure the input <strong>is UTC</strong>.</p>\n"}],"owner":{"account_id":10112469,"reputation":638,"user_id":7472239,"accept_rate":68,"display_name":"Sikandar Sahab"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74597874,"answer_count":1,"score":0,"last_activity_date":1669624148,"creation_date":1669619137,"question_id":74597081,"body_markdown":"I have an XMLGregorianCalendar date in the below format:\r\n\r\n`2022-11-23T13:53:31`\r\n\r\nI want to convert it to ISO_8601 format like below:\r\n\r\n`2022-11-23T13:53:31.890Z`\r\n\r\nSo I am getting below exception:\r\n\r\n`java.time.format.DateTimeParseException: Text &#39;2022-11-23T13:53:31&#39; could not be parsed at index 19`\r\n\r\nI have tried the below code:\r\n\r\n    public static boolean checkIfDateMatches( String fromDate, String toDate, String inputDate ) throws Exception {\r\n        boolean flag = false;\r\n        Date start = Date.from(Instant.parse(fromDate));\r\n        Date end = Date.from(Instant.parse(toDate));\r\n        Date input = Date.from(Instant.parse(inputDate));\r\n        if( input.compareTo(start) &gt;= 0 &amp;&amp; input.compareTo(end) &lt;= 0 ) {\r\n            flag = true;\r\n        }\r\n        return flag;\r\n    }\r\n\r\nAny help appreciated. Thank you\r\n\r\n","title":"Exception while converting XMLGregorianCalendar date 2022-11-24T13:35:00 into ISO_8601","body":"<p>I have an XMLGregorianCalendar date in the below format:</p>\n<p><code>2022-11-23T13:53:31</code></p>\n<p>I want to convert it to ISO_8601 format like below:</p>\n<p><code>2022-11-23T13:53:31.890Z</code></p>\n<p>So I am getting below exception:</p>\n<p><code>java.time.format.DateTimeParseException: Text '2022-11-23T13:53:31' could not be parsed at index 19</code></p>\n<p>I have tried the below code:</p>\n<pre><code>public static boolean checkIfDateMatches( String fromDate, String toDate, String inputDate ) throws Exception {\n    boolean flag = false;\n    Date start = Date.from(Instant.parse(fromDate));\n    Date end = Date.from(Instant.parse(toDate));\n    Date input = Date.from(Instant.parse(inputDate));\n    if( input.compareTo(start) &gt;= 0 &amp;&amp; input.compareTo(end) &lt;= 0 ) {\n        flag = true;\n    }\n    return flag;\n}\n</code></pre>\n<p>Any help appreciated. Thank you</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15128674,"reputation":1304,"user_id":10917226,"display_name":"Lovesh Dongre"},"score":0,"creation_date":1594771591,"post_id":62905509,"comment_id":111241842,"body_markdown":"If you tell for which value of n, the solution is to skip printing the result, will speed things up","body":"If you tell for which value of n, the solution is to skip printing the result, will speed things up"},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1594785390,"post_id":62905509,"comment_id":111244600,"body_markdown":"Instead of embedding images of output, please copy the text of the output and paste that into the question (formatted).","body":"Instead of embedding images of output, please copy the text of the output and paste that into the question (formatted)."},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1594785465,"post_id":62905509,"comment_id":111244619,"body_markdown":"What is your question? If your output is incorrect, please put in the expected output.","body":"What is your question? If your output is incorrect, please put in the expected output."}],"answers":[{"tags":[],"owner":{"account_id":9704858,"reputation":3,"user_id":7198602,"display_name":"Austin Kimchi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669624103,"creation_date":1669624103,"answer_id":74597864,"question_id":62905509,"body_markdown":"I know this question was asked a long time ago. But here is the solution for the people who were wondering. (Cause IMO it&#39;s a badly worded question without many hints.) \r\n\r\n```\r\nimport java.util.Stack;\r\n\r\npublic class Bear {\r\n    public static void main(String[] args) {\r\n        Stack&lt;String&gt; stack = new Stack&lt;&gt;();\r\n        for (int i = 496; i &lt;= 500; i++) {\r\n            System.out.println(&quot;\\nStarting number:&quot; + i);\r\n            if (bears(stack, i)) // Checks condition of bool of bears\r\n                while (!stack.isEmpty())\r\n                    System.out.println(stack.pop());\r\n            else\r\n                System.out.println(&quot;No solution&quot;);\r\n        }\r\n    }\r\n\r\n    static boolean bears(Stack&lt;String&gt; stack, int n) {\r\n        int product;\r\n        if (n == 42) {\r\n            return true;\r\n        } else if (n &lt; 42) {\r\n            return false;\r\n        } else if ((n % 2 == 0) &amp;&amp; bears(stack, (n / 2))) {\r\n            stack.push(&quot;n=&quot; + n + &quot;, return &quot; + (n / 2) + &quot;. Now n=&quot; + (n / 2));\r\n            return true;\r\n        } else if ((n % 5 == 0) &amp;&amp; bears(stack, (n - 42))) {\r\n            n -= 42;\r\n            stack.push(&quot;n=&quot; + (n + 42) + &quot;, return &quot; + 42 + &quot;. Now n=&quot; + n);\r\n            return true;\r\n        } else { // RULE #2\r\n            product = ((n % 100) / 10) * (n % 10);\r\n            if ((product != 0) &amp;&amp; ((n % 3 == 0) || (n % 4 == 0)) &amp;&amp; bears(stack, (n - product))) {\r\n                stack.push(&quot;n=&quot; + n + &quot;, return &quot; + product + &quot;. Now n=&quot; + (n - product));\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n}\r\n```\r\nHopefully this helps. :D","title":"Printing numbers with it decreasing but it skipped over something supposed to print","body":"<p>I know this question was asked a long time ago. But here is the solution for the people who were wondering. (Cause IMO it's a badly worded question without many hints.)</p>\n<pre><code>import java.util.Stack;\n\npublic class Bear {\n    public static void main(String[] args) {\n        Stack&lt;String&gt; stack = new Stack&lt;&gt;();\n        for (int i = 496; i &lt;= 500; i++) {\n            System.out.println(&quot;\\nStarting number:&quot; + i);\n            if (bears(stack, i)) // Checks condition of bool of bears\n                while (!stack.isEmpty())\n                    System.out.println(stack.pop());\n            else\n                System.out.println(&quot;No solution&quot;);\n        }\n    }\n\n    static boolean bears(Stack&lt;String&gt; stack, int n) {\n        int product;\n        if (n == 42) {\n            return true;\n        } else if (n &lt; 42) {\n            return false;\n        } else if ((n % 2 == 0) &amp;&amp; bears(stack, (n / 2))) {\n            stack.push(&quot;n=&quot; + n + &quot;, return &quot; + (n / 2) + &quot;. Now n=&quot; + (n / 2));\n            return true;\n        } else if ((n % 5 == 0) &amp;&amp; bears(stack, (n - 42))) {\n            n -= 42;\n            stack.push(&quot;n=&quot; + (n + 42) + &quot;, return &quot; + 42 + &quot;. Now n=&quot; + n);\n            return true;\n        } else { // RULE #2\n            product = ((n % 100) / 10) * (n % 10);\n            if ((product != 0) &amp;&amp; ((n % 3 == 0) || (n % 4 == 0)) &amp;&amp; bears(stack, (n - product))) {\n                stack.push(&quot;n=&quot; + n + &quot;, return &quot; + product + &quot;. Now n=&quot; + (n - product));\n                return true;\n            }\n        }\n\n        return false;\n    }\n}\n</code></pre>\n<p>Hopefully this helps. :D</p>\n"}],"owner":{"account_id":18855415,"reputation":41,"user_id":13753489,"display_name":"marton"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669624103,"creation_date":1594769799,"question_id":62905509,"body_markdown":"**Instructions**\r\n\r\nThe game starts when I give you some Teddy bears. You can then give back some bears, but you must follow these rules (where n is the number of bears that you have):\r\n\r\nIf `n` is even, then you may give back exactly `n/2` bears.  \r\nIf `n` is divisible by `3` or `4`, then you may multiply the last two digits of `n` and give back this many bears. (By the way, the last digit of `n` is `n%10`, and the next-to-last digit is `((n%100)/10)`.  \r\nIf `n` is divisible by `5`, then you may give back exactly `42` bears.  \r\nThe goal of the game is to end up with EXACTLY `42` bears.  \r\n\r\nFor example, suppose that you start with `250` bears. Then you could make these moves:\r\n```\r\n--Start with `250` bears.\r\n--Since `250` is divisible by `5`, you may return `42` of the bears, leaving you with `208` bears.\r\n--Since `208` is even, you may return half of the bears, leaving you with `104` bears.\r\n--Since `104` is even, you may return half of the bears, leaving you with `52` bears.\r\n--Since `52` is divisible by `4`, you may multiply the last two digits (resulting in `10`) and return these `10` bears. This leaves you with `42` bears.\r\n--You have reached the goal!\r\nFor each integer `50`, `51`, `52`, ..., `500`, tell me if `42` can be reached and if so, what are the steps. Notice I use a stack to reverse the printout, so it is more readable. For example, the output of the last few cases are shown here:\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/umYCi.png\r\n\r\n**This is my code:**\r\n```\r\nimport java.util.Stack;\r\n\r\npublic class Hw18_1\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        Stack&lt;String&gt; stack = new Stack&lt;&gt;();\r\n\r\n        for (int i = 50; i &lt;= 500; i++)\r\n        {\r\n            System.out.println(&quot;\\nStarting number:&quot; + i);\r\n\r\n            if (bears(stack, i))\r\n            {\r\n                while (!stack.isEmpty())\r\n                    System.out.println(stack.pop());\r\n            }\r\n            else\r\n            {\r\n                System.out.println(&quot;No solution&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    static boolean bears(Stack&lt;String&gt; stack, int n)\r\n    {\r\n        int product;\r\n\r\n        if (n == 42)\r\n        {\r\n            return true;\r\n        }\r\n        else if (n &lt; 42)\r\n        {\r\n            // your work\r\n        }\r\n        else if ((n % 2 == 0) &amp;&amp; bears(stack, n / 2))\r\n        {\r\n            // your work\r\n        }\r\n        else if ((n % 5 == 0) &amp;&amp; bears(stack, n - 42))\r\n        {\r\n            // your work\r\n        }\r\n        else\r\n        {\r\n            product = ((n % 100) / 10) * (n % 10);\r\n            // your work\r\n        }\r\n        return false;\r\n    }\r\n}\r\n```","title":"Printing numbers with it decreasing but it skipped over something supposed to print","body":"<p><strong>Instructions</strong></p>\n<p>The game starts when I give you some Teddy bears. You can then give back some bears, but you must follow these rules (where n is the number of bears that you have):</p>\n<p>If <code>n</code> is even, then you may give back exactly <code>n/2</code> bears.<br />\nIf <code>n</code> is divisible by <code>3</code> or <code>4</code>, then you may multiply the last two digits of <code>n</code> and give back this many bears. (By the way, the last digit of <code>n</code> is <code>n%10</code>, and the next-to-last digit is <code>((n%100)/10)</code>.<br />\nIf <code>n</code> is divisible by <code>5</code>, then you may give back exactly <code>42</code> bears.<br />\nThe goal of the game is to end up with EXACTLY <code>42</code> bears.</p>\n<p>For example, suppose that you start with <code>250</code> bears. Then you could make these moves:</p>\n<pre><code>--Start with `250` bears.\n--Since `250` is divisible by `5`, you may return `42` of the bears, leaving you with `208` bears.\n--Since `208` is even, you may return half of the bears, leaving you with `104` bears.\n--Since `104` is even, you may return half of the bears, leaving you with `52` bears.\n--Since `52` is divisible by `4`, you may multiply the last two digits (resulting in `10`) and return these `10` bears. This leaves you with `42` bears.\n--You have reached the goal!\nFor each integer `50`, `51`, `52`, ..., `500`, tell me if `42` can be reached and if so, what are the steps. Notice I use a stack to reverse the printout, so it is more readable. For example, the output of the last few cases are shown here:\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/umYCi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/umYCi.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>This is my code:</strong></p>\n<pre><code>import java.util.Stack;\n\npublic class Hw18_1\n{\n    public static void main(String[] args)\n    {\n        Stack&lt;String&gt; stack = new Stack&lt;&gt;();\n\n        for (int i = 50; i &lt;= 500; i++)\n        {\n            System.out.println(&quot;\\nStarting number:&quot; + i);\n\n            if (bears(stack, i))\n            {\n                while (!stack.isEmpty())\n                    System.out.println(stack.pop());\n            }\n            else\n            {\n                System.out.println(&quot;No solution&quot;);\n            }\n        }\n    }\n\n    static boolean bears(Stack&lt;String&gt; stack, int n)\n    {\n        int product;\n\n        if (n == 42)\n        {\n            return true;\n        }\n        else if (n &lt; 42)\n        {\n            // your work\n        }\n        else if ((n % 2 == 0) &amp;&amp; bears(stack, n / 2))\n        {\n            // your work\n        }\n        else if ((n % 5 == 0) &amp;&amp; bears(stack, n - 42))\n        {\n            // your work\n        }\n        else\n        {\n            product = ((n % 100) / 10) * (n % 10);\n            // your work\n        }\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":["java","c","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1669583354,"post_id":74589053,"comment_id":131669109,"body_markdown":"The compiler is free to reuse the memory for that `path` variable once it goes out of scope. Use `asprintf` or move the declaration of `path` up one level.","body":"The compiler is free to reuse the memory for that <code>path</code> variable once it goes out of scope. Use <code>asprintf</code> or move the declaration of <code>path</code> up one level."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1669658857,"post_id":74589053,"comment_id":131687702,"body_markdown":"Your code is also vulnerable to a stack-overflow attack from a `CLASSPATH` environment variable long enough to overflow the buffer you provided.  Either use `asprintf()` as @Botje recommended or switch to `snprintf()`.","body":"Your code is also vulnerable to a stack-overflow attack from a <code>CLASSPATH</code> environment variable long enough to overflow the buffer you provided.  Either use <code>asprintf()</code> as @Botje recommended or switch to <code>snprintf()</code>."},{"owner":{"account_id":6535678,"reputation":1699,"user_id":5055251,"accept_rate":75,"display_name":"kingluo"},"score":0,"creation_date":1669688461,"post_id":74589053,"comment_id":131694426,"body_markdown":"yes, I change my code to fix it. Thank you all.","body":"yes, I change my code to fix it. Thank you all."}],"answers":[{"tags":[],"owner":{"account_id":6535678,"reputation":1699,"user_id":5055251,"accept_rate":75,"display_name":"kingluo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669621606,"creation_date":1669621606,"answer_id":74597466,"question_id":74589053,"body_markdown":"As [@Botje](https://stackoverflow.com/users/1548468/botje) points out:\r\n \r\n&gt; The compiler is free to reuse the memory for that path variable once it goes out of scope. Use asprintf or move the declaration of path up one level.\r\n\r\nThe issue gets solved.\r\nThank you, Botje.","title":"JVM created by JNI does not use classpath specified","body":"<p>As <a href=\"https://stackoverflow.com/users/1548468/botje\">@Botje</a> points out:</p>\n<blockquote>\n<p>The compiler is free to reuse the memory for that path variable once it goes out of scope. Use asprintf or move the declaration of path up one level.</p>\n</blockquote>\n<p>The issue gets solved.\nThank you, Botje.</p>\n"}],"owner":{"account_id":6535678,"reputation":1699,"user_id":5055251,"accept_rate":75,"display_name":"kingluo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74597466,"answer_count":1,"score":0,"last_activity_date":1669623989,"creation_date":1669543154,"question_id":74589053,"body_markdown":"Here is my code snippet:\r\n\r\n```c\r\nJavaVMOption options[MAX_OPTS];\r\nvm_args.version  = JNI_VERSION_1_8;\r\nvm_args.nOptions = 0;\r\nvm_args.options = options;\r\n\r\nchar* class_path = getenv(&quot;CLASSPATH&quot;);\r\nif (class_path) {\r\n    char path[4096];\r\n    sprintf(path, &quot;-Djava.class.path=%s&quot;, class_path);\r\n    options[vm_args.nOptions++].optionString = path;\r\n}\r\n...\r\nres = JNI_CreateJavaVM(&amp;vm, (void **)&amp;env, &amp;vm_args);\r\n...\r\njclass          cls;\r\njmethodID       mid;\r\n\r\ncls = (*env)-&gt;FindClass(env, class);\r\nif (cls == NULL) {\r\n    printf(&quot;Failed to find Main class\\n&quot;);\r\n    return 1;\r\n}\r\n```\r\n\r\nIt failed to find the class on Debian10, but it works on Ubuntu all series versions.\r\n\r\nI install `openjdk-11-jdk` on both Linux.\r\n\r\nI also try to install the official version instead: https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.deb, but on Debian10, it does not work too.\r\n\r\nI use `strace` to check what happens under the hood. I found on Debian10, it does not look up the classpath I set, but Ubuntu does!\r\n\r\nSo weird, is there something special on Debian10?","title":"JVM created by JNI does not use classpath specified","body":"<p>Here is my code snippet:</p>\n<pre class=\"lang-c prettyprint-override\"><code>JavaVMOption options[MAX_OPTS];\nvm_args.version  = JNI_VERSION_1_8;\nvm_args.nOptions = 0;\nvm_args.options = options;\n\nchar* class_path = getenv(&quot;CLASSPATH&quot;);\nif (class_path) {\n    char path[4096];\n    sprintf(path, &quot;-Djava.class.path=%s&quot;, class_path);\n    options[vm_args.nOptions++].optionString = path;\n}\n...\nres = JNI_CreateJavaVM(&amp;vm, (void **)&amp;env, &amp;vm_args);\n...\njclass          cls;\njmethodID       mid;\n\ncls = (*env)-&gt;FindClass(env, class);\nif (cls == NULL) {\n    printf(&quot;Failed to find Main class\\n&quot;);\n    return 1;\n}\n</code></pre>\n<p>It failed to find the class on Debian10, but it works on Ubuntu all series versions.</p>\n<p>I install <code>openjdk-11-jdk</code> on both Linux.</p>\n<p>I also try to install the official version instead: <a href=\"https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.deb\" rel=\"nofollow noreferrer\">https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.deb</a>, but on Debian10, it does not work too.</p>\n<p>I use <code>strace</code> to check what happens under the hood. I found on Debian10, it does not look up the classpath I set, but Ubuntu does!</p>\n<p>So weird, is there something special on Debian10?</p>\n"},{"tags":["java","scala","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":16393347,"reputation":13088,"user_id":11841571,"display_name":"Lamanus"},"score":0,"creation_date":1566729631,"post_id":57641535,"comment_id":101741700,"body_markdown":"you should use the v4 signature to connect v4 s3.","body":"you should use the v4 signature to connect v4 s3."},{"owner":{"account_id":15382256,"reputation":4153,"user_id":11097368,"display_name":"James Dean"},"score":0,"creation_date":1566743552,"post_id":57641535,"comment_id":101744769,"body_markdown":"I think 1.2.1 should use sigv4 automatically but if not you can use this https://github.com/ticofab/aws-request-signer","body":"I think 1.2.1 should use sigv4 automatically but if not you can use this <a href=\"https://github.com/ticofab/aws-request-signer\" rel=\"nofollow noreferrer\">github.com/ticofab/aws-request-signer</a>"}],"answers":[{"tags":[],"owner":{"account_id":22418262,"reputation":26,"user_id":16625980,"display_name":"rocket-3"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669623855,"creation_date":1669623855,"answer_id":74597816,"question_id":57641535,"body_markdown":"Try use Amazon V2 SDK for java. I&#39;we worked with Minio self-hosted instance with both SDK&#39;s and just switching to newer version helped to avoid this error. Also we used custom region.\r\n\r\nIn my build.gradle: \r\n\r\n``` implementation &#39;software.amazon.awssdk:s3:2.18.24&#39; ```\r\n\r\n```\r\n@Singleton\r\npublic class S3Service {\r\n\r\n    @Value(&quot;${s3.bucket}&quot;)\r\n    private String s3bucket;\r\n\r\n    @Value(&quot;${s3.host}&quot;)\r\n    private String s3host;\r\n\r\n    @Value(&quot;${s3.user}&quot;)\r\n    private String s3user;\r\n\r\n    @Value(&quot;${s3.password}&quot;)\r\n    private String s3pass;\r\n\r\n    public String getBucket() {\r\n        return this.s3bucket;\r\n    }\r\n\r\n    public S3Client getClient() {\r\n        final StaticCredentialsProvider creds = StaticCredentialsProvider.create(AwsBasicCredentials.create(\r\n            s3user,\r\n            s3pass\r\n        ));\r\n        return S3Client.builder()\r\n            .endpointOverride(URI.create(s3host))\r\n            .forcePathStyle(true)\r\n            .region(Region.of(&quot;my-company&quot;))\r\n            .credentialsProvider(creds)\r\n            .build();\r\n\r\n    }\r\n}\r\n```","title":"Scala AWS SDK S3 authorization mechanism you have provided is not supported","body":"<p>Try use Amazon V2 SDK for java. I'we worked with Minio self-hosted instance with both SDK's and just switching to newer version helped to avoid this error. Also we used custom region.</p>\n<p>In my build.gradle:</p>\n<p><code>implementation 'software.amazon.awssdk:s3:2.18.24'</code></p>\n<pre><code>@Singleton\npublic class S3Service {\n\n    @Value(&quot;${s3.bucket}&quot;)\n    private String s3bucket;\n\n    @Value(&quot;${s3.host}&quot;)\n    private String s3host;\n\n    @Value(&quot;${s3.user}&quot;)\n    private String s3user;\n\n    @Value(&quot;${s3.password}&quot;)\n    private String s3pass;\n\n    public String getBucket() {\n        return this.s3bucket;\n    }\n\n    public S3Client getClient() {\n        final StaticCredentialsProvider creds = StaticCredentialsProvider.create(AwsBasicCredentials.create(\n            s3user,\n            s3pass\n        ));\n        return S3Client.builder()\n            .endpointOverride(URI.create(s3host))\n            .forcePathStyle(true)\n            .region(Region.of(&quot;my-company&quot;))\n            .credentialsProvider(creds)\n            .build();\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13001605,"reputation":2186,"user_id":9397534,"display_name":"Desiigner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669623855,"creation_date":1566680625,"question_id":57641535,"body_markdown":"I know there&#39;s a topic related to this type of question but there&#39;s no solution for my problem.\r\n\r\nI&#39;m trying to fetch a file from an s3 bucket using AWS sdk.\r\n\r\n    libraryDependencies += &quot;com.amazonaws&quot; % &quot;aws-java-sdk&quot; % &quot;1.2.1&quot;\r\n\r\nThe code:\r\n\r\n    val accessKey = &quot;&quot;\r\n    val secretKey = &quot;&quot;\r\n    val bucketName = &quot;&quot;\r\n    \r\n    val urlPrefix = &quot;https://s3-eu-north-1.amazonaws.com&quot;\r\n    val credentials = new BasicAWSCredentials(accessKey, secretKey)\r\n    val client = new AmazonS3Client(credentials)\r\n    client.setEndpoint(&quot;s3.eu-north-1.amazonaws.com&quot;)\r\n    client.getObject(bucketName, &quot;test.txt&quot;)\r\n\r\nKeys have been removed for security reasons. The code fails at the last line with:\r\n\r\n&gt; [AmazonS3Exception: The authorization mechanism you have provided is not supported. Please use AWS4-HMAC-SHA256.]\r\n\r\nI&#39;ve been struggling with it for the whole day. Setting an endpoint also did not help me. It works with python&#39;s boto3 so there&#39;s no problem with my credentials.","title":"Scala AWS SDK S3 authorization mechanism you have provided is not supported","body":"<p>I know there's a topic related to this type of question but there's no solution for my problem.</p>\n\n<p>I'm trying to fetch a file from an s3 bucket using AWS sdk.</p>\n\n<pre><code>libraryDependencies += \"com.amazonaws\" % \"aws-java-sdk\" % \"1.2.1\"\n</code></pre>\n\n<p>The code:</p>\n\n<pre><code>val accessKey = \"\"\nval secretKey = \"\"\nval bucketName = \"\"\n\nval urlPrefix = \"https://s3-eu-north-1.amazonaws.com\"\nval credentials = new BasicAWSCredentials(accessKey, secretKey)\nval client = new AmazonS3Client(credentials)\nclient.setEndpoint(\"s3.eu-north-1.amazonaws.com\")\nclient.getObject(bucketName, \"test.txt\")\n</code></pre>\n\n<p>Keys have been removed for security reasons. The code fails at the last line with:</p>\n\n<blockquote>\n  <p>[AmazonS3Exception: The authorization mechanism you have provided is not supported. Please use AWS4-HMAC-SHA256.]</p>\n</blockquote>\n\n<p>I've been struggling with it for the whole day. Setting an endpoint also did not help me. It works with python's boto3 so there's no problem with my credentials.</p>\n"},{"tags":["java","boolean","flags"],"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":1,"creation_date":1669502700,"post_id":74586094,"comment_id":131656178,"body_markdown":"So one thing to focus on is the &quot;minimal&quot; part of &quot;minimal reproducible example&quot; - this is a big chunk of code for us to parse and debug. Before posting, you should pair it down to as small a set as possible as still demonstrates the error. Partially that&#39;s for our sake, but it&#39;s also just a good debugging technique - when I get stumped, the first thing I&#39;ll do is start tearing out functionality to figure out exactly what&#39;s broke.","body":"So one thing to focus on is the &quot;minimal&quot; part of &quot;minimal reproducible example&quot; - this is a big chunk of code for us to parse and debug. Before posting, you should pair it down to as small a set as possible as still demonstrates the error. Partially that&#39;s for our sake, but it&#39;s also just a good debugging technique - when I get stumped, the first thing I&#39;ll do is start tearing out functionality to figure out exactly what&#39;s broke."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669502857,"post_id":74586094,"comment_id":131656201,"body_markdown":"Doubt this is your problem but `userInputChar == Character.toLowerCase(&#39;r&#39;)` is backwards - &#39;r&#39; is already lower case. You want to make their input lower case.","body":"Doubt this is your problem but <code>userInputChar == Character.toLowerCase(&#39;r&#39;)</code> is backwards - &#39;r&#39; is already lower case. You want to make their input lower case."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669502906,"post_id":74586094,"comment_id":131656211,"body_markdown":"So long as I&#39;m code reviewing, never name things `method1`, `method2`, etc. You&#39;re only going to give yourself and anyone else who reads it a headache. Names should be concise but descriptive.","body":"So long as I&#39;m code reviewing, never name things <code>method1</code>, <code>method2</code>, etc. You&#39;re only going to give yourself and anyone else who reads it a headache. Names should be concise but descriptive."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669502993,"post_id":74586094,"comment_id":131656225,"body_markdown":"So you refer to `gameTie` in two different functions, but it&#39;s a local variable in each. Variables are only bound in the block they&#39;re defined - so, those two local variables are completely different things and can&#39;t see each other.","body":"So you refer to <code>gameTie</code> in two different functions, but it&#39;s a local variable in each. Variables are only bound in the block they&#39;re defined - so, those two local variables are completely different things and can&#39;t see each other."},{"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"score":0,"creation_date":1669625815,"post_id":74586094,"comment_id":131676231,"body_markdown":"Side track a bit. There is no need to use any conditional statements in your entire code to  code this. If-else, switch case &amp; ternary operator are all not necessary.","body":"Side track a bit. There is no need to use any conditional statements in your entire code to  code this. If-else, switch case &amp; ternary operator are all not necessary."}],"answers":[{"tags":[],"owner":{"account_id":27055146,"reputation":11,"user_id":20607967,"display_name":"Referium"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669502988,"creation_date":1669502988,"answer_id":74586182,"question_id":74586094,"body_markdown":"Your Method4 is returning the gameTie value but you do nothing with it in the Main Method you should say:\r\n\r\n    gameTie = method4(CPUchoice, userChoiceInt);\r\n","title":"Rock-Paper-Scissors game tie boolean does not re-initialize within a loop","body":"<p>Your Method4 is returning the gameTie value but you do nothing with it in the Main Method you should say:</p>\n<pre><code>gameTie = method4(CPUchoice, userChoiceInt);\n</code></pre>\n"}],"owner":{"account_id":26448702,"reputation":1,"user_id":20092196,"display_name":"Kachi03"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669623736,"creation_date":1669502144,"question_id":74586094,"body_markdown":"I&#39;m working on a rock-paper-scissors program using four methods for a class. Part of the assignment is repeating the game if the user and cpu tie, and ending the game when there is a winner. I&#39;ve done this by running the whole program through a do-while loop in main() that runs as long as the game is tied (gameTie = true). The issue that I am having is that the value for boolean gameTie only changes after the first game. If the first game is a tie, the program will loop infinitely. If there is a winner, the game ends. I am not sure why the value for boolean gameTie is not being re-initialized after every iteration (meaning after every tie or win). Any advice is appreciated.\r\n\r\n\r\n```\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\npublic class Lab9_2 {\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;This program plays Rock-Paper-Scissors against the computer.\\n&quot;\r\n\t\t\t\t\t\t + &quot;When there is a tie, the game will restart until a winner is chosen.&quot;);\r\n\t\tboolean gameTie = false;\r\n\t\tdo {\r\n\t\t\tint CPUchoice = method1();\r\n\t\t\t\t//generate the cpu&#39;s play\r\n\t\t\t\r\n\t\t\tint userChoiceInt = method2();\r\n\t\t\t\t//get the user&#39;s play\r\n\t\t\t\r\n\t\t\tmethod3(CPUchoice);\r\n\t\t\t\t//output cpu&#39;s play\r\n\t\t\t\r\n\t\t\tmethod4(CPUchoice, userChoiceInt);\r\n\t\t\t\t//compare both user&#39;s play. if they are tied, mark gameTie as true to rerun the loop\r\n\t\t\t\tif (CPUchoice == userChoiceInt) {\r\n\t\t\t\t\tgameTie = true;\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t}while(gameTie == true);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static int method1() {\r\n\t\t//generate random num 1-3, represents CPU&#39;s play\r\n\t\tRandom rand = new Random();\r\n\t\tint CPUchoice = rand.nextInt(2);\r\n\t\treturn CPUchoice;\r\n\t}\r\n\t\r\n\tpublic static int method2() {\r\n\t\t//get user&#39;s play\r\n\t\t//includes input checking for error prevention\r\n\t\tScanner kb = new Scanner(System.in);\r\n\t\tboolean uInput; //safe input marker\r\n\t\tchar userInputChar; //the character enetered by user for their play\r\n\t\tint userChoiceInt = 0; //the users play, in integer\r\n\t\t\r\n\t\t\tdo { //run user input until user enters a safe input\r\n\t\t\t\tSystem.out.println(&quot;\\n\\nPlease input your choice:&quot;);\r\n\t\t\t\tuserInputChar = kb.next().charAt(0); //get the char input from user\r\n\t\t\t\r\n\t\t\t\t\tif(userInputChar == Character.toLowerCase(&#39;r&#39;)) { \r\n\t\t\t\t\t\t//rock &#39;r&#39; = 1\r\n\t\t\t\t\t\tuserChoiceInt = 0;\r\n\t\t\t\t\t\tuInput = true;\r\n\t\t\t\t\t}else if(userInputChar == Character.toLowerCase(&#39;p&#39;)) { \r\n\t\t\t\t\t\t//paper &#39;p&#39; = 2\r\n\t\t\t\t\t\tuserChoiceInt = 1;\r\n\t\t\t\t\t\tuInput = true;\r\n\t\t\t\t\t}else if(userInputChar == Character.toLowerCase(&#39;s&#39;)) { \r\n\t\t\t\t\t\t//scissors &#39;s&#39; = 3\r\n\t\t\t\t\t\tuserChoiceInt = 2;\r\n\t\t\t\t\t\tuInput = true;\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\t//Output error message. mark that user&#39;s input is nonsafe\r\n\t\t\t\t\t\tSystem.out.println(&quot;Sorry, that&#39;s not a valid play. Please try again.&quot;);\r\n\t\t\t\t\t\tuInput = false;\r\n\t\t\t\t\t}\r\n\t\t\t}while (uInput != true);\r\n\t\t\t\r\n\t\t//return the int value of user&#39;s input\r\n\t\treturn userChoiceInt; \r\n\t}\r\n\t\r\n\tpublic static void method3(int CPUchoice) {\r\n\t\t//output the play made by the cpu in method1()\r\n\t\tString CPUchoiceStr = &quot;&quot;;\r\n\t\tif (CPUchoice == 0) {\r\n\t\t\tCPUchoiceStr = &quot;rock.&quot;;\r\n\t\t}\r\n\t\telse if (CPUchoice ==1) {\r\n\t\t\tCPUchoiceStr = &quot;paper.&quot;;\r\n\t\t}\r\n\t\telse if (CPUchoice == 2) {\r\n\t\t\tCPUchoiceStr = &quot;scissors.&quot;;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;The CPU played &quot;+CPUchoiceStr);\r\n\t}\r\n\t\r\n\tpublic static boolean method4(int CPUchoice, int userChoiceInt) {\r\n\t\t//get CPU choice and user choice\r\n\t\t//calculate and output winnere\r\n\t\tboolean gameTie = false;\r\n\t\t\tif (CPUchoice == userChoiceInt) {\r\n\t\t\t\t//tie\r\n\t\t\t\tSystem.out.println(&quot;It&#39;s a tie!&quot;);\r\n\t\t\t\tgameTie = true;\r\n\t\t\t}\r\n\t\t\telse if((CPUchoice == 0) &amp;&amp; (userChoiceInt == 1)) {\r\n\t\t\t\t//cpu = rock user = paper\r\n\t\t\t\tSystem.out.println(&quot;Paper covers rock. You win!&quot;);\r\n\t\t\t\tgameTie = false;\r\n\t\t\t}\r\n\t\t\telse if((CPUchoice == 0)&amp;&amp;(userChoiceInt ==2)) {\r\n\t\t\t\t//cpu = rock user = scissors\r\n\t\t\t\tSystem.out.println(&quot;Rock breaks scissors. You lose.&quot;);\r\n\t\t\t\tgameTie = false;\r\n\t\t\t}\r\n\t\t\telse if((CPUchoice == 1)&amp;&amp;(userChoiceInt == 0)) {\r\n\t\t\t\t//cpu = paper user = rock\r\n\t\t\t\tSystem.out.println(&quot;Paper covers rock. You lose.&quot;);\r\n\t\t\t\tgameTie = false;\r\n\t\t\t}\r\n\t\t\telse if((CPUchoice == 1)&amp;&amp;(userChoiceInt == 2)) {\r\n\t\t\t\t//cpu = paper user = scissors\r\n\t\t\t\tSystem.out.println(&quot;Scissors cuts paper. You win!&quot;);\r\n\t\t\t\tgameTie = false;\r\n\t\t\t}\r\n\t\t\telse if((CPUchoice == 2)&amp;&amp;(userChoiceInt==0)) {\r\n\t\t\t\t//cpu = scissors user = rock\r\n\t\t\t\tSystem.out.println(&quot;Rock breaks scissors. You win!&quot;);\r\n\t\t\t\tgameTie = false;\r\n\t\t\t}\r\n\t\t\telse if((CPUchoice == 2)&amp;&amp;(userChoiceInt ==1)) {\r\n\t\t\t\t//cpu = scissors user = paper\r\n\t\t\t\tSystem.out.println(&quot;Scissors cuts paper. You lose.&quot;);\r\n\t\t\t\tgameTie = false;\r\n\t\t\t}\r\n\t\treturn gameTie;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nI have tried initializing the outside variable of boolean gameTie (meaning initializing them outside any loops or if/else statements), also leaving them uninitialized until initialized from a loop condition. I was expecting the boolean gameTie to have an initialized value after every iteration of the game, but instead it is only initializing after the first game. If the first game results in a tie then the program will loop the game infinitely, even if there is a winner (meaning that false should be initialized to gameTie and the do-while loop in main() would not run another time). If the first game has a declared winner, then false should be initialized to gameTie and the program should end (which it does).","title":"Rock-Paper-Scissors game tie boolean does not re-initialize within a loop","body":"<p>I'm working on a rock-paper-scissors program using four methods for a class. Part of the assignment is repeating the game if the user and cpu tie, and ending the game when there is a winner. I've done this by running the whole program through a do-while loop in main() that runs as long as the game is tied (gameTie = true). The issue that I am having is that the value for boolean gameTie only changes after the first game. If the first game is a tie, the program will loop infinitely. If there is a winner, the game ends. I am not sure why the value for boolean gameTie is not being re-initialized after every iteration (meaning after every tie or win). Any advice is appreciated.</p>\n<pre><code>import java.util.Random;\nimport java.util.Scanner;\npublic class Lab9_2 {\n    public static void main(String[] args) {\n        System.out.println(&quot;This program plays Rock-Paper-Scissors against the computer.\\n&quot;\n                         + &quot;When there is a tie, the game will restart until a winner is chosen.&quot;);\n        boolean gameTie = false;\n        do {\n            int CPUchoice = method1();\n                //generate the cpu's play\n            \n            int userChoiceInt = method2();\n                //get the user's play\n            \n            method3(CPUchoice);\n                //output cpu's play\n            \n            method4(CPUchoice, userChoiceInt);\n                //compare both user's play. if they are tied, mark gameTie as true to rerun the loop\n                if (CPUchoice == userChoiceInt) {\n                    gameTie = true;\n                }\n            \n        }while(gameTie == true);\n        \n    }\n    \n    public static int method1() {\n        //generate random num 1-3, represents CPU's play\n        Random rand = new Random();\n        int CPUchoice = rand.nextInt(2);\n        return CPUchoice;\n    }\n    \n    public static int method2() {\n        //get user's play\n        //includes input checking for error prevention\n        Scanner kb = new Scanner(System.in);\n        boolean uInput; //safe input marker\n        char userInputChar; //the character enetered by user for their play\n        int userChoiceInt = 0; //the users play, in integer\n        \n            do { //run user input until user enters a safe input\n                System.out.println(&quot;\\n\\nPlease input your choice:&quot;);\n                userInputChar = kb.next().charAt(0); //get the char input from user\n            \n                    if(userInputChar == Character.toLowerCase('r')) { \n                        //rock 'r' = 1\n                        userChoiceInt = 0;\n                        uInput = true;\n                    }else if(userInputChar == Character.toLowerCase('p')) { \n                        //paper 'p' = 2\n                        userChoiceInt = 1;\n                        uInput = true;\n                    }else if(userInputChar == Character.toLowerCase('s')) { \n                        //scissors 's' = 3\n                        userChoiceInt = 2;\n                        uInput = true;\n                    }else {\n                        //Output error message. mark that user's input is nonsafe\n                        System.out.println(&quot;Sorry, that's not a valid play. Please try again.&quot;);\n                        uInput = false;\n                    }\n            }while (uInput != true);\n            \n        //return the int value of user's input\n        return userChoiceInt; \n    }\n    \n    public static void method3(int CPUchoice) {\n        //output the play made by the cpu in method1()\n        String CPUchoiceStr = &quot;&quot;;\n        if (CPUchoice == 0) {\n            CPUchoiceStr = &quot;rock.&quot;;\n        }\n        else if (CPUchoice ==1) {\n            CPUchoiceStr = &quot;paper.&quot;;\n        }\n        else if (CPUchoice == 2) {\n            CPUchoiceStr = &quot;scissors.&quot;;\n        }\n        System.out.println(&quot;The CPU played &quot;+CPUchoiceStr);\n    }\n    \n    public static boolean method4(int CPUchoice, int userChoiceInt) {\n        //get CPU choice and user choice\n        //calculate and output winnere\n        boolean gameTie = false;\n            if (CPUchoice == userChoiceInt) {\n                //tie\n                System.out.println(&quot;It's a tie!&quot;);\n                gameTie = true;\n            }\n            else if((CPUchoice == 0) &amp;&amp; (userChoiceInt == 1)) {\n                //cpu = rock user = paper\n                System.out.println(&quot;Paper covers rock. You win!&quot;);\n                gameTie = false;\n            }\n            else if((CPUchoice == 0)&amp;&amp;(userChoiceInt ==2)) {\n                //cpu = rock user = scissors\n                System.out.println(&quot;Rock breaks scissors. You lose.&quot;);\n                gameTie = false;\n            }\n            else if((CPUchoice == 1)&amp;&amp;(userChoiceInt == 0)) {\n                //cpu = paper user = rock\n                System.out.println(&quot;Paper covers rock. You lose.&quot;);\n                gameTie = false;\n            }\n            else if((CPUchoice == 1)&amp;&amp;(userChoiceInt == 2)) {\n                //cpu = paper user = scissors\n                System.out.println(&quot;Scissors cuts paper. You win!&quot;);\n                gameTie = false;\n            }\n            else if((CPUchoice == 2)&amp;&amp;(userChoiceInt==0)) {\n                //cpu = scissors user = rock\n                System.out.println(&quot;Rock breaks scissors. You win!&quot;);\n                gameTie = false;\n            }\n            else if((CPUchoice == 2)&amp;&amp;(userChoiceInt ==1)) {\n                //cpu = scissors user = paper\n                System.out.println(&quot;Scissors cuts paper. You lose.&quot;);\n                gameTie = false;\n            }\n        return gameTie;\n    }\n}\n</code></pre>\n<p>I have tried initializing the outside variable of boolean gameTie (meaning initializing them outside any loops or if/else statements), also leaving them uninitialized until initialized from a loop condition. I was expecting the boolean gameTie to have an initialized value after every iteration of the game, but instead it is only initializing after the first game. If the first game results in a tie then the program will loop the game infinitely, even if there is a winner (meaning that false should be initialized to gameTie and the do-while loop in main() would not run another time). If the first game has a declared winner, then false should be initialized to gameTie and the program should end (which it does).</p>\n"},{"tags":["java","json","gson","json-deserialization"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1669593581,"post_id":74594725,"comment_id":131670779,"body_markdown":"Check [this answer](https://stackoverflow.com/questions/9483348/gson-treat-null-as-empty-string)","body":"Check <a href=\"https://stackoverflow.com/questions/9483348/gson-treat-null-as-empty-string\">this answer</a>"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":1,"creation_date":1669598283,"post_id":74594725,"comment_id":131671405,"body_markdown":"Your JSON data seems to have a `data` property which contains all the actual data, however your Java classes don&#39;t have a field with that name (and Gson does not complain about unknown or missing properties). Also, your parsing code looks a bit inefficient; where is `apiResponse` coming from? Maybe it is possible to directly pass a `Reader` to `Gson.fromJson` instead of your current conversion `... -&gt; JSONObject -&gt; JsonObject -&gt; VirtualAccountResponseDto`","body":"Your JSON data seems to have a <code>data</code> property which contains all the actual data, however your Java classes don&#39;t have a field with that name (and Gson does not complain about unknown or missing properties). Also, your parsing code looks a bit inefficient; where is <code>apiResponse</code> coming from? Maybe it is possible to directly pass a <code>Reader</code> to <code>Gson.fromJson</code> instead of your current conversion <code>... -&gt; JSONObject -&gt; JsonObject -&gt; VirtualAccountResponseDto</code>"},{"owner":{"account_id":25785912,"reputation":52,"user_id":19530736,"display_name":"CuriousCat"},"score":0,"creation_date":1669623617,"post_id":74594725,"comment_id":131675603,"body_markdown":"@Marcono1234 I have edited the code to show where apiResponse is coming from. Can you check and point out where reader can be used?","body":"@Marcono1234 I have edited the code to show where apiResponse is coming from. Can you check and point out where reader can be used?"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":1,"creation_date":1669668082,"post_id":74594725,"comment_id":131690338,"body_markdown":"@CuriousCat, since you are using Unirest, it looks like you can even use its API to handle deserialization, see [documentation](https://kong.github.io/unirest-java/#object-mapped-responses). So the following might work: `Unirest.post(...).headers(...).asObject(VirtualAccountResponseDto.class)` (with the adjustments from the answer below)","body":"@CuriousCat, since you are using Unirest, it looks like you can even use its API to handle deserialization, see <a href=\"https://kong.github.io/unirest-java/#object-mapped-responses\" rel=\"nofollow noreferrer\">documentation</a>. So the following might work: <code>Unirest.post(...).headers(...).asObject(VirtualAccountRespon&zwnj;&#8203;seDto.class)</code> (with the adjustments from the answer below)"},{"owner":{"account_id":25785912,"reputation":52,"user_id":19530736,"display_name":"CuriousCat"},"score":0,"creation_date":1669916686,"post_id":74594725,"comment_id":131757205,"body_markdown":"So, the api I am consuming is not permitting me to send in an Object. They only allow a String or a Json","body":"So, the api I am consuming is not permitting me to send in an Object. They only allow a String or a Json"}],"answers":[{"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669608309,"creation_date":1669608309,"answer_id":74595863,"question_id":74594725,"body_markdown":"As @Marcono1234 pointed out, your DTO structure and JSON structures do not match. \r\nI tried by modifying the structure of the DTO class to add a &#39;data&#39; element and it works fine after that.\r\n\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class VirtualAccountResponseDto {\r\n        DataClass data; // &lt;-- Added this class to match the JSON structure\r\n    }\r\n\r\n    @Data\r\n    class DataClass {\r\n        private String account_number;\r\n        private String bank_code;\r\n        private String unique_id;\r\n\r\n        private String account_name;\r\n        private String account_reference;\r\n\r\n        private String bank_name;\r\n        private String created_at;\r\n        private String currency;\r\n        private String id;\r\n        private String account_status;\r\n        private Customer customer;\r\n    }\r\n\r\n    @Data\r\n    class Customer {\r\n      private String email;\r\n      private String name;\r\n    }\r\n\r\nOutput after the change:\r\n\r\n```VirtualAccountResponseDto(data=DataClass(account_number=1110006278, bank_code=000, unique_id=KPY-VA-NEBOrKvKCmTSOJe, account_name=James Bond, account_reference=xyz163ath285, bank_name=test, created_at=2022-11-27T23:38:36.449Z, currency=NGN, id=6268, account_status=active, customer=Customer(email=hey@yxc.com, name=James Bond)))```","title":"How to fix null values from converting JSON to POJO using Gson","body":"<p>As @Marcono1234 pointed out, your DTO structure and JSON structures do not match.\nI tried by modifying the structure of the DTO class to add a 'data' element and it works fine after that.</p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class VirtualAccountResponseDto {\n    DataClass data; // &lt;-- Added this class to match the JSON structure\n}\n\n@Data\nclass DataClass {\n    private String account_number;\n    private String bank_code;\n    private String unique_id;\n\n    private String account_name;\n    private String account_reference;\n\n    private String bank_name;\n    private String created_at;\n    private String currency;\n    private String id;\n    private String account_status;\n    private Customer customer;\n}\n\n@Data\nclass Customer {\n  private String email;\n  private String name;\n}\n</code></pre>\n<p>Output after the change:</p>\n<p><code>VirtualAccountResponseDto(data=DataClass(account_number=1110006278, bank_code=000, unique_id=KPY-VA-NEBOrKvKCmTSOJe, account_name=James Bond, account_reference=xyz163ath285, bank_name=test, created_at=2022-11-27T23:38:36.449Z, currency=NGN, id=6268, account_status=active, customer=Customer(email=hey@yxc.com, name=James Bond)))</code></p>\n"}],"owner":{"account_id":25785912,"reputation":52,"user_id":19530736,"display_name":"CuriousCat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74595863,"answer_count":1,"score":-1,"last_activity_date":1669623553,"creation_date":1669593465,"question_id":74594725,"body_markdown":"I am trying to get a response message to a POJO class that has already been defined. However, I am getting null values for all the fields in the POJO class. I printed the json file and they are not null and I am wondering what is actually going. This is the response that I get.\r\n\r\n`I should get this VirtualAccountResponseDto(account_number=null, bank_code=null, unique_id=null, account_name=null, account_reference=null, bank_name=null, created_at=null, currency=null, id=null, account_status=null, customer=null)`\r\n\r\nThis is the gson class that I printed to the console \r\n\r\n\r\n`+++++++++&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;{&quot;data&quot;:{&quot;account_number&quot;:&quot;1110006278&quot;,&quot;bank_code&quot;:&quot;000&quot;,&quot;unique_id&quot;:&quot;KPY-VA-NEBOrKvKCmTSOJe&quot;,&quot;account_name&quot;:&quot;James Bond&quot;,&quot;account_reference&quot;:&quot;xyz163ath285&quot;,&quot;bank_name&quot;:&quot;test&quot;,&quot;created_at&quot;:&quot;2022-11-27T23:38:36.449Z&quot;,&quot;currency&quot;:&quot;NGN&quot;,&quot;id&quot;:6268,&quot;account_status&quot;:&quot;active&quot;,&quot;customer&quot;:{&quot;name&quot;:&quot;James Bond&quot;,&quot;email&quot;:&quot;hey@yxc.com&quot;}},&quot;message&quot;:&quot;Virtual bank account created successfully&quot;,&quot;status&quot;:true}`\r\n\r\nThis is what the POJO class looks like\r\n\r\n\r\n```\r\n@Data\r\n@Builder\r\n\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class VirtualAccountResponseDto {\r\n    @SerializedName(&quot;account_number&quot;)\r\n    private String account_number;\r\n    @SerializedName(&quot;bank_code&quot;)\r\n    private String bank_code;\r\n    private String unique_id;\r\n\r\n    private String account_name;\r\n    private String account_reference;\r\n\r\n    private String bank_name;\r\n    private String created_at;\r\n    private String currency;\r\n    private String id;\r\n    private String account_status;\r\n    private Customer customer;\r\n```\r\n\r\nThis is the customer class\r\n\r\n\r\n```\r\n@Data\r\npublic class Customer {\r\n  private String email;\r\n  private String name;\r\n\r\n}\r\n```\r\n\r\n\r\nHere is my code to convert from Json to POJO \r\n\r\n\r\n```\r\nGson gson = new Gson();\r\n\r\n        String requestJson = gson.toJson(bankDto);\r\n\r\n        Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n        headers.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        headers.put(&quot;Authorization&quot;, &quot;Bearer &quot;+KORAPAY_TOKEN);\r\n        headers.put(&quot;accept&quot;, &quot;application/json&quot;);\r\n\r\n\r\n        HttpResponse&lt;JsonNode&gt; apiResponse = Unirest.post(KORAPAY_BASE_URL +\r\n                        &quot;virtual-bank-account&quot;)\r\n                .headers(headers)\r\n                .body(requestJson)\r\n                .asJson();\r\n        System.out.println(apiResponse.getBody());\r\n        JSONObject responseJson = apiResponse.getBody().getObject();\r\n        System.out.println(&quot;This is the response body&quot; + apiResponse.getBody());\r\n        JsonParser jsonParser = new JsonParser();\r\n        JsonObject gsonObject = (JsonObject)jsonParser.parse(responseJson.toString());\r\n        System.out.println(&quot;+++++++++&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot; + gsonObject);\r\n\r\n        VirtualAccountResponseDto responseDTO = gson.fromJson(gsonObject,\r\n                VirtualAccountResponseDto.class);\r\n        System.out.println(&quot;I should get this &quot; + responseDTO);\r\n        return responseDTO;\r\n```\r\n\r\n\r\n\r\nI have tried annotating the variable names with `@Serializedname`. I have also checked for case_senstivity issues. Also, I have rearranged the POJO fields in the order in which the JSON is returned and I still get the same null values","title":"How to fix null values from converting JSON to POJO using Gson","body":"<p>I am trying to get a response message to a POJO class that has already been defined. However, I am getting null values for all the fields in the POJO class. I printed the json file and they are not null and I am wondering what is actually going. This is the response that I get.</p>\n<p><code>I should get this VirtualAccountResponseDto(account_number=null, bank_code=null, unique_id=null, account_name=null, account_reference=null, bank_name=null, created_at=null, currency=null, id=null, account_status=null, customer=null)</code></p>\n<p>This is the gson class that I printed to the console</p>\n<p><code>+++++++++&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;{&quot;data&quot;:{&quot;account_number&quot;:&quot;1110006278&quot;,&quot;bank_code&quot;:&quot;000&quot;,&quot;unique_id&quot;:&quot;KPY-VA-NEBOrKvKCmTSOJe&quot;,&quot;account_name&quot;:&quot;James Bond&quot;,&quot;account_reference&quot;:&quot;xyz163ath285&quot;,&quot;bank_name&quot;:&quot;test&quot;,&quot;created_at&quot;:&quot;2022-11-27T23:38:36.449Z&quot;,&quot;currency&quot;:&quot;NGN&quot;,&quot;id&quot;:6268,&quot;account_status&quot;:&quot;active&quot;,&quot;customer&quot;:{&quot;name&quot;:&quot;James Bond&quot;,&quot;email&quot;:&quot;hey@yxc.com&quot;}},&quot;message&quot;:&quot;Virtual bank account created successfully&quot;,&quot;status&quot;:true}</code></p>\n<p>This is what the POJO class looks like</p>\n<pre><code>@Data\n@Builder\n\n@AllArgsConstructor\n@NoArgsConstructor\npublic class VirtualAccountResponseDto {\n    @SerializedName(&quot;account_number&quot;)\n    private String account_number;\n    @SerializedName(&quot;bank_code&quot;)\n    private String bank_code;\n    private String unique_id;\n\n    private String account_name;\n    private String account_reference;\n\n    private String bank_name;\n    private String created_at;\n    private String currency;\n    private String id;\n    private String account_status;\n    private Customer customer;\n</code></pre>\n<p>This is the customer class</p>\n<pre><code>@Data\npublic class Customer {\n  private String email;\n  private String name;\n\n}\n</code></pre>\n<p>Here is my code to convert from Json to POJO</p>\n<pre><code>Gson gson = new Gson();\n\n        String requestJson = gson.toJson(bankDto);\n\n        Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n        headers.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        headers.put(&quot;Authorization&quot;, &quot;Bearer &quot;+KORAPAY_TOKEN);\n        headers.put(&quot;accept&quot;, &quot;application/json&quot;);\n\n\n        HttpResponse&lt;JsonNode&gt; apiResponse = Unirest.post(KORAPAY_BASE_URL +\n                        &quot;virtual-bank-account&quot;)\n                .headers(headers)\n                .body(requestJson)\n                .asJson();\n        System.out.println(apiResponse.getBody());\n        JSONObject responseJson = apiResponse.getBody().getObject();\n        System.out.println(&quot;This is the response body&quot; + apiResponse.getBody());\n        JsonParser jsonParser = new JsonParser();\n        JsonObject gsonObject = (JsonObject)jsonParser.parse(responseJson.toString());\n        System.out.println(&quot;+++++++++&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot; + gsonObject);\n\n        VirtualAccountResponseDto responseDTO = gson.fromJson(gsonObject,\n                VirtualAccountResponseDto.class);\n        System.out.println(&quot;I should get this &quot; + responseDTO);\n        return responseDTO;\n</code></pre>\n<p>I have tried annotating the variable names with <code>@Serializedname</code>. I have also checked for case_senstivity issues. Also, I have rearranged the POJO fields in the order in which the JSON is returned and I still get the same null values</p>\n"},{"tags":["java","spring-boot","timezone","java-time","zoneddatetime"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1669637602,"post_id":74597581,"comment_id":131680093,"body_markdown":"Use `Instant` or `OffsetDateTime` instead of `ZonedDateTime`. It’s more appropriate and gives you the result you want. `OffsetDateTime` goes the same way as the code you have. `Instant` is simpler: `System.out.println(Instant.ofEpochMilli(1668415926445L));` prints `2022-11-14T08:52:06.445Z`.","body":"Use <code>Instant</code> or <code>OffsetDateTime</code> instead of <code>ZonedDateTime</code>. It’s more appropriate and gives you the result you want. <code>OffsetDateTime</code> goes the same way as the code you have. <code>Instant</code> is simpler: <code>System.out.println(Instant.ofEpochMilli(1668415926445L));</code> prints <code>2022-11-14T08:52:06.445Z</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1669669562,"post_id":74597581,"comment_id":131690756,"body_markdown":"Similar: [this](https://stackoverflow.com/questions/50120213/string-to-zoneddatetime-is-changing-format), [this](https://stackoverflow.com/questions/68714896/format-zoneddatetime-and-return-zoneddatetime) and [this](https://stackoverflow.com/questions/70945507/zoneddatetime-ofinstant-not-showing-seconds).","body":"Similar: <a href=\"https://stackoverflow.com/questions/50120213/string-to-zoneddatetime-is-changing-format\">this</a>, <a href=\"https://stackoverflow.com/questions/68714896/format-zoneddatetime-and-return-zoneddatetime\">this</a> and <a href=\"https://stackoverflow.com/questions/70945507/zoneddatetime-ofinstant-not-showing-seconds\">this</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1669697694,"post_id":74597581,"comment_id":131695666,"body_markdown":"Removing the zone from a `ZonedDateTime`, that’s a contradiction in terms. Like removing the `i` from an `int`. ;-)","body":"Removing the zone from a <code>ZonedDateTime</code>, that’s a contradiction in terms. Like removing the <code>i</code> from an <code>int</code>. ;-)"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1669623036,"creation_date":1669622658,"answer_id":74597634,"question_id":74597581,"body_markdown":"&gt; I need the format in `ZonedDateTime` only not string\r\n\r\nThis is like saying &quot;I need an `int` that knows it&#39;s in hex rather than decimal&quot;. There&#39;s just no such concept.\r\n\r\nIf you need to format the value in a particular way, you should apply that format *where you do the formatting*.\r\n\r\nIt&#39;s possible that what you should actually do is return an `Instant` instead of a `ZonedDateTime`. That will format the way you want by default, although it&#39;s still not &quot;part of the object&quot; - just the default format for all instants.\r\n\r\nIt&#39;s important to understand the difference between &quot;the value being represented&quot; (and the type you&#39;re using to represent that value) and &quot;a string representation of that value&quot;. You should try use the semantically-appropriate type for what you&#39;re trying to represent (e.g. `ZonedDateTime`, `Instant` etc) for as much of the time as possible, only converting to and from string representations at system boundaries. Those system boundaries need to be aware of the expected textual representation, and perform the appropriate conversion, rather than expecting a particular string representation to travel with the value itself through the system.","title":"Remove time zone part from - ZonedDateTime : JAVA","body":"<blockquote>\n<p>I need the format in <code>ZonedDateTime</code> only not string</p>\n</blockquote>\n<p>This is like saying &quot;I need an <code>int</code> that knows it's in hex rather than decimal&quot;. There's just no such concept.</p>\n<p>If you need to format the value in a particular way, you should apply that format <em>where you do the formatting</em>.</p>\n<p>It's possible that what you should actually do is return an <code>Instant</code> instead of a <code>ZonedDateTime</code>. That will format the way you want by default, although it's still not &quot;part of the object&quot; - just the default format for all instants.</p>\n<p>It's important to understand the difference between &quot;the value being represented&quot; (and the type you're using to represent that value) and &quot;a string representation of that value&quot;. You should try use the semantically-appropriate type for what you're trying to represent (e.g. <code>ZonedDateTime</code>, <code>Instant</code> etc) for as much of the time as possible, only converting to and from string representations at system boundaries. Those system boundaries need to be aware of the expected textual representation, and perform the appropriate conversion, rather than expecting a particular string representation to travel with the value itself through the system.</p>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1669628671,"post_id":74597746,"comment_id":131677143,"body_markdown":"This doesn&#39;t address your fundamental point of misunderstanding though: that the format isn&#39;t part of the value. This *happens* to work because of the way `ZoneOffset.UTC` is formatted by default, but you should change the way you *think* about these values and how you convert them to strings.","body":"This doesn&#39;t address your fundamental point of misunderstanding though: that the format isn&#39;t part of the value. This <i>happens</i> to work because of the way <code>ZoneOffset.UTC</code> is formatted by default, but you should change the way you <i>think</i> about these values and how you convert them to strings."}],"tags":[],"owner":{"account_id":24373588,"reputation":75,"user_id":18306210,"display_name":"Sai T"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669623392,"creation_date":1669623392,"answer_id":74597746,"question_id":74597581,"body_markdown":"It is giving me the desired output when I gave ZoneOffset as an argument instead of ZoneId.\r\n\r\n```\r\nZonedDateTime.ofInstant(Instant.ofEpochMilli(lEpochMilliSeconds), ZoneOffset.UTC);\r\n```","title":"Remove time zone part from - ZonedDateTime : JAVA","body":"<p>It is giving me the desired output when I gave ZoneOffset as an argument instead of ZoneId.</p>\n<pre><code>ZonedDateTime.ofInstant(Instant.ofEpochMilli(lEpochMilliSeconds), ZoneOffset.UTC);\n</code></pre>\n"}],"owner":{"account_id":24373588,"reputation":75,"user_id":18306210,"display_name":"Sai T"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":851,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669623392,"creation_date":1669622323,"question_id":74597581,"body_markdown":"I am converting milliseconds into ZonedDateTime\r\n\r\n\r\n```\r\nLong lEpochMilliSeconds = 1668415926445;\r\nSystem.out.println(ZonedDateTime.ofInstant(Instant.ofEpochMilli(lEpochMilliSeconds),ZoneId.of(&quot;UTC&quot;));\r\n```\r\n\r\nIt gives output:\r\n```\r\n2022-10-28T12:59:34.939Z[UTC]\r\n```\r\nI don&#39;t want the time zone &quot;[UTC]&quot; part in my output.\r\nI need my out to be like this in ZonedDateTime format:\r\n```\r\n2022-10-28T12:59:34.939Z\r\n```\r\n\r\nI need the **forma**t in **ZonedDateTime** only **not string**, as I will be  returning the value &amp; use it somewhere else","title":"Remove time zone part from - ZonedDateTime : JAVA","body":"<p>I am converting milliseconds into ZonedDateTime</p>\n<pre><code>Long lEpochMilliSeconds = 1668415926445;\nSystem.out.println(ZonedDateTime.ofInstant(Instant.ofEpochMilli(lEpochMilliSeconds),ZoneId.of(&quot;UTC&quot;));\n</code></pre>\n<p>It gives output:</p>\n<pre><code>2022-10-28T12:59:34.939Z[UTC]\n</code></pre>\n<p>I don't want the time zone &quot;[UTC]&quot; part in my output.\nI need my out to be like this in ZonedDateTime format:</p>\n<pre><code>2022-10-28T12:59:34.939Z\n</code></pre>\n<p>I need the <strong>forma</strong>t in <strong>ZonedDateTime</strong> only <strong>not string</strong>, as I will be  returning the value &amp; use it somewhere else</p>\n"},{"tags":["java","spring-boot","spring-integration","spring-integration-dsl","spring-integration-http"],"answers":[{"comments":[{"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"score":1,"creation_date":1669635241,"post_id":74597674,"comment_id":131679323,"body_markdown":"another update. Transform return new Message. Did you copy headers?\n\nreturn MessageBuilder\n                .withPayload(transformedPayload)\n                .copyHeaders(originalMessage.getHeaders())\n                .build();","body":"another update. Transform return new Message. Did you copy headers?  return MessageBuilder                 .withPayload(transformedPayload)                 .copyHeaders(originalMessage.getHeaders())                 .build();"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1669647475,"post_id":74597674,"comment_id":131683526,"body_markdown":"Yes, I also think that you lose your header exactly in your ` .transform(this:transforFoo)`. Revise it to return just payload or really copy request headers as Ramil suggests. you also don&#39;t need that ` .replyChannel(RESPONSE_CHANNEL)` and ` .channel(RESPONSE_CHANNEL)`: as long as your last handler is replying the message is going to be sent to the `replyChannel` header set by the HTTP Inbound Gateway.","body":"Yes, I also think that you lose your header exactly in your ` .transform(this:transforFoo)<code>. Revise it to return just payload or really copy request headers as Ramil suggests. you also don&#39;t need that </code> .replyChannel(RESPONSE_CHANNEL)` and ` .channel(RESPONSE_CHANNEL)<code>: as long as your last handler is replying the message is going to be sent to the </code>replyChannel` header set by the HTTP Inbound Gateway."}],"tags":[],"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669623207,"creation_date":1669622893,"answer_id":74597674,"question_id":74575544,"body_markdown":"I think you just move to `.channel(CHANNEL1).`\r\n\r\nAnd this part doesn&#39;t work:\r\n\r\n    handle(fooFlowConfiguration.flowHandler())\r\n    //several handlers in another subflow \r\n          .channel(RESPONSE_CHANNEL)\r\n\r\nThis one `.replyChannel(RESPONSE_CHANNEL)` I think for outbound gateway.\r\n\r\nAs I know the http gateway works in sync and just return last flow value. In your case its CHANNEL1 last step","title":"Message Headers is Spring Integration flow with subflows","body":"<p>I think you just move to <code>.channel(CHANNEL1).</code></p>\n<p>And this part doesn't work:</p>\n<pre><code>handle(fooFlowConfiguration.flowHandler())\n//several handlers in another subflow \n      .channel(RESPONSE_CHANNEL)\n</code></pre>\n<p>This one <code>.replyChannel(RESPONSE_CHANNEL)</code> I think for outbound gateway.</p>\n<p>As I know the http gateway works in sync and just return last flow value. In your case its CHANNEL1 last step</p>\n"}],"owner":{"account_id":19210509,"reputation":31,"user_id":14036409,"display_name":"Anna Bar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669623207,"creation_date":1669393454,"question_id":74575544,"body_markdown":"There is  below  main Spring Integration flow that receives the request through HTTP, handle it using  several subflows and then replies to the consumer. \r\nThe problem is that when the flow enters the first subflow,  it loses practically all its headers including reply channel.\r\n\r\nI want to know to what point the headers from the request should reach? to the end of the flow(RESPONSE_CHANNEL)?  And how to avoid losing headers after entering subflow?\r\n\r\n```\r\n@Bean\r\npublic IntegrationFlow exampleFlow() {\r\n  return IntegrationFlows.from(\r\n      Http.inboundGateway(&quot;/conversions/lower&quot;)\r\n          .requestMapping(r -&gt; r.methods(HttpMethod.POST)\r\n          .mappedRequestHeaders(&quot;*&quot;) \r\n          .requestPayloadType(Foo.class)\r\n          .replyChannel(RESPONSE_CHANNEL)\r\n          .mappedResponseHeaders(&quot;*&quot;)\r\n        )\r\n      .transform(this:transforFoo)\r\n      .channel(CHANNEL1)\r\n      .handle(fooFlowConfiguration.flowHandler())\r\n//several handlers in another subflow \r\n      .channel(RESPONSE_CHANNEL)\r\n      .get();\r\n}\r\n```\r\n\r\n\r\nI tried to enrich headers before the end of the flow, but it does not help \r\nAnd tried to add  .mappedResponseHeaders(&quot;*&quot;) ","title":"Message Headers is Spring Integration flow with subflows","body":"<p>There is  below  main Spring Integration flow that receives the request through HTTP, handle it using  several subflows and then replies to the consumer.\nThe problem is that when the flow enters the first subflow,  it loses practically all its headers including reply channel.</p>\n<p>I want to know to what point the headers from the request should reach? to the end of the flow(RESPONSE_CHANNEL)?  And how to avoid losing headers after entering subflow?</p>\n<pre><code>@Bean\npublic IntegrationFlow exampleFlow() {\n  return IntegrationFlows.from(\n      Http.inboundGateway(&quot;/conversions/lower&quot;)\n          .requestMapping(r -&gt; r.methods(HttpMethod.POST)\n          .mappedRequestHeaders(&quot;*&quot;) \n          .requestPayloadType(Foo.class)\n          .replyChannel(RESPONSE_CHANNEL)\n          .mappedResponseHeaders(&quot;*&quot;)\n        )\n      .transform(this:transforFoo)\n      .channel(CHANNEL1)\n      .handle(fooFlowConfiguration.flowHandler())\n//several handlers in another subflow \n      .channel(RESPONSE_CHANNEL)\n      .get();\n}\n</code></pre>\n<p>I tried to enrich headers before the end of the flow, but it does not help\nAnd tried to add  .mappedResponseHeaders(&quot;*&quot;)</p>\n"},{"tags":["java","exchangewebservices"],"answers":[{"tags":[],"owner":{"account_id":11690898,"reputation":177,"user_id":8559224,"accept_rate":44,"display_name":"im_mangesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517229762,"creation_date":1517229762,"answer_id":48501561,"question_id":48500941,"body_markdown":"yea got it. I have to just load the property Set inside for loop like\r\n    \r\n    for (Item item : results) {\r\n\t\t\titem.load(PropSet);\r\n    }","title":"Unable to read appointment details EWS","body":"<p>yea got it. I have to just load the property Set inside for loop like</p>\n\n<pre><code>for (Item item : results) {\n        item.load(PropSet);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2557108,"reputation":2556,"user_id":2218838,"accept_rate":58,"display_name":"Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669623118,"creation_date":1669622535,"answer_id":74597619,"question_id":48500941,"body_markdown":"In your case, `findAppointments()` is a `FindItem` request. For a `FindItem` request, only &quot;summary properties&quot; are legal(See [comments](https://github.com/OfficeDev/ews-java-api/blob/master/src/main/java/microsoft/exchange/webservices/data/core/PropertySet.java#L505) in microsoft.exchange.webservices.data.PropertySet#validateForRequest), \r\n\r\n&gt; Validates this property set instance for request to ensure that: ... 2. If only summary properties are legal for this request (e.g. FindItem) then only summary properties were specified.\r\n\r\n\r\nwhich means every property you set must have a flag of `PropertyDefinitionFlags.CanFind`, like [Start](https://github.com/OfficeDev/ews-java-api/blob/master/src/main/java/microsoft/exchange/webservices/data/core/service/schema/AppointmentSchema.java#L317) or [End](https://github.com/OfficeDev/ews-java-api/blob/master/src/main/java/microsoft/exchange/webservices/data/core/service/schema/AppointmentSchema.java#L328). Some properties like [OriginalStart](https://github.com/OfficeDev/ews-java-api/blob/master/src/main/java/microsoft/exchange/webservices/data/core/service/schema/AppointmentSchema.java#L335) is illegal, therefore an error like this should have been raised\r\n\r\n&gt; The property OriginalStart can&#39;t be used in FindItem request.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Unable to read appointment details EWS","body":"<p>In your case, <code>findAppointments()</code> is a <code>FindItem</code> request. For a <code>FindItem</code> request, only &quot;summary properties&quot; are legal(See <a href=\"https://github.com/OfficeDev/ews-java-api/blob/master/src/main/java/microsoft/exchange/webservices/data/core/PropertySet.java#L505\" rel=\"nofollow noreferrer\">comments</a> in microsoft.exchange.webservices.data.PropertySet#validateForRequest),</p>\n<blockquote>\n<p>Validates this property set instance for request to ensure that: ... 2. If only summary properties are legal for this request (e.g. FindItem) then only summary properties were specified.</p>\n</blockquote>\n<p>which means every property you set must have a flag of <code>PropertyDefinitionFlags.CanFind</code>, like <a href=\"https://github.com/OfficeDev/ews-java-api/blob/master/src/main/java/microsoft/exchange/webservices/data/core/service/schema/AppointmentSchema.java#L317\" rel=\"nofollow noreferrer\">Start</a> or <a href=\"https://github.com/OfficeDev/ews-java-api/blob/master/src/main/java/microsoft/exchange/webservices/data/core/service/schema/AppointmentSchema.java#L328\" rel=\"nofollow noreferrer\">End</a>. Some properties like <a href=\"https://github.com/OfficeDev/ews-java-api/blob/master/src/main/java/microsoft/exchange/webservices/data/core/service/schema/AppointmentSchema.java#L335\" rel=\"nofollow noreferrer\">OriginalStart</a> is illegal, therefore an error like this should have been raised</p>\n<blockquote>\n<p>The property OriginalStart can't be used in FindItem request.</p>\n</blockquote>\n"}],"owner":{"account_id":11690898,"reputation":177,"user_id":8559224,"accept_rate":44,"display_name":"im_mangesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669623118,"creation_date":1517227793,"question_id":48500941,"body_markdown":"This is my code:\r\n\r\n    CalendarView cView = new CalendarView(startDate, endDate, 100);\r\n    PropertySet PropSet = new PropertySet(AppointmentSchema.Subject, \r\n                AppointmentSchema.Start,\r\n                AppointmentSchema.End, \r\n                AppointmentSchema.IsAllDayEvent, \r\n                AppointmentSchema.IsMeeting,\r\n                AppointmentSchema.IsRecurring, \r\n                AppointmentSchema.IsCancelled,\r\n                AppointmentSchema.IsDraft, \r\n                AppointmentSchema.Location,\r\n                AppointmentSchema.Resources,\r\n                AppointmentSchema.RequiredAttendees, \r\n                AppointmentSchema.OptionalAttendees,\r\n                AppointmentSchema.LegacyFreeBusyStatus,\r\n                AppointmentSchema.Organizer, \r\n                AppointmentSchema.Body,\r\n                AppointmentSchema.Sensitivity,\r\n                AppointmentSchema.AppointmentReplyTime,\r\n                AppointmentSchema.AppointmentSequenceNumber,\r\n                AppointmentSchema.AppointmentState,\r\n                AppointmentSchema.AppointmentType,\r\n                AppointmentSchema.ConferenceType,\r\n                AppointmentSchema.DateTimeCreated,\r\n                AppointmentSchema.Duration,\r\n                AppointmentSchema.EndTimeZone,\r\n                AppointmentSchema.HasAttachments,\r\n                AppointmentSchema.ICalDateTimeStamp,\r\n                AppointmentSchema.ICalRecurrenceId,\r\n                AppointmentSchema.ICalUid,\r\n                AppointmentSchema.Id,\r\n                AppointmentSchema.Importance,\r\n                AppointmentSchema.IsOnlineMeeting,\r\n                AppointmentSchema.IsReminderSet,\r\n                AppointmentSchema.IsResponseRequested,\r\n                AppointmentSchema.IsUnmodified,\r\n                AppointmentSchema.LastModifiedTime,\r\n                AppointmentSchema.LegacyFreeBusyStatus,\r\n                AppointmentSchema.MeetingRequestWasSent,\r\n                AppointmentSchema.MyResponseType,\r\n                AppointmentSchema.MeetingWorkspaceUrl,\r\n                AppointmentSchema.NetShowUrl,\r\n                AppointmentSchema.OriginalStart,\r\n                AppointmentSchema.ParentFolderId,\r\n                AppointmentSchema.Recurrence,\r\n                AppointmentSchema.ReminderDueBy,\r\n                AppointmentSchema.ReminderMinutesBeforeStart,\r\n                AppointmentSchema.StartTimeZone,\r\n                AppointmentSchema.WebClientEditFormQueryString,\r\n                AppointmentSchema.WebClientReadFormQueryString);\r\n\tcView.setPropertySet(PropSet);\r\n    FindItemsResults&lt;Appointment&gt; results = service.findAppointments(folder.getId(),cView);\r\n\r\nwhile I am iterating `results`, it&#39;s throwing the following exception:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    microsoft.exchange.webservices.data.core.exception.service.remote.ServiceRequestException:\r\n        The request failed. The property null can&#39;t be used in FindItem request.","title":"Unable to read appointment details EWS","body":"<p>This is my code:</p>\n\n<pre><code>CalendarView cView = new CalendarView(startDate, endDate, 100);\nPropertySet PropSet = new PropertySet(AppointmentSchema.Subject, \n            AppointmentSchema.Start,\n            AppointmentSchema.End, \n            AppointmentSchema.IsAllDayEvent, \n            AppointmentSchema.IsMeeting,\n            AppointmentSchema.IsRecurring, \n            AppointmentSchema.IsCancelled,\n            AppointmentSchema.IsDraft, \n            AppointmentSchema.Location,\n            AppointmentSchema.Resources,\n            AppointmentSchema.RequiredAttendees, \n            AppointmentSchema.OptionalAttendees,\n            AppointmentSchema.LegacyFreeBusyStatus,\n            AppointmentSchema.Organizer, \n            AppointmentSchema.Body,\n            AppointmentSchema.Sensitivity,\n            AppointmentSchema.AppointmentReplyTime,\n            AppointmentSchema.AppointmentSequenceNumber,\n            AppointmentSchema.AppointmentState,\n            AppointmentSchema.AppointmentType,\n            AppointmentSchema.ConferenceType,\n            AppointmentSchema.DateTimeCreated,\n            AppointmentSchema.Duration,\n            AppointmentSchema.EndTimeZone,\n            AppointmentSchema.HasAttachments,\n            AppointmentSchema.ICalDateTimeStamp,\n            AppointmentSchema.ICalRecurrenceId,\n            AppointmentSchema.ICalUid,\n            AppointmentSchema.Id,\n            AppointmentSchema.Importance,\n            AppointmentSchema.IsOnlineMeeting,\n            AppointmentSchema.IsReminderSet,\n            AppointmentSchema.IsResponseRequested,\n            AppointmentSchema.IsUnmodified,\n            AppointmentSchema.LastModifiedTime,\n            AppointmentSchema.LegacyFreeBusyStatus,\n            AppointmentSchema.MeetingRequestWasSent,\n            AppointmentSchema.MyResponseType,\n            AppointmentSchema.MeetingWorkspaceUrl,\n            AppointmentSchema.NetShowUrl,\n            AppointmentSchema.OriginalStart,\n            AppointmentSchema.ParentFolderId,\n            AppointmentSchema.Recurrence,\n            AppointmentSchema.ReminderDueBy,\n            AppointmentSchema.ReminderMinutesBeforeStart,\n            AppointmentSchema.StartTimeZone,\n            AppointmentSchema.WebClientEditFormQueryString,\n            AppointmentSchema.WebClientReadFormQueryString);\ncView.setPropertySet(PropSet);\nFindItemsResults&lt;Appointment&gt; results = service.findAppointments(folder.getId(),cView);\n</code></pre>\n\n<p>while I am iterating <code>results</code>, it's throwing the following exception:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>microsoft.exchange.webservices.data.core.exception.service.remote.ServiceRequestException:\n    The request failed. The property null can't be used in FindItem request.\n</code></pre>\n"},{"tags":["java","azure","maven","selenium-webdriver","azure-pipelines"],"answers":[{"comments":[{"owner":{"display_name":"user9855896"},"score":0,"creation_date":1669534020,"post_id":74569752,"comment_id":131659558,"body_markdown":"Karamilov, In my machine I have JDK installed and its version is 11.","body":"Karamilov, In my machine I have JDK installed and its version is 11."},{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1669535592,"post_id":74569752,"comment_id":131659772,"body_markdown":"Can you check the jdk in azure pipeline","body":"Can you check the jdk in azure pipeline"}],"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669363240,"creation_date":1669363240,"answer_id":74569752,"question_id":74566379,"body_markdown":"I think you are facing this issue because of JDK version on the Azure pipeline. \r\nIf you can check first if you have JDK and second what is the version.\r\n```\r\njava -version\r\n```\r\n\r\nLocally the tests work because the JDK version is the proper one.","title":"Selnium + Maven test run locally but fail in Azure Pipeline. Getting error &quot;cannot access org.testng.Assert&quot;","body":"<p>I think you are facing this issue because of JDK version on the Azure pipeline.\nIf you can check first if you have JDK and second what is the version.</p>\n<pre><code>java -version\n</code></pre>\n<p>Locally the tests work because the JDK version is the proper one.</p>\n"},{"comments":[{"owner":{"display_name":"user9855896"},"score":0,"creation_date":1669726606,"post_id":74597677,"comment_id":131703991,"body_markdown":"Hi Minxin, Where should i update the java version? In Azure Pipeline or in my local machine?","body":"Hi Minxin, Where should i update the java version? In Azure Pipeline or in my local machine?"},{"owner":{"account_id":22579686,"reputation":2457,"user_id":16764520,"display_name":"Minxin Yu - MSFT"},"score":0,"creation_date":1669771717,"post_id":74597677,"comment_id":131717448,"body_markdown":"If the pipeline runs in MS-host agent, you need to add  JavaToolInstaller task in pipeline. If run in local host agent, you  just need to ensure that the corresponding version of jdk version is installed in your machine.","body":"If the pipeline runs in MS-host agent, you need to add  JavaToolInstaller task in pipeline. If run in local host agent, you  just need to ensure that the corresponding version of jdk version is installed in your machine."},{"owner":{"display_name":"user9855896"},"score":0,"creation_date":1669911439,"post_id":74597677,"comment_id":131755401,"body_markdown":"Hi Minxin, after adding the Java Tool Installer task in azure pipeline, it worked. Thanks a lot for your kind help.","body":"Hi Minxin, after adding the Java Tool Installer task in azure pipeline, it worked. Thanks a lot for your kind help."},{"owner":{"account_id":22579686,"reputation":2457,"user_id":16764520,"display_name":"Minxin Yu - MSFT"},"score":0,"creation_date":1669943961,"post_id":74597677,"comment_id":131763851,"body_markdown":"@Amir A Hi ,glad to know you&#39;ve  resolved this issue!  If you don&#39;t mind, you could click &#39;✔&#39; to mark my reply as the accepted answer. It will also help others to solve the similar issue.","body":"@Amir A Hi ,glad to know you&#39;ve  resolved this issue!  If you don&#39;t mind, you could click &#39;✔&#39; to mark my reply as the accepted answer. It will also help others to solve the similar issue."}],"tags":[],"owner":{"account_id":22579686,"reputation":2457,"user_id":16764520,"display_name":"Minxin Yu - MSFT"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669622913,"creation_date":1669622913,"answer_id":74597677,"question_id":74566379,"body_markdown":"The error message:  class file has wrong version 55.0, should be 52.0. \r\n\r\nYou should update Java version to at least Java 11.\r\nTry adding  task  [Java Tool Installer task](https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/tool/java-tool-installer?view=azure-devops). \r\n\r\n    - task: JavaToolInstaller@0\r\n      inputs:\r\n        versionSpec: &#39;11&#39;\r\n        jdkArchitectureOption: &#39;x64&#39;\r\n        jdkSourceOption: &#39;PreInstalled&#39;\r\n\r\n","title":"Selnium + Maven test run locally but fail in Azure Pipeline. Getting error &quot;cannot access org.testng.Assert&quot;","body":"<p>The error message:  class file has wrong version 55.0, should be 52.0.</p>\n<p>You should update Java version to at least Java 11.\nTry adding  task  <a href=\"https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/tool/java-tool-installer?view=azure-devops\" rel=\"nofollow noreferrer\">Java Tool Installer task</a>.</p>\n<pre><code>- task: JavaToolInstaller@0\n  inputs:\n    versionSpec: '11'\n    jdkArchitectureOption: 'x64'\n    jdkSourceOption: 'PreInstalled'\n</code></pre>\n"}],"owner":{"display_name":"user9855896"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74597677,"answer_count":2,"score":0,"last_activity_date":1669622913,"creation_date":1669325545,"question_id":74566379,"body_markdown":"When I run from TestNG or Maven test from locally all the test cases are working fine but in pipeline it gives me this &quot;cannot access org.testng.Assert&quot;.\r\nI am attaching the error screenshot of Azure Pipeline:\r\n[enter image description here][1]\r\n\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k7EI5.png\r\n  [2]: https://i.stack.imgur.com/DhB5o.png","title":"Selnium + Maven test run locally but fail in Azure Pipeline. Getting error &quot;cannot access org.testng.Assert&quot;","body":"<p>When I run from TestNG or Maven test from locally all the test cases are working fine but in pipeline it gives me this &quot;cannot access org.testng.Assert&quot;.\nI am attaching the error screenshot of Azure Pipeline:\n<a href=\"https://i.stack.imgur.com/k7EI5.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/DhB5o.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","dependency-injection","cdi"],"answers":[{"comments":[{"owner":{"account_id":7212522,"reputation":3391,"user_id":5506086,"display_name":"mtj"},"score":1,"creation_date":1669189442,"post_id":74535450,"comment_id":131585323,"body_markdown":"As a sidenote: java.util.ServiceLoader along with META-INF/services is a totally different mechanism, which is ignored by all known implementations of a CDI container. For CDI, the bean has to be part of a bean archive, and that&#39;s all there is to it.","body":"As a sidenote: java.util.ServiceLoader along with META-INF/services is a totally different mechanism, which is ignored by all known implementations of a CDI container. For CDI, the bean has to be part of a bean archive, and that&#39;s all there is to it."}],"tags":[],"owner":{"account_id":6963528,"reputation":6523,"user_id":5342297,"display_name":"Siliarus"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669132333,"creation_date":1669132333,"answer_id":74535450,"question_id":74531833,"body_markdown":"In CDI, a bean is identified by its types and qualifiers. By default, types are derived from a transitive type closure of the bean class defining it (or a return type of a producer method/field defining the bean).\r\n\r\nTherefore, in your case, there are two bean with following types:\r\n\r\n - `{Hello, HelloImpl1}`\r\n - `{Hello, HelloImpl2}`\r\n\r\nYou didn&#39;t use any qualifiers, which is why you see the ambiguity; when you `@Inject Hello hello`, CDI can see two eligible beans and cannot make a decision on which one is correct.\r\n\r\n&gt; I have declared HelloImpl1.java as part of META-INF/services.\r\n\r\nI have no idea what you mean by that. Just declaring a bean there has no effect on CDI itself.\r\n\r\nThe correct solution is to use CDI qualifiers, they are a natural fit to disambiguate two or more beans with equal types. In your case, you didn&#39;t use any, so CDI automatically adds default qualifiers.\r\n\r\nHere is how you can declare your own qualifier:\r\n\r\n```\r\n@Qualifier\r\n@Retention(RUNTIME)\r\n@Target({ TYPE, FIELD, METHOD, PARAMETER })\r\npublic @interface MyQualifier {\r\n}\r\n```\r\n\r\nYou then annotate both, your bean declaration and any injection point where this is meant to be injected.\r\n\r\n```\r\n@Dependent // this is just an example, use any scope you need or have been using\r\n@MyQualifier // specify qualifier of this bean\r\npublic class HelloImpl1 implements Hello {\r\n// some very cool code\r\n}\r\n```\r\n\r\nThe following injection point is not ambiguous, because there will be only one bean with required type `Hello` and qualifier `@MyQualifier`.\r\n\r\n```\r\n// declare the injection point with qualifier(s)\r\n@Inject\r\n@MyQualifier\r\nHello helloBean;\r\n```\r\n\r\nFinally, I&#39;d recommend you read more about this in CDI specification.\r\nSections such as [typesafe resolution][1] or [qualifiers][2] are what you&#39;re looking for.\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/cdi/3.0/jakarta-cdi-spec-3.0.html#performing_typesafe_resolution\r\n  [2]: https://jakarta.ee/specifications/cdi/3.0/jakarta-cdi-spec-3.0.html#qualifiers","title":"How to Inject an Interface which is in the context of SPI","body":"<p>In CDI, a bean is identified by its types and qualifiers. By default, types are derived from a transitive type closure of the bean class defining it (or a return type of a producer method/field defining the bean).</p>\n<p>Therefore, in your case, there are two bean with following types:</p>\n<ul>\n<li><code>{Hello, HelloImpl1}</code></li>\n<li><code>{Hello, HelloImpl2}</code></li>\n</ul>\n<p>You didn't use any qualifiers, which is why you see the ambiguity; when you <code>@Inject Hello hello</code>, CDI can see two eligible beans and cannot make a decision on which one is correct.</p>\n<blockquote>\n<p>I have declared HelloImpl1.java as part of META-INF/services.</p>\n</blockquote>\n<p>I have no idea what you mean by that. Just declaring a bean there has no effect on CDI itself.</p>\n<p>The correct solution is to use CDI qualifiers, they are a natural fit to disambiguate two or more beans with equal types. In your case, you didn't use any, so CDI automatically adds default qualifiers.</p>\n<p>Here is how you can declare your own qualifier:</p>\n<pre><code>@Qualifier\n@Retention(RUNTIME)\n@Target({ TYPE, FIELD, METHOD, PARAMETER })\npublic @interface MyQualifier {\n}\n</code></pre>\n<p>You then annotate both, your bean declaration and any injection point where this is meant to be injected.</p>\n<pre><code>@Dependent // this is just an example, use any scope you need or have been using\n@MyQualifier // specify qualifier of this bean\npublic class HelloImpl1 implements Hello {\n// some very cool code\n}\n</code></pre>\n<p>The following injection point is not ambiguous, because there will be only one bean with required type <code>Hello</code> and qualifier <code>@MyQualifier</code>.</p>\n<pre><code>// declare the injection point with qualifier(s)\n@Inject\n@MyQualifier\nHello helloBean;\n</code></pre>\n<p>Finally, I'd recommend you read more about this in CDI specification.\nSections such as <a href=\"https://jakarta.ee/specifications/cdi/3.0/jakarta-cdi-spec-3.0.html#performing_typesafe_resolution\" rel=\"nofollow noreferrer\">typesafe resolution</a> or <a href=\"https://jakarta.ee/specifications/cdi/3.0/jakarta-cdi-spec-3.0.html#qualifiers\" rel=\"nofollow noreferrer\">qualifiers</a> are what you're looking for.</p>\n"}],"owner":{"account_id":11546447,"reputation":351,"user_id":8460313,"display_name":"Ravi Teja Muddada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669622694,"creation_date":1669116129,"question_id":74531833,"body_markdown":"I have a Interface Hello.java which is implemented by 2 classes HelloImpl1.java  and HelloImpl2.java\r\n\r\nI have declared HelloImpl1.java as part of META-INF/services.\r\n\r\nNow, when I try to I Inject Hello class, it&#39;s failing saying ambiguity due to 2 implementations. \r\n\r\nMy question is when I already defined HelloImpl1.java as part of META-INF/services ,  why inject is not picking that class? \r\n\r\nKindly help me resolving the issue. \r\n\r\nI need to inject the Interface so that the Impl classes will be manged by CDI","title":"How to Inject an Interface which is in the context of SPI","body":"<p>I have a Interface Hello.java which is implemented by 2 classes HelloImpl1.java  and HelloImpl2.java</p>\n<p>I have declared HelloImpl1.java as part of META-INF/services.</p>\n<p>Now, when I try to I Inject Hello class, it's failing saying ambiguity due to 2 implementations.</p>\n<p>My question is when I already defined HelloImpl1.java as part of META-INF/services ,  why inject is not picking that class?</p>\n<p>Kindly help me resolving the issue.</p>\n<p>I need to inject the Interface so that the Impl classes will be manged by CDI</p>\n"},{"tags":["java","spring","rest","spring-boot"],"comments":[{"owner":{"account_id":2369279,"reputation":2588,"user_id":2074257,"display_name":"Nghia Do"},"score":1,"creation_date":1516033740,"post_id":40902280,"comment_id":124936771,"body_markdown":"I have an example which I have been using for couple years. Please take a look as a reference. https://github.com/bigzidane/springboot-rest-h2-swagger","body":"I have an example which I have been using for couple years. Please take a look as a reference. <a href=\"https://github.com/bigzidane/springboot-rest-h2-swagger\" rel=\"nofollow noreferrer\">github.com/bigzidane/springboot-rest-h2-swagger</a>"}],"answers":[{"tags":[],"owner":{"account_id":3454996,"reputation":5649,"user_id":2893693,"accept_rate":83,"display_name":"J-J"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1480565256,"creation_date":1480565256,"answer_id":40902477,"question_id":40902280,"body_markdown":"Please use Spring Tool Suite (Eclipse-based development environment that is customized for developing Spring applications).&lt;br&gt; Create a Spring Starter Project, it will create the directory structure for you with the spring boot maven dependencies.","title":"What is the recommended project structure for spring boot rest projects?","body":"<p>Please use Spring Tool Suite (Eclipse-based development environment that is customized for developing Spring applications).<br> Create a Spring Starter Project, it will create the directory structure for you with the spring boot maven dependencies.</p>\n"},{"comments":[{"owner":{"account_id":980429,"reputation":3079,"user_id":1000281,"accept_rate":79,"display_name":"chip"},"score":0,"creation_date":1480570534,"post_id":40902496,"comment_id":69019765,"body_markdown":"yes thank you, but what I would like to know is how do I package the different objects in my project? where do I place the model, services (if necessary), dao objects and impl classes?","body":"yes thank you, but what I would like to know is how do I package the different objects in my project? where do I place the model, services (if necessary), dao objects and impl classes?"},{"owner":{"account_id":8892111,"reputation":138,"user_id":6638310,"accept_rate":50,"display_name":"Rahul Kumar"},"score":0,"creation_date":1480577484,"post_id":40902496,"comment_id":69022562,"body_markdown":"Yes, if you are write any services put it under services package.\nStructure will look something like this.\n-src/main/java(source folder)","body":"Yes, if you are write any services put it under services package. Structure will look something like this. -src/main/java(source folder)"},{"owner":{"account_id":8892111,"reputation":138,"user_id":6638310,"accept_rate":50,"display_name":"Rahul Kumar"},"score":0,"creation_date":1480577519,"post_id":40902496,"comment_id":69022579,"body_markdown":"-src/main/java(source folder)","body":"-src/main/java(source folder)"}],"tags":[],"owner":{"account_id":8892111,"reputation":138,"user_id":6638310,"accept_rate":50,"display_name":"Rahul Kumar"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1480577730,"creation_date":1480565398,"answer_id":40902496,"question_id":40902280,"body_markdown":"Use Link-1 to generate a project. this a basic project for learning. you can understand the folder structure.\r\nUse Link-2 for creating a basic Spring boot project. \r\n1: http://start.spring.io/\r\n2: https://projects.spring.io/spring-boot/\r\n\r\nCreate a gradle/maven project Automatically src/main/java and src/main/test will be created. create controller/service/Repository package and start writing the code.\r\n\r\n-src/main/java(source folder)\r\n    ---com.package.service(package)\r\n           ---ServiceClass(Class)\r\n    ---com.package.controller(package)\r\n           ---ControllerClass(Class)","title":"What is the recommended project structure for spring boot rest projects?","body":"<p>Use Link-1 to generate a project. this a basic project for learning. you can understand the folder structure.\nUse Link-2 for creating a basic Spring boot project. \n1: <a href=\"http://start.spring.io/\" rel=\"nofollow noreferrer\">http://start.spring.io/</a>\n2: <a href=\"https://projects.spring.io/spring-boot/\" rel=\"nofollow noreferrer\">https://projects.spring.io/spring-boot/</a></p>\n\n<p>Create a gradle/maven project Automatically src/main/java and src/main/test will be created. create controller/service/Repository package and start writing the code.</p>\n\n<p>-src/main/java(source folder)\n    ---com.package.service(package)\n           ---ServiceClass(Class)\n    ---com.package.controller(package)\n           ---ControllerClass(Class)</p>\n"},{"comments":[{"owner":{"account_id":980429,"reputation":3079,"user_id":1000281,"accept_rate":79,"display_name":"chip"},"score":0,"creation_date":1480570529,"post_id":40902759,"comment_id":69019762,"body_markdown":"yes thank you, but what I would like to know is how do I package the different objects in my project? where do I place the model, services (if necessary), dao objects and impl classes?","body":"yes thank you, but what I would like to know is how do I package the different objects in my project? where do I place the model, services (if necessary), dao objects and impl classes?"},{"owner":{"account_id":3695377,"reputation":1242,"user_id":3076874,"display_name":"The Mighty Programmer"},"score":1,"creation_date":1480572284,"post_id":40902759,"comment_id":69020433,"body_markdown":"You can follow the same structure that you are following in spring mvv..","body":"You can follow the same structure that you are following in spring mvv.."},{"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"score":0,"creation_date":1516751456,"post_id":40902759,"comment_id":83815331,"body_markdown":"Can you tell me where should be DTO objects? In Service, in persisten layer with entities and dao/repo, in web layer with controllers and frontend, or another?","body":"Can you tell me where should be DTO objects? In Service, in persisten layer with entities and dao/repo, in web layer with controllers and frontend, or another?"},{"owner":{"account_id":3695377,"reputation":1242,"user_id":3076874,"display_name":"The Mighty Programmer"},"score":0,"creation_date":1516818298,"post_id":40902759,"comment_id":83849055,"body_markdown":"Define a package and keep it there. Layers are just abstract concepts and help you build conceptual model of thoughts.","body":"Define a package and keep it there. Layers are just abstract concepts and help you build conceptual model of thoughts."},{"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"score":0,"creation_date":1517676892,"post_id":40902759,"comment_id":84195989,"body_markdown":"@theBeacon thanks, and what about security? split files or store in separated folder? here is my question: https://stackoverflow.com/questions/48599378/spring-boot-project-structure-with-authentication could you answer please?","body":"@theBeacon thanks, and what about security? split files or store in separated folder? here is my question: <a href=\"https://stackoverflow.com/questions/48599378/spring-boot-project-structure-with-authentication\" title=\"spring boot project structure with authentication\">stackoverflow.com/questions/48599378/&hellip;</a> could you answer please?"}],"tags":[],"owner":{"account_id":3695377,"reputation":1242,"user_id":3076874,"display_name":"The Mighty Programmer"},"comment_count":5,"down_vote_count":4,"up_vote_count":54,"is_accepted":false,"score":50,"last_activity_date":1543332538,"creation_date":1480567103,"answer_id":40902759,"question_id":40902280,"body_markdown":"You do *not* need to do anything special to start. Start with a normal java project, either maven or gradle or IDE project layout with starter dependency.\r\n\r\nYou need just one main class, as per guide [here][1] and rest...\r\n\r\n**There is no constrained package structure. Actual structure will be driven by your requirement/whim and the directory structure is laid by build-tool / IDE**\r\n\r\nYou can follow same structure that you might be following for a Spring MVC application.\r\n\r\nYou can follow either way \r\n\r\n \r\n - A project is divided into layers:&lt;br&gt;\r\n\r\n  for example: DDD style\r\n- Service layer : service package contains service classes\r\n- DAO/REPO layer : dao package containing dao classes\r\n- Entity layers\r\n\r\n  &lt;br&gt;or &lt;br&gt;\r\n\r\n   any layer structure suitable to your problem for which you are writing problem. &lt;br&gt;&lt;br&gt;\r\n\r\n \r\n - A project divided into modules or functionalities or features and A module is divided into layers like above\r\n\r\nI prefer the second, because it follows Business context. Think in terms of concepts.\r\n\r\nWhat you do is dependent upon how you see the project. It is your code organization skills.\r\n\r\n  [1]: https://spring.io/guides/gs/spring-boot/","title":"What is the recommended project structure for spring boot rest projects?","body":"<p>You do <em>not</em> need to do anything special to start. Start with a normal java project, either maven or gradle or IDE project layout with starter dependency.</p>\n\n<p>You need just one main class, as per guide <a href=\"https://spring.io/guides/gs/spring-boot/\" rel=\"noreferrer\">here</a> and rest...</p>\n\n<p><strong>There is no constrained package structure. Actual structure will be driven by your requirement/whim and the directory structure is laid by build-tool / IDE</strong></p>\n\n<p>You can follow same structure that you might be following for a Spring MVC application.</p>\n\n<p>You can follow either way </p>\n\n<ul>\n<li><p>A project is divided into layers:<br></p>\n\n<p>for example: DDD style</p>\n\n<ul>\n<li>Service layer : service package contains service classes</li>\n<li>DAO/REPO layer : dao package containing dao classes</li>\n<li>Entity layers</li>\n</ul>\n\n<p><br>or <br></p>\n\n<p>any layer structure suitable to your problem for which you are writing problem. <br><br></p></li>\n<li><p>A project divided into modules or functionalities or features and A module is divided into layers like above</p></li>\n</ul>\n\n<p>I prefer the second, because it follows Business context. Think in terms of concepts.</p>\n\n<p>What you do is dependent upon how you see the project. It is your code organization skills.</p>\n"},{"comments":[{"owner":{"account_id":10066191,"reputation":1108,"user_id":7441319,"display_name":"Alkis Mavridis"},"score":7,"creation_date":1631096554,"post_id":49454674,"comment_id":122129503,"body_markdown":"This is good for a starter projects. Still, I think that having packages such as &quot;exceptions&quot; and &quot;constants&quot; is an example of coincidental groupping, as stated here https://stackoverflow.com/questions/825281/should-exceptions-be-placed-in-a-separate-package . It also creates packages with low-to-zero cohesion, which can get problematic in larger applications. https://en.wikipedia.org/wiki/Cohesion_(computer_science)","body":"This is good for a starter projects. Still, I think that having packages such as &quot;exceptions&quot; and &quot;constants&quot; is an example of coincidental groupping, as stated here <a href=\"https://stackoverflow.com/questions/825281/should-exceptions-be-placed-in-a-separate-package\" title=\"should exceptions be placed in a separate package\">stackoverflow.com/questions/825281/&hellip;</a> . It also creates packages with low-to-zero cohesion, which can get problematic in larger applications. <a href=\"https://en.wikipedia.org/wiki/Cohesion_(computer_science)\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Cohesion_(computer_science)</a>"}],"tags":[],"owner":{"account_id":7508134,"reputation":1297,"user_id":5704042,"display_name":"Subhasish Sahu"},"comment_count":1,"down_vote_count":7,"up_vote_count":103,"is_accepted":false,"score":96,"last_activity_date":1521823597,"creation_date":1521823597,"answer_id":49454674,"question_id":40902280,"body_markdown":"config       - class which will read from property files\r\n\r\ncache        - caching mechanism class files\r\n\r\nconstants    - constant defined class\r\n\r\ncontroller   - controller class\r\n\r\nexception    - exception class\r\n\r\nmodel        - pojos classes will be present\r\n\r\nsecurity     - security classes\r\n\r\nservice      - Impl classes\r\n\r\nutil         - utility classes\r\n\r\nvalidation   - validators classes\r\n\r\nbootloader   - main class\r\n","title":"What is the recommended project structure for spring boot rest projects?","body":"<p>config       - class which will read from property files</p>\n\n<p>cache        - caching mechanism class files</p>\n\n<p>constants    - constant defined class</p>\n\n<p>controller   - controller class</p>\n\n<p>exception    - exception class</p>\n\n<p>model        - pojos classes will be present</p>\n\n<p>security     - security classes</p>\n\n<p>service      - Impl classes</p>\n\n<p>util         - utility classes</p>\n\n<p>validation   - validators classes</p>\n\n<p>bootloader   - main class</p>\n"},{"comments":[{"owner":{"account_id":283914,"reputation":1031,"user_id":581702,"display_name":"kyleus"},"score":1,"creation_date":1553623148,"post_id":53317601,"comment_id":97450931,"body_markdown":"I like your answer and how it&#39;s presented.  I almost always have a repository or db package in addition to the ones you listed","body":"I like your answer and how it&#39;s presented.  I almost always have a repository or db package in addition to the ones you listed"},{"owner":{"account_id":14196201,"reputation":2340,"user_id":10255450,"display_name":"IsaacLevon"},"score":0,"creation_date":1561018419,"post_id":53317601,"comment_id":99929288,"body_markdown":"What is typically a validation class in this context?","body":"What is typically a validation class in this context?"},{"owner":{"account_id":1483051,"reputation":150,"user_id":1391935,"display_name":"Reuse3733"},"score":36,"creation_date":1562647490,"post_id":53317601,"comment_id":100430484,"body_markdown":"I would strongly suggest against the MyClassImpl and MyClass pattern. Abstraction should be introduced when it is needed. Therefore start with a concrete implementation MyClass and if/ever needed you can always extract an interface later and give proper names to the specific implementation other than &quot;Impl&quot;","body":"I would strongly suggest against the MyClassImpl and MyClass pattern. Abstraction should be introduced when it is needed. Therefore start with a concrete implementation MyClass and if/ever needed you can always extract an interface later and give proper names to the specific implementation other than &quot;Impl&quot;"},{"owner":{"account_id":5311013,"reputation":1462,"user_id":4237346,"display_name":"itwasntme"},"score":2,"creation_date":1577678789,"post_id":53317601,"comment_id":105221968,"body_markdown":"Such structure seems to be good, for some time... For configuration, util and maybe validation classes it can have this structure, but for others, when having lots business use cases it&#39;s much better to go with the docs structure shown in [this answer](https://stackoverflow.com/a/55590796/4237346) otherwise it will result in having lots of classes in single package (or multiple subpackages).","body":"Such structure seems to be good, for some time... For configuration, util and maybe validation classes it can have this structure, but for others, when having lots business use cases it&#39;s much better to go with the docs structure shown in <a href=\"https://stackoverflow.com/a/55590796/4237346\">this answer</a> otherwise it will result in having lots of classes in single package (or multiple subpackages)."},{"owner":{"account_id":5311013,"reputation":1462,"user_id":4237346,"display_name":"itwasntme"},"score":3,"creation_date":1577679104,"post_id":53317601,"comment_id":105222018,"body_markdown":"I&#39;m currently dealing with kind of `legacy project` having above structure and it makes it hard to develop new functionalities. It contains of over hundred controllers, services and others, which makes the packages unreadable and requires to search through whole project to maintain convention. Having structure like [this](https://stackoverflow.com/a/55590796/4237346) keeps the business logic for single required functionality in single package.","body":"I&#39;m currently dealing with kind of <code>legacy project</code> having above structure and it makes it hard to develop new functionalities. It contains of over hundred controllers, services and others, which makes the packages unreadable and requires to search through whole project to maintain convention. Having structure like <a href=\"https://stackoverflow.com/a/55590796/4237346\">this</a> keeps the business logic for single required functionality in single package."},{"owner":{"account_id":3512861,"reputation":326,"user_id":2936778,"accept_rate":50,"display_name":"Orubel"},"score":2,"creation_date":1616561523,"post_id":53317601,"comment_id":118038014,"body_markdown":"DAO&#39;s and DTO&#39;s are VERY old school just use a Domain","body":"DAO&#39;s and DTO&#39;s are VERY old school just use a Domain"},{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1620172336,"post_id":53317601,"comment_id":119121277,"body_markdown":"I have a project that has a jms folder in the project structure. Can anyone explain what it is for..i know java message service but i want to know what is defined  in the folder usually...i could see 2 files publisher and listener dont know what that is","body":"I have a project that has a jms folder in the project structure. Can anyone explain what it is for..i know java message service but i want to know what is defined  in the folder usually...i could see 2 files publisher and listener dont know what that is"},{"owner":{"account_id":4093763,"reputation":1143,"user_id":3361121,"accept_rate":54,"display_name":"AdityaKapreShrewsburyBoston"},"score":0,"creation_date":1629554619,"post_id":53317601,"comment_id":121719624,"body_markdown":"Is there any tool to generate this automatically ? Such specific structure and with gradle build.","body":"Is there any tool to generate this automatically ? Such specific structure and with gradle build."},{"owner":{"account_id":7676163,"reputation":1279,"user_id":5816974,"accept_rate":25,"display_name":"Amar Prakash Pandey"},"score":0,"creation_date":1629651799,"post_id":53317601,"comment_id":121737505,"body_markdown":"@AdityaKapreShrewsbury Unfortunately no and personally this project structure is old now. Try reading about &quot;Package by feature, not layer&quot; http://www.javapractices.com/topic/TopicAction.do?Id=205","body":"@AdityaKapreShrewsbury Unfortunately no and personally this project structure is old now. Try reading about &quot;Package by feature, not layer&quot; <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=205\" rel=\"nofollow noreferrer\">javapractices.com/topic/TopicAction.do?Id=205</a>"}],"tags":[],"owner":{"account_id":7676163,"reputation":1279,"user_id":5816974,"accept_rate":25,"display_name":"Amar Prakash Pandey"},"comment_count":9,"down_vote_count":4,"up_vote_count":54,"is_accepted":false,"score":50,"last_activity_date":1568110027,"creation_date":1542278543,"answer_id":53317601,"question_id":40902280,"body_markdown":"Though this question has an accepted answer, still I would like to share my project structure for RESTful services.\r\n\r\n    src/main/java\r\n        +- com\r\n            +- example\r\n                +- Application.java\r\n                +- ApplicationConstants.java\r\n                    +- configuration\r\n                    |   +- ApplicationConfiguration.java\r\n                    +- controller\r\n                    |   +- ApplicationController.java\r\n                    +- dao\r\n                    |   +- impl\r\n                    |   |   +- ApplicationDaoImpl.java\r\n                    |   +- ApplicationDao.java\r\n                    +- dto\r\n                    |   +- ApplicationDto.java\r\n                    +- service\r\n                    |   +- impl\r\n                    |   |   +- ApplicationServiceImpl.java\r\n                    |   +- ApplicationService.java\r\n                    +- util\r\n                    |   +- ApplicationUtils.java\r\n                    +- validation\r\n                    |   +- impl\r\n                    |   |   +- ApplicationValidationImpl.java\r\n                    |   +- ApplicationValidation.java\r\n\r\n*[DAO][1] = Data Access Object.&lt;br&gt;\r\n[DTO][2] = Data Transfer Object.*\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Data_access_object\r\n  [2]: https://en.wikipedia.org/wiki/Data_transfer_object","title":"What is the recommended project structure for spring boot rest projects?","body":"<p>Though this question has an accepted answer, still I would like to share my project structure for RESTful services.</p>\n\n<pre><code>src/main/java\n    +- com\n        +- example\n            +- Application.java\n            +- ApplicationConstants.java\n                +- configuration\n                |   +- ApplicationConfiguration.java\n                +- controller\n                |   +- ApplicationController.java\n                +- dao\n                |   +- impl\n                |   |   +- ApplicationDaoImpl.java\n                |   +- ApplicationDao.java\n                +- dto\n                |   +- ApplicationDto.java\n                +- service\n                |   +- impl\n                |   |   +- ApplicationServiceImpl.java\n                |   +- ApplicationService.java\n                +- util\n                |   +- ApplicationUtils.java\n                +- validation\n                |   +- impl\n                |   |   +- ApplicationValidationImpl.java\n                |   +- ApplicationValidation.java\n</code></pre>\n\n<p><em><a href=\"https://en.wikipedia.org/wiki/Data_access_object\" rel=\"noreferrer\">DAO</a> = Data Access Object.<br>\n<a href=\"https://en.wikipedia.org/wiki/Data_transfer_object\" rel=\"noreferrer\">DTO</a> = Data Transfer Object.</em></p>\n"},{"comments":[{"owner":{"account_id":1465496,"reputation":184,"user_id":6293817,"accept_rate":67,"display_name":"Ghos3t"},"score":1,"creation_date":1593551394,"post_id":55590796,"comment_id":110820785,"body_markdown":"So in this example are the customer and order folders or packages?","body":"So in this example are the customer and order folders or packages?"},{"owner":{"account_id":45664,"reputation":906,"user_id":134711,"accept_rate":89,"display_name":"Anthony"},"score":14,"creation_date":1599456112,"post_id":55590796,"comment_id":112769442,"body_markdown":"Packages. But packages are just a fancy java word for folders that have java classes in them.","body":"Packages. But packages are just a fancy java word for folders that have java classes in them."},{"owner":{"account_id":178454,"reputation":5330,"user_id":410439,"accept_rate":81,"display_name":"Ravi Parekh"},"score":2,"creation_date":1612948114,"post_id":55590796,"comment_id":116922465,"body_markdown":"Surprised many vote, With this structure package can be extended department/module wise, also looks bit different that what we normally use eg. @Subhasish answer, Again it is developer/team preference","body":"Surprised many vote, With this structure package can be extended department/module wise, also looks bit different that what we normally use eg. @Subhasish answer, Again it is developer/team preference"},{"owner":{"account_id":178454,"reputation":5330,"user_id":410439,"accept_rate":81,"display_name":"Ravi Parekh"},"score":0,"creation_date":1612948275,"post_id":55590796,"comment_id":116922550,"body_markdown":"May be Author has just shown illustration purpose only, heading says `2.2. Locating the Main Application Class`","body":"May be Author has just shown illustration purpose only, heading says <code>2.2. Locating the Main Application Class</code>"},{"owner":{"account_id":4438528,"reputation":2896,"user_id":3613702,"accept_rate":14,"display_name":"Code Name Jack"},"score":0,"creation_date":1637654832,"post_id":55590796,"comment_id":123877500,"body_markdown":"@RaviParekh that&#39;s the reason it is recommended. We work on features not layers.  It is very common with many other frameworks.","body":"@RaviParekh that&#39;s the reason it is recommended. We work on features not layers.  It is very common with many other frameworks."},{"owner":{"account_id":468289,"reputation":178225,"user_id":874188,"accept_rate":62,"display_name":"tripleee"},"score":0,"creation_date":1641797098,"post_id":55590796,"comment_id":124890996,"body_markdown":"Please [don’t post images of code, error messages, documentation, or other textual data.](https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors)","body":"Please <a href=\"https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors\">don’t post images of code, error messages, documentation, or other textual data.</a>"},{"owner":{"account_id":4233270,"reputation":704,"user_id":3465146,"display_name":"Svichkarev Anatoly"},"score":0,"creation_date":1644505393,"post_id":55590796,"comment_id":125629280,"body_markdown":"Good article about topic: [Package by feature, not layer](http://www.javapractices.com/topic/TopicAction.do?Id=205)","body":"Good article about topic: <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=205\" rel=\"nofollow noreferrer\">Package by feature, not layer</a>"}],"tags":[],"owner":{"account_id":6798233,"reputation":3513,"user_id":5232639,"display_name":"ENDEESA"},"comment_count":7,"down_vote_count":1,"up_vote_count":127,"is_accepted":true,"score":126,"last_activity_date":1669622614,"creation_date":1554806097,"answer_id":55590796,"question_id":40902280,"body_markdown":"From the [docs:][1], this is the recommended way\r\n\r\nThe following listing shows a typical layout: \r\n\r\n    com \r\n    \t+- example \r\n    \t\t+- myapplication \r\n    \t\t\t+- Application.java \r\n    \t\t\t+- customer \r\n    \t\t\t\t+- Customer.java \r\n    \t\t\t\t+- CustomerController.java \r\n    \t\t\t\t+- CustomerService.java \r\n    \t\t\t\t+- CustomerRepository.java \r\n    \t\t\t+- order \r\n    \t\t\t\t+- order.java \r\n    \t\t\t\t+- OrderController.java \r\n    \t\t\t\t+- OrderService.java \r\n    \t\t\t\t+- OrderRepository. java \r\n    \t\t\t\t\r\nThe Application. java  file would declare the main method, along with the basic SpringBootApplication as follows: \r\n    \r\n    package com.example.myapplication; \r\n    import org. springframework.boot.springApplication; \r\n    import org.springframework.boot.autoconfigure.SpringBootApplication; \r\n    \r\n    @SpringBootApplication public class Application { \r\n    \tpublic static void main(string[] args) \r\n    \t\t{ \r\n    \t\t\tspringApplication.run(Application. class, args); \r\n    \t\t}\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-structuring-your-code.html","title":"What is the recommended project structure for spring boot rest projects?","body":"<p>From the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-structuring-your-code.html\" rel=\"noreferrer\">docs:</a>, this is the recommended way</p>\n<p>The following listing shows a typical layout:</p>\n<pre><code>com \n    +- example \n        +- myapplication \n            +- Application.java \n            +- customer \n                +- Customer.java \n                +- CustomerController.java \n                +- CustomerService.java \n                +- CustomerRepository.java \n            +- order \n                +- order.java \n                +- OrderController.java \n                +- OrderService.java \n                +- OrderRepository. java \n                \n</code></pre>\n<p>The Application. java  file would declare the main method, along with the basic SpringBootApplication as follows:</p>\n<pre><code>package com.example.myapplication; \nimport org. springframework.boot.springApplication; \nimport org.springframework.boot.autoconfigure.SpringBootApplication; \n\n@SpringBootApplication public class Application { \n    public static void main(string[] args) \n        { \n            springApplication.run(Application. class, args); \n        }\n}\n</code></pre>\n"}],"owner":{"account_id":980429,"reputation":3079,"user_id":1000281,"accept_rate":79,"display_name":"chip"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227734,"favorite_count":0,"down_vote_count":1,"up_vote_count":128,"closed_date":1641797060,"accepted_answer_id":55590796,"answer_count":6,"score":127,"last_activity_date":1669622614,"creation_date":1480563928,"question_id":40902280,"body_markdown":"I&#39;m a beginner with spring boot. I&#39;m involved in the beginning of a project where we would build rest services using spring boot. Could you please advise the recommended directory structure to follow when building a project that will just expose rest services?","title":"What is the recommended project structure for spring boot rest projects?","body":"<p>I'm a beginner with spring boot. I'm involved in the beginning of a project where we would build rest services using spring boot. Could you please advise the recommended directory structure to follow when building a project that will just expose rest services?</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1668448896,"post_id":74435878,"comment_id":131402543,"body_markdown":"This has nothing to do with Spring Integration. See if `log4j-slf4j-impl` instead helps you somehow: https://logging.apache.org/log4j/log4j-2.2/log4j-slf4j-impl/index.html","body":"This has nothing to do with Spring Integration. See if <code>log4j-slf4j-impl</code> instead helps you somehow: <a href=\"https://logging.apache.org/log4j/log4j-2.2/log4j-slf4j-impl/index.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/log4j-2.2/log4j-slf4j-impl/index.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":9460509,"reputation":1,"user_id":7034361,"display_name":"Naveen Naduvinamani"},"score":0,"creation_date":1668452572,"post_id":74435878,"comment_id":131403631,"body_markdown":"If we use log4j-slf4j-impl instead of log4j-to-slf4j then getting following error: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j","body":"If we use log4j-slf4j-impl instead of log4j-to-slf4j then getting following error: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1668453139,"post_id":74435878,"comment_id":131403814,"body_markdown":"Well, if you get that error, then you don&#39;t do instead, but alongside. You have to remove  `log4j-to-slf4j` dependency.","body":"Well, if you get that error, then you don&#39;t do instead, but alongside. You have to remove  <code>log4j-to-slf4j</code> dependency."},{"owner":{"account_id":9460509,"reputation":1,"user_id":7034361,"display_name":"Naveen Naduvinamani"},"score":0,"creation_date":1668573656,"post_id":74435878,"comment_id":131436003,"body_markdown":"Thank you Artem bilan, It is working as expected after removing the log4j-to-slf4j dependency.","body":"Thank you Artem bilan, It is working as expected after removing the log4j-to-slf4j dependency."}],"owner":{"account_id":9460509,"reputation":1,"user_id":7034361,"display_name":"Naveen Naduvinamani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669622588,"creation_date":1668448259,"question_id":74435878,"body_markdown":"I have Spring integration application. where i have migrated log4j.1.x to log4j2. After migrating It is not logging anything and there is the following error on startup:\r\nERROR StatusLogger LogManager returned an instance of org.apache.logging.slf4j.SLF4JLoggerContextFactory which does not implement org.apache.logging.log4j.core.impl.Log4jContextFactory. Unable to initialize Log4j.\r\n\r\n**Web.xml**:\r\n\r\n```\r\n&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;log4jConfiguration&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;file:///opt/ds-log4j2.properties&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n```\r\n**Pom.xml** : log4j2 dependencies.\r\n\r\n```\r\n&lt;!-- Log4j2 dependencies --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n\r\nTried to add LOG4J to SLF4J adaptor too but its not working.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nSince this is a spring integration application. solution provided on the following link is not applicable : [https://stackoverflow.com/questions/54036773/unable-to-initialize-log4j-slf4jloggercontextfactory](https://www.stackoverflow.com/)","title":"Unable to initialize Log4j - SLF4JLoggerContextFactory while migrating log4j(v1) to log4j2 (v2)","body":"<p>I have Spring integration application. where i have migrated log4j.1.x to log4j2. After migrating It is not logging anything and there is the following error on startup:\nERROR StatusLogger LogManager returned an instance of org.apache.logging.slf4j.SLF4JLoggerContextFactory which does not implement org.apache.logging.log4j.core.impl.Log4jContextFactory. Unable to initialize Log4j.</p>\n<p><strong>Web.xml</strong>:</p>\n<pre><code>&lt;context-param&gt;\n        &lt;param-name&gt;log4jConfiguration&lt;/param-name&gt;\n        &lt;param-value&gt;file:///opt/ds-log4j2.properties&lt;/param-value&gt;\n    &lt;/context-param&gt;\n</code></pre>\n<p><strong>Pom.xml</strong> : log4j2 dependencies.</p>\n<pre><code>&lt;!-- Log4j2 dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Tried to add LOG4J to SLF4J adaptor too but its not working.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Since this is a spring integration application. solution provided on the following link is not applicable : <a href=\"https://www.stackoverflow.com/\">https://stackoverflow.com/questions/54036773/unable-to-initialize-log4j-slf4jloggercontextfactory</a></p>\n"},{"tags":["java","swagger","openapi"],"comments":[{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1667570230,"post_id":74317921,"comment_id":131203989,"body_markdown":"If by &quot;Swagger&quot; you mean the `swagger-core` Java library (which is used by Springfox and Springdoc), you can examine its code on GitHub: https://github.com/swagger-api/swagger-core","body":"If by &quot;Swagger&quot; you mean the <code>swagger-core</code> Java library (which is used by Springfox and Springdoc), you can examine its code on GitHub: <a href=\"https://github.com/swagger-api/swagger-core\" rel=\"nofollow noreferrer\">github.com/swagger-api/swagger-core</a>"},{"owner":{"account_id":12896319,"reputation":2102,"user_id":9326543,"display_name":"FishingIsLife"},"score":0,"creation_date":1667570832,"post_id":74317921,"comment_id":131204219,"body_markdown":"I updated my post with the dependencies I use.","body":"I updated my post with the dependencies I use."}],"owner":{"account_id":12896319,"reputation":2102,"user_id":9326543,"display_name":"FishingIsLife"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669622575,"creation_date":1667569083,"question_id":74317921,"body_markdown":"I try to find documentation on how swagger generates the model/dto class documentation. I thought it scans the classpath and reads the class attributes but then I found the following:\r\n\r\nA class has two attributes \r\n\r\n    public class A {\r\n    public String var1;\r\n    public String var2;\r\n\r\n    public String setTestVar1(String var1){\r\n         this.var1 = var1;\r\n      }\r\n    }\r\n\r\nIn my swagger ui, the class is represented with three variables: var1, var2, testVar1\r\nI know that I just have to adapt the setter and it would work but I&#39;m interested how swagger works in detail. Does is scan for attributes and setters that are not represented by the standard setter syntax like setVar2?\r\n\r\nI use the following dependencies:\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;swagger-jaxrs2&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;swagger-jaxrs2-servlet-initializer- \r\n                v2&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;","title":"How does swagger auto generate Model class documentation?","body":"<p>I try to find documentation on how swagger generates the model/dto class documentation. I thought it scans the classpath and reads the class attributes but then I found the following:</p>\n<p>A class has two attributes</p>\n<pre><code>public class A {\npublic String var1;\npublic String var2;\n\npublic String setTestVar1(String var1){\n     this.var1 = var1;\n  }\n}\n</code></pre>\n<p>In my swagger ui, the class is represented with three variables: var1, var2, testVar1\nI know that I just have to adapt the setter and it would work but I'm interested how swagger works in detail. Does is scan for attributes and setters that are not represented by the standard setter syntax like setVar2?</p>\n<p>I use the following dependencies:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-jaxrs2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-jaxrs2-servlet-initializer- \n            v2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","arrays","sorting","for-loop"],"answers":[{"tags":[],"owner":{"account_id":23090314,"reputation":385,"user_id":20607467,"display_name":"ﾓｷｬﾃﾞ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669530076,"creation_date":1669530076,"answer_id":74587954,"question_id":74587677,"body_markdown":"Try this.\r\n\r\n    static void heighestToLowestOrder(int[] input) {\r\n        int length = input.length;\r\n        int[] ordered = IntStream.range(0, length)\r\n            .boxed()\r\n            .sorted(Comparator.comparingInt(i -&gt; input[(int) i]).reversed())\r\n            .mapToInt(Integer::intValue)\r\n            .toArray();\r\n        System.out.println(&quot;Ratings in Highest to Lowest order :&quot;);\r\n        System.out.println();\r\n        IntStream.of(ordered)\r\n            .forEach(i -&gt; System.out.printf(&quot;Rate %d%n&quot;, i + 1));\r\n        System.out.println();\r\n        System.out.printf(&quot;The Highest Rating is Rate %d with the of %d%n&quot;,\r\n            ordered[0] + 1, input[ordered[0]]);\r\n        System.out.printf(&quot;The Lowest Rating is Rate %d with the of %d%n&quot;,\r\n            ordered[length - 1] + 1, input[ordered[length - 1]]);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] input = {237, 4303, -635, 715, 56};\r\n        heighestToLowestOrder(input);\r\n    }\r\n\r\noutput:\r\n\r\n    Ratings in Highest to Lowest order :\r\n    \r\n    Rate 2\r\n    Rate 4\r\n    Rate 1\r\n    Rate 5\r\n    Rate 3\r\n    \r\n    The Highest Rating is Rate 2 with the of 4303\r\n    The Lowest Rating is Rate 3 with the of -635\r\n\r\n","title":"Write a program that takes 5 numbers as a rate input and print out all the inputs in a Highest to Lowest order","body":"<p>Try this.</p>\n<pre><code>static void heighestToLowestOrder(int[] input) {\n    int length = input.length;\n    int[] ordered = IntStream.range(0, length)\n        .boxed()\n        .sorted(Comparator.comparingInt(i -&gt; input[(int) i]).reversed())\n        .mapToInt(Integer::intValue)\n        .toArray();\n    System.out.println(&quot;Ratings in Highest to Lowest order :&quot;);\n    System.out.println();\n    IntStream.of(ordered)\n        .forEach(i -&gt; System.out.printf(&quot;Rate %d%n&quot;, i + 1));\n    System.out.println();\n    System.out.printf(&quot;The Highest Rating is Rate %d with the of %d%n&quot;,\n        ordered[0] + 1, input[ordered[0]]);\n    System.out.printf(&quot;The Lowest Rating is Rate %d with the of %d%n&quot;,\n        ordered[length - 1] + 1, input[ordered[length - 1]]);\n}\n\npublic static void main(String[] args) {\n    int[] input = {237, 4303, -635, 715, 56};\n    heighestToLowestOrder(input);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>Ratings in Highest to Lowest order :\n\nRate 2\nRate 4\nRate 1\nRate 5\nRate 3\n\nThe Highest Rating is Rate 2 with the of 4303\nThe Lowest Rating is Rate 3 with the of -635\n</code></pre>\n"}],"owner":{"account_id":27059408,"reputation":1,"user_id":20611637,"display_name":"Hiro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669622474,"creation_date":1669526190,"question_id":74587677,"body_markdown":"The program must able to decide which rating is the highest and the lowest. \r\n\r\nTest Case:\r\n\r\n    Rate 1: 237\r\n    Rate 2: 4303\r\n    Rate 3: -635\r\n    Rate 4: 715\r\n    Rate 5: 56\r\n\r\nTest Output :\r\n\r\n    Ratings in Highest to Lowest order :\r\n    \r\n    Rate 2\r\n    Rate 4\r\n    Rate 1\r\n    Rate 5\r\n    Rate 3\r\n\r\n    The Highest Rating is Rate 2 with the of 4303\r\n    The Lowest Rating is Rate 3 with the of -635\r\n\r\nI TRIED THIS BEFORE BUT I CANT GET THE EXACT OUTPUT:\r\n\r\n\ttry {\r\n\t\t//Create Object for Scanner class to get input from keyword\r\n\t\tScanner g = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Enter the value of N: &quot;);\r\n\t\t//Declaring array\r\n\t\tint inputValue = g.nextInt(), temp;\r\n\t\t//Get input from keyword\r\n\t\tSystem.out.print(&quot;Input Rating Value Below\\n&quot;);\r\n\t\tint[]arr = new int[inputValue];\r\n\t\t//Get all input from keyword\r\n\t\tfor(int i = 0, j= 1; i &lt;= inputValue &amp;&amp; j &lt;= inputValue;i++, j++){\r\n\t\t\tSystem.out.print(&quot;Rate &quot; + j + &quot;:&quot;);\r\n\t\t\tarr[i]= g.nextInt();\r\n\t\t}\r\n\t\t//Sort the given ratings\r\n\t\tfor(int m=0;m&lt;arr.length;m++) {\r\n\t\t\tfor(int n=m+1;n&lt;arr.length;n++) {\r\n\t\t\t\tif(arr[m]&lt;arr[n]) {\r\n\t\t\t\t\ttemp = arr[m];\r\n\t\t\t\t\tarr[m]=arr[n];\r\n\t\t\t\t\tarr[n]=temp;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t//Output of sorted ratings\r\n\t\tSystem.out.print(&quot;Ratings in Highest to Lowest: \\n&quot;);\r\n\t\tfor(int t: arr) {\r\n\t\t\tSystem.out.println(&quot;Rate : &quot; + t);\r\n\t\t}\r\n\t\t//assign first element of an array to largest and smallest\r\n\t\tint min = arr[0];\r\n\t\tint max = arr[0];\r\n\r\n\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tif (arr[i] &gt; max)\r\n\t\t\t\tmax = arr[i];\r\n\t\t\telse if (arr[i] &lt; min)\r\n\t\t\t\tmin = arr[i];\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;The Highest Rating is &quot;+ max);\r\n\t\tSystem.out.println(&quot;The Lowest Rating is &quot; + min);\r\n\t}\r\n\r\n","title":"Write a program that takes 5 numbers as a rate input and print out all the inputs in a Highest to Lowest order","body":"<p>The program must able to decide which rating is the highest and the lowest.</p>\n<p>Test Case:</p>\n<pre><code>Rate 1: 237\nRate 2: 4303\nRate 3: -635\nRate 4: 715\nRate 5: 56\n</code></pre>\n<p>Test Output :</p>\n<pre><code>Ratings in Highest to Lowest order :\n\nRate 2\nRate 4\nRate 1\nRate 5\nRate 3\n\nThe Highest Rating is Rate 2 with the of 4303\nThe Lowest Rating is Rate 3 with the of -635\n</code></pre>\n<p>I TRIED THIS BEFORE BUT I CANT GET THE EXACT OUTPUT:</p>\n<pre><code>try {\n    //Create Object for Scanner class to get input from keyword\n    Scanner g = new Scanner(System.in);\n    System.out.print(&quot;Enter the value of N: &quot;);\n    //Declaring array\n    int inputValue = g.nextInt(), temp;\n    //Get input from keyword\n    System.out.print(&quot;Input Rating Value Below\\n&quot;);\n    int[]arr = new int[inputValue];\n    //Get all input from keyword\n    for(int i = 0, j= 1; i &lt;= inputValue &amp;&amp; j &lt;= inputValue;i++, j++){\n        System.out.print(&quot;Rate &quot; + j + &quot;:&quot;);\n        arr[i]= g.nextInt();\n    }\n    //Sort the given ratings\n    for(int m=0;m&lt;arr.length;m++) {\n        for(int n=m+1;n&lt;arr.length;n++) {\n            if(arr[m]&lt;arr[n]) {\n                temp = arr[m];\n                arr[m]=arr[n];\n                arr[n]=temp;\n            }\n        }\n    }\n    //Output of sorted ratings\n    System.out.print(&quot;Ratings in Highest to Lowest: \\n&quot;);\n    for(int t: arr) {\n        System.out.println(&quot;Rate : &quot; + t);\n    }\n    //assign first element of an array to largest and smallest\n    int min = arr[0];\n    int max = arr[0];\n\n    for (int i = 0; i &lt; arr.length; i++) {\n        if (arr[i] &gt; max)\n            max = arr[i];\n        else if (arr[i] &lt; min)\n            min = arr[i];\n    }\n\n    System.out.println(&quot;The Highest Rating is &quot;+ max);\n    System.out.println(&quot;The Lowest Rating is &quot; + min);\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","dao"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1669582856,"post_id":74593205,"comment_id":131669015,"body_markdown":"Since you are handling the lifecycle of the `EntityManager` by hand, it is OK to create the DAOs per request, IMO.","body":"Since you are handling the lifecycle of the <code>EntityManager</code> by hand, it is OK to create the DAOs per request, IMO."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669646754,"post_id":74593205,"comment_id":131683292,"body_markdown":"Anything is ok if it matches your use case and application needs. I&#39;ve seen passing in the transactional context into DAO methods as an option as well in some projects. Certainly helpful if some logic needs to add customized rollback functions to make sure things are cleaned up (or say calls out to a central cache).","body":"Anything is ok if it matches your use case and application needs. I&#39;ve seen passing in the transactional context into DAO methods as an option as well in some projects. Certainly helpful if some logic needs to add customized rollback functions to make sure things are cleaned up (or say calls out to a central cache)."}],"owner":{"account_id":2366322,"reputation":2105,"user_id":2071938,"accept_rate":52,"display_name":"user2071938"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669622352,"creation_date":1669577684,"question_id":74593205,"body_markdown":"I didn&#39;t really found whats the right way to open Transactions across multiple DAOs in JPA/Hibernate.\r\nCould this be a way to do it? Or are there better solutions?\r\n\r\n\r\n    EntityManager em = createEntityManager(); //from EntityManagerFactory\r\n    UserDAO userDAO = new UserDAO(em);\r\n    AddressDAO addressDAO = new AddressDAO(em);\r\n\r\n    Address address = addressDAO.find(1);\r\n    address.setZIP(&quot;1234&quot;);\r\n    User user = userDAO.find(1);\r\n    \r\n    EntityTransaction tx = em.getTransaction();\r\n\ttx.begin();\r\n\t\r\n    addressDAO.save(address);\r\n    userDAO.delete(user);    \r\n\r\n\ttx.commit();\r\n    em.close();\r\n\r\nIs it ok to create new DAOs for each Request?\r\n","title":"Transaction across multiple DAOs in JPA","body":"<p>I didn't really found whats the right way to open Transactions across multiple DAOs in JPA/Hibernate.\nCould this be a way to do it? Or are there better solutions?</p>\n<pre><code>EntityManager em = createEntityManager(); //from EntityManagerFactory\nUserDAO userDAO = new UserDAO(em);\nAddressDAO addressDAO = new AddressDAO(em);\n\nAddress address = addressDAO.find(1);\naddress.setZIP(&quot;1234&quot;);\nUser user = userDAO.find(1);\n\nEntityTransaction tx = em.getTransaction();\ntx.begin();\n\naddressDAO.save(address);\nuserDAO.delete(user);    \n\ntx.commit();\nem.close();\n</code></pre>\n<p>Is it ok to create new DAOs for each Request?</p>\n"},{"tags":["java","arrays","linear-search"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669624394,"post_id":74597522,"comment_id":131675815,"body_markdown":"It&#39;s not clear exactly what problem you are having doing this -- please edit your question to explain.","body":"It&#39;s not clear exactly what problem you are having doing this -- please edit your question to explain."}],"answers":[{"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1669622690,"post_id":74597579,"comment_id":131675327,"body_markdown":"the purpose of stack overflow is not to provide code solutions but to answer questions. in other words, help OP by explaining what was incorrect in their code. also add explanation of your solution, for the benefit of future devs coming here","body":"the purpose of stack overflow is not to provide code solutions but to answer questions. in other words, help OP by explaining what was incorrect in their code. also add explanation of your solution, for the benefit of future devs coming here"},{"owner":{"account_id":23090314,"reputation":385,"user_id":20607467,"display_name":"ﾓｷｬﾃﾞ"},"score":0,"creation_date":1669624183,"post_id":74597579,"comment_id":131675763,"body_markdown":"@SharonBenAsher Whatever the purpose of this site, he may be answering for his own purposes.","body":"@SharonBenAsher Whatever the purpose of this site, he may be answering for his own purposes."},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1669624539,"post_id":74597579,"comment_id":131675865,"body_markdown":"no he may not. that is why downvotes are for. so that new contributors like yourself and solution provider may learn how this site operates and what is its purpose. seeing you are here for 3 days, I advise to take the time and learn about this site before rushing to give your opinion","body":"no he may not. that is why downvotes are for. so that new contributors like yourself and solution provider may learn how this site operates and what is its purpose. seeing you are here for 3 days, I advise to take the time and learn about this site before rushing to give your opinion"},{"owner":{"account_id":23090314,"reputation":385,"user_id":20607467,"display_name":"ﾓｷｬﾃﾞ"},"score":1,"creation_date":1669625206,"post_id":74597579,"comment_id":131676066,"body_markdown":"@SharonBenAsher Your comment is not directed at the questioner or answerer. In that case, the name should be written first. You should learn more about this site.","body":"@SharonBenAsher Your comment is not directed at the questioner or answerer. In that case, the name should be written first. You should learn more about this site."}],"tags":[],"owner":{"account_id":8404906,"reputation":128,"user_id":6308667,"display_name":"Ng&#244; Văn Quyền"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1669622320,"creation_date":1669622320,"answer_id":74597579,"question_id":74597522,"body_markdown":"    public static int search(int arr[], int x)\r\n        {\r\n            int N = arr.length;\r\n            for (int i = 0; i &lt; N; i++) {\r\n                if (arr[i] == x)\r\n                    return i;\r\n            }\r\n            return -1;\r\n        }\r\n     \r\n        // Driver&#39;s code\r\n        public static void main(String args[])\r\n        {\r\n            int arr[] = { 2, 3, 4, 10, 40 };\r\n            int x = 10;\r\n     \r\n            // Function call\r\n            int result = search(arr, x);\r\n            if (result == -1)\r\n                System.out.print(\r\n                    &quot;Element is not present in array&quot;);\r\n            else\r\n                System.out.print(&quot;Element is present at index &quot;\r\n                                 + result);\r\n        }","title":"I&#39;m new to programming. How do i linear search a number in array, i also have to create a function and pass the array[] and integer through that","body":"<pre><code>public static int search(int arr[], int x)\n    {\n        int N = arr.length;\n        for (int i = 0; i &lt; N; i++) {\n            if (arr[i] == x)\n                return i;\n        }\n        return -1;\n    }\n \n    // Driver's code\n    public static void main(String args[])\n    {\n        int arr[] = { 2, 3, 4, 10, 40 };\n        int x = 10;\n \n        // Function call\n        int result = search(arr, x);\n        if (result == -1)\n            System.out.print(\n                &quot;Element is not present in array&quot;);\n        else\n            System.out.print(&quot;Element is present at index &quot;\n                             + result);\n    }\n</code></pre>\n"}],"owner":{"account_id":27070339,"reputation":13,"user_id":20621069,"display_name":"Utsav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1669625835,"accepted_answer_id":74597579,"answer_count":1,"score":1,"last_activity_date":1669622320,"creation_date":1669621922,"question_id":74597522,"body_markdown":"```\r\npublic static int[] linearSearch(int arr[], int x) {\r\n\t\t\r\n        for (int i=0; i&lt;arr.length; i++) {\r\n\t\t\tif (arr[i]==x) {\r\n\t\t\treturn arr;\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\t\r\n\tpublic static int[] takeInput() {\r\n\t\tScanner s = new Scanner(System.in);\r\n\t\tint N= s.nextInt();\r\n\t\tint arr[]= new int[N];\r\n\t\tint x=s.nextInt();\r\n\t\t\r\n\t\tfor (int i=0; i&lt;N; i++) {\r\n\t\t\t arr[i]=s.nextInt(); \r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\t\t\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t\t\t\r\n\t}\r\n```\r\n\r\n\r\nI&#39;m unable to pass int x that i&#39;ve taken as input through takeInput, and also linear search won&#39;t accept array and int.","title":"I&#39;m new to programming. How do i linear search a number in array, i also have to create a function and pass the array[] and integer through that","body":"<pre><code>public static int[] linearSearch(int arr[], int x) {\n        \n        for (int i=0; i&lt;arr.length; i++) {\n            if (arr[i]==x) {\n            return arr;\n            }\n        }\n    }\n    \n    public static int[] takeInput() {\n        Scanner s = new Scanner(System.in);\n        int N= s.nextInt();\n        int arr[]= new int[N];\n        int x=s.nextInt();\n        \n        for (int i=0; i&lt;N; i++) {\n             arr[i]=s.nextInt(); \n        }\n        return arr;\n    }\n        \n    \n    public static void main(String[] args) {\n        \n                \n    }\n</code></pre>\n<p>I'm unable to pass int x that i've taken as input through takeInput, and also linear search won't accept array and int.</p>\n"},{"tags":["java","jsp","file-upload","multipartform-data","cloudinary"],"answers":[{"tags":[],"owner":{"account_id":19166175,"reputation":61,"user_id":14000844,"display_name":"Pogitos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669622228,"creation_date":1669622228,"answer_id":74597569,"question_id":74595994,"body_markdown":"The Cloudinary [upload method][1] supports uploading media files from the sources like a local path, a remote URL, a private storage URL (S3 or Google Cloud storage), a base64 data URI, or an FTP URL.\r\n\r\nBased on your code, it seems that you are only supplying the filename of the image.\r\n\r\n    String fileName = part.getSubmittedFileName();\r\n    result = UploadImage.uploadImage(fileName, part);\r\n\r\nYou would need to update the code to input the local path of the image.\r\n\r\n\r\n  [1]: https://cloudinary.com/documentation/upload_images#file_source_options","title":"How to use getParts in java to get only image parts?","body":"<p>The Cloudinary <a href=\"https://cloudinary.com/documentation/upload_images#file_source_options\" rel=\"nofollow noreferrer\">upload method</a> supports uploading media files from the sources like a local path, a remote URL, a private storage URL (S3 or Google Cloud storage), a base64 data URI, or an FTP URL.</p>\n<p>Based on your code, it seems that you are only supplying the filename of the image.</p>\n<pre><code>String fileName = part.getSubmittedFileName();\nresult = UploadImage.uploadImage(fileName, part);\n</code></pre>\n<p>You would need to update the code to input the local path of the image.</p>\n"}],"owner":{"account_id":23406228,"reputation":73,"user_id":17468565,"display_name":"Văn Thuận Nguyễn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74597569,"answer_count":1,"score":1,"last_activity_date":1669622228,"creation_date":1669609889,"question_id":74595994,"body_markdown":"I&#39;m trying to upload a file to cloudinary. I&#39;m stucked at how to only get parts of image from the form. It keeps on throwing exception: Invalid image file. If I remove all text inputs in the form, the uploading is successful. I guess that happens because the form also has text inside. Please help me solve this. I&#39;m really grateful for your support.\r\nHere is my code:\r\nForm.jsp:\r\n\r\n    &lt;form role=&quot;form&quot; action=&quot;&lt;c:url value=&quot;/admin/product/update&quot;/&gt;&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n          &lt;input name=&quot;id&quot; value=&quot;${product.id}&quot; hidden=&quot;&quot;&gt;\r\n          &lt;div class=&quot;form-group&quot;&gt;\r\n               &lt;label&gt;Name:&lt;/label&gt; &lt;input class=&quot;form-control&quot; value=&quot;${product.name}&quot; name=&quot;name&quot; /&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;form-group&quot;&gt;\r\n               &lt;label&gt;Price:&lt;/label&gt; &lt;input class=&quot;form-control&quot; value=&quot;${product.price}&quot; type=&quot;number&quot; name=&quot;price&quot; /&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;form-group&quot;&gt;\r\n               &lt;label&gt;Quantity:&lt;/label&gt; &lt;input class=&quot;form-control&quot; value=&quot;${product.quantity}&quot; type=&quot;number&quot; name=&quot;quantity&quot; /&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;form-group&quot;&gt;\r\n               &lt;label&gt;Image:&lt;/label&gt; &lt;input class=&quot;form-control&quot; value=&quot;${product.image}&quot; name=&quot;image&quot; /&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;form-group&quot;&gt;\r\n               &lt;label&gt;Description &lt;/label&gt; &lt;br&gt;\r\n               &lt;textarea rows=&quot;4&quot; cols=&quot;50&quot; name=&quot;description&quot; value=&quot;${product.description}&quot;  &gt;&lt;/textarea&gt;\r\n           &lt;/div&gt;\r\n           &lt;div class=&quot;form-group&quot;&gt;\r\n                &lt;label&gt;Category&lt;/label&gt;\r\n                &lt;div class=&quot;checkbox&quot;&gt;\r\n                     &lt;select name=&quot;catid&quot;&gt;\r\n                          &lt;c:forEach items=&quot;${categorylist}&quot; var=&quot;c&quot;&gt;\r\n                               &lt;option value=&quot;${c.id}&quot;&gt;${c.name}&lt;/option&gt;\r\n                          &lt;/c:forEach&gt;\r\n                     &lt;/select&gt;\r\n                &lt;/div&gt;\r\n           &lt;/div&gt;\r\n                &lt;div class=&quot;form-group&quot;&gt;\r\n                     &lt;label&gt;image&lt;/label&gt; &lt;input type=&quot;file&quot; name=&quot;image&quot; value=&quot;${product.image }&quot; /&gt;\r\n                &lt;/div&gt;\r\n\r\nServlet.java\r\n        \r\n\r\n            BeanUtils.populate(product, request.getParameterMap());\r\n            //if (catid != product.getCategory().getId()) {\r\n            //    Category category = new Category();\r\n            category = dao2.getCategoryByID(catid);\r\n            product.setCategory(category);\r\n\r\n            Map result = null;\r\n            Collection&lt;Part&gt; fileParts = request.getParts();\r\n            for (Part part : fileParts) {\r\n                String fileName = part.getSubmittedFileName();\r\n                result = UploadImage.uploadImage(fileName, part);\r\n                String url = String.valueOf(result.get(&quot;url&quot;));\r\n                product.setImage(url);\r\n                if (result == null) {\r\n                    throw new RuntimeException(&quot;Loi upload&quot;);\r\n                }\r\n            }\r\n            \r\n            dao.update(product);","title":"How to use getParts in java to get only image parts?","body":"<p>I'm trying to upload a file to cloudinary. I'm stucked at how to only get parts of image from the form. It keeps on throwing exception: Invalid image file. If I remove all text inputs in the form, the uploading is successful. I guess that happens because the form also has text inside. Please help me solve this. I'm really grateful for your support.\nHere is my code:\nForm.jsp:</p>\n<pre><code>&lt;form role=&quot;form&quot; action=&quot;&lt;c:url value=&quot;/admin/product/update&quot;/&gt;&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\n      &lt;input name=&quot;id&quot; value=&quot;${product.id}&quot; hidden=&quot;&quot;&gt;\n      &lt;div class=&quot;form-group&quot;&gt;\n           &lt;label&gt;Name:&lt;/label&gt; &lt;input class=&quot;form-control&quot; value=&quot;${product.name}&quot; name=&quot;name&quot; /&gt;\n      &lt;/div&gt;\n      &lt;div class=&quot;form-group&quot;&gt;\n           &lt;label&gt;Price:&lt;/label&gt; &lt;input class=&quot;form-control&quot; value=&quot;${product.price}&quot; type=&quot;number&quot; name=&quot;price&quot; /&gt;\n      &lt;/div&gt;\n      &lt;div class=&quot;form-group&quot;&gt;\n           &lt;label&gt;Quantity:&lt;/label&gt; &lt;input class=&quot;form-control&quot; value=&quot;${product.quantity}&quot; type=&quot;number&quot; name=&quot;quantity&quot; /&gt;\n      &lt;/div&gt;\n      &lt;div class=&quot;form-group&quot;&gt;\n           &lt;label&gt;Image:&lt;/label&gt; &lt;input class=&quot;form-control&quot; value=&quot;${product.image}&quot; name=&quot;image&quot; /&gt;\n      &lt;/div&gt;\n      &lt;div class=&quot;form-group&quot;&gt;\n           &lt;label&gt;Description &lt;/label&gt; &lt;br&gt;\n           &lt;textarea rows=&quot;4&quot; cols=&quot;50&quot; name=&quot;description&quot; value=&quot;${product.description}&quot;  &gt;&lt;/textarea&gt;\n       &lt;/div&gt;\n       &lt;div class=&quot;form-group&quot;&gt;\n            &lt;label&gt;Category&lt;/label&gt;\n            &lt;div class=&quot;checkbox&quot;&gt;\n                 &lt;select name=&quot;catid&quot;&gt;\n                      &lt;c:forEach items=&quot;${categorylist}&quot; var=&quot;c&quot;&gt;\n                           &lt;option value=&quot;${c.id}&quot;&gt;${c.name}&lt;/option&gt;\n                      &lt;/c:forEach&gt;\n                 &lt;/select&gt;\n            &lt;/div&gt;\n       &lt;/div&gt;\n            &lt;div class=&quot;form-group&quot;&gt;\n                 &lt;label&gt;image&lt;/label&gt; &lt;input type=&quot;file&quot; name=&quot;image&quot; value=&quot;${product.image }&quot; /&gt;\n            &lt;/div&gt;\n</code></pre>\n<p>Servlet.java</p>\n<pre><code>        BeanUtils.populate(product, request.getParameterMap());\n        //if (catid != product.getCategory().getId()) {\n        //    Category category = new Category();\n        category = dao2.getCategoryByID(catid);\n        product.setCategory(category);\n\n        Map result = null;\n        Collection&lt;Part&gt; fileParts = request.getParts();\n        for (Part part : fileParts) {\n            String fileName = part.getSubmittedFileName();\n            result = UploadImage.uploadImage(fileName, part);\n            String url = String.valueOf(result.get(&quot;url&quot;));\n            product.setImage(url);\n            if (result == null) {\n                throw new RuntimeException(&quot;Loi upload&quot;);\n            }\n        }\n        \n        dao.update(product);\n</code></pre>\n"},{"tags":["java","methods","locking","synchronize"],"comments":[{"owner":{"account_id":420891,"reputation":11018,"user_id":798818,"accept_rate":91,"display_name":"Mob"},"score":0,"creation_date":1319210724,"post_id":7851604,"comment_id":9575280,"body_markdown":"@Grammin I would say that it doesn&#39;t matter.","body":"@Grammin I would say that it doesn&#39;t matter."},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1319240197,"post_id":7851604,"comment_id":9582117,"body_markdown":"If you have another question, your best bet is to open another post. That way it will be seen.","body":"If you have another question, your best bet is to open another post. That way it will be seen."}],"answers":[{"tags":[],"owner":{"account_id":389530,"reputation":3131,"user_id":749041,"accept_rate":65,"display_name":"LordDoskias"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319210681,"creation_date":1319210681,"answer_id":7851632,"question_id":7851604,"body_markdown":"You can either add \r\n\r\n&gt; synchronized\r\n\r\n keyword to both methods OR use the \r\n\r\n    synchronized(Myclass.class) {\r\n    }\r\n\r\n\r\nThe former essentially uses the Myclass.class object but it is not as fine-grained as the latter.\r\n ","title":"Java synchronize on object","body":"<p>You can either add </p>\n\n<blockquote>\n  <p>synchronized</p>\n</blockquote>\n\n<p>keyword to both methods OR use the </p>\n\n<pre><code>synchronized(Myclass.class) {\n}\n</code></pre>\n\n<p>The former essentially uses the Myclass.class object but it is not as fine-grained as the latter.</p>\n"},{"tags":[],"owner":{"account_id":256707,"reputation":8015,"user_id":537623,"accept_rate":81,"display_name":"kgautron"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319210705,"creation_date":1319210705,"answer_id":7851641,"question_id":7851604,"body_markdown":"Declare both methods as `synchronized` to lock every instance, or use a `synchronized(this){...}` block to make the lock only on the current instance.","title":"Java synchronize on object","body":"<p>Declare both methods as <code>synchronized</code> to lock every instance, or use a <code>synchronized(this){...}</code> block to make the lock only on the current instance.</p>\n"},{"tags":[],"owner":{"account_id":389881,"reputation":53027,"user_id":749588,"accept_rate":65,"display_name":"Jean Logeart"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669622217,"creation_date":1319210864,"answer_id":7851676,"question_id":7851604,"body_markdown":"    synchronized(myList) {\r\n        // do stuff on myList\r\n    }\r\n\r\nSpecific documentation: [Intrinsic Locks and Synchronization][1]\r\n\r\nYet I encourage you to use a *thread-safe* concurrent data structure for what you want to achieve to avoid doing synchronizing yourself and to get (**a lot**) better performance: [Concurrent package summary][2]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/essential/concurrency/locksync.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/concurrent/package-summary.html","title":"Java synchronize on object","body":"<pre><code>synchronized(myList) {\n    // do stuff on myList\n}\n</code></pre>\n<p>Specific documentation: <a href=\"http://download.oracle.com/javase/tutorial/essential/concurrency/locksync.html\" rel=\"nofollow noreferrer\">Intrinsic Locks and Synchronization</a></p>\n<p>Yet I encourage you to use a <em>thread-safe</em> concurrent data structure for what you want to achieve to avoid doing synchronizing yourself and to get (<strong>a lot</strong>) better performance: <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/concurrent/package-summary.html\" rel=\"nofollow noreferrer\">Concurrent package summary</a></p>\n"},{"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":5,"creation_date":1319211289,"post_id":7851682,"comment_id":9575458,"body_markdown":"There is a flaw, though : since myList comes from the outside, there is no guarantee that another thread accesses myList directly, bypassing the lock. The constructor should do a defensive copy of the list it receives.","body":"There is a flaw, though : since myList comes from the outside, there is no guarantee that another thread accesses myList directly, bypassing the lock. The constructor should do a defensive copy of the list it receives."},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1319218477,"post_id":7851682,"comment_id":9577400,"body_markdown":"@JB Nizet Thanks for pointing that out - I fixed the sample. Also made instance vars private","body":"@JB Nizet Thanks for pointing that out - I fixed the sample. Also made instance vars private"},{"owner":{"account_id":10258,"reputation":26470,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"score":0,"creation_date":1319221422,"post_id":7851682,"comment_id":9578180,"body_markdown":"What&#39;s wrong with just &quot;synchronized&quot;? That locks on the instance, which would seem to do exactly the same with one fewer objects.","body":"What&#39;s wrong with just &quot;synchronized&quot;? That locks on the instance, which would seem to do exactly the same with one fewer objects."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1319236930,"post_id":7851682,"comment_id":9581619,"body_markdown":"@DJClayworth : he would still need a synchronized(this) inside the run method, because if he puts the synchronized on the method, the lock will never be released : it&#39;s an infinite loop.","body":"@DJClayworth : he would still need a synchronized(this) inside the run method, because if he puts the synchronized on the method, the lock will never be released : it&#39;s an infinite loop."}],"tags":[],"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1319218454,"creation_date":1319210881,"answer_id":7851682,"question_id":7851604,"body_markdown":"NOTE: This code assumes you only have one instance of MyClass. according to your post that sounds like the case.\r\n\r\n    public class MyClass extends Thread implements Observer{\r\n      private List&lt;AnotherClass&gt; myList = null;\r\n      private Object lock = new Object();\r\n    \r\n      public MyClass(List&lt;AnotherClass&gt; myList){\r\n        this.myList = new ArrayList(myList);\r\n      }\r\n    \r\n      public void run(){\r\n        while(true){\r\n           //Do some stuff \r\n           synchronized(lock) {\r\n            myList.add(NotImportantElement);\r\n           }\r\n        }\r\n      }\r\n    \r\n      public void doJob{\r\n        synchronized(lock) {\r\n          for(int i=0; i&lt;myList.size; i++){\r\n            ElementClass x = myList.get(i);\r\n            //Do some more stuff\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n**EDIT:** Added making a copy of List so that external entities could not change the list as per JB Nizet\r\n\r\n**EDIT 2:** Made variables private so nobody else can access them","title":"Java synchronize on object","body":"<p>NOTE: This code assumes you only have one instance of MyClass. according to your post that sounds like the case.</p>\n\n<pre><code>public class MyClass extends Thread implements Observer{\n  private List&lt;AnotherClass&gt; myList = null;\n  private Object lock = new Object();\n\n  public MyClass(List&lt;AnotherClass&gt; myList){\n    this.myList = new ArrayList(myList);\n  }\n\n  public void run(){\n    while(true){\n       //Do some stuff \n       synchronized(lock) {\n        myList.add(NotImportantElement);\n       }\n    }\n  }\n\n  public void doJob{\n    synchronized(lock) {\n      for(int i=0; i&lt;myList.size; i++){\n        ElementClass x = myList.get(i);\n        //Do some more stuff\n      }\n    }\n  }\n}\n</code></pre>\n\n<p><strong>EDIT:</strong> Added making a copy of List so that external entities could not change the list as per JB Nizet</p>\n\n<p><strong>EDIT 2:</strong> Made variables private so nobody else can access them</p>\n"},{"comments":[{"owner":{"account_id":399566,"reputation":5316,"user_id":765009,"accept_rate":60,"display_name":"toto2"},"score":2,"creation_date":1319211979,"post_id":7851725,"comment_id":9575669,"body_markdown":"Upvoted for (4.): you&#39;ll avoid a lot of trouble by using a concurrent list.","body":"Upvoted for (4.): you&#39;ll avoid a lot of trouble by using a concurrent list."},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1319239950,"post_id":7851725,"comment_id":9582070,"body_markdown":"When run executes it will be synchronized and will never release the lock - #1 will not work. #2 has the issue that some other object can operate on the List and that would need to be synchronized also.","body":"When run executes it will be synchronized and will never release the lock - #1 will not work. #2 has the issue that some other object can operate on the List and that would need to be synchronized also."}],"tags":[],"owner":{"account_id":54362,"reputation":11938,"user_id":162634,"accept_rate":62,"display_name":"Victor Sorokin"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1319212078,"creation_date":1319211092,"answer_id":7851725,"question_id":7851604,"body_markdown":"You can:\r\n\r\n 1. Declare both `run` and `doJob` `synchronized`. This will use `this` as lock;\r\n 2. Declare list as `final` and synchronize on it. This will use list as lock. Declaring lock field as `final` is good practice. This way some methods of your class my synchronize on one object, while other methods can use other object for synchronization. This reduces lock contention but increases code complexity;\r\n 3. Introduce explicit `java.util.concurrent.locks.Lock` variable and use it&#39;s methods for synchronization. This will improve code flexibility, but will increase code complexity as well;\r\n 4. Don&#39;t do explicit synchronization altogether and instead employ some thread-safe data structure from JDK. For example, `BlockingQueue` or `CopyOnWriteArrayList`. This will reduce code complexity and ensure thread safety.\r\n 5. Employ synchronization by reads/writes to `volatile` field. See [this][1] SO post. This will ensure safety, but will increase complexity greatly. On the second thought, don&#39;t do this :)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7851327/illustrating-volatile-is-this-code-thread-safe","title":"Java synchronize on object","body":"<p>You can:</p>\n\n<ol>\n<li>Declare both <code>run</code> and <code>doJob</code> <code>synchronized</code>. This will use <code>this</code> as lock;</li>\n<li>Declare list as <code>final</code> and synchronize on it. This will use list as lock. Declaring lock field as <code>final</code> is good practice. This way some methods of your class my synchronize on one object, while other methods can use other object for synchronization. This reduces lock contention but increases code complexity;</li>\n<li>Introduce explicit <code>java.util.concurrent.locks.Lock</code> variable and use it's methods for synchronization. This will improve code flexibility, but will increase code complexity as well;</li>\n<li>Don't do explicit synchronization altogether and instead employ some thread-safe data structure from JDK. For example, <code>BlockingQueue</code> or <code>CopyOnWriteArrayList</code>. This will reduce code complexity and ensure thread safety.</li>\n<li>Employ synchronization by reads/writes to <code>volatile</code> field. See <a href=\"https://stackoverflow.com/questions/7851327/illustrating-volatile-is-this-code-thread-safe\">this</a> SO post. This will ensure safety, but will increase complexity greatly. On the second thought, don't do this :)</li>\n</ol>\n"}],"owner":{"account_id":275799,"reputation":380,"user_id":568879,"accept_rate":73,"display_name":"Ionut Ungureanu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7364,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":7851682,"answer_count":5,"score":6,"last_activity_date":1669622217,"creation_date":1319210588,"question_id":7851604,"body_markdown":"How to synchronize two different methods from the same class in order to lock on the same object? Here is an example:\r\n\r\n    public class MyClass extends Thread implements Observer{\r\n      public List&lt;AnotherClass&gt; myList = null;\r\n      \r\n      public MyClass(List&lt;AnotherClass&gt; myList){\r\n        this.myList = myList;\r\n      }\r\n      \r\n      public void run(){\r\n        while(true){\r\n           //Do some stuff \r\n           myList.add(NotImportantElement);\r\n        }\r\n      }\r\n\r\n      public void doJob{\r\n        for(int i=0; i&lt;myList.size; i++){\r\n          ElementClass x = myList.get(i);\r\n          //Do some more stuff\r\n        }\r\n      }\r\n    }\r\n\r\nThe question is how can I stop run() from accesing myList when doJob is executed and viceversa?\r\n\r\nImagine this: I start the thread and start adding elements to my list. At a random moment I call doJob() from another class that holds a reference to my thread.\r\n\r\nHow should I do the lock? Thanks!\r\n\r\nL.E. \r\n\r\nOk, I understood the concept of the lock, but now I have another question.\r\n\r\nSuppose I have a class with `public static myList` and only *one* instance of that class. From that instance I create `n` instances of `Thread` that take every element of that list and do some stuff with it. \r\n\r\nNow, at a specific moment, `myList` is updated. What happens with those Threads that already were processing myList elements? How should I lock access on `myList` while updating it?","title":"Java synchronize on object","body":"<p>How to synchronize two different methods from the same class in order to lock on the same object? Here is an example:</p>\n<pre><code>public class MyClass extends Thread implements Observer{\n  public List&lt;AnotherClass&gt; myList = null;\n  \n  public MyClass(List&lt;AnotherClass&gt; myList){\n    this.myList = myList;\n  }\n  \n  public void run(){\n    while(true){\n       //Do some stuff \n       myList.add(NotImportantElement);\n    }\n  }\n\n  public void doJob{\n    for(int i=0; i&lt;myList.size; i++){\n      ElementClass x = myList.get(i);\n      //Do some more stuff\n    }\n  }\n}\n</code></pre>\n<p>The question is how can I stop run() from accesing myList when doJob is executed and viceversa?</p>\n<p>Imagine this: I start the thread and start adding elements to my list. At a random moment I call doJob() from another class that holds a reference to my thread.</p>\n<p>How should I do the lock? Thanks!</p>\n<p>L.E.</p>\n<p>Ok, I understood the concept of the lock, but now I have another question.</p>\n<p>Suppose I have a class with <code>public static myList</code> and only <em>one</em> instance of that class. From that instance I create <code>n</code> instances of <code>Thread</code> that take every element of that list and do some stuff with it.</p>\n<p>Now, at a specific moment, <code>myList</code> is updated. What happens with those Threads that already were processing myList elements? How should I lock access on <code>myList</code> while updating it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12975459,"reputation":1665,"user_id":9379617,"display_name":"Ben"},"score":0,"creation_date":1528364329,"post_id":50737925,"comment_id":88483274,"body_markdown":"Possible duplicate of [Performance of Arrays.asList](https://stackoverflow.com/questions/1552783/performance-of-arrays-aslist)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/1552783/performance-of-arrays-aslist\">Performance of Arrays.asList</a>"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1528364796,"post_id":50737925,"comment_id":88483634,"body_markdown":"Or if you use kotlin: `val elements = mutableListOf(element)` :-)","body":"Or if you use kotlin: <code>val elements = mutableListOf(element)</code> :-)"},{"owner":{"account_id":1625605,"reputation":5548,"user_id":1501234,"accept_rate":72,"display_name":"Jaroslaw Pawlak"},"score":0,"creation_date":1528364870,"post_id":50737925,"comment_id":88483699,"body_markdown":"Note that `Arrays.asList` doesn&#39;t give you a fully mutable `List`. It returns a fixed size `List`, which means that you can use `set` method on it, but using `add` or `remove` will throw `UnsupportedOperationException`","body":"Note that <code>Arrays.asList</code> doesn&#39;t give you a fully mutable <code>List</code>. It returns a fixed size <code>List</code>, which means that you can use <code>set</code> method on it, but using <code>add</code> or <code>remove</code> will throw <code>UnsupportedOperationException</code>"},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1528365036,"post_id":50737925,"comment_id":88483815,"body_markdown":"Libraries like _Eclipse Collections_ or _Guava_ contain better helper methods to create mutable lists","body":"Libraries like <i>Eclipse Collections</i> or <i>Guava</i> contain better helper methods to create mutable lists"}],"answers":[{"comments":[{"owner":{"account_id":1765530,"reputation":604,"user_id":1611492,"accept_rate":88,"display_name":"Napstablook"},"score":0,"creation_date":1528364974,"post_id":50738064,"comment_id":88483770,"body_markdown":"I can&#39;t find the toCollection method. Am I missing something?","body":"I can&#39;t find the toCollection method. Am I missing something?"},{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":0,"creation_date":1528365012,"post_id":50738064,"comment_id":88483799,"body_markdown":"@Napstablook sorry, forgot to mention.  you need the `import static java.util.stream.Collectors.*;`","body":"@Napstablook sorry, forgot to mention.  you need the <code>import static java.util.stream.Collectors.*;</code>"},{"owner":{"account_id":1765530,"reputation":604,"user_id":1611492,"accept_rate":88,"display_name":"Napstablook"},"score":0,"creation_date":1528365227,"post_id":50738064,"comment_id":88483949,"body_markdown":"Oh right and this  is great. the last one is the  one I was looking for.","body":"Oh right and this  is great. the last one is the  one I was looking for."},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1528365348,"post_id":50738064,"comment_id":88484030,"body_markdown":"@Napstablook May I ask why you opt for that solution? I don&#39;t want to be rude but in terms of performance it&#39;s terrible considering the alternatives.","body":"@Napstablook May I ask why you opt for that solution? I don&#39;t want to be rude but in terms of performance it&#39;s terrible considering the alternatives."},{"owner":{"account_id":1765530,"reputation":604,"user_id":1611492,"accept_rate":88,"display_name":"Napstablook"},"score":0,"creation_date":1528365466,"post_id":50738064,"comment_id":88484125,"body_markdown":"@NicoVanBelle - I understand that. I selected it as it is the only way to actually make a list with one element without making it immutable. I am open for any other method.","body":"@NicoVanBelle - I understand that. I selected it as it is the only way to actually make a list with one element without making it immutable. I am open for any other method."},{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":0,"creation_date":1528365633,"post_id":50738064,"comment_id":88484227,"body_markdown":"@NicoVanBelle you&#39;re not rude at all. that&#39;s a fair point to make. although, &quot;terrible&quot; doesn&#39;t seem like the right word, maybe &quot;sub-optimal&quot; is better. nevertheless,  it&#39;s only _one_ element and not _really huge_ numbers so one wouldn&#39;t even notice the performance. :)","body":"@NicoVanBelle you&#39;re not rude at all. that&#39;s a fair point to make. although, &quot;terrible&quot; doesn&#39;t seem like the right word, maybe &quot;sub-optimal&quot; is better. nevertheless,  it&#39;s only <i>one</i> element and not <i>really huge</i> numbers so one wouldn&#39;t even notice the performance. :)"},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1528365636,"post_id":50738064,"comment_id":88484231,"body_markdown":"@Napstablook well no! All these three approaches produce a mutable collection!","body":"@Napstablook well no! All these three approaches produce a mutable collection!"},{"owner":{"account_id":1765530,"reputation":604,"user_id":1611492,"accept_rate":88,"display_name":"Napstablook"},"score":0,"creation_date":1528365727,"post_id":50738064,"comment_id":88484298,"body_markdown":"Oh, But as per what I read in the documentation, Collections.singletonList() creates an immutable list. Correct me if I am wrong.\nPS- Yes, Just checked, It throws a java.lang.UnsupportedOperationException when you try to add another element to the list.","body":"Oh, But as per what I read in the documentation, Collections.singletonList() creates an immutable list. Correct me if I am wrong. PS- Yes, Just checked, It throws a java.lang.UnsupportedOperationException when you try to add another element to the list."},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":2,"creation_date":1528365859,"post_id":50738064,"comment_id":88484400,"body_markdown":"True, but you pass it to the constructor of `ArrayList` that only uses this collection to create a new mutable List. (Also, Stream example can be shortened: `Stream.of(element).collect(Collectors.toList())`.)","body":"True, but you pass it to the constructor of <code>ArrayList</code> that only uses this collection to create a new mutable List. (Also, Stream example can be shortened: <code>Stream.of(element).collect(Collectors.toList())</code>.)"},{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":0,"creation_date":1528365990,"post_id":50738064,"comment_id":88484489,"body_markdown":"@NicoVanBelle **be very careful with that** as per the java doc [toList()](https://docs.oracle.com/javase/9/docs/api/java/util/stream/Collectors.html#toList--) --&gt; &quot;**There are no guarantees** on the type, **mutability**, serializability, or thread-safety of the List returned; if more control over the returned List is required, use toCollection(Supplier).&quot;, So, although currently `toList` returns a _mutable_ list, it&#39;s not guaranteed to always remain that way.","body":"@NicoVanBelle <b>be very careful with that</b> as per the java doc <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/Collectors.html#toList--\" rel=\"nofollow noreferrer\">toList()</a> --&gt; &quot;<b>There are no guarantees</b> on the type, <b>mutability</b>, serializability, or thread-safety of the List returned; if more control over the returned List is required, use toCollection(Supplier).&quot;, So, although currently <code>toList</code> returns a <i>mutable</i> list, it&#39;s not guaranteed to always remain that way."},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1528366047,"post_id":50738064,"comment_id":88484532,"body_markdown":"@Aomin&#232; Good catch. Learned something myself today.","body":"@Aomin&#232; Good catch. Learned something myself today."}],"tags":[],"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"comment_count":11,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1669621698,"creation_date":1528364679,"answer_id":50738064,"question_id":50737925,"body_markdown":"The best you can do _under the current version of Java_ is:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n\r\n    ...\r\n    //additional elements can be added (later) to all lists -&gt; all are immutable (also to the 2nd!)\r\n\r\n    List&lt;Element&gt; elements = new ArrayList&lt;&gt;(Arrays.asList(element));\r\n    // or\r\n    List&lt;Element&gt; elements = new ArrayList&lt;&gt;(Collections.singletonList(element));\r\n    // or\r\n    List&lt;Element&gt; elements = Stream.of(element)\r\n                                   .collect(toCollection(ArrayList::new));","title":"Best way to initialise a list with just one element without splitting the declaration and initialisation","body":"<p>The best you can do <em>under the current version of Java</em> is:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\n...\n//additional elements can be added (later) to all lists -&gt; all are immutable (also to the 2nd!)\n\nList&lt;Element&gt; elements = new ArrayList&lt;&gt;(Arrays.asList(element));\n// or\nList&lt;Element&gt; elements = new ArrayList&lt;&gt;(Collections.singletonList(element));\n// or\nList&lt;Element&gt; elements = Stream.of(element)\n                               .collect(toCollection(ArrayList::new));\n</code></pre>\n"}],"owner":{"account_id":1765530,"reputation":604,"user_id":1611492,"accept_rate":88,"display_name":"Napstablook"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3374,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":50738064,"answer_count":1,"score":5,"last_activity_date":1669621698,"creation_date":1528364258,"question_id":50737925,"body_markdown":"I found this line in the code\r\n\r\n     List&lt;Element&gt; elements = Arrays.asList(element);\r\nand found it weird that we need to use Arrays.asList() on just one element. That got me thinking if there is a better way to initialise an ArrayList with just one element without making it immutable. \r\nAs far as I have read, there is no constructor for ArrayList which takes just one element. \r\n\r\n\r\n**EDIT- As per Aomine&#39;s answer, I have found this to be the only way at this point to do what I needed**\r\n\r\n    List&lt;Element&gt; elements = Stream.of(element).collect(Collectors.toCollection(ArrayList::new));\r\n","title":"Best way to initialise a list with just one element without splitting the declaration and initialisation","body":"<p>I found this line in the code</p>\n\n<pre><code> List&lt;Element&gt; elements = Arrays.asList(element);\n</code></pre>\n\n<p>and found it weird that we need to use Arrays.asList() on just one element. That got me thinking if there is a better way to initialise an ArrayList with just one element without making it immutable. \nAs far as I have read, there is no constructor for ArrayList which takes just one element. </p>\n\n<p><strong>EDIT- As per Aomine's answer, I have found this to be the only way at this point to do what I needed</strong></p>\n\n<pre><code>List&lt;Element&gt; elements = Stream.of(element).collect(Collectors.toCollection(ArrayList::new));\n</code></pre>\n"},{"tags":["java","arraylist","tesseract","bufferedimage","tess4j"],"answers":[{"comments":[{"owner":{"account_id":26631611,"reputation":3,"user_id":20248721,"display_name":"rewards110"},"score":0,"creation_date":1669034201,"post_id":74504899,"comment_id":131543698,"body_markdown":"When using dispose(); the eclipse system says &quot;create dispose method&quot; does this method not internally available?","body":"When using dispose(); the eclipse system says &quot;create dispose method&quot; does this method not internally available?"}],"tags":[],"owner":{"account_id":392659,"reputation":8270,"user_id":754060,"display_name":"nguyenq"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668905323,"creation_date":1668905323,"answer_id":74504899,"question_id":74497907,"body_markdown":"`setDatapath` should not be in the loop; it needs be called only once after the Tesseract instance is created. I would dispose of the instance and start a new one after so many OCR operations; otherwise, the memory leaks in the native code will eventually crash the JVM.","title":"How to fix exception Invalid memory access failed loading language in tess4j","body":"<p><code>setDatapath</code> should not be in the loop; it needs be called only once after the Tesseract instance is created. I would dispose of the instance and start a new one after so many OCR operations; otherwise, the memory leaks in the native code will eventually crash the JVM.</p>\n"}],"owner":{"account_id":26631611,"reputation":3,"user_id":20248721,"display_name":"rewards110"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669621214,"creation_date":1668838100,"question_id":74497907,"body_markdown":"I have a code where I read image text using Tesseract in java 8.\r\n\r\nI even changed the Datapath to point within the source folder on eclipse but still getting this exception within that period of running the program.\r\n\r\nHow do I fix this problem? Should I dispose the BufferedImage if possible how to do that?","title":"How to fix exception Invalid memory access failed loading language in tess4j","body":"<p>I have a code where I read image text using Tesseract in java 8.</p>\n<p>I even changed the Datapath to point within the source folder on eclipse but still getting this exception within that period of running the program.</p>\n<p>How do I fix this problem? Should I dispose the BufferedImage if possible how to do that?</p>\n"},{"tags":["java","switch-statement","case","language-design","break"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":2,"creation_date":1536434228,"post_id":2710300,"comment_id":91425744,"body_markdown":"[Made an answer](https://stackoverflow.com/questions/2710300/why-do-we-need-break-after-case-statements/52238570#52238570) about JDK-12 and switch labels reformed to not mandate `break`.","body":"<a href=\"https://stackoverflow.com/questions/2710300/why-do-we-need-break-after-case-statements/52238570#52238570\">Made an answer</a> about JDK-12 and switch labels reformed to not mandate <code>break</code>."}],"answers":[{"comments":[{"owner":{"account_id":213792,"reputation":4694,"user_id":467379,"accept_rate":75,"display_name":"ncmathsadist"},"score":1,"creation_date":1410272121,"post_id":2710311,"comment_id":40258013,"body_markdown":"Yecch. I totally hate this.","body":"Yecch. I totally hate this."}],"tags":[],"owner":{"account_id":68751,"reputation":17327,"user_id":200410,"accept_rate":86,"display_name":"Soufiane Hassou"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1272236555,"creation_date":1272236555,"answer_id":2710311,"question_id":2710300,"body_markdown":"Not having an automatic break added by the compiler makes it possible to use a switch/case to test for conditions like `1 &lt;= a &lt;= 3` by removing the break statement from 1 and 2.\r\n\r\n    switch(a) {\r\n      case 1: //I&#39;m between 1 and 3\r\n      case 2: //I&#39;m between 1 and 3\r\n      case 3: //I&#39;m between 1 and 3\r\n              break;\r\n    }","title":"Why do we need break after case statements?","body":"<p>Not having an automatic break added by the compiler makes it possible to use a switch/case to test for conditions like <code>1 &lt;= a &lt;= 3</code> by removing the break statement from 1 and 2.</p>\n\n<pre><code>switch(a) {\n  case 1: //I'm between 1 and 3\n  case 2: //I'm between 1 and 3\n  case 3: //I'm between 1 and 3\n          break;\n}\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user319799"},"score":32,"creation_date":1272236666,"post_id":2710312,"comment_id":2734828,"body_markdown":"Just always add a comment along the lines `// Intentional fallthrough.` when you omit a break.  It&#39;s not so much a bad style as &quot;easy to forget a break accidentally&quot; in my opinion.  P.S. Of course not in simple cases as in the answer itself.","body":"Just always add a comment along the lines <code>&#47;&#47; Intentional fallthrough.</code> when you omit a break.  It&#39;s not so much a bad style as &quot;easy to forget a break accidentally&quot; in my opinion.  P.S. Of course not in simple cases as in the answer itself."},{"owner":{"account_id":70291,"reputation":5916,"user_id":203982,"accept_rate":79,"display_name":"WildCrustacean"},"score":0,"creation_date":1272236923,"post_id":2710312,"comment_id":2734840,"body_markdown":"@doublep - I agree. In my opinion, I&#39;d avoid it if possible but if it makes sense then make sure it is very clear what you are doing.","body":"@doublep - I agree. In my opinion, I&#39;d avoid it if possible but if it makes sense then make sure it is very clear what you are doing."},{"owner":{"account_id":30237,"reputation":104629,"user_id":82320,"accept_rate":83,"display_name":"Billy ONeal"},"score":6,"creation_date":1272251607,"post_id":2710312,"comment_id":2735632,"body_markdown":"@doublep: I&#39;d not bother with the comment if the multiple `case` s are stacked together that way. If there&#39;s code in between them then yes, the comment is probably merited.","body":"@doublep: I&#39;d not bother with the comment if the multiple <code>case</code> s are stacked together that way. If there&#39;s code in between them then yes, the comment is probably merited."},{"owner":{"account_id":105855,"reputation":8933,"user_id":282229,"accept_rate":80,"display_name":"Christian Semrau"},"score":4,"creation_date":1312493615,"post_id":2710312,"comment_id":8283240,"body_markdown":"I imagine a language where you can declare multiple cases within one `case`, like so: `case &#39;A&#39;,&#39;B&#39;,&#39;C&#39;:  doSomething(); case &#39;D&#39;,&#39;E&#39;: doSomethingElse();`, without needing a break between cases. Pascal could do that: &quot;The case statement compares the value of ordinal expression to each selector, which can be a constant, a subrange, or a list of them separated by commas.&quot; (http://wiki.freepascal.org/Case)","body":"I imagine a language where you can declare multiple cases within one <code>case</code>, like so: <code>case &#39;A&#39;,&#39;B&#39;,&#39;C&#39;:  doSomething(); case &#39;D&#39;,&#39;E&#39;: doSomethingElse();</code>, without needing a break between cases. Pascal could do that: &quot;The case statement compares the value of ordinal expression to each selector, which can be a constant, a subrange, or a list of them separated by commas.&quot; (<a href=\"http://wiki.freepascal.org/Case\" rel=\"nofollow noreferrer\">wiki.freepascal.org/Case</a>)"},{"owner":{"account_id":4093298,"reputation":4962,"user_id":3360759,"display_name":"frhack"},"score":0,"creation_date":1664699406,"post_id":2710312,"comment_id":130528125,"body_markdown":"orrible java syntax","body":"orrible java syntax"}],"tags":[],"owner":{"account_id":70291,"reputation":5916,"user_id":203982,"accept_rate":79,"display_name":"WildCrustacean"},"comment_count":5,"down_vote_count":0,"up_vote_count":101,"is_accepted":true,"score":101,"last_activity_date":1272236570,"creation_date":1272236570,"answer_id":2710312,"question_id":2710300,"body_markdown":"Sometimes it is helpful to have multiple cases associated with the same code block, such as\r\n\r\n    case &#39;A&#39;:\r\n    case &#39;B&#39;:\r\n    case &#39;C&#39;:\r\n        doSomething();\r\n        break;\r\n    \r\n    case &#39;D&#39;:\r\n    case &#39;E&#39;:\r\n        doSomethingElse();\r\n        break;\r\n\r\netc. Just an example.\r\n\r\nIn my experience, usually it is bad style to &quot;fall through&quot; and have multiple blocks of code execute for one case, but there may be uses for it in some situations.","title":"Why do we need break after case statements?","body":"<p>Sometimes it is helpful to have multiple cases associated with the same code block, such as</p>\n\n<pre><code>case 'A':\ncase 'B':\ncase 'C':\n    doSomething();\n    break;\n\ncase 'D':\ncase 'E':\n    doSomethingElse();\n    break;\n</code></pre>\n\n<p>etc. Just an example.</p>\n\n<p>In my experience, usually it is bad style to \"fall through\" and have multiple blocks of code execute for one case, but there may be uses for it in some situations.</p>\n"},{"comments":[{"owner":{"account_id":933262,"reputation":7628,"user_id":962696,"accept_rate":67,"display_name":"JonnyRaa"},"score":0,"creation_date":1409155717,"post_id":2710314,"comment_id":39862153,"body_markdown":"does that run both `do this` and `do that` for this but just `do that` for that?","body":"does that run both <code>do this</code> and <code>do that</code> for this but just <code>do that</code> for that?"},{"owner":{"account_id":933262,"reputation":7628,"user_id":962696,"accept_rate":67,"display_name":"JonnyRaa"},"score":1,"creation_date":1409155962,"post_id":2710314,"comment_id":39862305,"body_markdown":"just read the docs.  That&#39;s awful!  What an easy way to write bugs!","body":"just read the docs.  That&#39;s awful!  What an easy way to write bugs!"}],"tags":[],"owner":{"account_id":2637,"reputation":10297,"user_id":3695,"accept_rate":100,"display_name":"Francisco Soto"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1272236576,"creation_date":1272236576,"answer_id":2710314,"question_id":2710300,"body_markdown":"So you do not have to repeat code if you need several cases to do the same thing:\r\n\r\n    case THIS:\r\n    case THAT:\r\n    {\r\n        code;\r\n        break;\r\n    }\r\n\r\nOr you can do things like :\r\n\r\n    case THIS:\r\n    {\r\n       do this;\r\n    }\r\n    case THAT:\r\n    {\r\n       do that;\r\n    }\r\n\r\nIn a cascade fashion.\r\n\r\nReally bug/confusion prone, if you ask me.\r\n","title":"Why do we need break after case statements?","body":"<p>So you do not have to repeat code if you need several cases to do the same thing:</p>\n\n<pre><code>case THIS:\ncase THAT:\n{\n    code;\n    break;\n}\n</code></pre>\n\n<p>Or you can do things like :</p>\n\n<pre><code>case THIS:\n{\n   do this;\n}\ncase THAT:\n{\n   do that;\n}\n</code></pre>\n\n<p>In a cascade fashion.</p>\n\n<p>Really bug/confusion prone, if you ask me.</p>\n"},{"tags":[],"owner":{"account_id":71213,"reputation":479,"user_id":205907,"display_name":"Hellektor"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1272236583,"creation_date":1272236583,"answer_id":2710315,"question_id":2710300,"body_markdown":"Exactly, because with some clever placement you can execute blocks in cascade.","title":"Why do we need break after case statements?","body":"<p>Exactly, because with some clever placement you can execute blocks in cascade.</p>\n"},{"comments":[{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":0,"creation_date":1272250735,"post_id":2710319,"comment_id":2735548,"body_markdown":"Can switch/case be used on strings in Java?","body":"Can switch/case be used on strings in Java?"},{"owner":{"account_id":28976,"reputation":23838,"user_id":77914,"accept_rate":96,"display_name":"Zach Johnson"},"score":0,"creation_date":1272251639,"post_id":2710319,"comment_id":2735634,"body_markdown":"@Steve: Oops, I guess not at the moment.  According to http://stackoverflow.com/questions/338206/switch-statement-with-strings-in-java/338230#338230, strings will be allowed in a future version of Java.  (I currently do most of my programming in C#, which does allow strings in switch statements.)  I&#39;ve edited the answer to remove the misleading quotes.","body":"@Steve: Oops, I guess not at the moment.  According to <a href=\"http://stackoverflow.com/questions/338206/switch-statement-with-strings-in-java/338230#338230\" title=\"switch statement with strings in java\">stackoverflow.com/questions/338206/&hellip;</a>, strings will be allowed in a future version of Java.  (I currently do most of my programming in C#, which does allow strings in switch statements.)  I&#39;ve edited the answer to remove the misleading quotes."},{"owner":{"account_id":3957,"reputation":22144,"user_id":5812,"accept_rate":56,"display_name":"Bob Cross"},"score":2,"creation_date":1370446201,"post_id":2710319,"comment_id":24464418,"body_markdown":"@ZachJohnson, much later, Java 7 does allow switch on Strings.","body":"@ZachJohnson, much later, Java 7 does allow switch on Strings."}],"tags":[],"owner":{"account_id":28976,"reputation":23838,"user_id":77914,"accept_rate":96,"display_name":"Zach Johnson"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1272251478,"creation_date":1272236622,"answer_id":2710319,"question_id":2710300,"body_markdown":"You can do all sorts of interesting things with case fall-through.\r\n\r\nFor example, lets say you want to do a particular action for all cases, but in a certain case you want to do that action plus something else.  Using a switch statement with fall-through would make it quite easy.\r\n\r\n    switch (someValue)\r\n    {\r\n        case extendedActionValue:\r\n            // do extended action here, falls through to normal action\r\n        case normalActionValue:\r\n        case otherNormalActionValue:\r\n            // do normal action here\r\n            break;\r\n    }\r\n\r\nOf course, it is easy to forget the `break` statement at the end of a case and cause unexpected behavior.  Good compilers will warn you when you omit the break statement. ","title":"Why do we need break after case statements?","body":"<p>You can do all sorts of interesting things with case fall-through.</p>\n\n<p>For example, lets say you want to do a particular action for all cases, but in a certain case you want to do that action plus something else.  Using a switch statement with fall-through would make it quite easy.</p>\n\n<pre><code>switch (someValue)\n{\n    case extendedActionValue:\n        // do extended action here, falls through to normal action\n    case normalActionValue:\n    case otherNormalActionValue:\n        // do normal action here\n        break;\n}\n</code></pre>\n\n<p>Of course, it is easy to forget the <code>break</code> statement at the end of a case and cause unexpected behavior.  Good compilers will warn you when you omit the break statement. </p>\n"},{"tags":[],"owner":{"account_id":58175,"reputation":2361,"user_id":174230,"accept_rate":76,"display_name":"Jonas B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1272236640,"creation_date":1272236640,"answer_id":2710320,"question_id":2710300,"body_markdown":"because there are situations where you want to flow through the first block for example to avoid writing the same code in multiple blocks but still be able to divide them for mroe control. There are also a ton of other reasons.","title":"Why do we need break after case statements?","body":"<p>because there are situations where you want to flow through the first block for example to avoid writing the same code in multiple blocks but still be able to divide them for mroe control. There are also a ton of other reasons.</p>\n"},{"comments":[{"owner":{"account_id":51354,"reputation":43755,"user_id":153430,"display_name":"Jim Lewis"},"score":5,"creation_date":1272238069,"post_id":2710323,"comment_id":2734878,"body_markdown":"Someone aimed for the up arrow and missed?  Or maybe they had a beef with your brace style or indentation...","body":"Someone aimed for the up arrow and missed?  Or maybe they had a beef with your brace style or indentation..."},{"owner":{"account_id":19562,"reputation":30712,"user_id":45935,"accept_rate":100,"display_name":"Jim Ferrans"},"score":0,"creation_date":1272238144,"post_id":2710323,"comment_id":2734883,"body_markdown":"Dunno, so have a +1 from me.  This is an example where the fall-through helps, though I really wish Java had picked a more modern case statement.  Cobol&#39;s EVALUATE-WHEN-OTHERWISE is far more powerful, and *predates* Java.  Scala&#39;s match expression is a modern example of what could be done.","body":"Dunno, so have a +1 from me.  This is an example where the fall-through helps, though I really wish Java had picked a more modern case statement.  Cobol&#39;s EVALUATE-WHEN-OTHERWISE is far more powerful, and <i>predates</i> Java.  Scala&#39;s match expression is a modern example of what could be done."},{"owner":{"account_id":213792,"reputation":4694,"user_id":467379,"accept_rate":75,"display_name":"ncmathsadist"},"score":2,"creation_date":1410272174,"post_id":2710323,"comment_id":40258044,"body_markdown":"My students would be publicly flogged for doing this.  It&#39;s coyote ugly.","body":"My students would be publicly flogged for doing this.  It&#39;s coyote ugly."},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":2,"creation_date":1410276067,"post_id":2710323,"comment_id":40260709,"body_markdown":"@ncmathsadist It illustrates a point on one way of doing something. I do not disagree that this example is probably extreme. But it is a real world example, which I believe helps people comprehend a concept.","body":"@ncmathsadist It illustrates a point on one way of doing something. I do not disagree that this example is probably extreme. But it is a real world example, which I believe helps people comprehend a concept."}],"tags":[],"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"comment_count":4,"down_vote_count":2,"up_vote_count":34,"is_accepted":false,"score":32,"last_activity_date":1272236725,"creation_date":1272236725,"answer_id":2710323,"question_id":2710300,"body_markdown":"Java comes from C and that is the syntax from C.\r\n\r\nThere are times where you want multiple case statements to just have one execution path.\r\nBelow is a sample that will tell you how many days in a month.\r\n\r\n    class SwitchDemo2 {\r\n        public static void main(String[] args) {\r\n    \r\n            int month = 2;\r\n            int year = 2000;\r\n            int numDays = 0;\r\n    \r\n            switch (month) {\r\n                case 1:\r\n                case 3:\r\n                case 5:\r\n                case 7:\r\n                case 8:\r\n                case 10:\r\n                case 12:\r\n                    numDays = 31;\r\n                    break;\r\n                case 4:\r\n                case 6:\r\n                case 9:\r\n                case 11:\r\n                    numDays = 30;\r\n                    break;\r\n                case 2:\r\n                    if ( ((year % 4 == 0) &amp;&amp; !(year % 100 == 0))\r\n                         || (year % 400 == 0) )\r\n                        numDays = 29;\r\n                    else\r\n                        numDays = 28;\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Invalid month.&quot;);\r\n                    break;\r\n            }\r\n            System.out.println(&quot;Number of Days = &quot; + numDays);\r\n        }\r\n    }\r\n\r\n","title":"Why do we need break after case statements?","body":"<p>Java comes from C and that is the syntax from C.</p>\n\n<p>There are times where you want multiple case statements to just have one execution path.\nBelow is a sample that will tell you how many days in a month.</p>\n\n<pre><code>class SwitchDemo2 {\n    public static void main(String[] args) {\n\n        int month = 2;\n        int year = 2000;\n        int numDays = 0;\n\n        switch (month) {\n            case 1:\n            case 3:\n            case 5:\n            case 7:\n            case 8:\n            case 10:\n            case 12:\n                numDays = 31;\n                break;\n            case 4:\n            case 6:\n            case 9:\n            case 11:\n                numDays = 30;\n                break;\n            case 2:\n                if ( ((year % 4 == 0) &amp;&amp; !(year % 100 == 0))\n                     || (year % 400 == 0) )\n                    numDays = 29;\n                else\n                    numDays = 28;\n                break;\n            default:\n                System.out.println(\"Invalid month.\");\n                break;\n        }\n        System.out.println(\"Number of Days = \" + numDays);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":51354,"reputation":43755,"user_id":153430,"display_name":"Jim Lewis"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1272237009,"creation_date":1272237009,"answer_id":2710336,"question_id":2710300,"body_markdown":"Java is derived from C, whose heritage includes a technique known as [Duff&#39;s Device][1] .\r\nIt&#39;s an optimization that relies on the fact that control falls through from one case to the next, in the absence of a `break;` statement. By the time C was standardized, there was plenty of code like that &quot;in the wild&quot;, and it would have been counterproductive to change the language to break such constructions.  \r\n\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Duff%27s_device","title":"Why do we need break after case statements?","body":"<p>Java is derived from C, whose heritage includes a technique known as <a href=\"http://en.wikipedia.org/wiki/Duff%27s_device\" rel=\"nofollow noreferrer\">Duff's Device</a> .\nIt's an optimization that relies on the fact that control falls through from one case to the next, in the absence of a <code>break;</code> statement. By the time C was standardized, there was plenty of code like that \"in the wild\", and it would have been counterproductive to change the language to break such constructions.  </p>\n"},{"tags":[],"owner":{"account_id":114848,"reputation":134189,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1272237126,"creation_date":1272237126,"answer_id":2710341,"question_id":2710300,"body_markdown":"&gt; Why doesn&#39;t the compiler automatically put break statements after each code block in the switch?\r\n\r\nLeaving aside the *good* desire to be able to use the identical block for several cases (which could be special-cased)...\r\n\r\n&gt; Is it for historical reasons? When would you want multiple code blocks to execute?\r\n\r\nIt&#39;s mainly for compatibility with C, and is arguably an ancient hack from the days of old when `goto` keywords roamed the earth. It *does* enable some amazing things, of course, such as [Duff&#39;s Device](http://en.wikipedia.org/wiki/Duffs_device), but whether that&#39;s a point in its favor or against is… argumentative at best.","title":"Why do we need break after case statements?","body":"<blockquote>\n  <p>Why doesn't the compiler automatically put break statements after each code block in the switch?</p>\n</blockquote>\n\n<p>Leaving aside the <em>good</em> desire to be able to use the identical block for several cases (which could be special-cased)...</p>\n\n<blockquote>\n  <p>Is it for historical reasons? When would you want multiple code blocks to execute?</p>\n</blockquote>\n\n<p>It's mainly for compatibility with C, and is arguably an ancient hack from the days of old when <code>goto</code> keywords roamed the earth. It <em>does</em> enable some amazing things, of course, such as <a href=\"http://en.wikipedia.org/wiki/Duffs_device\" rel=\"noreferrer\">Duff's Device</a>, but whether that's a point in its favor or against is… argumentative at best.</p>\n"},{"tags":[],"owner":{"account_id":3957,"reputation":22144,"user_id":5812,"accept_rate":56,"display_name":"Bob Cross"},"comment_count":0,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1272237623,"creation_date":1272237623,"answer_id":2710359,"question_id":2710300,"body_markdown":"[Historically][1], it&#39;s because the `case` was essentially defining a `label`, also known as the [target point][2] of a `goto` call.  The switch statement and its associated cases really just represent a multiway branch with multiple potential entry points into a stream of code.\r\n\r\nAll that said, it has been noted a nearly infinite number of times that `break` is almost always the default behavior that you&#39;d rather have at the end of every case.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Switch_statement\r\n  [2]: http://en.wikipedia.org/wiki/Label_%28programming_language%29","title":"Why do we need break after case statements?","body":"<p><a href=\"http://en.wikipedia.org/wiki/Switch_statement\" rel=\"noreferrer\">Historically</a>, it's because the <code>case</code> was essentially defining a <code>label</code>, also known as the <a href=\"http://en.wikipedia.org/wiki/Label_%28programming_language%29\" rel=\"noreferrer\">target point</a> of a <code>goto</code> call.  The switch statement and its associated cases really just represent a multiway branch with multiple potential entry points into a stream of code.</p>\n\n<p>All that said, it has been noted a nearly infinite number of times that <code>break</code> is almost always the default behavior that you'd rather have at the end of every case.</p>\n"},{"comments":[{"owner":{"account_id":2480948,"reputation":1857,"user_id":2160440,"accept_rate":84,"display_name":"wlnirvana"},"score":0,"creation_date":1583500704,"post_id":2710698,"comment_id":107148284,"body_markdown":"This should get more votes. Apparently the OP already knew omitting `break` allows &quot;multiple code blocks to execute&quot;, and is more concerned with the motivation of this design choice. Others mentioned the well-known heritage from C to Java, and this answer pushed the research even further to pre-C days. I wish we had this (though very primitive) pattern matching from the very start.","body":"This should get more votes. Apparently the OP already knew omitting <code>break</code> allows &quot;multiple code blocks to execute&quot;, and is more concerned with the motivation of this design choice. Others mentioned the well-known heritage from C to Java, and this answer pushed the research even further to pre-C days. I wish we had this (though very primitive) pattern matching from the very start."}],"tags":[],"owner":{"account_id":18251,"reputation":199524,"user_id":41661,"accept_rate":65,"display_name":"Norman Ramsey"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1272246283,"creation_date":1272246283,"answer_id":2710698,"question_id":2710300,"body_markdown":"As far as the historical record goes, Tony Hoare invented the case statement in the 1960s, during the &quot;structured programming&quot; revolution.  Tony&#39;s case statement supported multiple labels per case and automatic exit with no stinking `break` statements.  The requirement for an explicit `break` was something that came out of the BCPL/B/C line.  Dennis Ritchie writes (in ACM HOPL-II):\r\n\r\n&gt;For example, the endcase that escapes from a BCPL switchon statement was not present in the language\r\nwhen we learned it in the 1960s, and so the overloading of the break keyword to escape\r\nfrom the B and C switch statement owes to divergent evolution rather than conscious change.\r\n\r\nI haven&#39;t been able to find any historical writings about BCPL, but Ritchie&#39;s comment suggests that the `break` was more or less a historical accident.  BCPL later fixed the problem, but perhaps Ritchie and Thompson were too busy inventing Unix to be bothered with such a detail :-)","title":"Why do we need break after case statements?","body":"<p>As far as the historical record goes, Tony Hoare invented the case statement in the 1960s, during the \"structured programming\" revolution.  Tony's case statement supported multiple labels per case and automatic exit with no stinking <code>break</code> statements.  The requirement for an explicit <code>break</code> was something that came out of the BCPL/B/C line.  Dennis Ritchie writes (in ACM HOPL-II):</p>\n\n<blockquote>\n  <p>For example, the endcase that escapes from a BCPL switchon statement was not present in the language\n  when we learned it in the 1960s, and so the overloading of the break keyword to escape\n  from the B and C switch statement owes to divergent evolution rather than conscious change.</p>\n</blockquote>\n\n<p>I haven't been able to find any historical writings about BCPL, but Ritchie's comment suggests that the <code>break</code> was more or less a historical accident.  BCPL later fixed the problem, but perhaps Ritchie and Thompson were too busy inventing Unix to be bothered with such a detail :-)</p>\n"},{"tags":[],"owner":{"account_id":4931055,"reputation":131,"user_id":3970830,"display_name":"Vladim&#237;r Gašpar"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1411743302,"creation_date":1411743302,"answer_id":26062480,"question_id":2710300,"body_markdown":"It is an old question but actually I ran into using the case without break statement today. Not using break is actually very useful when you need to combine different functions in sequence.\r\n\r\ne.g. using http response codes to authenticate user with time token\r\n\r\nserver response code 401 - token is outdated -&gt; regenerate token and log user in.  \r\nserver response code 200 - token is OK -&gt; log user in.\r\n\r\nin case statements:\r\n\r\n    case 404:\r\n    case 500:\r\n            {\r\n                Log.v(&quot;Server responses&quot;,&quot;Unable to respond due to server error&quot;);\r\n                break;\r\n            }\r\n            case 401:\r\n            {\r\n                 //regenerate token\r\n            }\r\n            case 200:\r\n            {\r\n                // log in user\r\n                break;\r\n            }\r\n\r\nUsing this you do not need to call log in user function for 401 response because when the token is regenerated, the runtime jumps into the case 200.","title":"Why do we need break after case statements?","body":"<p>It is an old question but actually I ran into using the case without break statement today. Not using break is actually very useful when you need to combine different functions in sequence.</p>\n\n<p>e.g. using http response codes to authenticate user with time token</p>\n\n<p>server response code 401 - token is outdated -> regenerate token and log user in.<br>\nserver response code 200 - token is OK -> log user in.</p>\n\n<p>in case statements:</p>\n\n<pre><code>case 404:\ncase 500:\n        {\n            Log.v(\"Server responses\",\"Unable to respond due to server error\");\n            break;\n        }\n        case 401:\n        {\n             //regenerate token\n        }\n        case 200:\n        {\n            // log in user\n            break;\n        }\n</code></pre>\n\n<p>Using this you do not need to call log in user function for 401 response because when the token is regenerated, the runtime jumps into the case 200.</p>\n"},{"tags":[],"owner":{"display_name":"user3378029"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465354777,"creation_date":1465354777,"answer_id":37692509,"question_id":2710300,"body_markdown":"You can makes easily to separate other type of number, month, count.&lt;br&gt;\r\nThis is better then if in this case;\r\n\r\n    public static void spanishNumbers(String span){\r\n    \t\r\n    \tspan = span.toLowerCase().replace(&quot; &quot;, &quot;&quot;);\r\n        switch (span){\r\n         case &quot;1&quot;:    \r\n         case &quot;jan&quot;:  System.out.println(&quot;uno&quot;); break;    \r\n         case &quot;2&quot;:      \r\n         case &quot;feb&quot;:  System.out.println(&quot;dos&quot;); break;    \r\n         case &quot;3&quot;:     \r\n         case &quot;mar&quot;:  System.out.println(&quot;tres&quot;); break;   \r\n         case &quot;4&quot;:   \r\n         case &quot;apr&quot;:  System.out.println(&quot;cuatro&quot;); break;\r\n         case &quot;5&quot;:    \r\n         case &quot;may&quot;:  System.out.println(&quot;cinco&quot;); break;\r\n         case &quot;6&quot;:     \r\n         case &quot;jun&quot;:  System.out.println(&quot;seis&quot;); break;\r\n         case &quot;7&quot;:    \r\n         case &quot;jul&quot;:  System.out.println(&quot;seite&quot;); break;\r\n         case &quot;8&quot;:    \r\n         case &quot;aug&quot;:  System.out.println(&quot;ocho&quot;); break;\r\n         case &quot;9&quot;:   \r\n         case &quot;sep&quot;:  System.out.println(&quot;nueve&quot;); break;\r\n         case &quot;10&quot;:    \r\n         case &quot;oct&quot;: System.out.println(&quot;diez&quot;); break;\r\n         }\r\n     }","title":"Why do we need break after case statements?","body":"<p>You can makes easily to separate other type of number, month, count.<br>\nThis is better then if in this case;</p>\n\n<pre><code>public static void spanishNumbers(String span){\n\n    span = span.toLowerCase().replace(\" \", \"\");\n    switch (span){\n     case \"1\":    \n     case \"jan\":  System.out.println(\"uno\"); break;    \n     case \"2\":      \n     case \"feb\":  System.out.println(\"dos\"); break;    \n     case \"3\":     \n     case \"mar\":  System.out.println(\"tres\"); break;   \n     case \"4\":   \n     case \"apr\":  System.out.println(\"cuatro\"); break;\n     case \"5\":    \n     case \"may\":  System.out.println(\"cinco\"); break;\n     case \"6\":     \n     case \"jun\":  System.out.println(\"seis\"); break;\n     case \"7\":    \n     case \"jul\":  System.out.println(\"seite\"); break;\n     case \"8\":    \n     case \"aug\":  System.out.println(\"ocho\"); break;\n     case \"9\":   \n     case \"sep\":  System.out.println(\"nueve\"); break;\n     case \"10\":    \n     case \"oct\": System.out.println(\"diez\"); break;\n     }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5728936,"reputation":54,"user_id":4525076,"display_name":"Dler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534259524,"creation_date":1493850472,"answer_id":43771011,"question_id":2710300,"body_markdown":"I am now working on project where I am in need of `break` in my switch statement otherwise the code won&#39;t work. Bear with me and I will give you a good example of why you need `break` in your switch statement. \r\n\r\nImagine you have three states, one that waits for the user to enter a number, the second to calculate it and the third to print the sum.    \r\n\r\nIn that case you have: \r\n\r\n 1. **State1** - Wait for user to enter a number\r\n 2. **State2** - Print the sum\r\n 3. **state3** - Calculate the sum\r\n\r\nLooking at the states, you would want the order of exaction to start on **state1**, then **state3** and finally **state2**. Otherwise we will only print users input without calculating the sum. Just to clarify it again, we wait for the user to enter a value, then calculate the sum and prints the sum. \r\n\r\nHere is an example code:\r\n\r\n    while(1){\r\n        switch(state){\r\n          case state1:\r\n            // Wait for user input code\r\n            state = state3; // Jump to state3\r\n            break;\r\n          case state2:\r\n            //Print the sum code\r\n            state = state3; // Jump to state3;\r\n          case state3:\r\n            // Calculate the sum code\r\n            state = wait; // Jump to state1\r\n            break;\r\n        }\r\n    }\r\n\r\nIf we don&#39;t use `break`, it will execute in this order, **state1**, **state2** and **state3**. But using `break`, we avoid this scenario, and can order in the right procedure which is to begin with state1, then state3 and last but not least state2.","title":"Why do we need break after case statements?","body":"<p>I am now working on project where I am in need of <code>break</code> in my switch statement otherwise the code won't work. Bear with me and I will give you a good example of why you need <code>break</code> in your switch statement. </p>\n\n<p>Imagine you have three states, one that waits for the user to enter a number, the second to calculate it and the third to print the sum.    </p>\n\n<p>In that case you have: </p>\n\n<ol>\n<li><strong>State1</strong> - Wait for user to enter a number</li>\n<li><strong>State2</strong> - Print the sum</li>\n<li><strong>state3</strong> - Calculate the sum</li>\n</ol>\n\n<p>Looking at the states, you would want the order of exaction to start on <strong>state1</strong>, then <strong>state3</strong> and finally <strong>state2</strong>. Otherwise we will only print users input without calculating the sum. Just to clarify it again, we wait for the user to enter a value, then calculate the sum and prints the sum. </p>\n\n<p>Here is an example code:</p>\n\n<pre><code>while(1){\n    switch(state){\n      case state1:\n        // Wait for user input code\n        state = state3; // Jump to state3\n        break;\n      case state2:\n        //Print the sum code\n        state = state3; // Jump to state3;\n      case state3:\n        // Calculate the sum code\n        state = wait; // Jump to state1\n        break;\n    }\n}\n</code></pre>\n\n<p>If we don't use <code>break</code>, it will execute in this order, <strong>state1</strong>, <strong>state2</strong> and <strong>state3</strong>. But using <code>break</code>, we avoid this scenario, and can order in the right procedure which is to begin with state1, then state3 and last but not least state2.</p>\n"},{"tags":[],"owner":{"account_id":4097768,"reputation":875,"user_id":3364064,"display_name":"V&#237;ctor Gil"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1500460780,"creation_date":1500460780,"answer_id":45188107,"question_id":2710300,"body_markdown":"As people said before, it is to allow fall-through and it is not a mistake, it is a feature. \r\nIf too many `break` statements annoy you, you can easily get rid of them by using `return` statements instead. This is actually a good practice, because your methods should be as small as possible (for the sake of readability and maintainability), so a `switch` statement is already big enough for a method, hence, a good method should not contain anything else, this is an example:\r\n    \r\n    public class SwitchTester{\r\n        private static final Log log = LogFactory.getLog(SwitchTester.class);\r\n        public static void main(String[] args){\r\n            log.info(monthsOfTheSeason(Season.WINTER));\r\n            log.info(monthsOfTheSeason(Season.SPRING));\r\n            log.info(monthsOfTheSeason(Season.SUMMER));\r\n            log.info(monthsOfTheSeason(Season.AUTUMN));\r\n        }\r\n    \r\n        enum Season{WINTER, SPRING, SUMMER, AUTUMN};\r\n    \r\n        static String monthsOfTheSeason(Season season){\r\n            switch(season){\r\n                case WINTER:\r\n                    return &quot;Dec, Jan, Feb&quot;;\r\n                case SPRING:\r\n                    return &quot;Mar, Apr, May&quot;;\r\n                case SUMMER:\r\n                    return &quot;Jun, Jul, Aug&quot;;\r\n                case AUTUMN:\r\n                    return &quot;Sep, Oct, Nov&quot;;\r\n                default:\r\n                    //actually a NullPointerException will be thrown before reaching this\r\n                    throw new IllegalArgumentException(&quot;Season must not be null&quot;);\r\n            }        \r\n        }\r\n    }   \r\n\r\nThe execution prints:\r\n\r\n    12:37:25.760 [main] INFO lang.SwitchTester - Dec, Jan, Feb\r\n    12:37:25.762 [main] INFO lang.SwitchTester - Mar, Apr, May\r\n    12:37:25.762 [main] INFO lang.SwitchTester - Jun, Jul, Aug\r\n    12:37:25.762 [main] INFO lang.SwitchTester - Sep, Oct, Nov\r\n\r\nas expected.\r\n","title":"Why do we need break after case statements?","body":"<p>As people said before, it is to allow fall-through and it is not a mistake, it is a feature. \nIf too many <code>break</code> statements annoy you, you can easily get rid of them by using <code>return</code> statements instead. This is actually a good practice, because your methods should be as small as possible (for the sake of readability and maintainability), so a <code>switch</code> statement is already big enough for a method, hence, a good method should not contain anything else, this is an example:</p>\n\n<pre><code>public class SwitchTester{\n    private static final Log log = LogFactory.getLog(SwitchTester.class);\n    public static void main(String[] args){\n        log.info(monthsOfTheSeason(Season.WINTER));\n        log.info(monthsOfTheSeason(Season.SPRING));\n        log.info(monthsOfTheSeason(Season.SUMMER));\n        log.info(monthsOfTheSeason(Season.AUTUMN));\n    }\n\n    enum Season{WINTER, SPRING, SUMMER, AUTUMN};\n\n    static String monthsOfTheSeason(Season season){\n        switch(season){\n            case WINTER:\n                return \"Dec, Jan, Feb\";\n            case SPRING:\n                return \"Mar, Apr, May\";\n            case SUMMER:\n                return \"Jun, Jul, Aug\";\n            case AUTUMN:\n                return \"Sep, Oct, Nov\";\n            default:\n                //actually a NullPointerException will be thrown before reaching this\n                throw new IllegalArgumentException(\"Season must not be null\");\n        }        \n    }\n}   \n</code></pre>\n\n<p>The execution prints:</p>\n\n<pre><code>12:37:25.760 [main] INFO lang.SwitchTester - Dec, Jan, Feb\n12:37:25.762 [main] INFO lang.SwitchTester - Mar, Apr, May\n12:37:25.762 [main] INFO lang.SwitchTester - Jun, Jul, Aug\n12:37:25.762 [main] INFO lang.SwitchTester - Sep, Oct, Nov\n</code></pre>\n\n<p>as expected.</p>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1669621038,"creation_date":1536434044,"answer_id":52238570,"question_id":2710300,"body_markdown":"The `break` after switch `case`s is used to avoid the fallthrough in the switch statements. Though interestingly this now can be achieved through the newly formed switch labels as implemented via [JEP-325](http://openjdk.java.net/jeps/325). \r\n\r\nWith these changes, the `break` with every  switch `case` can be avoided as demonstrated further :-\r\n\r\n    public class SwitchExpressionsNoFallThrough {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            int value = scanner.nextInt();\r\n            /*\r\n             * Before JEP-325\r\n             */\r\n            switch (value) {\r\n                case 1:\r\n                    System.out.println(&quot;one&quot;);\r\n                case 2:\r\n                    System.out.println(&quot;two&quot;);\r\n                default:\r\n                    System.out.println(&quot;many&quot;);\r\n            }\r\n    \r\n            /*\r\n             * After JEP-325\r\n             */\r\n            switch (value) {\r\n                case 1 -&gt;System.out.println(&quot;one&quot;);\r\n                case 2 -&gt;System.out.println(&quot;two&quot;);\r\n                default -&gt;System.out.println(&quot;many&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nOn [executing the above code with JDK-12](https://stackoverflow.com/questions/52232681/compile-a-jdk12-preview-feature-with-maven), the *comparative output* could be seen as \r\n\r\n    //input\r\n    1\r\n    // output from the implementation before JEP-325\r\n    one\r\n    two\r\n    many\r\n    // output from the implementation after JEP-325\r\n    one\r\n\r\nand \r\n\r\n    //input\r\n    2\r\n    // output from the implementation before JEP-325\r\n    two\r\n    many\r\n    // output from the implementation after JEP-325\r\n    two\r\n\r\nand of course the thing unchanged\r\n\r\n    // input\r\n    3\r\n    many // default case match\r\n    many // branches to &#39;default&#39; as well\r\n\r\n","title":"Why do we need break after case statements?","body":"<p>The <code>break</code> after switch <code>case</code>s is used to avoid the fallthrough in the switch statements. Though interestingly this now can be achieved through the newly formed switch labels as implemented via <a href=\"http://openjdk.java.net/jeps/325\" rel=\"nofollow noreferrer\">JEP-325</a>.</p>\n<p>With these changes, the <code>break</code> with every  switch <code>case</code> can be avoided as demonstrated further :-</p>\n<pre><code>public class SwitchExpressionsNoFallThrough {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int value = scanner.nextInt();\n        /*\n         * Before JEP-325\n         */\n        switch (value) {\n            case 1:\n                System.out.println(&quot;one&quot;);\n            case 2:\n                System.out.println(&quot;two&quot;);\n            default:\n                System.out.println(&quot;many&quot;);\n        }\n\n        /*\n         * After JEP-325\n         */\n        switch (value) {\n            case 1 -&gt;System.out.println(&quot;one&quot;);\n            case 2 -&gt;System.out.println(&quot;two&quot;);\n            default -&gt;System.out.println(&quot;many&quot;);\n        }\n    }\n}\n</code></pre>\n<p>On <a href=\"https://stackoverflow.com/questions/52232681/compile-a-jdk12-preview-feature-with-maven\">executing the above code with JDK-12</a>, the <em>comparative output</em> could be seen as</p>\n<pre><code>//input\n1\n// output from the implementation before JEP-325\none\ntwo\nmany\n// output from the implementation after JEP-325\none\n</code></pre>\n<p>and</p>\n<pre><code>//input\n2\n// output from the implementation before JEP-325\ntwo\nmany\n// output from the implementation after JEP-325\ntwo\n</code></pre>\n<p>and of course the thing unchanged</p>\n<pre><code>// input\n3\nmany // default case match\nmany // branches to 'default' as well\n</code></pre>\n"}],"owner":{"account_id":30252,"reputation":52431,"user_id":82368,"accept_rate":71,"display_name":"unj2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81634,"favorite_count":0,"down_vote_count":0,"up_vote_count":105,"accepted_answer_id":2710312,"answer_count":16,"score":105,"last_activity_date":1669621038,"creation_date":1272236295,"question_id":2710300,"body_markdown":"Why doesn&#39;t the compiler automatically put break statements after each code block in the switch? Is it for historical reasons? When would you want multiple code blocks to execute?","title":"Why do we need break after case statements?","body":"<p>Why doesn't the compiler automatically put break statements after each code block in the switch? Is it for historical reasons? When would you want multiple code blocks to execute?</p>\n"},{"tags":["java","spring-boot","spring-aop","spring-restcontroller","java-annotations"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1669619878,"post_id":74597000,"comment_id":131674548,"body_markdown":"You have to add SPEL processing to you annotation to evaluate that expression. You should not expect Spring to handle everything for you magicaly out of the box.","body":"You have to add SPEL processing to you annotation to evaluate that expression. You should not expect Spring to handle everything for you magicaly out of the box."}],"answers":[{"tags":[],"owner":{"account_id":25076889,"reputation":13,"user_id":18930205,"display_name":"Saurabh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669620722,"creation_date":1669619700,"answer_id":74597170,"question_id":74597000,"body_markdown":"Please refer below link for details. you are just few steps away. \r\n&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/39825525/using-properties-files-in-spring-boot-tests#:~:text=You%20can%20use%20%40TestPropertySource%20annotation%20in%20your%20test%20class.&amp;text=Just%20annotate%20%40TestPropertySource(%22classpath,example%20with%20the%20%40Value%20annotation.&quot;&gt;Use property file in Spring Test&lt;/a&gt;&lt;/p&gt;","title":"Annotation value not reading from springboot properties.file","body":"<p>Please refer below link for details. you are just few steps away.</p>\n<p><a href=\"https://stackoverflow.com/questions/39825525/using-properties-files-in-spring-boot-tests#:~:text=You%20can%20use%20%40TestPropertySource%20annotation%20in%20your%20test%20class.&text=Just%20annotate%20%40TestPropertySource(%22classpath,example%20with%20the%20%40Value%20annotation.\">Use property file in Spring Test</a></p>\n"},{"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1669623714,"post_id":74597231,"comment_id":131675633,"body_markdown":"This is a nice workaround. However, I also want to explain why the OP&#39;s naive approach does not work: **Java annotation values have to be constants** which are evaluated at compile time. Therefore, if such a constant  contains an expression which is to be parsed and evaluated dynamically, the JVM knows nothing about it, which explains why either you as a developer or the framework you use (Spring or whatever) need to take care of it.","body":"This is a nice workaround. However, I also want to explain why the OP&#39;s naive approach does not work: <b>Java annotation values have to be constants</b> which are evaluated at compile time. Therefore, if such a constant  contains an expression which is to be parsed and evaluated dynamically, the JVM knows nothing about it, which explains why either you as a developer or the framework you use (Spring or whatever) need to take care of it."}],"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669620077,"creation_date":1669620077,"answer_id":74597231,"question_id":74597000,"body_markdown":"You have to add SPEL processing to you annotation to evaluate that expression. You should not expect Spring to handle everything for you magicaly out of the box. \r\n\r\n    public void doAccessCheck(JoinPoint call) {\r\n        ///(....)\r\n        PreHook preHook = method.getAnnotation(PreHook.class);\r\n    \r\n        ExpressionParser parser = new SpelExpressionParser();\r\n        Expression exp = parser.parseExpression(preHook.eventType());\r\n        String parsedType= (String) exp.getValue();\r\n        System.out.println(&quot;PreHook Value|&quot; + parsedType);\r\n    \r\n    }","title":"Annotation value not reading from springboot properties.file","body":"<p>You have to add SPEL processing to you annotation to evaluate that expression. You should not expect Spring to handle everything for you magicaly out of the box.</p>\n<pre><code>public void doAccessCheck(JoinPoint call) {\n    ///(....)\n    PreHook preHook = method.getAnnotation(PreHook.class);\n\n    ExpressionParser parser = new SpelExpressionParser();\n    Expression exp = parser.parseExpression(preHook.eventType());\n    String parsedType= (String) exp.getValue();\n    System.out.println(&quot;PreHook Value|&quot; + parsedType);\n\n}\n</code></pre>\n"}],"owner":{"account_id":27069774,"reputation":1,"user_id":20620570,"display_name":"Hello World"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669620722,"creation_date":1669618617,"question_id":74597000,"body_markdown":"Created Custom annotation and add annotation at method level and pass value to Spring-Aspect.\r\n\r\nspringboot: application.properties spring.event.type=TEST\r\n\r\nOutput: PreHook Value|${spring.event.type}\r\n\r\nI am expecting : TEST\r\n\r\nCan someone please help how to populate value from properties file and inject to annotation.\r\n\r\n```\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\npublic @interface PreHook {\r\nString eventType();\r\n}\r\n\r\n@Aspect\r\n@Component\r\npublic class ValidationAOP {\r\n\r\n@Before(&quot;@annotation(com.example.demo.annotation.PreHook)&quot;)\r\npublic void doAccessCheck(JoinPoint call) {\r\n\tSystem.out.println(&quot;ValidationAOP.doAccessCheck&quot;);\r\n\r\n\tMethodSignature signature = (MethodSignature) call.getSignature();\r\n\tMethod method = signature.getMethod();\r\n\r\n\tPreHook preHook = method.getAnnotation(PreHook.class);\r\n\tSystem.out.println(&quot;PreHook Value|&quot; + preHook.eventType());\r\n}\r\n}`\r\n\r\n@RestController\r\npublic class AddController {\r\n\r\n@GetMapping(&quot;/&quot;)\r\n@PreHook(eventType = &quot;${spring.event.type}&quot;)\r\npublic String test() {\r\n\tSystem.out.println(&quot;Testcontroller&quot;);\r\n\treturn &quot;Welcome Home&quot;;\r\n}\r\n}\r\n```","title":"Annotation value not reading from springboot properties.file","body":"<p>Created Custom annotation and add annotation at method level and pass value to Spring-Aspect.</p>\n<p>springboot: application.properties spring.event.type=TEST</p>\n<p>Output: PreHook Value|${spring.event.type}</p>\n<p>I am expecting : TEST</p>\n<p>Can someone please help how to populate value from properties file and inject to annotation.</p>\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface PreHook {\nString eventType();\n}\n\n@Aspect\n@Component\npublic class ValidationAOP {\n\n@Before(&quot;@annotation(com.example.demo.annotation.PreHook)&quot;)\npublic void doAccessCheck(JoinPoint call) {\n    System.out.println(&quot;ValidationAOP.doAccessCheck&quot;);\n\n    MethodSignature signature = (MethodSignature) call.getSignature();\n    Method method = signature.getMethod();\n\n    PreHook preHook = method.getAnnotation(PreHook.class);\n    System.out.println(&quot;PreHook Value|&quot; + preHook.eventType());\n}\n}`\n\n@RestController\npublic class AddController {\n\n@GetMapping(&quot;/&quot;)\n@PreHook(eventType = &quot;${spring.event.type}&quot;)\npublic String test() {\n    System.out.println(&quot;Testcontroller&quot;);\n    return &quot;Welcome Home&quot;;\n}\n}\n</code></pre>\n"},{"tags":["java","jsp"],"answers":[{"comments":[{"owner":{"account_id":25616684,"reputation":1,"user_id":19389184,"display_name":"Ng Leng Poh"},"score":0,"creation_date":1669619359,"post_id":74596967,"comment_id":131674411,"body_markdown":"it is still unchecked. The value of true/false is taken from a JSON file fyi","body":"it is still unchecked. The value of true/false is taken from a JSON file fyi"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1669619489,"post_id":74596967,"comment_id":131674443,"body_markdown":"So, it‘s probably a String of value „true“? Or is it really a boolean true?","body":"So, it‘s probably a String of value „true“? Or is it really a boolean true?"},{"owner":{"account_id":25616684,"reputation":1,"user_id":19389184,"display_name":"Ng Leng Poh"},"score":0,"creation_date":1669619614,"post_id":74596967,"comment_id":131674470,"body_markdown":"It is a boolean true","body":"It is a boolean true"},{"owner":{"account_id":25616684,"reputation":1,"user_id":19389184,"display_name":"Ng Leng Poh"},"score":0,"creation_date":1669619640,"post_id":74596967,"comment_id":131674479,"body_markdown":"Even when I tick the checkbox, it returns a value &quot;false&quot;","body":"Even when I tick the checkbox, it returns a value &quot;false&quot;"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1669715552,"post_id":74596967,"comment_id":131700236,"body_markdown":"Please don&#39;t post only code as answer, but also provide an explanation what your code does and how it solves the problem of the question. Answers with an explanation are usually more helpful and of better quality, and are more likely to attract upvotes.","body":"Please don&#39;t post only code as answer, but also provide an explanation what your code does and how it solves the problem of the question. Answers with an explanation are usually more helpful and of better quality, and are more likely to attract upvotes."}],"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669618320,"creation_date":1669618320,"answer_id":74596967,"question_id":74596907,"body_markdown":"Try\r\n\r\n    value=&quot;${requestScope.data?&#39;checked&#39;:&#39;&#39;}&quot;","title":"How to set checkbox checked when its value is true","body":"<p>Try</p>\n<pre><code>value=&quot;${requestScope.data?'checked':''}&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":25616684,"reputation":1,"user_id":19389184,"display_name":"Ng Leng Poh"},"score":0,"creation_date":1669623064,"post_id":74597302,"comment_id":131675447,"body_markdown":"Sorry but how does this work? where do i insert this","body":"Sorry but how does this work? where do i insert this"},{"owner":{"account_id":19396151,"reputation":1,"user_id":14183807,"display_name":"vinith vasudevan"},"score":0,"creation_date":1669628286,"post_id":74597302,"comment_id":131677024,"body_markdown":"&lt;input type=&quot;checkbox&quot; name=&quot;s1syslog_enabled&quot; id=&quot;s1syslog_enabled&quot; checked = &quot;checked&quot; value=&quot;${requestScope.data}&quot;&gt;","body":"&lt;input type=&quot;checkbox&quot; name=&quot;s1syslog_enabled&quot; id=&quot;s1syslog_enabled&quot; checked = &quot;checked&quot; value=&quot;${requestScope.data}&quot;&gt;"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669827323,"post_id":74597302,"comment_id":131733261,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74597302/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":19396151,"reputation":1,"user_id":14183807,"display_name":"vinith vasudevan"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669620598,"creation_date":1669620598,"answer_id":74597302,"question_id":74596907,"body_markdown":"use checked = &quot;checked&quot; based on your condition","title":"How to set checkbox checked when its value is true","body":"<p>use checked = &quot;checked&quot; based on your condition</p>\n"}],"owner":{"account_id":25616684,"reputation":1,"user_id":19389184,"display_name":"Ng Leng Poh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669620598,"creation_date":1669617879,"question_id":74596907,"body_markdown":"   The problem I&#39;m now encourting is that my checkbox isnt being checked when my value returns a value &quot;true&quot;.\r\nMay I know how I am able to set the checkbox is checked if its true and unchecked if its false.\r\n\r\n     &lt;input type=&quot;checkbox&quot; name=&quot;s1syslog_enabled&quot; id=&quot;s1syslog_enabled&quot; value=&quot;${requestScope.data}&quot;&gt;\r\n","title":"How to set checkbox checked when its value is true","body":"<p>The problem I'm now encourting is that my checkbox isnt being checked when my value returns a value &quot;true&quot;.\nMay I know how I am able to set the checkbox is checked if its true and unchecked if its false.</p>\n<pre><code> &lt;input type=&quot;checkbox&quot; name=&quot;s1syslog_enabled&quot; id=&quot;s1syslog_enabled&quot; value=&quot;${requestScope.data}&quot;&gt;\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9372,"page":851,"page_size":100}
